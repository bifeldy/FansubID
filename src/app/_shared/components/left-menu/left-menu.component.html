<!-- Left Side Menu -->
<div class="sidenav_container" [@onSideNavChange]="sideNavExpanded ? 'open' : 'close'"
  (mouseenter)="onMouseHoverIn()" (mouseleave)="onMouseHoverOut()" [ngStyle]="{
    'overflow-y': sideNavExpanded ? 'auto' : 'hidden'
  }">

  <div fxLayout="column">
    <div *ngIf="currentUser; then sudahLogin; else belumLogin;"></div>
    <ng-template #sudahLogin>
      <mat-nav-list>
        <a mat-list-item routerLink="/user" routerLinkActive="side-menu-link-active" (click)="onMouseHoverOut()">
          <img class="jim" src="{{ currentUser.image_url }}" />
          <span [@animateText]="linkText ? 'show' : 'hide'" style="padding-left: 1.2em; padding-right: 0.2em;" class="text-truncate">
            {{ currentUser.kartu_tanda_penduduk_.nama }} <br /> {{ currentUser.email }}
          </span>
        </a>
      </mat-nav-list>
      <mat-nav-list>
        <a mat-list-item (click)="logout()">
          <mat-icon style="padding-left: 0.2em;">power_settings_new</mat-icon>
          <span [@animateText]="linkText ? 'show' : 'hide'" style="padding-left: 1.75em; padding-right: 0.2em;">Keluar</span>
        </a>
      </mat-nav-list>
    </ng-template>
    <ng-template #belumLogin>
      <mat-nav-list>
        <a mat-list-item routerLink="/login" (click)="onMouseHoverOut()" routerLinkActive="side-menu-link-active">
          <mat-icon style="padding-left: 0.2em;">login</mat-icon>
          <span [@animateText]="linkText ? 'show' : 'hide'" style="padding-left: 1.75em; padding-right: 0.2em;">Masuk</span>
        </a>
      </mat-nav-list>
      <mat-nav-list>
        <a mat-list-item routerLink="/register" (click)="onMouseHoverOut()" routerLinkActive="side-menu-link-active">
          <mat-icon style="padding-left: 0.2em;">group_add</mat-icon>
          <span [@animateText]="linkText ? 'show' : 'hide'" style="padding-left: 1.75em; padding-right: 0.2em;">Daftar</span>
        </a>
      </mat-nav-list>
    </ng-template>

    <mat-divider style="margin-top: 8px;"></mat-divider>

    <mat-nav-list>
      <a mat-list-item routerLink="{{ menu.link }}" *ngFor="let menu of mainMenus" routerLinkActive="side-menu-link-active"
        (click)="onMouseHoverOut()">
        <mat-icon style="padding-left: 0.2em;" [matBadge]="menu.badge" matBadgeColor="warn" matBadgePosition="before">{{ menu.icon }}</mat-icon>
        <span [@animateText]="linkText ? 'show' : 'hide'" style="padding-left: 1.75em; padding-right: 0.2em;">{{ menu.name }}</span>
      </a>
    </mat-nav-list>

    <mat-divider style="margin-top: 8px;"></mat-divider>

    <mat-nav-list>
      <a mat-list-item routerLink="{{ menu.link }}" *ngFor="let menu of contentMenus" routerLinkActive="side-menu-link-active" (click)="onMouseHoverOut()">
        <mat-icon style="padding-left: 0.2em;" [matBadge]="menu.badge" matBadgeColor="warn" matBadgePosition="before">{{ menu.icon }}</mat-icon>
        <span [@animateText]="linkText ? 'show' : 'hide'" style="padding-left: 1.75em; padding-right: 0.2em;">{{ menu.name }}</span>
      </a>
    </mat-nav-list>

    <mat-divider style="margin-top: 8px;"></mat-divider>

    <mat-nav-list>
      <a mat-list-item routerLinkActive="side-menu-link-active" (click)="openWebTorrent()">
        <mat-icon style="padding-left: 0.2em;">sailing</mat-icon>
        <span [@animateText]="linkText ? 'show' : 'hide'" style="padding-left: 1.75em; padding-right: 0.2em;">Web Torrent</span>
      </a>
      <a mat-list-item routerLink="{{ menu.link }}" *ngFor="let menu of miscMenus" routerLinkActive="side-menu-link-active" (click)="onMouseHoverOut()">
        <mat-icon style="padding-left: 0.2em;" [matBadge]="menu.badge" matBadgeColor="warn" matBadgePosition="before">{{ menu.icon }}</mat-icon>
        <span [@animateText]="linkText ? 'show' : 'hide'" style="padding-left: 1.75em; padding-right: 0.2em;">{{ menu.name }}</span>
      </a>
    </mat-nav-list>

    <mat-divider style="margin-top: 8px;"></mat-divider>

    <mat-nav-list>
      <a mat-list-item routerLinkActive="side-menu-link-active" (click)="openDocumentation()">
        <mat-icon style="padding-left: 0.2em;">settings_ethernet</mat-icon>
        <span [@animateText]="linkText ? 'show' : 'hide'" style="padding-left: 1.75em; padding-right: 0.2em;">
          Dev. Log
          <span style="right: 1em !important; position: absolute;">
            <mat-slide-toggle [(ngModel)]="GS.forceEnableDebugLog" (click)="$event.stopPropagation()" (change)="toggleDebugLog($event)"></mat-slide-toggle>
          </span>
        </span>
      </a>
    </mat-nav-list>

    <div style="margin-top: 8px;"></div>

  </div>

</div>
