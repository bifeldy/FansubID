<!-- Header -->
<app-header></app-header>

<!-- HTTP Progress -->
<ng-progress [color]="'#ff4081'" [fixed]="false" [meteor]="false" [thick]="true"></ng-progress>

<!-- Side Menu Drawer & Content -->
<mat-sidenav-container class="sidenav-container" [hasBackdrop]="lms.sideNavExpanded || rightSidePanel.isOpen">

  <!-- Left Side Menu -->
  <mat-sidenav #leftSideNav disableClose [mode]="'side'" [opened]="lms.opened" [ngStyle]="{
    'background-image': 'url(' + gs.leftMenuImage + ')'
  }" style="background-position: bottom center; background-size: 128px; background-repeat: no-repeat;">
    <app-left-menu></app-left-menu>
  </mat-sidenav>

  <!-- Right Side Menu -->
  <mat-sidenav #rightSidePanel [mode]="'over'" [opened]="false" position="end" class="bg-bifeldy-dark" (closedStart)="rps.onClose()" [ngStyle]="{
    'background-image': 'url(' + gs.rightMenuImage + ')'
  }" style="background-position: bottom center; background-size: 128px; background-repeat: no-repeat;">
    <app-right-panel></app-right-panel>
  </mat-sidenav>

  <!-- Main Content -->
  <mat-sidenav-content #siteContent [style.background-repeat]="'no-repeat'"
    [style.background-size]="'128px' + (router.url == '/login' || router.url == '/register' || router.url == '/about' || router.url == '/verify' ? ', cover' : '')"
    [style.background-position]="'bottom right' + (router.url == '/login' || router.url == '/register' || router.url == '/about' || router.url == '/verify' ? ', center' : '')"
    [style.background-image]="'url(' + gs.bgImgUrl + ')' + (router.url == '/login' || router.url == '/register' || router.url == '/about' || router.url == '/verify' ? ', url(/assets/img/bg-paint.svg)' : '')">

    <!-- Routing Content -->
    <div class="main_content" (window:resize)="gs.onResize($event)">

      <!-- Data Content -->
      <router-outlet></router-outlet>

    </div>

    <app-material-fab></app-material-fab>

  </mat-sidenav-content>

</mat-sidenav-container>

<!-- Footer -->
<app-footer></app-footer>

<!-- Loading Animation -->
<ngx-spinner [bdColor]="'#0000007f'" [type]="'square-jelly-box'" [size]="'medium'" [color]="'#e84360'">
  <p class="text-white text-center">
    Sedang Memuat Data ^_^ <br /> Mohon Menunggu ... <br />
    <span class="text-warning" (click)="resetLoading()">
      <u style="cursor: pointer;">Batalkan</u>
    </span>
  </p>
</ngx-spinner>