(function(Gt){var je,Pe,H="hasOwnProperty",At=/[\.\/]/,kt=function(){},Q=function(te,pe){return te-pe},y={n:{}},he=function(te,pe){te=String(te);var f,ne=Pe,le=Array.prototype.slice.call(arguments,2),d=he.listeners(te),N=0,b=[],m={},_=[],n=je;je=te,Pe=0;for(var h=0,s=d.length;h<s;h++)"zIndex"in d[h]&&(b.push(d[h].zIndex),d[h].zIndex<0&&(m[d[h].zIndex]=d[h]));for(b.sort(Q);b[N]<0;)if(f=m[b[N++]],_.push(f.apply(pe,le)),Pe)return Pe=ne,_;for(h=0;h<s;h++)if("zIndex"in(f=d[h]))if(f.zIndex==b[N]){if(_.push(f.apply(pe,le)),Pe)break;do{if((f=m[b[++N]])&&_.push(f.apply(pe,le)),Pe)break}while(f)}else m[f.zIndex]=f;else if(_.push(f.apply(pe,le)),Pe)break;return Pe=ne,je=n,_.length?_:null};he._events=y,he.listeners=function(te){var ne,le,d,N,A,f,b,m,pe=te.split(At),_e=y,_=[_e],n=[];for(N=0,A=pe.length;N<A;N++){for(m=[],f=0,b=_.length;f<b;f++)for(le=[(_e=_[f].n)[pe[N]],_e["*"]],d=2;d--;)(ne=le[d])&&(m.push(ne),n=n.concat(ne.f||[]));_=m}return n},he.on=function(te,pe){if(te=String(te),"function"!=typeof pe)return function(){};for(var _e=te.split(At),ne=y,le=0,d=_e.length;le<d;le++)ne=(ne=ne.n).hasOwnProperty(_e[le])&&ne[_e[le]]||(ne[_e[le]]={n:{}});for(ne.f=ne.f||[],le=0,d=ne.f.length;le<d;le++)if(ne.f[le]==pe)return kt;return ne.f.push(pe),function(N){+N==+N&&(pe.zIndex=+N)}},he.f=function(te){var pe=[].slice.call(arguments,1);return function(){he.apply(null,[te,null].concat(pe).concat([].slice.call(arguments,0)))}},he.stop=function(){Pe=1},he.nt=function(te){return te?new RegExp("(?:\\.|\\/|^)"+te+"(?:\\.|\\/|$)").test(je):je},he.nts=function(){return je.split(At)},he.off=he.unbind=function(te,pe){if(te){var ne,le,d,N,A,f,b,_e=te.split(At),m=[y];for(N=0,A=_e.length;N<A;N++)for(f=0;f<m.length;f+=d.length-2){if(d=[f,1],ne=m[f].n,"*"!=_e[N])ne[_e[N]]&&d.push(ne[_e[N]]);else for(le in ne)ne[H](le)&&d.push(ne[le]);m.splice.apply(m,d)}for(N=0,A=m.length;N<A;N++)for(ne=m[N];ne.n;){if(pe){if(ne.f){for(f=0,b=ne.f.length;f<b;f++)if(ne.f[f]==pe){ne.f.splice(f,1);break}!ne.f.length&&delete ne.f}for(le in ne.n)if(ne.n[H](le)&&ne.n[le].f){var _=ne.n[le].f;for(f=0,b=_.length;f<b;f++)if(_[f]==pe){_.splice(f,1);break}!_.length&&delete ne.n[le].f}}else for(le in delete ne.f,ne.n)ne.n[H](le)&&ne.n[le].f&&delete ne.n[le].f;ne=ne.n}}else he._events=y={n:{}}},he.once=function(te,pe){var _e=function(){return he.unbind(te,_e),pe.apply(this,arguments)};return he.on(te,_e)},he.version="0.4.2",he.toString=function(){return"You are running Eve 0.4.2"},typeof module<"u"&&module.exports?module.exports=he:typeof define<"u"?define("eve",[],function(){return he}):Gt.eve=he})(this),function(Gt,gn){"function"==typeof define&&define.amd?define(["eve"],function(H){return gn(Gt,H)}):gn(Gt,Gt.eve)}(this,function(Gt,gn){function H(P){if(H.is(P,"function"))return At?P():gn.on("raphael.DOMload",P);if(H.is(P,c))return H._engine.create[ne](H,P.splice(0,3+H.is(P[0],r))).add(P);var Z=Array.prototype.slice.call(arguments,0);if(H.is(Z[Z.length-1],"function")){var ie=Z.pop();return At?ie.call(H._engine.create[ne](H,Z)):gn.on("raphael.DOMload",function(){ie.call(H._engine.create[ne](H,Z))})}return H._engine.create[ne](H,arguments)}H.version="2.1.0",H.eve=gn;var At,pe,P,Z,xt=/[, ]+/,kt={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},Q=/\{(\d+)\}/g,Pe="hasOwnProperty",y={doc:document,win:Gt},he={was:Object.prototype[Pe].call(y.win,"Raphael"),is:y.win.Raphael},te=function(){this.ca=this.customAttributes={}},ne="apply",le="concat",d="ontouchstart"in y.win||y.win.DocumentTouch&&y.doc instanceof DocumentTouch,N="",A=" ",f=String,b="split",m="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[b](A),_={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},n=f.prototype.toLowerCase,g=Math,h=g.max,s=g.min,u=g.abs,o=g.pow,t=g.PI,r="number",a="string",c="array",E=Object.prototype.toString,I=(H._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),V={NaN:1,Infinity:1,"-Infinity":1},$=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,oe=g.round,Ae=parseFloat,X=parseInt,T=f.prototype.toUpperCase,D=H._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},M=H._availableAnimAttrs={blur:r,"clip-rect":"csv",cx:r,cy:r,fill:"colour","fill-opacity":r,"font-size":r,height:r,opacity:r,path:"path",r,rx:r,ry:r,stroke:"colour","stroke-opacity":r,"stroke-width":r,transform:"transform",width:r,x:r,y:r},B=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,F={hs:1,rg:1},q=/,?([achlmqrstvxz]),?/gi,L=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Y=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,se=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,Se=(H._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),Qe=function(P,Z){return Ae(P)-Ae(Z)},ut=function(P){return P},$t=H._rectPath=function(P,Z,ie,fe,ye){return ye?[["M",P+ye,Z],["l",ie-2*ye,0],["a",ye,ye,0,0,1,ye,ye],["l",0,fe-2*ye],["a",ye,ye,0,0,1,-ye,ye],["l",2*ye-ie,0],["a",ye,ye,0,0,1,-ye,-ye],["l",0,2*ye-fe],["a",ye,ye,0,0,1,ye,-ye],["z"]]:[["M",P,Z],["l",ie,0],["l",0,fe],["l",-ie,0],["z"]]},qt=function(P,Z,ie,fe){return null==fe&&(fe=ie),[["M",P,Z],["m",0,-fe],["a",ie,fe,0,1,1,0,2*fe],["a",ie,fe,0,1,1,0,-2*fe],["z"]]},tt=H._getPath={path:function(P){return P.attr("path")},circle:function(P){var Z=P.attrs;return qt(Z.cx,Z.cy,Z.r)},ellipse:function(P){var Z=P.attrs;return qt(Z.cx,Z.cy,Z.rx,Z.ry)},rect:function(P){var Z=P.attrs;return $t(Z.x,Z.y,Z.width,Z.height,Z.r)},image:function(P){var Z=P.attrs;return $t(Z.x,Z.y,Z.width,Z.height)},text:function(P){var Z=P._getBBox();return $t(Z.x,Z.y,Z.width,Z.height)},set:function(P){var Z=P._getBBox();return $t(Z.x,Z.y,Z.width,Z.height)}},at=H.mapPath=function(P,Z){if(!Z)return P;var ie,fe,ye,Me,Ce,Ue,Ge;for(ye=0,Ce=(P=vn(P)).length;ye<Ce;ye++)for(Me=1,Ue=(Ge=P[ye]).length;Me<Ue;Me+=2)ie=Z.x(Ge[Me],Ge[Me+1]),fe=Z.y(Ge[Me],Ge[Me+1]),Ge[Me]=ie,Ge[Me+1]=fe;return P};if(H._g=y,"VML"==(H.type=y.win.SVGAngle||y.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML")){var Yt,nt=y.doc.createElement("div");if(nt.innerHTML='<v:shape adj="1"/>',(Yt=nt.firstChild).style.behavior="url(#default#VML)",!Yt||"object"!=typeof Yt.adj)return H.type=N;nt=null}function Tn(P){if("function"==typeof P||Object(P)!==P)return P;var Z=new P.constructor;for(var ie in P)P[Pe](ie)&&(Z[ie]=Tn(P[ie]));return Z}H.svg=!(H.vml="VML"==H.type),H._Paper=te,H.fn=pe=te.prototype=H.prototype,H._id=0,H._oid=0,H.is=function(P,Z){return"finite"==(Z=n.call(Z))?!V[Pe](+P):"array"==Z?P instanceof Array:"null"==Z&&null===P||Z==typeof P&&null!==P||"object"==Z&&P===Object(P)||"array"==Z&&Array.isArray&&Array.isArray(P)||E.call(P).slice(8,-1).toLowerCase()==Z},H.angle=function(P,Z,ie,fe,ye,Me){if(null==ye){var Ce=P-ie,Ue=Z-fe;return Ce||Ue?(180+180*g.atan2(-Ue,-Ce)/t+360)%360:0}return H.angle(P,Z,ye,Me)-H.angle(ie,fe,ye,Me)},H.rad=function(P){return P%360*t/180},H.deg=function(P){return 180*P/t%360},H.snapTo=function(P,Z,ie){if(ie=H.is(ie,"finite")?ie:10,H.is(P,c)){for(var fe=P.length;fe--;)if(u(P[fe]-Z)<=ie)return P[fe]}else{var ye=Z%(P=+P);if(ye<ie)return Z-ye;if(ye>P-ie)return Z-ye+P}return Z},H.createUUID=(P=/[xy]/g,Z=function(P){var Z=16*g.random()|0;return("x"==P?Z:3&Z|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(P,Z).toUpperCase()}),H.setWindow=function(P){gn("raphael.setWindow",H,y.win,P),y.win=P,y.doc=y.win.document,H._engine.initWin&&H._engine.initWin(y.win)};var O=function(P){if(H.vml){var ie,Z=/^\s+|\s+$/g;try{var fe=new ActiveXObject("htmlfile");fe.write("<body>"),fe.close(),ie=fe.body}catch{ie=createPopup().document.body}var ye=ie.createTextRange();O=Jt(function(Ce){try{ie.style.color=f(Ce).replace(Z,N);var Ue=ye.queryCommandValue("ForeColor");return"#"+("000000"+(Ue=(255&Ue)<<16|65280&Ue|(16711680&Ue)>>>16).toString(16)).slice(-6)}catch{return"none"}})}else{var Me=y.doc.createElement("i");Me.title="Rapha\xebl Colour Picker",Me.style.display="none",y.doc.body.appendChild(Me),O=Jt(function(Ce){return Me.style.color=Ce,y.doc.defaultView.getComputedStyle(Me,N).getPropertyValue("color")})}return O(P)},W=function(){return"hsb("+[this.h,this.s,this.b]+")"},ee=function(){return"hsl("+[this.h,this.s,this.l]+")"},ve=function(){return this.hex},He=function(P,Z,ie){if(null==Z&&H.is(P,"object")&&"r"in P&&"g"in P&&"b"in P&&(ie=P.b,Z=P.g,P=P.r),null==Z&&H.is(P,a)){var fe=H.getRGB(P);P=fe.r,Z=fe.g,ie=fe.b}return(P>1||Z>1||ie>1)&&(P/=255,Z/=255,ie/=255),[P,Z,ie]},ht=function(P,Z,ie,fe){var ye={r:P*=255,g:Z*=255,b:ie*=255,hex:H.rgb(P,Z,ie),toString:ve};return H.is(fe,"finite")&&(ye.opacity=fe),ye};function Jt(P,Z,ie){return function fe(){var ye=Array.prototype.slice.call(arguments,0),Me=ye.join("\u2400"),Ce=fe.cache=fe.cache||{},Ue=fe.count=fe.count||[];return Ce[Pe](Me)?(function st(P,Z){for(var ie=0,fe=P.length;ie<fe;ie++)if(P[ie]===Z)return P.push(P.splice(ie,1)[0])}(Ue,Me),ie?ie(Ce[Me]):Ce[Me]):(Ue.length>=1e3&&delete Ce[Ue.shift()],Ue.push(Me),Ce[Me]=P[ne](Z,ye),ie?ie(Ce[Me]):Ce[Me])}}function Ht(){return this.hex}function wn(P,Z){for(var ie=[],fe=0,ye=P.length;ye-2*!Z>fe;fe+=2){var Me=[{x:+P[fe-2],y:+P[fe-1]},{x:+P[fe],y:+P[fe+1]},{x:+P[fe+2],y:+P[fe+3]},{x:+P[fe+4],y:+P[fe+5]}];Z?fe?ye-4==fe?Me[3]={x:+P[0],y:+P[1]}:ye-2==fe&&(Me[2]={x:+P[0],y:+P[1]},Me[3]={x:+P[2],y:+P[3]}):Me[0]={x:+P[ye-2],y:+P[ye-1]}:ye-4==fe?Me[3]=Me[2]:fe||(Me[0]={x:+P[fe],y:+P[fe+1]}),ie.push(["C",(6*Me[1].x-Me[0].x+Me[2].x)/6,(6*Me[1].y-Me[0].y+Me[2].y)/6,(Me[1].x+6*Me[2].x-Me[3].x)/6,(Me[1].y+6*Me[2].y-Me[3].y)/6,Me[2].x,Me[2].y])}return ie}H.color=function(P){var Z;return H.is(P,"object")&&"h"in P&&"s"in P&&"b"in P?(Z=H.hsb2rgb(P),P.r=Z.r,P.g=Z.g,P.b=Z.b,P.hex=Z.hex):H.is(P,"object")&&"h"in P&&"s"in P&&"l"in P?(Z=H.hsl2rgb(P),P.r=Z.r,P.g=Z.g,P.b=Z.b,P.hex=Z.hex):(H.is(P,"string")&&(P=H.getRGB(P)),H.is(P,"object")&&"r"in P&&"g"in P&&"b"in P?(Z=H.rgb2hsl(P),P.h=Z.h,P.s=Z.s,P.l=Z.l,Z=H.rgb2hsb(P),P.v=Z.b):(P={hex:"none"}).r=P.g=P.b=P.h=P.s=P.v=P.l=-1),P.toString=ve,P},H.hsb2rgb=function(P,Z,ie,fe){var ye,Me,Ce,Ue,Ge;return this.is(P,"object")&&"h"in P&&"s"in P&&"b"in P&&(ie=P.b,Z=P.s,fe=(P=P.h).o),Ue=(Ge=ie*Z)*(1-u((P=(P*=360)%360/60)%2-1)),ye=Me=Ce=ie-Ge,ht(ye+=[Ge,Ue,0,0,Ue,Ge][P=~~P],Me+=[Ue,Ge,Ge,Ue,0,0][P],Ce+=[0,0,Ue,Ge,Ge,Ue][P],fe)},H.hsl2rgb=function(P,Z,ie,fe){var ye,Me,Ce,Ue,Ge;return this.is(P,"object")&&"h"in P&&"s"in P&&"l"in P&&(ie=P.l,Z=P.s,P=P.h),(P>1||Z>1||ie>1)&&(P/=360,Z/=100,ie/=100),Ue=(Ge=2*Z*(ie<.5?ie:1-ie))*(1-u((P=(P*=360)%360/60)%2-1)),ye=Me=Ce=ie-Ge/2,ht(ye+=[Ge,Ue,0,0,Ue,Ge][P=~~P],Me+=[Ue,Ge,Ge,Ue,0,0][P],Ce+=[0,0,Ue,Ge,Ge,Ue][P],fe)},H.rgb2hsb=function(P,Z,ie){var Me,Ce;return ie=He(P,Z,ie),{h:((0==(Ce=(Me=h(P=ie[0],Z=ie[1],ie=ie[2]))-s(P,Z,ie))?null:Me==P?(Z-ie)/Ce:Me==Z?(ie-P)/Ce+2:(P-Z)/Ce+4)+360)%6*60/360,s:0==Ce?0:Ce/Me,b:Me,toString:W}},H.rgb2hsl=function(P,Z,ie){var Me,Ce,Ue,Ge;return ie=He(P,Z,ie),Me=((Ce=h(P=ie[0],Z=ie[1],ie=ie[2]))+(Ue=s(P,Z,ie)))/2,{h:((0==(Ge=Ce-Ue)?null:Ce==P?(Z-ie)/Ge:Ce==Z?(ie-P)/Ge+2:(P-Z)/Ge+4)+360)%6*60/360,s:0==Ge?0:Me<.5?Ge/(2*Me):Ge/(2-2*Me),l:Me,toString:ee}},H._path2string=function(){return this.join(",").replace(q,"$1")},H._preload=function(P,Z){var ie=y.doc.createElement("img");ie.style.cssText="position:absolute;left:-9999em;top:-9999em",ie.onload=function(){Z.call(this),this.onload=null,y.doc.body.removeChild(this)},ie.onerror=function(){y.doc.body.removeChild(this)},y.doc.body.appendChild(ie),ie.src=P},H.getRGB=Jt(function(P){if(!P||(P=f(P)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Ht};if("none"==P)return{r:-1,g:-1,b:-1,hex:"none",toString:Ht};!F[Pe](P.toLowerCase().substring(0,2))&&"#"!=P.charAt()&&(P=O(P));var ie,fe,ye,Me,Ce,Ue,Ge=P.match(I);return Ge?(Ge[2]&&(ye=X(Ge[2].substring(5),16),fe=X(Ge[2].substring(3,5),16),ie=X(Ge[2].substring(1,3),16)),Ge[3]&&(ye=X((Ce=Ge[3].charAt(3))+Ce,16),fe=X((Ce=Ge[3].charAt(2))+Ce,16),ie=X((Ce=Ge[3].charAt(1))+Ce,16)),Ge[4]&&(Ue=Ge[4][b](B),ie=Ae(Ue[0]),"%"==Ue[0].slice(-1)&&(ie*=2.55),fe=Ae(Ue[1]),"%"==Ue[1].slice(-1)&&(fe*=2.55),ye=Ae(Ue[2]),"%"==Ue[2].slice(-1)&&(ye*=2.55),"rgba"==Ge[1].toLowerCase().slice(0,4)&&(Me=Ae(Ue[3])),Ue[3]&&"%"==Ue[3].slice(-1)&&(Me/=100)),Ge[5]?(Ue=Ge[5][b](B),ie=Ae(Ue[0]),"%"==Ue[0].slice(-1)&&(ie*=2.55),fe=Ae(Ue[1]),"%"==Ue[1].slice(-1)&&(fe*=2.55),ye=Ae(Ue[2]),"%"==Ue[2].slice(-1)&&(ye*=2.55),("deg"==Ue[0].slice(-3)||"\xb0"==Ue[0].slice(-1))&&(ie/=360),"hsba"==Ge[1].toLowerCase().slice(0,4)&&(Me=Ae(Ue[3])),Ue[3]&&"%"==Ue[3].slice(-1)&&(Me/=100),H.hsb2rgb(ie,fe,ye,Me)):Ge[6]?(Ue=Ge[6][b](B),ie=Ae(Ue[0]),"%"==Ue[0].slice(-1)&&(ie*=2.55),fe=Ae(Ue[1]),"%"==Ue[1].slice(-1)&&(fe*=2.55),ye=Ae(Ue[2]),"%"==Ue[2].slice(-1)&&(ye*=2.55),("deg"==Ue[0].slice(-3)||"\xb0"==Ue[0].slice(-1))&&(ie/=360),"hsla"==Ge[1].toLowerCase().slice(0,4)&&(Me=Ae(Ue[3])),Ue[3]&&"%"==Ue[3].slice(-1)&&(Me/=100),H.hsl2rgb(ie,fe,ye,Me)):((Ge={r:ie,g:fe,b:ye,toString:Ht}).hex="#"+(16777216|ye|fe<<8|ie<<16).toString(16).slice(1),H.is(Me,"finite")&&(Ge.opacity=Me),Ge)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Ht}},H),H.hsb=Jt(function(P,Z,ie){return H.hsb2rgb(P,Z,ie).hex}),H.hsl=Jt(function(P,Z,ie){return H.hsl2rgb(P,Z,ie).hex}),H.rgb=Jt(function(P,Z,ie){return"#"+(16777216|ie|Z<<8|P<<16).toString(16).slice(1)}),H.getColor=function(P){var Z=this.getColor.start=this.getColor.start||{h:0,s:1,b:P||.75},ie=this.hsb2rgb(Z.h,Z.s,Z.b);return Z.h+=.075,Z.h>1&&(Z.h=0,Z.s-=.2,Z.s<=0&&(this.getColor.start={h:0,s:1,b:Z.b})),ie.hex},H.getColor.reset=function(){delete this.start},H.parsePathString=function(P){if(!P)return null;var Z=sn(P);if(Z.arr)return Ze(Z.arr);var ie={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},fe=[];return H.is(P,c)&&H.is(P[0],c)&&(fe=Ze(P)),fe.length||f(P).replace(L,function(ye,Me,Ce){var Ue=[],Ge=Me.toLowerCase();if(Ce.replace(se,function(_t,Ft){Ft&&Ue.push(+Ft)}),"m"==Ge&&Ue.length>2&&(fe.push([Me][le](Ue.splice(0,2))),Ge="l",Me="m"==Me?"l":"L"),"r"==Ge)fe.push([Me][le](Ue));else for(;Ue.length>=ie[Ge]&&(fe.push([Me][le](Ue.splice(0,ie[Ge]))),ie[Ge]););}),fe.toString=H._path2string,Z.arr=Ze(fe),fe},H.parseTransformString=Jt(function(P){if(!P)return null;var ie=[];return H.is(P,c)&&H.is(P[0],c)&&(ie=Ze(P)),ie.length||f(P).replace(Y,function(fe,ye,Me){var Ce=[];n.call(ye),Me.replace(se,function(Ge,_t){_t&&Ce.push(+_t)}),ie.push([ye][le](Ce))}),ie.toString=H._path2string,ie});var sn=function(P){var Z=sn.ps=sn.ps||{};return Z[P]?Z[P].sleep=100:Z[P]={sleep:100},setTimeout(function(){for(var ie in Z)Z[Pe](ie)&&ie!=P&&(Z[ie].sleep--,!Z[ie].sleep&&delete Z[ie])}),Z[P]};function Sn(P,Z,ie,fe,ye){return P*(P*(-3*Z+9*ie-9*fe+3*ye)+6*Z-12*ie+6*fe)-3*Z+3*ie}function fr(P,Z,ie,fe,ye,Me,Ce,Ue,Ge){null==Ge&&(Ge=1);for(var _t=(Ge=Ge>1?1:Ge<0?0:Ge)/2,lt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],mt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ut=0,Xt=0;Xt<12;Xt++){var It=_t*lt[Xt]+_t,jt=Sn(It,P,ie,ye,Ce),Pt=Sn(It,Z,fe,Me,Ue);Ut+=mt[Xt]*g.sqrt(jt*jt+Pt*Pt)}return _t*Ut}function Rt(P,Z,ie,fe,ye,Me,Ce,Ue){if(!(h(P,ie)<s(ye,Ce)||s(P,ie)>h(ye,Ce)||h(Z,fe)<s(Me,Ue)||s(Z,fe)>h(Me,Ue))){var Ft=(P-ie)*(Me-Ue)-(Z-fe)*(ye-Ce);if(Ft){var lt=((P*fe-Z*ie)*(ye-Ce)-(P-ie)*(ye*Ue-Me*Ce))/Ft,mt=((P*fe-Z*ie)*(Me-Ue)-(Z-fe)*(ye*Ue-Me*Ce))/Ft,Ut=+lt.toFixed(2),Xt=+mt.toFixed(2);if(!(Ut<+s(P,ie).toFixed(2)||Ut>+h(P,ie).toFixed(2)||Ut<+s(ye,Ce).toFixed(2)||Ut>+h(ye,Ce).toFixed(2)||Xt<+s(Z,fe).toFixed(2)||Xt>+h(Z,fe).toFixed(2)||Xt<+s(Me,Ue).toFixed(2)||Xt>+h(Me,Ue).toFixed(2)))return{x:lt,y:mt}}}}function Le(P,Z,ie){var fe=H.bezierBBox(P),ye=H.bezierBBox(Z);if(!H.isBBoxIntersect(fe,ye))return ie?0:[];for(var Me=fr.apply(0,P),Ce=fr.apply(0,Z),Ue=h(~~(Me/5),1),Ge=h(~~(Ce/5),1),_t=[],Ft=[],lt={},mt=ie?0:[],Ut=0;Ut<Ue+1;Ut++){var Xt=H.findDotsAtSegment.apply(H,P.concat(Ut/Ue));_t.push({x:Xt.x,y:Xt.y,t:Ut/Ue})}for(Ut=0;Ut<Ge+1;Ut++)Xt=H.findDotsAtSegment.apply(H,Z.concat(Ut/Ge)),Ft.push({x:Xt.x,y:Xt.y,t:Ut/Ge});for(Ut=0;Ut<Ue;Ut++)for(var It=0;It<Ge;It++){var jt=_t[Ut],Pt=_t[Ut+1],un=Ft[It],tn=Ft[It+1],an=u(Pt.x-jt.x)<.001?"y":"x",Hn=u(tn.x-un.x)<.001?"y":"x",xr=Rt(jt.x,jt.y,Pt.x,Pt.y,un.x,un.y,tn.x,tn.y);if(xr){if(lt[xr.x.toFixed(4)]==xr.y.toFixed(4))continue;lt[xr.x.toFixed(4)]=xr.y.toFixed(4);var kr=jt.t+u((xr[an]-jt[an])/(Pt[an]-jt[an]))*(Pt.t-jt.t),rr=un.t+u((xr[Hn]-un[Hn])/(tn[Hn]-un[Hn]))*(tn.t-un.t);kr>=0&&kr<=1.001&&rr>=0&&rr<=1.001&&(ie?mt++:mt.push({x:xr.x,y:xr.y,t1:s(kr,1),t2:s(rr,1)}))}}return mt}function et(P,Z,ie){P=H._path2curve(P),Z=H._path2curve(Z);for(var fe,ye,Me,Ce,Ue,Ge,_t,Ft,lt,mt,Ut=ie?0:[],Xt=0,It=P.length;Xt<It;Xt++){var jt=P[Xt];if("M"==jt[0])fe=Ue=jt[1],ye=Ge=jt[2];else{"C"==jt[0]?(lt=[fe,ye].concat(jt.slice(1)),fe=lt[6],ye=lt[7]):(lt=[fe,ye,fe,ye,Ue,Ge,Ue,Ge],fe=Ue,ye=Ge);for(var Pt=0,un=Z.length;Pt<un;Pt++){var tn=Z[Pt];if("M"==tn[0])Me=_t=tn[1],Ce=Ft=tn[2];else{"C"==tn[0]?(mt=[Me,Ce].concat(tn.slice(1)),Me=mt[6],Ce=mt[7]):(mt=[Me,Ce,Me,Ce,_t,Ft,_t,Ft],Me=_t,Ce=Ft);var an=Le(lt,mt,ie);if(ie)Ut+=an;else{for(var Hn=0,xr=an.length;Hn<xr;Hn++)an[Hn].segment1=Xt,an[Hn].segment2=Pt,an[Hn].bez1=lt,an[Hn].bez2=mt;Ut=Ut.concat(an)}}}}}return Ut}H.findDotsAtSegment=function(P,Z,ie,fe,ye,Me,Ce,Ue,Ge){var _t=1-Ge,Ft=o(_t,3),lt=o(_t,2),mt=Ge*Ge,Ut=mt*Ge,Xt=Ft*P+3*lt*Ge*ie+3*_t*Ge*Ge*ye+Ut*Ce,It=Ft*Z+3*lt*Ge*fe+3*_t*Ge*Ge*Me+Ut*Ue,jt=P+2*Ge*(ie-P)+mt*(ye-2*ie+P),Pt=Z+2*Ge*(fe-Z)+mt*(Me-2*fe+Z),un=ie+2*Ge*(ye-ie)+mt*(Ce-2*ye+ie),tn=fe+2*Ge*(Me-fe)+mt*(Ue-2*Me+fe),an=_t*P+Ge*ie,Hn=_t*Z+Ge*fe,xr=_t*ye+Ge*Ce,kr=_t*Me+Ge*Ue,rr=90-180*g.atan2(jt-un,Pt-tn)/t;return(jt>un||Pt<tn)&&(rr+=180),{x:Xt,y:It,m:{x:jt,y:Pt},n:{x:un,y:tn},start:{x:an,y:Hn},end:{x:xr,y:kr},alpha:rr}},H.bezierBBox=function(P,Z,ie,fe,ye,Me,Ce,Ue){H.is(P,"array")||(P=[P,Z,ie,fe,ye,Me,Ce,Ue]);var Ge=kn.apply(null,P);return{x:Ge.min.x,y:Ge.min.y,x2:Ge.max.x,y2:Ge.max.y,width:Ge.max.x-Ge.min.x,height:Ge.max.y-Ge.min.y}},H.isPointInsideBBox=function(P,Z,ie){return Z>=P.x&&Z<=P.x2&&ie>=P.y&&ie<=P.y2},H.isBBoxIntersect=function(P,Z){var ie=H.isPointInsideBBox;return ie(Z,P.x,P.y)||ie(Z,P.x2,P.y)||ie(Z,P.x,P.y2)||ie(Z,P.x2,P.y2)||ie(P,Z.x,Z.y)||ie(P,Z.x2,Z.y)||ie(P,Z.x,Z.y2)||ie(P,Z.x2,Z.y2)||(P.x<Z.x2&&P.x>Z.x||Z.x<P.x2&&Z.x>P.x)&&(P.y<Z.y2&&P.y>Z.y||Z.y<P.y2&&Z.y>P.y)},H.pathIntersection=function(P,Z){return et(P,Z)},H.pathIntersectionNumber=function(P,Z){return et(P,Z,1)},H.isPointInsidePath=function(P,Z,ie){var fe=H.pathBBox(P);return H.isPointInsideBBox(fe,Z,ie)&&et(P,[["M",Z,ie],["H",fe.x2+10]],1)%2==1},H._removedFactory=function(P){return function(){gn("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+P+"\u201d of removed object",P)}};var qe=H.pathBBox=function(P){var Z=sn(P);if(Z.bbox)return Tn(Z.bbox);if(!P)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var Ce,ie=0,fe=0,ye=[],Me=[],Ue=0,Ge=(P=vn(P)).length;Ue<Ge;Ue++)if("M"==(Ce=P[Ue])[0])fe=Ce[2],ye.push(ie=Ce[1]),Me.push(fe);else{var _t=kn(ie,fe,Ce[1],Ce[2],Ce[3],Ce[4],Ce[5],Ce[6]);ye=ye[le](_t.min.x,_t.max.x),Me=Me[le](_t.min.y,_t.max.y),ie=Ce[5],fe=Ce[6]}var Ft=s[ne](0,ye),lt=s[ne](0,Me),mt=h[ne](0,ye),Ut=h[ne](0,Me),Xt=mt-Ft,It=Ut-lt,jt={x:Ft,y:lt,x2:mt,y2:Ut,width:Xt,height:It,cx:Ft+Xt/2,cy:lt+It/2};return Z.bbox=Tn(jt),jt},Ze=function(P){var Z=Tn(P);return Z.toString=H._path2string,Z},Ct=H._pathToRelative=function(P){var Z=sn(P);if(Z.rel)return Ze(Z.rel);(!H.is(P,c)||!H.is(P&&P[0],c))&&(P=H.parsePathString(P));var ie=[],fe=0,ye=0,Me=0,Ce=0,Ue=0;"M"==P[0][0]&&(Me=fe=P[0][1],Ce=ye=P[0][2],Ue++,ie.push(["M",fe,ye]));for(var Ge=Ue,_t=P.length;Ge<_t;Ge++){var Ft=ie[Ge]=[],lt=P[Ge];if(lt[0]!=n.call(lt[0]))switch(Ft[0]=n.call(lt[0]),Ft[0]){case"a":Ft[1]=lt[1],Ft[2]=lt[2],Ft[3]=lt[3],Ft[4]=lt[4],Ft[5]=lt[5],Ft[6]=+(lt[6]-fe).toFixed(3),Ft[7]=+(lt[7]-ye).toFixed(3);break;case"v":Ft[1]=+(lt[1]-ye).toFixed(3);break;case"m":Me=lt[1],Ce=lt[2];default:for(var mt=1,Ut=lt.length;mt<Ut;mt++)Ft[mt]=+(lt[mt]-(mt%2?fe:ye)).toFixed(3)}else{Ft=ie[Ge]=[],"m"==lt[0]&&(Me=lt[1]+fe,Ce=lt[2]+ye);for(var Xt=0,It=lt.length;Xt<It;Xt++)ie[Ge][Xt]=lt[Xt]}var jt=ie[Ge].length;switch(ie[Ge][0]){case"z":fe=Me,ye=Ce;break;case"h":fe+=+ie[Ge][jt-1];break;case"v":ye+=+ie[Ge][jt-1];break;default:fe+=+ie[Ge][jt-2],ye+=+ie[Ge][jt-1]}}return ie.toString=H._path2string,Z.rel=Ze(ie),ie},Nt=H._pathToAbsolute=function(P){var Z=sn(P);if(Z.abs)return Ze(Z.abs);if((!H.is(P,c)||!H.is(P&&P[0],c))&&(P=H.parsePathString(P)),!P||!P.length)return[["M",0,0]];var ie=[],fe=0,ye=0,Me=0,Ce=0,Ue=0;"M"==P[0][0]&&(Me=fe=+P[0][1],Ce=ye=+P[0][2],Ue++,ie[0]=["M",fe,ye]);for(var _t,Ft,Ge=3==P.length&&"M"==P[0][0]&&"R"==P[1][0].toUpperCase()&&"Z"==P[2][0].toUpperCase(),lt=Ue,mt=P.length;lt<mt;lt++){if(ie.push(_t=[]),(Ft=P[lt])[0]!=T.call(Ft[0]))switch(_t[0]=T.call(Ft[0]),_t[0]){case"A":_t[1]=Ft[1],_t[2]=Ft[2],_t[3]=Ft[3],_t[4]=Ft[4],_t[5]=Ft[5],_t[6]=+(Ft[6]+fe),_t[7]=+(Ft[7]+ye);break;case"V":_t[1]=+Ft[1]+ye;break;case"H":_t[1]=+Ft[1]+fe;break;case"R":for(var Ut=[fe,ye][le](Ft.slice(1)),Xt=2,It=Ut.length;Xt<It;Xt++)Ut[Xt]=+Ut[Xt]+fe,Ut[++Xt]=+Ut[Xt]+ye;ie.pop(),ie=ie[le](wn(Ut,Ge));break;case"M":Me=+Ft[1]+fe,Ce=+Ft[2]+ye;default:for(Xt=1,It=Ft.length;Xt<It;Xt++)_t[Xt]=+Ft[Xt]+(Xt%2?fe:ye)}else if("R"==Ft[0])Ut=[fe,ye][le](Ft.slice(1)),ie.pop(),ie=ie[le](wn(Ut,Ge)),_t=["R"][le](Ft.slice(-2));else for(var jt=0,Pt=Ft.length;jt<Pt;jt++)_t[jt]=Ft[jt];switch(_t[0]){case"Z":fe=Me,ye=Ce;break;case"H":fe=_t[1];break;case"V":ye=_t[1];break;case"M":Me=_t[_t.length-2],Ce=_t[_t.length-1];default:fe=_t[_t.length-2],ye=_t[_t.length-1]}}return ie.toString=H._path2string,Z.abs=Ze(ie),ie},Bt=function(P,Z,ie,fe){return[P,Z,ie,fe,ie,fe]},ln=function(P,Z,ie,fe,ye,Me){var Ce=.3333333333333333,Ue=2/3;return[Ce*P+Ue*ie,Ce*Z+Ue*fe,Ce*ye+Ue*ie,Ce*Me+Ue*fe,ye,Me]},Ot=function(P,Z,ie,fe,ye,Me,Ce,Ue,Ge,_t){var Ut,Ft=120*t/180,lt=t/180*(+ye||0),mt=[],Xt=Jt(function(nr,Cr,gr){return{x:nr*g.cos(gr)-Cr*g.sin(gr),y:nr*g.sin(gr)+Cr*g.cos(gr)}});if(_t)ir=_t[0],or=_t[1],kr=_t[2],rr=_t[3];else{P=(Ut=Xt(P,Z,-lt)).x,Z=Ut.y,Ue=(Ut=Xt(Ue,Ge,-lt)).x,Ge=Ut.y,g.cos(t/180*ye),g.sin(t/180*ye);var Pt=(P-Ue)/2,un=(Z-Ge)/2,tn=Pt*Pt/(ie*ie)+un*un/(fe*fe);tn>1&&(ie*=tn=g.sqrt(tn),fe*=tn);var an=ie*ie,Hn=fe*fe,xr=(Me==Ce?-1:1)*g.sqrt(u((an*Hn-an*un*un-Hn*Pt*Pt)/(an*un*un+Hn*Pt*Pt))),kr=xr*ie*un/fe+(P+Ue)/2,rr=xr*-fe*Pt/ie+(Z+Ge)/2,ir=g.asin(((Z-rr)/fe).toFixed(9)),or=g.asin(((Ge-rr)/fe).toFixed(9));(ir=P<kr?t-ir:ir)<0&&(ir=2*t+ir),(or=Ue<kr?t-or:or)<0&&(or=2*t+or),Ce&&ir>or&&(ir-=2*t),!Ce&&or>ir&&(or-=2*t)}var fi=or-ir;if(u(fi)>Ft){var Fe=or,St=Ue,Vt=Ge;Ue=kr+ie*g.cos(or=ir+Ft*(Ce&&or>ir?1:-1)),Ge=rr+fe*g.sin(or),mt=Ot(Ue,Ge,ie,fe,ye,0,Ce,St,Vt,[or,Fe,kr,rr])}fi=or-ir;var cn=g.cos(ir),$n=g.sin(ir),Ke=g.cos(or),Re=g.sin(or),bt=g.tan(fi/4),Et=4/3*ie*bt,nn=4/3*fe*bt,xn=[P,Z],fn=[P+Et*$n,Z-nn*cn],En=[Ue+Et*Re,Ge-nn*Ke],yn=[Ue,Ge];if(fn[0]=2*xn[0]-fn[0],fn[1]=2*xn[1]-fn[1],_t)return[fn,En,yn][le](mt);for(var Pn=[],qn=0,_r=(mt=[fn,En,yn][le](mt).join()[b](",")).length;qn<_r;qn++)Pn[qn]=qn%2?Xt(mt[qn-1],mt[qn],lt).y:Xt(mt[qn],mt[qn+1],lt).x;return Pn},mn=function(P,Z,ie,fe,ye,Me,Ce,Ue,Ge){var _t=1-Ge;return{x:o(_t,3)*P+3*o(_t,2)*Ge*ie+3*_t*Ge*Ge*ye+o(Ge,3)*Ce,y:o(_t,3)*Z+3*o(_t,2)*Ge*fe+3*_t*Ge*Ge*Me+o(Ge,3)*Ue}},kn=Jt(function(P,Z,ie,fe,ye,Me,Ce,Ue){var It,Ge=ye-2*ie+P-(Ce-2*ye+ie),_t=2*(ie-P)-2*(ye-ie),Ft=P-ie,lt=(-_t+g.sqrt(_t*_t-4*Ge*Ft))/2/Ge,mt=(-_t-g.sqrt(_t*_t-4*Ge*Ft))/2/Ge,Ut=[Z,Ue],Xt=[P,Ce];return u(lt)>"1e12"&&(lt=.5),u(mt)>"1e12"&&(mt=.5),lt>0&&lt<1&&(It=mn(P,Z,ie,fe,ye,Me,Ce,Ue,lt),Xt.push(It.x),Ut.push(It.y)),mt>0&&mt<1&&(It=mn(P,Z,ie,fe,ye,Me,Ce,Ue,mt),Xt.push(It.x),Ut.push(It.y)),lt=(-(_t=2*(fe-Z)-2*(Me-fe))+g.sqrt(_t*_t-4*(Ge=Me-2*fe+Z-(Ue-2*Me+fe))*(Ft=Z-fe)))/2/Ge,mt=(-_t-g.sqrt(_t*_t-4*Ge*Ft))/2/Ge,u(lt)>"1e12"&&(lt=.5),u(mt)>"1e12"&&(mt=.5),lt>0&&lt<1&&(It=mn(P,Z,ie,fe,ye,Me,Ce,Ue,lt),Xt.push(It.x),Ut.push(It.y)),mt>0&&mt<1&&(It=mn(P,Z,ie,fe,ye,Me,Ce,Ue,mt),Xt.push(It.x),Ut.push(It.y)),{min:{x:s[ne](0,Xt),y:s[ne](0,Ut)},max:{x:h[ne](0,Xt),y:h[ne](0,Ut)}}}),vn=H._path2curve=Jt(function(P,Z){var ie=!Z&&sn(P);if(!Z&&ie.curve)return Ze(ie.curve);for(var fe=Nt(P),ye=Z&&Nt(Z),Me={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ce={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ue=function(jt,Pt,un){var tn,an;if(!jt)return["C",Pt.x,Pt.y,Pt.x,Pt.y,Pt.x,Pt.y];switch(!(jt[0]in{T:1,Q:1})&&(Pt.qx=Pt.qy=null),jt[0]){case"M":Pt.X=jt[1],Pt.Y=jt[2];break;case"A":jt=["C"][le](Ot[ne](0,[Pt.x,Pt.y][le](jt.slice(1))));break;case"S":"C"==un||"S"==un?(tn=2*Pt.x-Pt.bx,an=2*Pt.y-Pt.by):(tn=Pt.x,an=Pt.y),jt=["C",tn,an][le](jt.slice(1));break;case"T":"Q"==un||"T"==un?(Pt.qx=2*Pt.x-Pt.qx,Pt.qy=2*Pt.y-Pt.qy):(Pt.qx=Pt.x,Pt.qy=Pt.y),jt=["C"][le](ln(Pt.x,Pt.y,Pt.qx,Pt.qy,jt[1],jt[2]));break;case"Q":Pt.qx=jt[1],Pt.qy=jt[2],jt=["C"][le](ln(Pt.x,Pt.y,jt[1],jt[2],jt[3],jt[4]));break;case"L":jt=["C"][le](Bt(Pt.x,Pt.y,jt[1],jt[2]));break;case"H":jt=["C"][le](Bt(Pt.x,Pt.y,jt[1],Pt.y));break;case"V":jt=["C"][le](Bt(Pt.x,Pt.y,Pt.x,jt[1]));break;case"Z":jt=["C"][le](Bt(Pt.x,Pt.y,Pt.X,Pt.Y))}return jt},Ge=function(jt,Pt){if(jt[Pt].length>7){jt[Pt].shift();for(var un=jt[Pt];un.length;)jt.splice(Pt++,0,["C"][le](un.splice(0,6)));jt.splice(Pt,1),lt=h(fe.length,ye&&ye.length||0)}},_t=function(jt,Pt,un,tn,an){jt&&Pt&&"M"==jt[an][0]&&"M"!=Pt[an][0]&&(Pt.splice(an,0,["M",tn.x,tn.y]),un.bx=0,un.by=0,un.x=jt[an][1],un.y=jt[an][2],lt=h(fe.length,ye&&ye.length||0))},Ft=0,lt=h(fe.length,ye&&ye.length||0);Ft<lt;Ft++){fe[Ft]=Ue(fe[Ft],Me),Ge(fe,Ft),ye&&(ye[Ft]=Ue(ye[Ft],Ce)),ye&&Ge(ye,Ft),_t(fe,ye,Me,Ce,Ft),_t(ye,fe,Ce,Me,Ft);var mt=fe[Ft],Ut=ye&&ye[Ft],Xt=mt.length,It=ye&&Ut.length;Me.x=mt[Xt-2],Me.y=mt[Xt-1],Me.bx=Ae(mt[Xt-4])||Me.x,Me.by=Ae(mt[Xt-3])||Me.y,Ce.bx=ye&&(Ae(Ut[It-4])||Ce.x),Ce.by=ye&&(Ae(Ut[It-3])||Ce.y),Ce.x=ye&&Ut[It-2],Ce.y=ye&&Ut[It-1]}return ye||(ie.curve=Ze(fe)),ye?[fe,ye]:fe},null,Ze),pr=(H._parseDots=Jt(function(P){for(var Z=[],ie=0,fe=P.length;ie<fe;ie++){var ye={},Me=P[ie].match(/^([^:]*):?([\d\.]*)/);if(ye.color=H.getRGB(Me[1]),ye.color.error)return null;ye.color=ye.color.hex,Me[2]&&(ye.offset=Me[2]+"%"),Z.push(ye)}for(ie=1,fe=Z.length-1;ie<fe;ie++)if(!Z[ie].offset){for(var Ce=Ae(Z[ie-1].offset||0),Ue=0,Ge=ie+1;Ge<fe;Ge++)if(Z[Ge].offset){Ue=Z[Ge].offset;break}Ue||(Ue=100,Ge=fe);for(var _t=((Ue=Ae(Ue))-Ce)/(Ge-ie+1);ie<Ge;ie++)Z[ie].offset=(Ce+=_t)+"%"}return Z}),H._tear=function(P,Z){P==Z.top&&(Z.top=P.prev),P==Z.bottom&&(Z.bottom=P.next),P.next&&(P.next.prev=P.prev),P.prev&&(P.prev.next=P.next)}),Qn=(H._tofront=function(P,Z){Z.top!==P&&(pr(P,Z),P.next=null,P.prev=Z.top,Z.top.next=P,Z.top=P)},H._toback=function(P,Z){Z.bottom!==P&&(pr(P,Z),P.next=Z.bottom,P.prev=null,Z.bottom.prev=P,Z.bottom=P)},H._insertafter=function(P,Z,ie){pr(P,ie),Z==ie.top&&(ie.top=P),Z.next&&(Z.next.prev=P),P.next=Z.next,P.prev=Z,Z.next=P},H._insertbefore=function(P,Z,ie){pr(P,ie),Z==ie.bottom&&(ie.bottom=P),Z.prev&&(Z.prev.next=P),P.prev=Z.prev,Z.prev=P,P.next=Z},H.toMatrix=function(P,Z){var ie=qe(P),fe={_:{transform:N},getBBox:function(){return ie}};return Kn(fe,Z),fe.matrix}),Kn=(H.transformPath=function(P,Z){return at(P,Qn(P,Z))},H._extractTransform=function(P,Z){if(null==Z)return P._.transform;Z=f(Z).replace(/\.{3}|\u2026/g,P._.transform||N);var ye,Me,ie=H.parseTransformString(Z),fe=0,Ce=1,Ue=1,Ge=P._,_t=new Gn;if(Ge.transform=ie||[],ie)for(var Ft=0,lt=ie.length;Ft<lt;Ft++){var Pt,un,tn,an,Hn,mt=ie[Ft],Ut=mt.length,Xt=f(mt[0]).toLowerCase(),It=mt[0]!=Xt,jt=It?_t.invert():0;"t"==Xt&&3==Ut?It?(Pt=jt.x(0,0),un=jt.y(0,0),tn=jt.x(mt[1],mt[2]),an=jt.y(mt[1],mt[2]),_t.translate(tn-Pt,an-un)):_t.translate(mt[1],mt[2]):"r"==Xt?2==Ut?(Hn=Hn||P.getBBox(1),_t.rotate(mt[1],Hn.x+Hn.width/2,Hn.y+Hn.height/2),fe+=mt[1]):4==Ut&&(It?(tn=jt.x(mt[2],mt[3]),an=jt.y(mt[2],mt[3]),_t.rotate(mt[1],tn,an)):_t.rotate(mt[1],mt[2],mt[3]),fe+=mt[1]):"s"==Xt?2==Ut||3==Ut?(Hn=Hn||P.getBBox(1),_t.scale(mt[1],mt[Ut-1],Hn.x+Hn.width/2,Hn.y+Hn.height/2),Ce*=mt[1],Ue*=mt[Ut-1]):5==Ut&&(It?(tn=jt.x(mt[3],mt[4]),an=jt.y(mt[3],mt[4]),_t.scale(mt[1],mt[2],tn,an)):_t.scale(mt[1],mt[2],mt[3],mt[4]),Ce*=mt[1],Ue*=mt[2]):"m"==Xt&&7==Ut&&_t.add(mt[1],mt[2],mt[3],mt[4],mt[5],mt[6]),Ge.dirtyT=1,P.matrix=_t}P.matrix=_t,Ge.sx=Ce,Ge.sy=Ue,Ge.deg=fe,Ge.dx=ye=_t.e,Ge.dy=Me=_t.f,1==Ce&&1==Ue&&!fe&&Ge.bbox?(Ge.bbox.x+=+ye,Ge.bbox.y+=+Me):Ge.dirtyT=1}),Zn=function(P){var Z=P[0];switch(Z.toLowerCase()){case"t":return[Z,0,0];case"m":return[Z,1,0,0,1,0,0];case"r":return 4==P.length?[Z,0,P[2],P[3]]:[Z,0];case"s":return 5==P.length?[Z,1,1,P[3],P[4]]:3==P.length?[Z,1,1]:[Z,1]}},Kr=H._equaliseTransform=function(P,Z){Z=f(Z).replace(/\.{3}|\u2026/g,P),P=H.parseTransformString(P)||[],Z=H.parseTransformString(Z)||[];for(var Ce,Ue,Ge,_t,ie=h(P.length,Z.length),fe=[],ye=[],Me=0;Me<ie;Me++){if(Ge=P[Me]||Zn(Z[Me]),_t=Z[Me]||Zn(Ge),Ge[0]!=_t[0]||"r"==Ge[0].toLowerCase()&&(Ge[2]!=_t[2]||Ge[3]!=_t[3])||"s"==Ge[0].toLowerCase()&&(Ge[3]!=_t[3]||Ge[4]!=_t[4]))return;for(fe[Me]=[],ye[Me]=[],Ce=0,Ue=h(Ge.length,_t.length);Ce<Ue;Ce++)Ce in Ge&&(fe[Me][Ce]=Ge[Ce]),Ce in _t&&(ye[Me][Ce]=_t[Ce])}return{from:fe,to:ye}};function Gn(P,Z,ie,fe,ye,Me){null!=P?(this.a=+P,this.b=+Z,this.c=+ie,this.d=+fe,this.e=+ye,this.f=+Me):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}H._getContainer=function(P,Z,ie,fe){var ye;if(null!=(ye=null!=fe||H.is(P,"object")?P:y.doc.getElementById(P)))return ye.tagName?null==Z?{container:ye,width:ye.style.pixelWidth||ye.offsetWidth,height:ye.style.pixelHeight||ye.offsetHeight}:{container:ye,width:Z,height:ie}:{container:1,x:P,y:Z,width:ie,height:fe}},H.pathToRelative=Ct,H._engine={},H.path2curve=vn,H.matrix=function(P,Z,ie,fe,ye,Me){return new Gn(P,Z,ie,fe,ye,Me)},function(P){function Z(fe){return fe[0]*fe[0]+fe[1]*fe[1]}function ie(fe){var ye=g.sqrt(Z(fe));fe[0]&&(fe[0]/=ye),fe[1]&&(fe[1]/=ye)}P.add=function(fe,ye,Me,Ce,Ue,Ge){var mt,Ut,Xt,It,_t=[[],[],[]],Ft=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],lt=[[fe,Me,Ue],[ye,Ce,Ge],[0,0,1]];for(fe&&fe instanceof Gn&&(lt=[[fe.a,fe.c,fe.e],[fe.b,fe.d,fe.f],[0,0,1]]),mt=0;mt<3;mt++)for(Ut=0;Ut<3;Ut++){for(It=0,Xt=0;Xt<3;Xt++)It+=Ft[mt][Xt]*lt[Xt][Ut];_t[mt][Ut]=It}this.a=_t[0][0],this.b=_t[1][0],this.c=_t[0][1],this.d=_t[1][1],this.e=_t[0][2],this.f=_t[1][2]},P.invert=function(){var fe=this,ye=fe.a*fe.d-fe.b*fe.c;return new Gn(fe.d/ye,-fe.b/ye,-fe.c/ye,fe.a/ye,(fe.c*fe.f-fe.d*fe.e)/ye,(fe.b*fe.e-fe.a*fe.f)/ye)},P.clone=function(){return new Gn(this.a,this.b,this.c,this.d,this.e,this.f)},P.translate=function(fe,ye){this.add(1,0,0,1,fe,ye)},P.scale=function(fe,ye,Me,Ce){null==ye&&(ye=fe),(Me||Ce)&&this.add(1,0,0,1,Me,Ce),this.add(fe,0,0,ye,0,0),(Me||Ce)&&this.add(1,0,0,1,-Me,-Ce)},P.rotate=function(fe,ye,Me){fe=H.rad(fe),ye=ye||0,Me=Me||0;var Ce=+g.cos(fe).toFixed(9),Ue=+g.sin(fe).toFixed(9);this.add(Ce,Ue,-Ue,Ce,ye,Me),this.add(1,0,0,1,-ye,-Me)},P.x=function(fe,ye){return fe*this.a+ye*this.c+this.e},P.y=function(fe,ye){return fe*this.b+ye*this.d+this.f},P.get=function(fe){return+this[f.fromCharCode(97+fe)].toFixed(4)},P.toString=function(){return H.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},P.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},P.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},P.split=function(){var fe={};fe.dx=this.e,fe.dy=this.f;var ye=[[this.a,this.c],[this.b,this.d]];fe.scalex=g.sqrt(Z(ye[0])),ie(ye[0]),fe.shear=ye[0][0]*ye[1][0]+ye[0][1]*ye[1][1],ye[1]=[ye[1][0]-ye[0][0]*fe.shear,ye[1][1]-ye[0][1]*fe.shear],fe.scaley=g.sqrt(Z(ye[1])),ie(ye[1]),fe.shear/=fe.scaley;var Me=-ye[0][1],Ce=ye[1][1];return Ce<0?(fe.rotate=H.deg(g.acos(Ce)),Me<0&&(fe.rotate=360-fe.rotate)):fe.rotate=H.deg(g.asin(Me)),fe.isSimple=!(+fe.shear.toFixed(9)||fe.scalex.toFixed(9)!=fe.scaley.toFixed(9)&&fe.rotate),fe.isSuperSimple=!+fe.shear.toFixed(9)&&fe.scalex.toFixed(9)==fe.scaley.toFixed(9)&&!fe.rotate,fe.noRotation=!+fe.shear.toFixed(9)&&!fe.rotate,fe},P.toTransformString=function(fe){var ye=fe||this[b]();return ye.isSimple?(ye.scalex=+ye.scalex.toFixed(4),ye.scaley=+ye.scaley.toFixed(4),ye.rotate=+ye.rotate.toFixed(4),(ye.dx||ye.dy?"t"+[ye.dx,ye.dy]:N)+(1!=ye.scalex||1!=ye.scaley?"s"+[ye.scalex,ye.scaley,0,0]:N)+(ye.rotate?"r"+[ye.rotate,0,0]:N)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(Gn.prototype);var er=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);pe.safari="Apple Computer, Inc."==navigator.vendor&&(er&&er[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&er&&er[1]<8?function(){var P=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){P.remove()})}:function(){};for(var ct=function(){this.returnValue=!1},me=function(){return this.originalEvent.preventDefault()},ot=function(){this.cancelBubble=!0},ft=function(){return this.originalEvent.stopPropagation()},be=function(P){return{x:P.clientX+(y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft),y:P.clientY+(y.doc.documentElement.scrollTop||y.doc.body.scrollTop)}},dt=y.doc.addEventListener?function(P,Z,ie,fe){var ye=function(Ce){var Ue=be(Ce);return ie.call(fe,Ce,Ue.x,Ue.y)};return P.addEventListener(Z,ye,!1),d&&_[Z]&&P.addEventListener(_[Z],function(Ce){for(var Ue=be(Ce),Ge=Ce,_t=0,Ft=Ce.targetTouches&&Ce.targetTouches.length;_t<Ft;_t++)if(Ce.targetTouches[_t].target==P){(Ce=Ce.targetTouches[_t]).originalEvent=Ge,Ce.preventDefault=me,Ce.stopPropagation=ft;break}return ie.call(fe,Ce,Ue.x,Ue.y)},!1),function(){return P.removeEventListener(Z,ye,!1),d&&_[Z]&&P.removeEventListener(_[Z],ye,!1),!0}}:y.doc.attachEvent?function(P,Z,ie,fe){var ye=function(Ce){var _t=(Ce=Ce||y.win.event).clientX+(y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft),Ft=Ce.clientY+(y.doc.documentElement.scrollTop||y.doc.body.scrollTop);return Ce.preventDefault=Ce.preventDefault||ct,Ce.stopPropagation=Ce.stopPropagation||ot,ie.call(fe,Ce,_t,Ft)};return P.attachEvent("on"+Z,ye),function(){return P.detachEvent("on"+Z,ye),!0}}:void 0,Zr=[],ri=function(P){for(var Me,Z=P.clientX,ie=P.clientY,fe=y.doc.documentElement.scrollTop||y.doc.body.scrollTop,ye=y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft,Ce=Zr.length;Ce--;){if(Me=Zr[Ce],d&&P.touches){for(var Ge,Ue=P.touches.length;Ue--;)if((Ge=P.touches[Ue]).identifier==Me.el._drag.id){Z=Ge.clientX,ie=Ge.clientY,(P.originalEvent?P.originalEvent:P).preventDefault();break}}else P.preventDefault();var Ft,_t=Me.el.node,lt=_t.nextSibling,mt=_t.parentNode,Ut=_t.style.display;y.win.opera&&mt.removeChild(_t),_t.style.display="none",Ft=Me.el.paper.getElementByPoint(Z,ie),_t.style.display=Ut,y.win.opera&&(lt?mt.insertBefore(_t,lt):mt.appendChild(_t)),Ft&&gn("raphael.drag.over."+Me.el.id,Me.el,Ft),gn("raphael.drag.move."+Me.el.id,Me.move_scope||Me.el,(Z+=ye)-Me.el._drag.x,(ie+=fe)-Me.el._drag.y,Z,ie,P)}},si=function(P){H.unmousemove(ri).unmouseup(si);for(var ie,Z=Zr.length;Z--;)(ie=Zr[Z]).el._drag={},gn("raphael.drag.end."+ie.el.id,ie.end_scope||ie.start_scope||ie.move_scope||ie.el,P);Zr=[]},cr=H.el={},yi=m.length;yi--;)!function(P){H[P]=cr[P]=function(Z,ie){return H.is(Z,"function")&&(this.events=this.events||[],this.events.push({name:P,f:Z,unbind:dt(this.shape||this.node||y.doc,P,Z,ie||this)})),this},H["un"+P]=cr["un"+P]=function(Z){for(var ie=this.events||[],fe=ie.length;fe--;)ie[fe].name==P&&(H.is(Z,"undefined")||ie[fe].f==Z)&&(ie[fe].unbind(),ie.splice(fe,1),!ie.length&&delete this.events);return this}}(m[yi]);cr.data=function(P,Z){var ie=Se[this.id]=Se[this.id]||{};if(0==arguments.length)return ie;if(1==arguments.length){if(H.is(P,"object")){for(var fe in P)P[Pe](fe)&&this.data(fe,P[fe]);return this}return gn("raphael.data.get."+this.id,this,ie[P],P),ie[P]}return ie[P]=Z,gn("raphael.data.set."+this.id,this,Z,P),this},cr.removeData=function(P){return null==P?Se[this.id]={}:Se[this.id]&&delete Se[this.id][P],this},cr.getData=function(){return Tn(Se[this.id]||{})},cr.hover=function(P,Z,ie,fe){return this.mouseover(P,ie).mouseout(Z,fe||ie)},cr.unhover=function(P,Z){return this.unmouseover(P).unmouseout(Z)};var Jr=[];function ai(){return this.x+A+this.y+A+this.width+" \xd7 "+this.height}cr.drag=function(P,Z,ie,fe,ye,Me){function Ce(Ue){(Ue.originalEvent||Ue).preventDefault();var Ge=Ue.clientX,_t=Ue.clientY,Ft=y.doc.documentElement.scrollTop||y.doc.body.scrollTop,lt=y.doc.documentElement.scrollLeft||y.doc.body.scrollLeft;if(this._drag.id=Ue.identifier,d&&Ue.touches)for(var Ut,mt=Ue.touches.length;mt--;)if(this._drag.id=(Ut=Ue.touches[mt]).identifier,Ut.identifier==this._drag.id){Ge=Ut.clientX,_t=Ut.clientY;break}this._drag.x=Ge+lt,this._drag.y=_t+Ft,!Zr.length&&H.mousemove(ri).mouseup(si),Zr.push({el:this,move_scope:fe,start_scope:ye,end_scope:Me}),Z&&gn.on("raphael.drag.start."+this.id,Z),P&&gn.on("raphael.drag.move."+this.id,P),ie&&gn.on("raphael.drag.end."+this.id,ie),gn("raphael.drag.start."+this.id,ye||fe||this,Ue.clientX+lt,Ue.clientY+Ft,Ue)}return this._drag={},Jr.push({el:this,start:Ce}),this.mousedown(Ce),this},cr.onDragOver=function(P){P?gn.on("raphael.drag.over."+this.id,P):gn.unbind("raphael.drag.over."+this.id)},cr.undrag=function(){for(var P=Jr.length;P--;)Jr[P].el==this&&(this.unmousedown(Jr[P].start),Jr.splice(P,1),gn.unbind("raphael.drag.*."+this.id));!Jr.length&&H.unmousemove(ri).unmouseup(si),Zr=[]},pe.circle=function(P,Z,ie){var fe=H._engine.circle(this,P||0,Z||0,ie||0);return this.__set__&&this.__set__.push(fe),fe},pe.rect=function(P,Z,ie,fe,ye){var Me=H._engine.rect(this,P||0,Z||0,ie||0,fe||0,ye||0);return this.__set__&&this.__set__.push(Me),Me},pe.ellipse=function(P,Z,ie,fe){var ye=H._engine.ellipse(this,P||0,Z||0,ie||0,fe||0);return this.__set__&&this.__set__.push(ye),ye},pe.path=function(P){P&&!H.is(P,a)&&!H.is(P[0],c)&&(P+=N);var Z=H._engine.path(H.format[ne](H,arguments),this);return this.__set__&&this.__set__.push(Z),Z},pe.image=function(P,Z,ie,fe,ye){var Me=H._engine.image(this,P||"about:blank",Z||0,ie||0,fe||0,ye||0);return this.__set__&&this.__set__.push(Me),Me},pe.text=function(P,Z,ie){var fe=H._engine.text(this,P||0,Z||0,f(ie));return this.__set__&&this.__set__.push(fe),fe},pe.set=function(P){!H.is(P,"array")&&(P=Array.prototype.splice.call(arguments,0,arguments.length));var Z=new hi(P);return this.__set__&&this.__set__.push(Z),Z.paper=this,Z.type="set",Z},pe.setStart=function(P){this.__set__=P||this.set()},pe.setFinish=function(P){var Z=this.__set__;return delete this.__set__,Z},pe.setSize=function(P,Z){return H._engine.setSize.call(this,P,Z)},pe.setViewBox=function(P,Z,ie,fe,ye){return H._engine.setViewBox.call(this,P,Z,ie,fe,ye)},pe.top=pe.bottom=null,pe.raphael=H,pe.getElementByPoint=function(P,Z){var fe=this.canvas,ye=y.doc.elementFromPoint(P,Z);if(y.win.opera&&"svg"==ye.tagName){var Me=function(P){var Z=P.getBoundingClientRect(),ie=P.ownerDocument,fe=ie.body,ye=ie.documentElement;return{y:Z.top+(y.win.pageYOffset||ye.scrollTop||fe.scrollTop)-(ye.clientTop||fe.clientTop||0),x:Z.left+(y.win.pageXOffset||ye.scrollLeft||fe.scrollLeft)-(ye.clientLeft||fe.clientLeft||0)}}(fe),Ce=fe.createSVGRect();Ce.x=P-Me.x,Ce.y=Z-Me.y,Ce.width=Ce.height=1;var Ue=fe.getIntersectionList(Ce,null);Ue.length&&(ye=Ue[Ue.length-1])}if(!ye)return null;for(;ye.parentNode&&ye!=fe.parentNode&&!ye.raphael;)ye=ye.parentNode;return ye==this.canvas.parentNode&&(ye=fe),ye&&ye.raphael?this.getById(ye.raphaelid):null},pe.getElementsByBBox=function(P){var Z=this.set();return this.forEach(function(ie){H.isBBoxIntersect(ie.getBBox(),P)&&Z.push(ie)}),Z},pe.getById=function(P){for(var Z=this.bottom;Z;){if(Z.id==P)return Z;Z=Z.next}return null},pe.forEach=function(P,Z){for(var ie=this.bottom;ie;){if(!1===P.call(Z,ie))return this;ie=ie.next}return this},pe.getElementsByPoint=function(P,Z){var ie=this.set();return this.forEach(function(fe){fe.isPointInside(P,Z)&&ie.push(fe)}),ie},cr.isPointInside=function(P,Z){var ie=this.realPath=tt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(ie=H.transformPath(ie,this.attr("transform"))),H.isPointInsidePath(ie,P,Z)},cr.getBBox=function(P){if(this.removed)return{};var Z=this._;return P?((Z.dirty||!Z.bboxwt)&&(this.realPath=tt[this.type](this),Z.bboxwt=qe(this.realPath),Z.bboxwt.toString=ai,Z.dirty=0),Z.bboxwt):((Z.dirty||Z.dirtyT||!Z.bbox)&&((Z.dirty||!this.realPath)&&(Z.bboxwt=0,this.realPath=tt[this.type](this)),Z.bbox=qe(at(this.realPath,this.matrix)),Z.bbox.toString=ai,Z.dirty=Z.dirtyT=0),Z.bbox)},cr.clone=function(){if(this.removed)return null;var P=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(P),P},cr.glow=function(P){if("text"==this.type)return null;var Z={width:((P=P||{}).width||10)+(+this.attr("stroke-width")||1),fill:P.fill||!1,opacity:P.opacity||.5,offsetx:P.offsetx||0,offsety:P.offsety||0,color:P.color||"#000"},ie=Z.width/2,fe=this.paper,ye=fe.set(),Me=this.realPath||tt[this.type](this);Me=this.matrix?at(Me,this.matrix):Me;for(var Ce=1;Ce<ie+1;Ce++)ye.push(fe.path(Me).attr({stroke:Z.color,fill:Z.fill?Z.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(Z.width/ie*Ce).toFixed(3),opacity:+(Z.opacity/ie).toFixed(3)}));return ye.insertBefore(this).translate(Z.offsetx,Z.offsety)};var Vr=function(P,Z,ie,fe,ye,Me,Ce,Ue,Ge){return null==Ge?fr(P,Z,ie,fe,ye,Me,Ce,Ue):H.findDotsAtSegment(P,Z,ie,fe,ye,Me,Ce,Ue,function Dn(P,Z,ie,fe,ye,Me,Ce,Ue,Ge){if(!(Ge<0||fr(P,Z,ie,fe,ye,Me,Ce,Ue)<Ge)){var mt,Ft=.5,lt=1-Ft;for(mt=fr(P,Z,ie,fe,ye,Me,Ce,Ue,lt);u(mt-Ge)>.01;)mt=fr(P,Z,ie,fe,ye,Me,Ce,Ue,lt+=(mt<Ge?1:-1)*(Ft/=2));return lt}}(P,Z,ie,fe,ye,Me,Ce,Ue,Ge))},Fr=function(P,Z){return function(ie,fe,ye){for(var Me,Ce,Ue,Ge,lt,_t="",Ft={},mt=0,Ut=0,Xt=(ie=vn(ie)).length;Ut<Xt;Ut++){if("M"==(Ue=ie[Ut])[0])Me=+Ue[1],Ce=+Ue[2];else{if(mt+(Ge=Vr(Me,Ce,Ue[1],Ue[2],Ue[3],Ue[4],Ue[5],Ue[6]))>fe){if(Z&&!Ft.start){if(_t+=["C"+(lt=Vr(Me,Ce,Ue[1],Ue[2],Ue[3],Ue[4],Ue[5],Ue[6],fe-mt)).start.x,lt.start.y,lt.m.x,lt.m.y,lt.x,lt.y],ye)return _t;Ft.start=_t,_t=["M"+lt.x,lt.y+"C"+lt.n.x,lt.n.y,lt.end.x,lt.end.y,Ue[5],Ue[6]].join(),mt+=Ge,Me=+Ue[5],Ce=+Ue[6];continue}if(!P&&!Z)return{x:(lt=Vr(Me,Ce,Ue[1],Ue[2],Ue[3],Ue[4],Ue[5],Ue[6],fe-mt)).x,y:lt.y,alpha:lt.alpha}}mt+=Ge,Me=+Ue[5],Ce=+Ue[6]}_t+=Ue.shift()+Ue}return Ft.end=_t,(lt=P?mt:Z?Ft:H.findDotsAtSegment(Me,Ce,Ue[0],Ue[1],Ue[2],Ue[3],Ue[4],Ue[5],1)).alpha&&(lt={x:lt.x,y:lt.y,alpha:lt.alpha}),lt}},Un=Fr(1),We=Fr(),Mn=Fr(0,1);H.getTotalLength=Un,H.getPointAtLength=We,H.getSubpath=function(P,Z,ie){if(this.getTotalLength(P)-ie<1e-6)return Mn(P,Z).end;var fe=Mn(P,ie,1);return Z?Mn(fe,Z).end:fe},cr.getTotalLength=function(){var P=this.getPath();if(P)return this.node.getTotalLength?this.node.getTotalLength():Un(P)},cr.getPointAtLength=function(P){var Z=this.getPath();if(Z)return We(Z,P)},cr.getPath=function(){var P,Z=H._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return Z&&(P=Z(this)),P},cr.getSubpath=function(P,Z){var ie=this.getPath();if(ie)return H.getSubpath(ie,P,Z)};var Yn=H.easing_formulas={linear:function(P){return P},"<":function(P){return o(P,1.7)},">":function(P){return o(P,.48)},"<>":function(P){var Z=.48-P/1.04,ie=g.sqrt(.1734+Z*Z),fe=ie-Z,Me=-ie-Z,Ue=o(u(fe),1/3)*(fe<0?-1:1)+o(u(Me),1/3)*(Me<0?-1:1)+.5;return 3*(1-Ue)*Ue*Ue+Ue*Ue*Ue},backIn:function(P){var Z=1.70158;return P*P*((Z+1)*P-Z)},backOut:function(P){var Z=1.70158;return(P-=1)*P*((Z+1)*P+Z)+1},elastic:function(P){return P==!!P?P:o(2,-10*P)*g.sin(2*t*(P-.075)/.3)+1},bounce:function(P){var Z=7.5625,ie=2.75;return P<1/ie?Z*P*P:P<2/ie?Z*(P-=1.5/ie)*P+.75:P<2.5/ie?Z*(P-=2.25/ie)*P+.9375:Z*(P-=2.625/ie)*P+.984375}};Yn.easeIn=Yn["ease-in"]=Yn["<"],Yn.easeOut=Yn["ease-out"]=Yn[">"],Yn.easeInOut=Yn["ease-in-out"]=Yn["<>"],Yn["back-in"]=Yn.backIn,Yn["back-out"]=Yn.backOut;var Cn=[],Jn=Gt.requestAnimationFrame||Gt.webkitRequestAnimationFrame||Gt.mozRequestAnimationFrame||Gt.oRequestAnimationFrame||Gt.msRequestAnimationFrame||function(P){setTimeout(P,16)},Er=function(){for(var P=+new Date,Z=0;Z<Cn.length;Z++){var ie=Cn[Z];if(!ie.el.removed&&!ie.paused){var mt,Xt,fe=P-ie.start,ye=ie.ms,Me=ie.easing,Ce=ie.from,Ue=ie.diff,Ge=ie.to,Ft=ie.el,lt={},Ut={};if(ie.initstatus?(fe=(ie.initstatus*ie.anim.top-ie.prev)/(ie.percent-ie.prev)*ye,ie.status=ie.initstatus,delete ie.initstatus,ie.stop&&Cn.splice(Z--,1)):ie.status=(ie.prev+fe/ye*(ie.percent-ie.prev))/ie.anim.top,!(fe<0))if(fe<ye){var It=Me(fe/ye);for(var jt in Ce)if(Ce[Pe](jt)){switch(M[jt]){case r:mt=+Ce[jt]+It*ye*Ue[jt];break;case"colour":mt="rgb("+[Gr(oe(Ce[jt].r+It*ye*Ue[jt].r)),Gr(oe(Ce[jt].g+It*ye*Ue[jt].g)),Gr(oe(Ce[jt].b+It*ye*Ue[jt].b))].join(",")+")";break;case"path":mt=[];for(var Pt=0,un=Ce[jt].length;Pt<un;Pt++){mt[Pt]=[Ce[jt][Pt][0]];for(var tn=1,an=Ce[jt][Pt].length;tn<an;tn++)mt[Pt][tn]=+Ce[jt][Pt][tn]+It*ye*Ue[jt][Pt][tn];mt[Pt]=mt[Pt].join(A)}mt=mt.join(A);break;case"transform":if(Ue[jt].real)for(mt=[],Pt=0,un=Ce[jt].length;Pt<un;Pt++)for(mt[Pt]=[Ce[jt][Pt][0]],tn=1,an=Ce[jt][Pt].length;tn<an;tn++)mt[Pt][tn]=Ce[jt][Pt][tn]+It*ye*Ue[jt][Pt][tn];else{var Hn=function(kr){return+Ce[jt][kr]+It*ye*Ue[jt][kr]};mt=[["m",Hn(0),Hn(1),Hn(2),Hn(3),Hn(4),Hn(5)]]}break;case"csv":if("clip-rect"==jt)for(mt=[],Pt=4;Pt--;)mt[Pt]=+Ce[jt][Pt]+It*ye*Ue[jt][Pt];break;default:var xr=[][le](Ce[jt]);for(mt=[],Pt=Ft.paper.customAttributes[jt].length;Pt--;)mt[Pt]=+xr[Pt]+It*ye*Ue[jt][Pt]}lt[jt]=mt}Ft.attr(lt),function(kr,rr,ir){setTimeout(function(){gn("raphael.anim.frame."+kr,rr,ir)})}(Ft.id,Ft,ie.anim)}else{if(function(kr,rr,ir){setTimeout(function(){gn("raphael.anim.frame."+rr.id,rr,ir),gn("raphael.anim.finish."+rr.id,rr,ir),H.is(kr,"function")&&kr.call(rr)})}(ie.callback,Ft,ie.anim),Ft.attr(Ge),Cn.splice(Z--,1),ie.repeat>1&&!ie.next){for(Xt in Ge)Ge[Pe](Xt)&&(Ut[Xt]=ie.totalOrigin[Xt]);ie.el.attr(Ut),Qr(ie.anim,ie.el,ie.anim.percents[0],null,ie.totalOrigin,ie.repeat-1)}ie.next&&!ie.stop&&Qr(ie.anim,ie.el,ie.next,null,ie.totalOrigin,ie.repeat)}}}H.svg&&Ft&&Ft.paper&&Ft.paper.safari(),Cn.length&&Jn(Er)},Gr=function(P){return P>255?255:P<0?0:P};function dr(P,Z){var ie=[],fe={};if(this.ms=Z,this.times=1,P){for(var ye in P)P[Pe](ye)&&(fe[Ae(ye)]=P[ye],ie.push(Ae(ye)));ie.sort(Qe)}this.anim=fe,this.top=ie[ie.length-1],this.percents=ie}function Qr(P,Z,ie,fe,ye,Me){ie=Ae(ie);var Ce,Ue,Ge,Ft,lt,mt,Ut=P.ms,Xt={},It={},jt={};if(fe)for(un=0,tn=Cn.length;un<tn;un++){var Pt=Cn[un];if(Pt.el.id==Z.id&&Pt.anim==P){Pt.percent!=ie?(Cn.splice(un,1),Ge=1):Ue=Pt,Z.attr(Pt.totalOrigin);break}}else fe=+It;for(var un=0,tn=P.percents.length;un<tn;un++){if(P.percents[un]==ie||P.percents[un]>fe*P.top){Ut=Ut/P.top*((ie=P.percents[un])-(lt=P.percents[un-1]||0)),Ft=P.percents[un+1],Ce=P.anim[ie];break}fe&&Z.attr(P.anim[P.percents[un]])}if(Ce){if(Ue)Ue.initstatus=fe,Ue.start=new Date-Ue.ms*fe;else{for(var an in Ce)if(Ce[Pe](an)&&(M[Pe](an)||Z.paper.customAttributes[Pe](an)))switch(Xt[an]=Z.attr(an),null==Xt[an]&&(Xt[an]=D[an]),It[an]=Ce[an],M[an]){case r:jt[an]=(It[an]-Xt[an])/Ut;break;case"colour":Xt[an]=H.getRGB(Xt[an]);var Hn=H.getRGB(It[an]);jt[an]={r:(Hn.r-Xt[an].r)/Ut,g:(Hn.g-Xt[an].g)/Ut,b:(Hn.b-Xt[an].b)/Ut};break;case"path":var xr=vn(Xt[an],It[an]),kr=xr[1];for(Xt[an]=xr[0],jt[an]=[],un=0,tn=Xt[an].length;un<tn;un++){jt[an][un]=[0];for(var rr=1,ir=Xt[an][un].length;rr<ir;rr++)jt[an][un][rr]=(kr[un][rr]-Xt[an][un][rr])/Ut}break;case"transform":var or=Z._,fi=Kr(or[an],It[an]);if(fi)for(Xt[an]=fi.from,It[an]=fi.to,jt[an]=[],jt[an].real=!0,un=0,tn=Xt[an].length;un<tn;un++)for(jt[an][un]=[Xt[an][un][0]],rr=1,ir=Xt[an][un].length;rr<ir;rr++)jt[an][un][rr]=(It[an][un][rr]-Xt[an][un][rr])/Ut;else{var Fe=Z.matrix||new Gn,St={_:{transform:or.transform},getBBox:function(){return Z.getBBox(1)}};Xt[an]=[Fe.a,Fe.b,Fe.c,Fe.d,Fe.e,Fe.f],Kn(St,It[an]),It[an]=St._.transform,jt[an]=[(St.matrix.a-Fe.a)/Ut,(St.matrix.b-Fe.b)/Ut,(St.matrix.c-Fe.c)/Ut,(St.matrix.d-Fe.d)/Ut,(St.matrix.e-Fe.e)/Ut,(St.matrix.f-Fe.f)/Ut]}break;case"csv":var Vt=f(Ce[an])[b](xt),cn=f(Xt[an])[b](xt);if("clip-rect"==an)for(Xt[an]=cn,jt[an]=[],un=cn.length;un--;)jt[an][un]=(Vt[un]-Xt[an][un])/Ut;It[an]=Vt;break;default:for(Vt=[][le](Ce[an]),cn=[][le](Xt[an]),jt[an]=[],un=Z.paper.customAttributes[an].length;un--;)jt[an][un]=((Vt[un]||0)-(cn[un]||0))/Ut}var $n=Ce.easing,Ke=H.easing_formulas[$n];if(!Ke)if((Ke=f($n).match($))&&5==Ke.length){var Re=Ke;Ke=function(bt){return function ci(P,Z,ie,fe,ye,Me){var Ce=3*Z,Ue=3*(fe-Z)-Ce,Ge=1-Ce-Ue,_t=3*ie,Ft=3*(ye-ie)-_t,lt=1-_t-Ft;function mt(It){return((Ge*It+Ue)*It+Ce)*It}return function Ut(It,jt){var Pt=function Xt(It,jt){var Pt,un,tn,an,Hn,xr;for(tn=It,xr=0;xr<8;xr++){if(an=mt(tn)-It,u(an)<jt)return tn;if(u(Hn=(3*Ge*tn+2*Ue)*tn+Ce)<1e-6)break;tn-=an/Hn}if((tn=It)<(Pt=0))return Pt;if(tn>(un=1))return un;for(;Pt<un;){if(an=mt(tn),u(an-It)<jt)return tn;It>an?Pt=tn:un=tn,tn=(un-Pt)/2+Pt}return tn}(It,jt);return((lt*Pt+Ft)*Pt+_t)*Pt}(P,1/(200*Me))}(bt,+Re[1],+Re[2],+Re[3],+Re[4],Ut)}}else Ke=ut;if(Pt={anim:P,percent:ie,timestamp:mt=Ce.start||P.start||+new Date,start:mt+(P.del||0),status:0,initstatus:fe||0,stop:!1,ms:Ut,easing:Ke,from:Xt,diff:jt,to:It,el:Z,callback:Ce.callback,prev:lt,next:Ft,repeat:Me||P.times,origin:Z.attr(),totalOrigin:ye},Cn.push(Pt),fe&&!Ue&&!Ge&&(Pt.stop=!0,Pt.start=new Date-Ut*fe,1==Cn.length))return Er();Ge&&(Pt.start=new Date-Pt.ms*fe),1==Cn.length&&Jn(Er)}gn("raphael.anim.start."+Z.id,Z,P)}}function di(P){for(var Z=0;Z<Cn.length;Z++)Cn[Z].el.paper==P&&Cn.splice(Z--,1)}cr.animateWith=function(P,Z,ie,fe,ye,Me){var Ce=this;if(Ce.removed)return Me&&Me.call(Ce),Ce;var Ue=ie instanceof dr?ie:H.animation(ie,fe,ye,Me);Qr(Ue,Ce,Ue.percents[0],null,Ce.attr());for(var Ft=0,lt=Cn.length;Ft<lt;Ft++)if(Cn[Ft].anim==Z&&Cn[Ft].el==P){Cn[lt-1].start=Cn[Ft].start;break}return Ce},cr.onAnimation=function(P){return P?gn.on("raphael.anim.frame."+this.id,P):gn.unbind("raphael.anim.frame."+this.id),this},dr.prototype.delay=function(P){var Z=new dr(this.anim,this.ms);return Z.times=this.times,Z.del=+P||0,Z},dr.prototype.repeat=function(P){var Z=new dr(this.anim,this.ms);return Z.del=this.del,Z.times=g.floor(h(P,0))||1,Z},H.animation=function(P,Z,ie,fe){if(P instanceof dr)return P;(H.is(ie,"function")||!ie)&&(fe=fe||ie||null,ie=null),P=Object(P),Z=+Z||0;var Me,Ce,ye={};for(Ce in P)P[Pe](Ce)&&Ae(Ce)!=Ce&&Ae(Ce)+"%"!=Ce&&(Me=!0,ye[Ce]=P[Ce]);return Me?(ie&&(ye.easing=ie),fe&&(ye.callback=fe),new dr({100:ye},Z)):new dr(P,Z)},cr.animate=function(P,Z,ie,fe){var ye=this;if(ye.removed)return fe&&fe.call(ye),ye;var Me=P instanceof dr?P:H.animation(P,Z,ie,fe);return Qr(Me,ye,Me.percents[0],null,ye.attr()),ye},cr.setTime=function(P,Z){return P&&null!=Z&&this.status(P,s(Z,P.ms)/P.ms),this},cr.status=function(P,Z){var ye,Me,ie=[],fe=0;if(null!=Z)return Qr(P,this,-1,s(Z,1)),this;for(ye=Cn.length;fe<ye;fe++)if((Me=Cn[fe]).el.id==this.id&&(!P||Me.anim==P)){if(P)return Me.status;ie.push({anim:Me.anim,status:Me.status})}return P?0:ie},cr.pause=function(P){for(var Z=0;Z<Cn.length;Z++)Cn[Z].el.id==this.id&&(!P||Cn[Z].anim==P)&&!1!==gn("raphael.anim.pause."+this.id,this,Cn[Z].anim)&&(Cn[Z].paused=!0);return this},cr.resume=function(P){for(var Z=0;Z<Cn.length;Z++)if(Cn[Z].el.id==this.id&&(!P||Cn[Z].anim==P)){var ie=Cn[Z];!1!==gn("raphael.anim.resume."+this.id,this,ie.anim)&&(delete ie.paused,this.status(ie.anim,ie.status))}return this},cr.stop=function(P){for(var Z=0;Z<Cn.length;Z++)Cn[Z].el.id==this.id&&(!P||Cn[Z].anim==P)&&!1!==gn("raphael.anim.stop."+this.id,this,Cn[Z].anim)&&Cn.splice(Z--,1);return this},gn.on("raphael.remove",di),gn.on("raphael.clear",di),cr.toString=function(){return"Rapha\xebl\u2019s object"};var hi=function(P){if(this.items=[],this.length=0,this.type="set",P)for(var Z=0,ie=P.length;Z<ie;Z++)P[Z]&&(P[Z].constructor==cr.constructor||P[Z].constructor==hi)&&(this[this.items.length]=this.items[this.items.length]=P[Z],this.length++)},Ur=hi.prototype;for(var to in Ur.push=function(){for(var P,Z,ie=0,fe=arguments.length;ie<fe;ie++)(P=arguments[ie])&&(P.constructor==cr.constructor||P.constructor==hi)&&(this[Z=this.items.length]=this.items[Z]=P,this.length++);return this},Ur.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},Ur.forEach=function(P,Z){for(var ie=0,fe=this.items.length;ie<fe;ie++)if(!1===P.call(Z,this.items[ie],ie))return this;return this},cr)cr[Pe](to)&&(Ur[to]=function(P){return function(){var Z=arguments;return this.forEach(function(ie){ie[P][ne](ie,Z)})}}(to));return Ur.attr=function(P,Z){if(P&&H.is(P,c)&&H.is(P[0],"object"))for(var ie=0,fe=P.length;ie<fe;ie++)this.items[ie].attr(P[ie]);else for(var ye=0,Me=this.items.length;ye<Me;ye++)this.items[ye].attr(P,Z);return this},Ur.clear=function(){for(;this.length;)this.pop()},Ur.splice=function(P,Z,ie){P=P<0?h(this.length+P,0):P,Z=h(0,s(this.length-P,Z));var Ce,fe=[],ye=[],Me=[];for(Ce=2;Ce<arguments.length;Ce++)Me.push(arguments[Ce]);for(Ce=0;Ce<Z;Ce++)ye.push(this[P+Ce]);for(;Ce<this.length-P;Ce++)fe.push(this[P+Ce]);var Ue=Me.length;for(Ce=0;Ce<Ue+fe.length;Ce++)this.items[P+Ce]=this[P+Ce]=Ce<Ue?Me[Ce]:fe[Ce-Ue];for(Ce=this.items.length=this.length-=Z-Ue;this[Ce];)delete this[Ce++];return new hi(ye)},Ur.exclude=function(P){for(var Z=0,ie=this.length;Z<ie;Z++)if(this[Z]==P)return this.splice(Z,1),!0},Ur.animate=function(P,Z,ie,fe){(H.is(ie,"function")||!ie)&&(fe=ie||null);var Ce,Ge,ye=this.items.length,Me=ye,Ue=this;if(!ye)return this;fe&&(Ge=function(){!--ye&&fe.call(Ue)}),ie=H.is(ie,a)?ie:Ge;var _t=H.animation(P,Z,ie,Ge);for(Ce=this.items[--Me].animate(_t);Me--;)this.items[Me]&&!this.items[Me].removed&&this.items[Me].animateWith(Ce,_t,_t),this.items[Me]&&!this.items[Me].removed||ye--;return this},Ur.insertAfter=function(P){for(var Z=this.items.length;Z--;)this.items[Z].insertAfter(P);return this},Ur.getBBox=function(){for(var P=[],Z=[],ie=[],fe=[],ye=this.items.length;ye--;)if(!this.items[ye].removed){var Me=this.items[ye].getBBox();P.push(Me.x),Z.push(Me.y),ie.push(Me.x+Me.width),fe.push(Me.y+Me.height)}return{x:P=s[ne](0,P),y:Z=s[ne](0,Z),x2:ie=h[ne](0,ie),y2:fe=h[ne](0,fe),width:ie-P,height:fe-Z}},Ur.clone=function(P){P=this.paper.set();for(var Z=0,ie=this.items.length;Z<ie;Z++)P.push(this.items[Z].clone());return P},Ur.toString=function(){return"Rapha\xebl\u2018s set"},Ur.glow=function(P){var Z=this.paper.set();return this.forEach(function(ie,fe){ie.glow(P)?.forEach(function(Me,Ce){Z.push(Me)})}),Z},Ur.isPointInside=function(P,Z){var ie=!1;return this.forEach(function(fe){if(fe.isPointInside(P,Z))return console.log("runned"),ie=!0,!1}),ie},H.registerFont=function(P){if(!P.face)return P;this.fonts=this.fonts||{};var Z={w:P.w,face:{},glyphs:{}},ie=P.face["font-family"];for(var fe in P.face)P.face[Pe](fe)&&(Z.face[fe]=P.face[fe]);if(this.fonts[ie]?this.fonts[ie].push(Z):this.fonts[ie]=[Z],!P.svg)for(var ye in Z.face["units-per-em"]=X(P.face["units-per-em"],10),P.glyphs)if(P.glyphs[Pe](ye)){var Me=P.glyphs[ye];if(Z.glyphs[ye]={w:Me.w,k:{},d:Me.d&&"M"+Me.d.replace(/[mlcxtrv]/g,function(Ue){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[Ue]||"M"})+"z"},Me.k)for(var Ce in Me.k)Me[Pe](Ce)&&(Z.glyphs[ye].k[Ce]=Me.k[Ce])}return P},pe.getFont=function(P,Z,ie,fe){if(fe=fe||"normal",ie=ie||"normal",Z=+Z||{normal:400,bold:700,lighter:300,bolder:800}[Z]||400,H.fonts){var Ue,ye=H.fonts[P];if(!ye){var Me=new RegExp("(^|\\s)"+P.replace(/[^\w\d\s+!~.:_-]/g,N)+"(\\s|$)","i");for(var Ce in H.fonts)if(H.fonts[Pe](Ce)&&Me.test(Ce)){ye=H.fonts[Ce];break}}if(ye)for(var Ge=0,_t=ye.length;Ge<_t&&((Ue=ye[Ge]).face["font-weight"]!=Z||Ue.face["font-style"]!=ie&&Ue.face["font-style"]||Ue.face["font-stretch"]!=fe);Ge++);return Ue}},pe.print=function(P,Z,ie,fe,ye,Me,Ce,Ue){Me=Me||"middle",Ce=h(s(Ce||0,1),-1),Ue=h(s(Ue||1,3),1);var mt,Ge=f(ie)[b](N),_t=0,Ft=0,lt=N;if(H.is(fe,"string")&&(fe=this.getFont(fe)),fe){mt=(ye||16)/fe.face["units-per-em"];for(var Ut=fe.face.bbox[b](xt),Xt=+Ut[0],It=Ut[3]-Ut[1],jt=0,Pt=+Ut[1]+("baseline"==Me?It+ +fe.face.descent:It/2),un=0,tn=Ge.length;un<tn;un++){if("\n"==Ge[un])_t=0,Hn=0,Ft=0,jt+=It*Ue;else{var an=Ft&&fe.glyphs[Ge[un-1]]||{},Hn=fe.glyphs[Ge[un]];_t+=Ft?(an.w||fe.w)+(an.k&&an.k[Ge[un]]||0)+fe.w*Ce:0,Ft=1}Hn&&Hn.d&&(lt+=H.transformPath(Hn.d,["t",_t*mt,jt*mt,"s",mt,mt,Xt,Pt,"t",(P-Xt)/mt,(Z-Pt)/mt]))}}return this.path(lt).attr({fill:"#000",stroke:"none"})},pe.add=function(P){if(H.is(P,"array"))for(var ye,Z=this.set(),ie=0,fe=P.length;ie<fe;ie++)kt[Pe]((ye=P[ie]||{}).type)&&Z.push(this[ye.type]().attr(ye));return Z},H.format=function(P,Z){var ie=H.is(Z,c)?[0][le](Z):arguments;return P&&H.is(P,a)&&ie.length-1&&(P=P.replace(Q,function(fe,ye){return null==ie[++ye]?N:ie[ye]})),P||N},H.fullfill=function(){var P=/\{([^\}]+)\}/g,Z=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;return function(fe,ye){return String(fe).replace(P,function(Me,Ce){return function(fe,ye,Me){var Ce=Me;return ye.replace(Z,function(Ue,Ge,_t,Ft,lt){Ge=Ge||Ft,Ce&&(Ge in Ce&&(Ce=Ce[Ge]),"function"==typeof Ce&&lt&&(Ce=Ce()))}),Ce=(null==Ce||Ce==Me?fe:Ce)+""}(Me,Ce,ye)})}}(),H.ninja=function(){return he.was?y.win.Raphael=he.is:delete Raphael,H},H.st=Ur,function(P,Z,ie){null==P.readyState&&P.addEventListener&&(P.addEventListener(Z,ie=function(){P.removeEventListener(Z,ie,!1),P.readyState="complete"},!1),P.readyState="loading"),function fe(){/in/.test(P.readyState)?setTimeout(fe,9):H.eve("raphael.DOMload")}()}(document,"DOMContentLoaded"),gn.on("raphael.DOMload",function(){At=!0}),function(){if(H.svg){var P="hasOwnProperty",Z=String,ie=parseFloat,fe=parseInt,ye=Math,Me=ye.max,Ce=ye.abs,Ue=ye.pow,Ge=/[, ]+/,_t=H.eve,mt="http://www.w3.org/1999/xlink",Ut={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},Xt={};H.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var It=function(Fe,St){if(St)for(var Vt in"string"==typeof Fe&&(Fe=It(Fe)),St)St[P](Vt)&&("xlink:"==Vt.substring(0,6)?Fe.setAttributeNS(mt,Vt.substring(6),Z(St[Vt])):Fe.setAttribute(Vt,Z(St[Vt])));else(Fe=H._g.doc.createElementNS("http://www.w3.org/2000/svg",Fe)).style&&(Fe.style.webkitTapHighlightColor="rgba(0,0,0,0)");return Fe},jt=function(Fe,St){var Vt="linear",cn=Fe.id+St,$n=.5,Ke=.5,Re=Fe.node,bt=Fe.paper,Et=Re.style,nn=H._g.doc.getElementById(cn);if(!nn){if(St=(St=Z(St).replace(H._radial_gradient,function(_r,nr,Cr){if(Vt="radial",nr&&Cr){$n=ie(nr);var gr=2*((Ke=ie(Cr))>.5)-1;Ue($n-.5,2)+Ue(Ke-.5,2)>.25&&(Ke=ye.sqrt(.25-Ue($n-.5,2))*gr+.5)&&.5!=Ke&&(Ke=Ke.toFixed(5)-1e-5*gr)}return""})).split(/\s*\-\s*/),"linear"==Vt){var xn=St.shift();if(xn=-ie(xn),isNaN(xn))return null;var fn=[0,0,ye.cos(H.rad(xn)),ye.sin(H.rad(xn))],En=1/(Me(Ce(fn[2]),Ce(fn[3]))||1);fn[2]*=En,fn[3]*=En,fn[2]<0&&(fn[0]=-fn[2],fn[2]=0),fn[3]<0&&(fn[1]=-fn[3],fn[3]=0)}var yn=H._parseDots(St);if(!yn)return null;if(cn=cn.replace(/[\(\)\s,\xb0#]/g,"_"),Fe.gradient&&cn!=Fe.gradient.id&&(bt.defs.removeChild(Fe.gradient),delete Fe.gradient),!Fe.gradient){nn=It(Vt+"Gradient",{id:cn}),Fe.gradient=nn,It(nn,"radial"==Vt?{fx:$n,fy:Ke}:{x1:fn[0],y1:fn[1],x2:fn[2],y2:fn[3],gradientTransform:Fe.matrix.invert()}),bt.defs.appendChild(nn);for(var Pn=0,qn=yn.length;Pn<qn;Pn++)nn.appendChild(It("stop",{offset:yn[Pn].offset?yn[Pn].offset:Pn?"100%":"0%","stop-color":yn[Pn].color||"#fff"}))}}return It(Re,{fill:"url(#"+cn+")",opacity:1,"fill-opacity":1}),Et.fill="",Et.opacity=1,Et.fillOpacity=1,1},Pt=function(Fe){var St=Fe.getBBox(1);It(Fe.pattern,{patternTransform:Fe.matrix.invert()+" translate("+St.x+","+St.y+")"})},un=function(Fe,St,Vt){if("path"==Fe.type){for(var fn,En,yn,Pn,qn,cn=Z(St).toLowerCase().split("-"),$n=Fe.paper,Ke=Vt?"end":"start",Re=Fe.node,bt=Fe.attrs,Et=bt["stroke-width"],nn=cn.length,xn="classic",_r=3,nr=3,Cr=5;nn--;)switch(cn[nn]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":xn=cn[nn];break;case"wide":nr=5;break;case"narrow":nr=2;break;case"long":_r=5;break;case"short":_r=2}if("open"==xn?(_r+=2,nr+=2,Cr+=2,yn=1,Pn=Vt?4:1,qn={fill:"none",stroke:bt.stroke}):(Pn=yn=_r/2,qn={fill:bt.stroke,stroke:"none"}),Fe._.arrows?Vt?(Fe._.arrows.endPath&&Xt[Fe._.arrows.endPath]--,Fe._.arrows.endMarker&&Xt[Fe._.arrows.endMarker]--):(Fe._.arrows.startPath&&Xt[Fe._.arrows.startPath]--,Fe._.arrows.startMarker&&Xt[Fe._.arrows.startMarker]--):Fe._.arrows={},"none"!=xn){var gr="raphael-marker-"+xn,Tr="raphael-marker-"+Ke+xn+_r+nr;H._g.doc.getElementById(gr)?Xt[gr]++:($n.defs.appendChild(It(It("path"),{"stroke-linecap":"round",d:Ut[xn],id:gr})),Xt[gr]=1);var Lr,br=H._g.doc.getElementById(Tr);br?(Xt[Tr]++,Lr=br.getElementsByTagName("use")[0]):(br=It(It("marker"),{id:Tr,markerHeight:nr,markerWidth:_r,orient:"auto",refX:Pn,refY:nr/2}),Lr=It(It("use"),{"xlink:href":"#"+gr,transform:(Vt?"rotate(180 "+_r/2+" "+nr/2+") ":"")+"scale("+_r/Cr+","+nr/Cr+")","stroke-width":(1/((_r/Cr+nr/Cr)/2)).toFixed(4)}),br.appendChild(Lr),$n.defs.appendChild(br),Xt[Tr]=1),It(Lr,qn);var yr=yn*("diamond"!=xn&&"oval"!=xn);Vt?(fn=Fe._.arrows.startdx*Et||0,En=H.getTotalLength(bt.path)-yr*Et):(fn=yr*Et,En=H.getTotalLength(bt.path)-(Fe._.arrows.enddx*Et||0)),(qn={})["marker-"+Ke]="url(#"+Tr+")",(En||fn)&&(qn.d=H.getSubpath(bt.path,fn,En)),It(Re,qn),Fe._.arrows[Ke+"Path"]=gr,Fe._.arrows[Ke+"Marker"]=Tr,Fe._.arrows[Ke+"dx"]=yr,Fe._.arrows[Ke+"Type"]=xn,Fe._.arrows[Ke+"String"]=St}else Vt?(fn=Fe._.arrows.startdx*Et||0,En=H.getTotalLength(bt.path)-fn):(fn=0,En=H.getTotalLength(bt.path)-(Fe._.arrows.enddx*Et||0)),Fe._.arrows[Ke+"Path"]&&It(Re,{d:H.getSubpath(bt.path,fn,En)}),delete Fe._.arrows[Ke+"Path"],delete Fe._.arrows[Ke+"Marker"],delete Fe._.arrows[Ke+"dx"],delete Fe._.arrows[Ke+"Type"],delete Fe._.arrows[Ke+"String"];for(qn in Xt)if(Xt[P](qn)&&!Xt[qn]){var ni=H._g.doc.getElementById(qn);ni&&ni.parentNode.removeChild(ni)}}},tn={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},an=function(Fe,St,Vt){if(St=tn[Z(St).toLowerCase()]){for(var cn=Fe.attrs["stroke-width"]||"1",$n={round:cn,square:cn,butt:0}[Fe.attrs["stroke-linecap"]||Vt["stroke-linecap"]]||0,Ke=[],Re=St.length;Re--;)Ke[Re]=St[Re]*cn+(Re%2?1:-1)*$n;It(Fe.node,{"stroke-dasharray":Ke.join(",")})}},Hn=function(Fe,St){var Vt=Fe.node,cn=Fe.attrs,$n=Vt.style.visibility;for(var Ke in Vt.style.visibility="hidden",St)if(St[P](Ke)){if(!H._availableAttrs[P](Ke))continue;var Re=St[Ke];switch(cn[Ke]=Re,Ke){case"blur":Fe.blur(Re);break;case"href":case"title":var bt=It("title"),Et=H._g.doc.createTextNode(Re);bt.appendChild(Et),Vt.appendChild(bt);break;case"target":var nn=Vt.parentNode;"a"!=nn.tagName.toLowerCase()&&(bt=It("a"),nn.insertBefore(bt,Vt),bt.appendChild(Vt),nn=bt),"target"==Ke?nn.setAttributeNS(mt,"show","blank"==Re?"new":Re):nn.setAttributeNS(mt,Ke,Re);break;case"cursor":Vt.style.cursor=Re;break;case"transform":Fe.transform(Re);break;case"arrow-start":un(Fe,Re);break;case"arrow-end":un(Fe,Re,1);break;case"clip-rect":var xn=Z(Re).split(Ge);if(4==xn.length){Fe.clip&&Fe.clip.parentNode.parentNode.removeChild(Fe.clip.parentNode);var fn=It("clipPath"),En=It("rect");fn.id=H.createUUID(),It(En,{x:xn[0],y:xn[1],width:xn[2],height:xn[3]}),fn.appendChild(En),Fe.paper.defs.appendChild(fn),It(Vt,{"clip-path":"url(#"+fn.id+")"}),Fe.clip=En}if(!Re){var yn=Vt.getAttribute("clip-path");if(yn){var Pn=H._g.doc.getElementById(yn.replace(/(^url\(#|\)$)/g,""));Pn&&Pn.parentNode.removeChild(Pn),It(Vt,{"clip-path":""}),delete Fe.clip}}break;case"path":"path"==Fe.type&&(It(Vt,{d:Re?cn.path=H._pathToAbsolute(Re):"M0,0"}),Fe._.dirty=1,Fe._.arrows&&("startString"in Fe._.arrows&&un(Fe,Fe._.arrows.startString),"endString"in Fe._.arrows&&un(Fe,Fe._.arrows.endString,1)));break;case"width":if(Vt.setAttribute(Ke,Re),Fe._.dirty=1,!cn.fx)break;Ke="x",Re=cn.x;case"x":cn.fx&&(Re=-cn.x-(cn.width||0));case"rx":if("rx"==Ke&&"rect"==Fe.type)break;case"cx":Vt.setAttribute(Ke,Re),Fe.pattern&&Pt(Fe),Fe._.dirty=1;break;case"height":if(Vt.setAttribute(Ke,Re),Fe._.dirty=1,!cn.fy)break;Ke="y",Re=cn.y;case"y":cn.fy&&(Re=-cn.y-(cn.height||0));case"ry":if("ry"==Ke&&"rect"==Fe.type)break;case"cy":Vt.setAttribute(Ke,Re),Fe.pattern&&Pt(Fe),Fe._.dirty=1;break;case"r":"rect"==Fe.type?It(Vt,{rx:Re,ry:Re}):Vt.setAttribute(Ke,Re),Fe._.dirty=1;break;case"src":"image"==Fe.type&&Vt.setAttributeNS(mt,"href",Re);break;case"stroke-width":(1!=Fe._.sx||1!=Fe._.sy)&&(Re/=Me(Ce(Fe._.sx),Ce(Fe._.sy))||1),Fe.paper._vbSize&&(Re*=Fe.paper._vbSize),Vt.setAttribute(Ke,Re),cn["stroke-dasharray"]&&an(Fe,cn["stroke-dasharray"],St),Fe._.arrows&&("startString"in Fe._.arrows&&un(Fe,Fe._.arrows.startString),"endString"in Fe._.arrows&&un(Fe,Fe._.arrows.endString,1));break;case"stroke-dasharray":an(Fe,Re,St);break;case"fill":var qn=Z(Re).match(H._ISURL);if(qn){fn=It("pattern");var _r=It("image");fn.id=H.createUUID(),It(fn,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),It(_r,{x:0,y:0,"xlink:href":qn[1]}),fn.appendChild(_r),function(br){H._preload(qn[1],function(){var Lr=this.offsetWidth,yr=this.offsetHeight;It(br,{width:Lr,height:yr}),It(_r,{width:Lr,height:yr}),Fe.paper.safari()})}(fn),Fe.paper.defs.appendChild(fn),It(Vt,{fill:"url(#"+fn.id+")"}),Fe.pattern=fn,Fe.pattern&&Pt(Fe);break}var nr=H.getRGB(Re);if(nr.error){if(("circle"==Fe.type||"ellipse"==Fe.type||"r"!=Z(Re).charAt())&&jt(Fe,Re)){if("opacity"in cn||"fill-opacity"in cn){var Cr=H._g.doc.getElementById(Vt.getAttribute("fill").replace(/^url\(#|\)$/g,""));if(Cr){var gr=Cr.getElementsByTagName("stop");It(gr[gr.length-1],{"stop-opacity":("opacity"in cn?cn.opacity:1)*("fill-opacity"in cn?cn["fill-opacity"]:1)})}}cn.gradient=Re,cn.fill="none";break}}else delete St.gradient,delete cn.gradient,!H.is(cn.opacity,"undefined")&&H.is(St.opacity,"undefined")&&It(Vt,{opacity:cn.opacity}),!H.is(cn["fill-opacity"],"undefined")&&H.is(St["fill-opacity"],"undefined")&&It(Vt,{"fill-opacity":cn["fill-opacity"]});nr[P]("opacity")&&It(Vt,{"fill-opacity":nr.opacity>1?nr.opacity/100:nr.opacity});case"stroke":nr=H.getRGB(Re),Vt.setAttribute(Ke,nr.hex),"stroke"==Ke&&nr[P]("opacity")&&It(Vt,{"stroke-opacity":nr.opacity>1?nr.opacity/100:nr.opacity}),"stroke"==Ke&&Fe._.arrows&&("startString"in Fe._.arrows&&un(Fe,Fe._.arrows.startString),"endString"in Fe._.arrows&&un(Fe,Fe._.arrows.endString,1));break;case"gradient":("circle"==Fe.type||"ellipse"==Fe.type||"r"!=Z(Re).charAt())&&jt(Fe,Re);break;case"opacity":cn.gradient&&!cn[P]("stroke-opacity")&&It(Vt,{"stroke-opacity":Re>1?Re/100:Re});case"fill-opacity":if(cn.gradient){(Cr=H._g.doc.getElementById(Vt.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(gr=Cr.getElementsByTagName("stop"),It(gr[gr.length-1],{"stop-opacity":Re}));break}default:"font-size"==Ke&&(Re=fe(Re,10)+"px");var Tr=Ke.replace(/(\-.)/g,function(br){return br.substring(1).toUpperCase()});Vt.style[Tr]=Re,Fe._.dirty=1,Vt.setAttribute(Ke,Re)}}kr(Fe,St),Vt.style.visibility=$n},kr=function(Fe,St){if("text"==Fe.type&&(St[P]("text")||St[P]("font")||St[P]("font-size")||St[P]("x")||St[P]("y"))){var Vt=Fe.attrs,cn=Fe.node,$n=cn.firstChild?fe(H._g.doc.defaultView.getComputedStyle(cn.firstChild,"").getPropertyValue("font-size"),10):10;if(St[P]("text")){for(Vt.text=St.text;cn.firstChild;)cn.removeChild(cn.firstChild);for(var bt,Ke=Z(St.text).split("\n"),Re=[],Et=0,nn=Ke.length;Et<nn;Et++)bt=It("tspan"),Et&&It(bt,{dy:1.2*$n,x:Vt.x}),bt.appendChild(H._g.doc.createTextNode(Ke[Et])),cn.appendChild(bt),Re[Et]=bt}else for(Et=0,nn=(Re=cn.getElementsByTagName("tspan")).length;Et<nn;Et++)Et?It(Re[Et],{dy:1.2*$n,x:Vt.x}):It(Re[0],{dy:0});It(cn,{x:Vt.x,y:Vt.y}),Fe._.dirty=1;var xn=Fe._getBBox(),fn=Vt.y-(xn.y+xn.height/2);fn&&H.is(fn,"finite")&&It(Re[0],{dy:fn})}},rr=function(Fe,St){this[0]=this.node=Fe,Fe.raphael=!0,this.id=H._oid++,Fe.raphaelid=this.id,this.matrix=H.matrix(),this.realPath=null,this.paper=St,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!St.bottom&&(St.bottom=this),this.prev=St.top,St.top&&(St.top.next=this),St.top=this,this.next=null},ir=H.el;rr.prototype=ir,ir.constructor=rr,H._engine.path=function(Fe,St){var Vt=It("path");St.canvas&&St.canvas.appendChild(Vt);var cn=new rr(Vt,St);return cn.type="path",Hn(cn,{fill:"none",stroke:"#000",path:Fe}),cn},ir.rotate=function(Fe,St,Vt){if(this.removed)return this;if((Fe=Z(Fe).split(Ge)).length-1&&(St=ie(Fe[1]),Vt=ie(Fe[2])),Fe=ie(Fe[0]),null==Vt&&(St=Vt),null==St||null==Vt){var cn=this.getBBox(1);St=cn.x+cn.width/2,Vt=cn.y+cn.height/2}return this.transform(this._.transform.concat([["r",Fe,St,Vt]])),this},ir.scale=function(Fe,St,Vt,cn){if(this.removed)return this;if((Fe=Z(Fe).split(Ge)).length-1&&(St=ie(Fe[1]),Vt=ie(Fe[2]),cn=ie(Fe[3])),Fe=ie(Fe[0]),null==St&&(St=Fe),null==cn&&(Vt=cn),null==Vt||null==cn)var $n=this.getBBox(1);return this.transform(this._.transform.concat([["s",Fe,St,Vt=Vt??$n.x+$n.width/2,cn=cn??$n.y+$n.height/2]])),this},ir.translate=function(Fe,St){return this.removed||((Fe=Z(Fe).split(Ge)).length-1&&(St=ie(Fe[1])),Fe=ie(Fe[0])||0,this.transform(this._.transform.concat([["t",Fe,St=+St||0]]))),this},ir.transform=function(Fe){var St=this._;if(null==Fe)return St.transform;if(H._extractTransform(this,Fe),this.clip&&It(this.clip,{transform:this.matrix.invert()}),this.pattern&&Pt(this),this.node&&It(this.node,{transform:this.matrix}),1!=St.sx||1!=St.sy){var Vt=this.attrs[P]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":Vt})}return this},ir.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},ir.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},ir.remove=function(){if(!this.removed&&this.node.parentNode){var Fe=this.paper;for(var St in Fe.__set__&&Fe.__set__.exclude(this),_t.unbind("raphael.*.*."+this.id),this.gradient&&Fe.defs.removeChild(this.gradient),H._tear(this,Fe),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node),this)this[St]="function"==typeof this[St]?H._removedFactory(St):null;this.removed=!0}},ir._getBBox=function(){if("none"==this.node.style.display){this.show();var Fe=!0}var St={};try{St=this.node.getBBox()}catch{}finally{St=St||{}}return Fe&&this.hide(),St},ir.attr=function(Fe,St){if(this.removed)return this;if(null==Fe){var Vt={};for(var cn in this.attrs)this.attrs[P](cn)&&(Vt[cn]=this.attrs[cn]);return Vt.gradient&&"none"==Vt.fill&&(Vt.fill=Vt.gradient)&&delete Vt.gradient,Vt.transform=this._.transform,Vt}if(null==St&&H.is(Fe,"string")){if("fill"==Fe&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==Fe)return this._.transform;for(var $n=Fe.split(Ge),Ke={},Re=0,bt=$n.length;Re<bt;Re++)Ke[Fe=$n[Re]]=Fe in this.attrs?this.attrs[Fe]:H.is(this.paper.customAttributes[Fe],"function")?this.paper.customAttributes[Fe].def:H._availableAttrs[Fe];return bt-1?Ke:Ke[$n[0]]}if(null==St&&H.is(Fe,"array")){for(Ke={},Re=0,bt=Fe.length;Re<bt;Re++)Ke[Fe[Re]]=this.attr(Fe[Re]);return Ke}if(null!=St){var Et={};Et[Fe]=St}else null!=Fe&&H.is(Fe,"object")&&(Et=Fe);for(var nn in Et)_t("raphael.attr."+nn+"."+this.id,this,Et[nn]);for(nn in this.paper.customAttributes)if(this.paper.customAttributes[P](nn)&&Et[P](nn)&&H.is(this.paper.customAttributes[nn],"function")){var xn=this.paper.customAttributes[nn].apply(this,[].concat(Et[nn]));for(var fn in this.attrs[nn]=Et[nn],xn)xn[P](fn)&&(Et[fn]=xn[fn])}return Hn(this,Et),this},ir.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var Fe=this.paper;return Fe.top!=this&&H._tofront(this,Fe),this},ir.toBack=function(){if(this.removed)return this;var Fe=this.node.parentNode;return"a"==Fe.tagName.toLowerCase()?Fe.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):Fe.firstChild!=this.node&&Fe.insertBefore(this.node,this.node.parentNode.firstChild),H._toback(this,this.paper),this},ir.insertAfter=function(Fe){if(this.removed)return this;var St=Fe.node||Fe[Fe.length-1].node;return St.nextSibling?St.parentNode.insertBefore(this.node,St.nextSibling):St.parentNode.appendChild(this.node),H._insertafter(this,Fe,this.paper),this},ir.insertBefore=function(Fe){if(this.removed)return this;var St=Fe.node||Fe[0].node;return St.parentNode.insertBefore(this.node,St),H._insertbefore(this,Fe,this.paper),this},ir.blur=function(Fe){var St=this;if(0!=+Fe){var Vt=It("filter"),cn=It("feGaussianBlur");St.attrs.blur=Fe,Vt.id=H.createUUID(),It(cn,{stdDeviation:+Fe||1.5}),Vt.appendChild(cn),St.paper.defs.appendChild(Vt),St._blur=Vt,It(St.node,{filter:"url(#"+Vt.id+")"})}else St._blur&&(St._blur.parentNode.removeChild(St._blur),delete St._blur,delete St.attrs.blur),St.node.removeAttribute("filter");return St},H._engine.circle=function(Fe,St,Vt,cn){var $n=It("circle");Fe.canvas&&Fe.canvas.appendChild($n);var Ke=new rr($n,Fe);return Ke.attrs={cx:St,cy:Vt,r:cn,fill:"none",stroke:"#000"},Ke.type="circle",It($n,Ke.attrs),Ke},H._engine.rect=function(Fe,St,Vt,cn,$n,Ke){var Re=It("rect");Fe.canvas&&Fe.canvas.appendChild(Re);var bt=new rr(Re,Fe);return bt.attrs={x:St,y:Vt,width:cn,height:$n,r:Ke||0,rx:Ke||0,ry:Ke||0,fill:"none",stroke:"#000"},bt.type="rect",It(Re,bt.attrs),bt},H._engine.ellipse=function(Fe,St,Vt,cn,$n){var Ke=It("ellipse");Fe.canvas&&Fe.canvas.appendChild(Ke);var Re=new rr(Ke,Fe);return Re.attrs={cx:St,cy:Vt,rx:cn,ry:$n,fill:"none",stroke:"#000"},Re.type="ellipse",It(Ke,Re.attrs),Re},H._engine.image=function(Fe,St,Vt,cn,$n,Ke){var Re=It("image");It(Re,{x:Vt,y:cn,width:$n,height:Ke,preserveAspectRatio:"none"}),Re.setAttributeNS(mt,"href",St),Fe.canvas&&Fe.canvas.appendChild(Re);var bt=new rr(Re,Fe);return bt.attrs={x:Vt,y:cn,width:$n,height:Ke,src:St},bt.type="image",bt},H._engine.text=function(Fe,St,Vt,cn){var $n=It("text");Fe.canvas&&Fe.canvas.appendChild($n);var Ke=new rr($n,Fe);return Ke.attrs={x:St,y:Vt,"text-anchor":"middle",text:cn,font:H._availableAttrs.font,stroke:"none",fill:"#000"},Ke.type="text",Hn(Ke,Ke.attrs),Ke},H._engine.setSize=function(Fe,St){return this.width=Fe||this.width,this.height=St||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},H._engine.create=function(){var Fe=H._getContainer.apply(0,arguments),St=Fe&&Fe.container,Vt=Fe.x,cn=Fe.y,$n=Fe.width,Ke=Fe.height;if(!St)throw new Error("SVG container not found.");var Et,Re=It("svg"),bt="overflow:hidden;";return Vt=Vt||0,cn=cn||0,It(Re,{height:Ke=Ke||342,version:1.1,width:$n=$n||512,xmlns:"http://www.w3.org/2000/svg"}),1==St?(Re.style.cssText=bt+"position:absolute;left:"+Vt+"px;top:"+cn+"px",H._g.doc.body.appendChild(Re),Et=1):(Re.style.cssText=bt+"position:relative",St.firstChild?St.insertBefore(Re,St.firstChild):St.appendChild(Re)),(St=new H._Paper).width=$n,St.height=Ke,St.canvas=Re,St.clear(),St._left=St._top=0,Et&&(St.renderfix=function(){}),St.renderfix(),St},H._engine.setViewBox=function(Fe,St,Vt,cn,$n){_t("raphael.setViewBox",this,this._viewBox,[Fe,St,Vt,cn,$n]);var Et,Ke=Me(Vt/this.width,cn/this.height),Re=this.top,bt=$n?"meet":"xMinYMin";for(null==Fe?(this._vbSize&&(Ke=1),delete this._vbSize,Et="0 0 "+this.width+" "+this.height):(this._vbSize=Ke,Et=Fe+" "+St+" "+Vt+" "+cn),It(this.canvas,{viewBox:Et,preserveAspectRatio:bt});Ke&&Re;)Re.attr({"stroke-width":"stroke-width"in Re.attrs?Re.attrs["stroke-width"]:1}),Re._.dirty=1,Re._.dirtyT=1,Re=Re.prev;return this._viewBox=[Fe,St,Vt,cn,!!$n],this},H.prototype.renderfix=function(){var Vt,Fe=this.canvas,St=Fe.style;try{Vt=Fe.getScreenCTM()||Fe.createSVGMatrix()}catch{Vt=Fe.createSVGMatrix()}var cn=-Vt.e%1,$n=-Vt.f%1;(cn||$n)&&(cn&&(this._left=(this._left+cn)%1,St.left=this._left+"px"),$n&&(this._top=(this._top+$n)%1,St.top=this._top+"px"))},H.prototype.clear=function(){H.eve("raphael.clear",this);for(var Fe=this.canvas;Fe.firstChild;)Fe.removeChild(Fe.firstChild);this.bottom=this.top=null,(this.desc=It("desc")).appendChild(H._g.doc.createTextNode("Created with Rapha\xebl "+H.version)),Fe.appendChild(this.desc),Fe.appendChild(this.defs=It("defs"))},H.prototype.remove=function(){for(var Fe in _t("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[Fe]="function"==typeof this[Fe]?H._removedFactory(Fe):null};var or=H.st;for(var fi in ir)ir[P](fi)&&!or[P](fi)&&(or[fi]=function(Fe){return function(){var St=arguments;return this.forEach(function(Vt){Vt[Fe].apply(Vt,St)})}}(fi))}}(),function(){if(H.vml){var P="hasOwnProperty",Z=String,ie=parseFloat,fe=Math,ye=fe.round,Me=fe.max,Ce=fe.min,Ue=fe.abs,Ge="fill",_t=/[, ]+/,Ft=H.eve,mt=" ",Xt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},It=/([clmz]),?([^clmz]*)/gi,jt=/ progid:\S+Blur\([^\)]+\)/g,Pt=/-?[^,\s-]+/g,un="position:absolute;left:0;top:0;width:1px;height:1px",tn=21600,an={path:1,rect:1,image:1},Hn={circle:1,ellipse:1},kr=function(Ke,Re,bt){var Et=H.matrix();return Et.rotate(-Ke,.5,.5),{dx:Et.x(Re,bt),dy:Et.y(Re,bt)}},rr=function(Ke,Re,bt,Et,nn,xn){var fn=Ke._,En=Ke.matrix,yn=fn.fillpos,Pn=Ke.node,qn=Pn.style,_r=1,nr="",gr=tn/Re,Tr=tn/bt;if(qn.visibility="hidden",Re&&bt){if(Pn.coordsize=Ue(gr)+mt+Ue(Tr),qn.rotation=xn*(Re*bt<0?-1:1),xn){var br=kr(xn,Et,nn);Et=br.dx,nn=br.dy}if(Re<0&&(nr+="x"),bt<0&&(nr+=" y")&&(_r=-1),qn.flip=nr,Pn.coordorigin=Et*-gr+mt+nn*-Tr,yn||fn.fillsize){var Lr=Pn.getElementsByTagName(Ge);Pn.removeChild(Lr=Lr&&Lr[0]),yn&&(br=kr(xn,En.x(yn[0],yn[1]),En.y(yn[0],yn[1])),Lr.position=br.dx*_r+mt+br.dy*_r),fn.fillsize&&(Lr.size=fn.fillsize[0]*Ue(Re)+mt+fn.fillsize[1]*Ue(bt)),Pn.appendChild(Lr)}qn.visibility="visible"}};H.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var Vt,ir=function(Ke,Re,bt){for(var Et=Z(Re).toLowerCase().split("-"),nn=bt?"end":"start",xn=Et.length,fn="classic",En="medium",yn="medium";xn--;)switch(Et[xn]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":fn=Et[xn];break;case"wide":case"narrow":yn=Et[xn];break;case"long":case"short":En=Et[xn]}var Pn=Ke.node.getElementsByTagName("stroke")[0];Pn[nn+"arrow"]=fn,Pn[nn+"arrowlength"]=En,Pn[nn+"arrowwidth"]=yn},or=function(Ke,Re){Ke.attrs=Ke.attrs||{};var bt=Ke.node,Et=Ke.attrs,nn=bt.style,fn=an[Ke.type]&&(Re.x!=Et.x||Re.y!=Et.y||Re.width!=Et.width||Re.height!=Et.height||Re.cx!=Et.cx||Re.cy!=Et.cy||Re.rx!=Et.rx||Re.ry!=Et.ry||Re.r!=Et.r),En=Hn[Ke.type]&&(Et.cx!=Re.cx||Et.cy!=Re.cy||Et.r!=Re.r||Et.rx!=Re.rx||Et.ry!=Re.ry),yn=Ke;for(var Pn in Re)Re[P](Pn)&&(Et[Pn]=Re[Pn]);if(fn&&(Et.path=H._getPath[Ke.type](Ke),Ke._.dirty=1),Re.href&&(bt.href=Re.href),Re.title&&(bt.title=Re.title),Re.target&&(bt.target=Re.target),Re.cursor&&(nn.cursor=Re.cursor),"blur"in Re&&Ke.blur(Re.blur),(Re.path&&"path"==Ke.type||fn)&&(bt.path=function(Ke){var Re=/[ahqstv]/gi,bt=H._pathToAbsolute;if(Z(Ke).match(Re)&&(bt=H._path2curve),Re=/[clmz]/g,bt==H._pathToAbsolute&&!Z(Ke).match(Re)){var Et=Z(Ke).replace(It,function(_r,nr,Cr){var gr=[],Tr="m"==nr.toLowerCase(),br=Xt[nr];return Cr.replace(Pt,function(Lr){Tr&&2==gr.length&&(br+=gr+Xt["m"==nr?"l":"L"],gr=[]),gr.push(ye(Lr*tn))}),br+gr});return Et}var xn,fn,nn=bt(Ke);Et=[];for(var En=0,yn=nn.length;En<yn;En++){xn=nn[En],"z"==(fn=nn[En][0].toLowerCase())&&(fn="x");for(var Pn=1,qn=xn.length;Pn<qn;Pn++)fn+=ye(xn[Pn]*tn)+(Pn!=qn-1?",":"");Et.push(fn)}return Et.join(mt)}(~Z(Et.path).toLowerCase().indexOf("r")?H._pathToAbsolute(Et.path):Et.path),"image"==Ke.type&&(Ke._.fillpos=[Et.x,Et.y],Ke._.fillsize=[Et.width,Et.height],rr(Ke,1,1,0,0,0))),"transform"in Re&&Ke.transform(Re.transform),En){var qn=+Et.cx,_r=+Et.cy,nr=+Et.rx||+Et.r||0,Cr=+Et.ry||+Et.r||0;bt.path=H.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",ye((qn-nr)*tn),ye((_r-Cr)*tn),ye((qn+nr)*tn),ye((_r+Cr)*tn),ye(qn*tn)),Ke._.dirty=1}if("clip-rect"in Re){var gr=Z(Re["clip-rect"]).split(_t);if(4==gr.length){gr[2]=+gr[2]+ +gr[0],gr[3]=+gr[3]+ +gr[1];var Tr=bt.clipRect||H._g.doc.createElement("div"),br=Tr.style;br.clip=H.format("rect({1}px {2}px {3}px {0}px)",gr),bt.clipRect||(br.position="absolute",br.top=0,br.left=0,br.width=Ke.paper.width+"px",br.height=Ke.paper.height+"px",bt.parentNode.insertBefore(Tr,bt),Tr.appendChild(bt),bt.clipRect=Tr)}Re["clip-rect"]||bt.clipRect&&(bt.clipRect.style.clip="auto")}if(Ke.textpath){var Lr=Ke.textpath.style;Re.font&&(Lr.font=Re.font),Re["font-family"]&&(Lr.fontFamily='"'+Re["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),Re["font-size"]&&(Lr.fontSize=Re["font-size"]),Re["font-weight"]&&(Lr.fontWeight=Re["font-weight"]),Re["font-style"]&&(Lr.fontStyle=Re["font-style"])}if("arrow-start"in Re&&ir(yn,Re["arrow-start"]),"arrow-end"in Re&&ir(yn,Re["arrow-end"],1),null!=Re.opacity||null!=Re["stroke-width"]||null!=Re.fill||null!=Re.src||null!=Re.stroke||null!=Re["stroke-width"]||null!=Re["stroke-opacity"]||null!=Re["fill-opacity"]||null!=Re["stroke-dasharray"]||null!=Re["stroke-miterlimit"]||null!=Re["stroke-linejoin"]||null!=Re["stroke-linecap"]){var yr=bt.getElementsByTagName(Ge);if(!(yr=yr&&yr[0])&&(yr=Vt(Ge)),"image"==Ke.type&&Re.src&&(yr.src=Re.src),Re.fill&&(yr.on=!0),(null==yr.on||"none"==Re.fill||null===Re.fill)&&(yr.on=!1),yr.on&&Re.fill){var wi=Z(Re.fill).match(H._ISURL);if(wi){yr.parentNode==bt&&bt.removeChild(yr),yr.rotate=!0,yr.src=wi[1],yr.type="tile";var pi=Ke.getBBox(1);yr.position=pi.x+mt+pi.y,Ke._.fillpos=[pi.x,pi.y],H._preload(wi[1],function(){Ke._.fillsize=[this.offsetWidth,this.offsetHeight]})}else yr.color=H.getRGB(Re.fill).hex,yr.src="",yr.type="solid",H.getRGB(Re.fill).error&&(yn.type in{circle:1,ellipse:1}||"r"!=Z(Re.fill).charAt())&&fi(yn,Re.fill,yr)&&(Et.fill="none",Et.gradient=Re.fill,yr.rotate=!1)}if("fill-opacity"in Re||"opacity"in Re){var gi=((+Et["fill-opacity"]+1||2)-1)*((+Et.opacity+1||2)-1)*((+H.getRGB(Re.fill).o+1||2)-1);gi=Ce(Me(gi,0),1),yr.opacity=gi,yr.src&&(yr.color="none")}bt.appendChild(yr);var ei=bt.getElementsByTagName("stroke")&&bt.getElementsByTagName("stroke")[0],$i=!1;!ei&&($i=ei=Vt("stroke")),(Re.stroke&&"none"!=Re.stroke||Re["stroke-width"]||null!=Re["stroke-opacity"]||Re["stroke-dasharray"]||Re["stroke-miterlimit"]||Re["stroke-linejoin"]||Re["stroke-linecap"])&&(ei.on=!0),("none"==Re.stroke||null===Re.stroke||null==ei.on||0==Re.stroke||0==Re["stroke-width"])&&(ei.on=!1);var Xi=H.getRGB(Re.stroke);ei.on&&Re.stroke&&(ei.color=Xi.hex),gi=((+Et["stroke-opacity"]+1||2)-1)*((+Et.opacity+1||2)-1)*((+Xi.o+1||2)-1);var Ni=.75*(ie(Re["stroke-width"])||1);if(gi=Ce(Me(gi,0),1),null==Re["stroke-width"]&&(Ni=Et["stroke-width"]),Re["stroke-width"]&&(ei.weight=Ni),Ni&&Ni<1&&(gi*=Ni)&&(ei.weight=1),ei.opacity=gi,Re["stroke-linejoin"]&&(ei.joinstyle=Re["stroke-linejoin"]||"miter"),ei.miterlimit=Re["stroke-miterlimit"]||8,Re["stroke-linecap"]&&(ei.endcap="butt"==Re["stroke-linecap"]?"flat":"square"==Re["stroke-linecap"]?"square":"round"),Re["stroke-dasharray"]){var mi={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};ei.dashstyle=mi[P](Re["stroke-dasharray"])?mi[Re["stroke-dasharray"]]:""}$i&&bt.appendChild(ei)}if("text"==yn.type){yn.paper.canvas.style.display="";var Vi=yn.paper.span,Ui=Et.font&&Et.font.match(/\d+(?:\.\d*)?(?=px)/);nn=Vi.style,Et.font&&(nn.font=Et.font),Et["font-family"]&&(nn.fontFamily=Et["font-family"]),Et["font-weight"]&&(nn.fontWeight=Et["font-weight"]),Et["font-style"]&&(nn.fontStyle=Et["font-style"]),Ui=ie(Et["font-size"]||Ui&&Ui[0])||10,nn.fontSize=100*Ui+"px",yn.textpath.string&&(Vi.innerHTML=Z(yn.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Ai=Vi.getBoundingClientRect();yn.W=Et.w=(Ai.right-Ai.left)/100,yn.H=Et.h=(Ai.bottom-Ai.top)/100,yn.X=Et.x,yn.Y=Et.y+yn.H/2,("x"in Re||"y"in Re)&&(yn.path.v=H.format("m{0},{1}l{2},{1}",ye(Et.x*tn),ye(Et.y*tn),ye(Et.x*tn)+1));for(var Ii=["x","y","text","font","font-family","font-weight","font-style","font-size"],_i=0,Pi=Ii.length;_i<Pi;_i++)if(Ii[_i]in Re){yn._.dirty=1;break}switch(Et["text-anchor"]){case"start":yn.textpath.style["v-text-align"]="left",yn.bbx=yn.W/2;break;case"end":yn.textpath.style["v-text-align"]="right",yn.bbx=-yn.W/2;break;default:yn.textpath.style["v-text-align"]="center",yn.bbx=0}yn.textpath.style["v-text-kern"]=!0}},fi=function(Ke,Re,bt){Ke.attrs=Ke.attrs||{};var nn=Math.pow,En="linear",yn=".5 .5";if(Ke.attrs.gradient=Re,Re=(Re=Z(Re).replace(H._radial_gradient,function(gr,Tr,br){return En="radial",Tr&&br&&(Tr=ie(Tr),br=ie(br),nn(Tr-.5,2)+nn(br-.5,2)>.25&&(br=fe.sqrt(.25-nn(Tr-.5,2))*(2*(br>.5)-1)+.5),yn=Tr+mt+br),""})).split(/\s*\-\s*/),"linear"==En){var Pn=Re.shift();if(Pn=-ie(Pn),isNaN(Pn))return null}var qn=H._parseDots(Re);if(!qn)return null;if(Ke=Ke.shape||Ke.node,qn.length){Ke.removeChild(bt),bt.on=!0,bt.method="none",bt.color=qn[0].color,bt.color2=qn[qn.length-1].color;for(var _r=[],nr=0,Cr=qn.length;nr<Cr;nr++)qn[nr].offset&&_r.push(qn[nr].offset+mt+qn[nr].color);bt.colors=_r.length?_r.join():"0% "+bt.color,"radial"==En?(bt.type="gradientTitle",bt.focus="100%",bt.focussize="0 0",bt.focusposition=yn,bt.angle=0):(bt.type="gradient",bt.angle=(270-Pn)%360),Ke.appendChild(bt)}return 1},Fe=function(Ke,Re){this[0]=this.node=Ke,Ke.raphael=!0,this.id=H._oid++,Ke.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=Re,this.matrix=H.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!Re.bottom&&(Re.bottom=this),this.prev=Re.top,Re.top&&(Re.top.next=this),Re.top=this,this.next=null},St=H.el;Fe.prototype=St,St.constructor=Fe,St.transform=function(Ke){if(null==Ke)return this._.transform;var Et,Re=this.paper._viewBoxShift,bt=Re?"s"+[Re.scale,Re.scale]+"-1-1t"+[Re.dx,Re.dy]:"";Re&&(Et=Ke=Z(Ke).replace(/\.{3}|\u2026/g,this._.transform||"")),H._extractTransform(this,bt+Ke);var En,nn=this.matrix.clone(),xn=this.skew,fn=this.node,yn=~Z(this.attrs.fill).indexOf("-"),Pn=!Z(this.attrs.fill).indexOf("url(");if(nn.translate(1,1),Pn||yn||"image"==this.type)if(xn.matrix="1 0 0 1",xn.offset="0 0",En=nn.split(),yn&&En.noRotation||!En.isSimple){fn.style.filter=nn.toFilter();var qn=this.getBBox(),_r=this.getBBox(1),nr=qn.x-_r.x,Cr=qn.y-_r.y;fn.coordorigin=nr*-tn+mt+Cr*-tn,rr(this,1,1,nr,Cr,0)}else fn.style.filter="",rr(this,En.scalex,En.scaley,En.dx,En.dy,En.rotate);else fn.style.filter="",xn.matrix=Z(nn),xn.offset=nn.offset();return Et&&(this._.transform=Et),this},St.rotate=function(Ke,Re,bt){if(this.removed)return this;if(null!=Ke){if((Ke=Z(Ke).split(_t)).length-1&&(Re=ie(Ke[1]),bt=ie(Ke[2])),Ke=ie(Ke[0]),null==bt&&(Re=bt),null==Re||null==bt){var Et=this.getBBox(1);Re=Et.x+Et.width/2,bt=Et.y+Et.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",Ke,Re,bt]])),this}},St.translate=function(Ke,Re){return this.removed||((Ke=Z(Ke).split(_t)).length-1&&(Re=ie(Ke[1])),Ke=ie(Ke[0])||0,Re=+Re||0,this._.bbox&&(this._.bbox.x+=Ke,this._.bbox.y+=Re),this.transform(this._.transform.concat([["t",Ke,Re]]))),this},St.scale=function(Ke,Re,bt,Et){if(this.removed)return this;if((Ke=Z(Ke).split(_t)).length-1&&(Re=ie(Ke[1]),bt=ie(Ke[2]),Et=ie(Ke[3]),isNaN(bt)&&(bt=null),isNaN(Et)&&(Et=null)),Ke=ie(Ke[0]),null==Re&&(Re=Ke),null==Et&&(bt=Et),null==bt||null==Et)var nn=this.getBBox(1);return this.transform(this._.transform.concat([["s",Ke,Re,bt=bt??nn.x+nn.width/2,Et=Et??nn.y+nn.height/2]])),this._.dirtyT=1,this},St.hide=function(){return!this.removed&&(this.node.style.display="none"),this},St.show=function(){return!this.removed&&(this.node.style.display=""),this},St._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},St.remove=function(){if(!this.removed&&this.node.parentNode){for(var Ke in this.paper.__set__&&this.paper.__set__.exclude(this),H.eve.unbind("raphael.*.*."+this.id),H._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[Ke]="function"==typeof this[Ke]?H._removedFactory(Ke):null;this.removed=!0}},St.attr=function(Ke,Re){if(this.removed)return this;if(null==Ke){var bt={};for(var Et in this.attrs)this.attrs[P](Et)&&(bt[Et]=this.attrs[Et]);return bt.gradient&&"none"==bt.fill&&(bt.fill=bt.gradient)&&delete bt.gradient,bt.transform=this._.transform,bt}if(null==Re&&H.is(Ke,"string")){if(Ke==Ge&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var nn=Ke.split(_t),xn={},fn=0,En=nn.length;fn<En;fn++)xn[Ke=nn[fn]]=Ke in this.attrs?this.attrs[Ke]:H.is(this.paper.customAttributes[Ke],"function")?this.paper.customAttributes[Ke].def:H._availableAttrs[Ke];return En-1?xn:xn[nn[0]]}if(this.attrs&&null==Re&&H.is(Ke,"array")){for(xn={},fn=0,En=Ke.length;fn<En;fn++)xn[Ke[fn]]=this.attr(Ke[fn]);return xn}var yn;for(var Pn in null!=Re&&((yn={})[Ke]=Re),null==Re&&H.is(Ke,"object")&&(yn=Ke),yn)Ft("raphael.attr."+Pn+"."+this.id,this,yn[Pn]);if(yn){for(Pn in this.paper.customAttributes)if(this.paper.customAttributes[P](Pn)&&yn[P](Pn)&&H.is(this.paper.customAttributes[Pn],"function")){var qn=this.paper.customAttributes[Pn].apply(this,[].concat(yn[Pn]));for(var _r in this.attrs[Pn]=yn[Pn],qn)qn[P](_r)&&(yn[_r]=qn[_r])}yn.text&&"text"==this.type&&(this.textpath.string=yn.text),or(this,yn)}return this},St.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&H._tofront(this,this.paper),this},St.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),H._toback(this,this.paper)),this},St.insertAfter=function(Ke){return this.removed||(Ke.constructor==H.st.constructor&&(Ke=Ke[Ke.length-1]),Ke.node.nextSibling?Ke.node.parentNode.insertBefore(this.node,Ke.node.nextSibling):Ke.node.parentNode.appendChild(this.node),H._insertafter(this,Ke,this.paper)),this},St.insertBefore=function(Ke){return this.removed||(Ke.constructor==H.st.constructor&&(Ke=Ke[0]),Ke.node.parentNode.insertBefore(this.node,Ke.node),H._insertbefore(this,Ke,this.paper)),this},St.blur=function(Ke){var Re=this.node.runtimeStyle,bt=Re.filter;return bt=bt.replace(jt,""),0!=+Ke?(this.attrs.blur=Ke,Re.filter=bt+mt+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+Ke||1.5)+")",Re.margin=H.format("-{0}px 0 0 -{0}px",ye(+Ke||1.5))):(Re.filter=bt,Re.margin=0,delete this.attrs.blur),this},H._engine.path=function(Ke,Re){var bt=Vt("shape");bt.style.cssText=un,bt.coordsize=tn+mt+tn,bt.coordorigin=Re.coordorigin;var Et=new Fe(bt,Re),nn={fill:"none",stroke:"#000"};Ke&&(nn.path=Ke),Et.type="path",Et.path=[],Et.Path="",or(Et,nn),Re.canvas.appendChild(bt);var xn=Vt("skew");return xn.on=!0,bt.appendChild(xn),Et.skew=xn,Et.transform(""),Et},H._engine.rect=function(Ke,Re,bt,Et,nn,xn){var fn=H._rectPath(Re,bt,Et,nn,xn),En=Ke.path(fn),yn=En.attrs;return En.X=yn.x=Re,En.Y=yn.y=bt,En.W=yn.width=Et,En.H=yn.height=nn,yn.r=xn,yn.path=fn,En.type="rect",En},H._engine.ellipse=function(Ke,Re,bt,Et,nn){var xn=Ke.path();return xn.X=Re-Et,xn.Y=bt-nn,xn.W=2*Et,xn.H=2*nn,xn.type="ellipse",or(xn,{cx:Re,cy:bt,rx:Et,ry:nn}),xn},H._engine.circle=function(Ke,Re,bt,Et){var nn=Ke.path();return nn.X=Re-Et,nn.Y=bt-Et,nn.W=nn.H=2*Et,nn.type="circle",or(nn,{cx:Re,cy:bt,r:Et}),nn},H._engine.image=function(Ke,Re,bt,Et,nn,xn){var fn=H._rectPath(bt,Et,nn,xn),En=Ke.path(fn).attr({stroke:"none"}),yn=En.attrs,Pn=En.node,qn=Pn.getElementsByTagName(Ge)[0];return yn.src=Re,En.X=yn.x=bt,En.Y=yn.y=Et,En.W=yn.width=nn,En.H=yn.height=xn,yn.path=fn,En.type="image",qn.parentNode==Pn&&Pn.removeChild(qn),qn.rotate=!0,qn.src=Re,qn.type="tile",En._.fillpos=[bt,Et],En._.fillsize=[nn,xn],Pn.appendChild(qn),rr(En,1,1,0,0,0),En},H._engine.text=function(Ke,Re,bt,Et){var nn=Vt("shape"),xn=Vt("path"),fn=Vt("textpath");bt=bt||0,Et=Et||"",xn.v=H.format("m{0},{1}l{2},{1}",ye((Re=Re||0)*tn),ye(bt*tn),ye(Re*tn)+1),xn.textpathok=!0,fn.string=Z(Et),fn.on=!0,nn.style.cssText=un,nn.coordsize=tn+mt+tn,nn.coordorigin="0 0";var En=new Fe(nn,Ke),yn={fill:"#000",stroke:"none",font:H._availableAttrs.font,text:Et};En.shape=nn,En.path=xn,En.textpath=fn,En.type="text",En.attrs.text=Z(Et),En.attrs.x=Re,En.attrs.y=bt,En.attrs.w=1,En.attrs.h=1,or(En,yn),nn.appendChild(fn),nn.appendChild(xn),Ke.canvas.appendChild(nn);var Pn=Vt("skew");return Pn.on=!0,nn.appendChild(Pn),En.skew=Pn,En.transform(""),En},H._engine.setSize=function(Ke,Re){var bt=this.canvas.style;return this.width=Ke,this.height=Re,Ke==+Ke&&(Ke+="px"),Re==+Re&&(Re+="px"),bt.width=Ke,bt.height=Re,bt.clip="rect(0 "+Ke+" "+Re+" 0)",this._viewBox&&H._engine.setViewBox.apply(this,this._viewBox),this},H._engine.setViewBox=function(Ke,Re,bt,Et,nn){H.eve("raphael.setViewBox",this,this._viewBox,[Ke,Re,bt,Et,nn]);var yn,Pn,xn=this.width,fn=this.height,En=1/Me(bt/xn,Et/fn);return nn&&(bt*(yn=fn/Et)<xn&&(Ke-=(xn-bt*yn)/2/yn),Et*(Pn=xn/bt)<fn&&(Re-=(fn-Et*Pn)/2/Pn)),this._viewBox=[Ke,Re,bt,Et,!!nn],this._viewBoxShift={dx:-Ke,dy:-Re,scale:En},this.forEach(function(qn){qn.transform("...")}),this},H._engine.initWin=function(Ke){var Re=Ke.document;Re.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!Re.namespaces.rvml&&Re.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),Vt=function(bt){return Re.createElement("<rvml:"+bt+' class="rvml">')}}catch{Vt=function(Et){return Re.createElement("<"+Et+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},H._engine.initWin(H._g.win),H._engine.create=function(){var Ke=H._getContainer.apply(0,arguments),Re=Ke.container,bt=Ke.height,nn=Ke.width,xn=Ke.x,fn=Ke.y;if(!Re)throw new Error("VML container not found.");var En=new H._Paper,yn=En.canvas=H._g.doc.createElement("div"),Pn=yn.style;return xn=xn||0,fn=fn||0,bt=bt||342,En.width=nn=nn||512,En.height=bt,nn==+nn&&(nn+="px"),bt==+bt&&(bt+="px"),En.coordsize=1e3*tn+mt+1e3*tn,En.coordorigin="0 0",En.span=H._g.doc.createElement("span"),En.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",yn.appendChild(En.span),Pn.cssText=H.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",nn,bt),1==Re?(H._g.doc.body.appendChild(yn),Pn.left=xn+"px",Pn.top=fn+"px",Pn.position="absolute"):Re.firstChild?Re.insertBefore(yn,Re.firstChild):Re.appendChild(yn),En.renderfix=function(){},En},H.prototype.clear=function(){H.eve("raphael.clear",this),this.canvas.innerHTML="",this.span=H._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},H.prototype.remove=function(){for(var Ke in H.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[Ke]="function"==typeof this[Ke]?H._removedFactory(Ke):null;return!0};var cn=H.st;for(var $n in St)St[P]($n)&&!cn[P]($n)&&(cn[$n]=function(Ke){return function(){var Re=arguments;return this.forEach(function(bt){bt[Ke].apply(bt,Re)})}}($n))}}(),he.was?y.win.Raphael=H:Raphael=H,H}),function(){"use strict";var Gt=function(he,te){if(this.text=he,this.options=y(Pe(Gt.default),te),this.strokes=[],this.papers=[],this.pointer=0,this.timeouts={play:[],erasing:[],drawing:[]},!this.options.skipLoad){var pe=new DmakLoader(this.options.uri),_e=this;pe.load(he,function(ne){_e.prepare(ne),_e.options.loaded(_e.strokes),_e.options.autoplay&&_e.render()})}};function xt(he,te,pe){null!==he.object.text&&he.object.text.remove();var _e=function(){he.object.path.remove(),he.object={path:null,text:null},te.shift()};pe.stroke.animated.erasing?(he.object.path.node.style.stroke=pe.stroke.attr.active,te.push(je(he,-1,pe,_e))):_e()}function je(he,te,pe,_e){return he.object.path.attr({stroke:pe.stroke.attr.active}),he.object.path.node.style.transition=he.object.path.node.style.WebkitTransition="none",he.object.path.node.style.strokeDasharray=he.length+" "+he.length,he.object.path.node.style.strokeDashoffset=te>0?he.length:0,he.object.path.node.getBoundingClientRect(),he.object.path.node.style.transition=he.object.path.node.style.WebkitTransition="stroke-dashoffset "+he.duration+"ms ease",he.object.path.node.style.strokeDashoffset=te>0?"0":he.length,setTimeout(_e,he.duration)}function Pe(he){if(null===he||"object"!=typeof he)return he;var te=he.constructor();for(var pe in he)te[pe]=Pe(he[pe]);return te}function y(he,te){if(2!==arguments.length)throw new Error("Missing arguments in assign function");for(var pe in he)te.hasOwnProperty(pe)&&(he[pe]="object"==typeof te[pe]?y(he[pe],te[pe]):te[pe]);return he}Gt.VERSION="0.2.0",Gt.default={uri:"",skipLoad:!1,autoplay:!0,height:109,width:109,viewBox:{x:0,y:0,w:109,h:109},step:.03,element:"draw",stroke:{animated:{drawing:!0,erasing:!0},order:{visible:!1,attr:{"font-size":"8",fill:"#999999"}},attr:{active:"#BF0000",stroke:"#2C2C2C","stroke-width":4,"stroke-linecap":"round","stroke-linejoin":"round"}},grid:{show:!0,attr:{stroke:"#CCCCCC","stroke-width":.5,"stroke-dasharray":"--"}},loaded:function(){},erased:function(){},drew:function(){}},Gt.fn=Gt.prototype={prepare:function(he){this.strokes=function gn(he,te){var ne,le,d,pe=[];for(le=0;le<he.length;le++)for(d=0;d<he[le].length;d++)ne=Raphael.getTotalLength(he[le][d].path),pe.push({char:le,length:ne,duration:ne*te.step*1e3,path:he[le][d].path,groups:he[le][d].groups,text:he[le][d].text,object:{path:null,text:null}});return pe}(he,this.options),this.papers=function H(he,te){var _e,ne,pe=[];for(ne=0;ne<he;ne++)(_e=new Raphael(te.element,te.width+"px",te.height+"px")).setViewBox(te.viewBox.x,te.viewBox.y,te.viewBox.w,te.viewBox.h),_e.canvas.setAttribute("class","dmak-svg"),pe.push(_e);return pe.reverse()}(he.length,this.options),this.options.grid.show&&function At(he,te){var pe;for(pe=0;pe<he.length;pe++)he[pe].path("M"+te.viewBox.w/2+",0 L"+te.viewBox.w/2+","+te.viewBox.h).attr(te.grid.attr),he[pe].path("M0,"+te.viewBox.h/2+" L"+te.viewBox.w+","+te.viewBox.h/2).attr(te.grid.attr)}(this.papers,this.options)},erase:function(he){if(this.timeouts.play.length||this.pointer<=0)return!1;typeof he>"u"&&(he=0);do{this.pointer--,xt(this.strokes[this.pointer],this.timeouts.erasing,this.options),this.options.erased(this.pointer)}while(this.pointer>he)},render:function(he){if(this.timeouts.play.length)return!1;if(typeof he>"u")he=this.strokes.length;else if(he>this.strokes.length)return!1;var _e,te=function(ne){(function kt(he,te,pe,_e){var ne=function(){if(null!==te.object.path){var le=_e.stroke.attr.stroke;"random"===_e.stroke.attr.stroke&&(le=Raphael.getColor()),te.object.path.node.style.stroke=le,te.object.path.node.style.transition=te.object.path.node.style.WebkitTransition="stroke 400ms ease",pe.shift()}};te.object.path=he.path(te.path),te.object.path.attr(_e.stroke.attr),_e.stroke.order.visible&&function Q(he,te,pe){te.object.text=he.text(te.text.x,te.text.y,te.text.value),te.object.text.attr(pe.stroke.order.attr)}(he,te,_e),_e.stroke.animated.drawing?je(te,1,_e,ne):ne()})(ne.papers[ne.strokes[ne.pointer].char],ne.strokes[ne.pointer],ne.timeouts.drawing,ne.options),ne.options.drew(ne.pointer),ne.pointer++,ne.timeouts.play.shift()},pe=0;for(_e=0;_e<this.timeouts.erasing.length;_e++)window.clearTimeout(this.timeouts.erasing[_e]),this.timeouts.erasing=[];for(_e=this.pointer;_e<he;_e++)!this.options.stroke.animated.drawing||pe<=0?te(this):this.timeouts.play.push(setTimeout(te,pe,this)),pe+=this.strokes[_e].duration},pause:function(){for(var he=0;he<this.timeouts.play.length;he++)window.clearTimeout(this.timeouts.play[he]);this.timeouts.play=[]},eraseLastStrokes:function(he){this.erase(this.pointer-he)},renderNextStrokes:function(he){this.render(this.pointer+he)}},window.Dmak=Gt}(),function(){"use strict";var Gt=function(At){this.uri=At};function gn(At,xt,kt,Q){var je=new XMLHttpRequest,Pe=("00000"+kt).slice(-5);"00020"!==Pe&&"03000"!==Pe?(je.open("GET",At+Pe+".svg",!0),je.onreadystatechange=function(){4===je.readyState&&(200===je.status?Q.done(xt,function H(At,xt){var y,kt=[],Q=(new DOMParser).parseFromString(At,"application/xml"),je=Q.querySelectorAll("text"),Pe=[];for(function he(te){var _e,pe=te.childNodes;for(_e=0;_e<pe.length;_e++)"g"===pe[_e].tagName?(Pe.push(pe[_e].getAttribute("id")),he(pe[_e]),Pe.splice(Pe.indexOf(pe[_e].getAttribute("id")),1)):"path"===pe[_e].tagName&&kt.push({path:pe[_e].getAttribute("d"),groups:Pe.slice(0)})}(Q.getElementById("kvg:"+xt)),y=0;y<je.length;y++)kt[y].text={value:je[y].textContent,x:je[y].getAttribute("transform").split(" ")[4],y:je[y].getAttribute("transform").split(" ")[5].replace(")","")};return kt}(je.response,Pe)):Q.error(je.statusText))},je.send()):Q.done(xt,{paths:[],texts:[]})}Gt.prototype.load=function(At,xt){var Pe,kt=[],Q=At.length,je=0,y={done:function(he,te){kt[he]=te,++je===Q&&xt(kt)},error:function(he){console.log("Error",he)}};for(Pe=0;Pe<Q;Pe++)gn(this.uri,Pe,At.charCodeAt(Pe).toString(16),y)},window.DmakLoader=Gt}();var SubtitlesOctopus=function(Gt){var gn=!1;try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const he=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));he instanceof WebAssembly.Module&&(gn=new WebAssembly.Instance(he)instanceof WebAssembly.Instance)}}catch{}console.log("WebAssembly support detected: "+(gn?"yes":"no"));var H=this;function At(he,te){for(var pe=[],_e=0,ne=H.renderedItems.length;_e<ne;_e++)((le=H.renderedItems[_e]).emptyFinish<0||le.emptyFinish>=he)&&pe.push(le);if(te&&pe.length>0&&he<pe[0].eventStart)if(pe[0].eventStart-he>60)console.info("seeked back too far, cleaning prerender buffer"),pe=[];else{console.info("seeked backwards, need to free up some buffer");var d=0,N=.3*H.renderAhead,A=[];for(_e=0,ne=pe.length;_e<ne;_e++){var le;if((d+=(le=pe[_e]).size)>=N)break;A.push(le)}pe=A}var f=pe.length<H.renderedItems;return H.renderedItems=pe,f}function xt(he,te){if(H.renderAhead&&!(H.renderAhead<=0)&&(!H.oneshotState.renderRequested||te)){if(typeof he>"u"){if(!H.video)return;he=H.video.currentTime+H.timeOffset}for(var pe=0,_e=0,ne=H.renderedItems.length;_e<ne;_e++){var le=H.renderedItems[_e];if(le.emptyFinish<0)return void console.info("oneshot already reached end-of-events");if(he>=le.eventStart&&he<le.emptyFinish)return void console.debug("not requesting a render for "+he+" as event already covering it exists (start="+le.eventStart+", empty="+le.emptyFinish+")");pe+=le.size}pe<=H.renderAhead&&(lastRendered=he-(te?0:.001),H.oneshotState.renderRequested?(H.workerActive&&console.info("worker busy, requesting to seek"),H.oneshotState.requestNextTimestamp=lastRendered):(H.oneshotState.renderRequested=!0,H.worker.postMessage({target:"oneshot-render",lastRendered,renderNow:te,iteration:H.oneshotState.iteration})))}}function kt(he,te){var pe=he.eventFinish<te;if(H.oneshotState.eventStart!=he.eventStart||H.oneshotState.eventOver!=pe){H.oneshotState.eventStart=he.eventStart,H.oneshotState.eventOver=pe;var _e=performance.now();if((he.viewport.width!=H.canvas.width||he.viewport.height!=H.canvas.height)&&(H.canvas.width=he.viewport.width,H.canvas.height=he.viewport.height),H.ctx.clearRect(0,0,H.canvas.width,H.canvas.height),!pe)for(var ne=0;ne<he.items.length;ne++){var le=he.items[ne];H.bufferCanvas.width=le.w,H.bufferCanvas.height=le.h,H.bufferCanvasCtx.putImageData(le.image,0,0),H.ctx.drawImage(H.bufferCanvas,le.x,le.y)}if(H.debug){var d=Math.round(performance.now()-_e);console.log("render: "+Math.round(he.spentTime-he.blendTime)+" ms, blend: "+Math.round(he.blendTime)+" ms, draw: "+d+" ms")}}}function Q(){if(window.requestAnimationFrame(Q),H.video){for(var he=H.video.currentTime+H.timeOffset,te=-1,pe=!1,_e=!1,ne=0,le=H.renderedItems.length;ne<le;ne++){var d=H.renderedItems[ne];if(!pe&&d.eventStart<=he&&(d.emptyFinish<0||d.emptyFinish>he))kt(d,he),pe=!0,te=d.emptyFinish;else if(te>=0){if(!(d.eventStart-te<.01))break;te=d.emptyFinish,_e=d.animated}}pe?At(he)&&te>=0&&xt(te,_e):Math.abs(H.oneshotState.requestNextTimestamp-he)>.01&&(At(he),xt(he,!0))}}function je(){var he=H.renderFramesData,te=performance.now();H.ctx.clearRect(0,0,H.canvas.width,H.canvas.height);for(var pe=0;pe<he.canvases.length;pe++){var _e=he.canvases[pe];H.bufferCanvas.width=_e.w,H.bufferCanvas.height=_e.h;var ne=new Uint8ClampedArray(_e.buffer);if(H.hasAlphaBug)for(var le=3;le<ne.length;le+=4)ne[le]=ne[le]>=1?ne[le]:1;var d=new ImageData(ne,_e.w,_e.h);H.bufferCanvasCtx.putImageData(d,0,0),H.ctx.drawImage(H.bufferCanvas,_e.x,_e.y)}if(H.debug){var N=Math.round(performance.now()-te),A=he.blendTime;console.log(typeof A<"u"?"render: "+Math.round(he.spentTime-A)+" ms, blend: "+Math.round(A)+" ms, draw: "+N+" ms; TOTAL="+Math.round(he.spentTime+N)+" ms":Math.round(he.spentTime)+" ms (+ "+N+" ms draw)"),H.renderStart=performance.now()}}function Pe(){var he=H.renderFramesData,te=performance.now();H.ctx.clearRect(0,0,H.canvas.width,H.canvas.height);for(var pe=0;pe<he.bitmaps.length;pe++){var _e=he.bitmaps[pe];H.ctx.drawImage(_e.bitmap,_e.x,_e.y)}if(H.debug){var ne=Math.round(performance.now()-te);console.log(he.bitmaps.length+" bitmaps, libass: "+Math.round(he.libassTime)+"ms, decode: "+Math.round(he.decodeTime)+"ms, draw: "+ne+"ms"),H.renderStart=performance.now()}}H.canvas=Gt.canvas,H.renderMode=Gt.renderMode||(Gt.lossyRender?"fast":Gt.blendRender?"blend":"normal"),H.dropAllAnimations=Gt.dropAllAnimations||!1,H.libassMemoryLimit=Gt.libassMemoryLimit||0,H.libassGlyphLimit=Gt.libassGlyphLimit||0,H.targetFps=Gt.targetFps||30,H.prescaleTradeoff=Gt.prescaleTradeoff||null,H.softHeightLimit=Gt.softHeightLimit||1080,H.hardHeightLimit=Gt.hardHeightLimit||2160,H.resizeVariation=Gt.resizeVariation||.2,H.renderAhead=Gt.renderAhead||0,H.isOurCanvas=!1,H.video=Gt.video,H.canvasParent=null,H.fonts=Gt.fonts||[],H.availableFonts=Gt.availableFonts||[],H.onReadyEvent=Gt.onReady,H.workerUrl=gn?Gt.workerUrl||"subtitles-octopus-worker.js":Gt.legacyWorkerUrl||"subtitles-octopus-worker-legacy.js",H.subUrl=Gt.subUrl,H.subContent=Gt.subContent||null,H.onErrorEvent=Gt.onError,H.debug=Gt.debug||!1,H.lastRenderTime=0,H.pixelRatio=window.devicePixelRatio||1,H.timeOffset=Gt.timeOffset||0,H.renderedItems=[],H.renderAhead=1024*H.renderAhead*1024*.9,H.oneshotState={eventStart:null,eventOver:!1,iteration:0,renderRequested:!1,requestNextTimestamp:-1,prevWidth:null,prevHeight:null},H.hasAlphaBug=!1,function(){if("function"==typeof ImageData.prototype.constructor)try{return void new window.ImageData(new Uint8ClampedArray([0,0,0,0]),1,1)}catch{console.log("detected that ImageData is not constructable despite browser saying so")}var te=document.createElement("canvas").getContext("2d");window.ImageData=function(){var pe=0;if(arguments[0]instanceof Uint8ClampedArray)var _e=arguments[pe++];var ne=arguments[pe++],d=te.createImageData(ne,arguments[pe]);return _e&&d.data.set(_e),d}}(),H.workerError=function(he){if(console.error("Worker error: ",he),H.onErrorEvent&&H.onErrorEvent(he),!H.debug)throw H.dispose(),new Error("Worker error: "+he)},H.init=function(){window.Worker?(H.worker||(H.worker=new Worker(H.workerUrl),H.worker.onmessage=H.onWorkerMessage,H.worker.onerror=H.workerError),H.workerActive=!1,H.createCanvas(),H.setVideo(Gt.video),H.setSubUrl(Gt.subUrl),H.worker.postMessage({target:"worker-init",width:H.canvas.width,height:H.canvas.height,URL:document.URL,currentScript:H.workerUrl,preMain:!0,renderMode:H.renderMode,subUrl:H.subUrl,subContent:H.subContent,fonts:H.fonts,availableFonts:H.availableFonts,debug:H.debug,targetFps:H.targetFps,libassMemoryLimit:H.libassMemoryLimit,libassGlyphLimit:H.libassGlyphLimit,renderOnDemand:H.renderAhead>0,dropAllAnimations:H.dropAllAnimations})):H.workerError("worker not supported")},H.createCanvas=function(){H.canvas||(H.video?(H.isOurCanvas=!0,H.canvas=document.createElement("canvas"),H.canvas.className="libassjs-canvas",H.canvas.style.display="none",H.canvasParent=document.createElement("div"),H.canvasParent.className="libassjs-canvas-parent",H.canvasParent.appendChild(H.canvas),H.video.nextSibling?H.video.parentNode.insertBefore(H.canvasParent,H.video.nextSibling):H.video.parentNode.appendChild(H.canvasParent)):H.canvas||H.workerError("Don't know where to render: you should give video or canvas in options.")),H.ctx=H.canvas.getContext("2d"),H.bufferCanvas=document.createElement("canvas"),H.bufferCanvasCtx=H.bufferCanvas.getContext("2d"),H.bufferCanvas.width=1,H.bufferCanvas.height=1;var he=new Uint8ClampedArray([0,255,0,0]),te=new ImageData(he,1,1);H.bufferCanvasCtx.clearRect(0,0,1,1),H.ctx.clearRect(0,0,1,1);var pe=H.ctx.getImageData(0,0,1,1).data;H.bufferCanvasCtx.putImageData(te,0,0),H.ctx.drawImage(H.bufferCanvas,0,0);var _e=H.ctx.getImageData(0,0,1,1).data;H.hasAlphaBug=pe[1]!=_e[1],H.hasAlphaBug&&console.log("Detected a browser having issue with transparent pixels, applying workaround")},H.setVideo=function(he){if(H.video=he,H.video){var te=function(){H.setCurrentTime(he.currentTime+H.timeOffset)};H.video.addEventListener("timeupdate",te,!1),H.video.addEventListener("playing",function(){H.setIsPaused(!1,he.currentTime+H.timeOffset)},!1),H.video.addEventListener("pause",function(){H.setIsPaused(!0,he.currentTime+H.timeOffset)},!1),H.video.addEventListener("seeking",function(){H.video.removeEventListener("timeupdate",te)},!1),H.video.addEventListener("seeked",function(){H.video.addEventListener("timeupdate",te,!1),H.setCurrentTime(he.currentTime+H.timeOffset),H.renderAhead>0&&At(he.currentTime+H.timeOffset,!0)},!1),H.video.addEventListener("ratechange",function(){H.setRate(he.playbackRate)},!1),H.video.addEventListener("timeupdate",function(){H.setCurrentTime(he.currentTime+H.timeOffset)},!1),H.video.addEventListener("waiting",function(){H.setIsPaused(!0,he.currentTime+H.timeOffset)},!1),document.addEventListener("fullscreenchange",H.resizeWithTimeout,!1),document.addEventListener("mozfullscreenchange",H.resizeWithTimeout,!1),document.addEventListener("webkitfullscreenchange",H.resizeWithTimeout,!1),document.addEventListener("msfullscreenchange",H.resizeWithTimeout,!1),window.addEventListener("resize",H.resizeWithTimeout,!1),typeof ResizeObserver<"u"&&(H.ro=new ResizeObserver(H.resizeWithTimeout),H.ro.observe(H.video)),H.video.videoWidth>0?H.resize():H.video.addEventListener("loadedmetadata",function(pe){pe.target.removeEventListener(pe.type,arguments.callee),H.resize()},!1)}},H.getVideoPosition=function(){var he=H.video.videoWidth/H.video.videoHeight,te=H.video.offsetWidth,pe=H.video.offsetHeight,ne=te,le=pe;return te/pe>he?ne=Math.floor(pe*he):le=Math.floor(te/he),{width:ne,height:le,x:(te-ne)/2,y:(pe-le)/2}},H.setSubUrl=function(he){H.subUrl=he},H.resetRenderAheadCache=function(he){if(H.renderAhead>0){var te=[];if(he&&H.oneshotState.prevHeight&&H.oneshotState.prevWidth){if(H.oneshotState.prevHeight==H.canvas.height&&H.oneshotState.prevWidth==H.canvas.width)return;var pe=10,_e=.3*H.renderAhead;H.canvas.height>=H.oneshotState.prevHeight*(1-H.resizeVariation)&&H.canvas.height<=H.oneshotState.prevHeight*(1+H.resizeVariation)&&H.canvas.width>=H.oneshotState.prevWidth*(1-H.resizeVariation)&&H.canvas.width<=H.oneshotState.prevWidth*(1+H.resizeVariation)&&(console.debug("viewport changes are small, leaving more of prerendered buffer"),pe=30,_e=.5*H.renderAhead);for(var ne=H.video.currentTime+H.timeOffset+pe,le=0,d=0;d<H.renderedItems.length;d++){var N=H.renderedItems[d];if(N.emptyFinish<0||N.emptyFinish>=ne||(le+=N.size)>=_e)break;te.push(N)}}console.info("resetting prerender cache"),H.renderedItems=te,H.oneshotState.eventStart=null,H.oneshotState.iteration++,H.oneshotState.renderRequested=!1,H.oneshotState.prevHeight=H.canvas.height,H.oneshotState.prevWidth=H.canvas.width,window.requestAnimationFrame(Q),xt(void 0,!0)}},H.renderFrameData=null,H.workerActive=!1,H.frameId=0,H.onWorkerMessage=function(he){H.workerActive||(H.workerActive=!0,H.onReadyEvent&&H.onReadyEvent());var te=he.data;switch(te.target){case"stdout":console.log(te.content);break;case"console-log":console.log.apply(console,JSON.parse(te.content));break;case"console-debug":console.debug.apply(console,JSON.parse(te.content));break;case"console-info":console.info.apply(console,JSON.parse(te.content));break;case"console-warn":console.warn.apply(console,JSON.parse(te.content));break;case"console-error":console.error.apply(console,JSON.parse(te.content));break;case"stderr":console.error(te.content);break;case"window":window[te.method]();break;case"canvas":switch(te.op){case"getContext":H.ctx=H.canvas.getContext(te.type,te.attributes);break;case"resize":H.resize(te.width,te.height);break;case"renderCanvas":H.lastRenderTime<te.time&&(H.lastRenderTime=te.time,H.renderFramesData=te,window.requestAnimationFrame(je));break;case"renderFastCanvas":H.lastRenderTime<te.time&&(H.lastRenderTime=te.time,H.renderFramesData=te,window.requestAnimationFrame(Pe));break;case"setObjectProperty":H.canvas[te.object][te.property]=te.value;break;case"oneshot-result":if(te.iteration!=H.oneshotState.iteration)return void console.debug("received stale prerender, ignoring");H.debug&&console.info("oneshot received (start="+te.eventStart+", empty="+te.emptyFinish+"), render: "+Math.round(te.spentTime)+" ms"),H.oneshotState.renderRequested=!1,Math.abs(te.lastRenderedTime-H.oneshotState.requestNextTimestamp)<.01&&(H.oneshotState.requestNextTimestamp=-1),te.eventStart-te.lastRenderedTime>.01&&H.renderedItems.push({eventStart:te.lastRenderedTime,eventFinish:te.lastRenderedTime-.001,emptyFinish:te.eventStart,viewport:te.viewport,spentTime:0,blendTime:0,items:[],animated:!1,size:0});for(var pe=[],_e=0,ne=0,le=te.canvases.length;ne<le;ne++){var d=te.canvases[ne];pe.push({w:d.w,h:d.h,x:d.x,y:d.y,image:new ImageData(new Uint8ClampedArray(d.buffer),d.w,d.h)}),_e+=d.buffer.byteLength}var N=!1;if(te.emptyFinish>0&&te.emptyFinish-te.eventStart<1/H.targetFps||te.animated){var A=te.eventStart+1/H.targetFps;te.emptyFinish=A,te.eventFinish=A,N=!0}H.renderedItems.push({eventStart:te.eventStart,eventFinish:te.eventFinish,emptyFinish:te.emptyFinish,spentTime:te.spentTime,blendTime:te.blendTime,viewport:te.viewport,items:pe,animated:te.animated,size:_e}),H.renderedItems.sort(function(f,b){return f.eventStart-b.eventStart}),H.oneshotState.requestNextTimestamp>=0?xt(H.oneshotState.requestNextTimestamp,!0):te.eventStart<0?console.info('oneshot received "end of frames" event'):te.emptyFinish>=0?xt(te.emptyFinish,N):console.info("there are no more events to prerender");break;default:throw"eh?"}break;case"tick":H.frameId=te.id,H.worker.postMessage({target:"tock",id:H.frameId});break;case"custom":if(!H.onCustomMessage)throw"Custom message received but client onCustomMessage not implemented.";H.onCustomMessage(he);break;case"setimmediate":H.worker.postMessage({target:"setimmediate"});break;case"get-events":console.log(te.target),console.log(te.events);break;case"get-styles":console.log(te.target),console.log(te.styles);break;default:throw"what? "+te.target}},H.resize=function(he,te,pe,_e){var ne=null;if(pe=pe||0,_e=_e||0,(!he||!te)&&H.video){var le=function y(he,te){return null===H.prescaleTradeoff?te>H.hardHeightLimit&&(he=he*H.hardHeightLimit/te,te=H.hardHeightLimit):H.prescaleTradeoff>1?te*H.prescaleTradeoff<=H.softHeightLimit?(he*=H.prescaleTradeoff,te*=H.prescaleTradeoff):te<H.softHeightLimit?(he=he*H.softHeightLimit/te,te=H.softHeightLimit):te>=H.hardHeightLimit&&(he=he*H.hardHeightLimit/te,te=H.hardHeightLimit):te>=H.softHeightLimit&&(te*H.prescaleTradeoff<=H.softHeightLimit?(he=he*H.softHeightLimit/te,te=H.softHeightLimit):te*H.prescaleTradeoff<=H.hardHeightLimit?(he*=H.prescaleTradeoff,te*=H.prescaleTradeoff):(he=he*H.hardHeightLimit/te,te=H.hardHeightLimit)),{width:he,height:te}}((ne=H.getVideoPosition()).width*H.pixelRatio,ne.height*H.pixelRatio);he=le.width,te=le.height;var d=H.canvasParent.getBoundingClientRect().top-H.video.getBoundingClientRect().top;pe=ne.y-d,_e=ne.x}he&&te?(H.canvas.width!=he||H.canvas.height!=te||H.canvas.style.top!=pe||H.canvas.style.left!=_e)&&(H.canvas.width=he,H.canvas.height=te,null!=ne&&(H.canvasParent.style.position="relative",H.canvas.style.display="block",H.canvas.style.position="absolute",H.canvas.style.width=ne.width+"px",H.canvas.style.height=ne.height+"px",H.canvas.style.top=pe+"px",H.canvas.style.left=_e+"px",H.canvas.style.pointerEvents="none"),H.worker.postMessage({target:"canvas",width:H.canvas.width,height:H.canvas.height}),H.resetRenderAheadCache(!0)):H.video||console.error("width or height is 0. You should specify width & height for resize.")},H.resizeWithTimeout=function(){H.resize(),setTimeout(H.resize,100)},H.runBenchmark=function(){H.worker.postMessage({target:"runBenchmark"})},H.customMessage=function(he,te){H.worker.postMessage({target:"custom",userData:he,preMain:(te=te||{}).preMain})},H.setCurrentTime=function(he){H.worker.postMessage({target:"video",currentTime:he})},H.setTrackByUrl=function(he){H.worker.postMessage({target:"set-track-by-url",url:he}),H.resetRenderAheadCache(!1)},H.setTrack=function(he){H.worker.postMessage({target:"set-track",content:he}),H.resetRenderAheadCache(!1)},H.freeTrack=function(he){H.worker.postMessage({target:"free-track"}),H.resetRenderAheadCache(!1)},H.render=H.setCurrentTime,H.setIsPaused=function(he,te){H.worker.postMessage({target:"video",isPaused:he,currentTime:te})},H.setRate=function(he){H.worker.postMessage({target:"video",rate:he})},H.dispose=function(){H.worker.postMessage({target:"destroy"}),H.worker.terminate(),H.workerActive=!1,H.video&&H.video.parentNode.removeChild(H.canvasParent)},H.createEvent=function(he){H.worker.postMessage({target:"create-event",event:he})},H.getEvents=function(){H.worker.postMessage({target:"get-events"})},H.setEvent=function(he,te){H.worker.postMessage({target:"set-event",event:he,index:te})},H.removeEvent=function(he){H.worker.postMessage({target:"remove-event",index:he})},H.createStyle=function(he){H.worker.postMessage({target:"create-style",style:he})},H.getStyles=function(){H.worker.postMessage({target:"get-styles"})},H.setStyle=function(he,te){H.worker.postMessage({target:"set-style",style:he,index:te})},H.removeStyle=function(he){H.worker.postMessage({target:"remove-style",index:he})},H.init()};function _slicedToArray(Gt,gn){return _arrayWithHoles(Gt)||_iterableToArrayLimit(Gt,gn)||_unsupportedIterableToArray(Gt,gn)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(Gt,gn){var H=null==Gt?null:typeof Symbol<"u"&&Gt[Symbol.iterator]||Gt["@@iterator"];if(null!=H){var At,xt,kt=[],Q=!0,je=!1;try{for(H=H.call(Gt);!(Q=(At=H.next()).done)&&(kt.push(At.value),!gn||kt.length!==gn);Q=!0);}catch(Pe){je=!0,xt=Pe}finally{try{Q||null==H.return||H.return()}finally{if(je)throw xt}}return kt}}function _arrayWithHoles(Gt){if(Array.isArray(Gt))return Gt}function _createForOfIteratorHelper(Gt,gn){var H,At=typeof Symbol<"u"&&Gt[Symbol.iterator]||Gt["@@iterator"];if(!At){if(Array.isArray(Gt)||(At=_unsupportedIterableToArray(Gt))||gn&&Gt&&"number"==typeof Gt.length)return At&&(Gt=At),H=0,{s:gn=function(){},n:function(){return H>=Gt.length?{done:!0}:{done:!1,value:Gt[H++]}},e:function(je){throw je},f:gn};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var xt,kt=!0,Q=!1;return{s:function(){At=At.call(Gt)},n:function(){var je=At.next();return kt=je.done,je},e:function(je){Q=!0,xt=je},f:function(){try{kt||null==At.return||At.return()}finally{if(Q)throw xt}}}}function _unsupportedIterableToArray(Gt,gn){if(Gt){if("string"==typeof Gt)return _arrayLikeToArray(Gt,gn);var H=Object.prototype.toString.call(Gt).slice(8,-1);return"Map"===(H="Object"===H&&Gt.constructor?Gt.constructor.name:H)||"Set"===H?Array.from(Gt):"Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?_arrayLikeToArray(Gt,gn):void 0}}function _arrayLikeToArray(Gt,gn){(null==gn||gn>Gt.length)&&(gn=Gt.length);for(var H=0,At=new Array(gn);H<gn;H++)At[H]=Gt[H];return At}"function"==typeof SubtitlesOctopusOnLoad&&SubtitlesOctopusOnLoad(),typeof exports<"u"&&typeof module<"u"&&module.exports&&(exports=module.exports=SubtitlesOctopus);var Sakura=function(Gt,gn){var At,xt,H=this;if(void 0===Gt)throw new Error("No selector present. Define an element.");function kt(he){return he[Math.floor(Math.random()*he.length)]}function Q(he,te){return Math.floor(Math.random()*(te-he+1))+he}this.el=document.querySelector(Gt),this.settings=(At={className:"sakura",fallSpeed:1,maxSize:14,minSize:10,delay:300,colors:[{gradientColorStart:"rgba(255, 183, 197, 0.9)",gradientColorEnd:"rgba(255, 197, 208, 0.9)",gradientColorDegree:120}],lifeTime:0},xt=gn,Object.keys(At).forEach(function(he){xt&&Object.prototype.hasOwnProperty.call(xt,he)&&(At[he]=xt[he])}),At),this.petalsWeak=new Map,setInterval(function(){if(H.settings.lifeTime){var he,te=[],pe=Date.now(),_e=_createForOfIteratorHelper(H.petalsWeak);try{for(_e.s();!(he=_e.n()).done;){var ne=_slicedToArray(he.value,2),le=ne[0],d=ne[1];le+H.settings.lifeTime<pe&&(te.push(le),d.remove())}}catch(b){_e.e(b)}finally{_e.f()}for(var N=0,A=te;N<A.length;N++)H.petalsWeak.delete(A[N])}},1e3),this.el.style.overflowX="hidden";var je=["webkit","moz","MS","o",""];function Pe(he,te,pe){for(var _e=0;_e<je.length;_e+=1){var ne=te;je[_e]||(ne=te.toLowerCase()),he.addEventListener(je[_e]+ne,pe,!1)}}function y(he){return 0<=(he=he.getBoundingClientRect()).top&&0<=he.left&&he.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&he.right<=(window.innerWidth||document.documentElement.clientWidth)}this.createPetal=function(){H.el.dataset.sakuraAnimId&&setTimeout(function(){window.requestAnimationFrame(H.createPetal)},H.settings.delay);var _e=["sway-0","sway-1","sway-2","sway-3","sway-4","sway-5","sway-6","sway-7","sway-8"],he=kt(["blow-soft-left","blow-medium-left","blow-soft-right","blow-medium-right"]),pe=(_e=kt(_e),(.007*document.documentElement.clientHeight+Math.round(5*Math.random()))*H.settings.fallSpeed),te=(he=["fall ".concat(pe,"s linear 0s 1"),"".concat(he," ").concat((30<pe?pe:30)-20+Q(0,20),"s linear 0s infinite"),"".concat(_e," ").concat(Q(2,4),"s linear 0s infinite")].join(", "),document.createElement("div")),ne=(te.classList.add(H.settings.className),_e=(pe=Q(H.settings.minSize,H.settings.maxSize))-Math.floor(Q(0,H.settings.minSize)/3),kt(H.settings.colors));te.style.background="linear-gradient(".concat(ne.gradientColorDegree,"deg, ").concat(ne.gradientColorStart,", ").concat(ne.gradientColorEnd,")"),te.style.webkitAnimation=he,te.style.animation=he,te.style.borderRadius="".concat(Q(H.settings.maxSize,H.settings.maxSize+Math.floor(10*Math.random())),"px ").concat(Q(1,Math.floor(_e/4)),"px"),te.style.height="".concat(pe,"px"),te.style.left="".concat(Math.random()*document.documentElement.clientWidth-100,"px"),te.style.marginTop="".concat(-(Math.floor(20*Math.random())+15),"px"),te.style.width="".concat(_e,"px"),Pe(te,"AnimationEnd",function(){y(te)||te.remove()}),Pe(te,"AnimationIteration",function(){y(te)||te.remove()}),H.petalsWeak.set(Date.now(),te),H.el.appendChild(te)},this.el.setAttribute("data-sakura-anim-id",window.requestAnimationFrame(this.createPetal))};Sakura.prototype.start=function(){if(this.el.dataset.sakuraAnimId)throw new Error("Sakura is already running.");this.el.setAttribute("data-sakura-anim-id",window.requestAnimationFrame(this.createPetal))},Sakura.prototype.stop=function(){var Gt=this,gn=0<arguments.length&&void 0!==arguments[0]&&arguments[0],H=this.el.dataset.sakuraAnimId;H&&(window.cancelAnimationFrame(H),this.el.setAttribute("data-sakura-anim-id","")),gn||setTimeout(function(){for(var At=document.getElementsByClassName(Gt.settings.className);0<At.length;)At[0].parentNode.removeChild(At[0])},this.settings.delay+50)},function(Gt,gn){"object"==typeof exports&&typeof module<"u"?module.exports=gn():"function"==typeof define&&define.amd?define(gn):(Gt=typeof globalThis<"u"?globalThis:Gt||self).bootstrap=gn()}(this,function(){"use strict";const Gt="transitionend",gn=xe=>{let j=xe.getAttribute("data-bs-target");if(!j||"#"===j){let ae=xe.getAttribute("href");if(!ae||!ae.includes("#")&&!ae.startsWith("."))return null;ae.includes("#")&&!ae.startsWith("#")&&(ae=`#${ae.split("#")[1]}`),j=ae&&"#"!==ae?ae.trim():null}return j},H=xe=>{const j=gn(xe);return j&&document.querySelector(j)?j:null},At=xe=>{const j=gn(xe);return j?document.querySelector(j):null},xt=xe=>{xe.dispatchEvent(new Event(Gt))},kt=xe=>!(!xe||"object"!=typeof xe)&&(void 0!==xe.jquery&&(xe=xe[0]),void 0!==xe.nodeType),Q=xe=>kt(xe)?xe.jquery?xe[0]:xe:"string"==typeof xe&&xe.length>0?document.querySelector(xe):null,je=(xe,j,ae)=>{Object.keys(ae).forEach(De=>{const rt=ae[De],gt=j[De],Dt=gt&&kt(gt)?"element":null==(_n=gt)?`${_n}`:{}.toString.call(_n).match(/\s([a-z]+)/i)[1].toLowerCase();var _n;if(!new RegExp(rt).test(Dt))throw new TypeError(`${xe.toUpperCase()}: Option "${De}" provided type "${Dt}" but expected type "${rt}".`)})},Pe=xe=>!(!kt(xe)||0===xe.getClientRects().length)&&"visible"===getComputedStyle(xe).getPropertyValue("visibility"),y=xe=>!xe||xe.nodeType!==Node.ELEMENT_NODE||!!xe.classList.contains("disabled")||(void 0!==xe.disabled?xe.disabled:xe.hasAttribute("disabled")&&"false"!==xe.getAttribute("disabled")),he=xe=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof xe.getRootNode){const j=xe.getRootNode();return j instanceof ShadowRoot?j:null}return xe instanceof ShadowRoot?xe:xe.parentNode?he(xe.parentNode):null},te=()=>{},_e=()=>{const{jQuery:xe}=window;return xe&&!document.body.hasAttribute("data-bs-no-jquery")?xe:null},ne=[],le=()=>"rtl"===document.documentElement.dir,d=xe=>{var j;j=()=>{const ae=_e();if(ae){const De=xe.NAME,rt=ae.fn[De];ae.fn[De]=xe.jQueryInterface,ae.fn[De].Constructor=xe,ae.fn[De].noConflict=()=>(ae.fn[De]=rt,xe.jQueryInterface)}},"loading"===document.readyState?(ne.length||document.addEventListener("DOMContentLoaded",()=>{ne.forEach(ae=>ae())}),ne.push(j)):j()},N=xe=>{"function"==typeof xe&&xe()},A=(xe,j,ae=!0)=>{if(!ae)return void N(xe);const De=(Dt=>{if(!Dt)return 0;let{transitionDuration:_n,transitionDelay:Bn}=window.getComputedStyle(Dt);const Vn=Number.parseFloat(_n),Xn=Number.parseFloat(Bn);return Vn||Xn?(_n=_n.split(",")[0],Bn=Bn.split(",")[0],1e3*(Number.parseFloat(_n)+Number.parseFloat(Bn))):0})(j)+5;let rt=!1;const gt=({target:Dt})=>{Dt===j&&(rt=!0,j.removeEventListener(Gt,gt),N(xe))};j.addEventListener(Gt,gt),setTimeout(()=>{rt||xt(j)},De)},f=(xe,j,ae,De)=>{let rt=xe.indexOf(j);if(-1===rt)return xe[!ae&&De?xe.length-1:0];const gt=xe.length;return rt+=ae?1:-1,De&&(rt=(rt+gt)%gt),xe[Math.max(0,Math.min(rt,gt-1))]},b=/[^.]*(?=\..*)\.|.*/,m=/\..*/,_=/::\d+$/,n={};let g=1;const h={mouseenter:"mouseover",mouseleave:"mouseout"},s=/^(mouseenter|mouseleave)/i,u=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function o(xe,j){return j&&`${j}::${g++}`||xe.uidEvent||g++}function t(xe){const j=o(xe);return xe.uidEvent=j,n[j]=n[j]||{},n[j]}function r(xe,j,ae=null){const De=Object.keys(xe);for(let rt=0,gt=De.length;rt<gt;rt++){const Dt=xe[De[rt]];if(Dt.originalHandler===j&&Dt.delegationSelector===ae)return Dt}return null}function a(xe,j,ae){const De="string"==typeof j,rt=De?ae:j;let gt=w(xe);return u.has(gt)||(gt=xe),[De,rt,gt]}function c(xe,j,ae,De,rt){if("string"!=typeof j||!xe)return;if(ae||(ae=De,De=null),s.test(j)){const hr=ur=>function(ar){if(!ar.relatedTarget||ar.relatedTarget!==ar.delegateTarget&&!ar.delegateTarget.contains(ar.relatedTarget))return ur.call(this,ar)};De?De=hr(De):ae=hr(ae)}const[gt,Dt,_n]=a(j,ae,De),Bn=t(xe),Vn=Bn[_n]||(Bn[_n]={}),Xn=r(Vn,Dt,gt?ae:null);if(Xn)return void(Xn.oneOff=Xn.oneOff&&rt);const On=o(Dt,j.replace(b,"")),Sr=gt?(hr=xe,ur=ae,ar=De,function mr(Hr){const Ar=hr.querySelectorAll(ur);for(let{target:wr}=Hr;wr&&wr!==this;wr=wr.parentNode)for(let Ir=Ar.length;Ir--;)if(Ar[Ir]===wr)return Hr.delegateTarget=wr,mr.oneOff&&E.off(hr,Hr.type,ur,ar),ar.apply(wr,[Hr]);return null}):function(hr,ur){return function ar(mr){return mr.delegateTarget=hr,ar.oneOff&&E.off(hr,mr.type,ur),ur.apply(hr,[mr])}}(xe,ae);var hr,ur,ar;Sr.delegationSelector=gt?ae:null,Sr.originalHandler=Dt,Sr.oneOff=rt,Sr.uidEvent=On,Vn[On]=Sr,xe.addEventListener(_n,Sr,gt)}function l(xe,j,ae,De,rt){const gt=r(j[ae],De,rt);gt&&(xe.removeEventListener(ae,gt,Boolean(rt)),delete j[ae][gt.uidEvent])}function w(xe){return xe=xe.replace(m,""),h[xe]||xe}const E={on(xe,j,ae,De){c(xe,j,ae,De,!1)},one(xe,j,ae,De){c(xe,j,ae,De,!0)},off(xe,j,ae,De){if("string"!=typeof j||!xe)return;const[rt,gt,Dt]=a(j,ae,De),_n=Dt!==j,Bn=t(xe),Vn=j.startsWith(".");if(void 0!==gt)return Bn&&Bn[Dt]?void l(xe,Bn,Dt,gt,rt?ae:null):void 0;Vn&&Object.keys(Bn).forEach(On=>{!function(Sr,hr,ur,ar){const mr=hr[ur]||{};Object.keys(mr).forEach(Hr=>{if(Hr.includes(ar)){const Ar=mr[Hr];l(Sr,hr,ur,Ar.originalHandler,Ar.delegationSelector)}})}(xe,Bn,On,j.slice(1))});const Xn=Bn[Dt]||{};Object.keys(Xn).forEach(On=>{const Sr=On.replace(_,"");if(!_n||j.includes(Sr)){const hr=Xn[On];l(xe,Bn,Dt,hr.originalHandler,hr.delegationSelector)}})},trigger(xe,j,ae){if("string"!=typeof j||!xe)return null;const De=_e(),rt=w(j),gt=j!==rt,Dt=u.has(rt);let _n,Bn=!0,Vn=!0,Xn=!1,On=null;return gt&&De&&(_n=De.Event(j,ae),De(xe).trigger(_n),Bn=!_n.isPropagationStopped(),Vn=!_n.isImmediatePropagationStopped(),Xn=_n.isDefaultPrevented()),Dt?(On=document.createEvent("HTMLEvents"),On.initEvent(rt,Bn,!0)):On=new CustomEvent(j,{bubbles:Bn,cancelable:!0}),void 0!==ae&&Object.keys(ae).forEach(Sr=>{Object.defineProperty(On,Sr,{get:()=>ae[Sr]})}),Xn&&On.preventDefault(),Vn&&xe.dispatchEvent(On),On.defaultPrevented&&void 0!==_n&&_n.preventDefault(),On}},C=new Map,z={set(xe,j,ae){C.has(xe)||C.set(xe,new Map);const De=C.get(xe);De.has(j)||0===De.size?De.set(j,ae):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(De.keys())[0]}.`)},get:(xe,j)=>C.has(xe)&&C.get(xe).get(j)||null,remove(xe,j){if(!C.has(xe))return;const ae=C.get(xe);ae.delete(j),0===ae.size&&C.delete(xe)}};class k{constructor(j){(j=Q(j))&&(this._element=j,z.set(this._element,this.constructor.DATA_KEY,this))}dispose(){z.remove(this._element,this.constructor.DATA_KEY),E.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(j=>{this[j]=null})}_queueCallback(j,ae,De=!0){A(j,ae,De)}static getInstance(j){return z.get(Q(j),this.DATA_KEY)}static getOrCreateInstance(j,ae={}){return this.getInstance(j)||new this(j,"object"==typeof ae?ae:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const I=(xe,j="hide")=>{const De=xe.NAME;E.on(document,`click.dismiss${xe.EVENT_KEY}`,`[data-bs-dismiss="${De}"]`,function(rt){if(["A","AREA"].includes(this.tagName)&&rt.preventDefault(),y(this))return;const gt=At(this)||this.closest(`.${De}`);xe.getOrCreateInstance(gt)[j]()})};class V extends k{static get NAME(){return"alert"}close(){if(E.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const j=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,j)}_destroyElement(){this._element.remove(),E.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(j){return this.each(function(){const ae=V.getOrCreateInstance(this);if("string"==typeof j){if(void 0===ae[j]||j.startsWith("_")||"constructor"===j)throw new TypeError(`No method named "${j}"`);ae[j](this)}})}}I(V,"close"),d(V);const $='[data-bs-toggle="button"]';class oe extends k{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(j){return this.each(function(){const ae=oe.getOrCreateInstance(this);"toggle"===j&&ae[j]()})}}function ue(xe){return"true"===xe||"false"!==xe&&(xe===Number(xe).toString()?Number(xe):""===xe||"null"===xe?null:xe)}function Ae(xe){return xe.replace(/[A-Z]/g,j=>`-${j.toLowerCase()}`)}E.on(document,"click.bs.button.data-api",$,xe=>{xe.preventDefault();const j=xe.target.closest($);oe.getOrCreateInstance(j).toggle()}),d(oe);const X={setDataAttribute(xe,j,ae){xe.setAttribute(`data-bs-${Ae(j)}`,ae)},removeDataAttribute(xe,j){xe.removeAttribute(`data-bs-${Ae(j)}`)},getDataAttributes(xe){if(!xe)return{};const j={};return Object.keys(xe.dataset).filter(ae=>ae.startsWith("bs")).forEach(ae=>{let De=ae.replace(/^bs/,"");De=De.charAt(0).toLowerCase()+De.slice(1,De.length),j[De]=ue(xe.dataset[ae])}),j},getDataAttribute:(xe,j)=>ue(xe.getAttribute(`data-bs-${Ae(j)}`)),offset(xe){const j=xe.getBoundingClientRect();return{top:j.top+window.pageYOffset,left:j.left+window.pageXOffset}},position:xe=>({top:xe.offsetTop,left:xe.offsetLeft})},T={find:(xe,j=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(j,xe)),findOne:(xe,j=document.documentElement)=>Element.prototype.querySelector.call(j,xe),children:(xe,j)=>[].concat(...xe.children).filter(ae=>ae.matches(j)),parents(xe,j){const ae=[];let De=xe.parentNode;for(;De&&De.nodeType===Node.ELEMENT_NODE&&3!==De.nodeType;)De.matches(j)&&ae.push(De),De=De.parentNode;return ae},prev(xe,j){let ae=xe.previousElementSibling;for(;ae;){if(ae.matches(j))return[ae];ae=ae.previousElementSibling}return[]},next(xe,j){let ae=xe.nextElementSibling;for(;ae;){if(ae.matches(j))return[ae];ae=ae.nextElementSibling}return[]},focusableChildren(xe){const j=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(ae=>`${ae}:not([tabindex^="-"])`).join(", ");return this.find(j,xe).filter(ae=>!y(ae)&&Pe(ae))}},D="carousel",M={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},v={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},B="next",F="prev",q="left",L="right",Y={ArrowLeft:L,ArrowRight:q},se="slid.bs.carousel",Ee="active",Se=".active.carousel-item";class Ie extends k{constructor(j,ae){super(j),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(ae),this._indicatorsElement=T.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return M}static get NAME(){return D}next(){this._slide(B)}nextWhenVisible(){!document.hidden&&Pe(this._element)&&this.next()}prev(){this._slide(F)}pause(j){j||(this._isPaused=!0),T.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(xt(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(j){j||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(j){this._activeElement=T.findOne(Se,this._element);const ae=this._getItemIndex(this._activeElement);if(!(j>this._items.length-1||j<0)){if(!this._isSliding)return ae===j?(this.pause(),void this.cycle()):void this._slide(j>ae?B:F,this._items[j]);E.one(this._element,se,()=>this.to(j))}}_getConfig(j){return j={...M,...X.getDataAttributes(this._element),..."object"==typeof j?j:{}},je(D,j,v),j}_handleSwipe(){const j=Math.abs(this.touchDeltaX);if(j<=40)return;const ae=j/this.touchDeltaX;this.touchDeltaX=0,ae&&this._slide(ae>0?L:q)}_addEventListeners(){this._config.keyboard&&E.on(this._element,"keydown.bs.carousel",j=>this._keydown(j)),"hover"===this._config.pause&&(E.on(this._element,"mouseenter.bs.carousel",j=>this.pause(j)),E.on(this._element,"mouseleave.bs.carousel",j=>this.cycle(j))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const j=gt=>this._pointerEvent&&("pen"===gt.pointerType||"touch"===gt.pointerType),ae=gt=>{j(gt)?this.touchStartX=gt.clientX:this._pointerEvent||(this.touchStartX=gt.touches[0].clientX)},De=gt=>{this.touchDeltaX=gt.touches&&gt.touches.length>1?0:gt.touches[0].clientX-this.touchStartX},rt=gt=>{j(gt)&&(this.touchDeltaX=gt.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(Dt=>this.cycle(Dt),500+this._config.interval))};T.find(".carousel-item img",this._element).forEach(gt=>{E.on(gt,"dragstart.bs.carousel",Dt=>Dt.preventDefault())}),this._pointerEvent?(E.on(this._element,"pointerdown.bs.carousel",gt=>ae(gt)),E.on(this._element,"pointerup.bs.carousel",gt=>rt(gt)),this._element.classList.add("pointer-event")):(E.on(this._element,"touchstart.bs.carousel",gt=>ae(gt)),E.on(this._element,"touchmove.bs.carousel",gt=>De(gt)),E.on(this._element,"touchend.bs.carousel",gt=>rt(gt)))}_keydown(j){if(/input|textarea/i.test(j.target.tagName))return;const ae=Y[j.key];ae&&(j.preventDefault(),this._slide(ae))}_getItemIndex(j){return this._items=j&&j.parentNode?T.find(".carousel-item",j.parentNode):[],this._items.indexOf(j)}_getItemByOrder(j,ae){return f(this._items,ae,j===B,this._config.wrap)}_triggerSlideEvent(j,ae){const De=this._getItemIndex(j),rt=this._getItemIndex(T.findOne(Se,this._element));return E.trigger(this._element,"slide.bs.carousel",{relatedTarget:j,direction:ae,from:rt,to:De})}_setActiveIndicatorElement(j){if(this._indicatorsElement){const ae=T.findOne(".active",this._indicatorsElement);ae.classList.remove(Ee),ae.removeAttribute("aria-current");const De=T.find("[data-bs-target]",this._indicatorsElement);for(let rt=0;rt<De.length;rt++)if(Number.parseInt(De[rt].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(j)){De[rt].classList.add(Ee),De[rt].setAttribute("aria-current","true");break}}}_updateInterval(){const j=this._activeElement||T.findOne(Se,this._element);if(!j)return;const ae=Number.parseInt(j.getAttribute("data-bs-interval"),10);ae?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=ae):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(j,ae){const De=this._directionToOrder(j),rt=T.findOne(Se,this._element),gt=this._getItemIndex(rt),Dt=ae||this._getItemByOrder(De,rt),_n=this._getItemIndex(Dt),Bn=Boolean(this._interval),Vn=De===B,Xn=Vn?"carousel-item-start":"carousel-item-end",On=Vn?"carousel-item-next":"carousel-item-prev",Sr=this._orderToDirection(De);if(Dt&&Dt.classList.contains(Ee))return void(this._isSliding=!1);if(this._isSliding||this._triggerSlideEvent(Dt,Sr).defaultPrevented||!rt||!Dt)return;this._isSliding=!0,Bn&&this.pause(),this._setActiveIndicatorElement(Dt),this._activeElement=Dt;const hr=()=>{E.trigger(this._element,se,{relatedTarget:Dt,direction:Sr,from:gt,to:_n})};this._element.classList.contains("slide")?(Dt.classList.add(On),rt.classList.add(Xn),Dt.classList.add(Xn),this._queueCallback(()=>{Dt.classList.remove(Xn,On),Dt.classList.add(Ee),rt.classList.remove(Ee,On,Xn),this._isSliding=!1,setTimeout(hr,0)},rt,!0)):(rt.classList.remove(Ee),Dt.classList.add(Ee),this._isSliding=!1,hr()),Bn&&this.cycle()}_directionToOrder(j){return[L,q].includes(j)?le()?j===q?F:B:j===q?B:F:j}_orderToDirection(j){return[B,F].includes(j)?le()?j===F?q:L:j===F?L:q:j}static carouselInterface(j,ae){const De=Ie.getOrCreateInstance(j,ae);let{_config:rt}=De;"object"==typeof ae&&(rt={...rt,...ae});const gt="string"==typeof ae?ae:rt.slide;if("number"==typeof ae)De.to(ae);else if("string"==typeof gt){if(void 0===De[gt])throw new TypeError(`No method named "${gt}"`);De[gt]()}else rt.interval&&rt.ride&&(De.pause(),De.cycle())}static jQueryInterface(j){return this.each(function(){Ie.carouselInterface(this,j)})}static dataApiClickHandler(j){const ae=At(this);if(!ae||!ae.classList.contains("carousel"))return;const De={...X.getDataAttributes(ae),...X.getDataAttributes(this)},rt=this.getAttribute("data-bs-slide-to");rt&&(De.interval=!1),Ie.carouselInterface(ae,De),rt&&Ie.getInstance(ae).to(rt),j.preventDefault()}}E.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",Ie.dataApiClickHandler),E.on(window,"load.bs.carousel.data-api",()=>{const xe=T.find('[data-bs-ride="carousel"]');for(let j=0,ae=xe.length;j<ae;j++)Ie.carouselInterface(xe[j],Ie.getInstance(xe[j]))}),d(Ie);const Qe="collapse",Je={toggle:!0,parent:null},ut={toggle:"boolean",parent:"(null|element)"},$t="show",qt="collapse",tt="collapsing",at="collapsed",nt=":scope .collapse .collapse",Yt='[data-bs-toggle="collapse"]';class Tn extends k{constructor(j,ae){super(j),this._isTransitioning=!1,this._config=this._getConfig(ae),this._triggerArray=[];const De=T.find(Yt);for(let rt=0,gt=De.length;rt<gt;rt++){const Dt=De[rt],_n=H(Dt),Bn=T.find(_n).filter(Vn=>Vn===this._element);null!==_n&&Bn.length&&(this._selector=_n,this._triggerArray.push(Dt))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Je}static get NAME(){return Qe}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let j,ae=[];if(this._config.parent){const Dt=T.find(nt,this._config.parent);ae=T.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(_n=>!Dt.includes(_n))}const De=T.findOne(this._selector);if(ae.length){const Dt=ae.find(_n=>De!==_n);if(j=Dt?Tn.getInstance(Dt):null,j&&j._isTransitioning)return}if(E.trigger(this._element,"show.bs.collapse").defaultPrevented)return;ae.forEach(Dt=>{De!==Dt&&Tn.getOrCreateInstance(Dt,{toggle:!1}).hide(),j||z.set(Dt,"bs.collapse",null)});const rt=this._getDimension();this._element.classList.remove(qt),this._element.classList.add(tt),this._element.style[rt]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const gt=`scroll${rt[0].toUpperCase()+rt.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(tt),this._element.classList.add(qt,$t),this._element.style[rt]="",E.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[rt]=`${this._element[gt]}px`}hide(){if(this._isTransitioning||!this._isShown()||E.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const j=this._getDimension();this._element.style[j]=`${this._element.getBoundingClientRect()[j]}px`,this._element.classList.add(tt),this._element.classList.remove(qt,$t);const ae=this._triggerArray.length;for(let De=0;De<ae;De++){const rt=this._triggerArray[De],gt=At(rt);gt&&!this._isShown(gt)&&this._addAriaAndCollapsedClass([rt],!1)}this._isTransitioning=!0,this._element.style[j]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(tt),this._element.classList.add(qt),E.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(j=this._element){return j.classList.contains($t)}_getConfig(j){return(j={...Je,...X.getDataAttributes(this._element),...j}).toggle=Boolean(j.toggle),j.parent=Q(j.parent),je(Qe,j,ut),j}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const j=T.find(nt,this._config.parent);T.find(Yt,this._config.parent).filter(ae=>!j.includes(ae)).forEach(ae=>{const De=At(ae);De&&this._addAriaAndCollapsedClass([ae],this._isShown(De))})}_addAriaAndCollapsedClass(j,ae){j.length&&j.forEach(De=>{ae?De.classList.remove(at):De.classList.add(at),De.setAttribute("aria-expanded",ae)})}static jQueryInterface(j){return this.each(function(){const ae={};"string"==typeof j&&/show|hide/.test(j)&&(ae.toggle=!1);const De=Tn.getOrCreateInstance(this,ae);if("string"==typeof j){if(void 0===De[j])throw new TypeError(`No method named "${j}"`);De[j]()}})}}E.on(document,"click.bs.collapse.data-api",Yt,function(xe){("A"===xe.target.tagName||xe.delegateTarget&&"A"===xe.delegateTarget.tagName)&&xe.preventDefault();const j=H(this);T.find(j).forEach(ae=>{Tn.getOrCreateInstance(ae,{toggle:!1}).toggle()})}),d(Tn);var J="top",O="bottom",W="right",ee="left",ve="auto",He=[J,O,W,ee],ht="start",st="end",Jt="clippingParents",on="viewport",Ht="popper",wn="reference",sn=He.reduce(function(xe,j){return xe.concat([j+"-"+ht,j+"-"+st])},[]),Sn=[].concat(He,[ve]).reduce(function(xe,j){return xe.concat([j,j+"-"+ht,j+"-"+st])},[]),fr="beforeRead",Rt="afterRead",vr="beforeMain",Le="afterMain",et="beforeWrite",Ze="afterWrite",Ct=[fr,"read",Rt,vr,"main",Le,et,"write",Ze];function Nt(xe){return xe?(xe.nodeName||"").toLowerCase():null}function Bt(xe){if(null==xe)return window;if("[object Window]"!==xe.toString()){var j=xe.ownerDocument;return j&&j.defaultView||window}return xe}function ln(xe){return xe instanceof Bt(xe).Element||xe instanceof Element}function Ot(xe){return xe instanceof Bt(xe).HTMLElement||xe instanceof HTMLElement}function mn(xe){return typeof ShadowRoot<"u"&&(xe instanceof Bt(xe).ShadowRoot||xe instanceof ShadowRoot)}const kn={name:"applyStyles",enabled:!0,phase:"write",fn:function(xe){var j=xe.state;Object.keys(j.elements).forEach(function(ae){var De=j.styles[ae]||{},rt=j.attributes[ae]||{},gt=j.elements[ae];Ot(gt)&&Nt(gt)&&(Object.assign(gt.style,De),Object.keys(rt).forEach(function(Dt){var _n=rt[Dt];!1===_n?gt.removeAttribute(Dt):gt.setAttribute(Dt,!0===_n?"":_n)}))})},effect:function(xe){var j=xe.state,ae={popper:{position:j.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(j.elements.popper.style,ae.popper),j.styles=ae,j.elements.arrow&&Object.assign(j.elements.arrow.style,ae.arrow),function(){Object.keys(j.elements).forEach(function(De){var rt=j.elements[De],gt=j.attributes[De]||{},Dt=Object.keys(j.styles.hasOwnProperty(De)?j.styles[De]:ae[De]).reduce(function(_n,Bn){return _n[Bn]="",_n},{});Ot(rt)&&Nt(rt)&&(Object.assign(rt.style,Dt),Object.keys(gt).forEach(function(_n){rt.removeAttribute(_n)}))})}},requires:["computeStyles"]};function vn(xe){return xe.split("-")[0]}function In(xe,j){var ae=xe.getBoundingClientRect();return{width:ae.width/1,height:ae.height/1,top:ae.top/1,right:ae.right/1,bottom:ae.bottom/1,left:ae.left/1,x:ae.left/1,y:ae.top/1}}function pr(xe){var j=In(xe),ae=xe.offsetWidth,De=xe.offsetHeight;return Math.abs(j.width-ae)<=1&&(ae=j.width),Math.abs(j.height-De)<=1&&(De=j.height),{x:xe.offsetLeft,y:xe.offsetTop,width:ae,height:De}}function Nn(xe,j){var ae=j.getRootNode&&j.getRootNode();if(xe.contains(j))return!0;if(ae&&mn(ae)){var De=j;do{if(De&&xe.isSameNode(De))return!0;De=De.parentNode||De.host}while(De)}return!1}function zn(xe){return Bt(xe).getComputedStyle(xe)}function Br(xe){return["table","td","th"].indexOf(Nt(xe))>=0}function Rn(xe){return((ln(xe)?xe.ownerDocument:xe.document)||window.document).documentElement}function Qn(xe){return"html"===Nt(xe)?xe:xe.assignedSlot||xe.parentNode||(mn(xe)?xe.host:null)||Rn(xe)}function Wr(xe){return Ot(xe)&&"fixed"!==zn(xe).position?xe.offsetParent:null}function Kn(xe){for(var j=Bt(xe),ae=Wr(xe);ae&&Br(ae)&&"static"===zn(ae).position;)ae=Wr(ae);return ae&&("html"===Nt(ae)||"body"===Nt(ae)&&"static"===zn(ae).position)?j:ae||function(De){var rt=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Ot(De)&&"fixed"===zn(De).position)return null;for(var gt=Qn(De);Ot(gt)&&["html","body"].indexOf(Nt(gt))<0;){var Dt=zn(gt);if("none"!==Dt.transform||"none"!==Dt.perspective||"paint"===Dt.contain||-1!==["transform","perspective"].indexOf(Dt.willChange)||rt&&"filter"===Dt.willChange||rt&&Dt.filter&&"none"!==Dt.filter)return gt;gt=gt.parentNode}return null}(xe)||j}function Zn(xe){return["top","bottom"].indexOf(xe)>=0?"x":"y"}var Kr=Math.max,Gn=Math.min,er=Math.round;function ct(xe,j,ae){return Kr(xe,Gn(j,ae))}function me(xe){return Object.assign({},{top:0,right:0,bottom:0,left:0},xe)}function ot(xe,j){return j.reduce(function(ae,De){return ae[De]=xe,ae},{})}const ft={name:"arrow",enabled:!0,phase:"main",fn:function(xe){var j,Pr,$r,ae=xe.state,De=xe.name,rt=xe.options,gt=ae.elements.arrow,Dt=ae.modifiersData.popperOffsets,_n=vn(ae.placement),Bn=Zn(_n),Vn=[ee,W].indexOf(_n)>=0?"height":"width";if(gt&&Dt){var Xn=($r=ae,me("number"!=typeof(Pr="function"==typeof(Pr=rt.padding)?Pr(Object.assign({},$r.rects,{placement:$r.placement})):Pr)?Pr:ot(Pr,He))),On=pr(gt),Sr="y"===Bn?J:ee,hr="y"===Bn?O:W,ur=ae.rects.reference[Vn]+ae.rects.reference[Bn]-Dt[Bn]-ae.rects.popper[Vn],ar=Dt[Bn]-ae.rects.reference[Bn],mr=Kn(gt),Hr=mr?"y"===Bn?mr.clientHeight||0:mr.clientWidth||0:0,Rr=Hr/2-On[Vn]/2+(ur/2-ar/2),Mr=ct(Xn[Sr],Rr,Hr-On[Vn]-Xn[hr]);ae.modifiersData[De]=((j={})[Bn]=Mr,j.centerOffset=Mr-Rr,j)}},effect:function(xe){var j=xe.state,ae=xe.options.element,De=void 0===ae?"[data-popper-arrow]":ae;null!=De&&("string"!=typeof De||(De=j.elements.popper.querySelector(De)))&&Nn(j.elements.popper,De)&&(j.elements.arrow=De)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function be(xe){return xe.split("-")[1]}var dt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Zr(xe){var j,bi,Ri,oi,ae=xe.popper,De=xe.popperRect,rt=xe.placement,gt=xe.variation,Dt=xe.offsets,_n=xe.position,Bn=xe.gpuAcceleration,Vn=xe.adaptive,Xn=xe.roundOffsets,On=!0===Xn?(Ri=(bi=Dt).y,oi=window.devicePixelRatio||1,{x:er(er(bi.x*oi)/oi)||0,y:er(er(Ri*oi)/oi)||0}):"function"==typeof Xn?Xn(Dt):Dt,Sr=On.x,hr=void 0===Sr?0:Sr,ur=On.y,ar=void 0===ur?0:ur,mr=Dt.hasOwnProperty("x"),Hr=Dt.hasOwnProperty("y"),Ar=ee,wr=J,Ir=window;if(Vn){var Rr=Kn(ae),Mr="clientHeight",Dr="clientWidth";Rr===Bt(ae)&&"static"!==zn(Rr=Rn(ae)).position&&"absolute"===_n&&(Mr="scrollHeight",Dr="scrollWidth"),rt!==J&&(rt!==ee&&rt!==W||gt!==st)||(wr=O,ar-=Rr[Mr]-De.height,ar*=Bn?1:-1),rt!==ee&&(rt!==J&&rt!==O||gt!==st)||(Ar=W,hr-=Rr[Dr]-De.width,hr*=Bn?1:-1)}var Pr,$r=Object.assign({position:_n},Vn&&dt);return Object.assign({},$r,Bn?((Pr={})[wr]=Hr?"0":"",Pr[Ar]=mr?"0":"",Pr.transform=(Ir.devicePixelRatio||1)<=1?"translate("+hr+"px, "+ar+"px)":"translate3d("+hr+"px, "+ar+"px, 0)",Pr):((j={})[wr]=Hr?ar+"px":"",j[Ar]=mr?hr+"px":"",j.transform="",j))}const ri={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(xe){var j=xe.state,ae=xe.options,De=ae.gpuAcceleration,rt=void 0===De||De,gt=ae.adaptive,Dt=void 0===gt||gt,_n=ae.roundOffsets,Bn=void 0===_n||_n,Vn={placement:vn(j.placement),variation:be(j.placement),popper:j.elements.popper,popperRect:j.rects.popper,gpuAcceleration:rt};null!=j.modifiersData.popperOffsets&&(j.styles.popper=Object.assign({},j.styles.popper,Zr(Object.assign({},Vn,{offsets:j.modifiersData.popperOffsets,position:j.options.strategy,adaptive:Dt,roundOffsets:Bn})))),null!=j.modifiersData.arrow&&(j.styles.arrow=Object.assign({},j.styles.arrow,Zr(Object.assign({},Vn,{offsets:j.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Bn})))),j.attributes.popper=Object.assign({},j.attributes.popper,{"data-popper-placement":j.placement})},data:{}};var si={passive:!0};const cr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(xe){var j=xe.state,ae=xe.instance,De=xe.options,rt=De.scroll,gt=void 0===rt||rt,Dt=De.resize,_n=void 0===Dt||Dt,Bn=Bt(j.elements.popper),Vn=[].concat(j.scrollParents.reference,j.scrollParents.popper);return gt&&Vn.forEach(function(Xn){Xn.addEventListener("scroll",ae.update,si)}),_n&&Bn.addEventListener("resize",ae.update,si),function(){gt&&Vn.forEach(function(Xn){Xn.removeEventListener("scroll",ae.update,si)}),_n&&Bn.removeEventListener("resize",ae.update,si)}},data:{}};var yi={left:"right",right:"left",bottom:"top",top:"bottom"};function Jr(xe){return xe.replace(/left|right|bottom|top/g,function(j){return yi[j]})}var zr={start:"end",end:"start"};function ui(xe){return xe.replace(/start|end/g,function(j){return zr[j]})}function ai(xe){var j=Bt(xe);return{scrollLeft:j.pageXOffset,scrollTop:j.pageYOffset}}function li(xe){return In(Rn(xe)).left+ai(xe).scrollLeft}function Vr(xe){var j=zn(xe);return/auto|scroll|overlay|hidden/.test(j.overflow+j.overflowY+j.overflowX)}function Fr(xe){return["html","body","#document"].indexOf(Nt(xe))>=0?xe.ownerDocument.body:Ot(xe)&&Vr(xe)?xe:Fr(Qn(xe))}function Un(xe,j){var ae;void 0===j&&(j=[]);var De=Fr(xe),rt=De===(null==(ae=xe.ownerDocument)?void 0:ae.body),gt=Bt(De),Dt=rt?[gt].concat(gt.visualViewport||[],Vr(De)?De:[]):De,_n=j.concat(Dt);return rt?_n:_n.concat(Un(Qn(Dt)))}function We(xe){return Object.assign({},xe,{left:xe.x,top:xe.y,right:xe.x+xe.width,bottom:xe.y+xe.height})}function Mn(xe,j){return j===on?We((De=Bt(ae=xe),Dt=(rt=Rn(ae)).clientWidth,_n=rt.clientHeight,Bn=0,Vn=0,(gt=De.visualViewport)&&(Dt=gt.width,_n=gt.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(Bn=gt.offsetLeft,Vn=gt.offsetTop)),{width:Dt,height:_n,x:Bn+li(ae),y:Vn})):Ot(j)?function(ae){var De=In(ae);return De.top=De.top+ae.clientTop,De.left=De.left+ae.clientLeft,De.bottom=De.top+ae.clientHeight,De.right=De.left+ae.clientWidth,De.width=ae.clientWidth,De.height=ae.clientHeight,De.x=De.left,De.y=De.top,De}(j):We(function(ae){var De,rt=Rn(ae),gt=ai(ae),Dt=null==(De=ae.ownerDocument)?void 0:De.body,_n=Kr(rt.scrollWidth,rt.clientWidth,Dt?Dt.scrollWidth:0,Dt?Dt.clientWidth:0),Bn=Kr(rt.scrollHeight,rt.clientHeight,Dt?Dt.scrollHeight:0,Dt?Dt.clientHeight:0),Vn=-gt.scrollLeft+li(ae),Xn=-gt.scrollTop;return"rtl"===zn(Dt||rt).direction&&(Vn+=Kr(rt.clientWidth,Dt?Dt.clientWidth:0)-_n),{width:_n,height:Bn,x:Vn,y:Xn}}(Rn(xe)));var ae,De,rt,gt,Dt,_n,Bn,Vn}function Yn(xe){var j,ae=xe.reference,De=xe.element,rt=xe.placement,gt=rt?vn(rt):null,Dt=rt?be(rt):null,_n=ae.x+ae.width/2-De.width/2,Bn=ae.y+ae.height/2-De.height/2;switch(gt){case J:j={x:_n,y:ae.y-De.height};break;case O:j={x:_n,y:ae.y+ae.height};break;case W:j={x:ae.x+ae.width,y:Bn};break;case ee:j={x:ae.x-De.width,y:Bn};break;default:j={x:ae.x,y:ae.y}}var Vn=gt?Zn(gt):null;if(null!=Vn){var Xn="y"===Vn?"height":"width";switch(Dt){case ht:j[Vn]=j[Vn]-(ae[Xn]/2-De[Xn]/2);break;case st:j[Vn]=j[Vn]+(ae[Xn]/2-De[Xn]/2)}}return j}function Cn(xe,j){void 0===j&&(j={});var xi,Ri,oi,Xr,ho,Ci,go,Yi,Ei,De=j.placement,rt=void 0===De?xe.placement:De,gt=j.boundary,Dt=void 0===gt?Jt:gt,_n=j.rootBoundary,Bn=void 0===_n?on:_n,Vn=j.elementContext,Xn=void 0===Vn?Ht:Vn,On=j.altBoundary,Sr=void 0!==On&&On,hr=j.padding,ur=void 0===hr?0:hr,ar=me("number"!=typeof ur?ur:ot(ur,He)),Hr=xe.rects.popper,Ar=xe.elements[Sr?Xn===Ht?wn:Ht:Xn],wr=(xi=ln(Ar)?Ar:Ar.contextElement||Rn(xe.elements.popper),oi=Bn,go="clippingParents"===(Ri=Dt)?(ho=Un(Qn(Xr=xi)),ln(Ci=["absolute","fixed"].indexOf(zn(Xr).position)>=0&&Ot(Xr)?Kn(Xr):Xr)?ho.filter(function(Si){return ln(Si)&&Nn(Si,Ci)&&"body"!==Nt(Si)}):[]):[].concat(Ri),Ei=(Yi=[].concat(go,[oi])).reduce(function(Xr,ho){var Ci=Mn(xi,ho);return Xr.top=Kr(Ci.top,Xr.top),Xr.right=Gn(Ci.right,Xr.right),Xr.bottom=Gn(Ci.bottom,Xr.bottom),Xr.left=Kr(Ci.left,Xr.left),Xr},Mn(xi,Yi[0])),Ei.width=Ei.right-Ei.left,Ei.height=Ei.bottom-Ei.top,Ei.x=Ei.left,Ei.y=Ei.top,Ei),Ir=In(xe.elements.reference),Rr=Yn({reference:Ir,element:Hr,strategy:"absolute",placement:rt}),Mr=We(Object.assign({},Hr,Rr)),Dr=Xn===Ht?Mr:Ir,Pr={top:wr.top-Dr.top+ar.top,bottom:Dr.bottom-wr.bottom+ar.bottom,left:wr.left-Dr.left+ar.left,right:Dr.right-wr.right+ar.right},$r=xe.modifiersData.offset;if(Xn===Ht&&$r){var bi=$r[rt];Object.keys(Pr).forEach(function(xi){var Ri=[W,O].indexOf(xi)>=0?1:-1,oi=[J,O].indexOf(xi)>=0?"y":"x";Pr[xi]+=bi[oi]*Ri})}return Pr}const Er={name:"flip",enabled:!0,phase:"main",fn:function(xe){var j=xe.state,ae=xe.options,De=xe.name;if(!j.modifiersData[De]._skip){for(var rt=ae.mainAxis,gt=void 0===rt||rt,Dt=ae.altAxis,_n=void 0===Dt||Dt,Bn=ae.fallbackPlacements,Vn=ae.padding,Xn=ae.boundary,On=ae.rootBoundary,Sr=ae.altBoundary,hr=ae.flipVariations,ur=void 0===hr||hr,ar=ae.allowedAutoPlacements,mr=j.options.placement,Hr=vn(mr),Ar=Bn||(Hr!==mr&&ur?function(Si){if(vn(Si)===ve)return[];var Oi=Jr(Si);return[ui(Si),Oi,ui(Oi)]}(mr):[Jr(mr)]),wr=[mr].concat(Ar).reduce(function(Si,Oi){return Si.concat(vn(Oi)===ve?function Jn(xe,j){void 0===j&&(j={});var rt=j.boundary,gt=j.rootBoundary,Dt=j.padding,_n=j.flipVariations,Bn=j.allowedAutoPlacements,Vn=void 0===Bn?Sn:Bn,Xn=be(j.placement),On=Xn?_n?sn:sn.filter(function(ur){return be(ur)===Xn}):He,Sr=On.filter(function(ur){return Vn.indexOf(ur)>=0});0===Sr.length&&(Sr=On);var hr=Sr.reduce(function(ur,ar){return ur[ar]=Cn(xe,{placement:ar,boundary:rt,rootBoundary:gt,padding:Dt})[vn(ar)],ur},{});return Object.keys(hr).sort(function(ur,ar){return hr[ur]-hr[ar]})}(j,{placement:Oi,boundary:Xn,rootBoundary:On,padding:Vn,flipVariations:ur,allowedAutoPlacements:ar}):Oi)},[]),Ir=j.rects.reference,Rr=j.rects.popper,Mr=new Map,Dr=!0,Pr=wr[0],$r=0;$r<wr.length;$r++){var bi=wr[$r],xi=vn(bi),Ri=be(bi)===ht,oi=[J,O].indexOf(xi)>=0,go=oi?"width":"height",Yi=Cn(j,{placement:bi,boundary:Xn,rootBoundary:On,altBoundary:Sr,padding:Vn}),Mi=oi?Ri?W:ee:Ri?O:J;Ir[go]>Rr[go]&&(Mi=Jr(Mi));var Ei=Jr(Mi),Xr=[];if(gt&&Xr.push(Yi[xi]<=0),_n&&Xr.push(Yi[Mi]<=0,Yi[Ei]<=0),Xr.every(function(Si){return Si})){Pr=bi,Dr=!1;break}Mr.set(bi,Xr)}if(Dr)for(var ho=function(Si){var Oi=wr.find(function(To){var uo=Mr.get(To);if(uo)return uo.slice(0,Si).every(function(mo){return mo})});if(Oi)return Pr=Oi,"break"},Ci=ur?3:1;Ci>0&&"break"!==ho(Ci);Ci--);j.placement!==Pr&&(j.modifiersData[De]._skip=!0,j.placement=Pr,j.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Gr(xe,j,ae){return void 0===ae&&(ae={x:0,y:0}),{top:xe.top-j.height-ae.y,right:xe.right-j.width+ae.x,bottom:xe.bottom-j.height+ae.y,left:xe.left-j.width-ae.x}}function ci(xe){return[J,W,O,ee].some(function(j){return xe[j]>=0})}const dr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(xe){var j=xe.state,ae=xe.name,De=j.rects.reference,rt=j.rects.popper,gt=j.modifiersData.preventOverflow,Dt=Cn(j,{elementContext:"reference"}),_n=Cn(j,{altBoundary:!0}),Bn=Gr(Dt,De),Vn=Gr(_n,rt,gt),Xn=ci(Bn),On=ci(Vn);j.modifiersData[ae]={referenceClippingOffsets:Bn,popperEscapeOffsets:Vn,isReferenceHidden:Xn,hasPopperEscaped:On},j.attributes.popper=Object.assign({},j.attributes.popper,{"data-popper-reference-hidden":Xn,"data-popper-escaped":On})}},Qr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(xe){var j=xe.state,De=xe.name,rt=xe.options.offset,gt=void 0===rt?[0,0]:rt,Dt=Sn.reduce(function(Xn,On){return Xn[On]=(hr=j.rects,ur=gt,ar=vn(Sr=On),mr=[ee,J].indexOf(ar)>=0?-1:1,Ar=(Ar=(Hr="function"==typeof ur?ur(Object.assign({},hr,{placement:Sr})):ur)[0])||0,wr=((wr=Hr[1])||0)*mr,[ee,W].indexOf(ar)>=0?{x:wr,y:Ar}:{x:Ar,y:wr}),Xn;var Sr,hr,ur,ar,mr,Hr,Ar,wr},{}),_n=Dt[j.placement],Vn=_n.y;null!=j.modifiersData.popperOffsets&&(j.modifiersData.popperOffsets.x+=_n.x,j.modifiersData.popperOffsets.y+=Vn),j.modifiersData[De]=Dt}},di={name:"popperOffsets",enabled:!0,phase:"read",fn:function(xe){var j=xe.state;j.modifiersData[xe.name]=Yn({reference:j.rects.reference,element:j.rects.popper,strategy:"absolute",placement:j.placement})},data:{}},hi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(xe){var j=xe.state,ae=xe.options,De=xe.name,rt=ae.mainAxis,gt=void 0===rt||rt,Dt=ae.altAxis,_n=void 0!==Dt&&Dt,Sr=ae.tether,hr=void 0===Sr||Sr,ur=ae.tetherOffset,ar=void 0===ur?0:ur,mr=Cn(j,{boundary:ae.boundary,rootBoundary:ae.rootBoundary,padding:ae.padding,altBoundary:ae.altBoundary}),Hr=vn(j.placement),Ar=be(j.placement),wr=!Ar,Ir=Zn(Hr),Rr="x"===Ir?"y":"x",Mr=j.modifiersData.popperOffsets,Dr=j.rects.reference,Pr=j.rects.popper,$r="function"==typeof ar?ar(Object.assign({},j.rects,{placement:j.placement})):ar,bi={x:0,y:0};if(Mr){if(gt||_n){var xi="y"===Ir?J:ee,Ri="y"===Ir?O:W,oi="y"===Ir?"height":"width",go=Mr[Ir],Yi=Mr[Ir]+mr[xi],Mi=Mr[Ir]-mr[Ri],Ei=hr?-Pr[oi]/2:0,Xr=Ar===ht?Dr[oi]:Pr[oi],ho=Ar===ht?-Pr[oi]:-Dr[oi],Ci=j.elements.arrow,Si=hr&&Ci?pr(Ci):{width:0,height:0},Oi=j.modifiersData["arrow#persistent"]?j.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},To=Oi[xi],uo=Oi[Ri],mo=ct(0,Dr[oi],Si[oi]),ss=wr?Dr[oi]/2-Ei-mo-To-$r:Xr-mo-To-$r,as=wr?-Dr[oi]/2+Ei+mo+uo+$r:ho+mo+uo+$r,Io=j.elements.arrow&&Kn(j.elements.arrow),xo=j.modifiersData.offset?j.modifiersData.offset[j.placement][Ir]:0,$o=Mr[Ir]+ss-xo-(Io?"y"===Ir?Io.clientTop||0:Io.clientLeft||0:0),cs=Mr[Ir]+as-xo;if(gt){var Ro=ct(hr?Gn(Yi,$o):Yi,go,hr?Kr(Mi,cs):Mi);Mr[Ir]=Ro,bi[Ir]=Ro-go}if(_n){var Mo=Mr[Rr],vo=Mo+mr["x"===Ir?J:ee],lo=Mo-mr["x"===Ir?O:W],yo=ct(hr?Gn(vo,$o):vo,Mo,hr?Kr(lo,cs):lo);Mr[Rr]=yo,bi[Rr]=yo-Mo}}j.modifiersData[De]=bi}},requiresIfExists:["offset"]};function Ur(xe,j,ae){void 0===ae&&(ae=!1);var De=Ot(j);Ot(j)&&j.getBoundingClientRect();var rt,gt,Dt=Rn(j),_n=In(xe),Bn={scrollLeft:0,scrollTop:0},Vn={x:0,y:0};return(De||!De&&!ae)&&(("body"!==Nt(j)||Vr(Dt))&&(Bn=(rt=j)!==Bt(rt)&&Ot(rt)?{scrollLeft:(gt=rt).scrollLeft,scrollTop:gt.scrollTop}:ai(rt)),Ot(j)?((Vn=In(j)).x+=j.clientLeft,Vn.y+=j.clientTop):Dt&&(Vn.x=li(Dt))),{x:_n.left+Bn.scrollLeft-Vn.x,y:_n.top+Bn.scrollTop-Vn.y,width:_n.width,height:_n.height}}function to(xe){var j=new Map,ae=new Set,De=[];function rt(gt){ae.add(gt.name),[].concat(gt.requires||[],gt.requiresIfExists||[]).forEach(function(Dt){if(!ae.has(Dt)){var _n=j.get(Dt);_n&&rt(_n)}}),De.push(gt)}return xe.forEach(function(gt){j.set(gt.name,gt)}),xe.forEach(function(gt){ae.has(gt.name)||rt(gt)}),De}var P={placement:"bottom",modifiers:[],strategy:"absolute"};function Z(){for(var xe=arguments.length,j=new Array(xe),ae=0;ae<xe;ae++)j[ae]=arguments[ae];return!j.some(function(De){return!(De&&"function"==typeof De.getBoundingClientRect)})}function ie(xe){void 0===xe&&(xe={});var ae=xe.defaultModifiers,De=void 0===ae?[]:ae,rt=xe.defaultOptions,gt=void 0===rt?P:rt;return function(Dt,_n,Bn){void 0===Bn&&(Bn=gt);var Vn,Xn,On={placement:"bottom",orderedModifiers:[],options:Object.assign({},P,gt),modifiersData:{},elements:{reference:Dt,popper:_n},attributes:{},styles:{}},Sr=[],hr=!1,ur={state:On,setOptions:function(mr){var Hr="function"==typeof mr?mr(On.options):mr;ar(),On.options=Object.assign({},gt,On.options,Hr),On.scrollParents={reference:ln(Dt)?Un(Dt):Dt.contextElement?Un(Dt.contextElement):[],popper:Un(_n)};var Ar,wr,Rr,Mr,Ir=(Ar=[].concat(De,On.options.modifiers),wr=Ar.reduce(function(Rr,Mr){var Dr=Rr[Mr.name];return Rr[Mr.name]=Dr?Object.assign({},Dr,Mr,{options:Object.assign({},Dr.options,Mr.options),data:Object.assign({},Dr.data,Mr.data)}):Mr,Rr},{}),Rr=Object.keys(wr).map(function(Rr){return wr[Rr]}),Mr=to(Rr),Ct.reduce(function(Dr,Pr){return Dr.concat(Mr.filter(function($r){return $r.phase===Pr}))},[]));return On.orderedModifiers=Ir.filter(function(Rr){return Rr.enabled}),On.orderedModifiers.forEach(function(Rr){var Dr=Rr.options,$r=Rr.effect;if("function"==typeof $r){var bi=$r({state:On,name:Rr.name,instance:ur,options:void 0===Dr?{}:Dr});Sr.push(bi||function(){})}}),ur.update()},forceUpdate:function(){if(!hr){var mr=On.elements,Hr=mr.reference,Ar=mr.popper;if(Z(Hr,Ar)){On.rects={reference:Ur(Hr,Kn(Ar),"fixed"===On.options.strategy),popper:pr(Ar)},On.reset=!1,On.placement=On.options.placement,On.orderedModifiers.forEach(function($r){return On.modifiersData[$r.name]=Object.assign({},$r.data)});for(var wr=0;wr<On.orderedModifiers.length;wr++)if(!0!==On.reset){var Ir=On.orderedModifiers[wr],Rr=Ir.fn,Mr=Ir.options;"function"==typeof Rr&&(On=Rr({state:On,options:void 0===Mr?{}:Mr,name:Ir.name,instance:ur})||On)}else On.reset=!1,wr=-1}}},update:(Vn=function(){return new Promise(function(mr){ur.forceUpdate(),mr(On)})},function(){return Xn||(Xn=new Promise(function(mr){Promise.resolve().then(function(){Xn=void 0,mr(Vn())})})),Xn}),destroy:function(){ar(),hr=!0}};if(!Z(Dt,_n))return ur;function ar(){Sr.forEach(function(mr){return mr()}),Sr=[]}return ur.setOptions(Bn).then(function(mr){!hr&&Bn.onFirstUpdate&&Bn.onFirstUpdate(mr)}),ur}}var fe=ie(),ye=ie({defaultModifiers:[cr,di,ri,kn]}),Me=ie({defaultModifiers:[cr,di,ri,kn,Qr,Er,hi,ft,dr]});const Ce=Object.freeze({__proto__:null,popperGenerator:ie,detectOverflow:Cn,createPopperBase:fe,createPopper:Me,createPopperLite:ye,top:J,bottom:O,right:W,left:ee,auto:ve,basePlacements:He,start:ht,end:st,clippingParents:Jt,viewport:on,popper:Ht,reference:wn,variationPlacements:sn,placements:Sn,beforeRead:fr,read:"read",afterRead:Rt,beforeMain:vr,main:"main",afterMain:Le,beforeWrite:et,write:"write",afterWrite:Ze,modifierPhases:Ct,applyStyles:kn,arrow:ft,computeStyles:ri,eventListeners:cr,flip:Er,hide:dr,offset:Qr,popperOffsets:di,preventOverflow:hi}),Ue="dropdown",Ge="Escape",Ft="ArrowUp",lt="ArrowDown",mt=new RegExp("ArrowUp|ArrowDown|Escape"),Ut="click.bs.dropdown.data-api",Xt="keydown.bs.dropdown.data-api",It="show",jt='[data-bs-toggle="dropdown"]',Pt=".dropdown-menu",un=le()?"top-end":"top-start",tn=le()?"top-start":"top-end",an=le()?"bottom-end":"bottom-start",Hn=le()?"bottom-start":"bottom-end",xr=le()?"left-start":"right-start",kr=le()?"right-start":"left-start",rr={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},ir={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class or extends k{constructor(j,ae){super(j),this._popper=null,this._config=this._getConfig(ae),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return rr}static get DefaultType(){return ir}static get NAME(){return Ue}toggle(){return this._isShown()?this.hide():this.show()}show(){if(y(this._element)||this._isShown(this._menu))return;const j={relatedTarget:this._element};if(E.trigger(this._element,"show.bs.dropdown",j).defaultPrevented)return;const ae=or.getParentFromElement(this._element);this._inNavbar?X.setDataAttribute(this._menu,"popper","none"):this._createPopper(ae),"ontouchstart"in document.documentElement&&!ae.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(De=>E.on(De,"mouseover",te)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(It),this._element.classList.add(It),E.trigger(this._element,"shown.bs.dropdown",j)}hide(){!y(this._element)&&this._isShown(this._menu)&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(j){E.trigger(this._element,"hide.bs.dropdown",j).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(ae=>E.off(ae,"mouseover",te)),this._popper&&this._popper.destroy(),this._menu.classList.remove(It),this._element.classList.remove(It),this._element.setAttribute("aria-expanded","false"),X.removeDataAttribute(this._menu,"popper"),E.trigger(this._element,"hidden.bs.dropdown",j))}_getConfig(j){if(j={...this.constructor.Default,...X.getDataAttributes(this._element),...j},je(Ue,j,this.constructor.DefaultType),"object"==typeof j.reference&&!kt(j.reference)&&"function"!=typeof j.reference.getBoundingClientRect)throw new TypeError(`${Ue.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return j}_createPopper(j){if(void 0===Ce)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let ae=this._element;"parent"===this._config.reference?ae=j:kt(this._config.reference)?ae=Q(this._config.reference):"object"==typeof this._config.reference&&(ae=this._config.reference);const De=this._getPopperConfig(),rt=De.modifiers.find(gt=>"applyStyles"===gt.name&&!1===gt.enabled);this._popper=Me(ae,this._menu,De),rt&&X.setDataAttribute(this._menu,"popper","static")}_isShown(j=this._element){return j.classList.contains(It)}_getMenuElement(){return T.next(this._element,Pt)[0]}_getPlacement(){const j=this._element.parentNode;if(j.classList.contains("dropend"))return xr;if(j.classList.contains("dropstart"))return kr;const ae="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return j.classList.contains("dropup")?ae?tn:un:ae?Hn:an}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:j}=this._config;return"string"==typeof j?j.split(",").map(ae=>Number.parseInt(ae,10)):"function"==typeof j?ae=>j(ae,this._element):j}_getPopperConfig(){const j={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(j.modifiers=[{name:"applyStyles",enabled:!1}]),{...j,..."function"==typeof this._config.popperConfig?this._config.popperConfig(j):this._config.popperConfig}}_selectMenuItem({key:j,target:ae}){const De=T.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Pe);De.length&&f(De,ae,j===lt,!De.includes(ae)).focus()}static jQueryInterface(j){return this.each(function(){const ae=or.getOrCreateInstance(this,j);if("string"==typeof j){if(void 0===ae[j])throw new TypeError(`No method named "${j}"`);ae[j]()}})}static clearMenus(j){if(j&&(2===j.button||"keyup"===j.type&&"Tab"!==j.key))return;const ae=T.find(jt);for(let De=0,rt=ae.length;De<rt;De++){const gt=or.getInstance(ae[De]);if(!gt||!1===gt._config.autoClose||!gt._isShown())continue;const Dt={relatedTarget:gt._element};if(j){const _n=j.composedPath(),Bn=_n.includes(gt._menu);if(_n.includes(gt._element)||"inside"===gt._config.autoClose&&!Bn||"outside"===gt._config.autoClose&&Bn||gt._menu.contains(j.target)&&("keyup"===j.type&&"Tab"===j.key||/input|select|option|textarea|form/i.test(j.target.tagName)))continue;"click"===j.type&&(Dt.clickEvent=j)}gt._completeHide(Dt)}}static getParentFromElement(j){return At(j)||j.parentNode}static dataApiKeydownHandler(j){if(/input|textarea/i.test(j.target.tagName)?"Space"===j.key||j.key!==Ge&&(j.key!==lt&&j.key!==Ft||j.target.closest(Pt)):!mt.test(j.key))return;const ae=this.classList.contains(It);if(!ae&&j.key===Ge||(j.preventDefault(),j.stopPropagation(),y(this)))return;const De=this.matches(jt)?this:T.prev(this,jt)[0],rt=or.getOrCreateInstance(De);if(j.key!==Ge)return j.key===Ft||j.key===lt?(ae||rt.show(),void rt._selectMenuItem(j)):void(ae&&"Space"!==j.key||or.clearMenus());rt.hide()}}E.on(document,Xt,jt,or.dataApiKeydownHandler),E.on(document,Xt,Pt,or.dataApiKeydownHandler),E.on(document,Ut,or.clearMenus),E.on(document,"keyup.bs.dropdown.data-api",or.clearMenus),E.on(document,Ut,jt,function(xe){xe.preventDefault(),or.getOrCreateInstance(this).toggle()}),d(or);const fi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Fe=".sticky-top";class St{constructor(){this._element=document.body}getWidth(){const j=document.documentElement.clientWidth;return Math.abs(window.innerWidth-j)}hide(){const j=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",ae=>ae+j),this._setElementAttributes(fi,"paddingRight",ae=>ae+j),this._setElementAttributes(Fe,"marginRight",ae=>ae-j)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(j,ae,De){const rt=this.getWidth();this._applyManipulationCallback(j,gt=>{if(gt!==this._element&&window.innerWidth>gt.clientWidth+rt)return;this._saveInitialAttribute(gt,ae);const Dt=window.getComputedStyle(gt)[ae];gt.style[ae]=`${De(Number.parseFloat(Dt))}px`})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(fi,"paddingRight"),this._resetElementAttributes(Fe,"marginRight")}_saveInitialAttribute(j,ae){const De=j.style[ae];De&&X.setDataAttribute(j,ae,De)}_resetElementAttributes(j,ae){this._applyManipulationCallback(j,De=>{const rt=X.getDataAttribute(De,ae);void 0===rt?De.style.removeProperty(ae):(X.removeDataAttribute(De,ae),De.style[ae]=rt)})}_applyManipulationCallback(j,ae){kt(j)?ae(j):T.find(j,this._element).forEach(ae)}isOverflowing(){return this.getWidth()>0}}const Vt={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},cn={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Ke="mousedown.bs.backdrop";class Re{constructor(j){this._config=this._getConfig(j),this._isAppended=!1,this._element=null}show(j){this._config.isVisible?(this._append(),this._config.isAnimated&&this._getElement(),this._getElement().classList.add("show"),this._emulateAnimation(()=>{N(j)})):N(j)}hide(j){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),N(j)})):N(j)}_getElement(){if(!this._element){const j=document.createElement("div");j.className=this._config.className,this._config.isAnimated&&j.classList.add("fade"),this._element=j}return this._element}_getConfig(j){return(j={...Vt,..."object"==typeof j?j:{}}).rootElement=Q(j.rootElement),je("backdrop",j,cn),j}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),E.on(this._getElement(),Ke,()=>{N(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(E.off(this._element,Ke),this._element.remove(),this._isAppended=!1)}_emulateAnimation(j){A(j,this._getElement(),this._config.isAnimated)}}const bt={trapElement:null,autofocus:!0},Et={trapElement:"element",autofocus:"boolean"},nn=".bs.focustrap",xn="backward";class fn{constructor(j){this._config=this._getConfig(j),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:j,autofocus:ae}=this._config;this._isActive||(ae&&j.focus(),E.off(document,nn),E.on(document,"focusin.bs.focustrap",De=>this._handleFocusin(De)),E.on(document,"keydown.tab.bs.focustrap",De=>this._handleKeydown(De)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,E.off(document,nn))}_handleFocusin(j){const{target:ae}=j,{trapElement:De}=this._config;if(ae===document||ae===De||De.contains(ae))return;const rt=T.focusableChildren(De);0===rt.length?De.focus():this._lastTabNavDirection===xn?rt[rt.length-1].focus():rt[0].focus()}_handleKeydown(j){"Tab"===j.key&&(this._lastTabNavDirection=j.shiftKey?xn:"forward")}_getConfig(j){return j={...bt,..."object"==typeof j?j:{}},je("focustrap",j,Et),j}}const Pn={backdrop:!0,keyboard:!0,focus:!0},qn={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},_r="hidden.bs.modal",nr="show.bs.modal",Cr="resize.bs.modal",gr="click.dismiss.bs.modal",Tr="keydown.dismiss.bs.modal",br="mousedown.dismiss.bs.modal",Lr="modal-open",ni="modal-static";class wi extends k{constructor(j,ae){super(j),this._config=this._getConfig(ae),this._dialog=T.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new St}static get Default(){return Pn}static get NAME(){return"modal"}toggle(j){return this._isShown?this.hide():this.show(j)}show(j){this._isShown||this._isTransitioning||E.trigger(this._element,nr,{relatedTarget:j}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Lr),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),E.on(this._dialog,br,()=>{E.one(this._element,"mouseup.dismiss.bs.modal",ae=>{ae.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(j)))}hide(){if(!this._isShown||this._isTransitioning||E.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const j=this._isAnimated();j&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),E.off(this._element,gr),E.off(this._dialog,br),this._queueCallback(()=>this._hideModal(),this._element,j)}dispose(){[window,this._dialog].forEach(j=>E.off(j,".bs.modal")),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Re({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new fn({trapElement:this._element})}_getConfig(j){return j={...Pn,...X.getDataAttributes(this._element),..."object"==typeof j?j:{}},je("modal",j,qn),j}_showElement(j){const ae=this._isAnimated(),De=T.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,De&&(De.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,E.trigger(this._element,"shown.bs.modal",{relatedTarget:j})},this._dialog,ae)}_setEscapeEvent(){this._isShown?E.on(this._element,Tr,j=>{this._config.keyboard&&"Escape"===j.key?(j.preventDefault(),this.hide()):this._config.keyboard||"Escape"!==j.key||this._triggerBackdropTransition()}):E.off(this._element,Tr)}_setResizeEvent(){this._isShown?E.on(window,Cr,()=>this._adjustDialog()):E.off(window,Cr)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Lr),this._resetAdjustments(),this._scrollBar.reset(),E.trigger(this._element,_r)})}_showBackdrop(j){E.on(this._element,gr,ae=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:ae.target===ae.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())}),this._backdrop.show(j)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(E.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:j,scrollHeight:ae,style:De}=this._element,rt=ae>document.documentElement.clientHeight;!rt&&"hidden"===De.overflowY||j.contains(ni)||(rt||(De.overflowY="hidden"),j.add(ni),this._queueCallback(()=>{j.remove(ni),rt||this._queueCallback(()=>{De.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const j=this._element.scrollHeight>document.documentElement.clientHeight,ae=this._scrollBar.getWidth(),De=ae>0;(!De&&j&&!le()||De&&!j&&le())&&(this._element.style.paddingLeft=`${ae}px`),(De&&!j&&!le()||!De&&j&&le())&&(this._element.style.paddingRight=`${ae}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(j,ae){return this.each(function(){const De=wi.getOrCreateInstance(this,j);if("string"==typeof j){if(void 0===De[j])throw new TypeError(`No method named "${j}"`);De[j](ae)}})}}E.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(xe){const j=At(this);["A","AREA"].includes(this.tagName)&&xe.preventDefault(),E.one(j,nr,De=>{De.defaultPrevented||E.one(j,_r,()=>{Pe(this)&&this.focus()})});const ae=T.findOne(".modal.show");ae&&wi.getInstance(ae).hide(),wi.getOrCreateInstance(j).toggle(this)}),I(wi),d(wi);const pi="offcanvas",gi={backdrop:!0,keyboard:!0,scroll:!1},ei={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Xi=".offcanvas.show",Ni="hidden.bs.offcanvas";class mi extends k{constructor(j,ae){super(j),this._config=this._getConfig(ae),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return pi}static get Default(){return gi}toggle(j){return this._isShown?this.hide():this.show(j)}show(j){this._isShown||E.trigger(this._element,"show.bs.offcanvas",{relatedTarget:j}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new St).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),E.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:j})},this._element,!0))}hide(){this._isShown&&(E.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new St).reset(),E.trigger(this._element,Ni)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(j){return j={...gi,...X.getDataAttributes(this._element),..."object"==typeof j?j:{}},je(pi,j,ei),j}_initializeBackDrop(){return new Re({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new fn({trapElement:this._element})}_addEventListeners(){E.on(this._element,"keydown.dismiss.bs.offcanvas",j=>{this._config.keyboard&&"Escape"===j.key&&this.hide()})}static jQueryInterface(j){return this.each(function(){const ae=mi.getOrCreateInstance(this,j);if("string"==typeof j){if(void 0===ae[j]||j.startsWith("_")||"constructor"===j)throw new TypeError(`No method named "${j}"`);ae[j](this)}})}}E.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(xe){const j=At(this);if(["A","AREA"].includes(this.tagName)&&xe.preventDefault(),y(this))return;E.one(j,Ni,()=>{Pe(this)&&this.focus()});const ae=T.findOne(Xi);ae&&ae!==j&&mi.getInstance(ae).hide(),mi.getOrCreateInstance(j).toggle(this)}),E.on(window,"load.bs.offcanvas.data-api",()=>T.find(Xi).forEach(xe=>mi.getOrCreateInstance(xe).show())),I(mi),d(mi);const Vi=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),zi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Ui=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Ai=(xe,j)=>{const ae=xe.nodeName.toLowerCase();if(j.includes(ae))return!Vi.has(ae)||Boolean(zi.test(xe.nodeValue)||Ui.test(xe.nodeValue));const De=j.filter(rt=>rt instanceof RegExp);for(let rt=0,gt=De.length;rt<gt;rt++)if(De[rt].test(ae))return!0;return!1};function Ii(xe,j,ae){if(!xe.length)return xe;if(ae&&"function"==typeof ae)return ae(xe);const De=(new window.DOMParser).parseFromString(xe,"text/html"),rt=[].concat(...De.body.querySelectorAll("*"));for(let gt=0,Dt=rt.length;gt<Dt;gt++){const _n=rt[gt],Bn=_n.nodeName.toLowerCase();if(!Object.keys(j).includes(Bn)){_n.remove();continue}const Vn=[].concat(..._n.attributes),Xn=[].concat(j["*"]||[],j[Bn]||[]);Vn.forEach(On=>{Ai(On,Xn)||_n.removeAttribute(On.nodeName)})}return De.body.innerHTML}const _i="tooltip",Pi=new Set(["sanitize","allowList","sanitizeFn"]),Gi={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},ji={AUTO:"auto",TOP:"top",RIGHT:le()?"left":"right",BOTTOM:"bottom",LEFT:le()?"right":"left"},Te={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Ye={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},it="fade",pt="show",Wt="show",Kt=".tooltip-inner",pn="hide.bs.modal",jn="hover";class sr extends k{constructor(j,ae){if(void 0===Ce)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(j),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(ae),this.tip=null,this._setListeners()}static get Default(){return Te}static get NAME(){return _i}static get Event(){return Ye}static get DefaultType(){return Gi}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(j){if(this._isEnabled)if(j){const ae=this._initializeOnDelegatedTarget(j);ae._activeTrigger.click=!ae._activeTrigger.click,ae._isWithActiveTrigger()?ae._enter(null,ae):ae._leave(null,ae)}else{if(this.getTipElement().classList.contains(pt))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),E.off(this._element.closest(".modal"),pn,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const j=E.trigger(this._element,this.constructor.Event.SHOW),ae=he(this._element),De=null===ae?this._element.ownerDocument.documentElement.contains(this._element):ae.contains(this._element);if(j.defaultPrevented||!De)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(Kt).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const rt=this.getTipElement(),gt=(On=>{do{On+=Math.floor(1e6*Math.random())}while(document.getElementById(On));return On})(this.constructor.NAME);rt.setAttribute("id",gt),this._element.setAttribute("aria-describedby",gt),this._config.animation&&rt.classList.add(it);const Dt="function"==typeof this._config.placement?this._config.placement.call(this,rt,this._element):this._config.placement,_n=this._getAttachment(Dt);this._addAttachmentClass(_n);const{container:Bn}=this._config;z.set(rt,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(Bn.append(rt),E.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Me(this._element,rt,this._getPopperConfig(_n)),rt.classList.add(pt);const Vn=this._resolvePossibleFunction(this._config.customClass);Vn&&rt.classList.add(...Vn.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(On=>{E.on(On,"mouseover",te)});const Xn=this.tip.classList.contains(it);this._queueCallback(()=>{const On=this._hoverState;this._hoverState=null,E.trigger(this._element,this.constructor.Event.SHOWN),"out"===On&&this._leave(null,this)},this.tip,Xn)}hide(){if(!this._popper)return;const j=this.getTipElement();if(E.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;j.classList.remove(pt),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(De=>E.off(De,"mouseover",te)),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const ae=this.tip.classList.contains(it);this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!==Wt&&j.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),E.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,ae),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const j=document.createElement("div");j.innerHTML=this._config.template;const ae=j.children[0];return this.setContent(ae),ae.classList.remove(it,pt),this.tip=ae,this.tip}setContent(j){this._sanitizeAndSetContent(j,this.getTitle(),Kt)}_sanitizeAndSetContent(j,ae,De){const rt=T.findOne(De,j);ae||!rt?this.setElementContent(rt,ae):rt.remove()}setElementContent(j,ae){if(null!==j)return kt(ae)?(ae=Q(ae),void(this._config.html?ae.parentNode!==j&&(j.innerHTML="",j.append(ae)):j.textContent=ae.textContent)):void(this._config.html?(this._config.sanitize&&(ae=Ii(ae,this._config.allowList,this._config.sanitizeFn)),j.innerHTML=ae):j.textContent=ae)}getTitle(){const j=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(j)}updateAttachment(j){return"right"===j?"end":"left"===j?"start":j}_initializeOnDelegatedTarget(j,ae){return ae||this.constructor.getOrCreateInstance(j.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:j}=this._config;return"string"==typeof j?j.split(",").map(ae=>Number.parseInt(ae,10)):"function"==typeof j?ae=>j(ae,this._element):j}_resolvePossibleFunction(j){return"function"==typeof j?j.call(this._element):j}_getPopperConfig(j){const ae={placement:j,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:De=>this._handlePopperPlacementChange(De)}],onFirstUpdate:De=>{De.options.placement!==De.placement&&this._handlePopperPlacementChange(De)}};return{...ae,..."function"==typeof this._config.popperConfig?this._config.popperConfig(ae):this._config.popperConfig}}_addAttachmentClass(j){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(j)}`)}_getAttachment(j){return ji[j.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(j=>{if("click"===j)E.on(this._element,this.constructor.Event.CLICK,this._config.selector,ae=>this.toggle(ae));else if("manual"!==j){const De=j===jn?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;E.on(this._element,j===jn?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,this._config.selector,rt=>this._enter(rt)),E.on(this._element,De,this._config.selector,rt=>this._leave(rt))}}),this._hideModalHandler=()=>{this._element&&this.hide()},E.on(this._element.closest(".modal"),pn,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const j=this._element.getAttribute("title"),ae=typeof this._element.getAttribute("data-bs-original-title");(j||"string"!==ae)&&(this._element.setAttribute("data-bs-original-title",j||""),!j||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",j),this._element.setAttribute("title",""))}_enter(j,ae){ae=this._initializeOnDelegatedTarget(j,ae),j&&(ae._activeTrigger["focusin"===j.type?"focus":jn]=!0),ae.getTipElement().classList.contains(pt)||ae._hoverState===Wt?ae._hoverState=Wt:(clearTimeout(ae._timeout),ae._hoverState=Wt,ae._config.delay&&ae._config.delay.show?ae._timeout=setTimeout(()=>{ae._hoverState===Wt&&ae.show()},ae._config.delay.show):ae.show())}_leave(j,ae){ae=this._initializeOnDelegatedTarget(j,ae),j&&(ae._activeTrigger["focusout"===j.type?"focus":jn]=ae._element.contains(j.relatedTarget)),ae._isWithActiveTrigger()||(clearTimeout(ae._timeout),ae._hoverState="out",ae._config.delay&&ae._config.delay.hide?ae._timeout=setTimeout(()=>{"out"===ae._hoverState&&ae.hide()},ae._config.delay.hide):ae.hide())}_isWithActiveTrigger(){for(const j in this._activeTrigger)if(this._activeTrigger[j])return!0;return!1}_getConfig(j){const ae=X.getDataAttributes(this._element);return Object.keys(ae).forEach(De=>{Pi.has(De)&&delete ae[De]}),(j={...this.constructor.Default,...ae,..."object"==typeof j&&j?j:{}}).container=!1===j.container?document.body:Q(j.container),"number"==typeof j.delay&&(j.delay={show:j.delay,hide:j.delay}),"number"==typeof j.title&&(j.title=j.title.toString()),"number"==typeof j.content&&(j.content=j.content.toString()),je(_i,j,this.constructor.DefaultType),j.sanitize&&(j.template=Ii(j.template,j.allowList,j.sanitizeFn)),j}_getDelegateConfig(){const j={};for(const ae in this._config)this.constructor.Default[ae]!==this._config[ae]&&(j[ae]=this._config[ae]);return j}_cleanTipClass(){const j=this.getTipElement(),ae=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),De=j.getAttribute("class").match(ae);null!==De&&De.length>0&&De.map(rt=>rt.trim()).forEach(rt=>j.classList.remove(rt))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(j){const{state:ae}=j;ae&&(this.tip=ae.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(ae.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(j){return this.each(function(){const ae=sr.getOrCreateInstance(this,j);if("string"==typeof j){if(void 0===ae[j])throw new TypeError(`No method named "${j}"`);ae[j]()}})}}d(sr);const jr={...sr.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},ii={...sr.DefaultType,content:"(string|element|function)"},ti={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class Or extends sr{static get Default(){return jr}static get NAME(){return"popover"}static get Event(){return ti}static get DefaultType(){return ii}isWithContent(){return this.getTitle()||this._getContent()}setContent(j){this._sanitizeAndSetContent(j,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(j,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(j){return this.each(function(){const ae=Or.getOrCreateInstance(this,j);if("string"==typeof j){if(void 0===ae[j])throw new TypeError(`No method named "${j}"`);ae[j]()}})}}d(Or);const Yr="scrollspy",Fi={offset:10,method:"auto",target:""},no={offset:"number",method:"string",target:"(string|element)"},Hi="active",ao=".nav-link, .list-group-item, .dropdown-item",Zi="position";class ro extends k{constructor(j,ae){super(j),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(ae),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,E.on(this._scrollElement,"scroll.bs.scrollspy",()=>this._process()),this.refresh(),this._process()}static get Default(){return Fi}static get NAME(){return Yr}refresh(){const ae="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":Zi:this._config.method,De=ae===Zi?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),T.find(ao,this._config.target).map(rt=>{const gt=H(rt),Dt=gt?T.findOne(gt):null;if(Dt){const _n=Dt.getBoundingClientRect();if(_n.width||_n.height)return[X[ae](Dt).top+De,gt]}return null}).filter(rt=>rt).sort((rt,gt)=>rt[0]-gt[0]).forEach(rt=>{this._offsets.push(rt[0]),this._targets.push(rt[1])})}dispose(){E.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(j){return(j={...Fi,...X.getDataAttributes(this._element),..."object"==typeof j&&j?j:{}}).target=Q(j.target)||document.documentElement,je(Yr,j,no),j}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const j=this._getScrollTop()+this._config.offset,ae=this._getScrollHeight(),De=this._config.offset+ae-this._getOffsetHeight();if(this._scrollHeight!==ae&&this.refresh(),j>=De){const rt=this._targets[this._targets.length-1];this._activeTarget!==rt&&this._activate(rt)}else{if(this._activeTarget&&j<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let rt=this._offsets.length;rt--;)this._activeTarget!==this._targets[rt]&&j>=this._offsets[rt]&&(void 0===this._offsets[rt+1]||j<this._offsets[rt+1])&&this._activate(this._targets[rt])}}_activate(j){this._activeTarget=j,this._clear();const ae=ao.split(",").map(rt=>`${rt}[data-bs-target="${j}"],${rt}[href="${j}"]`),De=T.findOne(ae.join(","),this._config.target);De.classList.add(Hi),De.classList.contains("dropdown-item")?T.findOne(".dropdown-toggle",De.closest(".dropdown")).classList.add(Hi):T.parents(De,".nav, .list-group").forEach(rt=>{T.prev(rt,".nav-link, .list-group-item").forEach(gt=>gt.classList.add(Hi)),T.prev(rt,".nav-item").forEach(gt=>{T.children(gt,".nav-link").forEach(Dt=>Dt.classList.add(Hi))})}),E.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:j})}_clear(){T.find(ao,this._config.target).filter(j=>j.classList.contains(Hi)).forEach(j=>j.classList.remove(Hi))}static jQueryInterface(j){return this.each(function(){const ae=ro.getOrCreateInstance(this,j);if("string"==typeof j){if(void 0===ae[j])throw new TypeError(`No method named "${j}"`);ae[j]()}})}}E.on(window,"load.bs.scrollspy.data-api",()=>{T.find('[data-bs-spy="scroll"]').forEach(xe=>new ro(xe))}),d(ro);const io="active",Yo=".active",Do=":scope > li > .active";class bo extends k{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(io))return;let j;const ae=At(this._element),De=this._element.closest(".nav, .list-group");De&&(j=T.find("UL"===De.nodeName||"OL"===De.nodeName?Do:Yo,De),j=j[j.length-1]);const rt=j?E.trigger(j,"hide.bs.tab",{relatedTarget:this._element}):null;if(E.trigger(this._element,"show.bs.tab",{relatedTarget:j}).defaultPrevented||null!==rt&&rt.defaultPrevented)return;this._activate(this._element,De);const gt=()=>{E.trigger(j,"hidden.bs.tab",{relatedTarget:this._element}),E.trigger(this._element,"shown.bs.tab",{relatedTarget:j})};ae?this._activate(ae,ae.parentNode,gt):gt()}_activate(j,ae,De){const rt=(!ae||"UL"!==ae.nodeName&&"OL"!==ae.nodeName?T.children(ae,Yo):T.find(Do,ae))[0],gt=De&&rt&&rt.classList.contains("fade"),Dt=()=>this._transitionComplete(j,rt,De);rt&&gt?(rt.classList.remove("show"),this._queueCallback(Dt,j,!0)):Dt()}_transitionComplete(j,ae,De){if(ae){ae.classList.remove(io);const gt=T.findOne(":scope > .dropdown-menu .active",ae.parentNode);gt&&gt.classList.remove(io),"tab"===ae.getAttribute("role")&&ae.setAttribute("aria-selected",!1)}j.classList.add(io),"tab"===j.getAttribute("role")&&j.setAttribute("aria-selected",!0),j.classList.contains("fade")&&j.classList.add("show");let rt=j.parentNode;if(rt&&"LI"===rt.nodeName&&(rt=rt.parentNode),rt&&rt.classList.contains("dropdown-menu")){const gt=j.closest(".dropdown");gt&&T.find(".dropdown-toggle",gt).forEach(Dt=>Dt.classList.add(io)),j.setAttribute("aria-expanded",!0)}De&&De()}static jQueryInterface(j){return this.each(function(){const ae=bo.getOrCreateInstance(this);if("string"==typeof j){if(void 0===ae[j])throw new TypeError(`No method named "${j}"`);ae[j]()}})}}E.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(xe){["A","AREA"].includes(this.tagName)&&xe.preventDefault(),y(this)||bo.getOrCreateInstance(this).show()}),d(bo);const Wi="show",jo="showing",Fo={animation:"boolean",autohide:"boolean",delay:"number"},Co={animation:!0,autohide:!0,delay:5e3};class co extends k{constructor(j,ae){super(j),this._config=this._getConfig(ae),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return Fo}static get Default(){return Co}static get NAME(){return"toast"}show(){E.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Wi),this._element.classList.add(jo),this._queueCallback(()=>{this._element.classList.remove(jo),E.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains(Wi)&&(E.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(jo),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(jo),this._element.classList.remove(Wi),E.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains(Wi)&&this._element.classList.remove(Wi),super.dispose()}_getConfig(j){return j={...Co,...X.getDataAttributes(this._element),..."object"==typeof j&&j?j:{}},je("toast",j,this.constructor.DefaultType),j}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(j,ae){switch(j.type){case"mouseover":case"mouseout":this._hasMouseInteraction=ae;break;case"focusin":case"focusout":this._hasKeyboardInteraction=ae}if(ae)return void this._clearTimeout();const De=j.relatedTarget;this._element===De||this._element.contains(De)||this._maybeScheduleHide()}_setListeners(){E.on(this._element,"mouseover.bs.toast",j=>this._onInteraction(j,!0)),E.on(this._element,"mouseout.bs.toast",j=>this._onInteraction(j,!1)),E.on(this._element,"focusin.bs.toast",j=>this._onInteraction(j,!0)),E.on(this._element,"focusout.bs.toast",j=>this._onInteraction(j,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(j){return this.each(function(){const ae=co.getOrCreateInstance(this,j);if("string"==typeof j){if(void 0===ae[j])throw new TypeError(`No method named "${j}"`);ae[j](this)}})}}return I(co),d(co),{Alert:V,Button:oe,Carousel:Ie,Collapse:Tn,Dropdown:or,Modal:wi,Offcanvas:mi,Popover:Or,ScrollSpy:ro,Tab:bo,Toast:co,Tooltip:sr}}),function(){"use strict";var Gt,gn=document.createElement("style");gn.innerHTML="@keyframes wb-fade-in{0%{opacity:0}to{opacity:.85}}.no-move:not(.min) .wb-title,.winbox.max .wb-body~div,.winbox.min .wb-body~div,.winbox.modal .wb-body~div,.winbox.modal .wb-title,body.wb-drag iframe{pointer-events:none}.winbox{position:fixed;left:0;top:0;background:#0050ff;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);transition:width .3s,height .3s,transform .3s;transition-timing-function:cubic-bezier(.3,1,.3,1);will-change:transform,width,height;contain:layout size;text-align:left;touch-action:none;min-height:35px}.wb-header,.wb-icon{height:35px}.wb-n,.wb-s{left:0;height:10px;position:absolute}.wb-body{top:35px}.wb-header,.winbox iframe{position:absolute;width:100%}.wb-header{left:0;top:0;color:#fff;overflow:hidden;z-index:1}.wb-body{position:absolute;left:0;right:0;bottom:0;overflow:auto;-webkit-overflow-scrolling:touch;overflow-scrolling:touch;will-change:contents;background:#fff;margin-top:0!important;contain:strict}.wb-title{line-height:35px;font-family:Arial,sans-serif;font-size:14px;padding-left:10px;cursor:move;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.wb-n{top:-5px;right:0;cursor:n-resize}.wb-e{position:absolute;top:0;right:-5px;bottom:0;width:10px;cursor:w-resize}.wb-s,.wb-se,.wb-sw{bottom:-5px}.wb-s{right:0;cursor:n-resize}.wb-w{position:absolute;top:0;left:-5px;bottom:0;width:10px;cursor:w-resize}.wb-ne,.wb-nw,.wb-sw{width:15px;height:15px;position:absolute}.wb-nw{top:-5px;left:-5px;cursor:nw-resize}.wb-ne,.wb-sw{cursor:ne-resize}.wb-ne{top:-5px;right:-5px}.wb-sw{left:-5px}.wb-se{position:absolute;right:-5px;width:15px;height:15px;cursor:nw-resize}.wb-icon{float:right;max-width:100%;text-align:center}.wb-icon *{display:inline-block;width:30px;height:100%;background-position:center;background-repeat:no-repeat;cursor:pointer;max-width:100%}.no-close .wb-close,.no-full .wb-full,.no-header .wb-header,.no-max .wb-max,.no-min .wb-min,.no-resize .wb-body~div,.winbox.hide,.winbox.min .wb-body>*,.winbox.min .wb-full,.winbox.min .wb-min,.winbox.modal .wb-full,.winbox.modal .wb-max,.winbox.modal .wb-min{display:none}.winbox.max .wb-title,.winbox.min .wb-title{cursor:default}.wb-min{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNOCAwaDdhMSAxIDAgMCAxIDAgMkgxYTEgMSAwIDAgMSAwLTJoN3oiLz48L3N2Zz4=);background-size:14px auto;background-position:center bottom 11px}.wb-max{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCA5NiA5NiI+PHBhdGggZD0iTTIwIDcxLjMxMUMxNS4zNCA2OS42NyAxMiA2NS4yMyAxMiA2MFYyMGMwLTYuNjMgNS4zNy0xMiAxMi0xMmg0MGM1LjIzIDAgOS42NyAzLjM0IDExLjMxMSA4SDI0Yy0yLjIxIDAtNCAxLjc5LTQgNHY1MS4zMTF6Ii8+PHBhdGggZD0iTTkyIDc2VjM2YzAtNi42My01LjM3LTEyLTEyLTEySDQwYy02LjYzIDAtMTIgNS4zNy0xMiAxMnY0MGMwIDYuNjMgNS4zNyAxMiAxMiAxMmg0MGM2LjYzIDAgMTItNS4zNyAxMi0xMnptLTUyIDRjLTIuMjEgMC00LTEuNzktNC00VjM2YzAtMi4yMSAxLjc5LTQgNC00aDQwYzIuMjEgMCA0IDEuNzkgNCA0djQwYzAgMi4yMS0xLjc5IDQtNCA0SDQweiIvPjwvc3ZnPg==);background-size:17px auto}.wb-close{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xIC0xIDE4IDE4Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMS42MTMuMjEuMDk0LjA4M0w4IDYuNTg1IDE0LjI5My4yOTNsLjA5NC0uMDgzYTEgMSAwIDAgMSAxLjQwMyAxLjQwM2wtLjA4My4wOTRMOS40MTUgOGw2LjI5MiA2LjI5M2ExIDEgMCAwIDEtMS4zMiAxLjQ5N2wtLjA5NC0uMDgzTDggOS40MTVsLTYuMjkzIDYuMjkyLS4wOTQuMDgzQTEgMSAwIDAgMSAuMjEgMTQuMzg3bC4wODMtLjA5NEw2LjU4NSA4IC4yOTMgMS43MDdBMSAxIDAgMCAxIDEuNjEzLjIxeiIvPjwvc3ZnPg==);background-size:15px auto}.wb-full{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIuNSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOCAzSDVhMiAyIDAgMCAwLTIgMnYzbTE4IDBWNWEyIDIgMCAwIDAtMi0yaC0zbTAgMThoM2EyIDIgMCAwIDAgMi0ydi0zTTMgMTZ2M2EyIDIgMCAwIDAgMiAyaDMiLz48L3N2Zz4=);background-size:16px auto}.winbox.hide{visibility:hidden}.max{box-shadow:none}.max .wb-body{margin:0!important}.winbox iframe{height:100%;border:0}.no-animation,body.wb-drag .winbox{transition:none}.winbox.modal:before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:inherit;border-radius:inherit}.winbox.modal:after{content:'';position:absolute;top:-100vh;left:-100vw;right:-100vw;bottom:-100vh;background:#0d1117;animation:wb-fade-in .2s ease-out forwards;z-index:-1}.no-shadow{box-shadow:none}.no-header .wb-body{top:0}";var H=document.getElementsByTagName("head")[0];H.firstChild?H.insertBefore(gn,H.firstChild):H.appendChild(gn);var At=document.createElement("div");function xt(s,u,o,t){s.addEventListener(u,o,!t&&!1!==t||t)}function kt(s){s.stopPropagation(),s.cancelable&&s.preventDefault()}function Q(s,u,o){s["_s_"+u]!==(o=""+o)&&(s.style.setProperty(u,o),s["_s_"+u]=o)}At.innerHTML="<div class=wb-header><div class=wb-icon><span class=wb-min></span><span class=wb-max></span><span class=wb-full></span><span class=wb-close></span></div><div class=wb-title> </div></div><div class=wb-body></div><div class=wb-n></div><div class=wb-s></div><div class=wb-w></div><div class=wb-e></div><div class=wb-nw></div><div class=wb-ne></div><div class=wb-se></div><div class=wb-sw></div>";var Pe,te,pe,_e,ne,le,d,N,je=[],y=0,he=0;function A(s,u){if(!(this instanceof A))return new A(s);var o,t;if(te||function b(){(Pe=document.body)[ne="requestFullscreen"]||Pe[ne="msRequestFullscreen"]||Pe[ne="webkitRequestFullscreen"]||Pe[ne="mozRequestFullscreen"]||(ne=""),le=ne&&ne.replace("request","exit").replace("mozRequest","mozCancel").replace("Request","Exit"),xt(window,"resize",function(){d=Pe.clientWidth,N=Pe.clientHeight,n()}),d=Pe.clientWidth,N=Pe.clientHeight}(),s){if(u){var r=s;s=u}if("string"==typeof s)r=s;else{if(t=s.modal)var a=o="center";var c=s.id,l=s.root,w=s.template;r=r||s.title;var E=s.mount,C=s.html,z=s.url,k=s.width,I=s.height,V=s.minwidth,$=s.minheight;a=s.x||a,o=s.y||o;var oe=s.max,ue=s.hidden,Ae=s.top,X=s.left,T=s.bottom,D=s.right;te=s.index||te;var M=s.onclose,v=s.onfocus,B=s.onblur,F=s.onmove,q=s.onresize,L=s.background,Y=s.border,se=s.class,Ee=s.splitscreen}}this.g=w||At.cloneNode(!0),this.body=this.g.getElementsByClassName("wb-body")[0],L&&this.setBackground(L),Y&&Q(this.body,"margin",Y+(isNaN(Y)?"":"px")),this.setTitle(r||""),s=d,u=N,Ae=Ae?f(Ae,u):0,T=T?f(T,u):0,s-=(X=X?f(X,s):0)+(D=D?f(D,s):0),u-=Ae+T,k=k?f(k,s):s/2|0,I=I?f(I,u):u/2|0,V=V?f(V,s):0,$=$?f($,u):0,a=a?f(a,s,k):X,o=o?f(o,u,I):Ae,te=te||10,this.g.id=this.id=c||"winbox-"+ ++y,this.g.className="winbox"+(se?" "+("string"==typeof se?se:se.join(" ")):"")+(t?" modal":""),this.x=a,this.y=o,this.width=k,this.height=I,this.j=V,this.i=$,this.top=Ae,this.right=D,this.bottom=T,this.left=X,this.max=this.min=!1,this.onclose=M,this.onfocus=v,this.onblur=B,this.onmove=F,this.onresize=q,this.l=Ee,oe?this.maximize():this.move().resize(),E?this.mount(E):C?this.body.innerHTML=C:z&&this.setUrl(z),ue?this.hide():this.focus(),this.g.winbox=this,function m(s){g(s,"title"),g(s,"n"),g(s,"s"),g(s,"w"),g(s,"e"),g(s,"nw"),g(s,"ne"),g(s,"se"),g(s,"sw"),xt(s.g.getElementsByClassName("wb-min")[0],"click",function(u){kt(u),s.minimize()}),xt(s.g.getElementsByClassName("wb-max")[0],"click",function(u){kt(u),s.focus().maximize()}),ne?xt(s.g.getElementsByClassName("wb-full")[0],"click",function(u){kt(u),s.focus().fullscreen()}):s.addClass("no-full"),xt(s.g.getElementsByClassName("wb-close")[0],"click",function(u){kt(u),s.close()||(s=null)}),xt(s.g,"click",function(){s.focus()},!1)}(this),(l||Pe).appendChild(this.g)}function f(s,u,o){return"string"==typeof s&&(s="center"===s?(u-o)/2|0:"right"===s||"bottom"===s?u-o:"%"===(""+(o=parseFloat(s))!==s&&s.substring((""+o).length))?u/100*o|0:o),s}function _(s){je.splice(je.indexOf(s),1),n(),s.removeClass("min"),s.min=!1,s.g.title=""}function n(){for(var r,s=je.length,u={},o={},t=0;t<s;t++)o[r=(r=je[t]).left+":"+r.top]?o[r]++:o[r]=1;t=0;for(var a,c,l;t<s;t++)a=(r=je[t]).left+":"+r.top,c=Math.min((d-r.left-r.right)/o[a],250),l=(l=r.g.getElementsByClassName("wb-title")[0]).clientHeight,u[a]||(u[a]=0),r.resize(c+1|0,0,!0).move(r.left+u[a]*c|0,N-r.bottom-l,!0),u[a]++}function g(s,u){function o(E){if(kt(E),s.min)s.minimize();else{var C;if((C="title"===u)&&(C=!s.g.classList.contains("no-max")),C){var z=(C=Date.now())-he;if(he=C,250>z)return void s.maximize()}s.max||(Pe.classList.add("wb-drag"),(c=E.touches)&&(c=c[0])?(E=c,xt(window,"touchmove",t),xt(window,"touchend",r)):(xt(window,"mousemove",t),xt(window,"mouseup",r)),l=E.pageX,w=E.pageY,s.focus())}}function t(E){kt(E),c&&(E=E.touches[0]);var I,C=E.pageX,z=C-l,k=(E=E.pageY)-w;if("title"===u){s.x+=z,s.y+=k;var V=I=1}else{if("e"===u||"se"===u||"ne"===u){s.width+=z;var $=1}else("w"===u||"sw"===u||"nw"===u)&&(s.x+=z,s.width-=z,V=$=1);if("s"===u||"se"===u||"sw"===u){s.height+=k;var oe=1}else("n"===u||"ne"===u||"nw"===u)&&(s.y+=k,s.height-=k,I=oe=1)}($||oe)&&($&&(s.width=Math.max(Math.min(s.width,d-s.x-s.right),150)),oe&&(s.height=Math.max(Math.min(s.height,N-s.y-s.bottom),0)),s.resize()),(V||I)&&(V&&(s.x=Math.max(Math.min(s.x,d-s.width-s.right),s.left)),I&&(s.y=Math.max(Math.min(s.y,N-s.height-s.bottom),s.top)),s.move()),l=C,w=E}function r(E){kt(E),Pe.classList.remove("wb-drag"),c?(window.removeEventListener("touchmove",t,!0),window.removeEventListener("touchend",r,!0)):(window.removeEventListener("mousemove",t,!0),window.removeEventListener("mouseup",r,!0))}var c,l,w,a=s.g.getElementsByClassName("wb-"+u)[0];xt(a,"mousedown",o),xt(a,"touchstart",o,{passive:!1})}function h(){if(pe=!1,document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)return document[le](),!0}A.new=function(s){return new A(s)},(Gt=A.prototype).mount=function(s){return this.unmount(),s.h||(s.h=s.parentNode),this.body.textContent="",this.body.appendChild(s),this},Gt.unmount=function(s){var u=this.body.firstChild;if(u){var o=s||u.h;o&&o.appendChild(u),u.h=s}return this},Gt.setTitle=function(s){return s=this.title=s,this.g.getElementsByClassName("wb-title")[0].firstChild.nodeValue=s,this},Gt.setBackground=function(s){return Q(this.g,"background",s),this},Gt.setUrl=function(s){return this.body.innerHTML='<iframe src="'+s+'"></iframe>',this},Gt.focus=function(){return _e!==this&&(Q(this.g,"z-index",te++),this.addClass("focus"),_e&&(_e.removeClass("focus"),_e.onblur&&_e.onblur()),_e=this,this.onfocus&&this.onfocus()),this},Gt.hide=function(){return this.addClass("hide")},Gt.show=function(){return this.removeClass("hide")},Gt.minimize=function(s){return pe&&h(),!s&&this.min?(_(this),this.resize().move().focus()):!1===s||this.min||(je.push(this),n(),this.g.title=this.title,this.addClass("min"),this.min=!0),this.max&&(this.removeClass("max"),this.max=!1),this},Gt.maximize=function(s){return(typeof s>"u"||s!==this.max)&&(this.min&&_(this),(this.max=!this.max)?this.addClass("max").resize(d-this.left-this.right,N-this.top-this.bottom,!0).move(this.left,this.top,!0):this.resize().move().removeClass("max")),this},Gt.fullscreen=function(s){return(typeof s>"u"||s!==pe)&&(this.min&&(this.resize().move(),_(this)),pe&&h()||(this.body[ne](),pe=!0)),this},Gt.close=function(s){if(this.onclose&&this.onclose(s))return!0;this.min&&_(this),this.unmount(),this.g.parentNode.removeChild(this.g),_e===this&&(_e=null)},Gt.move=function(s,u,o){return s||0===s?o||(this.x=s?s=f(s,d-this.left-this.right,this.width):0,this.y=u?u=f(u,N-this.top-this.bottom,this.height):0):(s=this.x,u=this.y,this.l&&(0===s||s===d-this.width)&&this.resize(d/2,N)),Q(this.g,"transform","translate("+s+"px,"+u+"px)"),this.onmove&&this.onmove(s,u),this},Gt.resize=function(s,u,o){return s||0===s?o||(this.width=s?s=f(s,d-this.left-this.right):0,this.height=u?u=f(u,N-this.top-this.bottom):0):(s=this.width,u=this.height),s=Math.max(s,this.j),u=Math.max(u,this.i),Q(this.g,"width",s+"px"),Q(this.g,"height",u+"px"),this.onresize&&this.onresize(s,u),this},Gt.addClass=function(s){return this.g.classList.add(s),this},Gt.removeClass=function(s){return this.g.classList.remove(s),this},window.WinBox=A}.call(this),function(Gt){"object"==typeof exports&&typeof module<"u"?module.exports=Gt():"function"==typeof define&&define.amd?define([],Gt):(typeof window>"u"?typeof global>"u"?typeof self>"u"?this:self:global:window).WebTorrent=Gt()}(function(){var Gt=Math.LN2,gn=Math.log,H=Math.pow,At=Math.abs,xt=Math.floor,kt=Math.round,Q=Math.sin,je=Math.cos,Pe=Math.PI,y=Math.imul,he=Math.clz32,te=String.fromCharCode,pe=Math.max,_e=Math.ceil,ne=Math.min;return function d(N,A,f){function b(n,g){if(!A[n]){if(!N[n]){var h="function"==typeof require&&require;if(!g&&h)return h(n,!0);if(m)return m(n,!0);var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}var u=A[n]={exports:{}};N[n][0].call(u.exports,function(o){return b(N[n][1][o]||o)},u,u.exports,d,N,A,f)}return A[n].exports}for(var m="function"==typeof require&&require,_=0;_<f.length;_++)b(f[_]);return b}({1:[function(d,N){const{Readable:A}=d("streamx"),b=d("debug")("webtorrent:file-stream");N.exports=class extends A{constructor(m,_){super(_??{}),this._torrent=m._torrent;const n=_&&_.start||0,g=_&&_.end&&_.end<m.length?_.end:m.length-1,h=m._torrent.pieceLength;this._startPiece=0|(n+m.offset)/h,this._endPiece=0|(g+m.offset)/h,this._piece=this._startPiece,this._offset=n+m.offset-this._startPiece*h,this._missing=g-n+1,this._reading=!1,this._notifying=!1,this._criticalLength=ne(0|1048576/h,2),this._torrent.select(this._startPiece,this._endPiece,!0,()=>{this._notify()})}_read(m){this._reading||(this._reading=!0,this._notify(m))}_notify(m=(()=>{})){if(!this._reading||0===this._missing)return m();if(!this._torrent.bitfield.get(this._piece))return m(),this._torrent.critical(this._piece,this._piece+this._criticalLength);if(this._notifying)return m();if(this._notifying=!0,this._torrent.destroyed)return this.destroy(new Error("Torrent removed"));const _=this._piece,n={};_===this._torrent.pieces.length-1&&(n.length=this._torrent.lastPieceLength),this._torrent.store.get(_,n,(g,h)=>{if(this._notifying=!1,!this.destroyed)return b("read %s (length %s) (err %s)",_,h&&h.length,g&&g.message),g?this.destroy(g):(this._offset&&(h=h.slice(this._offset),this._offset=0),this._missing<h.length&&(h=h.slice(0,this._missing)),this._missing-=h.length,b("pushing buffer of length %s",h.length),this._reading=!1,this.push(h),0===this._missing&&this.push(null),void m())}),this._piece+=1}_destroy(m,_){this._torrent.destroyed||this._torrent.deselect(this._startPiece,this._endPiece,!0),m(_)}}},{debug:91,streamx:264}],2:[function(d,N){const A=d("events"),{PassThrough:f}=d("streamx"),b=d("path"),m=d("render-media"),{BlobWriteStream:_}=d("fast-blob-stream"),n=d("stream-with-known-length-to-buffer"),g=d("queue-microtask"),h=d("range-parser"),s=d("mime"),u=d("end-of-stream"),o=d("./file-stream.js");N.exports=class extends A{constructor(t,r){super(),this._torrent=t,this._destroyed=!1,this._fileStreams=new Set,this.name=r.name,this.path=r.path,this.length=r.length,this.offset=r.offset,this.done=!1;const a=r.offset,c=a+r.length-1;this._startPiece=0|a/this._torrent.pieceLength,this._endPiece=0|c/this._torrent.pieceLength,0===this.length&&(this.done=!0,this.emit("done")),this._serviceWorker=t.client.serviceWorker}get downloaded(){if(this._destroyed||!this._torrent.bitfield)return 0;const{pieces:t,bitfield:r,pieceLength:a,lastPieceLength:c}=this._torrent,{_startPiece:l,_endPiece:w}=this,E=k=>k===t.length-1?c:a,C=k=>{const I=k===t.length-1?c:a;return r.get(k)?I:I-t[k].missing};let z=0;for(let k=l;k<=w;k+=1){const I=C(k);if(z+=I,k===l&&(z-=ne(this.offset%a,I)),k===w){const V=E(w)-(this.offset+this.length)%a;z-=ne(V,I)}}return z}get progress(){return this.length?this.downloaded/this.length:0}select(t){0===this.length||this._torrent.select(this._startPiece,this._endPiece,t)}deselect(){0===this.length||this._torrent.deselect(this._startPiece,this._endPiece,!1)}createReadStream(t){if(0===this.length){const a=new f;return g(()=>{a.end()}),a}const r=new o(this,t);return this._fileStreams.add(r),r.once("close",()=>{this._fileStreams.delete(r)}),r}getBuffer(t){n(this.createReadStream(),this.length,t)}getBlob(t){if(typeof window>"u")throw new Error("browser-only method");const r=new _(a=>{t(null,a)},{mimeType:this._getMimeType()});this.createReadStream().pipe(r)}getBlobURL(t){this.getBlob((r,a)=>{t(null,URL.createObjectURL(a))})}appendTo(t,r,a){if(typeof window>"u")throw new Error("browser-only method");m.append(this,t,r,a)}renderTo(t,r,a){if(typeof window>"u")throw new Error("browser-only method");m.render(this,t,r,a)}_serve(t){const r={status:200,headers:{"Accept-Ranges":"bytes","Content-Type":s.getType(this.name),"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0",Expires:"0"},body:"HEAD"===t.method?"":"STREAM"};"document"===t.destination&&(r.headers["Content-Type"]="application/octet-stream",r.headers["Content-Disposition"]="attachment",r.body="DOWNLOAD");let a=h(this.length,t.headers.range||"");a.constructor===Array?(r.status=206,a=a[0],r.headers["Content-Range"]=`bytes ${a.start}-${a.end}/${this.length}`,r.headers["Content-Length"]=""+(a.end-a.start+1)):r.headers["Content-Length"]=this.length;const c="GET"===t.method&&this.createReadStream(a);let l=null;return c&&this.emit("stream",{stream:c,req:t,file:this},w=>{l=w,u(w,()=>{w&&w.destroy(),c.destroy()})}),[r,l||c,l&&c]}getStreamURL(t=(()=>{})){if(typeof window>"u")throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if("activated"!==this._serviceWorker.state)throw new Error("Worker isn't activated");t(null,`${this._serviceWorker.scriptURL.slice(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`)}streamTo(t,r=(()=>{})){if(typeof window>"u")throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if("activated"!==this._serviceWorker.state)throw new Error("Worker isn't activated");const a=this._serviceWorker.scriptURL.slice(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length);t.src=`${a}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`,r(null,t)}_getMimeType(){return m.mime[b.extname(this.name).toLowerCase()]}_destroy(){this._destroyed=!0,this._torrent=null;for(const t of this._fileStreams)t.destroy();this._fileStreams.clear()}}},{"./file-stream.js":1,"end-of-stream":121,events:123,"fast-blob-stream":125,mime:165,path:185,"queue-microtask":206,"range-parser":211,"render-media":229,"stream-with-known-length-to-buffer":263,streamx:264}],3:[function(d,N,A){const f=d("events"),{Transform:b}=d("stream"),m=d("unordered-array-remove"),_=d("debug"),n=d("bittorrent-protocol"),g=_("webtorrent:peer");let h=!1;A.enableSecure=()=>{h=!0},A.createWebRTCPeer=(t,r,a)=>{const c=new o(t.id,"webrtc");if(c.conn=t,c.swarm=r,c.throttleGroups=a,c.conn.connected)c.onConnect();else{const l=()=>{c.conn.removeListener("connect",w),c.conn.removeListener("error",E)},w=()=>{l(),c.onConnect()},E=C=>{l(),c.destroy(C)};c.conn.once("connect",w),c.conn.once("error",E),c.startConnectTimeout()}return c},A.createTCPIncomingPeer=(t,r)=>s(t,"tcpIncoming",r),A.createUTPIncomingPeer=(t,r)=>s(t,"utpIncoming",r),A.createTCPOutgoingPeer=(t,r,a)=>u(t,r,"tcpOutgoing",a),A.createUTPOutgoingPeer=(t,r,a)=>u(t,r,"utpOutgoing",a);const s=(t,r,a)=>{const c=`${t.remoteAddress}:${t.remotePort}`,l=new o(c,r);return l.conn=t,l.addr=c,l.throttleGroups=a,l.onConnect(),l},u=(t,r,a,c)=>{const l=new o(t,a);return l.addr=t,l.swarm=r,l.throttleGroups=c,l};A.createWebSeedPeer=(t,r,a,c)=>{const l=new o(r,"webSeed");return l.swarm=a,l.conn=t,l.throttleGroups=c,l.onConnect(),l};class o extends f{constructor(r,a){super(),this.id=r,this.type=a,g("new %s Peer %s",a,r),this.addr=null,this.conn=null,this.swarm=null,this.wire=null,this.connected=!1,this.destroyed=!1,this.timeout=null,this.retries=0,this.sentPe1=!1,this.sentPe2=!1,this.sentPe3=!1,this.sentPe4=!1,this.sentHandshake=!1}onConnect(){if(!this.destroyed){this.connected=!0,g("Peer %s connected",this.id),clearTimeout(this.connectTimeout);const r=this.conn;r.once("end",()=>{this.destroy()}),r.once("close",()=>{this.destroy()}),r.once("finish",()=>{this.destroy()}),r.once("error",c=>{this.destroy(c)});const a=this.wire=new n(this.type,this.retries,h);a.once("end",()=>{this.destroy()}),a.once("close",()=>{this.destroy()}),a.once("finish",()=>{this.destroy()}),a.once("error",c=>{this.destroy(c)}),a.once("pe1",()=>{this.onPe1()}),a.once("pe2",()=>{this.onPe2()}),a.once("pe3",()=>{this.onPe3()}),a.once("pe4",()=>{this.onPe4()}),a.once("handshake",(c,l)=>{this.onHandshake(c,l)}),this.startHandshakeTimeout(),this.setThrottlePipes(),this.swarm&&("tcpOutgoing"===this.type?h&&0===this.retries&&!this.sentPe1?this.sendPe1():!this.sentHandshake&&this.handshake():"tcpIncoming"!==this.type&&!this.sentHandshake&&this.handshake())}}sendPe1(){this.wire.sendPe1(),this.sentPe1=!0}onPe1(){this.sendPe2()}sendPe2(){this.wire.sendPe2(),this.sentPe2=!0}onPe2(){this.sendPe3()}sendPe3(){this.wire.sendPe3(this.swarm.infoHash),this.sentPe3=!0}onPe3(r){this.swarm&&(this.swarm.infoHashHash!==r&&this.destroy(new Error("unexpected crypto handshake info hash for this swarm")),this.sendPe4())}sendPe4(){this.wire.sendPe4(this.swarm.infoHash),this.sentPe4=!0}onPe4(){this.sentHandshake||this.handshake()}clearPipes(){this.conn.unpipe(),this.wire.unpipe()}setThrottlePipes(){const r=this;this.conn.pipe(this.throttleGroups.down.throttle()).pipe(new b({transform(a,c,l){r.emit("download",a.length),r.destroyed||l(null,a)}})).pipe(this.wire).pipe(this.throttleGroups.up.throttle()).pipe(new b({transform(a,c,l){r.emit("upload",a.length),r.destroyed||l(null,a)}})).pipe(this.conn)}onHandshake(r,a){if(!this.swarm||this.destroyed)return;if(this.swarm.destroyed)return this.destroy(new Error("swarm already destroyed"));if(r!==this.swarm.infoHash)return this.destroy(new Error("unexpected handshake info hash for this swarm"));if(a===this.swarm.peerId)return this.destroy(new Error("refusing to connect to ourselves"));g("Peer %s got handshake %s",this.id,r),clearTimeout(this.handshakeTimeout),this.retries=0;let c=this.addr;!c&&this.conn.remoteAddress&&this.conn.remotePort&&(c=`${this.conn.remoteAddress}:${this.conn.remotePort}`),this.swarm._onWire(this.wire,c),this.swarm&&!this.swarm.destroyed&&(this.sentHandshake||this.handshake())}handshake(){this.wire.handshake(this.swarm.infoHash,this.swarm.client.peerId,{dht:!this.swarm.private&&!!this.swarm.client.dht,fast:!0}),this.sentHandshake=!0}startConnectTimeout(){clearTimeout(this.connectTimeout),this.connectTimeout=setTimeout(()=>{this.destroy(new Error("connect timeout"))},{webrtc:25e3,tcpOutgoing:5e3,utpOutgoing:5e3}[this.type]),this.connectTimeout.unref&&this.connectTimeout.unref()}startHandshakeTimeout(){clearTimeout(this.handshakeTimeout),this.handshakeTimeout=setTimeout(()=>{this.destroy(new Error("handshake timeout"))},25e3),this.handshakeTimeout.unref&&this.handshakeTimeout.unref()}destroy(r){if(this.destroyed)return;this.destroyed=!0,this.connected=!1,g("destroy %s %s (error: %s)",this.type,this.id,r&&(r.message||r)),clearTimeout(this.connectTimeout),clearTimeout(this.handshakeTimeout);const a=this.swarm,c=this.conn,l=this.wire;this.swarm=null,this.conn=null,this.wire=null,a&&l&&m(a.wires,a.wires.indexOf(l)),c&&(c.on("error",()=>{}),c.destroy()),l&&l.destroy(),a&&a.removePeer(this.id)}}},{"bittorrent-protocol":32,debug:91,events:123,stream:256,"unordered-array-remove":273}],4:[function(d,N){N.exports=class{constructor(A){this._torrent=A,this._numPieces=A.pieces.length,this._pieces=Array(this._numPieces),this._onWire=f=>{this.recalculate(),this._initWire(f)},this._onWireHave=f=>{this._pieces[f]+=1},this._onWireBitfield=()=>{this.recalculate()},this._torrent.wires.forEach(f=>{this._initWire(f)}),this._torrent.on("wire",this._onWire),this.recalculate()}getRarestPiece(A){let f=[],b=1/0;for(let m=0;m<this._numPieces;++m){if(A&&!A(m))continue;const _=this._pieces[m];_===b?f.push(m):_<b&&(f=[m],b=_)}return f.length?f[0|Math.random()*f.length]:-1}destroy(){this._torrent.removeListener("wire",this._onWire),this._torrent.wires.forEach(A=>{this._cleanupWireEvents(A)}),this._torrent=null,this._pieces=null,this._onWire=null,this._onWireHave=null,this._onWireBitfield=null}_initWire(A){A._onClose=()=>{this._cleanupWireEvents(A);for(let f=0;f<this._numPieces;++f)this._pieces[f]-=A.peerPieces.get(f)},A.on("have",this._onWireHave),A.on("bitfield",this._onWireBitfield),A.once("close",A._onClose)}recalculate(){this._pieces.fill(0);for(const A of this._torrent.wires)for(let f=0;f<this._numPieces;++f)this._pieces[f]+=A.peerPieces.get(f)}_cleanupWireEvents(A){A.removeListener("have",this._onWireHave),A.removeListener("bitfield",this._onWireBitfield),A._onClose&&A.removeListener("close",A._onClose),A._onClose=null}}},{}],5:[function(d,N){(function(A,f){(function(){function b(J,O){let W=2+_e(O*J.downloadSpeed()/X.BLOCK_LENGTH);if(J.peerExtendedHandshake){const ee=J.peerExtendedHandshake.reqq;"number"==typeof ee&&0<ee&&(W=ne(W,ee))}return W}function n(){}const g=d("events"),h=d("fs"),s=d("net"),u=d("os"),o=d("path"),t=d("addr-to-ip-port"),{default:r}=d("bitfield"),a=d("cache-chunk-store"),c=d("chunk-store-stream/write"),l=d("cpus"),w=d("debug"),E=d("torrent-discovery"),C=d("fs-chunk-store"),z=d("simple-get"),k=d("immediate-chunk-store"),I=d("lt_donthave"),V=d("memory-chunk-store"),$=d("join-async-iterator"),oe=d("run-parallel"),ue=d("run-parallel-limit"),Ae=d("parse-torrent"),X=d("torrent-piece"),T=d("pump"),D=d("queue-microtask"),M=d("random-iterate"),v=d("simple-sha1"),B=d("throughput"),F=d("ut_metadata"),q=d("ut_pex"),{Readable:L}=d("streamx"),Y=d("./file.js"),se=d("./peer.js"),Ee=d("./rarity-map.js"),Se=d("./server.js"),Ie=d("./utp.js"),Qe=d("./webconn.js"),Je=w("webtorrent:torrent"),$t=3*X.BLOCK_LENGTH,tt=A.browser?l().length:2,at=[1e3,5e3,15e3],Yt=`WebTorrent/${d("../package.json").version} (https://webtorrent.io)`;let Tn;try{Tn=o.join(h.statSync("/tmp")&&"/tmp","webtorrent")}catch{Tn=o.join("function"==typeof u.tmpdir?u.tmpdir():"/","webtorrent")}N.exports=class extends g{constructor(J,O,W){super(),this._debugId="unknown infohash",this.client=O,this.announce=W.announce,this.urlList=W.urlList,this.path=W.path||Tn,this.addUID=W.addUID||!1,this.skipVerify=!!W.skipVerify,this._store=W.store||C,this._preloadedStore=W.preloadedStore||null,this._storeCacheSlots=void 0===W.storeCacheSlots?20:W.storeCacheSlots,this._destroyStoreOnDestroy=W.destroyStoreOnDestroy||!1,this._getAnnounceOpts=W.getAnnounceOpts,"boolean"==typeof W.private&&(this.private=W.private),this.strategy=W.strategy||"sequential",this.maxWebConns=W.maxWebConns||4,this._rechokeNumSlots=!1===W.uploads||0===W.uploads?0:+W.uploads||10,this._rechokeOptimisticWire=null,this._rechokeOptimisticTime=0,this._rechokeIntervalId=null,this.ready=!1,this.destroyed=!1,this.paused=W.paused||!1,this.done=!1,this.metadata=null,this.store=null,this.storeOpts=W.storeOpts,this.files=[],this.pieces=[],this._amInterested=!1,this._selections=[],this._critical=[],this.wires=[],this._queue=[],this._peers={},this._peersLength=0,this.received=0,this.uploaded=0,this._downloadSpeed=B(),this._uploadSpeed=B(),this._servers=[],this._xsRequests=[],this._fileModtimes=W.fileModtimes,null!==J&&this._onTorrentId(J),this._debug("new torrent")}get timeRemaining(){return this.done?0:0===this.downloadSpeed?1/0:(this.length-this.downloaded)/this.downloadSpeed*1e3}get downloaded(){if(!this.bitfield)return 0;let J=0;for(let O=0,W=this.pieces.length;O<W;++O)if(this.bitfield.get(O))J+=O===W-1?this.lastPieceLength:this.pieceLength;else{const ee=this.pieces[O];J+=ee.length-ee.missing}return J}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){return this.length?this.downloaded/this.length:0}get ratio(){return this.uploaded/(this.received||this.length)}get numPeers(){return this.wires.length}get torrentFileBlobURL(){if(typeof window>"u")throw new Error("browser-only property");return this.torrentFile?URL.createObjectURL(new Blob([this.torrentFile],{type:"application/x-bittorrent"})):null}get _numQueued(){return this._queue.length+(this._peersLength-this._numConns)}get _numConns(){let J=0;for(const O in this._peers)this._peers[O].connected&&(J+=1);return J}_onTorrentId(J){if(this.destroyed)return;let O;try{O=Ae(J)}catch{}O?(this.infoHash=O.infoHash,this._debugId=O.infoHash.toString("hex").substring(0,7),D(()=>{this.destroyed||this._onParsedTorrent(O)})):Ae.remote(J,(W,ee)=>this.destroyed?void 0:W?this._destroy(W):void this._onParsedTorrent(ee))}_onParsedTorrent(J){if(!this.destroyed){if(this._processParsedTorrent(J),!this.infoHash)return this._destroy(new Error("Malformed torrent data: No info hash"));this._rechokeIntervalId=setInterval(()=>{this._rechoke()},1e4),this._rechokeIntervalId.unref&&this._rechokeIntervalId.unref(),this.emit("_infoHash",this.infoHash),!this.destroyed&&(this.emit("infoHash",this.infoHash),this.destroyed||(this.client.listening?this._onListening():this.client.once("listening",()=>{this._onListening()})))}}_processParsedTorrent(J){this._debugId=J.infoHash.toString("hex").substring(0,7),typeof this.private<"u"&&(J.private=this.private),this.announce&&(J.announce=J.announce.concat(this.announce)),this.client.tracker&&f.WEBTORRENT_ANNOUNCE&&!J.private&&(J.announce=J.announce.concat(f.WEBTORRENT_ANNOUNCE)),this.urlList&&(J.urlList=J.urlList.concat(this.urlList)),J.announce=Array.from(new Set(J.announce)),J.urlList=Array.from(new Set(J.urlList)),Object.assign(this,J),this.magnetURI=Ae.toMagnetURI(J),this.torrentFile=Ae.toTorrentFile(J)}_onListening(){this.destroyed||(this.info?this._onMetadata(this):(this.xs&&this._getMetadataFromServer(),this._startDiscovery()))}_startDiscovery(){if(this.discovery||this.destroyed)return;let J=this.client.tracker;J&&(J=Object.assign({},this.client.tracker,{getAnnounceOpts:()=>{if(!this.destroyed){const O={uploaded:this.uploaded,downloaded:this.downloaded,left:pe(this.length-this.downloaded,0)};return this.client.tracker.getAnnounceOpts&&Object.assign(O,this.client.tracker.getAnnounceOpts()),this._getAnnounceOpts&&Object.assign(O,this._getAnnounceOpts()),O}}})),this.peerAddresses&&this.peerAddresses.forEach(O=>this.addPeer(O)),this.discovery=new E({infoHash:this.infoHash,announce:this.announce,peerId:this.client.peerId,dht:!this.private&&this.client.dht,tracker:J,port:this.client.torrentPort,userAgent:Yt,lsd:this.client.lsd}),this.discovery.on("error",O=>{this._destroy(O)}),this.discovery.on("peer",(O,W)=>{this._debug("peer %s discovered via %s",O,W),"string"==typeof O&&this.done||this.addPeer(O)}),this.discovery.on("trackerAnnounce",()=>{this.emit("trackerAnnounce"),0===this.numPeers&&this.emit("noPeers","tracker")}),this.discovery.on("dhtAnnounce",()=>{this.emit("dhtAnnounce"),0===this.numPeers&&this.emit("noPeers","dht")}),this.discovery.on("warning",O=>{this.emit("warning",O)})}_getMetadataFromServer(){const O=this,ee=(Array.isArray(this.xs)?this.xs:[this.xs]).map(ve=>He=>{!function J(ve,He){if(0!==ve.indexOf("http://")&&0!==ve.indexOf("https://"))return O.emit("warning",new Error(`skipping non-http xs param: ${ve}`)),He(null);let st;try{st=z.concat({url:ve,method:"GET",headers:{"user-agent":Yt}},function ht(Jt,on,Ht){if(O.destroyed||O.metadata)return He(null);if(Jt)return O.emit("warning",new Error(`http error from xs param: ${ve}`)),He(null);if(200!==on.statusCode)return O.emit("warning",new Error(`non-200 status code ${on.statusCode} from xs param: ${ve}`)),He(null);let wn;try{wn=Ae(Ht)}catch{}return wn?wn.infoHash===O.infoHash?(O._onMetadata(wn),void He(null)):(O.emit("warning",new Error(`got torrent file with incorrect info hash from xs param: ${ve}`)),He(null)):(O.emit("warning",new Error(`got invalid torrent file from xs param: ${ve}`)),He(null))})}catch{return O.emit("warning",new Error(`skipping invalid url xs param: ${ve}`)),He(null)}O._xsRequests.push(st)}(ve,He)});oe(ee)}_onMetadata(J){if(this.metadata||this.destroyed)return;let O;if(this._debug("got metadata"),this._xsRequests.forEach(ee=>{ee.abort()}),this._xsRequests=[],J&&J.infoHash)O=J;else try{O=Ae(J)}catch(ee){return this._destroy(ee)}this._processParsedTorrent(O),this.metadata=this.torrentFile,this.client.enableWebSeeds&&this.urlList.forEach(ee=>{this.addWebSeed(ee)}),this._rarityMap=new Ee(this),this.files=this.files.map(ee=>new Y(this,ee));let W=this._preloadedStore;if(W||(W=new this._store(this.pieceLength,{...this.storeOpts,torrent:this,path:this.path,files:this.files,length:this.length,name:this.name+" - "+this.infoHash.slice(0,8),addUID:this.addUID})),0<this._storeCacheSlots&&!(W instanceof V)&&(W=new a(W,{max:this._storeCacheSlots})),this.store=new k(W),this.so?this.files.forEach((ee,ve)=>{this.so.includes(ve)?this.files[ve].select():this.files[ve].deselect()}):0!==this.pieces.length&&this.select(0,this.pieces.length-1,!1),this._hashes=this.pieces,this.pieces=this.pieces.map((ee,ve)=>new X(ve===this.pieces.length-1?this.lastPieceLength:this.pieceLength)),this._reservations=this.pieces.map(()=>[]),this.bitfield=new r(this.pieces.length),this.emit("metadata"),!this.destroyed)if(this.skipVerify)this._markAllVerified(),this._onStore();else{const ee=ve=>ve?this._destroy(ve):(this._debug("done verifying"),void this._onStore());this._debug("verifying existing torrent data"),this._fileModtimes&&this._store===C?this.getFileModtimes((ve,He)=>{if(ve)return this._destroy(ve);this.files.map((st,Jt)=>He[Jt]===this._fileModtimes[Jt]).every(st=>st)?(this._markAllVerified(),this._onStore()):this._verifyPieces(ee)}):this._verifyPieces(ee)}}getFileModtimes(J){const O=[];ue(this.files.map((W,ee)=>ve=>{const He=this.addUID?o.join(this.name+" - "+this.infoHash.slice(0,8)):o.join(this.path,W.path);h.stat(He,(ht,st)=>ht&&"ENOENT"!==ht.code?ve(ht):(O[ee]=st&&st.mtime.getTime(),void ve(null)))}),tt,W=>{this._debug("done getting file modtimes"),J(W,O)})}_verifyPieces(J){ue(this.pieces.map((O,W)=>ee=>{if(this.destroyed)return ee(new Error("torrent is destroyed"));const ve={};W===this.pieces.length-1&&(ve.length=this.lastPieceLength),this.store.get(W,ve,(He,ht)=>this.destroyed?ee(new Error("torrent is destroyed")):He?D(()=>ee(null)):void v(ht,st=>this.destroyed?ee(new Error("torrent is destroyed")):(st===this._hashes[W]?(this._debug("piece verified %s",W),this._markVerified(W)):this._debug("piece invalid %s",W),void ee(null))))}),tt,J)}rescanFiles(J){if(this.destroyed)throw new Error("torrent is destroyed");J||(J=n),this._verifyPieces(O=>O?(this._destroy(O),J(O)):(this._checkDone(),void J(null)))}_markAllVerified(){for(let J=0;J<this.pieces.length;J++)this._markVerified(J)}_markVerified(J){this.pieces[J]=null,this._reservations[J]=null,this.bitfield.set(J,!0)}_hasAllPieces(){for(let J=0;J<this.pieces.length;J++)if(!this.bitfield.get(J))return!1;return!0}_hasNoPieces(){return!this._hasMorePieces(0)}_hasMorePieces(J){let O=0;for(let W=0;W<this.pieces.length;W++)if(this.bitfield.get(W)&&(O+=1,O>J))return!0;return!1}_onStore(){this.destroyed||(this._debug("on store"),this._startDiscovery(),this.ready=!0,this.emit("ready"),this._checkDone(),this._updateSelections(),this.wires.forEach(J=>{J.ut_metadata&&J.ut_metadata.setMetadata(this.metadata),this._onWireWithMetadata(J)}))}destroy(J,O){return"function"==typeof J?this.destroy(null,J):void this._destroy(null,J,O)}_destroy(J,O,W){if("function"==typeof O)return this._destroy(J,null,O);if(!this.destroyed){for(const ve in this.destroyed=!0,this._debug("destroy"),this.client._remove(this),clearInterval(this._rechokeIntervalId),this._xsRequests.forEach(He=>{He.abort()}),this._rarityMap&&this._rarityMap.destroy(),this._peers)this.removePeer(ve);this.files.forEach(ve=>{ve instanceof Y&&ve._destroy()});const ee=this._servers.map(ve=>He=>{ve.destroy(He)});if(this.discovery&&ee.push(ve=>{this.discovery.destroy(ve)}),this.store){let ve=this._destroyStoreOnDestroy;O&&void 0!==O.destroyStore&&(ve=O.destroyStore),ee.push(He=>{ve?this.store.destroy(He):this.store.close(He)})}oe(ee,W),J&&(0===this.listenerCount("error")?this.client.emit("error",J):this.emit("error",J)),this.emit("close"),this.client=null,this.files=[],this.discovery=null,this.store=null,this._rarityMap=null,this._peers=null,this._servers=null,this._xsRequests=null}}addPeer(J){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.infoHash)throw new Error("addPeer() must not be called before the `infoHash` event");let O;if(this.client.blocked){if("string"==typeof J){let ve;try{ve=t(J)}catch{return this._debug("ignoring peer: invalid %s",J),this.emit("invalidPeer",J),!1}O=ve[0]}else"string"==typeof J.remoteAddress&&(O=J.remoteAddress);if(O&&this.client.blocked.contains(O))return this._debug("ignoring peer: blocked %s",J),"string"!=typeof J&&J.destroy(),this.emit("blockedPeer",J),!1}const W=this.client.utp&&this._isIPv4(O)?"utp":"tcp",ee=!!this._addPeer(J,W);return this.emit(ee?"peer":"invalidPeer",J),ee}_addPeer(J,O){if(this.destroyed)return"string"!=typeof J&&J.destroy(),null;if("string"==typeof J&&!this._validAddr(J))return this._debug("ignoring peer: invalid %s",J),null;const W=J&&J.id||J;if(this._peers[W])return this._debug("ignoring peer: duplicate (%s)",W),"string"!=typeof J&&J.destroy(),null;if(this.paused)return this._debug("ignoring peer: torrent is paused"),"string"!=typeof J&&J.destroy(),null;let ee;return this._debug("add peer %s",W),ee="string"==typeof J?"utp"===O?se.createUTPOutgoingPeer(J,this,this.client.throttleGroups):se.createTCPOutgoingPeer(J,this,this.client.throttleGroups):se.createWebRTCPeer(J,this,this.client.throttleGroups),this._registerPeer(ee),"string"==typeof J&&(this._queue.push(ee),this._drain()),ee}addWebSeed(J){if(this.destroyed)throw new Error("torrent is destroyed");let O,W;if("string"==typeof J){if(O=J,!/^https?:\/\/.+/.test(O))return this.emit("warning",new Error(`ignoring invalid web seed: ${O}`)),void this.emit("invalidPeer",O);if(this._peers[O])return this.emit("warning",new Error(`ignoring duplicate web seed: ${O}`)),void this.emit("invalidPeer",O);W=new Qe(O,this)}else{if(!J||"string"!=typeof J.connId)return void this.emit("warning",new Error("addWebSeed must be passed a string or connection object with id property"));if(W=J,O=W.connId,this._peers[O])return this.emit("warning",new Error(`ignoring duplicate web seed: ${O}`)),void this.emit("invalidPeer",O)}this._debug("add web seed %s",O);const ee=se.createWebSeedPeer(W,O,this,this.client.throttleGroups);this._registerPeer(ee),this.emit("peer",O)}_addIncomingPeer(J){return this.destroyed?J.destroy(new Error("torrent is destroyed")):this.paused?J.destroy(new Error("torrent is paused")):(this._debug("add incoming peer %s",J.id),void this._registerPeer(J))}_registerPeer(J){J.on("download",O=>{this.destroyed||(this.received+=O,this._downloadSpeed(O),this.client._downloadSpeed(O),this.emit("download",O),this.destroyed||this.client.emit("download",O))}),J.on("upload",O=>{this.destroyed||(this.uploaded+=O,this._uploadSpeed(O),this.client._uploadSpeed(O),this.emit("upload",O),this.destroyed||this.client.emit("upload",O))}),this._peers[J.id]=J,this._peersLength+=1}removePeer(J){const O=J?.id||J;J&&!J.id&&(J=this._peers?.[O]),J&&(J.destroy(),this.destroyed||(this._debug("removePeer %s",O),delete this._peers[O],this._peersLength-=1,this._drain()))}select(J,O,W,ee){if(this.destroyed)throw new Error("torrent is destroyed");if(0>J||O<J||this.pieces.length<=O)throw new Error(`invalid selection ${J} : ${O}`);this._debug("select %s-%s (priority %s)",J,O,W=+W||0),this._selections.push({from:J,to:O,offset:0,priority:W,notify:ee||n}),this._selections.sort((ve,He)=>He.priority-ve.priority),this._updateSelections()}deselect(J,O,W){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("deselect %s-%s (priority %s)",J,O,W=+W||0);for(let ee=0;ee<this._selections.length;++ee){const ve=this._selections[ee];if(ve.from===J&&ve.to===O&&ve.priority===W){this._selections.splice(ee,1);break}}this._updateSelections()}critical(J,O){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("critical %s-%s",J,O);for(let W=J;W<=O;++W)this._critical[W]=!0;this._updateSelections()}_onWire(J,O){if(this._debug("got wire %s (%s)",J._debugId,O||"Unknown"),this.wires.push(J),O){const W=t(O);J.remoteAddress=W[0],J.remotePort=W[1]}this.client.dht&&this.client.dht.listening&&J.on("port",W=>this.destroyed||this.client.dht.destroyed?void 0:J.remoteAddress?0===W||65536<W?this._debug("ignoring invalid PORT from peer"):(this._debug("port: %s (from %s)",W,O),void this.client.dht.addNode({host:J.remoteAddress,port:W})):this._debug("ignoring PORT from peer with no address")),J.on("timeout",()=>{this._debug("wire timeout (%s)",O),J.destroy()}),"webSeed"!==J.type&&J.setTimeout(3e4,!0),J.setKeepAlive(!0),J.use(F(this.metadata)),J.ut_metadata.on("warning",W=>{this._debug("ut_metadata warning: %s",W.message)}),this.metadata||(J.ut_metadata.on("metadata",W=>{this._debug("got metadata via ut_metadata"),this._onMetadata(W)}),J.ut_metadata.fetch()),"function"!=typeof q||this.private||(J.use(q()),J.ut_pex.on("peer",W=>{this.done||(this._debug("ut_pex: got peer: %s (from %s)",W,O),this.addPeer(W))}),J.ut_pex.on("dropped",W=>{const ee=this._peers[W];ee&&!ee.connected&&(this._debug("ut_pex: dropped peer: %s (from %s)",W,O),this.removePeer(W))}),J.once("close",()=>{J.ut_pex.reset()})),J.use(I()),this.emit("wire",J,O),this.ready&&D(()=>{this._onWireWithMetadata(J)})}_onWireWithMetadata(J){let O=null;const W=()=>{this.destroyed||J.destroyed||(this._numQueued>2*(this._numConns-this.numPeers)&&J.amInterested?J.destroy():(O=setTimeout(W,5e3),O.unref&&O.unref()))};let ee;const ve=()=>{if(J.peerPieces.buffer.length===this.bitfield.buffer.length){for(ee=0;ee<this.pieces.length;++ee)if(!J.peerPieces.get(ee))return;J.isSeeder=!0,J.choke()}};J.on("bitfield",()=>{ve(),this._update(),this._updateWireInterest(J)}),J.on("have",()=>{ve(),this._update(),this._updateWireInterest(J)}),J.lt_donthave.on("donthave",()=>{ve(),this._update(),this._updateWireInterest(J)}),J.on("have-all",()=>{J.isSeeder=!0,J.choke(),this._update(),this._updateWireInterest(J)}),J.on("have-none",()=>{J.isSeeder=!1,this._update(),this._updateWireInterest(J)}),J.on("allowed-fast",()=>{this._update()}),J.once("interested",()=>{J.unchoke()}),J.once("close",()=>{clearTimeout(O)}),J.on("choke",()=>{clearTimeout(O),O=setTimeout(W,5e3),O.unref&&O.unref()}),J.on("unchoke",()=>{clearTimeout(O),this._update()}),J.on("request",(He,ht,st,Jt)=>st>131072?J.destroy():void(this.pieces[He]||this.store.get(He,{offset:ht,length:st},Jt))),J.hasFast&&this._hasAllPieces()?J.haveAll():J.hasFast&&this._hasNoPieces()?J.haveNone():J.bitfield(this.bitfield),this._updateWireInterest(J),J.peerExtensions.dht&&this.client.dht&&this.client.dht.listening&&J.port(this.client.dht.address().port),"webSeed"!==J.type&&(O=setTimeout(W,5e3),O.unref&&O.unref()),J.isSeeder=!1,ve()}_updateSelections(){!this.ready||this.destroyed||(D(()=>{this._gcSelections()}),this._updateInterest(),this._update())}_gcSelections(){for(let J=0;J<this._selections.length;++J){const O=this._selections[J],W=O.offset;for(;this.bitfield.get(O.from+O.offset)&&O.from+O.offset<O.to;)O.offset+=1;W!==O.offset&&O.notify(),O.to===O.from+O.offset&&this.bitfield.get(O.from+O.offset)&&(this._selections.splice(J,1),J-=1,O.notify(),this._updateInterest())}this._selections.length||this.emit("idle")}_updateInterest(){const J=this._amInterested;this._amInterested=!!this._selections.length,this.wires.forEach(O=>this._updateWireInterest(O)),J===this._amInterested||this.emit(this._amInterested?"interested":"uninterested")}_updateWireInterest(J){let O=!1;for(let W=0;W<this.pieces.length;++W)if(this.pieces[W]&&J.peerPieces.get(W)){O=!0;break}O?J.interested():J.uninterested()}_update(){if(!this.destroyed){const J=M(this.wires);for(let O;O=J();)this._updateWireWrapper(O)}}_updateWireWrapper(J){const O=this;typeof window<"u"&&"function"==typeof window.requestIdleCallback?window.requestIdleCallback(()=>{O._updateWire(J)},{timeout:250}):O._updateWire(J)}_updateWire(J){function O(Jt,on,Ht,wn){return sn=>sn>=Jt&&sn<=on&&!(sn in Ht)&&J.peerPieces.get(sn)&&(!wn||wn(sn))}function ee(Jt){let on=Jt;for(let wn=Jt;wn<He._selections.length&&He._selections[wn].priority;wn++)on=wn;const Ht=He._selections[Jt];He._selections[Jt]=He._selections[on],He._selections[on]=Ht}function ve(Jt){if(J.requests.length>=st)return!0;const on=function W(){const Jt=J.downloadSpeed()||1;if(Jt>$t)return()=>!0;const on=pe(1,J.requests.length)*X.BLOCK_LENGTH/Jt;let Ht=10,wn=0;return sn=>{if(!Ht||He.bitfield.get(sn))return!0;for(let Sn=He.pieces[sn].missing;wn<He.wires.length;wn++){const fr=He.wires[wn],Dn=fr.downloadSpeed();if(!(Dn<$t)&&!(Dn<=Jt)&&fr.peerPieces.get(sn)&&!(0<(Sn-=Dn*on)))return Ht--,!1}return!0}}();for(let Ht=0;Ht<He._selections.length;Ht++){const wn=He._selections[Ht];let sn;if("rarest"===He.strategy){const Sn=wn.from+wn.offset,fr=wn.to,Dn={};let Rt=0;for(const vr=O(Sn,fr,Dn,on);Rt<fr-Sn+1&&(sn=He._rarityMap.getRarestPiece(vr),!(0>sn));){for(;He._request(J,sn,He._critical[sn]||Jt)&&J.requests.length<st;);if(!(J.requests.length<st))return wn.priority&&ee(Ht),!0;Dn[sn]=!0,Rt++}}else for(sn=wn.from+wn.offset;sn<=wn.to;sn++)if(J.peerPieces.get(sn)&&on(sn)){for(;He._request(J,sn,He._critical[sn]||Jt)&&J.requests.length<st;);if(!(J.requests.length<st))return wn.priority&&ee(Ht),!0}}return!1}if(J.destroyed)return!1;const He=this,ht=b(J,.5);if(J.requests.length>=ht)return;const st=b(J,1);return J.peerChoking?void(J.hasFast&&0<J.peerAllowedFastSet.length&&!this._hasMorePieces(J.peerAllowedFastSet.length-1)&&function(){if(J.requests.length>=st)return!1;for(const Jt of J.peerAllowedFastSet){if(J.peerPieces.get(Jt)&&!He.bitfield.get(Jt))for(;He._request(J,Jt,!1)&&J.requests.length<st;);if(!(J.requests.length<st))return!0}}()):J.downloaded?void(ve(!1)||ve(!0)):function(){if(!J.requests.length)for(let Jt=He._selections.length;Jt--;){const on=He._selections[Jt];let Ht;if("rarest"===He.strategy){const wn=on.from+on.offset,sn=on.to,Sn={};let fr=0;for(const Dn=O(wn,sn,Sn);fr<sn-wn+1&&(Ht=He._rarityMap.getRarestPiece(Dn),!(0>Ht));){if(He._request(J,Ht,!1))return;Sn[Ht]=!0,fr+=1}}else for(Ht=on.to;Ht>=on.from+on.offset;--Ht)if(J.peerPieces.get(Ht)&&He._request(J,Ht,!1))return}}()}_rechoke(){if(this.ready){const J=this.wires.map(O=>({wire:O,random:Math.random()})).sort((O,W)=>{const ee=O.wire,ve=W.wire;return ee.downloadSpeed()===ve.downloadSpeed()?ee.uploadSpeed()===ve.uploadSpeed()?ee.amChoking===ve.amChoking?O.random-W.random:ee.amChoking?-1:1:ee.uploadSpeed()-ve.uploadSpeed():ee.downloadSpeed()-ve.downloadSpeed()}).map(O=>O.wire);0>=this._rechokeOptimisticTime?this._rechokeOptimisticWire=null:this._rechokeOptimisticTime-=1;for(let O=0;0<J.length&&O<this._rechokeNumSlots-1;){const W=J.pop();W.isSeeder||W===this._rechokeOptimisticWire||(W.unchoke(),W.peerInterested&&O++)}if(null===this._rechokeOptimisticWire&&0<this._rechokeNumSlots){const O=J.filter(W=>W.peerInterested);if(0<O.length){const W=O[function _(J){return 0|Math.random()*J}(O.length)];W.unchoke(),this._rechokeOptimisticWire=W,this._rechokeOptimisticTime=2}}J.filter(O=>O!==this._rechokeOptimisticWire).forEach(O=>O.choke())}}_hotswap(J,O){const W=J.downloadSpeed();if(W<X.BLOCK_LENGTH||!this._reservations[O])return!1;const ee=this._reservations[O];if(!ee)return!1;let He,ht,ve=1/0;for(ht=0;ht<ee.length;ht++){const st=ee[ht];if(!st||st===J)continue;const Jt=st.downloadSpeed();Jt>=$t||2*Jt>W||Jt>ve||(He=st,ve=Jt)}if(!He)return!1;for(ht=0;ht<ee.length;ht++)ee[ht]===He&&(ee[ht]=null);for(ht=0;ht<He.requests.length;ht++){const st=He.requests[ht];st.piece===O&&this.pieces[O].cancel(0|st.offset/X.BLOCK_LENGTH)}return this.emit("hotswap",He,J,O),!0}_request(J,O,W){function ee(){D(()=>{ve._update()})}const ve=this,He=J.requests.length,ht="webSeed"===J.type;if(ve.bitfield.get(O))return!1;const st=ht?ne(function m(J,O,W){return 1+_e(O*J.downloadSpeed()/W)}(J,1,ve.pieceLength),ve.maxWebConns):b(J,1);if(He>=st)return!1;const Jt=ve.pieces[O];let on=ht?Jt.reserveRemaining():Jt.reserve();if(-1===on&&W&&ve._hotswap(J,O)&&(on=ht?Jt.reserveRemaining():Jt.reserve()),-1===on)return!1;let Ht=ve._reservations[O];Ht||(Ht=ve._reservations[O]=[]);let wn=Ht.indexOf(null);-1===wn&&(wn=Ht.length),Ht[wn]=J;const sn=Jt.chunkOffset(on),Sn=ht?Jt.chunkLengthRemaining(on):Jt.chunkLength(on);return J.request(O,sn,Sn,function fr(Dn,Rt){if(ve.destroyed)return;if(!ve.ready)return ve.once("ready",()=>{fr(Dn,Rt)});if(Ht[wn]===J&&(Ht[wn]=null),Jt!==ve.pieces[O])return ee();if(Dn)return ve._debug("error getting piece %s (offset: %s length: %s) from %s: %s",O,sn,Sn,`${J.remoteAddress}:${J.remotePort}`,Dn.message),ht?Jt.cancelRemaining(on):Jt.cancel(on),void ee();if(ve._debug("got piece %s (offset: %s length: %s) from %s",O,sn,Sn,`${J.remoteAddress}:${J.remotePort}`),!Jt.set(on,Rt,J))return ee();const vr=Jt.flush();v(vr,de=>{ve.destroyed||(de===ve._hashes[O]?(ve._debug("piece verified %s",O),ve.store.put(O,vr,Le=>Le?void ve._destroy(Le):(ve.pieces[O]=null,ve._markVerified(O),ve.wires.forEach(et=>{et.have(O)}),ve._checkDone()&&!ve.destroyed&&ve.discovery.complete(),void ee()))):(ve.pieces[O]=new X(Jt.length),ve.emit("warning",new Error(`Piece ${O} failed verification`)),ee()))})}),!0}_checkDone(){if(this.destroyed)return;this.files.forEach(O=>{if(!O.done){for(let W=O._startPiece;W<=O._endPiece;++W)if(!this.bitfield.get(W))return;O.done=!0,O.emit("done"),this._debug(`file done: ${O.name}`)}});let J=!0;for(const O of this._selections){for(let W=O.from;W<=O.to;W++)if(!this.bitfield.get(W)){J=!1;break}if(!J)break}return!this.done&&J?(this.done=!0,this._debug(`torrent done: ${this.infoHash}`),this.emit("done")):this.done=!1,this._gcSelections(),J}load(J,O){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.ready)return this.once("ready",()=>{this.load(J,O)});Array.isArray(J)||(J=[J]),O||(O=n);const W=L.from($(J)),ee=new c(this.store,this.pieceLength);T(W,ee,ve=>ve?O(ve):(this._markAllVerified(),this._checkDone(),void O(null)))}createServer(J){if("function"!=typeof Se)throw new Error("node.js-only method");if(this.destroyed)throw new Error("torrent is destroyed");const O=new Se(this,J);return this._servers.push(O),O}pause(){this.destroyed||(this._debug("pause"),this.paused=!0)}resume(){this.destroyed||(this._debug("resume"),this.paused=!1,this._drain())}_debug(){const J=[].slice.call(arguments);J[0]=`[${this.client?this.client._debugId:"No Client"}] [${this._debugId}] ${J[0]}`,Je(...J)}_drain(){if(this._debug("_drain numConns %s maxConns %s",this._numConns,this.client.maxConns),"function"!=typeof s.connect||this.destroyed||this.paused||this._numConns>=this.client.maxConns)return;this._debug("drain (%s queued, %s/%s peers)",this._numQueued,this.numPeers,this.client.maxConns);const J=this._queue.shift();if(!J)return;this._debug("%s connect attempt to %s",J.type,J.addr);const O=t(J.addr),W={host:O[0],port:O[1]};J.conn=this.client.utp&&"utpOutgoing"===J.type?Ie.connect(W.port,W.host):s.connect(W);const ee=J.conn;ee.once("connect",()=>{this.destroyed||J.onConnect()}),ee.once("error",ve=>{J.destroy(ve)}),J.startConnectTimeout(),ee.on("close",()=>{if(!this.destroyed){if(J.retries>=at.length){if(this.client.utp){const ht=this._addPeer(J.addr,"tcp");ht&&(ht.retries=0)}else this._debug("conn %s closed: will not re-add (max %s attempts)",J.addr,at.length);return}const ve=at[J.retries];this._debug("conn %s closed: will re-add to queue in %sms (attempt %s)",J.addr,ve,J.retries+1);const He=setTimeout(()=>{if(!this.destroyed){const ht=t(J.addr)[0],st=this.client.utp&&this._isIPv4(ht)?"utp":"tcp",Jt=this._addPeer(J.addr,st);Jt&&(Jt.retries=J.retries+1)}},ve);He.unref&&He.unref()}})}_validAddr(J){let O;try{O=t(J)}catch{return!1}const ee=O[1];return 0<ee&&65535>ee&&("127.0.0.1"!==O[0]||ee!==this.client.torrentPort)}_isIPv4(J){return/^((?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])[.]){3}(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/.test(J)}}}).call(this)}).call(this,d("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../package.json":282,"./file.js":2,"./peer.js":3,"./rarity-map.js":4,"./server.js":42,"./utp.js":42,"./webconn.js":6,_process:193,"addr-to-ip-port":7,bitfield:31,"cache-chunk-store":78,"chunk-store-stream/write":79,cpus:82,debug:91,events:123,fs:42,"fs-chunk-store":161,"immediate-chunk-store":146,"join-async-iterator":150,lt_donthave:157,"memory-chunk-store":161,net:42,os:42,"parse-torrent":184,path:185,pump:201,"queue-microtask":206,"random-iterate":208,"run-parallel":233,"run-parallel-limit":232,"simple-get":246,"simple-sha1":248,streamx:264,throughput:268,"torrent-discovery":270,"torrent-piece":271,ut_metadata:276,ut_pex:42}],6:[function(d,N,A){(function(f){(function(){const{default:b}=d("bitfield"),m=d("debug"),_=d("simple-get"),n=d("lt_donthave"),g=d("simple-sha1"),h=d("bittorrent-protocol"),s=m("webtorrent:webconn"),u=d("../package.json").version;N.exports=class r extends h{constructor(c,l){super(),this.url=c,this.connId=c,this.webPeerId=g.sync(c),this._torrent=l,this._init()}_init(){this.setKeepAlive(!0),this.use(n()),this.once("handshake",(c,l)=>{if(this.destroyed)return;this.handshake(c,this.webPeerId);const w=this._torrent.pieces.length,E=new b(w);for(let C=0;C<=w;C++)E.set(C,!0);this.bitfield(E)}),this.once("interested",()=>{s("interested"),this.unchoke()}),this.on("uninterested",()=>{s("uninterested")}),this.on("choke",()=>{s("choke")}),this.on("unchoke",()=>{s("unchoke")}),this.on("bitfield",()=>{s("bitfield")}),this.lt_donthave.on("donthave",()=>{s("donthave")}),this.on("request",(c,l,w,E)=>{s("request pieceIndex=%d offset=%d length=%d",c,l,w),this.httpRequest(c,l,w,(C,z)=>{if(C){this.lt_donthave.donthave(c);const k=setTimeout(()=>{this.destroyed||this.have(c)},1e4);k.unref&&k.unref()}E(C,z)})})}httpRequest(c,l,w,E){const z=c*this._torrent.pieceLength+l,k=z+w-1,I=this._torrent.files;let V;if(1>=I.length)V=[{url:this.url,start:z,end:k}];else{const Ae=I.filter(X=>X.offset<=k&&X.offset+X.length>z);if(1>Ae.length)return E(new Error("Could not find file corresponding to web seed range request"));V=Ae.map(X=>{const T=X.offset+X.length-1;return{url:this.url+("/"===this.url[this.url.length-1]?"":"/")+X.path.replace(this._torrent.path,""),fileOffsetInRange:pe(X.offset-z,0),start:pe(z-X.offset,0),end:ne(T,k-X.offset)}})}let ue,$=0,oe=!1;1<V.length&&(ue=f.alloc(w)),V.forEach(Ae=>{function X(B,F){return 200>B.statusCode||300<=B.statusCode?oe?void 0:(oe=!0,E(new Error(`Unexpected HTTP status code ${B.statusCode}`))):(s("Got data of length %d",F.length),void(1===V.length?E(null,F):(F.copy(ue,Ae.fileOffsetInRange),++$===V.length&&E(null,ue))))}const T=Ae.url,D=Ae.start,M=Ae.end;s("Requesting url=%s pieceIndex=%d offset=%d length=%d start=%d end=%d",T,c,l,w,D,M);const v={url:T,method:"GET",headers:{"user-agent":`WebTorrent/${u} (https://webtorrent.io)`,range:`bytes=${D}-${M}`},timeout:6e4};_.concat(v,(B,F,q)=>oe?void 0:B?typeof window>"u"||T.startsWith(`${window.location.origin}/`)?(oe=!0,E(B)):_.head(T,(L,Y)=>oe?void 0:L?(oe=!0,E(L)):200>Y.statusCode||300<=Y.statusCode?(oe=!0,E(new Error(`Unexpected HTTP status code ${Y.statusCode}`))):Y.url===T?(oe=!0,E(B)):(v.url=Y.url,void _.concat(v,(se,Ee,Se)=>oe?void 0:se?(oe=!0,E(se)):void X(Ee,Se)))):void X(F,q))})}destroy(){super.destroy(),this._torrent=null}}}).call(this)}).call(this,d("buffer").Buffer)},{"../package.json":282,bitfield:31,"bittorrent-protocol":32,buffer:76,debug:91,lt_donthave:157,"simple-get":246,"simple-sha1":248}],7:[function(d,N,A){const f=/^\[?([^\]]+)]?:(\d+)$/;let b=new Map;N.exports=function(_){if(1e5===b.size&&b.clear(),!b.has(_)){const n=f.exec(_);if(!n)throw new Error(`invalid addr: ${_}`);b.set(_,[n[1],+n[2]])}return b.get(_)}},{}],8:[function(d,N,A){"use strict";const f=A;f.bignum=d("bn.js"),f.define=d("./asn1/api").define,f.base=d("./asn1/base"),f.constants=d("./asn1/constants"),f.decoders=d("./asn1/decoders"),f.encoders=d("./asn1/encoders")},{"./asn1/api":9,"./asn1/base":11,"./asn1/constants":15,"./asn1/decoders":17,"./asn1/encoders":20,"bn.js":22}],9:[function(d,N,A){"use strict";function f(g,h){this.name=g,this.body=h,this.decoders={},this.encoders={}}const b=d("./encoders"),m=d("./decoders"),_=d("inherits");A.define=function(h,s){return new f(h,s)},f.prototype._createNamed=function(h){function s(o){this._initNamed(o,u)}const u=this.name;return _(s,h),s.prototype._initNamed=function(t,r){h.call(this,t,r)},new s(this)},f.prototype._getDecoder=function(h){return this.decoders.hasOwnProperty(h=h||"der")||(this.decoders[h]=this._createNamed(m[h])),this.decoders[h]},f.prototype.decode=function(h,s,u){return this._getDecoder(s).decode(h,u)},f.prototype._getEncoder=function(h){return this.encoders.hasOwnProperty(h=h||"der")||(this.encoders[h]=this._createNamed(b[h])),this.encoders[h]},f.prototype.encode=function(h,s,u){return this._getEncoder(s).encode(h,u)}},{"./decoders":17,"./encoders":20,inherits:147}],10:[function(d,N,A){"use strict";function f(g,h){return _.call(this,h),n.isBuffer(g)?(this.base=g,this.offset=0,void(this.length=g.length)):void this.error("Input not Buffer")}function b(g,h){if(Array.isArray(g))this.length=0,this.value=g.map(function(s){return b.isEncoderBuffer(s)||(s=new b(s,h)),this.length+=s.length,s},this);else if("number"==typeof g){if(!(0<=g&&255>=g))return h.error("non-byte EncoderBuffer value");this.value=g,this.length=1}else if("string"==typeof g)this.value=g,this.length=n.byteLength(g);else{if(!n.isBuffer(g))return h.error("Unsupported type: "+typeof g);this.value=g,this.length=g.length}}const m=d("inherits"),_=d("../base/reporter").Reporter,n=d("safer-buffer").Buffer;m(f,_),A.DecoderBuffer=f,f.isDecoderBuffer=function(h){return h instanceof f||"object"==typeof h&&n.isBuffer(h.base)&&"DecoderBuffer"===h.constructor.name&&"number"==typeof h.offset&&"number"==typeof h.length&&"function"==typeof h.save&&"function"==typeof h.restore&&"function"==typeof h.isEmpty&&"function"==typeof h.readUInt8&&"function"==typeof h.skip&&"function"==typeof h.raw},f.prototype.save=function(){return{offset:this.offset,reporter:_.prototype.save.call(this)}},f.prototype.restore=function(h){const s=new f(this.base);return s.offset=h.offset,s.length=this.offset,this.offset=h.offset,_.prototype.restore.call(this,h.reporter),s},f.prototype.isEmpty=function(){return this.offset===this.length},f.prototype.readUInt8=function(h){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(h||"DecoderBuffer overrun")},f.prototype.skip=function(h,s){if(!(this.offset+h<=this.length))return this.error(s||"DecoderBuffer overrun");const u=new f(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+h,this.offset+=h,u},f.prototype.raw=function(h){return this.base.slice(h?h.offset:this.offset,this.length)},A.EncoderBuffer=b,b.isEncoderBuffer=function(h){return h instanceof b||"object"==typeof h&&"EncoderBuffer"===h.constructor.name&&"number"==typeof h.length&&"function"==typeof h.join},b.prototype.join=function(h,s){return h||(h=n.alloc(this.length)),s||(s=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(h,s),s+=u.length}):("number"==typeof this.value?h[s]=this.value:"string"==typeof this.value?h.write(this.value,s):n.isBuffer(this.value)&&this.value.copy(h,s),s+=this.length)),h}},{"../base/reporter":13,inherits:147,"safer-buffer":236}],11:[function(d,N,A){"use strict";const f=A;f.Reporter=d("./reporter").Reporter,f.DecoderBuffer=d("./buffer").DecoderBuffer,f.EncoderBuffer=d("./buffer").EncoderBuffer,f.Node=d("./node")},{"./buffer":10,"./node":12,"./reporter":13}],12:[function(d,N,A){"use strict";function f(o,t,r){const a={};this._baseState=a,a.name=r,a.enc=o,a.parent=t||null,a.children=null,a.tag=null,a.args=null,a.reverseArgs=null,a.choice=null,a.optional=!1,a.any=!1,a.obj=!1,a.use=null,a.useDecoder=null,a.key=null,a.default=null,a.explicit=null,a.implicit=null,a.contains=null,a.parent||(a.children=[],this._wrap())}const b=d("../base/reporter").Reporter,m=d("../base/buffer").EncoderBuffer,_=d("../base/buffer").DecoderBuffer,n=d("minimalistic-assert"),g=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(g);N.exports=f;const u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const t=this._baseState,r={};u.forEach(function(c){r[c]=t[c]});const a=new this.constructor(r.parent);return a._baseState=r,a},f.prototype._wrap=function(){const t=this._baseState;h.forEach(function(r){this[r]=function(){const c=new this.constructor(this);return t.children.push(c),c[r].apply(c,arguments)}},this)},f.prototype._init=function(t){const r=this._baseState;n(null===r.parent),t.call(this),r.children=r.children.filter(function(a){return a._baseState.parent===this},this),n.equal(r.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(t){const r=this._baseState,a=t.filter(function(c){return c instanceof this.constructor},this);t=t.filter(function(c){return!(c instanceof this.constructor)},this),0!==a.length&&(n(null===r.children),r.children=a,a.forEach(function(c){c._baseState.parent=this},this)),0!==t.length&&(n(null===r.args),r.args=t,r.reverseArgs=t.map(function(c){if("object"!=typeof c||c.constructor!==Object)return c;const l={};return Object.keys(c).forEach(function(w){w==(0|w)&&(w|=0),l[c[w]]=w}),l}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(o){f.prototype[o]=function(){throw new Error(o+" not implemented for encoding: "+this._baseState.enc)}}),g.forEach(function(o){f.prototype[o]=function(){const r=this._baseState,a=Array.prototype.slice.call(arguments);return n(null===r.tag),r.tag=o,this._useArgs(a),this}}),f.prototype.use=function(t){n(t);const r=this._baseState;return n(null===r.use),r.use=t,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(t){const r=this._baseState;return n(null===r.default),r.default=t,r.optional=!0,this},f.prototype.explicit=function(t){const r=this._baseState;return n(null===r.explicit&&null===r.implicit),r.explicit=t,this},f.prototype.implicit=function(t){const r=this._baseState;return n(null===r.explicit&&null===r.implicit),r.implicit=t,this},f.prototype.obj=function(){const t=this._baseState,r=Array.prototype.slice.call(arguments);return t.obj=!0,0!==r.length&&this._useArgs(r),this},f.prototype.key=function(t){const r=this._baseState;return n(null===r.key),r.key=t,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(t){const r=this._baseState;return n(null===r.choice),r.choice=t,this._useArgs(Object.keys(t).map(function(a){return t[a]})),this},f.prototype.contains=function(t){const r=this._baseState;return n(null===r.use),r.contains=t,this},f.prototype._decode=function(t,r){const a=this._baseState;if(null===a.parent)return t.wrapResult(a.children[0]._decode(t,r));let E,c=a.default,l=!0,w=null;if(null!==a.key&&(w=t.enterKey(a.key)),a.optional){let C=null;if(null===a.explicit?null===a.implicit?null!==a.tag&&(C=a.tag):C=a.implicit:C=a.explicit,null!==C||a.any){if(l=this._peekTag(t,C,a.any),t.isError(l))return l}else{const z=t.save();try{null===a.choice?this._decodeGeneric(a.tag,t,r):this._decodeChoice(t,r),l=!0}catch{l=!1}t.restore(z)}}if(a.obj&&l&&(E=t.enterObject()),l){if(null!==a.explicit){const z=this._decodeTag(t,a.explicit);if(t.isError(z))return z;t=z}const C=t.offset;if(null===a.use&&null===a.choice){let z;a.any&&(z=t.save());const k=this._decodeTag(t,null===a.implicit?a.tag:a.implicit,a.any);if(t.isError(k))return k;a.any?c=t.raw(z):t=k}if(r&&r.track&&null!==a.tag&&r.track(t.path(),C,t.length,"tagged"),r&&r.track&&null!==a.tag&&r.track(t.path(),t.offset,t.length,"content"),a.any||(c=null===a.choice?this._decodeGeneric(a.tag,t,r):this._decodeChoice(t,r)),t.isError(c))return c;if(a.any||null!==a.choice||null===a.children||a.children.forEach(function(k){k._decode(t,r)}),a.contains&&("octstr"===a.tag||"bitstr"===a.tag)){const z=new _(c);c=this._getUse(a.contains,t._reporterState.obj)._decode(z,r)}}return a.obj&&l&&(c=t.leaveObject(E)),null===a.key||null===c&&!0!==l?null!==w&&t.exitKey(w):t.leaveKey(w,a.key,c),c},f.prototype._decodeGeneric=function(t,r,a){const c=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(r,t,c.args[0],a):/str$/.test(t)?this._decodeStr(r,t,a):"objid"===t&&c.args?this._decodeObjid(r,c.args[0],c.args[1],a):"objid"===t?this._decodeObjid(r,null,null,a):"gentime"===t||"utctime"===t?this._decodeTime(r,t,a):"null_"===t?this._decodeNull(r,a):"bool"===t?this._decodeBool(r,a):"objDesc"===t?this._decodeStr(r,t,a):"int"===t||"enum"===t?this._decodeInt(r,c.args&&c.args[0],a):null===c.use?r.error("unknown tag: "+t):this._getUse(c.use,r._reporterState.obj)._decode(r,a)},f.prototype._getUse=function(t,r){const a=this._baseState;return a.useDecoder=this._use(t,r),n(null===a.useDecoder._baseState.parent),a.useDecoder=a.useDecoder._baseState.children[0],a.implicit!==a.useDecoder._baseState.implicit&&(a.useDecoder=a.useDecoder.clone(),a.useDecoder._baseState.implicit=a.implicit),a.useDecoder},f.prototype._decodeChoice=function(t,r){const a=this._baseState;let c=null,l=!1;return Object.keys(a.choice).some(function(w){const E=t.save(),C=a.choice[w];try{const z=C._decode(t,r);if(t.isError(z))return!1;c={type:w,value:z},l=!0}catch{return t.restore(E),!1}return!0},this),l?c:t.error("Choice not matched")},f.prototype._createEncoderBuffer=function(t){return new m(t,this.reporter)},f.prototype._encode=function(t,r,a){const c=this._baseState;if(null===c.default||c.default!==t){const l=this._encodeValue(t,r,a);return void 0===l||this._skipDefault(l,r,a)?void 0:l}},f.prototype._encodeValue=function(t,r,a){const c=this._baseState;if(null===c.parent)return c.children[0]._encode(t,r||new b);let l=null;if(this.reporter=r,c.optional&&void 0===t){if(null===c.default)return;t=c.default}let w=null,E=!1;if(c.any)l=this._createEncoderBuffer(t);else if(c.choice)l=this._encodeChoice(t,r);else if(c.contains)w=this._getUse(c.contains,a)._encode(t,r),E=!0;else if(c.children)w=c.children.map(function(C){if("null_"===C._baseState.tag)return C._encode(null,r,t);if(null===C._baseState.key)return r.error("Child should have a key");const z=r.enterKey(C._baseState.key);if("object"!=typeof t)return r.error("Child expected, but input is not object");const k=C._encode(t[C._baseState.key],r,t);return r.leaveKey(z),k},this).filter(function(C){return C}),w=this._createEncoderBuffer(w);else if("seqof"===c.tag||"setof"===c.tag){if(!c.args||1!==c.args.length)return r.error("Too many args for : "+c.tag);if(!Array.isArray(t))return r.error("seqof/setof, but data is not Array");const C=this.clone();C._baseState.implicit=null,w=this._createEncoderBuffer(t.map(function(z){return this._getUse(this._baseState.args[0],t)._encode(z,r)},C))}else null===c.use?(w=this._encodePrimitive(c.tag,t),E=!0):l=this._getUse(c.use,a)._encode(t,r);if(!c.any&&null===c.choice){const C=null===c.implicit?c.tag:c.implicit,z=null===c.implicit?"universal":"context";null===C?null===c.use&&r.error("Tag could be omitted only for .use()"):null===c.use&&(l=this._encodeComposite(C,E,z,w))}return null!==c.explicit&&(l=this._encodeComposite(c.explicit,!1,"context",l)),l},f.prototype._encodeChoice=function(t,r){const a=this._baseState,c=a.choice[t.type];return c||n(!1,t.type+" not found in "+JSON.stringify(Object.keys(a.choice))),c._encode(t.value,r)},f.prototype._encodePrimitive=function(t,r){const a=this._baseState;if(/str$/.test(t))return this._encodeStr(r,t);if("objid"===t&&a.args)return this._encodeObjid(r,a.reverseArgs[0],a.args[1]);if("objid"===t)return this._encodeObjid(r,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(r,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(r,a.args&&a.reverseArgs[0]);if("bool"===t)return this._encodeBool(r);if("objDesc"===t)return this._encodeStr(r,t);throw new Error("Unsupported tag: "+t)},f.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},f.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},{"../base/buffer":10,"../base/reporter":13,"minimalistic-assert":168}],13:[function(d,N,A){"use strict";function f(_){this._reporterState={obj:null,path:[],options:_||{},errors:[]}}function b(_,n){this.path=_,this.rethrow(n)}const m=d("inherits");A.Reporter=f,f.prototype.isError=function(n){return n instanceof b},f.prototype.save=function(){const n=this._reporterState;return{obj:n.obj,pathLen:n.path.length}},f.prototype.restore=function(n){const g=this._reporterState;g.obj=n.obj,g.path=g.path.slice(0,n.pathLen)},f.prototype.enterKey=function(n){return this._reporterState.path.push(n)},f.prototype.exitKey=function(n){const g=this._reporterState;g.path=g.path.slice(0,n-1)},f.prototype.leaveKey=function(n,g,h){const s=this._reporterState;this.exitKey(n),null!==s.obj&&(s.obj[g]=h)},f.prototype.path=function(){return this._reporterState.path.join("/")},f.prototype.enterObject=function(){const n=this._reporterState,g=n.obj;return n.obj={},g},f.prototype.leaveObject=function(n){const g=this._reporterState,h=g.obj;return g.obj=n,h},f.prototype.error=function(n){let g;const h=this._reporterState,s=n instanceof b;if(g=s?n:new b(h.path.map(function(u){return"["+JSON.stringify(u)+"]"}).join(""),n.message||n,n.stack),!h.options.partial)throw g;return s||h.errors.push(g),g},f.prototype.wrapResult=function(n){const g=this._reporterState;return g.options.partial?{result:this.isError(n)?null:n,errors:g.errors}:n},m(b,Error),b.prototype.rethrow=function(n){if(this.message=n+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,b),!this.stack)try{throw new Error(this.message)}catch(g){this.stack=g.stack}return this}},{inherits:147}],14:[function(d,N,A){"use strict";function f(b){const m={};return Object.keys(b).forEach(function(_){(0|_)==_&&(_|=0),m[b[_]]=_}),m}A.tagClass={0:"universal",1:"application",2:"context",3:"private"},A.tagClassByName=f(A.tagClass),A.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},A.tagByName=f(A.tag)},{}],15:[function(d,N,A){"use strict";const f=A;f._reverse=function(m){const _={};return Object.keys(m).forEach(function(n){(0|n)==n&&(n|=0),_[m[n]]=n}),_},f.der=d("./der")},{"./der":14}],16:[function(d,N,A){"use strict";function f(o){this.enc="der",this.name=o.name,this.entity=o,this.tree=new b,this.tree._init(o.body)}function b(o){s.call(this,"der",o)}function m(o,t){let r=o.readUInt8(t);if(o.isError(r))return r;const a=u.tagClass[r>>6],c=0==(32&r);if(31==(31&r)){let w=r;for(r=0;128==(128&w);){if(w=o.readUInt8(t),o.isError(w))return w;r<<=7,r|=127&w}}else r&=31;return{cls:a,primitive:c,tag:r,tagStr:u.tag[r]}}function _(o,t,r){let a=o.readUInt8(r);if(o.isError(a))return a;if(!t&&128===a)return null;if(!(128&a))return a;const c=127&a;if(4<c)return o.error("length octect is too long");a=0;for(let l=0;l<c;l++){a<<=8;const w=o.readUInt8(r);if(o.isError(w))return w;a|=w}return a}const n=d("inherits"),g=d("bn.js"),h=d("../base/buffer").DecoderBuffer,s=d("../base/node"),u=d("../constants/der");N.exports=f,f.prototype.decode=function(t,r){return h.isDecoderBuffer(t)||(t=new h(t,r)),this.tree._decode(t,r)},n(b,s),b.prototype._peekTag=function(t,r,a){if(t.isEmpty())return!1;const c=t.save(),l=m(t,'Failed to peek tag: "'+r+'"');return t.isError(l)?l:(t.restore(c),l.tag===r||l.tagStr===r||l.tagStr+"of"===r||a)},b.prototype._decodeTag=function(t,r,a){const c=m(t,'Failed to decode tag of "'+r+'"');if(t.isError(c))return c;let l=_(t,c.primitive,'Failed to get length of "'+r+'"');if(t.isError(l))return l;if(!a&&c.tag!==r&&c.tagStr!==r&&c.tagStr+"of"!==r)return t.error('Failed to match tag: "'+r+'"');if(c.primitive||null!==l)return t.skip(l,'Failed to match body of: "'+r+'"');const w=t.save(),E=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(E)?E:(l=t.offset-w.offset,t.restore(w),t.skip(l,'Failed to match body of: "'+r+'"'))},b.prototype._skipUntilEnd=function(t,r){for(;;){const a=m(t,r);if(t.isError(a))return a;const c=_(t,a.primitive,r);if(t.isError(c))return c;let l;if(l=a.primitive||null!==c?t.skip(c):this._skipUntilEnd(t,r),t.isError(l))return l;if("end"===a.tagStr)break}},b.prototype._decodeList=function(t,r,a,c){const l=[];for(;!t.isEmpty();){const w=this._peekTag(t,"end");if(t.isError(w))return w;const E=a.decode(t,"der",c);if(t.isError(E)&&w)break;l.push(E)}return l},b.prototype._decodeStr=function(t,r){if("bitstr"===r){const a=t.readUInt8();return t.isError(a)?a:{unused:a,data:t.raw()}}if("bmpstr"===r){const a=t.raw();if(a.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let c="";for(let l=0;l<a.length/2;l++)c+=te(a.readUInt16BE(2*l));return c}if("numstr"===r){const a=t.raw().toString("ascii");return this._isNumstr(a)?a:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===r||"objDesc"===r)return t.raw();if("printstr"===r){const a=t.raw().toString("ascii");return this._isPrintstr(a)?a:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(r)?t.raw().toString():t.error("Decoding of string type: "+r+" unsupported")},b.prototype._decodeObjid=function(t,r,a){let c;const l=[];let w=0,E=0;for(;!t.isEmpty();)E=t.readUInt8(),w<<=7,w|=127&E,!(128&E)&&(l.push(w),w=0);if(128&E&&l.push(w),c=a?l:[0|l[0]/40,l[0]%40].concat(l.slice(1)),r){let k=r[c.join(" ")];void 0===k&&(k=r[c.join(".")]),void 0!==k&&(c=k)}return c},b.prototype._decodeTime=function(t,r){const a=t.raw().toString();let c,l,w,E,C,z;if("gentime"===r)c=0|a.slice(0,4),l=0|a.slice(4,6),w=0|a.slice(6,8),E=0|a.slice(8,10),C=0|a.slice(10,12),z=0|a.slice(12,14);else{if("utctime"!==r)return t.error("Decoding "+r+" time is not supported yet");c=0|a.slice(0,2),l=0|a.slice(2,4),w=0|a.slice(4,6),E=0|a.slice(6,8),C=0|a.slice(8,10),z=0|a.slice(10,12),c=70>c?2e3+c:1900+c}return Date.UTC(c,l-1,w,E,C,z,0)},b.prototype._decodeNull=function(){return null},b.prototype._decodeBool=function(t){const r=t.readUInt8();return t.isError(r)?r:0!==r},b.prototype._decodeInt=function(t,r){const a=t.raw();let c=new g(a);return r&&(c=r[c.toString(10)]||c),c},b.prototype._use=function(t,r){return"function"==typeof t&&(t=t(r)),t._getDecoder("der").tree}},{"../base/buffer":10,"../base/node":12,"../constants/der":14,"bn.js":22,inherits:147}],17:[function(d,N,A){"use strict";const f=A;f.der=d("./der"),f.pem=d("./pem")},{"./der":16,"./pem":18}],18:[function(d,N,A){"use strict";function f(n){_.call(this,n),this.enc="pem"}const b=d("inherits"),m=d("safer-buffer").Buffer,_=d("./der");b(f,_),N.exports=f,f.prototype.decode=function(g,h){const s=g.toString().split(/[\r\n]+/g),u=h.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/;let t=-1,r=-1;for(let l=0;l<s.length;l++){const w=s[l].match(o);if(null!==w&&w[2]===u){if(-1!==t){if("END"!==w[1])break;r=l;break}if("BEGIN"!==w[1])break;t=l}}if(-1===t||-1===r)throw new Error("PEM section not found for: "+u);const a=s.slice(t+1,r).join("");a.replace(/[^a-z0-9+/=]+/gi,"");const c=m.from(a,"base64");return _.prototype.decode.call(this,c,h)}},{"./der":16,inherits:147,"safer-buffer":236}],19:[function(d,N,A){"use strict";function f(u){this.enc="der",this.name=u.name,this.entity=u,this.tree=new b,this.tree._init(u.body)}function b(u){h.call(this,"der",u)}function m(u){return 10>u?"0"+u:u}const n=d("inherits"),g=d("safer-buffer").Buffer,h=d("../base/node"),s=d("../constants/der");N.exports=f,f.prototype.encode=function(o,t){return this.tree._encode(o,t).join()},n(b,h),b.prototype._encodeComposite=function(o,t,r,a){const c=function _(u,o,t,r){let a;if("seqof"===u?u="seq":"setof"==u&&(u="set"),s.tagByName.hasOwnProperty(u))a=s.tagByName[u];else{if("number"!=typeof u||(0|u)!==u)return r.error("Unknown tag: "+u);a=u}return 31<=a?r.error("Multi-octet tag encoding unsupported"):(o||(a|=32),a|=s.tagClassByName[t||"universal"]<<6,a)}(o,t,r,this.reporter);if(128>a.length){const E=g.alloc(2);return E[0]=c,E[1]=a.length,this._createEncoderBuffer([E,a])}let l=1;for(let E=a.length;256<=E;E>>=8)l++;const w=g.alloc(2+l);w[0]=c,w[1]=128|l;for(let E=1+l,C=a.length;0<C;E--,C>>=8)w[E]=255&C;return this._createEncoderBuffer([w,a])},b.prototype._encodeStr=function(o,t){if("bitstr"===t)return this._createEncoderBuffer([0|o.unused,o.data]);if("bmpstr"===t){const r=g.alloc(2*o.length);for(let a=0;a<o.length;a++)r.writeUInt16BE(o.charCodeAt(a),2*a);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(o)?this._createEncoderBuffer(o):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(o)?this._createEncoderBuffer(o):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(o):this.reporter.error("Encoding of string type: "+t+" unsupported")},b.prototype._encodeObjid=function(o,t,r){if("string"==typeof o){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(o))return this.reporter.error("objid not found in values map");o=t[o].split(/[\s.]+/g);for(let w=0;w<o.length;w++)o[w]|=0}else if(Array.isArray(o)){o=o.slice();for(let w=0;w<o.length;w++)o[w]|=0}if(!Array.isArray(o))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(o));if(!r){if(40<=o[1])return this.reporter.error("Second objid identifier OOB");o.splice(0,2,40*o[0]+o[1])}let a=0;for(let E,w=0;w<o.length;w++)for(E=o[w],a++;128<=E;E>>=7)a++;const c=g.alloc(a);let l=c.length-1;for(let E,w=o.length-1;0<=w;w--)for(E=o[w],c[l--]=127&E;0<(E>>=7);)c[l--]=128|127&E;return this._createEncoderBuffer(c)},b.prototype._encodeTime=function(o,t){let r;const a=new Date(o);return"gentime"===t?r=[m(a.getUTCFullYear()),m(a.getUTCMonth()+1),m(a.getUTCDate()),m(a.getUTCHours()),m(a.getUTCMinutes()),m(a.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[m(a.getUTCFullYear()%100),m(a.getUTCMonth()+1),m(a.getUTCDate()),m(a.getUTCHours()),m(a.getUTCMinutes()),m(a.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},b.prototype._encodeNull=function(){return this._createEncoderBuffer("")},b.prototype._encodeInt=function(o,t){if("string"==typeof o){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(o))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(o));o=t[o]}if("number"!=typeof o&&!g.isBuffer(o)){const c=o.toArray();!o.sign&&128&c[0]&&c.unshift(0),o=g.from(c)}if(g.isBuffer(o)){let c=o.length;0===o.length&&c++;const l=g.alloc(c);return o.copy(l),0===o.length&&(l[0]=0),this._createEncoderBuffer(l)}if(128>o)return this._createEncoderBuffer(o);if(256>o)return this._createEncoderBuffer([0,o]);let r=1;for(let c=o;256<=c;c>>=8)r++;const a=Array(r);for(let c=a.length-1;0<=c;c--)a[c]=255&o,o>>=8;return 128&a[0]&&a.unshift(0),this._createEncoderBuffer(g.from(a))},b.prototype._encodeBool=function(o){return this._createEncoderBuffer(o?255:0)},b.prototype._use=function(o,t){return"function"==typeof o&&(o=o(t)),o._getEncoder("der").tree},b.prototype._skipDefault=function(o,t,r){const a=this._baseState;let c;if(null===a.default)return!1;const l=o.join();if(void 0===a.defaultBuffer&&(a.defaultBuffer=this._encodeValue(a.default,t,r).join()),l.length!==a.defaultBuffer.length)return!1;for(c=0;c<l.length;c++)if(l[c]!==a.defaultBuffer[c])return!1;return!0}},{"../base/node":12,"../constants/der":14,inherits:147,"safer-buffer":236}],20:[function(d,N,A){"use strict";const f=A;f.der=d("./der"),f.pem=d("./pem")},{"./der":19,"./pem":21}],21:[function(d,N,A){"use strict";function f(_){m.call(this,_),this.enc="pem"}const b=d("inherits"),m=d("./der");b(f,m),N.exports=f,f.prototype.encode=function(n,g){const s=m.prototype.encode.call(this,n).toString("base64"),u=["-----BEGIN "+g.label+"-----"];for(let o=0;o<s.length;o+=64)u.push(s.slice(o,o+64));return u.push("-----END "+g.label+"-----"),u.join("\n")}},{"./der":19,inherits:147}],22:[function(d,N,A){!function(f,b){"use strict";function m(X,T){if(!X)throw new Error(T||"Assertion failed")}function _(X,T){X.super_=T;var D=function(){};D.prototype=T.prototype,X.prototype=new D,X.prototype.constructor=X}function n(X,T,D){return n.isBN(X)?X:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==X&&(("le"===T||"be"===T)&&(D=T,T=10),this._init(X||0,T||10,D||"be"))))}function g(X,T){var D=X.charCodeAt(T);return 65<=D&&70>=D?D-55:97<=D&&102>=D?D-87:15&D-48}function h(X,T,D){var M=g(X,D);return D-1>=T&&(M|=g(X,D-1)<<4),M}function s(X,T,D,M){for(var q,v=0,B=ne(X.length,D),F=T;F<B;F++)v*=M,v+=49<=(q=X.charCodeAt(F)-48)?q-49+10:17<=q?q-17+10:q;return v}function o(X,T,D){D.negative=T.negative^X.negative;var M=0|X.length+T.length;D.length=M,M=0|M-1;var v=0|X.words[0],B=0|T.words[0],F=v*B,L=0|F/67108864;D.words[0]=67108863&F;for(var Y=1;Y<M;Y++){for(var se=L>>>26,Ee=67108863&L,Se=ne(Y,T.length-1),Ie=pe(0,Y-X.length+1);Ie<=Se;Ie++)se+=0|(F=(v=0|X.words[0|Y-Ie])*(B=0|T.words[Ie])+Ee)/67108864,Ee=67108863&F;D.words[Y]=0|Ee,L=0|se}return 0===L?D.length--:D.words[Y]=0|L,D.strip()}function r(X,T,D){return(new a).mulp(X,T,D)}function a(X,T){this.x=X,this.y=T}function c(X,T){this.name=X,this.p=new n(T,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function l(){c.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){c.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){c.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){c.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(X){if("string"==typeof X){var T=n._prime(X);this.m=T.p,this.prime=T}else m(X.gtn(1),"modulus must be greater than 1"),this.m=X,this.prime=null}function k(X){z.call(this,X),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}var I;"object"==typeof f?f.exports=n:b.BN=n,n.BN=n,n.wordSize=26;try{I=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:d("buffer").Buffer}catch{}n.isBN=function(T){return T instanceof n||null!==T&&"object"==typeof T&&T.constructor.wordSize===n.wordSize&&Array.isArray(T.words)},n.max=function(T,D){return 0<T.cmp(D)?T:D},n.min=function(T,D){return 0>T.cmp(D)?T:D},n.prototype._init=function(T,D,M){if("number"==typeof T)return this._initNumber(T,D,M);if("object"==typeof T)return this._initArray(T,D,M);"hex"===D&&(D=16),m(D===(0|D)&&2<=D&&36>=D);var v=0;"-"===(T=T.toString().replace(/\s+/g,""))[0]&&(v++,this.negative=1),v<T.length&&(16===D?this._parseHex(T,v,M):(this._parseBase(T,D,v),"le"===M&&this._initArray(this.toArray(),D,M)))},n.prototype._initNumber=function(T,D,M){0>T&&(this.negative=1,T=-T),67108864>T?(this.words=[67108863&T],this.length=1):4503599627370496>T?(this.words=[67108863&T,67108863&T/67108864],this.length=2):(m(9007199254740992>T),this.words=[67108863&T,67108863&T/67108864,1],this.length=3),"le"!==M||this._initArray(this.toArray(),D,M)},n.prototype._initArray=function(T,D,M){if(m("number"==typeof T.length),0>=T.length)return this.words=[0],this.length=1,this;this.length=_e(T.length/3),this.words=Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var F,q,B=0;if("be"===M)for(v=T.length-1,F=0;0<=v;v-=3)this.words[F]|=67108863&(q=T[v]|T[v-1]<<8|T[v-2]<<16)<<B,this.words[F+1]=67108863&q>>>26-B,26<=(B+=24)&&(B-=26,F++);else if("le"===M)for(v=0,F=0;v<T.length;v+=3)this.words[F]|=67108863&(q=T[v]|T[v+1]<<8|T[v+2]<<16)<<B,this.words[F+1]=67108863&q>>>26-B,26<=(B+=24)&&(B-=26,F++);return this.strip()},n.prototype._parseHex=function(T,D,M){this.length=_e((T.length-D)/6),this.words=Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var q,B=0,F=0;if("be"===M)for(v=T.length-1;v>=D;v-=2)q=h(T,D,v)<<B,this.words[F]|=67108863&q,18<=B?(B-=18,this.words[F+=1]|=q>>>26):B+=8;else for(v=(T.length-D)%2==0?D+1:D;v<T.length;v+=2)q=h(T,D,v)<<B,this.words[F]|=67108863&q,18<=B?(B-=18,this.words[F+=1]|=q>>>26):B+=8;this.strip()},n.prototype._parseBase=function(T,D,M){this.words=[0],this.length=1;for(var v=0,B=1;67108863>=B;B*=D)v++;v--,B=0|B/D;for(var F=T.length-M,q=F%v,L=ne(F,F-q)+M,Y=0,se=M;se<L;se+=v)Y=s(T,se,se+v,D),this.imuln(B),67108864>this.words[0]+Y?this.words[0]+=Y:this._iaddn(Y);if(0!==q){var Ee=1;for(Y=s(T,se,T.length,D),se=0;se<q;se++)Ee*=D;this.imuln(Ee),67108864>this.words[0]+Y?this.words[0]+=Y:this._iaddn(Y)}this.strip()},n.prototype.copy=function(T){T.words=Array(this.length);for(var D=0;D<this.length;D++)T.words[D]=this.words[D];T.length=this.length,T.negative=this.negative,T.red=this.red},n.prototype.clone=function(){var T=new n(null);return this.copy(T),T},n.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var V=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],$=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],oe=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(T,D){var M;if(D=0|D||1,16===(T=T||10)||"hex"===T){M="";for(var v=0,B=0,F=0;F<this.length;F++){var q=this.words[F],L=(16777215&(q<<v|B)).toString(16);M=0!=(B=16777215&q>>>24-v)||F!==this.length-1?V[6-L.length]+L+M:L+M,26<=(v+=2)&&(v-=26,F--)}for(0!==B&&(M=B.toString(16)+M);M.length%D!=0;)M="0"+M;return 0!==this.negative&&(M="-"+M),M}if(T===(0|T)&&2<=T&&36>=T){var Y=$[T],se=oe[T];M="";var Ee=this.clone();for(Ee.negative=0;!Ee.isZero();){var Se=Ee.modn(se).toString(T);M=(Ee=Ee.idivn(se)).isZero()?Se+M:V[Y-Se.length]+Se+M}for(this.isZero()&&(M="0"+M);M.length%D!=0;)M="0"+M;return 0!==this.negative&&(M="-"+M),M}m(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var T=this.words[0];return 2===this.length?T+=67108864*this.words[1]:3===this.length&&1===this.words[2]?T+=4503599627370496+67108864*this.words[1]:2<this.length&&m(!1,"Number can only safely store up to 53 bits"),0===this.negative?T:-T},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(T,D){return m(typeof I<"u"),this.toArrayLike(I,T,D)},n.prototype.toArray=function(T,D){return this.toArrayLike(Array,T,D)},n.prototype.toArrayLike=function(T,D,M){var v=this.byteLength(),B=M||pe(1,v);m(v<=B,"byte array longer than desired length"),m(0<B,"Requested array length <= 0"),this.strip();var Y,se,F="le"===D,q=new T(B),L=this.clone();if(F){for(se=0;!L.isZero();se++)Y=L.andln(255),L.iushrn(8),q[se]=Y;for(;se<B;se++)q[se]=0}else{for(se=0;se<B-v;se++)q[se]=0;for(se=0;!L.isZero();se++)Y=L.andln(255),L.iushrn(8),q[B-se-1]=Y}return q},n.prototype._countBits=he?function(T){return 32-he(T)}:function(T){var D=T,M=0;return 4096<=D&&(M+=13,D>>>=13),64<=D&&(M+=7,D>>>=7),8<=D&&(M+=4,D>>>=4),2<=D&&(M+=2,D>>>=2),M+D},n.prototype._zeroBits=function(T){if(0===T)return 26;var D=T,M=0;return!(8191&D)&&(M+=13,D>>>=13),!(127&D)&&(M+=7,D>>>=7),!(15&D)&&(M+=4,D>>>=4),!(3&D)&&(M+=2,D>>>=2),!(1&D)&&M++,M},n.prototype.bitLength=function(){var D=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+D},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var M,T=0,D=0;D<this.length&&(T+=M=this._zeroBits(this.words[D]),26===M);D++);return T},n.prototype.byteLength=function(){return _e(this.bitLength()/8)},n.prototype.toTwos=function(T){return 0===this.negative?this.clone():this.abs().inotn(T).iaddn(1)},n.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var D=0;D<T.length;D++)this.words[D]|=T.words[D];return this.strip()},n.prototype.ior=function(T){return m(0==(this.negative|T.negative)),this.iuor(T)},n.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},n.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},n.prototype.iuand=function(T){var D;D=this.length>T.length?T:this;for(var M=0;M<D.length;M++)this.words[M]&=T.words[M];return this.length=D.length,this.strip()},n.prototype.iand=function(T){return m(0==(this.negative|T.negative)),this.iuand(T)},n.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},n.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},n.prototype.iuxor=function(T){var D,M;this.length>T.length?(D=this,M=T):(D=T,M=this);for(var v=0;v<M.length;v++)this.words[v]=D.words[v]^M.words[v];if(this!==D)for(;v<D.length;v++)this.words[v]=D.words[v];return this.length=D.length,this.strip()},n.prototype.ixor=function(T){return m(0==(this.negative|T.negative)),this.iuxor(T)},n.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},n.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},n.prototype.inotn=function(T){m("number"==typeof T&&0<=T);var D=0|_e(T/26),M=T%26;this._expand(D),0<M&&D--;for(var v=0;v<D;v++)this.words[v]=67108863&~this.words[v];return 0<M&&(this.words[v]=~this.words[v]&67108863>>26-M),this.strip()},n.prototype.notn=function(T){return this.clone().inotn(T)},n.prototype.setn=function(T,D){m("number"==typeof T&&0<=T);var M=0|T/26,v=T%26;return this._expand(M+1),D?this.words[M]|=1<<v:this.words[M]&=~(1<<v),this.strip()},n.prototype.iadd=function(T){var D,M,v;if(0!==this.negative&&0===T.negative)return this.negative=0,D=this.isub(T),this.negative^=1,this._normSign();if(0===this.negative&&0!==T.negative)return T.negative=0,D=this.isub(T),T.negative=1,D._normSign();this.length>T.length?(M=this,v=T):(M=T,v=this);for(var B=0,F=0;F<v.length;F++)this.words[F]=67108863&(D=(0|M.words[F])+(0|v.words[F])+B),B=D>>>26;for(;0!==B&&F<M.length;F++)this.words[F]=67108863&(D=(0|M.words[F])+B),B=D>>>26;if(this.length=M.length,0!==B)this.words[this.length]=B,this.length++;else if(M!==this)for(;F<M.length;F++)this.words[F]=M.words[F];return this},n.prototype.add=function(T){var D;return 0!==T.negative&&0===this.negative?(T.negative=0,D=this.sub(T),T.negative^=1,D):0===T.negative&&0!==this.negative?(this.negative=0,D=T.sub(this),this.negative=1,D):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},n.prototype.isub=function(T){if(0!==T.negative){T.negative=0;var D=this.iadd(T);return T.negative=1,D._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var v,B,M=this.cmp(T);if(0===M)return this.negative=0,this.length=1,this.words[0]=0,this;0<M?(v=this,B=T):(v=T,B=this);for(var F=0,q=0;q<B.length;q++)F=(D=(0|v.words[q])-(0|B.words[q])+F)>>26,this.words[q]=67108863&D;for(;0!==F&&q<v.length;q++)F=(D=(0|v.words[q])+F)>>26,this.words[q]=67108863&D;if(0===F&&q<v.length&&v!==this)for(;q<v.length;q++)this.words[q]=v.words[q];return this.length=pe(this.length,q),v!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(T){return this.clone().isub(T)};var ue=function(T,D,M){var ct,me,ot,v=T.words,B=D.words,F=M.words,q=0,L=0|v[0],Y=8191&L,se=L>>>13,Ee=0|v[1],Se=8191&Ee,Ie=Ee>>>13,Qe=0|v[2],Je=8191&Qe,ut=Qe>>>13,$t=0|v[3],qt=8191&$t,tt=$t>>>13,at=0|v[4],nt=8191&at,Yt=at>>>13,Tn=0|v[5],J=8191&Tn,O=Tn>>>13,W=0|v[6],ee=8191&W,ve=W>>>13,He=0|v[7],ht=8191&He,st=He>>>13,Jt=0|v[8],on=8191&Jt,Ht=Jt>>>13,wn=0|v[9],sn=8191&wn,Sn=wn>>>13,fr=0|B[0],Dn=8191&fr,Rt=fr>>>13,vr=0|B[1],de=8191&vr,Le=vr>>>13,et=0|B[2],qe=8191&et,Ze=et>>>13,Ct=0|B[3],Nt=8191&Ct,Bt=Ct>>>13,ln=0|B[4],Ot=8191&ln,mn=ln>>>13,kn=0|B[5],vn=8191&kn,In=kn>>>13,pr=0|B[6],Nn=8191&pr,zn=pr>>>13,Br=0|B[7],Rn=8191&Br,Qn=Br>>>13,Wr=0|B[8],Kn=8191&Wr,Zn=Wr>>>13,Kr=0|B[9],Gn=8191&Kr,er=Kr>>>13;M.negative=T.negative^D.negative,M.length=19;var ft=0|(0|q+(ct=y(Y,Dn)))+((8191&(me=0|(me=y(Y,Rt))+y(se,Dn)))<<13);q=0|(0|(ot=y(se,Rt))+(me>>>13))+(ft>>>26),ft&=67108863,ct=y(Se,Dn),me=0|(me=y(Se,Rt))+y(Ie,Dn),ot=y(Ie,Rt);var be=0|(0|q+(ct=0|ct+y(Y,de)))+((8191&(me=0|(me=0|me+y(Y,Le))+y(se,de)))<<13);q=0|(0|(ot=0|ot+y(se,Le))+(me>>>13))+(be>>>26),be&=67108863,ct=y(Je,Dn),me=0|(me=y(Je,Rt))+y(ut,Dn),ot=y(ut,Rt),ct=0|ct+y(Se,de),me=0|(me=0|me+y(Se,Le))+y(Ie,de),ot=0|ot+y(Ie,Le);var dt=0|(0|q+(ct=0|ct+y(Y,qe)))+((8191&(me=0|(me=0|me+y(Y,Ze))+y(se,qe)))<<13);q=0|(0|(ot=0|ot+y(se,Ze))+(me>>>13))+(dt>>>26),dt&=67108863,ct=y(qt,Dn),me=0|(me=y(qt,Rt))+y(tt,Dn),ot=y(tt,Rt),ct=0|ct+y(Je,de),me=0|(me=0|me+y(Je,Le))+y(ut,de),ot=0|ot+y(ut,Le),ct=0|ct+y(Se,qe),me=0|(me=0|me+y(Se,Ze))+y(Ie,qe),ot=0|ot+y(Ie,Ze);var Zr=0|(0|q+(ct=0|ct+y(Y,Nt)))+((8191&(me=0|(me=0|me+y(Y,Bt))+y(se,Nt)))<<13);q=0|(0|(ot=0|ot+y(se,Bt))+(me>>>13))+(Zr>>>26),Zr&=67108863,ct=y(nt,Dn),me=0|(me=y(nt,Rt))+y(Yt,Dn),ot=y(Yt,Rt),ct=0|ct+y(qt,de),me=0|(me=0|me+y(qt,Le))+y(tt,de),ot=0|ot+y(tt,Le),ct=0|ct+y(Je,qe),me=0|(me=0|me+y(Je,Ze))+y(ut,qe),ot=0|ot+y(ut,Ze),ct=0|ct+y(Se,Nt),me=0|(me=0|me+y(Se,Bt))+y(Ie,Nt),ot=0|ot+y(Ie,Bt);var ri=0|(0|q+(ct=0|ct+y(Y,Ot)))+((8191&(me=0|(me=0|me+y(Y,mn))+y(se,Ot)))<<13);q=0|(0|(ot=0|ot+y(se,mn))+(me>>>13))+(ri>>>26),ri&=67108863,ct=y(J,Dn),me=0|(me=y(J,Rt))+y(O,Dn),ot=y(O,Rt),ct=0|ct+y(nt,de),me=0|(me=0|me+y(nt,Le))+y(Yt,de),ot=0|ot+y(Yt,Le),ct=0|ct+y(qt,qe),me=0|(me=0|me+y(qt,Ze))+y(tt,qe),ot=0|ot+y(tt,Ze),ct=0|ct+y(Je,Nt),me=0|(me=0|me+y(Je,Bt))+y(ut,Nt),ot=0|ot+y(ut,Bt),ct=0|ct+y(Se,Ot),me=0|(me=0|me+y(Se,mn))+y(Ie,Ot),ot=0|ot+y(Ie,mn);var si=0|(0|q+(ct=0|ct+y(Y,vn)))+((8191&(me=0|(me=0|me+y(Y,In))+y(se,vn)))<<13);q=0|(0|(ot=0|ot+y(se,In))+(me>>>13))+(si>>>26),si&=67108863,ct=y(ee,Dn),me=0|(me=y(ee,Rt))+y(ve,Dn),ot=y(ve,Rt),ct=0|ct+y(J,de),me=0|(me=0|me+y(J,Le))+y(O,de),ot=0|ot+y(O,Le),ct=0|ct+y(nt,qe),me=0|(me=0|me+y(nt,Ze))+y(Yt,qe),ot=0|ot+y(Yt,Ze),ct=0|ct+y(qt,Nt),me=0|(me=0|me+y(qt,Bt))+y(tt,Nt),ot=0|ot+y(tt,Bt),ct=0|ct+y(Je,Ot),me=0|(me=0|me+y(Je,mn))+y(ut,Ot),ot=0|ot+y(ut,mn),ct=0|ct+y(Se,vn),me=0|(me=0|me+y(Se,In))+y(Ie,vn),ot=0|ot+y(Ie,In);var cr=0|(0|q+(ct=0|ct+y(Y,Nn)))+((8191&(me=0|(me=0|me+y(Y,zn))+y(se,Nn)))<<13);q=0|(0|(ot=0|ot+y(se,zn))+(me>>>13))+(cr>>>26),cr&=67108863,ct=y(ht,Dn),me=0|(me=y(ht,Rt))+y(st,Dn),ot=y(st,Rt),ct=0|ct+y(ee,de),me=0|(me=0|me+y(ee,Le))+y(ve,de),ot=0|ot+y(ve,Le),ct=0|ct+y(J,qe),me=0|(me=0|me+y(J,Ze))+y(O,qe),ot=0|ot+y(O,Ze),ct=0|ct+y(nt,Nt),me=0|(me=0|me+y(nt,Bt))+y(Yt,Nt),ot=0|ot+y(Yt,Bt),ct=0|ct+y(qt,Ot),me=0|(me=0|me+y(qt,mn))+y(tt,Ot),ot=0|ot+y(tt,mn),ct=0|ct+y(Je,vn),me=0|(me=0|me+y(Je,In))+y(ut,vn),ot=0|ot+y(ut,In),ct=0|ct+y(Se,Nn),me=0|(me=0|me+y(Se,zn))+y(Ie,Nn),ot=0|ot+y(Ie,zn);var yi=0|(0|q+(ct=0|ct+y(Y,Rn)))+((8191&(me=0|(me=0|me+y(Y,Qn))+y(se,Rn)))<<13);q=0|(0|(ot=0|ot+y(se,Qn))+(me>>>13))+(yi>>>26),yi&=67108863,ct=y(on,Dn),me=0|(me=y(on,Rt))+y(Ht,Dn),ot=y(Ht,Rt),ct=0|ct+y(ht,de),me=0|(me=0|me+y(ht,Le))+y(st,de),ot=0|ot+y(st,Le),ct=0|ct+y(ee,qe),me=0|(me=0|me+y(ee,Ze))+y(ve,qe),ot=0|ot+y(ve,Ze),ct=0|ct+y(J,Nt),me=0|(me=0|me+y(J,Bt))+y(O,Nt),ot=0|ot+y(O,Bt),ct=0|ct+y(nt,Ot),me=0|(me=0|me+y(nt,mn))+y(Yt,Ot),ot=0|ot+y(Yt,mn),ct=0|ct+y(qt,vn),me=0|(me=0|me+y(qt,In))+y(tt,vn),ot=0|ot+y(tt,In),ct=0|ct+y(Je,Nn),me=0|(me=0|me+y(Je,zn))+y(ut,Nn),ot=0|ot+y(ut,zn),ct=0|ct+y(Se,Rn),me=0|(me=0|me+y(Se,Qn))+y(Ie,Rn),ot=0|ot+y(Ie,Qn);var Jr=0|(0|q+(ct=0|ct+y(Y,Kn)))+((8191&(me=0|(me=0|me+y(Y,Zn))+y(se,Kn)))<<13);q=0|(0|(ot=0|ot+y(se,Zn))+(me>>>13))+(Jr>>>26),Jr&=67108863,ct=y(sn,Dn),me=0|(me=y(sn,Rt))+y(Sn,Dn),ot=y(Sn,Rt),ct=0|ct+y(on,de),me=0|(me=0|me+y(on,Le))+y(Ht,de),ot=0|ot+y(Ht,Le),ct=0|ct+y(ht,qe),me=0|(me=0|me+y(ht,Ze))+y(st,qe),ot=0|ot+y(st,Ze),ct=0|ct+y(ee,Nt),me=0|(me=0|me+y(ee,Bt))+y(ve,Nt),ot=0|ot+y(ve,Bt),ct=0|ct+y(J,Ot),me=0|(me=0|me+y(J,mn))+y(O,Ot),ot=0|ot+y(O,mn),ct=0|ct+y(nt,vn),me=0|(me=0|me+y(nt,In))+y(Yt,vn),ot=0|ot+y(Yt,In),ct=0|ct+y(qt,Nn),me=0|(me=0|me+y(qt,zn))+y(tt,Nn),ot=0|ot+y(tt,zn),ct=0|ct+y(Je,Rn),me=0|(me=0|me+y(Je,Qn))+y(ut,Rn),ot=0|ot+y(ut,Qn),ct=0|ct+y(Se,Kn),me=0|(me=0|me+y(Se,Zn))+y(Ie,Kn),ot=0|ot+y(Ie,Zn);var zr=0|(0|q+(ct=0|ct+y(Y,Gn)))+((8191&(me=0|(me=0|me+y(Y,er))+y(se,Gn)))<<13);q=0|(0|(ot=0|ot+y(se,er))+(me>>>13))+(zr>>>26),zr&=67108863,ct=y(sn,de),me=0|(me=y(sn,Le))+y(Sn,de),ot=y(Sn,Le),ct=0|ct+y(on,qe),me=0|(me=0|me+y(on,Ze))+y(Ht,qe),ot=0|ot+y(Ht,Ze),ct=0|ct+y(ht,Nt),me=0|(me=0|me+y(ht,Bt))+y(st,Nt),ot=0|ot+y(st,Bt),ct=0|ct+y(ee,Ot),me=0|(me=0|me+y(ee,mn))+y(ve,Ot),ot=0|ot+y(ve,mn),ct=0|ct+y(J,vn),me=0|(me=0|me+y(J,In))+y(O,vn),ot=0|ot+y(O,In),ct=0|ct+y(nt,Nn),me=0|(me=0|me+y(nt,zn))+y(Yt,Nn),ot=0|ot+y(Yt,zn),ct=0|ct+y(qt,Rn),me=0|(me=0|me+y(qt,Qn))+y(tt,Rn),ot=0|ot+y(tt,Qn),ct=0|ct+y(Je,Kn),me=0|(me=0|me+y(Je,Zn))+y(ut,Kn),ot=0|ot+y(ut,Zn);var ui=0|(0|q+(ct=0|ct+y(Se,Gn)))+((8191&(me=0|(me=0|me+y(Se,er))+y(Ie,Gn)))<<13);q=0|(0|(ot=0|ot+y(Ie,er))+(me>>>13))+(ui>>>26),ui&=67108863,ct=y(sn,qe),me=0|(me=y(sn,Ze))+y(Sn,qe),ot=y(Sn,Ze),ct=0|ct+y(on,Nt),me=0|(me=0|me+y(on,Bt))+y(Ht,Nt),ot=0|ot+y(Ht,Bt),ct=0|ct+y(ht,Ot),me=0|(me=0|me+y(ht,mn))+y(st,Ot),ot=0|ot+y(st,mn),ct=0|ct+y(ee,vn),me=0|(me=0|me+y(ee,In))+y(ve,vn),ot=0|ot+y(ve,In),ct=0|ct+y(J,Nn),me=0|(me=0|me+y(J,zn))+y(O,Nn),ot=0|ot+y(O,zn),ct=0|ct+y(nt,Rn),me=0|(me=0|me+y(nt,Qn))+y(Yt,Rn),ot=0|ot+y(Yt,Qn),ct=0|ct+y(qt,Kn),me=0|(me=0|me+y(qt,Zn))+y(tt,Kn),ot=0|ot+y(tt,Zn);var ai=0|(0|q+(ct=0|ct+y(Je,Gn)))+((8191&(me=0|(me=0|me+y(Je,er))+y(ut,Gn)))<<13);q=0|(0|(ot=0|ot+y(ut,er))+(me>>>13))+(ai>>>26),ai&=67108863,ct=y(sn,Nt),me=0|(me=y(sn,Bt))+y(Sn,Nt),ot=y(Sn,Bt),ct=0|ct+y(on,Ot),me=0|(me=0|me+y(on,mn))+y(Ht,Ot),ot=0|ot+y(Ht,mn),ct=0|ct+y(ht,vn),me=0|(me=0|me+y(ht,In))+y(st,vn),ot=0|ot+y(st,In),ct=0|ct+y(ee,Nn),me=0|(me=0|me+y(ee,zn))+y(ve,Nn),ot=0|ot+y(ve,zn),ct=0|ct+y(J,Rn),me=0|(me=0|me+y(J,Qn))+y(O,Rn),ot=0|ot+y(O,Qn),ct=0|ct+y(nt,Kn),me=0|(me=0|me+y(nt,Zn))+y(Yt,Kn),ot=0|ot+y(Yt,Zn);var li=0|(0|q+(ct=0|ct+y(qt,Gn)))+((8191&(me=0|(me=0|me+y(qt,er))+y(tt,Gn)))<<13);q=0|(0|(ot=0|ot+y(tt,er))+(me>>>13))+(li>>>26),li&=67108863,ct=y(sn,Ot),me=0|(me=y(sn,mn))+y(Sn,Ot),ot=y(Sn,mn),ct=0|ct+y(on,vn),me=0|(me=0|me+y(on,In))+y(Ht,vn),ot=0|ot+y(Ht,In),ct=0|ct+y(ht,Nn),me=0|(me=0|me+y(ht,zn))+y(st,Nn),ot=0|ot+y(st,zn),ct=0|ct+y(ee,Rn),me=0|(me=0|me+y(ee,Qn))+y(ve,Rn),ot=0|ot+y(ve,Qn),ct=0|ct+y(J,Kn),me=0|(me=0|me+y(J,Zn))+y(O,Kn),ot=0|ot+y(O,Zn);var Vr=0|(0|q+(ct=0|ct+y(nt,Gn)))+((8191&(me=0|(me=0|me+y(nt,er))+y(Yt,Gn)))<<13);q=0|(0|(ot=0|ot+y(Yt,er))+(me>>>13))+(Vr>>>26),Vr&=67108863,ct=y(sn,vn),me=0|(me=y(sn,In))+y(Sn,vn),ot=y(Sn,In),ct=0|ct+y(on,Nn),me=0|(me=0|me+y(on,zn))+y(Ht,Nn),ot=0|ot+y(Ht,zn),ct=0|ct+y(ht,Rn),me=0|(me=0|me+y(ht,Qn))+y(st,Rn),ot=0|ot+y(st,Qn),ct=0|ct+y(ee,Kn),me=0|(me=0|me+y(ee,Zn))+y(ve,Kn),ot=0|ot+y(ve,Zn);var Fr=0|(0|q+(ct=0|ct+y(J,Gn)))+((8191&(me=0|(me=0|me+y(J,er))+y(O,Gn)))<<13);q=0|(0|(ot=0|ot+y(O,er))+(me>>>13))+(Fr>>>26),Fr&=67108863,ct=y(sn,Nn),me=0|(me=y(sn,zn))+y(Sn,Nn),ot=y(Sn,zn),ct=0|ct+y(on,Rn),me=0|(me=0|me+y(on,Qn))+y(Ht,Rn),ot=0|ot+y(Ht,Qn),ct=0|ct+y(ht,Kn),me=0|(me=0|me+y(ht,Zn))+y(st,Kn),ot=0|ot+y(st,Zn);var Un=0|(0|q+(ct=0|ct+y(ee,Gn)))+((8191&(me=0|(me=0|me+y(ee,er))+y(ve,Gn)))<<13);q=0|(0|(ot=0|ot+y(ve,er))+(me>>>13))+(Un>>>26),Un&=67108863,ct=y(sn,Rn),me=0|(me=y(sn,Qn))+y(Sn,Rn),ot=y(Sn,Qn),ct=0|ct+y(on,Kn),me=0|(me=0|me+y(on,Zn))+y(Ht,Kn),ot=0|ot+y(Ht,Zn);var We=0|(0|q+(ct=0|ct+y(ht,Gn)))+((8191&(me=0|(me=0|me+y(ht,er))+y(st,Gn)))<<13);q=0|(0|(ot=0|ot+y(st,er))+(me>>>13))+(We>>>26),We&=67108863,ct=y(sn,Kn),me=0|(me=y(sn,Zn))+y(Sn,Kn),ot=y(Sn,Zn);var Mn=0|(0|q+(ct=0|ct+y(on,Gn)))+((8191&(me=0|(me=0|me+y(on,er))+y(Ht,Gn)))<<13);q=0|(0|(ot=0|ot+y(Ht,er))+(me>>>13))+(Mn>>>26),Mn&=67108863;var Yn=0|(0|q+(ct=y(sn,Gn)))+((8191&(me=0|(me=y(sn,er))+y(Sn,Gn)))<<13);return q=0|(0|(ot=y(Sn,er))+(me>>>13))+(Yn>>>26),Yn&=67108863,F[0]=ft,F[1]=be,F[2]=dt,F[3]=Zr,F[4]=ri,F[5]=si,F[6]=cr,F[7]=yi,F[8]=Jr,F[9]=zr,F[10]=ui,F[11]=ai,F[12]=li,F[13]=Vr,F[14]=Fr,F[15]=Un,F[16]=We,F[17]=Mn,F[18]=Yn,0!==q&&(F[19]=q,M.length++),M};y||(ue=o),n.prototype.mulTo=function(T,D){var v,M=this.length+T.length;return v=10===this.length&&10===T.length?ue(this,T,D):63>M?o(this,T,D):1024>M?function t(X,T,D){D.negative=T.negative^X.negative,D.length=X.length+T.length;for(var F,M=0,v=0,B=0;B<D.length-1;B++){F=v,v=0;for(var q=67108863&M,L=ne(B,T.length-1),Y=pe(0,B-X.length+1);Y<=L;Y++){var Ie=(0|X.words[B-Y])*(0|T.words[Y]),Qe=67108863&Ie;q=67108863&(Qe=0|Qe+q),v+=(F=0|(F=0|F+(0|Ie/67108864))+(Qe>>>26))>>>26,F&=67108863}D.words[B]=q,M=F,F=v}return 0===M?D.length--:D.words[B]=M,D.strip()}(this,T,D):r(this,T,D),v},a.prototype.makeRBT=function(T){for(var D=Array(T),M=n.prototype._countBits(T)-1,v=0;v<T;v++)D[v]=this.revBin(v,M,T);return D},a.prototype.revBin=function(T,D,M){if(0===T||T===M-1)return T;for(var v=0,B=0;B<D;B++)v|=(1&T)<<D-B-1,T>>=1;return v},a.prototype.permute=function(T,D,M,v,B,F){for(var q=0;q<F;q++)v[q]=D[T[q]],B[q]=M[T[q]]},a.prototype.transform=function(T,D,M,v,B,F){this.permute(F,T,D,M,v,B);for(var q=1;q<B;q<<=1)for(var L=q<<1,Y=je(2*Pe/L),se=Q(2*Pe/L),Ee=0;Ee<B;Ee+=L)for(var Se=Y,Ie=se,Qe=0;Qe<q;Qe++){var Je=M[Ee+Qe],ut=v[Ee+Qe],$t=M[Ee+Qe+q],qt=v[Ee+Qe+q],tt=Se*$t-Ie*qt;qt=Se*qt+Ie*$t,M[Ee+Qe]=Je+($t=tt),v[Ee+Qe]=ut+qt,M[Ee+Qe+q]=Je-$t,v[Ee+Qe+q]=ut-qt,Qe!==L&&(tt=Y*Se-se*Ie,Ie=Y*Ie+se*Se,Se=tt)}},a.prototype.guessLen13b=function(T,D){var M=1|pe(D,T),v=1&M,B=0;for(M=0|M/2;M;M>>>=1)B++;return 1<<B+1+v},a.prototype.conjugate=function(T,D,M){if(!(1>=M))for(var B,v=0;v<M/2;v++)B=T[v],T[v]=T[M-v-1],T[M-v-1]=B,B=D[v],D[v]=-D[M-v-1],D[M-v-1]=-B},a.prototype.normalize13b=function(T,D){for(var B,M=0,v=0;v<D/2;v++)B=8192*kt(T[2*v+1]/D)+kt(T[2*v]/D)+M,T[v]=67108863&B,M=67108864>B?0:0|B/67108864;return T},a.prototype.convert13b=function(T,D,M,v){for(var B=0,F=0;F<D;F++)M[2*F]=8191&(B+=0|T[F]),M[2*F+1]=8191&(B>>>=13),B>>>=13;for(F=2*D;F<v;++F)M[F]=0;m(0===B),m(0==(-8192&B))},a.prototype.stub=function(T){for(var D=Array(T),M=0;M<T;M++)D[M]=0;return D},a.prototype.mulp=function(T,D,M){var v=2*this.guessLen13b(T.length,D.length),B=this.makeRBT(v),F=this.stub(v),q=Array(v),L=Array(v),Y=Array(v),se=Array(v),Ee=Array(v),Se=Array(v),Ie=M.words;Ie.length=v,this.convert13b(T.words,T.length,q,v),this.convert13b(D.words,D.length,se,v),this.transform(q,F,L,Y,v,B),this.transform(se,F,Ee,Se,v,B);for(var Je,Qe=0;Qe<v;Qe++)Je=L[Qe]*Ee[Qe]-Y[Qe]*Se[Qe],Y[Qe]=L[Qe]*Se[Qe]+Y[Qe]*Ee[Qe],L[Qe]=Je;return this.conjugate(L,Y,v),this.transform(L,Y,Ie,F,v,B),this.conjugate(Ie,F,v),this.normalize13b(Ie,v),M.negative=T.negative^D.negative,M.length=T.length+D.length,M.strip()},n.prototype.mul=function(T){var D=new n(null);return D.words=Array(this.length+T.length),this.mulTo(T,D)},n.prototype.mulf=function(T){var D=new n(null);return D.words=Array(this.length+T.length),r(this,T,D)},n.prototype.imul=function(T){return this.clone().mulTo(T,this)},n.prototype.imuln=function(T){m("number"==typeof T),m(67108864>T);for(var D=0,M=0;M<this.length;M++){var v=(0|this.words[M])*T,B=(67108863&v)+(67108863&D);D>>=26,D+=0|v/67108864,D+=B>>>26,this.words[M]=67108863&B}return 0!==D&&(this.words[M]=D,this.length++),this},n.prototype.muln=function(T){return this.clone().imuln(T)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(T){var D=function u(X){for(var T=Array(X.bitLength()),D=0;D<T.length;D++){var v=D%26;T[D]=(X.words[0|D/26]&1<<v)>>>v}return T}(T);if(0===D.length)return new n(1);for(var M=this,v=0;v<D.length&&0===D[v];v++,M=M.sqr());if(++v<D.length)for(var B=M.sqr();v<D.length;v++,B=B.sqr())0!==D[v]&&(M=M.mul(B));return M},n.prototype.iushln=function(T){m("number"==typeof T&&0<=T);var B,D=T%26,M=(T-D)/26,v=67108863>>>26-D<<26-D;if(0!=D){var F=0;for(B=0;B<this.length;B++){var q=this.words[B]&v;this.words[B]=(0|this.words[B])-q<<D|F,F=q>>>26-D}F&&(this.words[B]=F,this.length++)}if(0!==M){for(B=this.length-1;0<=B;B--)this.words[B+M]=this.words[B];for(B=0;B<M;B++)this.words[B]=0;this.length+=M}return this.strip()},n.prototype.ishln=function(T){return m(0===this.negative),this.iushln(T)},n.prototype.iushrn=function(T,D,M){var v;m("number"==typeof T&&0<=T),v=D?(D-D%26)/26:0;var B=T%26,F=ne((T-B)/26,this.length),q=67108863^67108863>>>B<<B,L=M;if(v=pe(0,v-=F),L){for(var Y=0;Y<F;Y++)L.words[Y]=this.words[Y];L.length=F}if(0!==F)if(this.length>F)for(this.length-=F,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+F];else this.words[0]=0,this.length=1;var se=0;for(Y=this.length-1;0<=Y&&(0!==se||Y>=v);Y--){var Ee=0|this.words[Y];this.words[Y]=se<<26-B|Ee>>>B,se=Ee&q}return L&&0!==se&&(L.words[L.length++]=se),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(T,D,M){return m(0===this.negative),this.iushrn(T,D,M)},n.prototype.shln=function(T){return this.clone().ishln(T)},n.prototype.ushln=function(T){return this.clone().iushln(T)},n.prototype.shrn=function(T){return this.clone().ishrn(T)},n.prototype.ushrn=function(T){return this.clone().iushrn(T)},n.prototype.testn=function(T){m("number"==typeof T&&0<=T);var D=T%26,M=(T-D)/26;return!(this.length<=M||!(this.words[M]&1<<D))},n.prototype.imaskn=function(T){m("number"==typeof T&&0<=T);var D=T%26,M=(T-D)/26;return m(0===this.negative,"imaskn works only with positive numbers"),this.length<=M?this:(0!=D&&M++,this.length=ne(M,this.length),0!=D&&(this.words[this.length-1]&=67108863^67108863>>>D<<D),this.strip())},n.prototype.maskn=function(T){return this.clone().imaskn(T)},n.prototype.iaddn=function(T){return m("number"==typeof T),m(67108864>T),0>T?this.isubn(-T):0===this.negative?this._iaddn(T):1===this.length&&(0|this.words[0])<T?(this.words[0]=T-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this)},n.prototype._iaddn=function(T){this.words[0]+=T;for(var D=0;D<this.length&&67108864<=this.words[D];D++)this.words[D]-=67108864,D==this.length-1?this.words[D+1]=1:this.words[D+1]++;return this.length=pe(this.length,D+1),this},n.prototype.isubn=function(T){if(m("number"==typeof T),m(67108864>T),0>T)return this.iaddn(-T);if(0!==this.negative)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var D=0;D<this.length&&0>this.words[D];D++)this.words[D]+=67108864,this.words[D+1]-=1;return this.strip()},n.prototype.addn=function(T){return this.clone().iaddn(T)},n.prototype.subn=function(T){return this.clone().isubn(T)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(T,D,M){var B;this._expand(T.length+M);var q,F=0;for(B=0;B<T.length;B++){q=(0|this.words[B+M])+F;var L=(0|T.words[B])*D;F=((q-=67108863&L)>>26)-(0|L/67108864),this.words[B+M]=67108863&q}for(;B<this.length-M;B++)F=(q=(0|this.words[B+M])+F)>>26,this.words[B+M]=67108863&q;if(0===F)return this.strip();for(m(-1===F),F=0,B=0;B<this.length;B++)F=(q=-(0|this.words[B])+F)>>26,this.words[B]=67108863&q;return this.negative=1,this.strip()},n.prototype._wordDiv=function(T,D){var M,v=this.clone(),B=T,F=0|B.words[B.length-1];0!=(M=26-this._countBits(F))&&(B=B.ushln(M),v.iushln(M),F=0|B.words[B.length-1]);var Y,L=v.length-B.length;if("mod"!==D){(Y=new n(null)).length=L+1,Y.words=Array(Y.length);for(var se=0;se<Y.length;se++)Y.words[se]=0}var Ee=v.clone()._ishlnsubmul(B,1,L);0===Ee.negative&&(v=Ee,Y&&(Y.words[L]=1));for(var Ie,Se=L-1;0<=Se;Se--){for(Ie=ne(0|(Ie=67108864*(0|v.words[B.length+Se])+(0|v.words[B.length+Se-1]))/F,67108863),v._ishlnsubmul(B,Ie,Se);0!==v.negative;)Ie--,v.negative=0,v._ishlnsubmul(B,1,Se),v.isZero()||(v.negative^=1);Y&&(Y.words[Se]=Ie)}return Y&&Y.strip(),v.strip(),"div"!==D&&0!==M&&v.iushrn(M),{div:Y||null,mod:v}},n.prototype.divmod=function(T,D,M){return m(!T.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===T.negative?(F=this.neg().divmod(T,D),"mod"!==D&&(v=F.div.neg()),"div"!==D&&(B=F.mod.neg(),M&&0!==B.negative&&B.iadd(T)),{div:v,mod:B}):0===this.negative&&0!==T.negative?(F=this.divmod(T.neg(),D),"mod"!==D&&(v=F.div.neg()),{div:v,mod:F.mod}):this.negative&T.negative?(F=this.neg().divmod(T.neg(),D),"div"!==D&&(B=F.mod.neg(),M&&0!==B.negative&&B.isub(T)),{div:F.div,mod:B}):T.length>this.length||0>this.cmp(T)?{div:new n(0),mod:this}:1===T.length?"div"===D?{div:this.divn(T.words[0]),mod:null}:"mod"===D?{div:null,mod:new n(this.modn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new n(this.modn(T.words[0]))}:this._wordDiv(T,D);var v,B,F},n.prototype.div=function(T){return this.divmod(T,"div",!1).div},n.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},n.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},n.prototype.divRound=function(T){var D=this.divmod(T);if(D.mod.isZero())return D.div;var M=0===D.div.negative?D.mod:D.mod.isub(T),v=T.ushrn(1),B=T.andln(1),F=M.cmp(v);return 0>F||1===B&&0===F?D.div:0===D.div.negative?D.div.iaddn(1):D.div.isubn(1)},n.prototype.modn=function(T){m(67108863>=T);for(var D=67108864%T,M=0,v=this.length-1;0<=v;v--)M=(D*M+(0|this.words[v]))%T;return M},n.prototype.idivn=function(T){m(67108863>=T);for(var v,D=0,M=this.length-1;0<=M;M--)this.words[M]=0|(v=(0|this.words[M])+67108864*D)/T,D=v%T;return this.strip()},n.prototype.divn=function(T){return this.clone().idivn(T)},n.prototype.egcd=function(T){m(0===T.negative),m(!T.isZero());var D=this,M=T.clone();D=0===D.negative?D.clone():D.umod(T);for(var v=new n(1),B=new n(0),F=new n(0),q=new n(1),L=0;D.isEven()&&M.isEven();)D.iushrn(1),M.iushrn(1),++L;for(var Y=M.clone(),se=D.clone();!D.isZero();){for(var Ee=0,Se=1;!(D.words[0]&Se)&&26>Ee;++Ee,Se<<=1);if(0<Ee)for(D.iushrn(Ee);0<Ee--;)(v.isOdd()||B.isOdd())&&(v.iadd(Y),B.isub(se)),v.iushrn(1),B.iushrn(1);for(var Ie=0,Qe=1;!(M.words[0]&Qe)&&26>Ie;++Ie,Qe<<=1);if(0<Ie)for(M.iushrn(Ie);0<Ie--;)(F.isOdd()||q.isOdd())&&(F.iadd(Y),q.isub(se)),F.iushrn(1),q.iushrn(1);0<=D.cmp(M)?(D.isub(M),v.isub(F),B.isub(q)):(M.isub(D),F.isub(v),q.isub(B))}return{a:F,b:q,gcd:M.iushln(L)}},n.prototype._invmp=function(T){m(0===T.negative),m(!T.isZero());var Ee,D=this,M=T.clone();D=0===D.negative?D.clone():D.umod(T);for(var v=new n(1),B=new n(0),F=M.clone();0<D.cmpn(1)&&0<M.cmpn(1);){for(var q=0,L=1;!(D.words[0]&L)&&26>q;++q,L<<=1);if(0<q)for(D.iushrn(q);0<q--;)v.isOdd()&&v.iadd(F),v.iushrn(1);for(var Y=0,se=1;!(M.words[0]&se)&&26>Y;++Y,se<<=1);if(0<Y)for(M.iushrn(Y);0<Y--;)B.isOdd()&&B.iadd(F),B.iushrn(1);0<=D.cmp(M)?(D.isub(M),v.isub(B)):(M.isub(D),B.isub(v))}return 0>(Ee=0===D.cmpn(1)?v:B).cmpn(0)&&Ee.iadd(T),Ee},n.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var D=this.clone(),M=T.clone();D.negative=0,M.negative=0;for(var v=0;D.isEven()&&M.isEven();v++)D.iushrn(1),M.iushrn(1);for(;;){for(;D.isEven();)D.iushrn(1);for(;M.isEven();)M.iushrn(1);var B=D.cmp(M);if(0>B){var F=D;D=M,M=F}else if(0===B||0===M.cmpn(1))break;D.isub(M)}return M.iushln(v)},n.prototype.invm=function(T){return this.egcd(T).a.umod(T)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(T){return this.words[0]&T},n.prototype.bincn=function(T){m("number"==typeof T);var D=T%26,M=(T-D)/26,v=1<<D;if(this.length<=M)return this._expand(M+1),this.words[M]|=v,this;for(var q,B=v,F=M;0!==B&&F<this.length;F++)q=0|this.words[F],B=(q+=B)>>>26,this.words[F]=q&=67108863;return 0!==B&&(this.words[F]=B,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(T){var M,D=0>T;if(0!==this.negative&&!D)return-1;if(0===this.negative&&D)return 1;if(this.strip(),1<this.length)M=1;else{D&&(T=-T),m(67108863>=T,"Number is too big");var v=0|this.words[0];M=v===T?0:v<T?-1:1}return 0===this.negative?M:0|-M},n.prototype.cmp=function(T){if(0!==this.negative&&0===T.negative)return-1;if(0===this.negative&&0!==T.negative)return 1;var D=this.ucmp(T);return 0===this.negative?D:0|-D},n.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var D=0,M=this.length-1;0<=M;M--){var v=0|this.words[M],B=0|T.words[M];if(v!=B){v<B?D=-1:v>B&&(D=1);break}}return D},n.prototype.gtn=function(T){return 1===this.cmpn(T)},n.prototype.gt=function(T){return 1===this.cmp(T)},n.prototype.gten=function(T){return 0<=this.cmpn(T)},n.prototype.gte=function(T){return 0<=this.cmp(T)},n.prototype.ltn=function(T){return-1===this.cmpn(T)},n.prototype.lt=function(T){return-1===this.cmp(T)},n.prototype.lten=function(T){return 0>=this.cmpn(T)},n.prototype.lte=function(T){return 0>=this.cmp(T)},n.prototype.eqn=function(T){return 0===this.cmpn(T)},n.prototype.eq=function(T){return 0===this.cmp(T)},n.red=function(T){return new z(T)},n.prototype.toRed=function(T){return m(!this.red,"Already a number in reduction context"),m(0===this.negative,"red works only with positives"),T.convertTo(this)._forceRed(T)},n.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(T){return this.red=T,this},n.prototype.forceRed=function(T){return m(!this.red,"Already a number in reduction context"),this._forceRed(T)},n.prototype.redAdd=function(T){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},n.prototype.redIAdd=function(T){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},n.prototype.redSub=function(T){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},n.prototype.redISub=function(T){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},n.prototype.redShl=function(T){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},n.prototype.redMul=function(T){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},n.prototype.redIMul=function(T){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},n.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(T){return m(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var Ae={k256:null,p224:null,p192:null,p25519:null};c.prototype._tmp=function(){var T=new n(null);return T.words=Array(_e(this.n/13)),T},c.prototype.ireduce=function(T){var M,D=T;do{this.split(D,this.tmp),M=(D=(D=this.imulK(D)).iadd(this.tmp)).bitLength()}while(M>this.n);var v=M<this.n?-1:D.ucmp(this.p);return 0===v?(D.words[0]=0,D.length=1):0<v?D.isub(this.p):void 0===D.strip?D._strip():D.strip(),D},c.prototype.split=function(T,D){T.iushrn(this.n,0,D)},c.prototype.imulK=function(T){return T.imul(this.k)},_(l,c),l.prototype.split=function(T,D){for(var M=4194303,v=ne(T.length,9),B=0;B<v;B++)D.words[B]=T.words[B];if(D.length=v,9>=T.length)return T.words[0]=0,void(T.length=1);var F=T.words[9];for(D.words[D.length++]=F&M,B=10;B<T.length;B++){var q=0|T.words[B];T.words[B-10]=(q&M)<<4|F>>>22,F=q}T.words[B-10]=F>>>=22,T.length-=0===F&&10<T.length?10:9},l.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var v,D=0,M=0;M<T.length;M++)T.words[M]=67108863&(D+=977*(v=0|T.words[M])),D=64*v+(0|D/67108864);return 0===T.words[T.length-1]&&(T.length--,0===T.words[T.length-1]&&T.length--),T},_(w,c),_(E,c),_(C,c),C.prototype.imulK=function(T){for(var D=0,M=0;M<T.length;M++){var v=19*(0|T.words[M])+D,B=67108863&v;v>>>=26,T.words[M]=B,D=v}return 0!==D&&(T.words[T.length++]=D),T},n._prime=function(T){if(Ae[T])return Ae[T];var D;if("k256"===T)D=new l;else if("p224"===T)D=new w;else if("p192"===T)D=new E;else{if("p25519"!==T)throw new Error("Unknown prime "+T);D=new C}return Ae[T]=D,D},z.prototype._verify1=function(T){m(0===T.negative,"red works only with positives"),m(T.red,"red works only with red numbers")},z.prototype._verify2=function(T,D){m(0==(T.negative|D.negative),"red works only with positives"),m(T.red&&T.red===D.red,"red works only with red numbers")},z.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):T.umod(this.m)._forceRed(this)},z.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},z.prototype.add=function(T,D){this._verify2(T,D);var M=T.add(D);return 0<=M.cmp(this.m)&&M.isub(this.m),M._forceRed(this)},z.prototype.iadd=function(T,D){this._verify2(T,D);var M=T.iadd(D);return 0<=M.cmp(this.m)&&M.isub(this.m),M},z.prototype.sub=function(T,D){this._verify2(T,D);var M=T.sub(D);return 0>M.cmpn(0)&&M.iadd(this.m),M._forceRed(this)},z.prototype.isub=function(T,D){this._verify2(T,D);var M=T.isub(D);return 0>M.cmpn(0)&&M.iadd(this.m),M},z.prototype.shl=function(T,D){return this._verify1(T),this.imod(T.ushln(D))},z.prototype.imul=function(T,D){return this._verify2(T,D),this.imod(T.imul(D))},z.prototype.mul=function(T,D){return this._verify2(T,D),this.imod(T.mul(D))},z.prototype.isqr=function(T){return this.imul(T,T.clone())},z.prototype.sqr=function(T){return this.mul(T,T)},z.prototype.sqrt=function(T){if(T.isZero())return T.clone();var D=this.m.andln(3);if(m(D%2==1),3===D){var M=this.m.add(new n(1)).iushrn(2);return this.pow(T,M)}for(var v=this.m.subn(1),B=0;!v.isZero()&&0===v.andln(1);)B++,v.iushrn(1);m(!v.isZero());var F=new n(1).toRed(this),q=F.redNeg(),L=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new n(2*Y*Y).toRed(this);0!==this.pow(Y,L).cmp(q);)Y.redIAdd(q);for(var se=this.pow(Y,v),Ee=this.pow(T,v.addn(1).iushrn(1)),Se=this.pow(T,v),Ie=B;0!==Se.cmp(F);){for(var Qe=Se,Je=0;0!==Qe.cmp(F);Je++)Qe=Qe.redSqr();m(Je<Ie);var ut=this.pow(se,new n(1).iushln(Ie-Je-1));Ee=Ee.redMul(ut),se=ut.redSqr(),Se=Se.redMul(se),Ie=Je}return Ee},z.prototype.invm=function(T){var D=T._invmp(this.m);return 0===D.negative?this.imod(D):(D.negative=0,this.imod(D).redNeg())},z.prototype.pow=function(T,D){if(D.isZero())return new n(1).toRed(this);if(0===D.cmpn(1))return T.clone();var v=Array(16);v[0]=new n(1).toRed(this),v[1]=T;for(var B=2;B<v.length;B++)v[B]=this.mul(v[B-1],T);var F=v[0],q=0,L=0,Y=D.bitLength()%26;for(0===Y&&(Y=26),B=D.length-1;0<=B;B--){for(var Se,se=D.words[B],Ee=Y-1;0<=Ee;Ee--)Se=1&se>>Ee,F!==v[0]&&(F=this.sqr(F)),0!==Se||0!==q?(q<<=1,q|=Se,(4==++L||0===B&&0===Ee)&&(F=this.mul(F,v[q]),L=0,q=0)):L=0;Y=26}return F},z.prototype.convertTo=function(T){var D=T.umod(this.m);return D===T?D.clone():D},z.prototype.convertFrom=function(T){var D=T.clone();return D.red=null,D},n.mont=function(T){return new k(T)},_(k,z),k.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},k.prototype.convertFrom=function(T){var D=this.imod(T.mul(this.rinv));return D.red=null,D},k.prototype.imul=function(T,D){if(T.isZero()||D.isZero())return T.words[0]=0,T.length=1,T;var M=T.imul(D),v=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=M.isub(v).iushrn(this.shift),F=B;return 0<=B.cmp(this.m)?F=B.isub(this.m):0>B.cmpn(0)&&(F=B.iadd(this.m)),F._forceRed(this)},k.prototype.mul=function(T,D){if(T.isZero()||D.isZero())return new n(0)._forceRed(this);var M=T.mul(D),v=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=M.isub(v).iushrn(this.shift),F=B;return 0<=B.cmp(this.m)?F=B.isub(this.m):0>B.cmpn(0)&&(F=B.iadd(this.m)),F._forceRed(this)},k.prototype.invm=function(T){return this.imod(T._invmp(this.m).mul(this.r2))._forceRed(this)}}(typeof N>"u"||N,this)},{buffer:42}],23:[function(d,N,A){"use strict";function f(c){var l=c.length;if(0<l%4)throw new Error("Invalid string. Length must be a multiple of 4");var w=c.indexOf("=");return-1===w&&(w=l),[w,w===l?0:4-w%4]}function n(c){return s[63&c>>18]+s[63&c>>12]+s[63&c>>6]+s[63&c]}function g(c,l,w){for(var E=[],C=l;C<w;C+=3)E.push(n((16711680&c[C]<<16)+(65280&c[C+1]<<8)+(255&c[C+2])));return E.join("")}A.byteLength=function b(c){var l=f(c),E=l[1];return 3*(l[0]+E)/4-E},A.toByteArray=function _(c){var I,V,l=f(c),w=l[0],E=l[1],C=new o(function m(c,l,w){return 3*(l+w)/4-w}(0,w,E)),z=0,k=0<E?w-4:w;for(V=0;V<k;V+=4)I=u[c.charCodeAt(V)]<<18|u[c.charCodeAt(V+1)]<<12|u[c.charCodeAt(V+2)]<<6|u[c.charCodeAt(V+3)],C[z++]=255&I>>16,C[z++]=255&I>>8,C[z++]=255&I;return 2===E&&(I=u[c.charCodeAt(V)]<<2|u[c.charCodeAt(V+1)]>>4,C[z++]=255&I),1===E&&(I=u[c.charCodeAt(V)]<<10|u[c.charCodeAt(V+1)]<<4|u[c.charCodeAt(V+2)]>>2,C[z++]=255&I>>8,C[z++]=255&I),C},A.fromByteArray=function h(c){for(var I,l=c.length,w=l%3,E=[],C=16383,z=0,k=l-w;z<k;z+=C)E.push(g(c,z,z+C>k?k:z+C));return 1===w?E.push(s[(I=c[l-1])>>2]+s[63&I<<4]+"=="):2===w&&E.push(s[(I=(c[l-2]<<8)+c[l-1])>>10]+s[63&I>>4]+s[63&I<<2]+"="),E.join("")};for(var s=[],u=[],o=typeof Uint8Array>"u"?Array:Uint8Array,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,a=t.length;r<a;++r)s[r]=t[r],u[t.charCodeAt(r)]=r;u[45]=62,u[95]=63},{}],24:[function(d,N,A){(function(f){(function(){function b(u,o,t){let r=0,a=1;for(let c=o;c<t;c++){const l=u[c];if(58>l&&48<=l)r=10*r+(l-48);else if(c!==o||43!==l){if(c===o&&45===l){a=-1;continue}if(46===l)break;throw new Error("not a number: buffer["+c+"] = "+l)}}return r*a}function m(u,o,t,r){return null==u||0===u.length?null:("number"!=typeof o&&null==r&&(r=o,o=void 0),"number"!=typeof t&&null==r&&(r=t,t=void 0),m.position=0,m.encoding=r||null,m.data=f.isBuffer(u)?u.slice(o,t):f.from(u),m.bytes=m.data.length,m.next())}m.bytes=0,m.position=0,m.data=null,m.encoding=null,m.next=function(){switch(m.data[m.position]){case 100:return m.dictionary();case 108:return m.list();case 105:return m.integer();default:return m.buffer()}},m.find=function(u){let o=m.position;const t=m.data.length,r=m.data;for(;o<t;){if(r[o]===u)return o;o++}throw new Error('Invalid data: Missing delimiter "'+te(u)+'" [0x'+u.toString(16)+"]")},m.dictionary=function(){m.position++;const u={};for(;101!==m.data[m.position];)u[m.buffer()]=m.next();return m.position++,u},m.list=function(){m.position++;const u=[];for(;101!==m.data[m.position];)u.push(m.next());return m.position++,u},m.integer=function(){const u=m.find(101),o=b(m.data,m.position+1,u);return m.position+=u+1-m.position,o},m.buffer=function(){let u=m.find(58);const o=b(m.data,m.position,u),t=++u+o;return m.position=t,m.encoding?m.data.toString(m.encoding,u,t):m.data.slice(u,t)},N.exports=m}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76}],25:[function(d,N,A){(function(f){(function(){function b(h,s,u){const o=[];let t=null;return b._encode(o,h),t=f.concat(o),b.bytes=t.length,f.isBuffer(s)?(t.copy(s,u),s):t}const{getType:m}=d("./util.js");b.bytes=-1,b._floatConversionDetected=!1,b._encode=function(h,s){if(null!=s)switch(m(s)){case"buffer":b.buffer(h,s);break;case"object":b.dict(h,s);break;case"map":b.dictMap(h,s);break;case"array":b.list(h,s);break;case"set":b.listSet(h,s);break;case"string":b.string(h,s);break;case"number":case"boolean":b.number(h,s);break;case"arraybufferview":b.buffer(h,f.from(s.buffer,s.byteOffset,s.byteLength));break;case"arraybuffer":b.buffer(h,f.from(s))}};const _=f.from("e"),n=f.from("d"),g=f.from("l");b.buffer=function(h,s){h.push(f.from(s.length+":"),s)},b.string=function(h,s){h.push(f.from(f.byteLength(s)+":"+s))},b.number=function(h,s){const r=2147483648*(s/2147483648<<0)+(s%2147483648<<0);h.push(f.from("i"+r+"e")),r===s||b._floatConversionDetected||(b._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+s+'":','Bencoding only defines support for integers, value was converted to "'+r+'"'),console.trace())},b.dict=function(h,s){h.push(n);let o,u=0;const t=Object.keys(s).sort(),r=t.length;for(;u<r;u++)o=t[u],null!=s[o]&&(b.string(h,o),b._encode(h,s[o]));h.push(_)},b.dictMap=function(h,s){h.push(n);const u=Array.from(s.keys()).sort();for(const o of u)null!=s.get(o)&&(f.isBuffer(o)?b._encode(h,o):b.string(h,o+""),b._encode(h,s.get(o)));h.push(_)},b.list=function(h,s){let u=0;const o=s.length;for(h.push(g);u<o;u++)null!=s[u]&&b._encode(h,s[u]);h.push(_)},b.listSet=function(h,s){h.push(g);for(const u of s)null!=u&&b._encode(h,u);h.push(_)},N.exports=b}).call(this)}).call(this,d("buffer").Buffer)},{"./util.js":28,buffer:76}],26:[function(d,N,A){(function(f){(function(){const{digitCount:s,getType:u}=d("./util.js");N.exports=function h(o){if(null==o)return 0;const r=u(o);switch(r){case"buffer":return s(o.length)+1+o.length;case"arraybufferview":return function g(o){const t=o.byteLength-o.byteOffset;return s(t)+1+t}(o);case"string":return function n(o){const t=f.byteLength(o);return s(t)+1+t}(o);case"array":case"set":return function b(o){let t=2;for(const r of o)t+=h(r);return t}(o);case"number":return 1+s(xt(o))+1;case"bigint":return 1+o.toString().length+1;case"object":return function _(o){let t=2;const r=Object.keys(o);for(let a=0;a<r.length;a++){const c=f.byteLength(r[a]);t+=s(c)+1+c,t+=h(o[r[a]])}return t}(o);case"map":return function m(o){let t=2;for(const[r,a]of o){const c=f.byteLength(r);t+=s(c)+1+c,t+=h(a)}return t}(o);default:throw new TypeError(`Unsupported value of type "${r}"`)}}}).call(this)}).call(this,d("buffer").Buffer)},{"./util.js":28,buffer:76}],27:[function(d,N,A){const f=N.exports;f.encode=d("./encode.js"),f.decode=d("./decode.js"),f.byteLength=f.encodingLength=d("./encoding-length.js")},{"./decode.js":24,"./encode.js":25,"./encoding-length.js":26}],28:[function(d,N,A){(function(f){(function(){const b=N.exports;b.digitCount=function(_){var n=Math.log10;const g=0>_?1:0;return _=At(+(_||1)),xt(n(_))+1+g},b.getType=function(_){return f.isBuffer(_)?"buffer":ArrayBuffer.isView(_)?"arraybufferview":Array.isArray(_)?"array":_ instanceof Number?"number":_ instanceof Boolean?"boolean":_ instanceof Set?"set":_ instanceof Map?"map":_ instanceof String?"string":_ instanceof ArrayBuffer?"arraybuffer":typeof _}}).call(this)}).call(this,{isBuffer:d("../../is-buffer/index.js")})},{"../../is-buffer/index.js":149}],29:[function(d,N,A){function b(m){return m.reduce((n,g,h,s)=>{const u=g.split("-").map(o=>parseInt(o));return n.concat(((n,g=n)=>Array.from({length:g-n+1},(h,s)=>s+n))(...u))},[])}N.exports=b,N.exports.parse=b,N.exports.compose=function f(m){return m.reduce((_,n,g,h)=>((0===g||n!==h[g-1]+1)&&_.push([]),_[_.length-1].push(n),_),[]).map(_=>1<_.length?`${_[0]}-${_[_.length-1]}`:`${_[0]}`)}},{}],30:[function(d,N,A){N.exports=function(f,b,m,_,n){var g,h;if(void 0===_)_=0;else if(0>(_|=0)||_>=f.length)throw new RangeError("invalid lower bound");if(void 0===n)n=f.length-1;else if((n|=0)<_||n>=f.length)throw new RangeError("invalid upper bound");for(;_<=n;)if(0>(h=+m(f[g=_+(n-_>>>1)],b,g,f)))_=g+1;else{if(!(0<h))return g;n=g-1}return~_}},{}],31:[function(d,N,A){"use strict";function f(m){var _=m>>3;return m%8!=0&&_++,_}Object.defineProperty(A,"__esModule",{value:!0});var b=function(){function m(_,n){void 0===_&&(_=0);var g=n?.grow;this.grow=g&&isFinite(g)&&f(g)||g||0,this.buffer="number"==typeof _?new Uint8Array(f(_)):_}return m.prototype.get=function(_){var n=_>>3;return n<this.buffer.length&&!!(this.buffer[n]&128>>_%8)},m.prototype.set=function(_,n){void 0===n&&(n=!0);var g=_>>3;if(n){if(this.buffer.length<g+1){var h=pe(g+1,ne(2*this.buffer.length,this.grow));if(h<=this.grow){var s=new Uint8Array(h);s.set(this.buffer),this.buffer=s}}this.buffer[g]|=128>>_%8}else g<this.buffer.length&&(this.buffer[g]&=~(128>>_%8))},m.prototype.forEach=function(_,n,g){void 0===n&&(n=0),void 0===g&&(g=8*this.buffer.length);for(var h=n,s=h>>3,u=128>>h%8,o=this.buffer[s];h<g;h++)_(!!(o&u),h),u=1==u?(o=this.buffer[++s],128):u>>1},m}();A.default=b},{}],32:[function(d,N,A){(function(f){(function(){function b(q,L){for(let Y=q.length;Y--;)q[Y]^=L[Y];return q}const m=d("unordered-array-remove"),_=d("bencode"),n=d("bitfield").default,g=d("crypto"),h=d("debug")("bittorrent-protocol"),s=d("randombytes"),u=d("simple-sha1"),o=d("speedometer"),t=d("readable-stream"),r=d("rc4"),w=f.from("\x13BitTorrent protocol"),E=f.from([0,0,0,0]),C=f.from([0,0,0,1,0]),z=f.from([0,0,0,1,1]),k=f.from([0,0,0,1,2]),I=f.from([0,0,0,1,3]),V=[0,0,0,0,0,0,0,0],$=[0,0,0,3,9,0,0],oe=f.from([0,0,0,1,14]),ue=f.from([0,0,0,1,15]),T=f.from([0,0,0,0,0,0,0,0]),D=f.from([0,0,1,2]),M=f.from([0,0,0,2]);class v{constructor(L,Y,se,Ee){this.piece=L,this.offset=Y,this.length=se,this.callback=Ee}}class B{constructor(){this.buffer=new Uint8Array}get(L){return!0}set(L){}}N.exports=class F extends t.Duplex{constructor(L=null,Y=0,se=!1){super(),this._debugId=s(4).toString("hex"),this._debug("new wire"),this.peerId=null,this.peerIdBuffer=null,this.type=L,this.amChoking=!0,this.amInterested=!1,this.peerChoking=!0,this.peerInterested=!1,this.peerPieces=new n(0,{grow:4e5}),this.extensions={},this.peerExtensions={},this.requests=[],this.peerRequests=[],this.extendedMapping={},this.peerExtendedMapping={},this.extendedHandshake={},this.peerExtendedHandshake={},this.hasFast=!1,this.allowedFastSet=[],this.peerAllowedFastSet=[],this._ext={},this._nextExt=1,this.uploaded=0,this.downloaded=0,this.uploadSpeed=o(),this.downloadSpeed=o(),this._keepAliveInterval=null,this._timeout=null,this._timeoutMs=0,this._timeoutExpiresAt=null,this.destroyed=!1,this._finished=!1,this._parserSize=0,this._parser=null,this._buffer=[],this._bufferSize=0,this._peEnabled=se,se?(this._dh=g.createDiffieHellman("ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a36210000000000090563","hex",2),this._myPubKey=this._dh.generateKeys("hex")):this._myPubKey=null,this._peerPubKey=null,this._sharedSecret=null,this._peerCryptoProvide=[],this._cryptoHandshakeDone=!1,this._cryptoSyncPattern=null,this._waitMaxBytes=null,this._encryptionMethod=null,this._encryptGenerator=null,this._decryptGenerator=null,this._setGenerators=!1,this.once("finish",()=>this._onFinish()),this.on("finish",this._onFinish),this._debug("type:",this.type),"tcpIncoming"===this.type&&this._peEnabled?this._determineHandshakeType():"tcpOutgoing"===this.type&&this._peEnabled&&0===Y?this._parsePe2():this._parseHandshake(null)}setKeepAlive(L){this._debug("setKeepAlive %s",L),clearInterval(this._keepAliveInterval),!1===L||(this._keepAliveInterval=setInterval(()=>{this.keepAlive()},55e3))}setTimeout(L,Y){this._debug("setTimeout ms=%d unref=%s",L,Y),this._timeoutMs=L,this._timeoutUnref=!!Y,this._resetTimeout(!0)}destroy(){if(!this.destroyed)return this.destroyed=!0,this._debug("destroy"),this.emit("close"),this.end(),this}end(...L){return this._debug("end"),this._onUninterested(),this._onChoke(),super.end(...L)}use(L){function Y(){}const se=L.prototype.name;if(!se)throw new Error('Extension class requires a "name" property on the prototype');this._debug("use extension.name=%s",se);const Ee=this._nextExt,Se=new L(this);"function"!=typeof Se.onHandshake&&(Se.onHandshake=Y),"function"!=typeof Se.onExtendedHandshake&&(Se.onExtendedHandshake=Y),"function"!=typeof Se.onMessage&&(Se.onMessage=Y),this.extendedMapping[Ee]=se,this._ext[se]=Se,this[se]=Se,this._nextExt+=1}keepAlive(){this._debug("keep-alive"),this._push(E)}sendPe1(){if(this._peEnabled){const L=xt(513*Math.random()),Y=s(L);this._push(f.concat([f.from(this._myPubKey,"hex"),Y]))}}sendPe2(){const L=xt(513*Math.random()),Y=s(L);this._push(f.concat([f.from(this._myPubKey,"hex"),Y]))}sendPe3(L){this.setEncrypt(this._sharedSecret,L);const Y=f.from(u.sync(f.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex"),Se=b(f.from(u.sync(f.from(this._utfToHex("req2")+L,"hex")),"hex"),f.from(u.sync(f.from(this._utfToHex("req3")+this._sharedSecret,"hex")),"hex")),Ie=s(2).readUInt16BE(0)%512,Qe=s(Ie);let Je=f.alloc(14+Ie+2);T.copy(Je),D.copy(Je,8),Je.writeInt16BE(Ie,12),Qe.copy(Je,14),Je.writeInt16BE(0,14+Ie),Je=this._encryptHandshake(Je),this._push(f.concat([Y,Se,Je]))}sendPe4(L){this.setEncrypt(this._sharedSecret,L);const Y=s(2).readUInt16BE(0)%512,se=s(Y);let Ee=f.alloc(14+Y);T.copy(Ee),M.copy(Ee,8),Ee.writeInt16BE(Y,12),se.copy(Ee,14),Ee=this._encryptHandshake(Ee),this._push(Ee),this._cryptoHandshakeDone=!0,this._debug("completed crypto handshake")}handshake(L,Y,se){let Ee,Se;if("string"==typeof L?(L=L.toLowerCase(),Ee=f.from(L,"hex")):(Ee=L,L=Ee.toString("hex")),"string"==typeof Y?Se=f.from(Y,"hex"):(Se=Y,Y=Se.toString("hex")),this._infoHash=Ee,20!==Ee.length||20!==Se.length)throw new Error("infoHash and peerId MUST have length 20");this._debug("handshake i=%s p=%s exts=%o",L,Y,se);const Ie=f.from(V);this.extensions={extended:!0,dht:!(!se||!se.dht),fast:!(!se||!se.fast)},Ie[5]|=16,this.extensions.dht&&(Ie[7]|=1),this.extensions.fast&&(Ie[7]|=4),this.extensions.fast&&this.peerExtensions.fast&&(this._debug("fast extension is enabled"),this.hasFast=!0),this._push(f.concat([w,Ie,Ee,Se])),this._handshakeSent=!0,this.peerExtensions.extended&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_sendExtendedHandshake(){const L=Object.assign({},this.extendedHandshake);for(const Y in L.m={},this.extendedMapping)L.m[this.extendedMapping[Y]]=+Y;this.extended(0,_.encode(L)),this._extendedHandshakeSent=!0}choke(){if(!this.amChoking)if(this.amChoking=!0,this._debug("choke"),this._push(C),this.hasFast)for(let L=0;this.peerRequests.length>L;){const Y=this.peerRequests[L];this.allowedFastSet.includes(Y.piece)?++L:this.reject(Y.piece,Y.offset,Y.length)}else for(;this.peerRequests.length;)this.peerRequests.pop()}unchoke(){this.amChoking&&(this.amChoking=!1,this._debug("unchoke"),this._push(z))}interested(){this.amInterested||(this.amInterested=!0,this._debug("interested"),this._push(k))}uninterested(){this.amInterested&&(this.amInterested=!1,this._debug("uninterested"),this._push(I))}have(L){this._debug("have %d",L),this._message(4,[L],null)}bitfield(L){this._debug("bitfield"),f.isBuffer(L)||(L=L.buffer),this._message(5,[],L)}request(L,Y,se,Ee){return Ee||(Ee=()=>{}),this._finished?Ee(new Error("wire is closed")):!this.peerChoking||this.hasFast&&this.peerAllowedFastSet.includes(L)?(this._debug("request index=%d offset=%d length=%d",L,Y,se),this.requests.push(new v(L,Y,se,Ee)),!this._timeout&&this._resetTimeout(!0),void this._message(6,[L,Y,se],null)):Ee(new Error("peer is choking"))}piece(L,Y,se){this._debug("piece index=%d offset=%d",L,Y),this._message(7,[L,Y],se),this.uploaded+=se.length,this.uploadSpeed(se.length),this.emit("upload",se.length)}cancel(L,Y,se){this._debug("cancel index=%d offset=%d length=%d",L,Y,se),this._callback(this._pull(this.requests,L,Y,se),new Error("request was cancelled"),null),this._message(8,[L,Y,se],null)}port(L){this._debug("port %d",L);const Y=f.from($);Y.writeUInt16BE(L,5),this._push(Y)}suggest(L){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("suggest %d",L),this._message(13,[L],null)}haveAll(){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("have-all"),this._push(oe)}haveNone(){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("have-none"),this._push(ue)}reject(L,Y,se){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("reject index=%d offset=%d length=%d",L,Y,se),this._pull(this.peerRequests,L,Y,se),this._message(16,[L,Y,se],null)}allowedFast(L){if(!this.hasFast)throw Error("fast extension is disabled");this._debug("allowed-fast %d",L),this.allowedFastSet.includes(L)||this.allowedFastSet.push(L),this._message(17,[L],null)}extended(L,Y){if(this._debug("extended ext=%s",L),"string"==typeof L&&this.peerExtendedMapping[L]&&(L=this.peerExtendedMapping[L]),"number"!=typeof L)throw new Error(`Unrecognized extension: ${L}`);{const se=f.from([L]),Ee=f.isBuffer(Y)?Y:_.encode(Y);this._message(20,[],f.concat([se,Ee]))}}setEncrypt(L,Y){let se,Ee,Se,Ie,Qe,Je;switch(this.type){case"tcpIncoming":se=u.sync(f.from(this._utfToHex("keyB")+L+Y,"hex")),Ee=u.sync(f.from(this._utfToHex("keyA")+L+Y,"hex")),Se=f.from(se,"hex"),Ie=[];for(const ut of Se.values())Ie.push(ut);Qe=f.from(Ee,"hex"),Je=[];for(const ut of Qe.values())Je.push(ut);this._encryptGenerator=new r(Ie),this._decryptGenerator=new r(Je);break;case"tcpOutgoing":se=u.sync(f.from(this._utfToHex("keyA")+L+Y,"hex")),Ee=u.sync(f.from(this._utfToHex("keyB")+L+Y,"hex")),Se=f.from(se,"hex"),Ie=[];for(const ut of Se.values())Ie.push(ut);Qe=f.from(Ee,"hex"),Je=[];for(const ut of Qe.values())Je.push(ut);this._encryptGenerator=new r(Ie),this._decryptGenerator=new r(Je);break;default:return!1}for(let ut=0;1024>ut;ut++)this._encryptGenerator.randomByte(),this._decryptGenerator.randomByte();return this._setGenerators=!0,!0}_read(){}_message(L,Y,se){const Ee=se?se.length:0,Se=f.allocUnsafe(5+4*Y.length);Se.writeUInt32BE(Se.length+Ee-4,0),Se[4]=L;for(let Ie=0;Ie<Y.length;Ie++)Se.writeUInt32BE(Y[Ie],5+4*Ie);this._push(Se),se&&this._push(se)}_push(L){if(!this._finished)return 2===this._encryptionMethod&&this._cryptoHandshakeDone&&(L=this._encrypt(L)),this.push(L)}_onKeepAlive(){this._debug("got keep-alive"),this.emit("keep-alive")}_onPe1(L){this._peerPubKey=L.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe1")}_onPe2(L){this._peerPubKey=L.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe2")}_onPe3(L){const Y=u.sync(f.from(this._utfToHex("req3")+this._sharedSecret,"hex")),se=b(f.from(Y,"hex"),L).toString("hex");this.emit("pe3",se)}_onPe3Encrypted(L,Y){if(!L.equals(T))return this._debug("Error: verification constant did not match"),void this.destroy();for(const se of Y.values())0!==se&&this._peerCryptoProvide.push(se);this._peerCryptoProvide.includes(2)?this._encryptionMethod=2:(this._debug("Error: RC4 encryption method not provided by peer"),this.destroy())}_onPe4(L){this._encryptionMethod=L.readUInt8(3),D.includes(this._encryptionMethod)||(this._debug("Error: peer selected invalid crypto method"),this.destroy()),this._cryptoHandshakeDone=!0,this._debug("crypto handshake done"),this.emit("pe4")}_onHandshake(L,Y,se){const Ee=L.toString("hex"),Se=Y.toString("hex");for(const Ie in this._debug("got handshake i=%s p=%s exts=%o",Ee,Se,se),this.peerId=Se,this.peerIdBuffer=Y,this.peerExtensions=se,this.extensions.fast&&this.peerExtensions.fast&&(this._debug("fast extension is enabled"),this.hasFast=!0),this.emit("handshake",Ee,Se,se),this._ext)this._ext[Ie].onHandshake(Ee,Se,se);se.extended&&this._handshakeSent&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_onChoke(){if(this.peerChoking=!0,this._debug("got choke"),this.emit("choke"),!this.hasFast)for(;this.requests.length;)this._callback(this.requests.pop(),new Error("peer is choking"),null)}_onUnchoke(){this.peerChoking=!1,this._debug("got unchoke"),this.emit("unchoke")}_onInterested(){this.peerInterested=!0,this._debug("got interested"),this.emit("interested")}_onUninterested(){this.peerInterested=!1,this._debug("got uninterested"),this.emit("uninterested")}_onHave(L){this.peerPieces.get(L)||(this._debug("got have %d",L),this.peerPieces.set(L,!0),this.emit("have",L))}_onBitField(L){this.peerPieces=new n(L),this._debug("got bitfield"),this.emit("bitfield",this.peerPieces)}_onRequest(L,Y,se){if(this.amChoking&&(!this.hasFast||!this.allowedFastSet.includes(L)))return void(this.hasFast&&this.reject(L,Y,se));this._debug("got request index=%d offset=%d length=%d",L,Y,se);const Ee=(Ie,Qe)=>Se===this._pull(this.peerRequests,L,Y,se)?Ie?(this._debug("error satisfying request index=%d offset=%d length=%d (%s)",L,Y,se,Ie.message),void(this.hasFast&&this.reject(L,Y,se))):void this.piece(L,Y,Qe):void 0,Se=new v(L,Y,se,Ee);this.peerRequests.push(Se),this.emit("request",L,Y,se,Ee)}_onPiece(L,Y,se){this._debug("got piece index=%d offset=%d",L,Y),this._callback(this._pull(this.requests,L,Y,se.length),null,se),this.downloaded+=se.length,this.downloadSpeed(se.length),this.emit("download",se.length),this.emit("piece",L,Y,se)}_onCancel(L,Y,se){this._debug("got cancel index=%d offset=%d length=%d",L,Y,se),this._pull(this.peerRequests,L,Y,se),this.emit("cancel",L,Y,se)}_onPort(L){this._debug("got port %d",L),this.emit("port",L)}_onSuggest(L){return this.hasFast?(this._debug("got suggest %d",L),void this.emit("suggest",L)):(this._debug("Error: got suggest whereas fast extension is disabled"),void this.destroy())}_onHaveAll(){return this.hasFast?(this._debug("got have-all"),this.peerPieces=new B,void this.emit("have-all")):(this._debug("Error: got have-all whereas fast extension is disabled"),void this.destroy())}_onHaveNone(){return this.hasFast?(this._debug("got have-none"),void this.emit("have-none")):(this._debug("Error: got have-none whereas fast extension is disabled"),void this.destroy())}_onReject(L,Y,se){return this.hasFast?(this._debug("got reject index=%d offset=%d length=%d",L,Y,se),this._callback(this._pull(this.requests,L,Y,se),new Error("request was rejected"),null),void this.emit("reject",L,Y,se)):(this._debug("Error: got reject whereas fast extension is disabled"),void this.destroy())}_onAllowedFast(L){return this.hasFast?(this._debug("got allowed-fast %d",L),!this.peerAllowedFastSet.includes(L)&&this.peerAllowedFastSet.push(L),this.peerAllowedFastSet.length>100&&this.peerAllowedFastSet.shift(),void this.emit("allowed-fast",L)):(this._debug("Error: got allowed-fast whereas fast extension is disabled"),void this.destroy())}_onExtended(L,Y){if(0===L){let se;try{se=_.decode(Y)}catch(Ee){this._debug("ignoring invalid extended handshake: %s",Ee.message||Ee)}if(!se)return;if(this.peerExtendedHandshake=se,"object"==typeof se.m)for(const Ee in se.m)this.peerExtendedMapping[Ee]=+se.m[Ee].toString();for(const Ee in this._ext)this.peerExtendedMapping[Ee]&&this._ext[Ee].onExtendedHandshake(this.peerExtendedHandshake);this._debug("got extended handshake"),this.emit("extended","handshake",this.peerExtendedHandshake)}else this.extendedMapping[L]&&this._ext[L=this.extendedMapping[L]]&&this._ext[L].onMessage(Y),this._debug("got extended message ext=%s",L),this.emit("extended",L,Y)}_onTimeout(){this._debug("request timed out"),this._callback(this.requests.shift(),new Error("request has timed out"),null),this.emit("timeout")}_write(L,Y,se){if(2===this._encryptionMethod&&this._cryptoHandshakeDone&&(L=this._decrypt(L)),this._bufferSize+=L.length,this._buffer.push(L),1<this._buffer.length&&(this._buffer=[f.concat(this._buffer,this._bufferSize)]),this._cryptoSyncPattern){const Ee=this._buffer[0].indexOf(this._cryptoSyncPattern);if(-1!==Ee)this._buffer[0]=this._buffer[0].slice(Ee+this._cryptoSyncPattern.length),this._bufferSize-=Ee+this._cryptoSyncPattern.length,this._cryptoSyncPattern=null;else if(this._bufferSize+L.length>this._waitMaxBytes+this._cryptoSyncPattern.length)return this._debug("Error: could not resynchronize"),void this.destroy()}for(;this._bufferSize>=this._parserSize&&!this._cryptoSyncPattern;)if(0===this._parserSize)this._parser(f.from([]));else{const Ee=this._buffer[0];this._bufferSize-=this._parserSize,this._buffer=this._bufferSize?[Ee.slice(this._parserSize)]:[],this._parser(Ee.slice(0,this._parserSize))}se(null)}_callback(L,Y,se){L&&(this._resetTimeout(!this.peerChoking&&!this._finished),L.callback(Y,se))}_resetTimeout(L){if(!L||!this._timeoutMs||!this.requests.length)return clearTimeout(this._timeout),this._timeout=null,void(this._timeoutExpiresAt=null);const Y=Date.now()+this._timeoutMs;if(this._timeout){if(Y-this._timeoutExpiresAt<.05*this._timeoutMs)return;clearTimeout(this._timeout)}this._timeoutExpiresAt=Y,this._timeout=setTimeout(()=>this._onTimeout(),this._timeoutMs),this._timeoutUnref&&this._timeout.unref&&this._timeout.unref()}_parse(L,Y){this._parserSize=L,this._parser=Y}_parseUntil(L,Y){this._cryptoSyncPattern=L,this._waitMaxBytes=Y}_onMessageLength(L){const Y=L.readUInt32BE(0);0<Y?this._parse(Y,this._onMessage):(this._onKeepAlive(),this._parse(4,this._onMessageLength))}_onMessage(L){switch(this._parse(4,this._onMessageLength),L[0]){case 0:return this._onChoke();case 1:return this._onUnchoke();case 2:return this._onInterested();case 3:return this._onUninterested();case 4:return this._onHave(L.readUInt32BE(1));case 5:return this._onBitField(L.slice(1));case 6:return this._onRequest(L.readUInt32BE(1),L.readUInt32BE(5),L.readUInt32BE(9));case 7:return this._onPiece(L.readUInt32BE(1),L.readUInt32BE(5),L.slice(9));case 8:return this._onCancel(L.readUInt32BE(1),L.readUInt32BE(5),L.readUInt32BE(9));case 9:return this._onPort(L.readUInt16BE(1));case 13:return this._onSuggest(L.readUInt32BE(1));case 14:return this._onHaveAll();case 15:return this._onHaveNone();case 16:return this._onReject(L.readUInt32BE(1),L.readUInt32BE(5),L.readUInt32BE(9));case 17:return this._onAllowedFast(L.readUInt32BE(1));case 20:return this._onExtended(L.readUInt8(1),L.slice(2));default:return this._debug("got unknown message"),this.emit("unknownmessage",L)}}_determineHandshakeType(){this._parse(1,L=>{const Y=L.readUInt8(0);19===Y?this._parse(Y+48,this._onHandshakeBuffer):this._parsePe1(L)})}_parsePe1(L){this._parse(95,Y=>{this._onPe1(f.concat([L,Y])),this._parsePe3()})}_parsePe2(){this._parse(96,L=>{for(this._onPe2(L);!this._setGenerators;);this._parsePe4()})}_parsePe3(){const L=f.from(u.sync(f.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex");this._parseUntil(L,512),this._parse(20,Y=>{for(this._onPe3(Y);!this._setGenerators;);this._parsePe3Encrypted()})}_parsePe3Encrypted(){this._parse(14,L=>{const Y=this._decryptHandshake(L.slice(0,8)),se=this._decryptHandshake(L.slice(8,12)),Ee=this._decryptHandshake(L.slice(12,14)).readUInt16BE(0);this._parse(Ee,Se=>{Se=this._decryptHandshake(Se),this._parse(2,Ie=>{const Qe=this._decryptHandshake(Ie).readUInt16BE(0);this._parse(Qe,Je=>{Je=this._decryptHandshake(Je),this._onPe3Encrypted(Y,se,Se,Je);const ut=Qe?Je.readUInt8(0):null,$t=Qe?Je.slice(1,20):null;19===ut&&"BitTorrent protocol"===$t.toString()?this._onHandshakeBuffer(Je.slice(1)):this._parseHandshake()})})})})}_parsePe4(){const L=this._decryptHandshake(T);this._parseUntil(L,512),this._parse(6,Y=>{const se=this._decryptHandshake(Y.slice(0,4)),Ee=this._decryptHandshake(Y.slice(4,6)).readUInt16BE(0);this._parse(Ee,Se=>{this._decryptHandshake(Se),this._onPe4(se),this._parseHandshake(null)})})}_parseHandshake(){this._parse(1,L=>{const Y=L.readUInt8(0);return 19===Y?void this._parse(Y+48,this._onHandshakeBuffer):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",Y.toString()),void this.end())})}_onHandshakeBuffer(L){const Y=L.slice(0,19);return"BitTorrent protocol"===Y.toString()?(L=L.slice(19),this._onHandshake(L.slice(8,28),L.slice(28,48),{dht:!!(1&L[7]),fast:!!(4&L[7]),extended:!!(16&L[5])}),void this._parse(4,this._onMessageLength)):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",Y.toString()),void this.end())}_onFinish(){for(this._finished=!0,this.push(null);this.read(););for(clearInterval(this._keepAliveInterval),this._parse(Number.MAX_VALUE,()=>{});this.peerRequests.length;)this.peerRequests.pop();for(;this.requests.length;)this._callback(this.requests.pop(),new Error("wire was closed"),null)}_debug(...L){L[0]=`[${this._debugId}] ${L[0]}`,h(...L)}_pull(L,Y,se,Ee){for(let Se=0;Se<L.length;Se++){const Ie=L[Se];if(Ie.piece===Y&&Ie.offset===se&&Ie.length===Ee)return m(L,Se),Ie}return null}_encryptHandshake(L){const Y=f.from(L);if(!this._encryptGenerator)return this._debug("Warning: Encrypting without any generator"),Y;for(let se=0;se<L.length;se++){const Ee=this._encryptGenerator.randomByte();Y[se]^=Ee}return Y}_encrypt(L){const Y=f.from(L);if(!this._encryptGenerator||2!==this._encryptionMethod)return Y;for(let se=0;se<L.length;se++){const Ee=this._encryptGenerator.randomByte();Y[se]^=Ee}return Y}_decryptHandshake(L){const Y=f.from(L);if(!this._decryptGenerator)return this._debug("Warning: Decrypting without any generator"),Y;for(let se=0;se<L.length;se++){const Ee=this._decryptGenerator.randomByte();Y[se]^=Ee}return Y}_decrypt(L){const Y=f.from(L);if(!this._decryptGenerator||2!==this._encryptionMethod)return Y;for(let se=0;se<L.length;se++){const Ee=this._decryptGenerator.randomByte();Y[se]^=Ee}return Y}_utfToHex(L){return f.from(L,"utf8").toString("hex")}}}).call(this)}).call(this,d("buffer").Buffer)},{bencode:27,bitfield:31,buffer:76,crypto:90,debug:91,randombytes:209,rc4:213,"readable-stream":228,"simple-sha1":248,speedometer:255,"unordered-array-remove":273}],33:[function(d,N,A){(function(f,b){(function(){const m=d("debug")("bittorrent-tracker:client"),_=d("events"),n=d("once"),g=d("run-parallel"),h=d("simple-peer"),s=d("queue-microtask"),u=d("./lib/common"),o=d("./lib/client/http-tracker"),t=d("./lib/client/udp-tracker"),r=d("./lib/client/websocket-tracker");class a extends _{constructor(l={}){if(super(),!l.peerId)throw new Error("Option `peerId` is required");if(!l.infoHash)throw new Error("Option `infoHash` is required");if(!l.announce)throw new Error("Option `announce` is required");if(!f.browser&&!l.port)throw new Error("Option `port` is required");this.peerId="string"==typeof l.peerId?l.peerId:l.peerId.toString("hex"),this._peerIdBuffer=b.from(this.peerId,"hex"),this._peerIdBinary=this._peerIdBuffer.toString("binary"),this.infoHash="string"==typeof l.infoHash?l.infoHash.toLowerCase():l.infoHash.toString("hex"),this._infoHashBuffer=b.from(this.infoHash,"hex"),this._infoHashBinary=this._infoHashBuffer.toString("binary"),m("new client %s",this.infoHash),this.destroyed=!1,this._port=l.port,this._getAnnounceOpts=l.getAnnounceOpts,this._rtcConfig=l.rtcConfig,this._userAgent=l.userAgent,this._proxyOpts=l.proxyOpts,this._wrtc="function"==typeof l.wrtc?l.wrtc():l.wrtc;let w="string"==typeof l.announce?[l.announce]:null==l.announce?[]:l.announce;w=w.map(z=>("/"===(z=z.toString())[z.length-1]&&(z=z.substring(0,z.length-1)),z)),w=Array.from(new Set(w));const E=!1!==this._wrtc&&(!!this._wrtc||h.WEBRTC_SUPPORT),C=z=>{s(()=>{this.emit("warning",z)})};this._trackers=w.map(z=>{let k;try{k=u.parseUrl(z)}catch{return C(new Error(`Invalid tracker URL: ${z}`)),null}const I=k.port;if(0>I||65535<I)return C(new Error(`Invalid tracker port: ${z}`)),null;const V=k.protocol;return"http:"!==V&&"https:"!==V||"function"!=typeof o?"udp:"===V&&"function"==typeof t?new t(this,z):"ws:"!==V&&"wss:"!==V||!E||"ws:"===V&&typeof window<"u"&&"https:"===window.location.protocol?(C(new Error(`Unsupported tracker protocol: ${z}`)),null):new r(this,z):new o(this,z)}).filter(Boolean)}start(l){(l=this._defaultAnnounceOpts(l)).event="started",m("send `start` %o",l),this._announce(l),this._trackers.forEach(w=>{w.setInterval()})}stop(l){(l=this._defaultAnnounceOpts(l)).event="stopped",m("send `stop` %o",l),this._announce(l)}complete(l){l||(l={}),(l=this._defaultAnnounceOpts(l)).event="completed",m("send `complete` %o",l),this._announce(l)}update(l){(l=this._defaultAnnounceOpts(l)).event&&delete l.event,m("send `update` %o",l),this._announce(l)}_announce(l){this._trackers.forEach(w=>{w.announce(l)})}scrape(l){m("send `scrape`"),l||(l={}),this._trackers.forEach(w=>{w.scrape(l)})}setInterval(l){m("setInterval %d",l),this._trackers.forEach(w=>{w.setInterval(l)})}destroy(l){if(!this.destroyed){this.destroyed=!0,m("destroy");const w=this._trackers.map(E=>C=>{E.destroy(C)});g(w,l),this._trackers=[],this._getAnnounceOpts=null}}_defaultAnnounceOpts(l={}){return null==l.numwant&&(l.numwant=u.DEFAULT_ANNOUNCE_PEERS),null==l.uploaded&&(l.uploaded=0),null==l.downloaded&&(l.downloaded=0),this._getAnnounceOpts&&(l=Object.assign({},l,this._getAnnounceOpts())),l}}a.scrape=(c,l)=>{if(l=n(l),!c.infoHash)throw new Error("Option `infoHash` is required");if(!c.announce)throw new Error("Option `announce` is required");const w=Object.assign({},c,{infoHash:Array.isArray(c.infoHash)?c.infoHash[0]:c.infoHash,peerId:b.from("01234567890123456789"),port:6881}),E=new a(w);E.once("error",l),E.once("warning",l);let C=Array.isArray(c.infoHash)?c.infoHash.length:1;const z={};return E.on("scrape",k=>{if(C-=1,z[k.infoHash]=k,0===C){E.destroy();const I=Object.keys(z);l(null,1===I.length?z[I[0]]:z)}}),c.infoHash=Array.isArray(c.infoHash)?c.infoHash.map(k=>b.from(k,"hex")):b.from(c.infoHash,"hex"),E.scrape({infoHash:c.infoHash}),E},N.exports=a}).call(this)}).call(this,d("_process"),d("buffer").Buffer)},{"./lib/client/http-tracker":42,"./lib/client/udp-tracker":42,"./lib/client/websocket-tracker":35,"./lib/common":36,_process:193,buffer:76,debug:91,events:123,once:178,"queue-microtask":206,"run-parallel":233,"simple-peer":247}],34:[function(d,N,A){const f=d("events");N.exports=class b extends f{constructor(_,n){super(),this.client=_,this.announceUrl=n,this.interval=null,this.destroyed=!1}setInterval(_){null==_&&(_=this.DEFAULT_ANNOUNCE_INTERVAL),clearInterval(this.interval),_&&(this.interval=setInterval(()=>{this.announce(this.client._defaultAnnounceOpts())},_),this.interval.unref&&this.interval.unref())}}},{events:123}],35:[function(d,N,A){function f(){}const b=d("clone"),m=d("debug")("bittorrent-tracker:websocket-tracker"),_=d("simple-peer"),n=d("randombytes"),g=d("simple-websocket"),h=d("socks"),s=d("../common"),u=d("./tracker"),o={},c=5e4;class l extends u{constructor(E,C){super(E,C),m("new websocket tracker %s",C),this.peers={},this.socket=null,this.reconnecting=!1,this.retries=0,this.reconnectTimer=null,this.expectingResponse=!1,this._openSocket()}announce(E){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.announce(E)});const C=Object.assign({},E,{action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary});if(this._trackerId&&(C.trackerid=this._trackerId),"stopped"===E.event||"completed"===E.event)this._send(C);else{const z=ne(E.numwant,5);this._generateOffers(z,k=>{C.numwant=z,C.offers=k,this._send(C)})}}scrape(E){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.scrape(E)});const C=Array.isArray(E.infoHash)&&0<E.infoHash.length?E.infoHash.map(k=>k.toString("binary")):E.infoHash&&E.infoHash.toString("binary")||this.client._infoHashBinary;this._send({action:"scrape",info_hash:C})}destroy(E=f){function C(){k&&(clearTimeout(k),k=null),z.removeListener("data",C),z.destroy(),z=null}if(this.destroyed)return E(null);for(const I in this.destroyed=!0,clearInterval(this.interval),clearTimeout(this.reconnectTimer),this.peers){const V=this.peers[I];clearTimeout(V.trackerTimeout),V.destroy()}if(this.peers=null,this.socket&&(this.socket.removeListener("connect",this._onSocketConnectBound),this.socket.removeListener("data",this._onSocketDataBound),this.socket.removeListener("close",this._onSocketCloseBound),this.socket.removeListener("error",this._onSocketErrorBound),this.socket=null),this._onSocketConnectBound=null,this._onSocketErrorBound=null,this._onSocketDataBound=null,this._onSocketCloseBound=null,o[this.announceUrl]&&(o[this.announceUrl].consumers-=1),0<o[this.announceUrl].consumers)return E();let k,z=o[this.announceUrl];return delete o[this.announceUrl],z.on("error",f),z.once("close",E),this.expectingResponse?(k=setTimeout(C,s.DESTROY_TIMEOUT),void z.once("data",C)):C()}_openSocket(){if(this.destroyed=!1,this.peers||(this.peers={}),this._onSocketConnectBound=()=>{this._onSocketConnect()},this._onSocketErrorBound=E=>{this._onSocketError(E)},this._onSocketDataBound=E=>{this._onSocketData(E)},this._onSocketCloseBound=()=>{this._onSocketClose()},this.socket=o[this.announceUrl],this.socket)o[this.announceUrl].consumers+=1,this.socket.connected&&this._onSocketConnectBound();else{const E=new URL(this.announceUrl);let C;this.client._proxyOpts&&(C="wss:"===E.protocol?this.client._proxyOpts.httpsAgent:this.client._proxyOpts.httpAgent,!C&&this.client._proxyOpts.socksProxy&&(C=new h.Agent(b(this.client._proxyOpts.socksProxy),"wss:"===E.protocol))),this.socket=o[this.announceUrl]=new g({url:this.announceUrl,agent:C}),this.socket.consumers=1,this.socket.once("connect",this._onSocketConnectBound)}this.socket.on("data",this._onSocketDataBound),this.socket.once("close",this._onSocketCloseBound),this.socket.once("error",this._onSocketErrorBound)}_onSocketConnect(){this.destroyed||this.reconnecting&&(this.reconnecting=!1,this.retries=0,this.announce(this.client._defaultAnnounceOpts()))}_onSocketData(E){if(!this.destroyed){this.expectingResponse=!1;try{E=JSON.parse(E)}catch{return void this.client.emit("warning",new Error("Invalid tracker response"))}"announce"===E.action?this._onAnnounceResponse(E):"scrape"===E.action?this._onScrapeResponse(E):this._onSocketError(new Error(`invalid action in WS response: ${E.action}`))}}_onAnnounceResponse(E){if(E.info_hash!==this.client._infoHashBinary)return void m("ignoring websocket data from %s for %s (looking for %s: reused socket)",this.announceUrl,s.binaryToHex(E.info_hash),this.client.infoHash);if(E.peer_id&&E.peer_id===this.client._peerIdBinary)return;m("received %s from %s for %s",JSON.stringify(E),this.announceUrl,this.client.infoHash);const C=E["failure reason"];if(C)return this.client.emit("warning",new Error(C));const z=E["warning message"];z&&this.client.emit("warning",new Error(z));const k=E.interval||E["min interval"];k&&this.setInterval(1e3*k);const I=E["tracker id"];if(I&&(this._trackerId=I),null!=E.complete){const $=Object.assign({},E,{announce:this.announceUrl,infoHash:s.binaryToHex(E.info_hash)});this.client.emit("update",$)}let V;if(E.offer&&E.peer_id&&(m("creating peer (from remote offer)"),V=this._createPeer(),V.id=s.binaryToHex(E.peer_id),V.once("signal",$=>{const oe={action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary,to_peer_id:E.peer_id,answer:$,offer_id:E.offer_id};this._trackerId&&(oe.trackerid=this._trackerId),this._send(oe)}),this.client.emit("peer",V),V.signal(E.offer)),E.answer&&E.peer_id){const $=s.binaryToHex(E.offer_id);V=this.peers[$],V?(V.id=s.binaryToHex(E.peer_id),this.client.emit("peer",V),V.signal(E.answer),clearTimeout(V.trackerTimeout),V.trackerTimeout=null,delete this.peers[$]):m(`got unexpected answer: ${JSON.stringify(E.answer)}`)}}_onScrapeResponse(E){E=E.files||{};const C=Object.keys(E);return 0===C.length?void this.client.emit("warning",new Error("invalid scrape response")):void C.forEach(z=>{const k=Object.assign(E[z],{announce:this.announceUrl,infoHash:s.binaryToHex(z)});this.client.emit("scrape",k)})}_onSocketClose(){this.destroyed||(this.destroy(),this._startReconnectTimer())}_onSocketError(E){this.destroyed||(this.destroy(),this.client.emit("warning",E),this._startReconnectTimer())}_startReconnectTimer(){const E=xt(3e5*Math.random())+ne(1e4*H(2,this.retries),36e5);this.reconnecting=!0,clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>{this.retries++,this._openSocket()},E),this.reconnectTimer.unref&&this.reconnectTimer.unref(),m("reconnecting socket in %s ms",E)}_send(E){if(!this.destroyed){this.expectingResponse=!0;const C=JSON.stringify(E);m("send %s",C),this.socket.send(C)}}_generateOffers(E,C){function z(){const $=n(20).toString("hex");m("creating peer (from _generateOffers)");const oe=I.peers[$]=I._createPeer({initiator:!0});oe.once("signal",ue=>{V.push({offer:ue,offer_id:s.hexToBinary($)}),k()}),oe.trackerTimeout=setTimeout(()=>{m("tracker timeout: destroying peer"),oe.trackerTimeout=null,delete I.peers[$],oe.destroy()},c),oe.trackerTimeout.unref&&oe.trackerTimeout.unref()}function k(){V.length===E&&(m("generated %s offers",E),C(V))}const I=this,V=[];m("generating %s offers",E);for(let $=0;$<E;++$)z();k()}_createPeer(E){function C(V){k.client.emit("warning",new Error(`Connection error: ${V.message}`)),I.destroy()}const k=this;E=Object.assign({trickle:!1,config:k.client._rtcConfig,wrtc:k.client._wrtc},E);const I=new _(E);return I.once("error",C),I.once("connect",function z(){I.removeListener("error",C),I.removeListener("connect",z)}),I}}l.prototype.DEFAULT_ANNOUNCE_INTERVAL=3e4,l._socketPool=o,N.exports=l},{"../common":36,"./tracker":34,clone:81,debug:91,randombytes:209,"simple-peer":247,"simple-websocket":250,socks:42}],36:[function(d,N,A){(function(f){(function(){A.DEFAULT_ANNOUNCE_PEERS=50,A.MAX_ANNOUNCE_PEERS=82,A.binaryToHex=m=>("string"!=typeof m&&(m+=""),f.from(m,"binary").toString("hex")),A.hexToBinary=m=>("string"!=typeof m&&(m+=""),f.from(m,"hex").toString("binary")),A.parseUrl=m=>{const _=new URL(m.replace(/^udp:/,"http:"));return m.match(/^udp:/)&&Object.defineProperties(_,{href:{value:_.href.replace(/^http/,"udp")},protocol:{value:_.protocol.replace(/^http/,"udp")},origin:{value:_.origin.replace(/^http/,"udp")}}),_};const b=d("./common-node");Object.assign(A,b)}).call(this)}).call(this,d("buffer").Buffer)},{"./common-node":42,buffer:76}],37:[function(d,N,A){(function(f){(function(){N.exports=function(m,_){if(typeof Blob>"u"||!(m instanceof Blob))throw new Error("first argument must be a Blob");if("function"!=typeof _)throw new Error("second argument must be a function");const g=new FileReader;g.addEventListener("loadend",function n(h){g.removeEventListener("loadend",n,!1),h.error?_(h.error):_(null,f.from(g.result))},!1),g.readAsArrayBuffer(m)}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76}],38:[function(d,N,A){function f(b,m){if("string"==typeof b[0])return b.join("");if("number"==typeof b[0])return new Uint8Array(b);const _=new Uint8Array(m);let n=0;for(let g=0,h=b.length;g<h;g++){const s=b[g];_.set(s,n),n+=s.byteLength||s.length}return _}N.exports=async function*(b,m=512,_={}){"object"==typeof m&&(m=(_=m).size);let{nopad:n,zeroPadding:g=!0}=_;n&&(g=!1);let h=[],s=0;for await(const u of b)if(s+=u.byteLength||u.length||1,h.push(u),s>=m){const o=f(h,s);let t=0;for(;s>=m;)yield o.slice(t,t+m),s-=m,t+=m;h=[o.slice(t,o.length)]}s&&(yield f(h,g?m:s))}},{}],39:[function(d,N,A){(function(f){(function(){const{Transform:b}=d("readable-stream");N.exports=class m extends b{constructor(n,g={}){super(g),"object"==typeof n&&(n=(g=n).size),this.size=n||512;const{nopad:h,zeroPadding:s=!0}=g;this._zeroPadding=!h&&!!s,this._buffered=[],this._bufferedBytes=0}_transform(n,g,h){for(this._bufferedBytes+=n.length,this._buffered.push(n);this._bufferedBytes>=this.size;){this._bufferedBytes-=this.size;const s=[];for(let u=0;u<this.size;){const o=this._buffered.shift();if(u+o.length<=this.size)s.push(o),u+=o.length;else{const t=this.size-u;s.push(o.slice(0,t)),u+=t,this._buffered.unshift(o.slice(t))}}this.push(f.concat(s,this.size))}h()}_flush(){if(this._bufferedBytes&&this._zeroPadding){const n=f.alloc(this.size-this._bufferedBytes);this._buffered.push(n),this.push(f.concat(this._buffered)),this._buffered=null}else this._bufferedBytes&&(this.push(f.concat(this._buffered)),this._buffered=null);this.push(null)}}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76,"readable-stream":228}],40:[function(d,N,A){!function(f,b){"use strict";function m(M,v){if(!M)throw new Error(v||"Assertion failed")}function _(M,v){M.super_=v;var B=function(){};B.prototype=v.prototype,M.prototype=new B,M.prototype.constructor=M}function n(M,v,B){return n.isBN(M)?M:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==M&&(("le"===v||"be"===v)&&(B=v,v=10),this._init(M||0,v||10,B||"be"))))}function g(M,v){var B=M.charCodeAt(v);return 48<=B&&57>=B?B-48:65<=B&&70>=B?B-55:97<=B&&102>=B?B-87:void m(!1,"Invalid character in "+M)}function h(M,v,B){var F=g(M,B);return B-1>=v&&(F|=g(M,B-1)<<4),F}function s(M,v,B,F){for(var Ee,q=0,L=0,Y=ne(M.length,B),se=v;se<Y;se++)q*=F,L=49<=(Ee=M.charCodeAt(se)-48)?Ee-49+10:17<=Ee?Ee-17+10:Ee,m(0<=Ee&&L<F,"Invalid character"),q+=L;return q}function u(M,v){M.words=v.words,M.length=v.length,M.negative=v.negative,M.red=v.red}function o(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}function r(M,v,B){B.negative=v.negative^M.negative;var F=0|M.length+v.length;B.length=F,F=0|F-1;var q=0|M.words[0],L=0|v.words[0],Y=q*L,Ee=0|Y/67108864;B.words[0]=67108863&Y;for(var Se=1;Se<F;Se++){for(var Ie=Ee>>>26,Qe=67108863&Ee,Je=ne(Se,v.length-1),ut=pe(0,Se-M.length+1);ut<=Je;ut++)Ie+=0|(Y=(q=0|M.words[0|Se-ut])*(L=0|v.words[ut])+Qe)/67108864,Qe=67108863&Y;B.words[Se]=0|Qe,Ee=0|Ie}return 0===Ee?B.length--:B.words[Se]=0|Ee,B._strip()}function a(M,v,B){B.negative=v.negative^M.negative,B.length=M.length+v.length;for(var Y,F=0,q=0,L=0;L<B.length-1;L++){Y=q,q=0;for(var se=67108863&F,Ee=ne(L,v.length-1),Se=pe(0,L-M.length+1);Se<=Ee;Se++){var ut=(0|M.words[L-Se])*(0|v.words[Se]),$t=67108863&ut;se=67108863&($t=0|$t+se),q+=(Y=0|(Y=0|Y+(0|ut/67108864))+($t>>>26))>>>26,Y&=67108863}B.words[L]=se,F=Y,Y=q}return 0===F?B.length--:B.words[L]=F,B._strip()}function c(M,v,B){return a(M,v,B)}function l(M,v){this.x=M,this.y=v}function w(M,v){this.name=M,this.p=new n(v,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function C(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function z(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(M){if("string"==typeof M){var v=n._prime(M);this.m=v.p,this.prime=v}else m(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}function V(M){I.call(this,M),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}var $;"object"==typeof f?f.exports=n:b.BN=n,n.BN=n,n.wordSize=26;try{$=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:d("buffer").Buffer}catch{}if(n.isBN=function(v){return v instanceof n||null!==v&&"object"==typeof v&&v.constructor.wordSize===n.wordSize&&Array.isArray(v.words)},n.max=function(v,B){return 0<v.cmp(B)?v:B},n.min=function(v,B){return 0>v.cmp(B)?v:B},n.prototype._init=function(v,B,F){if("number"==typeof v)return this._initNumber(v,B,F);if("object"==typeof v)return this._initArray(v,B,F);"hex"===B&&(B=16),m(B===(0|B)&&2<=B&&36>=B);var q=0;"-"===(v=v.toString().replace(/\s+/g,""))[0]&&(q++,this.negative=1),q<v.length&&(16===B?this._parseHex(v,q,F):(this._parseBase(v,B,q),"le"===F&&this._initArray(this.toArray(),B,F)))},n.prototype._initNumber=function(v,B,F){0>v&&(this.negative=1,v=-v),67108864>v?(this.words=[67108863&v],this.length=1):4503599627370496>v?(this.words=[67108863&v,67108863&v/67108864],this.length=2):(m(9007199254740992>v),this.words=[67108863&v,67108863&v/67108864,1],this.length=3),"le"!==F||this._initArray(this.toArray(),B,F)},n.prototype._initArray=function(v,B,F){if(m("number"==typeof v.length),0>=v.length)return this.words=[0],this.length=1,this;this.length=_e(v.length/3),this.words=Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var Y,se,L=0;if("be"===F)for(q=v.length-1,Y=0;0<=q;q-=3)this.words[Y]|=67108863&(se=v[q]|v[q-1]<<8|v[q-2]<<16)<<L,this.words[Y+1]=67108863&se>>>26-L,26<=(L+=24)&&(L-=26,Y++);else if("le"===F)for(q=0,Y=0;q<v.length;q+=3)this.words[Y]|=67108863&(se=v[q]|v[q+1]<<8|v[q+2]<<16)<<L,this.words[Y+1]=67108863&se>>>26-L,26<=(L+=24)&&(L-=26,Y++);return this._strip()},n.prototype._parseHex=function(v,B,F){this.length=_e((v.length-B)/6),this.words=Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var se,L=0,Y=0;if("be"===F)for(q=v.length-1;q>=B;q-=2)se=h(v,B,q)<<L,this.words[Y]|=67108863&se,18<=L?(L-=18,this.words[Y+=1]|=se>>>26):L+=8;else for(q=(v.length-B)%2==0?B+1:B;q<v.length;q+=2)se=h(v,B,q)<<L,this.words[Y]|=67108863&se,18<=L?(L-=18,this.words[Y+=1]|=se>>>26):L+=8;this._strip()},n.prototype._parseBase=function(v,B,F){this.words=[0],this.length=1;for(var q=0,L=1;67108863>=L;L*=B)q++;q--,L=0|L/B;for(var Y=v.length-F,se=Y%q,Ee=ne(Y,Y-se)+F,Se=0,Ie=F;Ie<Ee;Ie+=q)Se=s(v,Ie,Ie+q,B),this.imuln(L),67108864>this.words[0]+Se?this.words[0]+=Se:this._iaddn(Se);if(0!==se){var Qe=1;for(Se=s(v,Ie,v.length,B),Ie=0;Ie<se;Ie++)Qe*=B;this.imuln(Qe),67108864>this.words[0]+Se?this.words[0]+=Se:this._iaddn(Se)}this._strip()},n.prototype.copy=function(v){v.words=Array(this.length);for(var B=0;B<this.length;B++)v.words[B]=this.words[B];v.length=this.length,v.negative=this.negative,v.red=this.red},n.prototype._move=function(v){u(v,this)},n.prototype.clone=function(){var v=new n(null);return this.copy(v),v},n.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=o}catch{n.prototype.inspect=o}else n.prototype.inspect=o;var oe=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ue=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Ae=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(v,B){var F;if(B=0|B||1,16===(v=v||10)||"hex"===v){F="";for(var q=0,L=0,Y=0;Y<this.length;Y++){var se=this.words[Y],Ee=(16777215&(se<<q|L)).toString(16);L=16777215&se>>>24-q,26<=(q+=2)&&(q-=26,Y--),F=0!==L||Y!==this.length-1?oe[6-Ee.length]+Ee+F:Ee+F}for(0!==L&&(F=L.toString(16)+F);F.length%B!=0;)F="0"+F;return 0!==this.negative&&(F="-"+F),F}if(v===(0|v)&&2<=v&&36>=v){var Se=ue[v],Ie=Ae[v];F="";var Qe=this.clone();for(Qe.negative=0;!Qe.isZero();){var Je=Qe.modrn(Ie).toString(v);F=(Qe=Qe.idivn(Ie)).isZero()?Je+F:oe[Se-Je.length]+Je+F}for(this.isZero()&&(F="0"+F);F.length%B!=0;)F="0"+F;return 0!==this.negative&&(F="-"+F),F}m(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var v=this.words[0];return 2===this.length?v+=67108864*this.words[1]:3===this.length&&1===this.words[2]?v+=4503599627370496+67108864*this.words[1]:2<this.length&&m(!1,"Number can only safely store up to 53 bits"),0===this.negative?v:-v},n.prototype.toJSON=function(){return this.toString(16,2)},$&&(n.prototype.toBuffer=function(v,B){return this.toArrayLike($,v,B)}),n.prototype.toArray=function(v,B){return this.toArrayLike(Array,v,B)},n.prototype.toArrayLike=function(v,B,F){this._strip();var q=this.byteLength(),L=F||pe(1,q);m(q<=L,"byte array longer than desired length"),m(0<L,"Requested array length <= 0");var Y=function(v,B){return v.allocUnsafe?v.allocUnsafe(B):new v(B)}(v,L);return this["_toArrayLike"+("le"===B?"LE":"BE")](Y,q),Y},n.prototype._toArrayLikeLE=function(v,B){for(var se,F=0,q=0,L=0,Y=0;L<this.length;L++)v[F++]=255&(se=this.words[L]<<Y|q),F<v.length&&(v[F++]=255&se>>8),F<v.length&&(v[F++]=255&se>>16),6==Y?(F<v.length&&(v[F++]=255&se>>24),q=0,Y=0):(q=se>>>24,Y+=2);if(F<v.length)for(v[F++]=q;F<v.length;)v[F++]=0},n.prototype._toArrayLikeBE=function(v,B){for(var se,F=v.length-1,q=0,L=0,Y=0;L<this.length;L++)v[F--]=255&(se=this.words[L]<<Y|q),0<=F&&(v[F--]=255&se>>8),0<=F&&(v[F--]=255&se>>16),6==Y?(0<=F&&(v[F--]=255&se>>24),q=0,Y=0):(q=se>>>24,Y+=2);if(0<=F)for(v[F--]=q;0<=F;)v[F--]=0},n.prototype._countBits=he?function(v){return 32-he(v)}:function(v){var B=v,F=0;return 4096<=B&&(F+=13,B>>>=13),64<=B&&(F+=7,B>>>=7),8<=B&&(F+=4,B>>>=4),2<=B&&(F+=2,B>>>=2),F+B},n.prototype._zeroBits=function(v){if(0===v)return 26;var B=v,F=0;return!(8191&B)&&(F+=13,B>>>=13),!(127&B)&&(F+=7,B>>>=7),!(15&B)&&(F+=4,B>>>=4),!(3&B)&&(F+=2,B>>>=2),!(1&B)&&F++,F},n.prototype.bitLength=function(){var B=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+B},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var F,v=0,B=0;B<this.length&&(v+=F=this._zeroBits(this.words[B]),26===F);B++);return v},n.prototype.byteLength=function(){return _e(this.bitLength()/8)},n.prototype.toTwos=function(v){return 0===this.negative?this.clone():this.abs().inotn(v).iaddn(1)},n.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var B=0;B<v.length;B++)this.words[B]|=v.words[B];return this._strip()},n.prototype.ior=function(v){return m(0==(this.negative|v.negative)),this.iuor(v)},n.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},n.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},n.prototype.iuand=function(v){var B;B=this.length>v.length?v:this;for(var F=0;F<B.length;F++)this.words[F]&=v.words[F];return this.length=B.length,this._strip()},n.prototype.iand=function(v){return m(0==(this.negative|v.negative)),this.iuand(v)},n.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},n.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},n.prototype.iuxor=function(v){var B,F;this.length>v.length?(B=this,F=v):(B=v,F=this);for(var q=0;q<F.length;q++)this.words[q]=B.words[q]^F.words[q];if(this!==B)for(;q<B.length;q++)this.words[q]=B.words[q];return this.length=B.length,this._strip()},n.prototype.ixor=function(v){return m(0==(this.negative|v.negative)),this.iuxor(v)},n.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},n.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},n.prototype.inotn=function(v){m("number"==typeof v&&0<=v);var B=0|_e(v/26),F=v%26;this._expand(B),0<F&&B--;for(var q=0;q<B;q++)this.words[q]=67108863&~this.words[q];return 0<F&&(this.words[q]=~this.words[q]&67108863>>26-F),this._strip()},n.prototype.notn=function(v){return this.clone().inotn(v)},n.prototype.setn=function(v,B){m("number"==typeof v&&0<=v);var F=0|v/26,q=v%26;return this._expand(F+1),B?this.words[F]|=1<<q:this.words[F]&=~(1<<q),this._strip()},n.prototype.iadd=function(v){var B,F,q;if(0!==this.negative&&0===v.negative)return this.negative=0,B=this.isub(v),this.negative^=1,this._normSign();if(0===this.negative&&0!==v.negative)return v.negative=0,B=this.isub(v),v.negative=1,B._normSign();this.length>v.length?(F=this,q=v):(F=v,q=this);for(var L=0,Y=0;Y<q.length;Y++)this.words[Y]=67108863&(B=(0|F.words[Y])+(0|q.words[Y])+L),L=B>>>26;for(;0!==L&&Y<F.length;Y++)this.words[Y]=67108863&(B=(0|F.words[Y])+L),L=B>>>26;if(this.length=F.length,0!==L)this.words[this.length]=L,this.length++;else if(F!==this)for(;Y<F.length;Y++)this.words[Y]=F.words[Y];return this},n.prototype.add=function(v){var B;return 0!==v.negative&&0===this.negative?(v.negative=0,B=this.sub(v),v.negative^=1,B):0===v.negative&&0!==this.negative?(this.negative=0,B=v.sub(this),this.negative=1,B):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},n.prototype.isub=function(v){if(0!==v.negative){v.negative=0;var B=this.iadd(v);return v.negative=1,B._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var q,L,F=this.cmp(v);if(0===F)return this.negative=0,this.length=1,this.words[0]=0,this;0<F?(q=this,L=v):(q=v,L=this);for(var Y=0,se=0;se<L.length;se++)Y=(B=(0|q.words[se])-(0|L.words[se])+Y)>>26,this.words[se]=67108863&B;for(;0!==Y&&se<q.length;se++)Y=(B=(0|q.words[se])+Y)>>26,this.words[se]=67108863&B;if(0===Y&&se<q.length&&q!==this)for(;se<q.length;se++)this.words[se]=q.words[se];return this.length=pe(this.length,se),q!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(v){return this.clone().isub(v)};var T=function(v,B,F){var ft,be,dt,q=v.words,L=B.words,Y=F.words,se=0,Ee=0|q[0],Se=8191&Ee,Ie=Ee>>>13,Qe=0|q[1],Je=8191&Qe,ut=Qe>>>13,$t=0|q[2],qt=8191&$t,tt=$t>>>13,at=0|q[3],nt=8191&at,Yt=at>>>13,Tn=0|q[4],J=8191&Tn,O=Tn>>>13,W=0|q[5],ee=8191&W,ve=W>>>13,He=0|q[6],ht=8191&He,st=He>>>13,Jt=0|q[7],on=8191&Jt,Ht=Jt>>>13,wn=0|q[8],sn=8191&wn,Sn=wn>>>13,fr=0|q[9],Dn=8191&fr,Rt=fr>>>13,vr=0|L[0],de=8191&vr,Le=vr>>>13,et=0|L[1],qe=8191&et,Ze=et>>>13,Ct=0|L[2],Nt=8191&Ct,Bt=Ct>>>13,ln=0|L[3],Ot=8191&ln,mn=ln>>>13,kn=0|L[4],vn=8191&kn,In=kn>>>13,pr=0|L[5],Nn=8191&pr,zn=pr>>>13,Br=0|L[6],Rn=8191&Br,Qn=Br>>>13,Wr=0|L[7],Kn=8191&Wr,Zn=Wr>>>13,Kr=0|L[8],Gn=8191&Kr,er=Kr>>>13,ct=0|L[9],me=8191&ct,ot=ct>>>13;F.negative=v.negative^B.negative,F.length=19;var Zr=0|(0|se+(ft=y(Se,de)))+((8191&(be=0|(be=y(Se,Le))+y(Ie,de)))<<13);se=0|(0|(dt=y(Ie,Le))+(be>>>13))+(Zr>>>26),Zr&=67108863,ft=y(Je,de),be=0|(be=y(Je,Le))+y(ut,de),dt=y(ut,Le);var ri=0|(0|se+(ft=0|ft+y(Se,qe)))+((8191&(be=0|(be=0|be+y(Se,Ze))+y(Ie,qe)))<<13);se=0|(0|(dt=0|dt+y(Ie,Ze))+(be>>>13))+(ri>>>26),ri&=67108863,ft=y(qt,de),be=0|(be=y(qt,Le))+y(tt,de),dt=y(tt,Le),ft=0|ft+y(Je,qe),be=0|(be=0|be+y(Je,Ze))+y(ut,qe),dt=0|dt+y(ut,Ze);var si=0|(0|se+(ft=0|ft+y(Se,Nt)))+((8191&(be=0|(be=0|be+y(Se,Bt))+y(Ie,Nt)))<<13);se=0|(0|(dt=0|dt+y(Ie,Bt))+(be>>>13))+(si>>>26),si&=67108863,ft=y(nt,de),be=0|(be=y(nt,Le))+y(Yt,de),dt=y(Yt,Le),ft=0|ft+y(qt,qe),be=0|(be=0|be+y(qt,Ze))+y(tt,qe),dt=0|dt+y(tt,Ze),ft=0|ft+y(Je,Nt),be=0|(be=0|be+y(Je,Bt))+y(ut,Nt),dt=0|dt+y(ut,Bt);var cr=0|(0|se+(ft=0|ft+y(Se,Ot)))+((8191&(be=0|(be=0|be+y(Se,mn))+y(Ie,Ot)))<<13);se=0|(0|(dt=0|dt+y(Ie,mn))+(be>>>13))+(cr>>>26),cr&=67108863,ft=y(J,de),be=0|(be=y(J,Le))+y(O,de),dt=y(O,Le),ft=0|ft+y(nt,qe),be=0|(be=0|be+y(nt,Ze))+y(Yt,qe),dt=0|dt+y(Yt,Ze),ft=0|ft+y(qt,Nt),be=0|(be=0|be+y(qt,Bt))+y(tt,Nt),dt=0|dt+y(tt,Bt),ft=0|ft+y(Je,Ot),be=0|(be=0|be+y(Je,mn))+y(ut,Ot),dt=0|dt+y(ut,mn);var yi=0|(0|se+(ft=0|ft+y(Se,vn)))+((8191&(be=0|(be=0|be+y(Se,In))+y(Ie,vn)))<<13);se=0|(0|(dt=0|dt+y(Ie,In))+(be>>>13))+(yi>>>26),yi&=67108863,ft=y(ee,de),be=0|(be=y(ee,Le))+y(ve,de),dt=y(ve,Le),ft=0|ft+y(J,qe),be=0|(be=0|be+y(J,Ze))+y(O,qe),dt=0|dt+y(O,Ze),ft=0|ft+y(nt,Nt),be=0|(be=0|be+y(nt,Bt))+y(Yt,Nt),dt=0|dt+y(Yt,Bt),ft=0|ft+y(qt,Ot),be=0|(be=0|be+y(qt,mn))+y(tt,Ot),dt=0|dt+y(tt,mn),ft=0|ft+y(Je,vn),be=0|(be=0|be+y(Je,In))+y(ut,vn),dt=0|dt+y(ut,In);var Jr=0|(0|se+(ft=0|ft+y(Se,Nn)))+((8191&(be=0|(be=0|be+y(Se,zn))+y(Ie,Nn)))<<13);se=0|(0|(dt=0|dt+y(Ie,zn))+(be>>>13))+(Jr>>>26),Jr&=67108863,ft=y(ht,de),be=0|(be=y(ht,Le))+y(st,de),dt=y(st,Le),ft=0|ft+y(ee,qe),be=0|(be=0|be+y(ee,Ze))+y(ve,qe),dt=0|dt+y(ve,Ze),ft=0|ft+y(J,Nt),be=0|(be=0|be+y(J,Bt))+y(O,Nt),dt=0|dt+y(O,Bt),ft=0|ft+y(nt,Ot),be=0|(be=0|be+y(nt,mn))+y(Yt,Ot),dt=0|dt+y(Yt,mn),ft=0|ft+y(qt,vn),be=0|(be=0|be+y(qt,In))+y(tt,vn),dt=0|dt+y(tt,In),ft=0|ft+y(Je,Nn),be=0|(be=0|be+y(Je,zn))+y(ut,Nn),dt=0|dt+y(ut,zn);var zr=0|(0|se+(ft=0|ft+y(Se,Rn)))+((8191&(be=0|(be=0|be+y(Se,Qn))+y(Ie,Rn)))<<13);se=0|(0|(dt=0|dt+y(Ie,Qn))+(be>>>13))+(zr>>>26),zr&=67108863,ft=y(on,de),be=0|(be=y(on,Le))+y(Ht,de),dt=y(Ht,Le),ft=0|ft+y(ht,qe),be=0|(be=0|be+y(ht,Ze))+y(st,qe),dt=0|dt+y(st,Ze),ft=0|ft+y(ee,Nt),be=0|(be=0|be+y(ee,Bt))+y(ve,Nt),dt=0|dt+y(ve,Bt),ft=0|ft+y(J,Ot),be=0|(be=0|be+y(J,mn))+y(O,Ot),dt=0|dt+y(O,mn),ft=0|ft+y(nt,vn),be=0|(be=0|be+y(nt,In))+y(Yt,vn),dt=0|dt+y(Yt,In),ft=0|ft+y(qt,Nn),be=0|(be=0|be+y(qt,zn))+y(tt,Nn),dt=0|dt+y(tt,zn),ft=0|ft+y(Je,Rn),be=0|(be=0|be+y(Je,Qn))+y(ut,Rn),dt=0|dt+y(ut,Qn);var ui=0|(0|se+(ft=0|ft+y(Se,Kn)))+((8191&(be=0|(be=0|be+y(Se,Zn))+y(Ie,Kn)))<<13);se=0|(0|(dt=0|dt+y(Ie,Zn))+(be>>>13))+(ui>>>26),ui&=67108863,ft=y(sn,de),be=0|(be=y(sn,Le))+y(Sn,de),dt=y(Sn,Le),ft=0|ft+y(on,qe),be=0|(be=0|be+y(on,Ze))+y(Ht,qe),dt=0|dt+y(Ht,Ze),ft=0|ft+y(ht,Nt),be=0|(be=0|be+y(ht,Bt))+y(st,Nt),dt=0|dt+y(st,Bt),ft=0|ft+y(ee,Ot),be=0|(be=0|be+y(ee,mn))+y(ve,Ot),dt=0|dt+y(ve,mn),ft=0|ft+y(J,vn),be=0|(be=0|be+y(J,In))+y(O,vn),dt=0|dt+y(O,In),ft=0|ft+y(nt,Nn),be=0|(be=0|be+y(nt,zn))+y(Yt,Nn),dt=0|dt+y(Yt,zn),ft=0|ft+y(qt,Rn),be=0|(be=0|be+y(qt,Qn))+y(tt,Rn),dt=0|dt+y(tt,Qn),ft=0|ft+y(Je,Kn),be=0|(be=0|be+y(Je,Zn))+y(ut,Kn),dt=0|dt+y(ut,Zn);var ai=0|(0|se+(ft=0|ft+y(Se,Gn)))+((8191&(be=0|(be=0|be+y(Se,er))+y(Ie,Gn)))<<13);se=0|(0|(dt=0|dt+y(Ie,er))+(be>>>13))+(ai>>>26),ai&=67108863,ft=y(Dn,de),be=0|(be=y(Dn,Le))+y(Rt,de),dt=y(Rt,Le),ft=0|ft+y(sn,qe),be=0|(be=0|be+y(sn,Ze))+y(Sn,qe),dt=0|dt+y(Sn,Ze),ft=0|ft+y(on,Nt),be=0|(be=0|be+y(on,Bt))+y(Ht,Nt),dt=0|dt+y(Ht,Bt),ft=0|ft+y(ht,Ot),be=0|(be=0|be+y(ht,mn))+y(st,Ot),dt=0|dt+y(st,mn),ft=0|ft+y(ee,vn),be=0|(be=0|be+y(ee,In))+y(ve,vn),dt=0|dt+y(ve,In),ft=0|ft+y(J,Nn),be=0|(be=0|be+y(J,zn))+y(O,Nn),dt=0|dt+y(O,zn),ft=0|ft+y(nt,Rn),be=0|(be=0|be+y(nt,Qn))+y(Yt,Rn),dt=0|dt+y(Yt,Qn),ft=0|ft+y(qt,Kn),be=0|(be=0|be+y(qt,Zn))+y(tt,Kn),dt=0|dt+y(tt,Zn),ft=0|ft+y(Je,Gn),be=0|(be=0|be+y(Je,er))+y(ut,Gn),dt=0|dt+y(ut,er);var li=0|(0|se+(ft=0|ft+y(Se,me)))+((8191&(be=0|(be=0|be+y(Se,ot))+y(Ie,me)))<<13);se=0|(0|(dt=0|dt+y(Ie,ot))+(be>>>13))+(li>>>26),li&=67108863,ft=y(Dn,qe),be=0|(be=y(Dn,Ze))+y(Rt,qe),dt=y(Rt,Ze),ft=0|ft+y(sn,Nt),be=0|(be=0|be+y(sn,Bt))+y(Sn,Nt),dt=0|dt+y(Sn,Bt),ft=0|ft+y(on,Ot),be=0|(be=0|be+y(on,mn))+y(Ht,Ot),dt=0|dt+y(Ht,mn),ft=0|ft+y(ht,vn),be=0|(be=0|be+y(ht,In))+y(st,vn),dt=0|dt+y(st,In),ft=0|ft+y(ee,Nn),be=0|(be=0|be+y(ee,zn))+y(ve,Nn),dt=0|dt+y(ve,zn),ft=0|ft+y(J,Rn),be=0|(be=0|be+y(J,Qn))+y(O,Rn),dt=0|dt+y(O,Qn),ft=0|ft+y(nt,Kn),be=0|(be=0|be+y(nt,Zn))+y(Yt,Kn),dt=0|dt+y(Yt,Zn),ft=0|ft+y(qt,Gn),be=0|(be=0|be+y(qt,er))+y(tt,Gn),dt=0|dt+y(tt,er);var Vr=0|(0|se+(ft=0|ft+y(Je,me)))+((8191&(be=0|(be=0|be+y(Je,ot))+y(ut,me)))<<13);se=0|(0|(dt=0|dt+y(ut,ot))+(be>>>13))+(Vr>>>26),Vr&=67108863,ft=y(Dn,Nt),be=0|(be=y(Dn,Bt))+y(Rt,Nt),dt=y(Rt,Bt),ft=0|ft+y(sn,Ot),be=0|(be=0|be+y(sn,mn))+y(Sn,Ot),dt=0|dt+y(Sn,mn),ft=0|ft+y(on,vn),be=0|(be=0|be+y(on,In))+y(Ht,vn),dt=0|dt+y(Ht,In),ft=0|ft+y(ht,Nn),be=0|(be=0|be+y(ht,zn))+y(st,Nn),dt=0|dt+y(st,zn),ft=0|ft+y(ee,Rn),be=0|(be=0|be+y(ee,Qn))+y(ve,Rn),dt=0|dt+y(ve,Qn),ft=0|ft+y(J,Kn),be=0|(be=0|be+y(J,Zn))+y(O,Kn),dt=0|dt+y(O,Zn),ft=0|ft+y(nt,Gn),be=0|(be=0|be+y(nt,er))+y(Yt,Gn),dt=0|dt+y(Yt,er);var Fr=0|(0|se+(ft=0|ft+y(qt,me)))+((8191&(be=0|(be=0|be+y(qt,ot))+y(tt,me)))<<13);se=0|(0|(dt=0|dt+y(tt,ot))+(be>>>13))+(Fr>>>26),Fr&=67108863,ft=y(Dn,Ot),be=0|(be=y(Dn,mn))+y(Rt,Ot),dt=y(Rt,mn),ft=0|ft+y(sn,vn),be=0|(be=0|be+y(sn,In))+y(Sn,vn),dt=0|dt+y(Sn,In),ft=0|ft+y(on,Nn),be=0|(be=0|be+y(on,zn))+y(Ht,Nn),dt=0|dt+y(Ht,zn),ft=0|ft+y(ht,Rn),be=0|(be=0|be+y(ht,Qn))+y(st,Rn),dt=0|dt+y(st,Qn),ft=0|ft+y(ee,Kn),be=0|(be=0|be+y(ee,Zn))+y(ve,Kn),dt=0|dt+y(ve,Zn),ft=0|ft+y(J,Gn),be=0|(be=0|be+y(J,er))+y(O,Gn),dt=0|dt+y(O,er);var Un=0|(0|se+(ft=0|ft+y(nt,me)))+((8191&(be=0|(be=0|be+y(nt,ot))+y(Yt,me)))<<13);se=0|(0|(dt=0|dt+y(Yt,ot))+(be>>>13))+(Un>>>26),Un&=67108863,ft=y(Dn,vn),be=0|(be=y(Dn,In))+y(Rt,vn),dt=y(Rt,In),ft=0|ft+y(sn,Nn),be=0|(be=0|be+y(sn,zn))+y(Sn,Nn),dt=0|dt+y(Sn,zn),ft=0|ft+y(on,Rn),be=0|(be=0|be+y(on,Qn))+y(Ht,Rn),dt=0|dt+y(Ht,Qn),ft=0|ft+y(ht,Kn),be=0|(be=0|be+y(ht,Zn))+y(st,Kn),dt=0|dt+y(st,Zn),ft=0|ft+y(ee,Gn),be=0|(be=0|be+y(ee,er))+y(ve,Gn),dt=0|dt+y(ve,er);var We=0|(0|se+(ft=0|ft+y(J,me)))+((8191&(be=0|(be=0|be+y(J,ot))+y(O,me)))<<13);se=0|(0|(dt=0|dt+y(O,ot))+(be>>>13))+(We>>>26),We&=67108863,ft=y(Dn,Nn),be=0|(be=y(Dn,zn))+y(Rt,Nn),dt=y(Rt,zn),ft=0|ft+y(sn,Rn),be=0|(be=0|be+y(sn,Qn))+y(Sn,Rn),dt=0|dt+y(Sn,Qn),ft=0|ft+y(on,Kn),be=0|(be=0|be+y(on,Zn))+y(Ht,Kn),dt=0|dt+y(Ht,Zn),ft=0|ft+y(ht,Gn),be=0|(be=0|be+y(ht,er))+y(st,Gn),dt=0|dt+y(st,er);var Mn=0|(0|se+(ft=0|ft+y(ee,me)))+((8191&(be=0|(be=0|be+y(ee,ot))+y(ve,me)))<<13);se=0|(0|(dt=0|dt+y(ve,ot))+(be>>>13))+(Mn>>>26),Mn&=67108863,ft=y(Dn,Rn),be=0|(be=y(Dn,Qn))+y(Rt,Rn),dt=y(Rt,Qn),ft=0|ft+y(sn,Kn),be=0|(be=0|be+y(sn,Zn))+y(Sn,Kn),dt=0|dt+y(Sn,Zn),ft=0|ft+y(on,Gn),be=0|(be=0|be+y(on,er))+y(Ht,Gn),dt=0|dt+y(Ht,er);var Yn=0|(0|se+(ft=0|ft+y(ht,me)))+((8191&(be=0|(be=0|be+y(ht,ot))+y(st,me)))<<13);se=0|(0|(dt=0|dt+y(st,ot))+(be>>>13))+(Yn>>>26),Yn&=67108863,ft=y(Dn,Kn),be=0|(be=y(Dn,Zn))+y(Rt,Kn),dt=y(Rt,Zn),ft=0|ft+y(sn,Gn),be=0|(be=0|be+y(sn,er))+y(Sn,Gn),dt=0|dt+y(Sn,er);var Cn=0|(0|se+(ft=0|ft+y(on,me)))+((8191&(be=0|(be=0|be+y(on,ot))+y(Ht,me)))<<13);se=0|(0|(dt=0|dt+y(Ht,ot))+(be>>>13))+(Cn>>>26),Cn&=67108863,ft=y(Dn,Gn),be=0|(be=y(Dn,er))+y(Rt,Gn),dt=y(Rt,er);var Jn=0|(0|se+(ft=0|ft+y(sn,me)))+((8191&(be=0|(be=0|be+y(sn,ot))+y(Sn,me)))<<13);se=0|(0|(dt=0|dt+y(Sn,ot))+(be>>>13))+(Jn>>>26),Jn&=67108863;var Er=0|(0|se+(ft=y(Dn,me)))+((8191&(be=0|(be=y(Dn,ot))+y(Rt,me)))<<13);return se=0|(0|(dt=y(Rt,ot))+(be>>>13))+(Er>>>26),Er&=67108863,Y[0]=Zr,Y[1]=ri,Y[2]=si,Y[3]=cr,Y[4]=yi,Y[5]=Jr,Y[6]=zr,Y[7]=ui,Y[8]=ai,Y[9]=li,Y[10]=Vr,Y[11]=Fr,Y[12]=Un,Y[13]=We,Y[14]=Mn,Y[15]=Yn,Y[16]=Cn,Y[17]=Jn,Y[18]=Er,0!==se&&(Y[19]=se,F.length++),F};y||(T=r),n.prototype.mulTo=function(v,B){var F=this.length+v.length;return 10===this.length&&10===v.length?T(this,v,B):63>F?r(this,v,B):1024>F?a(this,v,B):c(this,v,B)},l.prototype.makeRBT=function(v){for(var B=Array(v),F=n.prototype._countBits(v)-1,q=0;q<v;q++)B[q]=this.revBin(q,F,v);return B},l.prototype.revBin=function(v,B,F){if(0===v||v===F-1)return v;for(var q=0,L=0;L<B;L++)q|=(1&v)<<B-L-1,v>>=1;return q},l.prototype.permute=function(v,B,F,q,L,Y){for(var se=0;se<Y;se++)q[se]=B[v[se]],L[se]=F[v[se]]},l.prototype.transform=function(v,B,F,q,L,Y){this.permute(Y,v,B,F,q,L);for(var se=1;se<L;se<<=1)for(var Ee=se<<1,Se=je(2*Pe/Ee),Ie=Q(2*Pe/Ee),Qe=0;Qe<L;Qe+=Ee)for(var Je=Se,ut=Ie,$t=0;$t<se;$t++){var qt=F[Qe+$t],tt=q[Qe+$t],at=F[Qe+$t+se],nt=q[Qe+$t+se],Yt=Je*at-ut*nt;nt=Je*nt+ut*at,F[Qe+$t]=qt+(at=Yt),q[Qe+$t]=tt+nt,F[Qe+$t+se]=qt-at,q[Qe+$t+se]=tt-nt,$t!==Ee&&(Yt=Se*Je-Ie*ut,ut=Se*ut+Ie*Je,Je=Yt)}},l.prototype.guessLen13b=function(v,B){var F=1|pe(B,v),q=1&F,L=0;for(F=0|F/2;F;F>>>=1)L++;return 1<<L+1+q},l.prototype.conjugate=function(v,B,F){if(!(1>=F))for(var L,q=0;q<F/2;q++)L=v[q],v[q]=v[F-q-1],v[F-q-1]=L,L=B[q],B[q]=-B[F-q-1],B[F-q-1]=-L},l.prototype.normalize13b=function(v,B){for(var L,F=0,q=0;q<B/2;q++)L=8192*kt(v[2*q+1]/B)+kt(v[2*q]/B)+F,v[q]=67108863&L,F=67108864>L?0:0|L/67108864;return v},l.prototype.convert13b=function(v,B,F,q){for(var L=0,Y=0;Y<B;Y++)F[2*Y]=8191&(L+=0|v[Y]),F[2*Y+1]=8191&(L>>>=13),L>>>=13;for(Y=2*B;Y<q;++Y)F[Y]=0;m(0===L),m(0==(-8192&L))},l.prototype.stub=function(v){for(var B=Array(v),F=0;F<v;F++)B[F]=0;return B},l.prototype.mulp=function(v,B,F){var q=2*this.guessLen13b(v.length,B.length),L=this.makeRBT(q),Y=this.stub(q),se=Array(q),Ee=Array(q),Se=Array(q),Ie=Array(q),Qe=Array(q),Je=Array(q),ut=F.words;ut.length=q,this.convert13b(v.words,v.length,se,q),this.convert13b(B.words,B.length,Ie,q),this.transform(se,Y,Ee,Se,q,L),this.transform(Ie,Y,Qe,Je,q,L);for(var qt,$t=0;$t<q;$t++)qt=Ee[$t]*Qe[$t]-Se[$t]*Je[$t],Se[$t]=Ee[$t]*Je[$t]+Se[$t]*Qe[$t],Ee[$t]=qt;return this.conjugate(Ee,Se,q),this.transform(Ee,Se,ut,Y,q,L),this.conjugate(ut,Y,q),this.normalize13b(ut,q),F.negative=v.negative^B.negative,F.length=v.length+B.length,F._strip()},n.prototype.mul=function(v){var B=new n(null);return B.words=Array(this.length+v.length),this.mulTo(v,B)},n.prototype.mulf=function(v){var B=new n(null);return B.words=Array(this.length+v.length),c(this,v,B)},n.prototype.imul=function(v){return this.clone().mulTo(v,this)},n.prototype.imuln=function(v){var B=0>v;B&&(v=-v),m("number"==typeof v),m(67108864>v);for(var F=0,q=0;q<this.length;q++){var L=(0|this.words[q])*v,Y=(67108863&L)+(67108863&F);F>>=26,F+=0|L/67108864,F+=Y>>>26,this.words[q]=67108863&Y}return 0!==F&&(this.words[q]=F,this.length++),B?this.ineg():this},n.prototype.muln=function(v){return this.clone().imuln(v)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(v){var B=function t(M){for(var v=Array(M.bitLength()),B=0;B<v.length;B++)v[B]=1&M.words[0|B/26]>>>B%26;return v}(v);if(0===B.length)return new n(1);for(var F=this,q=0;q<B.length&&0===B[q];q++,F=F.sqr());if(++q<B.length)for(var L=F.sqr();q<B.length;q++,L=L.sqr())0!==B[q]&&(F=F.mul(L));return F},n.prototype.iushln=function(v){m("number"==typeof v&&0<=v);var L,B=v%26,F=(v-B)/26,q=67108863>>>26-B<<26-B;if(0!=B){var Y=0;for(L=0;L<this.length;L++){var se=this.words[L]&q;this.words[L]=(0|this.words[L])-se<<B|Y,Y=se>>>26-B}Y&&(this.words[L]=Y,this.length++)}if(0!==F){for(L=this.length-1;0<=L;L--)this.words[L+F]=this.words[L];for(L=0;L<F;L++)this.words[L]=0;this.length+=F}return this._strip()},n.prototype.ishln=function(v){return m(0===this.negative),this.iushln(v)},n.prototype.iushrn=function(v,B,F){var q;m("number"==typeof v&&0<=v),q=B?(B-B%26)/26:0;var L=v%26,Y=ne((v-L)/26,this.length),se=67108863^67108863>>>L<<L,Ee=F;if(q=pe(0,q-=Y),Ee){for(var Se=0;Se<Y;Se++)Ee.words[Se]=this.words[Se];Ee.length=Y}if(0!==Y)if(this.length>Y)for(this.length-=Y,Se=0;Se<this.length;Se++)this.words[Se]=this.words[Se+Y];else this.words[0]=0,this.length=1;var Ie=0;for(Se=this.length-1;0<=Se&&(0!==Ie||Se>=q);Se--){var Qe=0|this.words[Se];this.words[Se]=Ie<<26-L|Qe>>>L,Ie=Qe&se}return Ee&&0!==Ie&&(Ee.words[Ee.length++]=Ie),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(v,B,F){return m(0===this.negative),this.iushrn(v,B,F)},n.prototype.shln=function(v){return this.clone().ishln(v)},n.prototype.ushln=function(v){return this.clone().iushln(v)},n.prototype.shrn=function(v){return this.clone().ishrn(v)},n.prototype.ushrn=function(v){return this.clone().iushrn(v)},n.prototype.testn=function(v){m("number"==typeof v&&0<=v);var B=v%26,F=(v-B)/26;return!(this.length<=F||!(this.words[F]&1<<B))},n.prototype.imaskn=function(v){m("number"==typeof v&&0<=v);var B=v%26,F=(v-B)/26;return m(0===this.negative,"imaskn works only with positive numbers"),this.length<=F?this:(0!=B&&F++,this.length=ne(F,this.length),0!=B&&(this.words[this.length-1]&=67108863^67108863>>>B<<B),this._strip())},n.prototype.maskn=function(v){return this.clone().imaskn(v)},n.prototype.iaddn=function(v){return m("number"==typeof v),m(67108864>v),0>v?this.isubn(-v):0===this.negative?this._iaddn(v):1===this.length&&(0|this.words[0])<=v?(this.words[0]=v-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this)},n.prototype._iaddn=function(v){this.words[0]+=v;for(var B=0;B<this.length&&67108864<=this.words[B];B++)this.words[B]-=67108864,B==this.length-1?this.words[B+1]=1:this.words[B+1]++;return this.length=pe(this.length,B+1),this},n.prototype.isubn=function(v){if(m("number"==typeof v),m(67108864>v),0>v)return this.iaddn(-v);if(0!==this.negative)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var B=0;B<this.length&&0>this.words[B];B++)this.words[B]+=67108864,this.words[B+1]-=1;return this._strip()},n.prototype.addn=function(v){return this.clone().iaddn(v)},n.prototype.subn=function(v){return this.clone().isubn(v)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(v,B,F){var L;this._expand(v.length+F);var se,Y=0;for(L=0;L<v.length;L++){se=(0|this.words[L+F])+Y;var Ee=(0|v.words[L])*B;Y=((se-=67108863&Ee)>>26)-(0|Ee/67108864),this.words[L+F]=67108863&se}for(;L<this.length-F;L++)Y=(se=(0|this.words[L+F])+Y)>>26,this.words[L+F]=67108863&se;if(0===Y)return this._strip();for(m(-1===Y),Y=0,L=0;L<this.length;L++)Y=(se=-(0|this.words[L])+Y)>>26,this.words[L]=67108863&se;return this.negative=1,this._strip()},n.prototype._wordDiv=function(v,B){var F,q=this.clone(),L=v,Y=0|L.words[L.length-1];0!=(F=26-this._countBits(Y))&&(L=L.ushln(F),q.iushln(F),Y=0|L.words[L.length-1]);var Se,Ee=q.length-L.length;if("mod"!==B){(Se=new n(null)).length=Ee+1,Se.words=Array(Se.length);for(var Ie=0;Ie<Se.length;Ie++)Se.words[Ie]=0}var Qe=q.clone()._ishlnsubmul(L,1,Ee);0===Qe.negative&&(q=Qe,Se&&(Se.words[Ee]=1));for(var ut,Je=Ee-1;0<=Je;Je--){for(ut=ne(0|(ut=67108864*(0|q.words[L.length+Je])+(0|q.words[L.length+Je-1]))/Y,67108863),q._ishlnsubmul(L,ut,Je);0!==q.negative;)ut--,q.negative=0,q._ishlnsubmul(L,1,Je),q.isZero()||(q.negative^=1);Se&&(Se.words[Je]=ut)}return Se&&Se._strip(),q._strip(),"div"!==B&&0!==F&&q.iushrn(F),{div:Se||null,mod:q}},n.prototype.divmod=function(v,B,F){return m(!v.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===v.negative?(Y=this.neg().divmod(v,B),"mod"!==B&&(q=Y.div.neg()),"div"!==B&&(L=Y.mod.neg(),F&&0!==L.negative&&L.iadd(v)),{div:q,mod:L}):0===this.negative&&0!==v.negative?(Y=this.divmod(v.neg(),B),"mod"!==B&&(q=Y.div.neg()),{div:q,mod:Y.mod}):this.negative&v.negative?(Y=this.neg().divmod(v.neg(),B),"div"!==B&&(L=Y.mod.neg(),F&&0!==L.negative&&L.isub(v)),{div:Y.div,mod:L}):v.length>this.length||0>this.cmp(v)?{div:new n(0),mod:this}:1===v.length?"div"===B?{div:this.divn(v.words[0]),mod:null}:"mod"===B?{div:null,mod:new n(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new n(this.modrn(v.words[0]))}:this._wordDiv(v,B);var q,L,Y},n.prototype.div=function(v){return this.divmod(v,"div",!1).div},n.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},n.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},n.prototype.divRound=function(v){var B=this.divmod(v);if(B.mod.isZero())return B.div;var F=0===B.div.negative?B.mod:B.mod.isub(v),q=v.ushrn(1),L=v.andln(1),Y=F.cmp(q);return 0>Y||1===L&&0===Y?B.div:0===B.div.negative?B.div.iaddn(1):B.div.isubn(1)},n.prototype.modrn=function(v){var B=0>v;B&&(v=-v),m(67108863>=v);for(var F=67108864%v,q=0,L=this.length-1;0<=L;L--)q=(F*q+(0|this.words[L]))%v;return B?-q:q},n.prototype.modn=function(v){return this.modrn(v)},n.prototype.idivn=function(v){var B=0>v;B&&(v=-v),m(67108863>=v);for(var L,F=0,q=this.length-1;0<=q;q--)this.words[q]=0|(L=(0|this.words[q])+67108864*F)/v,F=L%v;return this._strip(),B?this.ineg():this},n.prototype.divn=function(v){return this.clone().idivn(v)},n.prototype.egcd=function(v){m(0===v.negative),m(!v.isZero());var B=this,F=v.clone();B=0===B.negative?B.clone():B.umod(v);for(var q=new n(1),L=new n(0),Y=new n(0),se=new n(1),Ee=0;B.isEven()&&F.isEven();)B.iushrn(1),F.iushrn(1),++Ee;for(var Se=F.clone(),Ie=B.clone();!B.isZero();){for(var Qe=0,Je=1;!(B.words[0]&Je)&&26>Qe;++Qe,Je<<=1);if(0<Qe)for(B.iushrn(Qe);0<Qe--;)(q.isOdd()||L.isOdd())&&(q.iadd(Se),L.isub(Ie)),q.iushrn(1),L.iushrn(1);for(var ut=0,$t=1;!(F.words[0]&$t)&&26>ut;++ut,$t<<=1);if(0<ut)for(F.iushrn(ut);0<ut--;)(Y.isOdd()||se.isOdd())&&(Y.iadd(Se),se.isub(Ie)),Y.iushrn(1),se.iushrn(1);0<=B.cmp(F)?(B.isub(F),q.isub(Y),L.isub(se)):(F.isub(B),Y.isub(q),se.isub(L))}return{a:Y,b:se,gcd:F.iushln(Ee)}},n.prototype._invmp=function(v){m(0===v.negative),m(!v.isZero());var Qe,B=this,F=v.clone();B=0===B.negative?B.clone():B.umod(v);for(var q=new n(1),L=new n(0),Y=F.clone();0<B.cmpn(1)&&0<F.cmpn(1);){for(var se=0,Ee=1;!(B.words[0]&Ee)&&26>se;++se,Ee<<=1);if(0<se)for(B.iushrn(se);0<se--;)q.isOdd()&&q.iadd(Y),q.iushrn(1);for(var Se=0,Ie=1;!(F.words[0]&Ie)&&26>Se;++Se,Ie<<=1);if(0<Se)for(F.iushrn(Se);0<Se--;)L.isOdd()&&L.iadd(Y),L.iushrn(1);0<=B.cmp(F)?(B.isub(F),q.isub(L)):(F.isub(B),L.isub(q))}return 0>(Qe=0===B.cmpn(1)?q:L).cmpn(0)&&Qe.iadd(v),Qe},n.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var B=this.clone(),F=v.clone();B.negative=0,F.negative=0;for(var q=0;B.isEven()&&F.isEven();q++)B.iushrn(1),F.iushrn(1);for(;;){for(;B.isEven();)B.iushrn(1);for(;F.isEven();)F.iushrn(1);var L=B.cmp(F);if(0>L){var Y=B;B=F,F=Y}else if(0===L||0===F.cmpn(1))break;B.isub(F)}return F.iushln(q)},n.prototype.invm=function(v){return this.egcd(v).a.umod(v)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(v){return this.words[0]&v},n.prototype.bincn=function(v){m("number"==typeof v);var B=v%26,F=(v-B)/26,q=1<<B;if(this.length<=F)return this._expand(F+1),this.words[F]|=q,this;for(var se,L=q,Y=F;0!==L&&Y<this.length;Y++)se=0|this.words[Y],L=(se+=L)>>>26,this.words[Y]=se&=67108863;return 0!==L&&(this.words[Y]=L,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(v){var F,B=0>v;if(0!==this.negative&&!B)return-1;if(0===this.negative&&B)return 1;if(this._strip(),1<this.length)F=1;else{B&&(v=-v),m(67108863>=v,"Number is too big");var q=0|this.words[0];F=q===v?0:q<v?-1:1}return 0===this.negative?F:0|-F},n.prototype.cmp=function(v){if(0!==this.negative&&0===v.negative)return-1;if(0===this.negative&&0!==v.negative)return 1;var B=this.ucmp(v);return 0===this.negative?B:0|-B},n.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var B=0,F=this.length-1;0<=F;F--){var q=0|this.words[F],L=0|v.words[F];if(q!=L){q<L?B=-1:q>L&&(B=1);break}}return B},n.prototype.gtn=function(v){return 1===this.cmpn(v)},n.prototype.gt=function(v){return 1===this.cmp(v)},n.prototype.gten=function(v){return 0<=this.cmpn(v)},n.prototype.gte=function(v){return 0<=this.cmp(v)},n.prototype.ltn=function(v){return-1===this.cmpn(v)},n.prototype.lt=function(v){return-1===this.cmp(v)},n.prototype.lten=function(v){return 0>=this.cmpn(v)},n.prototype.lte=function(v){return 0>=this.cmp(v)},n.prototype.eqn=function(v){return 0===this.cmpn(v)},n.prototype.eq=function(v){return 0===this.cmp(v)},n.red=function(v){return new I(v)},n.prototype.toRed=function(v){return m(!this.red,"Already a number in reduction context"),m(0===this.negative,"red works only with positives"),v.convertTo(this)._forceRed(v)},n.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(v){return this.red=v,this},n.prototype.forceRed=function(v){return m(!this.red,"Already a number in reduction context"),this._forceRed(v)},n.prototype.redAdd=function(v){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},n.prototype.redIAdd=function(v){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},n.prototype.redSub=function(v){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},n.prototype.redISub=function(v){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},n.prototype.redShl=function(v){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},n.prototype.redMul=function(v){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},n.prototype.redIMul=function(v){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},n.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(v){return m(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var D={k256:null,p224:null,p192:null,p25519:null};w.prototype._tmp=function(){var v=new n(null);return v.words=Array(_e(this.n/13)),v},w.prototype.ireduce=function(v){var F,B=v;do{this.split(B,this.tmp),F=(B=(B=this.imulK(B)).iadd(this.tmp)).bitLength()}while(F>this.n);var q=F<this.n?-1:B.ucmp(this.p);return 0===q?(B.words[0]=0,B.length=1):0<q?B.isub(this.p):void 0===B.strip?B._strip():B.strip(),B},w.prototype.split=function(v,B){v.iushrn(this.n,0,B)},w.prototype.imulK=function(v){return v.imul(this.k)},_(E,w),E.prototype.split=function(v,B){for(var F=4194303,q=ne(v.length,9),L=0;L<q;L++)B.words[L]=v.words[L];if(B.length=q,9>=v.length)return v.words[0]=0,void(v.length=1);var Y=v.words[9];for(B.words[B.length++]=Y&F,L=10;L<v.length;L++){var se=0|v.words[L];v.words[L-10]=(se&F)<<4|Y>>>22,Y=se}v.words[L-10]=Y>>>=22,v.length-=0===Y&&10<v.length?10:9},E.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var q,B=0,F=0;F<v.length;F++)v.words[F]=67108863&(B+=977*(q=0|v.words[F])),B=64*q+(0|B/67108864);return 0===v.words[v.length-1]&&(v.length--,0===v.words[v.length-1]&&v.length--),v},_(C,w),_(z,w),_(k,w),k.prototype.imulK=function(v){for(var B=0,F=0;F<v.length;F++){var q=19*(0|v.words[F])+B,L=67108863&q;q>>>=26,v.words[F]=L,B=q}return 0!==B&&(v.words[v.length++]=B),v},n._prime=function(v){if(D[v])return D[v];var B;if("k256"===v)B=new E;else if("p224"===v)B=new C;else if("p192"===v)B=new z;else{if("p25519"!==v)throw new Error("Unknown prime "+v);B=new k}return D[v]=B,B},I.prototype._verify1=function(v){m(0===v.negative,"red works only with positives"),m(v.red,"red works only with red numbers")},I.prototype._verify2=function(v,B){m(0==(v.negative|B.negative),"red works only with positives"),m(v.red&&v.red===B.red,"red works only with red numbers")},I.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(u(v,v.umod(this.m)._forceRed(this)),v)},I.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},I.prototype.add=function(v,B){this._verify2(v,B);var F=v.add(B);return 0<=F.cmp(this.m)&&F.isub(this.m),F._forceRed(this)},I.prototype.iadd=function(v,B){this._verify2(v,B);var F=v.iadd(B);return 0<=F.cmp(this.m)&&F.isub(this.m),F},I.prototype.sub=function(v,B){this._verify2(v,B);var F=v.sub(B);return 0>F.cmpn(0)&&F.iadd(this.m),F._forceRed(this)},I.prototype.isub=function(v,B){this._verify2(v,B);var F=v.isub(B);return 0>F.cmpn(0)&&F.iadd(this.m),F},I.prototype.shl=function(v,B){return this._verify1(v),this.imod(v.ushln(B))},I.prototype.imul=function(v,B){return this._verify2(v,B),this.imod(v.imul(B))},I.prototype.mul=function(v,B){return this._verify2(v,B),this.imod(v.mul(B))},I.prototype.isqr=function(v){return this.imul(v,v.clone())},I.prototype.sqr=function(v){return this.mul(v,v)},I.prototype.sqrt=function(v){if(v.isZero())return v.clone();var B=this.m.andln(3);if(m(B%2==1),3===B){var F=this.m.add(new n(1)).iushrn(2);return this.pow(v,F)}for(var q=this.m.subn(1),L=0;!q.isZero()&&0===q.andln(1);)L++,q.iushrn(1);m(!q.isZero());var Y=new n(1).toRed(this),se=Y.redNeg(),Ee=this.m.subn(1).iushrn(1),Se=this.m.bitLength();for(Se=new n(2*Se*Se).toRed(this);0!==this.pow(Se,Ee).cmp(se);)Se.redIAdd(se);for(var Ie=this.pow(Se,q),Qe=this.pow(v,q.addn(1).iushrn(1)),Je=this.pow(v,q),ut=L;0!==Je.cmp(Y);){for(var $t=Je,qt=0;0!==$t.cmp(Y);qt++)$t=$t.redSqr();m(qt<ut);var tt=this.pow(Ie,new n(1).iushln(ut-qt-1));Qe=Qe.redMul(tt),Ie=tt.redSqr(),Je=Je.redMul(Ie),ut=qt}return Qe},I.prototype.invm=function(v){var B=v._invmp(this.m);return 0===B.negative?this.imod(B):(B.negative=0,this.imod(B).redNeg())},I.prototype.pow=function(v,B){if(B.isZero())return new n(1).toRed(this);if(0===B.cmpn(1))return v.clone();var q=Array(16);q[0]=new n(1).toRed(this),q[1]=v;for(var L=2;L<q.length;L++)q[L]=this.mul(q[L-1],v);var Y=q[0],se=0,Ee=0,Se=B.bitLength()%26;for(0===Se&&(Se=26),L=B.length-1;0<=L;L--){for(var Je,Ie=B.words[L],Qe=Se-1;0<=Qe;Qe--)Je=1&Ie>>Qe,Y!==q[0]&&(Y=this.sqr(Y)),0!==Je||0!==se?(se<<=1,se|=Je,(4==++Ee||0===L&&0===Qe)&&(Y=this.mul(Y,q[se]),Ee=0,se=0)):Ee=0;Se=26}return Y},I.prototype.convertTo=function(v){var B=v.umod(this.m);return B===v?B.clone():B},I.prototype.convertFrom=function(v){var B=v.clone();return B.red=null,B},n.mont=function(v){return new V(v)},_(V,I),V.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},V.prototype.convertFrom=function(v){var B=this.imod(v.mul(this.rinv));return B.red=null,B},V.prototype.imul=function(v,B){if(v.isZero()||B.isZero())return v.words[0]=0,v.length=1,v;var F=v.imul(B),q=F.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=F.isub(q).iushrn(this.shift),Y=L;return 0<=L.cmp(this.m)?Y=L.isub(this.m):0>L.cmpn(0)&&(Y=L.iadd(this.m)),Y._forceRed(this)},V.prototype.mul=function(v,B){if(v.isZero()||B.isZero())return new n(0)._forceRed(this);var F=v.mul(B),q=F.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=F.isub(q).iushrn(this.shift),Y=L;return 0<=L.cmp(this.m)?Y=L.isub(this.m):0>L.cmpn(0)&&(Y=L.iadd(this.m)),Y._forceRed(this)},V.prototype.invm=function(v){return this.imod(v._invmp(this.m).mul(this.r2))._forceRed(this)}}(typeof N>"u"||N,this)},{buffer:42}],41:[function(d,N,A){function f(_){this.rand=_}var b;if(N.exports=function(n){return b||(b=new f(null)),b.generate(n)},N.exports.Rand=f,f.prototype.generate=function(n){return this._rand(n)},f.prototype._rand=function(n){if(this.rand.getBytes)return this.rand.getBytes(n);for(var g=new Uint8Array(n),h=0;h<g.length;h++)g[h]=this.rand.getByte();return g},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?f.prototype._rand=function(n){var g=new Uint8Array(n);return self.crypto.getRandomValues(g),g}:self.msCrypto&&self.msCrypto.getRandomValues?f.prototype._rand=function(n){var g=new Uint8Array(n);return self.msCrypto.getRandomValues(g),g}:"object"==typeof window&&(f.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var m=d("crypto");if("function"!=typeof m.randomBytes)throw new Error("Not supported");f.prototype._rand=function(n){return m.randomBytes(n)}}catch{}},{crypto:42}],42:[function(d,N,A){},{}],43:[function(d,N,A){function f(s){n.isBuffer(s)||(s=n.from(s));for(var u=0|s.length/4,o=Array(u),t=0;t<u;t++)o[t]=s.readUInt32BE(4*t);return o}function b(s){for(;0<s.length;s++)s[0]=0}function m(s,u,o,t,r){for(var $,oe,ue,Ae,a=o[0],c=o[1],l=o[2],w=o[3],E=s[0]^u[0],C=s[1]^u[1],z=s[2]^u[2],k=s[3]^u[3],I=4,V=1;V<r;V++)$=a[E>>>24]^c[255&C>>>16]^l[255&z>>>8]^w[255&k]^u[I++],oe=a[C>>>24]^c[255&z>>>16]^l[255&k>>>8]^w[255&E]^u[I++],ue=a[z>>>24]^c[255&k>>>16]^l[255&E>>>8]^w[255&C]^u[I++],Ae=a[k>>>24]^c[255&E>>>16]^l[255&C>>>8]^w[255&z]^u[I++],E=$,C=oe,z=ue,k=Ae;return $=(t[E>>>24]<<24|t[255&C>>>16]<<16|t[255&z>>>8]<<8|t[255&k])^u[I++],oe=(t[C>>>24]<<24|t[255&z>>>16]<<16|t[255&k>>>8]<<8|t[255&E])^u[I++],ue=(t[z>>>24]<<24|t[255&k>>>16]<<16|t[255&E>>>8]<<8|t[255&C])^u[I++],Ae=(t[k>>>24]<<24|t[255&E>>>16]<<16|t[255&C>>>8]<<8|t[255&z])^u[I++],[$>>>=0,oe>>>=0,ue>>>=0,Ae>>>=0]}function _(s){this._key=f(s),this._reset()}var n=d("safe-buffer").Buffer,g=[0,1,2,4,8,16,32,64,128,27,54],h=function(){for(var s=Array(256),u=0;256>u;u++)s[u]=128>u?u<<1:283^u<<1;for(var E,o=[],t=[],r=[[],[],[],[]],a=[[],[],[],[]],c=0,l=0,w=0;256>w;++w){o[c]=E=(E=l^l<<1^l<<2^l<<3^l<<4)>>>8^255&E^99,t[E]=c;var C=s[c],z=s[C],k=s[z],I=257*s[E]^16843008*E;r[0][c]=I<<24|I>>>8,r[1][c]=I<<16|I>>>16,r[2][c]=I<<8|I>>>24,r[3][c]=I,a[0][E]=(I=16843009*k^65537*z^257*C^16843008*c)<<24|I>>>8,a[1][E]=I<<16|I>>>16,a[2][E]=I<<8|I>>>24,a[3][E]=I,0===c?c=l=1:(c=C^s[s[s[k^C]]],l^=s[s[l]])}return{SBOX:o,INV_SBOX:t,SUB_MIX:r,INV_SUB_MIX:a}}();_.blockSize=16,_.keySize=32,_.prototype.blockSize=_.blockSize,_.prototype.keySize=_.keySize,_.prototype._reset=function(){for(var s=this._key,u=s.length,o=u+6,t=4*(o+1),r=[],a=0;a<u;a++)r[a]=s[a];for(a=u;a<t;a++){var c=r[a-1];a%u==0?(c=h.SBOX[(c=c<<8|c>>>24)>>>24]<<24|h.SBOX[255&c>>>16]<<16|h.SBOX[255&c>>>8]<<8|h.SBOX[255&c],c^=g[0|a/u]<<24):6<u&&a%u==4&&(c=h.SBOX[c>>>24]<<24|h.SBOX[255&c>>>16]<<16|h.SBOX[255&c>>>8]<<8|h.SBOX[255&c]),r[a]=r[a-u]^c}for(var l=[],w=0;w<t;w++){var E=t-w,C=r[E-(w%4?0:4)];l[w]=4>w||4>=E?C:h.INV_SUB_MIX[0][h.SBOX[C>>>24]]^h.INV_SUB_MIX[1][h.SBOX[255&C>>>16]]^h.INV_SUB_MIX[2][h.SBOX[255&C>>>8]]^h.INV_SUB_MIX[3][h.SBOX[255&C]]}this._nRounds=o,this._keySchedule=r,this._invKeySchedule=l},_.prototype.encryptBlockRaw=function(s){return m(s=f(s),this._keySchedule,h.SUB_MIX,h.SBOX,this._nRounds)},_.prototype.encryptBlock=function(s){var u=this.encryptBlockRaw(s),o=n.allocUnsafe(16);return o.writeUInt32BE(u[0],0),o.writeUInt32BE(u[1],4),o.writeUInt32BE(u[2],8),o.writeUInt32BE(u[3],12),o},_.prototype.decryptBlock=function(s){var u=(s=f(s))[1];s[1]=s[3],s[3]=u;var o=m(s,this._invKeySchedule,h.INV_SUB_MIX,h.INV_SBOX,this._nRounds),t=n.allocUnsafe(16);return t.writeUInt32BE(o[0],0),t.writeUInt32BE(o[3],4),t.writeUInt32BE(o[2],8),t.writeUInt32BE(o[1],12),t},_.prototype.scrub=function(){b(this._keySchedule),b(this._invKeySchedule),b(this._key)},N.exports.AES=_},{"safe-buffer":235}],44:[function(d,N,A){function m(t,r,a,c){g.call(this);var l=n.alloc(4,0);this._cipher=new _.AES(r);var w=this._cipher.encryptBlock(l);this._ghash=new s(w),a=function b(t,r,a){if(12===r.length)return t._finID=n.concat([r,n.from([0,0,0,1])]),n.concat([r,n.from([0,0,0,2])]);var c=new s(a),l=r.length,w=l%16;c.update(r),w&&c.update(n.alloc(w=16-w,0)),c.update(n.alloc(8,0));var E=8*l,C=n.alloc(8);C.writeUIntBE(E,0,8),c.update(C),t._finID=c.state;var z=n.from(t._finID);return o(z),z}(this,a,w),this._prev=n.from(a),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=c,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}var _=d("./aes"),n=d("safe-buffer").Buffer,g=d("cipher-base"),h=d("inherits"),s=d("./ghash"),u=d("buffer-xor"),o=d("./incr32");h(m,g),m.prototype._update=function(t){if(!this._called&&this._alen){var r=16-this._alen%16;16>r&&(r=n.alloc(r,0),this._ghash.update(r))}this._called=!0;var a=this._mode.encrypt(this,t);return this._ghash.update(this._decrypt?t:a),this._len+=t.length,a},m.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function f(t,r){var a=0;t.length!==r.length&&a++;for(var c=ne(t.length,r.length),l=0;l<c;++l)a+=t[l]^r[l];return a}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},m.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},m.prototype.setAuthTag=function(r){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=r},m.prototype.setAAD=function(r){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(r),this._alen+=r.length},N.exports=m},{"./aes":43,"./ghash":48,"./incr32":49,"buffer-xor":75,"cipher-base":80,inherits:147,"safe-buffer":235}],45:[function(d,N,A){var b=d("./encrypter"),m=d("./decrypter"),_=d("./modes/list.json");A.createCipher=A.Cipher=b.createCipher,A.createCipheriv=A.Cipheriv=b.createCipheriv,A.createDecipher=A.Decipher=m.createDecipher,A.createDecipheriv=A.Decipheriv=m.createDecipheriv,A.listCiphers=A.getCiphers=function f(){return Object.keys(_)}},{"./decrypter":46,"./encrypter":47,"./modes/list.json":57}],46:[function(d,N,A){function f(c,l,w){o.call(this),this._cache=new b,this._last=void 0,this._cipher=new t.AES(l),this._prev=h.from(w),this._mode=c,this._autopadding=!0}function b(){this.cache=h.allocUnsafe(0)}function _(c,l,w){var E=s[c.toLowerCase()];if(!E)throw new TypeError("invalid suite type");if("string"==typeof w&&(w=h.from(w)),"GCM"!==E.mode&&w.length!==E.iv)throw new TypeError("invalid iv length "+w.length);if("string"==typeof l&&(l=h.from(l)),l.length!==E.key/8)throw new TypeError("invalid key length "+l.length);return"stream"===E.type?new u(E.module,l,w,!0):"auth"===E.type?new g(E.module,l,w,!0):new f(E.module,l,w)}var g=d("./authCipher"),h=d("safe-buffer").Buffer,s=d("./modes"),u=d("./streamCipher"),o=d("cipher-base"),t=d("./aes"),r=d("evp_bytestokey");d("inherits")(f,o),f.prototype._update=function(c){this._cache.add(c);for(var w,E,l=[];w=this._cache.get(this._autopadding);)E=this._mode.decrypt(this,w),l.push(E);return h.concat(l)},f.prototype._final=function(){var c=this._cache.flush();if(this._autopadding)return function m(c){var l=c[15];if(1>l||16<l)throw new Error("unable to decrypt data");for(var w=-1;++w<l;)if(c[w+(16-l)]!==l)throw new Error("unable to decrypt data");return 16===l?void 0:c.slice(0,16-l)}(this._mode.decrypt(this,c));if(c)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(c){return this._autopadding=!!c,this},b.prototype.add=function(c){this.cache=h.concat([this.cache,c])},b.prototype.get=function(c){var l;if(c){if(16<this.cache.length)return l=this.cache.slice(0,16),this.cache=this.cache.slice(16),l}else if(16<=this.cache.length)return l=this.cache.slice(0,16),this.cache=this.cache.slice(16),l;return null},b.prototype.flush=function(){if(this.cache.length)return this.cache},A.createDecipher=function n(c,l){var w=s[c.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var E=r(l,!1,w.key,w.iv);return _(c,E.key,E.iv)},A.createDecipheriv=_},{"./aes":43,"./authCipher":44,"./modes":56,"./streamCipher":59,"cipher-base":80,evp_bytestokey:124,inherits:147,"safe-buffer":235}],47:[function(d,N,A){function f(c,l,w){u.call(this),this._cache=new b,this._cipher=new o.AES(l),this._prev=h.from(w),this._mode=c,this._autopadding=!0}function b(){this.cache=h.allocUnsafe(0)}function m(c,l,w){var E=n[c.toLowerCase()];if(!E)throw new TypeError("invalid suite type");if("string"==typeof l&&(l=h.from(l)),l.length!==E.key/8)throw new TypeError("invalid key length "+l.length);if("string"==typeof w&&(w=h.from(w)),"GCM"!==E.mode&&w.length!==E.iv)throw new TypeError("invalid iv length "+w.length);return"stream"===E.type?new s(E.module,l,w):"auth"===E.type?new g(E.module,l,w):new f(E.module,l,w)}var n=d("./modes"),g=d("./authCipher"),h=d("safe-buffer").Buffer,s=d("./streamCipher"),u=d("cipher-base"),o=d("./aes"),t=d("evp_bytestokey");d("inherits")(f,u),f.prototype._update=function(c){this._cache.add(c);for(var w,E,l=[];w=this._cache.get();)E=this._mode.encrypt(this,w),l.push(E);return h.concat(l)};var a=h.alloc(16,16);f.prototype._final=function(){var c=this._cache.flush();if(this._autopadding)return c=this._mode.encrypt(this,c),this._cipher.scrub(),c;if(!c.equals(a))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(c){return this._autopadding=!!c,this},b.prototype.add=function(c){this.cache=h.concat([this.cache,c])},b.prototype.get=function(){if(15<this.cache.length){var c=this.cache.slice(0,16);return this.cache=this.cache.slice(16),c}return null},b.prototype.flush=function(){for(var c=16-this.cache.length,l=h.allocUnsafe(c),w=-1;++w<c;)l.writeUInt8(c,w);return h.concat([this.cache,l])},A.createCipheriv=m,A.createCipher=function _(c,l){var w=n[c.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var E=t(l,!1,w.key,w.iv);return m(c,E.key,E.iv)}},{"./aes":43,"./authCipher":44,"./modes":56,"./streamCipher":59,"cipher-base":80,evp_bytestokey:124,inherits:147,"safe-buffer":235}],48:[function(d,N,A){function b(g){var h=_.allocUnsafe(16);return h.writeUInt32BE(g[0]>>>0,0),h.writeUInt32BE(g[1]>>>0,4),h.writeUInt32BE(g[2]>>>0,8),h.writeUInt32BE(g[3]>>>0,12),h}function m(g){this.h=g,this.state=_.alloc(16,0),this.cache=_.allocUnsafe(0)}var _=d("safe-buffer").Buffer,n=_.alloc(16,0);m.prototype.ghash=function(g){for(var h=-1;++h<g.length;)this.state[h]^=g[h];this._multiply()},m.prototype._multiply=function(){for(var u,t,g=function f(g){return[g.readUInt32BE(0),g.readUInt32BE(4),g.readUInt32BE(8),g.readUInt32BE(12)]}(this.h),h=[0,0,0,0],s=-1;128>++s;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(h[0]^=g[0],h[1]^=g[1],h[2]^=g[2],h[3]^=g[3]),t=0!=(1&g[3]),u=3;0<u;u--)g[u]=g[u]>>>1|(1&g[u-1])<<31;g[0]>>>=1,t&&(g[0]^=-520093696)}this.state=b(h)},m.prototype.update=function(g){this.cache=_.concat([this.cache,g]);for(var h;16<=this.cache.length;)h=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(h)},m.prototype.final=function(g,h){return this.cache.length&&this.ghash(_.concat([this.cache,n],16)),this.ghash(b([0,g,0,h])),this.state},N.exports=m},{"safe-buffer":235}],49:[function(d,N,A){N.exports=function f(b){for(var _,m=b.length;m--;){if(255!==(_=b.readUInt8(m))){_++,b.writeUInt8(_,m);break}b.writeUInt8(0,m)}}},{}],50:[function(d,N,A){var f=d("buffer-xor");A.encrypt=function(b,m){var _=f(m,b._prev);return b._prev=b._cipher.encryptBlock(_),b._prev},A.decrypt=function(b,m){var _=b._prev;b._prev=m;var n=b._cipher.decryptBlock(m);return f(n,_)}},{"buffer-xor":75}],51:[function(d,N,A){function f(_,n,g){var h=n.length,s=m(n,_._cache);return _._cache=_._cache.slice(h),_._prev=b.concat([_._prev,g?n:s]),s}var b=d("safe-buffer").Buffer,m=d("buffer-xor");A.encrypt=function(_,n,g){for(var s,h=b.allocUnsafe(0);n.length;){if(0===_._cache.length&&(_._cache=_._cipher.encryptBlock(_._prev),_._prev=b.allocUnsafe(0)),!(_._cache.length<=n.length)){h=b.concat([h,f(_,n,g)]);break}h=b.concat([h,f(_,n.slice(0,s=_._cache.length),g)]),n=n.slice(s)}return h}},{"buffer-xor":75,"safe-buffer":235}],52:[function(d,N,A){function f(_,n,g){for(var t,r,h=-1,u=0;++h<8;)u+=(128&(r=_._cipher.encryptBlock(_._prev)[0]^(t=n&1<<7-h?128:0)))>>h%8,_._prev=b(_._prev,g?t:r);return u}function b(_,n){var g=_.length,h=-1,s=m.allocUnsafe(_.length);for(_=m.concat([_,m.from([n])]);++h<g;)s[h]=_[h]<<1|_[h+1]>>7;return s}var m=d("safe-buffer").Buffer;A.encrypt=function(_,n,g){for(var h=n.length,s=m.allocUnsafe(h),u=-1;++u<h;)s[u]=f(_,n[u],g);return s}},{"safe-buffer":235}],53:[function(d,N,A){function f(m,_,n){var h=m._cipher.encryptBlock(m._prev)[0]^_;return m._prev=b.concat([m._prev.slice(1),b.from([n?_:h])]),h}var b=d("safe-buffer").Buffer;A.encrypt=function(m,_,n){for(var g=_.length,h=b.allocUnsafe(g),s=-1;++s<g;)h[s]=f(m,_[s],n);return h}},{"safe-buffer":235}],54:[function(d,N,A){function f(g){var h=g._cipher.encryptBlockRaw(g._prev);return _(g._prev),h}var b=d("buffer-xor"),m=d("safe-buffer").Buffer,_=d("../incr32");A.encrypt=function(g,h){var s=_e(h.length/16),u=g._cache.length;g._cache=m.concat([g._cache,m.allocUnsafe(16*s)]);for(var o=0;o<s;o++){var t=f(g),r=u+16*o;g._cache.writeUInt32BE(t[0],r+0),g._cache.writeUInt32BE(t[1],r+4),g._cache.writeUInt32BE(t[2],r+8),g._cache.writeUInt32BE(t[3],r+12)}var a=g._cache.slice(0,h.length);return g._cache=g._cache.slice(h.length),b(h,a)}},{"../incr32":49,"buffer-xor":75,"safe-buffer":235}],55:[function(d,N,A){A.encrypt=function(f,b){return f._cipher.encryptBlock(b)},A.decrypt=function(f,b){return f._cipher.decryptBlock(b)}},{}],56:[function(d,N,A){var f={ECB:d("./ecb"),CBC:d("./cbc"),CFB:d("./cfb"),CFB8:d("./cfb8"),CFB1:d("./cfb1"),OFB:d("./ofb"),CTR:d("./ctr"),GCM:d("./ctr")},b=d("./list.json");for(var m in b)b[m].module=f[b[m].mode];N.exports=b},{"./cbc":50,"./cfb":51,"./cfb1":52,"./cfb8":53,"./ctr":54,"./ecb":55,"./list.json":57,"./ofb":58}],57:[function(d,N,A){N.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],58:[function(d,N,A){(function(f){(function(){function b(_){return _._prev=_._cipher.encryptBlock(_._prev),_._prev}var m=d("buffer-xor");A.encrypt=function(_,n){for(;_._cache.length<n.length;)_._cache=f.concat([_._cache,b(_)]);var g=_._cache.slice(0,n.length);return _._cache=_._cache.slice(n.length),m(n,g)}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76,"buffer-xor":75}],59:[function(d,N,A){function f(g,h,s,u){_.call(this),this._cipher=new b.AES(h),this._prev=m.from(s),this._cache=m.allocUnsafe(0),this._secCache=m.allocUnsafe(0),this._decrypt=u,this._mode=g}var b=d("./aes"),m=d("safe-buffer").Buffer,_=d("cipher-base");d("inherits")(f,_),f.prototype._update=function(g){return this._mode.encrypt(this,g,this._decrypt)},f.prototype._final=function(){this._cipher.scrub()},N.exports=f},{"./aes":43,"cipher-base":80,inherits:147,"safe-buffer":235}],60:[function(d,N,A){function m(t,r,a){if(t=t.toLowerCase(),s[t])return h.createCipheriv(t,r,a);if(u[t])return new g({key:r,iv:a,mode:t});throw new TypeError("invalid suite type")}function _(t,r,a){if(t=t.toLowerCase(),s[t])return h.createDecipheriv(t,r,a);if(u[t])return new g({key:r,iv:a,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}var g=d("browserify-des"),h=d("browserify-aes/browser"),s=d("browserify-aes/modes"),u=d("browserify-des/modes"),o=d("evp_bytestokey");A.createCipher=A.Cipher=function f(t,r){var a,c;if(t=t.toLowerCase(),s[t])a=s[t].key,c=s[t].iv;else{if(!u[t])throw new TypeError("invalid suite type");a=8*u[t].key,c=u[t].iv}var l=o(r,!1,a,c);return m(t,l.key,l.iv)},A.createCipheriv=A.Cipheriv=m,A.createDecipher=A.Decipher=function b(t,r){var a,c;if(t=t.toLowerCase(),s[t])a=s[t].key,c=s[t].iv;else{if(!u[t])throw new TypeError("invalid suite type");a=8*u[t].key,c=u[t].iv}var l=o(r,!1,a,c);return _(t,l.key,l.iv)},A.createDecipheriv=A.Decipheriv=_,A.listCiphers=A.getCiphers=function n(){return Object.keys(u).concat(h.getCiphers())}},{"browserify-aes/browser":45,"browserify-aes/modes":56,"browserify-des":61,"browserify-des/modes":62,evp_bytestokey:124}],61:[function(d,N,A){function f(h){b.call(this);var o,s=h.mode.toLowerCase(),u=g[s];o=h.decrypt?"decrypt":"encrypt";var t=h.key;n.isBuffer(t)||(t=n.from(t)),("des-ede"===s||"des-ede-cbc"===s)&&(t=n.concat([t,t.slice(0,8)]));var r=h.iv;n.isBuffer(r)||(r=n.from(r)),this._des=u.create({key:t,iv:r,type:o})}var b=d("cipher-base"),m=d("des.js"),_=d("inherits"),n=d("safe-buffer").Buffer,g={"des-ede3-cbc":m.CBC.instantiate(m.EDE),"des-ede3":m.EDE,"des-ede-cbc":m.CBC.instantiate(m.EDE),"des-ede":m.EDE,"des-cbc":m.CBC.instantiate(m.DES),"des-ecb":m.DES};g.des=g["des-cbc"],g.des3=g["des-ede3-cbc"],N.exports=f,_(f,b),f.prototype._update=function(h){return n.from(this._des.update(h))},f.prototype._final=function(){return n.from(this._des.final())}},{"cipher-base":80,"des.js":93,inherits:147,"safe-buffer":235}],62:[function(d,N,A){A["des-ecb"]={key:8,iv:0},A["des-cbc"]=A.des={key:8,iv:8},A["des-ede3-cbc"]=A.des3={key:24,iv:8},A["des-ede3"]={key:24,iv:0},A["des-ede-cbc"]={key:16,iv:8},A["des-ede"]={key:16,iv:0}},{}],63:[function(d,N,A){(function(f){(function(){function m(h){var u,s=h.modulus.byteLength();do{u=new n(g(s))}while(0<=u.cmp(h.modulus)||!u.umod(h.prime1)||!u.umod(h.prime2));return u}function _(h,s){var u=function b(h){var s=m(h);return{blinder:s.toRed(n.mont(h.modulus)).redPow(new n(h.publicExponent)).fromRed(),unblinder:s.invm(h.modulus)}}(s),o=s.modulus.byteLength(),t=new n(h).mul(u.blinder).umod(s.modulus),r=t.toRed(n.mont(s.prime1)),a=t.toRed(n.mont(s.prime2)),c=s.coefficient,l=s.prime1,w=s.prime2,E=r.redPow(s.exponent1).fromRed(),C=a.redPow(s.exponent2).fromRed(),z=E.isub(C).imul(c).umod(l).imul(w);return C.iadd(z).imul(u.unblinder).umod(s.modulus).toArrayLike(f,"be",o)}var n=d("bn.js"),g=d("randombytes");_.getr=m,N.exports=_}).call(this)}).call(this,d("buffer").Buffer)},{"bn.js":40,buffer:76,randombytes:209}],64:[function(d,N,A){N.exports=d("./browser/algorithms.json")},{"./browser/algorithms.json":65}],65:[function(d,N,A){N.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],66:[function(d,N,A){N.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],67:[function(d,N,A){function f(r){h.Writable.call(this);var a=t[r];if(!a)throw new Error("Unknown message digest");this._hashType=a.hash,this._hash=g(a.hash),this._tag=a.id,this._signType=a.sign}function b(r){h.Writable.call(this);var a=t[r];if(!a)throw new Error("Unknown message digest");this._hash=g(a.hash),this._tag=a.id,this._signType=a.sign}function m(r){return new f(r)}function _(r){return new b(r)}var n=d("safe-buffer").Buffer,g=d("create-hash"),h=d("readable-stream"),s=d("inherits"),u=d("./sign"),o=d("./verify"),t=d("./algorithms.json");Object.keys(t).forEach(function(r){t[r].id=n.from(t[r].id,"hex"),t[r.toLowerCase()]=t[r]}),s(f,h.Writable),f.prototype._write=function(a,c,l){this._hash.update(a),l()},f.prototype.update=function(a,c){return"string"==typeof a&&(a=n.from(a,c)),this._hash.update(a),this},f.prototype.sign=function(a,c){this.end();var l=this._hash.digest(),w=u(l,a,this._hashType,this._signType,this._tag);return c?w.toString(c):w},s(b,h.Writable),b.prototype._write=function(a,c,l){this._hash.update(a),l()},b.prototype.update=function(a,c){return"string"==typeof a&&(a=n.from(a,c)),this._hash.update(a),this},b.prototype.verify=function(a,c,l){"string"==typeof c&&(c=n.from(c,l)),this.end();var w=this._hash.digest();return o(c,w,a,this._signType,this._tag)},N.exports={Sign:m,Verify:_,createSign:m,createVerify:_}},{"./algorithms.json":65,"./sign":68,"./verify":69,"create-hash":85,inherits:147,"readable-stream":228,"safe-buffer":235}],68:[function(d,N,A){function n(E,C,z,k){if((E=o.from(E.toArray())).length<C.byteLength()){var I=o.alloc(C.byteLength()-E.length);E=o.concat([I,E])}var V=z.length,$=function h(E,C){E=(E=g(E,C)).mod(C);var z=o.from(E.toArray());if(z.length<C.byteLength()){var k=o.alloc(C.byteLength()-z.length);z=o.concat([k,z])}return z}(z,C),oe=o.alloc(V);oe.fill(1);var ue=o.alloc(V);return ue=t(k,ue).update(oe).update(o.from([0])).update(E).update($).digest(),oe=t(k,ue).update(oe).digest(),{k:ue=t(k,ue).update(oe).update(o.from([1])).update(E).update($).digest(),v:oe=t(k,ue).update(oe).digest()}}function g(E,C){var z=new c(E),k=(E.length<<3)-C.bitLength();return 0<k&&z.ishrn(k),z}function s(E,C,z){var k,I;do{for(k=o.alloc(0);8*k.length<E.bitLength();)C.v=t(z,C.k).update(C.v).digest(),k=o.concat([k,C.v]);I=g(k,E),C.k=t(z,C.k).update(C.v).update(o.from([0])).digest(),C.v=t(z,C.k).update(C.v).digest()}while(-1!==I.cmp(E));return I}function u(E,C,z,k){return E.toRed(c.mont(z)).redPow(C).fromRed().mod(k)}var o=d("safe-buffer").Buffer,t=d("create-hmac"),r=d("browserify-rsa"),a=d("elliptic").ec,c=d("bn.js"),l=d("parse-asn1"),w=d("./curves.json");N.exports=function f(E,C,z,k,I){var V=l(C);if(V.curve){if("ecdsa"!==k&&"ecdsa/rsa"!==k)throw new Error("wrong private key type");return function b(E,C){var z=w[C.curve.join(".")];if(!z)throw new Error("unknown curve "+C.curve.join("."));var V=new a(z).keyFromPrivate(C.privateKey).sign(E);return o.from(V.toDER())}(E,V)}if("dsa"===V.type){if("dsa"!==k)throw new Error("wrong private key type");return function m(E,C,z){for(var T,k=C.params.priv_key,I=C.params.p,V=C.params.q,$=C.params.g,oe=new c(0),ue=g(E,V).mod(V),Ae=!1,X=n(k,V,E,z);!1===Ae;)oe=u($,T=s(V,X,z),I,V),0===(Ae=T.invm(V).imul(ue.add(k.mul(oe))).mod(V)).cmpn(0)&&(Ae=!1,oe=new c(0));return function _(E,C){E=E.toArray(),C=C.toArray(),128&E[0]&&(E=[0].concat(E)),128&C[0]&&(C=[0].concat(C));var k=[48,E.length+C.length+4,2,E.length];return k=k.concat(E,[2,C.length],C),o.from(k)}(oe,Ae)}(E,V,z)}if("rsa"!==k&&"ecdsa/rsa"!==k)throw new Error("wrong private key type");E=o.concat([I,E]);for(var $=V.modulus.byteLength(),oe=[0,1];E.length+oe.length+1<$;)oe.push(255);oe.push(0);for(var ue=-1;++ue<E.length;)oe.push(E[ue]);return r(oe,V)},N.exports.getKey=n,N.exports.makeKey=s},{"./curves.json":66,"bn.js":40,"browserify-rsa":63,"create-hmac":87,elliptic:104,"parse-asn1":183,"safe-buffer":235}],69:[function(d,N,A){function _(o,t){if(0>=o.cmpn(0))throw new Error("invalid sig");if(o.cmp(t)>=t)throw new Error("invalid sig")}var n=d("safe-buffer").Buffer,g=d("bn.js"),h=d("elliptic").ec,s=d("parse-asn1"),u=d("./curves.json");N.exports=function f(o,t,r,a,c){var l=s(r);if("ec"===l.type){if("ecdsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong public key type");return function b(o,t,r){var a=u[r.data.algorithm.curve.join(".")];if(!a)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));return new h(a).verify(t,o,r.data.subjectPrivateKey.data)}(o,t,l)}if("dsa"===l.type){if("dsa"!==a)throw new Error("wrong public key type");return function m(o,t,r){var a=r.data.p,c=r.data.q,l=r.data.g,w=r.data.pub_key,E=s.signature.decode(o,"der"),C=E.s,z=E.r;_(C,c),_(z,c);var k=g.mont(a),I=C.invm(c);return 0===l.toRed(k).redPow(new g(t).mul(I).mod(c)).fromRed().mul(w.toRed(k).redPow(z.mul(I).mod(c)).fromRed()).mod(a).mod(c).cmp(z)}(o,t,l)}if("rsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong public key type");t=n.concat([c,t]);for(var w=l.modulus.byteLength(),E=[1],C=0;t.length+E.length+2<w;)E.push(255),C++;E.push(0);for(var z=-1;++z<t.length;)E.push(t[z]);E=n.from(E);var k=g.mont(l.modulus);o=(o=new g(o).toRed(k)).redPow(new g(l.publicExponent)),o=n.from(o.fromRed().toArray());var I=8>C?1:0;for(w=ne(o.length,E.length),o.length!==E.length&&(I=1),z=-1;++z<w;)I|=o[z]^E[z];return 0==I}},{"./curves.json":66,"bn.js":40,elliptic:104,"parse-asn1":183,"safe-buffer":235}],70:[function(d,N,A){function f(n,g){for(var h in n)g[h]=n[h]}function b(n,g,h){return _(n,g,h)}var m=d("buffer"),_=m.Buffer;_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?N.exports=m:(f(m,A),A.Buffer=b),f(_,b),b.from=function(n,g,h){if("number"==typeof n)throw new TypeError("Argument must not be a number");return _(n,g,h)},b.alloc=function(n,g,h){if("number"!=typeof n)throw new TypeError("Argument must be a number");var s=_(n);return void 0===g?s.fill(0):"string"==typeof h?s.fill(g,h):s.fill(g),s},b.allocUnsafe=function(n){if("number"!=typeof n)throw new TypeError("Argument must be a number");return _(n)},b.allocUnsafeSlow=function(n){if("number"!=typeof n)throw new TypeError("Argument must be a number");return m.SlowBuffer(n)}},{buffer:76}],71:[function(d,N,A){"use strict";function m(C){var z;switch(this.encoding=function b(C){var z=function f(C){if(!C)return"utf8";for(var z;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(z)return;C=(""+C).toLowerCase(),z=!0}}(C);if("string"!=typeof z&&(w.isEncoding===E||!E(C)))throw new Error("Unknown encoding: "+C);return z||C}(C),this.encoding){case"utf16le":this.text=o,this.end=t,z=4;break;case"utf8":this.fillLast=h,z=4;break;case"base64":this.text=r,this.end=a,z=3;break;default:return this.write=c,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=w.allocUnsafe(z)}function _(C){return 127>=C?0:C>>5==6?2:C>>4==14?3:C>>3==30?4:C>>6==2?-1:-2}function h(C){var z=this.lastTotal-this.lastNeed,k=function g(C,z,k){if(128!=(192&z[0]))return C.lastNeed=0,"\ufffd";if(1<C.lastNeed&&1<z.length){if(128!=(192&z[1]))return C.lastNeed=1,"\ufffd";if(2<C.lastNeed&&2<z.length&&128!=(192&z[2]))return C.lastNeed=2,"\ufffd"}}(this,C);return void 0===k?this.lastNeed<=C.length?(C.copy(this.lastChar,z,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(C.copy(this.lastChar,z,0,C.length),void(this.lastNeed-=C.length)):k}function o(C,z){if((C.length-z)%2==0){var k=C.toString("utf16le",z);if(k){var I=k.charCodeAt(k.length-1);if(55296<=I&&56319>=I)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=C[C.length-1],C.toString("utf16le",z,C.length-1)}function t(C){var z=C&&C.length?this.write(C):"";return this.lastNeed?z+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):z}function r(C,z){var k=(C.length-z)%3;return 0==k?C.toString("base64",z):(this.lastNeed=3-k,this.lastTotal=3,1==k?this.lastChar[0]=C[C.length-1]:(this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1]),C.toString("base64",z,C.length-k))}function a(C){var z=C&&C.length?this.write(C):"";return this.lastNeed?z+this.lastChar.toString("base64",0,3-this.lastNeed):z}function c(C){return C.toString(this.encoding)}function l(C){return C&&C.length?this.write(C):""}var w=d("safe-buffer").Buffer,E=w.isEncoding||function(C){switch((C=""+C)&&C.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};A.StringDecoder=m,m.prototype.write=function(C){if(0===C.length)return"";var z,k;if(this.lastNeed){if(void 0===(z=this.fillLast(C)))return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<C.length?z?z+this.text(C,k):this.text(C,k):z||""},m.prototype.end=function u(C){var z=C&&C.length?this.write(C):"";return this.lastNeed?z+"\ufffd":z},m.prototype.text=function s(C,z){var k=function n(C,z,k){var I=z.length-1;if(I<k)return 0;var V=_(z[I]);return 0<=V?(0<V&&(C.lastNeed=V-1),V):--I<k||-2===V?0:0<=(V=_(z[I]))?(0<V&&(C.lastNeed=V-2),V):--I<k||-2===V?0:0<=(V=_(z[I]))?(0<V&&(2===V?V=0:C.lastNeed=V-3),V):0}(this,C,z);if(!this.lastNeed)return C.toString("utf8",z);this.lastTotal=k;var I=C.length-(k-this.lastNeed);return C.copy(this.lastChar,0,I),C.toString("utf8",z,I)},m.prototype.fillLast=function(C){return this.lastNeed<=C.length?(C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,C.length),void(this.lastNeed-=C.length))}},{"safe-buffer":70}],72:[function(d,N,A){(function(f){(function(){N.exports=function b(m){if("number"!=typeof m)throw new TypeError('"size" argument must be a number');if(0>m)throw new RangeError('"size" argument must not be negative');return f.allocUnsafe?f.allocUnsafe(m):new f(m)}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76}],73:[function(d,N,A){(function(f){(function(){var b=d("buffer-fill"),m=d("buffer-alloc-unsafe");N.exports=function(n,g,h){if("number"!=typeof n)throw new TypeError('"size" argument must be a number');if(0>n)throw new RangeError('"size" argument must not be negative');if(f.alloc)return f.alloc(n,g,h);var s=m(n);return 0===n?s:void 0===g?b(s,0):("string"!=typeof h&&(h=void 0),b(s,g,h))}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76,"buffer-alloc-unsafe":72,"buffer-fill":74}],74:[function(d,N,A){(function(f){(function(){function m(h,s,u,o){if(0>u||o>h.length)throw new RangeError("Out of range index");return(o=void 0===o?h.length:o>>>0)>(u>>>=0)&&h.fill(s,u,o),h}var g=function(){try{if(!f.isEncoding("latin1"))return!1;var h=f.alloc?f.alloc(4):new f(4);return h.fill("ab","ucs2"),"61006200"===h.toString("hex")}catch{return!1}}();N.exports=function n(h,s,u,o,t){if(g)return h.fill(s,u,o,t);if("number"==typeof s)return m(h,s,u,o);if("string"==typeof s){if("string"==typeof u?(t=u,u=0,o=h.length):"string"==typeof o&&(t=o,o=h.length),void 0!==t&&"string"!=typeof t)throw new TypeError("encoding must be a string");if("latin1"===t&&(t="binary"),"string"==typeof t&&!f.isEncoding(t))throw new TypeError("Unknown encoding: "+t);if(""===s)return m(h,0,u,o);if(function b(h){return 1===h.length&&256>h.charCodeAt(0)}(s))return m(h,s.charCodeAt(0),u,o);s=new f(s,t)}return f.isBuffer(s)?function _(h,s,u,o){if(0>u||o>h.length)throw new RangeError("Out of range index");if(o<=u)return h;o=void 0===o?h.length:o>>>0;for(var t=u>>>=0,r=s.length;t<=o-r;)s.copy(h,t),t+=r;return t!==o&&s.copy(h,t,0,o-t),h}(h,s,u,o):m(h,0,u,o)}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76}],75:[function(d,N,A){(function(f){(function(){N.exports=function(m,_){for(var n=ne(m.length,_.length),g=new f(n),h=0;h<n;++h)g[h]=m[h]^_[h];return g}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76}],76:[function(d,N,A){(function(f){(function(){"use strict";function m(O){if(2147483647<O)throw new RangeError('The value "'+O+'" is invalid for option "size"');var W=new Uint8Array(O);return W.__proto__=_.prototype,W}function _(O,W,ee){if("number"==typeof O){if("string"==typeof W)throw new TypeError('The "string" argument must be of type string. Received type number');return s(O)}return n(O,W,ee)}function n(O,W,ee){if("string"==typeof O)return function u(O,W){if(("string"!=typeof W||""===W)&&(W="utf8"),!_.isEncoding(W))throw new TypeError("Unknown encoding: "+W);var ee=0|l(O,W),ve=m(ee),He=ve.write(O,W);return He!==ee&&(ve=ve.slice(0,He)),ve}(O,W);if(ArrayBuffer.isView(O))return o(O);if(null==O)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(qt(O,ArrayBuffer)||O&&qt(O.buffer,ArrayBuffer))return function t(O,W,ee){if(0>W||O.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<W+(ee||0))throw new RangeError('"length" is outside of buffer bounds');var ve;return(ve=void 0===W&&void 0===ee?new Uint8Array(O):void 0===ee?new Uint8Array(O,W):new Uint8Array(O,W,ee)).__proto__=_.prototype,ve}(O,W,ee);if("number"==typeof O)throw new TypeError('The "value" argument must not be of type number. Received type number');var ve=O.valueOf&&O.valueOf();if(null!=ve&&ve!==O)return _.from(ve,W,ee);var He=function r(O){if(_.isBuffer(O)){var W=0|a(O.length),ee=m(W);return 0===ee.length||O.copy(ee,0,0,W),ee}return void 0===O.length?"Buffer"===O.type&&Array.isArray(O.data)?o(O.data):void 0:"number"!=typeof O.length||tt(O.length)?m(0):o(O)}(O);if(He)return He;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof O[Symbol.toPrimitive])return _.from(O[Symbol.toPrimitive]("string"),W,ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}function g(O){if("number"!=typeof O)throw new TypeError('"size" argument must be of type number');if(0>O)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function s(O){return g(O),m(0>O?0:0|a(O))}function o(O){for(var W=0>O.length?0:0|a(O.length),ee=m(W),ve=0;ve<W;ve+=1)ee[ve]=255&O[ve];return ee}function a(O){if(O>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|O}function l(O,W){if(_.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||qt(O,ArrayBuffer))return O.byteLength;if("string"!=typeof O)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);var ee=O.length,ve=2<arguments.length&&!0===arguments[2];if(!ve&&0===ee)return 0;for(var He=!1;;)switch(W){case"ascii":case"latin1":case"binary":return ee;case"utf8":case"utf-8":return Ie(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ee;case"hex":return ee>>>1;case"base64":return ut(O).length;default:if(He)return ve?-1:Ie(O).length;W=(""+W).toLowerCase(),He=!0}}function w(O,W,ee){var ve=!1;if((void 0===W||0>W)&&(W=0),W>this.length||((void 0===ee||ee>this.length)&&(ee=this.length),0>=ee)||(ee>>>=0)<=(W>>>=0))return"";for(O||(O="utf8");;)switch(O){case"hex":return v(this,W,ee);case"utf8":case"utf-8":return X(this,W,ee);case"ascii":return D(this,W,ee);case"latin1":case"binary":return M(this,W,ee);case"base64":return Ae(this,W,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,W,ee);default:if(ve)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),ve=!0}}function E(O,W,ee){var ve=O[W];O[W]=O[ee],O[ee]=ve}function C(O,W,ee,ve,He){if(0===O.length)return-1;if("string"==typeof ee?(ve=ee,ee=0):2147483647<ee?ee=2147483647:-2147483648>ee&&(ee=-2147483648),tt(ee=+ee)&&(ee=He?0:O.length-1),0>ee&&(ee=O.length+ee),ee>=O.length){if(He)return-1;ee=O.length-1}else if(0>ee){if(!He)return-1;ee=0}if("string"==typeof W&&(W=_.from(W,ve)),_.isBuffer(W))return 0===W.length?-1:z(O,W,ee,ve,He);if("number"==typeof W)return W&=255,"function"==typeof Uint8Array.prototype.indexOf?He?Uint8Array.prototype.indexOf.call(O,W,ee):Uint8Array.prototype.lastIndexOf.call(O,W,ee):z(O,[W],ee,ve,He);throw new TypeError("val must be string, number or Buffer")}function z(O,W,ee,ve,He){function ht(fr,Dn){return 1===st?fr[Dn]:fr.readUInt16BE(Dn*st)}var Ht,st=1,Jt=O.length,on=W.length;if(void 0!==ve&&("ucs2"===(ve=(ve+"").toLowerCase())||"ucs-2"===ve||"utf16le"===ve||"utf-16le"===ve)){if(2>O.length||2>W.length)return-1;st=2,Jt/=2,on/=2,ee/=2}if(He){var wn=-1;for(Ht=ee;Ht<Jt;Ht++)if(ht(O,Ht)!==ht(W,-1===wn?0:Ht-wn))-1!==wn&&(Ht-=Ht-wn),wn=-1;else if(-1===wn&&(wn=Ht),Ht-wn+1===on)return wn*st}else for(ee+on>Jt&&(ee=Jt-on),Ht=ee;0<=Ht;Ht--){for(var sn=!0,Sn=0;Sn<on;Sn++)if(ht(O,Ht+Sn)!==ht(W,Sn)){sn=!1;break}if(sn)return Ht}return-1}function k(O,W,ee,ve){var He=O.length-(ee=+ee||0);ve?(ve=+ve)>He&&(ve=He):ve=He;var ht=W.length;ve>ht/2&&(ve=ht/2);for(var Jt,st=0;st<ve;++st){if(tt(Jt=parseInt(W.substr(2*st,2),16)))return st;O[ee+st]=Jt}return st}function I(O,W,ee,ve){return $t(Ie(W,O.length-ee),O,ee,ve)}function V(O,W,ee,ve){return $t(function Qe(O){for(var W=[],ee=0;ee<O.length;++ee)W.push(255&O.charCodeAt(ee));return W}(W),O,ee,ve)}function $(O,W,ee,ve){return V(O,W,ee,ve)}function oe(O,W,ee,ve){return $t(ut(W),O,ee,ve)}function ue(O,W,ee,ve){return $t(function Je(O,W){for(var He,ht,ee=[],ve=0;ve<O.length&&!(0>(W-=2));++ve)ht=(He=O.charCodeAt(ve))>>8,ee.push(He%256),ee.push(ht);return ee}(W,O.length-ee),O,ee,ve)}function Ae(O,W,ee){return at.fromByteArray(0===W&&ee===O.length?O:O.slice(W,ee))}function X(O,W,ee){ee=ne(O.length,ee);for(var ve=[],He=W;He<ee;){var on,Ht,wn,sn,ht=O[He],st=null,Jt=239<ht?4:223<ht?3:191<ht?2:1;He+Jt<=ee&&(1===Jt?128>ht&&(st=ht):2===Jt?128==(192&(on=O[He+1]))&&127<(sn=(31&ht)<<6|63&on)&&(st=sn):3===Jt?(Ht=O[He+2],128==(192&(on=O[He+1]))&&128==(192&Ht)&&2047<(sn=(15&ht)<<12|(63&on)<<6|63&Ht)&&(55296>sn||57343<sn)&&(st=sn)):4===Jt&&(Ht=O[He+2],wn=O[He+3],128==(192&(on=O[He+1]))&&128==(192&Ht)&&128==(192&wn)&&65535<(sn=(15&ht)<<18|(63&on)<<12|(63&Ht)<<6|63&wn)&&1114112>sn&&(st=sn))),null===st?(st=65533,Jt=1):65535<st&&(ve.push(55296|1023&(st-=65536)>>>10),st=56320|1023&st),ve.push(st),He+=Jt}return function T(O){var W=O.length;if(W<=4096)return te.apply(String,O);for(var ee="",ve=0;ve<W;)ee+=te.apply(String,O.slice(ve,ve+=4096));return ee}(ve)}function D(O,W,ee){var ve="";ee=ne(O.length,ee);for(var He=W;He<ee;++He)ve+=te(127&O[He]);return ve}function M(O,W,ee){var ve="";ee=ne(O.length,ee);for(var He=W;He<ee;++He)ve+=te(O[He]);return ve}function v(O,W,ee){var ve=O.length;(!W||0>W)&&(W=0),(!ee||0>ee||ee>ve)&&(ee=ve);for(var He="",ht=W;ht<ee;++ht)He+=Se(O[ht]);return He}function B(O,W,ee){for(var ve=O.slice(W,ee),He="",ht=0;ht<ve.length;ht+=2)He+=te(ve[ht]+256*ve[ht+1]);return He}function F(O,W,ee){if(O%1!=0||0>O)throw new RangeError("offset is not uint");if(O+W>ee)throw new RangeError("Trying to access beyond buffer length")}function q(O,W,ee,ve,He,ht){if(!_.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>He||W<ht)throw new RangeError('"value" argument is out of bounds');if(ee+ve>O.length)throw new RangeError("Index out of range")}function L(O,W,ee,ve,He,ht){if(ee+ve>O.length)throw new RangeError("Index out of range");if(0>ee)throw new RangeError("Index out of range")}function Y(O,W,ee,ve,He){return W=+W,ee>>>=0,He||L(O,0,ee,4),nt.write(O,W,ee,ve,23,4),ee+4}function se(O,W,ee,ve,He){return W=+W,ee>>>=0,He||L(O,0,ee,8),nt.write(O,W,ee,ve,52,8),ee+8}function Se(O){return 16>O?"0"+O.toString(16):O.toString(16)}function Ie(O,W){W=W||1/0;for(var st,ee=O.length,ve=null,He=[],ht=0;ht<ee;++ht){if(55295<(st=O.charCodeAt(ht))&&57344>st){if(!ve){if(56319<st){-1<(W-=3)&&He.push(239,191,189);continue}if(ht+1===ee){-1<(W-=3)&&He.push(239,191,189);continue}ve=st;continue}if(56320>st){-1<(W-=3)&&He.push(239,191,189),ve=st;continue}st=65536+(ve-55296<<10|st-56320)}else ve&&-1<(W-=3)&&He.push(239,191,189);if(ve=null,128>st){if(0>(W-=1))break;He.push(st)}else if(2048>st){if(0>(W-=2))break;He.push(192|st>>6,128|63&st)}else if(65536>st){if(0>(W-=3))break;He.push(224|st>>12,128|63&st>>6,128|63&st)}else{if(!(1114112>st))throw new Error("Invalid code point");if(0>(W-=4))break;He.push(240|st>>18,128|63&st>>12,128|63&st>>6,128|63&st)}}return He}function ut(O){return at.toByteArray(function Ee(O){if(2>(O=(O=O.split("=")[0]).trim().replace(J,"")).length)return"";for(;O.length%4!=0;)O+="=";return O}(O))}function $t(O,W,ee,ve){for(var He=0;He<ve&&!(He+ee>=W.length||He>=O.length);++He)W[He+ee]=O[He];return He}function qt(O,W){return O instanceof W||null!=O&&null!=O.constructor&&null!=O.constructor.name&&O.constructor.name===W.name}function tt(O){return O!=O}var at=d("base64-js"),nt=d("ieee754");A.Buffer=_,A.SlowBuffer=function c(O){return+O!=O&&(O=0),_.alloc(+O)},A.INSPECT_MAX_BYTES=50,A.kMaxLength=2147483647,(_.TYPED_ARRAY_SUPPORT=function b(){try{var O=new Uint8Array(1);return O.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===O.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){return _.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){return _.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&null!=Symbol.species&&_[Symbol.species]===_&&Object.defineProperty(_,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),_.poolSize=8192,_.from=function(O,W,ee){return n(O,W,ee)},_.prototype.__proto__=Uint8Array.prototype,_.__proto__=Uint8Array,_.alloc=function(O,W,ee){return function h(O,W,ee){return g(O),0>=O||void 0===W?m(O):"string"==typeof ee?m(O).fill(W,ee):m(O).fill(W)}(O,W,ee)},_.allocUnsafe=function(O){return s(O)},_.allocUnsafeSlow=function(O){return s(O)},_.isBuffer=function(W){return null!=W&&!0===W._isBuffer&&W!==_.prototype},_.compare=function(W,ee){if(qt(W,Uint8Array)&&(W=_.from(W,W.offset,W.byteLength)),qt(ee,Uint8Array)&&(ee=_.from(ee,ee.offset,ee.byteLength)),!_.isBuffer(W)||!_.isBuffer(ee))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===ee)return 0;for(var ve=W.length,He=ee.length,ht=0,st=ne(ve,He);ht<st;++ht)if(W[ht]!==ee[ht]){ve=W[ht],He=ee[ht];break}return ve<He?-1:He<ve?1:0},_.isEncoding=function(W){switch((W+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(W,ee){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(0===W.length)return _.alloc(0);var ve;if(void 0===ee)for(ee=0,ve=0;ve<W.length;++ve)ee+=W[ve].length;var He=_.allocUnsafe(ee),ht=0;for(ve=0;ve<W.length;++ve){var st=W[ve];if(qt(st,Uint8Array)&&(st=_.from(st)),!_.isBuffer(st))throw new TypeError('"list" argument must be an Array of Buffers');st.copy(He,ht),ht+=st.length}return He},_.byteLength=l,_.prototype._isBuffer=!0,_.prototype.swap16=function(){var W=this.length;if(W%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ee=0;ee<W;ee+=2)E(this,ee,ee+1);return this},_.prototype.swap32=function(){var W=this.length;if(W%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ee=0;ee<W;ee+=4)E(this,ee,ee+3),E(this,ee+1,ee+2);return this},_.prototype.swap64=function(){var W=this.length;if(W%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ee=0;ee<W;ee+=8)E(this,ee,ee+7),E(this,ee+1,ee+6),E(this,ee+2,ee+5),E(this,ee+3,ee+4);return this},_.prototype.toString=function(){var W=this.length;return 0===W?"":0===arguments.length?X(this,0,W):w.apply(this,arguments)},_.prototype.toLocaleString=_.prototype.toString,_.prototype.equals=function(W){if(!_.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W||0===_.compare(this,W)},_.prototype.inspect=function(){var W="",ee=A.INSPECT_MAX_BYTES;return W=this.toString("hex",0,ee).replace(/(.{2})/g,"$1 ").trim(),this.length>ee&&(W+=" ... "),"<Buffer "+W+">"},_.prototype.compare=function(W,ee,ve,He,ht){if(qt(W,Uint8Array)&&(W=_.from(W,W.offset,W.byteLength)),!_.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(void 0===ee&&(ee=0),void 0===ve&&(ve=W?W.length:0),void 0===He&&(He=0),void 0===ht&&(ht=this.length),0>ee||ve>W.length||0>He||ht>this.length)throw new RangeError("out of range index");if(He>=ht&&ee>=ve)return 0;if(He>=ht)return-1;if(ee>=ve)return 1;if(this===W)return 0;for(var st=(ht>>>=0)-(He>>>=0),Jt=(ve>>>=0)-(ee>>>=0),on=ne(st,Jt),Ht=this.slice(He,ht),wn=W.slice(ee,ve),sn=0;sn<on;++sn)if(Ht[sn]!==wn[sn]){st=Ht[sn],Jt=wn[sn];break}return st<Jt?-1:Jt<st?1:0},_.prototype.includes=function(W,ee,ve){return-1!==this.indexOf(W,ee,ve)},_.prototype.indexOf=function(W,ee,ve){return C(this,W,ee,ve,!0)},_.prototype.lastIndexOf=function(W,ee,ve){return C(this,W,ee,ve,!1)},_.prototype.write=function(W,ee,ve,He){if(void 0===ee)He="utf8",ve=this.length,ee=0;else if(void 0===ve&&"string"==typeof ee)He=ee,ve=this.length,ee=0;else{if(!isFinite(ee))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ee>>>=0,isFinite(ve)?(ve>>>=0,void 0===He&&(He="utf8")):(He=ve,ve=void 0)}var ht=this.length-ee;if((void 0===ve||ve>ht)&&(ve=ht),0<W.length&&(0>ve||0>ee)||ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");He||(He="utf8");for(var st=!1;;)switch(He){case"hex":return k(this,W,ee,ve);case"utf8":case"utf-8":return I(this,W,ee,ve);case"ascii":return V(this,W,ee,ve);case"latin1":case"binary":return $(this,W,ee,ve);case"base64":return oe(this,W,ee,ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,W,ee,ve);default:if(st)throw new TypeError("Unknown encoding: "+He);He=(""+He).toLowerCase(),st=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},_.prototype.slice=function(W,ee){var ve=this.length;0>(W=~~W)?0>(W+=ve)&&(W=0):W>ve&&(W=ve),0>(ee=void 0===ee?ve:~~ee)?0>(ee+=ve)&&(ee=0):ee>ve&&(ee=ve),ee<W&&(ee=W);var He=this.subarray(W,ee);return He.__proto__=_.prototype,He},_.prototype.readUIntLE=function(W,ee,ve){W>>>=0,ee>>>=0,ve||F(W,ee,this.length);for(var He=this[W],ht=1,st=0;++st<ee&&(ht*=256);)He+=this[W+st]*ht;return He},_.prototype.readUIntBE=function(W,ee,ve){W>>>=0,ee>>>=0,ve||F(W,ee,this.length);for(var He=this[W+--ee],ht=1;0<ee&&(ht*=256);)He+=this[W+--ee]*ht;return He},_.prototype.readUInt8=function(W,ee){return W>>>=0,ee||F(W,1,this.length),this[W]},_.prototype.readUInt16LE=function(W,ee){return W>>>=0,ee||F(W,2,this.length),this[W]|this[W+1]<<8},_.prototype.readUInt16BE=function(W,ee){return W>>>=0,ee||F(W,2,this.length),this[W]<<8|this[W+1]},_.prototype.readUInt32LE=function(W,ee){return W>>>=0,ee||F(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+16777216*this[W+3]},_.prototype.readUInt32BE=function(W,ee){return W>>>=0,ee||F(W,4,this.length),16777216*this[W]+(this[W+1]<<16|this[W+2]<<8|this[W+3])},_.prototype.readIntLE=function(W,ee,ve){W>>>=0,ee>>>=0,ve||F(W,ee,this.length);for(var He=this[W],ht=1,st=0;++st<ee&&(ht*=256);)He+=this[W+st]*ht;return He>=(ht*=128)&&(He-=H(2,8*ee)),He},_.prototype.readIntBE=function(W,ee,ve){W>>>=0,ee>>>=0,ve||F(W,ee,this.length);for(var He=ee,ht=1,st=this[W+--He];0<He&&(ht*=256);)st+=this[W+--He]*ht;return st>=(ht*=128)&&(st-=H(2,8*ee)),st},_.prototype.readInt8=function(W,ee){return W>>>=0,ee||F(W,1,this.length),128&this[W]?-1*(255-this[W]+1):this[W]},_.prototype.readInt16LE=function(W,ee){W>>>=0,ee||F(W,2,this.length);var ve=this[W]|this[W+1]<<8;return 32768&ve?4294901760|ve:ve},_.prototype.readInt16BE=function(W,ee){W>>>=0,ee||F(W,2,this.length);var ve=this[W+1]|this[W]<<8;return 32768&ve?4294901760|ve:ve},_.prototype.readInt32LE=function(W,ee){return W>>>=0,ee||F(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},_.prototype.readInt32BE=function(W,ee){return W>>>=0,ee||F(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},_.prototype.readFloatLE=function(W,ee){return W>>>=0,ee||F(W,4,this.length),nt.read(this,W,!0,23,4)},_.prototype.readFloatBE=function(W,ee){return W>>>=0,ee||F(W,4,this.length),nt.read(this,W,!1,23,4)},_.prototype.readDoubleLE=function(W,ee){return W>>>=0,ee||F(W,8,this.length),nt.read(this,W,!0,52,8)},_.prototype.readDoubleBE=function(W,ee){return W>>>=0,ee||F(W,8,this.length),nt.read(this,W,!1,52,8)},_.prototype.writeUIntLE=function(W,ee,ve,He){W=+W,ee>>>=0,ve>>>=0,He||q(this,W,ee,ve,H(2,8*ve)-1,0);var st=1,Jt=0;for(this[ee]=255&W;++Jt<ve&&(st*=256);)this[ee+Jt]=255&W/st;return ee+ve},_.prototype.writeUIntBE=function(W,ee,ve,He){W=+W,ee>>>=0,ve>>>=0,He||q(this,W,ee,ve,H(2,8*ve)-1,0);var st=ve-1,Jt=1;for(this[ee+st]=255&W;0<=--st&&(Jt*=256);)this[ee+st]=255&W/Jt;return ee+ve},_.prototype.writeUInt8=function(W,ee,ve){return W=+W,ee>>>=0,ve||q(this,W,ee,1,255,0),this[ee]=255&W,ee+1},_.prototype.writeUInt16LE=function(W,ee,ve){return W=+W,ee>>>=0,ve||q(this,W,ee,2,65535,0),this[ee]=255&W,this[ee+1]=W>>>8,ee+2},_.prototype.writeUInt16BE=function(W,ee,ve){return W=+W,ee>>>=0,ve||q(this,W,ee,2,65535,0),this[ee]=W>>>8,this[ee+1]=255&W,ee+2},_.prototype.writeUInt32LE=function(W,ee,ve){return W=+W,ee>>>=0,ve||q(this,W,ee,4,4294967295,0),this[ee+3]=W>>>24,this[ee+2]=W>>>16,this[ee+1]=W>>>8,this[ee]=255&W,ee+4},_.prototype.writeUInt32BE=function(W,ee,ve){return W=+W,ee>>>=0,ve||q(this,W,ee,4,4294967295,0),this[ee]=W>>>24,this[ee+1]=W>>>16,this[ee+2]=W>>>8,this[ee+3]=255&W,ee+4},_.prototype.writeIntLE=function(W,ee,ve,He){if(W=+W,ee>>>=0,!He){var ht=H(2,8*ve-1);q(this,W,ee,ve,ht-1,-ht)}var st=0,Jt=1,on=0;for(this[ee]=255&W;++st<ve&&(Jt*=256);)0>W&&0===on&&0!==this[ee+st-1]&&(on=1),this[ee+st]=255&(W/Jt>>0)-on;return ee+ve},_.prototype.writeIntBE=function(W,ee,ve,He){if(W=+W,ee>>>=0,!He){var ht=H(2,8*ve-1);q(this,W,ee,ve,ht-1,-ht)}var st=ve-1,Jt=1,on=0;for(this[ee+st]=255&W;0<=--st&&(Jt*=256);)0>W&&0===on&&0!==this[ee+st+1]&&(on=1),this[ee+st]=255&(W/Jt>>0)-on;return ee+ve},_.prototype.writeInt8=function(W,ee,ve){return W=+W,ee>>>=0,ve||q(this,W,ee,1,127,-128),0>W&&(W=255+W+1),this[ee]=255&W,ee+1},_.prototype.writeInt16LE=function(W,ee,ve){return W=+W,ee>>>=0,ve||q(this,W,ee,2,32767,-32768),this[ee]=255&W,this[ee+1]=W>>>8,ee+2},_.prototype.writeInt16BE=function(W,ee,ve){return W=+W,ee>>>=0,ve||q(this,W,ee,2,32767,-32768),this[ee]=W>>>8,this[ee+1]=255&W,ee+2},_.prototype.writeInt32LE=function(W,ee,ve){return W=+W,ee>>>=0,ve||q(this,W,ee,4,2147483647,-2147483648),this[ee]=255&W,this[ee+1]=W>>>8,this[ee+2]=W>>>16,this[ee+3]=W>>>24,ee+4},_.prototype.writeInt32BE=function(W,ee,ve){return W=+W,ee>>>=0,ve||q(this,W,ee,4,2147483647,-2147483648),0>W&&(W=4294967295+W+1),this[ee]=W>>>24,this[ee+1]=W>>>16,this[ee+2]=W>>>8,this[ee+3]=255&W,ee+4},_.prototype.writeFloatLE=function(W,ee,ve){return Y(this,W,ee,!0,ve)},_.prototype.writeFloatBE=function(W,ee,ve){return Y(this,W,ee,!1,ve)},_.prototype.writeDoubleLE=function(W,ee,ve){return se(this,W,ee,!0,ve)},_.prototype.writeDoubleBE=function(W,ee,ve){return se(this,W,ee,!1,ve)},_.prototype.copy=function(W,ee,ve,He){if(!_.isBuffer(W))throw new TypeError("argument should be a Buffer");if(ve||(ve=0),He||0===He||(He=this.length),ee>=W.length&&(ee=W.length),ee||(ee=0),0<He&&He<ve&&(He=ve),He===ve||0===W.length||0===this.length)return 0;if(0>ee)throw new RangeError("targetStart out of bounds");if(0>ve||ve>=this.length)throw new RangeError("Index out of range");if(0>He)throw new RangeError("sourceEnd out of bounds");He>this.length&&(He=this.length),W.length-ee<He-ve&&(He=W.length-ee+ve);var ht=He-ve;if(this===W&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(ee,ve,He);else if(this===W&&ve<ee&&ee<He)for(var st=ht-1;0<=st;--st)W[st+ee]=this[st+ve];else Uint8Array.prototype.set.call(W,this.subarray(ve,He),ee);return ht},_.prototype.fill=function(W,ee,ve,He){if("string"==typeof W){if("string"==typeof ee?(He=ee,ee=0,ve=this.length):"string"==typeof ve&&(He=ve,ve=this.length),void 0!==He&&"string"!=typeof He)throw new TypeError("encoding must be a string");if("string"==typeof He&&!_.isEncoding(He))throw new TypeError("Unknown encoding: "+He);if(1===W.length){var ht=W.charCodeAt(0);("utf8"===He&&128>ht||"latin1"===He)&&(W=ht)}}else"number"==typeof W&&(W&=255);if(0>ee||this.length<ee||this.length<ve)throw new RangeError("Out of range index");if(ve<=ee)return this;var st;if(ee>>>=0,ve=void 0===ve?this.length:ve>>>0,W||(W=0),"number"==typeof W)for(st=ee;st<ve;++st)this[st]=W;else{var Jt=_.isBuffer(W)?W:_.from(W,He),on=Jt.length;if(0===on)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(st=0;st<ve-ee;++st)this[st+ee]=Jt[st%on]}return this};var J=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,d("buffer").Buffer)},{"base64-js":23,buffer:76,ieee754:145}],77:[function(d,N,A){N.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],78:[function(d,N,A){const f=d("lru"),b=d("queue-microtask");N.exports=class m{constructor(n,g){if(this.store=n,this.chunkLength=n.chunkLength,this.inProgressGets=new Map,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.cache=new f(g)}put(n,g,h=(()=>{})){return this.cache?(this.cache.remove(n),void this.store.put(n,g,h)):b(()=>h(new Error("CacheStore closed")))}get(n,g,h=(()=>{})){if("function"==typeof g)return this.get(n,null,g);if(!this.cache)return b(()=>h(new Error("CacheStore closed")));g||(g={});let s=this.cache.get(n);if(s){const t=g.offset||0,r=g.length||s.length-t;return(0!==t||r!==s.length)&&(s=s.slice(t,r+t)),b(()=>h(null,s))}let u=this.inProgressGets.get(n);const o=!!u;u||(u=[],this.inProgressGets.set(n,u)),u.push({opts:g,cb:h}),o||this.store.get(n,(t,r)=>{t||null==this.cache||this.cache.set(n,r);const a=this.inProgressGets.get(n);this.inProgressGets.delete(n);for(const{opts:c,cb:l}of a)if(t)l(t);else{const w=c.offset||0,E=c.length||r.length-w;let C=r;(0!==w||E!==r.length)&&(C=r.slice(w,E+w)),l(null,C)}})}close(n=(()=>{})){return this.cache?(this.cache=null,void this.store.close(n)):b(()=>n(new Error("CacheStore closed")))}destroy(n=(()=>{})){return this.cache?(this.cache=null,void this.store.destroy(n)):b(()=>n(new Error("CacheStore closed")))}}},{lru:156,"queue-microtask":206}],79:[function(d,N,A){const f=d("block-stream2"),b=d("readable-stream");N.exports=class m extends b.Writable{constructor(n,g,h={}){if(super(h),!n||!n.put||!n.get)throw new Error("First argument must be an abstract-chunk-store compliant store");if(!(g=+g))throw new Error("Second argument must be a chunk length");const s=void 0!==h.zeroPadding&&h.zeroPadding;this._blockstream=new f(g,{...h,zeroPadding:s}),this._outstandingPuts=0,this._storeMaxOutstandingPuts=h.storeMaxOutstandingPuts||16;let u=0;this._blockstream.on("data",t=>{this.destroyed||(this._outstandingPuts+=1,this._outstandingPuts>=this._storeMaxOutstandingPuts&&this._blockstream.pause(),n.put(u,t,r=>r?this.destroy(r):(this._outstandingPuts-=1,this._outstandingPuts<this._storeMaxOutstandingPuts&&this._blockstream.resume(),void(0===this._outstandingPuts&&"function"==typeof this._finalCb&&(this._finalCb(null),this._finalCb=null)))),u+=1)}).on("error",t=>{this.destroy(t)})}_write(n,g,h){this._blockstream.write(n,g,h)}_final(n){this._blockstream.end(),this._blockstream.once("end",()=>{0===this._outstandingPuts?n(null):this._finalCb=n})}destroy(n){this.destroyed||(this.destroyed=!0,n&&this.emit("error",n),this.emit("close"))}}},{"block-stream2":39,"readable-stream":228}],80:[function(d,N,A){function f(g){m.call(this),this.hashMode="string"==typeof g,this.hashMode?this[g]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var b=d("safe-buffer").Buffer,m=d("stream").Transform,_=d("string_decoder").StringDecoder;d("inherits")(f,m),f.prototype.update=function(g,h,s){"string"==typeof g&&(g=b.from(g,h));var u=this._update(g);return this.hashMode?this:(s&&(u=this._toString(u,s)),u)},f.prototype.setAutoPadding=function(){},f.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},f.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},f.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},f.prototype._transform=function(g,h,s){var u;try{this.hashMode?this._update(g):this.push(this._update(g))}catch(o){u=o}finally{s(u)}},f.prototype._flush=function(g){var h;try{this.push(this.__final())}catch(s){h=s}g(h)},f.prototype._finalOrDigest=function(g){var h=this.__final()||b.alloc(0);return g&&(h=this._toString(h,g,!0)),h},f.prototype._toString=function(g,h,s){if(this._decoder||(this._decoder=new _(h),this._encoding=h),this._encoding!==h)throw new Error("can't switch encodings");var u=this._decoder.write(g);return s&&(u+=this._decoder.end()),u},N.exports=f},{inherits:147,"safe-buffer":235,stream:256,string_decoder:71}],81:[function(d,N,A){(function(f){(function(){var b=function(){"use strict";function m(a,c){return null!=c&&a instanceof c}function _(a,c,l,w,E){"object"==typeof c&&(l=c.depth,w=c.prototype,E=c.includeNonEnumerable,c=c.circular);var z=[],k=[],I=typeof f<"u";return typeof c>"u"&&(c=!0),typeof l>"u"&&(l=1/0),function C(V,$){if(null===V)return null;if(0===$)return V;var oe,ue;if("object"!=typeof V)return V;if(m(V,o))oe=new o;else if(m(V,t))oe=new t;else if(m(V,r))oe=new r(function(q,L){V.then(function(Y){q(C(Y,$-1))},function(Y){L(C(Y,$-1))})});else if(_.__isArray(V))oe=[];else if(_.__isRegExp(V))oe=new RegExp(V.source,u(V)),V.lastIndex&&(oe.lastIndex=V.lastIndex);else if(_.__isDate(V))oe=new Date(V.getTime());else{if(I&&f.isBuffer(V))return oe=f.allocUnsafe?f.allocUnsafe(V.length):new f(V.length),V.copy(oe),oe;m(V,Error)?oe=Object.create(V):typeof w>"u"?(ue=Object.getPrototypeOf(V),oe=Object.create(ue)):(oe=Object.create(w),ue=w)}if(c){var Ae=z.indexOf(V);if(-1!=Ae)return k[Ae];z.push(V),k.push(oe)}for(var X in m(V,o)&&V.forEach(function(q,L){var Y=C(L,$-1),se=C(q,$-1);oe.set(Y,se)}),m(V,t)&&V.forEach(function(q){var L=C(q,$-1);oe.add(L)}),V){var T;ue&&(T=Object.getOwnPropertyDescriptor(ue,X)),(!T||null!=T.set)&&(oe[X]=C(V[X],$-1))}if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(V);for(X=0;X<D.length;X++){var M=D[X];(!(v=Object.getOwnPropertyDescriptor(V,M))||v.enumerable||E)&&(oe[M]=C(V[M],$-1),v.enumerable||Object.defineProperty(oe,M,{enumerable:!1}))}}if(E){var B=Object.getOwnPropertyNames(V);for(X=0;X<B.length;X++){var v,F=B[X];(v=Object.getOwnPropertyDescriptor(V,F))&&v.enumerable||(oe[F]=C(V[F],$-1),Object.defineProperty(oe,F,{enumerable:!1}))}}return oe}(a,l)}function n(a){return Object.prototype.toString.call(a)}function u(a){var c="";return a.global&&(c+="g"),a.ignoreCase&&(c+="i"),a.multiline&&(c+="m"),c}var o,t,r;try{o=Map}catch{o=function(){}}try{t=Set}catch{t=function(){}}try{r=Promise}catch{r=function(){}}return _.clonePrototype=function(c){if(null===c)return null;var l=function(){};return l.prototype=c,new l},_.__objToStr=n,_.__isDate=function g(a){return"object"==typeof a&&"[object Date]"===n(a)},_.__isArray=function h(a){return"object"==typeof a&&"[object Array]"===n(a)},_.__isRegExp=function s(a){return"object"==typeof a&&"[object RegExp]"===n(a)},_.__getRegExpFlags=u,_}();"object"==typeof N&&N.exports&&(N.exports=b)}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76}],82:[function(d,N,A){N.exports=function(){for(var b=navigator.hardwareConcurrency||1,m=[],_=0;_<b;_++)m.push({model:"",speed:0,times:{user:0,nice:0,sys:0,idle:0,irq:0}});return m}},{}],83:[function(d,N,A){(function(f){(function(){function b(h){this.curveType=g[h],this.curveType||(this.curveType={name:h}),this.curve=new _.ec(this.curveType.name),this.keys=void 0}function m(h,s,u){Array.isArray(h)||(h=h.toArray());var o=new f(h);if(u&&o.length<u){var t=new f(u-o.length);t.fill(0),o=f.concat([t,o])}return s?o.toString(s):o}var _=d("elliptic"),n=d("bn.js");N.exports=function(s){return new b(s)};var g={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};g.p224=g.secp224r1,g.p256=g.secp256r1=g.prime256v1,g.p192=g.secp192r1=g.prime192v1,g.p384=g.secp384r1,g.p521=g.secp521r1,b.prototype.generateKeys=function(h,s){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,s)},b.prototype.computeSecret=function(h,s,u){return s=s||"utf8",f.isBuffer(h)||(h=new f(h,s)),m(this.curve.keyFromPublic(h).getPublic().mul(this.keys.getPrivate()).getX(),u,this.curveType.byteLength)},b.prototype.getPublicKey=function(h,s){var u=this.keys.getPublic("compressed"===s,!0);return"hybrid"===s&&(u[0]=u[u.length-1]%2?7:6),m(u,h)},b.prototype.getPrivateKey=function(h){return m(this.keys.getPrivate(),h)},b.prototype.setPublicKey=function(h,s){return s=s||"utf8",f.isBuffer(h)||(h=new f(h,s)),this.keys._importPublic(h),this},b.prototype.setPrivateKey=function(h,s){s=s||"utf8",f.isBuffer(h)||(h=new f(h,s));var u=new n(h);return u=u.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(u),this}}).call(this)}).call(this,d("buffer").Buffer)},{"bn.js":84,buffer:76,elliptic:104}],84:[function(d,N,A){arguments[4][22][0].apply(A,arguments)},{buffer:42,dup:22}],85:[function(d,N,A){"use strict";function f(h){g.call(this,"digest"),this._hash=h}var b=d("inherits"),m=d("md5.js"),_=d("ripemd160"),n=d("sha.js"),g=d("cipher-base");b(f,g),f.prototype._update=function(h){this._hash.update(h)},f.prototype._final=function(){return this._hash.digest()},N.exports=function(s){return"md5"===(s=s.toLowerCase())?new m:"rmd160"===s||"ripemd160"===s?new _:new f(n(s))}},{"cipher-base":80,inherits:147,"md5.js":159,ripemd160:231,"sha.js":238}],86:[function(d,N,A){var f=d("md5.js");N.exports=function(b){return(new f).update(b).digest()}},{"md5.js":159}],87:[function(d,N,A){"use strict";function f(o,t){_.call(this,"digest"),"string"==typeof t&&(t=n.from(t));var r="sha512"===o||"sha384"===o?128:64;this._alg=o,this._key=t,t.length>r?t=("rmd160"===o?new h:s(o)).update(t).digest():t.length<r&&(t=n.concat([t,u],r));for(var c=this._ipad=n.allocUnsafe(r),l=this._opad=n.allocUnsafe(r),w=0;w<r;w++)c[w]=54^t[w],l[w]=92^t[w];this._hash="rmd160"===o?new h:s(o),this._hash.update(c)}var b=d("inherits"),m=d("./legacy"),_=d("cipher-base"),n=d("safe-buffer").Buffer,g=d("create-hash/md5"),h=d("ripemd160"),s=d("sha.js"),u=n.alloc(128);b(f,_),f.prototype._update=function(o){this._hash.update(o)},f.prototype._final=function(){var o=this._hash.digest();return("rmd160"===this._alg?new h:s(this._alg)).update(this._opad).update(o).digest()},N.exports=function(t,r){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new f("rmd160",r):"md5"===t?new m(g,r):new f(t,r)}},{"./legacy":88,"cipher-base":80,"create-hash/md5":86,inherits:147,ripemd160:231,"safe-buffer":235,"sha.js":238}],88:[function(d,N,A){"use strict";function f(h,s){_.call(this,"digest"),"string"==typeof s&&(s=m.from(s)),this._alg=h,this._key=s,s.length>64?s=h(s):s.length<64&&(s=m.concat([s,n],64));for(var u=this._ipad=m.allocUnsafe(64),o=this._opad=m.allocUnsafe(64),t=0;t<64;t++)u[t]=54^s[t],o[t]=92^s[t];this._hash=[u]}var b=d("inherits"),m=d("safe-buffer").Buffer,_=d("cipher-base"),n=m.alloc(128);b(f,_),f.prototype._update=function(h){this._hash.push(h)},f.prototype._final=function(){var h=this._alg(m.concat(this._hash));return this._alg(m.concat([this._opad,h]))},N.exports=f},{"cipher-base":80,inherits:147,"safe-buffer":235}],89:[function(d,N,A){(function(f){(function(){function _(X,T,D){function M(){k(X.map(L=>Y=>{const se={};if(u(L))se.getStream=L.stream(),se.length=L.size;else if(f.isBuffer(L))se.getStream=[L],se.length=L.length;else{if(!t(L)){if("string"==typeof L){if("function"!=typeof $)throw new Error("filesystem paths do not work in the browser");return void $(L,1<F||q,Y)}throw new Error("invalid input type")}se.getStream=async function*r(X,T){for await(const D of X)T.length+=D.length,yield D}(L,se),se.length=0}se.path=L[ue],Y(null,se)}),(L,Y)=>L?D(L):(Y=Y.flat(),void D(null,Y,q)))}if(function o(X){return typeof FileList<"u"&&X instanceof FileList}(X)&&(X=Array.from(X)),Array.isArray(X)||(X=[X]),0===X.length)throw new Error("invalid input type");X.forEach(L=>{if(null==L)throw new Error(`invalid input type: ${L}`)}),1!==(X=X.map(L=>u(L)&&"string"==typeof L.path&&"function"==typeof $?L.path:L)).length||"string"==typeof X[0]||X[0].name||(X[0].name=T.name);let v=null;X.forEach((L,Y)=>{if("string"==typeof L)return;let se=L.fullPath||L.name;se||(se=`Unknown File ${Y+1}`,L.unknownName=!0),L[ue]=se.split("/"),L[ue][0]||L[ue].shift(),2>L[ue].length?v=null:0===Y&&1<X.length?v=L[ue][0]:L[ue][0]!==v&&(v=null)}),(void 0===T.filterJunkFiles||T.filterJunkFiles)&&(X=X.filter(L=>"string"==typeof L||!h(L[ue]))),v&&X.forEach(L=>{const Y=(f.isBuffer(L)||t(L))&&!L[ue];"string"==typeof L||Y||L[ue].shift()}),!T.name&&v&&(T.name=v),T.name||X.some(L=>"string"==typeof L?(T.name=w.basename(L),!0):!L.unknownName&&(T.name=L[ue][L[ue].length-1],!0)),T.name||(T.name=`Unnamed Torrent ${Date.now()}`);const F=X.reduce((L,Y)=>L+ +("string"==typeof Y),0);let q=1===X.length;if(1===X.length&&"string"==typeof X[0]){if("function"!=typeof $)throw new Error("filesystem paths do not work in the browser");E(X[0],(L,Y)=>L?D(L):(q=Y,void M()))}else I(M)}function h(X){const T=X[X.length-1];return"."===T[0]&&C.is(T)}function s(X,T){return X+T.length}function u(X){return typeof Blob<"u"&&X instanceof Blob}function t(X){return"object"==typeof X&&null!=X&&"function"==typeof X.pipe}const a=d("bencode"),c=d("block-iterator"),l=d("piece-length"),w=d("path"),E=d("is-file"),C=d("junk"),z=d("join-async-iterator"),k=d("run-parallel"),I=d("queue-microtask"),V=d("simple-sha1");d("fast-readable-async-iterator");const $=d("./get-files"),ue=Symbol("itemPath");N.exports=function b(X,T,D){"function"==typeof T&&([T,D]=[D,T]),_(X,T=T?Object.assign({},T):{},(M,v,B)=>M?D(M):(T.singleFileTorrent=B,void function g(X,T,D){let M=T.announceList;M||("string"==typeof T.announce?M=[[T.announce]]:Array.isArray(T.announce)&&(M=T.announce.map(q=>[q]))),M||(M=[]),globalThis.WEBTORRENT_ANNOUNCE&&("string"==typeof globalThis.WEBTORRENT_ANNOUNCE?M.push([[globalThis.WEBTORRENT_ANNOUNCE]]):Array.isArray(globalThis.WEBTORRENT_ANNOUNCE)&&(M=M.concat(globalThis.WEBTORRENT_ANNOUNCE.map(q=>[q])))),void 0===T.announce&&void 0===T.announceList&&(M=M.concat(N.exports.announceList)),"string"==typeof T.urlList&&(T.urlList=[T.urlList]);const v={info:{name:T.name},"creation date":_e((+T.creationDate||Date.now())/1e3),encoding:"UTF-8"};0!==M.length&&(v.announce=M[0][0],v["announce-list"]=M),void 0!==T.comment&&(v.comment=T.comment),void 0!==T.createdBy&&(v["created by"]=T.createdBy),void 0!==T.private&&(v.info.private=+T.private),void 0!==T.info&&Object.assign(v.info,T.info),void 0!==T.sslCert&&(v.info["ssl-cert"]=T.sslCert),void 0!==T.urlList&&(v["url-list"]=T.urlList);const B=X.reduce(s,0),F=T.pieceLength||l(B);v.info["piece length"]=F,async function n(X,T,D,M,v){const B=[];let F=0,q=0;const L=X.map(Qe=>Qe.getStream),Y=M.onProgress;let se=0,Ee=0,Se=!1;const Ie=c(z(L),T,{zeroPadding:!1});try{for await(const Qe of Ie)await new Promise(Je=>{F+=Qe.length;const ut=Ee;++Ee,++se<5&&Je(),V(Qe,$t=>{B[ut]=$t,--se,q+=Qe.length,Y&&Y(q,D),Je(),Se&&0==se&&v(null,f.from(B.join(""),"hex"),F)})});if(0==se)return v(null,f.from(B.join(""),"hex"),F);Se=!0}catch(Qe){v(Qe)}}(X,F,B,T,(q,L,Y)=>q?D(q):(v.info.pieces=L,X.forEach(se=>{delete se.getStream}),T.singleFileTorrent?v.info.length=Y:v.info.files=X,void D(null,a.encode(v))))}(v,T,D)))},N.exports.parseInput=function m(X,T,D){"function"==typeof T&&([T,D]=[D,T]),_(X,T=T?Object.assign({},T):{},D)},N.exports.announceList=[["udp://tracker.leechers-paradise.org:6969"],["udp://tracker.coppersurfer.tk:6969"],["udp://tracker.opentrackr.org:1337"],["udp://explodie.org:6969"],["udp://tracker.empire-js.us:1337"],["wss://tracker.btorrent.xyz"],["wss://tracker.openwebtorrent.com"]],N.exports.isJunkPath=h}).call(this)}).call(this,d("buffer").Buffer)},{"./get-files":42,bencode:27,"block-iterator":38,buffer:76,"fast-readable-async-iterator":128,"is-file":42,"join-async-iterator":150,junk:151,path:185,"piece-length":192,"queue-microtask":206,"run-parallel":233,"simple-sha1":248}],90:[function(d,N,A){"use strict";A.randomBytes=A.rng=A.pseudoRandomBytes=A.prng=d("randombytes"),A.createHash=A.Hash=d("create-hash"),A.createHmac=A.Hmac=d("create-hmac");var f=d("browserify-sign/algos"),b=Object.keys(f),m=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(b);A.getHashes=function(){return m};var _=d("pbkdf2");A.pbkdf2=_.pbkdf2,A.pbkdf2Sync=_.pbkdf2Sync;var n=d("browserify-cipher");A.Cipher=n.Cipher,A.createCipher=n.createCipher,A.Cipheriv=n.Cipheriv,A.createCipheriv=n.createCipheriv,A.Decipher=n.Decipher,A.createDecipher=n.createDecipher,A.Decipheriv=n.Decipheriv,A.createDecipheriv=n.createDecipheriv,A.getCiphers=n.getCiphers,A.listCiphers=n.listCiphers;var g=d("diffie-hellman");A.DiffieHellmanGroup=g.DiffieHellmanGroup,A.createDiffieHellmanGroup=g.createDiffieHellmanGroup,A.getDiffieHellman=g.getDiffieHellman,A.createDiffieHellman=g.createDiffieHellman,A.DiffieHellman=g.DiffieHellman;var h=d("browserify-sign");A.createSign=h.createSign,A.Sign=h.Sign,A.createVerify=h.createVerify,A.Verify=h.Verify,A.createECDH=d("create-ecdh");var s=d("public-encrypt");A.publicEncrypt=s.publicEncrypt,A.privateEncrypt=s.privateEncrypt,A.publicDecrypt=s.publicDecrypt,A.privateDecrypt=s.privateDecrypt;var u=d("randomfill");A.randomFill=u.randomFill,A.randomFillSync=u.randomFillSync,A.createCredentials=function(){throw new Error("sorry, createCredentials is not implemented yet\nwe accept pull requests\nhttps://github.com/crypto-browserify/crypto-browserify")},A.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":60,"browserify-sign":67,"browserify-sign/algos":64,"create-ecdh":83,"create-hash":85,"create-hmac":87,"diffie-hellman":99,pbkdf2:186,"public-encrypt":194,randombytes:209,randomfill:210}],91:[function(d,N,A){(function(f){(function(){A.formatArgs=function m(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+N.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;s.splice(1,0,u,"color: inherit");let o=0,t=0;s[0].replace(/%[a-zA-Z%]/g,r=>{"%%"===r||(o++,"%c"===r&&(t=o))}),s.splice(t,0,u)},A.save=function _(s){try{s?A.storage.setItem("debug",s):A.storage.removeItem("debug")}catch{}},A.load=function n(){let s;try{s=A.storage.getItem("debug")}catch{}return!s&&typeof f<"u"&&"env"in f&&(s=f.env.DEBUG),s},A.useColors=function b(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},A.storage=function g(){try{return localStorage}catch{}}(),A.destroy=(()=>{let s=!1;return()=>{s||(s=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),A.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],A.log=console.debug||console.log||(()=>{}),N.exports=d("./common")(A);const{formatters:h}=N.exports;h.j=function(s){try{return JSON.stringify(s)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}).call(this)}).call(this,d("_process"))},{"./common":92,_process:193}],92:[function(d,N,A){N.exports=function f(b){function _(r){function a(...C){if(!a.enabled)return;const z=a,k=+new Date;z.diff=k-(l||k),z.prev=l,z.curr=k,l=k,C[0]=_.coerce(C[0]),"string"!=typeof C[0]&&C.unshift("%O");let V=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(oe,ue)=>{if("%%"===oe)return"%";V++;const Ae=_.formatters[ue];return"function"==typeof Ae&&(oe=Ae.call(z,C[V]),C.splice(V,1),V--),oe}),_.formatArgs.call(z,C),(z.log||_.log).apply(z,C)}let l,w,E,c=null;return a.namespace=r,a.useColors=_.useColors(),a.color=_.selectColor(r),a.extend=n,a.destroy=_.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null===c?(w!==_.namespaces&&(w=_.namespaces,E=_.enabled(r)),E):c,set:C=>{c=C}}),"function"==typeof _.init&&_.init(a),a}function n(r,a){const c=_(this.namespace+(typeof a>"u"?":":a)+r);return c.log=this.log,c}function u(r){return r.toString().substring(2,r.toString().length-2).replace(/\.\*\?$/,"*")}return _.debug=_,_.default=_,_.coerce=function o(r){return r instanceof Error?r.stack||r.message:r},_.disable=function h(){const r=[..._.names.map(u),..._.skips.map(u).map(a=>"-"+a)].join(",");return _.enable(""),r},_.enable=function g(r){let a;_.save(r),_.namespaces=r,_.names=[],_.skips=[];const c=("string"==typeof r?r:"").split(/[\s,]+/),l=c.length;for(a=0;a<l;a++)c[a]&&("-"===(r=c[a].replace(/\*/g,".*?"))[0]?_.skips.push(new RegExp("^"+r.slice(1)+"$")):_.names.push(new RegExp("^"+r+"$")))},_.enabled=function s(r){if("*"===r[r.length-1])return!0;let a,c;for(a=0,c=_.skips.length;a<c;a++)if(_.skips[a].test(r))return!1;for(a=0,c=_.names.length;a<c;a++)if(_.names[a].test(r))return!0;return!1},_.humanize=d("ms"),_.destroy=function t(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(b).forEach(r=>{_[r]=b[r]}),_.names=[],_.skips=[],_.formatters={},_.selectColor=function m(r){let a=0;for(let c=0;c<r.length;c++)a=(a<<5)-a+r.charCodeAt(c),a|=0;return _.colors[At(a)%_.colors.length]},_.enable(_.load()),_}},{ms:176}],93:[function(d,N,A){"use strict";A.utils=d("./des/utils"),A.Cipher=d("./des/cipher"),A.DES=d("./des/des"),A.CBC=d("./des/cbc"),A.EDE=d("./des/ede")},{"./des/cbc":94,"./des/cipher":95,"./des/des":96,"./des/ede":97,"./des/utils":98}],94:[function(d,N,A){"use strict";function f(g){m.equal(g.length,8,"Invalid IV length"),this.iv=Array(8);for(var h=0;h<this.iv.length;h++)this.iv[h]=g[h]}var m=d("minimalistic-assert"),_=d("inherits"),n={};A.instantiate=function b(g){function h(t){g.call(this,t),this._cbcInit()}_(h,g);for(var o,s=Object.keys(n),u=0;u<s.length;u++)h.prototype[o=s[u]]=n[o];return h.create=function(r){return new h(r)},h},n._cbcInit=function(){var h=new f(this.options.iv);this._cbcState=h},n._update=function(h,s,u,o){var r=this.constructor.super_.prototype,a=this._cbcState.iv;if("encrypt"===this.type){for(var c=0;c<this.blockSize;c++)a[c]^=h[s+c];for(r._update.call(this,a,0,u,o),c=0;c<this.blockSize;c++)a[c]=u[o+c]}else{for(r._update.call(this,h,s,u,o),c=0;c<this.blockSize;c++)u[o+c]^=a[c];for(c=0;c<this.blockSize;c++)a[c]=h[s+c]}}},{inherits:147,"minimalistic-assert":168}],95:[function(d,N,A){"use strict";function f(m){this.options=m,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=Array(this.blockSize),this.bufferOff=0}var b=d("minimalistic-assert");N.exports=f,f.prototype._init=function(){},f.prototype.update=function(_){return 0===_.length?[]:"decrypt"===this.type?this._updateDecrypt(_):this._updateEncrypt(_)},f.prototype._buffer=function(_,n){for(var g=ne(this.buffer.length-this.bufferOff,_.length-n),h=0;h<g;h++)this.buffer[this.bufferOff+h]=_[n+h];return this.bufferOff+=g,g},f.prototype._flushBuffer=function(_,n){return this._update(this.buffer,0,_,n),this.bufferOff=0,this.blockSize},f.prototype._updateEncrypt=function(_){var n=0,g=0,s=Array((0|(this.bufferOff+_.length)/this.blockSize)*this.blockSize);0!==this.bufferOff&&(n+=this._buffer(_,n),this.bufferOff===this.buffer.length&&(g+=this._flushBuffer(s,g)));for(var u=_.length-(_.length-n)%this.blockSize;n<u;n+=this.blockSize)this._update(_,n,s,g),g+=this.blockSize;for(;n<_.length;n++,this.bufferOff++)this.buffer[this.bufferOff]=_[n];return s},f.prototype._updateDecrypt=function(_){for(var n=0,g=0,h=_e((this.bufferOff+_.length)/this.blockSize)-1,s=Array(h*this.blockSize);0<h;h--)n+=this._buffer(_,n),g+=this._flushBuffer(s,g);return n+=this._buffer(_,n),s},f.prototype.final=function(_){var n,g;return _&&(n=this.update(_)),g="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),n?n.concat(g):g},f.prototype._pad=function(_,n){if(0===n)return!1;for(;n<_.length;)_[n++]=0;return!0},f.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var _=Array(this.blockSize);return this._update(this.buffer,0,_,0),_},f.prototype._unpad=function(_){return _},f.prototype._finalDecrypt=function(){b.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var _=Array(this.blockSize);return this._flushBuffer(_,0),this._unpad(_)}},{"minimalistic-assert":168}],96:[function(d,N,A){"use strict";function f(){this.tmp=[,,],this.keys=null}function b(s){g.call(this,s);var u=new f;this._desState=u,this.deriveKeys(u,s.key)}var m=d("minimalistic-assert"),_=d("inherits"),n=d("./utils"),g=d("./cipher");_(b,g),N.exports=b,b.create=function(u){return new b(u)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];b.prototype.deriveKeys=function(u,o){u.keys=Array(32),m.equal(o.length,this.blockSize,"Invalid key length");var t=n.readUInt32BE(o,0),r=n.readUInt32BE(o,4);n.pc1(t,r,u.tmp,0),t=u.tmp[0],r=u.tmp[1];for(var c,a=0;a<u.keys.length;a+=2)t=n.r28shl(t,c=h[a>>>1]),r=n.r28shl(r,c),n.pc2(t,r,u.keys,a)},b.prototype._update=function(u,o,t,r){var a=this._desState,c=n.readUInt32BE(u,o),l=n.readUInt32BE(u,o+4);n.ip(c,l,a.tmp,0),c=a.tmp[0],l=a.tmp[1],"encrypt"===this.type?this._encrypt(a,c,l,a.tmp,0):this._decrypt(a,c,l,a.tmp,0),l=a.tmp[1],n.writeUInt32BE(t,c=a.tmp[0],r),n.writeUInt32BE(t,l,r+4)},b.prototype._pad=function(u,o){for(var t=u.length-o,r=o;r<u.length;r++)u[r]=t;return!0},b.prototype._unpad=function(u){for(var o=u[u.length-1],t=u.length-o;t<u.length;t++)m.equal(u[t],o);return u.slice(0,u.length-o)},b.prototype._encrypt=function(u,o,t,r,a){for(var c=o,l=t,w=0;w<u.keys.length;w+=2){var E=u.keys[w],C=u.keys[w+1];n.expand(l,u.tmp,0);var z=n.substitute(E^=u.tmp[0],C^=u.tmp[1]),I=l;l=(c^n.permute(z))>>>0,c=I}n.rip(l,c,r,a)},b.prototype._decrypt=function(u,o,t,r,a){for(var c=t,l=o,w=u.keys.length-2;0<=w;w-=2){var E=u.keys[w],C=u.keys[w+1];n.expand(c,u.tmp,0);var z=n.substitute(E^=u.tmp[0],C^=u.tmp[1]),I=c;c=(l^n.permute(z))>>>0,l=I}n.rip(c,l,r,a)}},{"./cipher":95,"./utils":98,inherits:147,"minimalistic-assert":168}],97:[function(d,N,A){"use strict";function f(h,s){m.equal(s.length,24,"Invalid key length");var u=s.slice(0,8),o=s.slice(8,16),t=s.slice(16,24);this.ciphers="encrypt"===h?[g.create({type:"encrypt",key:u}),g.create({type:"decrypt",key:o}),g.create({type:"encrypt",key:t})]:[g.create({type:"decrypt",key:t}),g.create({type:"encrypt",key:o}),g.create({type:"decrypt",key:u})]}function b(h){n.call(this,h);var s=new f(this.type,this.options.key);this._edeState=s}var m=d("minimalistic-assert"),_=d("inherits"),n=d("./cipher"),g=d("./des");_(b,n),N.exports=b,b.create=function(s){return new b(s)},b.prototype._update=function(s,u,o,t){var r=this._edeState;r.ciphers[0]._update(s,u,o,t),r.ciphers[1]._update(o,t,o,t),r.ciphers[2]._update(o,t,o,t)},b.prototype._pad=g.prototype._pad,b.prototype._unpad=g.prototype._unpad},{"./cipher":95,"./des":96,inherits:147,"minimalistic-assert":168}],98:[function(d,N,A){"use strict";A.readUInt32BE=function(n,g){return(n[0+g]<<24|n[1+g]<<16|n[2+g]<<8|n[3+g])>>>0},A.writeUInt32BE=function(n,g,h){n[0+h]=g>>>24,n[1+h]=255&g>>>16,n[2+h]=255&g>>>8,n[3+h]=255&g},A.ip=function(n,g,h,s){for(var u=0,o=0,t=6;0<=t;t-=2){for(var r=0;24>=r;r+=8)u<<=1,u|=1&g>>>r+t;for(r=0;24>=r;r+=8)u<<=1,u|=1&n>>>r+t}for(t=6;0<=t;t-=2){for(r=1;25>=r;r+=8)o<<=1,o|=1&g>>>r+t;for(r=1;25>=r;r+=8)o<<=1,o|=1&n>>>r+t}h[s+0]=u>>>0,h[s+1]=o>>>0},A.rip=function(n,g,h,s){for(var u=0,o=0,t=0;4>t;t++)for(var r=24;0<=r;r-=8)u<<=1,u|=1&g>>>r+t,u<<=1,u|=1&n>>>r+t;for(t=4;8>t;t++)for(r=24;0<=r;r-=8)o<<=1,o|=1&g>>>r+t,o<<=1,o|=1&n>>>r+t;h[s+0]=u>>>0,h[s+1]=o>>>0},A.pc1=function(n,g,h,s){for(var u=0,o=0,t=7;5<=t;t--){for(var r=0;24>=r;r+=8)u<<=1,u|=1&g>>r+t;for(r=0;24>=r;r+=8)u<<=1,u|=1&n>>r+t}for(r=0;24>=r;r+=8)u<<=1,u|=1&g>>r+t;for(t=1;3>=t;t++){for(r=0;24>=r;r+=8)o<<=1,o|=1&g>>r+t;for(r=0;24>=r;r+=8)o<<=1,o|=1&n>>r+t}for(r=0;24>=r;r+=8)o<<=1,o|=1&n>>r+t;h[s+0]=u>>>0,h[s+1]=o>>>0},A.r28shl=function(n,g){return 268435455&n<<g|n>>>28-g};var f=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];A.pc2=function(n,g,h,s){for(var u=0,o=0,t=f.length>>>1,r=0;r<t;r++)u<<=1,u|=1&n>>>f[r];for(r=t;r<f.length;r++)o<<=1,o|=1&g>>>f[r];h[s+0]=u>>>0,h[s+1]=o>>>0},A.expand=function(n,g,h){var s=0,u=0;s=(1&n)<<5|n>>>27;for(var o=23;15<=o;o-=4)s<<=6,s|=63&n>>>o;for(o=11;3<=o;o-=4)u|=63&n>>>o,u<<=6;u|=(31&n)<<1|n>>>31,g[h+0]=s>>>0,g[h+1]=u>>>0};var b=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];A.substitute=function(n,g){for(var h=0,s=0;4>s;s++)h<<=4,h|=b[64*s+(63&n>>>18-6*s)];for(s=0;4>s;s++)h<<=4,h|=b[256+64*s+(63&g>>>18-6*s)];return h>>>0};var m=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];A.permute=function(n){for(var g=0,h=0;h<m.length;h++)g<<=1,g|=1&n>>>m[h];return g>>>0},A.padSplit=function(n,g,h){for(var s=n.toString(2);s.length<g;)s="0"+s;for(var u=[],o=0;o<g;o+=h)u.push(s.slice(o,o+h));return u.join(" ")}},{}],99:[function(d,N,A){(function(f){(function(){var _=d("./lib/generatePrime"),n=d("./lib/primes.json"),g=d("./lib/dh"),h={binary:!0,hex:!0,base64:!0};A.DiffieHellmanGroup=A.createDiffieHellmanGroup=A.getDiffieHellman=function b(s){var u=new f(n[s].prime,"hex"),o=new f(n[s].gen,"hex");return new g(u,o)},A.createDiffieHellman=A.DiffieHellman=function m(s,u,o,t){return f.isBuffer(u)||void 0===h[u]?m(s,"binary",u,o):(u=u||"binary",t=t||"binary",o=o||new f([2]),f.isBuffer(o)||(o=new f(o,t)),"number"==typeof s?new g(_(s,o),o,!0):(f.isBuffer(s)||(s=new f(s,u)),new g(s,o,!0)))}}).call(this)}).call(this,d("buffer").Buffer)},{"./lib/dh":100,"./lib/generatePrime":101,"./lib/primes.json":102,buffer:76}],100:[function(d,N,A){(function(f){(function(){function b(C,z){return z=z||"utf8",f.isBuffer(C)||(C=new f(C,z)),this._pub=new h(C),this}function m(C,z){return z=z||"utf8",f.isBuffer(C)||(C=new f(C,z)),this._priv=new h(C),this}function n(C,z,k){this.setGenerator(z),this.__prime=new h(C),this._prime=h.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,k?(this.setPublicKey=b,this.setPrivateKey=m):this._primeCode=8}function g(C,z){var k=new f(C.toArray());return z?k.toString(z):k}var h=d("bn.js"),u=new(d("miller-rabin")),o=new h(24),t=new h(11),r=new h(10),a=new h(3),c=new h(7),l=d("./generatePrime"),w=d("randombytes");N.exports=n;var E={};Object.defineProperty(n.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function _(C,z){var k=z.toString("hex"),I=[k,C.toString(16)].join("_");if(I in E)return E[I];var $,V=0;return!C.isEven()&&l.simpleSieve&&l.fermatTest(C)&&u.test(C)?(u.test(C.shrn(1))||(V+=2),"02"===k?C.mod(o).cmp(t)&&(V+=8):"05"===k?($=C.mod(r)).cmp(a)&&$.cmp(c)&&(V+=8):V+=4,E[I]=V,V):(V+=1,E[I]=V+="02"===k||"05"===k?8:4,V)}(this.__prime,this.__gen)),this._primeCode}}),n.prototype.generateKeys=function(){return this._priv||(this._priv=new h(w(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},n.prototype.computeSecret=function(C){var z=(C=(C=new h(C)).toRed(this._prime)).redPow(this._priv).fromRed(),k=new f(z.toArray()),I=this.getPrime();if(k.length<I.length){var V=new f(I.length-k.length);V.fill(0),k=f.concat([V,k])}return k},n.prototype.getPublicKey=function(z){return g(this._pub,z)},n.prototype.getPrivateKey=function(z){return g(this._priv,z)},n.prototype.getPrime=function(C){return g(this.__prime,C)},n.prototype.getGenerator=function(C){return g(this._gen,C)},n.prototype.setGenerator=function(C,z){return z=z||"utf8",f.isBuffer(C)||(C=new f(C,z)),this.__gen=C,this._gen=new h(C),this}}).call(this)}).call(this,d("buffer").Buffer)},{"./generatePrime":101,"bn.js":103,buffer:76,"miller-rabin":162,randombytes:209}],101:[function(d,N,A){function b(V){for(var $=function f(){var V=Math.sqrt;if(null!==I)return I;var oe=[];oe[0]=2;for(var X,ue=1,Ae=3;1048576>Ae;Ae+=2){X=_e(V(Ae));for(var T=0;T<ue&&oe[T]<=X&&Ae%oe[T]!=0;T++);ue!=T&&oe[T]<=X||(oe[ue++]=Ae)}return I=oe,oe}(),oe=0;oe<$.length;oe++)if(0===V.modn($[oe]))return 0===V.cmpn($[oe]);return!0}function m(V){var $=g.mont(V);return 0===t.toRed($).redPow(V.subn(1)).fromRed().cmpn(1)}function _(V,$){if(16>V)return new g(2===$||5===$?[140,123]:[140,39]);$=new g($);for(var oe,ue;;){for(oe=new g(n(_e(V/8)));oe.bitLength()>V;)oe.ishrn(1);if(oe.isEven()&&oe.iadd(o),oe.testn(1)||oe.iadd(t),$.cmp(t)){if(!$.cmp(r))for(;oe.mod(l).cmp(w);)oe.iadd(z)}else for(;oe.mod(h).cmp(C);)oe.iadd(z);if(b(ue=oe.shrn(1))&&b(oe)&&m(ue)&&m(oe)&&u.test(ue)&&u.test(oe))return oe}}var n=d("randombytes");N.exports=_,_.simpleSieve=b,_.fermatTest=m;var g=d("bn.js"),h=new g(24),u=new(d("miller-rabin")),o=new g(1),t=new g(2),r=new g(5),l=(new g(16),new g(8),new g(10)),w=new g(3),C=(new g(7),new g(11)),z=new g(4),I=(new g(12),null)},{"bn.js":103,"miller-rabin":162,randombytes:209}],102:[function(d,N,A){N.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],103:[function(d,N,A){arguments[4][22][0].apply(A,arguments)},{buffer:42,dup:22}],104:[function(d,N,A){"use strict";var f=A;f.version=d("../package.json").version,f.utils=d("./elliptic/utils"),f.rand=d("brorand"),f.curve=d("./elliptic/curve"),f.curves=d("./elliptic/curves"),f.ec=d("./elliptic/ec"),f.eddsa=d("./elliptic/eddsa")},{"../package.json":120,"./elliptic/curve":107,"./elliptic/curves":110,"./elliptic/ec":111,"./elliptic/eddsa":114,"./elliptic/utils":118,brorand:41}],105:[function(d,N,A){"use strict";function f(s,u){this.type=s,this.p=new m(u.p,16),this.red=u.prime?m.red(u.prime):m.mont(this.p),this.zero=new m(0).toRed(this.red),this.one=new m(1).toRed(this.red),this.two=new m(2).toRed(this.red),this.n=u.n&&new m(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var o=this.n&&this.p.div(this.n);!o||0<o.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function b(s,u){this.curve=s,this.type=u,this.precomputed=null}var m=d("bn.js"),_=d("../utils"),n=_.getNAF,g=_.getJSF,h=_.assert;N.exports=f,f.prototype.point=function(){throw new Error("Not implemented")},f.prototype.validate=function(){throw new Error("Not implemented")},f.prototype._fixedNafMul=function(u,o){h(u.precomputed);var t=u._getDoubles(),r=n(o,1,this._bitLength),a=(1<<t.step+1)-(t.step%2==0?2:1);a/=3;var l,w,c=[];for(l=0;l<r.length;l+=t.step){w=0;for(var E=l+t.step-1;E>=l;E--)w=(w<<1)+r[E];c.push(w)}for(var C=this.jpoint(null,null,null),z=this.jpoint(null,null,null),k=a;0<k;k--){for(l=0;l<c.length;l++)(w=c[l])===k?z=z.mixedAdd(t.points[l]):w===-k&&(z=z.mixedAdd(t.points[l].neg()));C=C.add(z)}return C.toP()},f.prototype._wnafMul=function(u,o){for(var t=4,r=u._getNAFPoints(t),a=r.points,c=n(o,t=r.wnd,this._bitLength),l=this.jpoint(null,null,null),w=c.length-1;0<=w;w--){for(var E=0;0<=w&&0===c[w];w--)E++;if(0<=w&&E++,l=l.dblp(E),0>w)break;var C=c[w];h(0!==C),l="affine"===u.type?l.mixedAdd(0<C?a[C-1>>1]:a[-C-1>>1].neg()):l.add(0<C?a[C-1>>1]:a[-C-1>>1].neg())}return"affine"===u.type?l.toP():l},f.prototype._wnafMulAdd=function(u,o,t,r,a){var C,z,k,c=this._wnafT1,l=this._wnafT2,w=this._wnafT3,E=0;for(C=0;C<r;C++){var I=(k=o[C])._getNAFPoints(u);c[C]=I.wnd,l[C]=I.points}for(C=r-1;1<=C;C-=2){var V=C-1,$=C;if(1===c[V]&&1===c[$]){var oe=[o[V],null,null,o[$]];0===o[V].y.cmp(o[$].y)?(oe[1]=o[V].add(o[$]),oe[2]=o[V].toJ().mixedAdd(o[$].neg())):0===o[V].y.cmp(o[$].y.redNeg())?(oe[1]=o[V].toJ().mixedAdd(o[$]),oe[2]=o[V].add(o[$].neg())):(oe[1]=o[V].toJ().mixedAdd(o[$]),oe[2]=o[V].toJ().mixedAdd(o[$].neg()));var ue=[-3,-1,-5,-7,0,7,5,1,3],Ae=g(t[V],t[$]);for(E=pe(Ae[0].length,E),w[V]=Array(E),w[$]=Array(E),z=0;z<E;z++)w[V][z]=ue[3*(1+(0|Ae[0][z]))+(1+(0|Ae[1][z]))],w[$][z]=0,l[V]=oe}else w[V]=n(t[V],c[V],this._bitLength),w[$]=n(t[$],c[$],this._bitLength),E=pe(w[V].length,E),E=pe(w[$].length,E)}var D=this.jpoint(null,null,null),M=this._wnafT4;for(C=E;0<=C;C--){for(var B,v=0;0<=C;){for(B=!0,z=0;z<r;z++)M[z]=0|w[z][C],0!==M[z]&&(B=!1);if(!B)break;v++,C--}if(0<=C&&v++,D=D.dblp(v),0>C)break;for(z=0;z<r;z++){var F=M[z];0!==F&&(0<F?k=l[z][F-1>>1]:0>F&&(k=l[z][-F-1>>1].neg()),D="affine"===k.type?D.mixedAdd(k):D.add(k))}}for(C=0;C<r;C++)l[C]=null;return a?D:D.toP()},f.BasePoint=b,b.prototype.eq=function(){throw new Error("Not implemented")},b.prototype.validate=function(){return this.curve.validate(this)},f.prototype.decodePoint=function(u,o){u=_.toArray(u,o);var t=this.p.byteLength();if((4===u[0]||6===u[0]||7===u[0])&&u.length-1==2*t)return 6===u[0]?h(u[u.length-1]%2==0):7===u[0]&&h(u[u.length-1]%2==1),this.point(u.slice(1,1+t),u.slice(1+t,1+2*t));if((2===u[0]||3===u[0])&&u.length-1===t)return this.pointFromX(u.slice(1,1+t),3===u[0]);throw new Error("Unknown point format")},b.prototype.encodeCompressed=function(u){return this.encode(u,!0)},b.prototype._encode=function(u){var o=this.curve.p.byteLength(),t=this.getX().toArray("be",o);return u?[this.getY().isEven()?2:3].concat(t):[4].concat(t,this.getY().toArray("be",o))},b.prototype.encode=function(u,o){return _.encode(this._encode(o),u)},b.prototype.precompute=function(u){if(this.precomputed)return this;var o={doubles:null,naf:null,beta:null};return o.naf=this._getNAFPoints(8),o.doubles=this._getDoubles(4,u),o.beta=this._getBeta(),this.precomputed=o,this},b.prototype._hasDoubles=function(u){if(!this.precomputed)return!1;var o=this.precomputed.doubles;return!!o&&o.points.length>=_e((u.bitLength()+1)/o.step)},b.prototype._getDoubles=function(u,o){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var t=[this],r=this,a=0;a<o;a+=u){for(var c=0;c<u;c++)r=r.dbl();t.push(r)}return{step:u,points:t}},b.prototype._getNAFPoints=function(u){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var o=[this],t=(1<<u)-1,r=1===t?null:this.dbl(),a=1;a<t;a++)o[a]=o[a-1].add(r);return{wnd:u,points:o}},b.prototype._getBeta=function(){return null},b.prototype.dblp=function(u){for(var o=this,t=0;t<u;t++)o=o.dbl();return o}},{"../utils":118,"bn.js":119}],106:[function(d,N,A){"use strict";function f(s){this.twisted=1!=(0|s.a),this.mOneA=this.twisted&&-1==(0|s.a),this.extended=this.mOneA,g.call(this,"edwards",s),this.a=new _(s.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new _(s.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new _(s.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),h(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|s.c)}function b(s,u,o,t,r){g.BasePoint.call(this,s,"projective"),null===u&&null===o&&null===t?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new _(u,16),this.y=new _(o,16),this.z=t?new _(t,16):this.curve.one,this.t=r&&new _(r,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),!this.zOne&&(this.t=this.t.redMul(this.z.redInvm()))))}var m=d("../utils"),_=d("bn.js"),n=d("inherits"),g=d("./base"),h=m.assert;n(f,g),N.exports=f,f.prototype._mulA=function(u){return this.mOneA?u.redNeg():this.a.redMul(u)},f.prototype._mulC=function(u){return this.oneC?u:this.c.redMul(u)},f.prototype.jpoint=function(u,o,t,r){return this.point(u,o,t,r)},f.prototype.pointFromX=function(u,o){(u=new _(u,16)).red||(u=u.toRed(this.red));var t=u.redSqr(),r=this.c2.redSub(this.a.redMul(t)),a=this.one.redSub(this.c2.redMul(this.d).redMul(t)),c=r.redMul(a.redInvm()),l=c.redSqrt();if(0!==l.redSqr().redSub(c).cmp(this.zero))throw new Error("invalid point");var w=l.fromRed().isOdd();return(o&&!w||!o&&w)&&(l=l.redNeg()),this.point(u,l)},f.prototype.pointFromY=function(u,o){(u=new _(u,16)).red||(u=u.toRed(this.red));var t=u.redSqr(),r=t.redSub(this.c2),a=t.redMul(this.d).redMul(this.c2).redSub(this.a),c=r.redMul(a.redInvm());if(0===c.cmp(this.zero)){if(o)throw new Error("invalid point");return this.point(this.zero,u)}var l=c.redSqrt();if(0!==l.redSqr().redSub(c).cmp(this.zero))throw new Error("invalid point");return l.fromRed().isOdd()!==o&&(l=l.redNeg()),this.point(l,u)},f.prototype.validate=function(u){if(u.isInfinity())return!0;u.normalize();var o=u.x.redSqr(),t=u.y.redSqr(),r=o.redMul(this.a).redAdd(t),a=this.c2.redMul(this.one.redAdd(this.d.redMul(o).redMul(t)));return 0===r.cmp(a)},n(b,g.BasePoint),f.prototype.pointFromJSON=function(u){return b.fromJSON(this,u)},f.prototype.point=function(u,o,t,r){return new b(this,u,o,t,r)},b.fromJSON=function(u,o){return new b(u,o[0],o[1],o[2])},b.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},b.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},b.prototype._extDbl=function(){var u=this.x.redSqr(),o=this.y.redSqr(),t=this.z.redSqr();t=t.redIAdd(t);var r=this.curve._mulA(u),a=this.x.redAdd(this.y).redSqr().redISub(u).redISub(o),c=r.redAdd(o),l=c.redSub(t),w=r.redSub(o),E=a.redMul(l),C=c.redMul(w),z=a.redMul(w),k=l.redMul(c);return this.curve.point(E,C,k,z)},b.prototype._projDbl=function(){var r,a,c,l,w,E,u=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),t=this.y.redSqr();if(this.curve.twisted){var C=(l=this.curve._mulA(o)).redAdd(t);this.zOne?(r=u.redSub(o).redSub(t).redMul(C.redSub(this.curve.two)),a=C.redMul(l.redSub(t)),c=C.redSqr().redSub(C).redSub(C)):(w=this.z.redSqr(),E=C.redSub(w).redISub(w),r=u.redSub(o).redISub(t).redMul(E),a=C.redMul(l.redSub(t)),c=C.redMul(E))}else l=o.redAdd(t),w=this.curve._mulC(this.z).redSqr(),E=l.redSub(w).redSub(w),r=this.curve._mulC(u.redISub(l)).redMul(E),a=this.curve._mulC(l).redMul(o.redISub(t)),c=l.redMul(E);return this.curve.point(r,a,c)},b.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},b.prototype._extAdd=function(u){var o=this.y.redSub(this.x).redMul(u.y.redSub(u.x)),t=this.y.redAdd(this.x).redMul(u.y.redAdd(u.x)),r=this.t.redMul(this.curve.dd).redMul(u.t),a=this.z.redMul(u.z.redAdd(u.z)),c=t.redSub(o),l=a.redSub(r),w=a.redAdd(r),E=t.redAdd(o),C=c.redMul(l),z=w.redMul(E),k=c.redMul(E),I=l.redMul(w);return this.curve.point(C,z,I,k)},b.prototype._projAdd=function(u){var z,k,o=this.z.redMul(u.z),t=o.redSqr(),r=this.x.redMul(u.x),a=this.y.redMul(u.y),c=this.curve.d.redMul(r).redMul(a),l=t.redSub(c),w=t.redAdd(c),E=this.x.redAdd(this.y).redMul(u.x.redAdd(u.y)).redISub(r).redISub(a),C=o.redMul(l).redMul(E);return this.curve.twisted?(z=o.redMul(w).redMul(a.redSub(this.curve._mulA(r))),k=l.redMul(w)):(z=o.redMul(w).redMul(a.redSub(r)),k=this.curve._mulC(l).redMul(w)),this.curve.point(C,z,k)},b.prototype.add=function(u){return this.isInfinity()?u:u.isInfinity()?this:this.curve.extended?this._extAdd(u):this._projAdd(u)},b.prototype.mul=function(u){return this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve._wnafMul(this,u)},b.prototype.mulAdd=function(u,o,t){return this.curve._wnafMulAdd(1,[this,o],[u,t],2,!1)},b.prototype.jmulAdd=function(u,o,t){return this.curve._wnafMulAdd(1,[this,o],[u,t],2,!0)},b.prototype.normalize=function(){if(this.zOne)return this;var u=this.z.redInvm();return this.x=this.x.redMul(u),this.y=this.y.redMul(u),this.t&&(this.t=this.t.redMul(u)),this.z=this.curve.one,this.zOne=!0,this},b.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},b.prototype.getX=function(){return this.normalize(),this.x.fromRed()},b.prototype.getY=function(){return this.normalize(),this.y.fromRed()},b.prototype.eq=function(u){return this===u||0===this.getX().cmp(u.getX())&&0===this.getY().cmp(u.getY())},b.prototype.eqXToP=function(u){var o=u.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(o))return!0;for(var t=u.clone(),r=this.curve.redN.redMul(this.z);;){if(t.iadd(this.curve.n),0<=t.cmp(this.curve.p))return!1;if(o.redIAdd(r),0===this.x.cmp(o))return!0}},b.prototype.toP=b.prototype.normalize,b.prototype.mixedAdd=b.prototype.add},{"../utils":118,"./base":105,"bn.js":119,inherits:147}],107:[function(d,N,A){"use strict";var f=A;f.base=d("./base"),f.short=d("./short"),f.mont=d("./mont"),f.edwards=d("./edwards")},{"./base":105,"./edwards":106,"./mont":108,"./short":109}],108:[function(d,N,A){"use strict";function f(h){n.call(this,"mont",h),this.a=new m(h.a,16).toRed(this.red),this.b=new m(h.b,16).toRed(this.red),this.i4=new m(4).toRed(this.red).redInvm(),this.two=new m(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function b(h,s,u){n.BasePoint.call(this,h,"projective"),null===s&&null===u?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new m(s,16),this.z=new m(u,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)))}var m=d("bn.js"),_=d("inherits"),n=d("./base"),g=d("../utils");_(f,n),N.exports=f,f.prototype.validate=function(s){var u=s.normalize().x,o=u.redSqr(),t=o.redMul(u).redAdd(o.redMul(this.a)).redAdd(u);return 0===t.redSqrt().redSqr().cmp(t)},_(b,n.BasePoint),f.prototype.decodePoint=function(s,u){return this.point(g.toArray(s,u),1)},f.prototype.point=function(s,u){return new b(this,s,u)},f.prototype.pointFromJSON=function(s){return b.fromJSON(this,s)},b.prototype.precompute=function(){},b.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},b.fromJSON=function(s,u){return new b(s,u[0],u[1]||s.one)},b.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},b.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},b.prototype.dbl=function(){var u=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=u.redSub(t),a=u.redMul(t),c=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(a,c)},b.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},b.prototype.diffAdd=function(s,u){var o=this.x.redAdd(this.z),t=this.x.redSub(this.z),r=s.x.redAdd(s.z),c=s.x.redSub(s.z).redMul(o),l=r.redMul(t),w=u.z.redMul(c.redAdd(l).redSqr()),E=u.x.redMul(c.redISub(l).redSqr());return this.curve.point(w,E)},b.prototype.mul=function(s){for(var u=s.clone(),o=this,t=this.curve.point(null,null),a=[];0!==u.cmpn(0);u.iushrn(1))a.push(u.andln(1));for(var c=a.length-1;0<=c;c--)0===a[c]?(o=o.diffAdd(t,this),t=t.dbl()):(t=o.diffAdd(t,this),o=o.dbl());return t},b.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},b.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},b.prototype.eq=function(s){return 0===this.getX().cmp(s.getX())},b.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},b.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":118,"./base":105,"bn.js":119,inherits:147}],109:[function(d,N,A){"use strict";function f(u){h.call(this,"short",u),this.a=new n(u.a,16).toRed(this.red),this.b=new n(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(u),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function b(u,o,t,r){h.BasePoint.call(this,u,"affine"),null===o&&null===t?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(o,16),this.y=new n(t,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function m(u,o,t,r){h.BasePoint.call(this,u,"jacobian"),null===o&&null===t&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(o,16),this.y=new n(t,16),this.z=new n(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var _=d("../utils"),n=d("bn.js"),g=d("inherits"),h=d("./base"),s=_.assert;g(f,h),N.exports=f,f.prototype._getEndomorphism=function(o){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(o.beta)t=new n(o.beta,16).toRed(this.red);else{var a=this._getEndoRoots(this.p);t=(t=0>a[0].cmp(a[1])?a[0]:a[1]).toRed(this.red)}if(o.lambda)r=new n(o.lambda,16);else{var c=this._getEndoRoots(this.n);0===this.g.mul(c[0]).x.cmp(this.g.x.redMul(t))?r=c[0]:s(0===this.g.mul(r=c[1]).x.cmp(this.g.x.redMul(t)))}return{beta:t,lambda:r,basis:o.basis?o.basis.map(function(w){return{a:new n(w.a,16),b:new n(w.b,16)}}):this._getEndoBasis(r)}}},f.prototype._getEndoRoots=function(o){var t=o===this.p?this.red:n.mont(o),r=new n(2).toRed(t).redInvm(),a=r.redNeg(),c=new n(3).toRed(t).redNeg().redSqrt().redMul(r);return[a.redAdd(c).fromRed(),a.redSub(c).fromRed()]},f.prototype._getEndoBasis=function(o){for(var z,k,I,V,$,oe,ue,Ae,X,T,t=this.n.ushrn(xt(this.n.bitLength()/2)),r=o,a=this.n.clone(),c=new n(1),l=new n(0),w=new n(0),E=new n(1),C=0;0!==r.cmpn(0);){T=a.div(r),Ae=a.sub(T.mul(r)),X=w.sub(T.mul(c));var D=E.sub(T.mul(l));if(!I&&0>Ae.cmp(t))z=ue.neg(),k=c,I=Ae.neg(),V=X;else if(I&&2==++C)break;ue=Ae,a=r,r=Ae,w=c,c=X,E=l,l=D}$=Ae.neg(),oe=X;var M=I.sqr().add(V.sqr());return 0<=$.sqr().add(oe.sqr()).cmp(M)&&($=z,oe=k),I.negative&&(I=I.neg(),V=V.neg()),$.negative&&($=$.neg(),oe=oe.neg()),[{a:I,b:V},{a:$,b:oe}]},f.prototype._endoSplit=function(o){var t=this.endo.basis,r=t[0],a=t[1],c=a.b.mul(o).divRound(this.n),l=r.b.neg().mul(o).divRound(this.n),w=c.mul(r.a),E=l.mul(a.a),C=c.mul(r.b),z=l.mul(a.b);return{k1:o.sub(w).sub(E),k2:C.add(z).neg()}},f.prototype.pointFromX=function(o,t){(o=new n(o,16)).red||(o=o.toRed(this.red));var r=o.redSqr().redMul(o).redIAdd(o.redMul(this.a)).redIAdd(this.b),a=r.redSqrt();if(0!==a.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(o,a)},f.prototype.validate=function(o){if(o.inf)return!0;var t=o.x,r=o.y,a=this.a.redMul(t),c=t.redSqr().redMul(t).redIAdd(a).redIAdd(this.b);return 0===r.redSqr().redISub(c).cmpn(0)},f.prototype._endoWnafMulAdd=function(o,t,r){for(var a=this._endoWnafT1,c=this._endoWnafT2,l=0;l<o.length;l++){var w=this._endoSplit(t[l]),E=o[l],C=E._getBeta();w.k1.negative&&(w.k1.ineg(),E=E.neg(!0)),w.k2.negative&&(w.k2.ineg(),C=C.neg(!0)),a[2*l]=E,a[2*l+1]=C,c[2*l]=w.k1,c[2*l+1]=w.k2}for(var z=this._wnafMulAdd(1,a,c,2*l,r),k=0;k<2*l;k++)a[k]=null,c[k]=null;return z},g(b,h.BasePoint),f.prototype.point=function(o,t,r){return new b(this,o,t,r)},f.prototype.pointFromJSON=function(o,t){return b.fromJSON(this,o,t)},b.prototype._getBeta=function(){if(this.curve.endo){var o=this.precomputed;if(o&&o.beta)return o.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(o){var r=this.curve,a=function(c){return r.point(c.x.redMul(r.endo.beta),c.y)};o.beta=t,t.precomputed={beta:null,naf:o.naf&&{wnd:o.naf.wnd,points:o.naf.points.map(a)},doubles:o.doubles&&{step:o.doubles.step,points:o.doubles.points.map(a)}}}return t}},b.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},b.fromJSON=function(o,t,r){function a(w){return o.point(w[0],w[1],r)}"string"==typeof t&&(t=JSON.parse(t));var c=o.point(t[0],t[1],r);if(!t[2])return c;var l=t[2];return c.precomputed={beta:null,doubles:l.doubles&&{step:l.doubles.step,points:[c].concat(l.doubles.points.map(a))},naf:l.naf&&{wnd:l.naf.wnd,points:[c].concat(l.naf.points.map(a))}},c},b.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},b.prototype.isInfinity=function(){return this.inf},b.prototype.add=function(o){if(this.inf)return o;if(o.inf)return this;if(this.eq(o))return this.dbl();if(this.neg().eq(o))return this.curve.point(null,null);if(0===this.x.cmp(o.x))return this.curve.point(null,null);var t=this.y.redSub(o.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(o.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(o.x),a=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,a)},b.prototype.dbl=function(){if(this.inf)return this;var o=this.y.redAdd(this.y);if(0===o.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),a=o.redInvm(),c=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(a),l=c.redSqr().redISub(this.x.redAdd(this.x)),w=c.redMul(this.x.redSub(l)).redISub(this.y);return this.curve.point(l,w)},b.prototype.getX=function(){return this.x.fromRed()},b.prototype.getY=function(){return this.y.fromRed()},b.prototype.mul=function(o){return o=new n(o,16),this.isInfinity()?this:this._hasDoubles(o)?this.curve._fixedNafMul(this,o):this.curve.endo?this.curve._endoWnafMulAdd([this],[o]):this.curve._wnafMul(this,o)},b.prototype.mulAdd=function(o,t,r){var a=[this,t],c=[o,r];return this.curve.endo?this.curve._endoWnafMulAdd(a,c):this.curve._wnafMulAdd(1,a,c,2)},b.prototype.jmulAdd=function(o,t,r){var a=[this,t],c=[o,r];return this.curve.endo?this.curve._endoWnafMulAdd(a,c,!0):this.curve._wnafMulAdd(1,a,c,2,!0)},b.prototype.eq=function(o){return this===o||this.inf===o.inf&&(this.inf||0===this.x.cmp(o.x)&&0===this.y.cmp(o.y))},b.prototype.neg=function(o){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(o&&this.precomputed){var r=this.precomputed,a=function(c){return c.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(a)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(a)}}}return t},b.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},g(m,h.BasePoint),f.prototype.jpoint=function(o,t,r){return new m(this,o,t,r)},m.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var o=this.z.redInvm(),t=o.redSqr(),r=this.x.redMul(t),a=this.y.redMul(t).redMul(o);return this.curve.point(r,a)},m.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},m.prototype.add=function(o){if(this.isInfinity())return o;if(o.isInfinity())return this;var t=o.z.redSqr(),r=this.z.redSqr(),a=this.x.redMul(t),c=o.x.redMul(r),l=this.y.redMul(t.redMul(o.z)),w=o.y.redMul(r.redMul(this.z)),E=a.redSub(c),C=l.redSub(w);if(0===E.cmpn(0))return 0===C.cmpn(0)?this.dbl():this.curve.jpoint(null,null,null);var z=E.redSqr(),k=z.redMul(E),I=a.redMul(z),V=C.redSqr().redIAdd(k).redISub(I).redISub(I),$=C.redMul(I.redISub(V)).redISub(l.redMul(k)),oe=this.z.redMul(o.z).redMul(E);return this.curve.jpoint(V,$,oe)},m.prototype.mixedAdd=function(o){if(this.isInfinity())return o.toJ();if(o.isInfinity())return this;var t=this.z.redSqr(),r=this.x,a=o.x.redMul(t),c=this.y,l=o.y.redMul(t).redMul(this.z),w=r.redSub(a),E=c.redSub(l);if(0===w.cmpn(0))return 0===E.cmpn(0)?this.dbl():this.curve.jpoint(null,null,null);var C=w.redSqr(),z=C.redMul(w),k=r.redMul(C),I=E.redSqr().redIAdd(z).redISub(k).redISub(k),V=E.redMul(k.redISub(I)).redISub(c.redMul(z)),$=this.z.redMul(w);return this.curve.jpoint(I,V,$)},m.prototype.dblp=function(o){if(0===o)return this;if(this.isInfinity())return this;if(!o)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<o;t++)r=r.dbl();return r}var a=this.curve.a,c=this.curve.tinv,l=this.x,w=this.y,E=this.z,C=E.redSqr().redSqr(),z=w.redAdd(w);for(t=0;t<o;t++){var k=l.redSqr(),I=z.redSqr(),V=I.redSqr(),$=k.redAdd(k).redIAdd(k).redIAdd(a.redMul(C)),oe=l.redMul(I),ue=$.redSqr().redISub(oe.redAdd(oe)),Ae=oe.redISub(ue),X=$.redMul(Ae);X=X.redIAdd(X).redISub(V);var T=z.redMul(E);t+1<o&&(C=C.redMul(V)),l=ue,E=T,z=X}return this.curve.jpoint(l,z.redMul(c),E)},m.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},m.prototype._zeroDbl=function(){var o,t,r;if(this.zOne){var a=this.x.redSqr(),c=this.y.redSqr(),l=c.redSqr(),w=this.x.redAdd(c).redSqr().redISub(a).redISub(l);w=w.redIAdd(w);var E=a.redAdd(a).redIAdd(a),C=E.redSqr().redISub(w).redISub(w),z=l.redIAdd(l);z=(z=z.redIAdd(z)).redIAdd(z),o=C,t=E.redMul(w.redISub(C)).redISub(z),r=this.y.redAdd(this.y)}else{var k=this.x.redSqr(),I=this.y.redSqr(),V=I.redSqr(),$=this.x.redAdd(I).redSqr().redISub(k).redISub(V);$=$.redIAdd($);var oe=k.redAdd(k).redIAdd(k),ue=oe.redSqr(),Ae=V.redIAdd(V);Ae=(Ae=Ae.redIAdd(Ae)).redIAdd(Ae),o=ue.redISub($).redISub($),t=oe.redMul($.redISub(o)).redISub(Ae),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(o,t,r)},m.prototype._threeDbl=function(){var o,t,r;if(this.zOne){var a=this.x.redSqr(),c=this.y.redSqr(),l=c.redSqr(),w=this.x.redAdd(c).redSqr().redISub(a).redISub(l);w=w.redIAdd(w);var E=a.redAdd(a).redIAdd(a).redIAdd(this.curve.a),C=E.redSqr().redISub(w).redISub(w);o=C;var z=l.redIAdd(l);z=(z=z.redIAdd(z)).redIAdd(z),t=E.redMul(w.redISub(C)).redISub(z),r=this.y.redAdd(this.y)}else{var k=this.z.redSqr(),I=this.y.redSqr(),V=this.x.redMul(I),$=this.x.redSub(k).redMul(this.x.redAdd(k));$=$.redAdd($).redIAdd($);var oe=V.redIAdd(V),ue=(oe=oe.redIAdd(oe)).redAdd(oe);o=$.redSqr().redISub(ue),r=this.y.redAdd(this.z).redSqr().redISub(I).redISub(k);var Ae=I.redSqr();Ae=(Ae=(Ae=Ae.redIAdd(Ae)).redIAdd(Ae)).redIAdd(Ae),t=$.redMul(oe.redISub(o)).redISub(Ae)}return this.curve.jpoint(o,t,r)},m.prototype._dbl=function(){var o=this.curve.a,t=this.x,r=this.y,a=this.z,c=a.redSqr().redSqr(),l=t.redSqr(),w=r.redSqr(),E=l.redAdd(l).redIAdd(l).redIAdd(o.redMul(c)),C=t.redAdd(t),z=(C=C.redIAdd(C)).redMul(w),k=E.redSqr().redISub(z.redAdd(z)),I=z.redISub(k),V=w.redSqr();V=(V=(V=V.redIAdd(V)).redIAdd(V)).redIAdd(V);var $=E.redMul(I).redISub(V),oe=r.redAdd(r).redMul(a);return this.curve.jpoint(k,$,oe)},m.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var o=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),a=t.redSqr(),c=o.redAdd(o).redIAdd(o),l=c.redSqr(),w=this.x.redAdd(t).redSqr().redISub(o).redISub(a),E=(w=(w=(w=w.redIAdd(w)).redAdd(w).redIAdd(w)).redISub(l)).redSqr(),C=a.redIAdd(a);C=(C=(C=C.redIAdd(C)).redIAdd(C)).redIAdd(C);var z=c.redIAdd(w).redSqr().redISub(l).redISub(E).redISub(C),k=t.redMul(z);k=(k=k.redIAdd(k)).redIAdd(k);var I=this.x.redMul(E).redISub(k);I=(I=I.redIAdd(I)).redIAdd(I);var V=this.y.redMul(z.redMul(C.redISub(z)).redISub(w.redMul(E)));V=(V=(V=V.redIAdd(V)).redIAdd(V)).redIAdd(V);var $=this.z.redAdd(w).redSqr().redISub(r).redISub(E);return this.curve.jpoint(I,V,$)},m.prototype.mul=function(o,t){return o=new n(o,t),this.curve._wnafMul(this,o)},m.prototype.eq=function(o){if("affine"===o.type)return this.eq(o.toJ());if(this===o)return!0;var t=this.z.redSqr(),r=o.z.redSqr();if(0!==this.x.redMul(r).redISub(o.x.redMul(t)).cmpn(0))return!1;var a=t.redMul(this.z),c=r.redMul(o.z);return 0===this.y.redMul(c).redISub(o.y.redMul(a)).cmpn(0)},m.prototype.eqXToP=function(o){var t=this.z.redSqr(),r=o.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var a=o.clone(),c=this.curve.redN.redMul(t);;){if(a.iadd(this.curve.n),0<=a.cmp(this.curve.p))return!1;if(r.redIAdd(c),0===this.x.cmp(r))return!0}},m.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},m.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":118,"./base":105,"bn.js":119,inherits:147}],110:[function(d,N,A){"use strict";function f(u){this.curve="short"===u.type?new n.short(u):"edwards"===u.type?new n.edwards(u):new n.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,h(this.g.validate(),"Invalid curve"),h(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function b(u,o){Object.defineProperty(m,u,{configurable:!0,enumerable:!0,get:function(){var t=new f(o);return Object.defineProperty(m,u,{configurable:!0,enumerable:!0,value:t}),t}})}var s,m=A,_=d("hash.js"),n=d("./curve"),h=d("./utils").assert;m.PresetCurve=f,b("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:_.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),b("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:_.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),b("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:_.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),b("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:_.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),b("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:_.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),b("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_.sha256,gRed:!1,g:["9"]}),b("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{s=d("./precomputed/secp256k1")}catch{s=void 0}b("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:_.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})},{"./curve":107,"./precomputed/secp256k1":117,"./utils":118,"hash.js":131}],111:[function(d,N,A){"use strict";function f(o){return this instanceof f?("string"==typeof o&&(h(Object.prototype.hasOwnProperty.call(n,o),"Unknown curve "+o),o=n[o]),o instanceof n.PresetCurve&&(o={curve:o}),this.curve=o.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=o.curve.g,this.g.precompute(o.curve.n.bitLength()+1),void(this.hash=o.hash||o.curve.hash)):new f(o)}var b=d("bn.js"),m=d("hmac-drbg"),_=d("../utils"),n=d("../curves"),g=d("brorand"),h=_.assert,s=d("./key"),u=d("./signature");N.exports=f,f.prototype.keyPair=function(t){return new s(this,t)},f.prototype.keyFromPrivate=function(t,r){return s.fromPrivate(this,t,r)},f.prototype.keyFromPublic=function(t,r){return s.fromPublic(this,t,r)},f.prototype.genKeyPair=function(t){t||(t={});for(var r=new m({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||g(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),a=this.n.byteLength(),c=this.n.sub(new b(2));;){var l=new b(r.generate(a));if(!(0<l.cmp(c)))return l.iaddn(1),this.keyFromPrivate(l)}},f.prototype._truncateToN=function(t,r){var a=8*t.byteLength()-this.n.bitLength();return 0<a&&(t=t.ushrn(a)),!r&&0<=t.cmp(this.n)?t.sub(this.n):t},f.prototype.sign=function(t,r,a,c){"object"==typeof a&&(c=a,a=null),c||(c={}),r=this.keyFromPrivate(r,a),t=this._truncateToN(new b(t,16));for(var I,l=this.n.byteLength(),w=r.getPrivate().toArray("be",l),E=t.toArray("be",l),C=new m({hash:this.hash,entropy:w,nonce:E,pers:c.pers,persEnc:c.persEnc||"utf8"}),z=this.n.sub(new b(1)),k=0;;k++)if(I=c.k?c.k(k):new b(C.generate(this.n.byteLength())),!(0>=(I=this._truncateToN(I,!0)).cmpn(1)||0<=I.cmp(z))){var V=this.g.mul(I);if(!V.isInfinity()){var $=V.getX(),oe=$.umod(this.n);if(0!==oe.cmpn(0)){var ue=I.invm(this.n).mul(oe.mul(r.getPrivate()).iadd(t));if(0!==(ue=ue.umod(this.n)).cmpn(0)){var Ae=(V.getY().isOdd()?1:0)|(0===$.cmp(oe)?0:2);return c.canonical&&0<ue.cmp(this.nh)&&(ue=this.n.sub(ue),Ae^=1),new u({r:oe,s:ue,recoveryParam:Ae})}}}}},f.prototype.verify=function(t,r,a,c){t=this._truncateToN(new b(t,16)),a=this.keyFromPublic(a,c);var l=(r=new u(r,"hex")).r,w=r.s;if(0>l.cmpn(1)||0<=l.cmp(this.n)||0>w.cmpn(1)||0<=w.cmp(this.n))return!1;var k,E=w.invm(this.n),C=E.mul(t).umod(this.n),z=E.mul(l).umod(this.n);return this.curve._maxwellTrick?!(k=this.g.jmulAdd(C,a.getPublic(),z)).isInfinity()&&k.eqXToP(l):!(k=this.g.mulAdd(C,a.getPublic(),z)).isInfinity()&&0===k.getX().umod(this.n).cmp(l)},f.prototype.recoverPubKey=function(o,t,r,a){h((3&r)===r,"The recovery param is more than two bits"),t=new u(t,a);var c=this.n,l=new b(o),w=t.r,E=t.s,C=1&r,z=r>>1;if(0<=w.cmp(this.curve.p.umod(this.curve.n))&&z)throw new Error("Unable to find sencond key candinate");w=this.curve.pointFromX(z?w.add(this.curve.n):w,C);var k=t.r.invm(c),I=c.sub(l).mul(k).umod(c),V=E.mul(k).umod(c);return this.g.mulAdd(I,w,V)},f.prototype.getKeyRecoveryParam=function(o,t,r,a){if(null!==(t=new u(t,a)).recoveryParam)return t.recoveryParam;for(var c=0;4>c;c++){var l;try{l=this.recoverPubKey(o,t,c)}catch{continue}if(l.eq(r))return c}throw new Error("Unable to find valid recovery factor")}},{"../curves":110,"../utils":118,"./key":112,"./signature":113,"bn.js":119,brorand:41,"hmac-drbg":143}],112:[function(d,N,A){"use strict";function f(n,g){this.ec=n,this.priv=null,this.pub=null,g.priv&&this._importPrivate(g.priv,g.privEnc),g.pub&&this._importPublic(g.pub,g.pubEnc)}var b=d("bn.js"),_=d("../utils").assert;N.exports=f,f.fromPublic=function(g,h,s){return h instanceof f?h:new f(g,{pub:h,pubEnc:s})},f.fromPrivate=function(g,h,s){return h instanceof f?h:new f(g,{priv:h,privEnc:s})},f.prototype.validate=function(){var g=this.getPublic();return g.isInfinity()?{result:!1,reason:"Invalid public key"}:g.validate()?g.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},f.prototype.getPublic=function(g,h){return"string"==typeof g&&(h=g,g=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),h?this.pub.encode(h,g):this.pub},f.prototype.getPrivate=function(g){return"hex"===g?this.priv.toString(16,2):this.priv},f.prototype._importPrivate=function(g,h){this.priv=new b(g,h||16),this.priv=this.priv.umod(this.ec.curve.n)},f.prototype._importPublic=function(g,h){return g.x||g.y?("mont"===this.ec.curve.type?_(g.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&_(g.x&&g.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(g.x,g.y))):void(this.pub=this.ec.curve.decodePoint(g,h))},f.prototype.derive=function(g){return g.validate()||_(g.validate(),"public point not validated"),g.mul(this.priv).getX()},f.prototype.sign=function(g,h,s){return this.ec.sign(g,this,h,s)},f.prototype.verify=function(g,h){return this.ec.verify(g,h,this)},f.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":118,"bn.js":119}],113:[function(d,N,A){"use strict";function f(u,o){return u instanceof f?u:void(this._importDER(u,o)||(s(u.r&&u.s,"Signature without r or s"),this.r=new g(u.r,16),this.s=new g(u.s,16),this.recoveryParam=void 0===u.recoveryParam?null:u.recoveryParam))}function b(){this.place=0}function m(u,o){var t=u[o.place++];if(!(128&t))return t;var r=15&t;if(0==r||4<r)return!1;for(var a=0,c=0,l=o.place;c<r;c++,l++)a<<=8,a|=u[l],a>>>=0;return!(127>=a)&&(o.place=l,a)}function _(u){for(var o=0,t=u.length-1;!u[o]&&!(128&u[o+1])&&o<t;)o++;return 0===o?u:u.slice(o)}function n(u,o){if(128>o)u.push(o);else{var t=1+(gn(o)/Gt>>>3);for(u.push(128|t);--t;)u.push(255&o>>>(t<<3));u.push(o)}}var g=d("bn.js"),h=d("../utils"),s=h.assert;N.exports=f,f.prototype._importDER=function(o,t){o=h.toArray(o,t);var r=new b;if(48!==o[r.place++])return!1;var a=m(o,r);if(!1===a||a+r.place!==o.length||2!==o[r.place++])return!1;var c=m(o,r);if(!1===c)return!1;var l=o.slice(r.place,c+r.place);if(r.place+=c,2!==o[r.place++])return!1;var w=m(o,r);if(!1===w||o.length!==w+r.place)return!1;var E=o.slice(r.place,w+r.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===E[0]){if(!(128&E[1]))return!1;E=E.slice(1)}return this.r=new g(l),this.s=new g(E),this.recoveryParam=null,!0},f.prototype.toDER=function(o){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=_(t),r=_(r);!(r[0]||128&r[1]);)r=r.slice(1);var a=[2];n(a,t.length),(a=a.concat(t)).push(2),n(a,r.length);var c=a.concat(r),l=[48];return n(l,c.length),l=l.concat(c),h.encode(l,o)}},{"../utils":118,"bn.js":119}],114:[function(d,N,A){"use strict";function f(u){return n("ed25519"===u,"only tested with ed25519 so far"),this instanceof f?(this.curve=u=m[u].curve,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=_e(u.n.bitLength()/8),void(this.hash=b.sha512)):new f(u)}var b=d("hash.js"),m=d("../curves"),_=d("../utils"),n=_.assert,g=_.parseBytes,h=d("./key"),s=d("./signature");N.exports=f,f.prototype.sign=function(o,t){o=g(o);var r=this.keyFromSecret(t),a=this.hashInt(r.messagePrefix(),o),c=this.g.mul(a),l=this.encodePoint(c),w=this.hashInt(l,r.pubBytes(),o).mul(r.priv()),E=a.add(w).umod(this.curve.n);return this.makeSignature({R:c,S:E,Rencoded:l})},f.prototype.verify=function(o,t,r){o=g(o),t=this.makeSignature(t);var a=this.keyFromPublic(r),c=this.hashInt(t.Rencoded(),a.pubBytes(),o),l=this.g.mul(t.S());return t.R().add(a.pub().mul(c)).eq(l)},f.prototype.hashInt=function(){for(var o=this.hash(),t=0;t<arguments.length;t++)o.update(arguments[t]);return _.intFromLE(o.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(o){return h.fromPublic(this,o)},f.prototype.keyFromSecret=function(o){return h.fromSecret(this,o)},f.prototype.makeSignature=function(o){return o instanceof s?o:new s(this,o)},f.prototype.encodePoint=function(o){var t=o.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=o.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(o){var t=(o=_.parseBytes(o)).length-1,r=o.slice(0,t).concat(-129&o[t]),a=0!=(128&o[t]),c=_.intFromLE(r);return this.curve.pointFromY(c,a)},f.prototype.encodeInt=function(o){return o.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(o){return _.intFromLE(o)},f.prototype.isPoint=function(o){return o instanceof this.pointClass}},{"../curves":110,"../utils":118,"./key":115,"./signature":116,"hash.js":131}],115:[function(d,N,A){"use strict";function f(g,h){this.eddsa=g,this._secret=_(h.secret),g.isPoint(h.pub)?this._pub=h.pub:this._pubBytes=_(h.pub)}var b=d("../utils"),m=b.assert,_=b.parseBytes,n=b.cachedProperty;f.fromPublic=function(h,s){return s instanceof f?s:new f(h,{pub:s})},f.fromSecret=function(h,s){return s instanceof f?s:new f(h,{secret:s})},f.prototype.secret=function(){return this._secret},n(f,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(f,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(f,"privBytes",function(){var h=this.eddsa,s=this.hash(),u=h.encodingLength-1,o=s.slice(0,h.encodingLength);return o[0]&=248,o[u]&=127,o[u]|=64,o}),n(f,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(f,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(f,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),f.prototype.sign=function(h){return m(this._secret,"KeyPair can only verify"),this.eddsa.sign(h,this)},f.prototype.verify=function(h,s){return this.eddsa.verify(h,s,this)},f.prototype.getSecret=function(h){return m(this._secret,"KeyPair is public only"),b.encode(this.secret(),h)},f.prototype.getPublic=function(h){return b.encode(this.pubBytes(),h)},N.exports=f},{"../utils":118}],116:[function(d,N,A){"use strict";function f(h,s){this.eddsa=h,"object"!=typeof s&&(s=g(s)),Array.isArray(s)&&(s={R:s.slice(0,h.encodingLength),S:s.slice(h.encodingLength)}),_(s.R&&s.S,"Signature without R or S"),h.isPoint(s.R)&&(this._R=s.R),s.S instanceof b&&(this._S=s.S),this._Rencoded=Array.isArray(s.R)?s.R:s.Rencoded,this._Sencoded=Array.isArray(s.S)?s.S:s.Sencoded}var b=d("bn.js"),m=d("../utils"),_=m.assert,n=m.cachedProperty,g=m.parseBytes;n(f,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(f,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(f,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(f,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),f.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},f.prototype.toHex=function(){return m.encode(this.toBytes(),"hex").toUpperCase()},N.exports=f},{"../utils":118,"bn.js":119}],117:[function(d,N,A){N.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],118:[function(d,N,A){"use strict";var g=A,h=d("bn.js"),s=d("minimalistic-assert"),u=d("minimalistic-crypto-utils");g.assert=s,g.toArray=u.toArray,g.zero2=u.zero2,g.toHex=u.toHex,g.encode=u.encode,g.getNAF=function f(o,t,r){var a=Array(pe(o.bitLength(),r)+1);a.fill(0);for(var c=1<<t+1,l=o.clone(),w=0;w<a.length;w++){var C,E=l.andln(c-1);l.isOdd()?l.isubn(C=E>(c>>1)-1?(c>>1)-E:E):C=0,a[w]=C,l.iushrn(1)}return a},g.getJSF=function b(o,t){var r=[[],[]];o=o.clone(),t=t.clone();for(var l,a=0,c=0;0<o.cmpn(-a)||0<t.cmpn(-c);){var C,z,w=3&o.andln(3)+a,E=3&t.andln(3)+c;3==w&&(w=-1),3===E&&(E=-1),C=1&w?3!=(l=7&o.andln(7)+a)&&5!==l||2!==E?w:-w:0,r[0].push(C),z=1&E?3!=(l=7&t.andln(7)+c)&&5!==l||2!==w?E:-E:0,r[1].push(z),2*a===C+1&&(a=1-a),2*c===z+1&&(c=1-c),o.iushrn(1),t.iushrn(1)}return r},g.cachedProperty=function m(o,t,r){var a="_"+t;o.prototype[t]=function(){return void 0===this[a]?this[a]=r.call(this):this[a]}},g.parseBytes=function _(o){return"string"==typeof o?g.toArray(o,"hex"):o},g.intFromLE=function n(o){return new h(o,"hex","le")}},{"bn.js":119,"minimalistic-assert":168,"minimalistic-crypto-utils":169}],119:[function(d,N,A){arguments[4][22][0].apply(A,arguments)},{buffer:42,dup:22}],120:[function(d,N,A){N.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],121:[function(d,N,A){(function(f){(function(){var b=d("once"),m=function(){},g=function(h,s,u){if("function"==typeof s)return g(h,null,s);s||(s={}),u=b(u||m);var o=h._writableState,t=h._readableState,r=s.readable||!1!==s.readable&&h.readable,a=s.writable||!1!==s.writable&&h.writable,c=!1,l=function(){h.writable||w()},w=function(){a=!1,r||u.call(h)},E=function(){r=!1,a||u.call(h)},C=function($){u.call(h,$?new Error("exited with error code: "+$):null)},z=function($){u.call(h,$)},k=function(){f.nextTick(I)},I=function(){return c||(!r||t&&t.ended&&!t.destroyed)&&(!a||o&&o.ended&&!o.destroyed)?void 0:u.call(h,new Error("premature close"))},V=function(){h.req.on("finish",w)};return function(h){return h.setHeader&&"function"==typeof h.abort}(h)?(h.on("complete",w),h.on("abort",k),h.req?V():h.on("request",V)):a&&!o&&(h.on("end",l),h.on("close",l)),function(h){return h.stdio&&Array.isArray(h.stdio)&&3===h.stdio.length}(h)&&h.on("exit",C),h.on("end",E),h.on("finish",w),!1!==s.error&&h.on("error",z),h.on("close",k),function(){c=!0,h.removeListener("complete",w),h.removeListener("abort",k),h.removeListener("request",V),h.req&&h.req.removeListener("finish",w),h.removeListener("end",l),h.removeListener("close",l),h.removeListener("finish",w),h.removeListener("exit",C),h.removeListener("end",E),h.removeListener("error",z),h.removeListener("close",k)}};N.exports=g}).call(this)}).call(this,d("_process"))},{_process:193,once:178}],122:[function(d,N,A){"use strict";function f(m,_){for(const n in _)Object.defineProperty(m,n,{value:_[n],enumerable:!0,configurable:!0});return m}N.exports=function b(m,_,n){if(!m||"string"==typeof m)throw new TypeError("Please pass an Error to err-code");n||(n={}),"object"==typeof _&&(n=_,_=""),_&&(n.code=_);try{return f(m,n)}catch{n.message=m.message,n.stack=m.stack;const h=function(){};return h.prototype=Object.create(Object.getPrototypeOf(m)),f(new h,n)}}},{}],123:[function(d,N,A){"use strict";function b(){b.init.call(this)}function m(I){if("function"!=typeof I)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}function _(I){return void 0===I._maxListeners?b.defaultMaxListeners:I._maxListeners}function n(I,V,$,oe){var ue,Ae,X;if(m($),void 0===(Ae=I._events)?(Ae=I._events=Object.create(null),I._eventsCount=0):(void 0!==Ae.newListener&&(I.emit("newListener",V,$.listener?$.listener:$),Ae=I._events),X=Ae[V]),void 0===X)X=Ae[V]=$,++I._eventsCount;else if("function"==typeof X?X=Ae[V]=oe?[$,X]:[X,$]:oe?X.unshift($):X.push($),0<(ue=_(I))&&X.length>ue&&!X.warned){X.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+X.length+" "+V+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=I,T.type=V,T.count=X.length,function f(I){console&&console.warn&&console.warn(I)}(T)}return I}function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(I,V,$){var oe={fired:!1,wrapFn:void 0,target:I,type:V,listener:$},ue=g.bind(oe);return ue.listener=$,oe.wrapFn=ue,ue}function s(I,V,$){var oe=I._events;if(void 0===oe)return[];var ue=oe[V];return void 0===ue?[]:"function"==typeof ue?$?[ue.listener||ue]:[ue]:$?function r(I){for(var V=Array(I.length),$=0;$<V.length;++$)V[$]=I[$].listener||I[$];return V}(ue):o(ue,ue.length)}function u(I){var V=this._events;if(void 0!==V){var $=V[I];if("function"==typeof $)return 1;if(void 0!==$)return $.length}return 0}function o(I,V){for(var $=Array(V),oe=0;oe<V;++oe)$[oe]=I[oe];return $}function l(I,V,$,oe){if("function"==typeof I.on)oe.once?I.once(V,$):I.on(V,$);else{if("function"!=typeof I.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I);I.addEventListener(V,function ue(Ae){oe.once&&I.removeEventListener(V,ue),$(Ae)})}}var C,w="object"==typeof Reflect?Reflect:null,E=w&&"function"==typeof w.apply?w.apply:function(V,$,oe){return Function.prototype.apply.call(V,$,oe)};C=w&&"function"==typeof w.ownKeys?w.ownKeys:Object.getOwnPropertySymbols?function(V){return Object.getOwnPropertyNames(V).concat(Object.getOwnPropertySymbols(V))}:function(V){return Object.getOwnPropertyNames(V)};var z=Number.isNaN||function(V){return V!=V};N.exports=b,N.exports.once=function a(I,V){return new Promise(function($,oe){function ue(X){I.removeListener(V,Ae),oe(X)}function Ae(){"function"==typeof I.removeListener&&I.removeListener("error",ue),$([].slice.call(arguments))}l(I,V,Ae,{once:!0}),"error"!==V&&function c(I,V,$){"function"==typeof I.on&&l(I,"error",V,$)}(I,ue,{once:!0})})},b.EventEmitter=b,b.prototype._events=void 0,b.prototype._eventsCount=0,b.prototype._maxListeners=void 0;var k=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return k},set:function(I){if("number"!=typeof I||0>I||z(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");k=I}}),b.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},b.prototype.setMaxListeners=function(V){if("number"!=typeof V||0>V||z(V))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+V+".");return this._maxListeners=V,this},b.prototype.getMaxListeners=function(){return _(this)},b.prototype.emit=function(V){for(var $=[],oe=1;oe<arguments.length;oe++)$.push(arguments[oe]);var ue="error"===V,Ae=this._events;if(void 0!==Ae)ue=ue&&void 0===Ae.error;else if(!ue)return!1;if(ue){var X;if(0<$.length&&(X=$[0]),X instanceof Error)throw X;var T=new Error("Unhandled error."+(X?" ("+X.message+")":""));throw T.context=X,T}var D=Ae[V];if(void 0===D)return!1;if("function"==typeof D)E(D,this,$);else{var M=D.length,v=o(D,M);for(oe=0;oe<M;++oe)E(v[oe],this,$)}return!0},b.prototype.on=b.prototype.addListener=function(V,$){return n(this,V,$,!1)},b.prototype.prependListener=function(V,$){return n(this,V,$,!0)},b.prototype.once=function(V,$){return m($),this.on(V,h(this,V,$)),this},b.prototype.prependOnceListener=function(V,$){return m($),this.prependListener(V,h(this,V,$)),this},b.prototype.off=b.prototype.removeListener=function(V,$){var oe,ue,Ae,X,T;if(m($),void 0===(ue=this._events))return this;if(void 0===(oe=ue[V]))return this;if(oe===$||oe.listener===$)0==--this._eventsCount?this._events=Object.create(null):(delete ue[V],ue.removeListener&&this.emit("removeListener",V,oe.listener||$));else if("function"!=typeof oe){for(Ae=-1,X=oe.length-1;0<=X;X--)if(oe[X]===$||oe[X].listener===$){T=oe[X].listener,Ae=X;break}if(0>Ae)return this;0===Ae?oe.shift():function t(I,V){for(;V+1<I.length;V++)I[V]=I[V+1];I.pop()}(oe,Ae),1===oe.length&&(ue[V]=oe[0]),void 0!==ue.removeListener&&this.emit("removeListener",V,T||$)}return this},b.prototype.removeAllListeners=function(V){var $,oe,ue;if(void 0===(oe=this._events))return this;if(void 0===oe.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==oe[V]&&(0==--this._eventsCount?this._events=Object.create(null):delete oe[V]),this;if(0===arguments.length){var X,Ae=Object.keys(oe);for(ue=0;ue<Ae.length;++ue)"removeListener"!==(X=Ae[ue])&&this.removeAllListeners(X);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof($=oe[V]))this.removeListener(V,$);else if(void 0!==$)for(ue=$.length-1;0<=ue;ue--)this.removeListener(V,$[ue]);return this},b.prototype.listeners=function(V){return s(this,V,!0)},b.prototype.rawListeners=function(V){return s(this,V,!1)},b.listenerCount=function(I,V){return"function"==typeof I.listenerCount?I.listenerCount(V):u.call(I,V)},b.prototype.listenerCount=u,b.prototype.eventNames=function(){return 0<this._eventsCount?C(this._events):[]}},{}],124:[function(d,N,A){var b=d("safe-buffer").Buffer,m=d("md5.js");N.exports=function f(_,n,g,h){if(b.isBuffer(_)||(_=b.from(_,"binary")),n&&(b.isBuffer(n)||(n=b.from(n,"binary")),8!==n.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var r,s=g/8,u=b.alloc(s),o=b.alloc(h||0),t=b.alloc(0);0<s||0<h;){(r=new m).update(t),r.update(_),n&&r.update(n),t=r.digest();var a=0;if(0<s){var c=u.length-s;a=ne(s,t.length),t.copy(u,c,0,a),s-=a}if(a<t.length&&0<h){var l=o.length-h,w=ne(h,t.length-a);t.copy(o,l,a,a+w),h-=w}}return t.fill(0),{key:u,iv:o}}},{"md5.js":159,"safe-buffer":235}],125:[function(d,N,A){const{Readable:b,Writable:m}=d("streamx");d("fast-readable-async-iterator"),N.exports={BlobWriteStream:class _ extends m{constructor(g,h={}){super(Object.assign({decodeStrings:!1},h)),this.chunks=[];const s=h.mimeType;this.once("close",()=>{const u=null==s?new Blob(this.chunks):new Blob(this.chunks,{type:s});g(u),this.emit("blob",u)})}_write(g,h){this.chunks.push(g),h()}},BlobReadStream:function f(n,g={}){return b.from(n.stream(),g)}}},{"fast-readable-async-iterator":128,streamx:264}],126:[function(d,N,A){N.exports=class{constructor(b){if(!(0<b)||b-1&b)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=Array(b),this.mask=b-1,this.top=0,this.btm=0,this.next=null}push(b){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=b,this.top=this.top+1&this.mask,!0)}shift(){const b=this.buffer[this.btm];if(void 0!==b)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,b}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}}},{}],127:[function(d,N,A){const f=d("./fixed-size");N.exports=class{constructor(m){this.hwm=m||16,this.head=new f(this.hwm),this.tail=this.head}push(m){this.head.push(m)||(this.head=this.head.next=new f(2*this.head.buffer.length),this.head.push(m))}shift(){const m=this.tail.shift();if(void 0===m&&this.tail.next){const _=this.tail.next;return this.tail.next=null,this.tail=_,this.tail.shift()}return m}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}}},{"./fixed-size":126}],128:[function(d,N,A){typeof ReadableStream>"u"||ReadableStream.prototype[Symbol.asyncIterator]||(ReadableStream.prototype[Symbol.asyncIterator]=function(){const f=this.getReader();let b=f.read();return{next(){const m=b;return b=f.read(),m},return(){b.then(()=>f.releaseLock())},throw(m){throw this.return(),m},[Symbol.asyncIterator](){return this}}})},{}],129:[function(d,N,A){N.exports=function(){if(typeof globalThis>"u")return null;var b={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return b.RTCPeerConnection?b:null}},{}],130:[function(d,N,A){"use strict";function b(g){_.call(this),this._block=m.allocUnsafe(g),this._blockSize=g,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var m=d("safe-buffer").Buffer,_=d("readable-stream").Transform;d("inherits")(b,_),b.prototype._transform=function(g,h,s){var u=null;try{this.update(g,h)}catch(o){u=o}s(u)},b.prototype._flush=function(g){var h=null;try{this.push(this.digest())}catch(s){h=s}g(h)},b.prototype.update=function(g,h){if(function f(g,h){if(!m.isBuffer(g)&&"string"!=typeof g)throw new TypeError(h+" must be a string or a buffer")}(g,"Data"),this._finalized)throw new Error("Digest already called");m.isBuffer(g)||(g=m.from(g,h));for(var s=this._block,u=0;this._blockOffset+g.length-u>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)s[o++]=g[u++];this._update(),this._blockOffset=0}for(;u<g.length;)s[this._blockOffset++]=g[u++];for(var t=0,r=8*g.length;0<r;++t)this._length[t]+=r,0<(r=0|this._length[t]/4294967296)&&(this._length[t]-=4294967296*r);return this},b.prototype._update=function(){throw new Error("_update is not implemented")},b.prototype.digest=function(g){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var h=this._digest();void 0!==g&&(h=h.toString(g)),this._block.fill(0),this._blockOffset=0;for(var s=0;4>s;++s)this._length[s]=0;return h},b.prototype._digest=function(){throw new Error("_digest is not implemented")},N.exports=b},{inherits:147,"readable-stream":228,"safe-buffer":235}],131:[function(d,N,A){var f=A;f.utils=d("./hash/utils"),f.common=d("./hash/common"),f.sha=d("./hash/sha"),f.ripemd=d("./hash/ripemd"),f.hmac=d("./hash/hmac"),f.sha1=f.sha.sha1,f.sha256=f.sha.sha256,f.sha224=f.sha.sha224,f.sha384=f.sha.sha384,f.sha512=f.sha.sha512,f.ripemd160=f.ripemd.ripemd160},{"./hash/common":132,"./hash/hmac":133,"./hash/ripemd":134,"./hash/sha":135,"./hash/utils":142}],132:[function(d,N,A){"use strict";function f(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var b=d("./utils"),m=d("minimalistic-assert");A.BlockHash=f,f.prototype.update=function(n,g){if(n=b.toArray(n,g),this.pending=this.pending?this.pending.concat(n):n,this.pendingTotal+=n.length,this.pending.length>=this._delta8){var h=(n=this.pending).length%this._delta8;this.pending=n.slice(n.length-h,n.length),0===this.pending.length&&(this.pending=null),n=b.join32(n,0,n.length-h,this.endian);for(var s=0;s<n.length;s+=this._delta32)this._update(n,s,s+this._delta32)}return this},f.prototype.digest=function(n){return this.update(this._pad()),m(null===this.pending),this._digest(n)},f.prototype._pad=function(){var n=this.pendingTotal,g=this._delta8,h=g-(n+this.padLength)%g,s=Array(h+this.padLength);s[0]=128;for(var u=1;u<h;u++)s[u]=0;if(n<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)s[u++]=0;s[u++]=0,s[u++]=0,s[u++]=0,s[u++]=0,s[u++]=255&n>>>24,s[u++]=255&n>>>16,s[u++]=255&n>>>8,s[u++]=255&n}else for(s[u++]=255&n,s[u++]=255&n>>>8,s[u++]=255&n>>>16,s[u++]=255&n>>>24,s[u++]=0,s[u++]=0,s[u++]=0,s[u++]=0,o=8;o<this.padLength;o++)s[u++]=0;return s}},{"./utils":142,"minimalistic-assert":168}],133:[function(d,N,A){"use strict";function f(_,n,g){return this instanceof f?(this.Hash=_,this.blockSize=_.blockSize/8,this.outSize=_.outSize/8,this.inner=null,this.outer=null,void this._init(b.toArray(n,g))):new f(_,n,g)}var b=d("./utils"),m=d("minimalistic-assert");N.exports=f,f.prototype._init=function(n){n.length>this.blockSize&&(n=(new this.Hash).update(n).digest()),m(n.length<=this.blockSize);for(var g=n.length;g<this.blockSize;g++)n.push(0);for(g=0;g<n.length;g++)n[g]^=54;for(this.inner=(new this.Hash).update(n),g=0;g<n.length;g++)n[g]^=106;this.outer=(new this.Hash).update(n)},f.prototype.update=function(n,g){return this.inner.update(n,g),this},f.prototype.digest=function(n){return this.outer.update(this.inner.digest()),this.outer.digest(n)}},{"./utils":142,"minimalistic-assert":168}],134:[function(d,N,A){"use strict";function f(){return this instanceof f?(t.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new f}function b(w,E,C,z){return 15>=w?E^C^z:31>=w?E&C|~E&z:47>=w?(E|~C)^z:63>=w?E&z|C&~z:E^(C|~z)}function _(w){return 15>=w?1352829926:31>=w?1548603684:47>=w?1836072691:63>=w?2053994217:0}var n=d("./utils"),g=d("./common"),h=n.rotl32,s=n.sum32,u=n.sum32_3,o=n.sum32_4,t=g.BlockHash;n.inherits(f,t),A.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(E,C){for(var M,z=this.h[0],k=this.h[1],I=this.h[2],V=this.h[3],$=this.h[4],oe=z,ue=k,Ae=I,X=V,T=$,D=0;80>D;D++)M=s(h(o(z,b(D,k,I,V),E[r[D]+C],15>=(w=D)?0:31>=w?1518500249:47>=w?1859775393:63>=w?2400959708:2840853838),c[D]),$),z=$,$=V,V=h(I,10),I=k,k=M,M=s(h(o(oe,b(79-D,ue,Ae,X),E[a[D]+C],_(D)),l[D]),T),oe=T,T=X,X=h(Ae,10),Ae=ue,ue=M;var w;M=u(this.h[1],I,X),this.h[1]=u(this.h[2],V,T),this.h[2]=u(this.h[3],$,oe),this.h[3]=u(this.h[4],z,ue),this.h[4]=u(this.h[0],k,Ae),this.h[0]=M},f.prototype._digest=function(E){return"hex"===E?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],a=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":132,"./utils":142}],135:[function(d,N,A){"use strict";A.sha1=d("./sha/1"),A.sha224=d("./sha/224"),A.sha256=d("./sha/256"),A.sha384=d("./sha/384"),A.sha512=d("./sha/512")},{"./sha/1":136,"./sha/224":137,"./sha/256":138,"./sha/384":139,"./sha/512":140}],136:[function(d,N,A){"use strict";function f(){return this instanceof f?(u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=Array(80))):new f}var b=d("../utils"),m=d("../common"),_=d("./common"),n=b.rotl32,g=b.sum32,h=b.sum32_5,s=_.ft_1,u=m.BlockHash,o=[1518500249,1859775393,2400959708,3395469782];b.inherits(f,u),N.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(r,a){for(var c=this.W,l=0;16>l;l++)c[l]=r[a+l];for(;l<c.length;l++)c[l]=n(c[l-3]^c[l-8]^c[l-14]^c[l-16],1);var w=this.h[0],E=this.h[1],C=this.h[2],z=this.h[3],k=this.h[4];for(l=0;l<c.length;l++){var I=~~(l/20),V=h(n(w,5),s(I,E,C,z),k,c[l],o[I]);k=z,z=C,C=n(E,30),E=w,w=V}this.h[0]=g(this.h[0],w),this.h[1]=g(this.h[1],E),this.h[2]=g(this.h[2],C),this.h[3]=g(this.h[3],z),this.h[4]=g(this.h[4],k)},f.prototype._digest=function(r){return"hex"===r?b.toHex32(this.h,"big"):b.split32(this.h,"big")}},{"../common":132,"../utils":142,"./common":141}],137:[function(d,N,A){"use strict";function f(){return this instanceof f?(m.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new f}var b=d("../utils"),m=d("./256");b.inherits(f,m),N.exports=f,f.blockSize=512,f.outSize=224,f.hmacStrength=192,f.padLength=64,f.prototype._digest=function(n){return"hex"===n?b.toHex32(this.h.slice(0,7),"big"):b.split32(this.h.slice(0,7),"big")}},{"../utils":142,"./256":138}],138:[function(d,N,A){"use strict";function f(){return this instanceof f?(l.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,void(this.W=Array(64))):new f}var b=d("../utils"),m=d("../common"),_=d("./common"),n=d("minimalistic-assert"),g=b.sum32,h=b.sum32_4,s=b.sum32_5,u=_.ch32,o=_.maj32,t=_.s0_256,r=_.s1_256,a=_.g0_256,c=_.g1_256,l=m.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];b.inherits(f,l),N.exports=f,f.blockSize=512,f.outSize=256,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(C,z){for(var k=this.W,I=0;16>I;I++)k[I]=C[z+I];for(;I<k.length;I++)k[I]=h(c(k[I-2]),k[I-7],a(k[I-15]),k[I-16]);var V=this.h[0],$=this.h[1],oe=this.h[2],ue=this.h[3],Ae=this.h[4],X=this.h[5],T=this.h[6],D=this.h[7];for(n(this.k.length===k.length),I=0;I<k.length;I++){var M=s(D,r(Ae),u(Ae,X,T),this.k[I],k[I]),v=g(t(V),o(V,$,oe));D=T,T=X,X=Ae,Ae=g(ue,M),ue=oe,oe=$,$=V,V=g(M,v)}this.h[0]=g(this.h[0],V),this.h[1]=g(this.h[1],$),this.h[2]=g(this.h[2],oe),this.h[3]=g(this.h[3],ue),this.h[4]=g(this.h[4],Ae),this.h[5]=g(this.h[5],X),this.h[6]=g(this.h[6],T),this.h[7]=g(this.h[7],D)},f.prototype._digest=function(C){return"hex"===C?b.toHex32(this.h,"big"):b.split32(this.h,"big")}},{"../common":132,"../utils":142,"./common":141,"minimalistic-assert":168}],139:[function(d,N,A){"use strict";function f(){return this instanceof f?(m.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new f}var b=d("../utils"),m=d("./512");b.inherits(f,m),N.exports=f,f.blockSize=1024,f.outSize=384,f.hmacStrength=192,f.padLength=128,f.prototype._digest=function(n){return"hex"===n?b.toHex32(this.h.slice(0,12),"big"):b.split32(this.h.slice(0,12),"big")}},{"../utils":142,"./512":140}],140:[function(d,N,A){"use strict";function f(){return this instanceof f?(T.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=D,void(this.W=Array(160))):new f}function b(M,v,B,F,q){var L=M&B^~M&q;return 0>L&&(L+=4294967296),L}function m(M,v,B,F,q,L){var Y=v&F^~v&L;return 0>Y&&(Y+=4294967296),Y}function _(M,v,B,F,q){var L=M&B^M&q^B&q;return 0>L&&(L+=4294967296),L}function n(M,v,B,F,q,L){var Y=v&F^v&L^F&L;return 0>Y&&(Y+=4294967296),Y}function g(M,v){var L=E(M,v,28)^E(v,M,2)^E(v,M,7);return 0>L&&(L+=4294967296),L}function h(M,v){var L=C(M,v,28)^C(v,M,2)^C(v,M,7);return 0>L&&(L+=4294967296),L}function s(M,v){var L=E(M,v,14)^E(M,v,18)^E(v,M,9);return 0>L&&(L+=4294967296),L}function u(M,v){var L=C(M,v,14)^C(M,v,18)^C(v,M,9);return 0>L&&(L+=4294967296),L}function o(M,v){var L=E(M,v,1)^E(M,v,8)^z(M,v,7);return 0>L&&(L+=4294967296),L}function t(M,v){var L=C(M,v,1)^C(M,v,8)^k(M,v,7);return 0>L&&(L+=4294967296),L}function r(M,v){var L=E(M,v,19)^E(v,M,29)^z(M,v,6);return 0>L&&(L+=4294967296),L}function a(M,v){var L=C(M,v,19)^C(v,M,29)^k(M,v,6);return 0>L&&(L+=4294967296),L}var c=d("../utils"),l=d("../common"),w=d("minimalistic-assert"),E=c.rotr64_hi,C=c.rotr64_lo,z=c.shr64_hi,k=c.shr64_lo,I=c.sum64,V=c.sum64_hi,$=c.sum64_lo,oe=c.sum64_4_hi,ue=c.sum64_4_lo,Ae=c.sum64_5_hi,X=c.sum64_5_lo,T=l.BlockHash,D=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];c.inherits(f,T),N.exports=f,f.blockSize=1024,f.outSize=512,f.hmacStrength=192,f.padLength=128,f.prototype._prepareBlock=function(v,B){for(var F=this.W,q=0;32>q;q++)F[q]=v[B+q];for(;q<F.length;q+=2){var L=r(F[q-4],F[q-3]),Y=a(F[q-4],F[q-3]),se=F[q-14],Ee=F[q-13],Se=o(F[q-30],F[q-29]),Ie=t(F[q-30],F[q-29]),Qe=F[q-32],Je=F[q-31];F[q]=oe(L,Y,se,Ee,Se,Ie,Qe,Je),F[q+1]=ue(L,Y,se,Ee,Se,Ie,Qe,Je)}},f.prototype._update=function(v,B){this._prepareBlock(v,B);var F=this.W,q=this.h[0],L=this.h[1],Y=this.h[2],se=this.h[3],Ee=this.h[4],Se=this.h[5],Ie=this.h[6],Qe=this.h[7],Je=this.h[8],ut=this.h[9],$t=this.h[10],qt=this.h[11],tt=this.h[12],at=this.h[13],nt=this.h[14],Yt=this.h[15];w(this.k.length===F.length);for(var Tn=0;Tn<F.length;Tn+=2){var J=nt,O=Yt,W=s(Je,ut),ee=u(Je,ut),ve=b(Je,0,$t,0,tt),He=m(0,ut,0,qt,0,at),ht=this.k[Tn],st=this.k[Tn+1],Jt=F[Tn],on=F[Tn+1],Ht=Ae(J,O,W,ee,ve,He,ht,st,Jt,on),wn=X(J,O,W,ee,ve,He,ht,st,Jt,on);J=g(q,L),O=h(q,L),W=_(q,0,Y,0,Ee),ee=n(0,L,0,se,0,Se);var sn=V(J,O,W,ee),Sn=$(J,O,W,ee);nt=tt,Yt=at,tt=$t,at=qt,$t=Je,qt=ut,Je=V(Ie,Qe,Ht,wn),ut=$(Qe,Qe,Ht,wn),Ie=Ee,Qe=Se,Ee=Y,Se=se,Y=q,se=L,q=V(Ht,wn,sn,Sn),L=$(Ht,wn,sn,Sn)}I(this.h,0,q,L),I(this.h,2,Y,se),I(this.h,4,Ee,Se),I(this.h,6,Ie,Qe),I(this.h,8,Je,ut),I(this.h,10,$t,qt),I(this.h,12,tt,at),I(this.h,14,nt,Yt)},f.prototype._digest=function(v){return"hex"===v?c.toHex32(this.h,"big"):c.split32(this.h,"big")}},{"../common":132,"../utils":142,"minimalistic-assert":168}],141:[function(d,N,A){"use strict";function b(t,r,a){return t&r^~t&a}function m(t,r,a){return t&r^t&a^r&a}function _(t,r,a){return t^r^a}var o=d("../utils").rotr32;A.ft_1=function f(t,r,a,c){return 0===t?b(r,a,c):1===t||3===t?_(r,a,c):2===t?m(r,a,c):void 0},A.ch32=b,A.maj32=m,A.p32=_,A.s0_256=function n(t){return o(t,2)^o(t,13)^o(t,22)},A.s1_256=function g(t){return o(t,6)^o(t,11)^o(t,25)},A.g0_256=function h(t){return o(t,7)^o(t,18)^t>>>3},A.g1_256=function s(t){return o(t,17)^o(t,19)^t>>>10}},{"../utils":142}],142:[function(d,N,A){"use strict";function f(D,M){return 55296==(64512&D.charCodeAt(M))&&!(0>M||M+1>=D.length)&&56320==(64512&D.charCodeAt(M+1))}function _(D){return(D>>>24|65280&D>>>8|16711680&D<<8|(255&D)<<24)>>>0}function g(D){return 1===D.length?"0"+D:D}function h(D){return 7===D.length?"0"+D:6===D.length?"00"+D:5===D.length?"000"+D:4===D.length?"0000"+D:3===D.length?"00000"+D:2===D.length?"000000"+D:1===D.length?"0000000"+D:D}var X=d("minimalistic-assert"),T=d("inherits");A.inherits=T,A.toArray=function b(D,M){if(Array.isArray(D))return D.slice();if(!D)return[];var v=[];if("string"!=typeof D)for(F=0;F<D.length;F++)v[F]=0|D[F];else if(M){if("hex"===M)for((D=D.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(D="0"+D),F=0;F<D.length;F+=2)v.push(parseInt(D[F]+D[F+1],16))}else for(var q,B=0,F=0;F<D.length;F++)128>(q=D.charCodeAt(F))?v[B++]=q:2048>q?(v[B++]=192|q>>6,v[B++]=128|63&q):f(D,F)?(q=65536+((1023&q)<<10)+(1023&D.charCodeAt(++F)),v[B++]=240|q>>18,v[B++]=128|63&q>>12,v[B++]=128|63&q>>6,v[B++]=128|63&q):(v[B++]=224|q>>12,v[B++]=128|63&q>>6,v[B++]=128|63&q);return v},A.toHex=function m(D){for(var M="",v=0;v<D.length;v++)M+=g(D[v].toString(16));return M},A.htonl=_,A.toHex32=function n(D,M){for(var F,v="",B=0;B<D.length;B++)F=D[B],"little"===M&&(F=_(F)),v+=h(F.toString(16));return v},A.zero2=g,A.zero8=h,A.join32=function s(D,M,v,B){var F=v-M;X(F%4==0);for(var q=Array(F/4),L=0,Y=M;L<q.length;L++,Y+=4)q[L]=("big"===B?D[Y]<<24|D[Y+1]<<16|D[Y+2]<<8|D[Y+3]:D[Y+3]<<24|D[Y+2]<<16|D[Y+1]<<8|D[Y])>>>0;return q},A.split32=function u(D,M){for(var q,v=Array(4*D.length),B=0,F=0;B<D.length;B++,F+=4)q=D[B],"big"===M?(v[F]=q>>>24,v[F+1]=255&q>>>16,v[F+2]=255&q>>>8,v[F+3]=255&q):(v[F+3]=q>>>24,v[F+2]=255&q>>>16,v[F+1]=255&q>>>8,v[F]=255&q);return v},A.rotr32=function o(D,M){return D>>>M|D<<32-M},A.rotl32=function t(D,M){return D<<M|D>>>32-M},A.sum32=function r(D,M){return D+M>>>0},A.sum32_3=function a(D,M,v){return D+M+v>>>0},A.sum32_4=function c(D,M,v,B){return D+M+v+B>>>0},A.sum32_5=function l(D,M,v,B,F){return D+M+v+B+F>>>0},A.sum64=function w(D,M,v,B){var L=B+D[M+1]>>>0;D[M]=(L<B?1:0)+v+D[M]>>>0,D[M+1]=L},A.sum64_hi=function E(D,M,v,B){return(M+B>>>0<M?1:0)+D+v>>>0},A.sum64_lo=function C(D,M,v,B){return M+B>>>0},A.sum64_4_hi=function z(D,M,v,B,F,q,L,Y){var se=0,Ee=M;return se+=(Ee=Ee+B>>>0)<M?1:0,se+=(Ee=Ee+q>>>0)<q?1:0,D+v+F+L+(se+=(Ee=Ee+Y>>>0)<Y?1:0)>>>0},A.sum64_4_lo=function k(D,M,v,B,F,q,L,Y){return M+B+q+Y>>>0},A.sum64_5_hi=function I(D,M,v,B,F,q,L,Y,se,Ee){var Se=0,Ie=M;return Se+=(Ie=Ie+B>>>0)<M?1:0,Se+=(Ie=Ie+q>>>0)<q?1:0,Se+=(Ie=Ie+Y>>>0)<Y?1:0,D+v+F+L+se+(Se+=(Ie=Ie+Ee>>>0)<Ee?1:0)>>>0},A.sum64_5_lo=function V(D,M,v,B,F,q,L,Y,se,Ee){return M+B+q+Y+Ee>>>0},A.rotr64_hi=function $(D,M,v){return(M<<32-v|D>>>v)>>>0},A.rotr64_lo=function oe(D,M,v){return(D<<32-v|M>>>v)>>>0},A.shr64_hi=function ue(D,M,v){return D>>>v},A.shr64_lo=function Ae(D,M,v){return(D<<32-v|M>>>v)>>>0}},{inherits:147,"minimalistic-assert":168}],143:[function(d,N,A){"use strict";function f(n){if(!(this instanceof f))return new f(n);this.hash=n.hash,this.predResist=!!n.predResist,this.outLen=this.hash.outSize,this.minEntropy=n.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var g=m.toArray(n.entropy,n.entropyEnc||"hex"),h=m.toArray(n.nonce,n.nonceEnc||"hex"),s=m.toArray(n.pers,n.persEnc||"hex");_(g.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(g,h,s)}var b=d("hash.js"),m=d("minimalistic-crypto-utils"),_=d("minimalistic-assert");N.exports=f,f.prototype._init=function(g,h,s){var u=g.concat(h).concat(s);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656},f.prototype._hmac=function(){return new b.hmac(this.hash,this.K)},f.prototype._update=function(g){var h=this._hmac().update(this.V).update([0]);g&&(h=h.update(g)),this.K=h.digest(),this.V=this._hmac().update(this.V).digest(),g&&(this.K=this._hmac().update(this.V).update([1]).update(g).digest(),this.V=this._hmac().update(this.V).digest())},f.prototype.reseed=function(g,h,s,u){"string"!=typeof h&&(u=s,s=h,h=null),g=m.toArray(g,h),s=m.toArray(s,u),_(g.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(g.concat(s||[])),this._reseed=1},f.prototype.generate=function(g,h,s,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof h&&(u=s,s=h,h=null),s&&(s=m.toArray(s,u||"hex"),this._update(s));for(var o=[];o.length<g;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var t=o.slice(0,g);return this._update(s),this._reseed++,m.encode(t,h)}},{"hash.js":131,"minimalistic-assert":168,"minimalistic-crypto-utils":169}],144:[function(d,N,A){function f(g){if("string"==typeof g&&(g=m.parse(g)),g.protocol||(g.protocol="https:"),"https:"!==g.protocol)throw new Error('Protocol "'+g.protocol+'" not supported. Expected "https:"');return g}var b=d("http"),m=d("url"),_=N.exports;for(var n in b)b.hasOwnProperty(n)&&(_[n]=b[n]);_.request=function(g,h){return g=f(g),b.request.call(this,g,h)},_.get=function(g,h){return g=f(g),b.get.call(this,g,h)}},{http:257,url:274}],145:[function(d,N,A){A.read=function(f,b,m,_,n){var a,c,g=8*n-_-1,h=(1<<g)-1,s=h>>1,u=-7,o=m?n-1:0,t=m?-1:1,r=f[b+o];for(o+=t,a=r&(1<<-u)-1,r>>=-u,u+=g;0<u;a=256*a+f[b+o],o+=t,u-=8);for(c=a&(1<<-u)-1,a>>=-u,u+=_;0<u;c=256*c+f[b+o],o+=t,u-=8);if(0===a)a=1-s;else{if(a===h)return c?NaN:1/0*(r?-1:1);c+=H(2,_),a-=s}return(r?-1:1)*c*H(2,a-_)},A.write=function(f,b,m,_,n,g){var c,l,w,h=8*g-n-1,s=(1<<h)-1,u=s>>1,o=23===n?H(2,-24)-H(2,-77):0,t=_?0:g-1,r=_?1:-1,a=0>b||0===b&&0>1/b?1:0;for(b=At(b),isNaN(b)||b===1/0?(l=isNaN(b)?1:0,c=s):(c=xt(gn(b)/Gt),1>b*(w=H(2,-c))&&(c--,w*=2),2<=(b+=1<=c+u?o/w:o*H(2,1-u))*w&&(c++,w/=2),c+u>=s?(l=0,c=s):1<=c+u?(l=(b*w-1)*H(2,n),c+=u):(l=b*H(2,u-1)*H(2,n),c=0));8<=n;f[m+t]=255&l,t+=r,l/=256,n-=8);for(c=c<<n|l,h+=n;0<h;f[m+t]=255&c,t+=r,c/=256,h-=8);f[m+t-r]|=128*a}},{}],146:[function(d,N,A){const f=d("queue-microtask");N.exports=class b{constructor(_){if(this.store=_,this.chunkLength=_.chunkLength,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.mem=[]}put(_,n,g=(()=>{})){this.mem[_]=n,this.store.put(_,n,h=>{this.mem[_]=null,g(h)})}get(_,n,g=(()=>{})){if("function"==typeof n)return this.get(_,null,n);let h=this.mem[_];if(!h)return this.store.get(_,n,g);n||(n={});const s=n.offset||0,u=n.length||h.length-s;(0!==s||u!==h.length)&&(h=h.slice(s,u+s)),f(()=>g(null,h))}close(_=(()=>{})){this.store.close(_)}destroy(_=(()=>{})){this.store.destroy(_)}}},{"queue-microtask":206}],147:[function(d,N,A){N.exports="function"==typeof Object.create?function(b,m){m&&(b.super_=m,b.prototype=Object.create(m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}))}:function(b,m){if(m){b.super_=m;var _=function(){};_.prototype=m.prototype,b.prototype=new _,b.prototype.constructor=b}}},{}],148:[function(d,N,A){N.exports=function(m){for(var _=0,n=m.length;_<n;++_)if(m.charCodeAt(_)>127)return!1;return!0}},{}],149:[function(d,N,A){function f(m){return!!m.constructor&&"function"==typeof m.constructor.isBuffer&&m.constructor.isBuffer(m)}N.exports=function(m){return null!=m&&(f(m)||function b(m){return"function"==typeof m.readFloatLE&&"function"==typeof m.slice&&f(m.slice(0,0))}(m)||!!m._isBuffer)}},{}],150:[function(d,N,A){N.exports=async function*(f){for(let b of f)"function"==typeof b&&(b=b()),yield*b}},{}],151:[function(d,N,A){"use strict";A.re=()=>{throw new Error("`junk.re` was renamed to `junk.regex`")},A.regex=new RegExp(["^npm-debug\\.log$","^\\..*\\.swp$","^\\.DS_Store$","^\\.AppleDouble$","^\\.LSOverride$","^Icon\\r$","^\\._.*","^\\.Spotlight-V100(?:$|\\/)","\\.Trashes","^__MACOSX$","~$","^Thumbs\\.db$","^ehthumbs\\.db$","^Desktop\\.ini$","@eaDir$"].join("|")),A.is=b=>A.regex.test(b),A.not=b=>!A.is(b),A.default=N.exports},{}],152:[function(d,N,A){A.RateLimiter=d("./lib/rateLimiter"),A.TokenBucket=d("./lib/tokenBucket")},{"./lib/rateLimiter":154,"./lib/tokenBucket":155}],153:[function(d,N,A){(function(f){(function(){N.exports=function(){if(typeof f<"u"&&f.hrtime){var m=f.hrtime();return 1e3*m[0]+xt(m[1]/1e6)}return(new Date).getTime()}}).call(this)}).call(this,d("_process"))},{_process:193}],154:[function(d,N,A){(function(f){(function(){var b=d("./tokenBucket"),m=d("./clock"),_=function(n,g,h){this.tokenBucket=new b(n,n,g,null),this.tokenBucket.content=n,this.curIntervalStart=m(),this.tokensThisInterval=0,this.fireImmediately=h};_.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(n,g){function h(t,r){return t?g(t,null):(s.tokensThisInterval+=n,void g(null,r))}if(n>this.tokenBucket.bucketSize)return f.nextTick(g.bind(null,"Requested tokens "+n+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var s=this,u=m();if((u<this.curIntervalStart||u-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=u,this.tokensThisInterval=0),n>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)f.nextTick(g.bind(null,null,-1));else{var o=_e(this.curIntervalStart+this.tokenBucket.interval-u);setTimeout(function(){s.tokenBucket.removeTokens(n,h)},o)}return!1}return this.tokenBucket.removeTokens(n,h)},tryRemoveTokens:function(n){if(n>this.tokenBucket.bucketSize)return!1;var g=m();if((g<this.curIntervalStart||g-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=g,this.tokensThisInterval=0),n>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var h=this.tokenBucket.tryRemoveTokens(n);return h&&(this.tokensThisInterval+=n),h},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},N.exports=_}).call(this)}).call(this,d("_process"))},{"./clock":153,"./tokenBucket":155,_process:193}],155:[function(d,N,A){(function(f){(function(){var b=function(m,_,n,g){if(this.bucketSize=m,this.tokensPerInterval=_,"string"==typeof n)switch(n){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+n)}else this.interval=n;this.parentBucket=g,this.content=0,this.lastDrip=+new Date};b.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(m,_){function n(){var h=_e(g.interval/g.tokensPerInterval*(m-g.content));return setTimeout(function(){g.removeTokens(m,_)},h),!1}var g=this;return this.bucketSize?m>this.bucketSize?(f.nextTick(_.bind(null,"Requested tokens "+m+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),m>this.content?n():this.parentBucket?this.parentBucket.removeTokens(m,function(h,s){return h?_(h,null):m>g.content?n():(g.content-=m,void _(null,ne(s,g.content)))}):(this.content-=m,f.nextTick(_.bind(null,null,this.content)),!0)):(f.nextTick(_.bind(null,null,m,Number.POSITIVE_INFINITY)),!0)},tryRemoveTokens:function(m){return!this.bucketSize||!(m>this.bucketSize)&&(this.drip(),!(m>this.content))&&(!this.parentBucket||this.parentBucket.tryRemoveTokens(m))&&(this.content-=m,!0)},drip:function(){if(this.tokensPerInterval){var m=+new Date,_=pe(m-this.lastDrip,0);this.lastDrip=m,this.content=ne(this.content+_*(this.tokensPerInterval/this.interval),this.bucketSize)}else this.content=this.bucketSize}},N.exports=b}).call(this)}).call(this,d("_process"))},{_process:193}],156:[function(d,N,A){function f(_){return this instanceof f?("number"==typeof _&&(_={max:_}),!_&&(_={}),b.EventEmitter.call(this),this.cache={},this.head=this.tail=null,this.length=0,this.max=_.max||1e3,void(this.maxAge=_.maxAge||0)):new f(_)}var b=d("events"),m=d("inherits");N.exports=f,m(f,b.EventEmitter),Object.defineProperty(f.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),f.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},f.prototype.remove=function(_){if("string"!=typeof _&&(_=""+_),this.cache.hasOwnProperty(_)){var n=this.cache[_];return delete this.cache[_],this._unlink(_,n.prev,n.next),n.value}},f.prototype._unlink=function(_,n,g){this.length--,0===this.length?this.head=this.tail=null:this.head===_?(this.head=n,this.cache[this.head].next=null):this.tail===_?(this.tail=g,this.cache[this.tail].prev=null):(this.cache[n].next=g,this.cache[g].prev=n)},f.prototype.peek=function(_){if(this.cache.hasOwnProperty(_)){var n=this.cache[_];return this._checkAge(_,n)?n.value:void 0}},f.prototype.set=function(_,n){var g;if("string"!=typeof _&&(_=""+_),this.cache.hasOwnProperty(_)){if((g=this.cache[_]).value=n,this.maxAge&&(g.modified=Date.now()),_===this.head)return n;this._unlink(_,g.prev,g.next)}else g={value:n,modified:0,next:null,prev:null},this.maxAge&&(g.modified=Date.now()),this.cache[_]=g,this.length===this.max&&this.evict();return this.length++,g.next=null,g.prev=this.head,this.head&&(this.cache[this.head].next=_),this.head=_,this.tail||(this.tail=_),n},f.prototype._checkAge=function(_,n){return!(this.maxAge&&Date.now()-n.modified>this.maxAge&&(this.remove(_),this.emit("evict",{key:_,value:n.value}),1))},f.prototype.get=function(_){if("string"!=typeof _&&(_=""+_),this.cache.hasOwnProperty(_)){var n=this.cache[_];if(this._checkAge(_,n))return this.head!==_&&(_===this.tail?(this.tail=n.next,this.cache[this.tail].prev=null):this.cache[n.prev].next=n.next,this.cache[n.next].prev=n.prev,this.cache[this.head].next=_,n.prev=this.head,n.next=null,this.head=_),n.value}},f.prototype.evict=function(){if(this.tail){var _=this.tail,n=this.remove(this.tail);this.emit("evict",{key:_,value:n})}}},{events:123,inherits:147}],157:[function(d,N,A){(function(f){(function(){const b=d("unordered-array-remove"),{EventEmitter:m}=d("events"),_=d("debug")("lt_donthave");N.exports=()=>{class n extends m{constructor(h){super(),this._peerSupports=!1,this._wire=h}onExtendedHandshake(){this._peerSupports=!0}onMessage(h){let s;try{s=h.readUInt32BE()}catch{return}this._wire.peerPieces.get(s)&&(_("got donthave %d",s),this._wire.peerPieces.set(s,!1),this.emit("donthave",s),this._failRequests(s))}donthave(h){if(this._peerSupports){_("donthave %d",h);const s=f.alloc(4);s.writeUInt32BE(h),this._wire.extended("lt_donthave",s)}}_failRequests(h){const s=this._wire.requests;for(let u=0;u<s.length;u++){const o=s[u];o.piece===h&&(b(s,u),u-=1,this._wire._callback(o,new Error("peer sent donthave"),null))}}}return n.prototype.name="lt_donthave",n}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76,debug:91,events:123,"unordered-array-remove":273}],158:[function(d,N,A){(function(f){(function(){function b(g){const h={},s=g.split("magnet:?")[1];let o;return(s&&0<=s.length?s.split("&"):[]).forEach(t=>{const r=t.split("=");if(2!==r.length)return;const a=r[0];let c=r[1];"dn"===a&&(c=decodeURIComponent(c).replace(/\+/g," ")),("tr"===a||"xs"===a||"as"===a||"ws"===a)&&(c=decodeURIComponent(c)),"kt"===a&&(c=decodeURIComponent(c).split("+")),"ix"===a&&(c=+c),"so"===a&&(c=n.parse(decodeURIComponent(c).split(","))),h[a]?(!Array.isArray(h[a])&&(h[a]=[h[a]]),h[a].push(c)):h[a]=c}),h.xt&&(Array.isArray(h.xt)?h.xt:[h.xt]).forEach(r=>{if(o=r.match(/^urn:btih:(.{40})/))h.infoHash=o[1].toLowerCase();else if(o=r.match(/^urn:btih:(.{32})/)){const a=_.decode(o[1]);h.infoHash=f.from(a,"binary").toString("hex")}else(o=r.match(/^urn:btmh:1220(.{64})/))&&(h.infoHashV2=o[1].toLowerCase())}),h.xs&&(Array.isArray(h.xs)?h.xs:[h.xs]).forEach(r=>{(o=r.match(/^urn:btpk:(.{64})/))&&(h.publicKey=o[1].toLowerCase())}),h.infoHash&&(h.infoHashBuffer=f.from(h.infoHash,"hex")),h.infoHashV2&&(h.infoHashV2Buffer=f.from(h.infoHashV2,"hex")),h.publicKey&&(h.publicKeyBuffer=f.from(h.publicKey,"hex")),h.dn&&(h.name=h.dn),h.kt&&(h.keywords=h.kt),h.announce=[],("string"==typeof h.tr||Array.isArray(h.tr))&&(h.announce=h.announce.concat(h.tr)),h.urlList=[],("string"==typeof h.as||Array.isArray(h.as))&&(h.urlList=h.urlList.concat(h.as)),("string"==typeof h.ws||Array.isArray(h.ws))&&(h.urlList=h.urlList.concat(h.ws)),h.peerAddresses=[],("string"==typeof h["x.pe"]||Array.isArray(h["x.pe"]))&&(h.peerAddresses=h.peerAddresses.concat(h["x.pe"])),h.announce=Array.from(new Set(h.announce)),h.urlList=Array.from(new Set(h.urlList)),h.peerAddresses=Array.from(new Set(h.peerAddresses)),h}N.exports=b,N.exports.decode=b,N.exports.encode=function m(g){g=Object.assign({},g);let h=new Set;g.xt&&"string"==typeof g.xt&&h.add(g.xt),g.xt&&Array.isArray(g.xt)&&(h=new Set(g.xt)),g.infoHashBuffer&&h.add(`urn:btih:${g.infoHashBuffer.toString("hex")}`),g.infoHash&&h.add(`urn:btih:${g.infoHash}`),g.infoHashV2Buffer&&h.add(g.xt=`urn:btmh:1220${g.infoHashV2Buffer.toString("hex")}`),g.infoHashV2&&h.add(`urn:btmh:1220${g.infoHashV2}`);const s=Array.from(h);1===s.length&&(g.xt=s[0]),1<s.length&&(g.xt=s),g.publicKeyBuffer&&(g.xs=`urn:btpk:${g.publicKeyBuffer.toString("hex")}`),g.publicKey&&(g.xs=`urn:btpk:${g.publicKey}`),g.name&&(g.dn=g.name),g.keywords&&(g.kt=g.keywords),g.announce&&(g.tr=g.announce),g.urlList&&(g.ws=g.urlList,delete g.as),g.peerAddresses&&(g["x.pe"]=g.peerAddresses);let u="magnet:?";return Object.keys(g).filter(o=>2===o.length||"x.pe"===o).forEach((o,t)=>{const r=Array.isArray(g[o])?g[o]:[g[o]];r.forEach((a,c)=>{(0<t||0<c)&&("kt"!==o&&"so"!==o||0===c)&&(u+="&"),"dn"===o&&(a=encodeURIComponent(a).replace(/%20/g,"+")),("tr"===o||"as"===o||"ws"===o)&&(a=encodeURIComponent(a)),"xs"!==o||a.startsWith("urn:btpk:")||(a=encodeURIComponent(a)),"kt"===o&&(a=encodeURIComponent(a)),"so"===o||(u+="kt"===o&&0<c?`+${a}`:`${o}=${a}`)}),"so"===o&&(u+=`${o}=${n.compose(r)}`)}),u};const _=d("thirty-two"),n=d("bep53-range")}).call(this)}).call(this,d("buffer").Buffer)},{"bep53-range":29,buffer:76,"thirty-two":266}],159:[function(d,N,A){"use strict";function f(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function b(t,r){return t<<r|t>>>32-r}function m(t,r,a,c,l,w,E){return 0|b(0|t+(r&a|~r&c)+l+w,E)+r}function _(t,r,a,c,l,w,E){return 0|b(0|t+(r&c|a&~c)+l+w,E)+r}function n(t,r,a,c,l,w,E){return 0|b(0|t+(r^a^c)+l+w,E)+r}function g(t,r,a,c,l,w,E){return 0|b(0|t+(a^(r|~c))+l+w,E)+r}var h=d("inherits"),s=d("hash-base"),u=d("safe-buffer").Buffer,o=Array(16);h(f,s),f.prototype._update=function(){for(var t=o,r=0;16>r;++r)t[r]=this._block.readInt32LE(4*r);var a=this._a,c=this._b,l=this._c,w=this._d;a=m(a,c,l,w,t[0],3614090360,7),w=m(w,a,c,l,t[1],3905402710,12),l=m(l,w,a,c,t[2],606105819,17),c=m(c,l,w,a,t[3],3250441966,22),a=m(a,c,l,w,t[4],4118548399,7),w=m(w,a,c,l,t[5],1200080426,12),l=m(l,w,a,c,t[6],2821735955,17),c=m(c,l,w,a,t[7],4249261313,22),a=m(a,c,l,w,t[8],1770035416,7),w=m(w,a,c,l,t[9],2336552879,12),l=m(l,w,a,c,t[10],4294925233,17),c=m(c,l,w,a,t[11],2304563134,22),a=m(a,c,l,w,t[12],1804603682,7),w=m(w,a,c,l,t[13],4254626195,12),l=m(l,w,a,c,t[14],2792965006,17),a=_(a,c=m(c,l,w,a,t[15],1236535329,22),l,w,t[1],4129170786,5),w=_(w,a,c,l,t[6],3225465664,9),l=_(l,w,a,c,t[11],643717713,14),c=_(c,l,w,a,t[0],3921069994,20),a=_(a,c,l,w,t[5],3593408605,5),w=_(w,a,c,l,t[10],38016083,9),l=_(l,w,a,c,t[15],3634488961,14),c=_(c,l,w,a,t[4],3889429448,20),a=_(a,c,l,w,t[9],568446438,5),w=_(w,a,c,l,t[14],3275163606,9),l=_(l,w,a,c,t[3],4107603335,14),c=_(c,l,w,a,t[8],1163531501,20),a=_(a,c,l,w,t[13],2850285829,5),w=_(w,a,c,l,t[2],4243563512,9),l=_(l,w,a,c,t[7],1735328473,14),a=n(a,c=_(c,l,w,a,t[12],2368359562,20),l,w,t[5],4294588738,4),w=n(w,a,c,l,t[8],2272392833,11),l=n(l,w,a,c,t[11],1839030562,16),c=n(c,l,w,a,t[14],4259657740,23),a=n(a,c,l,w,t[1],2763975236,4),w=n(w,a,c,l,t[4],1272893353,11),l=n(l,w,a,c,t[7],4139469664,16),c=n(c,l,w,a,t[10],3200236656,23),a=n(a,c,l,w,t[13],681279174,4),w=n(w,a,c,l,t[0],3936430074,11),l=n(l,w,a,c,t[3],3572445317,16),c=n(c,l,w,a,t[6],76029189,23),a=n(a,c,l,w,t[9],3654602809,4),w=n(w,a,c,l,t[12],3873151461,11),l=n(l,w,a,c,t[15],530742520,16),a=g(a,c=n(c,l,w,a,t[2],3299628645,23),l,w,t[0],4096336452,6),w=g(w,a,c,l,t[7],1126891415,10),l=g(l,w,a,c,t[14],2878612391,15),c=g(c,l,w,a,t[5],4237533241,21),a=g(a,c,l,w,t[12],1700485571,6),w=g(w,a,c,l,t[3],2399980690,10),l=g(l,w,a,c,t[10],4293915773,15),c=g(c,l,w,a,t[1],2240044497,21),a=g(a,c,l,w,t[8],1873313359,6),w=g(w,a,c,l,t[15],4264355552,10),l=g(l,w,a,c,t[6],2734768916,15),c=g(c,l,w,a,t[13],1309151649,21),a=g(a,c,l,w,t[4],4149444226,6),w=g(w,a,c,l,t[11],3174756917,10),l=g(l,w,a,c,t[2],718787259,15),c=g(c,l,w,a,t[9],3951481745,21),this._a=0|this._a+a,this._b=0|this._b+c,this._c=0|this._c+l,this._d=0|this._d+w},f.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=u.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},N.exports=f},{"hash-base":130,inherits:147,"safe-buffer":235}],160:[function(d,N,A){function f(o,t){var r=this;if(!(r instanceof f))return new f(o,t);if(!h)throw new Error("web browser lacks MediaSource support");t||(t={}),r._debug=t.debug,r._bufferDuration=t.bufferDuration||60,r._elem=o,r._mediaSource=new h,r._streams=[],r.detailedError=null,r._errorHandler=function(){r._elem.removeEventListener("error",r._errorHandler),r._streams.slice().forEach(function(c){c.destroy(r._elem.error)})},r._elem.addEventListener("error",r._errorHandler),r._elem.src=window.URL.createObjectURL(r._mediaSource)}function b(o,t){var r=this;if(n.Writable.call(r),r._wrapper=o,r._elem=o._elem,r._mediaSource=o._mediaSource,r._allStreams=o._streams,r._allStreams.push(r),r._bufferDuration=o._bufferDuration,r._sourceBuffer=null,r._debugBuffers=[],r._openHandler=function(){r._onSourceOpen()},r._flowHandler=function(){r._flow()},r._errorHandler=function(a){r.destroyed||r.emit("error",a)},"string"==typeof t)r._type=t,"open"===r._mediaSource.readyState?r._createSourceBuffer():r._mediaSource.addEventListener("sourceopen",r._openHandler);else if(null===t._sourceBuffer)t.destroy(),r._type=t._type,r._mediaSource.addEventListener("sourceopen",r._openHandler);else{if(!t._sourceBuffer)throw new Error("The argument to MediaElementWrapper.createWriteStream must be a string or a previous stream returned from that function");t.destroy(),r._type=t._type,r._sourceBuffer=t._sourceBuffer,r._debugBuffers=t._debugBuffers,r._sourceBuffer.addEventListener("updateend",r._flowHandler),r._sourceBuffer.addEventListener("error",r._errorHandler)}r._elem.addEventListener("timeupdate",r._flowHandler),r.on("error",function(a){r._wrapper.error(a)}),r.on("finish",function(){if(!r.destroyed&&(r._finished=!0,r._allStreams.every(function(a){return a._finished}))){r._wrapper._dumpDebugData();try{r._mediaSource.endOfStream()}catch{}}})}N.exports=f;var _=d("inherits"),n=d("readable-stream"),g=d("to-arraybuffer"),h=typeof window<"u"&&window.MediaSource;f.prototype.createWriteStream=function(o){return new b(this,o)},f.prototype.error=function(o){var t=this;t.detailedError||(t.detailedError=o),t._dumpDebugData();try{t._mediaSource.endOfStream("decode")}catch{}try{window.URL.revokeObjectURL(t._elem.src)}catch{}},f.prototype._dumpDebugData=function(){var o=this;o._debug&&(o._debug=!1,o._streams.forEach(function(t,r){!function m(o,t){var r=document.createElement("a");r.href=window.URL.createObjectURL(new window.Blob(o)),r.download=t,r.click()}(t._debugBuffers,"mediasource-stream-"+r)}))},_(b,n.Writable),b.prototype._onSourceOpen=function(){var o=this;o.destroyed||(o._mediaSource.removeEventListener("sourceopen",o._openHandler),o._createSourceBuffer())},b.prototype.destroy=function(o){var t=this;t.destroyed||(t.destroyed=!0,t._allStreams.splice(t._allStreams.indexOf(t),1),t._mediaSource.removeEventListener("sourceopen",t._openHandler),t._elem.removeEventListener("timeupdate",t._flowHandler),t._sourceBuffer&&(t._sourceBuffer.removeEventListener("updateend",t._flowHandler),t._sourceBuffer.removeEventListener("error",t._errorHandler),"open"===t._mediaSource.readyState&&t._sourceBuffer.abort()),o&&t.emit("error",o),t.emit("close"))},b.prototype._createSourceBuffer=function(){var o=this;if(!o.destroyed)if(h.isTypeSupported(o._type)){if(o._sourceBuffer=o._mediaSource.addSourceBuffer(o._type),o._sourceBuffer.addEventListener("updateend",o._flowHandler),o._sourceBuffer.addEventListener("error",o._errorHandler),o._cb){var t=o._cb;o._cb=null,t()}}else o.destroy(new Error("The provided type is not supported"))},b.prototype._write=function(o,t,r){var a=this;if(!a.destroyed){if(!a._sourceBuffer)return void(a._cb=function(l){return l?r(l):void a._write(o,t,r)});if(a._sourceBuffer.updating)return r(new Error("Cannot append buffer while source buffer updating"));var c=g(o);a._wrapper._debug&&a._debugBuffers.push(c);try{a._sourceBuffer.appendBuffer(c)}catch(l){return void a.destroy(l)}a._cb=r}},b.prototype._flow=function(){var o=this;if(!o.destroyed&&o._sourceBuffer&&!o._sourceBuffer.updating&&!("open"===o._mediaSource.readyState&&o._getBufferDuration()>o._bufferDuration)&&o._cb){var t=o._cb;o._cb=null,t()}},b.prototype._getBufferDuration=function(){for(var t=this._sourceBuffer.buffered,r=this._elem.currentTime,a=-1,c=0;c<t.length;c++){var l=t.start(c),w=t.end(c)+0;if(l>r)break;(0<=a||r<=w)&&(a=w)}var E=a-r;return 0>E&&(E=0),E}},{inherits:147,"readable-stream":228,"to-arraybuffer":269}],161:[function(d,N,A){function f(m,_){if(!(this instanceof f))return new f(m,_);if(_||(_={}),this.chunkLength=+m,!this.chunkLength)throw new Error("First argument must be a chunk length");this.chunks=[],this.closed=!1,this.length=+_.length||1/0,this.length!==1/0&&(this.lastChunkLength=this.length%this.chunkLength||this.chunkLength,this.lastChunkIndex=_e(this.length/this.chunkLength)-1)}N.exports=f;const b=d("queue-microtask");f.prototype.put=function(m,_,n=(()=>{})){if(this.closed)return b(()=>n(new Error("Storage is closed")));const g=m===this.lastChunkIndex;return g&&_.length!==this.lastChunkLength?b(()=>n(new Error("Last chunk length must be "+this.lastChunkLength))):g||_.length===this.chunkLength?(this.chunks[m]=_,void b(()=>n(null))):b(()=>n(new Error("Chunk length must be "+this.chunkLength)))},f.prototype.get=function(m,_,n=(()=>{})){if("function"==typeof _)return this.get(m,null,_);if(this.closed)return b(()=>n(new Error("Storage is closed")));let g=this.chunks[m];if(!g){const u=new Error("Chunk not found");return u.notFound=!0,b(()=>n(u))}_||(_={});const h=_.offset||0,s=_.length||g.length-h;(0!==h||s!==g.length)&&(g=g.slice(h,s+h)),b(()=>n(null,g))},f.prototype.close=f.prototype.destroy=function(m=(()=>{})){return this.closed?b(()=>m(new Error("Storage is closed"))):(this.closed=!0,this.chunks=null,void b(()=>m(null)))}},{"queue-microtask":206}],162:[function(d,N,A){function f(_){this.rand=_||new m.Rand}var b=d("bn.js"),m=d("brorand");N.exports=f,f.create=function(n){return new f(n)},f.prototype._randbelow=function(n){var g=n.bitLength(),h=_e(g/8);do{var s=new b(this.rand.generate(h))}while(0<=s.cmp(n));return s},f.prototype._randrange=function(n,g){var h=g.sub(n);return n.add(this._randbelow(h))},f.prototype.test=function(n,g,h){var s=n.bitLength(),u=b.mont(n),o=new b(1).toRed(u);g||(g=pe(1,0|s/48));for(var t=n.subn(1),r=0;!t.testn(r);r++);for(var a=n.shrn(r),c=t.toRed(u);0<g;g--){var w=this._randrange(new b(2),t);h&&h(w);var E=w.toRed(u).redPow(a);if(0!==E.cmp(o)&&0!==E.cmp(c)){for(var C=1;C<r;C++){if(0===(E=E.redSqr()).cmp(o))return!1;if(0===E.cmp(c))break}if(C===r)return!1}}return!0},f.prototype.getDivisor=function(n,g){var h=n.bitLength(),s=b.mont(n),u=new b(1).toRed(s);g||(g=pe(1,0|h/48));for(var o=n.subn(1),t=0;!o.testn(t);t++);for(var r=n.shrn(t),a=o.toRed(s);0<g;g--){var c=this._randrange(new b(2),o),l=n.gcd(c);if(0!==l.cmpn(1))return l;var w=c.toRed(s).redPow(r);if(0!==w.cmp(u)&&0!==w.cmp(a)){for(var E=1;E<t;E++){if(0===(w=w.redSqr()).cmp(u))return w.fromRed().subn(1).gcd(n);if(0===w.cmp(a))break}if(E===t)return(w=w.redSqr()).fromRed().subn(1).gcd(n)}}return!1}},{"bn.js":163,brorand:41}],163:[function(d,N,A){arguments[4][22][0].apply(A,arguments)},{buffer:42,dup:22}],164:[function(d,N,A){"use strict";function f(){this._types=Object.create(null),this._extensions=Object.create(null);for(let b=0;b<arguments.length;b++)this.define(arguments[b]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}f.prototype.define=function(b,m){for(let _ in b){let n=b[_].map(function(g){return g.toLowerCase()});_=_.toLowerCase();for(let g=0;g<n.length;g++){const h=n[g];if("*"!==h[0]){if(!m&&h in this._types)throw new Error('Attempt to change mapping for "'+h+'" extension from "'+this._types[h]+'" to "'+_+'". Pass `force=true` to allow this, otherwise remove "'+h+'" from the list of extensions for "'+_+'".');this._types[h]=_}}if(m||!this._extensions[_]){const g=n[0];this._extensions[_]="*"===g[0]?g.substr(1):g}}},f.prototype.getType=function(b){let m=(b+="").replace(/^.*[/\\]/,"").toLowerCase(),_=m.replace(/^.*\./,"").toLowerCase();return(_.length<m.length-1||!(m.length<b.length))&&this._types[_]||null},f.prototype.getExtension=function(b){return(b=/^\s*([^;\s]*)/.test(b)&&RegExp.$1)&&this._extensions[b.toLowerCase()]||null},N.exports=f},{}],165:[function(d,N,A){"use strict";let f=d("./Mime");N.exports=new f(d("./types/standard"),d("./types/other"))},{"./Mime":164,"./types/other":166,"./types/standard":167}],166:[function(d,N,A){N.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},{}],167:[function(d,N,A){N.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},{}],168:[function(d,N,A){function f(b,m){if(!b)throw new Error(m||"Assertion failed")}N.exports=f,f.equal=function(m,_,n){if(m!=_)throw new Error(n||"Assertion failed: "+m+" != "+_)}},{}],169:[function(d,N,A){"use strict";function b(n){return 1===n.length?"0"+n:n}function m(n){for(var g="",h=0;h<n.length;h++)g+=b(n[h].toString(16));return g}var _=A;_.toArray=function f(n,g){if(Array.isArray(n))return n.slice();if(!n)return[];var h=[];if("string"!=typeof n){for(var s=0;s<n.length;s++)h[s]=0|n[s];return h}if("hex"===g)for((n=n.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(n="0"+n),s=0;s<n.length;s+=2)h.push(parseInt(n[s]+n[s+1],16));else for(s=0;s<n.length;s++){var u=n.charCodeAt(s),o=u>>8,t=255&u;o?h.push(o,t):h.push(t)}return h},_.zero2=b,_.toHex=m,_.encode=function(g,h){return"hex"===h?m(g):g}},{}],170:[function(d,N,A){(function(f){(function(){function b(k,I,V){for(var $=I;$<V;$++)k[$]=0}function m(k,I,V){I.writeUInt32BE(xt((k.getTime()+20828448e5)/1e3),V)}function _(k,I,V){I.writeUIntBE(xt((k.getTime()+20828448e5)/1e3),V,6)}function n(k,I,V){I.writeUInt16BE(xt(k)%65536,V),I.writeUInt16BE(xt(256*k*256)%65536,V+2)}function h(k,I,V){k||(k=[0,0,0,0,0,0,0,0,0]);for(var $=0;$<k.length;$++)n(k[$],I,V+4*$)}function u(k){for(var I=Array(k.length/4),V=0;V<I.length;V++)I[V]=r(k,4*V);return I}function o(k,I){return new Date(1e3*k.readUIntBE(I,6)-20828448e5)}function t(k,I){return new Date(1e3*k.readUInt32BE(I)-20828448e5)}function r(k,I){return k.readUInt16BE(I)+k.readUInt16BE(I+2)/65536}function a(k,I){return k[I]+k[I+1]/256}function c(k,I,V){var $;for($=0;$<V&&0!==k[I+$];$++);return k.toString("utf8",I,I+$)}var l=d("./index"),w=d("./descriptor"),E=d("uint64be");A.fullBoxes={},["mvhd","tkhd","mdhd","vmhd","smhd","stsd","esds","stsz","stco","co64","stss","stts","ctts","stsc","dref","elst","hdlr","mehd","trex","mfhd","tfhd","tfdt","trun"].forEach(function(k){A.fullBoxes[k]=!0}),A.ftyp={},A.ftyp.encode=function(k,I,V){I=I?I.slice(V):f.alloc(A.ftyp.encodingLength(k));var $=k.compatibleBrands||[];I.write(k.brand,0,4,"ascii"),I.writeUInt32BE(k.brandVersion,4);for(var oe=0;oe<$.length;oe++)I.write($[oe],8+4*oe,4,"ascii");return A.ftyp.encode.bytes=8+4*$.length,I},A.ftyp.decode=function(k,I){for(var V=(k=k.slice(I)).toString("ascii",0,4),$=k.readUInt32BE(4),oe=[],ue=8;ue<k.length;ue+=4)oe.push(k.toString("ascii",ue,ue+4));return{brand:V,brandVersion:$,compatibleBrands:oe}},A.ftyp.encodingLength=function(k){return 8+4*(k.compatibleBrands||[]).length},A.mvhd={},A.mvhd.encode=function(k,I,V){return I=I?I.slice(V):f.alloc(96),m(k.ctime||new Date,I,0),m(k.mtime||new Date,I,4),I.writeUInt32BE(k.timeScale||0,8),I.writeUInt32BE(k.duration||0,12),n(k.preferredRate||0,I,16),function g(k,I,V){I[V]=xt(k)%256,I[V+1]=xt(256*k)%256}(k.preferredVolume||0,I,20),b(I,22,32),h(k.matrix,I,32),I.writeUInt32BE(k.previewTime||0,68),I.writeUInt32BE(k.previewDuration||0,72),I.writeUInt32BE(k.posterTime||0,76),I.writeUInt32BE(k.selectionTime||0,80),I.writeUInt32BE(k.selectionDuration||0,84),I.writeUInt32BE(k.currentTime||0,88),I.writeUInt32BE(k.nextTrackId||0,92),A.mvhd.encode.bytes=96,I},A.mvhd.decode=function(k,I){return{ctime:t(k=k.slice(I),0),mtime:t(k,4),timeScale:k.readUInt32BE(8),duration:k.readUInt32BE(12),preferredRate:r(k,16),preferredVolume:a(k,20),matrix:u(k.slice(32,68)),previewTime:k.readUInt32BE(68),previewDuration:k.readUInt32BE(72),posterTime:k.readUInt32BE(76),selectionTime:k.readUInt32BE(80),selectionDuration:k.readUInt32BE(84),currentTime:k.readUInt32BE(88),nextTrackId:k.readUInt32BE(92)}},A.mvhd.encodingLength=function(k){return 96},A.tkhd={},A.tkhd.encode=function(k,I,V){return I=I?I.slice(V):f.alloc(80),m(k.ctime||new Date,I,0),m(k.mtime||new Date,I,4),I.writeUInt32BE(k.trackId||0,8),b(I,12,16),I.writeUInt32BE(k.duration||0,16),b(I,20,28),I.writeUInt16BE(k.layer||0,28),I.writeUInt16BE(k.alternateGroup||0,30),I.writeUInt16BE(k.volume||0,32),h(k.matrix,I,36),I.writeUInt32BE(k.trackWidth||0,72),I.writeUInt32BE(k.trackHeight||0,76),A.tkhd.encode.bytes=80,I},A.tkhd.decode=function(k,I){return{ctime:t(k=k.slice(I),0),mtime:t(k,4),trackId:k.readUInt32BE(8),duration:k.readUInt32BE(16),layer:k.readUInt16BE(28),alternateGroup:k.readUInt16BE(30),volume:k.readUInt16BE(32),matrix:u(k.slice(36,72)),trackWidth:k.readUInt32BE(72),trackHeight:k.readUInt32BE(76)}},A.tkhd.encodingLength=function(k){return 80},A.mdhd={},A.mdhd.encode=function(k,I,V){return 1===k.version?(I=I?I.slice(V):f.alloc(32),_(k.ctime||new Date,I,0),_(k.mtime||new Date,I,8),I.writeUInt32BE(k.timeScale||0,16),I.writeUIntBE(k.duration||0,20,6),I.writeUInt16BE(k.language||0,28),I.writeUInt16BE(k.quality||0,30),A.mdhd.encode.bytes=32,I):(I=I?I.slice(V):f.alloc(20),m(k.ctime||new Date,I,0),m(k.mtime||new Date,I,4),I.writeUInt32BE(k.timeScale||0,8),I.writeUInt32BE(k.duration||0,12),I.writeUInt16BE(k.language||0,16),I.writeUInt16BE(k.quality||0,18),A.mdhd.encode.bytes=20,I)},A.mdhd.decode=function(k,I,V){return k=k.slice(I),V-I!=20?{ctime:o(k,0),mtime:o(k,8),timeScale:k.readUInt32BE(16),duration:k.readUIntBE(20,6),language:k.readUInt16BE(28),quality:k.readUInt16BE(30)}:{ctime:t(k,0),mtime:t(k,4),timeScale:k.readUInt32BE(8),duration:k.readUInt32BE(12),language:k.readUInt16BE(16),quality:k.readUInt16BE(18)}},A.mdhd.encodingLength=function(k){return 1===k.version?32:20},A.vmhd={},A.vmhd.encode=function(k,I,V){(I=I?I.slice(V):f.alloc(8)).writeUInt16BE(k.graphicsMode||0,0);var $=k.opcolor||[0,0,0];return I.writeUInt16BE($[0],2),I.writeUInt16BE($[1],4),I.writeUInt16BE($[2],6),A.vmhd.encode.bytes=8,I},A.vmhd.decode=function(k,I){return{graphicsMode:(k=k.slice(I)).readUInt16BE(0),opcolor:[k.readUInt16BE(2),k.readUInt16BE(4),k.readUInt16BE(6)]}},A.vmhd.encodingLength=function(k){return 8},A.smhd={},A.smhd.encode=function(k,I,V){return(I=I?I.slice(V):f.alloc(4)).writeUInt16BE(k.balance||0,0),b(I,2,4),A.smhd.encode.bytes=4,I},A.smhd.decode=function(k,I){return{balance:(k=k.slice(I)).readUInt16BE(0)}},A.smhd.encodingLength=function(k){return 4},A.stsd={},A.stsd.encode=function(k,I,V){I=I?I.slice(V):f.alloc(A.stsd.encodingLength(k));var $=k.entries||[];I.writeUInt32BE($.length,0);for(var oe=4,ue=0;ue<$.length;ue++)l.encode($[ue],I,oe),oe+=l.encode.bytes;return A.stsd.encode.bytes=oe,I},A.stsd.decode=function(k,I,V){for(var X,$=(k=k.slice(I)).readUInt32BE(0),oe=Array($),ue=4,Ae=0;Ae<$;Ae++)X=l.decode(k,ue,V),oe[Ae]=X,ue+=X.length;return{entries:oe}},A.stsd.encodingLength=function(k){var I=4;if(!k.entries)return I;for(var V=0;V<k.entries.length;V++)I+=l.encodingLength(k.entries[V]);return I},A.avc1=A.VisualSampleEntry={},A.VisualSampleEntry.encode=function(k,I,V){b(I=I?I.slice(V):f.alloc(A.VisualSampleEntry.encodingLength(k)),0,6),I.writeUInt16BE(k.dataReferenceIndex||0,6),b(I,8,24),I.writeUInt16BE(k.width||0,24),I.writeUInt16BE(k.height||0,26),I.writeUInt32BE(k.hResolution||4718592,28),I.writeUInt32BE(k.vResolution||4718592,32),b(I,36,40),I.writeUInt16BE(k.frameCount||1,40);var $=k.compressorName||"",oe=ne($.length,31);I.writeUInt8(oe,42),I.write($,43,oe,"utf8"),I.writeUInt16BE(k.depth||24,74),I.writeInt16BE(-1,76);var ue=78;(k.children||[]).forEach(function(X){l.encode(X,I,ue),ue+=l.encode.bytes}),A.VisualSampleEntry.encode.bytes=ue},A.VisualSampleEntry.decode=function(k,I,V){k=k.slice(I);for(var $=V-I,oe=ne(k.readUInt8(42),31),ue={dataReferenceIndex:k.readUInt16BE(6),width:k.readUInt16BE(24),height:k.readUInt16BE(26),hResolution:k.readUInt32BE(28),vResolution:k.readUInt32BE(32),frameCount:k.readUInt16BE(40),compressorName:k.toString("utf8",43,43+oe),depth:k.readUInt16BE(74),children:[]},Ae=78;8<=$-Ae;){var X=l.decode(k,Ae,$);ue.children.push(X),ue[X.type]=X,Ae+=X.length}return ue},A.VisualSampleEntry.encodingLength=function(k){var I=78;return(k.children||[]).forEach(function($){I+=l.encodingLength($)}),I},A.avcC={},A.avcC.encode=function(k,I,V){I=I?I.slice(V):f.alloc(k.buffer.length),k.buffer.copy(I),A.avcC.encode.bytes=k.buffer.length},A.avcC.decode=function(k,I,V){return{mimeCodec:(k=k.slice(I,V)).toString("hex",1,4),buffer:f.from(k)}},A.avcC.encodingLength=function(k){return k.buffer.length},A.mp4a=A.AudioSampleEntry={},A.AudioSampleEntry.encode=function(k,I,V){b(I=I?I.slice(V):f.alloc(A.AudioSampleEntry.encodingLength(k)),0,6),I.writeUInt16BE(k.dataReferenceIndex||0,6),b(I,8,16),I.writeUInt16BE(k.channelCount||2,16),I.writeUInt16BE(k.sampleSize||16,18),b(I,20,24),I.writeUInt32BE(k.sampleRate||0,24);var $=28;(k.children||[]).forEach(function(ue){l.encode(ue,I,$),$+=l.encode.bytes}),A.AudioSampleEntry.encode.bytes=$},A.AudioSampleEntry.decode=function(k,I,V){for(var $=V-I,oe={dataReferenceIndex:(k=k.slice(I,V)).readUInt16BE(6),channelCount:k.readUInt16BE(16),sampleSize:k.readUInt16BE(18),sampleRate:k.readUInt32BE(24),children:[]},ue=28;8<=$-ue;){var Ae=l.decode(k,ue,$);oe.children.push(Ae),oe[Ae.type]=Ae,ue+=Ae.length}return oe},A.AudioSampleEntry.encodingLength=function(k){var I=28;return(k.children||[]).forEach(function($){I+=l.encodingLength($)}),I},A.esds={},A.esds.encode=function(k,I,V){I=I?I.slice(V):f.alloc(k.buffer.length),k.buffer.copy(I,0),A.esds.encode.bytes=k.buffer.length},A.esds.decode=function(k,I,V){k=k.slice(I,V);var $=w.Descriptor.decode(k,0,k.length),ue=("ESDescriptor"===$.tagName?$:{}).DecoderConfigDescriptor||{},Ae=ue.oti||0,X=ue.DecoderSpecificInfo,T=X?(248&X.buffer.readUInt8(0))>>3:0,D=null;return Ae&&(D=Ae.toString(16),T&&(D+="."+T)),{mimeCodec:D,buffer:f.from(k.slice(0))}},A.esds.encodingLength=function(k){return k.buffer.length},A.stsz={},A.stsz.encode=function(k,I,V){var $=k.entries||[];(I=I?I.slice(V):f.alloc(A.stsz.encodingLength(k))).writeUInt32BE(0,0),I.writeUInt32BE($.length,4);for(var oe=0;oe<$.length;oe++)I.writeUInt32BE($[oe],4*oe+8);return A.stsz.encode.bytes=8+4*$.length,I},A.stsz.decode=function(k,I){for(var V=(k=k.slice(I)).readUInt32BE(0),$=k.readUInt32BE(4),oe=Array($),ue=0;ue<$;ue++)oe[ue]=0===V?k.readUInt32BE(4*ue+8):V;return{entries:oe}},A.stsz.encodingLength=function(k){return 8+4*k.entries.length},A.stss=A.stco={},A.stco.encode=function(k,I,V){var $=k.entries||[];(I=I?I.slice(V):f.alloc(A.stco.encodingLength(k))).writeUInt32BE($.length,0);for(var oe=0;oe<$.length;oe++)I.writeUInt32BE($[oe],4*oe+4);return A.stco.encode.bytes=4+4*$.length,I},A.stco.decode=function(k,I){for(var V=(k=k.slice(I)).readUInt32BE(0),$=Array(V),oe=0;oe<V;oe++)$[oe]=k.readUInt32BE(4*oe+4);return{entries:$}},A.stco.encodingLength=function(k){return 4+4*k.entries.length},A.co64={},A.co64.encode=function(k,I,V){var $=k.entries||[];(I=I?I.slice(V):f.alloc(A.co64.encodingLength(k))).writeUInt32BE($.length,0);for(var oe=0;oe<$.length;oe++)E.encode($[oe],I,8*oe+4);return A.co64.encode.bytes=4+8*$.length,I},A.co64.decode=function(k,I){for(var V=(k=k.slice(I)).readUInt32BE(0),$=Array(V),oe=0;oe<V;oe++)$[oe]=E.decode(k,8*oe+4);return{entries:$}},A.co64.encodingLength=function(k){return 4+8*k.entries.length},A.stts={},A.stts.encode=function(k,I,V){var $=k.entries||[];(I=I?I.slice(V):f.alloc(A.stts.encodingLength(k))).writeUInt32BE($.length,0);for(var ue,oe=0;oe<$.length;oe++)I.writeUInt32BE($[oe].count||0,ue=8*oe+4),I.writeUInt32BE($[oe].duration||0,ue+4);return A.stts.encode.bytes=4+8*k.entries.length,I},A.stts.decode=function(k,I){for(var ue,V=(k=k.slice(I)).readUInt32BE(0),$=Array(V),oe=0;oe<V;oe++)$[oe]={count:k.readUInt32BE(ue=8*oe+4),duration:k.readUInt32BE(ue+4)};return{entries:$}},A.stts.encodingLength=function(k){return 4+8*k.entries.length},A.ctts={},A.ctts.encode=function(k,I,V){var $=k.entries||[];(I=I?I.slice(V):f.alloc(A.ctts.encodingLength(k))).writeUInt32BE($.length,0);for(var ue,oe=0;oe<$.length;oe++)I.writeUInt32BE($[oe].count||0,ue=8*oe+4),I.writeUInt32BE($[oe].compositionOffset||0,ue+4);return A.ctts.encode.bytes=4+8*$.length,I},A.ctts.decode=function(k,I){for(var ue,V=(k=k.slice(I)).readUInt32BE(0),$=Array(V),oe=0;oe<V;oe++)$[oe]={count:k.readUInt32BE(ue=8*oe+4),compositionOffset:k.readInt32BE(ue+4)};return{entries:$}},A.ctts.encodingLength=function(k){return 4+8*k.entries.length},A.stsc={},A.stsc.encode=function(k,I,V){var $=k.entries||[];(I=I?I.slice(V):f.alloc(A.stsc.encodingLength(k))).writeUInt32BE($.length,0);for(var ue,oe=0;oe<$.length;oe++)I.writeUInt32BE($[oe].firstChunk||0,ue=12*oe+4),I.writeUInt32BE($[oe].samplesPerChunk||0,ue+4),I.writeUInt32BE($[oe].sampleDescriptionId||0,ue+8);return A.stsc.encode.bytes=4+12*$.length,I},A.stsc.decode=function(k,I){for(var ue,V=(k=k.slice(I)).readUInt32BE(0),$=Array(V),oe=0;oe<V;oe++)$[oe]={firstChunk:k.readUInt32BE(ue=12*oe+4),samplesPerChunk:k.readUInt32BE(ue+4),sampleDescriptionId:k.readUInt32BE(ue+8)};return{entries:$}},A.stsc.encodingLength=function(k){return 4+12*k.entries.length},A.dref={},A.dref.encode=function(k,I,V){I=I?I.slice(V):f.alloc(A.dref.encodingLength(k));var $=k.entries||[];I.writeUInt32BE($.length,0);for(var oe=4,ue=0;ue<$.length;ue++){var Ae=$[ue];I.writeUInt32BE((Ae.buf?Ae.buf.length:0)+4+4,oe),I.write(Ae.type,oe+=4,4,"ascii"),oe+=4,Ae.buf&&(Ae.buf.copy(I,oe),oe+=Ae.buf.length)}return A.dref.encode.bytes=oe,I},A.dref.decode=function(k,I){for(var V=(k=k.slice(I)).readUInt32BE(0),$=Array(V),oe=4,ue=0;ue<V;ue++){var Ae=k.readUInt32BE(oe),X=k.toString("ascii",oe+4,oe+8),T=k.slice(oe+8,oe+Ae);oe+=Ae,$[ue]={type:X,buf:T}}return{entries:$}},A.dref.encodingLength=function(k){var I=4;if(!k.entries)return I;for(var $,V=0;V<k.entries.length;V++)I+=(($=k.entries[V].buf)?$.length:0)+4+4;return I},A.elst={},A.elst.encode=function(k,I,V){var $=k.entries||[];(I=I?I.slice(V):f.alloc(A.elst.encodingLength(k))).writeUInt32BE($.length,0);for(var ue,oe=0;oe<$.length;oe++)I.writeUInt32BE($[oe].trackDuration||0,ue=12*oe+4),I.writeUInt32BE($[oe].mediaTime||0,ue+4),n($[oe].mediaRate||0,I,ue+8);return A.elst.encode.bytes=4+12*$.length,I},A.elst.decode=function(k,I){for(var ue,V=(k=k.slice(I)).readUInt32BE(0),$=Array(V),oe=0;oe<V;oe++)$[oe]={trackDuration:k.readUInt32BE(ue=12*oe+4),mediaTime:k.readInt32BE(ue+4),mediaRate:r(k,ue+8)};return{entries:$}},A.elst.encodingLength=function(k){return 4+12*k.entries.length},A.hdlr={},A.hdlr.encode=function(k,I,V){I=I?I.slice(V):f.alloc(A.hdlr.encodingLength(k));var $=21+(k.name||"").length;return I.fill(0,0,$),I.write(k.handlerType||"",4,4,"ascii"),function s(k,I,V){var $=f.from(k,"utf8");$.copy(I,V),I[V+$.length]=0}(k.name||"",I,20),A.hdlr.encode.bytes=$,I},A.hdlr.decode=function(k,I,V){return{handlerType:(k=k.slice(I)).toString("ascii",4,8),name:c(k,20,V)}},A.hdlr.encodingLength=function(k){return 21+(k.name||"").length},A.mehd={},A.mehd.encode=function(k,I,V){return(I=I?I.slice(V):f.alloc(4)).writeUInt32BE(k.fragmentDuration||0,0),A.mehd.encode.bytes=4,I},A.mehd.decode=function(k,I){return{fragmentDuration:(k=k.slice(I)).readUInt32BE(0)}},A.mehd.encodingLength=function(k){return 4},A.trex={},A.trex.encode=function(k,I,V){return(I=I?I.slice(V):f.alloc(20)).writeUInt32BE(k.trackId||0,0),I.writeUInt32BE(k.defaultSampleDescriptionIndex||0,4),I.writeUInt32BE(k.defaultSampleDuration||0,8),I.writeUInt32BE(k.defaultSampleSize||0,12),I.writeUInt32BE(k.defaultSampleFlags||0,16),A.trex.encode.bytes=20,I},A.trex.decode=function(k,I){return{trackId:(k=k.slice(I)).readUInt32BE(0),defaultSampleDescriptionIndex:k.readUInt32BE(4),defaultSampleDuration:k.readUInt32BE(8),defaultSampleSize:k.readUInt32BE(12),defaultSampleFlags:k.readUInt32BE(16)}},A.trex.encodingLength=function(k){return 20},A.mfhd={},A.mfhd.encode=function(k,I,V){return(I=I?I.slice(V):f.alloc(4)).writeUInt32BE(k.sequenceNumber||0,0),A.mfhd.encode.bytes=4,I},A.mfhd.decode=function(k,I){return{sequenceNumber:k.readUInt32BE(0)}},A.mfhd.encodingLength=function(k){return 4},A.tfhd={},A.tfhd.encode=function(k,I,V){return(I=I?I.slice(V):f.alloc(4)).writeUInt32BE(k.trackId,0),A.tfhd.encode.bytes=4,I},A.tfhd.decode=function(k,I){},A.tfhd.encodingLength=function(k){return 4},A.tfdt={},A.tfdt.encode=function(k,I,V){return(I=I?I.slice(V):f.alloc(4)).writeUInt32BE(k.baseMediaDecodeTime||0,0),A.tfdt.encode.bytes=4,I},A.tfdt.decode=function(k,I){},A.tfdt.encodingLength=function(k){return 4},A.trun={},A.trun.encode=function(k,I,V){(I=I?I.slice(V):f.alloc(8+16*k.entries.length)).writeUInt32BE(k.entries.length,0),I.writeInt32BE(k.dataOffset,4);for(var ue,$=8,oe=0;oe<k.entries.length;oe++)I.writeUInt32BE((ue=k.entries[oe]).sampleDuration,$),I.writeUInt32BE(ue.sampleSize,$+=4),I.writeUInt32BE(ue.sampleFlags,$+=4),$+=4,0===(k.version||0)?I.writeUInt32BE(ue.sampleCompositionTimeOffset,$):I.writeInt32BE(ue.sampleCompositionTimeOffset,$),$+=4;A.trun.encode.bytes=$},A.trun.decode=function(k,I){},A.trun.encodingLength=function(k){return 8+16*k.entries.length},A.mdat={},A.mdat.encode=function(k,I,V){k.buffer?(k.buffer.copy(I,V),A.mdat.encode.bytes=k.buffer.length):A.mdat.encode.bytes=A.mdat.encodingLength(k)},A.mdat.decode=function(k,I,V){return{buffer:f.from(k.slice(I,V))}},A.mdat.encodingLength=function(k){return k.buffer?k.buffer.length:k.contentLength}}).call(this)}).call(this,d("buffer").Buffer)},{"./descriptor":171,"./index":172,buffer:76,uint64be:272}],171:[function(d,N,A){(function(f){(function(){var b={3:"ESDescriptor",4:"DecoderConfigDescriptor",5:"DecoderSpecificInfo",6:"SLConfigDescriptor"};A.Descriptor={},A.Descriptor.decode=function(m,_,n){var u,g=m.readUInt8(_),h=_+1,s=0;do{s=s<<7|127&(u=m.readUInt8(h++))}while(128&u);var t,o=b[g];return(t=A[o]?A[o].decode(m,h,n):{buffer:f.from(m.slice(h,h+s))}).tag=g,t.tagName=o,t.length=h-_+s,t.contentsLen=s,t},A.DescriptorArray={},A.DescriptorArray.decode=function(m,_,n){for(var g=_,h={};g+2<=n;){var s=A.Descriptor.decode(m,g,n);g+=s.length,h[b[s.tag]||"Descriptor"+s.tag]=s}return h},A.ESDescriptor={},A.ESDescriptor.decode=function(m,_,n){var g=m.readUInt8(_+2),h=_+3;return 128&g&&(h+=2),64&g&&(h+=m.readUInt8(h)+1),32&g&&(h+=2),A.DescriptorArray.decode(m,h,n)},A.DecoderConfigDescriptor={},A.DecoderConfigDescriptor.decode=function(m,_,n){var g=m.readUInt8(_),h=A.DescriptorArray.decode(m,_+13,n);return h.oti=g,h}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76}],172:[function(d,N,A){(function(f){(function(){var b=d("uint64be"),m=d("./boxes"),_=4294967295,n=A,g=A.containers={moov:["mvhd","meta","traks","mvex"],trak:["tkhd","tref","trgr","edts","meta","mdia","udta"],edts:["elst"],mdia:["mdhd","hdlr","elng","minf"],minf:["vmhd","smhd","hmhd","sthd","nmhd","dinf","stbl"],dinf:["dref"],stbl:["stsd","stts","ctts","cslg","stsc","stsz","stz2","stco","co64","stss","stsh","padb","stdp","sdtp","sbgps","sgpds","subss","saizs","saios"],mvex:["mehd","trexs","leva"],moof:["mfhd","meta","trafs"],traf:["tfhd","tfdt","trun","sbgps","sgpds","subss","saizs","saios","meta"]};n.encode=function(h,s,u){return n.encodingLength(h),u=u||0,s=s||f.alloc(h.length),n._encode(h,s,u)},n._encode=function(h,s,u){var o=h.type,t=h.length;t>_&&(t=1),s.writeUInt32BE(t,u),s.write(h.type,u+4,4,"ascii");var r=u+8;if(1===t&&(b.encode(h.length,s,r),r+=8),m.fullBoxes[o]&&(s.writeUInt32BE(h.flags||0,r),s.writeUInt8(h.version||0,r),r+=4),g[o])g[o].forEach(function(w){if(5===w.length){var E=h[w]||[];w=w.substr(0,4),E.forEach(function(C){n._encode(C,s,r),r+=n.encode.bytes})}else h[w]&&(n._encode(h[w],s,r),r+=n.encode.bytes)}),h.otherBoxes&&h.otherBoxes.forEach(function(w){n._encode(w,s,r),r+=n.encode.bytes});else if(m[o]){var c=m[o].encode;c(h,s,r),r+=c.bytes}else{if(!h.buffer)throw new Error("Either `type` must be set to a known type (not'"+o+"') or `buffer` must be set");h.buffer.copy(s,r),r+=h.buffer.length}return n.encode.bytes=r-u,s},n.readHeaders=function(h,s,u){if(8>(u=u||h.length)-(s=s||0))return 8;var a,c,o=h.readUInt32BE(s),t=h.toString("ascii",s+4,s+8),r=s+8;if(1===o){if(16>u-s)return 16;o=b.decode(h,r),r+=8}return m.fullBoxes[t]&&(a=h.readUInt8(r),c=16777215&h.readUInt32BE(r),r+=4),{length:o,headersLen:r-s,contentLen:o-(r-s),type:t,version:a,flags:c}},n.decode=function(h,s,u){var o=n.readHeaders(h,s=s||0,u=u||h.length);if(!o||o.length>u-s)throw new Error("Data too short");return n.decodeWithoutHeaders(o,h,s+o.headersLen,s+o.length)},n.decodeWithoutHeaders=function(h,s,u,o){u=u||0,o=o||s.length;var t=h.type,r={};if(g[t]){r.otherBoxes=[];for(var l,a=g[t],c=u;8<=o-c;)if(c+=(l=n.decode(s,c,o)).length,0<=a.indexOf(l.type))r[l.type]=l;else if(0<=a.indexOf(l.type+"s")){var w=l.type+"s";(r[w]=r[w]||[]).push(l)}else r.otherBoxes.push(l)}else m[t]?r=(0,m[t].decode)(s,u,o):r.buffer=f.from(s.slice(u,o));return r.length=h.length,r.contentLen=h.contentLen,r.type=h.type,r.version=h.version,r.flags=h.flags,r},n.encodingLength=function(h){var s=h.type,u=8;if(m.fullBoxes[s]&&(u+=4),g[s])g[s].forEach(function(t){if(5===t.length){var r=h[t]||[];t=t.substr(0,4),r.forEach(function(c){c.type=t,u+=n.encodingLength(c)})}else if(h[t]){var a=h[t];a.type=t,u+=n.encodingLength(a)}}),h.otherBoxes&&h.otherBoxes.forEach(function(t){u+=n.encodingLength(t)});else if(m[s])u+=m[s].encodingLength(h);else{if(!h.buffer)throw new Error("Either `type` must be set to a known type (not'"+s+"') or `buffer` must be set");u+=h.buffer.length}return u>_&&(u+=8),h.length=u,u}}).call(this)}).call(this,d("buffer").Buffer)},{"./boxes":170,buffer:76,uint64be:272}],173:[function(d,N,A){(function(f){(function(){var b=d("readable-stream"),m=d("next-event"),_=d("mp4-box-encoding"),n=f.alloc(0);class h extends b.PassThrough{constructor(u){super(),this._parent=u,this.destroyed=!1}destroy(u){this.destroyed||(this.destroyed=!0,this._parent.destroy(u),u&&this.emit("error",u),this.emit("close"))}}N.exports=class g extends b.Writable{constructor(u){super(u),this.destroyed=!1,this._pending=0,this._missing=0,this._ignoreEmpty=!1,this._buf=null,this._str=null,this._cb=null,this._ondrain=null,this._writeBuffer=null,this._writeCb=null,this._ondrain=null,this._kick()}destroy(u){this.destroyed||(this.destroyed=!0,u&&this.emit("error",u),this.emit("close"))}_write(u,o,t){if(!this.destroyed){for(var r=!this._str||!this._str._writableState.needDrain;u.length&&!this.destroyed;){if(!this._missing&&!this._ignoreEmpty)return this._writeBuffer=u,void(this._writeCb=t);var a=u.length<this._missing?u.length:this._missing;if(this._buf?u.copy(this._buf,this._buf.length-this._missing):this._str&&(r=this._str.write(a===u.length?u:u.slice(0,a))),this._missing-=a,!this._missing){var c=this._buf,l=this._cb,w=this._str;this._buf=this._cb=this._str=this._ondrain=null,r=!0,this._ignoreEmpty=!1,w&&w.end(),l&&l(c)}u=a===u.length?n:u.slice(a)}return this._pending&&!this._missing?(this._writeBuffer=u,void(this._writeCb=t)):void(r?t():this._ondrain(t))}}_buffer(u,o){this._missing=u,this._buf=f.alloc(u),this._cb=o}_stream(u,o){return this._missing=u,this._str=new h(this),this._ondrain=m(this._str,"drain"),this._pending++,this._str.on("end",()=>{this._pending--,this._kick()}),this._cb=o,this._str}_readBox(){const u=(o,t)=>{this._buffer(o,r=>{t=t?f.concat([t,r]):r;var a=_.readHeaders(t);"number"==typeof a?u(a-t.length,t):(this._pending++,this._headers=a,this.emit("box",a))})};u(8)}stream(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var u=this._headers;return this._headers=null,this._stream(u.contentLen,()=>{this._pending--,this._kick()})}decode(u){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var o=this._headers;this._headers=null,this._buffer(o.contentLen,t=>{var r=_.decodeWithoutHeaders(o,t);u(r),this._pending--,this._kick()})}ignore(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var u=this._headers;this._headers=null,this._missing=u.contentLen,0===this._missing&&(this._ignoreEmpty=!0),this._cb=()=>{this._pending--,this._kick()}}_kick(){if(!this._pending&&(this._buf||this._str||this._readBox(),this._writeBuffer)){var u=this._writeCb,o=this._writeBuffer;this._writeBuffer=null,this._writeCb=null,this._write(o,null,u)}}}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76,"mp4-box-encoding":172,"next-event":177,"readable-stream":228}],174:[function(d,N,A){(function(f){(function(){function b(){}var m=d("readable-stream"),_=d("mp4-box-encoding"),n=d("queue-microtask");class h extends m.PassThrough{constructor(u){super(),this._parent=u,this.destroyed=!1}destroy(u){this.destroyed||(this.destroyed=!0,this._parent.destroy(u),u&&this.emit("error",u),this.emit("close"))}}N.exports=class g extends m.Readable{constructor(u){super(u),this.destroyed=!1,this._finalized=!1,this._reading=!1,this._stream=null,this._drain=null,this._want=!1,this._onreadable=()=>{this._want&&(this._want=!1,this._read())},this._onend=()=>{this._stream=null}}mdat(u,o){this.mediaData(u,o)}mediaData(u,o){var t=new h(this);return this.box({type:"mdat",contentLength:u,encodeBufferLen:8,stream:t},o),t}box(u,o){if(o||(o=b),this.destroyed)return o(new Error("Encoder is destroyed"));var t;if(u.encodeBufferLen&&(t=f.alloc(u.encodeBufferLen)),u.stream)u.buffer=null,t=_.encode(u,t),this.push(t),this._stream=u.stream,this._stream.on("readable",this._onreadable),this._stream.on("end",this._onend),this._stream.on("end",o),this._forward();else{if(t=_.encode(u,t),this.push(t))return n(o);this._drain=o}}destroy(u){if(!this.destroyed){if(this.destroyed=!0,this._stream&&this._stream.destroy&&this._stream.destroy(),this._stream=null,this._drain){var o=this._drain;this._drain=null,o(u)}u&&this.emit("error",u),this.emit("close")}}finalize(){this._finalized=!0,this._stream||this._drain||this.push(null)}_forward(){if(this._stream)for(;!this.destroyed;){var u=this._stream.read();if(!u)return void(this._want=!!this._stream);if(!this.push(u))return}}_read(){if(!this._reading&&!this.destroyed){if(this._reading=!0,this._stream&&this._forward(),this._drain){var u=this._drain;this._drain=null,u()}this._reading=!1,this._finalized&&this.push(null)}}}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76,"mp4-box-encoding":172,"queue-microtask":206,"readable-stream":228}],175:[function(d,N,A){const f=d("./decode"),b=d("./encode");A.decode=m=>new f(m),A.encode=m=>new b(m)},{"./decode":173,"./encode":174}],176:[function(d,N,A){function _(t,r,a,c){var l=r>=1.5*a;return kt(t/a)+" "+c+(l?"s":"")}N.exports=function(t,r){r=r||{};var a=typeof t;if("string"==a&&0<t.length)return function f(t){if(!(100<(t+="").length)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(r){var a=parseFloat(r[1]),c=(r[2]||"ms").toLowerCase();return"years"===c||"year"===c||"yrs"===c||"yr"===c||"y"===c?315576e5*a:"weeks"===c||"week"===c||"w"===c?6048e5*a:"days"===c||"day"===c||"d"===c?864e5*a:"hours"===c||"hour"===c||"hrs"===c||"hr"===c||"h"===c?36e5*a:"minutes"===c||"minute"===c||"mins"===c||"min"===c||"m"===c?6e4*a:"seconds"===c||"second"===c||"secs"===c||"sec"===c||"s"===c?1e3*a:"milliseconds"===c||"millisecond"===c||"msecs"===c||"msec"===c||"ms"===c?a:void 0}}}(t);if("number"===a&&isFinite(t))return r.long?function m(t){var r=At(t);return 864e5<=r?_(t,r,864e5,"day"):36e5<=r?_(t,r,36e5,"hour"):6e4<=r?_(t,r,6e4,"minute"):1e3<=r?_(t,r,1e3,"second"):t+" ms"}(t):function b(t){var r=At(t);return 864e5<=r?kt(t/864e5)+"d":36e5<=r?kt(t/36e5)+"h":6e4<=r?kt(t/6e4)+"m":1e3<=r?kt(t/1e3)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},{}],177:[function(d,N,A){N.exports=function f(b,m){var _=null;return b.on(m,function(n){if(_){var g=_;_=null,g(n)}}),function(n){_=n}}},{}],178:[function(d,N,A){function f(_){var n=function(){return n.called?n.value:(n.called=!0,n.value=_.apply(this,arguments))};return n.called=!1,n}function b(_){var n=function(){if(n.called)throw new Error(n.onceError);return n.called=!0,n.value=_.apply(this,arguments)};return n.onceError=(_.name||"Function wrapped with `once`")+" shouldn't be called more than once",n.called=!1,n}var m=d("wrappy");N.exports=m(f),N.exports.strict=m(b),f.proto=f(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return f(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return b(this)},configurable:!0})})},{wrappy:280}],179:[function(d,N,A){N.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],180:[function(d,N,A){"use strict";var f=d("asn1.js");A.certificate=d("./certificate");var b=f.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});A.RSAPrivateKey=b;var m=f.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});A.RSAPublicKey=m;var _=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())});A.PublicKey=_;var n=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),g=f.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(n),this.key("subjectPrivateKey").octstr())});A.PrivateKey=g;var h=f.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});A.EncryptedPrivateKey=h;var s=f.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});A.DSAPrivateKey=s,A.DSAparam=f.define("DSAparam",function(){this.int()});var u=f.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(o),this.key("publicKey").optional().explicit(1).bitstr())});A.ECPrivateKey=u;var o=f.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});A.signature=f.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":181,"asn1.js":8}],181:[function(d,N,A){"use strict";var f=d("asn1.js"),b=f.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),m=f.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),_=f.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),n=f.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(_),this.key("subjectPublicKey").bitstr())}),g=f.define("RelativeDistinguishedName",function(){this.setof(m)}),h=f.define("RDNSequence",function(){this.seqof(g)}),s=f.define("Name",function(){this.choice({rdnSequence:this.use(h)})}),u=f.define("Validity",function(){this.seq().obj(this.key("notBefore").use(b),this.key("notAfter").use(b))}),o=f.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),t=f.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(_),this.key("issuer").use(s),this.key("validity").use(u),this.key("subject").use(s),this.key("subjectPublicKeyInfo").use(n),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(o).optional())}),r=f.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(t),this.key("signatureAlgorithm").use(_),this.key("signatureValue").bitstr())});N.exports=r},{"asn1.js":8}],182:[function(d,N,A){var f=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,b=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,m=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,_=d("evp_bytestokey"),n=d("browserify-aes"),g=d("safe-buffer").Buffer;N.exports=function(h,s){var t,u=h.toString(),o=u.match(f);if(o){var a="aes"+o[1],c=g.from(o[2],"hex"),l=g.from(o[3].replace(/[\r\n]/g,""),"base64"),w=_(s,c.slice(0,8),parseInt(o[1],10)).key,E=[],C=n.createDecipheriv(a,w,c);E.push(C.update(l)),E.push(C.final()),t=g.concat(E)}else{var r=u.match(m);t=g.from(r[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(b)[1],data:t}}},{"browserify-aes":45,evp_bytestokey:124,"safe-buffer":235}],183:[function(d,N,A){function f(u){var o;"object"!=typeof u||s.isBuffer(u)||(o=u.passphrase,u=u.key),"string"==typeof u&&(u=s.from(u));var c,l,t=n(u,o),r=t.tag,a=t.data;switch(r){case"CERTIFICATE":l=m.certificate.decode(a,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(l||(l=m.PublicKey.decode(a,"der")),c=l.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return m.RSAPublicKey.decode(l.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return l.subjectPrivateKey=l.subjectPublicKey,{type:"ec",data:l};case"1.2.840.10040.4.1":return l.algorithm.params.pub_key=m.DSAparam.decode(l.subjectPublicKey.data,"der"),{type:"dsa",data:l.algorithm.params};default:throw new Error("unknown key id "+c)}case"ENCRYPTED PRIVATE KEY":a=function b(u,o){var t=u.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(u.algorithm.decrypt.kde.kdeparams.iters.toString(),10),a=_[u.algorithm.decrypt.cipher.algo.join(".")],c=u.algorithm.decrypt.cipher.iv,l=u.subjectPrivateKey,w=parseInt(a.split("-")[1],10)/8,E=h.pbkdf2Sync(o,t,r,w,"sha1"),C=g.createDecipheriv(a,E,c),z=[];return z.push(C.update(l)),z.push(C.final()),s.concat(z)}(a=m.EncryptedPrivateKey.decode(a,"der"),o);case"PRIVATE KEY":switch(c=(l=m.PrivateKey.decode(a,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return m.RSAPrivateKey.decode(l.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:l.algorithm.curve,privateKey:m.ECPrivateKey.decode(l.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return l.algorithm.params.priv_key=m.DSAparam.decode(l.subjectPrivateKey,"der"),{type:"dsa",params:l.algorithm.params};default:throw new Error("unknown key id "+c)}case"RSA PUBLIC KEY":return m.RSAPublicKey.decode(a,"der");case"RSA PRIVATE KEY":return m.RSAPrivateKey.decode(a,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:m.DSAPrivateKey.decode(a,"der")};case"EC PRIVATE KEY":return{curve:(a=m.ECPrivateKey.decode(a,"der")).parameters.value,privateKey:a.privateKey};default:throw new Error("unknown key type "+r)}}var m=d("./asn1"),_=d("./aesid.json"),n=d("./fixProc"),g=d("browserify-aes"),h=d("pbkdf2"),s=d("safe-buffer").Buffer;N.exports=f,f.signature=m.signature},{"./aesid.json":179,"./asn1":180,"./fixProc":182,"browserify-aes":45,pbkdf2:186,"safe-buffer":235}],184:[function(d,N,A){(function(f){(function(){function b(C){if("string"==typeof C&&/^(stream-)?magnet:/.test(C)){const z=c(C);if(!z.infoHash)throw new Error("Invalid torrent identifier");return z}if("string"==typeof C&&(/^[a-f0-9]{40}$/i.test(C)||/^[a-z2-7]{32}$/i.test(C)))return c(`magnet:?xt=urn:btih:${C}`);if(f.isBuffer(C)&&20===C.length)return c(`magnet:?xt=urn:btih:${C.toString("hex")}`);if(f.isBuffer(C))return function _(C){f.isBuffer(C)&&(C=o.decode(C)),u(C.info,"info"),u(C.info["name.utf-8"]||C.info.name,"info.name"),u(C.info["piece length"],"info['piece length']"),u(C.info.pieces,"info.pieces"),C.info.files?C.info.files.forEach(V=>{u("number"==typeof V.length,"info.files[0].length"),u(V["path.utf-8"]||V.path,"info.files[0].path")}):u("number"==typeof C.info.length,"info.length");const z={info:C.info,infoBuffer:o.encode(C.info),name:(C.info["name.utf-8"]||C.info.name).toString(),announce:[]};z.infoHash=w.sync(z.infoBuffer),z.infoHashBuffer=f.from(z.infoHash,"hex"),void 0!==C.info.private&&(z.private=!!C.info.private),C["creation date"]&&(z.created=new Date(1e3*C["creation date"])),C["created by"]&&(z.createdBy=C["created by"].toString()),f.isBuffer(C.comment)&&(z.comment=C.comment.toString()),Array.isArray(C["announce-list"])&&0<C["announce-list"].length?C["announce-list"].forEach(V=>{V.forEach($=>{z.announce.push($.toString())})}):C.announce&&z.announce.push(C.announce.toString()),f.isBuffer(C["url-list"])&&(C["url-list"]=0<C["url-list"].length?[C["url-list"]]:[]),z.urlList=(C["url-list"]||[]).map(V=>V.toString()),z.announce=Array.from(new Set(z.announce)),z.urlList=Array.from(new Set(z.urlList));const k=C.info.files||[C.info];z.files=k.map((V,$)=>{const oe=[].concat(z.name,V["path.utf-8"]||V.path||[]).map(ue=>ue.toString());return{path:l.join.apply(null,[l.sep].concat(oe)).slice(1),name:oe[oe.length-1],length:V.length,offset:k.slice(0,$).reduce(h,0)}}),z.length=k.reduce(h,0);const I=z.files[z.files.length-1];return z.pieceLength=C.info["piece length"],z.lastPieceLength=(I.offset+I.length)%z.pieceLength||z.pieceLength,z.pieces=function s(C){const z=[];for(let k=0;k<C.length;k+=20)z.push(C.slice(k,k+20).toString("hex"));return z}(C.info.pieces),z}(C);if(C&&C.infoHash)return C.infoHash=C.infoHash.toLowerCase(),C.announce||(C.announce=[]),"string"==typeof C.announce&&(C.announce=[C.announce]),C.urlList||(C.urlList=[]),C;throw new Error("Invalid torrent identifier")}function h(C,z){return C+z.length}function u(C,z){if(!C)throw new Error(`Torrent is missing required field: ${z}`)}const o=d("bencode"),t=d("blob-to-buffer"),r=d("fs"),a=d("simple-get"),c=d("magnet-uri"),l=d("path"),w=d("simple-sha1"),E=d("queue-microtask");N.exports=b,N.exports.remote=function m(C,z,k){function I($){try{V=b($)}catch(oe){return k(oe)}V&&V.infoHash?k(null,V):k(new Error("Invalid torrent identifier"))}if("function"==typeof z)return m(C,{},z);if("function"!=typeof k)throw new Error("second argument must be a Function");let V;try{V=b(C)}catch{}V&&V.infoHash?E(()=>{k(null,V)}):function g(C){return typeof Blob<"u"&&C instanceof Blob}(C)?t(C,($,oe)=>$?k(new Error(`Error converting Blob: ${$.message}`)):void I(oe)):"function"==typeof a&&/^https?:/.test(C)?(z=Object.assign({url:C,timeout:3e4,headers:{"user-agent":"WebTorrent (https://webtorrent.io)"}},z),a.concat(z,($,oe,ue)=>$?k(new Error(`Error downloading torrent: ${$.message}`)):void I(ue))):"function"==typeof r.readFile&&"string"==typeof C?r.readFile(C,($,oe)=>$?k(new Error("Invalid torrent identifier")):void I(oe)):E(()=>{k(new Error("Invalid torrent identifier"))})},N.exports.toMagnetURI=c.encode,N.exports.toTorrentFile=function n(C){const z={info:C.info};return z["announce-list"]=(C.announce||[]).map(k=>(z.announce||(z.announce=k),[k=f.from(k,"utf8")])),z["url-list"]=C.urlList||[],void 0!==C.private&&(z.private=+C.private),C.created&&(z["creation date"]=0|C.created.getTime()/1e3),C.createdBy&&(z["created by"]=C.createdBy),C.comment&&(z.comment=C.comment),o.encode(z)},f.alloc(0)}).call(this)}).call(this,d("buffer").Buffer)},{bencode:27,"blob-to-buffer":37,buffer:76,fs:42,"magnet-uri":158,path:185,"queue-microtask":206,"simple-get":246,"simple-sha1":248}],185:[function(d,N,A){(function(f){(function(){"use strict";function b(g){if("string"!=typeof g)throw new TypeError("Path must be a string. Received "+JSON.stringify(g))}function m(g,h){for(var a,s="",u=0,o=-1,t=0,r=0;r<=g.length;++r){if(r<g.length)a=g.charCodeAt(r);else{if(47===a)break;a=47}if(47===a){if(o!==r-1&&1!==t)if(o!==r-1&&2===t){if(2>s.length||2!==u||46!==s.charCodeAt(s.length-1)||46!==s.charCodeAt(s.length-2))if(2<s.length){var c=s.lastIndexOf("/");if(c!==s.length-1){-1===c?(s="",u=0):u=(s=s.slice(0,c)).length-1-s.lastIndexOf("/"),o=r,t=0;continue}}else if(2===s.length||1===s.length){s="",u=0,o=r,t=0;continue}h&&(0<s.length?s+="/..":s="..",u=2)}else 0<s.length?s+="/"+g.slice(o+1,r):s=g.slice(o+1,r),u=r-o-1;o=r,t=0}else 46===a&&-1!==t?++t:t=-1}return s}var n={resolve:function(){for(var o,h="",s=!1,u=arguments.length-1;-1<=u&&!s;u--){var t;0<=u?t=arguments[u]:(void 0===o&&(o=f.cwd()),t=o),b(t),0!==t.length&&(h=t+"/"+h,s=47===t.charCodeAt(0))}return h=m(h,!s),s?0<h.length?"/"+h:"/":0<h.length?h:"."},normalize:function(h){if(b(h),0===h.length)return".";var s=47===h.charCodeAt(0),u=47===h.charCodeAt(h.length-1);return 0!==(h=m(h,!s)).length||s||(h="."),0<h.length&&u&&(h+="/"),s?"/"+h:h},isAbsolute:function(h){return b(h),0<h.length&&47===h.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var s,u,h=0;h<arguments.length;++h)b(u=arguments[h]),0<u.length&&(void 0===s?s=u:s+="/"+u);return void 0===s?".":n.normalize(s)},relative:function(h,s){if(b(h),b(s),h===s||(h=n.resolve(h))===(s=n.resolve(s)))return"";for(var u=1;u<h.length&&47===h.charCodeAt(u);++u);for(var o=h.length,t=o-u,r=1;r<s.length&&47===s.charCodeAt(r);++r);for(var c=s.length-r,l=t<c?t:c,w=-1,E=0;E<=l;++E){if(E===l){if(c>l){if(47===s.charCodeAt(r+E))return s.slice(r+E+1);if(0===E)return s.slice(r+E)}else t>l&&(47===h.charCodeAt(u+E)?w=E:0===E&&(w=0));break}var C=h.charCodeAt(u+E);if(C!==s.charCodeAt(r+E))break;47===C&&(w=E)}var k="";for(E=u+w+1;E<=o;++E)(E===o||47===h.charCodeAt(E))&&(k+=0===k.length?"..":"/..");return 0<k.length?k+s.slice(r+w):(47===s.charCodeAt(r+=w)&&++r,s.slice(r))},_makeLong:function(h){return h},dirname:function(h){if(b(h),0===h.length)return".";for(var s=h.charCodeAt(0),u=47===s,o=-1,t=!0,r=h.length-1;1<=r;--r)if(47!==(s=h.charCodeAt(r)))t=!1;else if(!t){o=r;break}return-1===o?u?"/":".":u&&1===o?"//":h.slice(0,o)},basename:function(h,s){if(void 0!==s&&"string"!=typeof s)throw new TypeError('"ext" argument must be a string');b(h);var r,u=0,o=-1,t=!0;if(void 0!==s&&0<s.length&&s.length<=h.length){if(s.length===h.length&&s===h)return"";var a=s.length-1,c=-1;for(r=h.length-1;0<=r;--r){var l=h.charCodeAt(r);if(47!==l)-1===c&&(t=!1,c=r+1),0<=a&&(l===s.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=c));else if(!t){u=r+1;break}}return u===o?o=c:-1===o&&(o=h.length),h.slice(u,o)}for(r=h.length-1;0<=r;--r)if(47!==h.charCodeAt(r))-1===o&&(t=!1,o=r+1);else if(!t){u=r+1;break}return-1===o?"":h.slice(u,o)},extname:function(h){b(h);for(var c,s=-1,u=0,o=-1,t=!0,r=0,a=h.length-1;0<=a;--a)if(47!==(c=h.charCodeAt(a)))-1===o&&(t=!1,o=a+1),46===c?-1===s?s=a:1!==r&&(r=1):-1!==s&&(r=-1);else if(!t){u=a+1;break}return-1===s||-1===o||0===r||1===r&&s===o-1&&s===u+1?"":h.slice(s,o)},format:function(h){if(null===h||"object"!=typeof h)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof h);return function _(g,h){var s=h.dir||h.root,u=h.base||(h.name||"")+(h.ext||"");return s?s===h.root?s+u:s+g+u:u}("/",h)},parse:function(h){b(h);var s={root:"",dir:"",base:"",ext:"",name:""};if(0===h.length)return s;var t,u=h.charCodeAt(0),o=47===u;o?(s.root="/",t=1):t=0;for(var r=-1,a=0,c=-1,l=!0,w=h.length-1,E=0;w>=t;--w)if(47!==(u=h.charCodeAt(w)))-1===c&&(l=!1,c=w+1),46===u?-1===r?r=w:1!==E&&(E=1):-1!==r&&(E=-1);else if(!l){a=w+1;break}return-1===r||-1===c||0===E||1===E&&r===c-1&&r===a+1?-1!==c&&(s.base=s.name=h.slice(0===a&&o?1:a,c)):(0===a&&o?(s.name=h.slice(1,r),s.base=h.slice(1,c)):(s.name=h.slice(a,r),s.base=h.slice(a,c)),s.ext=h.slice(r,c)),0<a?s.dir=h.slice(0,a-1):o&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,N.exports=n}).call(this)}).call(this,d("_process"))},{_process:193}],186:[function(d,N,A){A.pbkdf2=d("./lib/async"),A.pbkdf2Sync=d("./lib/sync")},{"./lib/async":187,"./lib/sync":190}],187:[function(d,N,A){(function(f){(function(){function m(){return l||(l=f.process&&f.process.nextTick?f.process.nextTick:f.queueMicrotask?f.queueMicrotask:f.setImmediate?f.setImmediate:f.setTimeout)}function _(w,E,C,z,k){return t.importKey("raw",w,{name:"PBKDF2"},!1,["deriveBits"]).then(function(I){return t.deriveBits({name:"PBKDF2",salt:E,iterations:C,hash:{name:k}},I,z<<3)}).then(function(I){return g.from(I)})}var c,l,g=d("safe-buffer").Buffer,h=d("./precondition"),s=d("./default-encoding"),u=d("./sync"),o=d("./to-buffer"),t=f.crypto&&f.crypto.subtle,r={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},a=[];N.exports=function(w,E,C,z,k,I){"function"==typeof k&&(I=k,k=void 0);var V=r[(k=k||"sha1").toLowerCase()];if(V&&"function"==typeof f.Promise){if(h(C,z),w=o(w,s,"Password"),E=o(E,s,"Salt"),"function"!=typeof I)throw new Error("No callback provided to pbkdf2");!function n(w,E){w.then(function(C){m()(function(){E(null,C)})},function(C){m()(function(){E(C)})})}(function b(w){if(f.process&&!f.process.browser||!t||!t.importKey||!t.deriveBits)return Promise.resolve(!1);if(void 0!==a[w])return a[w];var E=_(c=c||g.alloc(8),c,10,128,w).then(function(){return!0}).catch(function(){return!1});return a[w]=E,E}(V).then(function($){return $?_(w,E,C,z,V):u(w,E,C,z,k)}),I)}else m()(function(){var $;try{$=u(w,E,C,z,k)}catch(oe){return I(oe)}I(null,$)})}}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"./default-encoding":188,"./precondition":189,"./sync":190,"./to-buffer":191,"safe-buffer":235}],188:[function(d,N,A){(function(f,b){(function(){var m;m=b.process&&b.process.browser?"utf-8":b.process&&b.process.version?6<=parseInt(f.version.split(".")[0].slice(1),10)?"utf-8":"binary":"utf-8",N.exports=m}).call(this)}).call(this,d("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{_process:193}],189:[function(d,N,A){H(2,30),N.exports=function(b,m){if("number"!=typeof b)throw new TypeError("Iterations not a number");if(0>b)throw new TypeError("Bad iterations");if("number"!=typeof m)throw new TypeError("Key length not a number");if(0>m||1073741823<m||m!=m)throw new TypeError("Bad key length")}},{}],190:[function(d,N,A){function f(a,c,l){var w=function b(a){return"rmd160"===a||"ripemd160"===a?function l(w){return(new n).update(w).digest()}:"md5"===a?_:function c(w){return g(a).update(w).digest()}}(a),E="sha512"===a||"sha384"===a?128:64;c.length>E?c=w(c):c.length<E&&(c=h.concat([c,t],E));for(var C=h.allocUnsafe(E+r[a]),z=h.allocUnsafe(E+r[a]),k=0;k<E;k++)C[k]=54^c[k],z[k]=92^c[k];var I=h.allocUnsafe(E+l+4);C.copy(I,0,0,E),this.ipad1=I,this.ipad2=C,this.opad=z,this.alg=a,this.blocksize=E,this.hash=w,this.size=r[a]}var _=d("create-hash/md5"),n=d("ripemd160"),g=d("sha.js"),h=d("safe-buffer").Buffer,s=d("./precondition"),u=d("./default-encoding"),o=d("./to-buffer"),t=h.alloc(128),r={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};f.prototype.run=function(a,c){return a.copy(c,this.blocksize),this.hash(c).copy(this.opad,this.blocksize),this.hash(this.opad)},N.exports=function m(a,c,l,w,E){s(l,w);var C=new f(E=E||"sha1",a=o(a,u,"Password"),(c=o(c,u,"Salt")).length),z=h.allocUnsafe(w),k=h.allocUnsafe(c.length+4);c.copy(k,0,0,c.length);for(var I=0,V=r[E],$=_e(w/V),oe=1;oe<=$;oe++){k.writeUInt32BE(oe,c.length);for(var ue=C.run(k,C.ipad1),Ae=ue,X=1;X<l;X++){Ae=C.run(Ae,C.ipad2);for(var T=0;T<V;T++)ue[T]^=Ae[T]}ue.copy(z,I),I+=V}return z}},{"./default-encoding":188,"./precondition":189,"./to-buffer":191,"create-hash/md5":86,ripemd160:231,"safe-buffer":235,"sha.js":238}],191:[function(d,N,A){var f=d("safe-buffer").Buffer;N.exports=function(b,m,_){if(f.isBuffer(b))return b;if("string"==typeof b)return f.from(b,m);if(ArrayBuffer.isView(b))return f.from(b.buffer);throw new TypeError(_+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":235}],192:[function(d,N,A){N.exports=function f(b){return pe(16384,0|1<<Math.log2(1024>b?1:b/1024)+.5)}},{}],193:[function(d,N,A){function f(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}function m(w){if(o===setTimeout)return setTimeout(w,0);if((o===f||!o)&&setTimeout)return o=setTimeout,setTimeout(w,0);try{return o(w,0)}catch{try{return o.call(null,w,0)}catch{return o.call(this,w,0)}}}function n(){a&&l&&(a=!1,l.length?r=l.concat(r):c=-1,r.length&&g())}function g(){if(!a){var w=m(n);a=!0;for(var E=r.length;E;){for(l=r,r=[];++c<E;)l&&l[c].run();c=-1,E=r.length}l=null,a=!1,function _(w){if(t===clearTimeout)return clearTimeout(w);if((t===b||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(w);try{t(w)}catch{try{return t.call(null,w)}catch{return t.call(this,w)}}}(w)}}function h(w,E){this.fun=w,this.array=E}function s(){}var o,t,u=N.exports={};!function(){try{o="function"==typeof setTimeout?setTimeout:f}catch{o=f}try{t="function"==typeof clearTimeout?clearTimeout:b}catch{t=b}}();var l,r=[],a=!1,c=-1;u.nextTick=function(w){var E=Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)E[C-1]=arguments[C];r.push(new h(w,E)),1!==r.length||a||m(g)},h.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.prependListener=s,u.prependOnceListener=s,u.listeners=function(w){return[]},u.binding=function(w){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(w){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],194:[function(d,N,A){A.publicEncrypt=d("./publicEncrypt"),A.privateDecrypt=d("./privateDecrypt"),A.privateEncrypt=function(b,m){return A.publicEncrypt(b,m,!0)},A.publicDecrypt=function(b,m){return A.privateDecrypt(b,m,!0)}},{"./privateDecrypt":197,"./publicEncrypt":198}],195:[function(d,N,A){function f(_){var n=m.allocUnsafe(4);return n.writeUInt32BE(_,0),n}var b=d("create-hash"),m=d("safe-buffer").Buffer;N.exports=function(_,n){for(var s,g=m.alloc(0),h=0;g.length<n;)s=f(h++),g=m.concat([g,b("sha1").update(_).update(s).digest()]);return g.slice(0,n)}},{"create-hash":85,"safe-buffer":235}],196:[function(d,N,A){arguments[4][22][0].apply(A,arguments)},{buffer:42,dup:22}],197:[function(d,N,A){var _=d("parse-asn1"),n=d("./mgf"),g=d("./xor"),h=d("bn.js"),s=d("browserify-rsa"),u=d("create-hash"),o=d("./withPublic"),t=d("safe-buffer").Buffer;N.exports=function(a,c,l){var w;w=a.padding?a.padding:l?1:4;var z,E=_(a),C=E.modulus.byteLength();if(c.length>C||0<=new h(c).cmp(E.modulus))throw new Error("decryption error");z=l?o(new h(c),E):s(c,E);var k=t.alloc(C-z.length);if(z=t.concat([k,z],C),4===w)return function f(r,a){var c=r.modulus.byteLength(),l=u("sha1").update(t.alloc(0)).digest(),w=l.length;if(0!==a[0])throw new Error("decryption error");var E=a.slice(1,w+1),C=a.slice(w+1),z=g(E,n(C,w)),k=g(C,n(z,c-w-1));if(function m(r,a){r=t.from(r),a=t.from(a);var c=0,l=r.length;r.length!==a.length&&(c++,l=ne(r.length,a.length));for(var w=-1;++w<l;)c+=r[w]^a[w];return c}(l,k.slice(0,w)))throw new Error("decryption error");for(var I=w;0===k[I];)I++;if(1!==k[I++])throw new Error("decryption error");return k.slice(I)}(E,z);if(1===w)return function b(r,a,c){for(var l=a.slice(0,2),w=2,E=0;0!==a[w++];)if(w>=a.length){E++;break}var C=a.slice(2,w-1);if(("0002"!==l.toString("hex")&&!c||"0001"!==l.toString("hex")&&c)&&E++,8>C.length&&E++,E)throw new Error("decryption error");return a.slice(w)}(0,z,l);if(3===w)return z;throw new Error("unknown padding")}},{"./mgf":195,"./withPublic":199,"./xor":200,"bn.js":196,"browserify-rsa":63,"create-hash":85,"parse-asn1":183,"safe-buffer":235}],198:[function(d,N,A){var _=d("parse-asn1"),n=d("randombytes"),g=d("create-hash"),h=d("./mgf"),s=d("./xor"),u=d("bn.js"),o=d("./withPublic"),t=d("browserify-rsa"),r=d("safe-buffer").Buffer;N.exports=function(c,l,w){var E;E=c.padding?c.padding:w?1:4;var z,C=_(c);if(4===E)z=function f(a,c){var l=a.modulus.byteLength(),w=c.length,E=g("sha1").update(r.alloc(0)).digest(),C=E.length,z=2*C;if(w>l-z-2)throw new Error("message too long");var k=r.alloc(l-w-z-2),I=l-C-1,V=n(C),$=s(r.concat([E,k,r.alloc(1,1),c],I),h(V,I)),oe=s(V,h($,C));return new u(r.concat([r.alloc(1),oe,$],l))}(C,l);else if(1===E)z=function b(a,c,l){var C,w=c.length,E=a.modulus.byteLength();if(w>E-11)throw new Error("message too long");return C=l?r.alloc(E-w-3,255):function m(a){for(var C,c=r.allocUnsafe(a),l=0,w=n(2*a),E=0;l<a;)E===w.length&&(w=n(2*a),E=0),(C=w[E++])&&(c[l++]=C);return c}(E-w-3),new u(r.concat([r.from([0,l?1:2]),C,r.alloc(1),c],E))}(C,l,w);else{if(3!==E)throw new Error("unknown padding");if(0<=(z=new u(l)).cmp(C.modulus))throw new Error("data too long for modulus")}return w?t(z,C):o(z,C)}},{"./mgf":195,"./withPublic":199,"./xor":200,"bn.js":196,"browserify-rsa":63,"create-hash":85,"parse-asn1":183,randombytes:209,"safe-buffer":235}],199:[function(d,N,A){var b=d("bn.js"),m=d("safe-buffer").Buffer;N.exports=function f(_,n){return m.from(_.toRed(b.mont(n.modulus)).redPow(new b(n.publicExponent)).fromRed().toArray())}},{"bn.js":196,"safe-buffer":235}],200:[function(d,N,A){N.exports=function(b,m){for(var _=b.length,n=-1;++n<_;)b[n]^=m[n];return b}},{}],201:[function(d,N,A){(function(f){(function(){var b=d("once"),m=d("end-of-stream"),_=d("fs"),n=function(){},g=/^v?\.0/.test(f.version),h=function(c){return"function"==typeof c},o=function(c,l,w,E){E=b(E);var C=!1;c.on("close",function(){C=!0}),m(c,{readable:l,writable:w},function(k){return k?E(k):(C=!0,void E())});var z=!1;return function(k){if(!C)return z?void 0:(z=!0,function(c){return!!g&&!!_&&(c instanceof(_.ReadStream||n)||c instanceof(_.WriteStream||n))&&h(c.close)}(c)?c.close(n):function(c){return c.setHeader&&h(c.abort)}(c)?c.abort():h(c.destroy)?c.destroy():void E(k||new Error("stream was destroyed")))}},t=function(c){c()},r=function(c,l){return c.pipe(l)};N.exports=function(){var c=Array.prototype.slice.call(arguments),l=h(c[c.length-1]||n)&&c.pop()||n;if(Array.isArray(c[0])&&(c=c[0]),2>c.length)throw new Error("pump requires two streams per minimum");var E,w=c.map(function(C,z){var k=z<c.length-1;return o(C,k,0<z,function(V){E||(E=V),V&&w.forEach(t),k||(w.forEach(t),l(E))})});return c.reduce(r)}}).call(this)}).call(this,d("_process"))},{_process:193,"end-of-stream":121,fs:42,once:178}],202:[function(d,N,A){(function(f){(function(){!function(b){function m(Y){throw new RangeError(M[Y])}function _(Y,se){for(var Ee=Y.length,Se=[];Ee--;)Se[Ee]=se(Y[Ee]);return Se}function n(Y,se){var Ee=Y.split("@"),Se="";return 1<Ee.length&&(Se=Ee[0]+"@",Y=Ee[1]),Se+_((Y=Y.replace(D,".")).split("."),se).join(".")}function g(Y){for(var Ie,Qe,se=[],Ee=0,Se=Y.length;Ee<Se;)55296<=(Ie=Y.charCodeAt(Ee++))&&56319>=Ie&&Ee<Se?56320==(64512&(Qe=Y.charCodeAt(Ee++)))?se.push(((1023&Ie)<<10)+(1023&Qe)+65536):(se.push(Ie),Ee--):se.push(Ie);return se}function h(Y){return _(Y,function(se){var Ee="";return 65535<se&&(Ee+=F(55296|1023&(se-=65536)>>>10),se=56320|1023&se),Ee+F(se)}).join("")}function s(Y){return 10>Y-48?Y-22:26>Y-65?Y-65:26>Y-97?Y-97:36}function u(Y,se){return Y+22+75*(26>Y)-((0!=se)<<5)}function o(Y,se,Ee){var Se=0;for(Y=Ee?B(Y/700):Y>>1,Y+=B(Y/se);455<Y;Se+=36)Y=B(Y/35);return B(Se+36*Y/(Y+38))}function t(Y){var Je,ut,$t,qt,tt,at,nt,Yt,Tn,J,se=[],Ee=Y.length,Se=0,Ie=128,Qe=72;for(0>(ut=Y.lastIndexOf("-"))&&(ut=0),$t=0;$t<ut;++$t)128<=Y.charCodeAt($t)&&m("not-basic"),se.push(Y.charCodeAt($t));for(qt=0<ut?ut+1:0;qt<Ee;){for(tt=Se,at=1,nt=36;qt>=Ee&&m("invalid-input"),(36<=(Yt=s(Y.charCodeAt(qt++)))||Yt>B((2147483647-Se)/at))&&m("overflow"),Se+=Yt*at,!(Yt<(Tn=nt<=Qe?1:nt>=Qe+26?26:nt-Qe));nt+=36)at>B(2147483647/(J=36-Tn))&&m("overflow"),at*=J;Qe=o(Se-tt,Je=se.length+1,0==tt),B(Se/Je)>2147483647-Ie&&m("overflow"),Ie+=B(Se/Je),Se%=Je,se.splice(Se++,0,Ie)}return h(se)}function r(Y){var Ee,Se,Ie,Qe,Je,ut,$t,qt,tt,at,nt,Yt,Tn,J,O,se=[];for(Yt=(Y=g(Y)).length,Ee=128,Se=0,Je=72,ut=0;ut<Yt;++ut)128>(nt=Y[ut])&&se.push(F(nt));for(Ie=Qe=se.length,Qe&&se.push("-");Ie<Yt;){for($t=2147483647,ut=0;ut<Yt;++ut)(nt=Y[ut])>=Ee&&nt<$t&&($t=nt);for($t-Ee>B((2147483647-Se)/(Tn=Ie+1))&&m("overflow"),Se+=($t-Ee)*Tn,Ee=$t,ut=0;ut<Yt;++ut)if((nt=Y[ut])<Ee&&2147483647<++Se&&m("overflow"),nt==Ee){for(qt=Se,tt=36;!(qt<(at=tt<=Je?1:tt>=Je+26?26:tt-Je));tt+=36)se.push(F(u(at+(O=qt-at)%(J=36-at),0))),qt=B(O/J);se.push(F(u(qt,0))),Je=o(Se,Tn,Ie==Qe),Se=0,++Ie}++Se,++Ee}return se.join("")}var l="object"==typeof A&&A&&!A.nodeType&&A,w="object"==typeof N&&N&&!N.nodeType&&N,E="object"==typeof f&&f;(E.global===E||E.window===E||E.self===E)&&(b=E);var q,L,X=/^xn--/,T=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=xt,F=te;if(q={version:"1.4.1",ucs2:{decode:g,encode:h},decode:t,encode:r,toASCII:function c(Y){return n(Y,function(se){return T.test(se)?"xn--"+r(se):se})},toUnicode:function a(Y){return n(Y,function(se){return X.test(se)?t(se.slice(4).toLowerCase()):se})}},l&&w)if(N.exports==l)w.exports=q;else for(L in q)q.hasOwnProperty(L)&&(l[L]=q[L]);else b.punycode=q}(this)}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],203:[function(d,N,A){"use strict";function f(m,_){return Object.prototype.hasOwnProperty.call(m,_)}N.exports=function(m,_,n,g){n=n||"=";var h={};if("string"!=typeof m||0===m.length)return h;var s=/\+/g;m=m.split(_=_||"&");var u=1e3;g&&"number"==typeof g.maxKeys&&(u=g.maxKeys);var o=m.length;0<u&&o>u&&(o=u);for(var t=0;t<o;++t){var c,l,w,E,r=m[t].replace(s,"%20"),a=r.indexOf(n);0<=a?(c=r.substr(0,a),l=r.substr(a+1)):(c=r,l=""),w=decodeURIComponent(c),E=decodeURIComponent(l),f(h,w)?b(h[w])?h[w].push(E):h[w]=[h[w],E]:h[w]=E}return h};var b=Array.isArray||function(m){return"[object Array]"===Object.prototype.toString.call(m)}},{}],204:[function(d,N,A){"use strict";function f(n,g){if(n.map)return n.map(g);for(var h=[],s=0;s<n.length;s++)h.push(g(n[s],s));return h}var b=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};N.exports=function(n,g,h,s){return g=g||"&",h=h||"=",null===n&&(n=void 0),"object"==typeof n?f(_(n),function(u){var o=encodeURIComponent(b(u))+h;return m(n[u])?f(n[u],function(t){return o+encodeURIComponent(b(t))}).join(g):o+encodeURIComponent(b(n[u]))}).join(g):s?encodeURIComponent(b(s))+h+encodeURIComponent(b(n)):""};var m=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)},_=Object.keys||function(n){var g=[];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&g.push(h);return g}},{}],205:[function(d,N,A){"use strict";A.decode=A.parse=d("./decode"),A.encode=A.stringify=d("./encode")},{"./decode":203,"./encode":204}],206:[function(d,N,A){(function(f){(function(){let b;N.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window>"u"?f:window):m=>(b||(b=Promise.resolve())).then(m).catch(_=>setTimeout(()=>{throw _},0))}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],207:[function(d,N,A){N.exports="function"==typeof queueMicrotask?queueMicrotask:f=>Promise.resolve().then(f)},{}],208:[function(d,N,A){N.exports=function(b){var m=0;return function(){if(m===b.length)return null;var _=b.length-m,n=0|Math.random()*_,g=b[m+n],h=b[m];return b[m]=g,b[m+n]=h,m++,g}}},{}],209:[function(d,N,A){(function(f,b){(function(){"use strict";var h=d("safe-buffer").Buffer,s=b.crypto||b.msCrypto;N.exports=s&&s.getRandomValues?function _(u,o){if(u>4294967295)throw new RangeError("requested too many random bytes");var t=h.allocUnsafe(u);if(0<u)if(65536<u)for(var r=0;r<u;r+=65536)s.getRandomValues(t.slice(r,r+65536));else s.getRandomValues(t);return"function"==typeof o?f.nextTick(function(){o(null,t)}):t}:function m(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this)}).call(this,d("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{_process:193,"safe-buffer":235}],210:[function(d,N,A){(function(f,b){(function(){"use strict";function m(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function _(l,w){if("number"!=typeof l||l!=l)throw new TypeError("offset must be a number");if(4294967295<l||0>l)throw new TypeError("offset must be a uint32");if(l>r||l>w)throw new RangeError("offset out of range")}function n(l,w,E){if("number"!=typeof l||l!=l)throw new TypeError("size must be a number");if(4294967295<l||0>l)throw new TypeError("size must be a uint32");if(l+w>E||l>r)throw new RangeError("buffer too small")}function h(l,w,E,C){if(f.browser){var k=new Uint8Array(l.buffer,w,E);return a.getRandomValues(k),C?void f.nextTick(function(){C(null,l)}):l}if(!C)return o(E).copy(l,w),l;o(E,function(V,$){return V?C(V):($.copy(l,w),void C(null,l))})}var u=d("safe-buffer"),o=d("randombytes"),t=u.Buffer,r=u.kMaxLength,a=b.crypto||b.msCrypto;H(2,32),a&&a.getRandomValues||!f.browser?(A.randomFill=function g(l,w,E,C){if(!(t.isBuffer(l)||l instanceof b.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof w)C=w,w=0,E=l.length;else if("function"==typeof E)C=E,E=l.length-w;else if("function"!=typeof C)throw new TypeError('"cb" argument must be a function');return _(w,l.length),n(E,w,l.length),h(l,w,E,C)},A.randomFillSync=function s(l,w,E){if(typeof w>"u"&&(w=0),!(t.isBuffer(l)||l instanceof b.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return _(w,l.length),void 0===E&&(E=l.length-w),n(E,w,l.length),h(l,w,E)}):(A.randomFill=m,A.randomFillSync=m)}).call(this)}).call(this,d("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{_process:193,randombytes:209,"safe-buffer":235}],211:[function(d,N,A){"use strict";function m(h,s){return{start:h.start,end:h.end,index:s}}function _(h){return{start:h.start,end:h.end}}function n(h,s){return h.index-s.index}function g(h,s){return h.start-s.start}N.exports=function f(h,s,u){if("string"!=typeof s)throw new TypeError("argument str must be a string");var o=s.indexOf("=");if(-1===o)return-2;var t=s.slice(o+1).split(","),r=[];r.type=s.slice(0,o);for(var a=0;a<t.length;a++){var c=t[a].split("-"),l=parseInt(c[0],10),w=parseInt(c[1],10);isNaN(l)?(l=h-w,w=h-1):isNaN(w)&&(w=h-1),w>h-1&&(w=h-1),!(isNaN(l)||isNaN(w)||l>w||0>l)&&r.push({start:l,end:w})}return 1>r.length?-1:u&&u.combine?function b(h){for(var s=h.map(m).sort(g),u=0,o=1;o<s.length;o++){var t=s[o],r=s[u];t.start>r.end+1?s[++u]=t:t.end>r.end&&(r.end=t.end,r.index=ne(r.index,t.index))}s.length=u+1;var a=s.sort(n).map(_);return a.type=h.type,a}(r):r}},{}],212:[function(d,N,A){const{Writable:f,PassThrough:b}=d("readable-stream");N.exports=class m extends f{constructor(n,g={}){super(g),this.destroyed=!1,this._queue=[],this._position=n||0,this._cb=null,this._buffer=null,this._out=null}_write(n,g,h){let s=!0;for(;;){if(this.destroyed)return;if(0===this._queue.length)return this._buffer=n,void(this._cb=h);this._buffer=null;var u=this._queue[0];const o=pe(u.start-this._position,0),t=u.end-this._position;if(o>=n.length)return this._position+=n.length,h(null);let r;if(t>n.length){this._position+=n.length,r=0===o?n:n.slice(o),s=u.stream.write(r)&&s;break}this._position+=t,r=0===o&&t===n.length?n:n.slice(o,t),s=u.stream.write(r)&&s,u.last&&u.stream.end(),n=n.slice(t),this._queue.shift()}s?h(null):u.stream.once("drain",h.bind(null,null))}slice(n){if(this.destroyed)return null;Array.isArray(n)||(n=[n]);const g=new b;return n.forEach((h,s)=>{this._queue.push({start:h.start,end:h.end,stream:g,last:s===n.length-1})}),this._buffer&&this._write(this._buffer,null,this._cb),g}destroy(n){this.destroyed||(this.destroyed=!0,n&&this.emit("error",n))}}},{"readable-stream":228}],213:[function(d,N,A){"use strict";function f(u){return parseInt(u,10)===u}function b(u){function r(a){this.s=function t(a){if(void 0===a){a=Array(u);for(var c=0;c<u;c++)a[c]=xt(Math.random()*u)}else if("string"==typeof a)a=(a=""+a).split("").map(function(k){return k.charCodeAt(0)%u});else{if(!Array.isArray(a))throw new TypeError("invalid seed key specified");if(!a.every(function(k){return"number"==typeof k&&k===(0|k)}))throw new TypeError("invalid seed key specified: not array of integers")}for(var l=a.length,w=function o(){for(var a=Array(u),c=0;c<u;c++)a[c]=c;return a}(),E=0,C=0;C<u;C++){var z=w[C];w[C]=w[E=(E+w[C]+a[C%l])%u],w[E]=z}return w}(a),this.i=0,this.j=0}return r.prototype.randomNative=function(){this.i=(this.i+1)%u,this.j=(this.j+this.s[this.i])%u;var a=this.s[this.i];return this.s[this.i]=this.s[this.j],this.s[this.j]=a,this.s[(this.s[this.i]+this.s[this.j])%u]},r.prototype.randomUInt32=function(){return 256*(256*(256*this.randomByte()+this.randomByte())+this.randomByte())+this.randomByte()},r.prototype.randomFloat=function(){return this.randomUInt32()/4294967296},r.prototype.random=function(){var a,c;if(1===arguments.length)a=0,c=arguments[0];else{if(2!==arguments.length)throw new TypeError("random takes one or two integer arguments");a=arguments[0],c=arguments[1]}if(!f(a)||!f(c))throw new TypeError("random takes one or two integer arguments");return a+this.randomUInt32()%(c-a+1)},r.prototype.currentState=function(){return{i:this.i,j:this.j,s:this.s.slice()}},r.prototype.setState=function(a){var c=a.s,l=a.i,w=a.j;if(!(l===(0|l)&&0<=l&&l<u))throw new Error("state.i should be integer [0, "+(u-1)+"]");if(!(w===(0|w)&&0<=w&&w<u))throw new Error("state.j should be integer [0, "+(u-1)+"]");if(!Array.isArray(c)||c.length!==u)throw new Error("state should be array of length "+u);for(var E=0;E<u;E++)if(-1===c.indexOf(E))throw new Error("state should be permutation of 0.."+(u-1)+": "+E+" is missing");this.i=l,this.j=w,this.s=c.slice()},r}function m(u){return te(10>u?48+u:97+u-10)}function _(u){return parseInt(u,16)}var n=b(256);n.prototype.randomByte=n.prototype.randomNative;var g=b(16);g.prototype.randomByte=function(){return 16*this.randomNative()+this.randomNative()},g.prototype.currentStateString=function(){var u=this.currentState();return m(u.i)+m(u.j)+u.s.map(m).join("")},g.prototype.setStateString=function(u){if(!u.match(/^[0-9a-f]{18}$/))throw new TypeError("RC4small stateString should be 18 hex character string");var o=_(u[0]),t=_(u[1]),r=u.split("").slice(2).map(_);this.setState({i:o,j:t,s:r})},n.RC4small=g,N.exports=n},{}],214:[function(d,N,A){"use strict";function b(s,u,o){o||(o=Error);var r=function(a){function c(l,w,E){return a.call(this,function t(a,c,l){return"string"==typeof u?u:u(a,c,l)}(l,w,E))||this}return function f(s,u){s.prototype=Object.create(u.prototype),s.prototype.constructor=s,s.__proto__=u}(c,a),c}(o);r.prototype.name=o.name,r.prototype.code=s,h[s]=r}function m(s,u){if(Array.isArray(s)){var o=s.length;return s=s.map(function(t){return t+""}),2<o?"one of ".concat(u," ").concat(s.slice(0,o-1).join(", "),", or ")+s[o-1]:2===o?"one of ".concat(u," ").concat(s[0]," or ").concat(s[1]):"of ".concat(u," ").concat(s[0])}return"of ".concat(u," ").concat(s+"")}var h={};b("ERR_INVALID_OPT_VALUE",function(s,u){return'The value "'+u+'" is invalid for option "'+s+'"'},TypeError),b("ERR_INVALID_ARG_TYPE",function(s,u,o){var t,r;if("string"==typeof u&&function _(s,u,o){return s.substr(!o||0>o?0:+o,u.length)===u}(u,"not ")?(t="must not be",u=u.replace(/^not /,"")):t="must be",function n(s,u,o){return(void 0===o||o>s.length)&&(o=s.length),s.substring(o-u.length,o)===u}(s," argument"))r="The ".concat(s," ").concat(t," ").concat(m(u,"type"));else{var a=function g(s,u,o){return"number"!=typeof o&&(o=0),!(o+u.length>s.length)&&-1!==s.indexOf(u,o)}(s,".")?"property":"argument";r='The "'.concat(s,'" ').concat(a," ").concat(t," ").concat(m(u,"type"))}return r+". Received type ".concat(typeof o)},TypeError),b("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),b("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),b("ERR_STREAM_PREMATURE_CLOSE","Premature close"),b("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),b("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),b("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),b("ERR_STREAM_WRITE_AFTER_END","write after end"),b("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),b("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),b("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),N.exports.codes=h},{}],215:[function(d,N,A){(function(f){(function(){"use strict";function b(t){return this instanceof b?(g.call(this,t),h.call(this,t),this.allowHalfOpen=!0,void(t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",m))))):new b(t)}function m(){this._writableState.ended||f.nextTick(_,this)}function _(t){t.end()}var n=Object.keys||function(t){var r=[];for(var a in t)r.push(a);return r};N.exports=b;var g=d("./_stream_readable"),h=d("./_stream_writable");d("inherits")(b,g);for(var o,s=n(h.prototype),u=0;u<s.length;u++)b.prototype[o=s[u]]||(b.prototype[o]=h.prototype[o]);Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(b.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(b.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(r){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=r,this._writableState.destroyed=r)}})}).call(this)}).call(this,d("_process"))},{"./_stream_readable":217,"./_stream_writable":219,_process:193,inherits:147}],216:[function(d,N,A){"use strict";function f(m){return this instanceof f?void b.call(this,m):new f(m)}N.exports=f;var b=d("./_stream_transform");d("inherits")(f,b),f.prototype._transform=function(m,_,n){n(null,m)}},{"./_stream_transform":218,inherits:147}],217:[function(d,N,A){(function(f,b){(function(){"use strict";function g(J,O,W){T=T||d("./_stream_duplex"),"boolean"!=typeof W&&(W=O instanceof T),this.objectMode=!!(J=J||{}).objectMode,W&&(this.objectMode=this.objectMode||!!J.readableObjectMode),this.highWaterMark=Se(this,J,"readableHighWaterMark",W),this.buffer=new Y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==J.emitClose,this.autoDestroy=!!J.autoDestroy,this.destroyed=!1,this.defaultEncoding=J.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,J.encoding&&(!qt&&(qt=d("string_decoder/").StringDecoder),this.decoder=new qt(J.encoding),this.encoding=J.encoding)}function h(J){if(T=T||d("./_stream_duplex"),!(this instanceof h))return new h(J);this._readableState=new g(J,this,this instanceof T),this.readable=!0,J&&("function"==typeof J.read&&(this._read=J.read),"function"==typeof J.destroy&&(this._destroy=J.destroy)),v.call(this)}function s(J,O,W,ee,ve){L("readableAddChunk",O);var ht,He=J._readableState;if(null===O)He.reading=!1,function a(J,O){if(L("onEofChunk"),!O.ended){if(O.decoder){var W=O.decoder.end();W&&W.length&&(O.buffer.push(W),O.length+=O.objectMode?1:W.length)}O.ended=!0,O.sync?c(J):(O.needReadable=!1,!O.emittedReadable&&(O.emittedReadable=!0,l(J)))}}(J,He);else if(ve||(ht=function o(J,O){var W;return function _(J){return B.isBuffer(J)||J instanceof F}(O)||"string"==typeof O||void 0===O||J.objectMode||(W=new Qe("chunk",["string","Buffer","Uint8Array"],O)),W}(He,O)),ht)nt(J,ht);else if(He.objectMode||O&&0<O.length)if("string"==typeof O||He.objectMode||Object.getPrototypeOf(O)===B.prototype||(O=function m(J){return B.from(J)}(O)),ee)He.endEmitted?nt(J,new $t):u(J,He,O,!0);else if(He.ended)nt(J,new Je);else{if(He.destroyed)return!1;He.reading=!1,He.decoder&&!W?(O=He.decoder.write(O),He.objectMode||0!==O.length?u(J,He,O,!1):w(J,He)):u(J,He,O,!1)}else ee||(He.reading=!1,w(J,He));return!He.ended&&(He.length<He.highWaterMark||0===He.length)}function u(J,O,W,ee){O.flowing&&0===O.length&&!O.sync?(O.awaitDrain=0,J.emit("data",W)):(O.length+=O.objectMode?1:W.length,ee?O.buffer.unshift(W):O.buffer.push(W),O.needReadable&&c(J)),w(J,O)}function r(J,O){return 0>=J||0===O.length&&O.ended?0:O.objectMode?1:J==J?(J>O.highWaterMark&&(O.highWaterMark=function t(J){return 1073741824<=J?J=1073741824:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++),J}(J)),J<=O.length?J:O.ended?O.length:(O.needReadable=!0,0)):O.flowing&&O.length?O.buffer.head.data.length:O.length}function c(J){var O=J._readableState;L("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(L("emitReadable",O.flowing),O.emittedReadable=!0,f.nextTick(l,J))}function l(J){var O=J._readableState;L("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(J.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,$(J)}function w(J,O){O.readingMore||(O.readingMore=!0,f.nextTick(E,J,O))}function E(J,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&0===O.length);){var W=O.length;if(L("maybeReadMore read 0"),J.read(0),W===O.length)break}O.readingMore=!1}function z(J){var O=J._readableState;O.readableListening=0<J.listenerCount("readable"),O.resumeScheduled&&!O.paused?O.flowing=!0:0<J.listenerCount("data")&&J.resume()}function k(J){L("readable nexttick read 0"),J.read(0)}function V(J,O){L("resume",O.reading),O.reading||J.read(0),O.resumeScheduled=!1,J.emit("resume"),$(J),O.flowing&&!O.reading&&J.read(0)}function $(J){var O=J._readableState;for(L("flow",O.flowing);O.flowing&&null!==J.read(););}function oe(J,O){return 0===O.length?null:(O.objectMode?W=O.buffer.shift():!J||J>=O.length?(W=O.decoder?O.buffer.join(""):1===O.buffer.length?O.buffer.first():O.buffer.concat(O.length),O.buffer.clear()):W=O.buffer.consume(J,O.decoder),W);var W}function ue(J){var O=J._readableState;L("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,f.nextTick(Ae,O,J))}function Ae(J,O){if(L("endReadableNT",J.endEmitted,J.length),!J.endEmitted&&0===J.length&&(J.endEmitted=!0,O.readable=!1,O.emit("end"),J.autoDestroy)){var W=O._writableState;(!W||W.autoDestroy&&W.finished)&&O.destroy()}}function X(J,O){for(var W=0,ee=J.length;W<ee;W++)if(J[W]===O)return W;return-1}var T;N.exports=h,h.ReadableState=g,d("events");var L,M=function(O,W){return O.listeners(W).length},v=d("./internal/streams/stream"),B=d("buffer").Buffer,F=b.Uint8Array||function(){},q=d("util");L=q&&q.debuglog?q.debuglog("stream"):function(){};var qt,tt,at,Y=d("./internal/streams/buffer_list"),se=d("./internal/streams/destroy"),Se=d("./internal/streams/state").getHighWaterMark,Ie=d("../errors").codes,Qe=Ie.ERR_INVALID_ARG_TYPE,Je=Ie.ERR_STREAM_PUSH_AFTER_EOF,ut=Ie.ERR_METHOD_NOT_IMPLEMENTED,$t=Ie.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;d("inherits")(h,v);var nt=se.errorOrDestroy,Yt=["error","close","destroy","pause","resume"];Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),h.prototype.destroy=se.destroy,h.prototype._undestroy=se.undestroy,h.prototype._destroy=function(J,O){O(J)},h.prototype.push=function(J,O){var ee,W=this._readableState;return W.objectMode?ee=!0:"string"==typeof J&&((O=O||W.defaultEncoding)!==W.encoding&&(J=B.from(J,O),O=""),ee=!0),s(this,J,O,!1,ee)},h.prototype.unshift=function(J){return s(this,J,null,!0,!1)},h.prototype.isPaused=function(){return!1===this._readableState.flowing},h.prototype.setEncoding=function(J){qt||(qt=d("string_decoder/").StringDecoder);var O=new qt(J);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,ee="";null!==W;)ee+=O.write(W.data),W=W.next;return this._readableState.buffer.clear(),""!==ee&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this},h.prototype.read=function(J){L("read",J),J=parseInt(J,10);var O=this._readableState,W=J;if(0!==J&&(O.emittedReadable=!1),0===J&&O.needReadable&&((0===O.highWaterMark?0<O.length:O.length>=O.highWaterMark)||O.ended))return L("read: emitReadable",O.length,O.ended),0===O.length&&O.ended?ue(this):c(this),null;if(0===(J=r(J,O))&&O.ended)return 0===O.length&&ue(this),null;var ve,ee=O.needReadable;return L("need readable",ee),(0===O.length||O.length-J<O.highWaterMark)&&L("length less than watermark",ee=!0),O.ended||O.reading?L("reading or ended",ee=!1):ee&&(L("do read"),O.reading=!0,O.sync=!0,0===O.length&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,!O.reading&&(J=r(W,O))),null===(ve=0<J?oe(J,O):null)?(O.needReadable=O.length<=O.highWaterMark,J=0):(O.length-=J,O.awaitDrain=0),0===O.length&&(!O.ended&&(O.needReadable=!0),W!==J&&O.ended&&ue(this)),null!==ve&&this.emit("data",ve),ve},h.prototype._read=function(J){nt(this,new ut("_read()"))},h.prototype.pipe=function(J,O){function ee(){L("onend"),J.end()}function He(Rt){L("ondata");var vr=J.write(Rt);L("dest.write",vr),!1===vr&&((1===wn.pipesCount&&wn.pipes===J||1<wn.pipesCount&&-1!==X(wn.pipes,J))&&!Dn&&(L("false write response, pause",wn.awaitDrain),wn.awaitDrain++),Ht.pause())}function ht(Rt){L("onerror",Rt),on(),J.removeListener("error",ht),0===M(J,"error")&&nt(J,Rt)}function st(){J.removeListener("finish",Jt),on()}function Jt(){L("onfinish"),J.removeListener("close",st),on()}function on(){L("unpipe"),Ht.unpipe(J)}var Ht=this,wn=this._readableState;switch(wn.pipesCount){case 0:wn.pipes=J;break;case 1:wn.pipes=[wn.pipes,J];break;default:wn.pipes.push(J)}wn.pipesCount+=1,L("pipe count=%d opts=%j",wn.pipesCount,O);var Sn=O&&!1===O.end||J===f.stdout||J===f.stderr?on:ee;wn.endEmitted?f.nextTick(Sn):Ht.once("end",Sn),J.on("unpipe",function W(Rt,vr){L("onunpipe"),Rt===Ht&&vr&&!1===vr.hasUnpiped&&(vr.hasUnpiped=!0,function ve(){L("cleanup"),J.removeListener("close",st),J.removeListener("finish",Jt),J.removeListener("drain",fr),J.removeListener("error",ht),J.removeListener("unpipe",W),Ht.removeListener("end",ee),Ht.removeListener("end",on),Ht.removeListener("data",He),Dn=!0,wn.awaitDrain&&(!J._writableState||J._writableState.needDrain)&&fr()}())});var fr=function C(J){return function(){var W=J._readableState;L("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,0===W.awaitDrain&&M(J,"data")&&(W.flowing=!0,$(J))}}(Ht);J.on("drain",fr);var Dn=!1;return Ht.on("data",He),function n(J,O,W){"function"==typeof J.prependListener?J.prependListener(O,W):J._events&&J._events[O]?Array.isArray(J._events[O])?J._events[O].unshift(W):J._events[O]=[W,J._events[O]]:J.on(O,W)}(J,"error",ht),J.once("close",st),J.once("finish",Jt),J.emit("pipe",Ht),wn.flowing||(L("pipe resume"),Ht.resume()),J},h.prototype.unpipe=function(J){var O=this._readableState,W={hasUnpiped:!1};if(0===O.pipesCount)return this;if(1===O.pipesCount)return J&&J!==O.pipes||(J||(J=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,J&&J.emit("unpipe",this,W)),this;if(!J){var ee=O.pipes,ve=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var He=0;He<ve;He++)ee[He].emit("unpipe",this,{hasUnpiped:!1});return this}var ht=X(O.pipes,J);return-1===ht||(O.pipes.splice(ht,1),O.pipesCount-=1,1===O.pipesCount&&(O.pipes=O.pipes[0]),J.emit("unpipe",this,W)),this},h.prototype.addListener=h.prototype.on=function(J,O){var W=v.prototype.on.call(this,J,O),ee=this._readableState;return"data"===J?(ee.readableListening=0<this.listenerCount("readable"),!1!==ee.flowing&&this.resume()):"readable"==J&&!ee.endEmitted&&!ee.readableListening&&(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,L("on readable",ee.length,ee.reading),ee.length?c(this):!ee.reading&&f.nextTick(k,this)),W},h.prototype.removeListener=function(J,O){var W=v.prototype.removeListener.call(this,J,O);return"readable"===J&&f.nextTick(z,this),W},h.prototype.removeAllListeners=function(J){var O=v.prototype.removeAllListeners.apply(this,arguments);return("readable"===J||void 0===J)&&f.nextTick(z,this),O},h.prototype.resume=function(){var J=this._readableState;return J.flowing||(L("resume"),J.flowing=!J.readableListening,function I(J,O){O.resumeScheduled||(O.resumeScheduled=!0,f.nextTick(V,J,O))}(this,J)),J.paused=!1,this},h.prototype.pause=function(){return L("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(L("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},h.prototype.wrap=function(J){var O=this,W=this._readableState,ee=!1;for(var ve in J.on("end",function(){if(L("wrapped end"),W.decoder&&!W.ended){var ht=W.decoder.end();ht&&ht.length&&O.push(ht)}O.push(null)}),J.on("data",function(ht){L("wrapped data"),W.decoder&&(ht=W.decoder.write(ht)),W.objectMode&&null==ht||!(W.objectMode||ht&&ht.length)||O.push(ht)||(ee=!0,J.pause())}),J)void 0===this[ve]&&"function"==typeof J[ve]&&(this[ve]=function(st){return function(){return J[st].apply(J,arguments)}}(ve));for(var He=0;He<Yt.length;He++)J.on(Yt[He],this.emit.bind(this,Yt[He]));return this._read=function(ht){L("wrapped _read",ht),ee&&(ee=!1,J.resume())},this},"function"==typeof Symbol&&(h.prototype[Symbol.asyncIterator]=function(){return void 0===tt&&(tt=d("./internal/streams/async_iterator")),tt(this)}),Object.defineProperty(h.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(h.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(h.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),h._fromList=oe,Object.defineProperty(h.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(h.from=function(J,O){return void 0===at&&(at=d("./internal/streams/from")),at(h,J,O)})}).call(this)}).call(this,d("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../errors":214,"./_stream_duplex":215,"./internal/streams/async_iterator":220,"./internal/streams/buffer_list":221,"./internal/streams/destroy":222,"./internal/streams/from":224,"./internal/streams/state":226,"./internal/streams/stream":227,_process:193,buffer:76,events:123,inherits:147,"string_decoder/":265,util:42}],218:[function(d,N,A){"use strict";function f(t,r){var a=this._transformState;a.transforming=!1;var c=a.writecb;if(null===c)return this.emit("error",new h);a.writechunk=null,a.writecb=null,null!=r&&this.push(r),c(t);var l=this._readableState;l.reading=!1,(l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}function b(t){return this instanceof b?(o.call(this,t),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),void this.on("prefinish",m)):new b(t)}function m(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?_(this,null,null):this._flush(function(r,a){_(t,r,a)})}function _(t,r,a){if(r)return t.emit("error",r);if(null!=a&&t.push(a),t._writableState.length)throw new u;if(t._transformState.transforming)throw new s;return t.push(null)}N.exports=b;var n=d("../errors").codes,g=n.ERR_METHOD_NOT_IMPLEMENTED,h=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=n.ERR_TRANSFORM_WITH_LENGTH_0,o=d("./_stream_duplex");d("inherits")(b,o),b.prototype.push=function(t,r){return this._transformState.needTransform=!1,o.prototype.push.call(this,t,r)},b.prototype._transform=function(t,r,a){a(new g("_transform()"))},b.prototype._write=function(t,r,a){var c=this._transformState;if(c.writecb=a,c.writechunk=t,c.writeencoding=r,!c.transforming){var l=this._readableState;(c.needTransform||l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}},b.prototype._read=function(t){var r=this._transformState;null===r.writechunk||r.transforming?r.needTransform=!0:(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform))},b.prototype._destroy=function(t,r){o.prototype._destroy.call(this,t,function(a){r(a)})}},{"../errors":214,"./_stream_duplex":215,inherits:147}],219:[function(d,N,A){(function(f,b){(function(){"use strict";function _(tt){var at=this;this.next=null,this.entry=null,this.finish=function(){!function Ae(tt,at,nt){var Yt=tt.entry;for(tt.entry=null;Yt;){var Tn=Yt.callback;at.pendingcb--,Tn(nt),Yt=Yt.next}at.corkedRequestsFree.next=tt}(at,tt)}}function h(){}function s(tt,at,nt){X=X||d("./_stream_duplex"),"boolean"!=typeof nt&&(nt=at instanceof X),this.objectMode=!!(tt=tt||{}).objectMode,nt&&(this.objectMode=this.objectMode||!!tt.writableObjectMode),this.highWaterMark=q(this,tt,"writableHighWaterMark",nt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===tt.decodeStrings),this.defaultEncoding=tt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Tn){!function E(tt,at){var nt=tt._writableState,Yt=nt.sync,Tn=nt.writecb;if("function"!=typeof Tn)throw new Ee;if(function w(tt){tt.writing=!1,tt.writecb=null,tt.length-=tt.writelen,tt.writelen=0}(nt),at)!function l(tt,at,nt,Yt,Tn){--at.pendingcb,nt?(f.nextTick(Tn,Yt),f.nextTick(oe,tt,at),tt._writableState.errorEmitted=!0,$t(tt,Yt)):(Tn(Yt),tt._writableState.errorEmitted=!0,$t(tt,Yt),oe(tt,at))}(tt,nt,Yt,at,Tn);else{var J=I(nt)||tt.destroyed;J||nt.corked||nt.bufferProcessing||!nt.bufferedRequest||k(tt,nt),Yt?f.nextTick(C,tt,nt,J,Tn):C(tt,nt,J,Tn)}}(at,Tn)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==tt.emitClose,this.autoDestroy=!!tt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new _(this)}function u(tt){var at=this instanceof(X=X||d("./_stream_duplex"));return at||qt.call(u,this)?(this._writableState=new s(tt,this,at),this.writable=!0,tt&&("function"==typeof tt.write&&(this._write=tt.write),"function"==typeof tt.writev&&(this._writev=tt.writev),"function"==typeof tt.destroy&&(this._destroy=tt.destroy),"function"==typeof tt.final&&(this._final=tt.final)),void D.call(this)):new u(tt)}function c(tt,at,nt,Yt,Tn,J,O){at.writelen=Yt,at.writecb=O,at.writing=!0,at.sync=!0,at.destroyed?at.onwrite(new Ie("write")):nt?tt._writev(Tn,at.onwrite):tt._write(Tn,J,at.onwrite),at.sync=!1}function C(tt,at,nt,Yt){nt||function z(tt,at){0===at.length&&at.needDrain&&(at.needDrain=!1,tt.emit("drain"))}(tt,at),at.pendingcb--,Yt(),oe(tt,at)}function k(tt,at){at.bufferProcessing=!0;var nt=at.bufferedRequest;if(tt._writev&&nt&&nt.next){var Tn=Array(at.bufferedRequestCount),J=at.corkedRequestsFree;J.entry=nt;for(var O=0,W=!0;nt;)Tn[O]=nt,nt.isBuf||(W=!1),nt=nt.next,O+=1;Tn.allBuffers=W,c(tt,at,!0,at.length,Tn,"",J.finish),at.pendingcb++,at.lastBufferedRequest=null,J.next?(at.corkedRequestsFree=J.next,J.next=null):at.corkedRequestsFree=new _(at),at.bufferedRequestCount=0}else{for(;nt;){var ee=nt.chunk;if(c(tt,at,!1,at.objectMode?1:ee.length,ee,nt.encoding,nt.callback),nt=nt.next,at.bufferedRequestCount--,at.writing)break}null===nt&&(at.lastBufferedRequest=null)}at.bufferedRequest=nt,at.bufferProcessing=!1}function I(tt){return tt.ending&&0===tt.length&&null===tt.bufferedRequest&&!tt.finished&&!tt.writing}function V(tt,at){tt._final(function(nt){at.pendingcb--,nt&&$t(tt,nt),at.prefinished=!0,tt.emit("prefinish"),oe(tt,at)})}function oe(tt,at){var nt=I(at);if(nt&&(function $(tt,at){at.prefinished||at.finalCalled||("function"!=typeof tt._final||at.destroyed?(at.prefinished=!0,tt.emit("prefinish")):(at.pendingcb++,at.finalCalled=!0,f.nextTick(V,tt,at)))}(tt,at),0===at.pendingcb&&(at.finished=!0,tt.emit("finish"),at.autoDestroy))){var Yt=tt._readableState;(!Yt||Yt.autoDestroy&&Yt.endEmitted)&&tt.destroy()}return nt}var X;N.exports=u,u.WritableState=s;var qt,T={deprecate:d("util-deprecate")},D=d("./internal/streams/stream"),M=d("buffer").Buffer,v=b.Uint8Array||function(){},B=d("./internal/streams/destroy"),q=d("./internal/streams/state").getHighWaterMark,L=d("../errors").codes,Y=L.ERR_INVALID_ARG_TYPE,se=L.ERR_METHOD_NOT_IMPLEMENTED,Ee=L.ERR_MULTIPLE_CALLBACK,Se=L.ERR_STREAM_CANNOT_PIPE,Ie=L.ERR_STREAM_DESTROYED,Qe=L.ERR_STREAM_NULL_VALUES,Je=L.ERR_STREAM_WRITE_AFTER_END,ut=L.ERR_UNKNOWN_ENCODING,$t=B.errorOrDestroy;d("inherits")(u,D),s.prototype.getBuffer=function(){for(var at=this.bufferedRequest,nt=[];at;)nt.push(at),at=at.next;return nt},function(){try{Object.defineProperty(s.prototype,"buffer",{get:T.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(qt=Function.prototype[Symbol.hasInstance],Object.defineProperty(u,Symbol.hasInstance,{value:function(at){return!!qt.call(this,at)||this===u&&at&&at._writableState instanceof s}})):qt=function(at){return at instanceof this},u.prototype.pipe=function(){$t(this,new Se)},u.prototype.write=function(tt,at,nt){var Yt=this._writableState,Tn=!1,J=!Yt.objectMode&&function g(tt){return M.isBuffer(tt)||tt instanceof v}(tt);return J&&!M.isBuffer(tt)&&(tt=function n(tt){return M.from(tt)}(tt)),"function"==typeof at&&(nt=at,at=null),J?at="buffer":!at&&(at=Yt.defaultEncoding),"function"!=typeof nt&&(nt=h),Yt.ending?function o(tt,at){var nt=new Je;$t(tt,nt),f.nextTick(at,nt)}(this,nt):(J||function t(tt,at,nt,Yt){var Tn;return null===nt?Tn=new Qe:"string"!=typeof nt&&!at.objectMode&&(Tn=new Y("chunk",["string","Buffer"],nt)),!Tn||($t(tt,Tn),f.nextTick(Yt,Tn),!1)}(this,Yt,tt,nt))&&(Yt.pendingcb++,Tn=function a(tt,at,nt,Yt,Tn,J){if(!nt){var O=function r(tt,at,nt){return tt.objectMode||!1===tt.decodeStrings||"string"!=typeof at||(at=M.from(at,nt)),at}(at,Yt,Tn);Yt!==O&&(nt=!0,Tn="buffer",Yt=O)}var W=at.objectMode?1:Yt.length;at.length+=W;var ee=at.length<at.highWaterMark;if(ee||(at.needDrain=!0),at.writing||at.corked){var ve=at.lastBufferedRequest;at.lastBufferedRequest={chunk:Yt,encoding:Tn,isBuf:nt,callback:J,next:null},ve?ve.next=at.lastBufferedRequest:at.bufferedRequest=at.lastBufferedRequest,at.bufferedRequestCount+=1}else c(tt,at,!1,W,Yt,Tn,J);return ee}(this,Yt,J,tt,at,nt)),Tn},u.prototype.cork=function(){this._writableState.corked++},u.prototype.uncork=function(){var tt=this._writableState;tt.corked&&(tt.corked--,!tt.writing&&!tt.corked&&!tt.bufferProcessing&&tt.bufferedRequest&&k(this,tt))},u.prototype.setDefaultEncoding=function(at){if("string"==typeof at&&(at=at.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((at+"").toLowerCase())))throw new ut(at);return this._writableState.defaultEncoding=at,this},Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),u.prototype._write=function(tt,at,nt){nt(new se("_write()"))},u.prototype._writev=null,u.prototype.end=function(tt,at,nt){var Yt=this._writableState;return"function"==typeof tt?(nt=tt,tt=null,at=null):"function"==typeof at&&(nt=at,at=null),null!=tt&&this.write(tt,at),Yt.corked&&(Yt.corked=1,this.uncork()),Yt.ending||function ue(tt,at,nt){at.ending=!0,oe(tt,at),nt&&(at.finished?f.nextTick(nt):tt.once("finish",nt)),at.ended=!0,tt.writable=!1}(this,Yt,nt),this},Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(at){this._writableState&&(this._writableState.destroyed=at)}}),u.prototype.destroy=B.destroy,u.prototype._undestroy=B.undestroy,u.prototype._destroy=function(tt,at){at(tt)}}).call(this)}).call(this,d("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../errors":214,"./_stream_duplex":215,"./internal/streams/destroy":222,"./internal/streams/state":226,"./internal/streams/stream":227,_process:193,buffer:76,inherits:147,"util-deprecate":277}],220:[function(d,N,A){(function(f){(function(){"use strict";function b(z,k,I){return k in z?Object.defineProperty(z,k,{value:I,enumerable:!0,configurable:!0,writable:!0}):z[k]=I,z}function m(z,k){return{value:z,done:k}}function _(z){var k=z[s];if(null!==k){var I=z[c].read();null!==I&&(z[r]=null,z[s]=null,z[u]=null,k(m(I,!1)))}}function n(z){f.nextTick(_,z)}var C,h=d("./end-of-stream"),s=Symbol("lastResolve"),u=Symbol("lastReject"),o=Symbol("error"),t=Symbol("ended"),r=Symbol("lastPromise"),a=Symbol("handlePromise"),c=Symbol("stream"),l=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((b(C={get stream(){return this[c]},next:function(){var k=this,I=this[o];if(null!==I)return Promise.reject(I);if(this[t])return Promise.resolve(m(void 0,!0));if(this[c].destroyed)return new Promise(function(ue,Ae){f.nextTick(function(){k[o]?Ae(k[o]):ue(m(void 0,!0))})});var $,V=this[r];if(V)$=new Promise(function g(z,k){return function(I,V){z.then(function(){return k[t]?void I(m(void 0,!0)):void k[a](I,V)},V)}}(V,this));else{var oe=this[c].read();if(null!==oe)return Promise.resolve(m(oe,!1));$=new Promise(this[a])}return this[r]=$,$}},Symbol.asyncIterator,function(){return this}),b(C,"return",function(){var k=this;return new Promise(function(I,V){k[c].destroy(null,function($){return $?void V($):void I(m(void 0,!0))})})}),C),l);N.exports=function(k){var V,I=Object.create(w,(b(V={},c,{value:k,writable:!0}),b(V,s,{value:null,writable:!0}),b(V,u,{value:null,writable:!0}),b(V,o,{value:null,writable:!0}),b(V,t,{value:k._readableState.endEmitted,writable:!0}),b(V,a,{value:function(oe,ue){var Ae=I[c].read();Ae?(I[r]=null,I[s]=null,I[u]=null,oe(m(Ae,!1))):(I[s]=oe,I[u]=ue)},writable:!0}),V));return I[r]=null,h(k,function($){if($&&"ERR_STREAM_PREMATURE_CLOSE"!==$.code){var oe=I[u];return null!==oe&&(I[r]=null,I[s]=null,I[u]=null,oe($)),void(I[o]=$)}var ue=I[s];null!==ue&&(I[r]=null,I[s]=null,I[u]=null,ue(m(void 0,!0))),I[t]=!0}),k.on("readable",n.bind(null,I)),I}}).call(this)}).call(this,d("_process"))},{"./end-of-stream":223,_process:193}],221:[function(d,N,A){"use strict";function f(a,c){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(a);c&&(w=w.filter(function(E){return Object.getOwnPropertyDescriptor(a,E).enumerable})),l.push.apply(l,w)}return l}function m(a,c,l){return c in a?Object.defineProperty(a,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[c]=l,a}function n(a,c){for(var w,l=0;l<c.length;l++)(w=c[l]).enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(a,w.key,w)}function h(a,c,l){u.prototype.copy.call(a,c,l)}var u=d("buffer").Buffer,t=d("util").inspect,r=t&&t.custom||"inspect";N.exports=function(){function a(){(function _(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}return function g(a,c,l){c&&n(a.prototype,c),l&&n(a,l)}(a,[{key:"push",value:function(l){var w={data:l,next:null};0<this.length?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(l){var w={data:l,next:this.head};0===this.length&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(0!==this.length){var l=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,l}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(l){if(0===this.length)return"";for(var w=this.head,E=""+w.data;w=w.next;)E+=l+w.data;return E}},{key:"concat",value:function(l){if(0===this.length)return u.alloc(0);for(var w=u.allocUnsafe(l>>>0),E=this.head,C=0;E;)h(E.data,w,C),C+=E.data.length,E=E.next;return w}},{key:"consume",value:function(l,w){var E;return l<this.head.data.length?(E=this.head.data.slice(0,l),this.head.data=this.head.data.slice(l)):E=l===this.head.data.length?this.shift():w?this._getString(l):this._getBuffer(l),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(l){var w=this.head,E=1,C=w.data;for(l-=C.length;w=w.next;){var z=w.data,k=l>z.length?z.length:l;if(C+=k===z.length?z:z.slice(0,l),0==(l-=k)){k===z.length?(++E,this.head=w.next?w.next:this.tail=null):(this.head=w,w.data=z.slice(k));break}++E}return this.length-=E,C}},{key:"_getBuffer",value:function(l){var w=u.allocUnsafe(l),E=this.head,C=1;for(E.data.copy(w),l-=E.data.length;E=E.next;){var z=E.data,k=l>z.length?z.length:l;if(z.copy(w,w.length-l,0,k),0==(l-=k)){k===z.length?(++C,this.head=E.next?E.next:this.tail=null):(this.head=E,E.data=z.slice(k));break}++C}return this.length-=C,w}},{key:r,value:function(l,w){return t(this,function b(a){for(var l,c=1;c<arguments.length;c++)l=null==arguments[c]?{}:arguments[c],c%2?f(Object(l),!0).forEach(function(w){m(a,w,l[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):f(Object(l)).forEach(function(w){Object.defineProperty(a,w,Object.getOwnPropertyDescriptor(l,w))});return a}({},w,{depth:0,customInspect:!1}))}}]),a}()},{buffer:76,util:42}],222:[function(d,N,A){(function(f){(function(){"use strict";function m(s,u){g(s,u),_(s)}function _(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function g(s,u){s.emit("error",u)}N.exports={destroy:function b(s,u){var o=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(u?u(s):s&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,f.nextTick(g,this,s)):f.nextTick(g,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(a){!u&&a?o._writableState?o._writableState.errorEmitted?f.nextTick(_,o):(o._writableState.errorEmitted=!0,f.nextTick(m,o,a)):f.nextTick(m,o,a):u?(f.nextTick(_,o),u(a)):f.nextTick(_,o)}),this)},undestroy:function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function h(s,u){var o=s._readableState,t=s._writableState;o&&o.autoDestroy||t&&t.autoDestroy?s.destroy(u):s.emit("error",u)}}}).call(this)}).call(this,d("_process"))},{_process:193}],223:[function(d,N,A){"use strict";function b(){}var n=d("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;N.exports=function _(g,h,s){if("function"==typeof h)return _(g,null,h);h||(h={}),s=function f(g){var h=!1;return function(){if(!h){h=!0;for(var s=arguments.length,u=Array(s),o=0;o<s;o++)u[o]=arguments[o];g.apply(this,u)}}}(s||b);var u=h.readable||!1!==h.readable&&g.readable,o=h.writable||!1!==h.writable&&g.writable,t=function(){g.writable||a()},r=g._writableState&&g._writableState.finished,a=function(){o=!1,r=!0,u||s.call(g)},c=g._readableState&&g._readableState.endEmitted,l=function(){u=!1,c=!0,o||s.call(g)},w=function(k){s.call(g,k)},E=function(){var k;return u&&!c?(g._readableState&&g._readableState.ended||(k=new n),s.call(g,k)):o&&!r?(g._writableState&&g._writableState.ended||(k=new n),s.call(g,k)):void 0},C=function(){g.req.on("finish",a)};return function m(g){return g.setHeader&&"function"==typeof g.abort}(g)?(g.on("complete",a),g.on("abort",E),g.req?C():g.on("request",C)):o&&!g._writableState&&(g.on("end",t),g.on("close",t)),g.on("end",l),g.on("finish",a),!1!==h.error&&g.on("error",w),g.on("close",E),function(){g.removeListener("complete",a),g.removeListener("abort",E),g.removeListener("request",C),g.req&&g.req.removeListener("finish",a),g.removeListener("end",t),g.removeListener("close",t),g.removeListener("finish",a),g.removeListener("end",l),g.removeListener("error",w),g.removeListener("close",E)}}},{"../../../errors":214}],224:[function(d,N,A){N.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],225:[function(d,N,A){"use strict";function b(a){if(a)throw a}function n(a){a()}function g(a,c){return a.pipe(c)}var r,u=d("../../../errors").codes,o=u.ERR_MISSING_ARGS,t=u.ERR_STREAM_DESTROYED;N.exports=function s(){for(var a=arguments.length,c=Array(a),l=0;l<a;l++)c[l]=arguments[l];var w=function h(a){return a.length&&"function"==typeof a[a.length-1]?a.pop():b}(c);if(Array.isArray(c[0])&&(c=c[0]),2>c.length)throw new o("streams");var C,E=c.map(function(z,k){var I=k<c.length-1;return function _(a,c,l,w){w=function f(a){var c=!1;return function(){c||(c=!0,a.apply(void 0,arguments))}}(w);var E=!1;a.on("close",function(){E=!0}),void 0===r&&(r=d("./end-of-stream")),r(a,{readable:c,writable:l},function(z){return z?w(z):(E=!0,void w())});var C=!1;return function(z){if(!E)return C?void 0:(C=!0,function m(a){return a.setHeader&&"function"==typeof a.abort}(a)?a.abort():"function"==typeof a.destroy?a.destroy():void w(z||new t("pipe")))}}(z,I,0<k,function($){C||(C=$),$&&E.forEach(n),I||(E.forEach(n),w(C))})});return c.reduce(g)}},{"../../../errors":214,"./end-of-stream":223}],226:[function(d,N,A){"use strict";var m=d("../../../errors").codes.ERR_INVALID_OPT_VALUE;N.exports={getHighWaterMark:function b(_,n,g,h){var s=function f(_,n,g){return null==_.highWaterMark?n?_[g]:null:_.highWaterMark}(n,h,g);if(null!=s){if(!isFinite(s)||xt(s)!==s||0>s)throw new m(h?g:"highWaterMark",s);return xt(s)}return _.objectMode?16:16384}}},{"../../../errors":214}],227:[function(d,N,A){N.exports=d("events").EventEmitter},{events:123}],228:[function(d,N,A){(A=N.exports=d("./lib/_stream_readable.js")).Stream=A,A.Readable=A,A.Writable=d("./lib/_stream_writable.js"),A.Duplex=d("./lib/_stream_duplex.js"),A.Transform=d("./lib/_stream_transform.js"),A.PassThrough=d("./lib/_stream_passthrough.js"),A.finished=d("./lib/internal/streams/end-of-stream.js"),A.pipeline=d("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":215,"./lib/_stream_passthrough.js":216,"./lib/_stream_readable.js":217,"./lib/_stream_transform.js":218,"./lib/_stream_writable.js":219,"./lib/internal/streams/end-of-stream.js":223,"./lib/internal/streams/pipeline.js":225}],229:[function(d,N,A){function m(ue,Ae,X,T){function M(){return!("number"==typeof ue.length&&ue.length>X.maxBlobLength&&(u("File length too large for Blob URL approach: %d (max: %d)",ue.length,X.maxBlobLength),se(new Error(`File length too large for Blob URL approach: ${ue.length} (max: ${X.maxBlobLength})`)),1))}function v(Qe){M()&&(Ie=Ae(Qe),_(ue,(Je,ut)=>Je?se(Je):(Ie.addEventListener("error",se),Ie.addEventListener("loadstart",B),Ie.addEventListener("loadedmetadata",F),void(Ie.src=ut))))}function B(){if(Ie.removeEventListener("loadstart",B),X.autoplay){const Qe=Ie.play();typeof Qe<"u"&&Qe.catch(se)}}function F(){Ie.removeEventListener("loadedmetadata",F),T(null,Ie)}function L(){_(ue,(Qe,Je)=>Qe?se(Qe):(".pdf"===Ee?(Ie=Ae("object"),Ie.setAttribute("typemustmatch",!0),Ie.setAttribute("type","application/pdf"),Ie.setAttribute("data",Je)):(Ie=Ae("iframe"),Ie.sandbox="allow-forms allow-scripts",Ie.src=Je),void T(null,Ie)))}function se(Qe){Qe.message=`Error rendering file "${ue.name}": ${Qe.message}`,u(Qe.message),T(Qe)}const Ee=r.extname(ue.name).toLowerCase();let Ie,Se=0;C.includes(Ee)?function D(){function Je(){u(`Use MediaSource API for ${ue.name}`),tt(),Ie.addEventListener("error",qt),Ie.addEventListener("loadstart",B),Ie.addEventListener("loadedmetadata",F);const Yt=new t(Ie).createWriteStream(function g(ue){return{".m4a":'audio/mp4; codecs="mp4a.40.5"',".m4b":'audio/mp4; codecs="mp4a.40.5"',".m4p":'audio/mp4; codecs="mp4a.40.5"',".m4v":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".mkv":'video/webm; codecs="avc1.640029, mp4a.40.5"',".mp3":"audio/mpeg",".mp4":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".webm":'video/webm; codecs="vorbis, vp8"'}[r.extname(ue).toLowerCase()]}(ue.name));ue.createReadStream().pipe(Yt),Se&&(Ie.currentTime=Se)}function ut(){u(`Use Blob URL for ${ue.name}`),tt(),Ie.addEventListener("error",se),Ie.addEventListener("loadstart",B),Ie.addEventListener("loadedmetadata",F),_(ue,(nt,Yt)=>nt?se(nt):(Ie.src=Yt,void(Se&&(Ie.currentTime=Se))))}function $t(nt){u("videostream error: fallback to MediaSource API: %o",nt.message||nt),Ie.removeEventListener("error",$t),Ie.removeEventListener("loadedmetadata",F),Je()}function qt(nt){u("MediaSource API error: fallback to Blob URL: %o",nt.message||nt),M()&&(Ie.removeEventListener("error",qt),Ie.removeEventListener("loadedmetadata",F),ut())}function tt(){Ie||(Ie=Ae(at),Ie.addEventListener("progress",()=>{Se=Ie.currentTime}))}const at=w.includes(Ee)?"video":"audio";oe?l.includes(Ee)?function Qe(){u(`Use \`videostream\` package for ${ue.name}`),tt(),Ie.addEventListener("error",$t),Ie.addEventListener("loadstart",B),Ie.addEventListener("loadedmetadata",F),new c(ue,Ie)}():Je():ut()}():z.includes(Ee)?v("video"):k.includes(Ee)?v("audio"):I.includes(Ee)?function q(){Ie=Ae("img"),_(ue,(Qe,Je)=>Qe?se(Qe):(Ie.src=Je,Ie.alt=ue.name,void T(null,Ie)))}():V.includes(Ee)?L():function Y(){u('Unknown file extension "%s" - will attempt to render into iframe',Ee);let Je="";ue.createReadStream({start:0,end:1e3}).setEncoding("utf8").on("data",ut=>{Je+=ut}).on("end",function Qe(){o(Je)?(u('File extension "%s" appears ascii, so will render.',Ee),L()):(u('File extension "%s" appears non-ascii, will not render.',Ee),T(new Error(`Unsupported file type "${Ee}": Cannot append to DOM`)))}).on("error",T)}()}function _(ue,Ae){const X=r.extname(ue.name).toLowerCase();a(ue.createReadStream(),A.mime[X]).then(T=>Ae(null,T),T=>Ae(T))}function n(ue){if(null==ue)throw new Error("file cannot be null or undefined");if("string"!=typeof ue.name)throw new Error("missing or invalid file.name property");if("function"!=typeof ue.createReadStream)throw new Error("missing or invalid file.createReadStream property")}function h(ue){null==ue.autoplay&&(ue.autoplay=!1),null==ue.muted&&(ue.muted=!1),null==ue.controls&&(ue.controls=!0),null==ue.maxBlobLength&&(ue.maxBlobLength=$)}function s(ue,Ae){ue.autoplay=!!Ae.autoplay,ue.muted=!!Ae.muted,ue.controls=!!Ae.controls}A.render=function f(ue,Ae,X,T){"function"==typeof X&&(T=X,X={}),X||(X={}),T||(T=()=>{}),n(ue),h(X),"string"==typeof Ae&&(Ae=document.querySelector(Ae)),m(ue,D=>{if(Ae.nodeName!==D.toUpperCase()){const M=r.extname(ue.name).toLowerCase();throw new Error(`Cannot render "${M}" inside a "${Ae.nodeName.toLowerCase()}" element, expected "${D}"`)}return("video"===D||"audio"===D)&&s(Ae,X),Ae},X,T)},A.append=function b(ue,Ae,X,T){function v(F){const q=document.createElement(F);return Ae.appendChild(q),q}if("function"==typeof X&&(T=X,X={}),X||(X={}),T||(T=()=>{}),n(ue),h(X),"string"==typeof Ae&&(Ae=document.querySelector(Ae)),Ae&&("VIDEO"===Ae.nodeName||"AUDIO"===Ae.nodeName))throw new Error("Invalid video/audio node argument. Argument must be root element that video/audio tag will be appended to.");m(ue,function D(F){return"video"===F||"audio"===F?function M(F){const q=v(F);return s(q,X),Ae.appendChild(q),q}(F):v(F)},X,function B(F,q){F&&q&&q.remove(),T(F,q)})},A.mime=d("./lib/mime.json");const u=d("debug")("render-media"),o=d("is-ascii"),t=d("mediasource"),r=d("path"),a=d("stream-to-blob-url"),c=d("videostream"),l=[".m4a",".m4b",".m4p",".m4v",".mp4"],w=[".m4v",".mkv",".mp4",".webm"],C=[].concat(w,[".m4a",".m4b",".m4p",".mp3"]),z=[".mov",".ogv"],k=[".aac",".oga",".ogg",".wav",".flac"],I=[".bmp",".gif",".jpeg",".jpg",".png",".svg"],V=[".css",".html",".js",".md",".pdf",".srt",".txt"],$=2e8,oe=typeof window<"u"&&window.MediaSource},{"./lib/mime.json":230,debug:91,"is-ascii":148,mediasource:160,path:185,"stream-to-blob-url":261,videostream:279}],230:[function(d,N,A){N.exports={".3gp":"video/3gpp",".aac":"audio/aac",".aif":"audio/x-aiff",".aiff":"audio/x-aiff",".atom":"application/atom+xml",".avi":"video/x-msvideo",".bmp":"image/bmp",".bz2":"application/x-bzip2",".conf":"text/plain",".css":"text/css",".csv":"text/plain",".diff":"text/x-diff",".doc":"application/msword",".flv":"video/x-flv",".gif":"image/gif",".gz":"application/x-gzip",".htm":"text/html",".html":"text/html",".ico":"image/vnd.microsoft.icon",".ics":"text/calendar",".iso":"application/octet-stream",".jar":"application/java-archive",".jpeg":"image/jpeg",".jpg":"image/jpeg",".js":"application/javascript",".json":"application/json",".less":"text/css",".log":"text/plain",".m3u":"audio/x-mpegurl",".m4a":"audio/x-m4a",".m4b":"audio/mp4",".m4p":"audio/mp4",".m4v":"video/x-m4v",".manifest":"text/cache-manifest",".markdown":"text/x-markdown",".mathml":"application/mathml+xml",".md":"text/x-markdown",".mid":"audio/midi",".midi":"audio/midi",".mov":"video/quicktime",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4v":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"application/ogg",".pdf":"application/pdf",".png":"image/png",".pps":"application/vnd.ms-powerpoint",".ppt":"application/vnd.ms-powerpoint",".ps":"application/postscript",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".rar":"application/x-rar-compressed",".rdf":"application/rdf+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tbz":"application/x-bzip-compressed-tar",".text":"text/plain",".tif":"image/tiff",".tiff":"image/tiff",".torrent":"application/x-bittorrent",".ttf":"application/x-font-ttf",".txt":"text/plain",".wav":"audio/wav",".webm":"video/webm",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".xls":"application/vnd.ms-excel",".xml":"application/xml",".yaml":"text/yaml",".yml":"text/yaml",".zip":"application/zip"}},{}],231:[function(d,N,A){"use strict";function f(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function b(C,z){return C<<z|C>>>32-z}function m(C,z,k,I,V,$,oe,ue){return 0|b(0|C+(z^k^I)+$+oe,ue)+V}function _(C,z,k,I,V,$,oe,ue){return 0|b(0|C+(z&k|~z&I)+$+oe,ue)+V}function n(C,z,k,I,V,$,oe,ue){return 0|b(0|C+((z|~k)^I)+$+oe,ue)+V}function g(C,z,k,I,V,$,oe,ue){return 0|b(0|C+(z&I|k&~I)+$+oe,ue)+V}function h(C,z,k,I,V,$,oe,ue){return 0|b(0|C+(z^(k|~I))+$+oe,ue)+V}var s=d("buffer").Buffer,u=d("inherits"),o=d("hash-base"),t=Array(16),r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],a=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],w=[0,1518500249,1859775393,2400959708,2840853838],E=[1352829926,1548603684,1836072691,2053994217,0];u(f,o),f.prototype._update=function(){for(var C=t,z=0;16>z;++z)C[z]=this._block.readInt32LE(4*z);for(var k=0|this._a,I=0|this._b,V=0|this._c,$=0|this._d,oe=0|this._e,ue=0|this._a,Ae=0|this._b,X=0|this._c,T=0|this._d,D=0|this._e,M=0;80>M;M+=1){var v,B;16>M?(v=m(k,I,V,$,oe,C[r[M]],w[0],c[M]),B=h(ue,Ae,X,T,D,C[a[M]],E[0],l[M])):32>M?(v=_(k,I,V,$,oe,C[r[M]],w[1],c[M]),B=g(ue,Ae,X,T,D,C[a[M]],E[1],l[M])):48>M?(v=n(k,I,V,$,oe,C[r[M]],w[2],c[M]),B=n(ue,Ae,X,T,D,C[a[M]],E[2],l[M])):64>M?(v=g(k,I,V,$,oe,C[r[M]],w[3],c[M]),B=_(ue,Ae,X,T,D,C[a[M]],E[3],l[M])):(v=h(k,I,V,$,oe,C[r[M]],w[4],c[M]),B=m(ue,Ae,X,T,D,C[a[M]],E[4],l[M])),k=oe,oe=$,$=b(V,10),V=I,I=v,ue=D,D=T,T=b(X,10),X=Ae,Ae=B}var F=0|this._b+V+T;this._b=0|this._c+$+D,this._c=0|this._d+oe+ue,this._d=0|this._e+k+Ae,this._e=0|this._a+I+X,this._a=F},f.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var C=s.alloc?s.alloc(20):new s(20);return C.writeInt32LE(this._a,0),C.writeInt32LE(this._b,4),C.writeInt32LE(this._c,8),C.writeInt32LE(this._d,12),C.writeInt32LE(this._e,16),C},N.exports=f},{buffer:76,"hash-base":130,inherits:147}],232:[function(d,N,A){N.exports=function f(m,_,n){function g(l){function w(){n&&n(l,u),n=null}s?b(w):w()}function h(l,w,E){if(u[l]=E,w&&(a=!0),0==--t||w)g(w);else if(!a&&c<o){let C;r?(C=r[c],c+=1,m[C](function(z,k){h(C,z,k)})):(C=c,c+=1,m[C](function(z,k){h(C,z,k)}))}}if("number"!=typeof _)throw new Error("second argument must be a Number");let u,o,t,r,a,c,s=!0;Array.isArray(m)?(u=[],t=o=m.length):(r=Object.keys(m),u={},t=o=r.length),c=_,t?r?r.some(function(l,w){return m[l](function(E,C){h(l,E,C)}),w===_-1}):m.some(function(l,w){return l(function(E,C){h(w,E,C)}),w===_-1}):g(null),s=!1};const b=d("queue-microtask")},{"queue-microtask":206}],233:[function(d,N,A){N.exports=function f(m,_){function n(t){function r(){_&&_(t,s),_=null}h?b(r):r()}function g(t,r,a){s[t]=a,(0==--u||r)&&n(r)}let s,u,o,h=!0;Array.isArray(m)?(s=[],u=m.length):(o=Object.keys(m),s={},u=o.length),u?o?o.forEach(function(t){m[t](function(r,a){g(t,r,a)})}):m.forEach(function(t,r){t(function(a,c){g(r,a,c)})}):n(null),h=!1};const b=d("queue-microtask")},{"queue-microtask":206}],234:[function(d,N,A){var b,m;b=typeof self>"u"?this:self,m=function(){return function(f){function b(_){if(m[_])return m[_].exports;var n=m[_]={i:_,l:!1,exports:{}};return f[_].call(n.exports,n,n.exports,b),n.l=!0,n.exports}var m={};return b.m=f,b.c=m,b.d=function(_,n,g){b.o(_,n)||Object.defineProperty(_,n,{configurable:!1,enumerable:!0,get:g})},b.n=function(_){var n=_&&_.__esModule?function(){return _.default}:function(){return _};return b.d(n,"a",n),n},b.o=function(_,n){return Object.prototype.hasOwnProperty.call(_,n)},b.p="",b(b.s=3)}([function(f,b,m){var n=m(5),g=m(1),h=g.toHex,s=g.ceilHeapSize,u=m(6),o=function(l){for(l+=9;0<l%64;l+=1);return l},a=function(l,w){var E=new Int32Array(l,w+320,5),C=new Int32Array(5),z=new DataView(C.buffer);return z.setInt32(0,E[0],!1),z.setInt32(4,E[1],!1),z.setInt32(8,E[2],!1),z.setInt32(12,E[3],!1),z.setInt32(16,E[4],!1),C},c=function(){function l(w){if(function _(l,w){if(!(l instanceof w))throw new TypeError("Cannot call a class as a function")}(this,l),0<(w=w||65536)%64)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=w,this._padMaxChunkLen=o(w),this._heap=new ArrayBuffer(s(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new n({Int32Array},{},this._heap)}return l.prototype._initState=function(E,C){this._offset=0;var z=new Int32Array(E,C+320,5);z[0]=1732584193,z[1]=-271733879,z[2]=-1732584194,z[3]=271733878,z[4]=-1009589776},l.prototype._padChunk=function(E,C){var z=o(E),k=new Int32Array(this._heap,0,z>>2);return function(l,w){var E=new Uint8Array(l.buffer),C=w%4,z=w-C;switch(C){case 0:E[z+3]=0;case 1:E[z+2]=0;case 2:E[z+1]=0;case 3:E[z+0]=0}for(var k=1+(w>>2);k<l.length;k++)l[k]=0}(k,E),function(l,w,E){l[w>>2]|=128<<24-(w%4<<3),l[14+(-16&2+(w>>2))]=0|E/536870912,l[15+(-16&2+(w>>2))]=E<<3}(k,E,C),z},l.prototype._write=function(E,C,z,k){u(E,this._h8,this._h32,C,z,k||0)},l.prototype._coreCall=function(E,C,z,k,I){var V=z;this._write(E,C,z),I&&(V=this._padChunk(z,k)),this._core.hash(V,this._padMaxChunkLen)},l.prototype.rawDigest=function(E){var C=E.byteLength||E.length||E.size||0;this._initState(this._heap,this._padMaxChunkLen);var z=0,k=this._maxChunkLen;for(z=0;C>z+k;z+=k)this._coreCall(E,z,k,C,!1);return this._coreCall(E,z,C-z,C,!0),a(this._heap,this._padMaxChunkLen)},l.prototype.digest=function(E){return h(this.rawDigest(E).buffer)},l.prototype.digestFromString=function(E){return this.digest(E)},l.prototype.digestFromBuffer=function(E){return this.digest(E)},l.prototype.digestFromArrayBuffer=function(E){return this.digest(E)},l.prototype.resetState=function(){return this._initState(this._heap,this._padMaxChunkLen),this},l.prototype.append=function(E){var C=0,z=E.byteLength||E.length||E.size||0,k=this._offset%this._maxChunkLen,I=void 0;for(this._offset+=z;C<z;)I=ne(z-C,this._maxChunkLen-k),this._write(E,C,I,k),C+=I,(k+=I)===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),k=0);return this},l.prototype.getState=function(){var C=void 0;if(this._offset%this._maxChunkLen)C=this._heap.slice(0);else{var z=new Int32Array(this._heap,this._padMaxChunkLen+320,5);C=z.buffer.slice(z.byteOffset,z.byteOffset+z.byteLength)}return{offset:this._offset,heap:C}},l.prototype.setState=function(E){return this._offset=E.offset,20===E.heap.byteLength?new Int32Array(this._heap,this._padMaxChunkLen+320,5).set(new Int32Array(E.heap)):this._h32.set(new Int32Array(E.heap)),this},l.prototype.rawEnd=function(){var E=this._offset,z=this._padChunk(E%this._maxChunkLen,E);this._core.hash(z,this._padMaxChunkLen);var k=a(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),k},l.prototype.end=function(){return h(this.rawEnd().buffer)},l}();f.exports=c,f.exports._core=n},function(f,b){for(var m=Array(256),_=0;256>_;_++)m[_]=(16>_?"0":"")+_.toString(16);f.exports.toHex=function(n){for(var g=new Uint8Array(n),h=Array(n.byteLength),s=0;s<h.length;s++)h[s]=m[g[s]];return h.join("")},f.exports.ceilHeapSize=function(n){var g=0;if(65536>=n)return 65536;if(16777216>n)for(g=1;g<n;g<<=1);else for(g=16777216;g<n;g+=16777216);return g},f.exports.isDedicatedWorkerScope=function(n){return"WorkerGlobalScope"in n&&n instanceof n.WorkerGlobalScope&&!("SharedWorkerGlobalScope"in n&&n instanceof n.SharedWorkerGlobalScope)&&!("ServiceWorkerGlobalScope"in n&&n instanceof n.ServiceWorkerGlobalScope)}},function(f,b,m){f.exports=function(){var _=m(0),g=function(s,u,o,t,r){var a=new self.FileReader;a.onloadend=function(){if(a.error)return r(a.error);var l=a.result;u+=a.result.byteLength;try{s.append(l)}catch(w){return void r(w)}u<t.size?g(s,u,o,t,r):r(null,s.end())},a.readAsArrayBuffer(t.slice(u,u+o))},h=!0;return self.onmessage=function(s){if(h){var u=s.data.data,o=s.data.file,t=s.data.id;if(typeof t<"u"&&(o||u)){var r=s.data.blockSize||4194304,a=new _(r);a.resetState();var c=function(l,w){l?self.postMessage({id:t,error:l.name}):self.postMessage({id:t,hash:w})};u&&function(s,u,o){try{o(null,s.digest(u))}catch(t){return o(t)}}(a,u,c),o&&g(a,0,r,o,c)}}},function(){h=!1}}},function(f,b,m){var _=m(4),n=m(0),g=m(7),h=m(2),s=m(1),o=typeof self<"u"&&(0,s.isDedicatedWorkerScope)(self);n.disableWorkerBehaviour=o?h():function(){},n.createWorker=function(){var t=_(2),r=t.terminate;return t.terminate=function(){URL.revokeObjectURL(t.objectURL),r.call(t)},t},n.createHash=g,f.exports=n},function(f,b,m){function _(t){function r(l){if(a[l])return a[l].exports;var w=a[l]={i:l,l:!1,exports:{}};return t[l].call(w.exports,w,w.exports,r),w.l=!0,w.exports}var a={};r.m=t,r.c=a,r.i=function(l){return l},r.d=function(l,w,E){r.o(l,w)||Object.defineProperty(l,w,{configurable:!1,enumerable:!0,get:E})},r.r=function(l){Object.defineProperty(l,"__esModule",{value:!0})},r.n=function(l){var w=l&&l.__esModule?function(){return l.default}:function(){return l};return r.d(w,"a",w),w},r.o=function(l,w){return Object.prototype.hasOwnProperty.call(l,w)},r.p="/",r.oe=function(l){throw console.error(l),l};var c=r(r.s=ENTRY_MODULE);return c.default||c}function n(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function g(t,r,a){var c={};c[a]=[];var l=r.toString(),w=l.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!w)return c;for(var z,E=w[1],C=new RegExp("(\\\\n|\\W)"+n(E)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");z=C.exec(l);)"dll-reference"!==z[3]&&c[a].push(z[3]);for(C=new RegExp("\\("+n(E)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");z=C.exec(l);)t[z[2]]||(c[a].push(z[1]),t[z[2]]=m(z[1]).m),c[z[2]]=c[z[2]]||[],c[z[2]].push(z[4]);return c}function h(t){return Object.keys(t).reduce(function(a,c){return a||0<t[c].length},!1)}f.exports=function(t,r){var a={main:m.m},c=(r=r||{}).all?{main:Object.keys(a)}:function s(t,r){for(var a={main:[r]},c={main:[]},l={main:{}};h(a);)for(var w=Object.keys(a),E=0;E<w.length;E++){var C=w[E],k=a[C].pop();if(l[C]=l[C]||{},!l[C][k]&&t[C][k]){l[C][k]=!0,c[C]=c[C]||[],c[C].push(k);for(var I=g(t,t[C][k],C),V=Object.keys(I),$=0;$<V.length;$++)a[V[$]]=a[V[$]]||[],a[V[$]]=a[V[$]].concat(I[V[$]])}}return c}(a,t),l="";Object.keys(c).filter(function(k){return"main"!==k}).forEach(function(k){for(var I=0;c[k][I];)I++;c[k].push(I),a[k][I]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+k+" = ("+_.toString().replace("ENTRY_MODULE",JSON.stringify(I))+")({"+c[k].map(function(V){return JSON.stringify(V)+": "+a[k][V].toString()}).join(",")+"});\n"}),l=l+"("+_.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+c.main.map(function(k){return JSON.stringify(k)+": "+a.main[k].toString()}).join(",")+"})(self);";var w=new window.Blob([l],{type:"text/javascript"});if(r.bare)return w;var C=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(w),z=new window.Worker(C);return z.objectURL=C,z}},function(f,b){f.exports=function(_,n,g){var s=new _.Int32Array(g);return{hash:function h(u,o){u|=0;var t=0,r=0,a=0,c=0,l=0,w=0,E=0,C=0,z=0,k=0,I=0,V=0,$=0,oe=0;for(a=0|s[320+(o|=0)>>2],l=0|s[o+324>>2],E=0|s[o+328>>2],z=0|s[o+332>>2],I=0|s[o+336>>2],t=0;(0|t)<(0|u);t=0|t+64){for(c=a,w=l,C=E,k=z,V=I,r=0;64>(0|r);r=0|r+4)$=0|(0|(a<<5|a>>>27)+(l&E|~l&z))+(0|1518500249+(0|(oe=0|s[t+r>>2])+I)),I=z,z=E,E=l<<30|l>>>2,l=a,a=$,s[u+r>>2]=oe;for(r=0|u+64;(0|r)<(0|u+80);r=0|r+4)$=0|(0|(a<<5|a>>>27)+(l&E|~l&z))+(0|1518500249+(0|(oe=(s[r-12>>2]^s[r-32>>2]^s[r-56>>2]^s[r-64>>2])<<1|(s[r-12>>2]^s[r-32>>2]^s[r-56>>2]^s[r-64>>2])>>>31)+I)),I=z,z=E,E=l<<30|l>>>2,l=a,a=$,s[r>>2]=oe;for(r=0|u+80;(0|r)<(0|u+160);r=0|r+4)$=0|(0|(a<<5|a>>>27)+(l^E^z))+(0|1859775393+(0|(oe=(s[r-12>>2]^s[r-32>>2]^s[r-56>>2]^s[r-64>>2])<<1|(s[r-12>>2]^s[r-32>>2]^s[r-56>>2]^s[r-64>>2])>>>31)+I)),I=z,z=E,E=l<<30|l>>>2,l=a,a=$,s[r>>2]=oe;for(r=0|u+160;(0|r)<(0|u+240);r=0|r+4)$=0|(0|(a<<5|a>>>27)+(l&E|l&z|E&z))+(0|(0|(oe=(s[r-12>>2]^s[r-32>>2]^s[r-56>>2]^s[r-64>>2])<<1|(s[r-12>>2]^s[r-32>>2]^s[r-56>>2]^s[r-64>>2])>>>31)+I)-1894007588),I=z,z=E,E=l<<30|l>>>2,l=a,a=$,s[r>>2]=oe;for(r=0|u+240;(0|r)<(0|u+320);r=0|r+4)$=0|(0|(a<<5|a>>>27)+(l^E^z))+(0|(0|(oe=(s[r-12>>2]^s[r-32>>2]^s[r-56>>2]^s[r-64>>2])<<1|(s[r-12>>2]^s[r-32>>2]^s[r-56>>2]^s[r-64>>2])>>>31)+I)-899497514),I=z,z=E,E=l<<30|l>>>2,l=a,a=$,s[r>>2]=oe;a=0|a+c,l=0|l+w,E=0|E+C,z=0|z+k,I=0|I+V}s[o+320>>2]=a,s[o+324>>2]=l,s[o+328>>2]=E,s[o+332>>2]=z,s[o+336>>2]=I}}}},function(f,b){var m=this,_=void 0;typeof self<"u"&&typeof self.FileReaderSync<"u"&&(_=new self.FileReaderSync);var g=function(s,u,o,t,r,a){var E,c=a%4,l=(r+c)%4,w=r-l;switch(c){case 0:u[a]=s[t+3];case 1:u[0|a+1-(c<<1)]=s[t+2];case 2:u[0|a+2-(c<<1)]=s[t+1];case 3:u[0|a+3-(c<<1)]=s[t]}if(!(r<l+(4-c))){for(E=4-c;E<w;E=0|E+4)o[0|a+E>>2]=s[t+E]<<24|s[t+E+1]<<16|s[t+E+2]<<8|s[t+E+3];switch(l){case 3:u[0|a+w+1]=s[t+w+2];case 2:u[0|a+w+2]=s[t+w+1];case 1:u[0|a+w+3]=s[t+w]}}};f.exports=function(s,u,o,t,r,a){if("string"==typeof s)return function(s,u,o,t,r,a){var E,c=a%4,l=(r+c)%4,w=r-l;switch(c){case 0:u[a]=s.charCodeAt(t+3);case 1:u[0|a+1-(c<<1)]=s.charCodeAt(t+2);case 2:u[0|a+2-(c<<1)]=s.charCodeAt(t+1);case 3:u[0|a+3-(c<<1)]=s.charCodeAt(t)}if(!(r<l+(4-c))){for(E=4-c;E<w;E=0|E+4)o[a+E>>2]=s.charCodeAt(t+E)<<24|s.charCodeAt(t+E+1)<<16|s.charCodeAt(t+E+2)<<8|s.charCodeAt(t+E+3);switch(l){case 3:u[0|a+w+1]=s.charCodeAt(t+w+2);case 2:u[0|a+w+2]=s.charCodeAt(t+w+1);case 1:u[0|a+w+3]=s.charCodeAt(t+w)}}}(s,u,o,t,r,a);if(s instanceof Array||m&&m.Buffer&&m.Buffer.isBuffer(s))return g(s,u,o,t,r,a);if(s instanceof ArrayBuffer)return g(new Uint8Array(s),u,o,t,r,a);if(s.buffer instanceof ArrayBuffer)return g(new Uint8Array(s.buffer,s.byteOffset,s.byteLength),u,o,t,r,a);if(s instanceof Blob)return function(s,u,o,t,r,a){var c=void 0,l=a%4,w=(r+l)%4,E=r-w,C=new Uint8Array(_.readAsArrayBuffer(s.slice(t,t+r)));switch(l){case 0:u[a]=C[3];case 1:u[0|a+1-(l<<1)]=C[2];case 2:u[0|a+2-(l<<1)]=C[1];case 3:u[0|a+3-(l<<1)]=C[0]}if(!(r<w+(4-l))){for(c=4-l;c<E;c=0|c+4)o[0|a+c>>2]=C[c]<<24|C[c+1]<<16|C[c+2]<<8|C[c+3];switch(w){case 3:u[0|a+E+1]=C[E+2];case 2:u[0|a+E+2]=C[E+1];case 1:u[0|a+E+3]=C[E]}}}(s,u,o,t,r,a);throw new Error("Unsupported data type.")}},function(f,b,m){var n=function(){function o(t,r){for(var c,a=0;a<r.length;a++)(c=r[a]).enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}return function(t,r,a){return r&&o(t.prototype,r),a&&o(t,a),t}}(),g=m(0),s=m(1).toHex,u=function(){function o(){(function _(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o),this._rusha=new g,this._rusha.resetState()}return o.prototype.update=function(r){return this._rusha.append(r),this},o.prototype.digest=function(r){var a=this._rusha.rawEnd().buffer;if(!r)return a;if("hex"===r)return s(a);throw new Error("unsupported digest encoding")},n(o,[{key:"state",get:function(){return this._rusha.getState()},set:function(t){this._rusha.setState(t)}}]),o}();f.exports=function(){return new u}}])},"object"==typeof A&&"object"==typeof N?N.exports=m():"object"==typeof A?A.Rusha=m():b.Rusha=m()},{}],235:[function(d,N,A){function f(n,g){for(var h in n)g[h]=n[h]}function b(n,g,h){return _(n,g,h)}var m=d("buffer"),_=m.Buffer;_.from&&_.alloc&&_.allocUnsafe&&_.allocUnsafeSlow?N.exports=m:(f(m,A),A.Buffer=b),b.prototype=Object.create(_.prototype),f(_,b),b.from=function(n,g,h){if("number"==typeof n)throw new TypeError("Argument must not be a number");return _(n,g,h)},b.alloc=function(n,g,h){if("number"!=typeof n)throw new TypeError("Argument must be a number");var s=_(n);return void 0===g?s.fill(0):"string"==typeof h?s.fill(g,h):s.fill(g),s},b.allocUnsafe=function(n){if("number"!=typeof n)throw new TypeError("Argument must be a number");return _(n)},b.allocUnsafeSlow=function(n){if("number"!=typeof n)throw new TypeError("Argument must be a number");return m.SlowBuffer(n)}},{buffer:76}],236:[function(d,N,A){(function(f){(function(){"use strict";var n,b=d("buffer"),m=b.Buffer,_={};for(n in b)b.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(_[n]=b[n]);var g=_.Buffer={};for(n in m)m.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(g[n]=m[n]);if(_.Buffer.prototype=m.prototype,g.from&&g.from!==Uint8Array.from||(g.from=function(h,s,u){if("number"==typeof h)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&typeof h.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return m(h,s,u)}),g.alloc||(g.alloc=function(h,s,u){if("number"!=typeof h)throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(0>h||2147483648<=h)throw new RangeError('The value "'+h+'" is invalid for option "size"');var o=m(h);return s&&0!==s.length?"string"==typeof u?o.fill(s,u):o.fill(s):o.fill(0),o}),!_.kStringMaxLength)try{_.kStringMaxLength=f.binding("buffer").kStringMaxLength}catch{}_.constants||(_.constants={MAX_LENGTH:_.kMaxLength},_.kStringMaxLength&&(_.constants.MAX_STRING_LENGTH=_.kStringMaxLength)),N.exports=_}).call(this)}).call(this,d("_process"))},{_process:193,buffer:76}],237:[function(d,N,A){function f(m,_){this._block=b.alloc(m),this._finalSize=_,this._blockSize=m,this._len=0}var b=d("safe-buffer").Buffer;f.prototype.update=function(m,_){"string"==typeof m&&(m=b.from(m,_=_||"utf8"));for(var n=this._block,g=this._blockSize,h=m.length,s=this._len,u=0;u<h;){for(var o=s%g,t=ne(h-u,g-o),r=0;r<t;r++)n[o+r]=m[u+r];u+=t,(s+=t)%g==0&&this._update(n)}return this._len+=h,this},f.prototype.digest=function(m){var _=this._len%this._blockSize;this._block[_]=128,this._block.fill(0,_+1),_>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(4294967295>=n)this._block.writeUInt32BE(n,this._blockSize-4);else{var g=(4294967295&n)>>>0;this._block.writeUInt32BE((n-g)/4294967296,this._blockSize-8),this._block.writeUInt32BE(g,this._blockSize-4)}this._update(this._block);var s=this._hash();return m?s.toString(m):s},f.prototype._update=function(){throw new Error("_update must be implemented by subclass")},N.exports=f},{"safe-buffer":235}],238:[function(d,N,f){(f=N.exports=function(m){m=m.toLowerCase();var _=f[m];if(!_)throw new Error(m+" is not supported (we accept pull requests)");return new _}).sha=d("./sha"),f.sha1=d("./sha1"),f.sha224=d("./sha224"),f.sha256=d("./sha256"),f.sha384=d("./sha384"),f.sha512=d("./sha512")},{"./sha":239,"./sha1":240,"./sha224":241,"./sha256":242,"./sha384":243,"./sha512":244}],239:[function(d,N,A){function f(){this.init(),this._w=u,g.call(this,64,56)}function b(o){return o<<5|o>>>27}function m(o){return o<<30|o>>>2}function _(o,t,r,a){return 0===o?t&r|~t&a:2===o?t&r|t&a|r&a:t^r^a}var n=d("inherits"),g=d("./hash"),h=d("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],u=Array(80);n(f,g),f.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},f.prototype._update=function(o){for(var t=this._w,r=0|this._a,a=0|this._b,c=0|this._c,l=0|this._d,w=0|this._e,E=0;16>E;++E)t[E]=o.readInt32BE(4*E);for(;80>E;++E)t[E]=t[E-3]^t[E-8]^t[E-14]^t[E-16];for(var C=0;80>C;++C){var z=~~(C/20),k=0|b(r)+_(z,a,c,l)+w+t[C]+s[z];w=l,l=c,c=m(a),a=r,r=k}this._a=0|r+this._a,this._b=0|a+this._b,this._c=0|c+this._c,this._d=0|l+this._d,this._e=0|w+this._e},f.prototype._hash=function(){var o=h.allocUnsafe(20);return o.writeInt32BE(0|this._a,0),o.writeInt32BE(0|this._b,4),o.writeInt32BE(0|this._c,8),o.writeInt32BE(0|this._d,12),o.writeInt32BE(0|this._e,16),o},N.exports=f},{"./hash":237,inherits:147,"safe-buffer":235}],240:[function(d,N,A){function f(){this.init(),this._w=o,h.call(this,64,56)}function b(t){return t<<1|t>>>31}function m(t){return t<<5|t>>>27}function _(t){return t<<30|t>>>2}function n(t,r,a,c){return 0===t?r&a|~r&c:2===t?r&a|r&c|a&c:r^a^c}var g=d("inherits"),h=d("./hash"),s=d("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],o=Array(80);g(f,h),f.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},f.prototype._update=function(t){for(var r=this._w,a=0|this._a,c=0|this._b,l=0|this._c,w=0|this._d,E=0|this._e,C=0;16>C;++C)r[C]=t.readInt32BE(4*C);for(;80>C;++C)r[C]=b(r[C-3]^r[C-8]^r[C-14]^r[C-16]);for(var z=0;80>z;++z){var k=~~(z/20),I=0|m(a)+n(k,c,l,w)+E+r[z]+u[k];E=w,w=l,l=_(c),c=a,a=I}this._a=0|a+this._a,this._b=0|c+this._b,this._c=0|l+this._c,this._d=0|w+this._d,this._e=0|E+this._e},f.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},N.exports=f},{"./hash":237,inherits:147,"safe-buffer":235}],241:[function(d,N,A){function f(){this.init(),this._w=g,_.call(this,64,56)}var b=d("inherits"),m=d("./sha256"),_=d("./hash"),n=d("safe-buffer").Buffer,g=Array(64);b(f,m),f.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},f.prototype._hash=function(){var h=n.allocUnsafe(28);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h},N.exports=f},{"./hash":237,"./sha256":242,inherits:147,"safe-buffer":235}],242:[function(d,N,A){function f(){this.init(),this._w=r,u.call(this,64,56)}function b(a,c,l){return l^a&(c^l)}function m(a,c,l){return a&c|l&(a|c)}function _(a){return(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10)}function n(a){return(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7)}function g(a){return(a>>>7|a<<25)^(a>>>18|a<<14)^a>>>3}function h(a){return(a>>>17|a<<15)^(a>>>19|a<<13)^a>>>10}var s=d("inherits"),u=d("./hash"),o=d("safe-buffer").Buffer,t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=Array(64);s(f,u),f.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},f.prototype._update=function(a){for(var c=this._w,l=0|this._a,w=0|this._b,E=0|this._c,C=0|this._d,z=0|this._e,k=0|this._f,I=0|this._g,V=0|this._h,$=0;16>$;++$)c[$]=a.readInt32BE(4*$);for(;64>$;++$)c[$]=0|h(c[$-2])+c[$-7]+g(c[$-15])+c[$-16];for(var oe=0;64>oe;++oe){var ue=0|V+n(z)+b(z,k,I)+t[oe]+c[oe],Ae=0|_(l)+m(l,w,E);V=I,I=k,k=z,z=0|C+ue,C=E,E=w,w=l,l=0|ue+Ae}this._a=0|l+this._a,this._b=0|w+this._b,this._c=0|E+this._c,this._d=0|C+this._d,this._e=0|z+this._e,this._f=0|k+this._f,this._g=0|I+this._g,this._h=0|V+this._h},f.prototype._hash=function(){var a=o.allocUnsafe(32);return a.writeInt32BE(this._a,0),a.writeInt32BE(this._b,4),a.writeInt32BE(this._c,8),a.writeInt32BE(this._d,12),a.writeInt32BE(this._e,16),a.writeInt32BE(this._f,20),a.writeInt32BE(this._g,24),a.writeInt32BE(this._h,28),a},N.exports=f},{"./hash":237,inherits:147,"safe-buffer":235}],243:[function(d,N,A){function f(){this.init(),this._w=g,_.call(this,128,112)}var b=d("inherits"),m=d("./sha512"),_=d("./hash"),n=d("safe-buffer").Buffer,g=Array(160);b(f,m),f.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},f.prototype._hash=function(){function h(u,o,t){s.writeInt32BE(u,t),s.writeInt32BE(o,t+4)}var s=n.allocUnsafe(48);return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),s},N.exports=f},{"./hash":237,"./sha512":244,inherits:147,"safe-buffer":235}],244:[function(d,N,A){function f(){this.init(),this._w=l,r.call(this,128,112)}function b(w,E,C){return C^w&(E^C)}function m(w,E,C){return w&E|C&(w|E)}function _(w,E){return(w>>>28|E<<4)^(E>>>2|w<<30)^(E>>>7|w<<25)}function n(w,E){return(w>>>14|E<<18)^(w>>>18|E<<14)^(E>>>9|w<<23)}function g(w,E){return(w>>>1|E<<31)^(w>>>8|E<<24)^w>>>7}function h(w,E){return(w>>>1|E<<31)^(w>>>8|E<<24)^(w>>>7|E<<25)}function s(w,E){return(w>>>19|E<<13)^(E>>>29|w<<3)^w>>>6}function u(w,E){return(w>>>19|E<<13)^(E>>>29|w<<3)^(w>>>6|E<<26)}function o(w,E){return w>>>0<E>>>0?1:0}var t=d("inherits"),r=d("./hash"),a=d("safe-buffer").Buffer,c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=Array(160);t(f,r),f.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},f.prototype._update=function(w){for(var E=this._w,C=0|this._ah,z=0|this._bh,k=0|this._ch,I=0|this._dh,V=0|this._eh,$=0|this._fh,oe=0|this._gh,ue=0|this._hh,Ae=0|this._al,X=0|this._bl,T=0|this._cl,D=0|this._dl,M=0|this._el,v=0|this._fl,B=0|this._gl,F=0|this._hl,q=0;32>q;q+=2)E[q]=w.readInt32BE(4*q),E[q+1]=w.readInt32BE(4*q+4);for(;160>q;q+=2){var L=E[q-30],Y=E[q-30+1],se=g(L,Y),Ee=h(Y,L),Se=s(L=E[q-4],Y=E[q-4+1]),Ie=u(Y,L),ut=E[q-32],$t=E[q-32+1],qt=0|Ee+E[q-14+1],tt=0|se+E[q-14]+o(qt,Ee);tt=0|(tt=0|tt+Se+o(qt=0|qt+Ie,Ie))+ut+o(qt=0|qt+$t,$t),E[q]=tt,E[q+1]=qt}for(var at=0;160>at;at+=2){tt=E[at],qt=E[at+1];var nt=m(C,z,k),Yt=m(Ae,X,T),Tn=_(C,Ae),J=_(Ae,C),O=n(V,M),W=n(M,V),ee=c[at],ve=c[at+1],He=b(V,$,oe),ht=b(M,v,B),st=0|F+W,Jt=0|ue+O+o(st,F);Jt=0|(Jt=0|(Jt=0|Jt+He+o(st=0|st+ht,ht))+ee+o(st=0|st+ve,ve))+tt+o(st=0|st+qt,qt);var on=0|J+Yt,Ht=0|Tn+nt+o(on,J);ue=oe,F=B,oe=$,B=v,$=V,v=M,V=0|I+Jt+o(M=0|D+st,D),I=k,D=T,k=z,T=X,z=C,X=Ae,C=0|Jt+Ht+o(Ae=0|st+on,st)}this._al=0|this._al+Ae,this._bl=0|this._bl+X,this._cl=0|this._cl+T,this._dl=0|this._dl+D,this._el=0|this._el+M,this._fl=0|this._fl+v,this._gl=0|this._gl+B,this._hl=0|this._hl+F,this._ah=0|this._ah+C+o(this._al,Ae),this._bh=0|this._bh+z+o(this._bl,X),this._ch=0|this._ch+k+o(this._cl,T),this._dh=0|this._dh+I+o(this._dl,D),this._eh=0|this._eh+V+o(this._el,M),this._fh=0|this._fh+$+o(this._fl,v),this._gh=0|this._gh+oe+o(this._gl,B),this._hh=0|this._hh+ue+o(this._hl,F)},f.prototype._hash=function(){function w(C,z,k){E.writeInt32BE(C,k),E.writeInt32BE(z,k+4)}var E=a.allocUnsafe(64);return w(this._ah,this._al,0),w(this._bh,this._bl,8),w(this._ch,this._cl,16),w(this._dh,this._dl,24),w(this._eh,this._el,32),w(this._fh,this._fl,40),w(this._gh,this._gl,48),w(this._hh,this._hl,56),E},N.exports=f},{"./hash":237,inherits:147,"safe-buffer":235}],245:[function(d,N,A){(function(f){(function(){N.exports=function(b,m){var _=[];b.on("data",function(n){_.push(n)}),b.once("end",function(){m&&m(null,f.concat(_)),m=null}),b.once("error",function(n){m&&m(n),m=null})}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76}],246:[function(d,N,A){(function(f){(function(){function b(t,r){if(t=Object.assign({maxRedirects:10},"string"==typeof t?{url:t}:t),r=h(r),t.url){const{hostname:C,port:z,protocol:k,auth:I,path:V}=u.parse(t.url);delete t.url,C||z||k||I?Object.assign(t,{hostname:C,port:z,protocol:k,auth:I,path:V}):t.path=V}const a={"accept-encoding":"gzip, deflate"};let c;t.headers&&Object.keys(t.headers).forEach(C=>a[C.toLowerCase()]=t.headers[C]),t.headers=a,t.body?c=t.json&&!o(t.body)?JSON.stringify(t.body):t.body:t.form&&(c="string"==typeof t.form?t.form:s.stringify(t.form),t.headers["content-type"]="application/x-www-form-urlencoded"),c&&(!t.method&&(t.method="POST"),!o(c)&&(t.headers["content-length"]=f.byteLength(c)),t.json&&!t.form&&(t.headers["content-type"]="application/json")),delete t.body,delete t.form,t.json&&(t.headers.accept="application/json"),t.method&&(t.method=t.method.toUpperCase());const l=t.hostname,E=("https:"===t.protocol?g:n).request(t,C=>{if(!1!==t.followRedirects&&300<=C.statusCode&&400>C.statusCode&&C.headers.location){t.url=C.headers.location,delete t.headers.host,C.resume();const k=u.parse(t.url).hostname;return null!==k&&k!==l&&(delete t.headers.cookie,delete t.headers.authorization),"POST"===t.method&&[301,302].includes(C.statusCode)&&(t.method="GET",delete t.headers["content-length"],delete t.headers["content-type"]),0==t.maxRedirects--?r(new Error("too many redirects")):b(t,r)}r(null,"function"==typeof _&&"HEAD"!==t.method?_(C):C)});return E.on("timeout",()=>{E.abort(),r(new Error("Request timed out"))}),E.on("error",r),o(c)?c.on("error",r).pipe(E):E.end(c),E}N.exports=b;const m=d("simple-concat"),_=d("decompress-response"),n=d("http"),g=d("https"),h=d("once"),s=d("querystring"),u=d("url"),o=t=>null!==t&&"object"==typeof t&&"function"==typeof t.pipe;b.concat=(t,r)=>b(t,(a,c)=>a?r(a):void m(c,(l,w)=>{if(l)return r(l);if(t.json)try{w=JSON.parse(w.toString())}catch(E){return r(E,c,w)}r(null,c,w)})),["get","post","put","patch","head","delete"].forEach(t=>{b[t]=(r,a)=>("string"==typeof r&&(r={url:r}),b(Object.assign({method:t.toUpperCase()},r),a))})}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76,"decompress-response":42,http:257,https:144,once:178,querystring:205,"simple-concat":245,url:274}],247:[function(d,N,A){function f(c){return c.replace(/a=ice-options:trickle\s\n/g,"")}const m=d("debug")("simple-peer"),_=d("get-browser-rtc"),n=d("randombytes"),g=d("readable-stream"),h=d("queue-microtask"),s=d("err-code"),{Buffer:u}=d("buffer"),o=65536;class a extends g.Duplex{constructor(l){if(super(l=Object.assign({allowHalfOpen:!1},l)),this._id=n(4).toString("hex").slice(0,7),this._debug("new peer %o",l),this.channelName=l.initiator?l.channelName||n(20).toString("hex"):null,this.initiator=l.initiator||!1,this.channelConfig=l.channelConfig||a.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},a.config,l.config),this.offerOptions=l.offerOptions||{},this.answerOptions=l.answerOptions||{},this.sdpTransform=l.sdpTransform||(w=>w),this.streams=l.streams||(l.stream?[l.stream]:[]),this.trickle=void 0===l.trickle||l.trickle,this.allowHalfTrickle=void 0!==l.allowHalfTrickle&&l.allowHalfTrickle,this.iceCompleteTimeout=l.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=l.wrtc&&"object"==typeof l.wrtc?l.wrtc:_(),!this._wrtc)throw s(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(w){return void this.destroy(s(w,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=w=>{this._onIceCandidate(w)},"object"==typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch(w=>{this.destroy(s(w,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=w=>{this._setupData(w)},this.streams&&this.streams.forEach(w=>{this.addStream(w)}),this._pc.ontrack=w=>{this._onTrack(w)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(l){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof l)try{l=JSON.parse(l)}catch{l={}}this._debug("signal()"),l.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),l.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(l.transceiverRequest.kind,l.transceiverRequest.init)),l.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(l.candidate):this._pendingCandidates.push(l.candidate)),l.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(l)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(w=>{this._addIceCandidate(w)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(w=>{this.destroy(s(w,"ERR_SET_REMOTE_DESCRIPTION"))}),l.sdp||l.candidate||l.renegotiate||l.transceiverRequest||this.destroy(s(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(l){const w=new this._wrtc.RTCIceCandidate(l);this._pc.addIceCandidate(w).catch(E=>{!w.address||w.address.endsWith(".local")?function b(c){console.warn(c)}("Ignoring unsupported ICE candidate."):this.destroy(s(E,"ERR_ADD_ICE_CANDIDATE"))})}send(l){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(l)}}addTransceiver(l,w){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(l,w),this._needsNegotiation()}catch(E){this.destroy(s(E,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:l,init:w}})}}addStream(l){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),l.getTracks().forEach(w=>{this.addTrack(w,l)})}}addTrack(l,w){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const E=this._senderMap.get(l)||new Map;let C=E.get(w);if(C)throw C.removed?s(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):s(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");C=this._pc.addTrack(l,w),E.set(w,C),this._senderMap.set(l,E),this._needsNegotiation()}replaceTrack(l,w,E){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const C=this._senderMap.get(l),z=C?C.get(E):null;if(!z)throw s(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");w&&this._senderMap.set(w,C),null==z.replaceTrack?this.destroy(s(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):z.replaceTrack(w)}removeTrack(l,w){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const E=this._senderMap.get(l),C=E?E.get(w):null;if(!C)throw s(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{C.removed=!0,this._pc.removeTrack(C)}catch(z){"NS_ERROR_UNEXPECTED"===z.name?this._sendersAwaitingStable.push(C):this.destroy(s(z,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(l){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),l.getTracks().forEach(w=>{this.removeTrack(w,l)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,h(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(l){this._destroy(l,()=>{})}_destroy(l,w){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",l&&(l.message||l)),h(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",l&&(l.message||l)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,l&&this.emit("error",l),this.emit("close"),w()}))}_setupData(l){if(!l.channel)return this.destroy(s(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=l.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=o),this.channelName=this._channel.label,this._channel.onmessage=E=>{this._onChannelMessage(E)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=E=>{const C=E.error instanceof Error?E.error:new Error(`Datachannel error: ${E.message} ${E.filename}:${E.lineno}:${E.colno}`);this.destroy(s(C,"ERR_DATA_CHANNEL"))};let w=!1;this._closingInterval=setInterval(()=>{this._channel&&"closing"===this._channel.readyState?(w&&this._onChannelClose(),w=!0):w=!1},5e3)}_read(){}_write(l,w,E){if(this.destroyed)return E(s(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(l)}catch(C){return this.destroy(s(C,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>o?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=E):E(null)}else this._debug("write before connect"),this._chunk=l,this._cb=E}_onFinish(){if(!this.destroyed){const l=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?l():this.once("connect",l)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(l=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(l.sdp=f(l.sdp)),l.sdp=this.sdpTransform(l.sdp);const w=()=>{if(!this.destroyed){const z=this._pc.localDescription||l;this._debug("signal"),this.emit("signal",{type:z.type,sdp:z.sdp})}};this._pc.setLocalDescription(l).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?w():this.once("_iceComplete",w))}).catch(z=>{this.destroy(s(z,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(l=>{this.destroy(s(l,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(l=>{l.mid||!l.sender.track||l.requested||(l.requested=!0,this.addTransceiver(l.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(l=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(l.sdp=f(l.sdp)),l.sdp=this.sdpTransform(l.sdp);const w=()=>{if(!this.destroyed){const z=this._pc.localDescription||l;this._debug("signal"),this.emit("signal",{type:z.type,sdp:z.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(l).then(()=>{this.destroyed||(this.trickle||this._iceComplete?w():this.once("_iceComplete",w))}).catch(z=>{this.destroy(s(z,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(l=>{this.destroy(s(l,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(s(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const l=this._pc.iceConnectionState,w=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",l,w),this.emit("iceStateChange",l,w),("connected"===l||"completed"===l)&&(this._pcReady=!0,this._maybeReady()),"failed"===l&&this.destroy(s(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===l&&this.destroy(s(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(l){const w=E=>("[object Array]"===Object.prototype.toString.call(E.values)&&E.values.forEach(C=>{Object.assign(E,C)}),E);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(E=>{const C=[];E.forEach(z=>{C.push(w(z))}),l(null,C)},E=>l(E)):0<this._pc.getStats.length?this._pc.getStats(E=>{if(this.destroyed)return;const C=[];E.result().forEach(z=>{const k={};z.names().forEach(I=>{k[I]=z.stat(I)}),k.id=z.id,k.type=z.type,k.timestamp=z.timestamp,C.push(w(k))}),l(null,C)},E=>l(E)):l(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const l=()=>{this.destroyed||this.getStats((w,E)=>{if(this.destroyed)return;w&&(E=[]);const C={},z={},k={};let I=!1;E.forEach($=>{("remotecandidate"===$.type||"remote-candidate"===$.type)&&(C[$.id]=$),("localcandidate"===$.type||"local-candidate"===$.type)&&(z[$.id]=$),("candidatepair"===$.type||"candidate-pair"===$.type)&&(k[$.id]=$)});const V=$=>{I=!0;let oe=z[$.localCandidateId];oe&&(oe.ip||oe.address)?(this.localAddress=oe.ip||oe.address,this.localPort=+oe.port):oe&&oe.ipAddress?(this.localAddress=oe.ipAddress,this.localPort=+oe.portNumber):"string"==typeof $.googLocalAddress&&(oe=$.googLocalAddress.split(":"),this.localAddress=oe[0],this.localPort=+oe[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let ue=C[$.remoteCandidateId];ue&&(ue.ip||ue.address)?(this.remoteAddress=ue.ip||ue.address,this.remotePort=+ue.port):ue&&ue.ipAddress?(this.remoteAddress=ue.ipAddress,this.remotePort=+ue.portNumber):"string"==typeof $.googRemoteAddress&&(ue=$.googRemoteAddress.split(":"),this.remoteAddress=ue[0],this.remotePort=+ue[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(E.forEach($=>{"transport"===$.type&&$.selectedCandidatePairId&&V(k[$.selectedCandidatePairId]),("googCandidatePair"===$.type&&"true"===$.googActiveConnection||("candidatepair"===$.type||"candidate-pair"===$.type)&&$.selected)&&V($)}),I||Object.keys(k).length&&!Object.keys(z).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(oe){return this.destroy(s(oe,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const $=this._cb;this._cb=null,$(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(l,100)})};l()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>o)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(l=>{this._pc.removeTrack(l),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(l){this.destroyed||(l.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:l.candidate.candidate,sdpMLineIndex:l.candidate.sdpMLineIndex,sdpMid:l.candidate.sdpMid}}):!l.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),l.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(l){if(this.destroyed)return;let w=l.data;w instanceof ArrayBuffer&&(w=u.from(w)),this.push(w)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const l=this._cb;this._cb=null,l(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(l){this.destroyed||l.streams.forEach(w=>{this._debug("on track"),this.emit("track",l.track,w),this._remoteTracks.push({track:l.track,stream:w}),this._remoteStreams.some(E=>E.id===w.id)||(this._remoteStreams.push(w),h(()=>{this._debug("on stream"),this.emit("stream",w)}))})}_debug(){const l=[].slice.call(arguments);l[0]="["+this._id+"] "+l[0],m.apply(null,l)}}a.WEBRTC_SUPPORT=!!_(),a.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},a.channelConfig={},N.exports=a},{buffer:76,debug:91,"err-code":122,"get-browser-rtc":129,"queue-microtask":206,randombytes:209,"readable-stream":228}],248:[function(d,N,A){function f(t){return h.digest(t)}const n=d("rusha"),g=d("./rusha-worker-sha1"),h=new n,s=typeof window>"u"?self:window,u=s.crypto||s.msCrypto||{};let o=u.subtle||u.webkitSubtle;try{o.digest({name:"sha-1"},new Uint8Array).catch(function(){o=!1})}catch{o=!1}N.exports=function b(t,r){return o?("string"==typeof t&&(t=function m(t){const r=t.length,a=new Uint8Array(r);for(let c=0;c<r;c++)a[c]=t.charCodeAt(c);return a}(t)),void o.digest({name:"sha-1"},t).then(function(c){r(function _(t){const r=t.length,a=[];for(let c=0;c<r;c++){const l=t[c];a.push((l>>>4).toString(16)),a.push((15&l).toString(16))}return a.join("")}(new Uint8Array(c)))},function(){r(f(t))})):void(typeof window>"u"?queueMicrotask(()=>r(f(t))):g(t,function(c,l){return c?void r(f(t)):void r(l)}))},N.exports.sync=f},{"./rusha-worker-sha1":249,rusha:234}],249:[function(d,N,A){const m=d("rusha");let _,n,g;N.exports=function b(h,s){_||function f(){_=m.createWorker(),n=1,g={},_.onmessage=function(s){const u=s.data.id,o=g[u];delete g[u],null==s.data.error?o(null,s.data.hash):o(new Error("Rusha worker error: "+s.data.error))}}(),g[n]=s,_.postMessage({id:n,data:h}),n+=1}},{rusha:234}],250:[function(d,N,A){(function(f){(function(){const b=d("debug")("simple-websocket"),m=d("randombytes"),_=d("readable-stream"),n=d("queue-microtask"),g=d("ws"),h="function"==typeof g?g:WebSocket;class u extends _.Duplex{constructor(t={}){if("string"==typeof t&&(t={url:t}),super(t=Object.assign({allowHalfOpen:!1},t)),null==t.url&&null==t.socket)throw new Error("Missing required `url` or `socket` option");if(null!=t.url&&null!=t.socket)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=m(4).toString("hex").slice(0,7),this._debug("new websocket: %o",t),this.connected=!1,this.destroyed=!1,this._chunk=null,this._cb=null,this._interval=null,t.socket)this.url=t.socket.url,this._ws=t.socket,this.connected=t.socket.readyState===h.OPEN;else{this.url=t.url;try{this._ws="function"==typeof g?new h(t.url,null,{...t,encoding:void 0}):new h(t.url)}catch(r){return void n(()=>this.destroy(r))}}this._ws.binaryType="arraybuffer",t.socket&&this.connected?n(()=>this._handleOpen()):this._ws.onopen=()=>this._handleOpen(),this._ws.onmessage=r=>this._handleMessage(r),this._ws.onclose=()=>this._handleClose(),this._ws.onerror=r=>this._handleError(r),this._handleFinishBound=()=>this._handleFinish(),this.once("finish",this._handleFinishBound)}send(t){this._ws.send(t)}destroy(t){this._destroy(t,()=>{})}_destroy(t,r){if(!this.destroyed){if(this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.connected=!1,this.destroyed=!0,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._handleFinishBound&&this.removeListener("finish",this._handleFinishBound),this._handleFinishBound=null,this._ws){const a=this._ws,c=()=>{a.onclose=null};if(a.readyState===h.CLOSED)c();else try{a.onclose=c,a.close()}catch{c()}a.onopen=null,a.onmessage=null,a.onerror=()=>{}}this._ws=null,t&&this.emit("error",t),this.emit("close"),r()}}_read(){}_write(t,r,a){if(this.destroyed)return a(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(t)}catch(c){return this.destroy(c)}"function"!=typeof g&&this._ws.bufferedAmount>65536?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=a):a(null)}else this._debug("write before connect"),this._chunk=t,this._cb=a}_handleOpen(){if(!this.connected&&!this.destroyed){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(r){return this.destroy(r)}this._chunk=null,this._debug('sent chunk from "write before connect"');const t=this._cb;this._cb=null,t(null)}"function"!=typeof g&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_handleMessage(t){if(this.destroyed)return;let r=t.data;r instanceof ArrayBuffer&&(r=f.from(r)),this.push(r)}_handleClose(){this.destroyed||(this._debug("on close"),this.destroy())}_handleError(t){this.destroy(new Error(`Error connecting to ${this.url}`))}_handleFinish(){if(!this.destroyed){const t=()=>{setTimeout(()=>this.destroy(),1e3)};this.connected?t():this.once("connect",t)}}_onInterval(){if(this._cb&&this._ws&&!(this._ws.bufferedAmount>65536)){this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);const t=this._cb;this._cb=null,t(null)}}_debug(){const t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],b.apply(null,t)}}u.WEBSOCKET_SUPPORT=!!h,N.exports=u}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76,debug:91,"queue-microtask":206,randombytes:209,"readable-stream":228,ws:42}],251:[function(d,N,A){const f=d("./lib/throttle"),b=d("./lib/throttle-group");N.exports={Throttle:f,ThrottleGroup:b}},{"./lib/throttle":253,"./lib/throttle-group":252}],252:[function(d,N,A){var f=Number.isInteger;const{TokenBucket:b}=d("limiter"),m=d("./throttle");N.exports=class _{constructor(g={}){if("object"!=typeof g)throw new Error("Options must be an object");this.throttles=[],this.setEnabled(g.enabled),this.setRate(g.rate,g.chunksize)}getEnabled(){return this._enabled}getRate(){return this.bucket.tokensPerInterval}getChunksize(){return this.chunksize}setEnabled(g=!0){if("boolean"!=typeof g)throw new Error("Enabled must be a boolean");this._enabled=g;for(const h of this.throttles)h.setEnabled(g)}setRate(g,h=null){if(!f(g)||0>g)throw new Error("Rate must be an integer bigger than zero");if(g=parseInt(g),h&&("number"!=typeof h||0>=h))throw new Error("Chunksize must be bigger than zero");if(h=h||pe(parseInt(g/10),1),h=parseInt(h),0<g&&h>g)throw new Error("Chunk size must be smaller than rate");this.bucket||(this.bucket=new b(g,g,"second",null)),this.bucket.bucketSize=g,this.bucket.tokensPerInterval=g,this.chunksize=h}setChunksize(g){if(!f(g)||0>=g)throw new Error("Chunk size must be an integer bigger than zero");const h=this.getRate();if(g=parseInt(g),0<h&&g>h)throw new Error("Chunk size must be smaller than rate");this.chunksize=g}throttle(g={}){if("object"!=typeof g)throw new Error("Options must be an object");return new m({...g,group:this})}destroy(){for(const g of this.throttles)g.destroy();this.throttles=[]}_addThrottle(g){if(!(g instanceof m))throw new Error("Throttle must be an instance of Throttle");this.throttles.push(g)}_removeThrottle(g){const h=this.throttles.indexOf(g);-1<h&&this.throttles.splice(h,1)}}},{"./throttle":253,limiter:152}],253:[function(d,N,A){const{EventEmitter:f}=d("events"),{Transform:b}=d("streamx"),{wait:m}=d("./utils");N.exports=class _ extends b{constructor(h={}){if(super(),"object"!=typeof h)throw new Error("Options must be an object");const s=Object.assign({},h);if(s.group&&!(s.group instanceof n))throw new Error("Group must be an instanece of ThrottleGroup");s.group||(s.group=new n(s)),this._setEnabled(s.enabled||s.group.enabled),this._group=s.group,this._emitter=new f,this._destroyed=!1,this._group._addThrottle(this)}getEnabled(){return this._enabled}getGroup(){return this._group}_setEnabled(h=!0){if("boolean"!=typeof h)throw new Error("Enabled must be a boolean");this._enabled=h}setEnabled(h){this._setEnabled(h),this._emitter.emit(this._enabled?"enabled":"disabled")}_transform(h,s){this._processChunk(h,s)}async _waitForTokens(h){return new Promise((s,u)=>{function o(a){if(r._emitter.removeListener("disabled",o),r._emitter.removeListener("destroyed",o),!t)return t=!0,a?u(a):void s()}let t=!1;const r=this;this._emitter.once("disabled",o),this._emitter.once("destroyed",o),this._group.bucket.removeTokens(h,o)})}_areBothEnabled(){return this._enabled&&this._group.getEnabled()}async _processChunk(h,s){if(!this._areBothEnabled())return s(null,h);let u=0,o=this._group.getChunksize(),t=h.slice(u,u+o);for(;0<t.length;){if(this._areBothEnabled())try{for(;0===this._group.getRate()&&!this._destroyed&&this._areBothEnabled();)if(await m(1e3),this._destroyed)return;if(this._areBothEnabled()&&!this._group.bucket.tryRemoveTokens(t.length)&&(await this._waitForTokens(t.length),this._destroyed))return}catch(r){return s(r)}this.push(t),u+=o,o=this._areBothEnabled()?this._group.getChunksize():h.length-u,t=h.slice(u,u+o)}return s()}destroy(...h){this._group._removeThrottle(this),this._destroyed=!0,this._emitter.emit("destroyed"),super.destroy(...h)}};const n=d("./throttle-group")},{"./throttle-group":252,"./utils":254,events:123,streamx:264}],254:[function(d,N,A){N.exports={wait:function f(b){return new Promise(m=>setTimeout(m,b))}}},{}],255:[function(d,N,A){var n,f=1,b=65535,_=function(){f=f+1&b};N.exports=function(g){n||(n=setInterval(_,250)).unref&&n.unref();var h=4*(g||5),s=[0],u=1,o=f-1&b;return function(t){var r=f-o&b;for(r>h&&(r=h),o=f;r--;)u===h&&(u=0),s[u]=s[0===u?h-1:u-1],u++;t&&(s[u-1]+=t);var a=s[u-1];return s.length<4?a:4*(a-(s.length<h?0:s[u===h?0:u]))/s.length}}},{}],256:[function(d,N,A){function f(){b.call(this)}N.exports=f;var b=d("events").EventEmitter;d("inherits")(f,b),f.Readable=d("readable-stream/lib/_stream_readable.js"),f.Writable=d("readable-stream/lib/_stream_writable.js"),f.Duplex=d("readable-stream/lib/_stream_duplex.js"),f.Transform=d("readable-stream/lib/_stream_transform.js"),f.PassThrough=d("readable-stream/lib/_stream_passthrough.js"),f.finished=d("readable-stream/lib/internal/streams/end-of-stream.js"),f.pipeline=d("readable-stream/lib/internal/streams/pipeline.js"),f.Stream=f,f.prototype.pipe=function(_,n){function g(c){_.writable&&!1===_.write(c)&&r.pause&&r.pause()}function h(){r.readable&&r.resume&&r.resume()}function s(){a||(a=!0,_.end())}function u(){a||(a=!0,"function"==typeof _.destroy&&_.destroy())}function o(c){if(t(),0===b.listenerCount(this,"error"))throw c}function t(){r.removeListener("data",g),_.removeListener("drain",h),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",o),_.removeListener("error",o),r.removeListener("end",t),r.removeListener("close",t),_.removeListener("close",t)}var r=this;r.on("data",g),_.on("drain",h),_._isStdio||n&&!1===n.end||(r.on("end",s),r.on("close",u));var a=!1;return r.on("error",o),_.on("error",o),r.on("end",t),r.on("close",t),_.on("close",t),_.emit("pipe",r),_}},{events:123,inherits:147,"readable-stream/lib/_stream_duplex.js":215,"readable-stream/lib/_stream_passthrough.js":216,"readable-stream/lib/_stream_readable.js":217,"readable-stream/lib/_stream_transform.js":218,"readable-stream/lib/_stream_writable.js":219,"readable-stream/lib/internal/streams/end-of-stream.js":223,"readable-stream/lib/internal/streams/pipeline.js":225}],257:[function(d,N,A){(function(f){(function(){var b=d("./lib/request"),m=d("./lib/response"),_=d("xtend"),n=d("builtin-status-codes"),g=d("url"),h=A;h.request=function(s,u){s="string"==typeof s?g.parse(s):_(s);var o=-1===f.location.protocol.search(/^https?:$/)?"http:":"",t=s.protocol||o,r=s.hostname||s.host,a=s.port,c=s.path||"/";r&&-1!==r.indexOf(":")&&(r="["+r+"]"),s.url=(r?t+"//"+r:"")+(a?":"+a:"")+c,s.method=(s.method||"GET").toUpperCase(),s.headers=s.headers||{};var l=new b(s);return u&&l.on("response",u),l},h.get=function(u,o){var t=h.request(u,o);return t.end(),t},h.ClientRequest=b,h.IncomingMessage=m.IncomingMessage,h.Agent=function(){},h.Agent.defaultMaxSockets=4,h.globalAgent=new h.Agent,h.STATUS_CODES=n,h.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"./lib/request":259,"./lib/response":260,"builtin-status-codes":77,url:274,xtend:281}],258:[function(d,N,A){(function(f){(function(){function b(){if(void 0!==n)return n;if(f.XMLHttpRequest){n=new f.XMLHttpRequest;try{n.open("GET",f.XDomainRequest?"/":"https://example.com")}catch{n=null}}else n=null;return n}function m(g){var h=b();if(!h)return!1;try{return h.responseType=g,h.responseType===g}catch{}return!1}function _(g){return"function"==typeof g}var n;A.fetch=_(f.fetch)&&_(f.ReadableStream),A.writableStream=_(f.WritableStream),A.abortController=_(f.AbortController),A.arraybuffer=A.fetch||m("arraybuffer"),A.msstream=!A.fetch&&m("ms-stream"),A.mozchunkedarraybuffer=!A.fetch&&m("moz-chunked-arraybuffer"),A.overrideMimeType=A.fetch||!!b()&&_(b().overrideMimeType),n=null}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],259:[function(d,N,A){(function(f,b,m){(function(){var g=d("./capability"),h=d("inherits"),s=d("./response"),u=d("readable-stream"),o=s.IncomingMessage,t=s.readyStates,r=N.exports=function(c){var l=this;u.Writable.call(l),l._opts=c,l._body=[],l._headers={},c.auth&&l.setHeader("Authorization","Basic "+m.from(c.auth).toString("base64")),Object.keys(c.headers).forEach(function(C){l.setHeader(C,c.headers[C])});var E,w=!0;if("disable-fetch"===c.mode||"requestTimeout"in c&&!g.abortController)w=!1,E=!0;else if("prefer-streaming"===c.mode)E=!1;else if("allow-wrong-content-type"===c.mode)E=!g.overrideMimeType;else{if(c.mode&&"default"!==c.mode&&"prefer-fast"!==c.mode)throw new Error("Invalid value for opts.mode");E=!0}l._mode=function _(c,l){return g.fetch&&l?"fetch":g.mozchunkedarraybuffer?"moz-chunked-arraybuffer":g.msstream?"ms-stream":g.arraybuffer&&c?"arraybuffer":"text"}(E,w),l._fetchTimer=null,l._socketTimeout=null,l._socketTimer=null,l.on("finish",function(){l._onFinish()})};h(r,u.Writable),r.prototype.setHeader=function(c,l){var E=c.toLowerCase();-1!==a.indexOf(E)||(this._headers[E]={name:c,value:l})},r.prototype.getHeader=function(c){var l=this._headers[c.toLowerCase()];return l?l.value:null},r.prototype.removeHeader=function(c){delete this._headers[c.toLowerCase()]},r.prototype._onFinish=function(){var c=this;if(!c._destroyed){var l=c._opts;"timeout"in l&&0!==l.timeout&&c.setTimeout(l.timeout);var w=c._headers,E=null;"GET"!==l.method&&"HEAD"!==l.method&&(E=new Blob(c._body,{type:(w["content-type"]||{}).value||""}));var C=[];if(Object.keys(w).forEach(function(V){var $=w[V].name,oe=w[V].value;Array.isArray(oe)?oe.forEach(function(ue){C.push([$,ue])}):C.push([$,oe])}),"fetch"===c._mode){var z=null;if(g.abortController){var k=new AbortController;z=k.signal,c._fetchAbortController=k,"requestTimeout"in l&&0!==l.requestTimeout&&(c._fetchTimer=b.setTimeout(function(){c.emit("requestTimeout"),c._fetchAbortController&&c._fetchAbortController.abort()},l.requestTimeout))}b.fetch(c._opts.url,{method:c._opts.method,headers:C,body:E||void 0,mode:"cors",credentials:l.withCredentials?"include":"same-origin",signal:z}).then(function(V){c._fetchResponse=V,c._resetTimers(!1),c._connect()},function(V){c._resetTimers(!0),c._destroyed||c.emit("error",V)})}else{var I=c._xhr=new b.XMLHttpRequest;try{I.open(c._opts.method,c._opts.url,!0)}catch(V){return void f.nextTick(function(){c.emit("error",V)})}"responseType"in I&&(I.responseType=c._mode),"withCredentials"in I&&(I.withCredentials=!!l.withCredentials),"text"===c._mode&&"overrideMimeType"in I&&I.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in l&&(I.timeout=l.requestTimeout,I.ontimeout=function(){c.emit("requestTimeout")}),C.forEach(function(V){I.setRequestHeader(V[0],V[1])}),c._response=null,I.onreadystatechange=function(){switch(I.readyState){case t.LOADING:case t.DONE:c._onXHRProgress()}},"moz-chunked-arraybuffer"===c._mode&&(I.onprogress=function(){c._onXHRProgress()}),I.onerror=function(){c._destroyed||(c._resetTimers(!0),c.emit("error",new Error("XHR error")))};try{I.send(E)}catch(V){return void f.nextTick(function(){c.emit("error",V)})}}}},r.prototype._onXHRProgress=function(){var c=this;c._resetTimers(!1),!function n(c){try{var l=c.status;return null!==l&&0!==l}catch{return!1}}(c._xhr)||c._destroyed||(!c._response&&c._connect(),c._response._onXHRProgress(c._resetTimers.bind(c)))},r.prototype._connect=function(){var c=this;c._destroyed||(c._response=new o(c._xhr,c._fetchResponse,c._mode,c._resetTimers.bind(c)),c._response.on("error",function(l){c.emit("error",l)}),c.emit("response",c._response))},r.prototype._write=function(c,l,w){this._body.push(c),w()},r.prototype._resetTimers=function(c){var l=this;b.clearTimeout(l._socketTimer),l._socketTimer=null,c?(b.clearTimeout(l._fetchTimer),l._fetchTimer=null):l._socketTimeout&&(l._socketTimer=b.setTimeout(function(){l.emit("timeout")},l._socketTimeout))},r.prototype.abort=r.prototype.destroy=function(c){var l=this;l._destroyed=!0,l._resetTimers(!0),l._response&&(l._response._destroyed=!0),l._xhr?l._xhr.abort():l._fetchAbortController&&l._fetchAbortController.abort(),c&&l.emit("error",c)},r.prototype.end=function(c,l,w){"function"==typeof c&&(w=c,c=void 0),u.Writable.prototype.end.call(this,c,l,w)},r.prototype.setTimeout=function(c,l){var w=this;l&&w.once("timeout",l),w._socketTimeout=c,w._resetTimers(!1)},r.prototype.flushHeaders=function(){},r.prototype.setNoDelay=function(){},r.prototype.setSocketKeepAlive=function(){};var a=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this)}).call(this,d("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global,d("buffer").Buffer)},{"./capability":258,"./response":260,_process:193,buffer:76,inherits:147,"readable-stream":228}],260:[function(d,N,A){(function(f,b,m){(function(){var _=d("./capability"),n=d("inherits"),g=d("readable-stream"),h=A.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},s=A.IncomingMessage=function(u,o,t,r){var a=this;if(g.Readable.call(a),a._mode=t,a.headers={},a.rawHeaders=[],a.trailers={},a.rawTrailers=[],a.on("end",function(){f.nextTick(function(){a.emit("close")})}),"fetch"===t){let k=function(){l.read().then(function(I){if(!a._destroyed)return r(I.done),I.done?void a.push(null):(a.push(m.from(I.value)),void k())}).catch(function(I){r(!0),a._destroyed||a.emit("error",I)})};if(a._fetchResponse=o,a.url=o.url,a.statusCode=o.status,a.statusMessage=o.statusText,o.headers.forEach(function(I,V){a.headers[V.toLowerCase()]=I,a.rawHeaders.push(V,I)}),_.writableStream){var c=new WritableStream({write:function(I){return r(!1),new Promise(function(V,$){a._destroyed?$():a.push(m.from(I))?V():a._resumeFetch=V})},close:function(){r(!0),a._destroyed||a.push(null)},abort:function(I){r(!0),a._destroyed||a.emit("error",I)}});try{return void o.body.pipeTo(c).catch(function(I){r(!0),a._destroyed||a.emit("error",I)})}catch{}}var l=o.body.getReader();k()}else if(a._xhr=u,a._pos=0,a.url=u.responseURL,a.statusCode=u.status,a.statusMessage=u.statusText,u.getAllResponseHeaders().split(/\r?\n/).forEach(function(k){var I=k.match(/^([^:]+):\s*(.*)/);if(I){var V=I[1].toLowerCase();"set-cookie"===V?(void 0===a.headers[V]&&(a.headers[V]=[]),a.headers[V].push(I[2])):void 0===a.headers[V]?a.headers[V]=I[2]:a.headers[V]+=", "+I[2],a.rawHeaders.push(I[1],I[2])}}),a._charset="x-user-defined",!_.overrideMimeType){var E=a.rawHeaders["mime-type"];if(E){var C=E.match(/;\s*charset=([^;])(;|$)/);C&&(a._charset=C[1].toLowerCase())}a._charset||(a._charset="utf-8")}};n(s,g.Readable),s.prototype._read=function(){var o=this._resumeFetch;o&&(this._resumeFetch=null,o())},s.prototype._onXHRProgress=function(u){var o=this,t=o._xhr,r=null;switch(o._mode){case"text":if((r=t.responseText).length>o._pos){var a=r.substr(o._pos);if("x-user-defined"===o._charset){for(var c=m.alloc(a.length),l=0;l<a.length;l++)c[l]=255&a.charCodeAt(l);o.push(c)}else o.push(a,o._charset);o._pos=r.length}break;case"arraybuffer":if(t.readyState!==h.DONE||!t.response)break;r=t.response,o.push(m.from(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==h.LOADING||!r)break;o.push(m.from(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==h.LOADING)break;var w=new b.MSStreamReader;w.onprogress=function(){w.result.byteLength>o._pos&&(o.push(m.from(new Uint8Array(w.result.slice(o._pos)))),o._pos=w.result.byteLength)},w.onload=function(){u(!0),o.push(null)},w.readAsArrayBuffer(r)}o._xhr.readyState===h.DONE&&"ms-stream"!==o._mode&&(u(!0),o.push(null))}}).call(this)}).call(this,d("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global,d("buffer").Buffer)},{"./capability":258,_process:193,buffer:76,inherits:147,"readable-stream":228}],261:[function(d,N,A){N.exports=async function f(m,_){const n=await b(m,_);return URL.createObjectURL(n)};const b=d("stream-to-blob")},{"stream-to-blob":262}],262:[function(d,N,A){N.exports=function f(b,m){if(null!=m&&"string"!=typeof m)throw new Error("Invalid mimetype, expected string.");return new Promise((_,n)=>{const g=[];b.on("data",h=>g.push(h)).once("end",()=>{const h=null==m?new Blob(g):new Blob(g,{type:m});_(h)}).once("error",n)})}},{}],263:[function(d,N,A){(function(f){(function(){var b=d("once");N.exports=function(_,n,g){g=b(g);var h=f.alloc(n),s=0;_.on("data",function(u){u.copy(h,s),s+=u.length}).on("end",function(){g(null,h)}).on("error",g)}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76,once:178}],264:[function(d,N,A){function f(){this.stream._duplexState|=Ee,this.stream._duplexState&at?this.drain():this.updateNextTick()}function b(Un){const We=this.stream;Un&&We.destroy(Un),!(We._duplexState&kn)&&(We._duplexState|=Dn,We.emit("finish")),(We._duplexState&In)===mn&&(We._duplexState|=D),We._duplexState&=Le,this.update()}function m(Un){const We=this.stream;Un||this.error===V||(Un=this.error),Un&&We.emit("error",Un),We._duplexState|=M,We.emit("close");const Mn=We._readableState,Yn=We._writableState;null!==Mn&&null!==Mn.pipeline&&Mn.pipeline.done(We,Un),null!==Yn&&null!==Yn.pipeline&&Yn.pipeline.done(We,Un)}function _(Un){const We=this.stream;Un&&We.destroy(Un),We._duplexState&=Le,(We._duplexState&me)===fr&&(We._duplexState&=Ct,(We._duplexState&Rt)===Rt&&We.emit("drain")),!(We._duplexState&sn)&&this.update()}function n(Un){Un&&this.stream.destroy(Un),this.stream._duplexState&=J,!(this.stream._duplexState&L)&&this.update()}function g(){this.stream._duplexState&=on,this.update()}function h(){this.stream._duplexState&=Bt,this.update()}function s(Un){const We=this.stream;Un&&We.destroy(Un),!(We._duplexState&D)&&(!(We._duplexState&Rn)&&(We._duplexState|=q),!(We._duplexState&Gn)&&(We._duplexState|=wn),We.emit("open")),We._duplexState&=Ot,null!==We._writableState&&We._writableState.update(),null!==We._readableState&&We._readableState.update()}function u(Un,We){null!=We&&this.push(We),this._writableState.afterWrite(Un)}function o(Un,We){const Mn=this._transformState.afterFinal;return Un?Mn(Un):(null!=We&&this.push(We),this.push(null),void Mn(null))}function r(Un,...We){function Mn(dr,Qr,di,hi){dr.on("error",hi),dr.on("close",function Ur(){return Qr&&dr._readableState&&!dr._readableState.ended||di&&dr._writableState&&!dr._writableState.ended?hi($):void 0})}function Yn(dr){if(dr&&!ci){ci=dr;for(const Qr of Cn)Qr.destroy(dr)}}const Cn=Array.isArray(Un)?[...Un,...We]:[Un,...We],Jn=Cn.length&&"function"==typeof Cn[Cn.length-1]?Cn.pop():null;if(2>Cn.length)throw new Error("Pipeline requires at least 2 streams");let Er=Cn[0],Gr=null,ci=null;for(let dr=1;dr<Cn.length;dr++)Gr=Cn[dr],c(Er)?Er.pipe(Gr,Yn):(Mn(Er,!0,1<dr,Yn),Er.pipe(Gr)),Er=Gr;if(Jn){let dr=!1;Gr.on("finish",()=>{dr=!0}),Gr.on("error",Qr=>{ci=ci||Qr}),Gr.on("close",()=>Jn(ci||(dr?null:$)))}return Gr}function a(Un){return!!Un._readableState||!!Un._writableState}function c(Un){return"number"==typeof Un._duplexState&&a(Un)}function C(Un){return function E(Un){return"object"==typeof Un&&null!==Un&&"number"==typeof Un.byteLength}(Un)?Un.byteLength:1024}function z(){}function k(){this.destroy(new Error("Stream aborted."))}const{EventEmitter:I}=d("events"),V=new Error("Stream was destroyed"),$=new Error("Premature close"),oe=d("queue-tick"),ue=d("fast-fifo"),Ae=67108863,D=4,M=8,v=1^Ae,F=16,q=32,L=64,Y=128,Ee=512,Se=1024,ut=16384,$t=32784,tt=256|Ee,at=F|L,nt=F|L|65536,Yt=q|F,J=Ae^F,W=Ae^(65536|q),ee=Ae^L,Jt=Ae^tt,on=Ae^$t,Ht=131072,wn=262144,sn=524288,Sn=1048576,fr=2097152,Dn=4194304,Rt=8388608,vr=16908288,de=33554432,Le=Ae^Ht,et=Ae^sn,qe=Ae^wn,Ct=Ae^fr,Bt=Ae^vr,ln=F|Ht,Ot=Ae^ln,mn=ut|Dn,kn=D|M|2,vn=1|kn,In=kn|mn,pr=qe&(Ae^q),Nn=vr|$t,Br=vn|Nn&Ot,Rn=vn|Se|ut,Qn=vn|ut|Y,Wr=vn|Se|Y,Kn=4096|vn|Y|8192,Zn=vn|F|Se|ut|65536,Kr=kn|Se|ut,Gn=vn|de|Dn,er=Sn|fr,me=Sn|fr|vn|Ht,ot=vn|Ht|Sn,ft=wn|Ht,be=Ht|sn,dt=vn|de|1179648|Dn,Zr=fr|kn|de|Dn,ri=Symbol.asyncIterator||Symbol("asyncIterator");class si{constructor(We,{highWaterMark:Mn=16384,map:Yn=null,mapWritable:Cn,byteLength:Jn,byteLengthWritable:Er}={}){this.stream=We,this.queue=new ue,this.highWaterMark=Mn,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=Er||Jn||C,this.map=Cn||Yn,this.afterWrite=_.bind(this),this.afterUpdateNextTick=h.bind(this)}get ended(){return 0!=(this.stream._duplexState&Dn)}push(We){return null!==this.map&&(We=this.map(We)),this.buffered+=this.byteLength(We),this.queue.push(We),this.buffered<this.highWaterMark?(this.stream._duplexState|=Sn,!0):(this.stream._duplexState|=er,!1)}shift(){const We=this.queue.shift(),Mn=this.stream;return this.buffered-=this.byteLength(We),0===this.buffered&&(Mn._duplexState&=66060287),We}end(We){"function"==typeof We?this.stream.once("finish",We):null!=We&&this.push(We),this.stream._duplexState=(this.stream._duplexState|de)&qe}autoBatch(We,Mn){const Yn=[],Cn=this.stream;for(Yn.push(We);1179648==(Cn._duplexState&ot);)Yn.push(Cn._writableState.shift());return Cn._duplexState&vn?Mn(null):void Cn._writev(Yn,Mn)}update(){const We=this.stream;for(;(We._duplexState&ot)===Sn;){const Mn=this.shift();We._duplexState|=be,We._write(Mn,this.afterWrite),We._duplexState&=et}!(We._duplexState&ft)&&this.updateNonPrimary()}updateNonPrimary(){const We=this.stream;return(We._duplexState&dt)===de?(We._duplexState=33554431&(We._duplexState|Ht),void We._final(b.bind(this))):(We._duplexState&kn)===D?void(0==(We._duplexState&Nn)&&(We._duplexState|=ln,We._destroy(m.bind(this)))):void(1==(We._duplexState&Br)&&(We._duplexState=(We._duplexState|ln)&v,We._open(s.bind(this))))}updateNextTick(){this.stream._duplexState&vr||(this.stream._duplexState|=vr,oe(this.afterUpdateNextTick))}}class cr{constructor(We,{highWaterMark:Mn=16384,map:Yn=null,mapReadable:Cn,byteLength:Jn,byteLengthReadable:Er}={}){this.stream=We,this.queue=new ue,this.highWaterMark=Mn,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=Er||Jn||C,this.map=Cn||Yn,this.pipeTo=null,this.afterRead=n.bind(this),this.afterUpdateNextTick=g.bind(this)}get ended(){return 0!=(this.stream._duplexState&ut)}pipe(We,Mn){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof Mn&&(Mn=null),this.stream._duplexState|=Ee,this.pipeTo=We,this.pipeline=new Jr(this.stream,We,Mn),Mn&&this.stream.on("error",z),c(We))We._writableState.pipeline=this.pipeline,Mn&&We.on("error",z),We.on("finish",this.pipeline.finished.bind(this.pipeline));else{const Yn=this.pipeline.done.bind(this.pipeline,We),Cn=this.pipeline.done.bind(this.pipeline,We,null);We.on("error",Yn),We.on("close",Cn),We.on("finish",this.pipeline.finished.bind(this.pipeline))}We.on("drain",f.bind(this)),this.stream.emit("piping",We),We.emit("pipe",this.stream)}push(We){const Mn=this.stream;return null===We?(this.highWaterMark=0,Mn._duplexState=(Mn._duplexState|Se)&W,!1):(null!==this.map&&(We=this.map(We)),this.buffered+=this.byteLength(We),this.queue.push(We),Mn._duplexState=67043327&(Mn._duplexState|Y),this.buffered<this.highWaterMark)}shift(){const We=this.queue.shift();return this.buffered-=this.byteLength(We),0===this.buffered&&(this.stream._duplexState&=67100543),We}unshift(We){let Mn;const Yn=[];for(;void 0!==(Mn=this.queue.shift());)Yn.push(Mn);this.push(We);for(let Cn=0;Cn<Yn.length;Cn++)this.queue.push(Yn[Cn])}read(){const We=this.stream;if((We._duplexState&Qn)===Y){const Mn=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(Mn)&&(We._duplexState&=Jt),2048&We._duplexState&&We.emit("data",Mn),Mn}return null}drain(){for(const We=this.stream;(We._duplexState&Qn)===Y&&We._duplexState&tt;){const Mn=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(Mn)&&(We._duplexState&=Jt),2048&We._duplexState&&We.emit("data",Mn)}}update(){const We=this.stream;for(this.drain();this.buffered<this.highWaterMark&&!(We._duplexState&Zn);)We._duplexState|=nt,We._read(this.afterRead),We._duplexState&=ee,!(We._duplexState&F)&&this.drain();4224==(We._duplexState&Kn)&&(We._duplexState|=8192,We.emit("readable")),!(We._duplexState&Yt)&&this.updateNonPrimary()}updateNonPrimary(){const We=this.stream;return(We._duplexState&Wr)===Se&&(We._duplexState=67107839&(We._duplexState|ut),We.emit("end"),(We._duplexState&In)===mn&&(We._duplexState|=D),null!==this.pipeTo&&this.pipeTo.end()),(We._duplexState&kn)===D?void(0==(We._duplexState&Nn)&&(We._duplexState|=ln,We._destroy(m.bind(this)))):void(1==(We._duplexState&Br)&&(We._duplexState=(We._duplexState|ln)&v,We._open(s.bind(this))))}updateNextTick(){this.stream._duplexState&$t||(this.stream._duplexState|=$t,oe(this.afterUpdateNextTick))}}class yi{constructor(We){this.data=null,this.afterTransform=u.bind(We),this.afterFinal=null}}class Jr{constructor(We,Mn,Yn){this.from=We,this.to=Mn,this.afterPipe=Yn,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(We,Mn){return Mn&&(this.error=Mn),We===this.to&&(this.to=null,null!==this.from)?void(0!=(this.from._duplexState&ut)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))):We===this.from&&(this.from=null,null!==this.to)?void(0==(We._duplexState&ut)&&this.to.destroy(this.error||new Error("Readable stream closed before ending"))):(null!==this.afterPipe&&this.afterPipe(this.error),void(this.to=this.from=this.afterPipe=null))}}class zr extends I{constructor(We){super(),this._duplexState=0,this._readableState=null,this._writableState=null,We&&(We.open&&(this._open=We.open),We.destroy&&(this._destroy=We.destroy),We.predestroy&&(this._predestroy=We.predestroy),We.signal&&We.signal.addEventListener("abort",k.bind(this)))}_open(We){We(null)}_destroy(We){We(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(this._duplexState&M)}get destroying(){return 0!=(this._duplexState&kn)}destroy(We){!(this._duplexState&kn)&&(!We&&(We=V),this._duplexState=(this._duplexState|D)&pr,null!==this._readableState&&(this._readableState.error=We),null!==this._writableState&&(this._writableState.error=We),this._duplexState|=2,this._predestroy(),this._duplexState&=67108861,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}on(We,Mn){return null!==this._readableState&&("data"===We&&(this._duplexState|=2304,this._readableState.updateNextTick()),"readable"===We&&(this._duplexState|=4096,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===We&&(this._duplexState|=Rt,this._writableState.updateNextTick()),super.on(We,Mn)}}class ui extends zr{constructor(We){super(We),this._duplexState|=1|Dn,this._readableState=new cr(this,We),We&&(We.read&&(this._read=We.read),We.eagerOpen&&this.resume().pause())}_read(We){We(null)}pipe(We,Mn){return this._readableState.pipe(We,Mn),this._readableState.updateNextTick(),We}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(We){return this._readableState.updateNextTick(),this._readableState.push(We)}unshift(We){return this._readableState.updateNextTick(),this._readableState.unshift(We)}resume(){return this._duplexState|=256,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=67108607,this}static _fromAsyncIterator(We,Mn){function Yn(Er){Jn.push(Er.done?null:Er.value)}let Cn;const Jn=new ui({...Mn,read(Er){We.next().then(Yn).then(Er.bind(null,null)).catch(Er)},predestroy(){Cn=We.return()},destroy:Er=>Cn?void Cn.then(Er.bind(null,null)).catch(Er):Er(null)});return Jn}static from(We,Mn){if(function w(Un){return c(Un)&&Un.readable}(We))return We;if(We[ri])return this._fromAsyncIterator(We[ri](),Mn);Array.isArray(We)||(We=void 0===We?[]:[We]);let Yn=0;return new ui({...Mn,read(Cn){this.push(Yn===We.length?null:We[Yn++]),Cn(null)}})}static isBackpressured(We){return 0!=(We._duplexState&Kr)||We._readableState.buffered>=We._readableState.highWaterMark}static isPaused(We){return 0==(256&We._duplexState)}[ri](){function Yn(dr){null===ci||(Er?ci(Er):null!==dr||Jn._duplexState&ut?Gr({value:dr,done:null==dr}):ci(V),ci=Gr=null)}function Cn(dr){return Jn.destroy(dr),new Promise((Qr,di)=>Jn._duplexState&M?Qr({value:void 0,done:!0}):void Jn.once("close",function(){dr?di(dr):Qr({value:void 0,done:!0})}))}const Jn=this;let Er=null,Gr=null,ci=null;return this.on("error",dr=>{Er=dr}),this.on("readable",function We(){null!==Gr&&Yn(Jn.read())}),this.on("close",function Mn(){null!==Gr&&Yn(null)}),{[ri](){return this},next:()=>new Promise(function(dr,Qr){Gr=dr,ci=Qr;const di=Jn.read();null===di?Jn._duplexState&M&&Yn(null):Yn(di)}),return:()=>Cn(null),throw:dr=>Cn(dr)}}}class li extends ui{constructor(We){super(We),this._duplexState=1,this._writableState=new si(this,We),We&&(We.writev&&(this._writev=We.writev),We.write&&(this._write=We.write),We.final&&(this._final=We.final))}_writev(We,Mn){Mn(null)}_write(We,Mn){this._writableState.autoBatch(We,Mn)}_final(We){We(null)}write(We){return this._writableState.updateNextTick(),this._writableState.push(We)}end(We){return this._writableState.updateNextTick(),this._writableState.end(We),this}}class Vr extends li{constructor(We){super(We),this._transformState=new yi(this),We&&(We.transform&&(this._transform=We.transform),We.flush&&(this._flush=We.flush))}_write(We,Mn){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=We:this._transform(We,this._transformState.afterTransform)}_read(We){if(null!==this._transformState.data){const Mn=this._transformState.data;this._transformState.data=null,We(null),this._transform(Mn,this._transformState.afterTransform)}else We(null)}_transform(We,Mn){Mn(null,We)}_flush(We){We(null)}_final(We){this._transformState.afterFinal=We,this._flush(o.bind(this))}}N.exports={pipeline:r,pipelinePromise:function t(...Un){return new Promise((We,Mn)=>r(...Un,Yn=>Yn?Mn(Yn):void We()))},isStream:a,isStreamx:c,getStreamError:function l(Un){return Un._readableState&&Un._readableState.error||Un._writableState&&Un._writableState.error},Stream:zr,Writable:class ai extends zr{constructor(We){super(We),this._duplexState|=1|ut,this._writableState=new si(this,We),We&&(We.writev&&(this._writev=We.writev),We.write&&(this._write=We.write),We.final&&(this._final=We.final))}_writev(We,Mn){Mn(null)}_write(We,Mn){this._writableState.autoBatch(We,Mn)}_final(We){We(null)}static isBackpressured(We){return 0!=(We._duplexState&Zr)}write(We){return this._writableState.updateNextTick(),this._writableState.push(We)}end(We){return this._writableState.updateNextTick(),this._writableState.end(We),this}},Readable:ui,Duplex:li,Transform:Vr,PassThrough:class Fr extends Vr{}}},{events:123,"fast-fifo":127,"queue-tick":207}],265:[function(d,N,A){arguments[4][71][0].apply(A,arguments)},{dup:71,"safe-buffer":235}],266:[function(d,N,A){var f=d("./thirty-two");A.encode=f.encode,A.decode=f.decode},{"./thirty-two":267}],267:[function(d,N,A){(function(f){(function(){"use strict";var _=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];A.encode=function(n){f.isBuffer(n)||(n=new f(n));for(var g=0,h=0,s=0,u=0,o=new f(8*function b(n){var g=xt(n.length/5);return n.length%5==0?g:g+1}(n));g<n.length;){var t=n[g];3<s?(u=(u=t&255>>s)<<(s=(s+5)%8)|(g+1<n.length?n[g+1]:0)>>8-s,g++):(u=31&t>>8-(s+5),0==(s=(s+5)%8)&&g++),o[h]="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".charCodeAt(u),h++}for(g=h;g<o.length;g++)o[g]=61;return o},A.decode=function(n){var u,g=0,h=0,s=0;f.isBuffer(n)||(n=new f(n));for(var o=new f(_e(5*n.length/8)),t=0;t<n.length&&61!==n[t];t++){var r=n[t]-48;if(!(r<_.length))throw new Error("Invalid input - it is not base32 encoded string");h=_[r],3>=g?0==(g=(g+5)%8)?(o[s]=u|=h,s++,u=0):u|=255&h<<8-g:(o[s]=u|=255&h>>>(g=(g+5)%8),s++,u=255&h<<8-g)}return o.slice(0,s)}}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76}],268:[function(d,N,A){function f(n){return 65535&(+Date.now()-n)/_}const _=100;N.exports=function(n){const g=+Date.now(),h=10*(n||5),s=[0];let u=1,o=f(g)-1&65535;return function(t){const r=f(g);let a=r-o&65535;for(a>h&&(a=h),o=r;a--;)u===h&&(u=0),s[u]=s[0==u?h-1:u-1],u++;t&&(s[u-1]+=t);const c=s[u-1];return s.length<10?c:10*(c-(s.length<h?0:s[u===h?0:u]))/s.length}}},{}],269:[function(d,N,A){var f=d("buffer").Buffer;N.exports=function(b){if(b instanceof Uint8Array){if(0===b.byteOffset&&b.byteLength===b.buffer.byteLength)return b.buffer;if("function"==typeof b.buffer.slice)return b.buffer.slice(b.byteOffset,b.byteOffset+b.byteLength)}if(f.isBuffer(b)){for(var m=new Uint8Array(b.length),_=b.length,n=0;n<_;n++)m[n]=b[n];return m.buffer}throw new Error("Argument must be a Buffer")}},{buffer:76}],270:[function(d,N,A){(function(f){(function(){const b=d("debug")("torrent-discovery"),m=d("bittorrent-dht/client"),_=d("events").EventEmitter,n=d("run-parallel"),g=d("bittorrent-tracker/client"),h=d("bittorrent-lsd");N.exports=class s extends _{constructor(o){if(super(),!o.peerId)throw new Error("Option `peerId` is required");if(!o.infoHash)throw new Error("Option `infoHash` is required");if(!f.browser&&!o.port)throw new Error("Option `port` is required");this.peerId="string"==typeof o.peerId?o.peerId:o.peerId.toString("hex"),this.infoHash="string"==typeof o.infoHash?o.infoHash.toLowerCase():o.infoHash.toString("hex"),this._port=o.port,this._userAgent=o.userAgent,this.destroyed=!1,this._announce=o.announce||[],this._intervalMs=o.intervalMs||9e5,this._trackerOpts=null,this._dhtAnnouncing=!1,this._dhtTimeout=!1,this._internalDHT=!1,this._onWarning=r=>{this.emit("warning",r)},this._onError=r=>{this.emit("error",r)},this._onDHTPeer=(r,a)=>{a.toString("hex")!==this.infoHash||this.emit("peer",`${r.host}:${r.port}`,"dht")},this._onTrackerPeer=r=>{this.emit("peer",r,"tracker")},this._onTrackerAnnounce=()=>{this.emit("trackerAnnounce")},this._onLSDPeer=(r,a)=>{this.emit("peer",r,"lsd")};const t=(r,a)=>{const c=new m(a);return c.on("warning",this._onWarning),c.on("error",this._onError),c.listen(r),this._internalDHT=!0,c};!1===o.tracker?this.tracker=null:o.tracker&&"object"==typeof o.tracker?(this._trackerOpts=Object.assign({},o.tracker),this.tracker=this._createTracker()):this.tracker=this._createTracker(),this.dht=!1===o.dht||"function"!=typeof m?null:o.dht&&"function"==typeof o.dht.addNode?o.dht:o.dht&&"object"==typeof o.dht?t(o.dhtPort,o.dht):t(o.dhtPort),this.dht&&(this.dht.on("peer",this._onDHTPeer),this._dhtAnnounce()),this.lsd=!1===o.lsd||"function"!=typeof h?null:this._createLSD()}updatePort(o){o===this._port||(this._port=o,this.dht&&this._dhtAnnounce(),this.tracker&&(this.tracker.stop(),this.tracker.destroy(()=>{this.tracker=this._createTracker()})))}complete(o){this.tracker&&this.tracker.complete(o)}destroy(o){if(!this.destroyed){this.destroyed=!0,clearTimeout(this._dhtTimeout);const t=[];this.tracker&&(this.tracker.stop(),this.tracker.removeListener("warning",this._onWarning),this.tracker.removeListener("error",this._onError),this.tracker.removeListener("peer",this._onTrackerPeer),this.tracker.removeListener("update",this._onTrackerAnnounce),t.push(r=>{this.tracker.destroy(r)})),this.dht&&this.dht.removeListener("peer",this._onDHTPeer),this._internalDHT&&(this.dht.removeListener("warning",this._onWarning),this.dht.removeListener("error",this._onError),t.push(r=>{this.dht.destroy(r)})),this.lsd&&(this.lsd.removeListener("warning",this._onWarning),this.lsd.removeListener("error",this._onError),this.lsd.removeListener("peer",this._onLSDPeer),t.push(r=>{this.lsd.destroy(r)})),n(t,o),this.dht=null,this.tracker=null,this.lsd=null,this._announce=null}}_createTracker(){const o=Object.assign({},this._trackerOpts,{infoHash:this.infoHash,announce:this._announce,peerId:this.peerId,port:this._port,userAgent:this._userAgent}),t=new g(o);return t.on("warning",this._onWarning),t.on("error",this._onError),t.on("peer",this._onTrackerPeer),t.on("update",this._onTrackerAnnounce),t.setInterval(this._intervalMs),t.start(),t}_dhtAnnounce(){this._dhtAnnouncing||(b("dht announce"),this._dhtAnnouncing=!0,clearTimeout(this._dhtTimeout),this.dht.announce(this.infoHash,this._port,o=>{this._dhtAnnouncing=!1,b("dht announce complete"),o&&this.emit("warning",o),this.emit("dhtAnnounce"),this.destroyed||(this._dhtTimeout=setTimeout(()=>{this._dhtAnnounce()},this._intervalMs+xt(Math.random()*this._intervalMs/5)),this._dhtTimeout.unref&&this._dhtTimeout.unref())}))}_createLSD(){const o=Object.assign({},{infoHash:this.infoHash,peerId:this.peerId,port:this._port}),t=new h(o);return t.on("warning",this._onWarning),t.on("error",this._onError),t.on("peer",this._onLSDPeer),t.start(),t}}}).call(this)}).call(this,d("_process"))},{_process:193,"bittorrent-dht/client":42,"bittorrent-lsd":42,"bittorrent-tracker/client":33,debug:91,events:123,"run-parallel":233}],271:[function(d,N,A){(function(f){(function(){class m{constructor(n){this.length=n,this.missing=n,this.sources=null,this._chunks=_e(n/16384),this._remainder=n%16384||16384,this._buffered=0,this._buffer=null,this._cancellations=null,this._reservations=0,this._flushed=!1}chunkLength(n){return n===this._chunks-1?this._remainder:16384}chunkLengthRemaining(n){return this.length-16384*n}chunkOffset(n){return 16384*n}reserve(){return this.init()?this._cancellations.length?this._cancellations.pop():this._reservations<this._chunks?this._reservations++:-1:-1}reserveRemaining(){if(!this.init())return-1;if(this._cancellations.length||this._reservations<this._chunks){let n=this._reservations;for(;this._cancellations.length;)n=ne(n,this._cancellations.pop());return this._reservations=this._chunks,n}return-1}cancel(n){this.init()&&this._cancellations.push(n)}cancelRemaining(n){this.init()&&(this._reservations=n)}get(n){return this.init()?this._buffer[n]:null}set(n,g,h){if(!this.init())return!1;const u=_e(g.length/16384);for(let o=0;o<u;o++)if(!this._buffer[n+o]){const t=16384*o,r=g.slice(t,t+16384);this._buffered++,this._buffer[n+o]=r,this.missing-=r.length,this.sources.includes(h)||this.sources.push(h)}return this._buffered===this._chunks}flush(){if(!this._buffer||this._chunks!==this._buffered)return null;const n=f.concat(this._buffer,this.length);return this._buffer=null,this._cancellations=null,this.sources=null,this._flushed=!0,n}init(){return!(this._flushed||!this._buffer&&(this._buffer=Array(this._chunks),this._cancellations=[],this.sources=[],0))}}Object.defineProperty(m,"BLOCK_LENGTH",{value:16384}),N.exports=m}).call(this)}).call(this,d("buffer").Buffer)},{buffer:76}],272:[function(d,N,A){var f=d("buffer-alloc"),b=H(2,32);A.encodingLength=function(){return 8},A.encode=function(m,_,n){_||(_=f(8)),n||(n=0);var g=xt(m/b),h=m-g*b;return _.writeUInt32BE(g,n),_.writeUInt32BE(h,n+4),_},A.decode=function(m,_){_||(_=0);var n=m.readUInt32BE(_),g=m.readUInt32BE(_+4);return n*b+g},A.encode.bytes=8,A.decode.bytes=8},{"buffer-alloc":73}],273:[function(d,N,A){N.exports=function f(b,m){if(!(m>=b.length||0>m)){var _=b.pop();if(m<b.length){var n=b[m];return b[m]=_,n}return _}}},{}],274:[function(d,N,A){"use strict";function f(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function b($,oe,ue){if($&&h.isObject($)&&$ instanceof f)return $;var Ae=new f;return Ae.parse($,oe,ue),Ae}var g=d("punycode"),h=d("./util");A.parse=b,A.resolve=function _($,oe){return b($,!1,!0).resolve(oe)},A.resolveObject=function n($,oe){return $?b($,!1,!0).resolveObject(oe):oe},A.format=function m($){return h.isString($)&&($=b($)),$ instanceof f?$.format():f.prototype.format.call($)},A.Url=f;var s=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),a=["'"].concat(r),c=["%","/","?",";","#"].concat(a),l=["/","?","#"],E=/^[+a-z0-9A-Z_-]{0,63}$/,C=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,z={javascript:!0,"javascript:":!0},k={javascript:!0,"javascript:":!0},I={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},V=d("querystring");f.prototype.parse=function($,oe,ue){if(!h.isString($))throw new TypeError("Parameter 'url' must be a string, not "+typeof $);var Ae=$.indexOf("?"),X=-1!==Ae&&Ae<$.indexOf("#")?"?":"#",T=$.split(X);T[0]=T[0].replace(/\\/g,"/");var M=$=T.join(X);if(M=M.trim(),!ue&&1===$.split("#").length){var v=o.exec(M);if(v)return this.path=M,this.href=M,this.pathname=v[1],v[2]?(this.search=v[2],this.query=oe?V.parse(this.search.substr(1)):this.search.substr(1)):oe&&(this.search="",this.query={}),this}var O,B=s.exec(M);if(B){var F=(B=B[0]).toLowerCase();this.protocol=F,M=M.substr(B.length)}if(ue||B||M.match(/^\/\/[^@\/]+@[^@\/]+/)){var q="//"===M.substr(0,2);q&&(!B||!k[B])&&(M=M.substr(2),this.slashes=!0)}if(!k[B]&&(q||B&&!I[B])){for(var L=-1,Y=0;Y<l.length;Y++)-1!==(se=M.indexOf(l[Y]))&&(-1===L||se<L)&&(L=se);var Ee,Se,se;for(-1!==(Se=-1===L?M.lastIndexOf("@"):M.lastIndexOf("@",L))&&(Ee=M.slice(0,Se),M=M.slice(Se+1),this.auth=decodeURIComponent(Ee)),L=-1,Y=0;Y<c.length;Y++)-1!==(se=M.indexOf(c[Y]))&&(-1===L||se<L)&&(L=se);-1===L&&(L=M.length),this.host=M.slice(0,L),M=M.slice(L),this.parseHost(),this.hostname=this.hostname||"";var Ie="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Ie)for(var ut,Qe=this.hostname.split(/\./),Je=(Y=0,Qe.length);Y<Je;Y++)if((ut=Qe[Y])&&!ut.match(E)){for(var $t="",qt=0,tt=ut.length;qt<tt;qt++)$t+=127<ut.charCodeAt(qt)?"x":ut[qt];if(!$t.match(E)){var at=Qe.slice(0,Y),nt=Qe.slice(Y+1),Yt=ut.match(C);Yt&&(at.push(Yt[1]),nt.unshift(Yt[2])),nt.length&&(M="/"+nt.join(".")+M),this.hostname=at.join(".");break}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase(),Ie||(this.hostname=g.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Ie&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==M[0]&&(M="/"+M))}if(!z[F])for(Y=0,Je=a.length;Y<Je;Y++)if(-1!==M.indexOf(O=a[Y])){var W=encodeURIComponent(O);W===O&&(W=escape(O)),M=M.split(O).join(W)}var ee=M.indexOf("#");-1!==ee&&(this.hash=M.substr(ee),M=M.slice(0,ee));var ve=M.indexOf("?");return-1===ve?oe&&(this.search="",this.query={}):(this.search=M.substr(ve),this.query=M.substr(ve+1),oe&&(this.query=V.parse(this.query)),M=M.slice(0,ve)),M&&(this.pathname=M),I[F]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},f.prototype.format=function(){var $=this.auth||"";$&&($=($=encodeURIComponent($)).replace(/%3A/i,":"),$+="@");var oe=this.protocol||"",ue=this.pathname||"",Ae=this.hash||"",X=!1,T="";this.host?X=$+this.host:this.hostname&&(X=$+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(X+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(T=V.stringify(this.query));var D=this.search||T&&"?"+T||"";return oe&&":"!==oe.substr(-1)&&(oe+=":"),this.slashes||(!oe||I[oe])&&!1!==X?(X="//"+(X||""),ue&&"/"!==ue.charAt(0)&&(ue="/"+ue)):!X&&(X=""),Ae&&"#"!==Ae.charAt(0)&&(Ae="#"+Ae),D&&"?"!==D.charAt(0)&&(D="?"+D),oe+X+(ue=ue.replace(/[?#]/g,function(M){return encodeURIComponent(M)}))+(D=D.replace("#","%23"))+Ae},f.prototype.resolve=function($){return this.resolveObject(b($,!1,!0)).format()},f.prototype.resolveObject=function($){if(h.isString($)){var oe=new f;oe.parse($,!1,!0),$=oe}for(var T,ue=new f,Ae=Object.keys(this),X=0;X<Ae.length;X++)ue[T=Ae[X]]=this[T];if(ue.hash=$.hash,""===$.href)return ue.href=ue.format(),ue;if($.slashes&&!$.protocol){for(var v,D=Object.keys($),M=0;M<D.length;M++)"protocol"!==(v=D[M])&&(ue[v]=$[v]);return I[ue.protocol]&&ue.hostname&&!ue.pathname&&(ue.path=ue.pathname="/"),ue.href=ue.format(),ue}if($.protocol&&$.protocol!==ue.protocol){if(!I[$.protocol]){for(var q,B=Object.keys($),F=0;F<B.length;F++)ue[q=B[F]]=$[q];return ue.href=ue.format(),ue}if(ue.protocol=$.protocol,$.host||k[$.protocol])ue.pathname=$.pathname;else{for(var Je=($.pathname||"").split("/");Je.length&&!($.host=Je.shift()););$.host||($.host=""),$.hostname||($.hostname=""),""!==Je[0]&&Je.unshift(""),2>Je.length&&Je.unshift(""),ue.pathname=Je.join("/")}return ue.search=$.search,ue.query=$.query,ue.host=$.host||"",ue.auth=$.auth,ue.hostname=$.hostname||$.host,ue.port=$.port,(ue.pathname||ue.search)&&(ue.path=(ue.pathname||"")+(ue.search||"")),ue.slashes=ue.slashes||$.slashes,ue.href=ue.format(),ue}var se=ue.pathname&&"/"===ue.pathname.charAt(0),Ee=$.host||$.pathname&&"/"===$.pathname.charAt(0),Se=Ee||se||ue.host&&$.pathname,Ie=Se,Qe=ue.pathname&&ue.pathname.split("/")||[],ut=(Je=$.pathname&&$.pathname.split("/")||[],ue.protocol&&!I[ue.protocol]);if(ut&&(ue.hostname="",ue.port=null,ue.host&&(""===Qe[0]?Qe[0]=ue.host:Qe.unshift(ue.host)),ue.host="",$.protocol&&($.hostname=null,$.port=null,$.host&&(""===Je[0]?Je[0]=$.host:Je.unshift($.host)),$.host=null),Se=Se&&(""===Je[0]||""===Qe[0])),Ee)ue.host=$.host||""===$.host?$.host:ue.host,ue.hostname=$.hostname||""===$.hostname?$.hostname:ue.hostname,ue.search=$.search,ue.query=$.query,Qe=Je;else if(Je.length)Qe||(Qe=[]),Qe.pop(),Qe=Qe.concat(Je),ue.search=$.search,ue.query=$.query;else if(!h.isNullOrUndefined($.search))return ut&&(ue.hostname=ue.host=Qe.shift(),($t=!!(ue.host&&0<ue.host.indexOf("@"))&&ue.host.split("@"))&&(ue.auth=$t.shift(),ue.host=ue.hostname=$t.shift())),ue.search=$.search,ue.query=$.query,h.isNull(ue.pathname)&&h.isNull(ue.search)||(ue.path=(ue.pathname?ue.pathname:"")+(ue.search?ue.search:"")),ue.href=ue.format(),ue;if(!Qe.length)return ue.pathname=null,ue.path=ue.search?"/"+ue.search:null,ue.href=ue.format(),ue;for(var qt=Qe.slice(-1)[0],tt=(ue.host||$.host||1<Qe.length)&&("."===qt||".."===qt)||""===qt,at=0,nt=Qe.length;0<=nt;nt--)"."===(qt=Qe[nt])?Qe.splice(nt,1):".."===qt?(Qe.splice(nt,1),at++):at&&(Qe.splice(nt,1),at--);if(!Se&&!Ie)for(;at--;at)Qe.unshift("..");Se&&""!==Qe[0]&&(!Qe[0]||"/"!==Qe[0].charAt(0))&&Qe.unshift(""),tt&&"/"!==Qe.join("/").substr(-1)&&Qe.push("");var $t,Yt=""===Qe[0]||Qe[0]&&"/"===Qe[0].charAt(0);return ut&&(ue.hostname=ue.host=Yt?"":Qe.length?Qe.shift():"",($t=!!(ue.host&&0<ue.host.indexOf("@"))&&ue.host.split("@"))&&(ue.auth=$t.shift(),ue.host=ue.hostname=$t.shift())),(Se=Se||ue.host&&Qe.length)&&!Yt&&Qe.unshift(""),Qe.length?ue.pathname=Qe.join("/"):(ue.pathname=null,ue.path=null),h.isNull(ue.pathname)&&h.isNull(ue.search)||(ue.path=(ue.pathname?ue.pathname:"")+(ue.search?ue.search:"")),ue.auth=$.auth||ue.auth,ue.slashes=ue.slashes||$.slashes,ue.href=ue.format(),ue},f.prototype.parseHost=function(){var $=this.host,oe=u.exec($);oe&&(":"!==(oe=oe[0])&&(this.port=oe.substr(1)),$=$.substr(0,$.length-oe.length)),$&&(this.hostname=$)}},{"./util":275,punycode:202,querystring:205}],275:[function(d,N,A){"use strict";N.exports={isString:function(f){return"string"==typeof f},isObject:function(f){return"object"==typeof f&&null!==f},isNull:function(f){return null===f},isNullOrUndefined:function(f){return null==f}}},{}],276:[function(d,N,A){(function(f){(function(){const{EventEmitter:b}=d("events"),m=d("bencode"),_=d("bitfield").default,n=d("debug")("ut_metadata"),g=d("simple-sha1"),u=16384;N.exports=o=>{class t extends b{constructor(a){super(),this._wire=a,this._fetching=!1,this._metadataComplete=!1,this._metadataSize=null,this._remainingRejects=null,this._bitfield=new _(0,{grow:1e3}),f.isBuffer(o)&&this.setMetadata(o)}onHandshake(a,c,l){this._infoHash=a}onExtendedHandshake(a){return a.m&&a.m.ut_metadata?a.metadata_size?"number"!=typeof a.metadata_size||1e7<a.metadata_size||0>=a.metadata_size?this.emit("warning",new Error("Peer gave invalid metadata size")):(this._metadataSize=a.metadata_size,this._numPieces=_e(this._metadataSize/u),this._remainingRejects=2*this._numPieces,void this._requestPieces()):this.emit("warning",new Error("Peer does not have metadata")):this.emit("warning",new Error("Peer does not support ut_metadata"))}onMessage(a){let c,l;try{const w=a.toString(),E=w.indexOf("ee")+2;c=m.decode(w.substring(0,E)),l=a.slice(E)}catch{return}switch(c.msg_type){case 0:this._onRequest(c.piece);break;case 1:this._onData(c.piece,l,c.total_size);break;case 2:this._onReject(c.piece)}}fetch(){this._metadataComplete||(this._fetching=!0,this._metadataSize&&this._requestPieces())}cancel(){this._fetching=!1}setMetadata(a){if(this._metadataComplete)return!0;n("set metadata");try{const c=m.decode(a).info;c&&(a=m.encode(c))}catch{}return!(this._infoHash&&this._infoHash!==g.sync(a)||(this.cancel(),this.metadata=a,this._metadataComplete=!0,this._metadataSize=this.metadata.length,this._wire.extendedHandshake.metadata_size=this._metadataSize,this.emit("metadata",m.encode({info:m.decode(this.metadata)})),0))}_send(a,c){let l=m.encode(a);f.isBuffer(c)&&(l=f.concat([l,c])),this._wire.extended("ut_metadata",l)}_request(a){this._send({msg_type:0,piece:a})}_data(a,c,l){const w={msg_type:1,piece:a};"number"==typeof l&&(w.total_size=l),this._send(w,c)}_reject(a){this._send({msg_type:2,piece:a})}_onRequest(a){if(!this._metadataComplete)return void this._reject(a);const c=a*u;let l=c+u;l>this._metadataSize&&(l=this._metadataSize);const w=this.metadata.slice(c,l);this._data(a,w,this._metadataSize)}_onData(a,c,l){c.length>u||!this._fetching||(c.copy(this.metadata,a*u),this._bitfield.set(a),this._checkDone())}_onReject(a){0<this._remainingRejects&&this._fetching?(this._request(a),this._remainingRejects-=1):this.emit("warning",new Error('Peer sent "reject" too much'))}_requestPieces(){if(this._fetching){this.metadata=f.alloc(this._metadataSize);for(let a=0;a<this._numPieces;a++)this._request(a)}}_checkDone(){let a=!0;for(let c=0;c<this._numPieces;c++)if(!this._bitfield.get(c)){a=!1;break}a&&(this.setMetadata(this.metadata)||this._failedMetadata())}_failedMetadata(){this._bitfield=new _(0,{grow:1e3}),this._remainingRejects-=this._numPieces,0<this._remainingRejects?this._requestPieces():this.emit("warning",new Error("Peer sent invalid metadata"))}}return t.prototype.name="ut_metadata",t}}).call(this)}).call(this,d("buffer").Buffer)},{bencode:27,bitfield:31,buffer:76,debug:91,events:123,"simple-sha1":248}],277:[function(d,N,A){(function(f){(function(){function m(_){try{if(!f.localStorage)return!1}catch{return!1}var n=f.localStorage[_];return null!=n&&"true"===(n+"").toLowerCase()}N.exports=function b(_,n){if(m("noDeprecation"))return _;var h=!1;return function g(){if(!h){if(m("throwDeprecation"))throw new Error(n);m("traceDeprecation")?console.trace(n):console.warn(n),h=!0}return _.apply(this,arguments)}}}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],278:[function(d,N,A){(function(f){(function(){const m=d("binary-search"),_=d("events"),n=d("mp4-stream"),g=d("mp4-box-encoding"),h=d("range-slice-stream");class o{constructor(a,c){this._entries=a,this._countName=c||"count",this._index=0,this._offset=0,this.value=this._entries[0]}inc(){this._offset++,this._offset>=this._entries[this._index][this._countName]&&(this._index++,this._offset=0),this.value=this._entries[this._index]}}N.exports=class u extends _{constructor(a){super(),this._tracks=[],this._file=a,this._decoder=null,this._findMoov(0)}_findMoov(a){this._decoder&&this._decoder.destroy();let c=0;this._decoder=n.decode();const l=this._file.createReadStream({start:a});l.pipe(this._decoder);const w=E=>{"moov"===E.type?(this._decoder.removeListener("box",w),this._decoder.decode(C=>{l.destroy();try{this._processMoov(C)}catch(z){z.message=`Cannot parse mp4 file: ${z.message}`,this.emit("error",z)}})):E.length<4096?(c+=E.length,this._decoder.ignore()):(this._decoder.removeListener("box",w),c+=E.length,l.destroy(),this._decoder.destroy(),this._findMoov(a+c))};this._decoder.on("box",w)}_processMoov(a){const c=a.traks;this._tracks=[],this._hasVideo=!1,this._hasAudio=!1;for(let C=0;C<c.length;C++){const z=c[C],k=z.mdia.minf.stbl,I=k.stsd.entries[0],V=z.mdia.hdlr.handlerType;let $,oe;if("vide"===V&&"avc1"===I.type){if(this._hasVideo)continue;this._hasVideo=!0,$="avc1",I.avcC&&($+=`.${I.avcC.mimeCodec}`),oe=`video/mp4; codecs="${$}"`}else{if("soun"!==V||"mp4a"!==I.type)continue;if(this._hasAudio)continue;this._hasAudio=!0,$="mp4a",I.esds&&I.esds.mimeCodec&&($+=`.${I.esds.mimeCodec}`),oe=`audio/mp4; codecs="${$}"`}const ue=[];let Ae=0,X=0,T=0,D=0,M=0,v=0;const B=new o(k.stts.entries);let F=null;k.ctts&&(F=new o(k.ctts.entries));for(let Y=0;;){var l=k.stsc.entries[M];const se=k.stsz.entries[Ae],Ee=B.value.duration;let Ie=!0;if(k.stss&&(Ie=k.stss.entries[Y]===Ae+1),ue.push({size:se,duration:Ee,dts:v,presentationOffset:F?F.value.compositionOffset:0,sync:Ie,offset:D+(k.stco||k.co64).entries[T]}),Ae++,Ae>=k.stsz.entries.length)break;if(X++,D+=se,X>=l.samplesPerChunk){X=0,D=0,T++;const Je=k.stsc.entries[M+1];Je&&T+1>=Je.firstChunk&&M++}v+=Ee,B.inc(),F&&F.inc(),Ie&&Y++}z.mdia.mdhd.duration=0,z.tkhd.duration=0,this._tracks.push({fragmentSequence:1,trackId:z.tkhd.trackId,timeScale:z.mdia.mdhd.timeScale,samples:ue,currSample:null,currTime:null,moov:{type:"moov",mvhd:a.mvhd,traks:[{tkhd:z.tkhd,mdia:{mdhd:z.mdia.mdhd,hdlr:z.mdia.hdlr,elng:z.mdia.elng,minf:{vmhd:z.mdia.minf.vmhd,smhd:z.mdia.minf.smhd,dinf:z.mdia.minf.dinf,stbl:{stsd:k.stsd,stts:{version:0,flags:0,entries:[]},ctts:{version:0,flags:0,entries:[]},stsc:{version:0,flags:0,entries:[]},stsz:{version:0,flags:0,entries:[]},stco:{version:0,flags:0,entries:[]},stss:{version:0,flags:0,entries:[]}}}}}],mvex:{mehd:{fragmentDuration:a.mvhd.duration},trexs:[{trackId:z.tkhd.trackId,defaultSampleDescriptionIndex:l.sampleDescriptionId,defaultSampleDuration:0,defaultSampleSize:0,defaultSampleFlags:0}]}},mime:oe})}if(0===this._tracks.length)return void this.emit("error",new Error("no playable tracks"));a.mvhd.duration=0,this._ftyp={type:"ftyp",brand:"iso5",brandVersion:0,compatibleBrands:["iso5"]};const w=g.encode(this._ftyp),E=this._tracks.map(C=>{const z=g.encode(C.moov);return{mime:C.mime,init:f.concat([w,z])}});this.emit("ready",E)}seek(a){if(!this._tracks)throw new Error("Not ready yet; wait for 'ready' event");this._fileStream&&(this._fileStream.destroy(),this._fileStream=null);let c=-1;if(this._tracks.map((l,w)=>{l.outStream&&l.outStream.destroy(),l.inStream&&(l.inStream.destroy(),l.inStream=null);const E=l.outStream=n.encode(),C=this._generateFragment(w,a);if(!C)return E.finalize();(-1===c||C.ranges[0].start<c)&&(c=C.ranges[0].start);const z=k=>{E.destroyed||E.box(k.moof,I=>{if(I)return this.emit("error",I);E.destroyed||l.inStream.slice(k.ranges).pipe(E.mediaData(k.length,$=>{if($)return this.emit("error",$);if(!E.destroyed){const oe=this._generateFragment(w);return oe?void z(oe):E.finalize()}}))})};z(C)}),0<=c){const l=this._fileStream=this._file.createReadStream({start:c});this._tracks.forEach(w=>{w.inStream=new h(c,{highWaterMark:1e7}),l.pipe(w.inStream)})}return this._tracks.map(l=>l.outStream)}_findSampleBefore(a,c){const l=this._tracks[a],w=xt(l.timeScale*c);let E=m(l.samples,w,(C,z)=>C.dts+C.presentationOffset-z);for(-1===E?E=0:0>E&&(E=-E-2);!l.samples[E].sync;)E--;return E}_generateFragment(a,c){const l=this._tracks[a];let w;if(w=void 0===c?l.currSample:this._findSampleBefore(a,c),w>=l.samples.length)return null;const E=l.samples[w].dts;let C=0;const z=[];for(var k=w;k<l.samples.length;k++){const I=l.samples[k];if(I.sync&&I.dts-E>=1*l.timeScale)break;C+=I.size;const V=z.length-1;0>V||z[V].end!==I.offset?z.push({start:I.offset,end:I.offset+I.size}):z[V].end+=I.size}return l.currSample=k,{moof:this._generateMoof(a,w,k),ranges:z,length:C}}_generateMoof(a,c,l){const w=this._tracks[a],E=[];let C=0;for(let k=c;k<l;k++){const I=w.samples[k];0>I.presentationOffset&&(C=1),E.push({sampleDuration:I.duration,sampleSize:I.size,sampleFlags:I.sync?33554432:16842752,sampleCompositionTimeOffset:I.presentationOffset})}const z={type:"moof",mfhd:{sequenceNumber:w.fragmentSequence++},trafs:[{tfhd:{flags:131072,trackId:w.trackId},tfdt:{baseMediaDecodeTime:w.samples[c].dts},trun:{flags:3841,dataOffset:8,entries:E,version:C}}]};return z.trafs[0].trun.dataOffset+=g.encodingLength(z),z}}}).call(this)}).call(this,d("buffer").Buffer)},{"binary-search":30,buffer:76,events:123,"mp4-box-encoding":172,"mp4-stream":175,"range-slice-stream":212}],279:[function(d,N,A){function f(n,g,h={}){return this instanceof f?(this.detailedError=null,this._elem=g,this._elemWrapper=new b(g),this._waitingFired=!1,this._trackMeta=null,this._file=n,this._tracks=null,"none"!==this._elem.preload&&this._createMuxer(),this._onError=()=>{this.detailedError=this._elemWrapper.detailedError,this.destroy()},this._onWaiting=()=>{this._waitingFired=!0,this._muxer?this._tracks&&this._pump():this._createMuxer()},g.autoplay&&(g.preload="auto"),g.addEventListener("waiting",this._onWaiting),void g.addEventListener("error",this._onError)):(console.warn("Don't invoke VideoStream without the 'new' keyword."),new f(n,g,h))}const b=d("mediasource"),m=d("pump"),_=d("./mp4-remuxer");f.prototype={_createMuxer(){this._muxer=new _(this._file),this._muxer.on("ready",n=>{this._tracks=n.map(g=>{const h=this._elemWrapper.createWriteStream(g.mime);h.on("error",u=>{this._elemWrapper.error(u)});const s={muxed:null,mediaSource:h,initFlushed:!1,onInitFlushed:null};return h.write(g.init,u=>{s.initFlushed=!0,s.onInitFlushed&&s.onInitFlushed(u)}),s}),(this._waitingFired||"auto"===this._elem.preload)&&this._pump()}),this._muxer.on("error",n=>{this._elemWrapper.error(n)})},_pump(){const n=this._muxer.seek(this._elem.currentTime,!this._tracks);this._tracks.forEach((g,h)=>{const s=()=>{g.muxed&&(g.muxed.destroy(),g.mediaSource=this._elemWrapper.createWriteStream(g.mediaSource),g.mediaSource.on("error",u=>{this._elemWrapper.error(u)})),g.muxed=n[h],m(g.muxed,g.mediaSource)};g.initFlushed?s():g.onInitFlushed=u=>u?void this._elemWrapper.error(u):void s()})},destroy(){this.destroyed||(this.destroyed=!0,this._elem.removeEventListener("waiting",this._onWaiting),this._elem.removeEventListener("error",this._onError),this._tracks&&this._tracks.forEach(n=>{n.muxed&&n.muxed.destroy()}),this._elem.src="")}},N.exports=f},{"./mp4-remuxer":278,mediasource:160,pump:201}],280:[function(d,N,A){N.exports=function f(b,m){function _(){for(var n=Array(arguments.length),g=0;g<n.length;g++)n[g]=arguments[g];var h=b.apply(this,n),s=n[n.length-1];return"function"==typeof h&&h!==s&&Object.keys(s).forEach(function(u){h[u]=s[u]}),h}if(b&&m)return f(b)(m);if("function"!=typeof b)throw new TypeError("need wrapper function");return Object.keys(b).forEach(function(n){_[n]=b[n]}),_}},{}],281:[function(d,N,A){N.exports=function f(){for(var n,m={},_=0;_<arguments.length;_++)for(var g in n=arguments[_])b.call(n,g)&&(m[g]=n[g]);return m};var b=Object.prototype.hasOwnProperty},{}],282:[function(d,N,A){N.exports={version:"1.9.7"}},{}],283:[function(d,N,A){(function(f){(function(){const _=d("events"),n=d("path"),g=d("simple-concat"),h=d("create-torrent"),s=d("debug"),u=d("bittorrent-dht/client"),o=d("load-ip-set"),t=d("run-parallel"),r=d("parse-torrent"),a=d("simple-peer"),c=d("queue-microtask"),l=d("randombytes"),w=d("simple-sha1"),E=d("throughput"),{ThrottleGroup:C}=d("speed-limiter"),z=d("./lib/conn-pool.js"),k=d("./lib/torrent.js"),{version:I}=d("./package.json"),V=s("webtorrent"),$=I.replace(/\d*./g,Ae=>("0"+Ae%100).slice(-2)).slice(0,4),oe=`-WW${$}-`;class ue extends _{constructor(X={}){super(),this.peerId="string"==typeof X.peerId?X.peerId:f.isBuffer(X.peerId)?X.peerId.toString("hex"):f.from(oe+l(9).toString("base64")).toString("hex"),this.peerIdBuffer=f.from(this.peerId,"hex"),this.nodeId="string"==typeof X.nodeId?X.nodeId:f.isBuffer(X.nodeId)?X.nodeId.toString("hex"):l(20).toString("hex"),this.nodeIdBuffer=f.from(this.nodeId,"hex"),this._debugId=this.peerId.toString("hex").substring(0,7),this.destroyed=!1,this.listening=!1,this.torrentPort=X.torrentPort||0,this.dhtPort=X.dhtPort||0,this.tracker=void 0===X.tracker?{}:X.tracker,this.lsd=!1!==X.lsd,this.torrents=[],this.maxConns=+X.maxConns||55,this.utp=ue.UTP_SUPPORT&&!1!==X.utp,this._downloadLimit=pe("number"==typeof X.downloadLimit?X.downloadLimit:-1,-1),this._uploadLimit=pe("number"==typeof X.uploadLimit?X.uploadLimit:-1,-1),this.serviceWorker=null,this.workerKeepAliveInterval=null,this.workerPortCount=0,!0===X.secure&&d("./lib/peer").enableSecure(),this._debug("new webtorrent (peerId %s, nodeId %s, port %s)",this.peerId,this.nodeId,this.torrentPort),this.throttleGroups={down:new C({rate:pe(this._downloadLimit,0),enabled:0<=this._downloadLimit}),up:new C({rate:pe(this._uploadLimit,0),enabled:0<=this._uploadLimit})},this.tracker&&("object"!=typeof this.tracker&&(this.tracker={}),globalThis.WRTC&&!this.tracker.wrtc&&(this.tracker.wrtc=globalThis.WRTC)),"function"==typeof z?this._connPool=new z(this):c(()=>{this._onListening()}),this._downloadSpeed=E(),this._uploadSpeed=E(),!1!==X.dht&&"function"==typeof u?(this.dht=new u(Object.assign({},{nodeId:this.nodeId},X.dht)),this.dht.once("error",D=>{this._destroy(D)}),this.dht.once("listening",()=>{const D=this.dht.address();D&&(this.dhtPort=D.port)}),this.dht.setMaxListeners(0),this.dht.listen(this.dhtPort)):this.dht=!1,this.enableWebSeeds=!1!==X.webSeeds;const T=()=>{this.destroyed||(this.ready=!0,this.emit("ready"))};"function"==typeof o&&null!=X.blocklist?o(X.blocklist,{headers:{"user-agent":`WebTorrent/${I} (https://webtorrent.io)`}},(D,M)=>D?console.error(`Failed to load blocklist: ${D.message}`):(this.blocked=M,void T())):c(T)}loadWorker(X,T=(()=>{})){if(!(X instanceof ServiceWorker))throw new Error("Invalid worker registration");if("activated"!==X.state)throw new Error("Worker isn't activated");this.serviceWorker=X,navigator.serviceWorker.addEventListener("message",M=>{const{data:v}=M;if(!v.type||"webtorrent"===!v.type||!v.url)return null;let[B,...F]=v.url.slice(v.url.indexOf(v.scope+"webtorrent/")+11+v.scope.length).split("/");if(F=decodeURI(F.join("/")),!B||!F)return null;const[q]=M.ports,L=this.get(B)&&this.get(B).files.find(Qe=>Qe.path===F);if(!L)return null;const[Y,se,Ee]=L._serve(v),Se=se&&se[Symbol.asyncIterator](),Ie=()=>{q.onmessage=null,se&&se.destroy(),Ee&&Ee.destroy(),this.workerPortCount--,this.workerPortCount||(clearInterval(this.workerKeepAliveInterval),this.workerKeepAliveInterval=null)};q.onmessage=async Qe=>{if(Qe.data){let Je;try{Je=(await Se.next()).value}catch{}q.postMessage(Je),Je||Ie(),this.workerKeepAliveInterval||(this.workerKeepAliveInterval=setInterval(()=>fetch(`${this.serviceWorker.scriptURL.slice(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/keepalive/`),2e4))}else Ie()},this.workerPortCount++,q.postMessage(Y)}),fetch(`${this.serviceWorker.scriptURL.slice(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/cancel/`).then(M=>{M.body.cancel()}),T(null,this.serviceWorker)}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){const X=this.torrents.filter(M=>1!==M.progress);return X.reduce((M,v)=>M+v.downloaded,0)/(X.reduce((M,v)=>M+(v.length||0),0)||1)}get ratio(){return this.torrents.reduce((D,M)=>D+M.uploaded,0)/(this.torrents.reduce((D,M)=>D+M.received,0)||1)}get(X){if(X instanceof k){if(this.torrents.includes(X))return X}else{let T;try{T=r(X)}catch{}if(!T)return null;if(!T.infoHash)throw new Error("Invalid torrent identifier");for(const D of this.torrents)if(D.infoHash===T.infoHash)return D}return null}add(X,T={},D=(()=>{})){if(this.destroyed)throw new Error("client is destroyed");"function"==typeof T&&([T,D]=[{},T]);const v=()=>{if(!this.destroyed)for(const q of this.torrents)if(q.infoHash===F.infoHash&&q!==F)return F._destroy(new Error(`Cannot add duplicate torrent ${F.infoHash}`)),void D(q)},B=()=>{this.destroyed||(D(F),this.emit("torrent",F))};this._debug("add"),T=T?Object.assign({},T):{};const F=new k(X,this,T);return this.torrents.push(F),F.once("_infoHash",v),F.once("ready",B),F.once("close",function M(){F.removeListener("_infoHash",v),F.removeListener("ready",B),F.removeListener("close",M)}),F}seed(X,T,D){if(this.destroyed)throw new Error("client is destroyed");"function"==typeof T&&([T,D]=[{},T]),this._debug("seed"),(T=T?Object.assign({},T):{}).skipVerify=!0;const M="string"==typeof X;M&&(T.path=n.dirname(X)),T.createdBy||(T.createdBy=`WebTorrent/${$}`);const B=L=>{this._debug("on seed"),"function"==typeof D&&D(L),L.emit("seed"),this.emit("seed",L)},F=this.add(null,T,L=>{const Y=[se=>M||T.preloadedStore?se():void L.load(q,se)];this.dht&&Y.push(se=>{L.once("dhtAnnounce",se)}),t(Y,se=>this.destroyed?void 0:se?L._destroy(se):void B(L))});let q;return function m(Ae){return typeof FileList<"u"&&Ae instanceof FileList}(X)?X=Array.from(X):!Array.isArray(X)&&(X=[X]),t(X.map(L=>Y=>{!T.preloadedStore&&function b(Ae){return"object"==typeof Ae&&null!=Ae&&"function"==typeof Ae.pipe}(L)?g(L,(se,Ee)=>se?Y(se):(Ee.name=L.name,void Y(null,Ee))):Y(null,L)}),(L,Y)=>this.destroyed?void 0:L?F._destroy(L):void h.parseInput(Y,T,(se,Ee)=>this.destroyed?void 0:se?F._destroy(se):(q=Ee.map(Se=>Se.getStream),void h(Y,T,(Se,Ie)=>{if(!this.destroyed){if(Se)return F._destroy(Se);const Qe=this.get(Ie);Qe?(console.warn("A torrent with the same id is already being seeded"),F._destroy(),"function"==typeof D&&D(Qe)):F._onTorrentId(Ie)}})))),F}remove(X,T,D){if("function"==typeof T)return this.remove(X,null,T);if(this._debug("remove"),!this.get(X))throw new Error(`No torrent with id ${X}`);this._remove(X,T,D)}_remove(X,T,D){if("function"==typeof T)return this._remove(X,null,T);const M=this.get(X);M&&(this.torrents.splice(this.torrents.indexOf(M),1),M.destroy(T,D),this.dht&&this.dht._tables.remove(M.infoHash))}address(){return this.listening?this._connPool?this._connPool.tcpServer.address():{address:"0.0.0.0",family:"IPv4",port:0}:null}throttleDownload(X){return X=+X,!(isNaN(X)||!isFinite(X)||-1>X)&&(this._downloadLimit=X,0>this._downloadLimit?this.throttleGroups.down.setEnabled(!1):(this.throttleGroups.down.setEnabled(!0),void this.throttleGroups.down.setRate(this._downloadLimit)))}throttleUpload(X){return X=+X,!(isNaN(X)||!isFinite(X)||-1>X)&&(this._uploadLimit=X,0>this._uploadLimit?this.throttleGroups.up.setEnabled(!1):(this.throttleGroups.up.setEnabled(!0),void this.throttleGroups.up.setRate(this._uploadLimit)))}destroy(X){if(this.destroyed)throw new Error("client already destroyed");this._destroy(null,X)}_destroy(X,T){this._debug("client destroy"),this.destroyed=!0;const D=this.torrents.map(M=>v=>{M.destroy(v)});this._connPool&&D.push(M=>{this._connPool.destroy(M)}),this.dht&&D.push(M=>{this.dht.destroy(M)}),t(D,T),X&&this.emit("error",X),this.torrents=[],this._connPool=null,this.dht=null,this.throttleGroups.down.destroy(),this.throttleGroups.up.destroy()}_onListening(){if(this._debug("listening"),this.listening=!0,this._connPool){const X=this._connPool.tcpServer.address();X&&(this.torrentPort=X.port)}this.emit("listening")}_debug(){const X=[].slice.call(arguments);X[0]=`[${this._debugId}] ${X[0]}`,V(...X)}_getByHash(X){for(const T of this.torrents)if(T.infoHashHash||(T.infoHashHash=w.sync(f.from("72657132"+T.infoHash,"hex"))),X===T.infoHashHash)return T;return null}}ue.WEBRTC_SUPPORT=a.WEBRTC_SUPPORT,ue.UTP_SUPPORT=z.UTP_SUPPORT,ue.VERSION=I,N.exports=ue}).call(this)}).call(this,d("buffer").Buffer)},{"./lib/conn-pool.js":42,"./lib/peer":3,"./lib/torrent.js":5,"./package.json":282,"bittorrent-dht/client":42,buffer:76,"create-torrent":89,debug:91,events:123,"load-ip-set":42,"parse-torrent":184,path:185,"queue-microtask":206,randombytes:209,"run-parallel":233,"simple-concat":245,"simple-peer":247,"simple-sha1":248,"speed-limiter":251,throughput:268}]},{},[283])(283)}),function(Gt){"object"==typeof exports&&typeof module<"u"?module.exports=Gt():"function"==typeof define&&define.amd?define([],Gt):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).Kuroshiro=Gt()}(function(){return function At(xt,kt,Q){function je(he,te){if(!kt[he]){if(!xt[he]){var pe="function"==typeof require&&require;if(!te&&pe)return pe(he,!0);if(Pe)return Pe(he,!0);var _e=new Error("Cannot find module '"+he+"'");throw _e.code="MODULE_NOT_FOUND",_e}var ne=kt[he]={exports:{}};xt[he][0].call(ne.exports,function(le){return je(xt[he][1][le]||le)},ne,ne.exports,At,xt,kt,Q)}return kt[he].exports}for(var Pe="function"==typeof require&&require,y=0;y<Q.length;y++)je(Q[y]);return je}({1:[function(At,xt,kt){xt.exports=At("regenerator-runtime")},{"regenerator-runtime":2}],2:[function(At,xt,kt){var Q=function(){return this}()||Function("return this")(),je=Q.regeneratorRuntime&&Object.getOwnPropertyNames(Q).indexOf("regeneratorRuntime")>=0,Pe=je&&Q.regeneratorRuntime;if(Q.regeneratorRuntime=void 0,xt.exports=At("./runtime"),je)Q.regeneratorRuntime=Pe;else try{delete Q.regeneratorRuntime}catch{Q.regeneratorRuntime=void 0}},{"./runtime":3}],3:[function(At,xt,kt){!function(Q){"use strict";var je,Pe=Object.prototype,y=Pe.hasOwnProperty,he="function"==typeof Symbol?Symbol:{},te=he.iterator||"@@iterator",pe=he.asyncIterator||"@@asyncIterator",_e=he.toStringTag||"@@toStringTag",ne="object"==typeof xt,le=Q.regeneratorRuntime;if(le)ne&&(xt.exports=le);else{(le=Q.regeneratorRuntime=ne?xt.exports:{}).wrap=h;var d="suspendedStart",N="suspendedYield",A="executing",f="completed",b={},m={};m[te]=function(){return this};var _=Object.getPrototypeOf,n=_&&_(_(C([])));n&&n!==Pe&&y.call(n,te)&&(m=n);var g=t.prototype=u.prototype=Object.create(m);o.prototype=g.constructor=t,t.constructor=o,t[_e]=o.displayName="GeneratorFunction",le.isGeneratorFunction=function(k){var I="function"==typeof k&&k.constructor;return!!I&&(I===o||"GeneratorFunction"===(I.displayName||I.name))},le.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,t):(k.__proto__=t,_e in k||(k[_e]="GeneratorFunction")),k.prototype=Object.create(g),k},le.awrap=function(k){return{__await:k}},r(a.prototype),a.prototype[pe]=function(){return this},le.AsyncIterator=a,le.async=function(k,I,V,$){var oe=new a(h(k,I,V,$));return le.isGeneratorFunction(I)?oe:oe.next().then(function(ue){return ue.done?ue.value:oe.next()})},r(g),g[_e]="Generator",g[te]=function(){return this},g.toString=function(){return"[object Generator]"},le.keys=function(k){var I=[];for(var V in k)I.push(V);return I.reverse(),function $(){for(;I.length;){var oe=I.pop();if(oe in k)return $.value=oe,$.done=!1,$}return $.done=!0,$}},le.values=C,E.prototype={constructor:E,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=je,this.done=!1,this.delegate=null,this.method="next",this.arg=je,this.tryEntries.forEach(w),!k)for(var I in this)"t"===I.charAt(0)&&y.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=je)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if("throw"===k.type)throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var I=this;function V(T,D){return ue.type="throw",ue.arg=k,I.next=T,D&&(I.method="next",I.arg=je),!!D}for(var $=this.tryEntries.length-1;$>=0;--$){var oe=this.tryEntries[$],ue=oe.completion;if("root"===oe.tryLoc)return V("end");if(oe.tryLoc<=this.prev){var Ae=y.call(oe,"catchLoc"),X=y.call(oe,"finallyLoc");if(Ae&&X){if(this.prev<oe.catchLoc)return V(oe.catchLoc,!0);if(this.prev<oe.finallyLoc)return V(oe.finallyLoc)}else if(Ae){if(this.prev<oe.catchLoc)return V(oe.catchLoc,!0)}else{if(!X)throw new Error("try statement without catch or finally");if(this.prev<oe.finallyLoc)return V(oe.finallyLoc)}}}},abrupt:function(k,I){for(var V=this.tryEntries.length-1;V>=0;--V){var $=this.tryEntries[V];if($.tryLoc<=this.prev&&y.call($,"finallyLoc")&&this.prev<$.finallyLoc){var oe=$;break}}oe&&("break"===k||"continue"===k)&&oe.tryLoc<=I&&I<=oe.finallyLoc&&(oe=null);var ue=oe?oe.completion:{};return ue.type=k,ue.arg=I,oe?(this.method="next",this.next=oe.finallyLoc,b):this.complete(ue)},complete:function(k,I){if("throw"===k.type)throw k.arg;return"break"===k.type||"continue"===k.type?this.next=k.arg:"return"===k.type?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):"normal"===k.type&&I&&(this.next=I),b},finish:function(k){for(var I=this.tryEntries.length-1;I>=0;--I){var V=this.tryEntries[I];if(V.finallyLoc===k)return this.complete(V.completion,V.afterLoc),w(V),b}},catch:function(k){for(var I=this.tryEntries.length-1;I>=0;--I){var V=this.tryEntries[I];if(V.tryLoc===k){var $=V.completion;if("throw"===$.type){var oe=$.arg;w(V)}return oe}}throw new Error("illegal catch attempt")},delegateYield:function(k,I,V){return this.delegate={iterator:C(k),resultName:I,nextLoc:V},"next"===this.method&&(this.arg=je),b}}}function h(k,I,V,$){var X,T,D,M,ue=Object.create((I&&I.prototype instanceof u?I:u).prototype),Ae=new E($||[]);return ue._invoke=(X=k,T=V,D=Ae,M=d,function(v,B){if(M===A)throw new Error("Generator is already running");if(M===f){if("throw"===v)throw B;return z()}for(D.method=v,D.arg=B;;){var F=D.delegate;if(F){var q=c(F,D);if(q){if(q===b)continue;return q}}if("next"===D.method)D.sent=D._sent=D.arg;else if("throw"===D.method){if(M===d)throw M=f,D.arg;D.dispatchException(D.arg)}else"return"===D.method&&D.abrupt("return",D.arg);M=A;var L=s(X,T,D);if("normal"===L.type){if(M=D.done?f:N,L.arg===b)continue;return{value:L.arg,done:D.done}}"throw"===L.type&&(M=f,D.method="throw",D.arg=L.arg)}}),ue}function s(k,I,V){try{return{type:"normal",arg:k.call(I,V)}}catch($){return{type:"throw",arg:$}}}function u(){}function o(){}function t(){}function r(k){["next","throw","return"].forEach(function(I){k[I]=function(V){return this._invoke(I,V)}})}function a(k){var I;this._invoke=function(V,$){function oe(){return new Promise(function(ue,Ae){!function X(T,D,M,v){var B=s(k[T],k,D);if("throw"!==B.type){var F=B.arg,q=F.value;return q&&"object"==typeof q&&y.call(q,"__await")?Promise.resolve(q.__await).then(function(L){X("next",L,M,v)},function(L){X("throw",L,M,v)}):Promise.resolve(q).then(function(L){F.value=L,M(F)},v)}v(B.arg)}(V,$,ue,Ae)})}return I=I?I.then(oe,oe):oe()}}function c(k,I){var V=k.iterator[I.method];if(V===je){if(I.delegate=null,"throw"===I.method){if(k.iterator.return&&(I.method="return",I.arg=je,c(k,I),"throw"===I.method))return b;I.method="throw",I.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var $=s(V,k.iterator,I.arg);if("throw"===$.type)return I.method="throw",I.arg=$.arg,I.delegate=null,b;var oe=$.arg;return oe?oe.done?(I[k.resultName]=oe.value,I.next=k.nextLoc,"return"!==I.method&&(I.method="next",I.arg=je),I.delegate=null,b):oe:(I.method="throw",I.arg=new TypeError("iterator result is not an object"),I.delegate=null,b)}function l(k){var I={tryLoc:k[0]};1 in k&&(I.catchLoc=k[1]),2 in k&&(I.finallyLoc=k[2],I.afterLoc=k[3]),this.tryEntries.push(I)}function w(k){var I=k.completion||{};I.type="normal",delete I.arg,k.completion=I}function E(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(l,this),this.reset(!0)}function C(k){if(k){var I=k[te];if(I)return I.call(k);if("function"==typeof k.next)return k;if(!isNaN(k.length)){var V=-1,$=function oe(){for(;++V<k.length;)if(y.call(k,V))return oe.value=k[V],oe.done=!1,oe;return oe.value=je,oe.done=!0,oe};return $.next=$}}return{next:z}}function z(){return{value:je,done:!0}}}(function(){return this}()||Function("return this")())},{}],4:[function(At,xt,kt){"use strict";var Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N};Object.defineProperty(kt,"__esModule",{value:!0});var Pe=function pe(N){return N&&N.__esModule?N:{default:N}}(At("babel-runtime/regenerator")),y="function"==typeof Symbol&&"symbol"===Q(Symbol.iterator)?function(N){return void 0===N?"undefined":Q(N)}:function(N){return N&&"function"==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":void 0===N?"undefined":Q(N)},he=function(){function N(A,f){for(var b=0;b<f.length;b++){var m=f[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,f,b){return f&&N(A.prototype,f),b&&N(A,b),A}}(),te=At("./util");function _e(N){return function(){var A=N.apply(this,arguments);return new Promise(function(f,b){return function m(_,n){try{var g=A[_](n),h=g.value}catch(s){return void b(s)}if(!g.done)return Promise.resolve(h).then(function(s){m("next",s)},function(s){m("throw",s)});f(h)}("next")})}}var le=function(){function N(){(function ne(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")})(this,N),this._analyzer=null}return he(N,[{key:"init",value:(A=_e(Pe.default.mark(function f(b){return Pe.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(b&&"object"===(void 0===b?"undefined":y(b))&&"function"==typeof b.init&&"function"==typeof b.parse){m.next=4;break}throw new Error("Invalid initialization parameter.");case 4:if(null!=this._analyzer){m.next=16;break}return m.prev=5,m.next=8,b.init();case 8:this._analyzer=b,m.next=14;break;case 11:throw m.prev=11,m.t0=m.catch(5),m.t0;case 14:m.next=17;break;case 16:throw new Error("Kuroshiro has already been initialized.");case 17:case"end":return m.stop()}},f,this,[[5,11]])})),function(f){return A.apply(this,arguments)})},{key:"convert",value:function(){var A=_e(Pe.default.mark(function f(b,m){var n,g,h,s,u,o,t,r,a,c,l,w,E,C,z,k,I,V,$,oe,ue,Ae,X,T,D,M,v,B,F,q;return Pe.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if((m=m||{}).to=m.to||"hiragana",m.mode=m.mode||"normal",m.romajiSystem=m.romajiSystem||te.ROMANIZATION_SYSTEM.HEPBURN,m.delimiter_start=m.delimiter_start||"(",m.delimiter_end=m.delimiter_end||")",b=b||"",-1!==["hiragana","katakana","romaji"].indexOf(m.to)){L.next=9;break}throw new Error("Invalid Target Syllabary.");case 9:if(-1!==["normal","spaced","okurigana","furigana"].indexOf(m.mode)){L.next=11;break}throw new Error("Invalid Conversion Mode.");case 11:if(-1!==Object.keys(te.ROMANIZATION_SYSTEM).map(function(Y){return te.ROMANIZATION_SYSTEM[Y]}).indexOf(m.romajiSystem)){L.next=14;break}throw new Error("Invalid Romanization System.");case 14:return L.next=16,this._analyzer.parse(b);case 16:if(n=(0,te.patchTokens)(L.sent),"normal"!==m.mode&&"spaced"!==m.mode){L.next=36;break}L.t0=m.to,L.next="katakana"===L.t0?22:"romaji"===L.t0?25:"hiragana"===L.t0?29:33;break;case 22:if("normal"!==m.mode){L.next=24;break}return L.abrupt("return",n.map(function(Y){return Y.reading}).join(""));case 24:return L.abrupt("return",n.map(function(Y){return Y.reading}).join(" "));case 25:if(g=function(Y){var se;return se=(0,te.hasJapanese)(Y.surface_form)?Y.pronunciation||Y.reading:Y.surface_form,(0,te.toRawRomaji)(se,m.romajiSystem)},"normal"!==m.mode){L.next=28;break}return L.abrupt("return",n.map(g).join(""));case 28:return L.abrupt("return",n.map(g).join(" "));case 29:for(h=0;h<n.length;h++)if((0,te.hasKanji)(n[h].surface_form))if((0,te.hasKatakana)(n[h].surface_form)){for(n[h].reading=(0,te.toRawHiragana)(n[h].reading),s="",u="",o=0;o<n[h].surface_form.length;o++)(0,te.isKanji)(n[h].surface_form[o])?u+="(.*)":u+=(0,te.isKatakana)(n[h].surface_form[o])?(0,te.toRawHiragana)(n[h].surface_form[o]):n[h].surface_form[o];if(t=new RegExp(u),r=t.exec(n[h].reading)){for(a=0,c=0;c<n[h].surface_form.length;c++)(0,te.isKanji)(n[h].surface_form[c])?(s+=r[a+1],a++):s+=n[h].surface_form[c];n[h].reading=s}}else n[h].reading=(0,te.toRawHiragana)(n[h].reading);else n[h].reading=n[h].surface_form;if("normal"!==m.mode){L.next=32;break}return L.abrupt("return",n.map(function(Y){return Y.reading}).join(""));case 32:return L.abrupt("return",n.map(function(Y){return Y.reading}).join(" "));case 33:throw new Error("Unknown option.to param");case 34:L.next=73;break;case 36:if("okurigana"!==m.mode&&"furigana"!==m.mode){L.next=73;break}l=[],w=0;case 39:if(!(w<n.length)){L.next=62;break}E=(0,te.getStrType)(n[w].surface_form),L.t1=E,L.next=0===L.t1?44:1===L.t1?46:2===L.t1?54:3===L.t1?56:58;break;case 44:return l.push([n[w].surface_form,1,(0,te.toRawHiragana)(n[w].reading),n[w].pronunciation||n[w].reading]),L.abrupt("break",59);case 46:for(C="",z=!1,k=[],I=0;I<n[w].surface_form.length;I++)(0,te.isKanji)(n[w].surface_form[I])?z?k[k.length-1]+=n[w].surface_form[I]:(z=!0,C+="(.*)",k.push(n[w].surface_form[I])):(z=!1,k.push(n[w].surface_form[I]),C+=(0,te.isKatakana)(n[w].surface_form[I])?(0,te.toRawHiragana)(n[w].surface_form[I]):n[w].surface_form[I]);if(V=new RegExp("^"+C+"$"),$=V.exec((0,te.toRawHiragana)(n[w].reading)))for(oe=1,ue=0;ue<k.length;ue++)(0,te.isKanji)(k[ue][0])?(l.push([k[ue],1,$[oe],(0,te.toRawKatakana)($[oe])]),oe+=1):l.push([k[ue],2,(0,te.toRawHiragana)(k[ue]),(0,te.toRawKatakana)(k[ue])]);else l.push([n[w].surface_form,1,(0,te.toRawHiragana)(n[w].reading),n[w].pronunciation||n[w].reading]);return L.abrupt("break",59);case 54:for(Ae=0;Ae<n[w].surface_form.length;Ae++)l.push([n[w].surface_form[Ae],2,(0,te.toRawHiragana)(n[w].reading[Ae]),n[w].pronunciation&&n[w].pronunciation[Ae]||n[w].reading[Ae]]);return L.abrupt("break",59);case 56:for(X=0;X<n[w].surface_form.length;X++)l.push([n[w].surface_form[X],3,n[w].surface_form[X],n[w].surface_form[X]]);return L.abrupt("break",59);case 58:throw new Error("Unknown strType");case 59:w++,L.next=39;break;case 62:T="",L.t2=m.to,L.next="katakana"===L.t2?66:"romaji"===L.t2?68:"hiragana"===L.t2?70:72;break;case 66:if("okurigana"===m.mode)for(D=0;D<l.length;D++)T+=1!==l[D][1]?l[D][0]:l[D][0]+m.delimiter_start+(0,te.toRawKatakana)(l[D][2])+m.delimiter_end;else for(M=0;M<l.length;M++)T+=1!==l[M][1]?l[M][0]:"<ruby>"+l[M][0]+"<rp>"+m.delimiter_start+"</rp><rt>"+(0,te.toRawKatakana)(l[M][2])+"</rt><rp>"+m.delimiter_end+"</rp></ruby>";return L.abrupt("return",T);case 68:if("okurigana"===m.mode)for(v=0;v<l.length;v++)T+=1!==l[v][1]?l[v][0]:l[v][0]+m.delimiter_start+(0,te.toRawRomaji)(l[v][3],m.romajiSystem)+m.delimiter_end;else{for(T+="<ruby>",B=0;B<l.length;B++)T+=l[B][0]+"<rp>"+m.delimiter_start+"</rp><rt>"+(0,te.toRawRomaji)(l[B][3],m.romajiSystem)+"</rt><rp>"+m.delimiter_end+"</rp>";T+="</ruby>"}return L.abrupt("return",T);case 70:if("okurigana"===m.mode)for(F=0;F<l.length;F++)T+=1!==l[F][1]?l[F][0]:l[F][0]+m.delimiter_start+l[F][2]+m.delimiter_end;else for(q=0;q<l.length;q++)T+=1!==l[q][1]?l[q][0]:"<ruby>"+l[q][0]+"<rp>"+m.delimiter_start+"</rp><rt>"+l[q][2]+"</rt><rp>"+m.delimiter_end+"</rp></ruby>";return L.abrupt("return",T);case 72:throw new Error("Invalid Target Syllabary.");case 73:case"end":return L.stop()}},f,this)}));return function(f,b){return A.apply(this,arguments)}}()}]),N;var A}();le.Util={isHiragana:te.isHiragana,isKatakana:te.isKatakana,isKana:te.isKana,isKanji:te.isKanji,isJapanese:te.isJapanese,hasHiragana:te.hasHiragana,hasKatakana:te.hasKatakana,hasKana:te.hasKana,hasKanji:te.hasKanji,hasJapanese:te.hasJapanese,kanaToHiragna:te.kanaToHiragna,kanaToKatakana:te.kanaToKatakana,kanaToRomaji:te.kanaToRomaji},kt.default=le,xt.exports=kt.default},{"./util":6,"babel-runtime/regenerator":1}],5:[function(At,xt,kt){"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var je=function Pe(y){return y&&y.__esModule?y:{default:y}}(At("./core"));kt.default=je.default,xt.exports=kt.default},{"./core":4}],6:[function(At,xt,kt){"use strict";function Q(o){if(Array.isArray(o)){for(var t=0,r=Array(o.length);t<o.length;t++)r[t]=o[t];return r}return Array.from(o)}Object.defineProperty(kt,"__esModule",{value:!0});var je="\u3041".charCodeAt(0)-"\u30a1".charCodeAt(0),Pe="\u30a1".charCodeAt(0)-"\u3041".charCodeAt(0),y={NIPPON:"nippon",PASSPORT:"passport",HEPBURN:"hepburn"},he=function(o){return(o=o[0])>="\u3040"&&o<="\u309f"},te=function(o){return(o=o[0])>="\u30a0"&&o<="\u30ff"},pe=function(o){return he(o)||te(o)},_e=function(o){return(o=o[0])>="\u4e00"&&o<="\u9fcf"||o>="\uf900"&&o<="\ufaff"||o>="\u3400"&&o<="\u4dbf"},ne=function(o){return pe(o)||_e(o)},le=function(o){for(var t=0;t<o.length;t++)if(he(o[t]))return!0;return!1},f=function(o){for(var t=0;t<o.length;t++)if(ne(o[t]))return!0;return!1},b=function(o){return[].concat(Q(o)).map(function(t){return t>"\u30a0"&&t<"\u30f7"?String.fromCharCode(t.charCodeAt(0)+je):t}).join("")},m=function(o){return[].concat(Q(o)).map(function(t){return t>"\u3040"&&t<"\u3097"?String.fromCharCode(t.charCodeAt(0)+Pe):t}).join("")},_=function(o,t){var r={nippon:{"\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff10":"0","\uff01":"!","\u201c":'"',"\u201d":'"',"\uff03":"#","\uff04":"$","\uff05":"%","\uff06":"&","\u2019":"'","\uff08":"(","\uff09":")","\uff1d":"=","\uff5e":"~","\uff5c":"|","\uff20":"@","\u2018":"`","\uff0b":"+","\uff0a":"*","\uff1b":";","\uff1a":":","\uff1c":"<","\uff1e":">","\u3001":",","\u3002":".","\uff0f":"/","\uff1f":"?","\uff3f":"_","\u30fb":"\uff65","\u300c":'"',"\u300d":'"',"\uff5b":"{","\uff5d":"}","\uffe5":"\\","\uff3e":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304a:"o",\u30a2:"a",\u30a4:"i",\u30a6:"u",\u30a8:"e",\u30aa:"o",\u304b:"ka",\u304d:"ki",\u304f:"ku",\u3051:"ke",\u3053:"ko",\u30ab:"ka",\u30ad:"ki",\u30af:"ku",\u30b1:"ke",\u30b3:"ko",\u3055:"sa",\u3057:"si",\u3059:"su",\u305b:"se",\u305d:"so",\u30b5:"sa",\u30b7:"si",\u30b9:"su",\u30bb:"se",\u30bd:"so",\u305f:"ta",\u3061:"ti",\u3064:"tu",\u3066:"te",\u3068:"to",\u30bf:"ta",\u30c1:"ti",\u30c4:"tu",\u30c6:"te",\u30c8:"to",\u306a:"na",\u306b:"ni",\u306c:"nu",\u306d:"ne",\u306e:"no",\u30ca:"na",\u30cb:"ni",\u30cc:"nu",\u30cd:"ne",\u30ce:"no",\u306f:"ha",\u3072:"hi",\u3075:"hu",\u3078:"he",\u307b:"ho",\u30cf:"ha",\u30d2:"hi",\u30d5:"hu",\u30d8:"he",\u30db:"ho",\u307e:"ma",\u307f:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30de:"ma",\u30df:"mi",\u30e0:"mu",\u30e1:"me",\u30e2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30e4:"ya",\u30e6:"yu",\u30e8:"yo",\u3089:"ra",\u308a:"ri",\u308b:"ru",\u308c:"re",\u308d:"ro",\u30e9:"ra",\u30ea:"ri",\u30eb:"ru",\u30ec:"re",\u30ed:"ro",\u308f:"wa",\u3090:"wi",\u3091:"we",\u3092:"wo",\u30ef:"wa",\u30f0:"wi",\u30f1:"we",\u30f2:"wo",\u304c:"ga",\u304e:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30ac:"ga",\u30ae:"gi",\u30b0:"gu",\u30b2:"ge",\u30b4:"go",\u3056:"za",\u3058:"zi",\u305a:"zu",\u305c:"ze",\u305e:"zo",\u30b6:"za",\u30b8:"zi",\u30ba:"zu",\u30bc:"ze",\u30be:"zo",\u3060:"da",\u3062:"di",\u3065:"du",\u3067:"de",\u3069:"do",\u30c0:"da",\u30c2:"di",\u30c5:"du",\u30c7:"de",\u30c9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307c:"bo",\u30d0:"ba",\u30d3:"bi",\u30d6:"bu",\u30d9:"be",\u30dc:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307a:"pe",\u307d:"po",\u30d1:"pa",\u30d4:"pi",\u30d7:"pu",\u30da:"pe",\u30dd:"po",\u304d\u3083:"kya",\u304d\u3085:"kyu",\u304d\u3087:"kyo",\u3057\u3083:"sya",\u3057\u3085:"syu",\u3057\u3087:"syo",\u3061\u3083:"tya",\u3061\u3085:"tyu",\u3061\u3087:"tyo",\u306b\u3083:"nya",\u306b\u3085:"nyu",\u306b\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307f\u3083:"mya",\u307f\u3085:"myu",\u307f\u3087:"myo",\u308a\u3083:"rya",\u308a\u3085:"ryu",\u308a\u3087:"ryo",\u30ad\u30e3:"kya",\u30ad\u30e5:"kyu",\u30ad\u30e7:"kyo",\u30b7\u30e3:"sya",\u30b7\u30e5:"syu",\u30b7\u30e7:"syo",\u30c1\u30e3:"tya",\u30c1\u30e5:"tyu",\u30c1\u30e7:"tyo",\u30cb\u30e3:"nya",\u30cb\u30e5:"nyu",\u30cb\u30e7:"nyo",\u30d2\u30e3:"hya",\u30d2\u30e5:"hyu",\u30d2\u30e7:"hyo",\u30df\u30e3:"mya",\u30df\u30e5:"myu",\u30df\u30e7:"myo",\u30ea\u30e3:"rya",\u30ea\u30e5:"ryu",\u30ea\u30e7:"ryo",\u304e\u3083:"gya",\u304e\u3085:"gyu",\u304e\u3087:"gyo",\u3058\u3083:"zya",\u3058\u3085:"zyu",\u3058\u3087:"zyo",\u3062\u3083:"dya",\u3062\u3085:"dyu",\u3062\u3087:"dyo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u304f\u308e:"kwa",\u3050\u308e:"gwa",\u30ae\u30e3:"gya",\u30ae\u30e5:"gyu",\u30ae\u30e7:"gyo",\u30b8\u30e3:"zya",\u30b8\u30e5:"zyu",\u30b8\u30e7:"zyo",\u30c2\u30e3:"dya",\u30c2\u30e5:"dyu",\u30c2\u30e7:"dyo",\u30d3\u30e3:"bya",\u30d3\u30e5:"byu",\u30d3\u30e7:"byo",\u30d4\u30e3:"pya",\u30d4\u30e5:"pyu",\u30d4\u30e7:"pyo",\u30af\u30ee:"kwa",\u30b0\u30ee:"gwa",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308e:"wa",\u30a1:"a",\u30a3:"i",\u30a5:"u",\u30a7:"e",\u30a9:"o",\u30e3:"ya",\u30e5:"yu",\u30e7:"yo",\u30ee:"wa",\u30f5:"ka",\u30f6:"ke",\u3093:"n",\u30f3:"n","\u3000":" ",\u3044\u3047:"ye",\u304d\u3047:"kye",\u304f\u3043:"kwi",\u304f\u3047:"kwe",\u304f\u3049:"kwo",\u3050\u3043:"gwi",\u3050\u3047:"gwe",\u3050\u3049:"gwo",\u30a4\u30a7:"ye",\u30ad\u30a7:"kya",\u30af\u30a3:"kwi",\u30af\u30a7:"kwe",\u30af\u30a9:"kwo",\u30b0\u30a3:"gwi",\u30b0\u30a7:"gwe",\u30b0\u30a9:"gwo",\u3057\u3047:"sye",\u3058\u3047:"zye",\u3059\u3043:"swi",\u305a\u3043:"zwi",\u3061\u3047:"tye",\u3064\u3041:"twa",\u3064\u3043:"twi",\u3064\u3047:"twe",\u3064\u3049:"two",\u306b\u3047:"nye",\u3072\u3047:"hye",\u3075\u3041:"hwa",\u3075\u3043:"hwi",\u3075\u3047:"hwe",\u3075\u3049:"hwo",\u3075\u3085:"hwyu",\u3075\u3087:"hwyo",\u30b7\u30a7:"sye",\u30b8\u30a7:"zye",\u30b9\u30a3:"swi",\u30ba\u30a3:"zwi",\u30c1\u30a7:"tye",\u30c4\u30a1:"twa",\u30c4\u30a3:"twi",\u30c4\u30a7:"twe",\u30c4\u30a9:"two",\u30cb\u30a7:"nye",\u30d2\u30a7:"hye",\u30d5\u30a1:"hwa",\u30d5\u30a3:"hwi",\u30d5\u30a7:"hwe",\u30d5\u30a9:"hwo",\u30d5\u30e5:"hwyu",\u30d5\u30e7:"hwyo"},passport:{"\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff10":"0","\uff01":"!","\u201c":'"',"\u201d":'"',"\uff03":"#","\uff04":"$","\uff05":"%","\uff06":"&","\u2019":"'","\uff08":"(","\uff09":")","\uff1d":"=","\uff5e":"~","\uff5c":"|","\uff20":"@","\u2018":"`","\uff0b":"+","\uff0a":"*","\uff1b":";","\uff1a":":","\uff1c":"<","\uff1e":">","\u3001":",","\u3002":".","\uff0f":"/","\uff1f":"?","\uff3f":"_","\u30fb":"\uff65","\u300c":'"',"\u300d":'"',"\uff5b":"{","\uff5d":"}","\uffe5":"\\","\uff3e":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304a:"o",\u30a2:"a",\u30a4:"i",\u30a6:"u",\u30a8:"e",\u30aa:"o",\u304b:"ka",\u304d:"ki",\u304f:"ku",\u3051:"ke",\u3053:"ko",\u30ab:"ka",\u30ad:"ki",\u30af:"ku",\u30b1:"ke",\u30b3:"ko",\u3055:"sa",\u3057:"shi",\u3059:"su",\u305b:"se",\u305d:"so",\u30b5:"sa",\u30b7:"shi",\u30b9:"su",\u30bb:"se",\u30bd:"so",\u305f:"ta",\u3061:"chi",\u3064:"tsu",\u3066:"te",\u3068:"to",\u30bf:"ta",\u30c1:"chi",\u30c4:"tsu",\u30c6:"te",\u30c8:"to",\u306a:"na",\u306b:"ni",\u306c:"nu",\u306d:"ne",\u306e:"no",\u30ca:"na",\u30cb:"ni",\u30cc:"nu",\u30cd:"ne",\u30ce:"no",\u306f:"ha",\u3072:"hi",\u3075:"fu",\u3078:"he",\u307b:"ho",\u30cf:"ha",\u30d2:"hi",\u30d5:"fu",\u30d8:"he",\u30db:"ho",\u307e:"ma",\u307f:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30de:"ma",\u30df:"mi",\u30e0:"mu",\u30e1:"me",\u30e2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30e4:"ya",\u30e6:"yu",\u30e8:"yo",\u3089:"ra",\u308a:"ri",\u308b:"ru",\u308c:"re",\u308d:"ro",\u30e9:"ra",\u30ea:"ri",\u30eb:"ru",\u30ec:"re",\u30ed:"ro",\u308f:"wa",\u3090:"i",\u3091:"e",\u3092:"o",\u30ef:"wa",\u30f0:"i",\u30f1:"e",\u30f2:"o",\u304c:"ga",\u304e:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30ac:"ga",\u30ae:"gi",\u30b0:"gu",\u30b2:"ge",\u30b4:"go",\u3056:"za",\u3058:"ji",\u305a:"zu",\u305c:"ze",\u305e:"zo",\u30b6:"za",\u30b8:"ji",\u30ba:"zu",\u30bc:"ze",\u30be:"zo",\u3060:"da",\u3062:"ji",\u3065:"zu",\u3067:"de",\u3069:"do",\u30c0:"da",\u30c2:"ji",\u30c5:"zu",\u30c7:"de",\u30c9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307c:"bo",\u30d0:"ba",\u30d3:"bi",\u30d6:"bu",\u30d9:"be",\u30dc:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307a:"pe",\u307d:"po",\u30d1:"pa",\u30d4:"pi",\u30d7:"pu",\u30da:"pe",\u30dd:"po",\u304d\u3083:"kya",\u304d\u3085:"kyu",\u304d\u3087:"kyo",\u3057\u3083:"sha",\u3057\u3085:"shu",\u3057\u3087:"sho",\u3061\u3083:"cha",\u3061\u3085:"chu",\u3061\u3087:"cho",\u306b\u3083:"nya",\u306b\u3085:"nyu",\u306b\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307f\u3083:"mya",\u307f\u3085:"myu",\u307f\u3087:"myo",\u308a\u3083:"rya",\u308a\u3085:"ryu",\u308a\u3087:"ryo",\u30ad\u30e3:"kya",\u30ad\u30e5:"kyu",\u30ad\u30e7:"kyo",\u30b7\u30e3:"sha",\u30b7\u30e5:"shu",\u30b7\u30e7:"sho",\u30c1\u30e3:"cha",\u30c1\u30e5:"chu",\u30c1\u30e7:"cho",\u30cb\u30e3:"nya",\u30cb\u30e5:"nyu",\u30cb\u30e7:"nyo",\u30d2\u30e3:"hya",\u30d2\u30e5:"hyu",\u30d2\u30e7:"hyo",\u30df\u30e3:"mya",\u30df\u30e5:"myu",\u30df\u30e7:"myo",\u30ea\u30e3:"rya",\u30ea\u30e5:"ryu",\u30ea\u30e7:"ryo",\u304e\u3083:"gya",\u304e\u3085:"gyu",\u304e\u3087:"gyo",\u3058\u3083:"ja",\u3058\u3085:"ju",\u3058\u3087:"jo",\u3062\u3083:"ja",\u3062\u3085:"ju",\u3062\u3087:"jo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u30ae\u30e3:"gya",\u30ae\u30e5:"gyu",\u30ae\u30e7:"gyo",\u30b8\u30e3:"ja",\u30b8\u30e5:"ju",\u30b8\u30e7:"jo",\u30c2\u30e3:"ja",\u30c2\u30e5:"ju",\u30c2\u30e7:"jo",\u30d3\u30e3:"bya",\u30d3\u30e5:"byu",\u30d3\u30e7:"byo",\u30d4\u30e3:"pya",\u30d4\u30e5:"pyu",\u30d4\u30e7:"pyo",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308e:"wa",\u30a1:"a",\u30a3:"i",\u30a5:"u",\u30a7:"e",\u30a9:"o",\u30e3:"ya",\u30e5:"yu",\u30e7:"yo",\u30ee:"wa",\u30f5:"ka",\u30f6:"ke",\u3093:"n",\u30f3:"n","\u3000":" ",\u30f4:"b"},hepburn:{"\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff10":"0","\uff01":"!","\u201c":'"',"\u201d":'"',"\uff03":"#","\uff04":"$","\uff05":"%","\uff06":"&","\u2019":"'","\uff08":"(","\uff09":")","\uff1d":"=","\uff5e":"~","\uff5c":"|","\uff20":"@","\u2018":"`","\uff0b":"+","\uff0a":"*","\uff1b":";","\uff1a":":","\uff1c":"<","\uff1e":">","\u3001":",","\u3002":".","\uff0f":"/","\uff1f":"?","\uff3f":"_","\u30fb":"\uff65","\u300c":'"',"\u300d":'"',"\uff5b":"{","\uff5d":"}","\uffe5":"\\","\uff3e":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304a:"o",\u30a2:"a",\u30a4:"i",\u30a6:"u",\u30a8:"e",\u30aa:"o",\u304b:"ka",\u304d:"ki",\u304f:"ku",\u3051:"ke",\u3053:"ko",\u30ab:"ka",\u30ad:"ki",\u30af:"ku",\u30b1:"ke",\u30b3:"ko",\u3055:"sa",\u3057:"shi",\u3059:"su",\u305b:"se",\u305d:"so",\u30b5:"sa",\u30b7:"shi",\u30b9:"su",\u30bb:"se",\u30bd:"so",\u305f:"ta",\u3061:"chi",\u3064:"tsu",\u3066:"te",\u3068:"to",\u30bf:"ta",\u30c1:"chi",\u30c4:"tsu",\u30c6:"te",\u30c8:"to",\u306a:"na",\u306b:"ni",\u306c:"nu",\u306d:"ne",\u306e:"no",\u30ca:"na",\u30cb:"ni",\u30cc:"nu",\u30cd:"ne",\u30ce:"no",\u306f:"ha",\u3072:"hi",\u3075:"fu",\u3078:"he",\u307b:"ho",\u30cf:"ha",\u30d2:"hi",\u30d5:"fu",\u30d8:"he",\u30db:"ho",\u307e:"ma",\u307f:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30de:"ma",\u30df:"mi",\u30e0:"mu",\u30e1:"me",\u30e2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30e4:"ya",\u30e6:"yu",\u30e8:"yo",\u3089:"ra",\u308a:"ri",\u308b:"ru",\u308c:"re",\u308d:"ro",\u30e9:"ra",\u30ea:"ri",\u30eb:"ru",\u30ec:"re",\u30ed:"ro",\u308f:"wa",\u3090:"i",\u3091:"e",\u3092:"o",\u30ef:"wa",\u30f0:"i",\u30f1:"e",\u30f2:"o",\u304c:"ga",\u304e:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30ac:"ga",\u30ae:"gi",\u30b0:"gu",\u30b2:"ge",\u30b4:"go",\u3056:"za",\u3058:"ji",\u305a:"zu",\u305c:"ze",\u305e:"zo",\u30b6:"za",\u30b8:"ji",\u30ba:"zu",\u30bc:"ze",\u30be:"zo",\u3060:"da",\u3062:"ji",\u3065:"zu",\u3067:"de",\u3069:"do",\u30c0:"da",\u30c2:"ji",\u30c5:"zu",\u30c7:"de",\u30c9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307c:"bo",\u30d0:"ba",\u30d3:"bi",\u30d6:"bu",\u30d9:"be",\u30dc:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307a:"pe",\u307d:"po",\u30d1:"pa",\u30d4:"pi",\u30d7:"pu",\u30da:"pe",\u30dd:"po",\u304d\u3083:"kya",\u304d\u3085:"kyu",\u304d\u3087:"kyo",\u3057\u3083:"sha",\u3057\u3085:"shu",\u3057\u3087:"sho",\u3061\u3083:"cha",\u3061\u3085:"chu",\u3061\u3087:"cho",\u306b\u3083:"nya",\u306b\u3085:"nyu",\u306b\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307f\u3083:"mya",\u307f\u3085:"myu",\u307f\u3087:"myo",\u308a\u3083:"rya",\u308a\u3085:"ryu",\u308a\u3087:"ryo",\u30ad\u30e3:"kya",\u30ad\u30e5:"kyu",\u30ad\u30e7:"kyo",\u30b7\u30e3:"sha",\u30b7\u30e5:"shu",\u30b7\u30e7:"sho",\u30c1\u30e3:"cha",\u30c1\u30e5:"chu",\u30c1\u30e7:"cho",\u30cb\u30e3:"nya",\u30cb\u30e5:"nyu",\u30cb\u30e7:"nyo",\u30d2\u30e3:"hya",\u30d2\u30e5:"hyu",\u30d2\u30e7:"hyo",\u30df\u30e3:"mya",\u30df\u30e5:"myu",\u30df\u30e7:"myo",\u30ea\u30e3:"rya",\u30ea\u30e5:"ryu",\u30ea\u30e7:"ryo",\u304e\u3083:"gya",\u304e\u3085:"gyu",\u304e\u3087:"gyo",\u3058\u3083:"ja",\u3058\u3085:"ju",\u3058\u3087:"jo",\u3062\u3083:"ja",\u3062\u3085:"ju",\u3062\u3087:"jo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u30ae\u30e3:"gya",\u30ae\u30e5:"gyu",\u30ae\u30e7:"gyo",\u30b8\u30e3:"ja",\u30b8\u30e5:"ju",\u30b8\u30e7:"jo",\u30c2\u30e3:"ja",\u30c2\u30e5:"ju",\u30c2\u30e7:"jo",\u30d3\u30e3:"bya",\u30d3\u30e5:"byu",\u30d3\u30e7:"byo",\u30d4\u30e3:"pya",\u30d4\u30e5:"pyu",\u30d4\u30e7:"pyo",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308e:"wa",\u30a1:"a",\u30a3:"i",\u30a5:"u",\u30a7:"e",\u30a9:"o",\u30e3:"ya",\u30e5:"yu",\u30e7:"yo",\u30ee:"wa",\u30f5:"ka",\u30f6:"ke",\u3093:"n",\u30f3:"n","\u3000":" ",\u3044\u3047:"ye",\u3046\u3043:"wi",\u3046\u3047:"we",\u3046\u3049:"wo",\u304d\u3047:"kye",\u304f\u3041:"kwa",\u304f\u3043:"kwi",\u304f\u3047:"kwe",\u304f\u3049:"kwo",\u3050\u3041:"gwa",\u3050\u3043:"gwi",\u3050\u3047:"gwe",\u3050\u3049:"gwo",\u30a4\u30a7:"ye",\u30a6\u30a3:"wi",\u30a6\u30a7:"we",\u30a6\u30a9:"wo",\u30f4:"vu",\u30f4\u30a1:"va",\u30f4\u30a3:"vi",\u30f4\u30a7:"ve",\u30f4\u30a9:"vo",\u30f4\u30e5:"vyu",\u30f4\u30e7:"vyo",\u30ad\u30a7:"kya",\u30af\u30a1:"kwa",\u30af\u30a3:"kwi",\u30af\u30a7:"kwe",\u30af\u30a9:"kwo",\u30b0\u30a1:"gwa",\u30b0\u30a3:"gwi",\u30b0\u30a7:"gwe",\u30b0\u30a9:"gwo",\u3057\u3047:"she",\u3058\u3047:"je",\u3061\u3047:"che",\u3064\u3041:"tsa",\u3064\u3043:"tsi",\u3064\u3047:"tse",\u3064\u3049:"tso",\u3066\u3043:"ti",\u3066\u3085:"tyu",\u3067\u3043:"di",\u3067\u3085:"dyu",\u3068\u3045:"tu",\u3069\u3045:"du",\u306b\u3047:"nye",\u3072\u3047:"hye",\u3075\u3041:"fa",\u3075\u3043:"fi",\u3075\u3047:"fe",\u3075\u3049:"fo",\u3075\u3085:"fyu",\u3075\u3087:"fyo",\u30b7\u30a7:"she",\u30b8\u30a7:"je",\u30c1\u30a7:"che",\u30c4\u30a1:"tsa",\u30c4\u30a3:"tsi",\u30c4\u30a7:"tse",\u30c4\u30a9:"tso",\u30c6\u30a3:"ti",\u30c6\u30e5:"tyu",\u30c7\u30a3:"di",\u30c7\u30e5:"dyu",\u30c8\u30a5:"tu",\u30c9\u30a5:"du",\u30cb\u30a7:"nye",\u30d2\u30a7:"hye",\u30d5\u30a1:"fa",\u30d5\u30a3:"fi",\u30d5\u30a7:"fe",\u30d5\u30a9:"fo",\u30d5\u30e5:"fyu",\u30d5\u30e7:"fyo"}},a=0,c=void 0,l=void 0,w="";if((t=t||y.HEPBURN)===y.PASSPORT&&(o=o.replace(/\u30fc/gm,"")),t===y.NIPPON||t===y.HEPBURN){for(var E=new RegExp(/(\u3093|\u30f3)(?=\u3042|\u3044|\u3046|\u3048|\u304a|\u30a2|\u30a4|\u30a6|\u30a8|\u30aa|\u3041|\u3043|\u3045|\u3047|\u3049|\u30a1|\u30a3|\u30a5|\u30a7|\u30a9|\u3084|\u3086|\u3088|\u30e4|\u30e6|\u30e8|\u3083|\u3085|\u3087|\u30e3|\u30e5|\u30e7)/g),C=void 0,z=[];null!==(C=E.exec(o));)z.push(C.index+1);if(0!==z.length){for(var k="",I=0;I<z.length;I++)k+=0===I?o.slice(0,z[I])+"'":o.slice(z[I-1],z[I])+"'";o=k+=o.slice(z[z.length-1])}}for(var V=o.length;a<=V;)(l=r[t][o.substring(a,a+2)])?(w+=l,a+=2):(w+=(l=r[t][c=o.substring(a,a+1)])?l:c,a+=1);return w=w.replace(/(\u3063|\u30c3)([bcdfghijklmnopqrstuvwyz])/gm,"$2$2"),t!==y.PASSPORT&&t!==y.HEPBURN||(w=w.replace(/cc/gm,"tc")),w=w.replace(/\u3063|\u30c3/gm,"tsu"),t!==y.PASSPORT&&t!==y.HEPBURN||(w=(w=(w=w.replace(/nm/gm,"mm")).replace(/nb/gm,"mb")).replace(/np/gm,"mp")),t===y.NIPPON&&(w=(w=(w=(w=(w=w.replace(/a\u30fc/gm,"\xe2")).replace(/i\u30fc/gm,"\xee")).replace(/u\u30fc/gm,"\xfb")).replace(/e\u30fc/gm,"\xea")).replace(/o\u30fc/gm,"\xf4")),t===y.HEPBURN&&(w=(w=(w=(w=(w=w.replace(/a\u30fc/gm,"\u0101")).replace(/i\u30fc/gm,"\u012b")).replace(/u\u30fc/gm,"\u016b")).replace(/e\u30fc/gm,"\u0113")).replace(/o\u30fc/gm,"\u014d")),w};kt.ROMANIZATION_SYSTEM=y,kt.getStrType=function(o){for(var t=!1,r=!1,a=0;a<o.length;a++)_e(o[a])?t=!0:(he(o[a])||te(o[a]))&&(r=!0);return t&&r?1:t?0:r?2:3},kt.patchTokens=function(o){for(var t=0;t<o.length;t++)f(o[t].surface_form)?o[t].reading?le(o[t].reading)&&(o[t].reading=m(o[t].reading)):o[t].reading=o[t].surface_form.split("").every(pe)?m(o[t].surface_form):o[t].surface_form:o[t].reading=o[t].surface_form;for(var r=0;r<o.length;r++)!o[r].pos||"\u52a9\u52d5\u8a5e"!==o[r].pos||"\u3046"!==o[r].surface_form&&"\u30a6"!==o[r].surface_form||r-1>=0&&o[r-1].pos&&"\u52d5\u8a5e"===o[r-1].pos&&(o[r-1].surface_form+="\u3046",o[r-1].pronunciation?o[r-1].pronunciation+="\u30fc":o[r-1].pronunciation=o[r-1].reading+"\u30fc",o[r-1].reading+="\u30a6",o.splice(r,1),r--);for(var a=0;a<o.length;a++)o[a].pos&&("\u52d5\u8a5e"===o[a].pos||"\u5f62\u5bb9\u8a5e"===o[a].pos)&&o[a].surface_form.length>1&&("\u3063"===o[a].surface_form[o[a].surface_form.length-1]||"\u30c3"===o[a].surface_form[o[a].surface_form.length-1])&&a+1<o.length&&o[a+1].pos&&("\u52d5\u8a5e"===o[a+1].pos||"\u52a9\u52d5\u8a5e"===o[a+1].pos)&&(o[a].surface_form+=o[a+1].surface_form,o[a].pronunciation?o[a].pronunciation+=o[a+1].pronunciation:o[a].pronunciation=""+o[a].reading+o[a+1].reading,o[a].reading+=o[a+1].reading,o.splice(a+1,1),a--);return o},kt.isHiragana=he,kt.isKatakana=te,kt.isKana=pe,kt.isKanji=_e,kt.isJapanese=ne,kt.hasHiragana=le,kt.hasKatakana=function(o){for(var t=0;t<o.length;t++)if(te(o[t]))return!0;return!1},kt.hasKana=function(o){for(var t=0;t<o.length;t++)if(pe(o[t]))return!0;return!1},kt.hasKanji=function(o){for(var t=0;t<o.length;t++)if(_e(o[t]))return!0;return!1},kt.hasJapanese=f,kt.toRawHiragana=b,kt.toRawKatakana=m,kt.toRawRomaji=_,kt.kanaToHiragna=function(o){return b(o)},kt.kanaToKatakana=function(o){return m(o)},kt.kanaToRomaji=function(o,t){return _(o,t)}},{}]},{},[5])(5)}),function(Gt){"object"==typeof exports&&typeof module<"u"?module.exports=Gt():"function"==typeof define&&define.amd?define([],Gt):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).KuromojiAnalyzer=Gt()}(function(){return function At(xt,kt,Q){function je(he,te){if(!kt[he]){if(!xt[he]){var pe="function"==typeof require&&require;if(!te&&pe)return pe(he,!0);if(Pe)return Pe(he,!0);var _e=new Error("Cannot find module '"+he+"'");throw _e.code="MODULE_NOT_FOUND",_e}var ne=kt[he]={exports:{}};xt[he][0].call(ne.exports,function(le){return je(xt[he][1][le]||le)},ne,ne.exports,At,xt,kt,Q)}return kt[he].exports}for(var Pe="function"==typeof require&&require,y=0;y<Q.length;y++)je(Q[y]);return je}({1:[function(At,xt,kt){(function(Q,je,Pe){var he;he=function(y){"use strict";function he(Te,Ye){Ye|=0;for(var it=Math.max(Te.length-Ye,0),pt=Array(it),Wt=0;Wt<it;Wt++)pt[Wt]=Te[Ye+Wt];return pt}var te=function(Te){var Ye=he(arguments,1);return function(){var it=he(arguments);return Te.apply(null,Ye.concat(it))}},pe=function(Te){return function(){var Ye=he(arguments),it=Ye.pop();Te.call(this,Ye,it)}};function _e(Te){var Ye=typeof Te;return null!=Te&&("object"==Ye||"function"==Ye)}var ne="function"==typeof Pe&&Pe,le="object"==typeof Q&&"function"==typeof Q.nextTick;function d(Te){setTimeout(Te,0)}function N(Te){return function(Ye){var it=he(arguments,1);Te(function(){Ye.apply(null,it)})}}var A=N(ne?Pe:le?Q.nextTick:d);function f(Te){return pe(function(Ye,it){var pt;try{pt=Te.apply(this,Ye)}catch(Wt){return it(Wt)}_e(pt)&&"function"==typeof pt.then?pt.then(function(Wt){b(it,null,Wt)},function(Wt){b(it,Wt.message?Wt:new Error(Wt))}):it(null,pt)})}function b(Te,Ye,it){try{Te(Ye,it)}catch(pt){A(m,pt)}}function m(Te){throw Te}var _="function"==typeof Symbol;function n(Te){return _&&"AsyncFunction"===Te[Symbol.toStringTag]}function g(Te){return n(Te)?f(Te):Te}function h(Te){return function(Ye){var it=he(arguments,1),pt=pe(function(Wt,Mt){var Kt=this;return Te(Ye,function(Qt,pn){g(Qt).apply(Kt,Wt.concat(pn))},Mt)});return it.length?pt.apply(this,it):pt}}var s="object"==typeof je&&je&&je.Object===Object&&je,u="object"==typeof self&&self&&self.Object===Object&&self,o=s||u||Function("return this")(),t=o.Symbol,r=Object.prototype,a=r.hasOwnProperty,c=r.toString,l=t?t.toStringTag:void 0,w=Object.prototype.toString,E="[object Null]",C="[object Undefined]",z=t?t.toStringTag:void 0;function k(Te){return null==Te?void 0===Te?C:E:z&&z in Object(Te)?function(Ye){var it=a.call(Ye,l),pt=Ye[l];try{Ye[l]=void 0;var Wt=!0}catch{}var Mt=c.call(Ye);return Wt&&(it?Ye[l]=pt:delete Ye[l]),Mt}(Te):w.call(Te)}var I="[object AsyncFunction]",V="[object Function]",$="[object GeneratorFunction]",oe="[object Proxy]",ue=9007199254740991;function Ae(Te){return"number"==typeof Te&&Te>-1&&Te%1==0&&Te<=ue}function X(Te){return null!=Te&&Ae(Te.length)&&!function(Ye){if(!_e(Ye))return!1;var it=k(Ye);return it==V||it==$||it==I||it==oe}(Te)}var T={};function D(){}function M(Te){return function(){if(null!==Te){var Ye=Te;Te=null,Ye.apply(this,arguments)}}}var v="function"==typeof Symbol&&Symbol.iterator,B=function(Te){return v&&Te[v]&&Te[v]()};function F(Te){return null!=Te&&"object"==typeof Te}var q="[object Arguments]";function L(Te){return F(Te)&&k(Te)==q}var Y=Object.prototype,se=Y.hasOwnProperty,Ee=Y.propertyIsEnumerable,Se=L(function(){return arguments}())?L:function(Te){return F(Te)&&se.call(Te,"callee")&&!Ee.call(Te,"callee")},Ie=Array.isArray,Qe="object"==typeof y&&y&&!y.nodeType&&y,Je=Qe&&"object"==typeof xt&&xt&&!xt.nodeType&&xt,ut=Je&&Je.exports===Qe?o.Buffer:void 0,$t=(ut?ut.isBuffer:void 0)||function(){return!1},qt=9007199254740991,tt=/^(?:0|[1-9]\d*)$/;function at(Te,Ye){var it=typeof Te;return!!(Ye=Ye??qt)&&("number"==it||"symbol"!=it&&tt.test(Te))&&Te>-1&&Te%1==0&&Te<Ye}var nt={};nt["[object Float32Array]"]=nt["[object Float64Array]"]=nt["[object Int8Array]"]=nt["[object Int16Array]"]=nt["[object Int32Array]"]=nt["[object Uint8Array]"]=nt["[object Uint8ClampedArray]"]=nt["[object Uint16Array]"]=nt["[object Uint32Array]"]=!0,nt["[object Arguments]"]=nt["[object Array]"]=nt["[object ArrayBuffer]"]=nt["[object Boolean]"]=nt["[object DataView]"]=nt["[object Date]"]=nt["[object Error]"]=nt["[object Function]"]=nt["[object Map]"]=nt["[object Number]"]=nt["[object Object]"]=nt["[object RegExp]"]=nt["[object Set]"]=nt["[object String]"]=nt["[object WeakMap]"]=!1;var Yt,Te,Ye,Tn="object"==typeof y&&y&&!y.nodeType&&y,J=Tn&&"object"==typeof xt&&xt&&!xt.nodeType&&xt,O=J&&J.exports===Tn&&s.process,W=function(){try{return J&&J.require&&J.require("util").types||O&&O.binding&&O.binding("util")}catch{}}(),ee=W&&W.isTypedArray,ve=ee?(Yt=ee,function(Te){return Yt(Te)}):function(Te){return F(Te)&&Ae(Te.length)&&!!nt[k(Te)]},He=Object.prototype.hasOwnProperty,st=Object.prototype,Jt=(Te=Object.keys,Ye=Object,function(it){return Te(Ye(it))}),on=Object.prototype.hasOwnProperty;function wn(Te){return X(Te)?function ht(Te,Ye){var it=Ie(Te),pt=!it&&Se(Te),Wt=!it&&!pt&&$t(Te),Mt=!it&&!pt&&!Wt&&ve(Te),Kt=it||pt||Wt||Mt,Qt=Kt?function(Fn,sr){for(var jr=-1,ii=Array(Fn);++jr<Fn;)ii[jr]=sr(jr);return ii}(Te.length,String):[],pn=Qt.length;for(var jn in Te)!Ye&&!He.call(Te,jn)||Kt&&("length"==jn||Wt&&("offset"==jn||"parent"==jn)||Mt&&("buffer"==jn||"byteLength"==jn||"byteOffset"==jn)||at(jn,pn))||Qt.push(jn);return Qt}(Te):function Ht(Te){if(it=(Ye=Te)&&Ye.constructor,Ye!==("function"==typeof it&&it.prototype||st))return Jt(Te);var Ye,it,pt=[];for(var Wt in Object(Te))on.call(Te,Wt)&&"constructor"!=Wt&&pt.push(Wt);return pt}(Te)}function Sn(Te){return function(){if(null===Te)throw new Error("Callback was already called.");var Ye=Te;Te=null,Ye.apply(this,arguments)}}function fr(Te){return function(Ye,it,pt){if(pt=M(pt||D),Te<=0||!Ye)return pt(null);var Wt=function sn(Te){if(X(Te))return Qt=-1,pn=(Kt=Te).length,function(){return++Qt<pn?{value:Kt[Qt],key:Qt}:null};var Kt,Qt,pn,Ye,it,pt,Wt,Mt=B(Te);return Mt?function(Kt){var Qt=-1;return function(){var pn=Kt.next();return pn.done?null:(Qt++,{value:pn.value,key:Qt})}}(Mt):(it=wn(Ye=Te),pt=-1,Wt=it.length,function(){var Kt=it[++pt];return pt<Wt?{value:Ye[Kt],key:Kt}:null})}(Ye),Mt=!1,Kt=0,Qt=!1;function pn(Fn,sr){if(Kt-=1,Fn)Mt=!0,pt(Fn);else{if(sr===T||Mt&&Kt<=0)return Mt=!0,pt(null);Qt||jn()}}function jn(){for(Qt=!0;Kt<Te&&!Mt;){var Fn=Wt();if(null===Fn)return Mt=!0,void(Kt<=0&&pt(null));Kt+=1,it(Fn.value,Fn.key,Sn(pn))}Qt=!1}jn()}}function Dn(Te,Ye,it,pt){fr(Ye)(Te,g(it),pt)}function Rt(Te,Ye){return function(it,pt,Wt){return Te(it,Ye,pt,Wt)}}function vr(Te,Ye,it){it=M(it||D);var pt=0,Wt=0,Mt=Te.length;function Kt(Qt,pn){Qt?it(Qt):++Wt!==Mt&&pn!==T||it(null)}for(0===Mt&&it(null);pt<Mt;pt++)Ye(Te[pt],pt,Sn(Kt))}var de=Rt(Dn,1/0),Le=function(Te,Ye,it){(X(Te)?vr:de)(Te,g(Ye),it)};function et(Te){return function(Ye,it,pt){return Te(Le,Ye,g(it),pt)}}function qe(Te,Ye,it,pt){pt=pt||D,Ye=Ye||[];var Wt=[],Mt=0,Kt=g(it);Te(Ye,function(Qt,pn,jn){var Fn=Mt++;Kt(Qt,function(sr,jr){Wt[Fn]=jr,jn(sr)})},function(Qt){pt(Qt,Wt)})}var Ze=et(qe),Ct=h(Ze);function Nt(Te){return function(Ye,it,pt,Wt){return Te(fr(it),Ye,g(pt),Wt)}}var Bt=Nt(qe),ln=Rt(Bt,1),Ot=h(ln);function mn(Te,Ye){for(var it=-1,pt=null==Te?0:Te.length;++it<pt&&!1!==Ye(Te[it],it,Te););return Te}var vn=function(Te,Ye,it){for(var pt=-1,Wt=Object(Te),Mt=it(Te),Kt=Mt.length;Kt--;){var Qt=Mt[++pt];if(!1===Ye(Wt[Qt],Qt,Wt))break}return Te};function In(Te,Ye){return Te&&vn(Te,Ye,wn)}function pr(Te){return Te!=Te}function Nn(Te,Ye,it){return Ye==Ye?function(pt,Wt,Mt){for(var Kt=Mt-1,Qt=pt.length;++Kt<Qt;)if(pt[Kt]===Wt)return Kt;return-1}(Te,Ye,it):function(pt,Wt,Mt,Kt){for(var Qt=pt.length,pn=Mt+-1;++pn<Qt;)if(Wt(pt[pn],pn,pt))return pn;return-1}(Te,pr,it)}var zn=function(Te,Ye,it){"function"==typeof Ye&&(it=Ye,Ye=null),it=M(it||D);var pt=wn(Te).length;if(!pt)return it(null);Ye||(Ye=pt);var Wt={},Mt=0,Kt=!1,Qt=Object.create(null),pn=[],jn=[],Fn={};function sr(ti,Or){pn.push(function(){!function(Yr,Fi){if(!Kt){var no=Sn(function(ao,Zi){if(Mt--,arguments.length>2&&(Zi=he(arguments,1)),ao){var ro={};In(Wt,function(io,ko){ro[ko]=io}),ro[Yr]=Zi,Kt=!0,Qt=Object.create(null),it(ao,ro)}else Wt[Yr]=Zi,mn(Qt[Yr]||[],function(io){io()}),jr()});Mt++;var Hi=g(Fi[Fi.length-1]);Fi.length>1?Hi(Wt,no):Hi(no)}}(ti,Or)})}function jr(){if(0===pn.length&&0===Mt)return it(null,Wt);for(;pn.length&&Mt<Ye;)pn.shift()()}function ii(ti){var Or=[];return In(Te,function(Yr,Fi){Ie(Yr)&&Nn(Yr,ti,0)>=0&&Or.push(Fi)}),Or}In(Te,function(ti,Or){if(!Ie(ti))return sr(Or,[ti]),void jn.push(Or);var Yr=ti.slice(0,ti.length-1),Fi=Yr.length;if(0===Fi)return sr(Or,ti),void jn.push(Or);Fn[Or]=Fi,mn(Yr,function(no){if(!Te[no])throw new Error("async.auto task `"+Or+"` has a non-existent dependency `"+no+"` in "+Yr.join(", "));var Hi,Zi;(Zi=Qt[Hi=no])||(Zi=Qt[Hi]=[]),Zi.push(function(){0==--Fi&&sr(Or,ti)})})}),function(){for(var Or=0;jn.length;)Or++,mn(ii(jn.pop()),function(Yr){0==--Fn[Yr]&&jn.push(Yr)});if(Or!==pt)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),jr()};function Br(Te,Ye){for(var it=-1,pt=null==Te?0:Te.length,Wt=Array(pt);++it<pt;)Wt[it]=Ye(Te[it],it,Te);return Wt}var Rn="[object Symbol]",Qn=1/0,Wr=t?t.prototype:void 0,Kn=Wr?Wr.toString:void 0;function Zn(Te){if("string"==typeof Te)return Te;if(Ie(Te))return Br(Te,Zn)+"";if("symbol"==typeof(it=Te)||F(it)&&k(it)==Rn)return Kn?Kn.call(Te):"";var it,Ye=Te+"";return"0"==Ye&&1/Te==-Qn?"-0":Ye}var Gn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),ct="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",me="\\ud83c[\\udffb-\\udfff]",ot="[^\\ud800-\\udfff]",ft="(?:\\ud83c[\\udde6-\\uddff]){2}",be="[\\ud800-\\udbff][\\udc00-\\udfff]",dt="(?:"+ct+"|"+me+")?",Zr="[\\ufe0e\\ufe0f]?"+dt+"(?:\\u200d(?:"+[ot,ft,be].join("|")+")[\\ufe0e\\ufe0f]?"+dt+")*",ri="(?:"+[ot+ct+"?",ct,ft,be,"[\\ud800-\\udfff]"].join("|")+")",si=RegExp(me+"(?="+me+")|"+ri+Zr,"g");function cr(Te){return function(Ye){return Gn.test(Ye)}(Te)?function(Ye){return Ye.match(si)||[]}(Te):function(Ye){return Ye.split("")}(Te)}var yi=/^\s+|\s+$/g;var zr=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,ui=/,/,ai=/(=.+)?(\s*)$/,li=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function Vr(Te,Ye){var it={};In(Te,function(pt,Wt){var Mt,Kt,Qt=n(pt),pn=!Qt&&1===pt.length||Qt&&0===pt.length;if(Ie(pt))Mt=pt.slice(0,-1),pt=pt[pt.length-1],it[Wt]=Mt.concat(Mt.length>0?jn:pt);else if(pn)it[Wt]=pt;else{if(Mt=Kt=(Kt=(Kt=(Kt=(Kt=pt).toString().replace(li,"")).match(zr)[2].replace(" ",""))?Kt.split(ui):[]).map(function(Fn){return function Jr(Te,Ye,it){var pt;if((Te=null==(pt=Te)?"":Zn(pt))&&(it||void 0===Ye))return Te.replace(yi,"");if(!Te||!(Ye=Zn(Ye)))return Te;var Wt=cr(Te),Mt=cr(Ye);return function Kr(Te,Ye,it){var pt=Te.length;return it=void 0===it?pt:it,!Ye&&it>=pt?Te:function(Wt,Mt,Kt){var Qt=-1,pn=Wt.length;Mt<0&&(Mt=-Mt>pn?0:pn+Mt),(Kt=Kt>pn?pn:Kt)<0&&(Kt+=pn),pn=Mt>Kt?0:Kt-Mt>>>0,Mt>>>=0;for(var jn=Array(pn);++Qt<pn;)jn[Qt]=Wt[Qt+Mt];return jn}(Te,Ye,it)}(Wt,function(Kt,Qt){for(var pn=-1,jn=Kt.length;++pn<jn&&Nn(Qt,Kt[pn],0)>-1;);return pn}(Wt,Mt),function(Kt,Qt){for(var pn=Kt.length;pn--&&Nn(Qt,Kt[pn],0)>-1;);return pn}(Wt,Mt)+1).join("")}(Fn.replace(ai,""))}),0===pt.length&&!Qt&&0===Mt.length)throw new Error("autoInject task functions require explicit parameters.");Qt||Mt.pop(),it[Wt]=Mt.concat(jn)}function jn(Fn,sr){var jr=Br(Mt,function(ii){return Fn[ii]});jr.push(sr),g(pt).apply(null,jr)}}),zn(it,Ye)}function Fr(){this.head=this.tail=null,this.length=0}function Un(Te,Ye){Te.length=1,Te.head=Te.tail=Ye}function We(Te,Ye,it){if(null==Ye)Ye=1;else if(0===Ye)throw new Error("Concurrency must not be zero");var pt=g(Te),Wt=0,Mt=[],Kt=!1;function Qt(sr,jr,ii){if(null!=ii&&"function"!=typeof ii)throw new Error("task callback must be a function");if(Fn.started=!0,Ie(sr)||(sr=[sr]),0===sr.length&&Fn.idle())return A(function(){Fn.drain()});for(var ti=0,Or=sr.length;ti<Or;ti++){var Yr={data:sr[ti],callback:ii||D};jr?Fn._tasks.unshift(Yr):Fn._tasks.push(Yr)}Kt||(Kt=!0,A(function(){Kt=!1,Fn.process()}))}function pn(sr){return function(jr){Wt-=1;for(var ii=0,ti=sr.length;ii<ti;ii++){var Or=sr[ii],Yr=Nn(Mt,Or,0);0===Yr?Mt.shift():Yr>0&&Mt.splice(Yr,1),Or.callback.apply(Or,arguments),null!=jr&&Fn.error(jr,Or.data)}Wt<=Fn.concurrency-Fn.buffer&&Fn.unsaturated(),Fn.idle()&&Fn.drain(),Fn.process()}}var jn=!1,Fn={_tasks:new Fr,concurrency:Ye,payload:it,saturated:D,unsaturated:D,buffer:Ye/4,empty:D,drain:D,error:D,started:!1,paused:!1,push:function(sr,jr){Qt(sr,!1,jr)},kill:function(){Fn.drain=D,Fn._tasks.empty()},unshift:function(sr,jr){Qt(sr,!0,jr)},remove:function(sr){Fn._tasks.remove(sr)},process:function(){if(!jn){for(jn=!0;!Fn.paused&&Wt<Fn.concurrency&&Fn._tasks.length;){var sr=[],jr=[],ii=Fn._tasks.length;Fn.payload&&(ii=Math.min(ii,Fn.payload));for(var ti=0;ti<ii;ti++){var Or=Fn._tasks.shift();sr.push(Or),Mt.push(Or),jr.push(Or.data)}Wt+=1,0===Fn._tasks.length&&Fn.empty(),Wt===Fn.concurrency&&Fn.saturated();var Yr=Sn(pn(sr));pt(jr,Yr)}jn=!1}},length:function(){return Fn._tasks.length},running:function(){return Wt},workersList:function(){return Mt},idle:function(){return Fn._tasks.length+Wt===0},pause:function(){Fn.paused=!0},resume:function(){!1!==Fn.paused&&(Fn.paused=!1,A(Fn.process))}};return Fn}function Mn(Te,Ye){return We(Te,1,Ye)}Fr.prototype.removeLink=function(Te){return Te.prev?Te.prev.next=Te.next:this.head=Te.next,Te.next?Te.next.prev=Te.prev:this.tail=Te.prev,Te.prev=Te.next=null,this.length-=1,Te},Fr.prototype.empty=function(){for(;this.head;)this.shift();return this},Fr.prototype.insertAfter=function(Te,Ye){Ye.prev=Te,Ye.next=Te.next,Te.next?Te.next.prev=Ye:this.tail=Ye,Te.next=Ye,this.length+=1},Fr.prototype.insertBefore=function(Te,Ye){Ye.prev=Te.prev,Ye.next=Te,Te.prev?Te.prev.next=Ye:this.head=Ye,Te.prev=Ye,this.length+=1},Fr.prototype.unshift=function(Te){this.head?this.insertBefore(this.head,Te):Un(this,Te)},Fr.prototype.push=function(Te){this.tail?this.insertAfter(this.tail,Te):Un(this,Te)},Fr.prototype.shift=function(){return this.head&&this.removeLink(this.head)},Fr.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},Fr.prototype.toArray=function(){for(var Te=Array(this.length),Ye=this.head,it=0;it<this.length;it++)Te[it]=Ye.data,Ye=Ye.next;return Te},Fr.prototype.remove=function(Te){for(var Ye=this.head;Ye;){var it=Ye.next;Te(Ye)&&this.removeLink(Ye),Ye=it}return this};var Yn=Rt(Dn,1);function Cn(Te,Ye,it,pt){pt=M(pt||D);var Wt=g(it);Yn(Te,function(Mt,Kt,Qt){Wt(Ye,Mt,function(pn,jn){Ye=jn,Qt(pn)})},function(Mt){pt(Mt,Ye)})}function Jn(){var Te=Br(arguments,g);return function(){var Ye=he(arguments),it=this,pt=Ye[Ye.length-1];"function"==typeof pt?Ye.pop():pt=D,Cn(Te,Ye,function(Wt,Mt,Kt){Mt.apply(it,Wt.concat(function(Qt){var pn=he(arguments,1);Kt(Qt,pn)}))},function(Wt,Mt){pt.apply(it,[Wt].concat(Mt))})}}var Er=function(){return Jn.apply(null,he(arguments).reverse())},Gr=Array.prototype.concat,ci=function(Te,Ye,it,pt){pt=pt||D;var Wt=g(it);Bt(Te,Ye,function(Mt,Kt){Wt(Mt,function(Qt){return Qt?Kt(Qt):Kt(null,he(arguments,1))})},function(Mt,Kt){for(var Qt=[],pn=0;pn<Kt.length;pn++)Kt[pn]&&(Qt=Gr.apply(Qt,Kt[pn]));return pt(Mt,Qt)})},dr=Rt(ci,1/0),Qr=Rt(ci,1),di=function(){var Te=he(arguments),Ye=[null].concat(Te);return function(){return arguments[arguments.length-1].apply(this,Ye)}};function hi(Te){return Te}function Ur(Te,Ye){return function(it,pt,Wt,Mt){Mt=Mt||D;var Kt,Qt=!1;it(pt,function(pn,jn,Fn){Wt(pn,function(sr,jr){sr?Fn(sr):Te(jr)&&!Kt?(Qt=!0,Kt=Ye(!0,pn),Fn(null,T)):Fn()})},function(pn){pn?Mt(pn):Mt(null,Qt?Kt:Ye(!1))})}}function to(Te,Ye){return Ye}var P=et(Ur(hi,to)),Z=Nt(Ur(hi,to)),ie=Rt(Z,1);function fe(Te){return function(Ye){var it=he(arguments,1);it.push(function(pt){var Wt=he(arguments,1);"object"==typeof console&&(pt?console.error&&console.error(pt):console[Te]&&mn(Wt,function(Mt){console[Te](Mt)}))}),g(Ye).apply(null,it)}}var ye=fe("dir");function Me(Te,Ye,it){it=Sn(it||D);var pt=g(Te),Wt=g(Ye);function Mt(Qt){if(Qt)return it(Qt);var pn=he(arguments,1);pn.push(Kt),Wt.apply(this,pn)}function Kt(Qt,pn){return Qt?it(Qt):pn?void pt(Mt):it(null)}Kt(null,!0)}function Ce(Te,Ye,it){it=Sn(it||D);var pt=g(Te),Wt=function(Mt){if(Mt)return it(Mt);var Kt=he(arguments,1);if(Ye.apply(this,Kt))return pt(Wt);it.apply(null,[null].concat(Kt))};pt(Wt)}function Ue(Te,Ye,it){Ce(Te,function(){return!Ye.apply(this,arguments)},it)}function Ge(Te,Ye,it){it=Sn(it||D);var pt=g(Ye),Wt=g(Te);function Mt(Qt){if(Qt)return it(Qt);Wt(Kt)}function Kt(Qt,pn){return Qt?it(Qt):pn?void pt(Mt):it(null)}Wt(Kt)}function _t(Te){return function(Ye,it,pt){return Te(Ye,pt)}}function Ft(Te,Ye,it){Le(Te,_t(g(Ye)),it)}function lt(Te,Ye,it,pt){fr(Ye)(Te,_t(g(it)),pt)}var mt=Rt(lt,1);function Ut(Te){return n(Te)?Te:pe(function(Ye,it){var pt=!0;Ye.push(function(){var Wt=arguments;pt?A(function(){it.apply(null,Wt)}):it.apply(null,Wt)}),Te.apply(this,Ye),pt=!1})}function Xt(Te){return!Te}var It=et(Ur(Xt,Xt)),jt=Nt(Ur(Xt,Xt)),Pt=Rt(jt,1);function un(Te){return function(Ye){return Ye?.[Te]}}function tn(Te,Ye,it,pt){var Wt=new Array(Ye.length);Te(Ye,function(Mt,Kt,Qt){it(Mt,function(pn,jn){Wt[Kt]=!!jn,Qt(pn)})},function(Mt){if(Mt)return pt(Mt);for(var Kt=[],Qt=0;Qt<Ye.length;Qt++)Wt[Qt]&&Kt.push(Ye[Qt]);pt(null,Kt)})}function an(Te,Ye,it,pt){var Wt=[];Te(Ye,function(Mt,Kt,Qt){it(Mt,function(pn,jn){pn?Qt(pn):(jn&&Wt.push({index:Kt,value:Mt}),Qt())})},function(Mt){Mt?pt(Mt):pt(null,Br(Wt.sort(function(Kt,Qt){return Kt.index-Qt.index}),un("value")))})}function Hn(Te,Ye,it,pt){(X(Ye)?tn:an)(Te,Ye,g(it),pt||D)}var xr=et(Hn),kr=Nt(Hn),rr=Rt(kr,1);function ir(Te,Ye){var it=Sn(Ye||D),pt=g(Ut(Te));!function Wt(Mt){if(Mt)return it(Mt);pt(Wt)}()}var or=function(Te,Ye,it,pt){pt=pt||D;var Wt=g(it);Bt(Te,Ye,function(Mt,Kt){Wt(Mt,function(Qt,pn){return Qt?Kt(Qt):Kt(null,{key:pn,val:Mt})})},function(Mt,Kt){for(var Qt={},pn=Object.prototype.hasOwnProperty,jn=0;jn<Kt.length;jn++)if(Kt[jn]){var Fn=Kt[jn].key,sr=Kt[jn].val;pn.call(Qt,Fn)?Qt[Fn].push(sr):Qt[Fn]=[sr]}return pt(Mt,Qt)})},fi=Rt(or,1/0),Fe=Rt(or,1),St=fe("log");function Vt(Te,Ye,it,pt){pt=M(pt||D);var Wt={},Mt=g(it);Dn(Te,Ye,function(Kt,Qt,pn){Mt(Kt,Qt,function(jn,Fn){if(jn)return pn(jn);Wt[Qt]=Fn,pn()})},function(Kt){pt(Kt,Wt)})}var cn=Rt(Vt,1/0),$n=Rt(Vt,1);function Ke(Te,Ye){return Ye in Te}function Re(Te,Ye){var it=Object.create(null),pt=Object.create(null);Ye=Ye||hi;var Wt=g(Te),Mt=pe(function(Kt,Qt){var pn=Ye.apply(null,Kt);Ke(it,pn)?A(function(){Qt.apply(null,it[pn])}):Ke(pt,pn)?pt[pn].push(Qt):(pt[pn]=[Qt],Wt.apply(null,Kt.concat(function(){var jn=he(arguments);it[pn]=jn;var Fn=pt[pn];delete pt[pn];for(var sr=0,jr=Fn.length;sr<jr;sr++)Fn[sr].apply(null,jn)})))});return Mt.memo=it,Mt.unmemoized=Te,Mt}var bt=N(le?Q.nextTick:ne?Pe:d);function Et(Te,Ye,it){it=it||D;var pt=X(Ye)?[]:{};Te(Ye,function(Wt,Mt,Kt){g(Wt)(function(Qt,pn){arguments.length>2&&(pn=he(arguments,1)),pt[Mt]=pn,Kt(Qt)})},function(Wt){it(Wt,pt)})}function nn(Te,Ye){Et(Le,Te,Ye)}function xn(Te,Ye,it){Et(fr(Ye),Te,it)}var fn=function(Te,Ye){var it=g(Te);return We(function(pt,Wt){it(pt[0],Wt)},Ye,1)},En=function(Te,Ye){var it=fn(Te,Ye);return it.push=function(pt,Wt,Mt){if(null==Mt&&(Mt=D),"function"!=typeof Mt)throw new Error("task callback must be a function");if(it.started=!0,Ie(pt)||(pt=[pt]),0===pt.length)return A(function(){it.drain()});Wt=Wt||0;for(var Kt=it._tasks.head;Kt&&Wt>=Kt.priority;)Kt=Kt.next;for(var Qt=0,pn=pt.length;Qt<pn;Qt++){var jn={data:pt[Qt],priority:Wt,callback:Mt};Kt?it._tasks.insertBefore(Kt,jn):it._tasks.push(jn)}A(it.process)},delete it.unshift,it};function yn(Te,Ye){if(Ye=M(Ye||D),!Ie(Te))return Ye(new TypeError("First argument to race must be an array of functions"));if(!Te.length)return Ye();for(var it=0,pt=Te.length;it<pt;it++)g(Te[it])(Ye)}function Pn(Te,Ye,it,pt){Cn(he(Te).reverse(),Ye,it,pt)}function qn(Te){var Ye=g(Te);return pe(function(it,pt){return it.push(function(Wt,Mt){var Kt;Wt?pt(null,{error:Wt}):(Kt=arguments.length<=2?Mt:he(arguments,1),pt(null,{value:Kt}))}),Ye.apply(this,it)})}function _r(Te){var Ye;return Ie(Te)?Ye=Br(Te,qn):(Ye={},In(Te,function(it,pt){Ye[pt]=qn.call(this,it)})),Ye}function nr(Te,Ye,it,pt){Hn(Te,Ye,function(Wt,Mt){it(Wt,function(Kt,Qt){Mt(Kt,!Qt)})},pt)}var Cr=et(nr),gr=Nt(nr),Tr=Rt(gr,1);function br(Te){return function(){return Te}}function Lr(Te,Ye,it){var Mt={times:5,intervalFunc:br(0)};if(arguments.length<3&&"function"==typeof Te?(it=Ye||D,Ye=Te):(function(pn,jn){if("object"==typeof jn)pn.times=+jn.times||5,pn.intervalFunc="function"==typeof jn.interval?jn.interval:br(+jn.interval||0),pn.errorFilter=jn.errorFilter;else{if("number"!=typeof jn&&"string"!=typeof jn)throw new Error("Invalid arguments for async.retry");pn.times=+jn||5}}(Mt,Te),it=it||D),"function"!=typeof Ye)throw new Error("Invalid arguments for async.retry");var Kt=g(Ye),Qt=1;!function pn(){Kt(function(jn){jn&&Qt++<Mt.times&&("function"!=typeof Mt.errorFilter||Mt.errorFilter(jn))?setTimeout(pn,Mt.intervalFunc(Qt)):it.apply(null,arguments)})}()}var yr=function(Te,Ye){Ye||(Ye=Te,Te=null);var it=g(Ye);return pe(function(pt,Wt){function Mt(Kt){it.apply(null,pt.concat(Kt))}Te?Lr(Te,Mt,Wt):Lr(Mt,Wt)})};function ni(Te,Ye){Et(Yn,Te,Ye)}var wi=et(Ur(Boolean,hi)),pi=Nt(Ur(Boolean,hi)),gi=Rt(pi,1);function ei(Te,Ye,it){var pt=g(Ye);function Wt(Mt,Kt){var Qt=Mt.criteria,pn=Kt.criteria;return Qt<pn?-1:Qt>pn?1:0}Ze(Te,function(Mt,Kt){pt(Mt,function(Qt,pn){if(Qt)return Kt(Qt);Kt(null,{value:Mt,criteria:pn})})},function(Mt,Kt){if(Mt)return it(Mt);it(null,Br(Kt.sort(Wt),un("value")))})}function $i(Te,Ye,it){var pt=g(Te);return pe(function(Wt,Mt){var Kt,Qt=!1;Wt.push(function(){Qt||(Mt.apply(null,arguments),clearTimeout(Kt))}),Kt=setTimeout(function(){var jn=new Error('Callback function "'+(Te.name||"anonymous")+'" timed out.');jn.code="ETIMEDOUT",it&&(jn.info=it),Qt=!0,Mt(jn)},Ye),pt.apply(null,Wt)})}var Xi=Math.ceil,Ni=Math.max;function mi(Te,Ye,it,pt){var Wt=g(it);Bt(function(Mt,Kt,Qt,pn){for(var jn=-1,Fn=Ni(Xi((Kt-Mt)/1),0),sr=Array(Fn);Fn--;)sr[++jn]=Mt,Mt+=1;return sr}(0,Te),Ye,Wt,pt)}var Vi=Rt(mi,1/0),zi=Rt(mi,1);function Ui(Te,Ye,it,pt){arguments.length<=3&&(pt=it,it=Ye,Ye=Ie(Te)?[]:{}),pt=M(pt||D);var Wt=g(it);Le(Te,function(Mt,Kt,Qt){Wt(Ye,Mt,Kt,Qt)},function(Mt){pt(Mt,Ye)})}function Ai(Te,Ye){var it,pt=null;Ye=Ye||D,mt(Te,function(Wt,Mt){g(Wt)(function(Kt,Qt){it=arguments.length>2?he(arguments,1):Qt,pt=Kt,Mt(!Kt)})},function(){Ye(pt,it)})}function Ii(Te){return function(){return(Te.unmemoized||Te).apply(null,arguments)}}function _i(Te,Ye,it){it=Sn(it||D);var pt=g(Ye);if(!Te())return it(null);var Wt=function(Mt){if(Mt)return it(Mt);if(Te())return pt(Wt);var Kt=he(arguments,1);it.apply(null,[null].concat(Kt))};pt(Wt)}function Pi(Te,Ye,it){_i(function(){return!Te.apply(this,arguments)},Ye,it)}var Gi=function(Te,Ye){if(Ye=M(Ye||D),!Ie(Te))return Ye(new Error("First argument to waterfall must be an array of functions"));if(!Te.length)return Ye();var it=0;function pt(Mt){var Kt=g(Te[it++]);Mt.push(Sn(Wt)),Kt.apply(null,Mt)}function Wt(Mt){if(Mt||it===Te.length)return Ye.apply(null,arguments);pt(he(arguments,1))}pt([])};y.default={apply:te,applyEach:Ct,applyEachSeries:Ot,asyncify:f,auto:zn,autoInject:Vr,cargo:Mn,compose:Er,concat:dr,concatLimit:ci,concatSeries:Qr,constant:di,detect:P,detectLimit:Z,detectSeries:ie,dir:ye,doDuring:Me,doUntil:Ue,doWhilst:Ce,during:Ge,each:Ft,eachLimit:lt,eachOf:Le,eachOfLimit:Dn,eachOfSeries:Yn,eachSeries:mt,ensureAsync:Ut,every:It,everyLimit:jt,everySeries:Pt,filter:xr,filterLimit:kr,filterSeries:rr,forever:ir,groupBy:fi,groupByLimit:or,groupBySeries:Fe,log:St,map:Ze,mapLimit:Bt,mapSeries:ln,mapValues:cn,mapValuesLimit:Vt,mapValuesSeries:$n,memoize:Re,nextTick:bt,parallel:nn,parallelLimit:xn,priorityQueue:En,queue:fn,race:yn,reduce:Cn,reduceRight:Pn,reflect:qn,reflectAll:_r,reject:Cr,rejectLimit:gr,rejectSeries:Tr,retry:Lr,retryable:yr,seq:Jn,series:ni,setImmediate:A,some:wi,someLimit:pi,someSeries:gi,sortBy:ei,timeout:$i,times:Vi,timesLimit:mi,timesSeries:zi,transform:Ui,tryEach:Ai,unmemoize:Ii,until:Pi,waterfall:Gi,whilst:_i,all:It,allLimit:jt,allSeries:Pt,any:wi,anyLimit:pi,anySeries:gi,find:P,findLimit:Z,findSeries:ie,forEach:Ft,forEachSeries:mt,forEachLimit:lt,forEachOf:Le,forEachOfSeries:Yn,forEachOfLimit:Dn,inject:Cn,foldl:Cn,foldr:Pn,select:xr,selectLimit:kr,selectSeries:rr,wrapSync:f},y.apply=te,y.applyEach=Ct,y.applyEachSeries=Ot,y.asyncify=f,y.auto=zn,y.autoInject=Vr,y.cargo=Mn,y.compose=Er,y.concat=dr,y.concatLimit=ci,y.concatSeries=Qr,y.constant=di,y.detect=P,y.detectLimit=Z,y.detectSeries=ie,y.dir=ye,y.doDuring=Me,y.doUntil=Ue,y.doWhilst=Ce,y.during=Ge,y.each=Ft,y.eachLimit=lt,y.eachOf=Le,y.eachOfLimit=Dn,y.eachOfSeries=Yn,y.eachSeries=mt,y.ensureAsync=Ut,y.every=It,y.everyLimit=jt,y.everySeries=Pt,y.filter=xr,y.filterLimit=kr,y.filterSeries=rr,y.forever=ir,y.groupBy=fi,y.groupByLimit=or,y.groupBySeries=Fe,y.log=St,y.map=Ze,y.mapLimit=Bt,y.mapSeries=ln,y.mapValues=cn,y.mapValuesLimit=Vt,y.mapValuesSeries=$n,y.memoize=Re,y.nextTick=bt,y.parallel=nn,y.parallelLimit=xn,y.priorityQueue=En,y.queue=fn,y.race=yn,y.reduce=Cn,y.reduceRight=Pn,y.reflect=qn,y.reflectAll=_r,y.reject=Cr,y.rejectLimit=gr,y.rejectSeries=Tr,y.retry=Lr,y.retryable=yr,y.seq=Jn,y.series=ni,y.setImmediate=A,y.some=wi,y.someLimit=pi,y.someSeries=gi,y.sortBy=ei,y.timeout=$i,y.times=Vi,y.timesLimit=mi,y.timesSeries=zi,y.transform=Ui,y.tryEach=Ai,y.unmemoize=Ii,y.until=Pi,y.waterfall=Gi,y.whilst=_i,y.all=It,y.allLimit=jt,y.allSeries=Pt,y.any=wi,y.anyLimit=pi,y.anySeries=gi,y.find=P,y.findLimit=Z,y.findSeries=ie,y.forEach=Ft,y.forEachSeries=mt,y.forEachLimit=lt,y.forEachOf=Le,y.forEachOfSeries=Yn,y.forEachOfLimit=Dn,y.inject=Cn,y.foldl=Cn,y.foldr=Pn,y.select=xr,y.selectLimit=kr,y.selectSeries=rr,y.wrapSync=f,Object.defineProperty(y,"__esModule",{value:!0})},he("object"==typeof kt&&typeof xt<"u"?kt:this.async=this.async||{})}).call(this,At("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},At("timers").setImmediate)},{_process:26,timers:27}],2:[function(At,xt,kt){!function(){"use strict";var Q=function(ne){null==ne&&(ne=1024);var le=function(m,_,n){for(var g=_;g<n;g++)m[g]=1-g;if(0<b.array[b.array.length-1]){for(var h=b.array.length-2;0<b.array[h];)h--;m[_]=-h}},d=function(m,_,n){for(var g=_;g<n;g++)m[g]=-g-1},N=function(m){var _=2*m,n=y(f.signed,f.bytes,_);le(n,f.array.length,_),n.set(f.array),f.array=null,f.array=n;var g=y(b.signed,b.bytes,_);d(g,b.array.length,_),g.set(b.array),b.array=null,b.array=g},A=1,f={signed:!0,bytes:4,array:y(!0,4,ne)},b={signed:!0,bytes:4,array:y(!0,4,ne)};return f.array[0]=1,b.array[0]=0,le(f.array,1,f.array.length),d(b.array,1,b.array.length),{getBaseBuffer:function(){return f.array},getCheckBuffer:function(){return b.array},loadBaseBuffer:function(m){return f.array=m,this},loadCheckBuffer:function(m){return b.array=m,this},size:function(){return Math.max(f.array.length,b.array.length)},getBase:function(m){return f.array.length-1<m?1-m:f.array[m]},getCheck:function(m){return b.array.length-1<m?-m-1:b.array[m]},setBase:function(m,_){f.array.length-1<m&&N(m),f.array[m]=_},setCheck:function(m,_){b.array.length-1<m&&N(m),b.array[m]=_},setFirstUnusedNode:function(m){A=m},getFirstUnusedNode:function(){return A},shrink:function(){for(var m=this.size()-1;!(0<=b.array[m]);)m--;f.array=f.array.subarray(0,m+2),b.array=b.array.subarray(0,m+2)},calc:function(){for(var m=0,_=b.array.length,n=0;n<_;n++)b.array[n]<0&&m++;return{all:_,unused:m,efficiency:(_-m)/_}},dump:function(){var m,_="",n="";for(m=0;m<f.array.length;m++)_=_+" "+this.getBase(m);for(m=0;m<b.array.length;m++)n=n+" "+this.getCheck(m);return console.log("base:"+_),console.log("chck:"+n),"base:"+_+" chck:"+n}}};function je(ne){this.bc=Q(ne),this.keys=[]}function Pe(ne){this.bc=ne,this.bc.shrink()}je.prototype.append=function(ne,le){return this.keys.push({k:ne,v:le}),this},je.prototype.build=function(ne,le){if(null==ne&&(ne=this.keys),null==ne)return new Pe(this.bc);null==le&&(le=!1);var d=ne.map(function(N){return{k:te(N.k+"\0"),v:N.v}});return this.keys=le?d:d.sort(function(N,A){for(var f=N.k,b=A.k,m=Math.min(f.length,b.length),_=0;_<m;_++)if(f[_]!==b[_])return f[_]-b[_];return f.length-b.length}),d=null,this._build(0,0,0,this.keys.length),new Pe(this.bc)},je.prototype._build=function(ne,le,d,N){var A=this.getChildrenInfo(le,d,N),f=this.findAllocatableBase(A);this.setBC(ne,A,f);for(var b=0;b<A.length;b+=3){var m=A[b];0!==m&&this._build(f+m,le+1,A[b+1],A[b+2])}},je.prototype.getChildrenInfo=function(ne,le,d){var N=this.keys[le].k[ne],A=0,f=new Int32Array(3*d);f[A++]=N,f[A++]=le;for(var b=le,m=le;b<le+d;b++){var _=this.keys[b].k[ne];N!==_&&(f[A++]=b-m,f[A++]=_,f[A++]=b,N=_,m=b)}return f[A++]=b-m,f.subarray(0,A)},je.prototype.setBC=function(ne,le,d){var N,A=this.bc;for(A.setBase(ne,d),N=0;N<le.length;N+=3){var f=le[N],b=d+f,m=-A.getBase(b),_=-A.getCheck(b);if(b!==A.getFirstUnusedNode()?A.setCheck(m,-_):A.setFirstUnusedNode(_),A.setBase(_,-m),A.setCheck(b,ne),0===f){var h=this.keys[le[N+1]].v;null==h&&(h=0),A.setBase(b,-h-1)}}},je.prototype.findAllocatableBase=function(ne){for(var le,d=this.bc,N=d.getFirstUnusedNode();;)if((le=N-ne[0])<0)N=-d.getCheck(N);else{for(var A=!0,f=0;f<ne.length;f+=3)if(!this.isUnusedNode(le+ne[f])){N=-d.getCheck(N),A=!1;break}if(A)return le}},je.prototype.isUnusedNode=function(ne){var le=this.bc.getCheck(ne);return 0!==ne&&le<0},Pe.prototype.contain=function(ne){for(var le=this.bc,d=te(ne+="\0"),N=0,A=-1,f=0;f<d.length;f++){if(-1===(A=this.traverse(N,d[f])))return!1;if(le.getBase(A)<=0)return!0;N=A}return!1},Pe.prototype.lookup=function(ne){for(var le=te(ne+="\0"),d=0,N=-1,A=0;A<le.length;A++){if(-1===(N=this.traverse(d,le[A])))return-1;d=N}var b=this.bc.getBase(N);return b<=0?-b-1:-1},Pe.prototype.commonPrefixSearch=function(ne){for(var le=te(ne),d=0,N=-1,A=[],f=0;f<le.length&&-1!==(N=this.traverse(d,le[f]));f++){d=N;var m=this.traverse(N,0);if(-1!==m){var _=this.bc.getBase(m),n={};_<=0&&(n.v=-_-1),n.k=pe(he(le,0,f+1)),A.push(n)}}return A},Pe.prototype.traverse=function(ne,le){var d=this.bc.getBase(ne)+le;return this.bc.getCheck(d)===ne?d:-1},Pe.prototype.size=function(){return this.bc.size()},Pe.prototype.calc=function(){return this.bc.calc()},Pe.prototype.dump=function(){return this.bc.dump()};var y=function(ne,le,d){if(ne)switch(le){case 1:return new Int8Array(d);case 2:return new Int16Array(d);case 4:return new Int32Array(d);default:throw new RangeError("Invalid newArray parameter element_bytes:"+le)}else switch(le){case 1:return new Uint8Array(d);case 2:return new Uint16Array(d);case 4:return new Uint32Array(d);default:throw new RangeError("Invalid newArray parameter element_bytes:"+le)}},he=function(ne,le,d){var N=new ArrayBuffer(d),A=new Uint8Array(N,0,d),f=ne.subarray(le,d);return A.set(f),A},te=function(ne){for(var le=new Uint8Array(new ArrayBuffer(4*ne.length)),d=0,N=0;d<ne.length;){var A,f=ne.charCodeAt(d++);if(f>=55296&&f<=56319){var b=f,m=ne.charCodeAt(d++);if(!(m>=56320&&m<=57343))return null;A=1024*(b-55296)+65536+(m-56320)}else A=f;A<128?le[N++]=A:A<2048?(le[N++]=A>>>6|192,le[N++]=63&A|128):A<65536?(le[N++]=A>>>12|224,le[N++]=A>>6&63|128,le[N++]=63&A|128):A<1<<21&&(le[N++]=A>>>18|240,le[N++]=A>>12&63|128,le[N++]=A>>6&63|128,le[N++]=63&A|128)}return le.subarray(0,N)},pe=function(ne){for(var le,d,N,f="",b=0;b<ne.length;)(le=(d=ne[b++])<128?d:d>>5==6?(31&d)<<6|63&ne[b++]:d>>4==14?(15&d)<<12|(63&ne[b++])<<6|63&ne[b++]:(7&d)<<18|(63&ne[b++])<<12|(63&ne[b++])<<6|63&ne[b++])<65536?f+=String.fromCharCode(le):(N=55296|(le-=65536)>>10,f+=String.fromCharCode(N,56320|1023&le));return f},_e={builder:function(ne){return new je(ne)},load:function(ne,le){var d=Q(0);return d.loadBaseBuffer(ne),d.loadCheckBuffer(le),new Pe(d)}};typeof xt>"u"?window.doublearray=_e:xt.exports=_e}()},{}],3:[function(At,xt,kt){"use strict";var Q=At("./viterbi/ViterbiBuilder"),je=At("./viterbi/ViterbiSearcher"),Pe=At("./util/IpadicFormatter"),y=/\u3001|\u3002/;function he(te){this.token_info_dictionary=te.token_info_dictionary,this.unknown_dictionary=te.unknown_dictionary,this.viterbi_builder=new Q(te),this.viterbi_searcher=new je(te.connection_costs),this.formatter=new Pe}he.splitByPunctuation=function(te){for(var pe=[],_e=te;""!==_e;){var ne=_e.search(y);if(ne<0){pe.push(_e);break}pe.push(_e.substring(0,ne+1)),_e=_e.substring(ne+1)}return pe},he.prototype.tokenize=function(te){for(var pe=he.splitByPunctuation(te),_e=[],ne=0;ne<pe.length;ne++)this.tokenizeForSentence(pe[ne],_e);return _e},he.prototype.tokenizeForSentence=function(te,pe){null==pe&&(pe=[]);var _e=this.getLattice(te),ne=this.viterbi_searcher.search(_e),le=0;pe.length>0&&(le=pe[pe.length-1].word_position);for(var d=0;d<ne.length;d++){var N,A,f,b=ne[d];"KNOWN"===b.type?(A=null==(f=this.token_info_dictionary.getFeatures(b.name))?[]:f.split(","),N=this.formatter.formatEntry(b.name,le+b.start_pos,b.type,A)):"UNKNOWN"===b.type?(A=null==(f=this.unknown_dictionary.getFeatures(b.name))?[]:f.split(","),N=this.formatter.formatUnknownEntry(b.name,le+b.start_pos,b.type,A,b.surface_form)):N=this.formatter.formatEntry(b.name,le+b.start_pos,b.type,[]),pe.push(N)}return pe},he.prototype.getLattice=function(te){return this.viterbi_builder.build(te)},xt.exports=he},{"./util/IpadicFormatter":19,"./viterbi/ViterbiBuilder":21,"./viterbi/ViterbiSearcher":24}],4:[function(At,xt,kt){"use strict";var Q=At("./Tokenizer"),je=At("./loader/NodeDictionaryLoader");function Pe(y){this.dic_path=null==y.dicPath?"dict/":y.dicPath}Pe.prototype.build=function(y){new je(this.dic_path).load(function(he,te){y(he,new Q(te))})},xt.exports=Pe},{"./Tokenizer":3,"./loader/NodeDictionaryLoader":16}],5:[function(At,xt,kt){"use strict";xt.exports=function Q(je,Pe,y,he,te){this.class_id=je,this.class_name=Pe,this.is_always_invoke=y,this.is_grouping=he,this.max_length=te}},{}],6:[function(At,xt,kt){"use strict";var Q=At("./InvokeDefinitionMap"),je=At("./CharacterClass"),Pe=At("../util/SurrogateAwareString"),y="DEFAULT";function he(){this.character_category_map=new Uint8Array(65536),this.compatible_category_map=new Uint32Array(65536),this.invoke_definition_map=null}he.load=function(te,pe,_e){var ne=new he;return ne.character_category_map=te,ne.compatible_category_map=pe,ne.invoke_definition_map=Q.load(_e),ne},he.parseCharCategory=function(te,pe){var _e=pe[1],ne=parseInt(pe[2]),le=parseInt(pe[3]),d=parseInt(pe[4]);return!isFinite(ne)||0!==ne&&1!==ne?(console.log("char.def parse error. INVOKE is 0 or 1 in:"+ne),null):!isFinite(le)||0!==le&&1!==le?(console.log("char.def parse error. GROUP is 0 or 1 in:"+le),null):!isFinite(d)||d<0?(console.log("char.def parse error. LENGTH is 1 to n:"+d),null):new je(te,_e,1===ne,1===le,d)},he.parseCategoryMapping=function(te){var pe=parseInt(te[1]),_e=te[2],ne=3<te.length?te.slice(3):[];return(!isFinite(pe)||pe<0||pe>65535)&&console.log("char.def parse error. CODE is invalid:"+pe),{start:pe,default:_e,compatible:ne}},he.parseRangeCategoryMapping=function(te){var pe=parseInt(te[1]),_e=parseInt(te[2]),ne=te[3],le=4<te.length?te.slice(4):[];return(!isFinite(pe)||pe<0||pe>65535)&&console.log("char.def parse error. CODE is invalid:"+pe),(!isFinite(_e)||_e<0||_e>65535)&&console.log("char.def parse error. CODE is invalid:"+_e),{start:pe,end:_e,default:ne,compatible:le}},he.prototype.initCategoryMappings=function(te){var pe;if(null!=te)for(var _e=0;_e<te.length;_e++){var ne=te[_e],le=ne.end||ne.start;for(pe=ne.start;pe<=le;pe++){this.character_category_map[pe]=this.invoke_definition_map.lookup(ne.default);for(var d=0;d<ne.compatible.length;d++){var N=this.compatible_category_map[pe],A=ne.compatible[d];if(null!=A){var f=this.invoke_definition_map.lookup(A);null!=f&&(this.compatible_category_map[pe]=N|=1<<f)}}}}var b=this.invoke_definition_map.lookup(y);if(null!=b)for(pe=0;pe<this.character_category_map.length;pe++)0===this.character_category_map[pe]&&(this.character_category_map[pe]=1<<b)},he.prototype.lookupCompatibleCategory=function(te){var pe,_e=[],ne=te.charCodeAt(0);if(ne<this.compatible_category_map.length&&(pe=this.compatible_category_map[ne]),null==pe||0===pe)return _e;for(var le=0;le<32;le++)if(pe<<31-le>>>31==1){var d=this.invoke_definition_map.getCharacterClass(le);if(null==d)continue;_e.push(d)}return _e},he.prototype.lookup=function(te){var pe,_e=te.charCodeAt(0);return Pe.isSurrogatePair(te)?pe=this.invoke_definition_map.lookup(y):_e<this.character_category_map.length&&(pe=this.character_category_map[_e]),null==pe&&(pe=this.invoke_definition_map.lookup(y)),this.invoke_definition_map.getCharacterClass(pe)},xt.exports=he},{"../util/SurrogateAwareString":20,"./CharacterClass":5,"./InvokeDefinitionMap":9}],7:[function(At,xt,kt){"use strict";function Q(je,Pe){this.forward_dimension=je,this.backward_dimension=Pe,this.buffer=new Int16Array(je*Pe+2),this.buffer[0]=je,this.buffer[1]=Pe}Q.prototype.put=function(je,Pe,y){var he=je*this.backward_dimension+Pe+2;if(this.buffer.length<he+1)throw"ConnectionCosts buffer overflow";this.buffer[he]=y},Q.prototype.get=function(je,Pe){var y=je*this.backward_dimension+Pe+2;if(this.buffer.length<y+1)throw"ConnectionCosts buffer overflow";return this.buffer[y]},Q.prototype.loadConnectionCosts=function(je){this.forward_dimension=je[0],this.backward_dimension=je[1],this.buffer=je},xt.exports=Q},{}],8:[function(At,xt,kt){"use strict";var Q=At("doublearray"),je=At("./TokenInfoDictionary"),Pe=At("./ConnectionCosts"),y=At("./UnknownDictionary");function he(te,pe,_e,ne){this.trie=te??Q.builder(0).build([{k:"",v:1}]),this.token_info_dictionary=pe??new je,this.connection_costs=_e??new Pe(0,0),this.unknown_dictionary=ne??new y}he.prototype.loadTrie=function(te,pe){return this.trie=Q.load(te,pe),this},he.prototype.loadTokenInfoDictionaries=function(te,pe,_e){return this.token_info_dictionary.loadDictionary(te),this.token_info_dictionary.loadPosVector(pe),this.token_info_dictionary.loadTargetMap(_e),this},he.prototype.loadConnectionCosts=function(te){return this.connection_costs.loadConnectionCosts(te),this},he.prototype.loadUnknownDictionaries=function(te,pe,_e,ne,le,d){return this.unknown_dictionary.loadUnknownDictionaries(te,pe,_e,ne,le,d),this},xt.exports=he},{"./ConnectionCosts":7,"./TokenInfoDictionary":10,"./UnknownDictionary":11,doublearray:2}],9:[function(At,xt,kt){"use strict";var Q=At("../util/ByteBuffer"),je=At("./CharacterClass");function Pe(){this.map=[],this.lookup_table={}}Pe.load=function(y){for(var he=new Pe,te=[],pe=new Q(y);pe.position+1<pe.size();){var _e=te.length,ne=pe.get(),le=pe.get(),d=pe.getInt(),N=pe.getString();te.push(new je(_e,N,ne,le,d))}return he.init(te),he},Pe.prototype.init=function(y){if(null!=y)for(var he=0;he<y.length;he++){var te=y[he];this.map[he]=te,this.lookup_table[te.class_name]=he}},Pe.prototype.getCharacterClass=function(y){return this.map[y]},Pe.prototype.lookup=function(y){return this.lookup_table[y]??null},Pe.prototype.toBuffer=function(){for(var y=new Q,he=0;he<this.map.length;he++){var te=this.map[he];y.put(te.is_always_invoke),y.put(te.is_grouping),y.putInt(te.max_length),y.putString(te.class_name)}return y.shrink(),y.buffer},xt.exports=Pe},{"../util/ByteBuffer":18,"./CharacterClass":5}],10:[function(At,xt,kt){"use strict";var Q=At("../util/ByteBuffer");function je(){this.dictionary=new Q(10485760),this.target_map={},this.pos_buffer=new Q(10485760)}je.prototype.buildDictionary=function(Pe){for(var y={},he=0;he<Pe.length;he++){var te=Pe[he];if(!(te.length<4)){var pe=te[0],_e=te[1],ne=te[2],le=te[3],d=te.slice(4).join(",");isFinite(_e)&&isFinite(ne)&&isFinite(le)||console.log(te),y[this.put(_e,ne,le,pe,d)]=pe}}return this.dictionary.shrink(),this.pos_buffer.shrink(),y},je.prototype.put=function(Pe,y,he,te,pe){var _e=this.dictionary.position,ne=this.pos_buffer.position;return this.dictionary.putShort(Pe),this.dictionary.putShort(y),this.dictionary.putShort(he),this.dictionary.putInt(ne),this.pos_buffer.putString(te+","+pe),_e},je.prototype.addMapping=function(Pe,y){var he=this.target_map[Pe];null==he&&(he=[]),he.push(y),this.target_map[Pe]=he},je.prototype.targetMapToBuffer=function(){var Pe=new Q,y=Object.keys(this.target_map).length;for(var he in Pe.putInt(y),this.target_map){var te=this.target_map[he],pe=te.length;Pe.putInt(parseInt(he)),Pe.putInt(pe);for(var _e=0;_e<te.length;_e++)Pe.putInt(te[_e])}return Pe.shrink()},je.prototype.loadDictionary=function(Pe){return this.dictionary=new Q(Pe),this},je.prototype.loadPosVector=function(Pe){return this.pos_buffer=new Q(Pe),this},je.prototype.loadTargetMap=function(Pe){var y=new Q(Pe);for(y.position=0,this.target_map={},y.readInt();!(y.buffer.length<y.position+1);)for(var he=y.readInt(),te=y.readInt(),pe=0;pe<te;pe++){var _e=y.readInt();this.addMapping(he,_e)}return this},je.prototype.getFeatures=function(Pe){var y=parseInt(Pe);if(isNaN(y))return"";var he=this.dictionary.getInt(y+6);return this.pos_buffer.getString(he)},xt.exports=je},{"../util/ByteBuffer":18}],11:[function(At,xt,kt){"use strict";var Q=At("./TokenInfoDictionary"),je=At("./CharacterDefinition"),Pe=At("../util/ByteBuffer");function y(){this.dictionary=new Pe(10485760),this.target_map={},this.pos_buffer=new Pe(10485760),this.character_definition=null}(y.prototype=Object.create(Q.prototype)).characterDefinition=function(he){return this.character_definition=he,this},y.prototype.lookup=function(he){return this.character_definition.lookup(he)},y.prototype.lookupCompatibleCategory=function(he){return this.character_definition.lookupCompatibleCategory(he)},y.prototype.loadUnknownDictionaries=function(he,te,pe,_e,ne,le){this.loadDictionary(he),this.loadPosVector(te),this.loadTargetMap(pe),this.character_definition=je.load(_e,ne,le)},xt.exports=y},{"../util/ByteBuffer":18,"./CharacterDefinition":6,"./TokenInfoDictionary":10}],12:[function(At,xt,kt){"use strict";var Q=At("../CharacterDefinition"),je=At("../InvokeDefinitionMap"),Pe=/^(\w+)\s+(\d)\s+(\d)\s+(\d)/,y=/^(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/,he=/^(0x[0-9A-F]{4})\.\.(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/;function te(){this.char_def=new Q,this.char_def.invoke_definition_map=new je,this.character_category_definition=[],this.category_mapping=[]}te.prototype.putLine=function(pe){var _e=Pe.exec(pe);if(null==_e){var ne=y.exec(pe);if(null!=ne){var le=Q.parseCategoryMapping(ne);this.category_mapping.push(le)}var d=he.exec(pe);if(null!=d){var N=Q.parseRangeCategoryMapping(d);this.category_mapping.push(N)}}else{var f=Q.parseCharCategory(this.character_category_definition.length,_e);if(null==f)return;this.character_category_definition.push(f)}},te.prototype.build=function(){return this.char_def.invoke_definition_map.init(this.character_category_definition),this.char_def.initCategoryMappings(this.category_mapping),this.char_def},xt.exports=te},{"../CharacterDefinition":6,"../InvokeDefinitionMap":9}],13:[function(At,xt,kt){"use strict";var Q=At("../ConnectionCosts");function je(){this.lines=0,this.connection_cost=null}je.prototype.putLine=function(Pe){if(0===this.lines){var y=Pe.split(" "),he=y[0],te=y[1];if(he<0||te<0)throw"Parse error of matrix.def";return this.connection_cost=new Q(he,te),this.lines++,this}var pe=Pe.split(" ");if(3!==pe.length)return this;var _e=parseInt(pe[0]),ne=parseInt(pe[1]),le=parseInt(pe[2]);if(_e<0||ne<0||!isFinite(_e)||!isFinite(ne)||this.connection_cost.forward_dimension<=_e||this.connection_cost.backward_dimension<=ne)throw"Parse error of matrix.def";return this.connection_cost.put(_e,ne,le),this.lines++,this},je.prototype.build=function(){return this.connection_cost},xt.exports=je},{"../ConnectionCosts":7}],14:[function(At,xt,kt){"use strict";var Q=At("doublearray"),je=At("../DynamicDictionaries"),Pe=At("../TokenInfoDictionary"),y=At("./ConnectionCostsBuilder"),he=At("./CharacterDefinitionBuilder"),te=At("../UnknownDictionary");function pe(){this.tid_entries=[],this.unk_entries=[],this.cc_builder=new y,this.cd_builder=new he}pe.prototype.addTokenInfoDictionary=function(_e){var ne=_e.split(",");return this.tid_entries.push(ne),this},pe.prototype.putCostMatrixLine=function(_e){return this.cc_builder.putLine(_e),this},pe.prototype.putCharDefLine=function(_e){return this.cd_builder.putLine(_e),this},pe.prototype.putUnkDefLine=function(_e){return this.unk_entries.push(_e.split(",")),this},pe.prototype.build=function(){var _e=this.buildTokenInfoDictionary(),ne=this.buildUnknownDictionary();return new je(_e.trie,_e.token_info_dictionary,this.cc_builder.build(),ne)},pe.prototype.buildTokenInfoDictionary=function(){var _e=new Pe,ne=_e.buildDictionary(this.tid_entries),le=this.buildDoubleArray();for(var d in ne){var A=le.lookup(ne[d]);_e.addMapping(A,d)}return{trie:le,token_info_dictionary:_e}},pe.prototype.buildUnknownDictionary=function(){var _e=new te,ne=_e.buildDictionary(this.unk_entries),le=this.cd_builder.build();for(var d in _e.characterDefinition(le),ne){var A=le.invoke_definition_map.lookup(ne[d]);_e.addMapping(A,d)}return _e},pe.prototype.buildDoubleArray=function(){var _e=0,ne=this.tid_entries.map(function(le){return{k:le[0],v:_e++}});return Q.builder(1048576).build(ne)},xt.exports=pe},{"../DynamicDictionaries":8,"../TokenInfoDictionary":10,"../UnknownDictionary":11,"./CharacterDefinitionBuilder":12,"./ConnectionCostsBuilder":13,doublearray:2}],15:[function(At,xt,kt){"use strict";var Q=At("./TokenizerBuilder"),je=At("./dict/builder/DictionaryBuilder");xt.exports={builder:function(y){return new Q(y)},dictionaryBuilder:function(){return new je}}},{"./TokenizerBuilder":4,"./dict/builder/DictionaryBuilder":14}],16:[function(At,xt,kt){"use strict";var Q=At("zlibjs/bin/gunzip.min.js"),je=At("./DictionaryLoader");function Pe(y){je.apply(this,[y])}(Pe.prototype=Object.create(je.prototype)).loadArrayBuffer=function(y,he){var te=new XMLHttpRequest;te.open("GET",y,!0),te.responseType="arraybuffer",te.onload=function(){if(this.status>0&&200!==this.status)he(te.statusText,null);else{var _e=new Q.Zlib.Gunzip(new Uint8Array(this.response)).decompress();he(null,_e.buffer)}},te.onerror=function(pe){he(pe,null)},te.send()},xt.exports=Pe},{"./DictionaryLoader":17,"zlibjs/bin/gunzip.min.js":28}],17:[function(At,xt,kt){"use strict";var Q=At("path"),je=At("async"),Pe=At("../dict/DynamicDictionaries");function y(he){this.dic=new Pe,this.dic_path=he}y.prototype.loadArrayBuffer=function(he,te){throw new Error("DictionaryLoader#loadArrayBuffer should be overwrite")},y.prototype.load=function(he){var te=this.dic,pe=this.dic_path,_e=this.loadArrayBuffer;je.parallel([function(ne){je.map(["base.dat.gz","check.dat.gz"],function(le,d){_e(Q.join(pe,le),function(N,A){if(N)return d(N);d(null,A)})},function(le,d){if(le)return ne(le);var N=new Int32Array(d[0]),A=new Int32Array(d[1]);te.loadTrie(N,A),ne(null)})},function(ne){je.map(["tid.dat.gz","tid_pos.dat.gz","tid_map.dat.gz"],function(le,d){_e(Q.join(pe,le),function(N,A){if(N)return d(N);d(null,A)})},function(le,d){if(le)return ne(le);var N=new Uint8Array(d[0]),A=new Uint8Array(d[1]),f=new Uint8Array(d[2]);te.loadTokenInfoDictionaries(N,A,f),ne(null)})},function(ne){_e(Q.join(pe,"cc.dat.gz"),function(le,d){if(le)return ne(le);var N=new Int16Array(d);te.loadConnectionCosts(N),ne(null)})},function(ne){je.map(["unk.dat.gz","unk_pos.dat.gz","unk_map.dat.gz","unk_char.dat.gz","unk_compat.dat.gz","unk_invoke.dat.gz"],function(le,d){_e(Q.join(pe,le),function(N,A){if(N)return d(N);d(null,A)})},function(le,d){if(le)return ne(le);var N=new Uint8Array(d[0]),A=new Uint8Array(d[1]),f=new Uint8Array(d[2]),b=new Uint8Array(d[3]),m=new Uint32Array(d[4]),_=new Uint8Array(d[5]);te.loadUnknownDictionaries(N,A,f,b,m,_),ne(null)})}],function(ne){he(ne,te)})},xt.exports=y},{"../dict/DynamicDictionaries":8,async:1,path:25}],18:[function(At,xt,kt){"use strict";function Pe(y){var he;if(null==y)he=1048576;else{if("number"!=typeof y){if(y instanceof Uint8Array)return this.buffer=y,void(this.position=0);throw typeof y+" is invalid parameter type for ByteBuffer constructor"}he=y}this.buffer=new Uint8Array(he),this.position=0}Pe.prototype.size=function(){return this.buffer.length},Pe.prototype.reallocate=function(){var y=new Uint8Array(2*this.buffer.length);y.set(this.buffer),this.buffer=y},Pe.prototype.shrink=function(){return this.buffer=this.buffer.subarray(0,this.position),this.buffer},Pe.prototype.put=function(y){this.buffer.length<this.position+1&&this.reallocate(),this.buffer[this.position++]=y},Pe.prototype.get=function(y){return null==y&&(y=this.position,this.position+=1),this.buffer.length<y+1?0:this.buffer[y]},Pe.prototype.putShort=function(y){if(65535<y)throw y+" is over short value";var te=(65280&y)>>8;this.put(255&y),this.put(te)},Pe.prototype.getShort=function(y){if(null==y&&(y=this.position,this.position+=2),this.buffer.length<y+2)return 0;var te=(this.buffer[y+1]<<8)+this.buffer[y];return 32768&te&&(te=-(te-1^65535)),te},Pe.prototype.putInt=function(y){if(4294967295<y)throw y+" is over integer value";var te=(65280&y)>>8,pe=(16711680&y)>>16,_e=(4278190080&y)>>24;this.put(255&y),this.put(te),this.put(pe),this.put(_e)},Pe.prototype.getInt=function(y){return null==y&&(y=this.position,this.position+=4),this.buffer.length<y+4?0:(this.buffer[y+3]<<24)+(this.buffer[y+2]<<16)+(this.buffer[y+1]<<8)+this.buffer[y]},Pe.prototype.readInt=function(){var y=this.position;return this.position+=4,this.getInt(y)},Pe.prototype.putString=function(y){for(var he=function(y){for(var he=new Uint8Array(4*y.length),te=0,pe=0;te<y.length;){var _e,ne=y.charCodeAt(te++);if(ne>=55296&&ne<=56319){var le=ne,d=y.charCodeAt(te++);if(!(d>=56320&&d<=57343))return null;_e=1024*(le-55296)+65536+(d-56320)}else _e=ne;_e<128?he[pe++]=_e:_e<2048?(he[pe++]=_e>>>6|192,he[pe++]=63&_e|128):_e<65536?(he[pe++]=_e>>>12|224,he[pe++]=_e>>6&63|128,he[pe++]=63&_e|128):_e<2097152&&(he[pe++]=_e>>>18|240,he[pe++]=_e>>12&63|128,he[pe++]=_e>>6&63|128,he[pe++]=63&_e|128)}return he.subarray(0,pe)}(y),te=0;te<he.length;te++)this.put(he[te]);this.put(0)},Pe.prototype.getString=function(y){var he,te=[];for(null==y&&(y=this.position);!(this.buffer.length<y+1)&&0!==(he=this.get(y++));)te.push(he);return this.position=y,function(y){for(var he,te,pe,ne="",le=0;le<y.length;)(he=(te=y[le++])<128?te:te>>5==6?(31&te)<<6|63&y[le++]:te>>4==14?(15&te)<<12|(63&y[le++])<<6|63&y[le++]:(7&te)<<18|(63&y[le++])<<12|(63&y[le++])<<6|63&y[le++])<65536?ne+=String.fromCharCode(he):(pe=55296|(he-=65536)>>10,ne+=String.fromCharCode(pe,56320|1023&he));return ne}(te)},xt.exports=Pe},{}],19:[function(At,xt,kt){"use strict";function Q(){}Q.prototype.formatEntry=function(je,Pe,y,he){var te={};return te.word_id=je,te.word_type=y,te.word_position=Pe,te.surface_form=he[0],te.pos=he[1],te.pos_detail_1=he[2],te.pos_detail_2=he[3],te.pos_detail_3=he[4],te.conjugated_type=he[5],te.conjugated_form=he[6],te.basic_form=he[7],te.reading=he[8],te.pronunciation=he[9],te},Q.prototype.formatUnknownEntry=function(je,Pe,y,he,te){var pe={};return pe.word_id=je,pe.word_type=y,pe.word_position=Pe,pe.surface_form=te,pe.pos=he[1],pe.pos_detail_1=he[2],pe.pos_detail_2=he[3],pe.pos_detail_3=he[4],pe.conjugated_type=he[5],pe.conjugated_form=he[6],pe.basic_form=he[7],pe},xt.exports=Q},{}],20:[function(At,xt,kt){"use strict";function Q(je){this.str=je,this.index_mapping=[];for(var Pe=0;Pe<je.length;Pe++){var y=je.charAt(Pe);this.index_mapping.push(Pe),Q.isSurrogatePair(y)&&Pe++}this.length=this.index_mapping.length}Q.prototype.slice=function(je){return this.index_mapping.length<=je?"":this.str.slice(this.index_mapping[je])},Q.prototype.charAt=function(je){if(this.str.length<=je)return"";var Pe=this.index_mapping[je],y=this.index_mapping[je+1];return null==y?this.str.slice(Pe):this.str.slice(Pe,y)},Q.prototype.charCodeAt=function(je){if(this.index_mapping.length<=je)return NaN;var Pe,y=this.index_mapping[je],he=this.str.charCodeAt(y);return he>=55296&&he<=56319&&y<this.str.length&&(Pe=this.str.charCodeAt(y+1))>=56320&&Pe<=57343?1024*(he-55296)+Pe-56320+65536:he},Q.prototype.toString=function(){return this.str},Q.isSurrogatePair=function(je){var Pe=je.charCodeAt(0);return Pe>=55296&&Pe<=56319},xt.exports=Q},{}],21:[function(At,xt,kt){"use strict";var Q=At("./ViterbiNode"),je=At("./ViterbiLattice"),Pe=At("../util/SurrogateAwareString");function y(he){this.trie=he.trie,this.token_info_dictionary=he.token_info_dictionary,this.unknown_dictionary=he.unknown_dictionary}y.prototype.build=function(he){for(var te,_e,ne,le,d=new je,N=new Pe(he),A=0;A<N.length;A++){for(var f=N.slice(A),b=this.trie.commonPrefixSearch(f),m=0;m<b.length;m++){te=b[m].k;for(var _=this.token_info_dictionary.target_map[b[m].v],n=0;n<_.length;n++){var g=parseInt(_[n]);_e=this.token_info_dictionary.dictionary.getShort(g),ne=this.token_info_dictionary.dictionary.getShort(g+2),le=this.token_info_dictionary.dictionary.getShort(g+4),d.append(new Q(g,le,A+1,te.length,"KNOWN",_e,ne,te))}}var h=new Pe(f),s=new Pe(h.charAt(0)),u=this.unknown_dictionary.lookup(s.toString());if(null==b||0===b.length||1===u.is_always_invoke){if(te=s,1===u.is_grouping&&1<h.length)for(var o=1;o<h.length;o++){var t=h.charAt(o),r=this.unknown_dictionary.lookup(t);if(u.class_name!==r.class_name)break;te+=t}for(var a=this.unknown_dictionary.target_map[u.class_id],c=0;c<a.length;c++){var l=parseInt(a[c]);_e=this.unknown_dictionary.dictionary.getShort(l),ne=this.unknown_dictionary.dictionary.getShort(l+2),le=this.unknown_dictionary.dictionary.getShort(l+4),d.append(new Q(l,le,A+1,te.length,"UNKNOWN",_e,ne,te.toString()))}}}return d.appendEos(),d},xt.exports=y},{"../util/SurrogateAwareString":20,"./ViterbiLattice":22,"./ViterbiNode":23}],22:[function(At,xt,kt){"use strict";var Q=At("./ViterbiNode");function je(){this.nodes_end_at=[],this.nodes_end_at[0]=[new Q(-1,0,0,0,"BOS",0,0,"")],this.eos_pos=1}je.prototype.append=function(Pe){var y=Pe.start_pos+Pe.length-1;this.eos_pos<y&&(this.eos_pos=y);var he=this.nodes_end_at[y];null==he&&(he=[]),he.push(Pe),this.nodes_end_at[y]=he},je.prototype.appendEos=function(){var Pe=this.nodes_end_at.length;this.eos_pos++,this.nodes_end_at[Pe]=[new Q(-1,0,this.eos_pos,0,"EOS",0,0,"")]},xt.exports=je},{"./ViterbiNode":23}],23:[function(At,xt,kt){"use strict";xt.exports=function Q(je,Pe,y,he,te,pe,_e,ne){this.name=je,this.cost=Pe,this.start_pos=y,this.length=he,this.left_id=pe,this.right_id=_e,this.prev=null,this.surface_form=ne,this.shortest_cost="BOS"===te?0:Number.MAX_VALUE,this.type=te}},{}],24:[function(At,xt,kt){"use strict";function Q(je){this.connection_costs=je}Q.prototype.search=function(je){return je=this.forward(je),this.backward(je)},Q.prototype.forward=function(je){var Pe,y,he;for(Pe=1;Pe<=je.eos_pos;Pe++){var te=je.nodes_end_at[Pe];if(null!=te)for(y=0;y<te.length;y++){var pe,_e=te[y],ne=Number.MAX_VALUE,le=je.nodes_end_at[_e.start_pos-1];if(null!=le){for(he=0;he<le.length;he++){var d,N=le[he];null==_e.left_id||null==N.right_id?(console.log("Left or right is null"),d=0):d=this.connection_costs.get(N.right_id,_e.left_id);var A=N.shortest_cost+d+_e.cost;A<ne&&(pe=N,ne=A)}_e.prev=pe,_e.shortest_cost=ne}}}return je},Q.prototype.backward=function(je){var Pe=[],y=je.nodes_end_at[je.nodes_end_at.length-1][0].prev;if(null==y)return[];for(;"BOS"!==y.type;){if(Pe.push(y),null==y.prev)return[];y=y.prev}return Pe.reverse()},xt.exports=Q},{}],25:[function(At,xt,kt){(function(Q){function je(te,pe){for(var _e=0,ne=te.length-1;ne>=0;ne--){var le=te[ne];"."===le?te.splice(ne,1):".."===le?(te.splice(ne,1),_e++):_e&&(te.splice(ne,1),_e--)}if(pe)for(;_e--;_e)te.unshift("..");return te}function y(te,pe){if(te.filter)return te.filter(pe);for(var _e=[],ne=0;ne<te.length;ne++)pe(te[ne],ne,te)&&_e.push(te[ne]);return _e}kt.resolve=function(){for(var te="",pe=!1,_e=arguments.length-1;_e>=-1&&!pe;_e--){var ne=_e>=0?arguments[_e]:Q.cwd();if("string"!=typeof ne)throw new TypeError("Arguments to path.resolve must be strings");ne&&(te=ne+"/"+te,pe="/"===ne.charAt(0))}return(pe?"/":"")+(te=je(y(te.split("/"),function(le){return!!le}),!pe).join("/"))||"."},kt.normalize=function(te){var pe=kt.isAbsolute(te),_e="/"===he(te,-1);return(te=je(y(te.split("/"),function(ne){return!!ne}),!pe).join("/"))||pe||(te="."),te&&_e&&(te+="/"),(pe?"/":"")+te},kt.isAbsolute=function(te){return"/"===te.charAt(0)},kt.join=function(){var te=Array.prototype.slice.call(arguments,0);return kt.normalize(y(te,function(pe,_e){if("string"!=typeof pe)throw new TypeError("Arguments to path.join must be strings");return pe}).join("/"))},kt.relative=function(te,pe){function _e(b){for(var m=0;m<b.length&&""===b[m];m++);for(var _=b.length-1;_>=0&&""===b[_];_--);return m>_?[]:b.slice(m,_-m+1)}te=kt.resolve(te).substr(1),pe=kt.resolve(pe).substr(1);for(var ne=_e(te.split("/")),le=_e(pe.split("/")),d=Math.min(ne.length,le.length),N=d,A=0;A<d;A++)if(ne[A]!==le[A]){N=A;break}var f=[];for(A=N;A<ne.length;A++)f.push("..");return(f=f.concat(le.slice(N))).join("/")},kt.sep="/",kt.delimiter=":",kt.dirname=function(te){if("string"!=typeof te&&(te+=""),0===te.length)return".";for(var pe=te.charCodeAt(0),_e=47===pe,ne=-1,le=!0,d=te.length-1;d>=1;--d)if(47===(pe=te.charCodeAt(d))){if(!le){ne=d;break}}else le=!1;return-1===ne?_e?"/":".":_e&&1===ne?"/":te.slice(0,ne)},kt.basename=function(te,pe){var _e=function Pe(te){"string"!=typeof te&&(te+="");var pe,_e=0,ne=-1,le=!0;for(pe=te.length-1;pe>=0;--pe)if(47===te.charCodeAt(pe)){if(!le){_e=pe+1;break}}else-1===ne&&(le=!1,ne=pe+1);return-1===ne?"":te.slice(_e,ne)}(te);return pe&&_e.substr(-1*pe.length)===pe&&(_e=_e.substr(0,_e.length-pe.length)),_e},kt.extname=function(te){"string"!=typeof te&&(te+="");for(var pe=-1,_e=0,ne=-1,le=!0,d=0,N=te.length-1;N>=0;--N){var A=te.charCodeAt(N);if(47!==A)-1===ne&&(le=!1,ne=N+1),46===A?-1===pe?pe=N:1!==d&&(d=1):-1!==pe&&(d=-1);else if(!le){_e=N+1;break}}return-1===pe||-1===ne||0===d||1===d&&pe===ne-1&&pe===_e+1?"":te.slice(pe,ne)};var he="b"==="ab".substr(-1)?function(te,pe,_e){return te.substr(pe,_e)}:function(te,pe,_e){return pe<0&&(pe=te.length+pe),te.substr(pe,_e)}}).call(this,At("_process"))},{_process:26}],26:[function(At,xt,kt){var Q,je,Pe=xt.exports={};function y(){throw new Error("setTimeout has not been defined")}function he(){throw new Error("clearTimeout has not been defined")}function te(m){if(Q===setTimeout)return setTimeout(m,0);if((Q===y||!Q)&&setTimeout)return Q=setTimeout,setTimeout(m,0);try{return Q(m,0)}catch{try{return Q.call(null,m,0)}catch{return Q.call(this,m,0)}}}!function(){try{Q="function"==typeof setTimeout?setTimeout:y}catch{Q=y}try{je="function"==typeof clearTimeout?clearTimeout:he}catch{je=he}}();var _e,ne=[],le=!1,d=-1;function N(){le&&_e&&(le=!1,_e.length?ne=_e.concat(ne):d=-1,ne.length&&A())}function A(){if(!le){var m=te(N);le=!0;for(var _=ne.length;_;){for(_e=ne,ne=[];++d<_;)_e&&_e[d].run();d=-1,_=ne.length}_e=null,le=!1,function pe(m){if(je===clearTimeout)return clearTimeout(m);if((je===he||!je)&&clearTimeout)return je=clearTimeout,clearTimeout(m);try{je(m)}catch{try{return je.call(null,m)}catch{return je.call(this,m)}}}(m)}}function f(m,_){this.fun=m,this.array=_}function b(){}Pe.nextTick=function(m){var _=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)_[n-1]=arguments[n];ne.push(new f(m,_)),1!==ne.length||le||te(A)},f.prototype.run=function(){this.fun.apply(null,this.array)},Pe.title="browser",Pe.browser=!0,Pe.env={},Pe.argv=[],Pe.version="",Pe.versions={},Pe.on=b,Pe.addListener=b,Pe.once=b,Pe.off=b,Pe.removeListener=b,Pe.removeAllListeners=b,Pe.emit=b,Pe.prependListener=b,Pe.prependOnceListener=b,Pe.listeners=function(m){return[]},Pe.binding=function(m){throw new Error("process.binding is not supported")},Pe.cwd=function(){return"/"},Pe.chdir=function(m){throw new Error("process.chdir is not supported")},Pe.umask=function(){return 0}},{}],27:[function(At,xt,kt){(function(Q,je){var Pe=At("process/browser.js").nextTick,y=Function.prototype.apply,he=Array.prototype.slice,te={},pe=0;function _e(ne,le){this._id=ne,this._clearFn=le}kt.setTimeout=function(){return new _e(y.call(setTimeout,window,arguments),clearTimeout)},kt.setInterval=function(){return new _e(y.call(setInterval,window,arguments),clearInterval)},kt.clearTimeout=kt.clearInterval=function(ne){ne.close()},_e.prototype.unref=_e.prototype.ref=function(){},_e.prototype.close=function(){this._clearFn.call(window,this._id)},kt.enroll=function(ne,le){clearTimeout(ne._idleTimeoutId),ne._idleTimeout=le},kt.unenroll=function(ne){clearTimeout(ne._idleTimeoutId),ne._idleTimeout=-1},kt._unrefActive=kt.active=function(ne){clearTimeout(ne._idleTimeoutId);var le=ne._idleTimeout;le>=0&&(ne._idleTimeoutId=setTimeout(function(){ne._onTimeout&&ne._onTimeout()},le))},kt.setImmediate="function"==typeof Q?Q:function(ne){var le=pe++,d=!(arguments.length<2)&&he.call(arguments,1);return te[le]=!0,Pe(function(){te[le]&&(d?ne.apply(null,d):ne.call(null),kt.clearImmediate(le))}),le},kt.clearImmediate="function"==typeof je?je:function(ne){delete te[ne]}}).call(this,At("timers").setImmediate,At("timers").clearImmediate)},{"process/browser.js":26,timers:27}],28:[function(At,xt,kt){(function(){"use strict";function Q(X){throw X}var je=void 0,Pe=this;function y(X,T){var D,M=X.split("."),v=Pe;for((!(M[0]in v)&&v.execScript&&v.execScript("var "+M[0]));M.length&&(D=M.shift());)M.length||T===je?v=v[D]?v[D]:v[D]={}:v[D]=T}var he,te=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u"&&typeof DataView<"u";for(new(te?Uint8Array:Array)(256),he=0;256>he;++he)for(var pe=(pe=he)>>>1;pe;pe>>>=1);function _e(X,T,D){var M,v="number"==typeof T?T:T=0,B="number"==typeof D?D:X.length;for(M=-1,v=7&B;v--;++T)M=M>>>8^le[255&(M^X[T])];for(v=B>>3;v--;T+=8)M=(M=(M=(M=(M=(M=(M=(M=M>>>8^le[255&(M^X[T])])>>>8^le[255&(M^X[T+1])])>>>8^le[255&(M^X[T+2])])>>>8^le[255&(M^X[T+3])])>>>8^le[255&(M^X[T+4])])>>>8^le[255&(M^X[T+5])])>>>8^le[255&(M^X[T+6])])>>>8^le[255&(M^X[T+7])];return(4294967295^M)>>>0}var ne=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],le=te?new Uint32Array(ne):ne;function d(){}function N(X){var T,D,M,v,B,F,q,L,Y,se,Ee=X.length,Se=0,Ie=Number.POSITIVE_INFINITY;for(L=0;L<Ee;++L)X[L]>Se&&(Se=X[L]),X[L]<Ie&&(Ie=X[L]);for(T=1<<Se,D=new(te?Uint32Array:Array)(T),M=1,v=0,B=2;M<=Se;){for(L=0;L<Ee;++L)if(X[L]===M){for(F=0,q=v,Y=0;Y<M;++Y)F=F<<1|1&q,q>>=1;for(se=M<<16|L,Y=F;Y<T;Y+=B)D[Y]=se;++v}++M,v<<=1,B<<=1}return[D,Se,Ie]}d.prototype.getName=function(){return this.name},d.prototype.getData=function(){return this.data},d.prototype.G=function(){return this.H};var A,f=[];for(A=0;288>A;A++)switch(!0){case 143>=A:f.push([A+48,8]);break;case 255>=A:f.push([A-144+400,9]);break;case 279>=A:f.push([A-256+0,7]);break;case 287>=A:f.push([A-280+192,8]);break;default:Q("invalid literal: "+A)}var b=function(){function X(v){switch(!0){case 3===v:return[257,v-3,0];case 4===v:return[258,v-4,0];case 5===v:return[259,v-5,0];case 6===v:return[260,v-6,0];case 7===v:return[261,v-7,0];case 8===v:return[262,v-8,0];case 9===v:return[263,v-9,0];case 10===v:return[264,v-10,0];case 12>=v:return[265,v-11,1];case 14>=v:return[266,v-13,1];case 16>=v:return[267,v-15,1];case 18>=v:return[268,v-17,1];case 22>=v:return[269,v-19,2];case 26>=v:return[270,v-23,2];case 30>=v:return[271,v-27,2];case 34>=v:return[272,v-31,2];case 42>=v:return[273,v-35,3];case 50>=v:return[274,v-43,3];case 58>=v:return[275,v-51,3];case 66>=v:return[276,v-59,3];case 82>=v:return[277,v-67,4];case 98>=v:return[278,v-83,4];case 114>=v:return[279,v-99,4];case 130>=v:return[280,v-115,4];case 162>=v:return[281,v-131,5];case 194>=v:return[282,v-163,5];case 226>=v:return[283,v-195,5];case 257>=v:return[284,v-227,5];case 258===v:return[285,v-258,0];default:Q("invalid length: "+v)}}var T,D,M=[];for(T=3;258>=T;T++)D=X(T),M[T]=D[2]<<24|D[1]<<16|D[0];return M}();function m(X,T){switch(this.i=[],this.j=32768,this.d=this.f=this.c=this.n=0,this.input=te?new Uint8Array(X):X,this.o=!1,this.k=n,this.w=!1,!T&&(T={})||(T.index&&(this.c=T.index),T.bufferSize&&(this.j=T.bufferSize),T.bufferType&&(this.k=T.bufferType),T.resize&&(this.w=T.resize)),this.k){case _:this.a=32768,this.b=new(te?Uint8Array:Array)(32768+this.j+258);break;case n:this.a=0,this.b=new(te?Uint8Array:Array)(this.j),this.e=this.D,this.q=this.A,this.l=this.C;break;default:Q(Error("invalid inflate mode"))}}te&&new Uint32Array(b);var _=0,n=1;m.prototype.g=function(){for(;!this.o;){var X=oe(this,3);switch(1&X&&(this.o=!0),X>>>=1){case 0:var T=this.input,D=this.c,M=this.b,v=this.a,B=T.length,F=je,q=M.length,L=je;switch(this.d=this.f=0,D+1>=B&&Q(Error("invalid uncompressed block header: LEN")),F=T[D++]|T[D++]<<8,D+1>=B&&Q(Error("invalid uncompressed block header: NLEN")),F===~(T[D++]|T[D++]<<8)&&Q(Error("invalid uncompressed block header: length verify")),D+F>T.length&&Q(Error("input buffer is broken")),this.k){case _:for(;v+F>M.length;){if(F-=L=q-v,te)M.set(T.subarray(D,D+L),v),v+=L,D+=L;else for(;L--;)M[v++]=T[D++];this.a=v,M=this.e(),v=this.a}break;case n:for(;v+F>M.length;)M=this.e({t:2});break;default:Q(Error("invalid inflate mode"))}if(te)M.set(T.subarray(D,D+F),v),v+=F,D+=F;else for(;F--;)M[v++]=T[D++];this.c=D,this.a=v,this.b=M;break;case 1:this.l(I,$);break;case 2:var Y,se,Ee,Se,Ie=oe(this,5)+257,Qe=oe(this,5)+1,Je=oe(this,4)+4,ut=new(te?Uint8Array:Array)(u.length),$t=je,qt=je,tt=je,at=je,nt=je;for(nt=0;nt<Je;++nt)ut[u[nt]]=oe(this,3);if(!te)for(nt=Je,Je=ut.length;nt<Je;++nt)ut[u[nt]]=0;for(Y=N(ut),$t=new(te?Uint8Array:Array)(Ie+Qe),nt=0,Se=Ie+Qe;nt<Se;)switch(qt=ue(this,Y),qt){case 16:for(at=3+oe(this,2);at--;)$t[nt++]=tt;break;case 17:for(at=3+oe(this,3);at--;)$t[nt++]=0;tt=0;break;case 18:for(at=11+oe(this,7);at--;)$t[nt++]=0;tt=0;break;default:tt=$t[nt++]=qt}se=N(te?$t.subarray(0,Ie):$t.slice(0,Ie)),Ee=N(te?$t.subarray(Ie):$t.slice(Ie)),this.l(se,Ee);break;default:Q(Error("unknown BTYPE: "+X))}}return this.q()};var g,h,s=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=te?new Uint16Array(s):s,o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],t=te?new Uint16Array(o):o,r=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],a=te?new Uint8Array(r):r,c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],l=te?new Uint16Array(c):c,w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=te?new Uint8Array(w):w,C=new(te?Uint8Array:Array)(288);for(g=0,h=C.length;g<h;++g)C[g]=143>=g?8:255>=g?9:279>=g?7:8;var z,k,I=N(C),V=new(te?Uint8Array:Array)(30);for(z=0,k=V.length;z<k;++z)V[z]=5;var $=N(V);function oe(X,T){for(var D,M=X.f,v=X.d,B=X.input,F=X.c,q=B.length;v<T;)F>=q&&Q(Error("input buffer is broken")),M|=B[F++]<<v,v+=8;return D=M&(1<<T)-1,X.f=M>>>T,X.d=v-T,X.c=F,D}function ue(X,T){for(var D,M,v=X.f,B=X.d,F=X.input,q=X.c,L=F.length,Y=T[0],se=T[1];B<se&&!(q>=L);)v|=F[q++]<<B,B+=8;return(M=(D=Y[v&(1<<se)-1])>>>16)>B&&Q(Error("invalid code length: "+M)),X.f=v>>M,X.d=B-M,X.c=q,65535&D}function Ae(X){this.input=X,this.c=0,this.m=[],this.s=!1}m.prototype.l=function(X,T){var D=this.b,M=this.a;this.r=X;for(var v,B,F,q,L=D.length-258;256!==(v=ue(this,X));)if(256>v)M>=L&&(this.a=M,D=this.e(),M=this.a),D[M++]=v;else for(q=t[B=v-257],0<a[B]&&(q+=oe(this,a[B])),v=ue(this,T),F=l[v],0<E[v]&&(F+=oe(this,E[v])),M>=L&&(this.a=M,D=this.e(),M=this.a);q--;)D[M]=D[M++-F];for(;8<=this.d;)this.d-=8,this.c--;this.a=M},m.prototype.C=function(X,T){var D=this.b,M=this.a;this.r=X;for(var v,B,F,q,L=D.length;256!==(v=ue(this,X));)if(256>v)M>=L&&(L=(D=this.e()).length),D[M++]=v;else for(q=t[B=v-257],0<a[B]&&(q+=oe(this,a[B])),v=ue(this,T),F=l[v],0<E[v]&&(F+=oe(this,E[v])),M+q>L&&(L=(D=this.e()).length);q--;)D[M]=D[M++-F];for(;8<=this.d;)this.d-=8,this.c--;this.a=M},m.prototype.e=function(){var X,T,D=new(te?Uint8Array:Array)(this.a-32768),M=this.a-32768,v=this.b;if(te)D.set(v.subarray(32768,D.length));else for(X=0,T=D.length;X<T;++X)D[X]=v[X+32768];if(this.i.push(D),this.n+=D.length,te)v.set(v.subarray(M,M+32768));else for(X=0;32768>X;++X)v[X]=v[M+X];return this.a=32768,v},m.prototype.D=function(X){var T,D,M,v=this.input.length/this.c+1|0,F=this.b;return X&&("number"==typeof X.t&&(v=X.t),"number"==typeof X.z&&(v+=X.z)),D=2>v?(M=(this.input.length-this.c)/this.r[2]/2*258|0)<F.length?F.length+M:F.length<<1:F.length*v,te?(T=new Uint8Array(D)).set(F):T=F,this.b=T},m.prototype.q=function(){var X,T,D,M,v,B=0,F=this.b,q=this.i,L=new(te?Uint8Array:Array)(this.n+(this.a-32768));if(0===q.length)return te?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(T=0,D=q.length;T<D;++T)for(M=0,v=(X=q[T]).length;M<v;++M)L[B++]=X[M];for(T=32768,D=this.a;T<D;++T)L[B++]=F[T];return this.i=[],this.buffer=L},m.prototype.A=function(){var X,T=this.a;return te?this.w?(X=new Uint8Array(T)).set(this.b.subarray(0,T)):X=this.b.subarray(0,T):(this.b.length>T&&(this.b.length=T),X=this.b),this.buffer=X},Ae.prototype.F=function(){return this.s||this.g(),this.m.slice()},Ae.prototype.g=function(){for(var X=this.input.length;this.c<X;){var T,D,M=new d,v=je,B=je,F=je,q=je,L=je,Y=je,se=je,Ee=this.input,Se=this.c;if(8===(M.u=Ee[Se++],M.v=Ee[Se++],(31!==M.u||139!==M.v)&&Q(Error("invalid file signature:"+M.u+","+M.v)),M.p=Ee[Se++],M.p)||Q(Error("unknown compression method: "+M.p)),M.h=Ee[Se++],D=Ee[Se++]|Ee[Se++]<<8|Ee[Se++]<<16|Ee[Se++]<<24,M.H=new Date(1e3*D),M.N=Ee[Se++],M.M=Ee[Se++],0<(4&M.h)&&(M.I=Ee[Se++]|Ee[Se++]<<8,Se+=M.I),0<(8&M.h)){for(Y=[],L=0;0<(q=Ee[Se++]);)Y[L++]=String.fromCharCode(q);M.name=Y.join("")}if(0<(16&M.h)){for(Y=[],L=0;0<(q=Ee[Se++]);)Y[L++]=String.fromCharCode(q);M.J=Y.join("")}0<(2&M.h)&&(M.B=65535&_e(Ee,0,Se),M.B!==(Ee[Se++]|Ee[Se++]<<8)&&Q(Error("invalid header crc16"))),Ee.length-Se-4-4<512*(v=Ee[Ee.length-4]|Ee[Ee.length-3]<<8|Ee[Ee.length-2]<<16|Ee[Ee.length-1]<<24)&&(F=v),B=new m(Ee,{index:Se,bufferSize:F}),M.data=T=B.g(),Se=B.c,M.K=se=(Ee[Se++]|Ee[Se++]<<8|Ee[Se++]<<16|Ee[Se++]<<24)>>>0,_e(T,je,je)!==se&&Q(Error("invalid CRC-32 checksum: 0x"+_e(T,je,je).toString(16)+" / 0x"+se.toString(16))),M.L=v=(Ee[Se++]|Ee[Se++]<<8|Ee[Se++]<<16|Ee[Se++]<<24)>>>0,(4294967295&T.length)!==v&&Q(Error("invalid input size: "+(4294967295&T.length)+" / "+v)),this.m.push(M),this.c=Se}this.s=!0;var Ie,Qe,Je,ut=this.m,$t=0,qt=0;for(Ie=0,Qe=ut.length;Ie<Qe;++Ie)qt+=ut[Ie].data.length;if(te)for(Je=new Uint8Array(qt),Ie=0;Ie<Qe;++Ie)Je.set(ut[Ie].data,$t),$t+=ut[Ie].data.length;else{for(Je=[],Ie=0;Ie<Qe;++Ie)Je[Ie]=ut[Ie].data;Je=Array.prototype.concat.apply([],Je)}return Je},y("Zlib.Gunzip",Ae),y("Zlib.Gunzip.prototype.decompress",Ae.prototype.g),y("Zlib.Gunzip.prototype.getMembers",Ae.prototype.F),y("Zlib.GunzipMember",d),y("Zlib.GunzipMember.prototype.getName",d.prototype.getName),y("Zlib.GunzipMember.prototype.getData",d.prototype.getData),y("Zlib.GunzipMember.prototype.getMtime",d.prototype.G)}).call(this)},{}],29:[function(At,xt,kt){"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var Q=function(){function ne(le,d){for(var N=0;N<d.length;N++){var A=d[N];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(le,A.key,A)}}return function(le,d,N){return d&&ne(le.prototype,d),N&&ne(le,N),le}}(),Pe=function y(ne){return ne&&ne.__esModule?ne:{default:ne}}(At("kuromoji")),te=!1;!(typeof window<"u")&&typeof xt<"u"&&xt.exports&&(te=!0);var _e=function(){function ne(){var le=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).dictPath;(function he(ne,le){if(!(ne instanceof le))throw new TypeError("Cannot call a class as a function")})(this,ne),this._analyzer=null,this._dictPath=le||(te?At.resolve("kuromoji").replace(/src(?!.*src).*/,"dict/"):"node_modules/kuromoji/dict/")}return Q(ne,[{key:"init",value:function(){var le=this;return new Promise(function(d,N){var A=le;null==le._analyzer?Pe.default.builder({dicPath:le._dictPath}).build(function(f,b){if(f)return N(f);A._analyzer=b,d()}):N(new Error("This analyzer has already been initialized."))})}},{key:"parse",value:function(){var le=this,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(N,A){if(""===d.trim())return N([]);for(var f=le._analyzer.tokenize(d),b=0;b<f.length;b++)f[b].verbose={},f[b].verbose.word_id=f[b].word_id,f[b].verbose.word_type=f[b].word_type,f[b].verbose.word_position=f[b].word_position,delete f[b].word_id,delete f[b].word_type,delete f[b].word_position;N(f)})}}]),ne}();kt.default=_e,xt.exports=kt.default},{kuromoji:15}]},{},[29])(29)}),function(Gt){"object"==typeof exports&&typeof module<"u"?module.exports=Gt():"function"==typeof define&&define.amd?define([],Gt):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).P2PGraph=Gt()}(function(){return function At(xt,kt,Q){function je(he,te){if(!kt[he]){if(!xt[he]){var pe="function"==typeof require&&require;if(!te&&pe)return pe(he,!0);if(Pe)return Pe(he,!0);var _e=new Error("Cannot find module '"+he+"'");throw _e.code="MODULE_NOT_FOUND",_e}var ne=kt[he]={exports:{}};xt[he][0].call(ne.exports,function(le){return je(xt[he][1][le]||le)},ne,ne.exports,At,xt,kt,Q)}return kt[he].exports}for(var Pe="function"==typeof require&&require,y=0;y<Q.length;y++)je(Q[y]);return je}({1:[function(At,xt,kt){!function(){var Q={version:"3.5.17"},je=[].slice,Pe=function(e){return je.call(e)},y=this.document;function he(e){return e&&(e.ownerDocument||e.document||e).documentElement}function te(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(y)try{Pe(y.documentElement.childNodes)}catch{Pe=function(i){for(var p=i.length,x=new Array(p);p--;)x[p]=i[p];return x}}if(Date.now||(Date.now=function(){return+new Date}),y)try{y.createElement("DIV").style.setProperty("opacity",0,"")}catch{var pe=this.Element.prototype,_e=pe.setAttribute,ne=pe.setAttributeNS,le=this.CSSStyleDeclaration.prototype,d=le.setProperty;pe.setAttribute=function(i,p){_e.call(this,i,p+"")},pe.setAttributeNS=function(i,p,x){ne.call(this,i,p,x+"")},le.setProperty=function(i,p,x){d.call(this,i,p+"",x)}}function N(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}function A(e){return null===e?NaN:+e}function f(e){return!isNaN(e)}function b(e){return{left:function(i,p,x,S){for(arguments.length<3&&(x=0),arguments.length<4&&(S=i.length);x<S;){var R=x+S>>>1;e(i[R],p)<0?x=R+1:S=R}return x},right:function(i,p,x,S){for(arguments.length<3&&(x=0),arguments.length<4&&(S=i.length);x<S;){var R=x+S>>>1;e(i[R],p)>0?S=R:x=R+1}return x}}}Q.ascending=N,Q.descending=function(e,i){return i<e?-1:i>e?1:i>=e?0:NaN},Q.min=function(e,i){var S,R,p=-1,x=e.length;if(1===arguments.length){for(;++p<x;)if(null!=(R=e[p])&&R>=R){S=R;break}for(;++p<x;)null!=(R=e[p])&&S>R&&(S=R)}else{for(;++p<x;)if(null!=(R=i.call(e,e[p],p))&&R>=R){S=R;break}for(;++p<x;)null!=(R=i.call(e,e[p],p))&&S>R&&(S=R)}return S},Q.max=function(e,i){var S,R,p=-1,x=e.length;if(1===arguments.length){for(;++p<x;)if(null!=(R=e[p])&&R>=R){S=R;break}for(;++p<x;)null!=(R=e[p])&&R>S&&(S=R)}else{for(;++p<x;)if(null!=(R=i.call(e,e[p],p))&&R>=R){S=R;break}for(;++p<x;)null!=(R=i.call(e,e[p],p))&&R>S&&(S=R)}return S},Q.extent=function(e,i){var S,R,K,p=-1,x=e.length;if(1===arguments.length){for(;++p<x;)if(null!=(R=e[p])&&R>=R){S=K=R;break}for(;++p<x;)null!=(R=e[p])&&(S>R&&(S=R),K<R&&(K=R))}else{for(;++p<x;)if(null!=(R=i.call(e,e[p],p))&&R>=R){S=K=R;break}for(;++p<x;)null!=(R=i.call(e,e[p],p))&&(S>R&&(S=R),K<R&&(K=R))}return[S,K]},Q.sum=function(e,i){var S,p=0,x=e.length,R=-1;if(1===arguments.length)for(;++R<x;)f(S=+e[R])&&(p+=S);else for(;++R<x;)f(S=+i.call(e,e[R],R))&&(p+=S);return p},Q.mean=function(e,i){var S,p=0,x=e.length,R=-1,K=x;if(1===arguments.length)for(;++R<x;)f(S=A(e[R]))?p+=S:--K;else for(;++R<x;)f(S=A(i.call(e,e[R],R)))?p+=S:--K;if(K)return p/K},Q.quantile=function(e,i){var p=(e.length-1)*i+1,x=Math.floor(p),S=+e[x-1],R=p-x;return R?S+R*(e[x]-S):S},Q.median=function(e,i){var S,p=[],x=e.length,R=-1;if(1===arguments.length)for(;++R<x;)f(S=A(e[R]))&&p.push(S);else for(;++R<x;)f(S=A(i.call(e,e[R],R)))&&p.push(S);if(p.length)return Q.quantile(p.sort(N),.5)},Q.variance=function(e,i){var S,R,p=e.length,x=0,K=0,U=-1,G=0;if(1===arguments.length)for(;++U<p;)f(S=A(e[U]))&&(K+=(R=S-x)*(S-(x+=R/++G)));else for(;++U<p;)f(S=A(i.call(e,e[U],U)))&&(K+=(R=S-x)*(S-(x+=R/++G)));if(G>1)return K/(G-1)},Q.deviation=function(){var e=Q.variance.apply(this,arguments);return e&&Math.sqrt(e)};var m=b(N);function _(e){return e.length}Q.bisectLeft=m.left,Q.bisect=Q.bisectRight=m.right,Q.bisector=function(e){return b(1===e.length?function(i,p){return N(e(i),p)}:e)},Q.shuffle=function(e,i,p){(x=arguments.length)<3&&(p=e.length,x<2&&(i=0));for(var S,R,x=p-i;x;)R=Math.random()*x--|0,S=e[x+i],e[x+i]=e[R+i],e[R+i]=S;return e},Q.permute=function(e,i){for(var p=i.length,x=new Array(p);p--;)x[p]=e[i[p]];return x},Q.pairs=function(e){for(var i=0,p=e.length-1,S=e[0],R=new Array(p<0?0:p);i<p;)R[i]=[S,S=e[++i]];return R},Q.transpose=function(e){if(!(R=e.length))return[];for(var i=-1,p=Q.min(e,_),x=new Array(p);++i<p;)for(var R,S=-1,K=x[i]=new Array(R);++S<R;)K[S]=e[S][i];return x},Q.zip=function(){return Q.transpose(arguments)},Q.keys=function(e){var i=[];for(var p in e)i.push(p);return i},Q.values=function(e){var i=[];for(var p in e)i.push(e[p]);return i},Q.entries=function(e){var i=[];for(var p in e)i.push({key:p,value:e[p]});return i},Q.merge=function(e){for(var p,R,K,i=e.length,x=-1,S=0;++x<i;)S+=e[x].length;for(R=new Array(S);--i>=0;)for(p=(K=e[i]).length;--p>=0;)R[--S]=K[p];return R};var n=Math.abs;function h(e,i){for(var p in i)Object.defineProperty(e.prototype,p,{value:i[p],enumerable:!1})}function s(){this._=Object.create(null)}Q.range=function(e,i,p){if(arguments.length<3&&(p=1,arguments.length<2&&(i=e,e=0)),(i-e)/p==1/0)throw new Error("infinite range");var K,x=[],S=function g(e){for(var i=1;e*i%1;)i*=10;return i}(n(p)),R=-1;if(e*=S,i*=S,(p*=S)<0)for(;(K=e+p*++R)>i;)x.push(K/S);else for(;(K=e+p*++R)<i;)x.push(K/S);return x},Q.map=function(e,i){var p=new s;if(e instanceof s)e.forEach(function(U,G){p.set(U,G)});else if(Array.isArray(e)){var R,x=-1,S=e.length;if(1===arguments.length)for(;++x<S;)p.set(x,e[x]);else for(;++x<S;)p.set(i.call(e,R=e[x],x),R)}else for(var K in e)p.set(K,e[K]);return p};var u="__proto__",o="\0";function t(e){return(e+="")===u||e[0]===o?o+e:e}function r(e){return(e+="")[0]===o?e.slice(1):e}function a(e){return t(e)in this._}function c(e){return(e=t(e))in this._&&delete this._[e]}function l(){var e=[];for(var i in this._)e.push(r(i));return e}function w(){var e=0;for(var i in this._)++e;return e}function E(){for(var e in this._)return!1;return!0}function C(){this._=Object.create(null)}function z(e){return e}function k(e,i,p){return function(){var x=p.apply(i,arguments);return x===i?e:x}}function I(e,i){if(i in e)return i;i=i.charAt(0).toUpperCase()+i.slice(1);for(var p=0,x=V.length;p<x;++p){var S=V[p]+i;if(S in e)return S}}h(s,{has:a,get:function(e){return this._[t(e)]},set:function(e,i){return this._[t(e)]=i},remove:c,keys:l,values:function(){var e=[];for(var i in this._)e.push(this._[i]);return e},entries:function(){var e=[];for(var i in this._)e.push({key:r(i),value:this._[i]});return e},size:w,empty:E,forEach:function(e){for(var i in this._)e.call(this,r(i),this._[i])}}),Q.nest=function(){var x,S,e={},i=[],p=[];function R(U,G,re){if(re>=i.length)return S?S.call(e,G):x?G.sort(x):G;for(var Ne,Xe,ke,Oe,ce=-1,ge=G.length,we=i[re++],Be=new s;++ce<ge;)(Oe=Be.get(Ne=we(Xe=G[ce])))?Oe.push(Xe):Be.set(Ne,[Xe]);return U?(Xe=U(),ke=function($e,ze){Xe.set($e,R(U,ze,re))}):(Xe={},ke=function($e,ze){Xe[$e]=R(U,ze,re)}),Be.forEach(ke),Xe}function K(U,G){if(G>=i.length)return U;var re=[],ce=p[G++];return U.forEach(function(ge,we){re.push({key:ge,values:K(we,G)})}),ce?re.sort(function(ge,we){return ce(ge.key,we.key)}):re}return e.map=function(U,G){return R(G,U,0)},e.entries=function(U){return K(R(Q.map,U,0),0)},e.key=function(U){return i.push(U),e},e.sortKeys=function(U){return p[i.length-1]=U,e},e.sortValues=function(U){return x=U,e},e.rollup=function(U){return S=U,e},e},Q.set=function(e){var i=new C;if(e)for(var p=0,x=e.length;p<x;++p)i.add(e[p]);return i},h(C,{has:a,add:function(e){return this._[t(e+="")]=!0,e},remove:c,values:l,size:w,empty:E,forEach:function(e){for(var i in this._)e.call(this,r(i))}}),Q.behavior={},Q.rebind=function(e,i){for(var S,p=1,x=arguments.length;++p<x;)e[S=arguments[p]]=k(e,i,i[S]);return e};var V=["webkit","ms","moz","Moz","o","O"];function $(){}function oe(){}function ue(e){var i=[],p=new s;function x(){for(var U,S=i,R=-1,K=S.length;++R<K;)(U=S[R].on)&&U.apply(this,arguments);return e}return x.on=function(S,R){var U,K=p.get(S);return arguments.length<2?K&&K.on:(K&&(K.on=null,i=i.slice(0,U=i.indexOf(K)).concat(i.slice(U+1)),p.remove(S)),R&&i.push(p.set(S,{on:R})),e)},x}function Ae(){Q.event.preventDefault()}function X(){for(var i,e=Q.event;i=e.sourceEvent;)e=i;return e}function T(e){for(var i=new oe,p=0,x=arguments.length;++p<x;)i[arguments[p]]=ue(i);return i.of=function(S,R){return function(K){try{var U=K.sourceEvent=Q.event;K.target=e,Q.event=K,i[K.type].apply(S,R)}finally{Q.event=U}}},i}Q.dispatch=function(){for(var e=new oe,i=-1,p=arguments.length;++i<p;)e[arguments[i]]=ue(e);return e},oe.prototype.on=function(e,i){var p=e.indexOf("."),x="";if(p>=0&&(x=e.slice(p+1),e=e.slice(0,p)),e)return arguments.length<2?this[e].on(x):this[e].on(x,i);if(2===arguments.length){if(null==i)for(e in this)this.hasOwnProperty(e)&&this[e].on(x,null);return this}},Q.event=null,Q.requote=function(e){return e.replace(D,"\\$&")};var D=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,M={}.__proto__?function(e,i){e.__proto__=i}:function(e,i){for(var p in i)e[p]=i[p]};function v(e){return M(e,L),e}var B=function(e,i){return i.querySelector(e)},F=function(e,i){return i.querySelectorAll(e)},q=function(e,i){var p=e.matches||e[I(e,"matchesSelector")];return(q=function(x,S){return p.call(x,S)})(e,i)};"function"==typeof Sizzle&&(B=function(e,i){return Sizzle(e,i)[0]||null},F=Sizzle,q=Sizzle.matchesSelector),Q.selection=function(){return Q.select(y.documentElement)};var L=Q.selection.prototype=[];function Y(e){return"function"==typeof e?e:function(){return B(e,this)}}function se(e){return"function"==typeof e?e:function(){return F(e,this)}}L.select=function(e){var p,x,S,R,i=[];e=Y(e);for(var K=-1,U=this.length;++K<U;){i.push(p=[]),p.parentNode=(S=this[K]).parentNode;for(var G=-1,re=S.length;++G<re;)(R=S[G])?(p.push(x=e.call(R,R.__data__,G,K)),x&&"__data__"in R&&(x.__data__=R.__data__)):p.push(null)}return v(i)},L.selectAll=function(e){var p,x,i=[];e=se(e);for(var S=-1,R=this.length;++S<R;)for(var K=this[S],U=-1,G=K.length;++U<G;)(x=K[U])&&(i.push(p=Pe(e.call(x,x.__data__,U,S))),p.parentNode=x);return v(i)};var Ee="http://www.w3.org/1999/xhtml",Se={svg:"http://www.w3.org/2000/svg",xhtml:Ee,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ie(e,i){return e=Q.ns.qualify(e),null==i?e.local?function x(){this.removeAttributeNS(e.space,e.local)}:function p(){this.removeAttribute(e)}:"function"==typeof i?e.local?function U(){var G=i.apply(this,arguments);null==G?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,G)}:function K(){var G=i.apply(this,arguments);null==G?this.removeAttribute(e):this.setAttribute(e,G)}:e.local?function R(){this.setAttributeNS(e.space,e.local,i)}:function S(){this.setAttribute(e,i)}}function Qe(e){return e.trim().replace(/\s+/g," ")}function Je(e){return new RegExp("(?:^|\\s+)"+Q.requote(e)+"(?:\\s+|$)","g")}function ut(e){return(e+"").trim().split(/^|\s+/)}function $t(e,i){var p=(e=ut(e).map(qt)).length;return"function"==typeof i?function S(){for(var R=-1,K=i.apply(this,arguments);++R<p;)e[R](this,K)}:function x(){for(var R=-1;++R<p;)e[R](this,i)}}function qt(e){var i=Je(e);return function(p,x){if(S=p.classList)return x?S.add(e):S.remove(e);var S=p.getAttribute("class")||"";x?(i.lastIndex=0,i.test(S)||p.setAttribute("class",Qe(S+" "+e))):p.setAttribute("class",Qe(S.replace(i," ")))}}function tt(e,i,p){return null==i?function x(){this.style.removeProperty(e)}:"function"==typeof i?function R(){var K=i.apply(this,arguments);null==K?this.style.removeProperty(e):this.style.setProperty(e,K,p)}:function S(){this.style.setProperty(e,i,p)}}function at(e,i){return null==i?function p(){delete this[e]}:"function"==typeof i?function S(){var R=i.apply(this,arguments);null==R?delete this[e]:this[e]=R}:function x(){this[e]=i}}function nt(e){return"function"==typeof e?e:(e=Q.ns.qualify(e)).local?function p(){return this.ownerDocument.createElementNS(e.space,e.local)}:function i(){var x=this.ownerDocument,S=this.namespaceURI;return S===Ee&&x.documentElement.namespaceURI===Ee?x.createElement(e):x.createElementNS(S,e)}}function Yt(){var e=this.parentNode;e&&e.removeChild(this)}function Tn(e){return{__data__:e}}function J(e){return function(){return q(this,e)}}function O(e){return arguments.length||(e=N),function(i,p){return i&&p?e(i.__data__,p.__data__):!i-!p}}function W(e,i){for(var p=0,x=e.length;p<x;p++)for(var U,S=e[p],R=0,K=S.length;R<K;R++)(U=S[R])&&i(U,R,p);return e}function ee(e){return M(e,ve),e}Q.ns={prefix:Se,qualify:function(e){var i=e.indexOf(":"),p=e;return i>=0&&"xmlns"!==(p=e.slice(0,i))&&(e=e.slice(i+1)),Se.hasOwnProperty(p)?{space:Se[p],local:e}:e}},L.attr=function(e,i){if(arguments.length<2){if("string"==typeof e){var p=this.node();return(e=Q.ns.qualify(e)).local?p.getAttributeNS(e.space,e.local):p.getAttribute(e)}for(i in e)this.each(Ie(i,e[i]));return this}return this.each(Ie(e,i))},L.classed=function(e,i){if(arguments.length<2){if("string"==typeof e){var p=this.node(),x=(e=ut(e)).length,S=-1;if(i=p.classList){for(;++S<x;)if(!i.contains(e[S]))return!1}else for(i=p.getAttribute("class");++S<x;)if(!Je(e[S]).test(i))return!1;return!0}for(i in e)this.each($t(i,e[i]));return this}return this.each($t(e,i))},L.style=function(e,i,p){var x=arguments.length;if(x<3){if("string"!=typeof e){for(p in x<2&&(i=""),e)this.each(tt(p,e[p],i));return this}if(x<2){var S=this.node();return te(S).getComputedStyle(S,null).getPropertyValue(e)}p=""}return this.each(tt(e,i,p))},L.property=function(e,i){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(i in e)this.each(at(i,e[i]));return this}return this.each(at(e,i))},L.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var i=e.apply(this,arguments);this.textContent=i??""}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},L.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var i=e.apply(this,arguments);this.innerHTML=i??""}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},L.append=function(e){return e=nt(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},L.insert=function(e,i){return e=nt(e),i=Y(i),this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},L.remove=function(){return this.each(Yt)},L.data=function(e,i){var S,R,p=-1,x=this.length;if(!arguments.length){for(e=new Array(x=(S=this[0]).length);++p<x;)(R=S[p])&&(e[p]=R.__data__);return e}function K(ce,ge){var we,ze,Ve,Ne=ce.length,Xe=ge.length,ke=Math.min(Ne,Xe),Be=new Array(Xe),Oe=new Array(Xe),$e=new Array(Ne);if(i){var wt,Tt=new s,yt=new Array(Ne);for(we=-1;++we<Ne;)(ze=ce[we])&&(Tt.has(wt=i.call(ze,ze.__data__,we))?$e[we]=ze:Tt.set(wt,ze),yt[we]=wt);for(we=-1;++we<Xe;)(ze=Tt.get(wt=i.call(ge,Ve=ge[we],we)))?!0!==ze&&(Be[we]=ze,ze.__data__=Ve):Oe[we]=Tn(Ve),Tt.set(wt,!0);for(we=-1;++we<Ne;)we in yt&&!0!==Tt.get(yt[we])&&($e[we]=ce[we])}else{for(we=-1;++we<ke;)Ve=ge[we],(ze=ce[we])?(ze.__data__=Ve,Be[we]=ze):Oe[we]=Tn(Ve);for(;we<Xe;++we)Oe[we]=Tn(ge[we]);for(;we<Ne;++we)$e[we]=ce[we]}Oe.update=Be,Oe.parentNode=Be.parentNode=$e.parentNode=ce.parentNode,U.push(Oe),G.push(Be),re.push($e)}var U=ee([]),G=v([]),re=v([]);if("function"==typeof e)for(;++p<x;)K(S=this[p],e.call(S,S.parentNode.__data__,p));else for(;++p<x;)K(S=this[p],e);return G.enter=function(){return U},G.exit=function(){return re},G},L.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},L.filter=function(e){var p,x,S,i=[];"function"!=typeof e&&(e=J(e));for(var R=0,K=this.length;R<K;R++){i.push(p=[]),p.parentNode=(x=this[R]).parentNode;for(var U=0,G=x.length;U<G;U++)(S=x[U])&&e.call(S,S.__data__,U,R)&&p.push(S)}return v(i)},L.order=function(){for(var e=-1,i=this.length;++e<i;)for(var R,p=this[e],x=p.length-1,S=p[x];--x>=0;)(R=p[x])&&(S&&S!==R.nextSibling&&S.parentNode.insertBefore(R,S),S=R);return this},L.sort=function(e){e=O.apply(this,arguments);for(var i=-1,p=this.length;++i<p;)this[i].sort(e);return this.order()},L.each=function(e){return W(this,function(i,p,x){e.call(i,i.__data__,p,x)})},L.call=function(e){var i=Pe(arguments);return e.apply(i[0]=this,i),this},L.empty=function(){return!this.node()},L.node=function(){for(var e=0,i=this.length;e<i;e++)for(var p=this[e],x=0,S=p.length;x<S;x++){var R=p[x];if(R)return R}return null},L.size=function(){var e=0;return W(this,function(){++e}),e};var ve=[];function ht(e,i,p){var x="__on"+e,S=e.indexOf("."),R=Jt;S>0&&(e=e.slice(0,S));var K=st.get(e);function U(){var ce=this[x];ce&&(this.removeEventListener(e,ce,ce.$),delete this[x])}return K&&(e=K,R=on),S?i?function G(){var ce=R(i,Pe(arguments));U.call(this),this.addEventListener(e,this[x]=ce,ce.$=p),ce._=i}:U:i?$:function re(){var ge,ce=new RegExp("^__on([^.]+)"+Q.requote(e)+"$");for(var we in this)if(ge=we.match(ce)){var Ne=this[we];this.removeEventListener(ge[1],Ne,Ne.$),delete this[we]}}}Q.selection.enter=ee,Q.selection.enter.prototype=ve,ve.append=L.append,ve.empty=L.empty,ve.node=L.node,ve.call=L.call,ve.size=L.size,ve.select=function(e){for(var p,x,S,R,K,i=[],U=-1,G=this.length;++U<G;){S=(R=this[U]).update,i.push(p=[]),p.parentNode=R.parentNode;for(var re=-1,ce=R.length;++re<ce;)(K=R[re])?(p.push(S[re]=x=e.call(R.parentNode,K.__data__,re,U)),x.__data__=K.__data__):p.push(null)}return v(i)},ve.insert=function(e,i){return arguments.length<2&&(i=function He(e){var i,p;return function(x,S,R){var G,K=e[R].update,U=K.length;for(R!=p&&(p=R,i=0),S>=i&&(i=S+1);!(G=K[i])&&++i<U;);return G}}(this)),L.insert.call(this,e,i)},Q.select=function(e){var i;return"string"==typeof e?(i=[B(e,y)]).parentNode=y.documentElement:(i=[e]).parentNode=he(e),v([i])},Q.selectAll=function(e){var i;return"string"==typeof e?(i=Pe(F(e,y))).parentNode=y.documentElement:(i=Pe(e)).parentNode=null,v([i])},L.on=function(e,i,p){var x=arguments.length;if(x<3){if("string"!=typeof e){for(p in x<2&&(i=!1),e)this.each(ht(p,e[p],i));return this}if(x<2)return(x=this.node()["__on"+e])&&x._;p=!1}return this.each(ht(e,i,p))};var st=Q.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Jt(e,i){return function(p){var x=Q.event;Q.event=p,i[0]=this.__data__;try{e.apply(this,i)}finally{Q.event=x}}}function on(e,i){var p=Jt(e,i);return function(x){var S=this,R=x.relatedTarget;(!R||R!==S&&!(8&R.compareDocumentPosition(S)))&&p.call(S,x)}}y&&st.forEach(function(e){"on"+e in y&&st.remove(e)});var Ht,wn=0;function sn(e){var i=".dragsuppress-"+ ++wn,p="click"+i,x=Q.select(te(e)).on("touchmove"+i,Ae).on("dragstart"+i,Ae).on("selectstart"+i,Ae);if(null==Ht&&(Ht=!("onselectstart"in e)&&I(e.style,"userSelect")),Ht){var S=he(e).style,R=S[Ht];S[Ht]="none"}return function(K){if(x.on(i,null),Ht&&(S[Ht]=R),K){var U=function(){x.on(p,null)};x.on(p,function(){Ae(),U()},!0),setTimeout(U,0)}}}Q.mouse=function(e){return fr(e,X())};var Sn=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function fr(e,i){i.changedTouches&&(i=i.changedTouches[0]);var p=e.ownerSVGElement||e;if(p.createSVGPoint){var x=p.createSVGPoint();if(Sn<0){var S=te(e);if(S.scrollX||S.scrollY){var R=(p=Q.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Sn=!(R.f||R.e),p.remove()}}return Sn?(x.x=i.pageX,x.y=i.pageY):(x.x=i.clientX,x.y=i.clientY),[(x=x.matrixTransform(e.getScreenCTM().inverse())).x,x.y]}var K=e.getBoundingClientRect();return[i.clientX-K.left-e.clientLeft,i.clientY-K.top-e.clientTop]}function Dn(){return Q.event.changedTouches[0].identifier}Q.touch=function(e,i,p){if(arguments.length<3&&(p=i,i=X().changedTouches),i)for(var R,x=0,S=i.length;x<S;++x)if((R=i[x]).identifier===p)return fr(e,R)},Q.behavior.drag=function(){var e=T(S,"drag","dragstart","dragend"),i=null,p=R($,Q.mouse,te,"mousemove","mouseup"),x=R(Dn,Q.touch,z,"touchmove","touchend");function S(){this.on("mousedown.drag",p).on("touchstart.drag",x)}function R(K,U,G,re,ce){return function(){var $e,we=Q.event.target.correspondingElement||Q.event.target,Ne=this.parentNode,Xe=e.of(this,arguments),ke=0,Be=K(),Oe=".drag"+(null==Be?"":"-"+Be),ze=Q.select(G(we)).on(re+Oe,function yt(){var Zt,rn,vt=U(Ne,Be);vt&&(ke|=(Zt=vt[0]-Tt[0])|(rn=vt[1]-Tt[1]),Tt=vt,Xe({type:"drag",x:vt[0]+$e[0],y:vt[1]+$e[1],dx:Zt,dy:rn}))}).on(ce+Oe,function wt(){U(Ne,Be)&&(ze.on(re+Oe,null).on(ce+Oe,null),Ve(ke),Xe({type:"dragend"}))}),Ve=sn(we),Tt=U(Ne,Be);$e=i?[($e=i.apply(this,arguments)).x-Tt[0],$e.y-Tt[1]]:[0,0],Xe({type:"dragstart"})}}return S.origin=function(K){return arguments.length?(i=K,S):i},Q.rebind(S,e,"on")},Q.touches=function(e,i){return arguments.length<2&&(i=X().touches),i?Pe(i).map(function(p){var x=fr(e,p);return x.identifier=p.identifier,x}):[]};var Rt=1e-6,vr=Rt*Rt,de=Math.PI,Le=2*de,et=Le-Rt,qe=de/2,Ze=de/180,Ct=180/de;function Nt(e){return e>0?1:e<0?-1:0}function Bt(e,i,p){return(i[0]-e[0])*(p[1]-e[1])-(i[1]-e[1])*(p[0]-e[0])}function ln(e){return e>1?0:e<-1?de:Math.acos(e)}function Ot(e){return e>1?qe:e<-1?-qe:Math.asin(e)}function kn(e){return((e=Math.exp(e))+1/e)/2}function In(e){return(e=Math.sin(e/2))*e}var pr=Math.SQRT2;Q.interpolateZoom=function(e,i){var ge,we,p=e[0],x=e[1],S=e[2],U=i[2],G=i[0]-p,re=i[1]-x,ce=G*G+re*re;if(ce<vr)we=Math.log(U/S)/pr,ge=function($e){return[p+$e*G,x+$e*re,S*Math.exp(pr*$e*we)]};else{var Ne=Math.sqrt(ce),Xe=(U*U-S*S+4*ce)/(2*S*2*Ne),ke=(U*U-S*S-4*ce)/(2*U*2*Ne),Be=Math.log(Math.sqrt(Xe*Xe+1)-Xe),Oe=Math.log(Math.sqrt(ke*ke+1)-ke);we=(Oe-Be)/pr,ge=function($e){var ze=$e*we,Ve=kn(Be),Tt=S/(2*Ne)*(Ve*function vn(e){return((e=Math.exp(2*e))-1)/(e+1)}(pr*ze+Be)-function mn(e){return((e=Math.exp(e))-1/e)/2}(Be));return[p+Tt*G,x+Tt*re,S*Ve/kn(pr*ze+Be)]}}return ge.duration=1e3*we,ge},Q.behavior.zoom=function(){var i,p,x,ge,Ne,ke,Be,Oe,$e,e={x:0,y:0,k:1},S=[960,500],R=Br,K=250,U=0,G="mousedown.zoom",re="mousemove.zoom",ce="mouseup.zoom",we="touchstart.zoom",Xe=T(ze,"zoomstart","zoom","zoomend");function ze(zt){zt.on(G,An).on(Qn+".zoom",en).on("dblclick.zoom",dn).on(we,Lt)}function Ve(zt){return[(zt[0]-e.x)/e.k,(zt[1]-e.y)/e.k]}function yt(zt){e.k=Math.max(R[0],Math.min(R[1],zt))}function wt(zt,hn){hn=function Tt(zt){return[zt[0]*e.k+e.x,zt[1]*e.k+e.y]}(hn),e.x+=zt[0]-hn[0],e.y+=zt[1]-hn[1]}function vt(zt,hn,Wn,tr){zt.__chart__={x:e.x,y:e.y,k:e.k},yt(Math.pow(2,tr)),wt(p=hn,Wn),zt=Q.select(zt),K>0&&(zt=zt.transition().duration(K)),zt.call(ze.event)}function Zt(){Be&&Be.domain(ke.range().map(function(zt){return(zt-e.x)/e.k}).map(ke.invert)),$e&&$e.domain(Oe.range().map(function(zt){return(zt-e.y)/e.k}).map(Oe.invert))}function rn(zt){U++||zt({type:"zoomstart"})}function Ln(zt){Zt(),zt({type:"zoom",scale:e.k,translate:[e.x,e.y]})}function bn(zt){--U||(zt({type:"zoomend"}),p=null)}function An(){var zt=this,hn=Xe.of(zt,arguments),Wn=0,tr=Q.select(te(zt)).on(re,function qr(){Wn=1,wt(Q.mouse(zt),lr),Ln(hn)}).on(ce,function Li(){tr.on(re,null).on(ce,null),Nr(Wn),bn(hn)}),lr=Ve(Q.mouse(zt)),Nr=sn(zt);Es.call(zt),rn(hn)}function Lt(){var lr,zt=this,hn=Xe.of(zt,arguments),Wn={},tr=0,Nr=".zoom-"+Q.event.changedTouches[0].identifier,qr="touchmove"+Nr,Li="touchend"+Nr,Di=[],Bi=Q.select(zt),qi=sn(zt);function Ti(){var so=Q.touches(zt);return lr=e.k,so.forEach(function(ki){ki.identifier in Wn&&(Wn[ki.identifier]=Ve(ki))}),so}function Ki(){var so=Q.event.target;Q.select(so).on(qr,Po).on(Li,lu),Di.push(so);for(var ki=Q.event.changedTouches,Qi=0,po=ki.length;Qi<po;++Qi)Wn[ki[Qi].identifier]=null;var eo=Ti(),Go=Date.now();if(1===eo.length)Go-Ne<500&&(vt(zt,Oo=eo[0],Wn[Oo.identifier],Math.floor(Math.log(e.k)/Math.LN2)+1),Ae()),Ne=Go;else if(eo.length>1){var Oo,So=eo[1],Cs=(Oo=eo[0])[0]-So[0],lc=Oo[1]-So[1];tr=Cs*Cs+lc*lc}}function Po(){var ki,Qi,po,eo,so=Q.touches(zt);Es.call(zt);for(var Go=0,Oo=so.length;Go<Oo;++Go,eo=null)if(eo=Wn[(po=so[Go]).identifier]){if(Qi)break;ki=po,Qi=eo}if(eo){var So=(So=po[0]-ki[0])*So+(So=po[1]-ki[1])*So,Cs=tr&&Math.sqrt(So/tr);ki=[(ki[0]+po[0])/2,(ki[1]+po[1])/2],Qi=[(Qi[0]+eo[0])/2,(Qi[1]+eo[1])/2],yt(Cs*lr)}Ne=null,wt(ki,Qi),Ln(hn)}function lu(){if(Q.event.touches.length){for(var so=Q.event.changedTouches,ki=0,Qi=so.length;ki<Qi;++ki)delete Wn[so[ki].identifier];for(var po in Wn)return void Ti()}Q.selectAll(Di).on(Nr,null),Bi.on(G,An).on(we,Lt),qi(),bn(hn)}Ki(),rn(hn),Bi.on(G,null).on(we,Ki)}function en(){var zt=Xe.of(this,arguments);ge?clearTimeout(ge):(Es.call(this),i=Ve(p=x||Q.mouse(this)),rn(zt)),ge=setTimeout(function(){ge=null,bn(zt)},50),Ae(),yt(Math.pow(2,.002*Rn())*e.k),wt(p,i),Ln(zt)}function dn(){var zt=Q.mouse(this),hn=Math.log(e.k)/Math.LN2;vt(this,zt,Ve(zt),Q.event.shiftKey?Math.ceil(hn)-1:Math.floor(hn)+1)}return Qn||(Qn="onwheel"in y?(Rn=function(){return-Q.event.deltaY*(Q.event.deltaMode?120:1)},"wheel"):"onmousewheel"in y?(Rn=function(){return Q.event.wheelDelta},"mousewheel"):(Rn=function(){return-Q.event.detail},"MozMousePixelScroll")),ze.event=function(zt){zt.each(function(){var hn=Xe.of(this,arguments),Wn=e;Bo?Q.select(this).transition().each("start.zoom",function(){e=this.__chart__||{x:0,y:0,k:1},rn(hn)}).tween("zoom:zoom",function(){var tr=S[0],Nr=p?p[0]:tr/2,qr=p?p[1]:S[1]/2,Li=Q.interpolateZoom([(Nr-e.x)/e.k,(qr-e.y)/e.k,tr/e.k],[(Nr-Wn.x)/Wn.k,(qr-Wn.y)/Wn.k,tr/Wn.k]);return function(Di){var Bi=Li(Di),qi=tr/Bi[2];this.__chart__=e={x:Nr-Bi[0]*qi,y:qr-Bi[1]*qi,k:qi},Ln(hn)}}).each("interrupt.zoom",function(){bn(hn)}).each("end.zoom",function(){bn(hn)}):(this.__chart__=e,rn(hn),Ln(hn),bn(hn))})},ze.translate=function(zt){return arguments.length?(e={x:+zt[0],y:+zt[1],k:e.k},Zt(),ze):[e.x,e.y]},ze.scale=function(zt){return arguments.length?(e={x:e.x,y:e.y,k:null},yt(+zt),Zt(),ze):e.k},ze.scaleExtent=function(zt){return arguments.length?(R=null==zt?Br:[+zt[0],+zt[1]],ze):R},ze.center=function(zt){return arguments.length?(x=zt&&[+zt[0],+zt[1]],ze):x},ze.size=function(zt){return arguments.length?(S=zt&&[+zt[0],+zt[1]],ze):S},ze.duration=function(zt){return arguments.length?(K=+zt,ze):K},ze.x=function(zt){return arguments.length?(Be=zt,ke=zt.copy(),e={x:0,y:0,k:1},ze):Be},ze.y=function(zt){return arguments.length?($e=zt,Oe=zt.copy(),e={x:0,y:0,k:1},ze):$e},Q.rebind(ze,Xe,"on")};var Rn,Qn,Br=[0,1/0];function Wr(){}function Kn(e,i,p){return this instanceof Kn?(this.h=+e,this.s=+i,void(this.l=+p)):arguments.length<2?e instanceof Kn?new Kn(e.h,e.s,e.l):Fr(""+e,Un,Kn):new Kn(e,i,p)}Q.color=Wr,Wr.prototype.toString=function(){return this.rgb()+""},Q.hsl=Kn;var Zn=Kn.prototype=new Wr;function Kr(e,i,p){var x,S;function K(U){return Math.round(255*function R(U){return U>360?U-=360:U<0&&(U+=360),U<60?x+(S-x)*U/60:U<180?S:U<240?x+(S-x)*(240-U)/60:x}(U))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,i=isNaN(i)||i<0?0:i>1?1:i,x=2*(p=p<0?0:p>1?1:p)-(S=p<=.5?p*(1+i):p+i-p*i),new zr(K(e+120),K(e),K(e-120))}function Gn(e,i,p){return this instanceof Gn?(this.h=+e,this.c=+i,void(this.l=+p)):arguments.length<2?e instanceof Gn?new Gn(e.h,e.c,e.l):function si(e,i,p){return e>0?new Gn(Math.atan2(p,i)*Ct,Math.sqrt(i*i+p*p),e):new Gn(NaN,NaN,e)}(e instanceof me?e.l:(e=We((e=Q.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Gn(e,i,p)}Zn.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Kn(this.h,this.s,this.l/e)},Zn.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Kn(this.h,this.s,e*this.l)},Zn.rgb=function(){return Kr(this.h,this.s,this.l)},Q.hcl=Gn;var er=Gn.prototype=new Wr;function ct(e,i,p){return isNaN(e)&&(e=0),isNaN(i)&&(i=0),new me(p,Math.cos(e*=Ze)*i,Math.sin(e)*i)}function me(e,i,p){return this instanceof me?(this.l=+e,this.a=+i,void(this.b=+p)):arguments.length<2?e instanceof me?new me(e.l,e.a,e.b):e instanceof Gn?ct(e.h,e.c,e.l):We((e=zr(e)).r,e.g,e.b):new me(e,i,p)}er.brighter=function(e){return new Gn(this.h,this.c,Math.min(100,this.l+ot*(arguments.length?e:1)))},er.darker=function(e){return new Gn(this.h,this.c,Math.max(0,this.l-ot*(arguments.length?e:1)))},er.rgb=function(){return ct(this.h,this.c,this.l).rgb()},Q.lab=me;var ot=18,ft=.95047,be=1,dt=1.08883,Zr=me.prototype=new Wr;function ri(e,i,p){var x=(e+16)/116,S=x+i/500,R=x-p/200;return new zr(Jr(3.2404542*(S=cr(S)*ft)-1.5371385*(x=cr(x)*be)-.4985314*(R=cr(R)*dt)),Jr(-.969266*S+1.8760108*x+.041556*R),Jr(.0556434*S-.2040259*x+1.0572252*R))}function cr(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function yi(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function Jr(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function zr(e,i,p){return this instanceof zr?(this.r=~~e,this.g=~~i,void(this.b=~~p)):arguments.length<2?e instanceof zr?new zr(e.r,e.g,e.b):Fr(""+e,zr,Kr):new zr(e,i,p)}function ui(e){return new zr(e>>16,e>>8&255,255&e)}function ai(e){return ui(e)+""}Zr.brighter=function(e){return new me(Math.min(100,this.l+ot*(arguments.length?e:1)),this.a,this.b)},Zr.darker=function(e){return new me(Math.max(0,this.l-ot*(arguments.length?e:1)),this.a,this.b)},Zr.rgb=function(){return ri(this.l,this.a,this.b)},Q.rgb=zr;var li=zr.prototype=new Wr;function Vr(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Fr(e,i,p){var K,U,G,x=0,S=0,R=0;if(K=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(U=K[2].split(","),K[1]){case"hsl":return p(parseFloat(U[0]),parseFloat(U[1])/100,parseFloat(U[2])/100);case"rgb":return i(Yn(U[0]),Yn(U[1]),Yn(U[2]))}return(G=Cn.get(e))?i(G.r,G.g,G.b):(null!=e&&"#"===e.charAt(0)&&!isNaN(G=parseInt(e.slice(1),16))&&(4===e.length?(x=(3840&G)>>4,x|=x>>4,S=240&G,S|=S>>4,R=15&G,R|=R<<4):7===e.length&&(x=(16711680&G)>>16,S=(65280&G)>>8,R=255&G)),i(x,S,R))}function Un(e,i,p){var K,U,x=Math.min(e/=255,i/=255,p/=255),S=Math.max(e,i,p),R=S-x,G=(S+x)/2;return R?(U=G<.5?R/(S+x):R/(2-S-x),K=e==S?(i-p)/R+(i<p?6:0):i==S?(p-e)/R+2:(e-i)/R+4,K*=60):(K=NaN,U=G>0&&G<1?0:K),new Kn(K,U,G)}function We(e,i,p){var x=yi((.4124564*(e=Mn(e))+.3575761*(i=Mn(i))+.1804375*(p=Mn(p)))/ft),S=yi((.2126729*e+.7151522*i+.072175*p)/be);return me(116*S-16,500*(x-S),200*(S-yi((.0193339*e+.119192*i+.9503041*p)/dt)))}function Mn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Yn(e){var i=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*i):i}li.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var i=this.r,p=this.g,x=this.b,S=30;return i||p||x?(i&&i<S&&(i=S),p&&p<S&&(p=S),x&&x<S&&(x=S),new zr(Math.min(255,i/e),Math.min(255,p/e),Math.min(255,x/e))):new zr(S,S,S)},li.darker=function(e){return new zr((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},li.hsl=function(){return Un(this.r,this.g,this.b)},li.toString=function(){return"#"+Vr(this.r)+Vr(this.g)+Vr(this.b)};var Cn=Q.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Jn(e){return"function"==typeof e?e:function(){return e}}function Er(e){return function(i,p,x){return 2===arguments.length&&"function"==typeof p&&(x=p,p=null),Gr(i,p,e,x)}}function Gr(e,i,p,x){var S={},R=Q.dispatch("beforesend","progress","load","error"),K={},U=new XMLHttpRequest,G=null;function re(){var ge,ce=U.status;if(!ce&&function dr(e){var i=e.responseType;return i&&"text"!==i?e.response:e.responseText}(U)||ce>=200&&ce<300||304===ce){try{ge=p.call(S,U)}catch(we){return void R.error.call(S,we)}R.load.call(S,ge)}else R.error.call(S,U)}return this.XDomainRequest&&!("withCredentials"in U)&&/^(http(s)?:)?\/\//.test(e)&&(U=new XDomainRequest),"onload"in U?U.onload=U.onerror=re:U.onreadystatechange=function(){U.readyState>3&&re()},U.onprogress=function(ce){var ge=Q.event;Q.event=ce;try{R.progress.call(S,U)}finally{Q.event=ge}},S.header=function(ce,ge){return ce=(ce+"").toLowerCase(),arguments.length<2?K[ce]:(null==ge?delete K[ce]:K[ce]=ge+"",S)},S.mimeType=function(ce){return arguments.length?(i=null==ce?null:ce+"",S):i},S.responseType=function(ce){return arguments.length?(G=ce,S):G},S.response=function(ce){return p=ce,S},["get","post"].forEach(function(ce){S[ce]=function(){return S.send.apply(S,[ce].concat(Pe(arguments)))}}),S.send=function(ce,ge,we){if(2===arguments.length&&"function"==typeof ge&&(we=ge,ge=null),U.open(ce,e,!0),null!=i&&!("accept"in K)&&(K.accept=i+",*/*"),U.setRequestHeader)for(var Ne in K)U.setRequestHeader(Ne,K[Ne]);return null!=i&&U.overrideMimeType&&U.overrideMimeType(i),null!=G&&(U.responseType=G),null!=we&&S.on("error",we).on("load",function(Xe){we(null,Xe)}),R.beforesend.call(S,U),U.send(ge??null),S},S.abort=function(){return U.abort(),S},Q.rebind(S,R,"on"),null==x?S:S.get(function ci(e){return 1===e.length?function(i,p){e(null==i?p:null)}:e}(x))}Cn.forEach(function(e,i){Cn.set(e,ui(i))}),Q.functor=Jn,Q.xhr=Er(z),Q.dsv=function(e,i){var p=new RegExp('["'+e+"\n]"),x=e.charCodeAt(0);function S(re,ce,ge){arguments.length<3&&(ge=ce,ce=null);var we=Gr(re,i,null==ce?R:K(ce),ge);return we.row=function(Ne){return arguments.length?we.response(null==(ce=Ne)?R:K(Ne)):ce},we}function R(re){return S.parse(re.responseText)}function K(re){return function(ce){return S.parse(ce.responseText,re)}}function U(re){return re.map(G).join(e)}function G(re){return p.test(re)?'"'+re.replace(/\"/g,'""')+'"':re}return S.parse=function(re,ce){var ge;return S.parseRows(re,function(we,Ne){if(ge)return ge(we,Ne-1);var Xe=new Function("d","return {"+we.map(function(ke,Be){return JSON.stringify(ke)+": d["+Be+"]"}).join(",")+"}");ge=ce?function(ke,Be){return ce(Xe(ke),Be)}:Xe})},S.parseRows=function(re,ce){var Oe,$e,ge={},we={},Ne=[],Xe=re.length,ke=0,Be=0;function ze(){if(ke>=Xe)return we;if($e)return $e=!1,ge;var Tt=ke;if(34===re.charCodeAt(Tt)){for(var yt=Tt;yt++<Xe;)if(34===re.charCodeAt(yt)){if(34!==re.charCodeAt(yt+1))break;++yt}return ke=yt+2,13===(wt=re.charCodeAt(yt+1))?($e=!0,10===re.charCodeAt(yt+2)&&++ke):10===wt&&($e=!0),re.slice(Tt+1,yt).replace(/""/g,'"')}for(;ke<Xe;){var wt,vt=1;if(10===(wt=re.charCodeAt(ke++)))$e=!0;else if(13===wt)$e=!0,10===re.charCodeAt(ke)&&(++ke,++vt);else if(wt!==x)continue;return re.slice(Tt,ke-vt)}return re.slice(Tt)}for(;(Oe=ze())!==we;){for(var Ve=[];Oe!==ge&&Oe!==we;)Ve.push(Oe),Oe=ze();ce&&null==(Ve=ce(Ve,Be++))||Ne.push(Ve)}return Ne},S.format=function(re){if(Array.isArray(re[0]))return S.formatRows(re);var ce=new C,ge=[];return re.forEach(function(we){for(var Ne in we)ce.has(Ne)||ge.push(ce.add(Ne))}),[ge.map(G).join(e)].concat(re.map(function(we){return ge.map(function(Ne){return G(we[Ne])}).join(e)})).join("\n")},S.formatRows=function(re){return re.map(U).join("\n")},S},Q.csv=Q.dsv(",","text/csv"),Q.tsv=Q.dsv("\t","text/tab-separated-values");var Qr,di,hi,Ur,to=this[I(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function P(e,i,p){var x=arguments.length;x<2&&(i=0),x<3&&(p=Date.now());var R={c:e,t:p+i,n:null};return di?di.n=R:Qr=R,di=R,hi||(Ur=clearTimeout(Ur),hi=1,to(Z)),R}function Z(){var e=ie(),i=fe()-e;i>24?(isFinite(i)&&(clearTimeout(Ur),Ur=setTimeout(Z,i)),hi=0):(hi=1,to(Z))}function ie(){for(var e=Date.now(),i=Qr;i;)e>=i.t&&i.c(e-i.t)&&(i.c=null),i=i.n;return e}function fe(){for(var e,i=Qr,p=1/0;i;)i.c?(i.t<p&&(p=i.t),i=(e=i).n):i=e?e.n=i.n:Qr=i.n;return di=e,p}function ye(e,i){return i-(e?Math.ceil(Math.log(e)/Math.LN10):1)}Q.timer=function(){P.apply(this,arguments)},Q.timer.flush=function(){ie(),fe()},Q.round=function(e,i){return i?Math.round(e*(i=Math.pow(10,i)))/i:Math.round(e)};var Me=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(function Ce(e,i){var p=Math.pow(10,3*n(8-i));return{scale:i>8?function(x){return x/p}:function(x){return x*p},symbol:e}});function Ue(e){var i=e.decimal,p=e.thousands,x=e.grouping,S=e.currency,R=x&&p?function(K,U){for(var G=K.length,re=[],ce=0,ge=x[0],we=0;G>0&&ge>0&&(we+ge+1>U&&(ge=Math.max(1,U-we)),re.push(K.substring(G-=ge,G+ge)),!((we+=ge+1)>U));)ge=x[ce=(ce+1)%x.length];return re.reverse().join(p)}:z;return function(K){var U=Ge.exec(K),G=U[1]||" ",re=U[2]||">",ce=U[3]||"-",ge=U[4]||"",we=U[5],Ne=+U[6],Xe=U[7],ke=U[8],Be=U[9],Oe=1,$e="",ze="",Ve=!1,Tt=!0;switch(ke&&(ke=+ke.substring(1)),(we||"0"===G&&"="===re)&&(we=G="0",re="="),Be){case"n":Xe=!0,Be="g";break;case"%":Oe=100,ze="%",Be="f";break;case"p":Oe=100,ze="%",Be="r";break;case"b":case"o":case"x":case"X":"#"===ge&&($e="0"+Be.toLowerCase());case"c":Tt=!1;case"d":Ve=!0,ke=0;break;case"s":Oe=-1,Be="r"}"$"===ge&&($e=S[0],ze=S[1]),"r"==Be&&!ke&&(Be="g"),null!=ke&&("g"==Be?ke=Math.max(1,Math.min(21,ke)):("e"==Be||"f"==Be)&&(ke=Math.max(0,Math.min(20,ke)))),Be=_t.get(Be)||Ft;var yt=we&&Xe;return function(wt){var vt=ze;if(Ve&&wt%1)return"";var Zt=wt<0||0===wt&&1/wt<0?(wt=-wt,"-"):"-"===ce?"":ce;if(Oe<0){var rn=Q.formatPrefix(wt,ke);wt=rn.scale(wt),vt=rn.symbol+ze}else wt*=Oe;var bn,An,Ln=(wt=Be(wt,ke)).lastIndexOf(".");if(Ln<0){var Lt=Tt?wt.lastIndexOf("e"):-1;Lt<0?(bn=wt,An=""):(bn=wt.substring(0,Lt),An=wt.substring(Lt))}else bn=wt.substring(0,Ln),An=i+wt.substring(Ln+1);!we&&Xe&&(bn=R(bn,1/0));var en=$e.length+bn.length+An.length+(yt?0:Zt.length),dn=en<Ne?new Array(en=Ne-en+1).join(G):"";return yt&&(bn=R(dn+bn,dn.length?Ne-An.length:1/0)),Zt+=$e,wt=bn+An,("<"===re?Zt+wt+dn:">"===re?dn+Zt+wt:"^"===re?dn.substring(0,en>>=1)+Zt+wt+dn.substring(en):Zt+(yt?wt:dn+wt))+vt}}}Q.formatPrefix=function(e,i){var p=0;return(e=+e)&&(e<0&&(e*=-1),i&&(e=Q.round(e,ye(e,i))),p=1+Math.floor(1e-12+Math.log(e)/Math.LN10),p=Math.max(-24,Math.min(24,3*Math.floor((p-1)/3)))),Me[8+p/3]};var Ge=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,_t=Q.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,i){return e.toPrecision(i)},e:function(e,i){return e.toExponential(i)},f:function(e,i){return e.toFixed(i)},r:function(e,i){return(e=Q.round(e,ye(e,i))).toFixed(Math.max(0,Math.min(20,ye(e*(1+1e-15),i))))}});function Ft(e){return e+""}var lt=Q.time={},mt=Date;function Ut(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Ut.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Xt.setUTCDate.apply(this._,arguments)},setDay:function(){Xt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Xt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Xt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Xt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Xt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Xt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Xt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Xt.setTime.apply(this._,arguments)}};var Xt=Date.prototype;function It(e,i,p){function x(re){var ce=e(re),ge=R(ce,1);return re-ce<ge-re?ce:ge}function S(re){return i(re=e(new mt(re-1)),1),re}function R(re,ce){return i(re=new mt(+re),ce),re}function K(re,ce,ge){var we=S(re),Ne=[];if(ge>1)for(;we<ce;)p(we)%ge||Ne.push(new Date(+we)),i(we,1);else for(;we<ce;)Ne.push(new Date(+we)),i(we,1);return Ne}e.floor=e,e.round=x,e.ceil=S,e.offset=R,e.range=K;var G=e.utc=jt(e);return G.floor=G,G.round=jt(x),G.ceil=jt(S),G.offset=jt(R),G.range=function U(re,ce,ge){try{mt=Ut;var we=new Ut;return we._=re,K(we,ce,ge)}finally{mt=Date}},e}function jt(e){return function(i,p){try{mt=Ut;var x=new Ut;return x._=i,e(x,p)._}finally{mt=Date}}}function Pt(e){var i=e.dateTime,p=e.date,x=e.time,S=e.periods,R=e.days,K=e.shortDays,U=e.months,G=e.shortMonths;function re(Lt){var en=Lt.length;function dn(zt){for(var lr,Nr,qr,hn=[],Wn=-1,tr=0;++Wn<en;)37===Lt.charCodeAt(Wn)&&(hn.push(Lt.slice(tr,Wn)),null!=(Nr=un[lr=Lt.charAt(++Wn)])&&(lr=Lt.charAt(++Wn)),(qr=Ve[lr])&&(lr=qr(zt,Nr??("e"===lr?" ":"0"))),hn.push(lr),tr=Wn+1);return hn.push(Lt.slice(tr,Wn)),hn.join("")}return dn.parse=function(zt){var hn={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(ce(hn,Lt,zt,0)!=zt.length)return null;"p"in hn&&(hn.H=hn.H%12+12*hn.p);var tr=null!=hn.Z&&mt!==Ut,lr=new(tr?Ut:mt);return"j"in hn?lr.setFullYear(hn.y,0,hn.j):"W"in hn||"U"in hn?("w"in hn||(hn.w="W"in hn?1:0),lr.setFullYear(hn.y,0,1),lr.setFullYear(hn.y,0,"W"in hn?(hn.w+6)%7+7*hn.W-(lr.getDay()+5)%7:hn.w+7*hn.U-(lr.getDay()+6)%7)):lr.setFullYear(hn.y,hn.m,hn.d),lr.setHours(hn.H+(hn.Z/100|0),hn.M+hn.Z%100,hn.S,hn.L),tr?lr._:lr},dn.toString=function(){return Lt},dn}function ce(Lt,en,dn,zt){for(var hn,Wn,tr,lr=0,Nr=en.length,qr=dn.length;lr<Nr;){if(zt>=qr)return-1;if(37===(hn=en.charCodeAt(lr++))){if(tr=en.charAt(lr++),!(Wn=Tt[tr in un?en.charAt(lr++):tr])||(zt=Wn(Lt,dn,zt))<0)return-1}else if(hn!=dn.charCodeAt(zt++))return-1}return zt}re.utc=function(Lt){var en=re(Lt);function dn(zt){try{var hn=new(mt=Ut);return hn._=zt,en(hn)}finally{mt=Date}}return dn.parse=function(zt){try{mt=Ut;var hn=en.parse(zt);return hn&&hn._}finally{mt=Date}},dn.toString=en.toString,dn},re.multi=re.utc.multi=En;var ge=Q.map(),we=xr(R),Ne=kr(R),Xe=xr(K),ke=kr(K),Be=xr(U),Oe=kr(U),$e=xr(G),ze=kr(G);S.forEach(function(Lt,en){ge.set(Lt.toLowerCase(),en)});var Ve={a:function(Lt){return K[Lt.getDay()]},A:function(Lt){return R[Lt.getDay()]},b:function(Lt){return G[Lt.getMonth()]},B:function(Lt){return U[Lt.getMonth()]},c:re(i),d:function(Lt,en){return Hn(Lt.getDate(),en,2)},e:function(Lt,en){return Hn(Lt.getDate(),en,2)},H:function(Lt,en){return Hn(Lt.getHours(),en,2)},I:function(Lt,en){return Hn(Lt.getHours()%12||12,en,2)},j:function(Lt,en){return Hn(1+lt.dayOfYear(Lt),en,3)},L:function(Lt,en){return Hn(Lt.getMilliseconds(),en,3)},m:function(Lt,en){return Hn(Lt.getMonth()+1,en,2)},M:function(Lt,en){return Hn(Lt.getMinutes(),en,2)},p:function(Lt){return S[+(Lt.getHours()>=12)]},S:function(Lt,en){return Hn(Lt.getSeconds(),en,2)},U:function(Lt,en){return Hn(lt.sundayOfYear(Lt),en,2)},w:function(Lt){return Lt.getDay()},W:function(Lt,en){return Hn(lt.mondayOfYear(Lt),en,2)},x:re(p),X:re(x),y:function(Lt,en){return Hn(Lt.getFullYear()%100,en,2)},Y:function(Lt,en){return Hn(Lt.getFullYear()%1e4,en,4)},Z:xn,"%":function(){return"%"}},Tt={a:function yt(Lt,en,dn){Xe.lastIndex=0;var zt=Xe.exec(en.slice(dn));return zt?(Lt.w=ke.get(zt[0].toLowerCase()),dn+zt[0].length):-1},A:function wt(Lt,en,dn){we.lastIndex=0;var zt=we.exec(en.slice(dn));return zt?(Lt.w=Ne.get(zt[0].toLowerCase()),dn+zt[0].length):-1},b:function vt(Lt,en,dn){$e.lastIndex=0;var zt=$e.exec(en.slice(dn));return zt?(Lt.m=ze.get(zt[0].toLowerCase()),dn+zt[0].length):-1},B:function Zt(Lt,en,dn){Be.lastIndex=0;var zt=Be.exec(en.slice(dn));return zt?(Lt.m=Oe.get(zt[0].toLowerCase()),dn+zt[0].length):-1},c:function rn(Lt,en,dn){return ce(Lt,Ve.c.toString(),en,dn)},d:$n,e:$n,H:Re,I:Re,j:Ke,L:nn,m:cn,M:bt,p:function An(Lt,en,dn){var zt=ge.get(en.slice(dn,dn+=2).toLowerCase());return null==zt?-1:(Lt.p=zt,dn)},S:Et,U:ir,w:rr,W:or,x:function Ln(Lt,en,dn){return ce(Lt,Ve.x.toString(),en,dn)},X:function bn(Lt,en,dn){return ce(Lt,Ve.X.toString(),en,dn)},y:Fe,Y:fi,Z:St,"%":fn};return re}lt.year=It(function(e){return(e=lt.day(e)).setMonth(0,1),e},function(e,i){e.setFullYear(e.getFullYear()+i)},function(e){return e.getFullYear()}),lt.years=lt.year.range,lt.years.utc=lt.year.utc.range,lt.day=It(function(e){var i=new mt(2e3,0);return i.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),i},function(e,i){e.setDate(e.getDate()+i)},function(e){return e.getDate()-1}),lt.days=lt.day.range,lt.days.utc=lt.day.utc.range,lt.dayOfYear=function(e){var i=lt.year(e);return Math.floor((e-i-6e4*(e.getTimezoneOffset()-i.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,i){i=7-i;var p=lt[e]=It(function(x){return(x=lt.day(x)).setDate(x.getDate()-(x.getDay()+i)%7),x},function(x,S){x.setDate(x.getDate()+7*Math.floor(S))},function(x){var S=lt.year(x).getDay();return Math.floor((lt.dayOfYear(x)+(S+i)%7)/7)-(S!==i)});lt[e+"s"]=p.range,lt[e+"s"].utc=p.utc.range,lt[e+"OfYear"]=function(x){var S=lt.year(x).getDay();return Math.floor((lt.dayOfYear(x)+(S+i)%7)/7)}}),lt.week=lt.sunday,lt.weeks=lt.sunday.range,lt.weeks.utc=lt.sunday.utc.range,lt.weekOfYear=lt.sundayOfYear;var un={"-":"",_:" ",0:"0"},tn=/^\s*\d+/,an=/^%/;function Hn(e,i,p){var x=e<0?"-":"",S=(x?-e:e)+"",R=S.length;return x+(R<p?new Array(p-R+1).join(i)+S:S)}function xr(e){return new RegExp("^(?:"+e.map(Q.requote).join("|")+")","i")}function kr(e){for(var i=new s,p=-1,x=e.length;++p<x;)i.set(e[p].toLowerCase(),p);return i}function rr(e,i,p){tn.lastIndex=0;var x=tn.exec(i.slice(p,p+1));return x?(e.w=+x[0],p+x[0].length):-1}function ir(e,i,p){tn.lastIndex=0;var x=tn.exec(i.slice(p));return x?(e.U=+x[0],p+x[0].length):-1}function or(e,i,p){tn.lastIndex=0;var x=tn.exec(i.slice(p));return x?(e.W=+x[0],p+x[0].length):-1}function fi(e,i,p){tn.lastIndex=0;var x=tn.exec(i.slice(p,p+4));return x?(e.y=+x[0],p+x[0].length):-1}function Fe(e,i,p){tn.lastIndex=0;var x=tn.exec(i.slice(p,p+2));return x?(e.y=function Vt(e){return e+(e>68?1900:2e3)}(+x[0]),p+x[0].length):-1}function St(e,i,p){return/^[+-]\d{4}$/.test(i=i.slice(p,p+5))?(e.Z=-i,p+5):-1}function cn(e,i,p){tn.lastIndex=0;var x=tn.exec(i.slice(p,p+2));return x?(e.m=x[0]-1,p+x[0].length):-1}function $n(e,i,p){tn.lastIndex=0;var x=tn.exec(i.slice(p,p+2));return x?(e.d=+x[0],p+x[0].length):-1}function Ke(e,i,p){tn.lastIndex=0;var x=tn.exec(i.slice(p,p+3));return x?(e.j=+x[0],p+x[0].length):-1}function Re(e,i,p){tn.lastIndex=0;var x=tn.exec(i.slice(p,p+2));return x?(e.H=+x[0],p+x[0].length):-1}function bt(e,i,p){tn.lastIndex=0;var x=tn.exec(i.slice(p,p+2));return x?(e.M=+x[0],p+x[0].length):-1}function Et(e,i,p){tn.lastIndex=0;var x=tn.exec(i.slice(p,p+2));return x?(e.S=+x[0],p+x[0].length):-1}function nn(e,i,p){tn.lastIndex=0;var x=tn.exec(i.slice(p,p+3));return x?(e.L=+x[0],p+x[0].length):-1}function xn(e){var i=e.getTimezoneOffset(),p=i>0?"-":"+",x=n(i)/60|0,S=n(i)%60;return p+Hn(x,"0",2)+Hn(S,"0",2)}function fn(e,i,p){an.lastIndex=0;var x=an.exec(i.slice(p,p+1));return x?p+x[0].length:-1}function En(e){for(var i=e.length,p=-1;++p<i;)e[p][0]=this(e[p][0]);return function(x){for(var S=0,R=e[S];!R[1](x);)R=e[++S];return R[0](x)}}Q.locale=function(e){return{numberFormat:Ue(e),timeFormat:Pt(e)}};var yn=Q.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Pn(){}Q.format=yn.numberFormat,Q.geo={},Pn.prototype={s:0,t:0,add:function(e){_r(e,this.t,qn),_r(qn.s,this.s,this),this.s?this.t+=qn.t:this.s=qn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var qn=new Pn;function _r(e,i,p){var x=p.s=e+i,S=x-e;p.t=e-(x-S)+(i-S)}function nr(e,i){e&&gr.hasOwnProperty(e.type)&&gr[e.type](e,i)}Q.geo.stream=function(e,i){e&&Cr.hasOwnProperty(e.type)?Cr[e.type](e,i):nr(e,i)};var Cr={Feature:function(e,i){nr(e.geometry,i)},FeatureCollection:function(e,i){for(var p=e.features,x=-1,S=p.length;++x<S;)nr(p[x].geometry,i)}},gr={Sphere:function(e,i){i.sphere()},Point:function(e,i){i.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,i){for(var p=e.coordinates,x=-1,S=p.length;++x<S;)i.point((e=p[x])[0],e[1],e[2])},LineString:function(e,i){Tr(e.coordinates,i,0)},MultiLineString:function(e,i){for(var p=e.coordinates,x=-1,S=p.length;++x<S;)Tr(p[x],i,0)},Polygon:function(e,i){br(e.coordinates,i)},MultiPolygon:function(e,i){for(var p=e.coordinates,x=-1,S=p.length;++x<S;)br(p[x],i)},GeometryCollection:function(e,i){for(var p=e.geometries,x=-1,S=p.length;++x<S;)nr(p[x],i)}};function Tr(e,i,p){var R,x=-1,S=e.length-p;for(i.lineStart();++x<S;)i.point((R=e[x])[0],R[1],R[2]);i.lineEnd()}function br(e,i){var p=-1,x=e.length;for(i.polygonStart();++p<x;)Tr(e[p],i,1);i.polygonEnd()}Q.geo.area=function(e){return Lr=0,Q.geo.stream(e,ni),Lr};var Lr,yr=new Pn,ni={sphere:function(){Lr+=4*de},point:$,lineStart:$,lineEnd:$,polygonStart:function(){yr.reset(),ni.lineStart=wi},polygonEnd:function(){var e=2*yr;Lr+=e<0?4*de+e:e,ni.lineStart=ni.lineEnd=ni.point=$}};function wi(){var e,i,p,x,S;function R(K,U){U=U*Ze/2+de/4;var G=(K*=Ze)-p,re=G>=0?1:-1,ce=re*G,ge=Math.cos(U),we=Math.sin(U),Ne=S*we,Xe=x*ge+Ne*Math.cos(ce),ke=Ne*re*Math.sin(ce);yr.add(Math.atan2(ke,Xe)),p=K,x=ge,S=we}ni.point=function(K,U){ni.point=R,p=(e=K)*Ze,x=Math.cos(U=(i=U)*Ze/2+de/4),S=Math.sin(U)},ni.lineEnd=function(){R(e,i)}}function pi(e){var i=e[0],p=e[1],x=Math.cos(p);return[x*Math.cos(i),x*Math.sin(i),Math.sin(p)]}function gi(e,i){return e[0]*i[0]+e[1]*i[1]+e[2]*i[2]}function ei(e,i){return[e[1]*i[2]-e[2]*i[1],e[2]*i[0]-e[0]*i[2],e[0]*i[1]-e[1]*i[0]]}function $i(e,i){e[0]+=i[0],e[1]+=i[1],e[2]+=i[2]}function Xi(e,i){return[e[0]*i,e[1]*i,e[2]*i]}function Ni(e){var i=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=i,e[1]/=i,e[2]/=i}function mi(e){return[Math.atan2(e[1],e[0]),Ot(e[2])]}function Vi(e,i){return n(e[0]-i[0])<Rt&&n(e[1]-i[1])<Rt}Q.geo.bounds=function(){var e,i,p,x,S,R,K,U,G,re,ce,ge={point:we,lineStart:Xe,lineEnd:ke,polygonStart:function(){ge.point=Be,ge.lineStart=Oe,ge.lineEnd=$e,G=0,ni.polygonStart()},polygonEnd:function(){ni.polygonEnd(),ge.point=we,ge.lineStart=Xe,ge.lineEnd=ke,yr<0?(e=-(p=180),i=-(x=90)):G>Rt?x=90:G<-Rt&&(i=-90),ce[0]=e,ce[1]=p}};function we(yt,wt){re.push(ce=[e=yt,p=yt]),wt<i&&(i=wt),wt>x&&(x=wt)}function Ne(yt,wt){var vt=pi([yt*Ze,wt*Ze]);if(U){var Zt=ei(U,vt),Ln=ei([Zt[1],-Zt[0],0],Zt);Ni(Ln),Ln=mi(Ln);var bn=yt-S,An=bn>0?1:-1,Lt=Ln[0]*Ct*An,en=n(bn)>180;if(en^(An*S<Lt&&Lt<An*yt))(dn=Ln[1]*Ct)>x&&(x=dn);else if(en^(An*S<(Lt=(Lt+360)%360-180)&&Lt<An*yt)){var dn;(dn=-Ln[1]*Ct)<i&&(i=dn)}else wt<i&&(i=wt),wt>x&&(x=wt);en?yt<S?ze(e,yt)>ze(e,p)&&(p=yt):ze(yt,p)>ze(e,p)&&(e=yt):p>=e?(yt<e&&(e=yt),yt>p&&(p=yt)):yt>S?ze(e,yt)>ze(e,p)&&(p=yt):ze(yt,p)>ze(e,p)&&(e=yt)}else we(yt,wt);U=vt,S=yt}function Xe(){ge.point=Ne}function ke(){ce[0]=e,ce[1]=p,ge.point=we,U=null}function Be(yt,wt){if(U){var vt=yt-S;G+=n(vt)>180?vt+(vt>0?360:-360):vt}else R=yt,K=wt;ni.point(yt,wt),Ne(yt,wt)}function Oe(){ni.lineStart()}function $e(){Be(R,K),ni.lineEnd(),n(G)>Rt&&(e=-(p=180)),ce[0]=e,ce[1]=p,U=null}function ze(yt,wt){return(wt-=yt)<0?wt+360:wt}function Ve(yt,wt){return yt[0]-wt[0]}function Tt(yt,wt){return wt[0]<=wt[1]?wt[0]<=yt&&yt<=wt[1]:yt<wt[0]||wt[1]<yt}return function(yt){if(x=p=-(e=i=1/0),re=[],Q.geo.stream(yt,ge),wt=re.length){re.sort(Ve);for(var vt=1,Ln=[Zt=re[0]];vt<wt;++vt)Tt((rn=re[vt])[0],Zt)||Tt(rn[1],Zt)?(ze(Zt[0],rn[1])>ze(Zt[0],Zt[1])&&(Zt[1]=rn[1]),ze(rn[0],Zt[1])>ze(Zt[0],Zt[1])&&(Zt[0]=rn[0])):Ln.push(Zt=rn);for(var An,wt,rn,bn=-1/0,Zt=(vt=0,Ln[wt=Ln.length-1]);vt<=wt;Zt=rn,++vt)(An=ze(Zt[1],(rn=Ln[vt])[0]))>bn&&(bn=An,e=rn[0],p=Zt[1])}return re=ce=null,e===1/0||i===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,i],[p,x]]}}(),Q.geo.centroid=function(e){zi=Ui=Ai=Ii=_i=Pi=Gi=ji=Te=Ye=it=0,Q.geo.stream(e,pt);var i=Te,p=Ye,x=it,S=i*i+p*p+x*x;return S<vr&&(i=Pi,p=Gi,x=ji,Ui<Rt&&(i=Ai,p=Ii,x=_i),(S=i*i+p*p+x*x)<vr)?[NaN,NaN]:[Math.atan2(p,i)*Ct,Ot(x/Math.sqrt(S))*Ct]};var zi,Ui,Ai,Ii,_i,Pi,Gi,ji,Te,Ye,it,pt={sphere:$,point:Wt,lineStart:Kt,lineEnd:Qt,polygonStart:function(){pt.lineStart=pn},polygonEnd:function(){pt.lineStart=Kt}};function Wt(e,i){e*=Ze;var p=Math.cos(i*=Ze);Mt(p*Math.cos(e),p*Math.sin(e),Math.sin(i))}function Mt(e,i,p){++zi,Ai+=(e-Ai)/zi,Ii+=(i-Ii)/zi,_i+=(p-_i)/zi}function Kt(){var e,i,p;function x(S,R){S*=Ze;var K=Math.cos(R*=Ze),U=K*Math.cos(S),G=K*Math.sin(S),re=Math.sin(R),ce=Math.atan2(Math.sqrt((ce=i*re-p*G)*ce+(ce=p*U-e*re)*ce+(ce=e*G-i*U)*ce),e*U+i*G+p*re);Ui+=ce,Pi+=ce*(e+(e=U)),Gi+=ce*(i+(i=G)),ji+=ce*(p+(p=re)),Mt(e,i,p)}pt.point=function(S,R){S*=Ze;var K=Math.cos(R*=Ze);e=K*Math.cos(S),i=K*Math.sin(S),p=Math.sin(R),pt.point=x,Mt(e,i,p)}}function Qt(){pt.point=Wt}function pn(){var e,i,p,x,S;function R(K,U){K*=Ze;var G=Math.cos(U*=Ze),re=G*Math.cos(K),ce=G*Math.sin(K),ge=Math.sin(U),we=x*ge-S*ce,Ne=S*re-p*ge,Xe=p*ce-x*re,ke=Math.sqrt(we*we+Ne*Ne+Xe*Xe),Be=p*re+x*ce+S*ge,Oe=ke&&-ln(Be)/ke,$e=Math.atan2(ke,Be);Te+=Oe*we,Ye+=Oe*Ne,it+=Oe*Xe,Ui+=$e,Pi+=$e*(p+(p=re)),Gi+=$e*(x+(x=ce)),ji+=$e*(S+(S=ge)),Mt(p,x,S)}pt.point=function(K,U){e=K,i=U,pt.point=R,K*=Ze;var G=Math.cos(U*=Ze);p=G*Math.cos(K),x=G*Math.sin(K),S=Math.sin(U),Mt(p,x,S)},pt.lineEnd=function(){R(e,i),pt.lineEnd=Qt,pt.point=Wt}}function jn(e,i){function p(x,S){return x=e(x,S),i(x[0],x[1])}return e.invert&&i.invert&&(p.invert=function(x,S){return(x=i.invert(x,S))&&e.invert(x[0],x[1])}),p}function Fn(){return!0}function sr(e,i,p,x,S){var R=[],K=[];if(e.forEach(function(ke){if(!((Be=ke.length-1)<=0)){var Be,Oe=ke[0],$e=ke[Be];if(Vi(Oe,$e)){S.lineStart();for(var ze=0;ze<Be;++ze)S.point((Oe=ke[ze])[0],Oe[1]);return void S.lineEnd()}var Ve=new ii(Oe,ke,null,!0),Tt=new ii(Oe,null,Ve,!1);Ve.o=Tt,R.push(Ve),K.push(Tt),Ve=new ii($e,ke,null,!1),Tt=new ii($e,null,Ve,!0),Ve.o=Tt,R.push(Ve),K.push(Tt)}}),K.sort(i),jr(R),jr(K),R.length){for(var U=0,G=p,re=K.length;U<re;++U)K[U].e=G=!G;for(var ge,we,ce=R[0];;){for(var Ne=ce,Xe=!0;Ne.v;)if((Ne=Ne.n)===ce)return;ge=Ne.z,S.lineStart();do{if(Ne.v=Ne.o.v=!0,Ne.e){if(Xe)for(U=0,re=ge.length;U<re;++U)S.point((we=ge[U])[0],we[1]);else x(Ne.x,Ne.n.x,1,S);Ne=Ne.n}else{if(Xe)for(U=(ge=Ne.p.z).length-1;U>=0;--U)S.point((we=ge[U])[0],we[1]);else x(Ne.x,Ne.p.x,-1,S);Ne=Ne.p}ge=(Ne=Ne.o).z,Xe=!Xe}while(!Ne.v);S.lineEnd()}}}function jr(e){if(i=e.length){for(var i,S,p=0,x=e[0];++p<i;)x.n=S=e[p],S.p=x,x=S;x.n=S=e[0],S.p=x}}function ii(e,i,p,x){this.x=e,this.z=i,this.o=p,this.e=x,this.v=!1,this.n=this.p=null}function ti(e,i,p,x){return function(S,R){var K=i(R),U=S.invert(x[0],x[1]),G={point:re,lineStart:ge,lineEnd:we,polygonStart:function(){G.point=ze,G.lineStart=Ve,G.lineEnd=Tt,Ne=[],Oe=[]},polygonEnd:function(){G.point=re,G.lineStart=ge,G.lineEnd=we,Ne=Q.merge(Ne);var yt=function ro(e,i){var p=e[0],x=e[1],S=[Math.sin(p),-Math.cos(p),0],R=0,K=0;yr.reset();for(var U=0,G=i.length;U<G;++U){var re=i[U],ce=re.length;if(ce)for(var ge=re[0],we=ge[0],Ne=ge[1]/2+de/4,Xe=Math.sin(Ne),ke=Math.cos(Ne),Be=1;;){Be===ce&&(Be=0);var Oe=(e=re[Be])[0],$e=e[1]/2+de/4,ze=Math.sin($e),Ve=Math.cos($e),Tt=Oe-we,yt=Tt>=0?1:-1,wt=yt*Tt,vt=wt>de,Zt=Xe*ze;if(yr.add(Math.atan2(Zt*yt*Math.sin(wt),ke*Ve+Zt*Math.cos(wt))),R+=vt?Tt+yt*Le:Tt,vt^we>=p^Oe>=p){var rn=ei(pi(ge),pi(e));Ni(rn);var Ln=ei(S,rn);Ni(Ln);var bn=(vt^Tt>=0?-1:1)*Ot(Ln[2]);(x>bn||x===bn&&(rn[0]||rn[1]))&&(K+=vt^Tt>=0?1:-1)}if(!Be++)break;we=Oe,Xe=ze,ke=Ve,ge=e}}return(R<-Rt||R<Rt&&yr<-Rt)^1&K}(U,Oe);Ne.length?(Be||(R.polygonStart(),Be=!0),sr(Ne,Fi,yt,p,R)):yt&&(Be||(R.polygonStart(),Be=!0),R.lineStart(),p(null,null,1,R),R.lineEnd()),Be&&(R.polygonEnd(),Be=!1),Ne=Oe=null},sphere:function(){R.polygonStart(),R.lineStart(),p(null,null,1,R),R.lineEnd(),R.polygonEnd()}};function re(yt,wt){var vt=S(yt,wt);e(yt=vt[0],wt=vt[1])&&R.point(yt,wt)}function ce(yt,wt){var vt=S(yt,wt);K.point(vt[0],vt[1])}function ge(){G.point=ce,K.lineStart()}function we(){G.point=re,K.lineEnd()}var Ne,Oe,$e,Xe=Yr(),ke=i(Xe),Be=!1;function ze(yt,wt){$e.push([yt,wt]);var vt=S(yt,wt);ke.point(vt[0],vt[1])}function Ve(){ke.lineStart(),$e=[]}function Tt(){ze($e[0][0],$e[0][1]),ke.lineEnd();var vt,yt=ke.clean(),wt=Xe.buffer(),Zt=wt.length;if($e.pop(),Oe.push($e),$e=null,Zt){if(1&yt){var Ln,rn=-1;if((Zt=(vt=wt[0]).length-1)>0){for(Be||(R.polygonStart(),Be=!0),R.lineStart();++rn<Zt;)R.point((Ln=vt[rn])[0],Ln[1]);R.lineEnd()}return}Zt>1&&2&yt&&wt.push(wt.pop().concat(wt.shift())),Ne.push(wt.filter(Or))}}return G}}function Or(e){return e.length>1}function Yr(){var i,e=[];return{lineStart:function(){e.push(i=[])},point:function(p,x){i.push([p,x])},lineEnd:$,buffer:function(){var p=e;return e=[],i=null,p},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Fi(e,i){return((e=e.x)[0]<0?e[1]-qe-Rt:qe-e[1])-((i=i.x)[0]<0?i[1]-qe-Rt:qe-i[1])}var no=ti(Fn,function Hi(e){var S,i=NaN,p=NaN,x=NaN;return{lineStart:function(){e.lineStart(),S=1},point:function(R,K){var U=R>0?de:-de,G=n(R-i);n(G-de)<Rt?(e.point(i,p=(p+K)/2>0?qe:-qe),e.point(x,p),e.lineEnd(),e.lineStart(),e.point(U,p),e.point(R,p),S=0):x!==U&&G>=de&&(n(i-x)<Rt&&(i-=x*Rt),n(R-U)<Rt&&(R-=U*Rt),p=function ao(e,i,p,x){var S,R,K=Math.sin(e-p);return n(K)>Rt?Math.atan((Math.sin(i)*(R=Math.cos(x))*Math.sin(p)-Math.sin(x)*(S=Math.cos(i))*Math.sin(e))/(S*R*K)):(i+x)/2}(i,p,R,K),e.point(x,p),e.lineEnd(),e.lineStart(),e.point(U,p),S=0),e.point(i=R,p=K),x=U},lineEnd:function(){e.lineEnd(),i=p=NaN},clean:function(){return 2-S}}},function Zi(e,i,p,x){var S;if(null==e)x.point(-de,S=p*qe),x.point(0,S),x.point(de,S),x.point(de,0),x.point(de,-S),x.point(0,-S),x.point(-de,-S),x.point(-de,0),x.point(-de,S);else if(n(e[0]-i[0])>Rt){var R=e[0]<i[0]?de:-de;x.point(-R,S=p*R/2),x.point(0,S),x.point(R,S)}else x.point(i[0],i[1])},[-de,-de/2]);function ko(e,i,p,x){return function(S){var ke,R=S.a,K=S.b,U=R.x,G=R.y,ge=0,we=1,Ne=K.x-U,Xe=K.y-G;if(ke=e-U,Ne||!(ke>0)){if(ke/=Ne,Ne<0){if(ke<ge)return;ke<we&&(we=ke)}else if(Ne>0){if(ke>we)return;ke>ge&&(ge=ke)}if(ke=p-U,Ne||!(ke<0)){if(ke/=Ne,Ne<0){if(ke>we)return;ke>ge&&(ge=ke)}else if(Ne>0){if(ke<ge)return;ke<we&&(we=ke)}if(ke=i-G,Xe||!(ke>0)){if(ke/=Xe,Xe<0){if(ke<ge)return;ke<we&&(we=ke)}else if(Xe>0){if(ke>we)return;ke>ge&&(ge=ke)}if(ke=x-G,Xe||!(ke<0)){if(ke/=Xe,Xe<0){if(ke>we)return;ke>ge&&(ge=ke)}else if(Xe>0){if(ke<ge)return;ke<we&&(we=ke)}return ge>0&&(S.a={x:U+ge*Ne,y:G+ge*Xe}),we<1&&(S.b={x:U+we*Ne,y:G+we*Xe}),S}}}}}}var Ao=1e9;function Yo(e,i,p,x){return function(U){var ge,we,Ne,ze,Ve,Tt,yt,wt,vt,Zt,rn,G=U,re=Yr(),ce=ko(e,i,p,x),Xe={point:$e,lineStart:function Ln(){Xe.point=An,we&&we.push(Ne=[]),Zt=!0,vt=!1,yt=wt=NaN},lineEnd:function bn(){ge&&(An(ze,Ve),Tt&&vt&&re.rejoin(),ge.push(re.buffer())),Xe.point=$e,vt&&U.lineEnd()},polygonStart:function(){U=re,ge=[],we=[],rn=!0},polygonEnd:function(){U=G,ge=Q.merge(ge);var Lt=function ke(Lt){for(var en=0,dn=we.length,zt=Lt[1],hn=0;hn<dn;++hn)for(var qr,Wn=1,tr=we[hn],lr=tr.length,Nr=tr[0];Wn<lr;++Wn)qr=tr[Wn],Nr[1]<=zt?qr[1]>zt&&Bt(Nr,qr,Lt)>0&&++en:qr[1]<=zt&&Bt(Nr,qr,Lt)<0&&--en,Nr=qr;return 0!==en}([e,x]),en=rn&&Lt,dn=ge.length;(en||dn)&&(U.polygonStart(),en&&(U.lineStart(),Be(null,null,1,U),U.lineEnd()),dn&&sr(ge,R,Lt,Be,U),U.polygonEnd()),ge=we=Ne=null}};function Be(Lt,en,dn,zt){var hn=0,Wn=0;if(null==Lt||(hn=S(Lt,dn))!==(Wn=S(en,dn))||K(Lt,en)<0^dn>0)do{zt.point(0===hn||3===hn?e:p,hn>1?x:i)}while((hn=(hn+dn+4)%4)!==Wn);else zt.point(en[0],en[1])}function Oe(Lt,en){return e<=Lt&&Lt<=p&&i<=en&&en<=x}function $e(Lt,en){Oe(Lt,en)&&U.point(Lt,en)}function An(Lt,en){var dn=Oe(Lt=Math.max(-Ao,Math.min(Ao,Lt)),en=Math.max(-Ao,Math.min(Ao,en)));if(we&&Ne.push([Lt,en]),Zt)ze=Lt,Ve=en,Tt=dn,Zt=!1,dn&&(U.lineStart(),U.point(Lt,en));else if(dn&&vt)U.point(Lt,en);else{var zt={a:{x:yt,y:wt},b:{x:Lt,y:en}};ce(zt)?(vt||(U.lineStart(),U.point(zt.a.x,zt.a.y)),U.point(zt.b.x,zt.b.y),dn||U.lineEnd(),rn=!1):dn&&(U.lineStart(),U.point(Lt,en),rn=!1)}yt=Lt,wt=en,vt=dn}return Xe};function S(U,G){return n(U[0]-e)<Rt?G>0?0:3:n(U[0]-p)<Rt?G>0?2:1:n(U[1]-i)<Rt?G>0?1:0:G>0?3:2}function R(U,G){return K(U.x,G.x)}function K(U,G){var re=S(U,1),ce=S(G,1);return re!==ce?re-ce:0===re?G[1]-U[1]:1===re?U[0]-G[0]:2===re?U[1]-G[1]:G[0]-U[0]}}function Do(e){var i=0,p=de/3,x=mr(e),S=x(i,p);return S.parallels=function(R){return arguments.length?x(i=R[0]*de/180,p=R[1]*de/180):[i/de*180,p/de*180]},S}function bo(e,i){var p=Math.sin(e),x=(p+Math.sin(i))/2,S=1+p*(2*x-p),R=Math.sqrt(S)/x;function K(U,G){var re=Math.sqrt(S-2*x*Math.sin(G))/x;return[re*Math.sin(U*=x),R-re*Math.cos(U)]}return K.invert=function(U,G){var re=R-G;return[Math.atan2(U,re)/x,Ot((S-(U*U+re*re)*x*x)/(2*x))]},K}Q.geo.clipExtent=function(){var e,i,p,x,S,R,K={stream:function(U){return S&&(S.valid=!1),(S=R(U)).valid=!0,S},extent:function(U){return arguments.length?(R=Yo(e=+U[0][0],i=+U[0][1],p=+U[1][0],x=+U[1][1]),S&&(S.valid=!1,S=null),K):[[e,i],[p,x]]}};return K.extent([[0,0],[960,500]])},(Q.geo.conicEqualArea=function(){return Do(bo)}).raw=bo,Q.geo.albers=function(){return Q.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Q.geo.albersUsa=function(){var x,R,K,U,e=Q.geo.albers(),i=Q.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=Q.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),S={point:function(re,ce){x=[re,ce]}};function G(re){var ce=re[0],ge=re[1];return x=null,R(ce,ge),x||(K(ce,ge),x)||U(ce,ge),x}return G.invert=function(re){var ce=e.scale(),ge=e.translate(),we=(re[0]-ge[0])/ce,Ne=(re[1]-ge[1])/ce;return(Ne>=.12&&Ne<.234&&we>=-.425&&we<-.214?i:Ne>=.166&&Ne<.234&&we>=-.214&&we<-.115?p:e).invert(re)},G.stream=function(re){var ce=e.stream(re),ge=i.stream(re),we=p.stream(re);return{point:function(Ne,Xe){ce.point(Ne,Xe),ge.point(Ne,Xe),we.point(Ne,Xe)},sphere:function(){ce.sphere(),ge.sphere(),we.sphere()},lineStart:function(){ce.lineStart(),ge.lineStart(),we.lineStart()},lineEnd:function(){ce.lineEnd(),ge.lineEnd(),we.lineEnd()},polygonStart:function(){ce.polygonStart(),ge.polygonStart(),we.polygonStart()},polygonEnd:function(){ce.polygonEnd(),ge.polygonEnd(),we.polygonEnd()}}},G.precision=function(re){return arguments.length?(e.precision(re),i.precision(re),p.precision(re),G):e.precision()},G.scale=function(re){return arguments.length?(e.scale(re),i.scale(.35*re),p.scale(re),G.translate(e.translate())):e.scale()},G.translate=function(re){if(!arguments.length)return e.translate();var ce=e.scale(),ge=+re[0],we=+re[1];return R=e.translate(re).clipExtent([[ge-.455*ce,we-.238*ce],[ge+.455*ce,we+.238*ce]]).stream(S).point,K=i.translate([ge-.307*ce,we+.201*ce]).clipExtent([[ge-.425*ce+Rt,we+.12*ce+Rt],[ge-.214*ce-Rt,we+.234*ce-Rt]]).stream(S).point,U=p.translate([ge-.205*ce,we+.212*ce]).clipExtent([[ge-.214*ce+Rt,we+.166*ce+Rt],[ge-.115*ce-Rt,we+.234*ce-Rt]]).stream(S).point,G},G.scale(1070)};var zo,Uo,Wi={point:$,lineStart:$,lineEnd:$,polygonStart:function(){Uo=0,Wi.lineStart=jo},polygonEnd:function(){Wi.lineStart=Wi.lineEnd=Wi.point=$,zo+=n(Uo/2)}};function jo(){var e,i,p,x;function S(R,K){Uo+=x*R-p*K,p=R,x=K}Wi.point=function(R,K){Wi.point=S,e=p=R,i=x=K},Wi.lineEnd=function(){S(e,i)}}var Fo,Co,co,xe,j={point:function ae(e,i){e<Fo&&(Fo=e),e>co&&(co=e),i<Co&&(Co=i),i>xe&&(xe=i)},lineStart:$,lineEnd:$,polygonStart:$,polygonEnd:$};function De(){var e=rt(4.5),i=[],p={point:x,lineStart:function(){p.point=S},lineEnd:K,polygonStart:function(){p.lineEnd=U},polygonEnd:function(){p.lineEnd=K,p.point=x},pointRadius:function(G){return e=rt(G),p},result:function(){if(i.length){var G=i.join("");return i=[],G}}};function x(G,re){i.push("M",G,",",re,e)}function S(G,re){i.push("M",G,",",re),p.point=R}function R(G,re){i.push("L",G,",",re)}function K(){p.point=x}function U(){i.push("Z")}return p}function rt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var gt={point:Dt,lineStart:_n,lineEnd:Bn,polygonStart:function(){gt.lineStart=Vn},polygonEnd:function(){gt.point=Dt,gt.lineStart=_n,gt.lineEnd=Bn}};function Dt(e,i){Ai+=e,Ii+=i,++_i}function _n(){var e,i;function p(x,S){var R=x-e,K=S-i,U=Math.sqrt(R*R+K*K);Pi+=U*(e+x)/2,Gi+=U*(i+S)/2,ji+=U,Dt(e=x,i=S)}gt.point=function(x,S){gt.point=p,Dt(e=x,i=S)}}function Bn(){gt.point=Dt}function Vn(){var e,i,p,x;function S(R,K){var U=R-p,G=K-x,re=Math.sqrt(U*U+G*G);Pi+=re*(p+R)/2,Gi+=re*(x+K)/2,ji+=re,Te+=(re=x*R-p*K)*(p+R),Ye+=re*(x+K),it+=3*re,Dt(p=R,x=K)}gt.point=function(R,K){gt.point=S,Dt(e=p=R,i=x=K)},gt.lineEnd=function(){S(e,i)}}function Xn(e){var i=4.5,p={point:x,lineStart:function(){p.point=S},lineEnd:K,polygonStart:function(){p.lineEnd=U},polygonEnd:function(){p.lineEnd=K,p.point=x},pointRadius:function(G){return i=G,p},result:$};function x(G,re){e.moveTo(G+i,re),e.arc(G,re,i,0,Le)}function S(G,re){e.moveTo(G,re),p.point=R}function R(G,re){e.lineTo(G,re)}function K(){p.point=x}function U(){e.closePath()}return p}function On(e){var i=.5,p=Math.cos(30*Ze),x=16;function S(G){return(x?K:R)(G)}function R(G){return ur(G,function(re,ce){re=e(re,ce),G.point(re[0],re[1])})}function K(G){var re,ge,we,Ne,Xe,ke,Be,Oe,$e,ze,Ve,Tt,yt={point:wt,lineStart:vt,lineEnd:rn,polygonStart:function(){G.polygonStart(),yt.lineStart=Ln},polygonEnd:function(){G.polygonEnd(),yt.lineStart=vt}};function wt(Lt,en){Lt=e(Lt,en),G.point(Lt[0],Lt[1])}function vt(){Oe=NaN,yt.point=Zt,G.lineStart()}function Zt(Lt,en){var dn=pi([Lt,en]),zt=e(Lt,en);U(Oe,$e,Be,ze,Ve,Tt,Oe=zt[0],$e=zt[1],Be=Lt,ze=dn[0],Ve=dn[1],Tt=dn[2],x,G),G.point(Oe,$e)}function rn(){yt.point=wt,G.lineEnd()}function Ln(){vt(),yt.point=bn,yt.lineEnd=An}function bn(Lt,en){Zt(re=Lt,en),ge=Oe,we=$e,Ne=ze,Xe=Ve,ke=Tt,yt.point=Zt}function An(){U(Oe,$e,Be,ze,Ve,Tt,ge,we,re,Ne,Xe,ke,x,G),yt.lineEnd=rn,rn()}return yt}function U(G,re,ce,ge,we,Ne,Xe,ke,Be,Oe,$e,ze,Ve,Tt){var yt=Xe-G,wt=ke-re,vt=yt*yt+wt*wt;if(vt>4*i&&Ve--){var Zt=ge+Oe,rn=we+$e,Ln=Ne+ze,bn=Math.sqrt(Zt*Zt+rn*rn+Ln*Ln),An=Math.asin(Ln/=bn),Lt=n(n(Ln)-1)<Rt||n(ce-Be)<Rt?(ce+Be)/2:Math.atan2(rn,Zt),en=e(Lt,An),dn=en[0],zt=en[1],hn=dn-G,Wn=zt-re,tr=wt*hn-yt*Wn;(tr*tr/vt>i||n((yt*hn+wt*Wn)/vt-.5)>.3||ge*Oe+we*$e+Ne*ze<p)&&(U(G,re,ce,ge,we,Ne,dn,zt,Lt,Zt/=bn,rn/=bn,Ln,Ve,Tt),Tt.point(dn,zt),U(dn,zt,Lt,Zt,rn,Ln,Xe,ke,Be,Oe,$e,ze,Ve,Tt))}}return S.precision=function(G){return arguments.length?(x=(i=G*G)>0&&16,S):Math.sqrt(i)},S}function hr(e){this.stream=e}function ur(e,i){return{point:i,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function ar(e){return mr(function(){return e})()}function mr(e){var i,p,x,Ne,Xe,ze,S=On(function(vt,Zt){return[(vt=i(vt,Zt))[0]*R+Ne,Xe-vt[1]*R]}),R=150,K=480,U=250,G=0,re=0,ce=0,ge=0,we=0,ke=no,Be=z,Oe=null,$e=null;function Ve(vt){return[(vt=x(vt[0]*Ze,vt[1]*Ze))[0]*R+Ne,Xe-vt[1]*R]}function Tt(vt){return(vt=x.invert((vt[0]-Ne)/R,(Xe-vt[1])/R))&&[vt[0]*Ct,vt[1]*Ct]}function yt(){x=jn(p=Ir(ce,ge,we),i);var vt=i(G,re);return Ne=K-vt[0]*R,Xe=U+vt[1]*R,wt()}function wt(){return ze&&(ze.valid=!1,ze=null),Ve}return Ve.stream=function(vt){return ze&&(ze.valid=!1),(ze=Hr(ke(p,S(Be(vt))))).valid=!0,ze},Ve.clipAngle=function(vt){return arguments.length?(ke=null==vt?(Oe=vt,no):function io(e){var i=Math.cos(e),p=i>0,x=n(i)>Rt;return ti(R,function K(re){var ce,ge,we,Ne,Xe;return{lineStart:function(){Ne=we=!1,Xe=1},point:function(ke,Be){var $e,Oe=[ke,Be],ze=R(ke,Be),Ve=p?ze?0:G(ke,Be):ze?G(ke+(ke<0?de:-de),Be):0;if(!ce&&(Ne=we=ze)&&re.lineStart(),ze!==we&&($e=U(ce,Oe),(Vi(ce,$e)||Vi(Oe,$e))&&(Oe[0]+=Rt,Oe[1]+=Rt,ze=R(Oe[0],Oe[1]))),ze!==we)Xe=0,ze?(re.lineStart(),$e=U(Oe,ce),re.point($e[0],$e[1])):($e=U(ce,Oe),re.point($e[0],$e[1]),re.lineEnd()),ce=$e;else if(x&&ce&&p^ze){var Tt;!(Ve&ge)&&(Tt=U(Oe,ce,!0))&&(Xe=0,p?(re.lineStart(),re.point(Tt[0][0],Tt[0][1]),re.point(Tt[1][0],Tt[1][1]),re.lineEnd()):(re.point(Tt[1][0],Tt[1][1]),re.lineEnd(),re.lineStart(),re.point(Tt[0][0],Tt[0][1])))}ze&&(!ce||!Vi(ce,Oe))&&re.point(Oe[0],Oe[1]),ce=Oe,we=ze,ge=Ve},lineEnd:function(){we&&re.lineEnd(),ce=null},clean:function(){return Xe|(Ne&&we)<<1}}},Pr(e,6*Ze),p?[0,-e]:[-de,e-de]);function R(re,ce){return Math.cos(re)*Math.cos(ce)>i}function U(re,ce,ge){var Xe=[1,0,0],ke=ei(pi(re),pi(ce)),Be=gi(ke,ke),Oe=ke[0],$e=Be-Oe*Oe;if(!$e)return!ge&&re;var ze=i*Be/$e,Ve=-i*Oe/$e,Tt=ei(Xe,ke),yt=Xi(Xe,ze);$i(yt,Xi(ke,Ve));var vt=Tt,Zt=gi(yt,vt),rn=gi(vt,vt),Ln=Zt*Zt-rn*(gi(yt,yt)-1);if(!(Ln<0)){var bn=Math.sqrt(Ln),An=Xi(vt,(-Zt-bn)/rn);if($i(An,yt),An=mi(An),!ge)return An;var hn,Lt=re[0],en=ce[0],dn=re[1],zt=ce[1];en<Lt&&(hn=Lt,Lt=en,en=hn);var Wn=en-Lt,tr=n(Wn-de)<Rt;if(!tr&&zt<dn&&(hn=dn,dn=zt,zt=hn),tr||Wn<Rt?tr?dn+zt>0^An[1]<(n(An[0]-Lt)<Rt?dn:zt):dn<=An[1]&&An[1]<=zt:Wn>de^(Lt<=An[0]&&An[0]<=en)){var Nr=Xi(vt,(-Zt+bn)/rn);return $i(Nr,yt),[An,mi(Nr)]}}}function G(re,ce){var ge=p?e:de-e,we=0;return re<-ge?we|=1:re>ge&&(we|=2),ce<-ge?we|=4:ce>ge&&(we|=8),we}}((Oe=+vt)*Ze),wt()):Oe},Ve.clipExtent=function(vt){return arguments.length?($e=vt,Be=vt?Yo(vt[0][0],vt[0][1],vt[1][0],vt[1][1]):z,wt()):$e},Ve.scale=function(vt){return arguments.length?(R=+vt,yt()):R},Ve.translate=function(vt){return arguments.length?(K=+vt[0],U=+vt[1],yt()):[K,U]},Ve.center=function(vt){return arguments.length?(G=vt[0]%360*Ze,re=vt[1]%360*Ze,yt()):[G*Ct,re*Ct]},Ve.rotate=function(vt){return arguments.length?(ce=vt[0]%360*Ze,ge=vt[1]%360*Ze,we=vt.length>2?vt[2]%360*Ze:0,yt()):[ce*Ct,ge*Ct,we*Ct]},Q.rebind(Ve,S,"precision"),function(){return i=e.apply(this,arguments),Ve.invert=i.invert&&Tt,yt()}}function Hr(e){return ur(e,function(i,p){e.point(i*Ze,p*Ze)})}function Ar(e,i){return[e,i]}function wr(e,i){return[e>de?e-Le:e<-de?e+Le:e,i]}function Ir(e,i,p){return e?i||p?jn(Mr(e),Dr(i,p)):Mr(e):i||p?Dr(i,p):wr}function Rr(e){return function(i,p){return[(i+=e)>de?i-Le:i<-de?i+Le:i,p]}}function Mr(e){var i=Rr(e);return i.invert=Rr(-e),i}function Dr(e,i){var p=Math.cos(e),x=Math.sin(e),S=Math.cos(i),R=Math.sin(i);function K(U,G){var re=Math.cos(G),ce=Math.cos(U)*re,ge=Math.sin(U)*re,we=Math.sin(G),Ne=we*p+ce*x;return[Math.atan2(ge*S-Ne*R,ce*p-we*x),Ot(Ne*S+ge*R)]}return K.invert=function(U,G){var re=Math.cos(G),ce=Math.cos(U)*re,ge=Math.sin(U)*re,we=Math.sin(G),Ne=we*S-ge*R;return[Math.atan2(ge*S+we*R,ce*p+Ne*x),Ot(Ne*p-ce*x)]},K}function Pr(e,i){var p=Math.cos(e),x=Math.sin(e);return function(S,R,K,U){var G=K*i;null!=S?(S=$r(p,S),R=$r(p,R),(K>0?S<R:S>R)&&(S+=K*Le)):(S=e+K*Le,R=e-.5*G);for(var re,ce=S;K>0?ce>R:ce<R;ce-=G)U.point((re=mi([p,-x*Math.cos(ce),-x*Math.sin(ce)]))[0],re[1])}}function $r(e,i){var p=pi(i);p[0]-=e,Ni(p);var x=ln(-p[1]);return((-p[2]<0?-x:x)+2*Math.PI-Rt)%(2*Math.PI)}function bi(e,i,p){var x=Q.range(e,i-Rt,p).concat(i);return function(S){return x.map(function(R){return[S,R]})}}function xi(e,i,p){var x=Q.range(e,i-Rt,p).concat(i);return function(S){return x.map(function(R){return[R,S]})}}function Ri(e){return e.source}function oi(e){return e.target}Q.geo.path=function(){var i,p,x,S,R,e=4.5;function K(G){return G&&("function"==typeof e&&S.pointRadius(+e.apply(this,arguments)),(!R||!R.valid)&&(R=x(S)),Q.geo.stream(G,R)),S.result()}function U(){return R=null,K}return K.area=function(G){return zo=0,Q.geo.stream(G,x(Wi)),zo},K.centroid=function(G){return Ai=Ii=_i=Pi=Gi=ji=Te=Ye=it=0,Q.geo.stream(G,x(gt)),it?[Te/it,Ye/it]:ji?[Pi/ji,Gi/ji]:_i?[Ai/_i,Ii/_i]:[NaN,NaN]},K.bounds=function(G){return co=xe=-(Fo=Co=1/0),Q.geo.stream(G,x(j)),[[Fo,Co],[co,xe]]},K.projection=function(G){return arguments.length?(x=(i=G)?G.stream||function Sr(e){var i=On(function(p,x){return e([p*Ct,x*Ct])});return function(p){return Hr(i(p))}}(G):z,U()):i},K.context=function(G){return arguments.length?(S=null==(p=G)?new De:new Xn(G),"function"!=typeof e&&S.pointRadius(e),U()):p},K.pointRadius=function(G){return arguments.length?(e="function"==typeof G?G:(S.pointRadius(+G),+G),K):e},K.projection(Q.geo.albersUsa()).context(null)},Q.geo.transform=function(e){return{stream:function(i){var p=new hr(i);for(var x in e)p[x]=e[x];return p}}},hr.prototype={point:function(e,i){this.stream.point(e,i)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Q.geo.projection=ar,Q.geo.projectionMutator=mr,(Q.geo.equirectangular=function(){return ar(Ar)}).raw=Ar.invert=Ar,Q.geo.rotation=function(e){function i(p){return(p=e(p[0]*Ze,p[1]*Ze))[0]*=Ct,p[1]*=Ct,p}return e=Ir(e[0]%360*Ze,e[1]*Ze,e.length>2?e[2]*Ze:0),i.invert=function(p){return(p=e.invert(p[0]*Ze,p[1]*Ze))[0]*=Ct,p[1]*=Ct,p},i},wr.invert=Ar,Q.geo.circle=function(){var i,x,e=[0,0],p=6;function S(){var R="function"==typeof e?e.apply(this,arguments):e,K=Ir(-R[0]*Ze,-R[1]*Ze,0).invert,U=[];return x(null,null,1,{point:function(G,re){U.push(G=K(G,re)),G[0]*=Ct,G[1]*=Ct}}),{type:"Polygon",coordinates:[U]}}return S.origin=function(R){return arguments.length?(e=R,S):e},S.angle=function(R){return arguments.length?(x=Pr((i=+R)*Ze,p*Ze),S):i},S.precision=function(R){return arguments.length?(x=Pr(i*Ze,(p=+R)*Ze),S):p},S.angle(90)},Q.geo.distance=function(e,i){var ge,p=(i[0]-e[0])*Ze,x=e[1]*Ze,S=i[1]*Ze,R=Math.sin(p),K=Math.cos(p),U=Math.sin(x),G=Math.cos(x),re=Math.sin(S),ce=Math.cos(S);return Math.atan2(Math.sqrt((ge=ce*R)*ge+(ge=G*re-U*ce*K)*ge),U*re+G*ce*K)},Q.geo.graticule=function(){var e,i,p,x,S,R,K,U,we,Ne,Xe,ke,G=10,re=G,ce=90,ge=360,Be=2.5;function Oe(){return{type:"MultiLineString",coordinates:$e()}}function $e(){return Q.range(Math.ceil(x/ce)*ce,p,ce).map(Xe).concat(Q.range(Math.ceil(U/ge)*ge,K,ge).map(ke)).concat(Q.range(Math.ceil(i/G)*G,e,G).filter(function(ze){return n(ze%ce)>Rt}).map(we)).concat(Q.range(Math.ceil(R/re)*re,S,re).filter(function(ze){return n(ze%ge)>Rt}).map(Ne))}return Oe.lines=function(){return $e().map(function(ze){return{type:"LineString",coordinates:ze}})},Oe.outline=function(){return{type:"Polygon",coordinates:[Xe(x).concat(ke(K).slice(1),Xe(p).reverse().slice(1),ke(U).reverse().slice(1))]}},Oe.extent=function(ze){return arguments.length?Oe.majorExtent(ze).minorExtent(ze):Oe.minorExtent()},Oe.majorExtent=function(ze){return arguments.length?(U=+ze[0][1],K=+ze[1][1],(x=+ze[0][0])>(p=+ze[1][0])&&(ze=x,x=p,p=ze),U>K&&(ze=U,U=K,K=ze),Oe.precision(Be)):[[x,U],[p,K]]},Oe.minorExtent=function(ze){return arguments.length?(R=+ze[0][1],S=+ze[1][1],(i=+ze[0][0])>(e=+ze[1][0])&&(ze=i,i=e,e=ze),R>S&&(ze=R,R=S,S=ze),Oe.precision(Be)):[[i,R],[e,S]]},Oe.step=function(ze){return arguments.length?Oe.majorStep(ze).minorStep(ze):Oe.minorStep()},Oe.majorStep=function(ze){return arguments.length?(ce=+ze[0],ge=+ze[1],Oe):[ce,ge]},Oe.minorStep=function(ze){return arguments.length?(G=+ze[0],re=+ze[1],Oe):[G,re]},Oe.precision=function(ze){return arguments.length?(Be=+ze,we=bi(R,S,90),Ne=xi(i,e,Be),Xe=bi(U,K,90),ke=xi(x,p,Be),Oe):Be},Oe.majorExtent([[-180,-90+Rt],[180,90-Rt]]).minorExtent([[-180,-80-Rt],[180,80+Rt]])},Q.geo.greatArc=function(){var i,x,e=Ri,p=oi;function S(){return{type:"LineString",coordinates:[i||e.apply(this,arguments),x||p.apply(this,arguments)]}}return S.distance=function(){return Q.geo.distance(i||e.apply(this,arguments),x||p.apply(this,arguments))},S.source=function(R){return arguments.length?(e=R,i="function"==typeof R?null:R,S):e},S.target=function(R){return arguments.length?(p=R,x="function"==typeof R?null:R,S):p},S.precision=function(){return arguments.length?S:0},S},Q.geo.interpolate=function(e,i){return function go(e,i,p,x){var S=Math.cos(i),R=Math.sin(i),K=Math.cos(x),U=Math.sin(x),G=S*Math.cos(e),re=S*Math.sin(e),ce=K*Math.cos(p),ge=K*Math.sin(p),we=2*Math.asin(Math.sqrt(In(x-i)+S*K*In(p-e))),Ne=1/Math.sin(we),Xe=we?function(ke){var Be=Math.sin(ke*=we)*Ne,Oe=Math.sin(we-ke)*Ne,$e=Oe*G+Be*ce,ze=Oe*re+Be*ge,Ve=Oe*R+Be*U;return[Math.atan2(ze,$e)*Ct,Math.atan2(Ve,Math.sqrt($e*$e+ze*ze))*Ct]}:function(){return[e*Ct,i*Ct]};return Xe.distance=we,Xe}(e[0]*Ze,e[1]*Ze,i[0]*Ze,i[1]*Ze)},Q.geo.length=function(e){return Yi=0,Q.geo.stream(e,Mi),Yi};var Yi,Mi={sphere:$,point:$,lineStart:function Ei(){var e,i,p;function x(S,R){var K=Math.sin(R*=Ze),U=Math.cos(R),G=n((S*=Ze)-e),re=Math.cos(G);Yi+=Math.atan2(Math.sqrt((G=U*Math.sin(G))*G+(G=p*K-i*U*re)*G),i*K+p*U*re),e=S,i=K,p=U}Mi.point=function(S,R){e=S*Ze,i=Math.sin(R*=Ze),p=Math.cos(R),Mi.point=x},Mi.lineEnd=function(){Mi.point=Mi.lineEnd=$}},lineEnd:$,polygonStart:$,polygonEnd:$};function Xr(e,i){function p(x,S){var R=Math.cos(x),K=Math.cos(S),U=e(R*K);return[U*K*Math.sin(x),U*Math.sin(S)]}return p.invert=function(x,S){var R=Math.sqrt(x*x+S*S),K=i(R),U=Math.sin(K),G=Math.cos(K);return[Math.atan2(x*U,R*G),Math.asin(R&&S*U/R)]},p}var ho=Xr(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(Q.geo.azimuthalEqualArea=function(){return ar(ho)}).raw=ho;var Ci=Xr(function(e){var i=Math.acos(e);return i&&i/Math.sin(i)},z);function Si(e,i){var p=Math.cos(e),x=function(U){return Math.tan(de/4+U/2)},S=e===i?Math.sin(e):Math.log(p/Math.cos(i))/Math.log(x(i)/x(e)),R=p*Math.pow(x(e),S)/S;if(!S)return uo;function K(U,G){R>0?G<-qe+Rt&&(G=-qe+Rt):G>qe-Rt&&(G=qe-Rt);var re=R/Math.pow(x(G),S);return[re*Math.sin(S*U),R-re*Math.cos(S*U)]}return K.invert=function(U,G){var re=R-G,ce=Nt(S)*Math.sqrt(U*U+re*re);return[Math.atan2(U,re)/S,2*Math.atan(Math.pow(R/ce,1/S))-qe]},K}function Oi(e,i){var p=Math.cos(e),x=e===i?Math.sin(e):(p-Math.cos(i))/(i-e),S=p/x+e;if(n(x)<Rt)return Ar;function R(K,U){var G=S-U;return[G*Math.sin(x*K),S-G*Math.cos(x*K)]}return R.invert=function(K,U){var G=S-U;return[Math.atan2(K,G)/x,S-Nt(x)*Math.sqrt(K*K+G*G)]},R}(Q.geo.azimuthalEquidistant=function(){return ar(Ci)}).raw=Ci,(Q.geo.conicConformal=function(){return Do(Si)}).raw=Si,(Q.geo.conicEquidistant=function(){return Do(Oi)}).raw=Oi;var To=Xr(function(e){return 1/e},Math.atan);function uo(e,i){return[e,Math.log(Math.tan(de/4+i/2))]}function mo(e){var R,i=ar(e),p=i.scale,x=i.translate,S=i.clipExtent;return i.scale=function(){var K=p.apply(i,arguments);return K===i?R?i.clipExtent(null):i:K},i.translate=function(){var K=x.apply(i,arguments);return K===i?R?i.clipExtent(null):i:K},i.clipExtent=function(K){var U=S.apply(i,arguments);if(U===i){if(R=null==K){var G=de*p(),re=x();S([[re[0]-G,re[1]-G],[re[0]+G,re[1]+G]])}}else R&&(U=null);return U},i.clipExtent(null)}(Q.geo.gnomonic=function(){return ar(To)}).raw=To,uo.invert=function(e,i){return[e,2*Math.atan(Math.exp(i))-qe]},(Q.geo.mercator=function(){return mo(uo)}).raw=uo;var ss=Xr(function(){return 1},Math.asin);(Q.geo.orthographic=function(){return ar(ss)}).raw=ss;var as=Xr(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});function Io(e,i){return[Math.log(Math.tan(de/4+i/2)),-e]}function wo(e){return e[0]}function xo(e){return e[1]}function $o(e){for(var i=e.length,p=[0,1],x=2,S=2;S<i;S++){for(;x>1&&Bt(e[p[x-2]],e[p[x-1]],e[S])<=0;)--x;p[x++]=S}return p.slice(0,x)}function cs(e,i){return e[0]-i[0]||e[1]-i[1]}(Q.geo.stereographic=function(){return ar(as)}).raw=as,Io.invert=function(e,i){return[-i,2*Math.atan(Math.exp(e))-qe]},(Q.geo.transverseMercator=function(){var e=mo(Io),i=e.center,p=e.rotate;return e.center=function(x){return x?i([-x[1],x[0]]):[(x=i())[1],-x[0]]},e.rotate=function(x){return x?p([x[0],x[1],x.length>2?x[2]+90:90]):[(x=p())[0],x[1],x[2]-90]},p([0,0,90])}).raw=Io,Q.geom={},Q.geom.hull=function(e){var i=wo,p=xo;if(arguments.length)return x(e);function x(S){if(S.length<3)return[];var U,R=Jn(i),K=Jn(p),G=S.length,re=[],ce=[];for(U=0;U<G;U++)re.push([+R.call(this,S[U],U),+K.call(this,S[U],U),U]);for(re.sort(cs),U=0;U<G;U++)ce.push([re[U][0],-re[U][1]]);var ge=$o(re),we=$o(ce),Ne=we[0]===ge[0],Xe=we[we.length-1]===ge[ge.length-1],ke=[];for(U=ge.length-1;U>=0;--U)ke.push(S[re[ge[U]][2]]);for(U=+Ne;U<we.length-Xe;++U)ke.push(S[re[we[U]][2]]);return ke}return x.x=function(S){return arguments.length?(i=S,x):i},x.y=function(S){return arguments.length?(p=S,x):p},x},Q.geom.polygon=function(e){return M(e,Ro),e};var Ro=Q.geom.polygon.prototype=[];function Xo(e,i,p){return(p[0]-i[0])*(e[1]-i[1])<(p[1]-i[1])*(e[0]-i[0])}function Zo(e,i,p,x){var S=e[0],R=p[0],K=i[0]-S,U=x[0]-R,G=e[1],re=p[1],ce=i[1]-G,ge=x[1]-re,we=(U*(G-re)-ge*(S-R))/(ge*K-U*ce);return[S+we*K,G+we*ce]}function Mo(e){var i=e[0],p=e[e.length-1];return!(i[0]-p[0]||i[1]-p[1])}Ro.area=function(){for(var p,e=-1,i=this.length,x=this[i-1],S=0;++e<i;)S+=(p=x)[1]*(x=this[e])[0]-p[0]*x[1];return.5*S},Ro.centroid=function(e){var R,U,i=-1,p=this.length,x=0,S=0,K=this[p-1];for(arguments.length||(e=-1/(6*this.area()));++i<p;)x+=((R=K)[0]+(K=this[i])[0])*(U=R[0]*K[1]-K[0]*R[1]),S+=(R[1]+K[1])*U;return[x*e,S*e]},Ro.clip=function(e){for(var i,R,K,G,re,ce,p=Mo(e),x=-1,S=this.length-Mo(this),U=this[S-1];++x<S;){for(i=e.slice(),e.length=0,G=this[x],re=i[(K=i.length-p)-1],R=-1;++R<K;)Xo(ce=i[R],U,G)?(Xo(re,U,G)||e.push(Zo(re,ce,U,G)),e.push(ce)):Xo(re,U,G)&&e.push(Zo(re,ce,U,G)),re=ce;p&&e.push(e[0]),U=G}return e};var vo,lo,yo,Ts,Jo,ra=[],ia=[];function fc(){ls(this),this.edge=this.site=this.circle=null}function oa(e){var i=ra.pop()||new fc;return i.site=e,i}function Is(e){Wo(e),yo.remove(e),ra.push(e),ls(e)}function dc(e){var i=e.circle,p=i.x,x=i.cy,S={x:p,y:x},R=e.P,K=e.N,U=[e];Is(e);for(var G=R;G.circle&&n(p-G.circle.x)<Rt&&n(x-G.circle.cy)<Rt;)R=G.P,U.unshift(G),Is(G),G=R;U.unshift(G),Wo(G);for(var re=K;re.circle&&n(p-re.circle.x)<Rt&&n(x-re.circle.cy)<Rt;)K=re.N,U.push(re),Is(re),re=K;U.push(re),Wo(re);var ge,ce=U.length;for(ge=1;ge<ce;++ge)hs((re=U[ge]).edge,(G=U[ge-1]).site,re.site,S);(re=U[ce-1]).edge=Qo((G=U[0]).site,re.site,null,S),Ho(G),Ho(re)}function pc(e){for(var x,S,R,K,i=e.x,p=e.y,U=yo._;U;)if((R=sa(U,p)-i)>Rt)U=U.L;else{if(!((K=i-gc(U,p))>Rt)){R>-Rt?(x=U.P,S=U):K>-Rt?(x=U,S=U.N):x=S=U;break}if(!U.R){x=U;break}U=U.R}var G=oa(e);if(yo.insert(x,G),x||S){if(x===S)return Wo(x),S=oa(x.site),yo.insert(G,S),G.edge=S.edge=Qo(x.site,G.site),Ho(x),void Ho(S);if(!S)return void(G.edge=Qo(x.site,G.site));Wo(x),Wo(S);var re=x.site,ce=re.x,ge=re.y,we=e.x-ce,Ne=e.y-ge,Xe=S.site,ke=Xe.x-ce,Be=Xe.y-ge,Oe=2*(we*Be-Ne*ke),$e=we*we+Ne*Ne,ze=ke*ke+Be*Be,Ve={x:(Be*$e-Ne*ze)/Oe+ce,y:(we*ze-ke*$e)/Oe+ge};hs(S.edge,re,Xe,Ve),G.edge=Qo(re,e,null,Ve),S.edge=Qo(e,Xe,null,Ve),Ho(x),Ho(S)}}function sa(e,i){var p=e.site,x=p.x,S=p.y,R=S-i;if(!R)return x;var K=e.P;if(!K)return-1/0;var U=(p=K.site).x,G=p.y,re=G-i;if(!re)return U;var ce=U-x,ge=1/R-1/re,we=ce/re;return ge?(-we+Math.sqrt(we*we-2*ge*(ce*ce/(-2*re)-G+re/2+S-R/2)))/ge+x:(x+U)/2}function gc(e,i){var p=e.N;if(p)return sa(p,i);var x=e.site;return x.y===i?x.x:1/0}function aa(e){this.site=e,this.edges=[]}function ca(e,i){return i.angle-e.angle}function vc(){ls(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ho(e){var i=e.P,p=e.N;if(i&&p){var x=i.site,S=e.site,R=p.site;if(x!==R){var K=S.x,U=S.y,G=x.x-K,re=x.y-U,ce=R.x-K,ge=2*(G*(Be=R.y-U)-re*ce);if(!(ge>=-vr)){var we=G*G+re*re,Ne=ce*ce+Be*Be,Xe=(Be*we-re*Ne)/ge,ke=(G*Ne-ce*we)/ge,Be=ke+U,Oe=ia.pop()||new vc;Oe.arc=e,Oe.site=S,Oe.x=Xe+K,Oe.y=Be+Math.sqrt(Xe*Xe+ke*ke),Oe.cy=Be,e.circle=Oe;for(var $e=null,ze=Jo._;ze;)if(Oe.y<ze.y||Oe.y===ze.y&&Oe.x<=ze.x){if(!ze.L){$e=ze.P;break}ze=ze.L}else{if(!ze.R){$e=ze;break}ze=ze.R}Jo.insert($e,Oe),$e||(Ts=Oe)}}}}function Wo(e){var i=e.circle;i&&(i.P||(Ts=i.N),Jo.remove(i),ia.push(i),ls(i),e.circle=null)}function _c(e,i){var p=e.b;if(p)return!0;var Be,Oe,x=e.a,S=i[0][0],R=i[1][0],K=i[0][1],U=i[1][1],G=e.l,re=e.r,ce=G.x,ge=G.y,we=re.x,Ne=re.y,Xe=(ce+we)/2;if(Ne===ge){if(Xe<S||Xe>=R)return;if(ce>we){if(x){if(x.y>=U)return}else x={x:Xe,y:K};p={x:Xe,y:U}}else{if(x){if(x.y<K)return}else x={x:Xe,y:U};p={x:Xe,y:K}}}else if(Oe=(ge+Ne)/2-(Be=(ce-we)/(Ne-ge))*Xe,Be<-1||Be>1)if(ce>we){if(x){if(x.y>=U)return}else x={x:(K-Oe)/Be,y:K};p={x:(U-Oe)/Be,y:U}}else{if(x){if(x.y<K)return}else x={x:(U-Oe)/Be,y:U};p={x:(K-Oe)/Be,y:K}}else if(ge<Ne){if(x){if(x.x>=R)return}else x={x:S,y:Be*S+Oe};p={x:R,y:Be*R+Oe}}else{if(x){if(x.x<S)return}else x={x:R,y:Be*R+Oe};p={x:S,y:Be*S+Oe}}return e.a=x,e.b=p,!0}function ha(e,i){this.l=e,this.r=i,this.a=this.b=null}function Qo(e,i,p,x){var S=new ha(e,i);return vo.push(S),p&&hs(S,e,i,p),x&&hs(S,i,e,x),lo[e.i].edges.push(new us(S,e,i)),lo[i.i].edges.push(new us(S,i,e)),S}function bc(e,i,p){var x=new ha(e,null);return x.a=i,x.b=p,vo.push(x),x}function hs(e,i,p,x){e.a||e.b?e.l===p?e.b=x:e.a=x:(e.a=x,e.l=i,e.r=p)}function us(e,i,p){var x=e.a,S=e.b;this.edge=e,this.site=i,this.angle=p?Math.atan2(p.y-i.y,p.x-i.x):e.l===i?Math.atan2(S.x-x.x,x.y-S.y):Math.atan2(x.x-S.x,S.y-x.y)}function Rs(){this._=null}function ls(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function es(e,i){var p=i,x=i.R,S=p.U;S?S.L===p?S.L=x:S.R=x:e._=x,x.U=S,p.U=x,p.R=x.L,p.R&&(p.R.U=p),x.L=p}function ts(e,i){var p=i,x=i.L,S=p.U;S?S.L===p?S.L=x:S.R=x:e._=x,x.U=S,p.U=x,p.L=x.R,p.L&&(p.L.U=p),x.R=p}function ua(e){for(;e.L;)e=e.L;return e}function Ms(e,i){var x,S,R,p=e.sort(wc).pop();for(vo=[],lo=new Array(e.length),yo=new Rs,Jo=new Rs;;)if(R=Ts,p&&(!R||p.y<R.y||p.y===R.y&&p.x<R.x))(p.x!==x||p.y!==S)&&(lo[p.i]=new aa(p),pc(p),x=p.x,S=p.y),p=e.pop();else{if(!R)break;dc(R.arc)}i&&(function yc(e){for(var S,i=vo,p=ko(e[0][0],e[0][1],e[1][0],e[1][1]),x=i.length;x--;)(!_c(S=i[x],e)||!p(S)||n(S.a.x-S.b.x)<Rt&&n(S.a.y-S.b.y)<Rt)&&(S.a=S.b=null,i.splice(x,1))}(i),function mc(e){for(var R,K,U,G,ge,we,Ne,Xe,ke,Be,i=e[0][0],p=e[1][0],x=e[0][1],S=e[1][1],re=lo,ce=re.length;ce--;)if((ge=re[ce])&&ge.prepare())for(Xe=(Ne=ge.edges).length,we=0;we<Xe;)U=(Be=Ne[we].end()).x,G=Be.y,K=(ke=Ne[++we%Xe].start()).y,(n(U-(R=ke.x))>Rt||n(G-K)>Rt)&&(Ne.splice(we,0,new us(bc(ge.site,Be,n(U-i)<Rt&&S-G>Rt?{x:i,y:n(R-i)<Rt?K:S}:n(G-S)<Rt&&p-U>Rt?{x:n(K-S)<Rt?R:p,y:S}:n(U-p)<Rt&&G-x>Rt?{x:p,y:n(R-p)<Rt?K:x}:n(G-x)<Rt&&U-i>Rt?{x:n(K-x)<Rt?R:i,y:x}:null),ge.site,null)),++Xe)}(i));var K={cells:lo,edges:vo};return yo=Jo=vo=lo=null,K}function wc(e,i){return i.y-e.y||i.x-e.x}aa.prototype.prepare=function(){for(var p,e=this.edges,i=e.length;i--;)(!(p=e[i].edge).b||!p.a)&&e.splice(i,1);return e.sort(ca),e.length},us.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Rs.prototype={insert:function(e,i){var p,x,S;if(e){if(i.P=e,i.N=e.N,e.N&&(e.N.P=i),e.N=i,e.R){for(e=e.R;e.L;)e=e.L;e.L=i}else e.R=i;p=e}else this._?(e=ua(this._),i.P=null,i.N=e,e.P=e.L=i,p=e):(i.P=i.N=null,this._=i,p=null);for(i.L=i.R=null,i.U=p,i.C=!0,e=i;p&&p.C;)p===(x=p.U).L?(S=x.R)&&S.C?(p.C=S.C=!1,x.C=!0,e=x):(e===p.R&&(es(this,p),p=(e=p).U),p.C=!1,x.C=!0,ts(this,x)):(S=x.L)&&S.C?(p.C=S.C=!1,x.C=!0,e=x):(e===p.L&&(ts(this,p),p=(e=p).U),p.C=!1,x.C=!0,es(this,x)),p=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var p,R,K,i=e.U,x=e.L,S=e.R;if(R=x?S?ua(S):x:S,i?i.L===e?i.L=R:i.R=R:this._=R,x&&S?(K=R.C,R.C=e.C,R.L=x,x.U=R,R!==S?(i=R.U,R.U=e.U,i.L=e=R.R,R.R=S,S.U=R):(R.U=i,i=R,e=R.R)):(K=e.C,e=R),e&&(e.U=i),!K){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if((p=i.R).C&&(p.C=!1,i.C=!0,es(this,i),p=i.R),p.L&&p.L.C||p.R&&p.R.C){(!p.R||!p.R.C)&&(p.L.C=!1,p.C=!0,ts(this,p),p=i.R),p.C=i.C,i.C=p.R.C=!1,es(this,i),e=this._;break}}else if((p=i.L).C&&(p.C=!1,i.C=!0,ts(this,i),p=i.L),p.L&&p.L.C||p.R&&p.R.C){(!p.L||!p.L.C)&&(p.R.C=!1,p.C=!0,es(this,p),p=i.L),p.C=i.C,i.C=p.L.C=!1,ts(this,i),e=this._;break}p.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},Q.geom.voronoi=function(e){var i=wo,p=xo,x=i,S=p,R=fs;if(e)return K(e);function K(G){var re=new Array(G.length),ce=R[0][0],ge=R[0][1],we=R[1][0],Ne=R[1][1];return Ms(U(G),R).cells.forEach(function(Xe,ke){var Be=Xe.edges,Oe=Xe.site;(re[ke]=Be.length?Be.map(function(ze){var Ve=ze.start();return[Ve.x,Ve.y]}):Oe.x>=ce&&Oe.x<=we&&Oe.y>=ge&&Oe.y<=Ne?[[ce,Ne],[we,Ne],[we,ge],[ce,ge]]:[]).point=G[ke]}),re}function U(G){return G.map(function(re,ce){return{x:Math.round(x(re,ce)/Rt)*Rt,y:Math.round(S(re,ce)/Rt)*Rt,i:ce}})}return K.links=function(G){return Ms(U(G)).edges.filter(function(re){return re.l&&re.r}).map(function(re){return{source:G[re.l.i],target:G[re.r.i]}})},K.triangles=function(G){var re=[];return Ms(U(G)).cells.forEach(function(ce,ge){for(var Oe,we=ce.site,Ne=ce.edges.sort(ca),Xe=-1,ke=Ne.length,$e=Ne[ke-1].edge,ze=$e.l===we?$e.r:$e.l;++Xe<ke;)Oe=ze,ze=($e=Ne[Xe].edge).l===we?$e.r:$e.l,ge<Oe.i&&ge<ze.i&&xc(we,Oe,ze)<0&&re.push([G[ge],G[Oe.i],G[ze.i]])}),re},K.x=function(G){return arguments.length?(x=Jn(i=G),K):i},K.y=function(G){return arguments.length?(S=Jn(p=G),K):p},K.clipExtent=function(G){return arguments.length?(R=G??fs,K):R===fs?null:R},K.size=function(G){return arguments.length?K.clipExtent(G&&[[0,0],G]):R===fs?null:R&&R[1]},K};var fs=[[-1e6,-1e6],[1e6,1e6]];function xc(e,i,p){return(e.x-p.x)*(i.y-e.y)-(e.x-i.x)*(p.y-e.y)}function Ec(e){return e.x}function Sc(e){return e.y}function ns(e,i,p,x,S,R){if(!e(i,p,x,S,R)){var K=.5*(p+S),U=.5*(x+R),G=i.nodes;G[0]&&ns(e,G[0],p,x,K,U),G[1]&&ns(e,G[1],K,x,S,U),G[2]&&ns(e,G[2],p,U,K,R),G[3]&&ns(e,G[3],K,U,S,R)}}function Ls(e,i){e=Q.rgb(e),i=Q.rgb(i);var p=e.r,x=e.g,S=e.b,R=i.r-p,K=i.g-x,U=i.b-S;return function(G){return"#"+Vr(Math.round(p+R*G))+Vr(Math.round(x+K*G))+Vr(Math.round(S+U*G))}}function fa(e,i){var S,p={},x={};for(S in e)S in i?p[S]=Lo(e[S],i[S]):x[S]=e[S];for(S in i)S in e||(x[S]=i[S]);return function(R){for(S in p)x[S]=p[S](R);return x}}function _o(e,i){return e=+e,i=+i,function(p){return e*(1-p)+i*p}}function da(e,i){var x,S,R,p=Bs.lastIndex=Ns.lastIndex=0,K=-1,U=[],G=[];for(e+="",i+="";(x=Bs.exec(e))&&(S=Ns.exec(i));)(R=S.index)>p&&(R=i.slice(p,R),U[K]?U[K]+=R:U[++K]=R),(x=x[0])===(S=S[0])?U[K]?U[K]+=S:U[++K]=S:(U[++K]=null,G.push({i:K,x:_o(x,S)})),p=Ns.lastIndex;return p<i.length&&(R=i.slice(p),U[K]?U[K]+=R:U[++K]=R),U.length<2?G[0]?(i=G[0].x,function(re){return i(re)+""}):function(){return i}:(i=G.length,function(re){for(var ge,ce=0;ce<i;++ce)U[(ge=G[ce]).i]=ge.x(re);return U.join("")})}Q.geom.delaunay=function(e){return Q.geom.voronoi().triangles(e)},Q.geom.quadtree=function(e,i,p,x,S){var U,R=wo,K=xo;if(U=arguments.length)return R=Ec,K=Sc,3===U&&(S=p,x=i,p=i=0),G(e);function G(re){var ce,Ne,Xe,ke,Be,Oe,$e,ze,Ve,ge=Jn(R),we=Jn(K);if(null!=i)Oe=i,$e=p,ze=x,Ve=S;else if(ze=Ve=-(Oe=$e=1/0),Ne=[],Xe=[],Be=re.length,U)for(ke=0;ke<Be;++ke)(ce=re[ke]).x<Oe&&(Oe=ce.x),ce.y<$e&&($e=ce.y),ce.x>ze&&(ze=ce.x),ce.y>Ve&&(Ve=ce.y),Ne.push(ce.x),Xe.push(ce.y);else for(ke=0;ke<Be;++ke){var Tt=+ge(ce=re[ke],ke),yt=+we(ce,ke);Tt<Oe&&(Oe=Tt),yt<$e&&($e=yt),Tt>ze&&(ze=Tt),yt>Ve&&(Ve=yt),Ne.push(Tt),Xe.push(yt)}var wt=ze-Oe,vt=Ve-$e;function Zt(bn,An,Lt,en,dn,zt,hn,Wn){if(!isNaN(Lt)&&!isNaN(en))if(bn.leaf){var tr=bn.x,lr=bn.y;if(null!=tr)if(n(tr-Lt)+n(lr-en)<.01)rn(bn,An,Lt,en,dn,zt,hn,Wn);else{var Nr=bn.point;bn.x=bn.y=bn.point=null,rn(bn,Nr,tr,lr,dn,zt,hn,Wn),rn(bn,An,Lt,en,dn,zt,hn,Wn)}else bn.x=Lt,bn.y=en,bn.point=An}else rn(bn,An,Lt,en,dn,zt,hn,Wn)}function rn(bn,An,Lt,en,dn,zt,hn,Wn){var tr=.5*(dn+hn),lr=.5*(zt+Wn),Nr=Lt>=tr,qr=en>=lr,Li=qr<<1|Nr;bn.leaf=!1,Nr?dn=tr:hn=tr,qr?zt=lr:Wn=lr,Zt(bn=bn.nodes[Li]||(bn.nodes[Li]={leaf:!0,nodes:[],point:null,x:null,y:null}),An,Lt,en,dn,zt,hn,Wn)}wt>vt?Ve=$e+wt:ze=Oe+vt;var Ln={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(bn){Zt(Ln,bn,+ge(bn,++ke),+we(bn,ke),Oe,$e,ze,Ve)}};if(Ln.visit=function(bn){ns(bn,Ln,Oe,$e,ze,Ve)},Ln.find=function(bn){return function kc(e,i,p,x,S,R,K){var G,U=1/0;return function re(ce,ge,we,Ne,Xe){if(!(ge>R||we>K||Ne<x||Xe<S)){if(ke=ce.point){var ke,Be=i-ce.x,Oe=p-ce.y,$e=Be*Be+Oe*Oe;if($e<U){var ze=Math.sqrt(U=$e);x=i-ze,S=p-ze,R=i+ze,K=p+ze,G=ke}}for(var Ve=ce.nodes,Tt=.5*(ge+Ne),yt=.5*(we+Xe),Zt=(p>=yt)<<1|i>=Tt,rn=Zt+4;Zt<rn;++Zt)if(ce=Ve[3&Zt])switch(3&Zt){case 0:re(ce,ge,we,Tt,yt);break;case 1:re(ce,Tt,we,Ne,yt);break;case 2:re(ce,ge,yt,Tt,Xe);break;case 3:re(ce,Tt,yt,Ne,Xe)}}}(e,x,S,R,K),G}(Ln,bn[0],bn[1],Oe,$e,ze,Ve)},ke=-1,null==i){for(;++ke<Be;)Zt(Ln,re[ke],Ne[ke],Xe[ke],Oe,$e,ze,Ve);--ke}else re.forEach(Ln.add);return Ne=Xe=re=ce=null,Ln}return G.x=function(re){return arguments.length?(R=re,G):R},G.y=function(re){return arguments.length?(K=re,G):K},G.extent=function(re){return arguments.length?(null==re?i=p=x=S=null:(i=+re[0][0],p=+re[0][1],x=+re[1][0],S=+re[1][1]),G):null==i?null:[[i,p],[x,S]]},G.size=function(re){return arguments.length?(null==re?i=p=x=S=null:(i=p=0,x=+re[0],S=+re[1]),G):null==i?null:[x-i,S-p]},G},Q.interpolateRgb=Ls,Q.interpolateObject=fa,Q.interpolateNumber=_o,Q.interpolateString=da;var Bs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ns=new RegExp(Bs.source,"g");function Lo(e,i){for(var x,p=Q.interpolators.length;--p>=0&&!(x=Q.interpolators[p](e,i)););return x}function ds(e,i){var U,p=[],x=[],S=e.length,R=i.length,K=Math.min(e.length,i.length);for(U=0;U<K;++U)p.push(Lo(e[U],i[U]));for(;U<S;++U)x[U]=e[U];for(;U<R;++U)x[U]=i[U];return function(G){for(U=0;U<K;++U)x[U]=p[U](G);return x}}Q.interpolate=Lo,Q.interpolators=[function(e,i){var p=typeof i;return("string"===p?Cn.has(i.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(i)?Ls:da:i instanceof Wr?Ls:Array.isArray(i)?ds:"object"===p&&isNaN(i)?fa:_o)(e,i)}],Q.interpolateArray=ds;var pa=function(){return z},Ac=Q.map({linear:pa,poly:function Lc(e){return function(i){return Math.pow(i,e)}},quad:function(){return Ic},cubic:function(){return Rc},sin:function(){return Bc},exp:function(){return Nc},circle:function(){return Pc},elastic:function Oc(e,i){var p;return arguments.length<2&&(i=.45),arguments.length?p=i/Le*Math.asin(1/e):(e=1,p=i/4),function(x){return 1+e*Math.pow(2,-10*x)*Math.sin((x-p)*Le/i)}},back:function Dc(e){return e||(e=1.70158),function(i){return i*i*((e+1)*i-e)}},bounce:function(){return zc}}),Cc=Q.map({in:z,out:ga,"in-out":ma,"out-in":function(e){return ma(ga(e))}});function ga(e){return function(i){return 1-e(1-i)}}function ma(e){return function(i){return.5*(i<.5?e(2*i):2-e(2-2*i))}}function Ic(e){return e*e}function Rc(e){return e*e*e}function Mc(e){if(e<=0)return 0;if(e>=1)return 1;var i=e*e,p=i*e;return 4*(e<.5?p:3*(e-i)+p-.75)}function Bc(e){return 1-Math.cos(e*qe)}function Nc(e){return Math.pow(2,10*(e-1))}function Pc(e){return 1-Math.sqrt(1-e*e)}function zc(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function va(e,i){return i-=e,function(p){return Math.round(e+i*p)}}function ya(e){var i=[e.a,e.b],p=[e.c,e.d],x=ba(i),S=_a(i,p),R=ba(function Hc(e,i,p){return e[0]+=p*i[0],e[1]+=p*i[1],e}(p,i,-S))||0;i[0]*p[1]<p[0]*i[1]&&(i[0]*=-1,i[1]*=-1,x*=-1,S*=-1),this.rotate=(x?Math.atan2(i[1],i[0]):Math.atan2(-p[0],p[1]))*Ct,this.translate=[e.e,e.f],this.scale=[x,R],this.skew=R?Math.atan2(S,R)*Ct:0}function _a(e,i){return e[0]*i[0]+e[1]*i[1]}function ba(e){var i=Math.sqrt(_a(e,e));return i&&(e[0]/=i,e[1]/=i),i}Q.ease=function(e){var i=e.indexOf("-"),p=i>=0?e.slice(0,i):e,x=i>=0?e.slice(i+1):"in";return p=Ac.get(p)||pa,function Tc(e){return function(i){return i<=0?0:i>=1?1:e(i)}}((x=Cc.get(x)||z)(p.apply(null,je.call(arguments,1))))},Q.interpolateHcl=function Uc(e,i){e=Q.hcl(e),i=Q.hcl(i);var p=e.h,x=e.c,S=e.l,R=i.h-p,K=i.c-x,U=i.l-S;return isNaN(K)&&(K=0,x=isNaN(x)?i.c:x),isNaN(R)?(R=0,p=isNaN(p)?i.h:p):R>180?R-=360:R<-180&&(R+=360),function(G){return ct(p+R*G,x+K*G,S+U*G)+""}},Q.interpolateHsl=function jc(e,i){e=Q.hsl(e),i=Q.hsl(i);var p=e.h,x=e.s,S=e.l,R=i.h-p,K=i.s-x,U=i.l-S;return isNaN(K)&&(K=0,x=isNaN(x)?i.s:x),isNaN(R)?(R=0,p=isNaN(p)?i.h:p):R>180?R-=360:R<-180&&(R+=360),function(G){return Kr(p+R*G,x+K*G,S+U*G)+""}},Q.interpolateLab=function Fc(e,i){e=Q.lab(e),i=Q.lab(i);var p=e.l,x=e.a,S=e.b,R=i.l-p,K=i.a-x,U=i.b-S;return function(G){return ri(p+R*G,x+K*G,S+U*G)+""}},Q.interpolateRound=va,Q.transform=function(e){var i=y.createElementNS(Q.ns.prefix.svg,"g");return(Q.transform=function(p){if(null!=p){i.setAttribute("transform",p);var x=i.transform.baseVal.consolidate()}return new ya(x?x.matrix:Wc)})(e)},ya.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Wc={a:1,b:0,c:0,d:1,e:0,f:0};function qo(e){return e.length?e.pop()+",":""}function wa(e,i){var p=[],x=[];return e=Q.transform(e),i=Q.transform(i),function qc(e,i,p,x){if(e[0]!==i[0]||e[1]!==i[1]){var S=p.push("translate(",null,",",null,")");x.push({i:S-4,x:_o(e[0],i[0])},{i:S-2,x:_o(e[1],i[1])})}else(i[0]||i[1])&&p.push("translate("+i+")")}(e.translate,i.translate,p,x),function Kc(e,i,p,x){e!==i?(e-i>180?i+=360:i-e>180&&(e+=360),x.push({i:p.push(qo(p)+"rotate(",null,")")-2,x:_o(e,i)})):i&&p.push(qo(p)+"rotate("+i+")")}(e.rotate,i.rotate,p,x),function Vc(e,i,p,x){e!==i?x.push({i:p.push(qo(p)+"skewX(",null,")")-2,x:_o(e,i)}):i&&p.push(qo(p)+"skewX("+i+")")}(e.skew,i.skew,p,x),function Gc(e,i,p,x){if(e[0]!==i[0]||e[1]!==i[1]){var S=p.push(qo(p)+"scale(",null,",",null,")");x.push({i:S-4,x:_o(e[0],i[0])},{i:S-2,x:_o(e[1],i[1])})}else(1!==i[0]||1!==i[1])&&p.push(qo(p)+"scale("+i+")")}(e.scale,i.scale,p,x),e=i=null,function(S){for(var U,R=-1,K=x.length;++R<K;)p[(U=x[R]).i]=U.x(S);return p.join("")}}function Yc(e,i){return i=(i-=e=+e)||1/i,function(p){return(p-e)/i}}function $c(e,i){return i=(i-=e=+e)||1/i,function(p){return Math.max(0,Math.min(1,(p-e)/i))}}function Xc(e){for(var i=e.source,p=e.target,x=function Zc(e,i){if(e===i)return e;for(var p=xa(e),x=xa(i),S=p.pop(),R=x.pop(),K=null;S===R;)K=S,S=p.pop(),R=x.pop();return K}(i,p),S=[i];i!==x;)S.push(i=i.parent);for(var R=S.length;p!==x;)S.splice(R,0,p),p=p.parent;return S}function xa(e){for(var i=[],p=e.parent;null!=p;)i.push(e),e=p,p=p.parent;return i.push(e),i}function Jc(e){e.fixed|=2}function Qc(e){e.fixed&=-7}function eh(e){e.fixed|=4,e.px=e.x,e.py=e.y}function th(e){e.fixed&=-5}function Ea(e,i,p){var x=0,S=0;if(e.charge=0,!e.leaf)for(var G,R=e.nodes,K=R.length,U=-1;++U<K;)null!=(G=R[U])&&(Ea(G,i,p),e.charge+=G.charge,x+=G.charge*G.cx,S+=G.charge*G.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var re=i*p[e.point.index];e.charge+=e.pointCharge=re,x+=re*e.point.x,S+=re*e.point.y}e.cx=x/e.charge,e.cy=S/e.charge}Q.interpolateTransform=wa,Q.layout={},Q.layout.bundle=function(){return function(e){for(var i=[],p=-1,x=e.length;++p<x;)i.push(Xc(e[p]));return i}},Q.layout.chord=function(){var i,p,x,S,K,U,G,e={},R=0;function re(){var ke,Be,Oe,$e,ze,ge={},we=[],Ne=Q.range(S),Xe=[];for(i=[],p=[],ke=0,$e=-1;++$e<S;){for(Be=0,ze=-1;++ze<S;)Be+=x[$e][ze];we.push(Be),Xe.push(Q.range(S)),ke+=Be}for(K&&Ne.sort(function(Ln,bn){return K(we[Ln],we[bn])}),U&&Xe.forEach(function(Ln,bn){Ln.sort(function(An,Lt){return U(x[bn][An],x[bn][Lt])})}),ke=(Le-R*S)/ke,Be=0,$e=-1;++$e<S;){for(Oe=Be,ze=-1;++ze<S;){var Ve=Ne[$e],Tt=Xe[Ve][ze],yt=x[Ve][Tt],wt=Be,vt=Be+=yt*ke;ge[Ve+"-"+Tt]={index:Ve,subindex:Tt,startAngle:wt,endAngle:vt,value:yt}}p[Ve]={index:Ve,startAngle:Oe,endAngle:Be,value:we[Ve]},Be+=R}for($e=-1;++$e<S;)for(ze=$e-1;++ze<S;){var Zt=ge[$e+"-"+ze],rn=ge[ze+"-"+$e];(Zt.value||rn.value)&&i.push(Zt.value<rn.value?{source:rn,target:Zt}:{source:Zt,target:rn})}G&&ce()}function ce(){i.sort(function(ge,we){return G((ge.source.value+ge.target.value)/2,(we.source.value+we.target.value)/2)})}return e.matrix=function(ge){return arguments.length?(S=(x=ge)&&x.length,i=p=null,e):x},e.padding=function(ge){return arguments.length?(R=ge,i=p=null,e):R},e.sortGroups=function(ge){return arguments.length?(K=ge,i=p=null,e):K},e.sortSubgroups=function(ge){return arguments.length?(U=ge,i=null,e):U},e.sortChords=function(ge){return arguments.length?(G=ge,i&&ce(),e):G},e.chords=function(){return i||re(),i},e.groups=function(){return p||re(),p},e},Q.layout.force=function(){var p,S,R,ke,Be,Oe,e={},i=Q.dispatch("start","tick","end"),x=[1,1],K=.9,U=nh,G=rh,re=-30,ce=ih,ge=.1,we=.64,Ne=[],Xe=[];function $e(Ve){return function(Tt,yt,wt,vt){if(Tt.point!==Ve){var An,Zt=Tt.cx-Ve.x,rn=Tt.cy-Ve.y,Ln=vt-yt,bn=Zt*Zt+rn*rn;if(Ln*Ln/we<bn)return bn<ce&&(Ve.px-=Zt*(An=Tt.charge/bn),Ve.py-=rn*An),!0;Tt.point&&bn&&bn<ce&&(Ve.px-=Zt*(An=Tt.pointCharge/bn),Ve.py-=rn*An)}return!Tt.charge}}function ze(Ve){Ve.px=Q.event.x,Ve.py=Q.event.y,e.resume()}return e.tick=function(){if((R*=.99)<.005)return p=null,i.end({type:"end",alpha:R=0}),!0;var yt,wt,vt,Zt,rn,Ln,bn,An,Lt,Ve=Ne.length,Tt=Xe.length;for(wt=0;wt<Tt;++wt)(Ln=(An=(rn=(vt=Xe[wt]).target).x-(Zt=vt.source).x)*An+(Lt=rn.y-Zt.y)*Lt)&&(Lt*=Ln=R*Be[wt]*((Ln=Math.sqrt(Ln))-ke[wt])/Ln,rn.x-=(An*=Ln)*(bn=Zt.weight+rn.weight?Zt.weight/(Zt.weight+rn.weight):.5),rn.y-=Lt*bn,Zt.x+=An*(bn=1-bn),Zt.y+=Lt*bn);if((bn=R*ge)&&(An=x[0]/2,Lt=x[1]/2,wt=-1,bn))for(;++wt<Ve;)(vt=Ne[wt]).x+=(An-vt.x)*bn,vt.y+=(Lt-vt.y)*bn;if(re)for(Ea(yt=Q.geom.quadtree(Ne),R,Oe),wt=-1;++wt<Ve;)(vt=Ne[wt]).fixed||yt.visit($e(vt));for(wt=-1;++wt<Ve;)(vt=Ne[wt]).fixed?(vt.x=vt.px,vt.y=vt.py):(vt.x-=(vt.px-(vt.px=vt.x))*K,vt.y-=(vt.py-(vt.py=vt.y))*K);i.tick({type:"tick",alpha:R})},e.nodes=function(Ve){return arguments.length?(Ne=Ve,e):Ne},e.links=function(Ve){return arguments.length?(Xe=Ve,e):Xe},e.size=function(Ve){return arguments.length?(x=Ve,e):x},e.linkDistance=function(Ve){return arguments.length?(U="function"==typeof Ve?Ve:+Ve,e):U},e.distance=e.linkDistance,e.linkStrength=function(Ve){return arguments.length?(G="function"==typeof Ve?Ve:+Ve,e):G},e.friction=function(Ve){return arguments.length?(K=+Ve,e):K},e.charge=function(Ve){return arguments.length?(re="function"==typeof Ve?Ve:+Ve,e):re},e.chargeDistance=function(Ve){return arguments.length?(ce=Ve*Ve,e):Math.sqrt(ce)},e.gravity=function(Ve){return arguments.length?(ge=+Ve,e):ge},e.theta=function(Ve){return arguments.length?(we=Ve*Ve,e):Math.sqrt(we)},e.alpha=function(Ve){return arguments.length?(Ve=+Ve,R?Ve>0?R=Ve:(p.c=null,p.t=NaN,p=null,i.end({type:"end",alpha:R=0})):Ve>0&&(i.start({type:"start",alpha:R=Ve}),p=P(e.tick)),e):R},e.start=function(){var Ve,Zt,rn,Tt=Ne.length,yt=Xe.length,wt=x[0],vt=x[1];for(Ve=0;Ve<Tt;++Ve)(rn=Ne[Ve]).index=Ve,rn.weight=0;for(Ve=0;Ve<yt;++Ve)"number"==typeof(rn=Xe[Ve]).source&&(rn.source=Ne[rn.source]),"number"==typeof rn.target&&(rn.target=Ne[rn.target]),++rn.source.weight,++rn.target.weight;for(Ve=0;Ve<Tt;++Ve)rn=Ne[Ve],isNaN(rn.x)&&(rn.x=Ln("x",wt)),isNaN(rn.y)&&(rn.y=Ln("y",vt)),isNaN(rn.px)&&(rn.px=rn.x),isNaN(rn.py)&&(rn.py=rn.y);if(ke=[],"function"==typeof U)for(Ve=0;Ve<yt;++Ve)ke[Ve]=+U.call(this,Xe[Ve],Ve);else for(Ve=0;Ve<yt;++Ve)ke[Ve]=U;if(Be=[],"function"==typeof G)for(Ve=0;Ve<yt;++Ve)Be[Ve]=+G.call(this,Xe[Ve],Ve);else for(Ve=0;Ve<yt;++Ve)Be[Ve]=G;if(Oe=[],"function"==typeof re)for(Ve=0;Ve<Tt;++Ve)Oe[Ve]=+re.call(this,Ne[Ve],Ve);else for(Ve=0;Ve<Tt;++Ve)Oe[Ve]=re;function Ln(bn,An){if(!Zt){for(Zt=new Array(Tt),dn=0;dn<Tt;++dn)Zt[dn]=[];for(dn=0;dn<yt;++dn){var Lt=Xe[dn];Zt[Lt.source.index].push(Lt.target),Zt[Lt.target.index].push(Lt.source)}}for(var hn,en=Zt[Ve],dn=-1,zt=en.length;++dn<zt;)if(!isNaN(hn=en[dn][bn]))return hn;return Math.random()*An}return e.resume()},e.resume=function(){return e.alpha(.1)},e.stop=function(){return e.alpha(0)},e.drag=function(){if(S||(S=Q.behavior.drag().origin(z).on("dragstart.force",Jc).on("drag.force",ze).on("dragend.force",Qc)),!arguments.length)return S;this.on("mouseover.force",eh).on("mouseout.force",th).call(S)},Q.rebind(e,i,"on")};var nh=20,rh=1,ih=1/0;function rs(e,i){return Q.rebind(e,i,"sort","children","value"),e.nodes=e,e.links=ch,e}function is(e,i){for(var p=[e];null!=(e=p.pop());)if(i(e),(S=e.children)&&(x=S.length))for(var x,S;--x>=0;)p.push(S[x])}function fo(e,i){for(var p=[e],x=[];null!=(e=p.pop());)if(x.push(e),(K=e.children)&&(R=K.length))for(var R,K,S=-1;++S<R;)p.push(K[S]);for(;null!=(e=x.pop());)i(e)}function oh(e){return e.children}function sh(e){return e.value}function ah(e,i){return i.value-e.value}function ch(e){return Q.merge(e.map(function(i){return(i.children||[]).map(function(p){return{source:i,target:p}})}))}Q.layout.hierarchy=function(){var e=ah,i=oh,p=sh;function x(S){var U,R=[S],K=[];for(S.depth=0;null!=(U=R.pop());)if(K.push(U),(re=i.call(x,U,U.depth))&&(G=re.length)){for(var G,re,ce;--G>=0;)R.push(ce=re[G]),ce.parent=U,ce.depth=U.depth+1;p&&(U.value=0),U.children=re}else p&&(U.value=+p.call(x,U,U.depth)||0),delete U.children;return fo(S,function(ge){var we,Ne;e&&(we=ge.children)&&we.sort(e),p&&(Ne=ge.parent)&&(Ne.value+=ge.value)}),K}return x.sort=function(S){return arguments.length?(e=S,x):e},x.children=function(S){return arguments.length?(i=S,x):i},x.value=function(S){return arguments.length?(p=S,x):p},x.revalue=function(S){return p&&(is(S,function(R){R.children&&(R.value=0)}),fo(S,function(R){var K;R.children||(R.value=+p.call(x,R,R.depth)||0),(K=R.parent)&&(K.value+=R.value)})),S},x},Q.layout.partition=function(){var e=Q.layout.hierarchy(),i=[1,1];function p(R,K,U,G){var re=R.children;if(R.x=K,R.y=R.depth*G,R.dx=U,R.dy=G,re&&(ge=re.length)){var ge,we,Ne,ce=-1;for(U=R.value?U/R.value:0;++ce<ge;)p(we=re[ce],K,Ne=we.value*U,G),K+=Ne}}function x(R){var K=R.children,U=0;if(K&&(re=K.length))for(var re,G=-1;++G<re;)U=Math.max(U,x(K[G]));return 1+U}function S(R,K){var U=e.call(this,R,K);return p(U[0],0,i[0],i[1]/x(U[0])),U}return S.size=function(R){return arguments.length?(i=R,S):i},rs(S,e)},Q.layout.pie=function(){var e=Number,i=Sa,p=0,x=Le,S=0;function R(K){var Oe,U=K.length,G=K.map(function($e,ze){return+e.call(R,$e,ze)}),re=+("function"==typeof p?p.apply(this,arguments):p),ce=("function"==typeof x?x.apply(this,arguments):x)-re,ge=Math.min(Math.abs(ce)/U,+("function"==typeof S?S.apply(this,arguments):S)),we=ge*(ce<0?-1:1),Ne=Q.sum(G),Xe=Ne?(ce-U*we)/Ne:0,ke=Q.range(U),Be=[];return null!=i&&ke.sort(i===Sa?function($e,ze){return G[ze]-G[$e]}:function($e,ze){return i(K[$e],K[ze])}),ke.forEach(function($e){Be[$e]={data:K[$e],value:Oe=G[$e],startAngle:re,endAngle:re+=Oe*Xe+we,padAngle:ge}}),Be}return R.value=function(K){return arguments.length?(e=K,R):e},R.sort=function(K){return arguments.length?(i=K,R):i},R.startAngle=function(K){return arguments.length?(p=K,R):p},R.endAngle=function(K){return arguments.length?(x=K,R):x},R.padAngle=function(K){return arguments.length?(S=K,R):S},R};var Sa={};function hh(e){return e.x}function uh(e){return e.y}function lh(e,i,p){e.y0=i,e.y=p}Q.layout.stack=function(){var e=z,i=Ps,p=Os,x=lh,S=hh,R=uh;function K(U,G){if(!(Xe=U.length))return U;var re=U.map(function($e,ze){return e.call(K,$e,ze)}),ce=re.map(function($e){return $e.map(function(ze,Ve){return[S.call(K,ze,Ve),R.call(K,ze,Ve)]})}),ge=i.call(K,ce,G);re=Q.permute(re,ge),ce=Q.permute(ce,ge);var Xe,ke,Be,Oe,we=p.call(K,ce,G),Ne=re[0].length;for(Be=0;Be<Ne;++Be)for(x.call(K,re[0][Be],Oe=we[Be],ce[0][Be][1]),ke=1;ke<Xe;++ke)x.call(K,re[ke][Be],Oe+=ce[ke-1][Be][1],ce[ke][Be][1]);return U}return K.values=function(U){return arguments.length?(e=U,K):e},K.order=function(U){return arguments.length?(i="function"==typeof U?U:fh.get(U)||Ps,K):i},K.offset=function(U){return arguments.length?(p="function"==typeof U?U:dh.get(U)||Os,K):p},K.x=function(U){return arguments.length?(S=U,K):S},K.y=function(U){return arguments.length?(R=U,K):R},K.out=function(U){return arguments.length?(x=U,K):x},K};var fh=Q.map({"inside-out":function(e){var p,x,i=e.length,S=e.map(ph),R=e.map(gh),K=Q.range(i).sort(function(ge,we){return S[ge]-S[we]}),U=0,G=0,re=[],ce=[];for(p=0;p<i;++p)x=K[p],U<G?(U+=R[x],re.push(x)):(G+=R[x],ce.push(x));return ce.reverse().concat(re)},reverse:function(e){return Q.range(e.length).reverse()},default:Ps}),dh=Q.map({silhouette:function(e){var R,K,U,i=e.length,p=e[0].length,x=[],S=0,G=[];for(K=0;K<p;++K){for(R=0,U=0;R<i;R++)U+=e[R][K][1];U>S&&(S=U),x.push(U)}for(K=0;K<p;++K)G[K]=(S-x[K])/2;return G},wiggle:function(e){var S,R,K,U,G,re,ce,ge,we,i=e.length,p=e[0],x=p.length,Ne=[];for(Ne[0]=ge=we=0,R=1;R<x;++R){for(S=0,U=0;S<i;++S)U+=e[S][R][1];for(S=0,G=0,ce=p[R][0]-p[R-1][0];S<i;++S){for(K=0,re=(e[S][R][1]-e[S][R-1][1])/(2*ce);K<S;++K)re+=(e[K][R][1]-e[K][R-1][1])/ce;G+=re*e[S][R][1]}Ne[R]=ge-=U?G/U*ce:0,ge<we&&(we=ge)}for(R=0;R<x;++R)Ne[R]-=we;return Ne},expand:function(e){var S,R,K,i=e.length,p=e[0].length,x=1/i,U=[];for(R=0;R<p;++R){for(S=0,K=0;S<i;S++)K+=e[S][R][1];if(K)for(S=0;S<i;S++)e[S][R][1]/=K;else for(S=0;S<i;S++)e[S][R][1]=x}for(R=0;R<p;++R)U[R]=0;return U},zero:Os});function Ps(e){return Q.range(e.length)}function Os(e){for(var i=-1,p=e[0].length,x=[];++i<p;)x[i]=0;return x}function ph(e){for(var S,i=1,p=0,x=e[0][1],R=e.length;i<R;++i)(S=e[i][1])>x&&(p=i,x=S);return p}function gh(e){return e.reduce(mh,0)}function mh(e,i){return e+i[1]}function vh(e,i){return ka(e,Math.ceil(Math.log(i.length)/Math.LN2+1))}function ka(e,i){for(var p=-1,x=+e[0],S=(e[1]-x)/i,R=[];++p<=i;)R[p]=S*p+x;return R}function yh(e){return[Q.min(e),Q.max(e)]}function _h(e,i){return e.value-i.value}function Ds(e,i){var p=e._pack_next;e._pack_next=i,i._pack_prev=e,i._pack_next=p,p._pack_prev=i}function Aa(e,i){e._pack_next=i,i._pack_prev=e}function Ca(e,i){var p=i.x-e.x,x=i.y-e.y,S=e.r+i.r;return.999*S*S>p*p+x*x}function Ta(e){if((i=e.children)&&(we=i.length)){var i,K,U,G,re,ce,ge,we,p=1/0,x=-1/0,S=1/0,R=-1/0;if(i.forEach(bh),(K=i[0]).x=-K.r,K.y=0,Ne(K),we>1&&((U=i[1]).x=U.r,U.y=0,Ne(U),we>2))for(Ra(K,U,G=i[2]),Ne(G),Ds(K,G),K._pack_prev=G,Ds(G,U),U=K._pack_next,re=3;re<we;re++){Ra(K,U,G=i[re]);var Xe=0,ke=1,Be=1;for(ce=U._pack_next;ce!==U;ce=ce._pack_next,ke++)if(Ca(ce,G)){Xe=1;break}if(1==Xe)for(ge=K._pack_prev;ge!==ce._pack_prev&&!Ca(ge,G);ge=ge._pack_prev,Be++);Xe?(ke<Be||ke==Be&&U.r<K.r?Aa(K,U=ce):Aa(K=ge,U),re--):(Ds(K,G),U=G,Ne(G))}var Oe=(p+x)/2,$e=(S+R)/2,ze=0;for(re=0;re<we;re++)(G=i[re]).x-=Oe,G.y-=$e,ze=Math.max(ze,G.r+Math.sqrt(G.x*G.x+G.y*G.y));e.r=ze,i.forEach(wh)}function Ne(Ve){p=Math.min(Ve.x-Ve.r,p),x=Math.max(Ve.x+Ve.r,x),S=Math.min(Ve.y-Ve.r,S),R=Math.max(Ve.y+Ve.r,R)}}function bh(e){e._pack_next=e._pack_prev=e}function wh(e){delete e._pack_next,delete e._pack_prev}function Ia(e,i,p,x){var S=e.children;if(e.x=i+=x*e.x,e.y=p+=x*e.y,e.r*=x,S)for(var R=-1,K=S.length;++R<K;)Ia(S[R],i,p,x)}function Ra(e,i,p){var x=e.r+p.r,S=i.x-e.x,R=i.y-e.y;if(x&&(S||R)){var K=i.r+p.r,U=S*S+R*R,G=.5+((x*=x)-(K*=K))/(2*U),re=Math.sqrt(Math.max(0,2*K*(x+U)-(x-=U)*x-K*K))/(2*U);p.x=e.x+G*S+re*R,p.y=e.y+G*R-re*S}else p.x=e.x+x,p.y=e.y}function Ma(e,i){return e.parent==i.parent?1:2}function zs(e){var i=e.children;return i.length?i[0]:e.t}function Us(e){var p,i=e.children;return(p=i.length)?i[p-1]:e.t}function xh(e,i,p){var x=p/(i.i-e.i);i.c-=x,i.s+=p,e.c+=x,i.z+=p,i.m+=p}function Sh(e,i,p){return e.a.parent===i.parent?e.a:p}function La(e){var i=e.children;return i&&i.length?La(i[0]):e}function Ba(e){var p,i=e.children;return i&&(p=i.length)?Ba(i[p-1]):e}function js(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Na(e,i){var p=e.x+i[3],x=e.y+i[0],S=e.dx-i[1]-i[3],R=e.dy-i[0]-i[2];return S<0&&(p+=S/2,S=0),R<0&&(x+=R/2,R=0),{x:p,y:x,dx:S,dy:R}}function Ko(e){var i=e[0],p=e[e.length-1];return i<p?[i,p]:[p,i]}function ps(e){return e.rangeExtent?e.rangeExtent():Ko(e.range())}function Ch(e,i,p,x){var S=p(e[0],e[1]),R=x(i[0],i[1]);return function(K){return R(S(K))}}function gs(e,i){var K,p=0,x=e.length-1,S=e[p],R=e[x];return R<S&&(K=p,p=x,x=K,K=S,S=R,R=K),e[p]=i.floor(S),e[x]=i.ceil(R),e}function Pa(e){return e?{floor:function(i){return Math.floor(i/e)*e},ceil:function(i){return Math.ceil(i/e)*e}}:Th}Q.layout.histogram=function(){var e=!0,i=Number,p=yh,x=vh;function S(R,we){for(var ge,Be,U=[],G=R.map(i,this),re=p.call(this,G,we),ce=x.call(this,re,G,we),Ne=(we=-1,G.length),Xe=ce.length-1,ke=e?1:1/Ne;++we<Xe;)(ge=U[we]=[]).dx=ce[we+1]-(ge.x=ce[we]),ge.y=0;if(Xe>0)for(we=-1;++we<Ne;)(Be=G[we])>=re[0]&&Be<=re[1]&&((ge=U[Q.bisect(ce,Be,1,Xe)-1]).y+=ke,ge.push(R[we]));return U}return S.value=function(R){return arguments.length?(i=R,S):i},S.range=function(R){return arguments.length?(p=Jn(R),S):p},S.bins=function(R){return arguments.length?(x="number"==typeof R?function(K){return ka(K,R)}:Jn(R),S):x},S.frequency=function(R){return arguments.length?(e=!!R,S):e},S},Q.layout.pack=function(){var x,e=Q.layout.hierarchy().sort(_h),i=0,p=[1,1];function S(R,K){var U=e.call(this,R,K),G=U[0],re=p[0],ce=p[1],ge=null==x?Math.sqrt:"function"==typeof x?x:function(){return x};if(G.x=G.y=0,fo(G,function(Ne){Ne.r=+ge(Ne.value)}),fo(G,Ta),i){var we=i*(x?1:Math.max(2*G.r/re,2*G.r/ce))/2;fo(G,function(Ne){Ne.r+=we}),fo(G,Ta),fo(G,function(Ne){Ne.r-=we})}return Ia(G,re/2,ce/2,x?1:1/Math.max(2*G.r/re,2*G.r/ce)),U}return S.size=function(R){return arguments.length?(p=R,S):p},S.radius=function(R){return arguments.length?(x=null==R||"function"==typeof R?R:+R,S):x},S.padding=function(R){return arguments.length?(i=+R,S):i},rs(S,e)},Q.layout.tree=function(){var e=Q.layout.hierarchy().sort(null).value(null),i=Ma,p=[1,1],x=null;function S(ce,ge){var we=e.call(this,ce,ge),Ne=we[0],Xe=function R(ce){for(var Ne,ge={A:null,children:[ce]},we=[ge];null!=(Ne=we.pop());)for(var ke,Xe=Ne.children,Be=0,Oe=Xe.length;Be<Oe;++Be)we.push((Xe[Be]=ke={_:Xe[Be],parent:Ne,children:(ke=Xe[Be].children)&&ke.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Be}).a=ke);return ge.children[0]}(Ne);if(fo(Xe,K),Xe.parent.m=-Xe.z,is(Xe,U),x)is(Ne,re);else{var ke=Ne,Be=Ne,Oe=Ne;is(Ne,function(Tt){Tt.x<ke.x&&(ke=Tt),Tt.x>Be.x&&(Be=Tt),Tt.depth>Oe.depth&&(Oe=Tt)});var $e=i(ke,Be)/2-ke.x,ze=p[0]/(Be.x+i(Be,ke)/2+$e),Ve=p[1]/(Oe.depth||1);is(Ne,function(Tt){Tt.x=(Tt.x+$e)*ze,Tt.y=Tt.depth*Ve})}return we}function K(ce){var ge=ce.children,we=ce.parent.children,Ne=ce.i?we[ce.i-1]:null;if(ge.length){!function Eh(e){for(var R,i=0,p=0,x=e.children,S=x.length;--S>=0;)(R=x[S]).z+=i,R.m+=i,i+=R.s+(p+=R.c)}(ce);var Xe=(ge[0].z+ge[ge.length-1].z)/2;Ne?(ce.z=Ne.z+i(ce._,Ne._),ce.m=ce.z-Xe):ce.z=Xe}else Ne&&(ce.z=Ne.z+i(ce._,Ne._));ce.parent.A=function G(ce,ge,we){if(ge){for(var Tt,Ne=ce,Xe=ce,ke=ge,Be=Ne.parent.children[0],Oe=Ne.m,$e=Xe.m,ze=ke.m,Ve=Be.m;ke=Us(ke),Ne=zs(Ne),ke&&Ne;)Be=zs(Be),(Xe=Us(Xe)).a=ce,(Tt=ke.z+ze-Ne.z-Oe+i(ke._,Ne._))>0&&(xh(Sh(ke,ce,we),ce,Tt),Oe+=Tt,$e+=Tt),ze+=ke.m,Oe+=Ne.m,Ve+=Be.m,$e+=Xe.m;ke&&!Us(Xe)&&(Xe.t=ke,Xe.m+=ze-$e),Ne&&!zs(Be)&&(Be.t=Ne,Be.m+=Oe-Ve,we=ce)}return we}(ce,Ne,ce.parent.A||we[0])}function U(ce){ce._.x=ce.z+ce.parent.m,ce.m+=ce.parent.m}function re(ce){ce.x*=p[0],ce.y=ce.depth*p[1]}return S.separation=function(ce){return arguments.length?(i=ce,S):i},S.size=function(ce){return arguments.length?(x=null==(p=ce)?re:null,S):x?null:p},S.nodeSize=function(ce){return arguments.length?(x=null==(p=ce)?null:re,S):x?p:null},rs(S,e)},Q.layout.cluster=function(){var e=Q.layout.hierarchy().sort(null).value(null),i=Ma,p=[1,1],x=!1;function S(R,K){var re,U=e.call(this,R,K),G=U[0],ce=0;fo(G,function(ke){var Be=ke.children;Be&&Be.length?(ke.x=function Ah(e){return e.reduce(function(i,p){return i+p.x},0)/e.length}(Be),ke.y=function kh(e){return 1+Q.max(e,function(i){return i.y})}(Be)):(ke.x=re?ce+=i(ke,re):0,ke.y=0,re=ke)});var ge=La(G),we=Ba(G),Ne=ge.x-i(ge,we)/2,Xe=we.x+i(we,ge)/2;return fo(G,x?function(ke){ke.x=(ke.x-G.x)*p[0],ke.y=(G.y-ke.y)*p[1]}:function(ke){ke.x=(ke.x-Ne)/(Xe-Ne)*p[0],ke.y=(1-(G.y?ke.y/G.y:1))*p[1]}),U}return S.separation=function(R){return arguments.length?(i=R,S):i},S.size=function(R){return arguments.length?(x=null==(p=R),S):x?null:p},S.nodeSize=function(R){return arguments.length?(x=null!=(p=R),S):x?p:null},rs(S,e)},Q.layout.treemap=function(){var K,e=Q.layout.hierarchy(),i=Math.round,p=[1,1],x=null,S=js,R=!1,U="squarify",G=.5*(1+Math.sqrt(5));function re(ke,Be){for(var ze,Ve,Oe=-1,$e=ke.length;++Oe<$e;)Ve=(ze=ke[Oe]).value*(Be<0?0:Be),ze.area=isNaN(Ve)||Ve<=0?0:Ve}function ce(ke){var Be=ke.children;if(Be&&Be.length){var Ve,yt,vt,Oe=S(ke),$e=[],ze=Be.slice(),Tt=1/0,wt="slice"===U?Oe.dx:"dice"===U?Oe.dy:"slice-dice"===U?1&ke.depth?Oe.dy:Oe.dx:Math.min(Oe.dx,Oe.dy);for(re(ze,Oe.dx*Oe.dy/ke.value),$e.area=0;(vt=ze.length)>0;)$e.push(Ve=ze[vt-1]),$e.area+=Ve.area,"squarify"!==U||(yt=we($e,wt))<=Tt?(ze.pop(),Tt=yt):($e.area-=$e.pop().area,Ne($e,wt,Oe,!1),wt=Math.min(Oe.dx,Oe.dy),$e.length=$e.area=0,Tt=1/0);$e.length&&(Ne($e,wt,Oe,!0),$e.length=$e.area=0),Be.forEach(ce)}}function ge(ke){var Be=ke.children;if(Be&&Be.length){var ze,Oe=S(ke),$e=Be.slice(),Ve=[];for(re($e,Oe.dx*Oe.dy/ke.value),Ve.area=0;ze=$e.pop();)Ve.push(ze),Ve.area+=ze.area,null!=ze.z&&(Ne(Ve,ze.z?Oe.dx:Oe.dy,Oe,!$e.length),Ve.length=Ve.area=0);Be.forEach(ge)}}function we(ke,Be){for(var $e,Oe=ke.area,ze=0,Ve=1/0,Tt=-1,yt=ke.length;++Tt<yt;)($e=ke[Tt].area)&&($e<Ve&&(Ve=$e),$e>ze&&(ze=$e));return Be*=Be,(Oe*=Oe)?Math.max(Be*ze*G/Oe,Oe/(Be*Ve*G)):1/0}function Ne(ke,Be,Oe,$e){var vt,ze=-1,Ve=ke.length,Tt=Oe.x,yt=Oe.y,wt=Be?i(ke.area/Be):0;if(Be==Oe.dx){for(($e||wt>Oe.dy)&&(wt=Oe.dy);++ze<Ve;)(vt=ke[ze]).x=Tt,vt.y=yt,vt.dy=wt,Tt+=vt.dx=Math.min(Oe.x+Oe.dx-Tt,wt?i(vt.area/wt):0);vt.z=!0,vt.dx+=Oe.x+Oe.dx-Tt,Oe.y+=wt,Oe.dy-=wt}else{for(($e||wt>Oe.dx)&&(wt=Oe.dx);++ze<Ve;)(vt=ke[ze]).x=Tt,vt.y=yt,vt.dx=wt,yt+=vt.dy=Math.min(Oe.y+Oe.dy-yt,wt?i(vt.area/wt):0);vt.z=!1,vt.dy+=Oe.y+Oe.dy-yt,Oe.x+=wt,Oe.dx-=wt}}function Xe(ke){var Be=K||e(ke),Oe=Be[0];return Oe.x=Oe.y=0,Oe.value?(Oe.dx=p[0],Oe.dy=p[1]):Oe.dx=Oe.dy=0,K&&e.revalue(Oe),re([Oe],Oe.dx*Oe.dy/Oe.value),(K?ge:ce)(Oe),R&&(K=Be),Be}return Xe.size=function(ke){return arguments.length?(p=ke,Xe):p},Xe.padding=function(ke){return arguments.length?(S=null==(x=ke)?js:"function"==($e=typeof ke)?function Be(ze){var Ve=ke.call(Xe,ze,ze.depth);return null==Ve?js(ze):Na(ze,"number"==typeof Ve?[Ve,Ve,Ve,Ve]:Ve)}:("number"===$e&&(ke=[ke,ke,ke,ke]),function Oe(ze){return Na(ze,ke)}),Xe):x;var $e},Xe.round=function(ke){return arguments.length?(i=ke?Math.round:Number,Xe):i!=Number},Xe.sticky=function(ke){return arguments.length?(R=ke,K=null,Xe):R},Xe.ratio=function(ke){return arguments.length?(G=ke,Xe):G},Xe.mode=function(ke){return arguments.length?(U=ke+"",Xe):U},rs(Xe,e)},Q.random={normal:function(e,i){var p=arguments.length;return p<2&&(i=1),p<1&&(e=0),function(){var x,S,R;do{R=(x=2*Math.random()-1)*x+(S=2*Math.random()-1)*S}while(!R||R>1);return e+i*x*Math.sqrt(-2*Math.log(R)/R)}},logNormal:function(){var e=Q.random.normal.apply(Q,arguments);return function(){return Math.exp(e())}},bates:function(e){var i=Q.random.irwinHall(e);return function(){return i()/e}},irwinHall:function(e){return function(){for(var i=0,p=0;p<e;p++)i+=Math.random();return i}}},Q.scale={};var Th={floor:z,ceil:z};function Ih(e,i,p,x){var S=[],R=[],K=0,U=Math.min(e.length,i.length)-1;for(e[U]<e[0]&&(e=e.slice().reverse(),i=i.slice().reverse());++K<=U;)S.push(p(e[K-1],e[K])),R.push(x(i[K-1],i[K]));return function(G){var re=Q.bisect(e,G,1,U)-1;return R[re](S[re](G))}}function Oa(e,i,p,x){var S,R;function K(){var G=Math.min(e.length,i.length)>2?Ih:Ch,re=x?$c:Yc;return S=G(e,i,re,p),R=G(i,e,re,Lo),U}function U(G){return S(G)}return U.invert=function(G){return R(G)},U.domain=function(G){return arguments.length?(e=G.map(Number),K()):e},U.range=function(G){return arguments.length?(i=G,K()):i},U.rangeRound=function(G){return U.range(G).interpolate(va)},U.clamp=function(G){return arguments.length?(x=G,K()):x},U.interpolate=function(G){return arguments.length?(p=G,K()):p},U.ticks=function(G){return Hs(e,G)},U.tickFormat=function(G,re){return Ws(e,G,re)},U.nice=function(G){return Da(e,G),K()},U.copy=function(){return Oa(e,i,p,x)},K()}function Fs(e,i){return Q.rebind(e,i,"range","rangeRound","interpolate","clamp")}function Da(e,i){return gs(e,Pa(Vo(e,i)[2])),gs(e,Pa(Vo(e,i)[2])),e}function Vo(e,i){null==i&&(i=10);var p=Ko(e),x=p[1]-p[0],S=Math.pow(10,Math.floor(Math.log(x/i)/Math.LN10)),R=i/x*S;return R<=.15?S*=10:R<=.35?S*=5:R<=.75&&(S*=2),p[0]=Math.ceil(p[0]/S)*S,p[1]=Math.floor(p[1]/S)*S+.5*S,p[2]=S,p}function Hs(e,i){return Q.range.apply(Q,Vo(e,i))}function Ws(e,i,p){var x=Vo(e,i);if(p){var S=Ge.exec(p);if(S.shift(),"s"===S[8]){var R=Q.formatPrefix(Math.max(n(x[0]),n(x[1])));return S[7]||(S[7]="."+ms(R.scale(x[2]))),S[8]="f",p=Q.format(S.join("")),function(K){return p(R.scale(K))+R.symbol}}S[7]||(S[7]="."+function Mh(e,i){var p=ms(i[2]);return e in Rh?Math.abs(p-ms(Math.max(n(i[0]),n(i[1]))))+ +("e"!==e):p-2*("%"===e)}(S[8],x)),p=S.join("")}else p=",."+ms(x[2])+"f";return Q.format(p)}Q.scale.linear=function(){return Oa([0,1],[0,1],Lo,!1)};var Rh={s:1,g:1,p:1,r:1,e:1};function ms(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function za(e,i,p,x){function S(U){return(p?Math.log(U<0?0:U):-Math.log(U>0?0:-U))/Math.log(i)}function R(U){return p?Math.pow(i,U):-Math.pow(i,-U)}function K(U){return e(S(U))}return K.invert=function(U){return R(e.invert(U))},K.domain=function(U){return arguments.length?(p=U[0]>=0,e.domain((x=U.map(Number)).map(S)),K):x},K.base=function(U){return arguments.length?(i=+U,e.domain(x.map(S)),K):i},K.nice=function(){var U=gs(x.map(S),p?Math:Lh);return e.domain(U),x=U.map(R),K},K.ticks=function(){var U=Ko(x),G=[],re=U[0],ce=U[1],ge=Math.floor(S(re)),we=Math.ceil(S(ce)),Ne=i%1?2:i;if(isFinite(we-ge)){if(p){for(;ge<we;ge++)for(var Xe=1;Xe<Ne;Xe++)G.push(R(ge)*Xe);G.push(R(ge))}else for(G.push(R(ge));ge++<we;)for(Xe=Ne-1;Xe>0;Xe--)G.push(R(ge)*Xe);for(ge=0;G[ge]<re;ge++);for(we=G.length;G[we-1]>ce;we--);G=G.slice(ge,we)}return G},K.tickFormat=function(U,G){if(!arguments.length)return Ua;arguments.length<2?G=Ua:"function"!=typeof G&&(G=Q.format(G));var re=Math.max(1,i*U/K.ticks().length);return function(ce){var ge=ce/R(Math.round(S(ce)));return ge*i<i-.5&&(ge*=i),ge<=re?G(ce):""}},K.copy=function(){return za(e.copy(),i,p,x)},Fs(K,e)}Q.scale.log=function(){return za(Q.scale.linear().domain([0,1]),10,!0,[1,10])};var Ua=Q.format(".0e"),Lh={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function ja(e,i,p){var x=vs(i),S=vs(1/i);function R(K){return e(x(K))}return R.invert=function(K){return S(e.invert(K))},R.domain=function(K){return arguments.length?(e.domain((p=K.map(Number)).map(x)),R):p},R.ticks=function(K){return Hs(p,K)},R.tickFormat=function(K,U){return Ws(p,K,U)},R.nice=function(K){return R.domain(Da(p,K))},R.exponent=function(K){return arguments.length?(x=vs(i=K),S=vs(1/i),e.domain(p.map(x)),R):i},R.copy=function(){return ja(e.copy(),i,p)},Fs(R,e)}function vs(e){return function(i){return i<0?-Math.pow(-i,e):Math.pow(i,e)}}function Fa(e,i){var p,x,S;function R(U){return x[((p.get(U)||("range"===i.t?p.set(U,e.push(U)):NaN))-1)%x.length]}function K(U,G){return Q.range(e.length).map(function(re){return U+G*re})}return R.domain=function(U){if(!arguments.length)return e;e=[],p=new s;for(var ce,G=-1,re=U.length;++G<re;)p.has(ce=U[G])||p.set(ce,e.push(ce));return R[i.t].apply(R,i.a)},R.range=function(U){return arguments.length?(x=U,S=0,i={t:"range",a:arguments},R):x},R.rangePoints=function(U,G){arguments.length<2&&(G=0);var re=U[0],ce=U[1],ge=e.length<2?(re=(re+ce)/2,0):(ce-re)/(e.length-1+G);return x=K(re+ge*G/2,ge),S=0,i={t:"rangePoints",a:arguments},R},R.rangeRoundPoints=function(U,G){arguments.length<2&&(G=0);var re=U[0],ce=U[1],ge=e.length<2?(re=ce=Math.round((re+ce)/2),0):(ce-re)/(e.length-1+G)|0;return x=K(re+Math.round(ge*G/2+(ce-re-(e.length-1+G)*ge)/2),ge),S=0,i={t:"rangeRoundPoints",a:arguments},R},R.rangeBands=function(U,G,re){arguments.length<2&&(G=0),arguments.length<3&&(re=G);var ce=U[1]<U[0],ge=U[ce-0],Ne=(U[1-ce]-ge)/(e.length-G+2*re);return x=K(ge+Ne*re,Ne),ce&&x.reverse(),S=Ne*(1-G),i={t:"rangeBands",a:arguments},R},R.rangeRoundBands=function(U,G,re){arguments.length<2&&(G=0),arguments.length<3&&(re=G);var ce=U[1]<U[0],ge=U[ce-0],we=U[1-ce],Ne=Math.floor((we-ge)/(e.length-G+2*re));return x=K(ge+Math.round((we-ge-(e.length-G)*Ne)/2),Ne),ce&&x.reverse(),S=Math.round(Ne*(1-G)),i={t:"rangeRoundBands",a:arguments},R},R.rangeBand=function(){return S},R.rangeExtent=function(){return Ko(i.a[0])},R.copy=function(){return Fa(e,i)},R.domain(e)}Q.scale.pow=function(){return ja(Q.scale.linear(),1,[0,1])},Q.scale.sqrt=function(){return Q.scale.pow().exponent(.5)},Q.scale.ordinal=function(){return Fa([],{t:"range",a:[[]]})},Q.scale.category10=function(){return Q.scale.ordinal().range(Bh)},Q.scale.category20=function(){return Q.scale.ordinal().range(Nh)},Q.scale.category20b=function(){return Q.scale.ordinal().range(Ph)},Q.scale.category20c=function(){return Q.scale.ordinal().range(Oh)};var Bh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ai),Nh=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ai),Ph=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ai),Oh=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ai);function Ha(e,i){var p;function x(){var R=0,K=i.length;for(p=[];++R<K;)p[R-1]=Q.quantile(e,R/K);return S}function S(R){if(!isNaN(R=+R))return i[Q.bisect(p,R)]}return S.domain=function(R){return arguments.length?(e=R.map(A).filter(f).sort(N),x()):e},S.range=function(R){return arguments.length?(i=R,x()):i},S.quantiles=function(){return p},S.invertExtent=function(R){return(R=i.indexOf(R))<0?[NaN,NaN]:[R>0?p[R-1]:e[0],R<p.length?p[R]:e[e.length-1]]},S.copy=function(){return Ha(e,i)},x()}function Wa(e,i,p){var x,S;function R(U){return p[Math.max(0,Math.min(S,Math.floor(x*(U-e))))]}function K(){return x=p.length/(i-e),S=p.length-1,R}return R.domain=function(U){return arguments.length?(e=+U[0],i=+U[U.length-1],K()):[e,i]},R.range=function(U){return arguments.length?(p=U,K()):p},R.invertExtent=function(U){return[U=(U=p.indexOf(U))<0?NaN:U/x+e,U+1/x]},R.copy=function(){return Wa(e,i,p)},K()}function qa(e,i){function p(x){if(x<=x)return i[Q.bisect(e,x)]}return p.domain=function(x){return arguments.length?(e=x,p):e},p.range=function(x){return arguments.length?(i=x,p):i},p.invertExtent=function(x){return x=i.indexOf(x),[e[x-1],e[x]]},p.copy=function(){return qa(e,i)},p}function Ka(e){function i(p){return+p}return i.invert=i,i.domain=i.range=function(p){return arguments.length?(e=p.map(i),i):e},i.ticks=function(p){return Hs(e,p)},i.tickFormat=function(p,x){return Ws(e,p,x)},i.copy=function(){return Ka(e)},i}function Dh(){return 0}Q.scale.quantile=function(){return Ha([],[])},Q.scale.quantize=function(){return Wa(0,1,[0,1])},Q.scale.threshold=function(){return qa([.5],[0,1])},Q.scale.identity=function(){return Ka([0,1])},Q.svg={},Q.svg.arc=function(){var e=zh,i=Uh,p=Dh,x=ys,S=Va,R=Ga,K=jh;function U(){var re=Math.max(0,+e.apply(this,arguments)),ce=Math.max(0,+i.apply(this,arguments)),ge=S.apply(this,arguments)-qe,we=R.apply(this,arguments)-qe,Ne=Math.abs(we-ge),Xe=ge>we?0:1;if(ce<re&&(ke=ce,ce=re,re=ke),Ne>=et)return G(ce,Xe)+(re?G(re,1-Xe):"")+"Z";var ke,Be,Oe,$e,Tt,yt,wt,vt,Zt,rn,Ln,bn,ze=0,Ve=0,An=[];if(($e=(+K.apply(this,arguments)||0)/2)&&(Oe=x===ys?Math.sqrt(re*re+ce*ce):+x.apply(this,arguments),Xe||(Ve*=-1),ce&&(Ve=Ot(Oe/ce*Math.sin($e))),re&&(ze=Ot(Oe/re*Math.sin($e)))),ce){Tt=ce*Math.cos(ge+Ve),yt=ce*Math.sin(ge+Ve),wt=ce*Math.cos(we-Ve),vt=ce*Math.sin(we-Ve);var Lt=Math.abs(we-ge-2*Ve)<=de?0:1;if(Ve&&_s(Tt,yt,wt,vt)===Xe^Lt){var en=(ge+we)/2;Tt=ce*Math.cos(en),yt=ce*Math.sin(en),wt=vt=null}}else Tt=yt=0;if(re){Zt=re*Math.cos(we-ze),rn=re*Math.sin(we-ze),Ln=re*Math.cos(ge+ze),bn=re*Math.sin(ge+ze);var dn=Math.abs(ge-we+2*ze)<=de?0:1;if(ze&&_s(Zt,rn,Ln,bn)===1-Xe^dn){var zt=(ge+we)/2;Zt=re*Math.cos(zt),rn=re*Math.sin(zt),Ln=bn=null}}else Zt=rn=0;if(Ne>Rt&&(ke=Math.min(Math.abs(ce-re)/2,+p.apply(this,arguments)))>.001){Be=re<ce^Xe?0:1;var hn=ke,Wn=ke;if(Ne<de){var tr=null==Ln?[Zt,rn]:null==wt?[Tt,yt]:Zo([Tt,yt],[Ln,bn],[wt,vt],[Zt,rn]),lr=Tt-tr[0],Nr=yt-tr[1],qr=wt-tr[0],Li=vt-tr[1],Di=1/Math.sin(Math.acos((lr*qr+Nr*Li)/(Math.sqrt(lr*lr+Nr*Nr)*Math.sqrt(qr*qr+Li*Li)))/2),Bi=Math.sqrt(tr[0]*tr[0]+tr[1]*tr[1]);Wn=Math.min(ke,(re-Bi)/(Di-1)),hn=Math.min(ke,(ce-Bi)/(Di+1))}if(null!=wt){var qi=bs(null==Ln?[Zt,rn]:[Ln,bn],[Tt,yt],ce,hn,Xe),Ti=bs([wt,vt],[Zt,rn],ce,hn,Xe);ke===hn?An.push("M",qi[0],"A",hn,",",hn," 0 0,",Be," ",qi[1],"A",ce,",",ce," 0 ",1-Xe^_s(qi[1][0],qi[1][1],Ti[1][0],Ti[1][1]),",",Xe," ",Ti[1],"A",hn,",",hn," 0 0,",Be," ",Ti[0]):An.push("M",qi[0],"A",hn,",",hn," 0 1,",Be," ",Ti[0])}else An.push("M",Tt,",",yt);if(null!=Ln){var Ki=bs([Tt,yt],[Ln,bn],re,-Wn,Xe),Po=bs([Zt,rn],null==wt?[Tt,yt]:[wt,vt],re,-Wn,Xe);ke===Wn?An.push("L",Po[0],"A",Wn,",",Wn," 0 0,",Be," ",Po[1],"A",re,",",re," 0 ",Xe^_s(Po[1][0],Po[1][1],Ki[1][0],Ki[1][1]),",",1-Xe," ",Ki[1],"A",Wn,",",Wn," 0 0,",Be," ",Ki[0]):An.push("L",Po[0],"A",Wn,",",Wn," 0 0,",Be," ",Ki[0])}else An.push("L",Zt,",",rn)}else An.push("M",Tt,",",yt),null!=wt&&An.push("A",ce,",",ce," 0 ",Lt,",",Xe," ",wt,",",vt),An.push("L",Zt,",",rn),null!=Ln&&An.push("A",re,",",re," 0 ",dn,",",1-Xe," ",Ln,",",bn);return An.push("Z"),An.join("")}function G(re,ce){return"M0,"+re+"A"+re+","+re+" 0 1,"+ce+" 0,"+-re+"A"+re+","+re+" 0 1,"+ce+" 0,"+re}return U.innerRadius=function(re){return arguments.length?(e=Jn(re),U):e},U.outerRadius=function(re){return arguments.length?(i=Jn(re),U):i},U.cornerRadius=function(re){return arguments.length?(p=Jn(re),U):p},U.padRadius=function(re){return arguments.length?(x=re==ys?ys:Jn(re),U):x},U.startAngle=function(re){return arguments.length?(S=Jn(re),U):S},U.endAngle=function(re){return arguments.length?(R=Jn(re),U):R},U.padAngle=function(re){return arguments.length?(K=Jn(re),U):K},U.centroid=function(){var re=(+e.apply(this,arguments)+ +i.apply(this,arguments))/2,ce=(+S.apply(this,arguments)+ +R.apply(this,arguments))/2-qe;return[Math.cos(ce)*re,Math.sin(ce)*re]},U};var ys="auto";function zh(e){return e.innerRadius}function Uh(e){return e.outerRadius}function Va(e){return e.startAngle}function Ga(e){return e.endAngle}function jh(e){return e&&e.padAngle}function _s(e,i,p,x){return(e-p)*i-(i-x)*e>0?0:1}function bs(e,i,p,x,S){var R=e[0]-i[0],K=e[1]-i[1],U=(S?x:-x)/Math.sqrt(R*R+K*K),G=U*K,re=-U*R,ce=e[0]+G,ge=e[1]+re,we=i[0]+G,Ne=i[1]+re,Xe=(ce+we)/2,ke=(ge+Ne)/2,Be=we-ce,Oe=Ne-ge,$e=Be*Be+Oe*Oe,ze=p-x,Ve=ce*Ne-we*ge,Tt=(Oe<0?-1:1)*Math.sqrt(Math.max(0,ze*ze*$e-Ve*Ve)),yt=(Ve*Oe-Be*Tt)/$e,wt=(-Ve*Be-Oe*Tt)/$e,vt=(Ve*Oe+Be*Tt)/$e,Zt=(-Ve*Be+Oe*Tt)/$e,rn=yt-Xe,Ln=wt-ke,bn=vt-Xe,An=Zt-ke;return rn*rn+Ln*Ln>bn*bn+An*An&&(yt=vt,wt=Zt),[[yt-G,wt-re],[yt*p/ze,wt*p/ze]]}function Ya(e){var i=wo,p=xo,x=Fn,S=oo,R=S.key,K=.7;function U(G){var Ne,re=[],ce=[],ge=-1,we=G.length,Xe=Jn(i),ke=Jn(p);function Be(){re.push("M",S(e(ce),K))}for(;++ge<we;)x.call(this,Ne=G[ge],ge)?ce.push([+Xe.call(this,Ne,ge),+ke.call(this,Ne,ge)]):ce.length&&(Be(),ce=[]);return ce.length&&Be(),re.length?re.join(""):null}return U.x=function(G){return arguments.length?(i=G,U):i},U.y=function(G){return arguments.length?(p=G,U):p},U.defined=function(G){return arguments.length?(x=G,U):x},U.interpolate=function(G){return arguments.length?(R="function"==typeof G?S=G:(S=qs.get(G)||oo).key,U):R},U.tension=function(G){return arguments.length?(K=G,U):K},U}Q.svg.line=function(){return Ya(z)};var qs=Q.map({linear:oo,"linear-closed":$a,step:function Fh(e){for(var i=0,p=e.length,x=e[0],S=[x[0],",",x[1]];++i<p;)S.push("H",(x[0]+(x=e[i])[0])/2,"V",x[1]);return p>1&&S.push("H",x[0]),S.join("")},"step-before":Ks,"step-after":Vs,basis:Xa,"basis-open":function Kh(e){if(e.length<4)return oo(e);for(var S,i=[],p=-1,x=e.length,R=[0],K=[0];++p<3;)R.push((S=e[p])[0]),K.push(S[1]);for(i.push(Ji(Eo,R)+","+Ji(Eo,K)),--p;++p<x;)S=e[p],R.shift(),R.push(S[0]),K.shift(),K.push(S[1]),Ys(i,R,K);return i.join("")},"basis-closed":function Vh(e){for(var i,R,p=-1,x=e.length,S=x+4,K=[],U=[];++p<4;)K.push((R=e[p%x])[0]),U.push(R[1]);for(i=[Ji(Eo,K),",",Ji(Eo,U)],--p;++p<S;)R=e[p%x],K.shift(),K.push(R[0]),U.shift(),U.push(R[1]),Ys(i,K,U);return i.join("")},bundle:function Gh(e,i){var p=e.length-1;if(p)for(var G,re,x=e[0][0],S=e[0][1],R=e[p][0]-x,K=e[p][1]-S,U=-1;++U<=p;)(G=e[U])[0]=i*G[0]+(1-i)*(x+(re=U/p)*R),G[1]=i*G[1]+(1-i)*(S+re*K);return Xa(e)},cardinal:function qh(e,i){return e.length<3?oo(e):e[0]+ws(e,Gs(e,i))},"cardinal-open":function Hh(e,i){return e.length<4?oo(e):e[1]+ws(e.slice(1,-1),Gs(e,i))},"cardinal-closed":function Wh(e,i){return e.length<3?$a(e):e[0]+ws((e.push(e[0]),e),Gs([e[e.length-2]].concat(e,[e[1]]),i))},monotone:function Xh(e){return e.length<3?oo(e):e[0]+ws(e,function $h(e){for(var p,x,S,R,i=[],K=function Yh(e){for(var i=0,p=e.length-1,x=[],S=e[0],R=e[1],K=x[0]=$s(S,R);++i<p;)x[i]=(K+(K=$s(S=R,R=e[i+1])))/2;return x[i]=K,x}(e),U=-1,G=e.length-1;++U<G;)p=$s(e[U],e[U+1]),n(p)<Rt?K[U]=K[U+1]=0:(R=(x=K[U]/p)*x+(S=K[U+1]/p)*S)>9&&(R=3*p/Math.sqrt(R),K[U]=R*x,K[U+1]=R*S);for(U=-1;++U<=G;)R=(e[Math.min(G,U+1)][0]-e[Math.max(0,U-1)][0])/(6*(1+K[U]*K[U])),i.push([R||0,K[U]*R||0]);return i}(e))}});function oo(e){return e.length>1?e.join("L"):e+"Z"}function $a(e){return e.join("L")+"Z"}function Ks(e){for(var i=0,p=e.length,x=e[0],S=[x[0],",",x[1]];++i<p;)S.push("V",(x=e[i])[1],"H",x[0]);return S.join("")}function Vs(e){for(var i=0,p=e.length,x=e[0],S=[x[0],",",x[1]];++i<p;)S.push("H",(x=e[i])[0],"V",x[1]);return S.join("")}function ws(e,i){if(i.length<1||e.length!=i.length&&e.length!=i.length+2)return oo(e);var p=e.length!=i.length,x="",S=e[0],R=e[1],K=i[0],U=K,G=1;if(p&&(x+="Q"+(R[0]-2*K[0]/3)+","+(R[1]-2*K[1]/3)+","+R[0]+","+R[1],S=e[1],G=2),i.length>1){R=e[G],G++,x+="C"+(S[0]+K[0])+","+(S[1]+K[1])+","+(R[0]-(U=i[1])[0])+","+(R[1]-U[1])+","+R[0]+","+R[1];for(var re=2;re<i.length;re++,G++)x+="S"+((R=e[G])[0]-(U=i[re])[0])+","+(R[1]-U[1])+","+R[0]+","+R[1]}if(p){var ce=e[G];x+="Q"+(R[0]+2*U[0]/3)+","+(R[1]+2*U[1]/3)+","+ce[0]+","+ce[1]}return x}function Gs(e,i){for(var S,p=[],x=(1-i)/2,R=e[0],K=e[1],U=1,G=e.length;++U<G;)S=R,R=K,p.push([x*((K=e[U])[0]-S[0]),x*(K[1]-S[1])]);return p}function Xa(e){if(e.length<3)return oo(e);var i=1,p=e.length,x=e[0],S=x[0],R=x[1],K=[S,S,S,(x=e[1])[0]],U=[R,R,R,x[1]],G=[S,",",R,"L",Ji(Eo,K),",",Ji(Eo,U)];for(e.push(e[p-1]);++i<=p;)x=e[i],K.shift(),K.push(x[0]),U.shift(),U.push(x[1]),Ys(G,K,U);return e.pop(),G.push("L",x),G.join("")}function Ji(e,i){return e[0]*i[0]+e[1]*i[1]+e[2]*i[2]+e[3]*i[3]}qs.forEach(function(e,i){i.key=e,i.closed=/-closed$/.test(e)});var Za=[0,2/3,1/3,0],Ja=[0,1/3,2/3,0],Eo=[0,1/6,2/3,1/6];function Ys(e,i,p){e.push("C",Ji(Za,i),",",Ji(Za,p),",",Ji(Ja,i),",",Ji(Ja,p),",",Ji(Eo,i),",",Ji(Eo,p))}function $s(e,i){return(i[1]-e[1])/(i[0]-e[0])}function Qa(e){for(var i,S,R,p=-1,x=e.length;++p<x;)R=(i=e[p])[1]-qe,i[0]=(S=i[0])*Math.cos(R),i[1]=S*Math.sin(R);return e}function ec(e){var i=wo,p=wo,x=0,S=xo,R=Fn,K=oo,U=K.key,G=K,re="L",ce=.7;function ge(we){var $e,wt,vt,Ne=[],Xe=[],ke=[],Be=-1,Oe=we.length,ze=Jn(i),Ve=Jn(x),Tt=i===p?function(){return wt}:Jn(p),yt=x===S?function(){return vt}:Jn(S);function Zt(){Ne.push("M",K(e(ke),ce),re,G(e(Xe.reverse()),ce),"Z")}for(;++Be<Oe;)R.call(this,$e=we[Be],Be)?(Xe.push([wt=+ze.call(this,$e,Be),vt=+Ve.call(this,$e,Be)]),ke.push([+Tt.call(this,$e,Be),+yt.call(this,$e,Be)])):Xe.length&&(Zt(),Xe=[],ke=[]);return Xe.length&&Zt(),Ne.length?Ne.join(""):null}return ge.x=function(we){return arguments.length?(i=p=we,ge):p},ge.x0=function(we){return arguments.length?(i=we,ge):i},ge.x1=function(we){return arguments.length?(p=we,ge):p},ge.y=function(we){return arguments.length?(x=S=we,ge):S},ge.y0=function(we){return arguments.length?(x=we,ge):x},ge.y1=function(we){return arguments.length?(S=we,ge):S},ge.defined=function(we){return arguments.length?(R=we,ge):R},ge.interpolate=function(we){return arguments.length?(U="function"==typeof we?K=we:(K=qs.get(we)||oo).key,G=K.reverse||K,re=K.closed?"M":"L",ge):U},ge.tension=function(we){return arguments.length?(ce=we,ge):ce},ge}function Zh(e){return e.radius}function tc(e){return[e.x,e.y]}function Qh(){return 64}function eu(){return"circle"}function nc(e){var i=Math.sqrt(e/de);return"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"Z"}Q.svg.line.radial=function(){var e=Ya(Qa);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Ks.reverse=Vs,Vs.reverse=Ks,Q.svg.area=function(){return ec(z)},Q.svg.area.radial=function(){var e=ec(Qa);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},Q.svg.chord=function(){var e=Ri,i=oi,p=Zh,x=Va,S=Ga;function R(ce,ge){var we=K(this,e,ce,ge),Ne=K(this,i,ce,ge);return"M"+we.p0+G(we.r,we.p1,we.a1-we.a0)+(function U(ce,ge){return ce.a0==ge.a0&&ce.a1==ge.a1}(we,Ne)?re(0,0,0,we.p0):re(0,0,0,Ne.p0)+G(Ne.r,Ne.p1,Ne.a1-Ne.a0)+re(0,0,0,we.p0))+"Z"}function K(ce,ge,we,Ne){var Xe=ge.call(ce,we,Ne),ke=p.call(ce,Xe,Ne),Be=x.call(ce,Xe,Ne)-qe,Oe=S.call(ce,Xe,Ne)-qe;return{r:ke,a0:Be,a1:Oe,p0:[ke*Math.cos(Be),ke*Math.sin(Be)],p1:[ke*Math.cos(Oe),ke*Math.sin(Oe)]}}function G(ce,ge,we){return"A"+ce+","+ce+" 0 "+ +(we>de)+",1 "+ge}function re(ce,ge,we,Ne){return"Q 0,0 "+Ne}return R.radius=function(ce){return arguments.length?(p=Jn(ce),R):p},R.source=function(ce){return arguments.length?(e=Jn(ce),R):e},R.target=function(ce){return arguments.length?(i=Jn(ce),R):i},R.startAngle=function(ce){return arguments.length?(x=Jn(ce),R):x},R.endAngle=function(ce){return arguments.length?(S=Jn(ce),R):S},R},Q.svg.diagonal=function(){var e=Ri,i=oi,p=tc;function x(S,R){var K=e.call(this,S,R),U=i.call(this,S,R),G=(K.y+U.y)/2,re=[K,{x:K.x,y:G},{x:U.x,y:G},U];return"M"+(re=re.map(p))[0]+"C"+re[1]+" "+re[2]+" "+re[3]}return x.source=function(S){return arguments.length?(e=Jn(S),x):e},x.target=function(S){return arguments.length?(i=Jn(S),x):i},x.projection=function(S){return arguments.length?(p=S,x):p},x},Q.svg.diagonal.radial=function(){var e=Q.svg.diagonal(),i=tc,p=e.projection;return e.projection=function(x){return arguments.length?p(function Jh(e){return function(){var i=e.apply(this,arguments),p=i[0],x=i[1]-qe;return[p*Math.cos(x),p*Math.sin(x)]}}(i=x)):i},e},Q.svg.symbol=function(){var e=eu,i=Qh;function p(x,S){return(rc.get(e.call(this,x,S))||nc)(i.call(this,x,S))}return p.type=function(x){return arguments.length?(e=Jn(x),p):e},p.size=function(x){return arguments.length?(i=Jn(x),p):i},p};var rc=Q.map({circle:nc,cross:function(e){var i=Math.sqrt(e/5)/2;return"M"+-3*i+","+-i+"H"+-i+"V"+-3*i+"H"+i+"V"+-i+"H"+3*i+"V"+i+"H"+i+"V"+3*i+"H"+-i+"V"+i+"H"+-3*i+"Z"},diamond:function(e){var i=Math.sqrt(e/(2*ic)),p=i*ic;return"M0,"+-i+"L"+p+",0 0,"+i+" "+-p+",0Z"},square:function(e){var i=Math.sqrt(e)/2;return"M"+-i+","+-i+"L"+i+","+-i+" "+i+","+i+" "+-i+","+i+"Z"},"triangle-down":function(e){var i=Math.sqrt(e/xs),p=i*xs/2;return"M0,"+p+"L"+i+","+-p+" "+-i+","+-p+"Z"},"triangle-up":function(e){var i=Math.sqrt(e/xs),p=i*xs/2;return"M0,"+-p+"L"+i+","+p+" "+-i+","+p+"Z"}});Q.svg.symbolTypes=rc.keys();var xs=Math.sqrt(3),ic=Math.tan(30*Ze);L.transition=function(e){for(var S,R,i=Bo||++sc,p=Zs(e),x=[],K=Ss||{time:Date.now(),ease:Mc,delay:0,duration:250},U=-1,G=this.length;++U<G;){x.push(S=[]);for(var re=this[U],ce=-1,ge=re.length;++ce<ge;)(R=re[ce])&&ks(R,ce,p,i,K),S.push(R)}return os(x,p,i)},L.interrupt=function(e){return this.each(null==e?Es:oc(Zs(e)))};var Es=oc(Zs());function oc(e){return function(){var i,p,x;(i=this[e])&&(x=i[p=i.active])&&(x.timer.c=null,x.timer.t=NaN,--i.count?delete i[p]:delete this[e],i.active+=.5,x.event&&x.event.interrupt.call(this,this.__data__,x.index))}}function os(e,i,p){return M(e,vi),e.namespace=i,e.id=p,e}var Bo,Ss,vi=[],sc=0;function Xs(e,i,p,x){var S=e.id,R=e.namespace;return W(e,"function"==typeof p?function(K,U,G){K[R][S].tween.set(i,x(p.call(K,K.__data__,U,G)))}:(p=x(p),function(K){K[R][S].tween.set(i,p)}))}function tu(e){return null==e&&(e=""),function(){this.textContent=e}}function Zs(e){return null==e?"__transition__":"__transition_"+e+"__"}function ks(e,i,p,x,S){var U,G,re,ce,ge,R=e[p]||(e[p]={active:0,count:0}),K=R[x];function Ne(ke){var Be=R.active,Oe=R[Be];for(var $e in Oe&&(Oe.timer.c=null,Oe.timer.t=NaN,--R.count,delete R[Be],Oe.event&&Oe.event.interrupt.call(e,e.__data__,Oe.index)),R)if(+$e<x){var ze=R[$e];ze.timer.c=null,ze.timer.t=NaN,--R.count,delete R[$e]}G.c=Xe,P(function(){return G.c&&Xe(ke||1)&&(G.c=null,G.t=NaN),1},0,U),R.active=x,K.event&&K.event.start.call(e,e.__data__,i),ge=[],K.tween.forEach(function(Ve,Tt){(Tt=Tt.call(e,e.__data__,i))&&ge.push(Tt)}),ce=K.ease,re=K.duration}function Xe(ke){for(var Be=ke/re,Oe=ce(Be),$e=ge.length;$e>0;)ge[--$e].call(e,Oe);if(Be>=1)return K.event&&K.event.end.call(e,e.__data__,i),--R.count?delete R[x]:delete e[p],1}K||(G=P(function we(ke){var Be=K.delay;if(G.t=Be+U,Be<=ke)return Ne(ke-Be);G.c=Ne},0,U=S.time),K=R[x]={tween:new s,time:U,timer:G,delay:S.delay,duration:S.duration,ease:S.ease,index:i},S=null,++R.count)}vi.call=L.call,vi.empty=L.empty,vi.node=L.node,vi.size=L.size,Q.transition=function(e,i){return e&&e.transition?Bo?e.transition(i):e:Q.selection().transition(e)},Q.transition.prototype=vi,vi.select=function(e){var S,R,K,i=this.id,p=this.namespace,x=[];e=Y(e);for(var U=-1,G=this.length;++U<G;){x.push(S=[]);for(var re=this[U],ce=-1,ge=re.length;++ce<ge;)(K=re[ce])&&(R=e.call(K,K.__data__,ce,U))?("__data__"in K&&(R.__data__=K.__data__),ks(R,ce,p,i,K[p][i]),S.push(R)):S.push(null)}return os(x,p,i)},vi.selectAll=function(e){var S,R,K,U,G,i=this.id,p=this.namespace,x=[];e=se(e);for(var re=-1,ce=this.length;++re<ce;)for(var ge=this[re],we=-1,Ne=ge.length;++we<Ne;)if(K=ge[we]){G=K[p][i],R=e.call(K,K.__data__,we,re),x.push(S=[]);for(var Xe=-1,ke=R.length;++Xe<ke;)(U=R[Xe])&&ks(U,Xe,p,i,G),S.push(U)}return os(x,p,i)},vi.filter=function(e){var p,S,i=[];"function"!=typeof e&&(e=J(e));for(var R=0,K=this.length;R<K;R++){i.push(p=[]);for(var x,U=0,G=(x=this[R]).length;U<G;U++)(S=x[U])&&e.call(S,S.__data__,U,R)&&p.push(S)}return os(i,this.namespace,this.id)},vi.tween=function(e,i){var p=this.id,x=this.namespace;return arguments.length<2?this.node()[x][p].tween.get(e):W(this,null==i?function(S){S[x][p].tween.remove(e)}:function(S){S[x][p].tween.set(e,i)})},vi.attr=function(e,i){if(arguments.length<2){for(i in e)this.attr(i,e[i]);return this}var p="transform"==e?wa:Lo,x=Q.ns.qualify(e);function S(){this.removeAttribute(x)}function R(){this.removeAttributeNS(x.space,x.local)}return Xs(this,"attr."+e,i,x.local?function U(G){return null==G?R:(G+="",function(){var ce,re=this.getAttributeNS(x.space,x.local);return re!==G&&(ce=p(re,G),function(ge){this.setAttributeNS(x.space,x.local,ce(ge))})})}:function K(G){return null==G?S:(G+="",function(){var ce,re=this.getAttribute(x);return re!==G&&(ce=p(re,G),function(ge){this.setAttribute(x,ce(ge))})})})},vi.attrTween=function(e,i){var p=Q.ns.qualify(e);return this.tween("attr."+e,p.local?function S(R,K){var U=i.call(this,R,K,this.getAttributeNS(p.space,p.local));return U&&function(G){this.setAttributeNS(p.space,p.local,U(G))}}:function x(R,K){var U=i.call(this,R,K,this.getAttribute(p));return U&&function(G){this.setAttribute(p,U(G))}})},vi.style=function(e,i,p){var x=arguments.length;if(x<3){if("string"!=typeof e){for(p in x<2&&(i=""),e)this.style(p,e[p],i);return this}p=""}function S(){this.style.removeProperty(e)}return Xs(this,"style."+e,i,function R(K){return null==K?S:(K+="",function(){var G,U=te(this).getComputedStyle(this,null).getPropertyValue(e);return U!==K&&(G=Lo(U,K),function(re){this.style.setProperty(e,G(re),p)})})})},vi.styleTween=function(e,i,p){return arguments.length<3&&(p=""),this.tween("style."+e,function x(S,R){var K=i.call(this,S,R,te(this).getComputedStyle(this,null).getPropertyValue(e));return K&&function(U){this.style.setProperty(e,K(U),p)}})},vi.text=function(e){return Xs(this,"text",e,tu)},vi.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var i;this[e].count<2&&(i=this.parentNode)&&i.removeChild(this)})},vi.ease=function(e){var i=this.id,p=this.namespace;return arguments.length<1?this.node()[p][i].ease:("function"!=typeof e&&(e=Q.ease.apply(Q,arguments)),W(this,function(x){x[p][i].ease=e}))},vi.delay=function(e){var i=this.id,p=this.namespace;return arguments.length<1?this.node()[p][i].delay:W(this,"function"==typeof e?function(x,S,R){x[p][i].delay=+e.call(x,x.__data__,S,R)}:(e=+e,function(x){x[p][i].delay=e}))},vi.duration=function(e){var i=this.id,p=this.namespace;return arguments.length<1?this.node()[p][i].duration:W(this,"function"==typeof e?function(x,S,R){x[p][i].duration=Math.max(1,e.call(x,x.__data__,S,R))}:(e=Math.max(1,e),function(x){x[p][i].duration=e}))},vi.each=function(e,i){var p=this.id,x=this.namespace;if(arguments.length<2){var S=Ss,R=Bo;try{Bo=p,W(this,function(K,U,G){Ss=K[x][p],e.call(K,K.__data__,U,G)})}finally{Ss=S,Bo=R}}else W(this,function(K){var U=K[x][p];(U.event||(U.event=Q.dispatch("start","end","interrupt"))).on(e,i)});return this},vi.transition=function(){for(var S,K,U,e=this.id,i=++sc,p=this.namespace,x=[],G=0,re=this.length;G<re;G++){x.push(S=[]);for(var R,ce=0,ge=(R=this[G]).length;ce<ge;ce++)(K=R[ce])&&ks(K,ce,p,i,{time:(U=K[p][e]).time,ease:U.ease,delay:U.delay+U.duration,duration:U.duration}),S.push(K)}return os(x,p,i)},Q.svg.axis=function(){var U,e=Q.scale.linear(),i=ac,p=6,x=6,S=3,R=[10],K=null;function G(re){re.each(function(){var Ve,ce=Q.select(this),ge=this.__chart__||e,we=this.__chart__=e.copy(),Ne=K??(we.ticks?we.ticks.apply(we,R):we.domain()),Xe=U??(we.tickFormat?we.tickFormat.apply(we,R):z),ke=ce.selectAll(".tick").data(Ne,we),Be=ke.enter().insert("g",".domain").attr("class","tick").style("opacity",Rt),Oe=Q.transition(ke.exit()).style("opacity",Rt).remove(),$e=Q.transition(ke.order()).style("opacity",1),ze=Math.max(p,0)+S,Tt=ps(we),yt=ce.selectAll(".domain").data([0]),wt=(yt.enter().append("path").attr("class","domain"),Q.transition(yt));Be.append("line"),Be.append("text");var Lt,en,dn,zt,vt=Be.select("line"),Zt=$e.select("line"),rn=ke.select("text").text(Xe),Ln=Be.select("text"),bn=$e.select("text"),An="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(Ve=ru,Lt="x",dn="y",en="x2",zt="y2",rn.attr("dy",An<0?"0em":".71em").style("text-anchor","middle"),wt.attr("d","M"+Tt[0]+","+An*x+"V0H"+Tt[1]+"V"+An*x)):(Ve=iu,Lt="y",dn="x",en="y2",zt="x2",rn.attr("dy",".32em").style("text-anchor",An<0?"end":"start"),wt.attr("d","M"+An*x+","+Tt[0]+"H0V"+Tt[1]+"H"+An*x)),vt.attr(zt,An*p),Ln.attr(dn,An*ze),Zt.attr(en,0).attr(zt,An*p),bn.attr(Lt,0).attr(dn,An*ze),we.rangeBand){var hn=we,Wn=hn.rangeBand()/2;ge=we=function(tr){return hn(tr)+Wn}}else ge.rangeBand?ge=we:Oe.call(Ve,we,ge);Be.call(Ve,ge,we),$e.call(Ve,we,we)})}return G.scale=function(re){return arguments.length?(e=re,G):e},G.orient=function(re){return arguments.length?(i=re in nu?re+"":ac,G):i},G.ticks=function(){return arguments.length?(R=Pe(arguments),G):R},G.tickValues=function(re){return arguments.length?(K=re,G):K},G.tickFormat=function(re){return arguments.length?(U=re,G):U},G.tickSize=function(re){var ce=arguments.length;return ce?(p=+re,x=+arguments[ce-1],G):p},G.innerTickSize=function(re){return arguments.length?(p=+re,G):p},G.outerTickSize=function(re){return arguments.length?(x=+re,G):x},G.tickPadding=function(re){return arguments.length?(S=+re,G):S},G.tickSubdivide=function(){return arguments.length&&G},G};var ac="bottom",nu={top:1,right:1,bottom:1,left:1};function ru(e,i,p){e.attr("transform",function(x){var S=i(x);return"translate("+(isFinite(S)?S:p(x))+",0)"})}function iu(e,i,p){e.attr("transform",function(x){var S=i(x);return"translate(0,"+(isFinite(S)?S:p(x))+")"})}Q.svg.brush=function(){var R,K,e=T(ce,"brushstart","brush","brushend"),i=null,p=null,x=[0,0],S=[0,0],U=!0,G=!0,re=Js[0];function ce(ke){ke.each(function(){var Be=Q.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Xe).on("touchstart.brush",Xe),Oe=Be.selectAll(".background").data([0]);Oe.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Be.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var $e=Be.selectAll(".resize").data(re,z);$e.exit().remove(),$e.enter().append("g").attr("class",function(yt){return"resize "+yt}).style("cursor",function(yt){return ou[yt]}).append("rect").attr("x",function(yt){return/[ew]$/.test(yt)?-3:null}).attr("y",function(yt){return/^[ns]/.test(yt)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),$e.style("display",ce.empty()?"none":null);var Tt,ze=Q.transition(Be),Ve=Q.transition(Oe);i&&(Tt=ps(i),Ve.attr("x",Tt[0]).attr("width",Tt[1]-Tt[0]),we(ze)),p&&(Tt=ps(p),Ve.attr("y",Tt[0]).attr("height",Tt[1]-Tt[0]),Ne(ze)),ge(ze)})}function ge(ke){ke.selectAll(".resize").attr("transform",function(Be){return"translate("+x[+/e$/.test(Be)]+","+S[+/^s/.test(Be)]+")"})}function we(ke){ke.select(".extent").attr("x",x[0]),ke.selectAll(".extent,.n>rect,.s>rect").attr("width",x[1]-x[0])}function Ne(ke){ke.select(".extent").attr("y",S[0]),ke.selectAll(".extent,.e>rect,.w>rect").attr("height",S[1]-S[0])}function Xe(){var vt,rn,ke=this,Be=Q.select(Q.event.target),Oe=e.of(ke,arguments),$e=Q.select(ke),ze=Be.datum(),Ve=!/^(n|s)$/.test(ze)&&i,Tt=!/^(e|w)$/.test(ze)&&p,yt=Be.classed("extent"),wt=sn(ke),Zt=Q.mouse(ke),Ln=Q.select(te(ke)).on("keydown.brush",function Lt(){32==Q.event.keyCode&&(yt||(vt=null,Zt[0]-=x[1],Zt[1]-=S[1],yt=2),Ae())}).on("keyup.brush",function en(){32==Q.event.keyCode&&2==yt&&(Zt[0]+=x[1],Zt[1]+=S[1],yt=0,Ae())});if(Q.event.changedTouches?Ln.on("touchmove.brush",dn).on("touchend.brush",hn):Ln.on("mousemove.brush",dn).on("mouseup.brush",hn),$e.interrupt().selectAll("*").interrupt(),yt)Zt[0]=x[0]-Zt[0],Zt[1]=S[0]-Zt[1];else if(ze){var bn=+/w$/.test(ze),An=+/^n/.test(ze);rn=[x[1-bn]-Zt[0],S[1-An]-Zt[1]],Zt[0]=x[bn],Zt[1]=S[An]}else Q.event.altKey&&(vt=Zt.slice());function dn(){var Wn=Q.mouse(ke),tr=!1;rn&&(Wn[0]+=rn[0],Wn[1]+=rn[1]),yt||(Q.event.altKey?(vt||(vt=[(x[0]+x[1])/2,(S[0]+S[1])/2]),Zt[0]=x[+(Wn[0]<vt[0])],Zt[1]=S[+(Wn[1]<vt[1])]):vt=null),Ve&&zt(Wn,i,0)&&(we($e),tr=!0),Tt&&zt(Wn,p,1)&&(Ne($e),tr=!0),tr&&(ge($e),Oe({type:"brush",mode:yt?"move":"resize"}))}function zt(Wn,tr,lr){var Ti,Ki,Nr=ps(tr),qr=Nr[0],Li=Nr[1],Di=Zt[lr],Bi=lr?S:x,qi=Bi[1]-Bi[0];if(yt&&(qr-=Di,Li-=qi+Di),Ti=(lr?G:U)?Math.max(qr,Math.min(Li,Wn[lr])):Wn[lr],yt?Ki=(Ti+=Di)+qi:(vt&&(Di=Math.max(qr,Math.min(Li,2*vt[lr]-Ti))),Di<Ti?(Ki=Ti,Ti=Di):Ki=Di),Bi[0]!=Ti||Bi[1]!=Ki)return lr?K=null:R=null,Bi[0]=Ti,Bi[1]=Ki,!0}function hn(){dn(),$e.style("pointer-events","all").selectAll(".resize").style("display",ce.empty()?"none":null),Q.select("body").style("cursor",null),Ln.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),wt(),Oe({type:"brushend"})}$e.style("pointer-events","none").selectAll(".resize").style("display",null),Q.select("body").style("cursor",Be.style("cursor")),Oe({type:"brushstart"}),dn()}return ce.event=function(ke){ke.each(function(){var Be=e.of(this,arguments),Oe={x,y:S,i:R,j:K},$e=this.__chart__||Oe;this.__chart__=Oe,Bo?Q.select(this).transition().each("start.brush",function(){R=$e.i,K=$e.j,x=$e.x,S=$e.y,Be({type:"brushstart"})}).tween("brush:brush",function(){var ze=ds(x,Oe.x),Ve=ds(S,Oe.y);return R=K=null,function(Tt){x=Oe.x=ze(Tt),S=Oe.y=Ve(Tt),Be({type:"brush",mode:"resize"})}}).each("end.brush",function(){R=Oe.i,K=Oe.j,Be({type:"brush",mode:"resize"}),Be({type:"brushend"})}):(Be({type:"brushstart"}),Be({type:"brush",mode:"resize"}),Be({type:"brushend"}))})},ce.x=function(ke){return arguments.length?(re=Js[!(i=ke)<<1|!p],ce):i},ce.y=function(ke){return arguments.length?(re=Js[!i<<1|!(p=ke)],ce):p},ce.clamp=function(ke){return arguments.length?(i&&p?(U=!!ke[0],G=!!ke[1]):i?U=!!ke:p&&(G=!!ke),ce):i&&p?[U,G]:i?U:p?G:null},ce.extent=function(ke){var Be,Oe,$e,ze,Ve;return arguments.length?(i&&(Be=ke[0],Oe=ke[1],p&&(Be=Be[0],Oe=Oe[0]),R=[Be,Oe],i.invert&&(Be=i(Be),Oe=i(Oe)),Oe<Be&&(Ve=Be,Be=Oe,Oe=Ve),(Be!=x[0]||Oe!=x[1])&&(x=[Be,Oe])),p&&($e=ke[0],ze=ke[1],i&&($e=$e[1],ze=ze[1]),K=[$e,ze],p.invert&&($e=p($e),ze=p(ze)),ze<$e&&(Ve=$e,$e=ze,ze=Ve),($e!=S[0]||ze!=S[1])&&(S=[$e,ze])),ce):(i&&(R?(Be=R[0],Oe=R[1]):(Be=x[0],Oe=x[1],i.invert&&(Be=i.invert(Be),Oe=i.invert(Oe)),Oe<Be&&(Ve=Be,Be=Oe,Oe=Ve))),p&&(K?($e=K[0],ze=K[1]):($e=S[0],ze=S[1],p.invert&&($e=p.invert($e),ze=p.invert(ze)),ze<$e&&(Ve=$e,$e=ze,ze=Ve))),i&&p?[[Be,$e],[Oe,ze]]:i?[Be,Oe]:p&&[$e,ze])},ce.clear=function(){return ce.empty()||(x=[0,0],S=[0,0],R=K=null),ce},ce.empty=function(){return!!i&&x[0]==x[1]||!!p&&S[0]==S[1]},Q.rebind(ce,e,"on")};var ou={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Js=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Qs=lt.format=yn.timeFormat,cc=Qs.utc,hc=cc("%Y-%m-%dT%H:%M:%S.%LZ");function ea(e){return e.toISOString()}function ta(e,i,p){function x(R){return e(R)}function S(R,K){var G=(R[1]-R[0])/K,re=Q.bisect(As,G);return re==As.length?[i.year,Vo(R.map(function(ce){return ce/31536e6}),K)[2]]:re?i[G/As[re-1]<As[re]/G?re-1:re]:[au,Vo(R,K)[2]]}return x.invert=function(R){return No(e.invert(R))},x.domain=function(R){return arguments.length?(e.domain(R),x):e.domain().map(No)},x.nice=function(R,K){var U=x.domain(),G=Ko(U),re=null==R?S(G,10):"number"==typeof R&&S(G,R);function ce(ge){return!isNaN(ge)&&!R.range(ge,No(+ge+1),K).length}return re&&(R=re[0],K=re[1]),x.domain(gs(U,K>1?{floor:function(ge){for(;ce(ge=R.floor(ge));)ge=No(ge-1);return ge},ceil:function(ge){for(;ce(ge=R.ceil(ge));)ge=No(+ge+1);return ge}}:R))},x.ticks=function(R,K){var U=Ko(x.domain()),G=null==R?S(U,10):"number"==typeof R?S(U,R):!R.range&&[{range:R},K];return G&&(R=G[0],K=G[1]),R.range(U[0],No(+U[1]+1),K<1?1:K)},x.tickFormat=function(){return p},x.copy=function(){return ta(e.copy(),i,p)},Fs(x,e)}function No(e){return new Date(e)}Qs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ea:hc,ea.parse=function(e){var i=new Date(e);return isNaN(i)?null:i},ea.toString=hc.toString,lt.second=It(function(e){return new mt(1e3*Math.floor(e/1e3))},function(e,i){e.setTime(e.getTime()+1e3*Math.floor(i))},function(e){return e.getSeconds()}),lt.seconds=lt.second.range,lt.seconds.utc=lt.second.utc.range,lt.minute=It(function(e){return new mt(6e4*Math.floor(e/6e4))},function(e,i){e.setTime(e.getTime()+6e4*Math.floor(i))},function(e){return e.getMinutes()}),lt.minutes=lt.minute.range,lt.minutes.utc=lt.minute.utc.range,lt.hour=It(function(e){var i=e.getTimezoneOffset()/60;return new mt(36e5*(Math.floor(e/36e5-i)+i))},function(e,i){e.setTime(e.getTime()+36e5*Math.floor(i))},function(e){return e.getHours()}),lt.hours=lt.hour.range,lt.hours.utc=lt.hour.utc.range,lt.month=It(function(e){return(e=lt.day(e)).setDate(1),e},function(e,i){e.setMonth(e.getMonth()+i)},function(e){return e.getMonth()}),lt.months=lt.month.range,lt.months.utc=lt.month.utc.range;var As=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],na=[[lt.second,1],[lt.second,5],[lt.second,15],[lt.second,30],[lt.minute,1],[lt.minute,5],[lt.minute,15],[lt.minute,30],[lt.hour,1],[lt.hour,3],[lt.hour,6],[lt.hour,12],[lt.day,1],[lt.day,2],[lt.week,1],[lt.month,1],[lt.month,3],[lt.year,1]],su=Qs.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Fn]]),au={range:function(e,i,p){return Q.range(Math.ceil(e/p)*p,+i,p).map(No)},floor:z,ceil:z};na.year=lt.year,lt.scale=function(){return ta(Q.scale.linear(),na,su)};var uc=na.map(function(e){return[e[0].utc,e[1]]}),cu=cc.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Fn]]);function hu(e){return JSON.parse(e.responseText)}function uu(e){var i=y.createRange();return i.selectNode(y.body),i.createContextualFragment(e.responseText)}uc.year=lt.year.utc,lt.scale.utc=function(){return ta(Q.scale.linear(),uc,cu)},Q.text=Er(function(e){return e.responseText}),Q.json=function(e,i){return Gr(e,"application/json",hu,i)},Q.html=function(e,i){return Gr(e,"text/html",uu,i)},Q.xml=Er(function(e){return e.responseXML}),"object"==typeof xt&&xt.exports?xt.exports=Q:this.d3=Q}()},{}],2:[function(At,xt,kt){(function(Q){kt.log=function y(...ne){return"object"==typeof console&&console.log&&console.log(...ne)},kt.formatArgs=function Pe(ne){if(ne[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+ne[0]+(this.useColors?"%c ":" ")+"+"+xt.exports.humanize(this.diff),!this.useColors)return;const le="color: "+this.color;ne.splice(1,0,le,"color: inherit");let d=0,N=0;ne[0].replace(/%[a-zA-Z%]/g,A=>{"%%"!==A&&(d++,"%c"===A&&(N=d))}),ne.splice(N,0,le)},kt.save=function he(ne){try{ne?kt.storage.setItem("debug",ne):kt.storage.removeItem("debug")}catch{}},kt.load=function te(){let ne;try{ne=kt.storage.getItem("debug")}catch{}return!ne&&typeof Q<"u"&&"env"in Q&&(ne=Q.env.DEBUG),ne},kt.useColors=function je(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},kt.storage=function pe(){try{return localStorage}catch{}}(),kt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],xt.exports=At("./common")(kt);const{formatters:_e}=xt.exports;_e.j=function(ne){try{return JSON.stringify(ne)}catch(le){return"[UnexpectedJSONParseError]: "+le.message}}}).call(this,At("_process"))},{"./common":3,_process:7}],3:[function(At,xt,kt){xt.exports=function Q(je){function Pe(N){let A=0;for(let f=0;f<N.length;f++)A=(A<<5)-A+N.charCodeAt(f),A|=0;return y.colors[Math.abs(A)%y.colors.length]}function y(N){let A;function f(...b){if(!f.enabled)return;const m=f,_=Number(new Date);m.diff=_-(A||_),m.prev=A,m.curr=_,A=_,b[0]=y.coerce(b[0]),"string"!=typeof b[0]&&b.unshift("%O");let g=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(s,u)=>{if("%%"===s)return s;g++;const o=y.formatters[u];return"function"==typeof o&&(s=o.call(m,b[g]),b.splice(g,1),g--),s}),y.formatArgs.call(m,b),(m.log||y.log).apply(m,b)}return f.namespace=N,f.enabled=y.enabled(N),f.useColors=y.useColors(),f.color=Pe(N),f.destroy=he,f.extend=te,"function"==typeof y.init&&y.init(f),y.instances.push(f),f}function he(){const N=y.instances.indexOf(this);return-1!==N&&(y.instances.splice(N,1),!0)}function te(N,A){const f=y(this.namespace+(typeof A>"u"?":":A)+N);return f.log=this.log,f}function le(N){return N.toString().substring(2,N.toString().length-2).replace(/\.\*\?$/,"*")}return y.debug=y,y.default=y,y.coerce=function d(N){return N instanceof Error?N.stack||N.message:N},y.disable=function _e(){const N=[...y.names.map(le),...y.skips.map(le).map(A=>"-"+A)].join(",");return y.enable(""),N},y.enable=function pe(N){let A;y.save(N),y.names=[],y.skips=[];const f=("string"==typeof N?N:"").split(/[\s,]+/),b=f.length;for(A=0;A<b;A++)f[A]&&("-"===(N=f[A].replace(/\*/g,".*?"))[0]?y.skips.push(new RegExp("^"+N.substr(1)+"$")):y.names.push(new RegExp("^"+N+"$")));for(A=0;A<y.instances.length;A++){const m=y.instances[A];m.enabled=y.enabled(m.namespace)}},y.enabled=function ne(N){if("*"===N[N.length-1])return!0;let A,f;for(A=0,f=y.skips.length;A<f;A++)if(y.skips[A].test(N))return!1;for(A=0,f=y.names.length;A<f;A++)if(y.names[A].test(N))return!0;return!1},y.humanize=At("ms"),Object.keys(je).forEach(N=>{y[N]=je[N]}),y.instances=[],y.names=[],y.skips=[],y.formatters={},y.selectColor=Pe,y.enable(y.load()),y}},{ms:6}],4:[function(At,xt,kt){var Q=Object.create||function u(r){var a=function(){};return a.prototype=r,new a},je=Object.keys||function o(r){var a=[];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&a.push(c);return c},Pe=Function.prototype.bind||function t(r){var a=this;return function(){return a.apply(r,arguments)}};function y(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=Q(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}xt.exports=y,y.EventEmitter=y,y.prototype._events=void 0,y.prototype._maxListeners=void 0;var te,he=10;try{var pe={};Object.defineProperty&&Object.defineProperty(pe,"x",{value:0}),te=0===pe.x}catch{te=!1}function _e(r){return void 0===r._maxListeners?y.defaultMaxListeners:r._maxListeners}function f(r,a,c,l){var w,E,C;if("function"!=typeof c)throw new TypeError('"listener" argument must be a function');if((E=r._events)?(E.newListener&&(r.emit("newListener",a,c.listener?c.listener:c),E=r._events),C=E[a]):(E=r._events=Q(null),r._eventsCount=0),C){if("function"==typeof C?C=E[a]=l?[c,C]:[C,c]:l?C.unshift(c):C.push(c),!C.warned&&(w=_e(r))&&w>0&&C.length>w){C.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+C.length+' "'+String(a)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');z.name="MaxListenersExceededWarning",z.emitter=r,z.type=a,z.count=C.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",z.name,z.message)}}else C=E[a]=c,++r._eventsCount;return r}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var r=new Array(arguments.length),a=0;a<r.length;++a)r[a]=arguments[a];this.listener.apply(this.target,r)}}function m(r,a,c){var l={fired:!1,wrapFn:void 0,target:r,type:a,listener:c},w=Pe.call(b,l);return w.listener=c,l.wrapFn=w,w}function _(r,a,c){var l=r._events;if(!l)return[];var w=l[a];return w?"function"==typeof w?c?[w.listener||w]:[w]:c?function s(r){for(var a=new Array(r.length),c=0;c<a.length;++c)a[c]=r[c].listener||r[c];return a}(w):h(w,w.length):[]}function n(r){var a=this._events;if(a){var c=a[r];if("function"==typeof c)return 1;if(c)return c.length}return 0}function h(r,a){for(var c=new Array(a),l=0;l<a;++l)c[l]=r[l];return c}te?Object.defineProperty(y,"defaultMaxListeners",{enumerable:!0,get:function(){return he},set:function(r){if("number"!=typeof r||r<0||r!=r)throw new TypeError('"defaultMaxListeners" must be a positive number');he=r}}):y.defaultMaxListeners=he,y.prototype.setMaxListeners=function(a){if("number"!=typeof a||a<0||isNaN(a))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=a,this},y.prototype.getMaxListeners=function(){return _e(this)},y.prototype.emit=function(a){var c,l,w,E,C,z,k="error"===a;if(z=this._events)k=k&&null==z.error;else if(!k)return!1;if(k){if(arguments.length>1&&(c=arguments[1]),c instanceof Error)throw c;var I=new Error('Unhandled "error" event. ('+c+")");throw I.context=c,I}if(!(l=z[a]))return!1;var V="function"==typeof l;switch(w=arguments.length){case 1:!function ne(r,a,c){if(a)r.call(c);else for(var l=r.length,w=h(r,l),E=0;E<l;++E)w[E].call(c)}(l,V,this);break;case 2:!function le(r,a,c,l){if(a)r.call(c,l);else for(var w=r.length,E=h(r,w),C=0;C<w;++C)E[C].call(c,l)}(l,V,this,arguments[1]);break;case 3:!function d(r,a,c,l,w){if(a)r.call(c,l,w);else for(var E=r.length,C=h(r,E),z=0;z<E;++z)C[z].call(c,l,w)}(l,V,this,arguments[1],arguments[2]);break;case 4:!function N(r,a,c,l,w,E){if(a)r.call(c,l,w,E);else for(var C=r.length,z=h(r,C),k=0;k<C;++k)z[k].call(c,l,w,E)}(l,V,this,arguments[1],arguments[2],arguments[3]);break;default:for(E=new Array(w-1),C=1;C<w;C++)E[C-1]=arguments[C];!function A(r,a,c,l){if(a)r.apply(c,l);else for(var w=r.length,E=h(r,w),C=0;C<w;++C)E[C].apply(c,l)}(l,V,this,E)}return!0},y.prototype.on=y.prototype.addListener=function(a,c){return f(this,a,c,!1)},y.prototype.prependListener=function(a,c){return f(this,a,c,!0)},y.prototype.once=function(a,c){if("function"!=typeof c)throw new TypeError('"listener" argument must be a function');return this.on(a,m(this,a,c)),this},y.prototype.prependOnceListener=function(a,c){if("function"!=typeof c)throw new TypeError('"listener" argument must be a function');return this.prependListener(a,m(this,a,c)),this},y.prototype.removeListener=function(a,c){var l,w,E,C,z;if("function"!=typeof c)throw new TypeError('"listener" argument must be a function');if(!(w=this._events))return this;if(!(l=w[a]))return this;if(l===c||l.listener===c)0==--this._eventsCount?this._events=Q(null):(delete w[a],w.removeListener&&this.emit("removeListener",a,l.listener||c));else if("function"!=typeof l){for(E=-1,C=l.length-1;C>=0;C--)if(l[C]===c||l[C].listener===c){z=l[C].listener,E=C;break}if(E<0)return this;0===E?l.shift():function g(r,a){for(var c=a,l=c+1,w=r.length;l<w;c+=1,l+=1)r[c]=r[l];r.pop()}(l,E),1===l.length&&(w[a]=l[0]),w.removeListener&&this.emit("removeListener",a,z||c)}return this},y.prototype.removeAllListeners=function(a){var c,l,w;if(!(l=this._events))return this;if(!l.removeListener)return 0===arguments.length?(this._events=Q(null),this._eventsCount=0):l[a]&&(0==--this._eventsCount?this._events=Q(null):delete l[a]),this;if(0===arguments.length){var C,E=je(l);for(w=0;w<E.length;++w)"removeListener"!==(C=E[w])&&this.removeAllListeners(C);return this.removeAllListeners("removeListener"),this._events=Q(null),this._eventsCount=0,this}if("function"==typeof(c=l[a]))this.removeListener(a,c);else if(c)for(w=c.length-1;w>=0;w--)this.removeListener(a,c[w]);return this},y.prototype.listeners=function(a){return _(this,a,!0)},y.prototype.rawListeners=function(a){return _(this,a,!1)},y.listenerCount=function(r,a){return"function"==typeof r.listenerCount?r.listenerCount(a):n.call(r,a)},y.prototype.listenerCount=n,y.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],5:[function(At,xt,kt){xt.exports="function"==typeof Object.create?function(je,Pe){Pe&&(je.super_=Pe,je.prototype=Object.create(Pe.prototype,{constructor:{value:je,enumerable:!1,writable:!0,configurable:!0}}))}:function(je,Pe){if(Pe){je.super_=Pe;var y=function(){};y.prototype=Pe.prototype,je.prototype=new y,je.prototype.constructor=je}}},{}],6:[function(At,xt,kt){var Q=1e3,je=60*Q,Pe=60*je,y=24*Pe;function le(d,N,A,f){var b=N>=1.5*A;return Math.round(d/A)+" "+f+(b?"s":"")}xt.exports=function(d,N){N=N||{};var A=typeof d;if("string"===A&&d.length>0)return function pe(d){if(!((d=String(d)).length>100)){var N=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(N){var A=parseFloat(N[1]);switch((N[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return 6048e5*A;case"days":case"day":case"d":return A*y;case"hours":case"hour":case"hrs":case"hr":case"h":return A*Pe;case"minutes":case"minute":case"mins":case"min":case"m":return A*je;case"seconds":case"second":case"secs":case"sec":case"s":return A*Q;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(d);if("number"===A&&isFinite(d))return N.long?function ne(d){var N=Math.abs(d);return N>=y?le(d,N,y,"day"):N>=Pe?le(d,N,Pe,"hour"):N>=je?le(d,N,je,"minute"):N>=Q?le(d,N,Q,"second"):d+" ms"}(d):function _e(d){var N=Math.abs(d);return N>=y?Math.round(d/y)+"d":N>=Pe?Math.round(d/Pe)+"h":N>=je?Math.round(d/je)+"m":N>=Q?Math.round(d/Q)+"s":d+"ms"}(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))}},{}],7:[function(At,xt,kt){var je,Pe,Q=xt.exports={};function y(){throw new Error("setTimeout has not been defined")}function he(){throw new Error("clearTimeout has not been defined")}function te(m){if(je===setTimeout)return setTimeout(m,0);if((je===y||!je)&&setTimeout)return je=setTimeout,setTimeout(m,0);try{return je(m,0)}catch{try{return je.call(null,m,0)}catch{return je.call(this,m,0)}}}!function(){try{je="function"==typeof setTimeout?setTimeout:y}catch{je=y}try{Pe="function"==typeof clearTimeout?clearTimeout:he}catch{Pe=he}}();var le,_e=[],ne=!1,d=-1;function N(){!ne||!le||(ne=!1,le.length?_e=le.concat(_e):d=-1,_e.length&&A())}function A(){if(!ne){var m=te(N);ne=!0;for(var _=_e.length;_;){for(le=_e,_e=[];++d<_;)le&&le[d].run();d=-1,_=_e.length}le=null,ne=!1,function pe(m){if(Pe===clearTimeout)return clearTimeout(m);if((Pe===he||!Pe)&&clearTimeout)return Pe=clearTimeout,clearTimeout(m);try{Pe(m)}catch{try{return Pe.call(null,m)}catch{return Pe.call(this,m)}}}(m)}}function f(m,_){this.fun=m,this.array=_}function b(){}Q.nextTick=function(m){var _=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)_[n-1]=arguments[n];_e.push(new f(m,_)),1===_e.length&&!ne&&te(A)},f.prototype.run=function(){this.fun.apply(null,this.array)},Q.title="browser",Q.browser=!0,Q.env={},Q.argv=[],Q.version="",Q.versions={},Q.on=b,Q.addListener=b,Q.once=b,Q.off=b,Q.removeListener=b,Q.removeAllListeners=b,Q.emit=b,Q.prependListener=b,Q.prependOnceListener=b,Q.listeners=function(m){return[]},Q.binding=function(m){throw new Error("process.binding is not supported")},Q.cwd=function(){return"/"},Q.chdir=function(m){throw new Error("process.chdir is not supported")},Q.umask=function(){return 0}},{}],8:[function(At,xt,kt){xt.exports=function Q(je,Pe){var y,he,te,pe,_e=0;return function(){y=this,he=arguments;var d=new Date-_e;return pe||(d>=Pe?ne():pe=setTimeout(ne,Pe-d)),te};function ne(){pe=0,_e=+new Date,te=je.apply(y,he),y=null,he=null}}},{}],9:[function(At,xt,kt){xt.exports=_e;var Q=At("d3"),je=At("debug")("p2p-graph"),Pe=At("events"),y=At("inherits"),he=At("throttleit"),te_links={width:.7,maxWidth:5,maxBytes:2097152},pe_links_color="#C8C8C8",pe_nodes_method=function(ne,le){return Q.hsl(ne.me?210:ne.seeder?120:55,.7,.725)},pe_nodes_hover="#A9A9A9",pe_nodes_dep="#252929";function _e(ne){var le=this;if(!(le instanceof _e))return new _e(ne);Pe.call(le),"string"==typeof ne&&(ne=document.querySelector(ne)),le._root=ne,le._model={nodes:[],links:[],focused:null},le._model.links.forEach(function(d){var N=le._model.nodes[d.source],A=le._model.nodes[d.target];N.children=N.children||[],N.children.push(d.target),A.parents=A.parents||[],A.parents.push(d.source)}),le._svg=Q.select(le._root).append("svg"),le._resize(),le._force=Q.layout.force().size([le._width,le._height]).nodes(le._model.nodes).links(le._model.links).on("tick",function(){le._link.attr("x1",function(d){return d.source.x}).attr("y1",function(d){return d.source.y}).attr("x2",function(d){return d.target.x}).attr("y2",function(d){return d.target.y}),le._node.attr("cx",function(d){return d.x}).attr("cy",function(d){return d.y}),le._node.attr("transform",function(d){return"translate("+d.x+","+d.y+")"})}),le._node=le._svg.selectAll(".node"),le._link=le._svg.selectAll(".link"),le._update(),le._resizeThrottled=he(function(){le._resize()},500),window.addEventListener("resize",le._resizeThrottled)}y(_e,Pe),_e.prototype.list=function(){return je("list"),this._model.nodes},_e.prototype.add=function(ne){if(je("add %s %o",ne.id,ne),this._getNode(ne.id))throw new Error("add: cannot add duplicate node");this._model.nodes.push(ne),this._update()},_e.prototype.remove=function(ne){var le=this;je("remove %s",ne);var d=le._getNodeIndex(ne);if(-1===d)throw new Error("remove: node does not exist");le._model.focused&&le._model.focused.id===ne&&(le._model.focused=null,le.emit("select",!1)),le._model.nodes.splice(d,1),le._update()},_e.prototype.connect=function(ne,le){var d=this;je("connect %s %s",ne,le);var N=d._getNode(ne);if(!N)throw new Error("connect: invalid source id");var A=d._getNode(le);if(!A)throw new Error("connect: invalid target id");if(d.getLink(N.index,A.index))throw new Error("connect: cannot make duplicate connection");d._model.links.push({source:N.index,target:A.index}),d._update()},_e.prototype.disconnect=function(ne,le){var d=this;je("disconnect %s %s",ne,le);var N=d._getNode(ne);if(!N)throw new Error("disconnect: invalid source id");var A=d._getNode(le);if(!A)throw new Error("disconnect: invalid target id");var f=d.getLinkIndex(N.index,A.index);if(-1===f)throw new Error("disconnect: connection does not exist");d._model.links.splice(f,1),d._update()},_e.prototype.hasPeer=function(){var ne=this,le=Array.prototype.slice.call(arguments,0);return je("Checking for peers:",le),le.every(function(d){return ne._getNode(d)})},_e.prototype.hasLink=function(ne,le){var d=this,N=d._getNode(ne);if(!N)throw new Error("hasLink: invalid source id");var A=d._getNode(le);if(!A)throw new Error("hasLink: invalid target id");return!!d.getLink(N.index,A.index)},_e.prototype.areConnected=function(ne,le){var d=this,N=d._getNode(ne);if(!N)throw new Error("areConnected: invalid source id");var A=d._getNode(le);if(!A)throw new Error("areConnected: invalid target id");return d.getLink(N.index,A.index)||d.getLink(A.index,N.index)},_e.prototype.unchoke=function(ne,le){je("unchoke %s %s",ne,le)},_e.prototype.choke=function(ne,le){je("choke %s %s",ne,le)},_e.prototype.seed=function(ne,le){var d=this;if(je(ne,"isSeeding:",le),"boolean"!=typeof le)throw new Error("seed: 2nd param must be a boolean");var N=d._getNodeIndex(ne);if(-1===N)throw new Error("seed: node does not exist");d._model.nodes[N].seeder=le,d._update()},_e.prototype.rate=function(ne,le,d){var N=this;if(je("rate update:",ne+"<->"+le,"at",d),"number"!=typeof d||d<0)throw new Error("rate: 3th param must be a positive number");var A=N._getNode(ne);if(!A)throw new Error("rate: invalid source id");var f=N._getNode(le);if(!f)throw new Error("rate: invalid target id");var b=N.getLinkIndex(A.index,f.index);if(-1===b)throw new Error("rate: connection does not exist");N._model.links[b].rate=function m(_){return Math.min(_,te_links.maxBytes)*te_links.maxWidth/te_links.maxBytes}(d),je("rate:",N._model.links[b].rate),N._update()},_e.prototype.getLink=function(ne,le){for(var d=this,N=0,A=d._model.links.length;N<A;N+=1){var f=d._model.links[N];if(f.source===d._model.nodes[ne]&&f.target===d._model.nodes[le])return f}return null},_e.prototype.destroy=function(){je("destroy"),this._root.remove(),window.removeEventListener("resize",this._resizeThrottled),this._root=null,this._resizeThrottled=null},_e.prototype._update=function(){var ne=this;ne._link=ne._link.data(ne._model.links),ne._node=ne._node.data(ne._model.nodes,function(d){return d.id}),ne._link.enter().insert("line",".node").attr("class","link").style("stroke",pe_links_color).style("opacity",.5),ne._link.exit().remove(),ne._link.style("stroke-width",function(d){return d.rate?d.rate<te_links.width?te_links.width:d.rate:te_links.width});var le=ne._node.enter().append("g").attr("class","node");le.call(ne._force.drag),le.append("circle").on("mouseover",function(d){Q.select(this).style("fill",pe_nodes_hover),Q.selectAll(ne._childNodes(d)).style("fill",pe_nodes_hover).style("stroke",pe_nodes_method).style("stroke-width",2),Q.selectAll(ne._parentNodes(d)).style("fill",pe_nodes_dep).style("stroke",pe_nodes_method).style("stroke-width",2)}).on("mouseout",function(d){Q.select(this).style("fill",pe_nodes_method),Q.selectAll(ne._childNodes(d)).style("fill",pe_nodes_method).style("stroke",null),Q.selectAll(ne._parentNodes(d)).style("fill",pe_nodes_method).style("stroke",null)}).on("click",function(d){if(ne._model.focused===d)return ne._force.charge(-200*ne._scale()).linkDistance(100*ne._scale()).linkStrength(1).start(),ne._node.style("opacity",1),ne._link.style("opacity",.3),ne._model.focused=null,void ne.emit("select",!1);ne._model.focused=d,ne.emit("select",d.id),ne._node.style("opacity",function(N){return N.active=ne._connected(d,N),N.active?1:.2}),ne._force.charge(function(N){return(N.active?-100:-5)*ne._scale()}).linkDistance(function(N){return(N.source.active&&N.target.active?100:60)*ne._scale()}).linkStrength(function(N){return(N.source===d||N.target===d?1:0)*ne._scale()}).start(),ne._link.style("opacity",function(N,A){return N.source.active&&N.target.active?1:.02})}),ne._node.select("circle").attr("r",function(d){return ne._scale()*(d.me?15:10)}).style("fill",pe_nodes_method),le.append("text").attr("class","text").text(function(d){return d.name}),ne._node.select("text").attr("font-size",function(d){return d.me?16*ne._scale():12*ne._scale()}).attr("dx",0).attr("dy",function(d){return d.me?-22*ne._scale():-15*ne._scale()}),ne._node.exit().remove(),ne._force.linkDistance(100*ne._scale()).charge(-200*ne._scale()).start()},_e.prototype._childNodes=function(ne){var le=this;return ne.children?ne.children.map(function(d){return le._node[0][d]}).filter(function(d){return d}):[]},_e.prototype._parentNodes=function(ne){var le=this;return ne.parents?ne.parents.map(function(d){return le._node[0][d]}).filter(function(d){return d}):[]},_e.prototype._connected=function(ne,le){return le.id===ne.id||ne.children&&-1!==ne.children.indexOf(le.id)||le.children&&-1!==le.children.indexOf(ne.id)||le.parents&&-1!==le.parents.indexOf(ne.id)||ne.parents&&-1!==ne.parents.indexOf(le.id)},_e.prototype._getNode=function(ne){for(var d=0,N=this._model.nodes.length;d<N;d+=1){var A=this._model.nodes[d];if(A.id===ne)return A}return null},_e.prototype._scale=function(){var le=this._model.nodes.length;return le<10?1:Math.max(.2,1-(le-10)/100)},_e.prototype._resize=function(ne){var le=this;le._width=le._root.offsetWidth,le._height=window.innerWidth>=900?400:250,le._svg.attr("width",le._width).attr("height",le._height),le._force&&le._force.size([le._width,le._height]).resume()},_e.prototype._getNodeIndex=function(ne){for(var d=0,N=this._model.nodes.length;d<N;d+=1)if(this._model.nodes[d].id===ne)return d;return-1},_e.prototype.getLinkIndex=function(ne,le){for(var d=this,N=0,A=d._model.links.length;N<A;N+=1){var f=d._model.links[N];if(f.source===d._model.nodes[ne]&&f.target===d._model.nodes[le])return N}return-1}},{d3:1,debug:2,events:4,inherits:5,throttleit:8}]},{},[9])(9)}),function(Gt,gn){"object"==typeof exports&&typeof module<"u"?module.exports=gn():"function"==typeof define&&define.amd?define(gn):(Gt=typeof globalThis<"u"?globalThis:Gt||self).Viewer=gn()}(this,function(){"use strict";function Gt(de,Le){var et,qe=Object.keys(de);return Object.getOwnPropertySymbols&&(et=Object.getOwnPropertySymbols(de),Le&&(et=et.filter(function(Ze){return Object.getOwnPropertyDescriptor(de,Ze).enumerable})),qe.push.apply(qe,et)),qe}function gn(de){for(var Le=1;Le<arguments.length;Le++){var et=null!=arguments[Le]?arguments[Le]:{};Le%2?Gt(Object(et),!0).forEach(function(qe){var Ze,Ct;Ct=et[qe],qe in(Ze=de)?Object.defineProperty(Ze,qe,{value:Ct,enumerable:!0,configurable:!0,writable:!0}):Ze[qe]=Ct}):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors(et)):Gt(Object(et)).forEach(function(qe){Object.defineProperty(de,qe,Object.getOwnPropertyDescriptor(et,qe))})}return de}function H(de){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Le){return typeof Le}:function(Le){return Le&&"function"==typeof Symbol&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le})(de)}function At(de,Le){for(var et=0;et<Le.length;et++){var qe=Le[et];qe.enumerable=qe.enumerable||!1,qe.configurable=!0,"value"in qe&&(qe.writable=!0),Object.defineProperty(de,qe.key,qe)}}var xt={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},vr=(wn=typeof window<"u"&&void 0!==window.document)?window:{},kt=!(!wn||!vr.document.documentElement)&&"ontouchstart"in vr.document.documentElement,Ht=wn&&"PointerEvent"in vr,Q="viewer",je="move",y="zoom",he="".concat(Q,"-active"),te="".concat(Q,"-close"),pe="".concat(Q,"-fade"),_e="".concat(Q,"-fixed"),ne="".concat(Q,"-fullscreen"),le="".concat(Q,"-fullscreen-exit"),d="".concat(Q,"-hide"),N="".concat(Q,"-hide-md-down"),A="".concat(Q,"-hide-sm-down"),f="".concat(Q,"-hide-xs-down"),b="".concat(Q,"-in"),m="".concat(Q,"-invisible"),_="".concat(Q,"-loading"),n="".concat(Q,"-move"),g="".concat(Q,"-open"),h="".concat(Q,"-show"),s="".concat(Q,"-transition"),u="click",o="dblclick",t="dragstart",r="focusin",a="keydown",c="load",l="error",w=Ht?"pointerdown":kt?"touchstart":"mousedown",E=Ht?"pointermove":kt?"touchmove":"mousemove",C=Ht?"pointerup pointercancel":kt?"touchend touchcancel":"mouseup",z="resize",k="transitionend",I="wheel",V="ready",$="show",oe="viewed",ue="rotated",Ae="".concat(Q,"Action"),X=/\s\s*/,T=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function D(de){return"string"==typeof de}var M=Number.isNaN||vr.isNaN;function v(de){return"number"==typeof de&&!M(de)}function B(de){return void 0===de}function F(de){return"object"===H(de)&&null!==de}var q=Object.prototype.hasOwnProperty;function L(de){if(!F(de))return!1;try{var Le=de.constructor,et=Le.prototype;return Le&&et&&q.call(et,"isPrototypeOf")}catch{return!1}}function Y(de){return"function"==typeof de}function se(de,Le){if(de&&Y(Le))if(Array.isArray(de)||v(de.length))for(var et=de.length,qe=0;qe<et&&!1!==Le.call(de,de[qe],qe,de);qe+=1);else F(de)&&Object.keys(de).forEach(function(Ze){Le.call(de,de[Ze],Ze,de)})}var Ee=Object.assign||function(de){for(var Le=arguments.length,et=new Array(1<Le?Le-1:0),qe=1;qe<Le;qe++)et[qe-1]=arguments[qe];return F(de)&&0<et.length&&et.forEach(function(Ze){F(Ze)&&Object.keys(Ze).forEach(function(Ct){de[Ct]=Ze[Ct]})}),de},Se=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Ie(de,Le){var et=de.style;se(Le,function(qe,Ze){Se.test(Ze)&&v(qe)&&(qe+="px"),et[Ze]=qe})}function Qe(de,Le){return de&&Le&&(de.classList?de.classList.contains(Le):-1<de.className.indexOf(Le))}function Je(de,Le){var et;de&&Le&&(v(de.length)?se(de,function(qe){Je(qe,Le)}):de.classList?de.classList.add(Le):(et=de.className.trim())?et.indexOf(Le)<0&&(de.className="".concat(et," ").concat(Le)):de.className=Le)}function ut(de,Le){de&&Le&&(v(de.length)?se(de,function(et){ut(et,Le)}):de.classList?de.classList.remove(Le):0<=de.className.indexOf(Le)&&(de.className=de.className.replace(Le,"")))}function $t(de,Le,et){Le&&(v(de.length)?se(de,function(qe){$t(qe,Le,et)}):(et?Je:ut)(de,Le))}var qt=/([a-z\d])([A-Z])/g;function tt(de){return de.replace(qt,"$1-$2").toLowerCase()}function at(de,Le){return F(de[Le])?de[Le]:de.dataset?de.dataset[Le]:de.getAttribute("data-".concat(tt(Le)))}function nt(de,Le,et){F(et)?de[Le]=et:de.dataset?de.dataset[Le]=et:de.setAttribute("data-".concat(tt(Le)),et)}Tn=!1,wn&&(Yt=!1,Ht=function(){},wn=Object.defineProperty({},"once",{get:function(){return Tn=!0,Yt},set:function(de){Yt=de}}),vr.addEventListener("test",Ht,wn),vr.removeEventListener("test",Ht,wn));var Yt,Tn,J=Tn;function O(de,Le,et,qe){var Ze=3<arguments.length&&void 0!==qe?qe:{},Ct=et;Le.trim().split(X).forEach(function(Nt){var Bt;J||(Bt=de.listeners)&&Bt[Nt]&&Bt[Nt][et]&&(Ct=Bt[Nt][et],delete Bt[Nt][et],0===Object.keys(Bt[Nt]).length&&delete Bt[Nt],0===Object.keys(Bt).length&&delete de.listeners),de.removeEventListener(Nt,Ct,Ze)})}function W(de,Le,et,qe){var Ze=3<arguments.length&&void 0!==qe?qe:{},Ct=et;Le.trim().split(X).forEach(function(Nt){var Bt,ln;Ze.once&&!J&&(Ct=function(){delete ln[Nt][et],de.removeEventListener(Nt,Ct,Ze);for(var Ot=arguments.length,mn=new Array(Ot),kn=0;kn<Ot;kn++)mn[kn]=arguments[kn];et.apply(de,mn)},(ln=void 0===(Bt=de.listeners)?{}:Bt)[Nt]||(ln[Nt]={}),ln[Nt][et]&&de.removeEventListener(Nt,ln[Nt][et],Ze),ln[Nt][et]=Ct,de.listeners=ln),de.addEventListener(Nt,Ct,Ze)})}function ee(de,Le,et,qe){var Ze;return Y(Event)&&Y(CustomEvent)?Ze=new CustomEvent(Le,gn({bubbles:!0,cancelable:!0,detail:et},qe)):(Ze=document.createEvent("CustomEvent")).initCustomEvent(Le,!0,!0,et),de.dispatchEvent(Ze)}function ve(Ze){var Le=Ze.rotate,et=Ze.scaleX,qe=Ze.scaleY,Nt=Ze.translateX,Ct=(Ze=Ze.translateY,[]);return{WebkitTransform:(v(Nt)&&0!==Nt&&Ct.push("translateX(".concat(Nt,"px)")),v(Ze)&&0!==Ze&&Ct.push("translateY(".concat(Ze,"px)")),v(Le)&&0!==Le&&Ct.push("rotate(".concat(Le,"deg)")),v(et)&&1!==et&&Ct.push("scaleX(".concat(et,")")),v(qe)&&1!==qe&&Ct.push("scaleY(".concat(qe,")")),Nt=Ct.length?Ct.join(" "):"none"),msTransform:Nt,transform:Nt}}var He=vr.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(vr.navigator.userAgent);function ht(de,Le,et){var qe=document.createElement("img");if(de.naturalWidth&&!He)return et(de.naturalWidth,de.naturalHeight),qe;var Ze=document.body||document.documentElement;return qe.onload=function(){et(qe.width,qe.height),He||Ze.removeChild(qe)},se(Le.inheritedAttributes,function(Ct){var Nt=de.getAttribute(Ct);null!==Nt&&qe.setAttribute(Ct,Nt)}),qe.src=de.src,He||(qe.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",Ze.appendChild(qe)),qe}function st(de){switch(de){case 2:return f;case 3:return A;case 4:return N;default:return""}}function Jt(qe,Le){var et=qe.pageX,Ze={endX:et,endY:qe=qe.pageY};return Le?Ze:gn({timeStamp:Date.now(),startX:et,startY:qe},Ze)}Ht={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var de=this.element.ownerDocument,Le=de.body||de.documentElement;this.body=Le,this.scrollbarWidth=window.innerWidth-de.documentElement.clientWidth,this.initialBodyPaddingRight=Le.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(Le).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var de,Le=this.options,et=this.parent;Le.inline&&(de={width:Math.max(et.offsetWidth,Le.minWidth),height:Math.max(et.offsetHeight,Le.minHeight)},this.parentData=de),!this.fulled&&de||(de=this.containerData),this.viewerData=Ee({},de)},renderViewer:function(){this.options.inline&&!this.fulled&&Ie(this.viewer,this.viewerData)},initList:function(){var de=this,Le=this.element,et=this.options,qe=this.list,Ze=[];qe.innerHTML="",se(this.images,function(Ct,Nt){var Bt,ln,Ot=Ct.src,mn=Ct.alt||(D(mn=Ot)?decodeURIComponent(mn.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""),kn=de.getImageURL(Ct);(Ot||kn)&&(Bt=document.createElement("li"),ln=document.createElement("img"),se(et.inheritedAttributes,function(vn){var In=Ct.getAttribute(vn);null!==In&&ln.setAttribute(vn,In)}),ln.src=Ot||kn,ln.alt=mn,ln.setAttribute("data-original-url",kn||Ot),Bt.setAttribute("data-index",Nt),Bt.setAttribute("data-viewer-action","view"),Bt.setAttribute("role","button"),et.keyboard&&Bt.setAttribute("tabindex",0),Bt.appendChild(ln),qe.appendChild(Bt),Ze.push(Bt))}),se(this.items=Ze,function(Ct){var Nt,Bt,ln=Ct.firstElementChild;nt(ln,"filled",!0),et.loading&&Je(Ct,_),W(ln,c,Nt=function(Ot){O(ln,l,Bt),et.loading&&ut(Ct,_),de.loadImage(Ot)},{once:!0}),W(ln,l,Bt=function(){O(ln,c,Nt),et.loading&&ut(Ct,_)},{once:!0})}),et.transition&&W(Le,oe,function(){Je(qe,s)},{once:!0})},renderList:function(){var de,Le,et=this.index,qe=this.items[et];qe&&(de=qe.nextElementSibling,de=parseInt(window.getComputedStyle(de||qe).marginLeft,10),Ie(this.list,Ee({width:(Le=(qe=qe.offsetWidth)+de)*this.length-de},ve({translateX:(this.viewerData.width-qe)/2-Le*et}))))},resetList:function(){var de=this.list;de.innerHTML="",ut(de,s),Ie(de,ve({translateX:0}))},initImage:function(de){var Le,et=this,qe=this.options,Ze=this.image,Ct=this.viewerData,Nt=this.footer.offsetHeight,Bt=Ct.width,ln=Math.max(Ct.height-Nt,Nt),Ot=this.imageData||{};this.imageInitializing={abort:function(){Le.onload=null}},Le=ht(Ze,qe,function(mn,kn){var vn=mn/kn,In=Bt,pr=ln,Nn=(et.imageInitializing=!1,Bt<ln*vn?pr=Bt/vn:In=ln*vn,In=Math.min(.9*In,mn),pr=Math.min(.9*pr,kn),(Bt-In)/2),zn=Ee({},Nn={left:Nn,top:zn=(ln-pr)/2,x:Nn,y:zn,width:In,height:pr,oldRatio:1,ratio:In/mn,aspectRatio:vn,naturalWidth:mn,naturalHeight:kn});qe.rotatable&&(Nn.rotate=Ot.rotate||0,zn.rotate=0),qe.scalable&&(Nn.scaleX=Ot.scaleX||1,Nn.scaleY=Ot.scaleY||1,zn.scaleX=1,zn.scaleY=1),et.imageData=Nn,et.initialImageData=zn,de&&de()})},renderImage:function(de){var Le,et=this,qe=this.image,Ze=this.imageData;Ie(qe,Ee({width:Ze.width,height:Ze.height,marginLeft:Ze.x,marginTop:Ze.y},ve(Ze))),de&&((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&Qe(qe,s)?(Le=function(){et.imageRendering=!1,de()},this.imageRendering={abort:function(){O(qe,k,Le)}},W(qe,k,Le,{once:!0})):de())},resetImage:function(){var de;(this.viewing||this.viewed)&&(de=this.image,this.viewing&&this.viewing.abort(),de.parentNode.removeChild(de),this.image=null)}};var on,wn={bind:function(){var de=this.options,Le=this.viewer,et=this.canvas,qe=this.element.ownerDocument;W(Le,u,this.onClick=this.click.bind(this)),W(Le,t,this.onDragStart=this.dragstart.bind(this)),W(et,w,this.onPointerDown=this.pointerdown.bind(this)),W(qe,E,this.onPointerMove=this.pointermove.bind(this)),W(qe,C,this.onPointerUp=this.pointerup.bind(this)),W(qe,a,this.onKeyDown=this.keydown.bind(this)),W(window,z,this.onResize=this.resize.bind(this)),de.zoomable&&de.zoomOnWheel&&W(Le,I,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),de.toggleOnDblclick&&W(et,o,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var de=this.options,Le=this.viewer,et=this.canvas,qe=this.element.ownerDocument;O(Le,u,this.onClick),O(Le,t,this.onDragStart),O(et,w,this.onPointerDown),O(qe,E,this.onPointerMove),O(qe,C,this.onPointerUp),O(qe,a,this.onKeyDown),O(window,z,this.onResize),de.zoomable&&de.zoomOnWheel&&O(Le,I,this.onWheel,{passive:!1,capture:!0}),de.toggleOnDblclick&&O(et,o,this.onDblclick)}},sn={click:function(de){var Le=this.options,et=this.imageData,qe=de.target,Ze=at(qe,Ae);switch(Ze||"img"!==qe.localName||"li"!==qe.parentElement.localName||(Ze=at(qe=qe.parentElement,Ae)),kt&&de.isTrusted&&qe===this.canvas&&clearTimeout(this.clickCanvasTimeout),Ze){case"mix":this.played?this.stop():Le.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(at(qe,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(Le.loop);break;case"play":this.play(Le.fullscreen);break;case"next":this.next(Le.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-et.scaleX||-1);break;case"flip-vertical":this.scaleY(-et.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(de){de.preventDefault(),this.viewed&&de.target===this.image&&(kt&&de.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(de.isTrusted?de:de.detail&&de.detail.originalEvent))},load:function(){var de=this,Le=(this.timeout&&(clearTimeout(this.timeout),this.timeout=!1),this.element),et=this.options,qe=this.image,Ze=this.index,Ct=this.viewerData;ut(qe,m),et.loading&&ut(this.canvas,_),qe.style.cssText="height:0;"+"margin-left:".concat(Ct.width/2,"px;")+"margin-top:".concat(Ct.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){$t(qe,n,et.movable),$t(qe,s,et.transition),de.renderImage(function(){de.viewed=!0,de.viewing=!1,Y(et.viewed)&&W(Le,oe,et.viewed,{once:!0}),ee(Le,oe,{originalImage:de.images[Ze],index:Ze,image:qe},{cancelable:!1})})})},loadImage:function(et){var Le=et.target,qe=(et=Le.parentNode).offsetWidth||30,Ze=et.offsetHeight||50,Ct=!!at(Le,"filled");ht(Le,this.options,function(ln,Ot){ln/=Ot,Ot=qe;var mn=Ze;qe<Ze*ln?Ct?Ot=Ze*ln:mn=qe/ln:Ct?mn=qe/ln:Ot=Ze*ln,Ie(Le,Ee({width:Ot,height:mn},ve({translateX:(qe-Ot)/2,translateY:(Ze-mn)/2})))})},keydown:function(de){var Le=this.options;if(Le.keyboard){var et=de.keyCode||de.which||de.charCode;if(13===et&&this.viewer.contains(de.target)&&this.click(de),this.fulled)switch(et){case 27:this.played?this.stop():Le.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(Le.loop);break;case 38:de.preventDefault(),this.zoom(Le.zoomRatio,!0);break;case 39:this.next(Le.loop);break;case 40:de.preventDefault(),this.zoom(-Le.zoomRatio,!0);break;case 48:case 49:de.ctrlKey&&(de.preventDefault(),this.toggle())}}},dragstart:function(de){"img"===de.target.localName&&de.preventDefault()},pointerdown:function(de){var Le=this.options,et=this.pointers,qe=de.buttons,Ze=de.button;!this.viewed||this.showing||this.viewing||this.hiding||("mousedown"===de.type||"pointerdown"===de.type&&"mouse"===de.pointerType)&&(v(qe)&&1!==qe||v(Ze)&&0!==Ze||de.ctrlKey)||(de.preventDefault(),de.changedTouches?se(de.changedTouches,function(Ct){et[Ct.identifier]=Jt(Ct)}):et[de.pointerId||0]=Jt(de),qe=!!Le.movable&&je,Le.zoomOnTouch&&Le.zoomable&&1<Object.keys(et).length?qe=y:Le.slideOnTouch&&("touch"===de.pointerType||"touchstart"===de.type)&&this.isSwitchable()&&(qe="switch"),!Le.transition||qe!==je&&qe!==y||ut(this.image,s),this.action=qe)},pointermove:function(de){var Le=this.pointers;this.viewed&&this.action&&(de.preventDefault(),de.changedTouches?se(de.changedTouches,function(qe){Ee(Le[qe.identifier]||{},Jt(qe,!0))}):Ee(Le[de.pointerId||0]||{},Jt(de,!0)),this.change(de))},pointerup:function(de){var Le,et=this,qe=this.options,Ze=this.action,Ct=this.pointers;de.changedTouches?se(de.changedTouches,function(Nt){Le=Ct[Nt.identifier],delete Ct[Nt.identifier]}):(Le=Ct[de.pointerId||0],delete Ct[de.pointerId||0]),Ze&&(de.preventDefault(),!qe.transition||Ze!==je&&Ze!==y||Je(this.image,s),this.action=!1,kt&&Ze!==y&&Le&&Date.now()-Le.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),qe.toggleOnDblclick&&this.viewed&&de.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){ee(et.image,o,{originalEvent:de})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){et.imageClicked=!1},500)):(this.imageClicked=!1,qe.backdrop&&"static"!==qe.backdrop&&de.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){ee(et.canvas,u,{originalEvent:de})},50)))))},resize:function(){var de=this;this.isShown&&!this.hiding&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){de.renderImage()}),this.played&&(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?this.stop():se(this.player.getElementsByTagName("img"),function(Le){W(Le,c,de.loadImage.bind(de),{once:!0}),ee(Le,c)})))},wheel:function(de){var Le,et,qe=this;this.viewed&&(de.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){qe.wheeling=!1},50),Le=Number(this.options.zoomRatio)||.1,et=1,de.deltaY?et=0<de.deltaY?1:-1:de.wheelDelta?et=-de.wheelDelta/120:de.detail&&(et=0<de.detail?1:-1),this.zoom(-et*Le,!0,de)))}},Sn={show:function(){var de=0<arguments.length&&void 0!==arguments[0]&&arguments[0],Le=this.element,et=this.options;if(et.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(de),this;if(Y(et.show)&&W(Le,$,et.show,{once:!0}),!1===ee(Le,$)||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var qe,Ze=this.viewer;return ut(Ze,d),Ze.setAttribute("role","dialog"),Ze.setAttribute("aria-labelledby",this.title.id),Ze.setAttribute("aria-modal",!0),Ze.removeAttribute("aria-hidden"),et.transition&&!de?(qe=this.shown.bind(this),this.transitioning={abort:function(){O(Ze,k,qe),ut(Ze,b)}},Je(Ze,s),Ze.initialOffsetWidth=Ze.offsetWidth,W(Ze,k,qe,{once:!0}),Je(Ze,b)):(Je(Ze,b),this.shown()),this},hide:function(){var de=this,Le=0<arguments.length&&void 0!==arguments[0]&&arguments[0],et=this.element,qe=this.options;if(qe.inline||this.hiding||!this.isShown&&!this.showing)return this;if(Y(qe.hide)&&W(et,"hide",qe.hide,{once:!0}),!1===ee(et,"hide"))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var Ze,Ct,Nt=this.viewer,Bt=this.image,ln=function(){ut(Nt,b),de.hidden()};return qe.transition&&!Le?(Ze=function Ot(mn){mn&&mn.target===Nt&&(O(Nt,k,Ot),de.hidden())},Ct=function(){Qe(Nt,s)?(W(Nt,k,Ze),ut(Nt,b)):ln()},this.transitioning={abort:function(){de.viewed&&Qe(Bt,s)?O(Bt,k,Ct):Qe(Nt,s)&&O(Nt,k,Ze)}},this.viewed&&Qe(Bt,s)?(W(Bt,k,Ct,{once:!0}),this.zoomTo(0,!1,null,!0)):Ct()):ln(),this},view:function(){var de=this,Le=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(Le=Number(Le)||0,this.hiding||this.played||Le<0||Le>=this.length||this.viewed&&Le===this.index)return this;if(!this.isShown)return this.index=Le,this.show();this.viewing&&this.viewing.abort();var kn,vn,et=this.element,qe=this.options,Ze=this.title,Ct=this.canvas,Nt=this.items[Le],Bt=Nt.querySelector("img"),In=at(Bt,"originalUrl"),ln=Bt.getAttribute("alt"),Ot=document.createElement("img");if(se(qe.inheritedAttributes,function(pr){var Nn=Bt.getAttribute(pr);null!==Nn&&Ot.setAttribute(pr,Nn)}),Ot.src=In,Ot.alt=ln,Y(qe.view)&&W(et,"view",qe.view,{once:!0}),!1===ee(et,"view",{originalImage:this.images[Le],index:Le,image:Ot})||!this.isShown||this.hiding||this.played)return this;function mn(){var pr=de.imageData,Nn=Array.isArray(qe.title)?qe.title[1]:qe.title;Ze.innerHTML=D(Nn=Y(Nn)?Nn.call(de,Ot,pr):"".concat(ln," (").concat(pr.naturalWidth," \xd7 ").concat(pr.naturalHeight,")"))?Nn.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):Nn}return(In=this.items[this.index])&&(ut(In,he),In.removeAttribute("aria-selected")),Je(Nt,he),Nt.setAttribute("aria-selected",!0),qe.focus&&Nt.focus(),this.image=Ot,this.viewed=!1,this.index=Le,this.imageData={},Je(Ot,m),qe.loading&&Je(Ct,_),Ct.innerHTML="",Ct.appendChild(Ot),this.renderList(),Ze.innerHTML="",W(et,oe,mn,{once:!0}),this.viewing={abort:function(){O(et,oe,mn),Ot.complete?de.imageRendering?de.imageRendering.abort():de.imageInitializing&&de.imageInitializing.abort():(Ot.src="",O(Ot,c,kn),de.timeout&&clearTimeout(de.timeout))}},Ot.complete?this.load():(W(Ot,c,kn=function(){O(Ot,l,vn),de.load()},{once:!0}),W(Ot,l,vn=function(){O(Ot,c,kn),de.timeout&&(clearTimeout(de.timeout),de.timeout=!1),ut(Ot,m),qe.loading&&ut(de.canvas,_)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){ut(Ot,m),de.timeout=!1},1e3)),this},prev:function(){var de=this.index-1;return de<0&&(de=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?this.length-1:0),this.view(de),this},next:function(){var de=this.length-1,Le=this.index+1;return this.view(Le=de<Le?0<arguments.length&&void 0!==arguments[0]&&arguments[0]?0:de:Le),this},move:function(de){var Le=1<arguments.length&&void 0!==arguments[1]?arguments[1]:de,et=this.imageData;return this.moveTo(B(de)?de:et.x+Number(de),B(Le)?Le:et.y+Number(Le)),this},moveTo:function(de){var Le=this,et=1<arguments.length&&void 0!==arguments[1]?arguments[1]:de,qe=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,Ze=this.element,Ct=this.options,Nt=this.imageData;if(de=Number(de),et=Number(et),this.viewed&&!this.played&&Ct.movable){var Bt=Nt.x,ln=Nt.y,Ot=!1;if(v(de)?Ot=!0:de=Bt,v(et)?Ot=!0:et=ln,Ot){if(Y(Ct.move)&&W(Ze,"move",Ct.move,{once:!0}),!1===ee(Ze,"move",{x:de,y:et,oldX:Bt,oldY:ln,originalEvent:qe}))return this;Nt.x=de,Nt.y=et,Nt.left=de,Nt.top=et,this.moving=!0,this.renderImage(function(){Le.moving=!1,Y(Ct.moved)&&W(Ze,"moved",Ct.moved,{once:!0}),ee(Ze,"moved",{x:de,y:et,oldX:Bt,oldY:ln,originalEvent:qe},{cancelable:!1})})}}return this},rotate:function(de){return this.rotateTo((this.imageData.rotate||0)+Number(de)),this},rotateTo:function(de){var Le=this,et=this.element,qe=this.options,Ze=this.imageData;if(v(de=Number(de))&&this.viewed&&!this.played&&qe.rotatable){var Ct=Ze.rotate;if(Y(qe.rotate)&&W(et,"rotate",qe.rotate,{once:!0}),!1===ee(et,"rotate",{degree:de,oldDegree:Ct}))return this;Ze.rotate=de,this.rotating=!0,this.renderImage(function(){Le.rotating=!1,Y(qe.rotated)&&W(et,ue,qe.rotated,{once:!0}),ee(et,ue,{degree:de,oldDegree:Ct},{cancelable:!1})})}return this},scaleX:function(de){return this.scale(de,this.imageData.scaleY),this},scaleY:function(de){return this.scale(this.imageData.scaleX,de),this},scale:function(de){var Le=this,et=1<arguments.length&&void 0!==arguments[1]?arguments[1]:de,qe=this.element,Ze=this.options,Ct=this.imageData;if(de=Number(de),et=Number(et),this.viewed&&!this.played&&Ze.scalable){var Nt=Ct.scaleX,Bt=Ct.scaleY,ln=!1;if(v(de)?ln=!0:de=Nt,v(et)?ln=!0:et=Bt,ln){if(Y(Ze.scale)&&W(qe,"scale",Ze.scale,{once:!0}),!1===ee(qe,"scale",{scaleX:de,scaleY:et,oldScaleX:Nt,oldScaleY:Bt}))return this;Ct.scaleX=de,Ct.scaleY=et,this.scaling=!0,this.renderImage(function(){Le.scaling=!1,Y(Ze.scaled)&&W(qe,"scaled",Ze.scaled,{once:!0}),ee(qe,"scaled",{scaleX:de,scaleY:et,oldScaleX:Nt,oldScaleY:Bt},{cancelable:!1})})}}return this},zoom:function(de){var Le=1<arguments.length&&void 0!==arguments[1]&&arguments[1],et=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,qe=this.imageData;return de=Number(de),this.zoomTo(qe.width*(de=de<0?1/(1-de):1+de)/qe.naturalWidth,Le,et),this},zoomTo:function(de){var Le,et,qe,Ze=this,Ct=1<arguments.length&&void 0!==arguments[1]&&arguments[1],Nt=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,Bt=3<arguments.length&&void 0!==arguments[3]&&arguments[3],ln=this.element,Ot=this.options,mn=this.pointers,kn=this.imageData,vn=kn.x,In=kn.y,pr=kn.width,Nn=kn.height,zn=kn.naturalWidth,Br=kn.naturalHeight;if(v(de=Math.max(0,de))&&this.viewed&&!this.played&&(Bt||Ot.zoomable)){if(Bt||(Bt=Math.max(.01,Ot.minZoomRatio),Qn=Math.min(100,Ot.maxZoomRatio),de=Math.min(Math.max(de,Bt),Qn)),Nt)switch(Nt.type){case"wheel":.055<=Ot.zoomRatio&&.95<de&&de<1.05&&(de=1);break;case"pointermove":case"touchmove":case"mousemove":.99<de&&de<1.01&&(de=1)}var Rn,Qn=Br*de,Wr=(zn=(Bt=zn*de)-pr,Br=Qn-Nn,kn.ratio);if(Y(Ot.zoom)&&W(ln,"zoom",Ot.zoom,{once:!0}),!1===ee(ln,"zoom",{ratio:de,oldRatio:Wr,originalEvent:Nt}))return this;this.zooming=!0,Nt?(Rn={left:(Rn=(Rn=this.viewer).getBoundingClientRect()).left+(window.pageXOffset-document.documentElement.clientLeft),top:Rn.top+(window.pageYOffset-document.documentElement.clientTop)},mn=mn&&0<Object.keys(mn).length?(qe=et=Le=0,se(mn,function(ct){Le+=ct.startX,et+=ct=ct.startY,qe+=1}),{pageX:Le/=qe,pageY:et/=qe}):{pageX:Nt.pageX,pageY:Nt.pageY},kn.x-=(mn.pageX-Rn.left-vn)/pr*zn,kn.y-=(mn.pageY-Rn.top-In)/Nn*Br):(kn.x-=zn/2,kn.y-=Br/2),kn.left=kn.x,kn.top=kn.y,kn.width=Bt,kn.height=Qn,kn.oldRatio=Wr,kn.ratio=de,this.renderImage(function(){Ze.zooming=!1,Y(Ot.zoomed)&&W(ln,"zoomed",Ot.zoomed,{once:!0}),ee(ln,"zoomed",{ratio:de,oldRatio:Wr,originalEvent:Nt},{cancelable:!1})}),Ct&&this.tooltip()}return this},play:function(){var de=this,Le=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var et=this.element,qe=this.options;if(Y(qe.play)&&W(et,"play",qe.play,{once:!0}),!1===ee(et,"play"))return this;var Ze=this.player,Ct=this.loadImage.bind(this),Nt=[],Bt=0,ln=0;return this.played=!0,this.onLoadWhenPlay=Ct,Le&&this.requestFullscreen(Le),Je(Ze,h),se(this.items,function(Ot,mn){var kn=Ot.querySelector("img"),vn=document.createElement("img");vn.src=at(kn,"originalUrl"),vn.alt=kn.getAttribute("alt"),vn.referrerPolicy=kn.referrerPolicy,Bt+=1,Je(vn,pe),$t(vn,s,qe.transition),Qe(Ot,he)&&(Je(vn,b),ln=mn),Nt.push(vn),W(vn,c,Ct,{once:!0}),Ze.appendChild(vn)}),v(qe.interval)&&0<qe.interval&&1<Bt&&function Ot(){de.playing=setTimeout(function(){ut(Nt[ln],b),Je(Nt[ln=(ln+=1)<Bt?ln:0],b),Ot()},qe.interval)}(),this},stop:function(){var de=this;if(!this.played)return this;var Le=this.element,et=this.options;return Y(et.stop)&&W(Le,"stop",et.stop,{once:!0}),!1===ee(Le,"stop")||(et=this.player,this.played=!1,clearTimeout(this.playing),se(et.getElementsByTagName("img"),function(qe){O(qe,c,de.onLoadWhenPlay)}),ut(et,h),et.innerHTML="",this.exitFullscreen()),this},full:function(){var de=this,Le=this.options,et=this.viewer,qe=this.image,Ze=this.list;return!this.isShown||this.played||this.fulled||!Le.inline||(this.fulled=!0,this.open(),Je(this.button,le),Le.transition&&(ut(Ze,s),this.viewed&&ut(qe,s)),Je(et,_e),et.setAttribute("role","dialog"),et.setAttribute("aria-labelledby",this.title.id),et.setAttribute("aria-modal",!0),et.removeAttribute("style"),Ie(et,{zIndex:Le.zIndex}),Le.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Ee({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){de.renderImage(function(){Le.transition&&setTimeout(function(){Je(qe,s),Je(Ze,s)},0)})})),this},exit:function(){var de=this,Le=this.options,et=this.viewer,qe=this.image,Ze=this.list;return this.isShown&&!this.played&&this.fulled&&Le.inline&&(this.fulled=!1,this.close(),ut(this.button,le),Le.transition&&(ut(Ze,s),this.viewed&&ut(qe,s)),Le.focus&&this.clearEnforceFocus(),et.removeAttribute("role"),et.removeAttribute("aria-labelledby"),et.removeAttribute("aria-modal"),ut(et,_e),Ie(et,{zIndex:Le.zIndexInline}),this.viewerData=Ee({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){de.renderImage(function(){Le.transition&&setTimeout(function(){Je(qe,s),Je(Ze,s)},0)})})),this},tooltip:function(){var de=this,Le=this.options,et=this.tooltipBox;return this.viewed&&!this.played&&Le.tooltip&&(et.textContent="".concat(Math.round(100*this.imageData.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):Le.transition?(this.fading&&ee(et,k),Je(et,h),Je(et,pe),Je(et,s),et.removeAttribute("aria-hidden"),et.initialOffsetWidth=et.offsetWidth,Je(et,b)):(Je(et,h),et.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){Le.transition?(W(et,k,function(){ut(et,h),ut(et,pe),ut(et,s),et.setAttribute("aria-hidden",!0),de.fading=!1},{once:!0}),ut(et,b),de.fading=!0):(ut(et,h),et.setAttribute("aria-hidden",!0)),de.tooltipping=!1},1e3)),this},toggle:function(){return this.zoomTo(1===this.imageData.ratio?this.imageData.oldRatio:1,!0,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Ee({},this.initialImageData),this.renderImage()),this},update:function(){var de=this,Le=this.element,et=this.options,qe=this.isImg;if(qe&&!Le.parentNode)return this.destroy();var Ze,Ct=[];return se(qe?[Le]:Le.querySelectorAll("img"),function(Nt){Y(et.filter)?et.filter.call(de,Nt)&&Ct.push(Nt):de.getImageURL(Nt)&&Ct.push(Nt)}),Ct.length&&(this.images=Ct,this.length=Ct.length,this.ready?(Ze=[],se(this.items,function(ln,Bt){ln=ln.querySelector("img");var Ot=Ct[Bt];Ot&&ln&&Ot.src===ln.src&&Ot.alt===ln.alt||Ze.push(Bt)}),Ie(this.list,{width:"auto"}),this.initList(),this.isShown&&(this.length?this.viewed&&(0<=(qe=Ze.indexOf(this.index))?(this.viewed=!1,this.view(Math.max(Math.min(this.index-qe,this.length-1),0))):(Je(Le=this.items[this.index],he),Le.setAttribute("aria-selected",!0))):(this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""))):this.build()),this},destroy:function(){var de=this.element,Le=this.options;return de[Q]&&(this.destroyed=!0,this.ready?(this.played&&this.stop(),Le.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):Le.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),Le.inline||O(de,u,this.onStart),de[Q]=void 0),this}},fr={getImageURL:function(de){var Le=this.options.url;return D(Le)?de.getAttribute(Le):Y(Le)?Le.call(this,de):""},enforceFocus:function(){var de=this;this.clearEnforceFocus(),W(document,r,this.onFocusin=function(Le){var et=de.viewer,qe=Le.target;if(qe!==document&&qe!==et&&!et.contains(qe)){for(;qe;){if(null!==qe.getAttribute("tabindex")||"true"===qe.getAttribute("aria-modal"))return;qe=qe.parentElement}et.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(O(document,r,this.onFocusin),this.onFocusin=null)},open:function(){var de=this.body;Je(de,g),de.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px")},close:function(){var de=this.body;ut(de,g),de.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var de=this.element,Le=this.options,et=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,Le.focus&&(et.focus(),this.enforceFocus()),Y(Le.shown)&&W(de,"shown",Le.shown,{once:!0}),!1!==ee(de,"shown")&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var de=this.element,Le=this.options,et=this.viewer;Le.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),Je(et,d),et.removeAttribute("role"),et.removeAttribute("aria-labelledby"),et.removeAttribute("aria-modal"),et.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(Y(Le.hidden)&&W(de,"hidden",Le.hidden,{once:!0}),ee(de,"hidden",null,{cancelable:!1}))},requestFullscreen:function(de){var Le=this.element.ownerDocument;this.fulled&&!(Le.fullscreenElement||Le.webkitFullscreenElement||Le.mozFullScreenElement||Le.msFullscreenElement)&&((Le=Le.documentElement).requestFullscreen?L(de)?Le.requestFullscreen(de):Le.requestFullscreen():Le.webkitRequestFullscreen?Le.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):Le.mozRequestFullScreen?Le.mozRequestFullScreen():Le.msRequestFullscreen&&Le.msRequestFullscreen())},exitFullscreen:function(){var de=this.element.ownerDocument;this.fulled&&(de.fullscreenElement||de.webkitFullscreenElement||de.mozFullScreenElement||de.msFullscreenElement)&&(de.exitFullscreen?de.exitFullscreen():de.webkitExitFullscreen?de.webkitExitFullscreen():de.mozCancelFullScreen?de.mozCancelFullScreen():de.msExitFullscreen&&de.msExitFullscreen())},change:function(de){var Le=this.options,et=this.pointers,qe=et[Object.keys(et)[0]];if(qe){var Ze,Ct,Nt=qe.endX-qe.startX,Bt=qe.endY-qe.startY;switch(this.action){case je:this.move(Nt,Bt,de);break;case y:this.zoom((Ze=gn({},ln=et),Ct=[],se(ln,function(Ot,mn){delete Ze[mn],se(Ze,function(In){var pr=Math.abs(Ot.startX-In.startX),Nn=Math.abs(Ot.startY-In.startY),vn=Math.abs(Ot.endX-In.endX);In=Math.abs(Ot.endY-In.endY),pr=Math.sqrt(pr*pr+Nn*Nn),Nn=Math.sqrt(vn*vn+In*In),Ct.push((Nn-pr)/pr)})}),Ct.sort(function(Ot,mn){return Math.abs(Ot)<Math.abs(mn)}),Ct[0]),!1,de);break;case"switch":this.action="switched";var ln=Math.abs(Nt);1<ln&&ln>Math.abs(Bt)&&(this.pointers={},1<Nt?this.prev(Le.loop):Nt<-1&&this.next(Le.loop))}se(et,function(Ot){Ot.startX=Ot.endX,Ot.startY=Ot.endY})}},isSwitchable:function(){var de=this.imageData,Le=this.viewerData;return 1<this.length&&0<=de.x&&0<=de.y&&de.width<=Le.width&&de.height<=Le.height}},Dn=vr.Viewer,Rt=(on=-1,function(){return on+=1});return vr=function(){function de(Ze){var Ct=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof de))throw new TypeError("Cannot call a class as a function");if(!Ze||1!==Ze.nodeType)throw new Error("The first argument is required and must be an element.");this.element=Ze,this.options=Ee({},xt,L(Ct)&&Ct),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.id=Rt(),this.init()}var Le,et,qe;return Le=de,qe=[{key:"noConflict",value:function(){return window.Viewer=Dn,de}},{key:"setDefaults",value:function(Ze){Ee(xt,L(Ze)&&Ze)}}],(et=[{key:"init",value:function(){var Ze,Ct,Nt,Bt,ln=this,Ot=this.element,mn=this.options;Ot[Q]||(Ot[Q]=this,mn.focus&&!mn.keyboard&&(mn.focus=!1),Ct=[],se((Ze="img"===Ot.localName)?[Ot]:Ot.querySelectorAll("img"),function(kn){Y(mn.filter)?mn.filter.call(ln,kn)&&Ct.push(kn):ln.getImageURL(kn)&&Ct.push(kn)}),this.isImg=Ze,this.length=Ct.length,this.images=Ct,this.initBody(),B(document.createElement(Q).style.transition)&&(mn.transition=!1),mn.inline?(Nt=0,Bt=function(){var kn;(Nt+=1)===ln.length&&(ln.initializing=!1,ln.delaying={abort:function(){clearTimeout(kn)}},kn=setTimeout(function(){ln.delaying=!1,ln.build()},0))},this.initializing={abort:function(){se(Ct,function(kn){kn.complete||(O(kn,c,Bt),O(kn,l,Bt))})}},se(Ct,function(kn){var vn,In;kn.complete?Bt():(W(kn,c,vn=function(){O(kn,l,In),Bt()},{once:!0}),W(kn,l,In=function(){O(kn,c,vn),Bt()},{once:!0}))})):W(Ot,u,this.onStart=function(kn){"img"!==(kn=kn.target).localName||Y(mn.filter)&&!mn.filter.call(ln,kn)||ln.view(ln.images.indexOf(kn))}))}},{key:"build",value:function(){var Ze,Ct,Nt,Bt,ln,Ot,mn,kn,vn,In,pr,Nn,zn,Br;this.ready||(Ct=this.options,Nt=(Ze=this.element).parentNode,(zn=document.createElement("div")).innerHTML='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',zn=(Bt=zn.querySelector(".".concat(Q,"-container"))).querySelector(".".concat(Q,"-title")),ln=Bt.querySelector(".".concat(Q,"-toolbar")),Br=Bt.querySelector(".".concat(Q,"-navbar")),Ot=Bt.querySelector(".".concat(Q,"-button")),mn=Bt.querySelector(".".concat(Q,"-canvas")),this.parent=Nt,this.viewer=Bt,this.title=zn,this.toolbar=ln,this.navbar=Br,this.button=Ot,this.canvas=mn,this.footer=Bt.querySelector(".".concat(Q,"-footer")),this.tooltipBox=Bt.querySelector(".".concat(Q,"-tooltip")),this.player=Bt.querySelector(".".concat(Q,"-player")),this.list=Bt.querySelector(".".concat(Q,"-list")),Bt.id="".concat(Q).concat(this.id),zn.id="".concat(Q,"Title").concat(this.id),Je(zn,Ct.title?st(Array.isArray(Ct.title)?Ct.title[0]:Ct.title):d),Je(Br,Ct.navbar?st(Ct.navbar):d),$t(Ot,d,!Ct.button),Ct.keyboard&&Ot.setAttribute("tabindex",0),Ct.backdrop&&(Je(Bt,"".concat(Q,"-backdrop")),Ct.inline||"static"===Ct.backdrop||nt(mn,Ae,"hide")),D(Ct.className)&&Ct.className&&Ct.className.split(X).forEach(function(Rn){Je(Bt,Rn)}),Ct.toolbar?(kn=document.createElement("ul"),vn=L(Ct.toolbar),In=T.slice(0,3),pr=T.slice(7,9),Nn=T.slice(9),vn||Je(ln,st(Ct.toolbar)),se(vn?Ct.toolbar:T,function(Rn,Zn){var Wr,Kn=vn&&L(Rn),Kr=(Zn=vn?tt(Zn):Rn,Kn&&!B(Rn.show)?Rn.show:Rn);!Kr||!Ct.zoomable&&-1!==In.indexOf(Zn)||!Ct.rotatable&&-1!==pr.indexOf(Zn)||!Ct.scalable&&-1!==Nn.indexOf(Zn)||(Wr=Kn&&!B(Rn.size)?Rn.size:Rn,Kn=Kn&&!B(Rn.click)?Rn.click:Rn,Rn=document.createElement("li"),Ct.keyboard&&Rn.setAttribute("tabindex",0),Rn.setAttribute("role","button"),Je(Rn,"".concat(Q,"-").concat(Zn)),Y(Kn)||nt(Rn,Ae,Zn),v(Kr)&&Je(Rn,st(Kr)),-1!==["small","large"].indexOf(Wr)?Je(Rn,"".concat(Q,"-").concat(Wr)):"play"===Zn&&Je(Rn,"".concat(Q,"-large")),Y(Kn)&&W(Rn,u,Kn),kn.appendChild(Rn))}),ln.appendChild(kn)):Je(ln,d),Ct.rotatable||(Je(zn=ln.querySelectorAll('li[class*="rotate"]'),m),se(zn,function(Rn){ln.appendChild(Rn)})),Ct.inline?(Je(Ot,ne),Ie(Bt,{zIndex:Ct.zIndexInline}),"static"===window.getComputedStyle(Nt).position&&Ie(Nt,{position:"relative"}),Nt.insertBefore(Bt,Ze.nextSibling)):(Je(Ot,te),Je(Bt,_e),Je(Bt,pe),Je(Bt,d),Ie(Bt,{zIndex:Ct.zIndex}),(Br=(Br=D(Br=Ct.container)?Ze.ownerDocument.querySelector(Br):Br)||this.body).appendChild(Bt)),Ct.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,Y(Ct.ready)&&W(Ze,V,Ct.ready,{once:!0}),!1===ee(Ze,V)?this.ready=!1:this.ready&&Ct.inline&&this.view(this.index))}}])&&At(Le.prototype,et),qe&&At(Le,qe),Object.defineProperty(Le,"prototype",{writable:!1}),de}(),Ee(vr.prototype,Ht,wn,sn,Sn,fr),vr});