"use strict";(self.webpackChunkmain_site=self.webpackChunkmain_site||[]).push([[305],{9305:(y,l,n)=>{n.r(l),n.d(l,{RssFeedModule:()=>E});var d=n(6895),h=n(1390),e=n(4650),g=n(9816),b=n(3322),c=n(3842),u=n(8151),p=n(1338),f=n(4758),m=n(4272),v=n(2510),C=n(183);let O=(()=>{class o{constructor(t,s,i,a){this.gs=t,this.bs=s,this.fansub=i,this.wb=a,this.rssFeedData=[],this.tabData=[{name:"Loper Koran",icon:"rss_feed",type:"table",data:{column:["Tanggal","Fansub","Topik"],row:[]}}],this.count=0,this.page=1,this.row=10,this.tablePageSizeOptions=[50,75,100,125,150],this.q="",this.sort="",this.order="",this.subsRssFeed=null,this.subsInternetPositif=null,this.gs.bannerImg=null,this.gs.sizeContain=!1,this.gs.bgRepeat=!1}ngOnInit(){this.gs.isBrowser&&(this.gs.isDesktop||(this.tablePageSizeOptions=[10,25,50,75,100]),this.row=this.tablePageSizeOptions[0],this.getRssFeed())}ngOnDestroy(){this.subsRssFeed?.unsubscribe(),this.subsInternetPositif?.unsubscribe()}getRssFeed(){this.bs.busy(),this.subsRssFeed&&(this.subsRssFeed.unsubscribe(),this.bs.idle()),this.subsRssFeed=this.fansub.getRssFeedFansubAll(null,this.q,this.page,this.row,this.sort,this.order).subscribe({next:t=>{this.gs.log("[RSS_FEED_LIST_SUCCESS]",t),this.count=t.count,this.rssFeedData=[];for(const s of t.results)this.rssFeedData.push({foto_fansub:s.fansub_.image_url,url:s.fansub_.urls.web,link:s.link,fansub_id:s.fansub_.id,Fansub:s.fansub_.slug,Tanggal:s.created_at,Topik:s.title});this.tabData[0].data.row=this.rssFeedData,this.count>0&&this.checkInternetPositif(),this.bs.idle()},error:t=>{this.gs.log("[RSS_FEED_LIST_ERROR]",t,"error"),this.bs.idle()}})}checkInternetPositif(){this.bs.busy();const t=[...new Set(this.rssFeedData.map(s=>s.fansub_id))];this.subsInternetPositif=this.fansub.checkInternetPositif(t).subscribe({next:s=>{this.gs.log("[RSS_FEED_KOMINFO_SUCCESS]",s);for(const i of this.rssFeedData)s.results[i.fansub_id]&&(i.internet_positif=s.results[i.fansub_id]);this.bs.idle()},error:s=>{this.gs.log("[RSS_FEED_KOMINFO_ERROR]",s,"error"),this.bs.idle()}})}openRssFeed(t){this.gs.log("[RSS_FEED_LIST_OPEN_URL]",t);const s=t.url;if(s){const i=new URL(s);let a=`${i.protocol}//${i.host}`;t.link.startsWith("/")||(a+="/"),a+=t.link,this.wb.winboxOpenUri(a)}}onPaginatorClicked(t){this.gs.log("[RSS_FEED_CLICK_PAGINATOR]",t),this.page=t.pageIndex+1,this.row=t.pageSize,this.getRssFeed()}onServerSideFilter(t){this.gs.log("[RSS_FEED_ENTER_FILTER]",t),this.q=t,this.getRssFeed()}onServerSideOrder(t){this.gs.log("[RSS_FEED_CLICK_ORDER]",t),this.q=t.q,this.sort=t.active,this.order=t.direction,this.getRssFeed()}static#t=this.\u0275fac=function(s){return new(s||o)(e.Y36(g.U),e.Y36(b.z),e.Y36(c.T),e.Y36(u.N))};static#e=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-rss-feed-list"]],decls:37,vars:4,consts:[[1,"container-fluid","p-0"],[1,"wrapper"],[1,"bg-bubbles","align-items-center","p-0"],[1,"wrapper-1"],[1,"row","align-items-center","h-100"],[1,"col-12","mx-auto"],[1,"container","text-dark"],[1,"mb-1",2,"line-height","normal"],[1,"mb-0"],[1,"container"],[1,"row","pb-3","px-0"],[1,"col-lg-8","col-xl-9"],[1,"row","my-4"],[1,"col-12"],[1,"text-success","text-end"],[1,"row"],[3,"tablePageSizeOptions","tabData","count","serverSide","tableRowClicked","paginatorClicked","serverSideFilter","serverSideOrder"],[1,"col-lg-4","col-xl-3"],[1,"row","sticky-top"]],template:function(s,i){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"ul",2),e._UZ(3,"span",3)(4,"li")(5,"li")(6,"li")(7,"li")(8,"li")(9,"li")(10,"li")(11,"li")(12,"li")(13,"li"),e.TgZ(14,"div",4)(15,"div",5)(16,"div",6)(17,"h2",7),e._uU(18," RSS & Feed Fansub "),e.qZA(),e.TgZ(19,"p",8),e._uU(20," Informasi Terkini Dari Fansub ... "),e.qZA()()()()()()(),e._UZ(21,"app-notifications"),e.TgZ(22,"div",9)(23,"div",10)(24,"div",11)(25,"div",12)(26,"div",13)(27,"div",14),e._uU(28," * Internet Positif => Warna Abu-Abu "),e.qZA()()(),e.TgZ(29,"div",15)(30,"app-material-tab",16),e.NdJ("tableRowClicked",function(r){return i.openRssFeed(r)})("paginatorClicked",function(r){return i.onPaginatorClicked(r)})("serverSideFilter",function(r){return i.onServerSideFilter(r)})("serverSideOrder",function(r){return i.onServerSideOrder(r)}),e.qZA()()(),e.TgZ(31,"div",17)(32,"div",18)(33,"div",13),e._UZ(34,"app-banner-donasi")(35,"app-stats-server")(36,"app-banner-discord"),e.qZA()()()()()),2&s&&(e.xp6(30),e.Q6J("tablePageSizeOptions",i.tablePageSizeOptions)("tabData",i.tabData)("count",i.count)("serverSide",!0))},dependencies:[p.H,f.t,m.u,v.B,C.X],styles:['.wrapper[_ngcontent-%COMP%]{position:sticky;left:0;width:100%;height:128px;overflow:hidden;background-image:url(/assets/img/banner/rss-feed.jpg)}.wrapper[_ngcontent-%COMP%]:before, .wrapper[_ngcontent-%COMP%]:after{content:"";width:128px;height:128px;background-repeat:no-repeat;background-size:contain;position:absolute;z-index:-1}.wrapper[_ngcontent-%COMP%]:before{background-image:url(/assets/img/banner/rss-feed-before.svg);left:0}.wrapper[_ngcontent-%COMP%]:after{background-image:url(/assets/img/banner/rss-feed-after.svg);right:0}.wrapper-1[_ngcontent-%COMP%]{width:256px;height:100%;background-image:url(/assets/img/banner/rss-feed-1.svg);position:absolute;background-repeat:no-repeat;background-size:contain;right:64px;top:-8px;z-index:-1}.bg-bubbles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;list-style:none;display:block;width:40px;height:40px;background-color:#ffffff26;bottom:-160px;animation:_ngcontent-%COMP%_square 25s infinite;transition-timing-function:linear}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){left:10%}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){left:20%;width:80px;height:80px;animation-delay:2s;animation-duration:17s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){left:25%;animation-delay:4s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){left:40%;width:60px;height:60px;animation-duration:22s;background-color:#ffffff40}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){left:70%}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){left:80%;width:120px;height:120px;animation-delay:3s;background-color:#fff3}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7){left:32%;width:160px;height:160px;animation-delay:7s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(8){left:55%;width:20px;height:20px;animation-delay:15s;animation-duration:40s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(9){left:25%;width:10px;height:10px;animation-delay:2s;animation-duration:40s;background-color:#ffffff4d}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(10){left:90%;width:160px;height:160px;animation-delay:11s}@keyframes _ngcontent-%COMP%_square{0%{transform:translateY(0)}to{transform:translateY(-512px) rotate(512deg)}}']})}return o})();var F=n(2314),S=n(859),R=n(4529),P=n(9736),M=n(6319),_=n(7032),x=n(6356);const w=[{path:"",pathMatch:"full",component:O}];let E=(()=>{class o{static#t=this.\u0275fac=function(s){return new(s||o)};static#e=this.\u0275mod=e.oAB({type:o});static#s=this.\u0275inj=e.cJS({imports:[d.ez,h.Bz.forChild(w),F.m,P.L,M.F,x.R,S.R,_.A,R.R]})}return o})()}}]);