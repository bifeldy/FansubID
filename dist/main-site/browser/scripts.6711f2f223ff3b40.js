(function(Kt){var De,Le,j="hasOwnProperty",At=/[\.\/]/,kt=function(){},V=function(G,ue){return G-ue},_={n:{}},oe=function(G,ue){G=String(G);var g,Y=Le,ae=Array.prototype.slice.call(arguments,2),m=oe.listeners(G),B=0,f=[],x={},n=[],c=De;De=G,Le=0;for(var s=0,t=m.length;s<t;s++)"zIndex"in m[s]&&(f.push(m[s].zIndex),m[s].zIndex<0&&(x[m[s].zIndex]=m[s]));for(f.sort(V);f[B]<0;)if(g=x[f[B++]],n.push(g.apply(ue,ae)),Le)return Le=Y,n;for(s=0;s<t;s++)if("zIndex"in(g=m[s]))if(g.zIndex==f[B]){if(n.push(g.apply(ue,ae)),Le)break;do{if((g=x[f[++B]])&&n.push(g.apply(ue,ae)),Le)break}while(g)}else x[g.zIndex]=g;else if(n.push(g.apply(ue,ae)),Le)break;return Le=Y,De=c,n.length?n:null};oe._events=_,oe.listeners=function(G){var Y,ae,m,B,i,g,f,x,ue=G.split(At),ve=_,n=[ve],c=[];for(B=0,i=ue.length;B<i;B++){for(x=[],g=0,f=n.length;g<f;g++)for(ae=[(ve=n[g].n)[ue[B]],ve["*"]],m=2;m--;)(Y=ae[m])&&(x.push(Y),c=c.concat(Y.f||[]));n=x}return c},oe.on=function(G,ue){if(G=String(G),"function"!=typeof ue)return function(){};for(var ve=G.split(At),Y=_,ae=0,m=ve.length;ae<m;ae++)Y=(Y=Y.n).hasOwnProperty(ve[ae])&&Y[ve[ae]]||(Y[ve[ae]]={n:{}});for(Y.f=Y.f||[],ae=0,m=Y.f.length;ae<m;ae++)if(Y.f[ae]==ue)return kt;return Y.f.push(ue),function(B){+B==+B&&(ue.zIndex=+B)}},oe.f=function(G){var ue=[].slice.call(arguments,1);return function(){oe.apply(null,[G,null].concat(ue).concat([].slice.call(arguments,0)))}},oe.stop=function(){Le=1},oe.nt=function(G){return G?new RegExp("(?:\\.|\\/|^)"+G+"(?:\\.|\\/|$)").test(De):De},oe.nts=function(){return De.split(At)},oe.off=oe.unbind=function(G,ue){if(G){var Y,ae,m,B,i,g,f,ve=G.split(At),x=[_];for(B=0,i=ve.length;B<i;B++)for(g=0;g<x.length;g+=m.length-2){if(m=[g,1],Y=x[g].n,"*"!=ve[B])Y[ve[B]]&&m.push(Y[ve[B]]);else for(ae in Y)Y[j](ae)&&m.push(Y[ae]);x.splice.apply(x,m)}for(B=0,i=x.length;B<i;B++)for(Y=x[B];Y.n;){if(ue){if(Y.f){for(g=0,f=Y.f.length;g<f;g++)if(Y.f[g]==ue){Y.f.splice(g,1);break}!Y.f.length&&delete Y.f}for(ae in Y.n)if(Y.n[j](ae)&&Y.n[ae].f){var n=Y.n[ae].f;for(g=0,f=n.length;g<f;g++)if(n[g]==ue){n.splice(g,1);break}!n.length&&delete Y.n[ae].f}}else for(ae in delete Y.f,Y.n)Y.n[j](ae)&&Y.n[ae].f&&delete Y.n[ae].f;Y=Y.n}}else oe._events=_={n:{}}},oe.once=function(G,ue){var ve=function(){return oe.unbind(G,ve),ue.apply(this,arguments)};return oe.on(G,ve)},oe.version="0.4.2",oe.toString=function(){return"You are running Eve 0.4.2"},typeof module<"u"&&module.exports?module.exports=oe:typeof define<"u"?define("eve",[],function(){return oe}):Kt.eve=oe})(this),function(Kt,yn){"function"==typeof define&&define.amd?define(["eve"],function(j){return yn(Kt,j)}):yn(Kt,Kt.eve)}(this,function(Kt,yn){function j(P){if(j.is(P,"function"))return At?P():yn.on("raphael.DOMload",P);if(j.is(P,p))return j._engine.create[Y](j,P.splice(0,3+j.is(P[0],h))).add(P);var W=Array.prototype.slice.call(arguments,0);if(j.is(W[W.length-1],"function")){var Q=W.pop();return At?Q.call(j._engine.create[Y](j,W)):yn.on("raphael.DOMload",function(){Q.call(j._engine.create[Y](j,W))})}return j._engine.create[Y](j,arguments)}j.version="2.1.0",j.eve=yn;var At,ue,P,W,wt=/[, ]+/,kt={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},V=/\{(\d+)\}/g,Le="hasOwnProperty",_={doc:document,win:Kt},oe={was:Object.prototype[Le].call(_.win,"Raphael"),is:_.win.Raphael},G=function(){this.ca=this.customAttributes={}},Y="apply",ae="concat",m="ontouchstart"in _.win||_.win.DocumentTouch&&_.doc instanceof DocumentTouch,B="",i=" ",g=String,f="split",x="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[f](i),n={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},c=g.prototype.toLowerCase,u=Math,s=u.max,t=u.min,o=u.abs,r=u.pow,d=u.PI,h="number",l="string",p="array",I=Object.prototype.toString,q=(j._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),Z={NaN:1,Infinity:1,"-Infinity":1},le=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,we=u.round,A=parseFloat,L=parseInt,z=g.prototype.toUpperCase,y=j._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},C=j._availableAnimAttrs={blur:h,"clip-rect":"csv",cx:h,cy:h,fill:"colour","fill-opacity":h,"font-size":h,height:h,opacity:h,path:"path",r:h,rx:h,ry:h,stroke:"colour","stroke-opacity":h,"stroke-width":h,transform:"transform",width:h,x:h,y:h},U=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,ee={hs:1,rg:1},J=/,?([achlmqrstvxz]),?/gi,re=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Ue=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,We=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ft=(j._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),Xt=function(P,W){return A(P)-A(W)},Ft=function(P){return P},Ke=j._rectPath=function(P,W,Q,he,me){return me?[["M",P+me,W],["l",Q-2*me,0],["a",me,me,0,0,1,me,me],["l",0,he-2*me],["a",me,me,0,0,1,-me,me],["l",2*me-Q,0],["a",me,me,0,0,1,-me,-me],["l",0,2*me-he],["a",me,me,0,0,1,me,-me],["z"]]:[["M",P,W],["l",Q,0],["l",0,he],["l",-Q,0],["z"]]},mt=function(P,W,Q,he){return null==he&&(he=Q),[["M",P,W],["m",0,-he],["a",Q,he,0,1,1,0,2*he],["a",Q,he,0,1,1,0,-2*he],["z"]]},St=j._getPath={path:function(P){return P.attr("path")},circle:function(P){var W=P.attrs;return mt(W.cx,W.cy,W.r)},ellipse:function(P){var W=P.attrs;return mt(W.cx,W.cy,W.rx,W.ry)},rect:function(P){var W=P.attrs;return Ke(W.x,W.y,W.width,W.height,W.r)},image:function(P){var W=P.attrs;return Ke(W.x,W.y,W.width,W.height)},text:function(P){var W=P._getBBox();return Ke(W.x,W.y,W.width,W.height)},set:function(P){var W=P._getBBox();return Ke(W.x,W.y,W.width,W.height)}},K=j.mapPath=function(P,W){if(!W)return P;var Q,he,me,Te,Se,Oe,qe;for(me=0,Se=(P=Qt(P)).length;me<Se;me++)for(Te=1,Oe=(qe=P[me]).length;Te<Oe;Te+=2)Q=W.x(qe[Te],qe[Te+1]),he=W.y(qe[Te],qe[Te+1]),qe[Te]=Q,qe[Te+1]=he;return P};if(j._g=_,"VML"==(j.type=_.win.SVGAngle||_.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML")){var X,se=_.doc.createElement("div");if(se.innerHTML='<v:shape adj="1"/>',(X=se.firstChild).style.behavior="url(#default#VML)",!X||"object"!=typeof X.adj)return j.type=B;se=null}function ce(P){if("function"==typeof P||Object(P)!==P)return P;var W=new P.constructor;for(var Q in P)P[Le](Q)&&(W[Q]=ce(P[Q]));return W}j.svg=!(j.vml="VML"==j.type),j._Paper=G,j.fn=ue=G.prototype=j.prototype,j._id=0,j._oid=0,j.is=function(P,W){return"finite"==(W=c.call(W))?!Z[Le](+P):"array"==W?P instanceof Array:"null"==W&&null===P||W==typeof P&&null!==P||"object"==W&&P===Object(P)||"array"==W&&Array.isArray&&Array.isArray(P)||I.call(P).slice(8,-1).toLowerCase()==W},j.angle=function(P,W,Q,he,me,Te){if(null==me){var Se=P-Q,Oe=W-he;return Se||Oe?(180+180*u.atan2(-Oe,-Se)/d+360)%360:0}return j.angle(P,W,me,Te)-j.angle(Q,he,me,Te)},j.rad=function(P){return P%360*d/180},j.deg=function(P){return 180*P/d%360},j.snapTo=function(P,W,Q){if(Q=j.is(Q,"finite")?Q:10,j.is(P,p)){for(var he=P.length;he--;)if(o(P[he]-W)<=Q)return P[he]}else{var me=W%(P=+P);if(me<Q)return W-me;if(me>P-Q)return W-me+P}return W},j.createUUID=(P=/[xy]/g,W=function(P){var W=16*u.random()|0;return("x"==P?W:3&W|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(P,W).toUpperCase()}),j.setWindow=function(P){yn("raphael.setWindow",j,_.win,P),_.win=P,_.doc=_.win.document,j._engine.initWin&&j._engine.initWin(_.win)};var ie=function(P){if(j.vml){var Q,W=/^\s+|\s+$/g;try{var he=new ActiveXObject("htmlfile");he.write("<body>"),he.close(),Q=he.body}catch{Q=createPopup().document.body}var me=Q.createTextRange();ie=an(function(Se){try{Q.style.color=g(Se).replace(W,B);var Oe=me.queryCommandValue("ForeColor");return"#"+("000000"+(Oe=(255&Oe)<<16|65280&Oe|(16711680&Oe)>>>16).toString(16)).slice(-6)}catch{return"none"}})}else{var Te=_.doc.createElement("i");Te.title="Rapha\xebl Colour Picker",Te.style.display="none",_.doc.body.appendChild(Te),ie=an(function(Se){return Te.style.color=Se,_.doc.defaultView.getComputedStyle(Te,B).getPropertyValue("color")})}return ie(P)},pe=function(){return"hsb("+[this.h,this.s,this.b]+")"},Ye=function(){return"hsl("+[this.h,this.s,this.l]+")"},at=function(){return this.hex},dt=function(P,W,Q){if(null==W&&j.is(P,"object")&&"r"in P&&"g"in P&&"b"in P&&(Q=P.b,W=P.g,P=P.r),null==W&&j.is(P,l)){var he=j.getRGB(P);P=he.r,W=he.g,Q=he.b}return(P>1||W>1||Q>1)&&(P/=255,W/=255,Q/=255),[P,W,Q]},Gt=function(P,W,Q,he){var me={r:P*=255,g:W*=255,b:Q*=255,hex:j.rgb(P,W,Q),toString:at};return j.is(he,"finite")&&(me.opacity=he),me};function an(P,W,Q){return function he(){var me=Array.prototype.slice.call(arguments,0),Te=me.join("\u2400"),Se=he.cache=he.cache||{},Oe=he.count=he.count||[];return Se[Le](Te)?(function Jt(P,W){for(var Q=0,he=P.length;Q<he;Q++)if(P[Q]===W)return P.push(P.splice(Q,1)[0])}(Oe,Te),Q?Q(Se[Te]):Se[Te]):(Oe.length>=1e3&&delete Se[Oe.shift()],Oe.push(Te),Se[Te]=P[Y](W,me),Q?Q(Se[Te]):Se[Te])}}function hn(){return this.hex}function En(P,W){for(var Q=[],he=0,me=P.length;me-2*!W>he;he+=2){var Te=[{x:+P[he-2],y:+P[he-1]},{x:+P[he],y:+P[he+1]},{x:+P[he+2],y:+P[he+3]},{x:+P[he+4],y:+P[he+5]}];W?he?me-4==he?Te[3]={x:+P[0],y:+P[1]}:me-2==he&&(Te[2]={x:+P[0],y:+P[1]},Te[3]={x:+P[2],y:+P[3]}):Te[0]={x:+P[me-2],y:+P[me-1]}:me-4==he?Te[3]=Te[2]:he||(Te[0]={x:+P[he],y:+P[he+1]}),Q.push(["C",(6*Te[1].x-Te[0].x+Te[2].x)/6,(6*Te[1].y-Te[0].y+Te[2].y)/6,(Te[1].x+6*Te[2].x-Te[3].x)/6,(Te[1].y+6*Te[2].y-Te[3].y)/6,Te[2].x,Te[2].y])}return Q}j.color=function(P){var W;return j.is(P,"object")&&"h"in P&&"s"in P&&"b"in P?(W=j.hsb2rgb(P),P.r=W.r,P.g=W.g,P.b=W.b,P.hex=W.hex):j.is(P,"object")&&"h"in P&&"s"in P&&"l"in P?(W=j.hsl2rgb(P),P.r=W.r,P.g=W.g,P.b=W.b,P.hex=W.hex):(j.is(P,"string")&&(P=j.getRGB(P)),j.is(P,"object")&&"r"in P&&"g"in P&&"b"in P?(W=j.rgb2hsl(P),P.h=W.h,P.s=W.s,P.l=W.l,W=j.rgb2hsb(P),P.v=W.b):(P={hex:"none"}).r=P.g=P.b=P.h=P.s=P.v=P.l=-1),P.toString=at,P},j.hsb2rgb=function(P,W,Q,he){var me,Te,Se,Oe,qe;return this.is(P,"object")&&"h"in P&&"s"in P&&"b"in P&&(Q=P.b,W=P.s,he=(P=P.h).o),Oe=(qe=Q*W)*(1-o((P=(P*=360)%360/60)%2-1)),me=Te=Se=Q-qe,Gt(me+=[qe,Oe,0,0,Oe,qe][P=~~P],Te+=[Oe,qe,qe,Oe,0,0][P],Se+=[0,0,Oe,qe,qe,Oe][P],he)},j.hsl2rgb=function(P,W,Q,he){var me,Te,Se,Oe,qe;return this.is(P,"object")&&"h"in P&&"s"in P&&"l"in P&&(Q=P.l,W=P.s,P=P.h),(P>1||W>1||Q>1)&&(P/=360,W/=100,Q/=100),Oe=(qe=2*W*(Q<.5?Q:1-Q))*(1-o((P=(P*=360)%360/60)%2-1)),me=Te=Se=Q-qe/2,Gt(me+=[qe,Oe,0,0,Oe,qe][P=~~P],Te+=[Oe,qe,qe,Oe,0,0][P],Se+=[0,0,Oe,qe,qe,Oe][P],he)},j.rgb2hsb=function(P,W,Q){var Te,Se;return Q=dt(P,W,Q),{h:((0==(Se=(Te=s(P=Q[0],W=Q[1],Q=Q[2]))-t(P,W,Q))?null:Te==P?(W-Q)/Se:Te==W?(Q-P)/Se+2:(P-W)/Se+4)+360)%6*60/360,s:0==Se?0:Se/Te,b:Te,toString:pe}},j.rgb2hsl=function(P,W,Q){var Te,Se,Oe,qe;return Q=dt(P,W,Q),Te=((Se=s(P=Q[0],W=Q[1],Q=Q[2]))+(Oe=t(P,W,Q)))/2,{h:((0==(qe=Se-Oe)?null:Se==P?(W-Q)/qe:Se==W?(Q-P)/qe+2:(P-W)/qe+4)+360)%6*60/360,s:0==qe?0:Te<.5?qe/(2*Te):qe/(2-2*Te),l:Te,toString:Ye}},j._path2string=function(){return this.join(",").replace(J,"$1")},j._preload=function(P,W){var Q=_.doc.createElement("img");Q.style.cssText="position:absolute;left:-9999em;top:-9999em",Q.onload=function(){W.call(this),this.onload=null,_.doc.body.removeChild(this)},Q.onerror=function(){_.doc.body.removeChild(this)},_.doc.body.appendChild(Q),Q.src=P},j.getRGB=an(function(P){if(!P||(P=g(P)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:hn};if("none"==P)return{r:-1,g:-1,b:-1,hex:"none",toString:hn};!ee[Le](P.toLowerCase().substring(0,2))&&"#"!=P.charAt()&&(P=ie(P));var Q,he,me,Te,Se,Oe,qe=P.match(q);return qe?(qe[2]&&(me=L(qe[2].substring(5),16),he=L(qe[2].substring(3,5),16),Q=L(qe[2].substring(1,3),16)),qe[3]&&(me=L((Se=qe[3].charAt(3))+Se,16),he=L((Se=qe[3].charAt(2))+Se,16),Q=L((Se=qe[3].charAt(1))+Se,16)),qe[4]&&(Oe=qe[4][f](U),Q=A(Oe[0]),"%"==Oe[0].slice(-1)&&(Q*=2.55),he=A(Oe[1]),"%"==Oe[1].slice(-1)&&(he*=2.55),me=A(Oe[2]),"%"==Oe[2].slice(-1)&&(me*=2.55),"rgba"==qe[1].toLowerCase().slice(0,4)&&(Te=A(Oe[3])),Oe[3]&&"%"==Oe[3].slice(-1)&&(Te/=100)),qe[5]?(Oe=qe[5][f](U),Q=A(Oe[0]),"%"==Oe[0].slice(-1)&&(Q*=2.55),he=A(Oe[1]),"%"==Oe[1].slice(-1)&&(he*=2.55),me=A(Oe[2]),"%"==Oe[2].slice(-1)&&(me*=2.55),("deg"==Oe[0].slice(-3)||"\xb0"==Oe[0].slice(-1))&&(Q/=360),"hsba"==qe[1].toLowerCase().slice(0,4)&&(Te=A(Oe[3])),Oe[3]&&"%"==Oe[3].slice(-1)&&(Te/=100),j.hsb2rgb(Q,he,me,Te)):qe[6]?(Oe=qe[6][f](U),Q=A(Oe[0]),"%"==Oe[0].slice(-1)&&(Q*=2.55),he=A(Oe[1]),"%"==Oe[1].slice(-1)&&(he*=2.55),me=A(Oe[2]),"%"==Oe[2].slice(-1)&&(me*=2.55),("deg"==Oe[0].slice(-3)||"\xb0"==Oe[0].slice(-1))&&(Q/=360),"hsla"==qe[1].toLowerCase().slice(0,4)&&(Te=A(Oe[3])),Oe[3]&&"%"==Oe[3].slice(-1)&&(Te/=100),j.hsl2rgb(Q,he,me,Te)):((qe={r:Q,g:he,b:me,toString:hn}).hex="#"+(16777216|me|he<<8|Q<<16).toString(16).slice(1),j.is(Te,"finite")&&(qe.opacity=Te),qe)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:hn}},j),j.hsb=an(function(P,W,Q){return j.hsb2rgb(P,W,Q).hex}),j.hsl=an(function(P,W,Q){return j.hsl2rgb(P,W,Q).hex}),j.rgb=an(function(P,W,Q){return"#"+(16777216|Q|W<<8|P<<16).toString(16).slice(1)}),j.getColor=function(P){var W=this.getColor.start=this.getColor.start||{h:0,s:1,b:P||.75},Q=this.hsb2rgb(W.h,W.s,W.b);return W.h+=.075,W.h>1&&(W.h=0,W.s-=.2,W.s<=0&&(this.getColor.start={h:0,s:1,b:W.b})),Q.hex},j.getColor.reset=function(){delete this.start},j.parsePathString=function(P){if(!P)return null;var W=Xn(P);if(W.arr)return Xe(W.arr);var Q={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},he=[];return j.is(P,p)&&j.is(P[0],p)&&(he=Xe(P)),he.length||g(P).replace(re,function(me,Te,Se){var Oe=[],qe=Te.toLowerCase();if(Se.replace(We,function(yt,jt){jt&&Oe.push(+jt)}),"m"==qe&&Oe.length>2&&(he.push([Te][ae](Oe.splice(0,2))),qe="l",Te="m"==Te?"l":"L"),"r"==qe)he.push([Te][ae](Oe));else for(;Oe.length>=Q[qe]&&(he.push([Te][ae](Oe.splice(0,Q[qe]))),Q[qe]););}),he.toString=j._path2string,W.arr=Xe(he),he},j.parseTransformString=an(function(P){if(!P)return null;var Q=[];return j.is(P,p)&&j.is(P[0],p)&&(Q=Xe(P)),Q.length||g(P).replace(Ue,function(he,me,Te){var Se=[];c.call(me),Te.replace(We,function(qe,yt){yt&&Se.push(+yt)}),Q.push([me][ae](Se))}),Q.toString=j._path2string,Q});var Xn=function(P){var W=Xn.ps=Xn.ps||{};return W[P]?W[P].sleep=100:W[P]={sleep:100},setTimeout(function(){for(var Q in W)W[Le](Q)&&Q!=P&&(W[Q].sleep--,!W[Q].sleep&&delete W[Q])}),W[P]};function An(P,W,Q,he,me){return P*(P*(-3*W+9*Q-9*he+3*me)+6*W-12*Q+6*he)-3*W+3*Q}function Pn(P,W,Q,he,me,Te,Se,Oe,qe){null==qe&&(qe=1);for(var yt=(qe=qe>1?1:qe<0?0:qe)/2,ot=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],lt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Dt=0,Yt=0;Yt<12;Yt++){var Tt=yt*ot[Yt]+yt,zt=An(Tt,P,Q,me,Se),Pt=An(Tt,W,he,Te,Oe);Dt+=lt[Yt]*u.sqrt(zt*zt+Pt*Pt)}return yt*Dt}function Mt(P,W,Q,he,me,Te,Se,Oe){if(!(s(P,Q)<t(me,Se)||t(P,Q)>s(me,Se)||s(W,he)<t(Te,Oe)||t(W,he)>s(Te,Oe))){var jt=(P-Q)*(Te-Oe)-(W-he)*(me-Se);if(jt){var ot=((P*he-W*Q)*(me-Se)-(P-Q)*(me*Oe-Te*Se))/jt,lt=((P*he-W*Q)*(Te-Oe)-(W-he)*(me*Oe-Te*Se))/jt,Dt=+ot.toFixed(2),Yt=+lt.toFixed(2);if(!(Dt<+t(P,Q).toFixed(2)||Dt>+s(P,Q).toFixed(2)||Dt<+t(me,Se).toFixed(2)||Dt>+s(me,Se).toFixed(2)||Yt<+t(W,he).toFixed(2)||Yt>+s(W,he).toFixed(2)||Yt<+t(Te,Oe).toFixed(2)||Yt>+s(Te,Oe).toFixed(2)))return{x:ot,y:lt}}}}function Re(P,W,Q){var he=j.bezierBBox(P),me=j.bezierBBox(W);if(!j.isBBoxIntersect(he,me))return Q?0:[];for(var Te=Pn.apply(0,P),Se=Pn.apply(0,W),Oe=s(~~(Te/5),1),qe=s(~~(Se/5),1),yt=[],jt=[],ot={},lt=Q?0:[],Dt=0;Dt<Oe+1;Dt++){var Yt=j.findDotsAtSegment.apply(j,P.concat(Dt/Oe));yt.push({x:Yt.x,y:Yt.y,t:Dt/Oe})}for(Dt=0;Dt<qe+1;Dt++)Yt=j.findDotsAtSegment.apply(j,W.concat(Dt/qe)),jt.push({x:Yt.x,y:Yt.y,t:Dt/qe});for(Dt=0;Dt<Oe;Dt++)for(var Tt=0;Tt<qe;Tt++){var zt=yt[Dt],Pt=yt[Dt+1],dn=jt[Tt],rn=jt[Tt+1],un=o(Pt.x-zt.x)<.001?"y":"x",jn=o(rn.x-dn.x)<.001?"y":"x",vr=Mt(zt.x,zt.y,Pt.x,Pt.y,dn.x,dn.y,rn.x,rn.y);if(vr){if(ot[vr.x.toFixed(4)]==vr.y.toFixed(4))continue;ot[vr.x.toFixed(4)]=vr.y.toFixed(4);var br=zt.t+o((vr[un]-zt[un])/(Pt[un]-zt[un]))*(Pt.t-zt.t),tr=dn.t+o((vr[jn]-dn[jn])/(rn[jn]-dn[jn]))*(rn.t-dn.t);br>=0&&br<=1.001&&tr>=0&&tr<=1.001&&(Q?lt++:lt.push({x:vr.x,y:vr.y,t1:t(br,1),t2:t(tr,1)}))}}return lt}function je(P,W,Q){P=j._path2curve(P),W=j._path2curve(W);for(var he,me,Te,Se,Oe,qe,yt,jt,ot,lt,Dt=Q?0:[],Yt=0,Tt=P.length;Yt<Tt;Yt++){var zt=P[Yt];if("M"==zt[0])he=Oe=zt[1],me=qe=zt[2];else{"C"==zt[0]?(ot=[he,me].concat(zt.slice(1)),he=ot[6],me=ot[7]):(ot=[he,me,he,me,Oe,qe,Oe,qe],he=Oe,me=qe);for(var Pt=0,dn=W.length;Pt<dn;Pt++){var rn=W[Pt];if("M"==rn[0])Te=yt=rn[1],Se=jt=rn[2];else{"C"==rn[0]?(lt=[Te,Se].concat(rn.slice(1)),Te=lt[6],Se=lt[7]):(lt=[Te,Se,Te,Se,yt,jt,yt,jt],Te=yt,Se=jt);var un=Re(ot,lt,Q);if(Q)Dt+=un;else{for(var jn=0,vr=un.length;jn<vr;jn++)un[jn].segment1=Yt,un[jn].segment2=Pt,un[jn].bez1=ot,un[jn].bez2=lt;Dt=Dt.concat(un)}}}}}return Dt}j.findDotsAtSegment=function(P,W,Q,he,me,Te,Se,Oe,qe){var yt=1-qe,jt=r(yt,3),ot=r(yt,2),lt=qe*qe,Dt=lt*qe,Yt=jt*P+3*ot*qe*Q+3*yt*qe*qe*me+Dt*Se,Tt=jt*W+3*ot*qe*he+3*yt*qe*qe*Te+Dt*Oe,zt=P+2*qe*(Q-P)+lt*(me-2*Q+P),Pt=W+2*qe*(he-W)+lt*(Te-2*he+W),dn=Q+2*qe*(me-Q)+lt*(Se-2*me+Q),rn=he+2*qe*(Te-he)+lt*(Oe-2*Te+he),un=yt*P+qe*Q,jn=yt*W+qe*he,vr=yt*me+qe*Se,br=yt*Te+qe*Oe,tr=90-180*u.atan2(zt-dn,Pt-rn)/d;return(zt>dn||Pt<rn)&&(tr+=180),{x:Yt,y:Tt,m:{x:zt,y:Pt},n:{x:dn,y:rn},start:{x:un,y:jn},end:{x:vr,y:br},alpha:tr}},j.bezierBBox=function(P,W,Q,he,me,Te,Se,Oe){j.is(P,"array")||(P=[P,W,Q,he,me,Te,Se,Oe]);var qe=cn.apply(null,P);return{x:qe.min.x,y:qe.min.y,x2:qe.max.x,y2:qe.max.y,width:qe.max.x-qe.min.x,height:qe.max.y-qe.min.y}},j.isPointInsideBBox=function(P,W,Q){return W>=P.x&&W<=P.x2&&Q>=P.y&&Q<=P.y2},j.isBBoxIntersect=function(P,W){var Q=j.isPointInsideBBox;return Q(W,P.x,P.y)||Q(W,P.x2,P.y)||Q(W,P.x,P.y2)||Q(W,P.x2,P.y2)||Q(P,W.x,W.y)||Q(P,W.x2,W.y)||Q(P,W.x,W.y2)||Q(P,W.x2,W.y2)||(P.x<W.x2&&P.x>W.x||W.x<P.x2&&W.x>P.x)&&(P.y<W.y2&&P.y>W.y||W.y<P.y2&&W.y>P.y)},j.pathIntersection=function(P,W){return je(P,W)},j.pathIntersectionNumber=function(P,W){return je(P,W,1)},j.isPointInsidePath=function(P,W,Q){var he=j.pathBBox(P);return j.isPointInsideBBox(he,W,Q)&&je(P,[["M",W,Q],["H",he.x2+10]],1)%2==1},j._removedFactory=function(P){return function(){yn("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+P+"\u201d of removed object",P)}};var Ze=j.pathBBox=function(P){var W=Xn(P);if(W.bbox)return ce(W.bbox);if(!P)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var Se,Q=0,he=0,me=[],Te=[],Oe=0,qe=(P=Qt(P)).length;Oe<qe;Oe++)if("M"==(Se=P[Oe])[0])he=Se[2],me.push(Q=Se[1]),Te.push(he);else{var yt=cn(Q,he,Se[1],Se[2],Se[3],Se[4],Se[5],Se[6]);me=me[ae](yt.min.x,yt.max.x),Te=Te[ae](yt.min.y,yt.max.y),Q=Se[5],he=Se[6]}var jt=t[Y](0,me),ot=t[Y](0,Te),lt=s[Y](0,me),Dt=s[Y](0,Te),Yt=lt-jt,Tt=Dt-ot,zt={x:jt,y:ot,x2:lt,y2:Dt,width:Yt,height:Tt,cx:jt+Yt/2,cy:ot+Tt/2};return W.bbox=ce(zt),zt},Xe=function(P){var W=ce(P);return W.toString=j._path2string,W},st=j._pathToRelative=function(P){var W=Xn(P);if(W.rel)return Xe(W.rel);(!j.is(P,p)||!j.is(P&&P[0],p))&&(P=j.parsePathString(P));var Q=[],he=0,me=0,Te=0,Se=0,Oe=0;"M"==P[0][0]&&(Te=he=P[0][1],Se=me=P[0][2],Oe++,Q.push(["M",he,me]));for(var qe=Oe,yt=P.length;qe<yt;qe++){var jt=Q[qe]=[],ot=P[qe];if(ot[0]!=c.call(ot[0]))switch(jt[0]=c.call(ot[0]),jt[0]){case"a":jt[1]=ot[1],jt[2]=ot[2],jt[3]=ot[3],jt[4]=ot[4],jt[5]=ot[5],jt[6]=+(ot[6]-he).toFixed(3),jt[7]=+(ot[7]-me).toFixed(3);break;case"v":jt[1]=+(ot[1]-me).toFixed(3);break;case"m":Te=ot[1],Se=ot[2];default:for(var lt=1,Dt=ot.length;lt<Dt;lt++)jt[lt]=+(ot[lt]-(lt%2?he:me)).toFixed(3)}else{jt=Q[qe]=[],"m"==ot[0]&&(Te=ot[1]+he,Se=ot[2]+me);for(var Yt=0,Tt=ot.length;Yt<Tt;Yt++)Q[qe][Yt]=ot[Yt]}var zt=Q[qe].length;switch(Q[qe][0]){case"z":he=Te,me=Se;break;case"h":he+=+Q[qe][zt-1];break;case"v":me+=+Q[qe][zt-1];break;default:he+=+Q[qe][zt-2],me+=+Q[qe][zt-1]}}return Q.toString=j._path2string,W.rel=Xe(Q),Q},tn=j._pathToAbsolute=function(P){var W=Xn(P);if(W.abs)return Xe(W.abs);if((!j.is(P,p)||!j.is(P&&P[0],p))&&(P=j.parsePathString(P)),!P||!P.length)return[["M",0,0]];var Q=[],he=0,me=0,Te=0,Se=0,Oe=0;"M"==P[0][0]&&(Te=he=+P[0][1],Se=me=+P[0][2],Oe++,Q[0]=["M",he,me]);for(var yt,jt,qe=3==P.length&&"M"==P[0][0]&&"R"==P[1][0].toUpperCase()&&"Z"==P[2][0].toUpperCase(),ot=Oe,lt=P.length;ot<lt;ot++){if(Q.push(yt=[]),(jt=P[ot])[0]!=z.call(jt[0]))switch(yt[0]=z.call(jt[0]),yt[0]){case"A":yt[1]=jt[1],yt[2]=jt[2],yt[3]=jt[3],yt[4]=jt[4],yt[5]=jt[5],yt[6]=+(jt[6]+he),yt[7]=+(jt[7]+me);break;case"V":yt[1]=+jt[1]+me;break;case"H":yt[1]=+jt[1]+he;break;case"R":for(var Dt=[he,me][ae](jt.slice(1)),Yt=2,Tt=Dt.length;Yt<Tt;Yt++)Dt[Yt]=+Dt[Yt]+he,Dt[++Yt]=+Dt[Yt]+me;Q.pop(),Q=Q[ae](En(Dt,qe));break;case"M":Te=+jt[1]+he,Se=+jt[2]+me;default:for(Yt=1,Tt=jt.length;Yt<Tt;Yt++)yt[Yt]=+jt[Yt]+(Yt%2?he:me)}else if("R"==jt[0])Dt=[he,me][ae](jt.slice(1)),Q.pop(),Q=Q[ae](En(Dt,qe)),yt=["R"][ae](jt.slice(-2));else for(var zt=0,Pt=jt.length;zt<Pt;zt++)yt[zt]=jt[zt];switch(yt[0]){case"Z":he=Te,me=Se;break;case"H":he=yt[1];break;case"V":me=yt[1];break;case"M":Te=yt[yt.length-2],Se=yt[yt.length-1];default:he=yt[yt.length-2],me=yt[yt.length-1]}}return Q.toString=j._path2string,W.abs=Xe(Q),Q},Bt=function(P,W,Q,he){return[P,W,Q,he,Q,he]},qt=function(P,W,Q,he,me,Te){var Se=.3333333333333333,Oe=2/3;return[Se*P+Oe*Q,Se*W+Oe*he,Se*me+Oe*Q,Se*Te+Oe*he,me,Te]},nn=function(P,W,Q,he,me,Te,Se,Oe,qe,yt){var Dt,jt=120*d/180,ot=d/180*(+me||0),lt=[],Yt=an(function(er,xr,ur){return{x:er*u.cos(ur)-xr*u.sin(ur),y:er*u.sin(ur)+xr*u.cos(ur)}});if(yt)nr=yt[0],rr=yt[1],br=yt[2],tr=yt[3];else{P=(Dt=Yt(P,W,-ot)).x,W=Dt.y,Oe=(Dt=Yt(Oe,qe,-ot)).x,qe=Dt.y,u.cos(d/180*me),u.sin(d/180*me);var Pt=(P-Oe)/2,dn=(W-qe)/2,rn=Pt*Pt/(Q*Q)+dn*dn/(he*he);rn>1&&(Q*=rn=u.sqrt(rn),he*=rn);var un=Q*Q,jn=he*he,vr=(Te==Se?-1:1)*u.sqrt(o((un*jn-un*dn*dn-jn*Pt*Pt)/(un*dn*dn+jn*Pt*Pt))),br=vr*Q*dn/he+(P+Oe)/2,tr=vr*-he*Pt/Q+(W+qe)/2,nr=u.asin(((W-tr)/he).toFixed(9)),rr=u.asin(((qe-tr)/he).toFixed(9));(nr=P<br?d-nr:nr)<0&&(nr=2*d+nr),(rr=Oe<br?d-rr:rr)<0&&(rr=2*d+rr),Se&&nr>rr&&(nr-=2*d),!Se&&rr>nr&&(rr-=2*d)}var Jr=rr-nr;if(o(Jr)>jt){var ze=rr,Et=Oe,Wt=qe;Oe=br+Q*u.cos(rr=nr+jt*(Se&&rr>nr?1:-1)),qe=tr+he*u.sin(rr),lt=nn(Oe,qe,Q,he,me,0,Se,Et,Wt,[rr,ze,br,tr])}Jr=rr-nr;var ln=u.cos(nr),$n=u.sin(nr),Fe=u.cos(rr),Ce=u.sin(rr),_t=u.tan(Jr/4),xt=4/3*Q*_t,on=4/3*he*_t,kn=[P,W],pn=[P+xt*$n,W-on*ln],Sn=[Oe+xt*Ce,qe-on*Fe],bn=[Oe,qe];if(pn[0]=2*kn[0]-pn[0],pn[1]=2*kn[1]-pn[1],yt)return[pn,Sn,bn][ae](lt);for(var Ln=[],Wn=0,dr=(lt=[pn,Sn,bn][ae](lt).join()[f](",")).length;Wn<dr;Wn++)Ln[Wn]=Wn%2?Yt(lt[Wn-1],lt[Wn],ot).y:Yt(lt[Wn],lt[Wn+1],ot).x;return Ln},_n=function(P,W,Q,he,me,Te,Se,Oe,qe){var yt=1-qe;return{x:r(yt,3)*P+3*r(yt,2)*qe*Q+3*yt*qe*qe*me+r(qe,3)*Se,y:r(yt,3)*W+3*r(yt,2)*qe*he+3*yt*qe*qe*Te+r(qe,3)*Oe}},cn=an(function(P,W,Q,he,me,Te,Se,Oe){var Tt,qe=me-2*Q+P-(Se-2*me+Q),yt=2*(Q-P)-2*(me-Q),jt=P-Q,ot=(-yt+u.sqrt(yt*yt-4*qe*jt))/2/qe,lt=(-yt-u.sqrt(yt*yt-4*qe*jt))/2/qe,Dt=[W,Oe],Yt=[P,Se];return o(ot)>"1e12"&&(ot=.5),o(lt)>"1e12"&&(lt=.5),ot>0&&ot<1&&(Tt=_n(P,W,Q,he,me,Te,Se,Oe,ot),Yt.push(Tt.x),Dt.push(Tt.y)),lt>0&&lt<1&&(Tt=_n(P,W,Q,he,me,Te,Se,Oe,lt),Yt.push(Tt.x),Dt.push(Tt.y)),ot=(-(yt=2*(he-W)-2*(Te-he))+u.sqrt(yt*yt-4*(qe=Te-2*he+W-(Oe-2*Te+he))*(jt=W-he)))/2/qe,lt=(-yt-u.sqrt(yt*yt-4*qe*jt))/2/qe,o(ot)>"1e12"&&(ot=.5),o(lt)>"1e12"&&(lt=.5),ot>0&&ot<1&&(Tt=_n(P,W,Q,he,me,Te,Se,Oe,ot),Yt.push(Tt.x),Dt.push(Tt.y)),lt>0&&lt<1&&(Tt=_n(P,W,Q,he,me,Te,Se,Oe,lt),Yt.push(Tt.x),Dt.push(Tt.y)),{min:{x:t[Y](0,Yt),y:t[Y](0,Dt)},max:{x:s[Y](0,Yt),y:s[Y](0,Dt)}}}),Qt=j._path2curve=an(function(P,W){var Q=!W&&Xn(P);if(!W&&Q.curve)return Xe(Q.curve);for(var he=tn(P),me=W&&tn(W),Te={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Se={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Oe=function(zt,Pt,dn){var rn,un;if(!zt)return["C",Pt.x,Pt.y,Pt.x,Pt.y,Pt.x,Pt.y];switch(!(zt[0]in{T:1,Q:1})&&(Pt.qx=Pt.qy=null),zt[0]){case"M":Pt.X=zt[1],Pt.Y=zt[2];break;case"A":zt=["C"][ae](nn[Y](0,[Pt.x,Pt.y][ae](zt.slice(1))));break;case"S":"C"==dn||"S"==dn?(rn=2*Pt.x-Pt.bx,un=2*Pt.y-Pt.by):(rn=Pt.x,un=Pt.y),zt=["C",rn,un][ae](zt.slice(1));break;case"T":"Q"==dn||"T"==dn?(Pt.qx=2*Pt.x-Pt.qx,Pt.qy=2*Pt.y-Pt.qy):(Pt.qx=Pt.x,Pt.qy=Pt.y),zt=["C"][ae](qt(Pt.x,Pt.y,Pt.qx,Pt.qy,zt[1],zt[2]));break;case"Q":Pt.qx=zt[1],Pt.qy=zt[2],zt=["C"][ae](qt(Pt.x,Pt.y,zt[1],zt[2],zt[3],zt[4]));break;case"L":zt=["C"][ae](Bt(Pt.x,Pt.y,zt[1],zt[2]));break;case"H":zt=["C"][ae](Bt(Pt.x,Pt.y,zt[1],Pt.y));break;case"V":zt=["C"][ae](Bt(Pt.x,Pt.y,Pt.x,zt[1]));break;case"Z":zt=["C"][ae](Bt(Pt.x,Pt.y,Pt.X,Pt.Y))}return zt},qe=function(zt,Pt){if(zt[Pt].length>7){zt[Pt].shift();for(var dn=zt[Pt];dn.length;)zt.splice(Pt++,0,["C"][ae](dn.splice(0,6)));zt.splice(Pt,1),ot=s(he.length,me&&me.length||0)}},yt=function(zt,Pt,dn,rn,un){zt&&Pt&&"M"==zt[un][0]&&"M"!=Pt[un][0]&&(Pt.splice(un,0,["M",rn.x,rn.y]),dn.bx=0,dn.by=0,dn.x=zt[un][1],dn.y=zt[un][2],ot=s(he.length,me&&me.length||0))},jt=0,ot=s(he.length,me&&me.length||0);jt<ot;jt++){he[jt]=Oe(he[jt],Te),qe(he,jt),me&&(me[jt]=Oe(me[jt],Se)),me&&qe(me,jt),yt(he,me,Te,Se,jt),yt(me,he,Se,Te,jt);var lt=he[jt],Dt=me&&me[jt],Yt=lt.length,Tt=me&&Dt.length;Te.x=lt[Yt-2],Te.y=lt[Yt-1],Te.bx=A(lt[Yt-4])||Te.x,Te.by=A(lt[Yt-3])||Te.y,Se.bx=me&&(A(Dt[Tt-4])||Se.x),Se.by=me&&(A(Dt[Tt-3])||Se.y),Se.x=me&&Dt[Tt-2],Se.y=me&&Dt[Tt-1]}return me||(Q.curve=Xe(he)),me?[he,me]:he},null,Xe),Vt=(j._parseDots=an(function(P){for(var W=[],Q=0,he=P.length;Q<he;Q++){var me={},Te=P[Q].match(/^([^:]*):?([\d\.]*)/);if(me.color=j.getRGB(Te[1]),me.color.error)return null;me.color=me.color.hex,Te[2]&&(me.offset=Te[2]+"%"),W.push(me)}for(Q=1,he=W.length-1;Q<he;Q++)if(!W[Q].offset){for(var Se=A(W[Q-1].offset||0),Oe=0,qe=Q+1;qe<he;qe++)if(W[qe].offset){Oe=W[qe].offset;break}Oe||(Oe=100,qe=he);for(var yt=((Oe=A(Oe))-Se)/(qe-Q+1);Q<qe;Q++)W[Q].offset=(Se+=yt)+"%"}return W}),j._tear=function(P,W){P==W.top&&(W.top=P.prev),P==W.bottom&&(W.bottom=P.next),P.next&&(P.next.prev=P.prev),P.prev&&(P.prev.next=P.next)}),qn=(j._tofront=function(P,W){W.top!==P&&(Vt(P,W),P.next=null,P.prev=W.top,W.top.next=P,W.top=P)},j._toback=function(P,W){W.bottom!==P&&(Vt(P,W),P.next=W.bottom,P.prev=null,W.bottom.prev=P,W.bottom=P)},j._insertafter=function(P,W,Q){Vt(P,Q),W==Q.top&&(Q.top=P),W.next&&(W.next.prev=P),P.next=W.next,P.prev=W,W.next=P},j._insertbefore=function(P,W,Q){Vt(P,Q),W==Q.bottom&&(Q.bottom=P),W.prev&&(W.prev.next=P),P.prev=W.prev,W.prev=P,P.next=W},j.toMatrix=function(P,W){var Q=Ze(P),he={_:{transform:B},getBBox:function(){return Q}};return Gn(he,W),he.matrix}),Gn=(j.transformPath=function(P,W){return K(P,qn(P,W))},j._extractTransform=function(P,W){if(null==W)return P._.transform;W=g(W).replace(/\.{3}|\u2026/g,P._.transform||B);var me,Te,Q=j.parseTransformString(W),he=0,Se=1,Oe=1,qe=P._,yt=new rt;if(qe.transform=Q||[],Q)for(var jt=0,ot=Q.length;jt<ot;jt++){var Pt,dn,rn,un,jn,lt=Q[jt],Dt=lt.length,Yt=g(lt[0]).toLowerCase(),Tt=lt[0]!=Yt,zt=Tt?yt.invert():0;"t"==Yt&&3==Dt?Tt?(Pt=zt.x(0,0),dn=zt.y(0,0),rn=zt.x(lt[1],lt[2]),un=zt.y(lt[1],lt[2]),yt.translate(rn-Pt,un-dn)):yt.translate(lt[1],lt[2]):"r"==Yt?2==Dt?(jn=jn||P.getBBox(1),yt.rotate(lt[1],jn.x+jn.width/2,jn.y+jn.height/2),he+=lt[1]):4==Dt&&(Tt?(rn=zt.x(lt[2],lt[3]),un=zt.y(lt[2],lt[3]),yt.rotate(lt[1],rn,un)):yt.rotate(lt[1],lt[2],lt[3]),he+=lt[1]):"s"==Yt?2==Dt||3==Dt?(jn=jn||P.getBBox(1),yt.scale(lt[1],lt[Dt-1],jn.x+jn.width/2,jn.y+jn.height/2),Se*=lt[1],Oe*=lt[Dt-1]):5==Dt&&(Tt?(rn=zt.x(lt[3],lt[4]),un=zt.y(lt[3],lt[4]),yt.scale(lt[1],lt[2],rn,un)):yt.scale(lt[1],lt[2],lt[3],lt[4]),Se*=lt[1],Oe*=lt[2]):"m"==Yt&&7==Dt&&yt.add(lt[1],lt[2],lt[3],lt[4],lt[5],lt[6]),qe.dirtyT=1,P.matrix=yt}P.matrix=yt,qe.sx=Se,qe.sy=Oe,qe.deg=he,qe.dx=me=yt.e,qe.dy=Te=yt.f,1==Se&&1==Oe&&!he&&qe.bbox?(qe.bbox.x+=+me,qe.bbox.y+=+Te):qe.dirtyT=1}),Hn=function(P){var W=P[0];switch(W.toLowerCase()){case"t":return[W,0,0];case"m":return[W,1,0,0,1,0,0];case"r":return 4==P.length?[W,0,P[2],P[3]]:[W,0];case"s":return 5==P.length?[W,1,1,P[3],P[4]]:3==P.length?[W,1,1]:[W,1]}},Yn=j._equaliseTransform=function(P,W){W=g(W).replace(/\.{3}|\u2026/g,P),P=j.parseTransformString(P)||[],W=j.parseTransformString(W)||[];for(var Se,Oe,qe,yt,Q=s(P.length,W.length),he=[],me=[],Te=0;Te<Q;Te++){if(qe=P[Te]||Hn(W[Te]),yt=W[Te]||Hn(qe),qe[0]!=yt[0]||"r"==qe[0].toLowerCase()&&(qe[2]!=yt[2]||qe[3]!=yt[3])||"s"==qe[0].toLowerCase()&&(qe[3]!=yt[3]||qe[4]!=yt[4]))return;for(he[Te]=[],me[Te]=[],Se=0,Oe=s(qe.length,yt.length);Se<Oe;Se++)Se in qe&&(he[Te][Se]=qe[Se]),Se in yt&&(me[Te][Se]=yt[Se])}return{from:he,to:me}};function rt(P,W,Q,he,me,Te){null!=P?(this.a=+P,this.b=+W,this.c=+Q,this.d=+he,this.e=+me,this.f=+Te):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}j._getContainer=function(P,W,Q,he){var me;if(null!=(me=null!=he||j.is(P,"object")?P:_.doc.getElementById(P)))return me.tagName?null==W?{container:me,width:me.style.pixelWidth||me.offsetWidth,height:me.style.pixelHeight||me.offsetHeight}:{container:me,width:W,height:Q}:{container:1,x:P,y:W,width:Q,height:he}},j.pathToRelative=st,j._engine={},j.path2curve=Qt,j.matrix=function(P,W,Q,he,me,Te){return new rt(P,W,Q,he,me,Te)},function(P){function W(he){return he[0]*he[0]+he[1]*he[1]}function Q(he){var me=u.sqrt(W(he));he[0]&&(he[0]/=me),he[1]&&(he[1]/=me)}P.add=function(he,me,Te,Se,Oe,qe){var lt,Dt,Yt,Tt,yt=[[],[],[]],jt=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],ot=[[he,Te,Oe],[me,Se,qe],[0,0,1]];for(he&&he instanceof rt&&(ot=[[he.a,he.c,he.e],[he.b,he.d,he.f],[0,0,1]]),lt=0;lt<3;lt++)for(Dt=0;Dt<3;Dt++){for(Tt=0,Yt=0;Yt<3;Yt++)Tt+=jt[lt][Yt]*ot[Yt][Dt];yt[lt][Dt]=Tt}this.a=yt[0][0],this.b=yt[1][0],this.c=yt[0][1],this.d=yt[1][1],this.e=yt[0][2],this.f=yt[1][2]},P.invert=function(){var he=this,me=he.a*he.d-he.b*he.c;return new rt(he.d/me,-he.b/me,-he.c/me,he.a/me,(he.c*he.f-he.d*he.e)/me,(he.b*he.e-he.a*he.f)/me)},P.clone=function(){return new rt(this.a,this.b,this.c,this.d,this.e,this.f)},P.translate=function(he,me){this.add(1,0,0,1,he,me)},P.scale=function(he,me,Te,Se){null==me&&(me=he),(Te||Se)&&this.add(1,0,0,1,Te,Se),this.add(he,0,0,me,0,0),(Te||Se)&&this.add(1,0,0,1,-Te,-Se)},P.rotate=function(he,me,Te){he=j.rad(he),me=me||0,Te=Te||0;var Se=+u.cos(he).toFixed(9),Oe=+u.sin(he).toFixed(9);this.add(Se,Oe,-Oe,Se,me,Te),this.add(1,0,0,1,-me,-Te)},P.x=function(he,me){return he*this.a+me*this.c+this.e},P.y=function(he,me){return he*this.b+me*this.d+this.f},P.get=function(he){return+this[g.fromCharCode(97+he)].toFixed(4)},P.toString=function(){return j.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},P.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},P.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},P.split=function(){var he={};he.dx=this.e,he.dy=this.f;var me=[[this.a,this.c],[this.b,this.d]];he.scalex=u.sqrt(W(me[0])),Q(me[0]),he.shear=me[0][0]*me[1][0]+me[0][1]*me[1][1],me[1]=[me[1][0]-me[0][0]*he.shear,me[1][1]-me[0][1]*he.shear],he.scaley=u.sqrt(W(me[1])),Q(me[1]),he.shear/=he.scaley;var Te=-me[0][1],Se=me[1][1];return Se<0?(he.rotate=j.deg(u.acos(Se)),Te<0&&(he.rotate=360-he.rotate)):he.rotate=j.deg(u.asin(Te)),he.isSimple=!(+he.shear.toFixed(9)||he.scalex.toFixed(9)!=he.scaley.toFixed(9)&&he.rotate),he.isSuperSimple=!+he.shear.toFixed(9)&&he.scalex.toFixed(9)==he.scaley.toFixed(9)&&!he.rotate,he.noRotation=!+he.shear.toFixed(9)&&!he.rotate,he},P.toTransformString=function(he){var me=he||this[f]();return me.isSimple?(me.scalex=+me.scalex.toFixed(4),me.scaley=+me.scaley.toFixed(4),me.rotate=+me.rotate.toFixed(4),(me.dx||me.dy?"t"+[me.dx,me.dy]:B)+(1!=me.scalex||1!=me.scaley?"s"+[me.scalex,me.scaley,0,0]:B)+(me.rotate?"r"+[me.rotate,0,0]:B)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(rt.prototype);var de=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);ue.safari="Apple Computer, Inc."==navigator.vendor&&(de&&de[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&de&&de[1]<8?function(){var P=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){P.remove()})}:function(){};for(var nt=function(){this.returnValue=!1},it=function(){return this.originalEvent.preventDefault()},ye=function(){this.cancelBubble=!0},ct=function(){return this.originalEvent.stopPropagation()},Xr=function(P){return{x:P.clientX+(_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft),y:P.clientY+(_.doc.documentElement.scrollTop||_.doc.body.scrollTop)}},vi=_.doc.addEventListener?function(P,W,Q,he){var me=function(Se){var Oe=Xr(Se);return Q.call(he,Se,Oe.x,Oe.y)};return P.addEventListener(W,me,!1),m&&n[W]&&P.addEventListener(n[W],function(Se){for(var Oe=Xr(Se),qe=Se,yt=0,jt=Se.targetTouches&&Se.targetTouches.length;yt<jt;yt++)if(Se.targetTouches[yt].target==P){(Se=Se.targetTouches[yt]).originalEvent=qe,Se.preventDefault=it,Se.stopPropagation=ct;break}return Q.call(he,Se,Oe.x,Oe.y)},!1),function(){return P.removeEventListener(W,me,!1),m&&n[W]&&P.removeEventListener(n[W],me,!1),!0}}:_.doc.attachEvent?function(P,W,Q,he){var me=function(Se){var yt=(Se=Se||_.win.event).clientX+(_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft),jt=Se.clientY+(_.doc.documentElement.scrollTop||_.doc.body.scrollTop);return Se.preventDefault=Se.preventDefault||nt,Se.stopPropagation=Se.stopPropagation||ye,Q.call(he,Se,yt,jt)};return P.attachEvent("on"+W,me),function(){return P.detachEvent("on"+W,me),!0}}:void 0,Kr=[],oi=function(P){for(var Te,W=P.clientX,Q=P.clientY,he=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,me=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft,Se=Kr.length;Se--;){if(Te=Kr[Se],m&&P.touches){for(var qe,Oe=P.touches.length;Oe--;)if((qe=P.touches[Oe]).identifier==Te.el._drag.id){W=qe.clientX,Q=qe.clientY,(P.originalEvent?P.originalEvent:P).preventDefault();break}}else P.preventDefault();var jt,yt=Te.el.node,ot=yt.nextSibling,lt=yt.parentNode,Dt=yt.style.display;_.win.opera&&lt.removeChild(yt),yt.style.display="none",jt=Te.el.paper.getElementByPoint(W,Q),yt.style.display=Dt,_.win.opera&&(ot?lt.insertBefore(yt,ot):lt.appendChild(yt)),jt&&yn("raphael.drag.over."+Te.el.id,Te.el,jt),yn("raphael.drag.move."+Te.el.id,Te.move_scope||Te.el,(W+=me)-Te.el._drag.x,(Q+=he)-Te.el._drag.y,W,Q,P)}},Qr=function(P){j.unmousemove(oi).unmouseup(Qr);for(var Q,W=Kr.length;W--;)(Q=Kr[W]).el._drag={},yn("raphael.drag.end."+Q.el.id,Q.end_scope||Q.start_scope||Q.move_scope||Q.el,P);Kr=[]},hr=j.el={},li=x.length;li--;)!function(P){j[P]=hr[P]=function(W,Q){return j.is(W,"function")&&(this.events=this.events||[],this.events.push({name:P,f:W,unbind:vi(this.shape||this.node||_.doc,P,W,Q||this)})),this},j["un"+P]=hr["un"+P]=function(W){for(var Q=this.events||[],he=Q.length;he--;)Q[he].name==P&&(j.is(W,"undefined")||Q[he].f==W)&&(Q[he].unbind(),Q.splice(he,1),!Q.length&&delete this.events);return this}}(x[li]);hr.data=function(P,W){var Q=ft[this.id]=ft[this.id]||{};if(0==arguments.length)return Q;if(1==arguments.length){if(j.is(P,"object")){for(var he in P)P[Le](he)&&this.data(he,P[he]);return this}return yn("raphael.data.get."+this.id,this,Q[P],P),Q[P]}return Q[P]=W,yn("raphael.data.set."+this.id,this,W,P),this},hr.removeData=function(P){return null==P?ft[this.id]={}:ft[this.id]&&delete ft[this.id][P],this},hr.getData=function(){return ce(ft[this.id]||{})},hr.hover=function(P,W,Q,he){return this.mouseover(P,Q).mouseout(W,he||Q)},hr.unhover=function(P,W){return this.unmouseover(P).unmouseout(W)};var Vr=[];function ei(){return this.x+i+this.y+i+this.width+" \xd7 "+this.height}hr.drag=function(P,W,Q,he,me,Te){function Se(Oe){(Oe.originalEvent||Oe).preventDefault();var qe=Oe.clientX,yt=Oe.clientY,jt=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,ot=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft;if(this._drag.id=Oe.identifier,m&&Oe.touches)for(var Dt,lt=Oe.touches.length;lt--;)if(this._drag.id=(Dt=Oe.touches[lt]).identifier,Dt.identifier==this._drag.id){qe=Dt.clientX,yt=Dt.clientY;break}this._drag.x=qe+ot,this._drag.y=yt+jt,!Kr.length&&j.mousemove(oi).mouseup(Qr),Kr.push({el:this,move_scope:he,start_scope:me,end_scope:Te}),W&&yn.on("raphael.drag.start."+this.id,W),P&&yn.on("raphael.drag.move."+this.id,P),Q&&yn.on("raphael.drag.end."+this.id,Q),yn("raphael.drag.start."+this.id,me||he||this,Oe.clientX+ot,Oe.clientY+jt,Oe)}return this._drag={},Vr.push({el:this,start:Se}),this.mousedown(Se),this},hr.onDragOver=function(P){P?yn.on("raphael.drag.over."+this.id,P):yn.unbind("raphael.drag.over."+this.id)},hr.undrag=function(){for(var P=Vr.length;P--;)Vr[P].el==this&&(this.unmousedown(Vr[P].start),Vr.splice(P,1),yn.unbind("raphael.drag.*."+this.id));!Vr.length&&j.unmousemove(oi).unmouseup(Qr),Kr=[]},ue.circle=function(P,W,Q){var he=j._engine.circle(this,P||0,W||0,Q||0);return this.__set__&&this.__set__.push(he),he},ue.rect=function(P,W,Q,he,me){var Te=j._engine.rect(this,P||0,W||0,Q||0,he||0,me||0);return this.__set__&&this.__set__.push(Te),Te},ue.ellipse=function(P,W,Q,he){var me=j._engine.ellipse(this,P||0,W||0,Q||0,he||0);return this.__set__&&this.__set__.push(me),me},ue.path=function(P){P&&!j.is(P,l)&&!j.is(P[0],p)&&(P+=B);var W=j._engine.path(j.format[Y](j,arguments),this);return this.__set__&&this.__set__.push(W),W},ue.image=function(P,W,Q,he,me){var Te=j._engine.image(this,P||"about:blank",W||0,Q||0,he||0,me||0);return this.__set__&&this.__set__.push(Te),Te},ue.text=function(P,W,Q){var he=j._engine.text(this,P||0,W||0,g(Q));return this.__set__&&this.__set__.push(he),he},ue.set=function(P){!j.is(P,"array")&&(P=Array.prototype.splice.call(arguments,0,arguments.length));var W=new hi(P);return this.__set__&&this.__set__.push(W),W.paper=this,W.type="set",W},ue.setStart=function(P){this.__set__=P||this.set()},ue.setFinish=function(P){var W=this.__set__;return delete this.__set__,W},ue.setSize=function(P,W){return j._engine.setSize.call(this,P,W)},ue.setViewBox=function(P,W,Q,he,me){return j._engine.setViewBox.call(this,P,W,Q,he,me)},ue.top=ue.bottom=null,ue.raphael=j,ue.getElementByPoint=function(P,W){var Q=this,he=Q.canvas,me=_.doc.elementFromPoint(P,W);if(_.win.opera&&"svg"==me.tagName){var Te=function(P){var W=P.getBoundingClientRect(),Q=P.ownerDocument,he=Q.body,me=Q.documentElement;return{y:W.top+(_.win.pageYOffset||me.scrollTop||he.scrollTop)-(me.clientTop||he.clientTop||0),x:W.left+(_.win.pageXOffset||me.scrollLeft||he.scrollLeft)-(me.clientLeft||he.clientLeft||0)}}(he),Se=he.createSVGRect();Se.x=P-Te.x,Se.y=W-Te.y,Se.width=Se.height=1;var Oe=he.getIntersectionList(Se,null);Oe.length&&(me=Oe[Oe.length-1])}if(!me)return null;for(;me.parentNode&&me!=he.parentNode&&!me.raphael;)me=me.parentNode;return me==Q.canvas.parentNode&&(me=he),me&&me.raphael?Q.getById(me.raphaelid):null},ue.getElementsByBBox=function(P){var W=this.set();return this.forEach(function(Q){j.isBBoxIntersect(Q.getBBox(),P)&&W.push(Q)}),W},ue.getById=function(P){for(var W=this.bottom;W;){if(W.id==P)return W;W=W.next}return null},ue.forEach=function(P,W){for(var Q=this.bottom;Q;){if(!1===P.call(W,Q))return this;Q=Q.next}return this},ue.getElementsByPoint=function(P,W){var Q=this.set();return this.forEach(function(he){he.isPointInside(P,W)&&Q.push(he)}),Q},hr.isPointInside=function(P,W){var Q=this.realPath=St[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(Q=j.transformPath(Q,this.attr("transform"))),j.isPointInsidePath(Q,P,W)},hr.getBBox=function(P){if(this.removed)return{};var W=this._;return P?((W.dirty||!W.bboxwt)&&(this.realPath=St[this.type](this),W.bboxwt=Ze(this.realPath),W.bboxwt.toString=ei,W.dirty=0),W.bboxwt):((W.dirty||W.dirtyT||!W.bbox)&&((W.dirty||!this.realPath)&&(W.bboxwt=0,this.realPath=St[this.type](this)),W.bbox=Ze(K(this.realPath,this.matrix)),W.bbox.toString=ei,W.dirty=W.dirtyT=0),W.bbox)},hr.clone=function(){if(this.removed)return null;var P=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(P),P},hr.glow=function(P){if("text"==this.type)return null;var W={width:((P=P||{}).width||10)+(+this.attr("stroke-width")||1),fill:P.fill||!1,opacity:P.opacity||.5,offsetx:P.offsetx||0,offsety:P.offsety||0,color:P.color||"#000"},Q=W.width/2,he=this.paper,me=he.set(),Te=this.realPath||St[this.type](this);Te=this.matrix?K(Te,this.matrix):Te;for(var Se=1;Se<Q+1;Se++)me.push(he.path(Te).attr({stroke:W.color,fill:W.fill?W.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(W.width/Q*Se).toFixed(3),opacity:+(W.opacity/Q).toFixed(3)}));return me.insertBefore(this).translate(W.offsetx,W.offsety)};var Gr=function(P,W,Q,he,me,Te,Se,Oe,qe){return null==qe?Pn(P,W,Q,he,me,Te,Se,Oe):j.findDotsAtSegment(P,W,Q,he,me,Te,Se,Oe,function mr(P,W,Q,he,me,Te,Se,Oe,qe){if(!(qe<0||Pn(P,W,Q,he,me,Te,Se,Oe)<qe)){var lt,jt=.5,ot=1-jt;for(lt=Pn(P,W,Q,he,me,Te,Se,Oe,ot);o(lt-qe)>.01;)lt=Pn(P,W,Q,he,me,Te,Se,Oe,ot+=(lt<qe?1:-1)*(jt/=2));return ot}}(P,W,Q,he,me,Te,Se,Oe,qe))},Dr=function(P,W){return function(Q,he,me){for(var Te,Se,Oe,qe,ot,yt="",jt={},lt=0,Dt=0,Yt=(Q=Qt(Q)).length;Dt<Yt;Dt++){if("M"==(Oe=Q[Dt])[0])Te=+Oe[1],Se=+Oe[2];else{if(lt+(qe=Gr(Te,Se,Oe[1],Oe[2],Oe[3],Oe[4],Oe[5],Oe[6]))>he){if(W&&!jt.start){if(yt+=["C"+(ot=Gr(Te,Se,Oe[1],Oe[2],Oe[3],Oe[4],Oe[5],Oe[6],he-lt)).start.x,ot.start.y,ot.m.x,ot.m.y,ot.x,ot.y],me)return yt;jt.start=yt,yt=["M"+ot.x,ot.y+"C"+ot.n.x,ot.n.y,ot.end.x,ot.end.y,Oe[5],Oe[6]].join(),lt+=qe,Te=+Oe[5],Se=+Oe[6];continue}if(!P&&!W)return{x:(ot=Gr(Te,Se,Oe[1],Oe[2],Oe[3],Oe[4],Oe[5],Oe[6],he-lt)).x,y:ot.y,alpha:ot.alpha}}lt+=qe,Te=+Oe[5],Se=+Oe[6]}yt+=Oe.shift()+Oe}return jt.end=yt,(ot=P?lt:W?jt:j.findDotsAtSegment(Te,Se,Oe[0],Oe[1],Oe[2],Oe[3],Oe[4],Oe[5],1)).alpha&&(ot={x:ot.x,y:ot.y,alpha:ot.alpha}),ot}},Zr=Dr(1),si=Dr(),yi=Dr(0,1);j.getTotalLength=Zr,j.getPointAtLength=si,j.getSubpath=function(P,W,Q){if(this.getTotalLength(P)-Q<1e-6)return yi(P,W).end;var he=yi(P,Q,1);return W?yi(he,W).end:he},hr.getTotalLength=function(){var P=this.getPath();if(P)return this.node.getTotalLength?this.node.getTotalLength():Zr(P)},hr.getPointAtLength=function(P){var W=this.getPath();if(W)return si(W,P)},hr.getPath=function(){var P,W=j._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return W&&(P=W(this)),P},hr.getSubpath=function(P,W){var Q=this.getPath();if(Q)return j.getSubpath(Q,P,W)};var Br=j.easing_formulas={linear:function(P){return P},"<":function(P){return r(P,1.7)},">":function(P){return r(P,.48)},"<>":function(P){var W=.48-P/1.04,Q=u.sqrt(.1734+W*W),he=Q-W,Te=-Q-W,Oe=r(o(he),1/3)*(he<0?-1:1)+r(o(Te),1/3)*(Te<0?-1:1)+.5;return 3*(1-Oe)*Oe*Oe+Oe*Oe*Oe},backIn:function(P){var W=1.70158;return P*P*((W+1)*P-W)},backOut:function(P){var W=1.70158;return(P-=1)*P*((W+1)*P+W)+1},elastic:function(P){return P==!!P?P:r(2,-10*P)*u.sin(2*d*(P-.075)/.3)+1},bounce:function(P){var W=7.5625,Q=2.75;return P<1/Q?W*P*P:P<2/Q?W*(P-=1.5/Q)*P+.75:P<2.5/Q?W*(P-=2.25/Q)*P+.9375:W*(P-=2.625/Q)*P+.984375}};Br.easeIn=Br["ease-in"]=Br["<"],Br.easeOut=Br["ease-out"]=Br[">"],Br.easeInOut=Br["ease-in-out"]=Br["<>"],Br["back-in"]=Br.backIn,Br["back-out"]=Br.backOut;var Jn=[],_r=Kt.requestAnimationFrame||Kt.webkitRequestAnimationFrame||Kt.mozRequestAnimationFrame||Kt.oRequestAnimationFrame||Kt.msRequestAnimationFrame||function(P){setTimeout(P,16)},Wi=function(){for(var P=+new Date,W=0;W<Jn.length;W++){var Q=Jn[W];if(!Q.el.removed&&!Q.paused){var lt,Yt,he=P-Q.start,me=Q.ms,Te=Q.easing,Se=Q.from,Oe=Q.diff,qe=Q.to,jt=Q.el,ot={},Dt={};if(Q.initstatus?(he=(Q.initstatus*Q.anim.top-Q.prev)/(Q.percent-Q.prev)*me,Q.status=Q.initstatus,delete Q.initstatus,Q.stop&&Jn.splice(W--,1)):Q.status=(Q.prev+he/me*(Q.percent-Q.prev))/Q.anim.top,!(he<0))if(he<me){var Tt=Te(he/me);for(var zt in Se)if(Se[Le](zt)){switch(C[zt]){case h:lt=+Se[zt]+Tt*me*Oe[zt];break;case"colour":lt="rgb("+[qi(we(Se[zt].r+Tt*me*Oe[zt].r)),qi(we(Se[zt].g+Tt*me*Oe[zt].g)),qi(we(Se[zt].b+Tt*me*Oe[zt].b))].join(",")+")";break;case"path":lt=[];for(var Pt=0,dn=Se[zt].length;Pt<dn;Pt++){lt[Pt]=[Se[zt][Pt][0]];for(var rn=1,un=Se[zt][Pt].length;rn<un;rn++)lt[Pt][rn]=+Se[zt][Pt][rn]+Tt*me*Oe[zt][Pt][rn];lt[Pt]=lt[Pt].join(i)}lt=lt.join(i);break;case"transform":if(Oe[zt].real)for(lt=[],Pt=0,dn=Se[zt].length;Pt<dn;Pt++)for(lt[Pt]=[Se[zt][Pt][0]],rn=1,un=Se[zt][Pt].length;rn<un;rn++)lt[Pt][rn]=Se[zt][Pt][rn]+Tt*me*Oe[zt][Pt][rn];else{var jn=function(br){return+Se[zt][br]+Tt*me*Oe[zt][br]};lt=[["m",jn(0),jn(1),jn(2),jn(3),jn(4),jn(5)]]}break;case"csv":if("clip-rect"==zt)for(lt=[],Pt=4;Pt--;)lt[Pt]=+Se[zt][Pt]+Tt*me*Oe[zt][Pt];break;default:var vr=[][ae](Se[zt]);for(lt=[],Pt=jt.paper.customAttributes[zt].length;Pt--;)lt[Pt]=+vr[Pt]+Tt*me*Oe[zt][Pt]}ot[zt]=lt}jt.attr(ot),function(br,tr,nr){setTimeout(function(){yn("raphael.anim.frame."+br,tr,nr)})}(jt.id,jt,Q.anim)}else{if(function(br,tr,nr){setTimeout(function(){yn("raphael.anim.frame."+tr.id,tr,nr),yn("raphael.anim.finish."+tr.id,tr,nr),j.is(br,"function")&&br.call(tr)})}(Q.callback,jt,Q.anim),jt.attr(qe),Jn.splice(W--,1),Q.repeat>1&&!Q.next){for(Yt in qe)qe[Le](Yt)&&(Dt[Yt]=Q.totalOrigin[Yt]);Q.el.attr(Dt),ki(Q.anim,Q.el,Q.anim.percents[0],null,Q.totalOrigin,Q.repeat-1)}Q.next&&!Q.stop&&ki(Q.anim,Q.el,Q.next,null,Q.totalOrigin,Q.repeat)}}}j.svg&&jt&&jt.paper&&jt.paper.safari(),Jn.length&&_r(Wi)},qi=function(P){return P>255?255:P<0?0:P};function _i(P,W){var Q=[],he={};if(this.ms=W,this.times=1,P){for(var me in P)P[Le](me)&&(he[A(me)]=P[me],Q.push(A(me)));Q.sort(Xt)}this.anim=he,this.top=Q[Q.length-1],this.percents=Q}function ki(P,W,Q,he,me,Te){Q=A(Q);var Se,Oe,qe,jt,ot,lt,Dt=P.ms,Yt={},Tt={},zt={};if(he)for(dn=0,rn=Jn.length;dn<rn;dn++){var Pt=Jn[dn];if(Pt.el.id==W.id&&Pt.anim==P){Pt.percent!=Q?(Jn.splice(dn,1),qe=1):Oe=Pt,W.attr(Pt.totalOrigin);break}}else he=+Tt;for(var dn=0,rn=P.percents.length;dn<rn;dn++){if(P.percents[dn]==Q||P.percents[dn]>he*P.top){Dt=Dt/P.top*((Q=P.percents[dn])-(ot=P.percents[dn-1]||0)),jt=P.percents[dn+1],Se=P.anim[Q];break}he&&W.attr(P.anim[P.percents[dn]])}if(Se){if(Oe)Oe.initstatus=he,Oe.start=new Date-Oe.ms*he;else{for(var un in Se)if(Se[Le](un)&&(C[Le](un)||W.paper.customAttributes[Le](un)))switch(Yt[un]=W.attr(un),null==Yt[un]&&(Yt[un]=y[un]),Tt[un]=Se[un],C[un]){case h:zt[un]=(Tt[un]-Yt[un])/Dt;break;case"colour":Yt[un]=j.getRGB(Yt[un]);var jn=j.getRGB(Tt[un]);zt[un]={r:(jn.r-Yt[un].r)/Dt,g:(jn.g-Yt[un].g)/Dt,b:(jn.b-Yt[un].b)/Dt};break;case"path":var vr=Qt(Yt[un],Tt[un]),br=vr[1];for(Yt[un]=vr[0],zt[un]=[],dn=0,rn=Yt[un].length;dn<rn;dn++){zt[un][dn]=[0];for(var tr=1,nr=Yt[un][dn].length;tr<nr;tr++)zt[un][dn][tr]=(br[dn][tr]-Yt[un][dn][tr])/Dt}break;case"transform":var rr=W._,Jr=Yn(rr[un],Tt[un]);if(Jr)for(Yt[un]=Jr.from,Tt[un]=Jr.to,zt[un]=[],zt[un].real=!0,dn=0,rn=Yt[un].length;dn<rn;dn++)for(zt[un][dn]=[Yt[un][dn][0]],tr=1,nr=Yt[un][dn].length;tr<nr;tr++)zt[un][dn][tr]=(Tt[un][dn][tr]-Yt[un][dn][tr])/Dt;else{var ze=W.matrix||new rt,Et={_:{transform:rr.transform},getBBox:function(){return W.getBBox(1)}};Yt[un]=[ze.a,ze.b,ze.c,ze.d,ze.e,ze.f],Gn(Et,Tt[un]),Tt[un]=Et._.transform,zt[un]=[(Et.matrix.a-ze.a)/Dt,(Et.matrix.b-ze.b)/Dt,(Et.matrix.c-ze.c)/Dt,(Et.matrix.d-ze.d)/Dt,(Et.matrix.e-ze.e)/Dt,(Et.matrix.f-ze.f)/Dt]}break;case"csv":var Wt=g(Se[un])[f](wt),ln=g(Yt[un])[f](wt);if("clip-rect"==un)for(Yt[un]=ln,zt[un]=[],dn=ln.length;dn--;)zt[un][dn]=(Wt[dn]-Yt[un][dn])/Dt;Tt[un]=Wt;break;default:for(Wt=[][ae](Se[un]),ln=[][ae](Yt[un]),zt[un]=[],dn=W.paper.customAttributes[un].length;dn--;)zt[un][dn]=((Wt[dn]||0)-(ln[dn]||0))/Dt}var $n=Se.easing,Fe=j.easing_formulas[$n];if(!Fe)if((Fe=g($n).match(le))&&5==Fe.length){var Ce=Fe;Fe=function(_t){return function eo(P,W,Q,he,me,Te){var Se=3*W,Oe=3*(he-W)-Se,qe=1-Se-Oe,yt=3*Q,jt=3*(me-Q)-yt,ot=1-yt-jt;function lt(Tt){return((qe*Tt+Oe)*Tt+Se)*Tt}return function Dt(Tt,zt){var Pt=function Yt(Tt,zt){var Pt,dn,rn,un,jn,vr;for(rn=Tt,vr=0;vr<8;vr++){if(un=lt(rn)-Tt,o(un)<zt)return rn;if(o(jn=(3*qe*rn+2*Oe)*rn+Se)<1e-6)break;rn-=un/jn}if((rn=Tt)<(Pt=0))return Pt;if(rn>(dn=1))return dn;for(;Pt<dn;){if(un=lt(rn),o(un-Tt)<zt)return rn;Tt>un?Pt=rn:dn=rn,rn=(dn-Pt)/2+Pt}return rn}(Tt,zt);return((ot*Pt+jt)*Pt+yt)*Pt}(P,1/(200*Te))}(_t,+Ce[1],+Ce[2],+Ce[3],+Ce[4],Dt)}}else Fe=Ft;if(Pt={anim:P,percent:Q,timestamp:lt=Se.start||P.start||+new Date,start:lt+(P.del||0),status:0,initstatus:he||0,stop:!1,ms:Dt,easing:Fe,from:Yt,diff:zt,to:Tt,el:W,callback:Se.callback,prev:ot,next:jt,repeat:Te||P.times,origin:W.attr(),totalOrigin:me},Jn.push(Pt),he&&!Oe&&!qe&&(Pt.stop=!0,Pt.start=new Date-Dt*he,1==Jn.length))return Wi();qe&&(Pt.start=new Date-Pt.ms*he),1==Jn.length&&_r(Wi)}yn("raphael.anim.start."+W.id,W,P)}}function Pi(P){for(var W=0;W<Jn.length;W++)Jn[W].el.paper==P&&Jn.splice(W--,1)}hr.animateWith=function(P,W,Q,he,me,Te){var Se=this;if(Se.removed)return Te&&Te.call(Se),Se;var Oe=Q instanceof _i?Q:j.animation(Q,he,me,Te);ki(Oe,Se,Oe.percents[0],null,Se.attr());for(var jt=0,ot=Jn.length;jt<ot;jt++)if(Jn[jt].anim==W&&Jn[jt].el==P){Jn[ot-1].start=Jn[jt].start;break}return Se},hr.onAnimation=function(P){return P?yn.on("raphael.anim.frame."+this.id,P):yn.unbind("raphael.anim.frame."+this.id),this},_i.prototype.delay=function(P){var W=new _i(this.anim,this.ms);return W.times=this.times,W.del=+P||0,W},_i.prototype.repeat=function(P){var W=new _i(this.anim,this.ms);return W.del=this.del,W.times=u.floor(s(P,0))||1,W},j.animation=function(P,W,Q,he){if(P instanceof _i)return P;(j.is(Q,"function")||!Q)&&(he=he||Q||null,Q=null),P=Object(P),W=+W||0;var Te,Se,me={};for(Se in P)P[Le](Se)&&A(Se)!=Se&&A(Se)+"%"!=Se&&(Te=!0,me[Se]=P[Se]);return Te?(Q&&(me.easing=Q),he&&(me.callback=he),new _i({100:me},W)):new _i(P,W)},hr.animate=function(P,W,Q,he){var me=this;if(me.removed)return he&&he.call(me),me;var Te=P instanceof _i?P:j.animation(P,W,Q,he);return ki(Te,me,Te.percents[0],null,me.attr()),me},hr.setTime=function(P,W){return P&&null!=W&&this.status(P,t(W,P.ms)/P.ms),this},hr.status=function(P,W){var me,Te,Q=[],he=0;if(null!=W)return ki(P,this,-1,t(W,1)),this;for(me=Jn.length;he<me;he++)if((Te=Jn[he]).el.id==this.id&&(!P||Te.anim==P)){if(P)return Te.status;Q.push({anim:Te.anim,status:Te.status})}return P?0:Q},hr.pause=function(P){for(var W=0;W<Jn.length;W++)Jn[W].el.id==this.id&&(!P||Jn[W].anim==P)&&!1!==yn("raphael.anim.pause."+this.id,this,Jn[W].anim)&&(Jn[W].paused=!0);return this},hr.resume=function(P){for(var W=0;W<Jn.length;W++)if(Jn[W].el.id==this.id&&(!P||Jn[W].anim==P)){var Q=Jn[W];!1!==yn("raphael.anim.resume."+this.id,this,Q.anim)&&(delete Q.paused,this.status(Q.anim,Q.status))}return this},hr.stop=function(P){for(var W=0;W<Jn.length;W++)Jn[W].el.id==this.id&&(!P||Jn[W].anim==P)&&!1!==yn("raphael.anim.stop."+this.id,this,Jn[W].anim)&&Jn.splice(W--,1);return this},yn.on("raphael.remove",Pi),yn.on("raphael.clear",Pi),hr.toString=function(){return"Rapha\xebl\u2019s object"};var hi=function(P){if(this.items=[],this.length=0,this.type="set",P)for(var W=0,Q=P.length;W<Q;W++)P[W]&&(P[W].constructor==hr.constructor||P[W].constructor==hi)&&(this[this.items.length]=this.items[this.items.length]=P[W],this.length++)},Nr=hi.prototype;for(var to in Nr.push=function(){for(var P,W,Q=0,he=arguments.length;Q<he;Q++)(P=arguments[Q])&&(P.constructor==hr.constructor||P.constructor==hi)&&(this[W=this.items.length]=this.items[W]=P,this.length++);return this},Nr.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},Nr.forEach=function(P,W){for(var Q=0,he=this.items.length;Q<he;Q++)if(!1===P.call(W,this.items[Q],Q))return this;return this},hr)hr[Le](to)&&(Nr[to]=function(P){return function(){var W=arguments;return this.forEach(function(Q){Q[P][Y](Q,W)})}}(to));return Nr.attr=function(P,W){if(P&&j.is(P,p)&&j.is(P[0],"object"))for(var Q=0,he=P.length;Q<he;Q++)this.items[Q].attr(P[Q]);else for(var me=0,Te=this.items.length;me<Te;me++)this.items[me].attr(P,W);return this},Nr.clear=function(){for(;this.length;)this.pop()},Nr.splice=function(P,W,Q){P=P<0?s(this.length+P,0):P,W=s(0,t(this.length-P,W));var Se,he=[],me=[],Te=[];for(Se=2;Se<arguments.length;Se++)Te.push(arguments[Se]);for(Se=0;Se<W;Se++)me.push(this[P+Se]);for(;Se<this.length-P;Se++)he.push(this[P+Se]);var Oe=Te.length;for(Se=0;Se<Oe+he.length;Se++)this.items[P+Se]=this[P+Se]=Se<Oe?Te[Se]:he[Se-Oe];for(Se=this.items.length=this.length-=W-Oe;this[Se];)delete this[Se++];return new hi(me)},Nr.exclude=function(P){for(var W=0,Q=this.length;W<Q;W++)if(this[W]==P)return this.splice(W,1),!0},Nr.animate=function(P,W,Q,he){(j.is(Q,"function")||!Q)&&(he=Q||null);var Se,qe,me=this.items.length,Te=me,Oe=this;if(!me)return this;he&&(qe=function(){!--me&&he.call(Oe)}),Q=j.is(Q,l)?Q:qe;var yt=j.animation(P,W,Q,qe);for(Se=this.items[--Te].animate(yt);Te--;)this.items[Te]&&!this.items[Te].removed&&this.items[Te].animateWith(Se,yt,yt),this.items[Te]&&!this.items[Te].removed||me--;return this},Nr.insertAfter=function(P){for(var W=this.items.length;W--;)this.items[W].insertAfter(P);return this},Nr.getBBox=function(){for(var P=[],W=[],Q=[],he=[],me=this.items.length;me--;)if(!this.items[me].removed){var Te=this.items[me].getBBox();P.push(Te.x),W.push(Te.y),Q.push(Te.x+Te.width),he.push(Te.y+Te.height)}return{x:P=t[Y](0,P),y:W=t[Y](0,W),x2:Q=s[Y](0,Q),y2:he=s[Y](0,he),width:Q-P,height:he-W}},Nr.clone=function(P){P=this.paper.set();for(var W=0,Q=this.items.length;W<Q;W++)P.push(this.items[W].clone());return P},Nr.toString=function(){return"Rapha\xebl\u2018s set"},Nr.glow=function(P){var W=this.paper.set();return this.forEach(function(Q,he){Q.glow(P)?.forEach(function(Te,Se){W.push(Te)})}),W},Nr.isPointInside=function(P,W){var Q=!1;return this.forEach(function(he){if(he.isPointInside(P,W))return console.log("runned"),Q=!0,!1}),Q},j.registerFont=function(P){if(!P.face)return P;this.fonts=this.fonts||{};var W={w:P.w,face:{},glyphs:{}},Q=P.face["font-family"];for(var he in P.face)P.face[Le](he)&&(W.face[he]=P.face[he]);if(this.fonts[Q]?this.fonts[Q].push(W):this.fonts[Q]=[W],!P.svg)for(var me in W.face["units-per-em"]=L(P.face["units-per-em"],10),P.glyphs)if(P.glyphs[Le](me)){var Te=P.glyphs[me];if(W.glyphs[me]={w:Te.w,k:{},d:Te.d&&"M"+Te.d.replace(/[mlcxtrv]/g,function(Oe){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[Oe]||"M"})+"z"},Te.k)for(var Se in Te.k)Te[Le](Se)&&(W.glyphs[me].k[Se]=Te.k[Se])}return P},ue.getFont=function(P,W,Q,he){if(he=he||"normal",Q=Q||"normal",W=+W||{normal:400,bold:700,lighter:300,bolder:800}[W]||400,j.fonts){var Oe,me=j.fonts[P];if(!me){var Te=new RegExp("(^|\\s)"+P.replace(/[^\w\d\s+!~.:_-]/g,B)+"(\\s|$)","i");for(var Se in j.fonts)if(j.fonts[Le](Se)&&Te.test(Se)){me=j.fonts[Se];break}}if(me)for(var qe=0,yt=me.length;qe<yt&&((Oe=me[qe]).face["font-weight"]!=W||Oe.face["font-style"]!=Q&&Oe.face["font-style"]||Oe.face["font-stretch"]!=he);qe++);return Oe}},ue.print=function(P,W,Q,he,me,Te,Se,Oe){Te=Te||"middle",Se=s(t(Se||0,1),-1),Oe=s(t(Oe||1,3),1);var lt,qe=g(Q)[f](B),yt=0,jt=0,ot=B;if(j.is(he,"string")&&(he=this.getFont(he)),he){lt=(me||16)/he.face["units-per-em"];for(var Dt=he.face.bbox[f](wt),Yt=+Dt[0],Tt=Dt[3]-Dt[1],zt=0,Pt=+Dt[1]+("baseline"==Te?Tt+ +he.face.descent:Tt/2),dn=0,rn=qe.length;dn<rn;dn++){if("\n"==qe[dn])yt=0,jn=0,jt=0,zt+=Tt*Oe;else{var un=jt&&he.glyphs[qe[dn-1]]||{},jn=he.glyphs[qe[dn]];yt+=jt?(un.w||he.w)+(un.k&&un.k[qe[dn]]||0)+he.w*Se:0,jt=1}jn&&jn.d&&(ot+=j.transformPath(jn.d,["t",yt*lt,zt*lt,"s",lt,lt,Yt,Pt,"t",(P-Yt)/lt,(W-Pt)/lt]))}}return this.path(ot).attr({fill:"#000",stroke:"none"})},ue.add=function(P){if(j.is(P,"array"))for(var me,W=this.set(),Q=0,he=P.length;Q<he;Q++)kt[Le]((me=P[Q]||{}).type)&&W.push(this[me.type]().attr(me));return W},j.format=function(P,W){var Q=j.is(W,p)?[0][ae](W):arguments;return P&&j.is(P,l)&&Q.length-1&&(P=P.replace(V,function(he,me){return null==Q[++me]?B:Q[me]})),P||B},j.fullfill=function(){var P=/\{([^\}]+)\}/g,W=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;return function(he,me){return String(he).replace(P,function(Te,Se){return function(he,me,Te){var Se=Te;return me.replace(W,function(Oe,qe,yt,jt,ot){qe=qe||jt,Se&&(qe in Se&&(Se=Se[qe]),"function"==typeof Se&&ot&&(Se=Se()))}),Se=(null==Se||Se==Te?he:Se)+""}(Te,Se,me)})}}(),j.ninja=function(){return oe.was?_.win.Raphael=oe.is:delete Raphael,j},j.st=Nr,function(P,W,Q){null==P.readyState&&P.addEventListener&&(P.addEventListener(W,Q=function(){P.removeEventListener(W,Q,!1),P.readyState="complete"},!1),P.readyState="loading"),function he(){/in/.test(P.readyState)?setTimeout(he,9):j.eve("raphael.DOMload")}()}(document,"DOMContentLoaded"),yn.on("raphael.DOMload",function(){At=!0}),function(){if(j.svg){var P="hasOwnProperty",W=String,Q=parseFloat,he=parseInt,me=Math,Te=me.max,Se=me.abs,Oe=me.pow,qe=/[, ]+/,yt=j.eve,lt="http://www.w3.org/1999/xlink",Dt={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},Yt={};j.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var Tt=function(ze,Et){if(Et)for(var Wt in"string"==typeof ze&&(ze=Tt(ze)),Et)Et[P](Wt)&&("xlink:"==Wt.substring(0,6)?ze.setAttributeNS(lt,Wt.substring(6),W(Et[Wt])):ze.setAttribute(Wt,W(Et[Wt])));else(ze=j._g.doc.createElementNS("http://www.w3.org/2000/svg",ze)).style&&(ze.style.webkitTapHighlightColor="rgba(0,0,0,0)");return ze},zt=function(ze,Et){var Wt="linear",ln=ze.id+Et,$n=.5,Fe=.5,Ce=ze.node,_t=ze.paper,xt=Ce.style,on=j._g.doc.getElementById(ln);if(!on){if(Et=(Et=W(Et).replace(j._radial_gradient,function(dr,er,xr){if(Wt="radial",er&&xr){$n=Q(er);var ur=2*((Fe=Q(xr))>.5)-1;Oe($n-.5,2)+Oe(Fe-.5,2)>.25&&(Fe=me.sqrt(.25-Oe($n-.5,2))*ur+.5)&&.5!=Fe&&(Fe=Fe.toFixed(5)-1e-5*ur)}return""})).split(/\s*\-\s*/),"linear"==Wt){var kn=Et.shift();if(kn=-Q(kn),isNaN(kn))return null;var pn=[0,0,me.cos(j.rad(kn)),me.sin(j.rad(kn))],Sn=1/(Te(Se(pn[2]),Se(pn[3]))||1);pn[2]*=Sn,pn[3]*=Sn,pn[2]<0&&(pn[0]=-pn[2],pn[2]=0),pn[3]<0&&(pn[1]=-pn[3],pn[3]=0)}var bn=j._parseDots(Et);if(!bn)return null;if(ln=ln.replace(/[\(\)\s,\xb0#]/g,"_"),ze.gradient&&ln!=ze.gradient.id&&(_t.defs.removeChild(ze.gradient),delete ze.gradient),!ze.gradient){on=Tt(Wt+"Gradient",{id:ln}),ze.gradient=on,Tt(on,"radial"==Wt?{fx:$n,fy:Fe}:{x1:pn[0],y1:pn[1],x2:pn[2],y2:pn[3],gradientTransform:ze.matrix.invert()}),_t.defs.appendChild(on);for(var Ln=0,Wn=bn.length;Ln<Wn;Ln++)on.appendChild(Tt("stop",{offset:bn[Ln].offset?bn[Ln].offset:Ln?"100%":"0%","stop-color":bn[Ln].color||"#fff"}))}}return Tt(Ce,{fill:"url(#"+ln+")",opacity:1,"fill-opacity":1}),xt.fill="",xt.opacity=1,xt.fillOpacity=1,1},Pt=function(ze){var Et=ze.getBBox(1);Tt(ze.pattern,{patternTransform:ze.matrix.invert()+" translate("+Et.x+","+Et.y+")"})},dn=function(ze,Et,Wt){if("path"==ze.type){for(var pn,Sn,bn,Ln,Wn,ln=W(Et).toLowerCase().split("-"),$n=ze.paper,Fe=Wt?"end":"start",Ce=ze.node,_t=ze.attrs,xt=_t["stroke-width"],on=ln.length,kn="classic",dr=3,er=3,xr=5;on--;)switch(ln[on]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":kn=ln[on];break;case"wide":er=5;break;case"narrow":er=2;break;case"long":dr=5;break;case"short":dr=2}if("open"==kn?(dr+=2,er+=2,xr+=2,bn=1,Ln=Wt?4:1,Wn={fill:"none",stroke:_t.stroke}):(Ln=bn=dr/2,Wn={fill:_t.stroke,stroke:"none"}),ze._.arrows?Wt?(ze._.arrows.endPath&&Yt[ze._.arrows.endPath]--,ze._.arrows.endMarker&&Yt[ze._.arrows.endMarker]--):(ze._.arrows.startPath&&Yt[ze._.arrows.startPath]--,ze._.arrows.startMarker&&Yt[ze._.arrows.startMarker]--):ze._.arrows={},"none"!=kn){var ur="raphael-marker-"+kn,Er="raphael-marker-"+Fe+kn+dr+er;j._g.doc.getElementById(ur)?Yt[ur]++:($n.defs.appendChild(Tt(Tt("path"),{"stroke-linecap":"round",d:Dt[kn],id:ur})),Yt[ur]=1);var Cr,pr=j._g.doc.getElementById(Er);pr?(Yt[Er]++,Cr=pr.getElementsByTagName("use")[0]):(pr=Tt(Tt("marker"),{id:Er,markerHeight:er,markerWidth:dr,orient:"auto",refX:Ln,refY:er/2}),Cr=Tt(Tt("use"),{"xlink:href":"#"+ur,transform:(Wt?"rotate(180 "+dr/2+" "+er/2+") ":"")+"scale("+dr/xr+","+er/xr+")","stroke-width":(1/((dr/xr+er/xr)/2)).toFixed(4)}),pr.appendChild(Cr),$n.defs.appendChild(pr),Yt[Er]=1),Tt(Cr,Wn);var fr=bn*("diamond"!=kn&&"oval"!=kn);Wt?(pn=ze._.arrows.startdx*xt||0,Sn=j.getTotalLength(_t.path)-fr*xt):(pn=fr*xt,Sn=j.getTotalLength(_t.path)-(ze._.arrows.enddx*xt||0)),(Wn={})["marker-"+Fe]="url(#"+Er+")",(Sn||pn)&&(Wn.d=j.getSubpath(_t.path,pn,Sn)),Tt(Ce,Wn),ze._.arrows[Fe+"Path"]=ur,ze._.arrows[Fe+"Marker"]=Er,ze._.arrows[Fe+"dx"]=fr,ze._.arrows[Fe+"Type"]=kn,ze._.arrows[Fe+"String"]=Et}else Wt?(pn=ze._.arrows.startdx*xt||0,Sn=j.getTotalLength(_t.path)-pn):(pn=0,Sn=j.getTotalLength(_t.path)-(ze._.arrows.enddx*xt||0)),ze._.arrows[Fe+"Path"]&&Tt(Ce,{d:j.getSubpath(_t.path,pn,Sn)}),delete ze._.arrows[Fe+"Path"],delete ze._.arrows[Fe+"Marker"],delete ze._.arrows[Fe+"dx"],delete ze._.arrows[Fe+"Type"],delete ze._.arrows[Fe+"String"];for(Wn in Yt)if(Yt[P](Wn)&&!Yt[Wn]){var qr=j._g.doc.getElementById(Wn);qr&&qr.parentNode.removeChild(qr)}}},rn={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},un=function(ze,Et,Wt){if(Et=rn[W(Et).toLowerCase()]){for(var ln=ze.attrs["stroke-width"]||"1",$n={round:ln,square:ln,butt:0}[ze.attrs["stroke-linecap"]||Wt["stroke-linecap"]]||0,Fe=[],Ce=Et.length;Ce--;)Fe[Ce]=Et[Ce]*ln+(Ce%2?1:-1)*$n;Tt(ze.node,{"stroke-dasharray":Fe.join(",")})}},jn=function(ze,Et){var Wt=ze.node,ln=ze.attrs,$n=Wt.style.visibility;for(var Fe in Wt.style.visibility="hidden",Et)if(Et[P](Fe)){if(!j._availableAttrs[P](Fe))continue;var Ce=Et[Fe];switch(ln[Fe]=Ce,Fe){case"blur":ze.blur(Ce);break;case"href":case"title":var _t=Tt("title"),xt=j._g.doc.createTextNode(Ce);_t.appendChild(xt),Wt.appendChild(_t);break;case"target":var on=Wt.parentNode;"a"!=on.tagName.toLowerCase()&&(_t=Tt("a"),on.insertBefore(_t,Wt),_t.appendChild(Wt),on=_t),"target"==Fe?on.setAttributeNS(lt,"show","blank"==Ce?"new":Ce):on.setAttributeNS(lt,Fe,Ce);break;case"cursor":Wt.style.cursor=Ce;break;case"transform":ze.transform(Ce);break;case"arrow-start":dn(ze,Ce);break;case"arrow-end":dn(ze,Ce,1);break;case"clip-rect":var kn=W(Ce).split(qe);if(4==kn.length){ze.clip&&ze.clip.parentNode.parentNode.removeChild(ze.clip.parentNode);var pn=Tt("clipPath"),Sn=Tt("rect");pn.id=j.createUUID(),Tt(Sn,{x:kn[0],y:kn[1],width:kn[2],height:kn[3]}),pn.appendChild(Sn),ze.paper.defs.appendChild(pn),Tt(Wt,{"clip-path":"url(#"+pn.id+")"}),ze.clip=Sn}if(!Ce){var bn=Wt.getAttribute("clip-path");if(bn){var Ln=j._g.doc.getElementById(bn.replace(/(^url\(#|\)$)/g,""));Ln&&Ln.parentNode.removeChild(Ln),Tt(Wt,{"clip-path":""}),delete ze.clip}}break;case"path":"path"==ze.type&&(Tt(Wt,{d:Ce?ln.path=j._pathToAbsolute(Ce):"M0,0"}),ze._.dirty=1,ze._.arrows&&("startString"in ze._.arrows&&dn(ze,ze._.arrows.startString),"endString"in ze._.arrows&&dn(ze,ze._.arrows.endString,1)));break;case"width":if(Wt.setAttribute(Fe,Ce),ze._.dirty=1,!ln.fx)break;Fe="x",Ce=ln.x;case"x":ln.fx&&(Ce=-ln.x-(ln.width||0));case"rx":if("rx"==Fe&&"rect"==ze.type)break;case"cx":Wt.setAttribute(Fe,Ce),ze.pattern&&Pt(ze),ze._.dirty=1;break;case"height":if(Wt.setAttribute(Fe,Ce),ze._.dirty=1,!ln.fy)break;Fe="y",Ce=ln.y;case"y":ln.fy&&(Ce=-ln.y-(ln.height||0));case"ry":if("ry"==Fe&&"rect"==ze.type)break;case"cy":Wt.setAttribute(Fe,Ce),ze.pattern&&Pt(ze),ze._.dirty=1;break;case"r":"rect"==ze.type?Tt(Wt,{rx:Ce,ry:Ce}):Wt.setAttribute(Fe,Ce),ze._.dirty=1;break;case"src":"image"==ze.type&&Wt.setAttributeNS(lt,"href",Ce);break;case"stroke-width":(1!=ze._.sx||1!=ze._.sy)&&(Ce/=Te(Se(ze._.sx),Se(ze._.sy))||1),ze.paper._vbSize&&(Ce*=ze.paper._vbSize),Wt.setAttribute(Fe,Ce),ln["stroke-dasharray"]&&un(ze,ln["stroke-dasharray"],Et),ze._.arrows&&("startString"in ze._.arrows&&dn(ze,ze._.arrows.startString),"endString"in ze._.arrows&&dn(ze,ze._.arrows.endString,1));break;case"stroke-dasharray":un(ze,Ce,Et);break;case"fill":var Wn=W(Ce).match(j._ISURL);if(Wn){pn=Tt("pattern");var dr=Tt("image");pn.id=j.createUUID(),Tt(pn,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),Tt(dr,{x:0,y:0,"xlink:href":Wn[1]}),pn.appendChild(dr),function(pr){j._preload(Wn[1],function(){var Cr=this.offsetWidth,fr=this.offsetHeight;Tt(pr,{width:Cr,height:fr}),Tt(dr,{width:Cr,height:fr}),ze.paper.safari()})}(pn),ze.paper.defs.appendChild(pn),Tt(Wt,{fill:"url(#"+pn.id+")"}),ze.pattern=pn,ze.pattern&&Pt(ze);break}var er=j.getRGB(Ce);if(er.error){if(("circle"==ze.type||"ellipse"==ze.type||"r"!=W(Ce).charAt())&&zt(ze,Ce)){if("opacity"in ln||"fill-opacity"in ln){var xr=j._g.doc.getElementById(Wt.getAttribute("fill").replace(/^url\(#|\)$/g,""));if(xr){var ur=xr.getElementsByTagName("stop");Tt(ur[ur.length-1],{"stop-opacity":("opacity"in ln?ln.opacity:1)*("fill-opacity"in ln?ln["fill-opacity"]:1)})}}ln.gradient=Ce,ln.fill="none";break}}else delete Et.gradient,delete ln.gradient,!j.is(ln.opacity,"undefined")&&j.is(Et.opacity,"undefined")&&Tt(Wt,{opacity:ln.opacity}),!j.is(ln["fill-opacity"],"undefined")&&j.is(Et["fill-opacity"],"undefined")&&Tt(Wt,{"fill-opacity":ln["fill-opacity"]});er[P]("opacity")&&Tt(Wt,{"fill-opacity":er.opacity>1?er.opacity/100:er.opacity});case"stroke":er=j.getRGB(Ce),Wt.setAttribute(Fe,er.hex),"stroke"==Fe&&er[P]("opacity")&&Tt(Wt,{"stroke-opacity":er.opacity>1?er.opacity/100:er.opacity}),"stroke"==Fe&&ze._.arrows&&("startString"in ze._.arrows&&dn(ze,ze._.arrows.startString),"endString"in ze._.arrows&&dn(ze,ze._.arrows.endString,1));break;case"gradient":("circle"==ze.type||"ellipse"==ze.type||"r"!=W(Ce).charAt())&&zt(ze,Ce);break;case"opacity":ln.gradient&&!ln[P]("stroke-opacity")&&Tt(Wt,{"stroke-opacity":Ce>1?Ce/100:Ce});case"fill-opacity":if(ln.gradient){(xr=j._g.doc.getElementById(Wt.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(ur=xr.getElementsByTagName("stop"),Tt(ur[ur.length-1],{"stop-opacity":Ce}));break}default:"font-size"==Fe&&(Ce=he(Ce,10)+"px");var Er=Fe.replace(/(\-.)/g,function(pr){return pr.substring(1).toUpperCase()});Wt.style[Er]=Ce,ze._.dirty=1,Wt.setAttribute(Fe,Ce)}}br(ze,Et),Wt.style.visibility=$n},br=function(ze,Et){if("text"==ze.type&&(Et[P]("text")||Et[P]("font")||Et[P]("font-size")||Et[P]("x")||Et[P]("y"))){var Wt=ze.attrs,ln=ze.node,$n=ln.firstChild?he(j._g.doc.defaultView.getComputedStyle(ln.firstChild,"").getPropertyValue("font-size"),10):10;if(Et[P]("text")){for(Wt.text=Et.text;ln.firstChild;)ln.removeChild(ln.firstChild);for(var _t,Fe=W(Et.text).split("\n"),Ce=[],xt=0,on=Fe.length;xt<on;xt++)_t=Tt("tspan"),xt&&Tt(_t,{dy:1.2*$n,x:Wt.x}),_t.appendChild(j._g.doc.createTextNode(Fe[xt])),ln.appendChild(_t),Ce[xt]=_t}else for(xt=0,on=(Ce=ln.getElementsByTagName("tspan")).length;xt<on;xt++)xt?Tt(Ce[xt],{dy:1.2*$n,x:Wt.x}):Tt(Ce[0],{dy:0});Tt(ln,{x:Wt.x,y:Wt.y}),ze._.dirty=1;var kn=ze._getBBox(),pn=Wt.y-(kn.y+kn.height/2);pn&&j.is(pn,"finite")&&Tt(Ce[0],{dy:pn})}},tr=function(ze,Et){this[0]=this.node=ze,ze.raphael=!0,this.id=j._oid++,ze.raphaelid=this.id,this.matrix=j.matrix(),this.realPath=null,this.paper=Et,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!Et.bottom&&(Et.bottom=this),this.prev=Et.top,Et.top&&(Et.top.next=this),Et.top=this,this.next=null},nr=j.el;tr.prototype=nr,nr.constructor=tr,j._engine.path=function(ze,Et){var Wt=Tt("path");Et.canvas&&Et.canvas.appendChild(Wt);var ln=new tr(Wt,Et);return ln.type="path",jn(ln,{fill:"none",stroke:"#000",path:ze}),ln},nr.rotate=function(ze,Et,Wt){if(this.removed)return this;if((ze=W(ze).split(qe)).length-1&&(Et=Q(ze[1]),Wt=Q(ze[2])),ze=Q(ze[0]),null==Wt&&(Et=Wt),null==Et||null==Wt){var ln=this.getBBox(1);Et=ln.x+ln.width/2,Wt=ln.y+ln.height/2}return this.transform(this._.transform.concat([["r",ze,Et,Wt]])),this},nr.scale=function(ze,Et,Wt,ln){if(this.removed)return this;if((ze=W(ze).split(qe)).length-1&&(Et=Q(ze[1]),Wt=Q(ze[2]),ln=Q(ze[3])),ze=Q(ze[0]),null==Et&&(Et=ze),null==ln&&(Wt=ln),null==Wt||null==ln)var $n=this.getBBox(1);return this.transform(this._.transform.concat([["s",ze,Et,Wt=Wt??$n.x+$n.width/2,ln=ln??$n.y+$n.height/2]])),this},nr.translate=function(ze,Et){return this.removed||((ze=W(ze).split(qe)).length-1&&(Et=Q(ze[1])),ze=Q(ze[0])||0,this.transform(this._.transform.concat([["t",ze,Et=+Et||0]]))),this},nr.transform=function(ze){var Et=this._;if(null==ze)return Et.transform;if(j._extractTransform(this,ze),this.clip&&Tt(this.clip,{transform:this.matrix.invert()}),this.pattern&&Pt(this),this.node&&Tt(this.node,{transform:this.matrix}),1!=Et.sx||1!=Et.sy){var Wt=this.attrs[P]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":Wt})}return this},nr.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},nr.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},nr.remove=function(){if(!this.removed&&this.node.parentNode){var ze=this.paper;for(var Et in ze.__set__&&ze.__set__.exclude(this),yt.unbind("raphael.*.*."+this.id),this.gradient&&ze.defs.removeChild(this.gradient),j._tear(this,ze),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node),this)this[Et]="function"==typeof this[Et]?j._removedFactory(Et):null;this.removed=!0}},nr._getBBox=function(){if("none"==this.node.style.display){this.show();var ze=!0}var Et={};try{Et=this.node.getBBox()}catch{}finally{Et=Et||{}}return ze&&this.hide(),Et},nr.attr=function(ze,Et){if(this.removed)return this;if(null==ze){var Wt={};for(var ln in this.attrs)this.attrs[P](ln)&&(Wt[ln]=this.attrs[ln]);return Wt.gradient&&"none"==Wt.fill&&(Wt.fill=Wt.gradient)&&delete Wt.gradient,Wt.transform=this._.transform,Wt}if(null==Et&&j.is(ze,"string")){if("fill"==ze&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==ze)return this._.transform;for(var $n=ze.split(qe),Fe={},Ce=0,_t=$n.length;Ce<_t;Ce++)Fe[ze=$n[Ce]]=ze in this.attrs?this.attrs[ze]:j.is(this.paper.customAttributes[ze],"function")?this.paper.customAttributes[ze].def:j._availableAttrs[ze];return _t-1?Fe:Fe[$n[0]]}if(null==Et&&j.is(ze,"array")){for(Fe={},Ce=0,_t=ze.length;Ce<_t;Ce++)Fe[ze[Ce]]=this.attr(ze[Ce]);return Fe}if(null!=Et){var xt={};xt[ze]=Et}else null!=ze&&j.is(ze,"object")&&(xt=ze);for(var on in xt)yt("raphael.attr."+on+"."+this.id,this,xt[on]);for(on in this.paper.customAttributes)if(this.paper.customAttributes[P](on)&&xt[P](on)&&j.is(this.paper.customAttributes[on],"function")){var kn=this.paper.customAttributes[on].apply(this,[].concat(xt[on]));for(var pn in this.attrs[on]=xt[on],kn)kn[P](pn)&&(xt[pn]=kn[pn])}return jn(this,xt),this},nr.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var ze=this.paper;return ze.top!=this&&j._tofront(this,ze),this},nr.toBack=function(){if(this.removed)return this;var ze=this.node.parentNode;return"a"==ze.tagName.toLowerCase()?ze.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):ze.firstChild!=this.node&&ze.insertBefore(this.node,this.node.parentNode.firstChild),j._toback(this,this.paper),this},nr.insertAfter=function(ze){if(this.removed)return this;var Et=ze.node||ze[ze.length-1].node;return Et.nextSibling?Et.parentNode.insertBefore(this.node,Et.nextSibling):Et.parentNode.appendChild(this.node),j._insertafter(this,ze,this.paper),this},nr.insertBefore=function(ze){if(this.removed)return this;var Et=ze.node||ze[0].node;return Et.parentNode.insertBefore(this.node,Et),j._insertbefore(this,ze,this.paper),this},nr.blur=function(ze){var Et=this;if(0!=+ze){var Wt=Tt("filter"),ln=Tt("feGaussianBlur");Et.attrs.blur=ze,Wt.id=j.createUUID(),Tt(ln,{stdDeviation:+ze||1.5}),Wt.appendChild(ln),Et.paper.defs.appendChild(Wt),Et._blur=Wt,Tt(Et.node,{filter:"url(#"+Wt.id+")"})}else Et._blur&&(Et._blur.parentNode.removeChild(Et._blur),delete Et._blur,delete Et.attrs.blur),Et.node.removeAttribute("filter");return Et},j._engine.circle=function(ze,Et,Wt,ln){var $n=Tt("circle");ze.canvas&&ze.canvas.appendChild($n);var Fe=new tr($n,ze);return Fe.attrs={cx:Et,cy:Wt,r:ln,fill:"none",stroke:"#000"},Fe.type="circle",Tt($n,Fe.attrs),Fe},j._engine.rect=function(ze,Et,Wt,ln,$n,Fe){var Ce=Tt("rect");ze.canvas&&ze.canvas.appendChild(Ce);var _t=new tr(Ce,ze);return _t.attrs={x:Et,y:Wt,width:ln,height:$n,r:Fe||0,rx:Fe||0,ry:Fe||0,fill:"none",stroke:"#000"},_t.type="rect",Tt(Ce,_t.attrs),_t},j._engine.ellipse=function(ze,Et,Wt,ln,$n){var Fe=Tt("ellipse");ze.canvas&&ze.canvas.appendChild(Fe);var Ce=new tr(Fe,ze);return Ce.attrs={cx:Et,cy:Wt,rx:ln,ry:$n,fill:"none",stroke:"#000"},Ce.type="ellipse",Tt(Fe,Ce.attrs),Ce},j._engine.image=function(ze,Et,Wt,ln,$n,Fe){var Ce=Tt("image");Tt(Ce,{x:Wt,y:ln,width:$n,height:Fe,preserveAspectRatio:"none"}),Ce.setAttributeNS(lt,"href",Et),ze.canvas&&ze.canvas.appendChild(Ce);var _t=new tr(Ce,ze);return _t.attrs={x:Wt,y:ln,width:$n,height:Fe,src:Et},_t.type="image",_t},j._engine.text=function(ze,Et,Wt,ln){var $n=Tt("text");ze.canvas&&ze.canvas.appendChild($n);var Fe=new tr($n,ze);return Fe.attrs={x:Et,y:Wt,"text-anchor":"middle",text:ln,font:j._availableAttrs.font,stroke:"none",fill:"#000"},Fe.type="text",jn(Fe,Fe.attrs),Fe},j._engine.setSize=function(ze,Et){return this.width=ze||this.width,this.height=Et||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},j._engine.create=function(){var ze=j._getContainer.apply(0,arguments),Et=ze&&ze.container,Wt=ze.x,ln=ze.y,$n=ze.width,Fe=ze.height;if(!Et)throw new Error("SVG container not found.");var xt,Ce=Tt("svg"),_t="overflow:hidden;";return Wt=Wt||0,ln=ln||0,Tt(Ce,{height:Fe=Fe||342,version:1.1,width:$n=$n||512,xmlns:"http://www.w3.org/2000/svg"}),1==Et?(Ce.style.cssText=_t+"position:absolute;left:"+Wt+"px;top:"+ln+"px",j._g.doc.body.appendChild(Ce),xt=1):(Ce.style.cssText=_t+"position:relative",Et.firstChild?Et.insertBefore(Ce,Et.firstChild):Et.appendChild(Ce)),(Et=new j._Paper).width=$n,Et.height=Fe,Et.canvas=Ce,Et.clear(),Et._left=Et._top=0,xt&&(Et.renderfix=function(){}),Et.renderfix(),Et},j._engine.setViewBox=function(ze,Et,Wt,ln,$n){yt("raphael.setViewBox",this,this._viewBox,[ze,Et,Wt,ln,$n]);var xt,Fe=Te(Wt/this.width,ln/this.height),Ce=this.top,_t=$n?"meet":"xMinYMin";for(null==ze?(this._vbSize&&(Fe=1),delete this._vbSize,xt="0 0 "+this.width+" "+this.height):(this._vbSize=Fe,xt=ze+" "+Et+" "+Wt+" "+ln),Tt(this.canvas,{viewBox:xt,preserveAspectRatio:_t});Fe&&Ce;)Ce.attr({"stroke-width":"stroke-width"in Ce.attrs?Ce.attrs["stroke-width"]:1}),Ce._.dirty=1,Ce._.dirtyT=1,Ce=Ce.prev;return this._viewBox=[ze,Et,Wt,ln,!!$n],this},j.prototype.renderfix=function(){var Wt,ze=this.canvas,Et=ze.style;try{Wt=ze.getScreenCTM()||ze.createSVGMatrix()}catch{Wt=ze.createSVGMatrix()}var ln=-Wt.e%1,$n=-Wt.f%1;(ln||$n)&&(ln&&(this._left=(this._left+ln)%1,Et.left=this._left+"px"),$n&&(this._top=(this._top+$n)%1,Et.top=this._top+"px"))},j.prototype.clear=function(){j.eve("raphael.clear",this);for(var ze=this.canvas;ze.firstChild;)ze.removeChild(ze.firstChild);this.bottom=this.top=null,(this.desc=Tt("desc")).appendChild(j._g.doc.createTextNode("Created with Rapha\xebl "+j.version)),ze.appendChild(this.desc),ze.appendChild(this.defs=Tt("defs"))},j.prototype.remove=function(){for(var ze in yt("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[ze]="function"==typeof this[ze]?j._removedFactory(ze):null};var rr=j.st;for(var Jr in nr)nr[P](Jr)&&!rr[P](Jr)&&(rr[Jr]=function(ze){return function(){var Et=arguments;return this.forEach(function(Wt){Wt[ze].apply(Wt,Et)})}}(Jr))}}(),function(){if(j.vml){var P="hasOwnProperty",W=String,Q=parseFloat,he=Math,me=he.round,Te=he.max,Se=he.min,Oe=he.abs,qe="fill",yt=/[, ]+/,jt=j.eve,lt=" ",Yt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Tt=/([clmz]),?([^clmz]*)/gi,zt=/ progid:\S+Blur\([^\)]+\)/g,Pt=/-?[^,\s-]+/g,dn="position:absolute;left:0;top:0;width:1px;height:1px",rn=21600,un={path:1,rect:1,image:1},jn={circle:1,ellipse:1},br=function(Fe,Ce,_t){var xt=j.matrix();return xt.rotate(-Fe,.5,.5),{dx:xt.x(Ce,_t),dy:xt.y(Ce,_t)}},tr=function(Fe,Ce,_t,xt,on,kn){var pn=Fe._,Sn=Fe.matrix,bn=pn.fillpos,Ln=Fe.node,Wn=Ln.style,dr=1,er="",ur=rn/Ce,Er=rn/_t;if(Wn.visibility="hidden",Ce&&_t){if(Ln.coordsize=Oe(ur)+lt+Oe(Er),Wn.rotation=kn*(Ce*_t<0?-1:1),kn){var pr=br(kn,xt,on);xt=pr.dx,on=pr.dy}if(Ce<0&&(er+="x"),_t<0&&(er+=" y")&&(dr=-1),Wn.flip=er,Ln.coordorigin=xt*-ur+lt+on*-Er,bn||pn.fillsize){var Cr=Ln.getElementsByTagName(qe);Ln.removeChild(Cr=Cr&&Cr[0]),bn&&(pr=br(kn,Sn.x(bn[0],bn[1]),Sn.y(bn[0],bn[1])),Cr.position=pr.dx*dr+lt+pr.dy*dr),pn.fillsize&&(Cr.size=pn.fillsize[0]*Oe(Ce)+lt+pn.fillsize[1]*Oe(_t)),Ln.appendChild(Cr)}Wn.visibility="visible"}};j.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var Wt,nr=function(Fe,Ce,_t){for(var xt=W(Ce).toLowerCase().split("-"),on=_t?"end":"start",kn=xt.length,pn="classic",Sn="medium",bn="medium";kn--;)switch(xt[kn]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":pn=xt[kn];break;case"wide":case"narrow":bn=xt[kn];break;case"long":case"short":Sn=xt[kn]}var Ln=Fe.node.getElementsByTagName("stroke")[0];Ln[on+"arrow"]=pn,Ln[on+"arrowlength"]=Sn,Ln[on+"arrowwidth"]=bn},rr=function(Fe,Ce){Fe.attrs=Fe.attrs||{};var _t=Fe.node,xt=Fe.attrs,on=_t.style,pn=un[Fe.type]&&(Ce.x!=xt.x||Ce.y!=xt.y||Ce.width!=xt.width||Ce.height!=xt.height||Ce.cx!=xt.cx||Ce.cy!=xt.cy||Ce.rx!=xt.rx||Ce.ry!=xt.ry||Ce.r!=xt.r),Sn=jn[Fe.type]&&(xt.cx!=Ce.cx||xt.cy!=Ce.cy||xt.r!=Ce.r||xt.rx!=Ce.rx||xt.ry!=Ce.ry),bn=Fe;for(var Ln in Ce)Ce[P](Ln)&&(xt[Ln]=Ce[Ln]);if(pn&&(xt.path=j._getPath[Fe.type](Fe),Fe._.dirty=1),Ce.href&&(_t.href=Ce.href),Ce.title&&(_t.title=Ce.title),Ce.target&&(_t.target=Ce.target),Ce.cursor&&(on.cursor=Ce.cursor),"blur"in Ce&&Fe.blur(Ce.blur),(Ce.path&&"path"==Fe.type||pn)&&(_t.path=function(Fe){var Ce=/[ahqstv]/gi,_t=j._pathToAbsolute;if(W(Fe).match(Ce)&&(_t=j._path2curve),Ce=/[clmz]/g,_t==j._pathToAbsolute&&!W(Fe).match(Ce)){var xt=W(Fe).replace(Tt,function(dr,er,xr){var ur=[],Er="m"==er.toLowerCase(),pr=Yt[er];return xr.replace(Pt,function(Cr){Er&&2==ur.length&&(pr+=ur+Yt["m"==er?"l":"L"],ur=[]),ur.push(me(Cr*rn))}),pr+ur});return xt}var kn,pn,on=_t(Fe);xt=[];for(var Sn=0,bn=on.length;Sn<bn;Sn++){kn=on[Sn],"z"==(pn=on[Sn][0].toLowerCase())&&(pn="x");for(var Ln=1,Wn=kn.length;Ln<Wn;Ln++)pn+=me(kn[Ln]*rn)+(Ln!=Wn-1?",":"");xt.push(pn)}return xt.join(lt)}(~W(xt.path).toLowerCase().indexOf("r")?j._pathToAbsolute(xt.path):xt.path),"image"==Fe.type&&(Fe._.fillpos=[xt.x,xt.y],Fe._.fillsize=[xt.width,xt.height],tr(Fe,1,1,0,0,0))),"transform"in Ce&&Fe.transform(Ce.transform),Sn){var Wn=+xt.cx,dr=+xt.cy,er=+xt.rx||+xt.r||0,xr=+xt.ry||+xt.r||0;_t.path=j.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",me((Wn-er)*rn),me((dr-xr)*rn),me((Wn+er)*rn),me((dr+xr)*rn),me(Wn*rn)),Fe._.dirty=1}if("clip-rect"in Ce){var ur=W(Ce["clip-rect"]).split(yt);if(4==ur.length){ur[2]=+ur[2]+ +ur[0],ur[3]=+ur[3]+ +ur[1];var Er=_t.clipRect||j._g.doc.createElement("div"),pr=Er.style;pr.clip=j.format("rect({1}px {2}px {3}px {0}px)",ur),_t.clipRect||(pr.position="absolute",pr.top=0,pr.left=0,pr.width=Fe.paper.width+"px",pr.height=Fe.paper.height+"px",_t.parentNode.insertBefore(Er,_t),Er.appendChild(_t),_t.clipRect=Er)}Ce["clip-rect"]||_t.clipRect&&(_t.clipRect.style.clip="auto")}if(Fe.textpath){var Cr=Fe.textpath.style;Ce.font&&(Cr.font=Ce.font),Ce["font-family"]&&(Cr.fontFamily='"'+Ce["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),Ce["font-size"]&&(Cr.fontSize=Ce["font-size"]),Ce["font-weight"]&&(Cr.fontWeight=Ce["font-weight"]),Ce["font-style"]&&(Cr.fontStyle=Ce["font-style"])}if("arrow-start"in Ce&&nr(bn,Ce["arrow-start"]),"arrow-end"in Ce&&nr(bn,Ce["arrow-end"],1),null!=Ce.opacity||null!=Ce["stroke-width"]||null!=Ce.fill||null!=Ce.src||null!=Ce.stroke||null!=Ce["stroke-width"]||null!=Ce["stroke-opacity"]||null!=Ce["fill-opacity"]||null!=Ce["stroke-dasharray"]||null!=Ce["stroke-miterlimit"]||null!=Ce["stroke-linejoin"]||null!=Ce["stroke-linecap"]){var fr=_t.getElementsByTagName(qe);if(!(fr=fr&&fr[0])&&(fr=Wt(qe)),"image"==Fe.type&&Ce.src&&(fr.src=Ce.src),Ce.fill&&(fr.on=!0),(null==fr.on||"none"==Ce.fill||null===Ce.fill)&&(fr.on=!1),fr.on&&Ce.fill){var fi=W(Ce.fill).match(j._ISURL);if(fi){fr.parentNode==_t&&_t.removeChild(fr),fr.rotate=!0,fr.src=fi[1],fr.type="tile";var ti=Fe.getBBox(1);fr.position=ti.x+lt+ti.y,Fe._.fillpos=[ti.x,ti.y],j._preload(fi[1],function(){Fe._.fillsize=[this.offsetWidth,this.offsetHeight]})}else fr.color=j.getRGB(Ce.fill).hex,fr.src="",fr.type="solid",j.getRGB(Ce.fill).error&&(bn.type in{circle:1,ellipse:1}||"r"!=W(Ce.fill).charAt())&&Jr(bn,Ce.fill,fr)&&(xt.fill="none",xt.gradient=Ce.fill,fr.rotate=!1)}if("fill-opacity"in Ce||"opacity"in Ce){var ni=((+xt["fill-opacity"]+1||2)-1)*((+xt.opacity+1||2)-1)*((+j.getRGB(Ce.fill).o+1||2)-1);ni=Se(Te(ni,0),1),fr.opacity=ni,fr.src&&(fr.color="none")}_t.appendChild(fr);var Hr=_t.getElementsByTagName("stroke")&&_t.getElementsByTagName("stroke")[0],Yi=!1;!Hr&&(Yi=Hr=Wt("stroke")),(Ce.stroke&&"none"!=Ce.stroke||Ce["stroke-width"]||null!=Ce["stroke-opacity"]||Ce["stroke-dasharray"]||Ce["stroke-miterlimit"]||Ce["stroke-linejoin"]||Ce["stroke-linecap"])&&(Hr.on=!0),("none"==Ce.stroke||null===Ce.stroke||null==Hr.on||0==Ce.stroke||0==Ce["stroke-width"])&&(Hr.on=!1);var $i=j.getRGB(Ce.stroke);Hr.on&&Ce.stroke&&(Hr.color=$i.hex),ni=((+xt["stroke-opacity"]+1||2)-1)*((+xt.opacity+1||2)-1)*((+$i.o+1||2)-1);var Ri=.75*(Q(Ce["stroke-width"])||1);if(ni=Se(Te(ni,0),1),null==Ce["stroke-width"]&&(Ri=xt["stroke-width"]),Ce["stroke-width"]&&(Hr.weight=Ri),Ri&&Ri<1&&(ni*=Ri)&&(Hr.weight=1),Hr.opacity=ni,Ce["stroke-linejoin"]&&(Hr.joinstyle=Ce["stroke-linejoin"]||"miter"),Hr.miterlimit=Ce["stroke-miterlimit"]||8,Ce["stroke-linecap"]&&(Hr.endcap="butt"==Ce["stroke-linecap"]?"flat":"square"==Ce["stroke-linecap"]?"square":"round"),Ce["stroke-dasharray"]){var ri={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};Hr.dashstyle=ri[P](Ce["stroke-dasharray"])?ri[Ce["stroke-dasharray"]]:""}Yi&&_t.appendChild(Hr)}if("text"==bn.type){bn.paper.canvas.style.display="";var Ki=bn.paper.span,Oi=xt.font&&xt.font.match(/\d+(?:\.\d*)?(?=px)/);on=Ki.style,xt.font&&(on.font=xt.font),xt["font-family"]&&(on.fontFamily=xt["font-family"]),xt["font-weight"]&&(on.fontWeight=xt["font-weight"]),xt["font-style"]&&(on.fontStyle=xt["font-style"]),Oi=Q(xt["font-size"]||Oi&&Oi[0])||10,on.fontSize=100*Oi+"px",bn.textpath.string&&(Ki.innerHTML=W(bn.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var bi=Ki.getBoundingClientRect();bn.W=xt.w=(bi.right-bi.left)/100,bn.H=xt.h=(bi.bottom-bi.top)/100,bn.X=xt.x,bn.Y=xt.y+bn.H/2,("x"in Ce||"y"in Ce)&&(bn.path.v=j.format("m{0},{1}l{2},{1}",me(xt.x*rn),me(xt.y*rn),me(xt.x*rn)+1));for(var Si=["x","y","text","font","font-family","font-weight","font-style","font-size"],ai=0,Mi=Si.length;ai<Mi;ai++)if(Si[ai]in Ce){bn._.dirty=1;break}switch(xt["text-anchor"]){case"start":bn.textpath.style["v-text-align"]="left",bn.bbx=bn.W/2;break;case"end":bn.textpath.style["v-text-align"]="right",bn.bbx=-bn.W/2;break;default:bn.textpath.style["v-text-align"]="center",bn.bbx=0}bn.textpath.style["v-text-kern"]=!0}},Jr=function(Fe,Ce,_t){Fe.attrs=Fe.attrs||{};var on=Math.pow,Sn="linear",bn=".5 .5";if(Fe.attrs.gradient=Ce,Ce=(Ce=W(Ce).replace(j._radial_gradient,function(ur,Er,pr){return Sn="radial",Er&&pr&&(Er=Q(Er),pr=Q(pr),on(Er-.5,2)+on(pr-.5,2)>.25&&(pr=he.sqrt(.25-on(Er-.5,2))*(2*(pr>.5)-1)+.5),bn=Er+lt+pr),""})).split(/\s*\-\s*/),"linear"==Sn){var Ln=Ce.shift();if(Ln=-Q(Ln),isNaN(Ln))return null}var Wn=j._parseDots(Ce);if(!Wn)return null;if(Fe=Fe.shape||Fe.node,Wn.length){Fe.removeChild(_t),_t.on=!0,_t.method="none",_t.color=Wn[0].color,_t.color2=Wn[Wn.length-1].color;for(var dr=[],er=0,xr=Wn.length;er<xr;er++)Wn[er].offset&&dr.push(Wn[er].offset+lt+Wn[er].color);_t.colors=dr.length?dr.join():"0% "+_t.color,"radial"==Sn?(_t.type="gradientTitle",_t.focus="100%",_t.focussize="0 0",_t.focusposition=bn,_t.angle=0):(_t.type="gradient",_t.angle=(270-Ln)%360),Fe.appendChild(_t)}return 1},ze=function(Fe,Ce){this[0]=this.node=Fe,Fe.raphael=!0,this.id=j._oid++,Fe.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=Ce,this.matrix=j.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!Ce.bottom&&(Ce.bottom=this),this.prev=Ce.top,Ce.top&&(Ce.top.next=this),Ce.top=this,this.next=null},Et=j.el;ze.prototype=Et,Et.constructor=ze,Et.transform=function(Fe){if(null==Fe)return this._.transform;var xt,Ce=this.paper._viewBoxShift,_t=Ce?"s"+[Ce.scale,Ce.scale]+"-1-1t"+[Ce.dx,Ce.dy]:"";Ce&&(xt=Fe=W(Fe).replace(/\.{3}|\u2026/g,this._.transform||"")),j._extractTransform(this,_t+Fe);var Sn,on=this.matrix.clone(),kn=this.skew,pn=this.node,bn=~W(this.attrs.fill).indexOf("-"),Ln=!W(this.attrs.fill).indexOf("url(");if(on.translate(1,1),Ln||bn||"image"==this.type)if(kn.matrix="1 0 0 1",kn.offset="0 0",Sn=on.split(),bn&&Sn.noRotation||!Sn.isSimple){pn.style.filter=on.toFilter();var Wn=this.getBBox(),dr=this.getBBox(1),er=Wn.x-dr.x,xr=Wn.y-dr.y;pn.coordorigin=er*-rn+lt+xr*-rn,tr(this,1,1,er,xr,0)}else pn.style.filter="",tr(this,Sn.scalex,Sn.scaley,Sn.dx,Sn.dy,Sn.rotate);else pn.style.filter="",kn.matrix=W(on),kn.offset=on.offset();return xt&&(this._.transform=xt),this},Et.rotate=function(Fe,Ce,_t){if(this.removed)return this;if(null!=Fe){if((Fe=W(Fe).split(yt)).length-1&&(Ce=Q(Fe[1]),_t=Q(Fe[2])),Fe=Q(Fe[0]),null==_t&&(Ce=_t),null==Ce||null==_t){var xt=this.getBBox(1);Ce=xt.x+xt.width/2,_t=xt.y+xt.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",Fe,Ce,_t]])),this}},Et.translate=function(Fe,Ce){return this.removed||((Fe=W(Fe).split(yt)).length-1&&(Ce=Q(Fe[1])),Fe=Q(Fe[0])||0,Ce=+Ce||0,this._.bbox&&(this._.bbox.x+=Fe,this._.bbox.y+=Ce),this.transform(this._.transform.concat([["t",Fe,Ce]]))),this},Et.scale=function(Fe,Ce,_t,xt){if(this.removed)return this;if((Fe=W(Fe).split(yt)).length-1&&(Ce=Q(Fe[1]),_t=Q(Fe[2]),xt=Q(Fe[3]),isNaN(_t)&&(_t=null),isNaN(xt)&&(xt=null)),Fe=Q(Fe[0]),null==Ce&&(Ce=Fe),null==xt&&(_t=xt),null==_t||null==xt)var on=this.getBBox(1);return this.transform(this._.transform.concat([["s",Fe,Ce,_t=_t??on.x+on.width/2,xt=xt??on.y+on.height/2]])),this._.dirtyT=1,this},Et.hide=function(){return!this.removed&&(this.node.style.display="none"),this},Et.show=function(){return!this.removed&&(this.node.style.display=""),this},Et._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},Et.remove=function(){if(!this.removed&&this.node.parentNode){for(var Fe in this.paper.__set__&&this.paper.__set__.exclude(this),j.eve.unbind("raphael.*.*."+this.id),j._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[Fe]="function"==typeof this[Fe]?j._removedFactory(Fe):null;this.removed=!0}},Et.attr=function(Fe,Ce){if(this.removed)return this;if(null==Fe){var _t={};for(var xt in this.attrs)this.attrs[P](xt)&&(_t[xt]=this.attrs[xt]);return _t.gradient&&"none"==_t.fill&&(_t.fill=_t.gradient)&&delete _t.gradient,_t.transform=this._.transform,_t}if(null==Ce&&j.is(Fe,"string")){if(Fe==qe&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var on=Fe.split(yt),kn={},pn=0,Sn=on.length;pn<Sn;pn++)kn[Fe=on[pn]]=Fe in this.attrs?this.attrs[Fe]:j.is(this.paper.customAttributes[Fe],"function")?this.paper.customAttributes[Fe].def:j._availableAttrs[Fe];return Sn-1?kn:kn[on[0]]}if(this.attrs&&null==Ce&&j.is(Fe,"array")){for(kn={},pn=0,Sn=Fe.length;pn<Sn;pn++)kn[Fe[pn]]=this.attr(Fe[pn]);return kn}var bn;for(var Ln in null!=Ce&&((bn={})[Fe]=Ce),null==Ce&&j.is(Fe,"object")&&(bn=Fe),bn)jt("raphael.attr."+Ln+"."+this.id,this,bn[Ln]);if(bn){for(Ln in this.paper.customAttributes)if(this.paper.customAttributes[P](Ln)&&bn[P](Ln)&&j.is(this.paper.customAttributes[Ln],"function")){var Wn=this.paper.customAttributes[Ln].apply(this,[].concat(bn[Ln]));for(var dr in this.attrs[Ln]=bn[Ln],Wn)Wn[P](dr)&&(bn[dr]=Wn[dr])}bn.text&&"text"==this.type&&(this.textpath.string=bn.text),rr(this,bn)}return this},Et.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&j._tofront(this,this.paper),this},Et.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),j._toback(this,this.paper)),this},Et.insertAfter=function(Fe){return this.removed||(Fe.constructor==j.st.constructor&&(Fe=Fe[Fe.length-1]),Fe.node.nextSibling?Fe.node.parentNode.insertBefore(this.node,Fe.node.nextSibling):Fe.node.parentNode.appendChild(this.node),j._insertafter(this,Fe,this.paper)),this},Et.insertBefore=function(Fe){return this.removed||(Fe.constructor==j.st.constructor&&(Fe=Fe[0]),Fe.node.parentNode.insertBefore(this.node,Fe.node),j._insertbefore(this,Fe,this.paper)),this},Et.blur=function(Fe){var Ce=this.node.runtimeStyle,_t=Ce.filter;return _t=_t.replace(zt,""),0!=+Fe?(this.attrs.blur=Fe,Ce.filter=_t+lt+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+Fe||1.5)+")",Ce.margin=j.format("-{0}px 0 0 -{0}px",me(+Fe||1.5))):(Ce.filter=_t,Ce.margin=0,delete this.attrs.blur),this},j._engine.path=function(Fe,Ce){var _t=Wt("shape");_t.style.cssText=dn,_t.coordsize=rn+lt+rn,_t.coordorigin=Ce.coordorigin;var xt=new ze(_t,Ce),on={fill:"none",stroke:"#000"};Fe&&(on.path=Fe),xt.type="path",xt.path=[],xt.Path="",rr(xt,on),Ce.canvas.appendChild(_t);var kn=Wt("skew");return kn.on=!0,_t.appendChild(kn),xt.skew=kn,xt.transform(""),xt},j._engine.rect=function(Fe,Ce,_t,xt,on,kn){var pn=j._rectPath(Ce,_t,xt,on,kn),Sn=Fe.path(pn),bn=Sn.attrs;return Sn.X=bn.x=Ce,Sn.Y=bn.y=_t,Sn.W=bn.width=xt,Sn.H=bn.height=on,bn.r=kn,bn.path=pn,Sn.type="rect",Sn},j._engine.ellipse=function(Fe,Ce,_t,xt,on){var kn=Fe.path();return kn.X=Ce-xt,kn.Y=_t-on,kn.W=2*xt,kn.H=2*on,kn.type="ellipse",rr(kn,{cx:Ce,cy:_t,rx:xt,ry:on}),kn},j._engine.circle=function(Fe,Ce,_t,xt){var on=Fe.path();return on.X=Ce-xt,on.Y=_t-xt,on.W=on.H=2*xt,on.type="circle",rr(on,{cx:Ce,cy:_t,r:xt}),on},j._engine.image=function(Fe,Ce,_t,xt,on,kn){var pn=j._rectPath(_t,xt,on,kn),Sn=Fe.path(pn).attr({stroke:"none"}),bn=Sn.attrs,Ln=Sn.node,Wn=Ln.getElementsByTagName(qe)[0];return bn.src=Ce,Sn.X=bn.x=_t,Sn.Y=bn.y=xt,Sn.W=bn.width=on,Sn.H=bn.height=kn,bn.path=pn,Sn.type="image",Wn.parentNode==Ln&&Ln.removeChild(Wn),Wn.rotate=!0,Wn.src=Ce,Wn.type="tile",Sn._.fillpos=[_t,xt],Sn._.fillsize=[on,kn],Ln.appendChild(Wn),tr(Sn,1,1,0,0,0),Sn},j._engine.text=function(Fe,Ce,_t,xt){var on=Wt("shape"),kn=Wt("path"),pn=Wt("textpath");_t=_t||0,xt=xt||"",kn.v=j.format("m{0},{1}l{2},{1}",me((Ce=Ce||0)*rn),me(_t*rn),me(Ce*rn)+1),kn.textpathok=!0,pn.string=W(xt),pn.on=!0,on.style.cssText=dn,on.coordsize=rn+lt+rn,on.coordorigin="0 0";var Sn=new ze(on,Fe),bn={fill:"#000",stroke:"none",font:j._availableAttrs.font,text:xt};Sn.shape=on,Sn.path=kn,Sn.textpath=pn,Sn.type="text",Sn.attrs.text=W(xt),Sn.attrs.x=Ce,Sn.attrs.y=_t,Sn.attrs.w=1,Sn.attrs.h=1,rr(Sn,bn),on.appendChild(pn),on.appendChild(kn),Fe.canvas.appendChild(on);var Ln=Wt("skew");return Ln.on=!0,on.appendChild(Ln),Sn.skew=Ln,Sn.transform(""),Sn},j._engine.setSize=function(Fe,Ce){var _t=this.canvas.style;return this.width=Fe,this.height=Ce,Fe==+Fe&&(Fe+="px"),Ce==+Ce&&(Ce+="px"),_t.width=Fe,_t.height=Ce,_t.clip="rect(0 "+Fe+" "+Ce+" 0)",this._viewBox&&j._engine.setViewBox.apply(this,this._viewBox),this},j._engine.setViewBox=function(Fe,Ce,_t,xt,on){j.eve("raphael.setViewBox",this,this._viewBox,[Fe,Ce,_t,xt,on]);var bn,Ln,kn=this.width,pn=this.height,Sn=1/Te(_t/kn,xt/pn);return on&&(_t*(bn=pn/xt)<kn&&(Fe-=(kn-_t*bn)/2/bn),xt*(Ln=kn/_t)<pn&&(Ce-=(pn-xt*Ln)/2/Ln)),this._viewBox=[Fe,Ce,_t,xt,!!on],this._viewBoxShift={dx:-Fe,dy:-Ce,scale:Sn},this.forEach(function(Wn){Wn.transform("...")}),this},j._engine.initWin=function(Fe){var Ce=Fe.document;Ce.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!Ce.namespaces.rvml&&Ce.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),Wt=function(_t){return Ce.createElement("<rvml:"+_t+' class="rvml">')}}catch{Wt=function(xt){return Ce.createElement("<"+xt+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},j._engine.initWin(j._g.win),j._engine.create=function(){var Fe=j._getContainer.apply(0,arguments),Ce=Fe.container,_t=Fe.height,on=Fe.width,kn=Fe.x,pn=Fe.y;if(!Ce)throw new Error("VML container not found.");var Sn=new j._Paper,bn=Sn.canvas=j._g.doc.createElement("div"),Ln=bn.style;return kn=kn||0,pn=pn||0,_t=_t||342,Sn.width=on=on||512,Sn.height=_t,on==+on&&(on+="px"),_t==+_t&&(_t+="px"),Sn.coordsize=1e3*rn+lt+1e3*rn,Sn.coordorigin="0 0",Sn.span=j._g.doc.createElement("span"),Sn.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",bn.appendChild(Sn.span),Ln.cssText=j.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",on,_t),1==Ce?(j._g.doc.body.appendChild(bn),Ln.left=kn+"px",Ln.top=pn+"px",Ln.position="absolute"):Ce.firstChild?Ce.insertBefore(bn,Ce.firstChild):Ce.appendChild(bn),Sn.renderfix=function(){},Sn},j.prototype.clear=function(){j.eve("raphael.clear",this),this.canvas.innerHTML="",this.span=j._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},j.prototype.remove=function(){for(var Fe in j.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[Fe]="function"==typeof this[Fe]?j._removedFactory(Fe):null;return!0};var ln=j.st;for(var $n in Et)Et[P]($n)&&!ln[P]($n)&&(ln[$n]=function(Fe){return function(){var Ce=arguments;return this.forEach(function(_t){_t[Fe].apply(_t,Ce)})}}($n))}}(),oe.was?_.win.Raphael=j:Raphael=j,j}),function(){"use strict";var Kt=function(oe,G){if(this.text=oe,this.options=_(Le(Kt.default),G),this.strokes=[],this.papers=[],this.pointer=0,this.timeouts={play:[],erasing:[],drawing:[]},!this.options.skipLoad){var ue=new DmakLoader(this.options.uri),ve=this;ue.load(oe,function(Y){ve.prepare(Y),ve.options.loaded(ve.strokes),ve.options.autoplay&&ve.render()})}};function wt(oe,G,ue){null!==oe.object.text&&oe.object.text.remove();var ve=function(){oe.object.path.remove(),oe.object={path:null,text:null},G.shift()};ue.stroke.animated.erasing?(oe.object.path.node.style.stroke=ue.stroke.attr.active,G.push(De(oe,-1,ue,ve))):ve()}function De(oe,G,ue,ve){return oe.object.path.attr({stroke:ue.stroke.attr.active}),oe.object.path.node.style.transition=oe.object.path.node.style.WebkitTransition="none",oe.object.path.node.style.strokeDasharray=oe.length+" "+oe.length,oe.object.path.node.style.strokeDashoffset=G>0?oe.length:0,oe.object.path.node.getBoundingClientRect(),oe.object.path.node.style.transition=oe.object.path.node.style.WebkitTransition="stroke-dashoffset "+oe.duration+"ms ease",oe.object.path.node.style.strokeDashoffset=G>0?"0":oe.length,setTimeout(ve,oe.duration)}function Le(oe){if(null===oe||"object"!=typeof oe)return oe;var G=oe.constructor();for(var ue in oe)G[ue]=Le(oe[ue]);return G}function _(oe,G){if(2!==arguments.length)throw new Error("Missing arguments in assign function");for(var ue in oe)G.hasOwnProperty(ue)&&(oe[ue]="object"==typeof G[ue]?_(oe[ue],G[ue]):G[ue]);return oe}Kt.VERSION="0.2.0",Kt.default={uri:"",skipLoad:!1,autoplay:!0,height:109,width:109,viewBox:{x:0,y:0,w:109,h:109},step:.03,element:"draw",stroke:{animated:{drawing:!0,erasing:!0},order:{visible:!1,attr:{"font-size":"8",fill:"#999999"}},attr:{active:"#BF0000",stroke:"#2C2C2C","stroke-width":4,"stroke-linecap":"round","stroke-linejoin":"round"}},grid:{show:!0,attr:{stroke:"#CCCCCC","stroke-width":.5,"stroke-dasharray":"--"}},loaded:function(){},erased:function(){},drew:function(){}},Kt.fn=Kt.prototype={prepare:function(oe){this.strokes=function yn(oe,G){var Y,ae,m,ue=[];for(ae=0;ae<oe.length;ae++)for(m=0;m<oe[ae].length;m++)Y=Raphael.getTotalLength(oe[ae][m].path),ue.push({char:ae,length:Y,duration:Y*G.step*1e3,path:oe[ae][m].path,groups:oe[ae][m].groups,text:oe[ae][m].text,object:{path:null,text:null}});return ue}(oe,this.options),this.papers=function j(oe,G){var ve,Y,ue=[];for(Y=0;Y<oe;Y++)(ve=new Raphael(G.element,G.width+"px",G.height+"px")).setViewBox(G.viewBox.x,G.viewBox.y,G.viewBox.w,G.viewBox.h),ve.canvas.setAttribute("class","dmak-svg"),ue.push(ve);return ue.reverse()}(oe.length,this.options),this.options.grid.show&&function At(oe,G){var ue;for(ue=0;ue<oe.length;ue++)oe[ue].path("M"+G.viewBox.w/2+",0 L"+G.viewBox.w/2+","+G.viewBox.h).attr(G.grid.attr),oe[ue].path("M0,"+G.viewBox.h/2+" L"+G.viewBox.w+","+G.viewBox.h/2).attr(G.grid.attr)}(this.papers,this.options)},erase:function(oe){if(this.timeouts.play.length||this.pointer<=0)return!1;typeof oe>"u"&&(oe=0);do{this.pointer--,wt(this.strokes[this.pointer],this.timeouts.erasing,this.options),this.options.erased(this.pointer)}while(this.pointer>oe)},render:function(oe){if(this.timeouts.play.length)return!1;if(typeof oe>"u")oe=this.strokes.length;else if(oe>this.strokes.length)return!1;var ve,G=function(Y){(function kt(oe,G,ue,ve){var Y=function(){if(null!==G.object.path){var ae=ve.stroke.attr.stroke;"random"===ve.stroke.attr.stroke&&(ae=Raphael.getColor()),G.object.path.node.style.stroke=ae,G.object.path.node.style.transition=G.object.path.node.style.WebkitTransition="stroke 400ms ease",ue.shift()}};G.object.path=oe.path(G.path),G.object.path.attr(ve.stroke.attr),ve.stroke.order.visible&&function V(oe,G,ue){G.object.text=oe.text(G.text.x,G.text.y,G.text.value),G.object.text.attr(ue.stroke.order.attr)}(oe,G,ve),ve.stroke.animated.drawing?De(G,1,ve,Y):Y()})(Y.papers[Y.strokes[Y.pointer].char],Y.strokes[Y.pointer],Y.timeouts.drawing,Y.options),Y.options.drew(Y.pointer),Y.pointer++,Y.timeouts.play.shift()},ue=0;for(ve=0;ve<this.timeouts.erasing.length;ve++)window.clearTimeout(this.timeouts.erasing[ve]),this.timeouts.erasing=[];for(ve=this.pointer;ve<oe;ve++)!this.options.stroke.animated.drawing||ue<=0?G(this):this.timeouts.play.push(setTimeout(G,ue,this)),ue+=this.strokes[ve].duration},pause:function(){for(var oe=0;oe<this.timeouts.play.length;oe++)window.clearTimeout(this.timeouts.play[oe]);this.timeouts.play=[]},eraseLastStrokes:function(oe){this.erase(this.pointer-oe)},renderNextStrokes:function(oe){this.render(this.pointer+oe)}},window.Dmak=Kt}(),function(){"use strict";var Kt=function(At){this.uri=At};function yn(At,wt,kt,V){var De=new XMLHttpRequest,Le=("00000"+kt).slice(-5);"00020"!==Le&&"03000"!==Le?(De.open("GET",At+Le+".svg",!0),De.onreadystatechange=function(){4===De.readyState&&(200===De.status?V.done(wt,function j(At,wt){var _,kt=[],V=(new DOMParser).parseFromString(At,"application/xml"),De=V.querySelectorAll("text"),Le=[];for(function oe(G){var ve,ue=G.childNodes;for(ve=0;ve<ue.length;ve++)"g"===ue[ve].tagName?(Le.push(ue[ve].getAttribute("id")),oe(ue[ve]),Le.splice(Le.indexOf(ue[ve].getAttribute("id")),1)):"path"===ue[ve].tagName&&kt.push({path:ue[ve].getAttribute("d"),groups:Le.slice(0)})}(V.getElementById("kvg:"+wt)),_=0;_<De.length;_++)kt[_].text={value:De[_].textContent,x:De[_].getAttribute("transform").split(" ")[4],y:De[_].getAttribute("transform").split(" ")[5].replace(")","")};return kt}(De.response,Le)):V.error(De.statusText))},De.send()):V.done(wt,{paths:[],texts:[]})}Kt.prototype.load=function(At,wt){var Le,kt=[],V=At.length,De=0,_={done:function(oe,G){kt[oe]=G,++De===V&&wt(kt)},error:function(oe){console.log("Error",oe)}};for(Le=0;Le<V;Le++)yn(this.uri,Le,At.charCodeAt(Le).toString(16),_)},window.DmakLoader=Kt}();var SubtitlesOctopus=function(Kt){var yn=!1;try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const oe=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));oe instanceof WebAssembly.Module&&(yn=new WebAssembly.Instance(oe)instanceof WebAssembly.Instance)}}catch{}console.log("WebAssembly support detected: "+(yn?"yes":"no"));var j=this;function At(oe,G){for(var ue=[],ve=0,Y=j.renderedItems.length;ve<Y;ve++)((ae=j.renderedItems[ve]).emptyFinish<0||ae.emptyFinish>=oe)&&ue.push(ae);if(G&&ue.length>0&&oe<ue[0].eventStart)if(ue[0].eventStart-oe>60)console.info("seeked back too far, cleaning prerender buffer"),ue=[];else{console.info("seeked backwards, need to free up some buffer");var m=0,B=.3*j.renderAhead,i=[];for(ve=0,Y=ue.length;ve<Y;ve++){var ae;if((m+=(ae=ue[ve]).size)>=B)break;i.push(ae)}ue=i}var g=ue.length<j.renderedItems;return j.renderedItems=ue,g}function wt(oe,G){if(j.renderAhead&&!(j.renderAhead<=0)&&(!j.oneshotState.renderRequested||G)){if(typeof oe>"u"){if(!j.video)return;oe=j.video.currentTime+j.timeOffset}for(var ue=0,ve=0,Y=j.renderedItems.length;ve<Y;ve++){var ae=j.renderedItems[ve];if(ae.emptyFinish<0)return void console.info("oneshot already reached end-of-events");if(oe>=ae.eventStart&&oe<ae.emptyFinish)return void console.debug("not requesting a render for "+oe+" as event already covering it exists (start="+ae.eventStart+", empty="+ae.emptyFinish+")");ue+=ae.size}ue<=j.renderAhead&&(lastRendered=oe-(G?0:.001),j.oneshotState.renderRequested?(j.workerActive&&console.info("worker busy, requesting to seek"),j.oneshotState.requestNextTimestamp=lastRendered):(j.oneshotState.renderRequested=!0,j.worker.postMessage({target:"oneshot-render",lastRendered,renderNow:G,iteration:j.oneshotState.iteration})))}}function kt(oe,G){var ue=oe.eventFinish<G;if(j.oneshotState.eventStart!=oe.eventStart||j.oneshotState.eventOver!=ue){j.oneshotState.eventStart=oe.eventStart,j.oneshotState.eventOver=ue;var ve=performance.now();if((oe.viewport.width!=j.canvas.width||oe.viewport.height!=j.canvas.height)&&(j.canvas.width=oe.viewport.width,j.canvas.height=oe.viewport.height),j.ctx.clearRect(0,0,j.canvas.width,j.canvas.height),!ue)for(var Y=0;Y<oe.items.length;Y++){var ae=oe.items[Y];j.bufferCanvas.width=ae.w,j.bufferCanvas.height=ae.h,j.bufferCanvasCtx.putImageData(ae.image,0,0),j.ctx.drawImage(j.bufferCanvas,ae.x,ae.y)}if(j.debug){var m=Math.round(performance.now()-ve);console.log("render: "+Math.round(oe.spentTime-oe.blendTime)+" ms, blend: "+Math.round(oe.blendTime)+" ms, draw: "+m+" ms")}}}function V(){if(window.requestAnimationFrame(V),j.video){for(var oe=j.video.currentTime+j.timeOffset,G=-1,ue=!1,ve=!1,Y=0,ae=j.renderedItems.length;Y<ae;Y++){var m=j.renderedItems[Y];if(!ue&&m.eventStart<=oe&&(m.emptyFinish<0||m.emptyFinish>oe))kt(m,oe),ue=!0,G=m.emptyFinish;else if(G>=0){if(!(m.eventStart-G<.01))break;G=m.emptyFinish,ve=m.animated}}ue?At(oe)&&G>=0&&wt(G,ve):Math.abs(j.oneshotState.requestNextTimestamp-oe)>.01&&(At(oe),wt(oe,!0))}}function De(){var oe=j.renderFramesData,G=performance.now();j.ctx.clearRect(0,0,j.canvas.width,j.canvas.height);for(var ue=0;ue<oe.canvases.length;ue++){var ve=oe.canvases[ue];j.bufferCanvas.width=ve.w,j.bufferCanvas.height=ve.h;var Y=new Uint8ClampedArray(ve.buffer);if(j.hasAlphaBug)for(var ae=3;ae<Y.length;ae+=4)Y[ae]=Y[ae]>=1?Y[ae]:1;var m=new ImageData(Y,ve.w,ve.h);j.bufferCanvasCtx.putImageData(m,0,0),j.ctx.drawImage(j.bufferCanvas,ve.x,ve.y)}if(j.debug){var B=Math.round(performance.now()-G),i=oe.blendTime;console.log(typeof i<"u"?"render: "+Math.round(oe.spentTime-i)+" ms, blend: "+Math.round(i)+" ms, draw: "+B+" ms; TOTAL="+Math.round(oe.spentTime+B)+" ms":Math.round(oe.spentTime)+" ms (+ "+B+" ms draw)"),j.renderStart=performance.now()}}function Le(){var oe=j.renderFramesData,G=performance.now();j.ctx.clearRect(0,0,j.canvas.width,j.canvas.height);for(var ue=0;ue<oe.bitmaps.length;ue++){var ve=oe.bitmaps[ue];j.ctx.drawImage(ve.bitmap,ve.x,ve.y)}if(j.debug){var Y=Math.round(performance.now()-G);console.log(oe.bitmaps.length+" bitmaps, libass: "+Math.round(oe.libassTime)+"ms, decode: "+Math.round(oe.decodeTime)+"ms, draw: "+Y+"ms"),j.renderStart=performance.now()}}j.canvas=Kt.canvas,j.renderMode=Kt.renderMode||(Kt.lossyRender?"fast":Kt.blendRender?"blend":"normal"),j.dropAllAnimations=Kt.dropAllAnimations||!1,j.libassMemoryLimit=Kt.libassMemoryLimit||0,j.libassGlyphLimit=Kt.libassGlyphLimit||0,j.targetFps=Kt.targetFps||30,j.prescaleTradeoff=Kt.prescaleTradeoff||null,j.softHeightLimit=Kt.softHeightLimit||1080,j.hardHeightLimit=Kt.hardHeightLimit||2160,j.resizeVariation=Kt.resizeVariation||.2,j.renderAhead=Kt.renderAhead||0,j.isOurCanvas=!1,j.video=Kt.video,j.canvasParent=null,j.fonts=Kt.fonts||[],j.availableFonts=Kt.availableFonts||[],j.onReadyEvent=Kt.onReady,j.workerUrl=yn?Kt.workerUrl||"subtitles-octopus-worker.js":Kt.legacyWorkerUrl||"subtitles-octopus-worker-legacy.js",j.subUrl=Kt.subUrl,j.subContent=Kt.subContent||null,j.onErrorEvent=Kt.onError,j.debug=Kt.debug||!1,j.lastRenderTime=0,j.pixelRatio=window.devicePixelRatio||1,j.timeOffset=Kt.timeOffset||0,j.renderedItems=[],j.renderAhead=1024*j.renderAhead*1024*.9,j.oneshotState={eventStart:null,eventOver:!1,iteration:0,renderRequested:!1,requestNextTimestamp:-1,prevWidth:null,prevHeight:null},j.hasAlphaBug=!1,function(){if("function"==typeof ImageData.prototype.constructor)try{return void new window.ImageData(new Uint8ClampedArray([0,0,0,0]),1,1)}catch{console.log("detected that ImageData is not constructable despite browser saying so")}var G=document.createElement("canvas").getContext("2d");window.ImageData=function(){var ue=0;if(arguments[0]instanceof Uint8ClampedArray)var ve=arguments[ue++];var Y=arguments[ue++],m=G.createImageData(Y,arguments[ue]);return ve&&m.data.set(ve),m}}(),j.workerError=function(oe){if(console.error("Worker error: ",oe),j.onErrorEvent&&j.onErrorEvent(oe),!j.debug)throw j.dispose(),new Error("Worker error: "+oe)},j.init=function(){window.Worker?(j.worker||(j.worker=new Worker(j.workerUrl),j.worker.onmessage=j.onWorkerMessage,j.worker.onerror=j.workerError),j.workerActive=!1,j.createCanvas(),j.setVideo(Kt.video),j.setSubUrl(Kt.subUrl),j.worker.postMessage({target:"worker-init",width:j.canvas.width,height:j.canvas.height,URL:document.URL,currentScript:j.workerUrl,preMain:!0,renderMode:j.renderMode,subUrl:j.subUrl,subContent:j.subContent,fonts:j.fonts,availableFonts:j.availableFonts,debug:j.debug,targetFps:j.targetFps,libassMemoryLimit:j.libassMemoryLimit,libassGlyphLimit:j.libassGlyphLimit,renderOnDemand:j.renderAhead>0,dropAllAnimations:j.dropAllAnimations})):j.workerError("worker not supported")},j.createCanvas=function(){j.canvas||(j.video?(j.isOurCanvas=!0,j.canvas=document.createElement("canvas"),j.canvas.className="libassjs-canvas",j.canvas.style.display="none",j.canvasParent=document.createElement("div"),j.canvasParent.className="libassjs-canvas-parent",j.canvasParent.appendChild(j.canvas),j.video.nextSibling?j.video.parentNode.insertBefore(j.canvasParent,j.video.nextSibling):j.video.parentNode.appendChild(j.canvasParent)):j.canvas||j.workerError("Don't know where to render: you should give video or canvas in options.")),j.ctx=j.canvas.getContext("2d"),j.bufferCanvas=document.createElement("canvas"),j.bufferCanvasCtx=j.bufferCanvas.getContext("2d"),j.bufferCanvas.width=1,j.bufferCanvas.height=1;var oe=new Uint8ClampedArray([0,255,0,0]),G=new ImageData(oe,1,1);j.bufferCanvasCtx.clearRect(0,0,1,1),j.ctx.clearRect(0,0,1,1);var ue=j.ctx.getImageData(0,0,1,1).data;j.bufferCanvasCtx.putImageData(G,0,0),j.ctx.drawImage(j.bufferCanvas,0,0);var ve=j.ctx.getImageData(0,0,1,1).data;j.hasAlphaBug=ue[1]!=ve[1],j.hasAlphaBug&&console.log("Detected a browser having issue with transparent pixels, applying workaround")},j.setVideo=function(oe){if(j.video=oe,j.video){var G=function(){j.setCurrentTime(oe.currentTime+j.timeOffset)};j.video.addEventListener("timeupdate",G,!1),j.video.addEventListener("playing",function(){j.setIsPaused(!1,oe.currentTime+j.timeOffset)},!1),j.video.addEventListener("pause",function(){j.setIsPaused(!0,oe.currentTime+j.timeOffset)},!1),j.video.addEventListener("seeking",function(){j.video.removeEventListener("timeupdate",G)},!1),j.video.addEventListener("seeked",function(){j.video.addEventListener("timeupdate",G,!1),j.setCurrentTime(oe.currentTime+j.timeOffset),j.renderAhead>0&&At(oe.currentTime+j.timeOffset,!0)},!1),j.video.addEventListener("ratechange",function(){j.setRate(oe.playbackRate)},!1),j.video.addEventListener("timeupdate",function(){j.setCurrentTime(oe.currentTime+j.timeOffset)},!1),j.video.addEventListener("waiting",function(){j.setIsPaused(!0,oe.currentTime+j.timeOffset)},!1),document.addEventListener("fullscreenchange",j.resizeWithTimeout,!1),document.addEventListener("mozfullscreenchange",j.resizeWithTimeout,!1),document.addEventListener("webkitfullscreenchange",j.resizeWithTimeout,!1),document.addEventListener("msfullscreenchange",j.resizeWithTimeout,!1),window.addEventListener("resize",j.resizeWithTimeout,!1),typeof ResizeObserver<"u"&&(j.ro=new ResizeObserver(j.resizeWithTimeout),j.ro.observe(j.video)),j.video.videoWidth>0?j.resize():j.video.addEventListener("loadedmetadata",function(ue){ue.target.removeEventListener(ue.type,arguments.callee),j.resize()},!1)}},j.getVideoPosition=function(){var oe=j.video.videoWidth/j.video.videoHeight,G=j.video.offsetWidth,ue=j.video.offsetHeight,Y=G,ae=ue;return G/ue>oe?Y=Math.floor(ue*oe):ae=Math.floor(G/oe),{width:Y,height:ae,x:(G-Y)/2,y:(ue-ae)/2}},j.setSubUrl=function(oe){j.subUrl=oe},j.resetRenderAheadCache=function(oe){if(j.renderAhead>0){var G=[];if(oe&&j.oneshotState.prevHeight&&j.oneshotState.prevWidth){if(j.oneshotState.prevHeight==j.canvas.height&&j.oneshotState.prevWidth==j.canvas.width)return;var ue=10,ve=.3*j.renderAhead;j.canvas.height>=j.oneshotState.prevHeight*(1-j.resizeVariation)&&j.canvas.height<=j.oneshotState.prevHeight*(1+j.resizeVariation)&&j.canvas.width>=j.oneshotState.prevWidth*(1-j.resizeVariation)&&j.canvas.width<=j.oneshotState.prevWidth*(1+j.resizeVariation)&&(console.debug("viewport changes are small, leaving more of prerendered buffer"),ue=30,ve=.5*j.renderAhead);for(var Y=j.video.currentTime+j.timeOffset+ue,ae=0,m=0;m<j.renderedItems.length;m++){var B=j.renderedItems[m];if(B.emptyFinish<0||B.emptyFinish>=Y||(ae+=B.size)>=ve)break;G.push(B)}}console.info("resetting prerender cache"),j.renderedItems=G,j.oneshotState.eventStart=null,j.oneshotState.iteration++,j.oneshotState.renderRequested=!1,j.oneshotState.prevHeight=j.canvas.height,j.oneshotState.prevWidth=j.canvas.width,window.requestAnimationFrame(V),wt(void 0,!0)}},j.renderFrameData=null,j.workerActive=!1,j.frameId=0,j.onWorkerMessage=function(oe){j.workerActive||(j.workerActive=!0,j.onReadyEvent&&j.onReadyEvent());var G=oe.data;switch(G.target){case"stdout":console.log(G.content);break;case"console-log":console.log.apply(console,JSON.parse(G.content));break;case"console-debug":console.debug.apply(console,JSON.parse(G.content));break;case"console-info":console.info.apply(console,JSON.parse(G.content));break;case"console-warn":console.warn.apply(console,JSON.parse(G.content));break;case"console-error":console.error.apply(console,JSON.parse(G.content));break;case"stderr":console.error(G.content);break;case"window":window[G.method]();break;case"canvas":switch(G.op){case"getContext":j.ctx=j.canvas.getContext(G.type,G.attributes);break;case"resize":j.resize(G.width,G.height);break;case"renderCanvas":j.lastRenderTime<G.time&&(j.lastRenderTime=G.time,j.renderFramesData=G,window.requestAnimationFrame(De));break;case"renderFastCanvas":j.lastRenderTime<G.time&&(j.lastRenderTime=G.time,j.renderFramesData=G,window.requestAnimationFrame(Le));break;case"setObjectProperty":j.canvas[G.object][G.property]=G.value;break;case"oneshot-result":if(G.iteration!=j.oneshotState.iteration)return void console.debug("received stale prerender, ignoring");j.debug&&console.info("oneshot received (start="+G.eventStart+", empty="+G.emptyFinish+"), render: "+Math.round(G.spentTime)+" ms"),j.oneshotState.renderRequested=!1,Math.abs(G.lastRenderedTime-j.oneshotState.requestNextTimestamp)<.01&&(j.oneshotState.requestNextTimestamp=-1),G.eventStart-G.lastRenderedTime>.01&&j.renderedItems.push({eventStart:G.lastRenderedTime,eventFinish:G.lastRenderedTime-.001,emptyFinish:G.eventStart,viewport:G.viewport,spentTime:0,blendTime:0,items:[],animated:!1,size:0});for(var ue=[],ve=0,Y=0,ae=G.canvases.length;Y<ae;Y++){var m=G.canvases[Y];ue.push({w:m.w,h:m.h,x:m.x,y:m.y,image:new ImageData(new Uint8ClampedArray(m.buffer),m.w,m.h)}),ve+=m.buffer.byteLength}var B=!1;if(G.emptyFinish>0&&G.emptyFinish-G.eventStart<1/j.targetFps||G.animated){var i=G.eventStart+1/j.targetFps;G.emptyFinish=i,G.eventFinish=i,B=!0}j.renderedItems.push({eventStart:G.eventStart,eventFinish:G.eventFinish,emptyFinish:G.emptyFinish,spentTime:G.spentTime,blendTime:G.blendTime,viewport:G.viewport,items:ue,animated:G.animated,size:ve}),j.renderedItems.sort(function(g,f){return g.eventStart-f.eventStart}),j.oneshotState.requestNextTimestamp>=0?wt(j.oneshotState.requestNextTimestamp,!0):G.eventStart<0?console.info('oneshot received "end of frames" event'):G.emptyFinish>=0?wt(G.emptyFinish,B):console.info("there are no more events to prerender");break;default:throw"eh?"}break;case"tick":j.frameId=G.id,j.worker.postMessage({target:"tock",id:j.frameId});break;case"custom":if(!j.onCustomMessage)throw"Custom message received but client onCustomMessage not implemented.";j.onCustomMessage(oe);break;case"setimmediate":j.worker.postMessage({target:"setimmediate"});break;case"get-events":console.log(G.target),console.log(G.events);break;case"get-styles":console.log(G.target),console.log(G.styles);break;default:throw"what? "+G.target}},j.resize=function(oe,G,ue,ve){var Y=null;if(ue=ue||0,ve=ve||0,(!oe||!G)&&j.video){var ae=function _(oe,G){return null===j.prescaleTradeoff?G>j.hardHeightLimit&&(oe=oe*j.hardHeightLimit/G,G=j.hardHeightLimit):j.prescaleTradeoff>1?G*j.prescaleTradeoff<=j.softHeightLimit?(oe*=j.prescaleTradeoff,G*=j.prescaleTradeoff):G<j.softHeightLimit?(oe=oe*j.softHeightLimit/G,G=j.softHeightLimit):G>=j.hardHeightLimit&&(oe=oe*j.hardHeightLimit/G,G=j.hardHeightLimit):G>=j.softHeightLimit&&(G*j.prescaleTradeoff<=j.softHeightLimit?(oe=oe*j.softHeightLimit/G,G=j.softHeightLimit):G*j.prescaleTradeoff<=j.hardHeightLimit?(oe*=j.prescaleTradeoff,G*=j.prescaleTradeoff):(oe=oe*j.hardHeightLimit/G,G=j.hardHeightLimit)),{width:oe,height:G}}((Y=j.getVideoPosition()).width*j.pixelRatio,Y.height*j.pixelRatio);oe=ae.width,G=ae.height;var m=j.canvasParent.getBoundingClientRect().top-j.video.getBoundingClientRect().top;ue=Y.y-m,ve=Y.x}oe&&G?(j.canvas.width!=oe||j.canvas.height!=G||j.canvas.style.top!=ue||j.canvas.style.left!=ve)&&(j.canvas.width=oe,j.canvas.height=G,null!=Y&&(j.canvasParent.style.position="relative",j.canvas.style.display="block",j.canvas.style.position="absolute",j.canvas.style.width=Y.width+"px",j.canvas.style.height=Y.height+"px",j.canvas.style.top=ue+"px",j.canvas.style.left=ve+"px",j.canvas.style.pointerEvents="none"),j.worker.postMessage({target:"canvas",width:j.canvas.width,height:j.canvas.height}),j.resetRenderAheadCache(!0)):j.video||console.error("width or height is 0. You should specify width & height for resize.")},j.resizeWithTimeout=function(){j.resize(),setTimeout(j.resize,100)},j.runBenchmark=function(){j.worker.postMessage({target:"runBenchmark"})},j.customMessage=function(oe,G){j.worker.postMessage({target:"custom",userData:oe,preMain:(G=G||{}).preMain})},j.setCurrentTime=function(oe){j.worker.postMessage({target:"video",currentTime:oe})},j.setTrackByUrl=function(oe){j.worker.postMessage({target:"set-track-by-url",url:oe}),j.resetRenderAheadCache(!1)},j.setTrack=function(oe){j.worker.postMessage({target:"set-track",content:oe}),j.resetRenderAheadCache(!1)},j.freeTrack=function(oe){j.worker.postMessage({target:"free-track"}),j.resetRenderAheadCache(!1)},j.render=j.setCurrentTime,j.setIsPaused=function(oe,G){j.worker.postMessage({target:"video",isPaused:oe,currentTime:G})},j.setRate=function(oe){j.worker.postMessage({target:"video",rate:oe})},j.dispose=function(){j.worker.postMessage({target:"destroy"}),j.worker.terminate(),j.workerActive=!1,j.video&&j.video.parentNode.removeChild(j.canvasParent)},j.createEvent=function(oe){j.worker.postMessage({target:"create-event",event:oe})},j.getEvents=function(){j.worker.postMessage({target:"get-events"})},j.setEvent=function(oe,G){j.worker.postMessage({target:"set-event",event:oe,index:G})},j.removeEvent=function(oe){j.worker.postMessage({target:"remove-event",index:oe})},j.createStyle=function(oe){j.worker.postMessage({target:"create-style",style:oe})},j.getStyles=function(){j.worker.postMessage({target:"get-styles"})},j.setStyle=function(oe,G){j.worker.postMessage({target:"set-style",style:oe,index:G})},j.removeStyle=function(oe){j.worker.postMessage({target:"remove-style",index:oe})},j.init()};function _slicedToArray(Kt,yn){return _arrayWithHoles(Kt)||_iterableToArrayLimit(Kt,yn)||_unsupportedIterableToArray(Kt,yn)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(Kt,yn){var j=null==Kt?null:typeof Symbol<"u"&&Kt[Symbol.iterator]||Kt["@@iterator"];if(null!=j){var At,wt,kt=[],V=!0,De=!1;try{for(j=j.call(Kt);!(V=(At=j.next()).done)&&(kt.push(At.value),!yn||kt.length!==yn);V=!0);}catch(Le){De=!0,wt=Le}finally{try{V||null==j.return||j.return()}finally{if(De)throw wt}}return kt}}function _arrayWithHoles(Kt){if(Array.isArray(Kt))return Kt}function _createForOfIteratorHelper(Kt,yn){var j,At=typeof Symbol<"u"&&Kt[Symbol.iterator]||Kt["@@iterator"];if(!At){if(Array.isArray(Kt)||(At=_unsupportedIterableToArray(Kt))||yn&&Kt&&"number"==typeof Kt.length)return At&&(Kt=At),j=0,{s:yn=function(){},n:function(){return j>=Kt.length?{done:!0}:{done:!1,value:Kt[j++]}},e:function(De){throw De},f:yn};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var wt,kt=!0,V=!1;return{s:function(){At=At.call(Kt)},n:function(){var De=At.next();return kt=De.done,De},e:function(De){V=!0,wt=De},f:function(){try{kt||null==At.return||At.return()}finally{if(V)throw wt}}}}function _unsupportedIterableToArray(Kt,yn){if(Kt){if("string"==typeof Kt)return _arrayLikeToArray(Kt,yn);var j=Object.prototype.toString.call(Kt).slice(8,-1);return"Map"===(j="Object"===j&&Kt.constructor?Kt.constructor.name:j)||"Set"===j?Array.from(Kt):"Arguments"===j||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?_arrayLikeToArray(Kt,yn):void 0}}function _arrayLikeToArray(Kt,yn){(null==yn||yn>Kt.length)&&(yn=Kt.length);for(var j=0,At=new Array(yn);j<yn;j++)At[j]=Kt[j];return At}"function"==typeof SubtitlesOctopusOnLoad&&SubtitlesOctopusOnLoad(),typeof exports<"u"&&typeof module<"u"&&module.exports&&(exports=module.exports=SubtitlesOctopus);var Sakura=function(Kt,yn){var At,wt,j=this;if(void 0===Kt)throw new Error("No selector present. Define an element.");function kt(oe){return oe[Math.floor(Math.random()*oe.length)]}function V(oe,G){return Math.floor(Math.random()*(G-oe+1))+oe}this.el=document.querySelector(Kt),this.settings=(At={className:"sakura",fallSpeed:1,maxSize:14,minSize:10,delay:300,colors:[{gradientColorStart:"rgba(255, 183, 197, 0.9)",gradientColorEnd:"rgba(255, 197, 208, 0.9)",gradientColorDegree:120}],lifeTime:0},wt=yn,Object.keys(At).forEach(function(oe){wt&&Object.prototype.hasOwnProperty.call(wt,oe)&&(At[oe]=wt[oe])}),At),this.petalsWeak=new Map,setInterval(function(){if(j.settings.lifeTime){var oe,G=[],ue=Date.now(),ve=_createForOfIteratorHelper(j.petalsWeak);try{for(ve.s();!(oe=ve.n()).done;){var Y=_slicedToArray(oe.value,2),ae=Y[0],m=Y[1];ae+j.settings.lifeTime<ue&&(G.push(ae),m.remove())}}catch(f){ve.e(f)}finally{ve.f()}for(var B=0,i=G;B<i.length;B++)j.petalsWeak.delete(i[B])}},1e3),this.el.style.overflowX="hidden";var De=["webkit","moz","MS","o",""];function Le(oe,G,ue){for(var ve=0;ve<De.length;ve+=1){var Y=G;De[ve]||(Y=G.toLowerCase()),oe.addEventListener(De[ve]+Y,ue,!1)}}function _(oe){return 0<=(oe=oe.getBoundingClientRect()).top&&0<=oe.left&&oe.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&oe.right<=(window.innerWidth||document.documentElement.clientWidth)}this.createPetal=function(){j.el.dataset.sakuraAnimId&&setTimeout(function(){window.requestAnimationFrame(j.createPetal)},j.settings.delay);var ve=["sway-0","sway-1","sway-2","sway-3","sway-4","sway-5","sway-6","sway-7","sway-8"],oe=kt(["blow-soft-left","blow-medium-left","blow-soft-right","blow-medium-right"]),ue=(ve=kt(ve),(.007*document.documentElement.clientHeight+Math.round(5*Math.random()))*j.settings.fallSpeed),G=(oe=["fall ".concat(ue,"s linear 0s 1"),"".concat(oe," ").concat((30<ue?ue:30)-20+V(0,20),"s linear 0s infinite"),"".concat(ve," ").concat(V(2,4),"s linear 0s infinite")].join(", "),document.createElement("div")),Y=(G.classList.add(j.settings.className),ve=(ue=V(j.settings.minSize,j.settings.maxSize))-Math.floor(V(0,j.settings.minSize)/3),kt(j.settings.colors));G.style.background="linear-gradient(".concat(Y.gradientColorDegree,"deg, ").concat(Y.gradientColorStart,", ").concat(Y.gradientColorEnd,")"),G.style.webkitAnimation=oe,G.style.animation=oe,G.style.borderRadius="".concat(V(j.settings.maxSize,j.settings.maxSize+Math.floor(10*Math.random())),"px ").concat(V(1,Math.floor(ve/4)),"px"),G.style.height="".concat(ue,"px"),G.style.left="".concat(Math.random()*document.documentElement.clientWidth-100,"px"),G.style.marginTop="".concat(-(Math.floor(20*Math.random())+15),"px"),G.style.width="".concat(ve,"px"),Le(G,"AnimationEnd",function(){_(G)||G.remove()}),Le(G,"AnimationIteration",function(){_(G)||G.remove()}),j.petalsWeak.set(Date.now(),G),j.el.appendChild(G)},this.el.setAttribute("data-sakura-anim-id",window.requestAnimationFrame(this.createPetal))};Sakura.prototype.start=function(){if(this.el.dataset.sakuraAnimId)throw new Error("Sakura is already running.");this.el.setAttribute("data-sakura-anim-id",window.requestAnimationFrame(this.createPetal))},Sakura.prototype.stop=function(){var Kt=this,yn=0<arguments.length&&void 0!==arguments[0]&&arguments[0],j=this.el.dataset.sakuraAnimId;j&&(window.cancelAnimationFrame(j),this.el.setAttribute("data-sakura-anim-id","")),yn||setTimeout(function(){for(var At=document.getElementsByClassName(Kt.settings.className);0<At.length;)At[0].parentNode.removeChild(At[0])},this.settings.delay+50)},function(Kt,yn){"object"==typeof exports&&typeof module<"u"?module.exports=yn():"function"==typeof define&&define.amd?define(yn):(Kt=typeof globalThis<"u"?globalThis:Kt||self).bootstrap=yn()}(this,function(){"use strict";const Kt="transitionend",yn=be=>{let D=be.getAttribute("data-bs-target");if(!D||"#"===D){let te=be.getAttribute("href");if(!te||!te.includes("#")&&!te.startsWith("."))return null;te.includes("#")&&!te.startsWith("#")&&(te=`#${te.split("#")[1]}`),D=te&&"#"!==te?te.trim():null}return D},j=be=>{const D=yn(be);return D&&document.querySelector(D)?D:null},At=be=>{const D=yn(be);return D?document.querySelector(D):null},wt=be=>{be.dispatchEvent(new Event(Kt))},kt=be=>!(!be||"object"!=typeof be)&&(void 0!==be.jquery&&(be=be[0]),void 0!==be.nodeType),V=be=>kt(be)?be.jquery?be[0]:be:"string"==typeof be&&be.length>0?document.querySelector(be):null,De=(be,D,te)=>{Object.keys(te).forEach(Pe=>{const et=te[Pe],ut=D[Pe],Nt=ut&&kt(ut)?"element":null==(wn=ut)?`${wn}`:{}.toString.call(wn).match(/\s([a-z]+)/i)[1].toLowerCase();var wn;if(!new RegExp(et).test(Nt))throw new TypeError(`${be.toUpperCase()}: Option "${Pe}" provided type "${Nt}" but expected type "${et}".`)})},Le=be=>!(!kt(be)||0===be.getClientRects().length)&&"visible"===getComputedStyle(be).getPropertyValue("visibility"),_=be=>!be||be.nodeType!==Node.ELEMENT_NODE||!!be.classList.contains("disabled")||(void 0!==be.disabled?be.disabled:be.hasAttribute("disabled")&&"false"!==be.getAttribute("disabled")),oe=be=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof be.getRootNode){const D=be.getRootNode();return D instanceof ShadowRoot?D:null}return be instanceof ShadowRoot?be:be.parentNode?oe(be.parentNode):null},G=()=>{},ve=()=>{const{jQuery:be}=window;return be&&!document.body.hasAttribute("data-bs-no-jquery")?be:null},Y=[],ae=()=>"rtl"===document.documentElement.dir,m=be=>{var D;D=()=>{const te=ve();if(te){const Pe=be.NAME,et=te.fn[Pe];te.fn[Pe]=be.jQueryInterface,te.fn[Pe].Constructor=be,te.fn[Pe].noConflict=()=>(te.fn[Pe]=et,be.jQueryInterface)}},"loading"===document.readyState?(Y.length||document.addEventListener("DOMContentLoaded",()=>{Y.forEach(te=>te())}),Y.push(D)):D()},B=be=>{"function"==typeof be&&be()},i=(be,D,te=!0)=>{if(!te)return void B(be);const Pe=(Nt=>{if(!Nt)return 0;let{transitionDuration:wn,transitionDelay:Rn}=window.getComputedStyle(Nt);const Vn=Number.parseFloat(wn),Zn=Number.parseFloat(Rn);return Vn||Zn?(wn=wn.split(",")[0],Rn=Rn.split(",")[0],1e3*(Number.parseFloat(wn)+Number.parseFloat(Rn))):0})(D)+5;let et=!1;const ut=({target:Nt})=>{Nt===D&&(et=!0,D.removeEventListener(Kt,ut),B(be))};D.addEventListener(Kt,ut),setTimeout(()=>{et||wt(D)},Pe)},g=(be,D,te,Pe)=>{let et=be.indexOf(D);if(-1===et)return be[!te&&Pe?be.length-1:0];const ut=be.length;return et+=te?1:-1,Pe&&(et=(et+ut)%ut),be[Math.max(0,Math.min(et,ut-1))]},f=/[^.]*(?=\..*)\.|.*/,x=/\..*/,n=/::\d+$/,c={};let u=1;const s={mouseenter:"mouseover",mouseleave:"mouseout"},t=/^(mouseenter|mouseleave)/i,o=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function r(be,D){return D&&`${D}::${u++}`||be.uidEvent||u++}function d(be){const D=r(be);return be.uidEvent=D,c[D]=c[D]||{},c[D]}function h(be,D,te=null){const Pe=Object.keys(be);for(let et=0,ut=Pe.length;et<ut;et++){const Nt=be[Pe[et]];if(Nt.originalHandler===D&&Nt.delegationSelector===te)return Nt}return null}function l(be,D,te){const Pe="string"==typeof D,et=Pe?te:D;let ut=b(be);return o.has(ut)||(ut=be),[Pe,et,ut]}function p(be,D,te,Pe,et){if("string"!=typeof D||!be)return;if(te||(te=Pe,Pe=null),t.test(D)){const sr=ar=>function(or){if(!or.relatedTarget||or.relatedTarget!==or.delegateTarget&&!or.delegateTarget.contains(or.relatedTarget))return ar.call(this,or)};Pe?Pe=sr(Pe):te=sr(te)}const[ut,Nt,wn]=l(D,te,Pe),Rn=d(be),Vn=Rn[wn]||(Rn[wn]={}),Zn=h(Vn,Nt,ut?te:null);if(Zn)return void(Zn.oneOff=Zn.oneOff&&et);const Bn=r(Nt,D.replace(f,"")),yr=ut?(sr=be,ar=te,or=Pe,function lr(Pr){const wr=sr.querySelectorAll(ar);for(let{target:gr}=Pr;gr&&gr!==this;gr=gr.parentNode)for(let kr=wr.length;kr--;)if(wr[kr]===gr)return Pr.delegateTarget=gr,lr.oneOff&&I.off(sr,Pr.type,ar,or),or.apply(gr,[Pr]);return null}):function(sr,ar){return function or(lr){return lr.delegateTarget=sr,or.oneOff&&I.off(sr,lr.type,ar),ar.apply(sr,[lr])}}(be,te);var sr,ar,or;yr.delegationSelector=ut?te:null,yr.originalHandler=Nt,yr.oneOff=et,yr.uidEvent=Bn,Vn[Bn]=yr,be.addEventListener(wn,yr,ut)}function w(be,D,te,Pe,et){const ut=h(D[te],Pe,et);ut&&(be.removeEventListener(te,ut,Boolean(et)),delete D[te][ut.uidEvent])}function b(be){return be=be.replace(x,""),s[be]||be}const I={on(be,D,te,Pe){p(be,D,te,Pe,!1)},one(be,D,te,Pe){p(be,D,te,Pe,!0)},off(be,D,te,Pe){if("string"!=typeof D||!be)return;const[et,ut,Nt]=l(D,te,Pe),wn=Nt!==D,Rn=d(be),Vn=D.startsWith(".");if(void 0!==ut)return Rn&&Rn[Nt]?void w(be,Rn,Nt,ut,et?te:null):void 0;Vn&&Object.keys(Rn).forEach(Bn=>{!function(yr,sr,ar,or){const lr=sr[ar]||{};Object.keys(lr).forEach(Pr=>{if(Pr.includes(or)){const wr=lr[Pr];w(yr,sr,ar,wr.originalHandler,wr.delegationSelector)}})}(be,Rn,Bn,D.slice(1))});const Zn=Rn[Nt]||{};Object.keys(Zn).forEach(Bn=>{const yr=Bn.replace(n,"");if(!wn||D.includes(yr)){const sr=Zn[Bn];w(be,Rn,Nt,sr.originalHandler,sr.delegationSelector)}})},trigger(be,D,te){if("string"!=typeof D||!be)return null;const Pe=ve(),et=b(D),ut=D!==et,Nt=o.has(et);let wn,Rn=!0,Vn=!0,Zn=!1,Bn=null;return ut&&Pe&&(wn=Pe.Event(D,te),Pe(be).trigger(wn),Rn=!wn.isPropagationStopped(),Vn=!wn.isImmediatePropagationStopped(),Zn=wn.isDefaultPrevented()),Nt?(Bn=document.createEvent("HTMLEvents"),Bn.initEvent(et,Rn,!0)):Bn=new CustomEvent(D,{bubbles:Rn,cancelable:!0}),void 0!==te&&Object.keys(te).forEach(yr=>{Object.defineProperty(Bn,yr,{get:()=>te[yr]})}),Zn&&Bn.preventDefault(),Vn&&be.dispatchEvent(Bn),Bn.defaultPrevented&&void 0!==wn&&wn.preventDefault(),Bn}},S=new Map,R={set(be,D,te){S.has(be)||S.set(be,new Map);const Pe=S.get(be);Pe.has(D)||0===Pe.size?Pe.set(D,te):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Pe.keys())[0]}.`)},get:(be,D)=>S.has(be)&&S.get(be).get(D)||null,remove(be,D){if(!S.has(be))return;const te=S.get(be);te.delete(D),0===te.size&&S.delete(be)}};class N{constructor(D){(D=V(D))&&(this._element=D,R.set(this._element,this.constructor.DATA_KEY,this))}dispose(){R.remove(this._element,this.constructor.DATA_KEY),I.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(D=>{this[D]=null})}_queueCallback(D,te,Pe=!0){i(D,te,Pe)}static getInstance(D){return R.get(V(D),this.DATA_KEY)}static getOrCreateInstance(D,te={}){return this.getInstance(D)||new this(D,"object"==typeof te?te:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const q=(be,D="hide")=>{const Pe=be.NAME;I.on(document,`click.dismiss${be.EVENT_KEY}`,`[data-bs-dismiss="${Pe}"]`,function(et){if(["A","AREA"].includes(this.tagName)&&et.preventDefault(),_(this))return;const ut=At(this)||this.closest(`.${Pe}`);be.getOrCreateInstance(ut)[D]()})};class Z extends N{static get NAME(){return"alert"}close(){if(I.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const D=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,D)}_destroyElement(){this._element.remove(),I.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(D){return this.each(function(){const te=Z.getOrCreateInstance(this);if("string"==typeof D){if(void 0===te[D]||D.startsWith("_")||"constructor"===D)throw new TypeError(`No method named "${D}"`);te[D](this)}})}}q(Z,"close"),m(Z);const le='[data-bs-toggle="button"]';class we extends N{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(D){return this.each(function(){const te=we.getOrCreateInstance(this);"toggle"===D&&te[D]()})}}function ke(be){return"true"===be||"false"!==be&&(be===Number(be).toString()?Number(be):""===be||"null"===be?null:be)}function A(be){return be.replace(/[A-Z]/g,D=>`-${D.toLowerCase()}`)}I.on(document,"click.bs.button.data-api",le,be=>{be.preventDefault();const D=be.target.closest(le);we.getOrCreateInstance(D).toggle()}),m(we);const L={setDataAttribute(be,D,te){be.setAttribute(`data-bs-${A(D)}`,te)},removeDataAttribute(be,D){be.removeAttribute(`data-bs-${A(D)}`)},getDataAttributes(be){if(!be)return{};const D={};return Object.keys(be.dataset).filter(te=>te.startsWith("bs")).forEach(te=>{let Pe=te.replace(/^bs/,"");Pe=Pe.charAt(0).toLowerCase()+Pe.slice(1,Pe.length),D[Pe]=ke(be.dataset[te])}),D},getDataAttribute:(be,D)=>ke(be.getAttribute(`data-bs-${A(D)}`)),offset(be){const D=be.getBoundingClientRect();return{top:D.top+window.pageYOffset,left:D.left+window.pageXOffset}},position:be=>({top:be.offsetTop,left:be.offsetLeft})},z={find:(be,D=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(D,be)),findOne:(be,D=document.documentElement)=>Element.prototype.querySelector.call(D,be),children:(be,D)=>[].concat(...be.children).filter(te=>te.matches(D)),parents(be,D){const te=[];let Pe=be.parentNode;for(;Pe&&Pe.nodeType===Node.ELEMENT_NODE&&3!==Pe.nodeType;)Pe.matches(D)&&te.push(Pe),Pe=Pe.parentNode;return te},prev(be,D){let te=be.previousElementSibling;for(;te;){if(te.matches(D))return[te];te=te.previousElementSibling}return[]},next(be,D){let te=be.nextElementSibling;for(;te;){if(te.matches(D))return[te];te=te.nextElementSibling}return[]},focusableChildren(be){const D=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(te=>`${te}:not([tabindex^="-"])`).join(", ");return this.find(D,be).filter(te=>!_(te)&&Le(te))}},y="carousel",C={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},M={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},U="next",ee="prev",J="left",re="right",Ue={ArrowLeft:re,ArrowRight:J},We="slid.bs.carousel",Qe="active",ft=".active.carousel-item";class pt extends N{constructor(D,te){super(D),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(te),this._indicatorsElement=z.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return C}static get NAME(){return y}next(){this._slide(U)}nextWhenVisible(){!document.hidden&&Le(this._element)&&this.next()}prev(){this._slide(ee)}pause(D){D||(this._isPaused=!0),z.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(wt(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(D){D||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(D){this._activeElement=z.findOne(ft,this._element);const te=this._getItemIndex(this._activeElement);if(!(D>this._items.length-1||D<0)){if(!this._isSliding)return te===D?(this.pause(),void this.cycle()):void this._slide(D>te?U:ee,this._items[D]);I.one(this._element,We,()=>this.to(D))}}_getConfig(D){return D={...C,...L.getDataAttributes(this._element),..."object"==typeof D?D:{}},De(y,D,M),D}_handleSwipe(){const D=Math.abs(this.touchDeltaX);if(D<=40)return;const te=D/this.touchDeltaX;this.touchDeltaX=0,te&&this._slide(te>0?re:J)}_addEventListeners(){this._config.keyboard&&I.on(this._element,"keydown.bs.carousel",D=>this._keydown(D)),"hover"===this._config.pause&&(I.on(this._element,"mouseenter.bs.carousel",D=>this.pause(D)),I.on(this._element,"mouseleave.bs.carousel",D=>this.cycle(D))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const D=ut=>this._pointerEvent&&("pen"===ut.pointerType||"touch"===ut.pointerType),te=ut=>{D(ut)?this.touchStartX=ut.clientX:this._pointerEvent||(this.touchStartX=ut.touches[0].clientX)},Pe=ut=>{this.touchDeltaX=ut.touches&&ut.touches.length>1?0:ut.touches[0].clientX-this.touchStartX},et=ut=>{D(ut)&&(this.touchDeltaX=ut.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(Nt=>this.cycle(Nt),500+this._config.interval))};z.find(".carousel-item img",this._element).forEach(ut=>{I.on(ut,"dragstart.bs.carousel",Nt=>Nt.preventDefault())}),this._pointerEvent?(I.on(this._element,"pointerdown.bs.carousel",ut=>te(ut)),I.on(this._element,"pointerup.bs.carousel",ut=>et(ut)),this._element.classList.add("pointer-event")):(I.on(this._element,"touchstart.bs.carousel",ut=>te(ut)),I.on(this._element,"touchmove.bs.carousel",ut=>Pe(ut)),I.on(this._element,"touchend.bs.carousel",ut=>et(ut)))}_keydown(D){if(/input|textarea/i.test(D.target.tagName))return;const te=Ue[D.key];te&&(D.preventDefault(),this._slide(te))}_getItemIndex(D){return this._items=D&&D.parentNode?z.find(".carousel-item",D.parentNode):[],this._items.indexOf(D)}_getItemByOrder(D,te){return g(this._items,te,D===U,this._config.wrap)}_triggerSlideEvent(D,te){const Pe=this._getItemIndex(D),et=this._getItemIndex(z.findOne(ft,this._element));return I.trigger(this._element,"slide.bs.carousel",{relatedTarget:D,direction:te,from:et,to:Pe})}_setActiveIndicatorElement(D){if(this._indicatorsElement){const te=z.findOne(".active",this._indicatorsElement);te.classList.remove(Qe),te.removeAttribute("aria-current");const Pe=z.find("[data-bs-target]",this._indicatorsElement);for(let et=0;et<Pe.length;et++)if(Number.parseInt(Pe[et].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(D)){Pe[et].classList.add(Qe),Pe[et].setAttribute("aria-current","true");break}}}_updateInterval(){const D=this._activeElement||z.findOne(ft,this._element);if(!D)return;const te=Number.parseInt(D.getAttribute("data-bs-interval"),10);te?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=te):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(D,te){const Pe=this._directionToOrder(D),et=z.findOne(ft,this._element),ut=this._getItemIndex(et),Nt=te||this._getItemByOrder(Pe,et),wn=this._getItemIndex(Nt),Rn=Boolean(this._interval),Vn=Pe===U,Zn=Vn?"carousel-item-start":"carousel-item-end",Bn=Vn?"carousel-item-next":"carousel-item-prev",yr=this._orderToDirection(Pe);if(Nt&&Nt.classList.contains(Qe))return void(this._isSliding=!1);if(this._isSliding||this._triggerSlideEvent(Nt,yr).defaultPrevented||!et||!Nt)return;this._isSliding=!0,Rn&&this.pause(),this._setActiveIndicatorElement(Nt),this._activeElement=Nt;const sr=()=>{I.trigger(this._element,We,{relatedTarget:Nt,direction:yr,from:ut,to:wn})};this._element.classList.contains("slide")?(Nt.classList.add(Bn),et.classList.add(Zn),Nt.classList.add(Zn),this._queueCallback(()=>{Nt.classList.remove(Zn,Bn),Nt.classList.add(Qe),et.classList.remove(Qe,Bn,Zn),this._isSliding=!1,setTimeout(sr,0)},et,!0)):(et.classList.remove(Qe),Nt.classList.add(Qe),this._isSliding=!1,sr()),Rn&&this.cycle()}_directionToOrder(D){return[re,J].includes(D)?ae()?D===J?ee:U:D===J?U:ee:D}_orderToDirection(D){return[U,ee].includes(D)?ae()?D===ee?J:re:D===ee?re:J:D}static carouselInterface(D,te){const Pe=pt.getOrCreateInstance(D,te);let{_config:et}=Pe;"object"==typeof te&&(et={...et,...te});const ut="string"==typeof te?te:et.slide;if("number"==typeof te)Pe.to(te);else if("string"==typeof ut){if(void 0===Pe[ut])throw new TypeError(`No method named "${ut}"`);Pe[ut]()}else et.interval&&et.ride&&(Pe.pause(),Pe.cycle())}static jQueryInterface(D){return this.each(function(){pt.carouselInterface(this,D)})}static dataApiClickHandler(D){const te=At(this);if(!te||!te.classList.contains("carousel"))return;const Pe={...L.getDataAttributes(te),...L.getDataAttributes(this)},et=this.getAttribute("data-bs-slide-to");et&&(Pe.interval=!1),pt.carouselInterface(te,Pe),et&&pt.getInstance(te).to(et),D.preventDefault()}}I.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",pt.dataApiClickHandler),I.on(window,"load.bs.carousel.data-api",()=>{const be=z.find('[data-bs-ride="carousel"]');for(let D=0,te=be.length;D<te;D++)pt.carouselInterface(be[D],pt.getInstance(be[D]))}),m(pt);const Xt="collapse",It={toggle:!0,parent:null},Ft={toggle:"boolean",parent:"(null|element)"},Ke="show",mt="collapse",St="collapsing",K="collapsed",se=":scope .collapse .collapse",X='[data-bs-toggle="collapse"]';class ce extends N{constructor(D,te){super(D),this._isTransitioning=!1,this._config=this._getConfig(te),this._triggerArray=[];const Pe=z.find(X);for(let et=0,ut=Pe.length;et<ut;et++){const Nt=Pe[et],wn=j(Nt),Rn=z.find(wn).filter(Vn=>Vn===this._element);null!==wn&&Rn.length&&(this._selector=wn,this._triggerArray.push(Nt))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return It}static get NAME(){return Xt}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let D,te=[];if(this._config.parent){const Nt=z.find(se,this._config.parent);te=z.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(wn=>!Nt.includes(wn))}const Pe=z.findOne(this._selector);if(te.length){const Nt=te.find(wn=>Pe!==wn);if(D=Nt?ce.getInstance(Nt):null,D&&D._isTransitioning)return}if(I.trigger(this._element,"show.bs.collapse").defaultPrevented)return;te.forEach(Nt=>{Pe!==Nt&&ce.getOrCreateInstance(Nt,{toggle:!1}).hide(),D||R.set(Nt,"bs.collapse",null)});const et=this._getDimension();this._element.classList.remove(mt),this._element.classList.add(St),this._element.style[et]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ut=`scroll${et[0].toUpperCase()+et.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(St),this._element.classList.add(mt,Ke),this._element.style[et]="",I.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[et]=`${this._element[ut]}px`}hide(){if(this._isTransitioning||!this._isShown()||I.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const D=this._getDimension();this._element.style[D]=`${this._element.getBoundingClientRect()[D]}px`,this._element.classList.add(St),this._element.classList.remove(mt,Ke);const te=this._triggerArray.length;for(let Pe=0;Pe<te;Pe++){const et=this._triggerArray[Pe],ut=At(et);ut&&!this._isShown(ut)&&this._addAriaAndCollapsedClass([et],!1)}this._isTransitioning=!0,this._element.style[D]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(St),this._element.classList.add(mt),I.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(D=this._element){return D.classList.contains(Ke)}_getConfig(D){return(D={...It,...L.getDataAttributes(this._element),...D}).toggle=Boolean(D.toggle),D.parent=V(D.parent),De(Xt,D,Ft),D}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const D=z.find(se,this._config.parent);z.find(X,this._config.parent).filter(te=>!D.includes(te)).forEach(te=>{const Pe=At(te);Pe&&this._addAriaAndCollapsedClass([te],this._isShown(Pe))})}_addAriaAndCollapsedClass(D,te){D.length&&D.forEach(Pe=>{te?Pe.classList.remove(K):Pe.classList.add(K),Pe.setAttribute("aria-expanded",te)})}static jQueryInterface(D){return this.each(function(){const te={};"string"==typeof D&&/show|hide/.test(D)&&(te.toggle=!1);const Pe=ce.getOrCreateInstance(this,te);if("string"==typeof D){if(void 0===Pe[D])throw new TypeError(`No method named "${D}"`);Pe[D]()}})}}I.on(document,"click.bs.collapse.data-api",X,function(be){("A"===be.target.tagName||be.delegateTarget&&"A"===be.delegateTarget.tagName)&&be.preventDefault();const D=j(this);z.find(D).forEach(te=>{ce.getOrCreateInstance(te,{toggle:!1}).toggle()})}),m(ce);var Je="top",ie="bottom",pe="right",Ye="left",at="auto",dt=[Je,ie,pe,Ye],Gt="start",Jt="end",an="clippingParents",Cn="viewport",hn="popper",En="reference",Xn=dt.reduce(function(be,D){return be.concat([D+"-"+Gt,D+"-"+Jt])},[]),An=[].concat(dt,[at]).reduce(function(be,D){return be.concat([D,D+"-"+Gt,D+"-"+Jt])},[]),Pn="beforeRead",Mt="afterRead",Kn="beforeMain",Re="afterMain",je="beforeWrite",Xe="afterWrite",st=[Pn,"read",Mt,Kn,"main",Re,je,"write",Xe];function tn(be){return be?(be.nodeName||"").toLowerCase():null}function Bt(be){if(null==be)return window;if("[object Window]"!==be.toString()){var D=be.ownerDocument;return D&&D.defaultView||window}return be}function qt(be){return be instanceof Bt(be).Element||be instanceof Element}function nn(be){return be instanceof Bt(be).HTMLElement||be instanceof HTMLElement}function _n(be){return typeof ShadowRoot<"u"&&(be instanceof Bt(be).ShadowRoot||be instanceof ShadowRoot)}const cn={name:"applyStyles",enabled:!0,phase:"write",fn:function(be){var D=be.state;Object.keys(D.elements).forEach(function(te){var Pe=D.styles[te]||{},et=D.attributes[te]||{},ut=D.elements[te];nn(ut)&&tn(ut)&&(Object.assign(ut.style,Pe),Object.keys(et).forEach(function(Nt){var wn=et[Nt];!1===wn?ut.removeAttribute(Nt):ut.setAttribute(Nt,!0===wn?"":wn)}))})},effect:function(be){var D=be.state,te={popper:{position:D.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(D.elements.popper.style,te.popper),D.styles=te,D.elements.arrow&&Object.assign(D.elements.arrow.style,te.arrow),function(){Object.keys(D.elements).forEach(function(Pe){var et=D.elements[Pe],ut=D.attributes[Pe]||{},Nt=Object.keys(D.styles.hasOwnProperty(Pe)?D.styles[Pe]:te[Pe]).reduce(function(wn,Rn){return wn[Rn]="",wn},{});nn(et)&&tn(et)&&(Object.assign(et.style,Nt),Object.keys(ut).forEach(function(wn){et.removeAttribute(wn)}))})}},requires:["computeStyles"]};function Qt(be){return be.split("-")[0]}function Ee(be,D){var te=be.getBoundingClientRect();return{width:te.width/1,height:te.height/1,top:te.top/1,right:te.right/1,bottom:te.bottom/1,left:te.left/1,x:te.left/1,y:te.top/1}}function Vt(be){var D=Ee(be),te=be.offsetWidth,Pe=be.offsetHeight;return Math.abs(D.width-te)<=1&&(te=D.width),Math.abs(D.height-Pe)<=1&&(Pe=D.height),{x:be.offsetLeft,y:be.offsetTop,width:te,height:Pe}}function Nn(be,D){var te=D.getRootNode&&D.getRootNode();if(be.contains(D))return!0;if(te&&_n(te)){var Pe=D;do{if(Pe&&be.isSameNode(Pe))return!0;Pe=Pe.parentNode||Pe.host}while(Pe)}return!1}function mn(be){return Bt(be).getComputedStyle(be)}function Mn(be){return["table","td","th"].indexOf(tn(be))>=0}function zn(be){return((qt(be)?be.ownerDocument:be.document)||window.document).documentElement}function qn(be){return"html"===tn(be)?be:be.assignedSlot||be.parentNode||(_n(be)?be.host:null)||zn(be)}function Fn(be){return nn(be)&&"fixed"!==mn(be).position?be.offsetParent:null}function Gn(be){for(var D=Bt(be),te=Fn(be);te&&Mn(te)&&"static"===mn(te).position;)te=Fn(te);return te&&("html"===tn(te)||"body"===tn(te)&&"static"===mn(te).position)?D:te||function(Pe){var et=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&nn(Pe)&&"fixed"===mn(Pe).position)return null;for(var ut=qn(Pe);nn(ut)&&["html","body"].indexOf(tn(ut))<0;){var Nt=mn(ut);if("none"!==Nt.transform||"none"!==Nt.perspective||"paint"===Nt.contain||-1!==["transform","perspective"].indexOf(Nt.willChange)||et&&"filter"===Nt.willChange||et&&Nt.filter&&"none"!==Nt.filter)return ut;ut=ut.parentNode}return null}(be)||D}function Hn(be){return["top","bottom"].indexOf(be)>=0?"x":"y"}var Yn=Math.max,rt=Math.min,de=Math.round;function nt(be,D,te){return Yn(be,rt(D,te))}function it(be){return Object.assign({},{top:0,right:0,bottom:0,left:0},be)}function ye(be,D){return D.reduce(function(te,Pe){return te[Pe]=be,te},{})}const ct={name:"arrow",enabled:!0,phase:"main",fn:function(be){var D,Ir,Ur,te=be.state,Pe=be.name,et=be.options,ut=te.elements.arrow,Nt=te.modifiersData.popperOffsets,wn=Qt(te.placement),Rn=Hn(wn),Vn=[Ye,pe].indexOf(wn)>=0?"height":"width";if(ut&&Nt){var Zn=(Ur=te,it("number"!=typeof(Ir="function"==typeof(Ir=et.padding)?Ir(Object.assign({},Ur.rects,{placement:Ur.placement})):Ir)?Ir:ye(Ir,dt))),Bn=Vt(ut),yr="y"===Rn?Je:Ye,sr="y"===Rn?ie:pe,ar=te.rects.reference[Vn]+te.rects.reference[Rn]-Nt[Rn]-te.rects.popper[Vn],or=Nt[Rn]-te.rects.reference[Rn],lr=Gn(ut),Pr=lr?"y"===Rn?lr.clientHeight||0:lr.clientWidth||0:0,Sr=Pr/2-Bn[Vn]/2+(ar/2-or/2),Ar=nt(Zn[yr],Sr,Pr-Bn[Vn]-Zn[sr]);te.modifiersData[Pe]=((D={})[Rn]=Ar,D.centerOffset=Ar-Sr,D)}},effect:function(be){var D=be.state,te=be.options.element,Pe=void 0===te?"[data-popper-arrow]":te;null!=Pe&&("string"!=typeof Pe||(Pe=D.elements.popper.querySelector(Pe)))&&Nn(D.elements.popper,Pe)&&(D.elements.arrow=Pe)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xr(be){return be.split("-")[1]}var vi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Kr(be){var D,ui,Ai,$r,te=be.popper,Pe=be.popperRect,et=be.placement,ut=be.variation,Nt=be.offsets,wn=be.position,Rn=be.gpuAcceleration,Vn=be.adaptive,Zn=be.roundOffsets,Bn=!0===Zn?(Ai=(ui=Nt).y,$r=window.devicePixelRatio||1,{x:de(de(ui.x*$r)/$r)||0,y:de(de(Ai*$r)/$r)||0}):"function"==typeof Zn?Zn(Nt):Nt,yr=Bn.x,sr=void 0===yr?0:yr,ar=Bn.y,or=void 0===ar?0:ar,lr=Nt.hasOwnProperty("x"),Pr=Nt.hasOwnProperty("y"),wr=Ye,gr=Je,kr=window;if(Vn){var Sr=Gn(te),Ar="clientHeight",Mr="clientWidth";Sr===Bt(te)&&"static"!==mn(Sr=zn(te)).position&&"absolute"===wn&&(Ar="scrollHeight",Mr="scrollWidth"),et!==Je&&(et!==Ye&&et!==pe||ut!==Jt)||(gr=ie,or-=Sr[Ar]-Pe.height,or*=Rn?1:-1),et!==Ye&&(et!==Je&&et!==ie||ut!==Jt)||(wr=pe,sr-=Sr[Mr]-Pe.width,sr*=Rn?1:-1)}var Ir,Ur=Object.assign({position:wn},Vn&&vi);return Object.assign({},Ur,Rn?((Ir={})[gr]=Pr?"0":"",Ir[wr]=lr?"0":"",Ir.transform=(kr.devicePixelRatio||1)<=1?"translate("+sr+"px, "+or+"px)":"translate3d("+sr+"px, "+or+"px, 0)",Ir):((D={})[gr]=Pr?or+"px":"",D[wr]=lr?sr+"px":"",D.transform="",D))}const oi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(be){var D=be.state,te=be.options,Pe=te.gpuAcceleration,et=void 0===Pe||Pe,ut=te.adaptive,Nt=void 0===ut||ut,wn=te.roundOffsets,Rn=void 0===wn||wn,Vn={placement:Qt(D.placement),variation:Xr(D.placement),popper:D.elements.popper,popperRect:D.rects.popper,gpuAcceleration:et};null!=D.modifiersData.popperOffsets&&(D.styles.popper=Object.assign({},D.styles.popper,Kr(Object.assign({},Vn,{offsets:D.modifiersData.popperOffsets,position:D.options.strategy,adaptive:Nt,roundOffsets:Rn})))),null!=D.modifiersData.arrow&&(D.styles.arrow=Object.assign({},D.styles.arrow,Kr(Object.assign({},Vn,{offsets:D.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Rn})))),D.attributes.popper=Object.assign({},D.attributes.popper,{"data-popper-placement":D.placement})},data:{}};var Qr={passive:!0};const hr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(be){var D=be.state,te=be.instance,Pe=be.options,et=Pe.scroll,ut=void 0===et||et,Nt=Pe.resize,wn=void 0===Nt||Nt,Rn=Bt(D.elements.popper),Vn=[].concat(D.scrollParents.reference,D.scrollParents.popper);return ut&&Vn.forEach(function(Zn){Zn.addEventListener("scroll",te.update,Qr)}),wn&&Rn.addEventListener("resize",te.update,Qr),function(){ut&&Vn.forEach(function(Zn){Zn.removeEventListener("scroll",te.update,Qr)}),wn&&Rn.removeEventListener("resize",te.update,Qr)}},data:{}};var li={left:"right",right:"left",bottom:"top",top:"bottom"};function Vr(be){return be.replace(/left|right|bottom|top/g,function(D){return li[D]})}var zr={start:"end",end:"start"};function Ei(be){return be.replace(/start|end/g,function(D){return zr[D]})}function ei(be){var D=Bt(be);return{scrollLeft:D.pageXOffset,scrollTop:D.pageYOffset}}function ci(be){return Ee(zn(be)).left+ei(be).scrollLeft}function Gr(be){var D=mn(be);return/auto|scroll|overlay|hidden/.test(D.overflow+D.overflowY+D.overflowX)}function Dr(be){return["html","body","#document"].indexOf(tn(be))>=0?be.ownerDocument.body:nn(be)&&Gr(be)?be:Dr(qn(be))}function Zr(be,D){var te;void 0===D&&(D=[]);var Pe=Dr(be),et=Pe===(null==(te=be.ownerDocument)?void 0:te.body),ut=Bt(Pe),Nt=et?[ut].concat(ut.visualViewport||[],Gr(Pe)?Pe:[]):Pe,wn=D.concat(Nt);return et?wn:wn.concat(Zr(qn(Nt)))}function si(be){return Object.assign({},be,{left:be.x,top:be.y,right:be.x+be.width,bottom:be.y+be.height})}function yi(be,D){return D===Cn?si((Pe=Bt(te=be),Nt=(et=zn(te)).clientWidth,wn=et.clientHeight,Rn=0,Vn=0,(ut=Pe.visualViewport)&&(Nt=ut.width,wn=ut.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(Rn=ut.offsetLeft,Vn=ut.offsetTop)),{width:Nt,height:wn,x:Rn+ci(te),y:Vn})):nn(D)?function(te){var Pe=Ee(te);return Pe.top=Pe.top+te.clientTop,Pe.left=Pe.left+te.clientLeft,Pe.bottom=Pe.top+te.clientHeight,Pe.right=Pe.left+te.clientWidth,Pe.width=te.clientWidth,Pe.height=te.clientHeight,Pe.x=Pe.left,Pe.y=Pe.top,Pe}(D):si(function(te){var Pe,et=zn(te),ut=ei(te),Nt=null==(Pe=te.ownerDocument)?void 0:Pe.body,wn=Yn(et.scrollWidth,et.clientWidth,Nt?Nt.scrollWidth:0,Nt?Nt.clientWidth:0),Rn=Yn(et.scrollHeight,et.clientHeight,Nt?Nt.scrollHeight:0,Nt?Nt.clientHeight:0),Vn=-ut.scrollLeft+ci(te),Zn=-ut.scrollTop;return"rtl"===mn(Nt||et).direction&&(Vn+=Yn(et.clientWidth,Nt?Nt.clientWidth:0)-wn),{width:wn,height:Rn,x:Vn,y:Zn}}(zn(be)));var te,Pe,et,ut,Nt,wn,Rn,Vn}function Br(be){var D,te=be.reference,Pe=be.element,et=be.placement,ut=et?Qt(et):null,Nt=et?Xr(et):null,wn=te.x+te.width/2-Pe.width/2,Rn=te.y+te.height/2-Pe.height/2;switch(ut){case Je:D={x:wn,y:te.y-Pe.height};break;case ie:D={x:wn,y:te.y+te.height};break;case pe:D={x:te.x+te.width,y:Rn};break;case Ye:D={x:te.x-Pe.width,y:Rn};break;default:D={x:te.x,y:te.y}}var Vn=ut?Hn(ut):null;if(null!=Vn){var Zn="y"===Vn?"height":"width";switch(Nt){case Gt:D[Vn]=D[Vn]-(te[Zn]/2-Pe[Zn]/2);break;case Jt:D[Vn]=D[Vn]+(te[Zn]/2-Pe[Zn]/2)}}return D}function Jn(be,D){void 0===D&&(D={});var di,Ai,$r,Fr,ho,wi,go,Gi,pi,Pe=D.placement,et=void 0===Pe?be.placement:Pe,ut=D.boundary,Nt=void 0===ut?an:ut,wn=D.rootBoundary,Rn=void 0===wn?Cn:wn,Vn=D.elementContext,Zn=void 0===Vn?hn:Vn,Bn=D.altBoundary,yr=void 0!==Bn&&Bn,sr=D.padding,ar=void 0===sr?0:sr,or=it("number"!=typeof ar?ar:ye(ar,dt)),Pr=be.rects.popper,wr=be.elements[yr?Zn===hn?En:hn:Zn],gr=(di=qt(wr)?wr:wr.contextElement||zn(be.elements.popper),$r=Rn,go="clippingParents"===(Ai=Nt)?(ho=Zr(qn(Fr=di)),qt(wi=["absolute","fixed"].indexOf(mn(Fr).position)>=0&&nn(Fr)?Gn(Fr):Fr)?ho.filter(function(gi){return qt(gi)&&Nn(gi,wi)&&"body"!==tn(gi)}):[]):[].concat(Ai),pi=(Gi=[].concat(go,[$r])).reduce(function(Fr,ho){var wi=yi(di,ho);return Fr.top=Yn(wi.top,Fr.top),Fr.right=rt(wi.right,Fr.right),Fr.bottom=rt(wi.bottom,Fr.bottom),Fr.left=Yn(wi.left,Fr.left),Fr},yi(di,Gi[0])),pi.width=pi.right-pi.left,pi.height=pi.bottom-pi.top,pi.x=pi.left,pi.y=pi.top,pi),kr=Ee(be.elements.reference),Sr=Br({reference:kr,element:Pr,strategy:"absolute",placement:et}),Ar=si(Object.assign({},Pr,Sr)),Mr=Zn===hn?Ar:kr,Ir={top:gr.top-Mr.top+or.top,bottom:Mr.bottom-gr.bottom+or.bottom,left:gr.left-Mr.left+or.left,right:Mr.right-gr.right+or.right},Ur=be.modifiersData.offset;if(Zn===hn&&Ur){var ui=Ur[et];Object.keys(Ir).forEach(function(di){var Ai=[pe,ie].indexOf(di)>=0?1:-1,$r=[Je,ie].indexOf(di)>=0?"y":"x";Ir[di]+=ui[$r]*Ai})}return Ir}const Wi={name:"flip",enabled:!0,phase:"main",fn:function(be){var D=be.state,te=be.options,Pe=be.name;if(!D.modifiersData[Pe]._skip){for(var et=te.mainAxis,ut=void 0===et||et,Nt=te.altAxis,wn=void 0===Nt||Nt,Rn=te.fallbackPlacements,Vn=te.padding,Zn=te.boundary,Bn=te.rootBoundary,yr=te.altBoundary,sr=te.flipVariations,ar=void 0===sr||sr,or=te.allowedAutoPlacements,lr=D.options.placement,Pr=Qt(lr),wr=Rn||(Pr!==lr&&ar?function(gi){if(Qt(gi)===at)return[];var Li=Vr(gi);return[Ei(gi),Li,Ei(Li)]}(lr):[Vr(lr)]),gr=[lr].concat(wr).reduce(function(gi,Li){return gi.concat(Qt(Li)===at?function _r(be,D){void 0===D&&(D={});var et=D.boundary,ut=D.rootBoundary,Nt=D.padding,wn=D.flipVariations,Rn=D.allowedAutoPlacements,Vn=void 0===Rn?An:Rn,Zn=Xr(D.placement),Bn=Zn?wn?Xn:Xn.filter(function(ar){return Xr(ar)===Zn}):dt,yr=Bn.filter(function(ar){return Vn.indexOf(ar)>=0});0===yr.length&&(yr=Bn);var sr=yr.reduce(function(ar,or){return ar[or]=Jn(be,{placement:or,boundary:et,rootBoundary:ut,padding:Nt})[Qt(or)],ar},{});return Object.keys(sr).sort(function(ar,or){return sr[ar]-sr[or]})}(D,{placement:Li,boundary:Zn,rootBoundary:Bn,padding:Vn,flipVariations:ar,allowedAutoPlacements:or}):Li)},[]),kr=D.rects.reference,Sr=D.rects.popper,Ar=new Map,Mr=!0,Ir=gr[0],Ur=0;Ur<gr.length;Ur++){var ui=gr[Ur],di=Qt(ui),Ai=Xr(ui)===Gt,$r=[Je,ie].indexOf(di)>=0,go=$r?"width":"height",Gi=Jn(D,{placement:ui,boundary:Zn,rootBoundary:Bn,altBoundary:yr,padding:Vn}),Ci=$r?Ai?pe:Ye:Ai?ie:Je;kr[go]>Sr[go]&&(Ci=Vr(Ci));var pi=Vr(Ci),Fr=[];if(ut&&Fr.push(Gi[di]<=0),wn&&Fr.push(Gi[Ci]<=0,Gi[pi]<=0),Fr.every(function(gi){return gi})){Ir=ui,Mr=!1;break}Ar.set(ui,Fr)}if(Mr)for(var ho=function(gi){var Li=gr.find(function(To){var uo=Ar.get(To);if(uo)return uo.slice(0,gi).every(function(mo){return mo})});if(Li)return Ir=Li,"break"},wi=ar?3:1;wi>0&&"break"!==ho(wi);wi--);D.placement!==Ir&&(D.modifiersData[Pe]._skip=!0,D.placement=Ir,D.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function qi(be,D,te){return void 0===te&&(te={x:0,y:0}),{top:be.top-D.height-te.y,right:be.right-D.width+te.x,bottom:be.bottom-D.height+te.y,left:be.left-D.width-te.x}}function eo(be){return[Je,pe,ie,Ye].some(function(D){return be[D]>=0})}const _i={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(be){var D=be.state,te=be.name,Pe=D.rects.reference,et=D.rects.popper,ut=D.modifiersData.preventOverflow,Nt=Jn(D,{elementContext:"reference"}),wn=Jn(D,{altBoundary:!0}),Rn=qi(Nt,Pe),Vn=qi(wn,et,ut),Zn=eo(Rn),Bn=eo(Vn);D.modifiersData[te]={referenceClippingOffsets:Rn,popperEscapeOffsets:Vn,isReferenceHidden:Zn,hasPopperEscaped:Bn},D.attributes.popper=Object.assign({},D.attributes.popper,{"data-popper-reference-hidden":Zn,"data-popper-escaped":Bn})}},ki={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(be){var D=be.state,Pe=be.name,et=be.options.offset,ut=void 0===et?[0,0]:et,Nt=An.reduce(function(Zn,Bn){return Zn[Bn]=(sr=D.rects,ar=ut,or=Qt(yr=Bn),lr=[Ye,Je].indexOf(or)>=0?-1:1,wr=(wr=(Pr="function"==typeof ar?ar(Object.assign({},sr,{placement:yr})):ar)[0])||0,gr=((gr=Pr[1])||0)*lr,[Ye,pe].indexOf(or)>=0?{x:gr,y:wr}:{x:wr,y:gr}),Zn;var yr,sr,ar,or,lr,Pr,wr,gr},{}),wn=Nt[D.placement],Vn=wn.y;null!=D.modifiersData.popperOffsets&&(D.modifiersData.popperOffsets.x+=wn.x,D.modifiersData.popperOffsets.y+=Vn),D.modifiersData[Pe]=Nt}},Pi={name:"popperOffsets",enabled:!0,phase:"read",fn:function(be){var D=be.state;D.modifiersData[be.name]=Br({reference:D.rects.reference,element:D.rects.popper,strategy:"absolute",placement:D.placement})},data:{}},hi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(be){var D=be.state,te=be.options,Pe=be.name,et=te.mainAxis,ut=void 0===et||et,Nt=te.altAxis,wn=void 0!==Nt&&Nt,yr=te.tether,sr=void 0===yr||yr,ar=te.tetherOffset,or=void 0===ar?0:ar,lr=Jn(D,{boundary:te.boundary,rootBoundary:te.rootBoundary,padding:te.padding,altBoundary:te.altBoundary}),Pr=Qt(D.placement),wr=Xr(D.placement),gr=!wr,kr=Hn(Pr),Sr="x"===kr?"y":"x",Ar=D.modifiersData.popperOffsets,Mr=D.rects.reference,Ir=D.rects.popper,Ur="function"==typeof or?or(Object.assign({},D.rects,{placement:D.placement})):or,ui={x:0,y:0};if(Ar){if(ut||wn){var di="y"===kr?Je:Ye,Ai="y"===kr?ie:pe,$r="y"===kr?"height":"width",go=Ar[kr],Gi=Ar[kr]+lr[di],Ci=Ar[kr]-lr[Ai],pi=sr?-Ir[$r]/2:0,Fr=wr===Gt?Mr[$r]:Ir[$r],ho=wr===Gt?-Ir[$r]:-Mr[$r],wi=D.elements.arrow,gi=sr&&wi?Vt(wi):{width:0,height:0},Li=D.modifiersData["arrow#persistent"]?D.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},To=Li[di],uo=Li[Ai],mo=nt(0,Mr[$r],gi[$r]),ss=gr?Mr[$r]/2-pi-mo-To-Ur:Fr-mo-To-Ur,as=gr?-Mr[$r]/2+pi+mo+uo+Ur:ho+mo+uo+Ur,Io=D.elements.arrow&&Gn(D.elements.arrow),xo=D.modifiersData.offset?D.modifiersData.offset[D.placement][kr]:0,$o=Ar[kr]+ss-xo-(Io?"y"===kr?Io.clientTop||0:Io.clientLeft||0:0),cs=Ar[kr]+as-xo;if(ut){var Ro=nt(sr?rt(Gi,$o):Gi,go,sr?Yn(Ci,cs):Ci);Ar[kr]=Ro,ui[kr]=Ro-go}if(wn){var Mo=Ar[Sr],vo=Mo+lr["x"===kr?Je:Ye],lo=Mo-lr["x"===kr?ie:pe],yo=nt(sr?rt(vo,$o):vo,Mo,sr?Yn(lo,cs):lo);Ar[Sr]=yo,ui[Sr]=yo-Mo}}D.modifiersData[Pe]=ui}},requiresIfExists:["offset"]};function Nr(be,D,te){void 0===te&&(te=!1);var Pe=nn(D);nn(D)&&D.getBoundingClientRect();var et,ut,Nt=zn(D),wn=Ee(be),Rn={scrollLeft:0,scrollTop:0},Vn={x:0,y:0};return(Pe||!Pe&&!te)&&(("body"!==tn(D)||Gr(Nt))&&(Rn=(et=D)!==Bt(et)&&nn(et)?{scrollLeft:(ut=et).scrollLeft,scrollTop:ut.scrollTop}:ei(et)),nn(D)?((Vn=Ee(D)).x+=D.clientLeft,Vn.y+=D.clientTop):Nt&&(Vn.x=ci(Nt))),{x:wn.left+Rn.scrollLeft-Vn.x,y:wn.top+Rn.scrollTop-Vn.y,width:wn.width,height:wn.height}}function to(be){var D=new Map,te=new Set,Pe=[];function et(ut){te.add(ut.name),[].concat(ut.requires||[],ut.requiresIfExists||[]).forEach(function(Nt){if(!te.has(Nt)){var wn=D.get(Nt);wn&&et(wn)}}),Pe.push(ut)}return be.forEach(function(ut){D.set(ut.name,ut)}),be.forEach(function(ut){te.has(ut.name)||et(ut)}),Pe}var P={placement:"bottom",modifiers:[],strategy:"absolute"};function W(){for(var be=arguments.length,D=new Array(be),te=0;te<be;te++)D[te]=arguments[te];return!D.some(function(Pe){return!(Pe&&"function"==typeof Pe.getBoundingClientRect)})}function Q(be){void 0===be&&(be={});var te=be.defaultModifiers,Pe=void 0===te?[]:te,et=be.defaultOptions,ut=void 0===et?P:et;return function(Nt,wn,Rn){void 0===Rn&&(Rn=ut);var Vn,Zn,Bn={placement:"bottom",orderedModifiers:[],options:Object.assign({},P,ut),modifiersData:{},elements:{reference:Nt,popper:wn},attributes:{},styles:{}},yr=[],sr=!1,ar={state:Bn,setOptions:function(lr){var Pr="function"==typeof lr?lr(Bn.options):lr;or(),Bn.options=Object.assign({},ut,Bn.options,Pr),Bn.scrollParents={reference:qt(Nt)?Zr(Nt):Nt.contextElement?Zr(Nt.contextElement):[],popper:Zr(wn)};var wr,gr,Sr,Ar,kr=(wr=[].concat(Pe,Bn.options.modifiers),gr=wr.reduce(function(Sr,Ar){var Mr=Sr[Ar.name];return Sr[Ar.name]=Mr?Object.assign({},Mr,Ar,{options:Object.assign({},Mr.options,Ar.options),data:Object.assign({},Mr.data,Ar.data)}):Ar,Sr},{}),Sr=Object.keys(gr).map(function(Sr){return gr[Sr]}),Ar=to(Sr),st.reduce(function(Mr,Ir){return Mr.concat(Ar.filter(function(Ur){return Ur.phase===Ir}))},[]));return Bn.orderedModifiers=kr.filter(function(Sr){return Sr.enabled}),Bn.orderedModifiers.forEach(function(Sr){var Mr=Sr.options,Ur=Sr.effect;if("function"==typeof Ur){var ui=Ur({state:Bn,name:Sr.name,instance:ar,options:void 0===Mr?{}:Mr});yr.push(ui||function(){})}}),ar.update()},forceUpdate:function(){if(!sr){var lr=Bn.elements,Pr=lr.reference,wr=lr.popper;if(W(Pr,wr)){Bn.rects={reference:Nr(Pr,Gn(wr),"fixed"===Bn.options.strategy),popper:Vt(wr)},Bn.reset=!1,Bn.placement=Bn.options.placement,Bn.orderedModifiers.forEach(function(Ur){return Bn.modifiersData[Ur.name]=Object.assign({},Ur.data)});for(var gr=0;gr<Bn.orderedModifiers.length;gr++)if(!0!==Bn.reset){var kr=Bn.orderedModifiers[gr],Sr=kr.fn,Ar=kr.options;"function"==typeof Sr&&(Bn=Sr({state:Bn,options:void 0===Ar?{}:Ar,name:kr.name,instance:ar})||Bn)}else Bn.reset=!1,gr=-1}}},update:(Vn=function(){return new Promise(function(lr){ar.forceUpdate(),lr(Bn)})},function(){return Zn||(Zn=new Promise(function(lr){Promise.resolve().then(function(){Zn=void 0,lr(Vn())})})),Zn}),destroy:function(){or(),sr=!0}};if(!W(Nt,wn))return ar;function or(){yr.forEach(function(lr){return lr()}),yr=[]}return ar.setOptions(Rn).then(function(lr){!sr&&Rn.onFirstUpdate&&Rn.onFirstUpdate(lr)}),ar}}var he=Q(),me=Q({defaultModifiers:[hr,Pi,oi,cn]}),Te=Q({defaultModifiers:[hr,Pi,oi,cn,ki,Wi,hi,ct,_i]});const Se=Object.freeze({__proto__:null,popperGenerator:Q,detectOverflow:Jn,createPopperBase:he,createPopper:Te,createPopperLite:me,top:Je,bottom:ie,right:pe,left:Ye,auto:at,basePlacements:dt,start:Gt,end:Jt,clippingParents:an,viewport:Cn,popper:hn,reference:En,variationPlacements:Xn,placements:An,beforeRead:Pn,read:"read",afterRead:Mt,beforeMain:Kn,main:"main",afterMain:Re,beforeWrite:je,write:"write",afterWrite:Xe,modifierPhases:st,applyStyles:cn,arrow:ct,computeStyles:oi,eventListeners:hr,flip:Wi,hide:_i,offset:ki,popperOffsets:Pi,preventOverflow:hi}),Oe="dropdown",qe="Escape",jt="ArrowUp",ot="ArrowDown",lt=new RegExp("ArrowUp|ArrowDown|Escape"),Dt="click.bs.dropdown.data-api",Yt="keydown.bs.dropdown.data-api",Tt="show",zt='[data-bs-toggle="dropdown"]',Pt=".dropdown-menu",dn=ae()?"top-end":"top-start",rn=ae()?"top-start":"top-end",un=ae()?"bottom-end":"bottom-start",jn=ae()?"bottom-start":"bottom-end",vr=ae()?"left-start":"right-start",br=ae()?"right-start":"left-start",tr={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},nr={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class rr extends N{constructor(D,te){super(D),this._popper=null,this._config=this._getConfig(te),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return tr}static get DefaultType(){return nr}static get NAME(){return Oe}toggle(){return this._isShown()?this.hide():this.show()}show(){if(_(this._element)||this._isShown(this._menu))return;const D={relatedTarget:this._element};if(I.trigger(this._element,"show.bs.dropdown",D).defaultPrevented)return;const te=rr.getParentFromElement(this._element);this._inNavbar?L.setDataAttribute(this._menu,"popper","none"):this._createPopper(te),"ontouchstart"in document.documentElement&&!te.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(Pe=>I.on(Pe,"mouseover",G)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Tt),this._element.classList.add(Tt),I.trigger(this._element,"shown.bs.dropdown",D)}hide(){!_(this._element)&&this._isShown(this._menu)&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(D){I.trigger(this._element,"hide.bs.dropdown",D).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(te=>I.off(te,"mouseover",G)),this._popper&&this._popper.destroy(),this._menu.classList.remove(Tt),this._element.classList.remove(Tt),this._element.setAttribute("aria-expanded","false"),L.removeDataAttribute(this._menu,"popper"),I.trigger(this._element,"hidden.bs.dropdown",D))}_getConfig(D){if(D={...this.constructor.Default,...L.getDataAttributes(this._element),...D},De(Oe,D,this.constructor.DefaultType),"object"==typeof D.reference&&!kt(D.reference)&&"function"!=typeof D.reference.getBoundingClientRect)throw new TypeError(`${Oe.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return D}_createPopper(D){if(void 0===Se)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let te=this._element;"parent"===this._config.reference?te=D:kt(this._config.reference)?te=V(this._config.reference):"object"==typeof this._config.reference&&(te=this._config.reference);const Pe=this._getPopperConfig(),et=Pe.modifiers.find(ut=>"applyStyles"===ut.name&&!1===ut.enabled);this._popper=Te(te,this._menu,Pe),et&&L.setDataAttribute(this._menu,"popper","static")}_isShown(D=this._element){return D.classList.contains(Tt)}_getMenuElement(){return z.next(this._element,Pt)[0]}_getPlacement(){const D=this._element.parentNode;if(D.classList.contains("dropend"))return vr;if(D.classList.contains("dropstart"))return br;const te="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return D.classList.contains("dropup")?te?rn:dn:te?jn:un}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:D}=this._config;return"string"==typeof D?D.split(",").map(te=>Number.parseInt(te,10)):"function"==typeof D?te=>D(te,this._element):D}_getPopperConfig(){const D={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(D.modifiers=[{name:"applyStyles",enabled:!1}]),{...D,..."function"==typeof this._config.popperConfig?this._config.popperConfig(D):this._config.popperConfig}}_selectMenuItem({key:D,target:te}){const Pe=z.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Le);Pe.length&&g(Pe,te,D===ot,!Pe.includes(te)).focus()}static jQueryInterface(D){return this.each(function(){const te=rr.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===te[D])throw new TypeError(`No method named "${D}"`);te[D]()}})}static clearMenus(D){if(D&&(2===D.button||"keyup"===D.type&&"Tab"!==D.key))return;const te=z.find(zt);for(let Pe=0,et=te.length;Pe<et;Pe++){const ut=rr.getInstance(te[Pe]);if(!ut||!1===ut._config.autoClose||!ut._isShown())continue;const Nt={relatedTarget:ut._element};if(D){const wn=D.composedPath(),Rn=wn.includes(ut._menu);if(wn.includes(ut._element)||"inside"===ut._config.autoClose&&!Rn||"outside"===ut._config.autoClose&&Rn||ut._menu.contains(D.target)&&("keyup"===D.type&&"Tab"===D.key||/input|select|option|textarea|form/i.test(D.target.tagName)))continue;"click"===D.type&&(Nt.clickEvent=D)}ut._completeHide(Nt)}}static getParentFromElement(D){return At(D)||D.parentNode}static dataApiKeydownHandler(D){if(/input|textarea/i.test(D.target.tagName)?"Space"===D.key||D.key!==qe&&(D.key!==ot&&D.key!==jt||D.target.closest(Pt)):!lt.test(D.key))return;const te=this.classList.contains(Tt);if(!te&&D.key===qe||(D.preventDefault(),D.stopPropagation(),_(this)))return;const Pe=this.matches(zt)?this:z.prev(this,zt)[0],et=rr.getOrCreateInstance(Pe);if(D.key!==qe)return D.key===jt||D.key===ot?(te||et.show(),void et._selectMenuItem(D)):void(te&&"Space"!==D.key||rr.clearMenus());et.hide()}}I.on(document,Yt,zt,rr.dataApiKeydownHandler),I.on(document,Yt,Pt,rr.dataApiKeydownHandler),I.on(document,Dt,rr.clearMenus),I.on(document,"keyup.bs.dropdown.data-api",rr.clearMenus),I.on(document,Dt,zt,function(be){be.preventDefault(),rr.getOrCreateInstance(this).toggle()}),m(rr);const Jr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ze=".sticky-top";class Et{constructor(){this._element=document.body}getWidth(){const D=document.documentElement.clientWidth;return Math.abs(window.innerWidth-D)}hide(){const D=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",te=>te+D),this._setElementAttributes(Jr,"paddingRight",te=>te+D),this._setElementAttributes(ze,"marginRight",te=>te-D)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(D,te,Pe){const et=this.getWidth();this._applyManipulationCallback(D,ut=>{if(ut!==this._element&&window.innerWidth>ut.clientWidth+et)return;this._saveInitialAttribute(ut,te);const Nt=window.getComputedStyle(ut)[te];ut.style[te]=`${Pe(Number.parseFloat(Nt))}px`})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(Jr,"paddingRight"),this._resetElementAttributes(ze,"marginRight")}_saveInitialAttribute(D,te){const Pe=D.style[te];Pe&&L.setDataAttribute(D,te,Pe)}_resetElementAttributes(D,te){this._applyManipulationCallback(D,Pe=>{const et=L.getDataAttribute(Pe,te);void 0===et?Pe.style.removeProperty(te):(L.removeDataAttribute(Pe,te),Pe.style[te]=et)})}_applyManipulationCallback(D,te){kt(D)?te(D):z.find(D,this._element).forEach(te)}isOverflowing(){return this.getWidth()>0}}const Wt={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},ln={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Fe="mousedown.bs.backdrop";class Ce{constructor(D){this._config=this._getConfig(D),this._isAppended=!1,this._element=null}show(D){this._config.isVisible?(this._append(),this._config.isAnimated&&this._getElement(),this._getElement().classList.add("show"),this._emulateAnimation(()=>{B(D)})):B(D)}hide(D){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),B(D)})):B(D)}_getElement(){if(!this._element){const D=document.createElement("div");D.className=this._config.className,this._config.isAnimated&&D.classList.add("fade"),this._element=D}return this._element}_getConfig(D){return(D={...Wt,..."object"==typeof D?D:{}}).rootElement=V(D.rootElement),De("backdrop",D,ln),D}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),I.on(this._getElement(),Fe,()=>{B(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(I.off(this._element,Fe),this._element.remove(),this._isAppended=!1)}_emulateAnimation(D){i(D,this._getElement(),this._config.isAnimated)}}const _t={trapElement:null,autofocus:!0},xt={trapElement:"element",autofocus:"boolean"},on=".bs.focustrap",kn="backward";class pn{constructor(D){this._config=this._getConfig(D),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:D,autofocus:te}=this._config;this._isActive||(te&&D.focus(),I.off(document,on),I.on(document,"focusin.bs.focustrap",Pe=>this._handleFocusin(Pe)),I.on(document,"keydown.tab.bs.focustrap",Pe=>this._handleKeydown(Pe)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,I.off(document,on))}_handleFocusin(D){const{target:te}=D,{trapElement:Pe}=this._config;if(te===document||te===Pe||Pe.contains(te))return;const et=z.focusableChildren(Pe);0===et.length?Pe.focus():this._lastTabNavDirection===kn?et[et.length-1].focus():et[0].focus()}_handleKeydown(D){"Tab"===D.key&&(this._lastTabNavDirection=D.shiftKey?kn:"forward")}_getConfig(D){return D={..._t,..."object"==typeof D?D:{}},De("focustrap",D,xt),D}}const Ln={backdrop:!0,keyboard:!0,focus:!0},Wn={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},dr="hidden.bs.modal",er="show.bs.modal",xr="resize.bs.modal",ur="click.dismiss.bs.modal",Er="keydown.dismiss.bs.modal",pr="mousedown.dismiss.bs.modal",Cr="modal-open",qr="modal-static";class fi extends N{constructor(D,te){super(D),this._config=this._getConfig(te),this._dialog=z.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new Et}static get Default(){return Ln}static get NAME(){return"modal"}toggle(D){return this._isShown?this.hide():this.show(D)}show(D){this._isShown||this._isTransitioning||I.trigger(this._element,er,{relatedTarget:D}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Cr),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),I.on(this._dialog,pr,()=>{I.one(this._element,"mouseup.dismiss.bs.modal",te=>{te.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(D)))}hide(){if(!this._isShown||this._isTransitioning||I.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const D=this._isAnimated();D&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),I.off(this._element,ur),I.off(this._dialog,pr),this._queueCallback(()=>this._hideModal(),this._element,D)}dispose(){[window,this._dialog].forEach(D=>I.off(D,".bs.modal")),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ce({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new pn({trapElement:this._element})}_getConfig(D){return D={...Ln,...L.getDataAttributes(this._element),..."object"==typeof D?D:{}},De("modal",D,Wn),D}_showElement(D){const te=this._isAnimated(),Pe=z.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,Pe&&(Pe.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,I.trigger(this._element,"shown.bs.modal",{relatedTarget:D})},this._dialog,te)}_setEscapeEvent(){this._isShown?I.on(this._element,Er,D=>{this._config.keyboard&&"Escape"===D.key?(D.preventDefault(),this.hide()):this._config.keyboard||"Escape"!==D.key||this._triggerBackdropTransition()}):I.off(this._element,Er)}_setResizeEvent(){this._isShown?I.on(window,xr,()=>this._adjustDialog()):I.off(window,xr)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Cr),this._resetAdjustments(),this._scrollBar.reset(),I.trigger(this._element,dr)})}_showBackdrop(D){I.on(this._element,ur,te=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:te.target===te.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())}),this._backdrop.show(D)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(I.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:D,scrollHeight:te,style:Pe}=this._element,et=te>document.documentElement.clientHeight;!et&&"hidden"===Pe.overflowY||D.contains(qr)||(et||(Pe.overflowY="hidden"),D.add(qr),this._queueCallback(()=>{D.remove(qr),et||this._queueCallback(()=>{Pe.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const D=this._element.scrollHeight>document.documentElement.clientHeight,te=this._scrollBar.getWidth(),Pe=te>0;(!Pe&&D&&!ae()||Pe&&!D&&ae())&&(this._element.style.paddingLeft=`${te}px`),(Pe&&!D&&!ae()||!Pe&&D&&ae())&&(this._element.style.paddingRight=`${te}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(D,te){return this.each(function(){const Pe=fi.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===Pe[D])throw new TypeError(`No method named "${D}"`);Pe[D](te)}})}}I.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(be){const D=At(this);["A","AREA"].includes(this.tagName)&&be.preventDefault(),I.one(D,er,Pe=>{Pe.defaultPrevented||I.one(D,dr,()=>{Le(this)&&this.focus()})});const te=z.findOne(".modal.show");te&&fi.getInstance(te).hide(),fi.getOrCreateInstance(D).toggle(this)}),q(fi),m(fi);const ti="offcanvas",ni={backdrop:!0,keyboard:!0,scroll:!1},Hr={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},$i=".offcanvas.show",Ri="hidden.bs.offcanvas";class ri extends N{constructor(D,te){super(D),this._config=this._getConfig(te),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return ti}static get Default(){return ni}toggle(D){return this._isShown?this.hide():this.show(D)}show(D){this._isShown||I.trigger(this._element,"show.bs.offcanvas",{relatedTarget:D}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new Et).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),I.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:D})},this._element,!0))}hide(){this._isShown&&(I.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new Et).reset(),I.trigger(this._element,Ri)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(D){return D={...ni,...L.getDataAttributes(this._element),..."object"==typeof D?D:{}},De(ti,D,Hr),D}_initializeBackDrop(){return new Ce({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new pn({trapElement:this._element})}_addEventListeners(){I.on(this._element,"keydown.dismiss.bs.offcanvas",D=>{this._config.keyboard&&"Escape"===D.key&&this.hide()})}static jQueryInterface(D){return this.each(function(){const te=ri.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===te[D]||D.startsWith("_")||"constructor"===D)throw new TypeError(`No method named "${D}"`);te[D](this)}})}}I.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(be){const D=At(this);if(["A","AREA"].includes(this.tagName)&&be.preventDefault(),_(this))return;I.one(D,Ri,()=>{Le(this)&&this.focus()});const te=z.findOne($i);te&&te!==D&&ri.getInstance(te).hide(),ri.getOrCreateInstance(D).toggle(this)}),I.on(window,"load.bs.offcanvas.data-api",()=>z.find($i).forEach(be=>ri.getOrCreateInstance(be).show())),q(ri),m(ri);const Ki=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ni=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Oi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,bi=(be,D)=>{const te=be.nodeName.toLowerCase();if(D.includes(te))return!Ki.has(te)||Boolean(Ni.test(be.nodeValue)||Oi.test(be.nodeValue));const Pe=D.filter(et=>et instanceof RegExp);for(let et=0,ut=Pe.length;et<ut;et++)if(Pe[et].test(te))return!0;return!1};function Si(be,D,te){if(!be.length)return be;if(te&&"function"==typeof te)return te(be);const Pe=(new window.DOMParser).parseFromString(be,"text/html"),et=[].concat(...Pe.body.querySelectorAll("*"));for(let ut=0,Nt=et.length;ut<Nt;ut++){const wn=et[ut],Rn=wn.nodeName.toLowerCase();if(!Object.keys(D).includes(Rn)){wn.remove();continue}const Vn=[].concat(...wn.attributes),Zn=[].concat(D["*"]||[],D[Rn]||[]);Vn.forEach(Bn=>{bi(Bn,Zn)||wn.removeAttribute(Bn.nodeName)})}return Pe.body.innerHTML}const ai="tooltip",Mi=new Set(["sanitize","allowList","sanitizeFn"]),Vi={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Di={AUTO:"auto",TOP:"top",RIGHT:ae()?"left":"right",BOTTOM:"bottom",LEFT:ae()?"right":"left"},Ae={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Ve={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},tt="fade",ht="show",Ut="show",Ht=".tooltip-inner",vn="hide.bs.modal",On="hover";class ir extends N{constructor(D,te){if(void 0===Se)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(D),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(te),this.tip=null,this._setListeners()}static get Default(){return Ae}static get NAME(){return ai}static get Event(){return Ve}static get DefaultType(){return Vi}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(D){if(this._isEnabled)if(D){const te=this._initializeOnDelegatedTarget(D);te._activeTrigger.click=!te._activeTrigger.click,te._isWithActiveTrigger()?te._enter(null,te):te._leave(null,te)}else{if(this.getTipElement().classList.contains(ht))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),I.off(this._element.closest(".modal"),vn,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const D=I.trigger(this._element,this.constructor.Event.SHOW),te=oe(this._element),Pe=null===te?this._element.ownerDocument.documentElement.contains(this._element):te.contains(this._element);if(D.defaultPrevented||!Pe)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(Ht).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const et=this.getTipElement(),ut=(Bn=>{do{Bn+=Math.floor(1e6*Math.random())}while(document.getElementById(Bn));return Bn})(this.constructor.NAME);et.setAttribute("id",ut),this._element.setAttribute("aria-describedby",ut),this._config.animation&&et.classList.add(tt);const Nt="function"==typeof this._config.placement?this._config.placement.call(this,et,this._element):this._config.placement,wn=this._getAttachment(Nt);this._addAttachmentClass(wn);const{container:Rn}=this._config;R.set(et,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(Rn.append(et),I.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Te(this._element,et,this._getPopperConfig(wn)),et.classList.add(ht);const Vn=this._resolvePossibleFunction(this._config.customClass);Vn&&et.classList.add(...Vn.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(Bn=>{I.on(Bn,"mouseover",G)});const Zn=this.tip.classList.contains(tt);this._queueCallback(()=>{const Bn=this._hoverState;this._hoverState=null,I.trigger(this._element,this.constructor.Event.SHOWN),"out"===Bn&&this._leave(null,this)},this.tip,Zn)}hide(){if(!this._popper)return;const D=this.getTipElement();if(I.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;D.classList.remove(ht),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(Pe=>I.off(Pe,"mouseover",G)),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const te=this.tip.classList.contains(tt);this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!==Ut&&D.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),I.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,te),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const D=document.createElement("div");D.innerHTML=this._config.template;const te=D.children[0];return this.setContent(te),te.classList.remove(tt,ht),this.tip=te,this.tip}setContent(D){this._sanitizeAndSetContent(D,this.getTitle(),Ht)}_sanitizeAndSetContent(D,te,Pe){const et=z.findOne(Pe,D);te||!et?this.setElementContent(et,te):et.remove()}setElementContent(D,te){if(null!==D)return kt(te)?(te=V(te),void(this._config.html?te.parentNode!==D&&(D.innerHTML="",D.append(te)):D.textContent=te.textContent)):void(this._config.html?(this._config.sanitize&&(te=Si(te,this._config.allowList,this._config.sanitizeFn)),D.innerHTML=te):D.textContent=te)}getTitle(){const D=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(D)}updateAttachment(D){return"right"===D?"end":"left"===D?"start":D}_initializeOnDelegatedTarget(D,te){return te||this.constructor.getOrCreateInstance(D.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:D}=this._config;return"string"==typeof D?D.split(",").map(te=>Number.parseInt(te,10)):"function"==typeof D?te=>D(te,this._element):D}_resolvePossibleFunction(D){return"function"==typeof D?D.call(this._element):D}_getPopperConfig(D){const te={placement:D,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:Pe=>this._handlePopperPlacementChange(Pe)}],onFirstUpdate:Pe=>{Pe.options.placement!==Pe.placement&&this._handlePopperPlacementChange(Pe)}};return{...te,..."function"==typeof this._config.popperConfig?this._config.popperConfig(te):this._config.popperConfig}}_addAttachmentClass(D){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(D)}`)}_getAttachment(D){return Di[D.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(D=>{if("click"===D)I.on(this._element,this.constructor.Event.CLICK,this._config.selector,te=>this.toggle(te));else if("manual"!==D){const Pe=D===On?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;I.on(this._element,D===On?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,this._config.selector,et=>this._enter(et)),I.on(this._element,Pe,this._config.selector,et=>this._leave(et))}}),this._hideModalHandler=()=>{this._element&&this.hide()},I.on(this._element.closest(".modal"),vn,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const D=this._element.getAttribute("title"),te=typeof this._element.getAttribute("data-bs-original-title");(D||"string"!==te)&&(this._element.setAttribute("data-bs-original-title",D||""),!D||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",D),this._element.setAttribute("title",""))}_enter(D,te){te=this._initializeOnDelegatedTarget(D,te),D&&(te._activeTrigger["focusin"===D.type?"focus":On]=!0),te.getTipElement().classList.contains(ht)||te._hoverState===Ut?te._hoverState=Ut:(clearTimeout(te._timeout),te._hoverState=Ut,te._config.delay&&te._config.delay.show?te._timeout=setTimeout(()=>{te._hoverState===Ut&&te.show()},te._config.delay.show):te.show())}_leave(D,te){te=this._initializeOnDelegatedTarget(D,te),D&&(te._activeTrigger["focusout"===D.type?"focus":On]=te._element.contains(D.relatedTarget)),te._isWithActiveTrigger()||(clearTimeout(te._timeout),te._hoverState="out",te._config.delay&&te._config.delay.hide?te._timeout=setTimeout(()=>{"out"===te._hoverState&&te.hide()},te._config.delay.hide):te.hide())}_isWithActiveTrigger(){for(const D in this._activeTrigger)if(this._activeTrigger[D])return!0;return!1}_getConfig(D){const te=L.getDataAttributes(this._element);return Object.keys(te).forEach(Pe=>{Mi.has(Pe)&&delete te[Pe]}),(D={...this.constructor.Default,...te,..."object"==typeof D&&D?D:{}}).container=!1===D.container?document.body:V(D.container),"number"==typeof D.delay&&(D.delay={show:D.delay,hide:D.delay}),"number"==typeof D.title&&(D.title=D.title.toString()),"number"==typeof D.content&&(D.content=D.content.toString()),De(ai,D,this.constructor.DefaultType),D.sanitize&&(D.template=Si(D.template,D.allowList,D.sanitizeFn)),D}_getDelegateConfig(){const D={};for(const te in this._config)this.constructor.Default[te]!==this._config[te]&&(D[te]=this._config[te]);return D}_cleanTipClass(){const D=this.getTipElement(),te=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),Pe=D.getAttribute("class").match(te);null!==Pe&&Pe.length>0&&Pe.map(et=>et.trim()).forEach(et=>D.classList.remove(et))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(D){const{state:te}=D;te&&(this.tip=te.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(te.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(D){return this.each(function(){const te=ir.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===te[D])throw new TypeError(`No method named "${D}"`);te[D]()}})}}m(ir);const Lr={...ir.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},Yr={...ir.DefaultType,content:"(string|element|function)"},Wr={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class Rr extends ir{static get Default(){return Lr}static get NAME(){return"popover"}static get Event(){return Wr}static get DefaultType(){return Yr}isWithContent(){return this.getTitle()||this._getContent()}setContent(D){this._sanitizeAndSetContent(D,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(D,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(D){return this.each(function(){const te=Rr.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===te[D])throw new TypeError(`No method named "${D}"`);te[D]()}})}}m(Rr);const jr="scrollspy",zi={offset:10,method:"auto",target:""},no={offset:"number",method:"string",target:"(string|element)"},ji="active",ao=".nav-link, .list-group-item, .dropdown-item",Xi="position";class ro extends N{constructor(D,te){super(D),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(te),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,I.on(this._scrollElement,"scroll.bs.scrollspy",()=>this._process()),this.refresh(),this._process()}static get Default(){return zi}static get NAME(){return jr}refresh(){const te="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":Xi:this._config.method,Pe=te===Xi?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),z.find(ao,this._config.target).map(et=>{const ut=j(et),Nt=ut?z.findOne(ut):null;if(Nt){const wn=Nt.getBoundingClientRect();if(wn.width||wn.height)return[L[te](Nt).top+Pe,ut]}return null}).filter(et=>et).sort((et,ut)=>et[0]-ut[0]).forEach(et=>{this._offsets.push(et[0]),this._targets.push(et[1])})}dispose(){I.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(D){return(D={...zi,...L.getDataAttributes(this._element),..."object"==typeof D&&D?D:{}}).target=V(D.target)||document.documentElement,De(jr,D,no),D}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const D=this._getScrollTop()+this._config.offset,te=this._getScrollHeight(),Pe=this._config.offset+te-this._getOffsetHeight();if(this._scrollHeight!==te&&this.refresh(),D>=Pe){const et=this._targets[this._targets.length-1];this._activeTarget!==et&&this._activate(et)}else{if(this._activeTarget&&D<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let et=this._offsets.length;et--;)this._activeTarget!==this._targets[et]&&D>=this._offsets[et]&&(void 0===this._offsets[et+1]||D<this._offsets[et+1])&&this._activate(this._targets[et])}}_activate(D){this._activeTarget=D,this._clear();const te=ao.split(",").map(et=>`${et}[data-bs-target="${D}"],${et}[href="${D}"]`),Pe=z.findOne(te.join(","),this._config.target);Pe.classList.add(ji),Pe.classList.contains("dropdown-item")?z.findOne(".dropdown-toggle",Pe.closest(".dropdown")).classList.add(ji):z.parents(Pe,".nav, .list-group").forEach(et=>{z.prev(et,".nav-link, .list-group-item").forEach(ut=>ut.classList.add(ji)),z.prev(et,".nav-item").forEach(ut=>{z.children(ut,".nav-link").forEach(Nt=>Nt.classList.add(ji))})}),I.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:D})}_clear(){z.find(ao,this._config.target).filter(D=>D.classList.contains(ji)).forEach(D=>D.classList.remove(ji))}static jQueryInterface(D){return this.each(function(){const te=ro.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===te[D])throw new TypeError(`No method named "${D}"`);te[D]()}})}}I.on(window,"load.bs.scrollspy.data-api",()=>{z.find('[data-bs-spy="scroll"]').forEach(be=>new ro(be))}),m(ro);const io="active",Yo=".active",Do=":scope > li > .active";class bo extends N{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(io))return;let D;const te=At(this._element),Pe=this._element.closest(".nav, .list-group");Pe&&(D=z.find("UL"===Pe.nodeName||"OL"===Pe.nodeName?Do:Yo,Pe),D=D[D.length-1]);const et=D?I.trigger(D,"hide.bs.tab",{relatedTarget:this._element}):null;if(I.trigger(this._element,"show.bs.tab",{relatedTarget:D}).defaultPrevented||null!==et&&et.defaultPrevented)return;this._activate(this._element,Pe);const ut=()=>{I.trigger(D,"hidden.bs.tab",{relatedTarget:this._element}),I.trigger(this._element,"shown.bs.tab",{relatedTarget:D})};te?this._activate(te,te.parentNode,ut):ut()}_activate(D,te,Pe){const et=(!te||"UL"!==te.nodeName&&"OL"!==te.nodeName?z.children(te,Yo):z.find(Do,te))[0],ut=Pe&&et&&et.classList.contains("fade"),Nt=()=>this._transitionComplete(D,et,Pe);et&&ut?(et.classList.remove("show"),this._queueCallback(Nt,D,!0)):Nt()}_transitionComplete(D,te,Pe){if(te){te.classList.remove(io);const ut=z.findOne(":scope > .dropdown-menu .active",te.parentNode);ut&&ut.classList.remove(io),"tab"===te.getAttribute("role")&&te.setAttribute("aria-selected",!1)}D.classList.add(io),"tab"===D.getAttribute("role")&&D.setAttribute("aria-selected",!0),D.classList.contains("fade")&&D.classList.add("show");let et=D.parentNode;if(et&&"LI"===et.nodeName&&(et=et.parentNode),et&&et.classList.contains("dropdown-menu")){const ut=D.closest(".dropdown");ut&&z.find(".dropdown-toggle",ut).forEach(Nt=>Nt.classList.add(io)),D.setAttribute("aria-expanded",!0)}Pe&&Pe()}static jQueryInterface(D){return this.each(function(){const te=bo.getOrCreateInstance(this);if("string"==typeof D){if(void 0===te[D])throw new TypeError(`No method named "${D}"`);te[D]()}})}}I.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(be){["A","AREA"].includes(this.tagName)&&be.preventDefault(),_(this)||bo.getOrCreateInstance(this).show()}),m(bo);const Ui="show",Uo="showing",Fo={animation:"boolean",autohide:"boolean",delay:"number"},Co={animation:!0,autohide:!0,delay:5e3};class co extends N{constructor(D,te){super(D),this._config=this._getConfig(te),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return Fo}static get Default(){return Co}static get NAME(){return"toast"}show(){I.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Ui),this._element.classList.add(Uo),this._queueCallback(()=>{this._element.classList.remove(Uo),I.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains(Ui)&&(I.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Uo),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Uo),this._element.classList.remove(Ui),I.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains(Ui)&&this._element.classList.remove(Ui),super.dispose()}_getConfig(D){return D={...Co,...L.getDataAttributes(this._element),..."object"==typeof D&&D?D:{}},De("toast",D,this.constructor.DefaultType),D}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(D,te){switch(D.type){case"mouseover":case"mouseout":this._hasMouseInteraction=te;break;case"focusin":case"focusout":this._hasKeyboardInteraction=te}if(te)return void this._clearTimeout();const Pe=D.relatedTarget;this._element===Pe||this._element.contains(Pe)||this._maybeScheduleHide()}_setListeners(){I.on(this._element,"mouseover.bs.toast",D=>this._onInteraction(D,!0)),I.on(this._element,"mouseout.bs.toast",D=>this._onInteraction(D,!1)),I.on(this._element,"focusin.bs.toast",D=>this._onInteraction(D,!0)),I.on(this._element,"focusout.bs.toast",D=>this._onInteraction(D,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(D){return this.each(function(){const te=co.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===te[D])throw new TypeError(`No method named "${D}"`);te[D](this)}})}}return q(co),m(co),{Alert:Z,Button:we,Carousel:pt,Collapse:ce,Dropdown:rr,Modal:fi,Offcanvas:ri,Popover:Rr,ScrollSpy:ro,Tab:bo,Toast:co,Tooltip:ir}}),function(){"use strict";var Kt,yn=document.createElement("style");yn.innerHTML="@keyframes wb-fade-in{0%{opacity:0}to{opacity:.85}}.no-move:not(.min) .wb-title,.winbox.max .wb-body~div,.winbox.min .wb-body~div,.winbox.modal .wb-body~div,.winbox.modal .wb-title,body.wb-drag iframe{pointer-events:none}.winbox{position:fixed;left:0;top:0;background:#0050ff;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);transition:width .3s,height .3s,transform .3s;transition-timing-function:cubic-bezier(.3,1,.3,1);will-change:transform,width,height;contain:layout size;text-align:left;touch-action:none;min-height:35px}.wb-header,.wb-icon{height:35px}.wb-n,.wb-s{left:0;height:10px;position:absolute}.wb-body{top:35px}.wb-header,.winbox iframe{position:absolute;width:100%}.wb-header{left:0;top:0;color:#fff;overflow:hidden;z-index:1}.wb-body{position:absolute;left:0;right:0;bottom:0;overflow:auto;-webkit-overflow-scrolling:touch;overflow-scrolling:touch;will-change:contents;background:#fff;margin-top:0!important;contain:strict}.wb-title{line-height:35px;font-family:Arial,sans-serif;font-size:14px;padding-left:10px;cursor:move;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.wb-n{top:-5px;right:0;cursor:n-resize}.wb-e{position:absolute;top:0;right:-5px;bottom:0;width:10px;cursor:w-resize}.wb-s,.wb-se,.wb-sw{bottom:-5px}.wb-s{right:0;cursor:n-resize}.wb-w{position:absolute;top:0;left:-5px;bottom:0;width:10px;cursor:w-resize}.wb-ne,.wb-nw,.wb-sw{width:15px;height:15px;position:absolute}.wb-nw{top:-5px;left:-5px;cursor:nw-resize}.wb-ne,.wb-sw{cursor:ne-resize}.wb-ne{top:-5px;right:-5px}.wb-sw{left:-5px}.wb-se{position:absolute;right:-5px;width:15px;height:15px;cursor:nw-resize}.wb-icon{float:right;max-width:100%;text-align:center}.wb-icon *{display:inline-block;width:30px;height:100%;background-position:center;background-repeat:no-repeat;cursor:pointer;max-width:100%}.no-close .wb-close,.no-full .wb-full,.no-header .wb-header,.no-max .wb-max,.no-min .wb-min,.no-resize .wb-body~div,.winbox.hide,.winbox.min .wb-body>*,.winbox.min .wb-full,.winbox.min .wb-min,.winbox.modal .wb-full,.winbox.modal .wb-max,.winbox.modal .wb-min{display:none}.winbox.max .wb-title,.winbox.min .wb-title{cursor:default}.wb-min{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNOCAwaDdhMSAxIDAgMCAxIDAgMkgxYTEgMSAwIDAgMSAwLTJoN3oiLz48L3N2Zz4=);background-size:14px auto;background-position:center bottom 11px}.wb-max{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCA5NiA5NiI+PHBhdGggZD0iTTIwIDcxLjMxMUMxNS4zNCA2OS42NyAxMiA2NS4yMyAxMiA2MFYyMGMwLTYuNjMgNS4zNy0xMiAxMi0xMmg0MGM1LjIzIDAgOS42NyAzLjM0IDExLjMxMSA4SDI0Yy0yLjIxIDAtNCAxLjc5LTQgNHY1MS4zMTF6Ii8+PHBhdGggZD0iTTkyIDc2VjM2YzAtNi42My01LjM3LTEyLTEyLTEySDQwYy02LjYzIDAtMTIgNS4zNy0xMiAxMnY0MGMwIDYuNjMgNS4zNyAxMiAxMiAxMmg0MGM2LjYzIDAgMTItNS4zNyAxMi0xMnptLTUyIDRjLTIuMjEgMC00LTEuNzktNC00VjM2YzAtMi4yMSAxLjc5LTQgNC00aDQwYzIuMjEgMCA0IDEuNzkgNCA0djQwYzAgMi4yMS0xLjc5IDQtNCA0SDQweiIvPjwvc3ZnPg==);background-size:17px auto}.wb-close{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xIC0xIDE4IDE4Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMS42MTMuMjEuMDk0LjA4M0w4IDYuNTg1IDE0LjI5My4yOTNsLjA5NC0uMDgzYTEgMSAwIDAgMSAxLjQwMyAxLjQwM2wtLjA4My4wOTRMOS40MTUgOGw2LjI5MiA2LjI5M2ExIDEgMCAwIDEtMS4zMiAxLjQ5N2wtLjA5NC0uMDgzTDggOS40MTVsLTYuMjkzIDYuMjkyLS4wOTQuMDgzQTEgMSAwIDAgMSAuMjEgMTQuMzg3bC4wODMtLjA5NEw2LjU4NSA4IC4yOTMgMS43MDdBMSAxIDAgMCAxIDEuNjEzLjIxeiIvPjwvc3ZnPg==);background-size:15px auto}.wb-full{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIuNSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOCAzSDVhMiAyIDAgMCAwLTIgMnYzbTE4IDBWNWEyIDIgMCAwIDAtMi0yaC0zbTAgMThoM2EyIDIgMCAwIDAgMi0ydi0zTTMgMTZ2M2EyIDIgMCAwIDAgMiAyaDMiLz48L3N2Zz4=);background-size:16px auto}.winbox.hide{visibility:hidden}.max{box-shadow:none}.max .wb-body{margin:0!important}.winbox iframe{height:100%;border:0}.no-animation,body.wb-drag .winbox{transition:none}.winbox.modal:before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:inherit;border-radius:inherit}.winbox.modal:after{content:'';position:absolute;top:-100vh;left:-100vw;right:-100vw;bottom:-100vh;background:#0d1117;animation:wb-fade-in .2s ease-out forwards;z-index:-1}.no-shadow{box-shadow:none}.no-header .wb-body{top:0}";var j=document.getElementsByTagName("head")[0];j.firstChild?j.insertBefore(yn,j.firstChild):j.appendChild(yn);var At=document.createElement("div");function wt(t,o,r,d){t.addEventListener(o,r,!d&&!1!==d||d)}function kt(t){t.stopPropagation(),t.cancelable&&t.preventDefault()}function V(t,o,r){t["_s_"+o]!==(r=""+r)&&(t.style.setProperty(o,r),t["_s_"+o]=r)}At.innerHTML="<div class=wb-header><div class=wb-icon><span class=wb-min></span><span class=wb-max></span><span class=wb-full></span><span class=wb-close></span></div><div class=wb-title> </div></div><div class=wb-body></div><div class=wb-n></div><div class=wb-s></div><div class=wb-w></div><div class=wb-e></div><div class=wb-nw></div><div class=wb-ne></div><div class=wb-se></div><div class=wb-sw></div>";var Le,G,ue,ve,Y,ae,m,B,De=[],_=0,oe=0;function i(t,o){if(!(this instanceof i))return new i(t);var r,d;if(G||function f(){(Le=document.body)[Y="requestFullscreen"]||Le[Y="msRequestFullscreen"]||Le[Y="webkitRequestFullscreen"]||Le[Y="mozRequestFullscreen"]||(Y=""),ae=Y&&Y.replace("request","exit").replace("mozRequest","mozCancel").replace("Request","Exit"),wt(window,"resize",function(){m=Le.clientWidth,B=Le.clientHeight,c()}),m=Le.clientWidth,B=Le.clientHeight}(),t){if(o){var h=t;t=o}if("string"==typeof t)h=t;else{if(d=t.modal)var l=r="center";var p=t.id,w=t.root,b=t.template;h=h||t.title;var I=t.mount,S=t.html,R=t.url,N=t.width,q=t.height,Z=t.minwidth,le=t.minheight;l=t.x||l,r=t.y||r;var we=t.max,ke=t.hidden,A=t.top,L=t.left,z=t.bottom,y=t.right;G=t.index||G;var C=t.onclose,M=t.onfocus,U=t.onblur,ee=t.onmove,J=t.onresize,re=t.background,Ue=t.border,We=t.class,Qe=t.splitscreen}}this.g=b||At.cloneNode(!0),this.body=this.g.getElementsByClassName("wb-body")[0],re&&this.setBackground(re),Ue&&V(this.body,"margin",Ue+(isNaN(Ue)?"":"px")),this.setTitle(h||""),t=m,o=B,A=A?g(A,o):0,z=z?g(z,o):0,t-=(L=L?g(L,t):0)+(y=y?g(y,t):0),o-=A+z,N=N?g(N,t):t/2|0,q=q?g(q,o):o/2|0,Z=Z?g(Z,t):0,le=le?g(le,o):0,l=l?g(l,t,N):L,r=r?g(r,o,q):A,G=G||10,this.g.id=this.id=p||"winbox-"+ ++_,this.g.className="winbox"+(We?" "+("string"==typeof We?We:We.join(" ")):"")+(d?" modal":""),this.x=l,this.y=r,this.width=N,this.height=q,this.j=Z,this.i=le,this.top=A,this.right=y,this.bottom=z,this.left=L,this.max=this.min=!1,this.onclose=C,this.onfocus=M,this.onblur=U,this.onmove=ee,this.onresize=J,this.l=Qe,we?this.maximize():this.move().resize(),I?this.mount(I):S?this.body.innerHTML=S:R&&this.setUrl(R),ke?this.hide():this.focus(),this.g.winbox=this,function x(t){u(t,"title"),u(t,"n"),u(t,"s"),u(t,"w"),u(t,"e"),u(t,"nw"),u(t,"ne"),u(t,"se"),u(t,"sw"),wt(t.g.getElementsByClassName("wb-min")[0],"click",function(o){kt(o),t.minimize()}),wt(t.g.getElementsByClassName("wb-max")[0],"click",function(o){kt(o),t.focus().maximize()}),Y?wt(t.g.getElementsByClassName("wb-full")[0],"click",function(o){kt(o),t.focus().fullscreen()}):t.addClass("no-full"),wt(t.g.getElementsByClassName("wb-close")[0],"click",function(o){kt(o),t.close()||(t=null)}),wt(t.g,"click",function(){t.focus()},!1)}(this),(w||Le).appendChild(this.g)}function g(t,o,r){return"string"==typeof t&&(t="center"===t?(o-r)/2|0:"right"===t||"bottom"===t?o-r:"%"===(""+(r=parseFloat(t))!==t&&t.substring((""+r).length))?o/100*r|0:r),t}function n(t){De.splice(De.indexOf(t),1),c(),t.removeClass("min"),t.min=!1,t.g.title=""}function c(){for(var h,t=De.length,o={},r={},d=0;d<t;d++)r[h=(h=De[d]).left+":"+h.top]?r[h]++:r[h]=1;d=0;for(var l,p,w;d<t;d++)l=(h=De[d]).left+":"+h.top,p=Math.min((m-h.left-h.right)/r[l],250),w=(w=h.g.getElementsByClassName("wb-title")[0]).clientHeight,o[l]||(o[l]=0),h.resize(p+1|0,0,!0).move(h.left+o[l]*p|0,B-h.bottom-w,!0),o[l]++}function u(t,o){function r(I){if(kt(I),t.min)t.minimize();else{var S;if((S="title"===o)&&(S=!t.g.classList.contains("no-max")),S){var R=(S=Date.now())-oe;if(oe=S,250>R)return void t.maximize()}t.max||(Le.classList.add("wb-drag"),(p=I.touches)&&(p=p[0])?(I=p,wt(window,"touchmove",d),wt(window,"touchend",h)):(wt(window,"mousemove",d),wt(window,"mouseup",h)),w=I.pageX,b=I.pageY,t.focus())}}function d(I){kt(I),p&&(I=I.touches[0]);var q,S=I.pageX,R=S-w,N=(I=I.pageY)-b;if("title"===o){t.x+=R,t.y+=N;var Z=q=1}else{if("e"===o||"se"===o||"ne"===o){t.width+=R;var le=1}else("w"===o||"sw"===o||"nw"===o)&&(t.x+=R,t.width-=R,Z=le=1);if("s"===o||"se"===o||"sw"===o){t.height+=N;var we=1}else("n"===o||"ne"===o||"nw"===o)&&(t.y+=N,t.height-=N,q=we=1)}(le||we)&&(le&&(t.width=Math.max(Math.min(t.width,m-t.x-t.right),150)),we&&(t.height=Math.max(Math.min(t.height,B-t.y-t.bottom),0)),t.resize()),(Z||q)&&(Z&&(t.x=Math.max(Math.min(t.x,m-t.width-t.right),t.left)),q&&(t.y=Math.max(Math.min(t.y,B-t.height-t.bottom),t.top)),t.move()),w=S,b=I}function h(I){kt(I),Le.classList.remove("wb-drag"),p?(window.removeEventListener("touchmove",d,!0),window.removeEventListener("touchend",h,!0)):(window.removeEventListener("mousemove",d,!0),window.removeEventListener("mouseup",h,!0))}var p,w,b,l=t.g.getElementsByClassName("wb-"+o)[0];wt(l,"mousedown",r),wt(l,"touchstart",r,{passive:!1})}function s(){if(ue=!1,document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)return document[ae](),!0}i.new=function(t){return new i(t)},(Kt=i.prototype).mount=function(t){return this.unmount(),t.h||(t.h=t.parentNode),this.body.textContent="",this.body.appendChild(t),this},Kt.unmount=function(t){var o=this.body.firstChild;if(o){var r=t||o.h;r&&r.appendChild(o),o.h=t}return this},Kt.setTitle=function(t){return t=this.title=t,this.g.getElementsByClassName("wb-title")[0].firstChild.nodeValue=t,this},Kt.setBackground=function(t){return V(this.g,"background",t),this},Kt.setUrl=function(t){return this.body.innerHTML='<iframe src="'+t+'"></iframe>',this},Kt.focus=function(){return ve!==this&&(V(this.g,"z-index",G++),this.addClass("focus"),ve&&(ve.removeClass("focus"),ve.onblur&&ve.onblur()),ve=this,this.onfocus&&this.onfocus()),this},Kt.hide=function(){return this.addClass("hide")},Kt.show=function(){return this.removeClass("hide")},Kt.minimize=function(t){return ue&&s(),!t&&this.min?(n(this),this.resize().move().focus()):!1===t||this.min||(De.push(this),c(),this.g.title=this.title,this.addClass("min"),this.min=!0),this.max&&(this.removeClass("max"),this.max=!1),this},Kt.maximize=function(t){return(typeof t>"u"||t!==this.max)&&(this.min&&n(this),(this.max=!this.max)?this.addClass("max").resize(m-this.left-this.right,B-this.top-this.bottom,!0).move(this.left,this.top,!0):this.resize().move().removeClass("max")),this},Kt.fullscreen=function(t){return(typeof t>"u"||t!==ue)&&(this.min&&(this.resize().move(),n(this)),ue&&s()||(this.body[Y](),ue=!0)),this},Kt.close=function(t){if(this.onclose&&this.onclose(t))return!0;this.min&&n(this),this.unmount(),this.g.parentNode.removeChild(this.g),ve===this&&(ve=null)},Kt.move=function(t,o,r){return t||0===t?r||(this.x=t?t=g(t,m-this.left-this.right,this.width):0,this.y=o?o=g(o,B-this.top-this.bottom,this.height):0):(t=this.x,o=this.y,this.l&&(0===t||t===m-this.width)&&this.resize(m/2,B)),V(this.g,"transform","translate("+t+"px,"+o+"px)"),this.onmove&&this.onmove(t,o),this},Kt.resize=function(t,o,r){return t||0===t?r||(this.width=t?t=g(t,m-this.left-this.right):0,this.height=o?o=g(o,B-this.top-this.bottom):0):(t=this.width,o=this.height),t=Math.max(t,this.j),o=Math.max(o,this.i),V(this.g,"width",t+"px"),V(this.g,"height",o+"px"),this.onresize&&this.onresize(t,o),this},Kt.addClass=function(t){return this.g.classList.add(t),this},Kt.removeClass=function(t){return this.g.classList.remove(t),this},window.WinBox=i}.call(this),function(Kt){"object"==typeof exports&&typeof module<"u"?module.exports=Kt():"function"==typeof define&&define.amd?define([],Kt):(typeof window>"u"?typeof global>"u"?typeof self>"u"?this:self:global:window).WebTorrent=Kt()}(function(){var Kt=Math.LN2,yn=Math.log,j=Math.pow,At=Math.abs,wt=Math.floor,kt=Math.round,V=Math.sin,De=Math.cos,Le=Math.PI,_=Math.imul,oe=Math.clz32,G=String.fromCharCode,ue=Math.max,ve=Math.ceil,Y=Math.min;return function m(B,i,g){function f(c,u){if(!i[c]){if(!B[c]){var s="function"==typeof require&&require;if(!u&&s)return s(c,!0);if(x)return x(c,!0);var t=new Error("Cannot find module '"+c+"'");throw t.code="MODULE_NOT_FOUND",t}var o=i[c]={exports:{}};B[c][0].call(o.exports,function(r){return f(B[c][1][r]||r)},o,o.exports,m,B,i,g)}return i[c].exports}for(var x="function"==typeof require&&require,n=0;n<g.length;n++)f(g[n]);return f}({1:[function(m,B){const i=m("stream"),g=m("debug"),f=m("end-of-stream"),x=g("webtorrent:file-stream");B.exports=class n extends i.Readable{constructor(u,s){super(s),this._torrent=u._torrent;const t=s&&s.start||0,o=s&&s.end&&s.end<u.length?s.end:u.length-1,r=u._torrent.pieceLength;this._startPiece=0|(t+u.offset)/r,this._endPiece=0|(o+u.offset)/r,this._piece=this._startPiece,this._offset=t+u.offset-this._startPiece*r,this._missing=o-t+1,this._reading=!1,this._notifying=!1,this._criticalLength=Y(0|1048576/r,2),this._torrent.select(this._startPiece,this._endPiece,!0,()=>{this._notify()}),f(this,d=>{this.destroy(d)})}_read(){this._reading||(this._reading=!0,this._notify())}_notify(){if(!this._reading||0===this._missing)return;if(!this._torrent.bitfield.get(this._piece))return this._torrent.critical(this._piece,this._piece+this._criticalLength);if(this._notifying)return;if(this._notifying=!0,this._torrent.destroyed)return this.destroy(new Error("Torrent removed"));const u=this._piece,s={};u===this._torrent.pieces.length-1&&(s.length=this._torrent.lastPieceLength),this._torrent.store.get(u,s,(t,o)=>{if(this._notifying=!1,!this.destroyed)return x("read %s (length %s) (err %s)",u,o&&o.length,t&&t.message),t?this.destroy(t):(this._offset&&(o=o.slice(this._offset),this._offset=0),this._missing<o.length&&(o=o.slice(0,this._missing)),this._missing-=o.length,x("pushing buffer of length %s",o.length),this._reading=!1,this.push(o),void(0===this._missing&&this.push(null)))}),this._piece+=1}_destroy(u,s){this._torrent.destroyed||this._torrent.deselect(this._startPiece,this._endPiece,!0),s(u)}}},{debug:105,"end-of-stream":135,stream:72}],2:[function(m,B){const i=m("events"),{PassThrough:g}=m("stream"),f=m("path"),x=m("render-media"),n=m("stream-to-blob"),c=m("stream-to-blob-url"),u=m("stream-with-known-length-to-buffer"),s=m("queue-microtask"),t=m("range-parser"),o=m("mime"),r=m("end-of-stream"),d=m("./file-stream.js");B.exports=class h extends i{constructor(p,w){super(),this._torrent=p,this._destroyed=!1,this._fileStreams=new Set,this.name=w.name,this.path=w.path,this.length=w.length,this.offset=w.offset,this.done=!1;const b=w.offset,I=b+w.length-1;this._startPiece=0|b/this._torrent.pieceLength,this._endPiece=0|I/this._torrent.pieceLength,0===this.length&&(this.done=!0,this.emit("done")),this._serviceWorker=p.client.serviceWorker}get downloaded(){if(this._destroyed||!this._torrent.bitfield)return 0;const{pieces:p,bitfield:w,pieceLength:b,lastPieceLength:I}=this._torrent,{_startPiece:S,_endPiece:R}=this,N=le=>le===p.length-1?I:b,q=le=>{const we=le===p.length-1?I:b;return w.get(le)?we:we-p[le].missing};let Z=0;for(let le=S;le<=R;le+=1){const we=q(le);if(Z+=we,le===S&&(Z-=Y(this.offset%b,we)),le===R){const ke=N(R)-(this.offset+this.length)%b;Z-=Y(ke,we)}}return Z}get progress(){return this.length?this.downloaded/this.length:0}select(p){0===this.length||this._torrent.select(this._startPiece,this._endPiece,p)}deselect(){0===this.length||this._torrent.deselect(this._startPiece,this._endPiece,!1)}createReadStream(p){if(0===this.length){const b=new g;return s(()=>{b.end()}),b}const w=new d(this,p);return this._fileStreams.add(w),w.once("close",()=>{this._fileStreams.delete(w)}),w}getBuffer(p){u(this.createReadStream(),this.length,p)}getBlob(p){if(typeof window>"u")throw new Error("browser-only method");n(this.createReadStream(),this._getMimeType()).then(w=>p(null,w),w=>p(w))}getBlobURL(p){if(typeof window>"u")throw new Error("browser-only method");c(this.createReadStream(),this._getMimeType()).then(w=>p(null,w),w=>p(w))}appendTo(p,w,b){if(typeof window>"u")throw new Error("browser-only method");x.append(this,p,w,b)}renderTo(p,w,b){if(typeof window>"u")throw new Error("browser-only method");x.render(this,p,w,b)}_serve(p){const w={status:200,headers:{"Accept-Ranges":"bytes","Content-Type":o.getType(this.name),"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0",Expires:"0"},body:"HEAD"===p.method?"":"STREAM"};"document"===p.destination&&(w.headers["Content-Type"]="application/octet-stream",w.headers["Content-Disposition"]="attachment",w.body="DOWNLOAD");let b=t(this.length,p.headers.range||"");b.constructor===Array?(w.status=206,b=b[0],w.headers["Content-Range"]=`bytes ${b.start}-${b.end}/${this.length}`,w.headers["Content-Length"]=""+(b.end-b.start+1)):w.headers["Content-Length"]=this.length;const I="GET"===p.method&&this.createReadStream(b);let S=null;return I&&this.emit("stream",{stream:I,req:p,file:this},R=>{S=R,r(R,()=>{R&&R.destroy(),I.destroy()})}),[w,S||I,S&&I]}getStreamURL(p=(()=>{})){if(typeof window>"u")throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if("activated"!==this._serviceWorker.state)throw new Error("Worker isn't activated");p(null,`${this._serviceWorker.scriptURL.substr(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`)}streamTo(p,w=(()=>{})){if(typeof window>"u")throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if("activated"!==this._serviceWorker.state)throw new Error("Worker isn't activated");const b=this._serviceWorker.scriptURL.substr(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length);p.src=`${b}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`,w(null,p)}_getMimeType(){return x.mime[f.extname(this.name).toLowerCase()]}_destroy(){this._destroyed=!0,this._torrent=null;for(const p of this._fileStreams)p.destroy();this._fileStreams.clear()}}},{"./file-stream.js":1,"end-of-stream":135,events:70,mime:177,path:71,"queue-microtask":218,"range-parser":223,"render-media":241,stream:72,"stream-to-blob":273,"stream-to-blob-url":272,"stream-with-known-length-to-buffer":274}],3:[function(m,B,i){const g=m("events"),{Transform:f}=m("stream"),x=m("unordered-array-remove"),n=m("debug"),c=m("bittorrent-protocol"),u=n("webtorrent:peer");let s=!1;i.enableSecure=()=>{s=!0},i.createWebRTCPeer=(d,h,l)=>{const p=new r(d.id,"webrtc");if(p.conn=d,p.swarm=h,p.throttleGroups=l,p.conn.connected)p.onConnect();else{const w=()=>{p.conn.removeListener("connect",b),p.conn.removeListener("error",I)},b=()=>{w(),p.onConnect()},I=S=>{w(),p.destroy(S)};p.conn.once("connect",b),p.conn.once("error",I),p.startConnectTimeout()}return p},i.createTCPIncomingPeer=(d,h)=>t(d,"tcpIncoming",h),i.createUTPIncomingPeer=(d,h)=>t(d,"utpIncoming",h),i.createTCPOutgoingPeer=(d,h,l)=>o(d,h,"tcpOutgoing",l),i.createUTPOutgoingPeer=(d,h,l)=>o(d,h,"utpOutgoing",l);const t=(d,h,l)=>{const p=`${d.remoteAddress}:${d.remotePort}`,w=new r(p,h);return w.conn=d,w.addr=p,w.throttleGroups=l,w.onConnect(),w},o=(d,h,l,p)=>{const w=new r(d,l);return w.addr=d,w.swarm=h,w.throttleGroups=p,w};i.createWebSeedPeer=(d,h,l,p)=>{const w=new r(h,"webSeed");return w.swarm=l,w.conn=d,w.throttleGroups=p,w.onConnect(),w};class r extends g{constructor(h,l){super(),this.id=h,this.type=l,u("new %s Peer %s",l,h),this.addr=null,this.conn=null,this.swarm=null,this.wire=null,this.connected=!1,this.destroyed=!1,this.timeout=null,this.retries=0,this.sentPe1=!1,this.sentPe2=!1,this.sentPe3=!1,this.sentPe4=!1,this.sentHandshake=!1}onConnect(){if(!this.destroyed){this.connected=!0,u("Peer %s connected",this.id),clearTimeout(this.connectTimeout);const h=this.conn;h.once("end",()=>{this.destroy()}),h.once("close",()=>{this.destroy()}),h.once("finish",()=>{this.destroy()}),h.once("error",p=>{this.destroy(p)});const l=this.wire=new c(this.type,this.retries,s);l.once("end",()=>{this.destroy()}),l.once("close",()=>{this.destroy()}),l.once("finish",()=>{this.destroy()}),l.once("error",p=>{this.destroy(p)}),l.once("pe1",()=>{this.onPe1()}),l.once("pe2",()=>{this.onPe2()}),l.once("pe3",()=>{this.onPe3()}),l.once("pe4",()=>{this.onPe4()}),l.once("handshake",(p,w)=>{this.onHandshake(p,w)}),this.startHandshakeTimeout(),this.setThrottlePipes(),this.swarm&&("tcpOutgoing"===this.type?s&&0===this.retries&&!this.sentPe1?this.sendPe1():!this.sentHandshake&&this.handshake():"tcpIncoming"!==this.type&&!this.sentHandshake&&this.handshake())}}sendPe1(){this.wire.sendPe1(),this.sentPe1=!0}onPe1(){this.sendPe2()}sendPe2(){this.wire.sendPe2(),this.sentPe2=!0}onPe2(){this.sendPe3()}sendPe3(){this.wire.sendPe3(this.swarm.infoHash),this.sentPe3=!0}onPe3(h){this.swarm&&(this.swarm.infoHashHash!==h&&this.destroy(new Error("unexpected crypto handshake info hash for this swarm")),this.sendPe4())}sendPe4(){this.wire.sendPe4(this.swarm.infoHash),this.sentPe4=!0}onPe4(){this.sentHandshake||this.handshake()}clearPipes(){this.conn.unpipe(),this.wire.unpipe()}setThrottlePipes(){const h=this;this.conn.pipe(this.throttleGroups.down.throttle()).pipe(new f({transform(l,p,w){h.emit("download",l.length),h.destroyed||w(null,l)}})).pipe(this.wire).pipe(this.throttleGroups.up.throttle()).pipe(new f({transform(l,p,w){h.emit("upload",l.length),h.destroyed||w(null,l)}})).pipe(this.conn)}onHandshake(h,l){if(!this.swarm||this.destroyed)return;if(this.swarm.destroyed)return this.destroy(new Error("swarm already destroyed"));if(h!==this.swarm.infoHash)return this.destroy(new Error("unexpected handshake info hash for this swarm"));if(l===this.swarm.peerId)return this.destroy(new Error("refusing to connect to ourselves"));u("Peer %s got handshake %s",this.id,h),clearTimeout(this.handshakeTimeout),this.retries=0;let p=this.addr;!p&&this.conn.remoteAddress&&this.conn.remotePort&&(p=`${this.conn.remoteAddress}:${this.conn.remotePort}`),this.swarm._onWire(this.wire,p),this.swarm&&!this.swarm.destroyed&&(this.sentHandshake||this.handshake())}handshake(){this.wire.handshake(this.swarm.infoHash,this.swarm.client.peerId,{dht:!this.swarm.private&&!!this.swarm.client.dht}),this.sentHandshake=!0}startConnectTimeout(){clearTimeout(this.connectTimeout),this.connectTimeout=setTimeout(()=>{this.destroy(new Error("connect timeout"))},{webrtc:25e3,tcpOutgoing:5e3,utpOutgoing:5e3}[this.type]),this.connectTimeout.unref&&this.connectTimeout.unref()}startHandshakeTimeout(){clearTimeout(this.handshakeTimeout),this.handshakeTimeout=setTimeout(()=>{this.destroy(new Error("handshake timeout"))},25e3),this.handshakeTimeout.unref&&this.handshakeTimeout.unref()}destroy(h){if(this.destroyed)return;this.destroyed=!0,this.connected=!1,u("destroy %s %s (error: %s)",this.type,this.id,h&&(h.message||h)),clearTimeout(this.connectTimeout),clearTimeout(this.handshakeTimeout);const l=this.swarm,p=this.conn,w=this.wire;this.swarm=null,this.conn=null,this.wire=null,l&&w&&x(l.wires,l.wires.indexOf(w)),p&&(p.on("error",()=>{}),p.destroy()),w&&w.destroy(),l&&l.removePeer(this.id)}}},{"bittorrent-protocol":32,debug:105,events:70,stream:72,"unordered-array-remove":284}],4:[function(m,B){B.exports=class{constructor(i){this._torrent=i,this._numPieces=i.pieces.length,this._pieces=Array(this._numPieces),this._onWire=g=>{this.recalculate(),this._initWire(g)},this._onWireHave=g=>{this._pieces[g]+=1},this._onWireBitfield=()=>{this.recalculate()},this._torrent.wires.forEach(g=>{this._initWire(g)}),this._torrent.on("wire",this._onWire),this.recalculate()}getRarestPiece(i){let g=[],f=1/0;for(let x=0;x<this._numPieces;++x){if(i&&!i(x))continue;const n=this._pieces[x];n===f?g.push(x):n<f&&(g=[x],f=n)}return g.length?g[0|Math.random()*g.length]:-1}destroy(){this._torrent.removeListener("wire",this._onWire),this._torrent.wires.forEach(i=>{this._cleanupWireEvents(i)}),this._torrent=null,this._pieces=null,this._onWire=null,this._onWireHave=null,this._onWireBitfield=null}_initWire(i){i._onClose=()=>{this._cleanupWireEvents(i);for(let g=0;g<this._numPieces;++g)this._pieces[g]-=i.peerPieces.get(g)},i.on("have",this._onWireHave),i.on("bitfield",this._onWireBitfield),i.once("close",i._onClose)}recalculate(){this._pieces.fill(0);for(const i of this._torrent.wires)for(let g=0;g<this._numPieces;++g)this._pieces[g]+=i.peerPieces.get(g)}_cleanupWireEvents(i){i.removeListener("have",this._onWireHave),i.removeListener("bitfield",this._onWireBitfield),i._onClose&&i.removeListener("close",i._onClose),i._onClose=null}}},{}],5:[function(m,B){(function(i,g){(function(){function f(Je,ie){return 2+ve(ie*Je.downloadSpeed()/L.BLOCK_LENGTH)}function c(){}const u=m("events"),s=m("fs"),t=m("net"),o=m("os"),r=m("path"),d=m("addr-to-ip-port"),{default:h}=m("bitfield"),l=m("cache-chunk-store"),p=m("chunk-store-stream/write"),w=m("cpus"),b=m("debug"),I=m("torrent-discovery"),S=m("fs-chunk-store"),R=m("simple-get"),N=m("immediate-chunk-store"),q=m("lt_donthave"),Z=m("memory-chunk-store"),le=m("multistream"),we=m("run-parallel"),ke=m("run-parallel-limit"),A=m("parse-torrent"),L=m("torrent-piece"),z=m("pump"),y=m("queue-microtask"),C=m("random-iterate"),M=m("simple-sha1"),U=m("speedometer"),ee=m("ut_metadata"),J=m("ut_pex"),re=m("./file.js"),Ue=m("./peer.js"),We=m("./rarity-map.js"),Qe=m("./server.js"),ft=m("./utp.js"),pt=m("./webconn.js"),Xt=b("webtorrent:torrent"),Ft=3*L.BLOCK_LENGTH,mt=i.browser?w().length:2,St=[1e3,5e3,15e3],se=`WebTorrent/${m("../package.json").version} (https://webtorrent.io)`;let X;try{X=r.join(s.statSync("/tmp")&&"/tmp","webtorrent")}catch{X=r.join("function"==typeof o.tmpdir?o.tmpdir():"/","webtorrent")}B.exports=class ce extends u{constructor(ie,pe,Ye){super(),this._debugId="unknown infohash",this.client=pe,this.announce=Ye.announce,this.urlList=Ye.urlList,this.path=Ye.path||X,this.addUID=Ye.addUID||!1,this.skipVerify=!!Ye.skipVerify,this._store=Ye.store||S,this._preloadedStore=Ye.preloadedStore||null,this._storeCacheSlots=void 0===Ye.storeCacheSlots?20:Ye.storeCacheSlots,this._destroyStoreOnDestroy=Ye.destroyStoreOnDestroy||!1,this._getAnnounceOpts=Ye.getAnnounceOpts,"boolean"==typeof Ye.private&&(this.private=Ye.private),this.strategy=Ye.strategy||"sequential",this.maxWebConns=Ye.maxWebConns||4,this._rechokeNumSlots=!1===Ye.uploads||0===Ye.uploads?0:+Ye.uploads||10,this._rechokeOptimisticWire=null,this._rechokeOptimisticTime=0,this._rechokeIntervalId=null,this.ready=!1,this.destroyed=!1,this.paused=Ye.paused||!1,this.done=!1,this.metadata=null,this.store=null,this.storeOpts=Ye.storeOpts,this.files=[],this.pieces=[],this._amInterested=!1,this._selections=[],this._critical=[],this.wires=[],this._queue=[],this._peers={},this._peersLength=0,this.received=0,this.uploaded=0,this._downloadSpeed=U(),this._uploadSpeed=U(),this._servers=[],this._xsRequests=[],this._fileModtimes=Ye.fileModtimes,null!==ie&&this._onTorrentId(ie),this._debug("new torrent")}get timeRemaining(){return this.done?0:0===this.downloadSpeed?1/0:(this.length-this.downloaded)/this.downloadSpeed*1e3}get downloaded(){if(!this.bitfield)return 0;let ie=0;for(let pe=0,Ye=this.pieces.length;pe<Ye;++pe)if(this.bitfield.get(pe))ie+=pe===Ye-1?this.lastPieceLength:this.pieceLength;else{const at=this.pieces[pe];ie+=at.length-at.missing}return ie}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){return this.length?this.downloaded/this.length:0}get ratio(){return this.uploaded/(this.received||this.length)}get numPeers(){return this.wires.length}get torrentFileBlobURL(){if(typeof window>"u")throw new Error("browser-only property");return this.torrentFile?URL.createObjectURL(new Blob([this.torrentFile],{type:"application/x-bittorrent"})):null}get _numQueued(){return this._queue.length+(this._peersLength-this._numConns)}get _numConns(){let ie=0;for(const pe in this._peers)this._peers[pe].connected&&(ie+=1);return ie}_onTorrentId(ie){if(this.destroyed)return;let pe;try{pe=A(ie)}catch{}pe?(this.infoHash=pe.infoHash,this._debugId=pe.infoHash.toString("hex").substring(0,7),y(()=>{this.destroyed||this._onParsedTorrent(pe)})):A.remote(ie,(Ye,at)=>this.destroyed?void 0:Ye?this._destroy(Ye):void this._onParsedTorrent(at))}_onParsedTorrent(ie){if(!this.destroyed){if(this._processParsedTorrent(ie),!this.infoHash)return this._destroy(new Error("Malformed torrent data: No info hash"));this._rechokeIntervalId=setInterval(()=>{this._rechoke()},1e4),this._rechokeIntervalId.unref&&this._rechokeIntervalId.unref(),this.emit("_infoHash",this.infoHash),!this.destroyed&&(this.emit("infoHash",this.infoHash),this.destroyed||(this.client.listening?this._onListening():this.client.once("listening",()=>{this._onListening()})))}}_processParsedTorrent(ie){this._debugId=ie.infoHash.toString("hex").substring(0,7),typeof this.private<"u"&&(ie.private=this.private),this.announce&&(ie.announce=ie.announce.concat(this.announce)),this.client.tracker&&g.WEBTORRENT_ANNOUNCE&&!ie.private&&(ie.announce=ie.announce.concat(g.WEBTORRENT_ANNOUNCE)),this.urlList&&(ie.urlList=ie.urlList.concat(this.urlList)),ie.announce=Array.from(new Set(ie.announce)),ie.urlList=Array.from(new Set(ie.urlList)),Object.assign(this,ie),this.magnetURI=A.toMagnetURI(ie),this.torrentFile=A.toTorrentFile(ie)}_onListening(){this.destroyed||(this.info?this._onMetadata(this):(this.xs&&this._getMetadataFromServer(),this._startDiscovery()))}_startDiscovery(){if(this.discovery||this.destroyed)return;let ie=this.client.tracker;ie&&(ie=Object.assign({},this.client.tracker,{getAnnounceOpts:()=>{if(!this.destroyed){const pe={uploaded:this.uploaded,downloaded:this.downloaded,left:ue(this.length-this.downloaded,0)};return this.client.tracker.getAnnounceOpts&&Object.assign(pe,this.client.tracker.getAnnounceOpts()),this._getAnnounceOpts&&Object.assign(pe,this._getAnnounceOpts()),pe}}})),this.peerAddresses&&this.peerAddresses.forEach(pe=>this.addPeer(pe)),this.discovery=new I({infoHash:this.infoHash,announce:this.announce,peerId:this.client.peerId,dht:!this.private&&this.client.dht,tracker:ie,port:this.client.torrentPort,userAgent:se,lsd:this.client.lsd}),this.discovery.on("error",pe=>{this._destroy(pe)}),this.discovery.on("peer",(pe,Ye)=>{this._debug("peer %s discovered via %s",pe,Ye),"string"==typeof pe&&this.done||this.addPeer(pe)}),this.discovery.on("trackerAnnounce",()=>{this.emit("trackerAnnounce"),0===this.numPeers&&this.emit("noPeers","tracker")}),this.discovery.on("dhtAnnounce",()=>{this.emit("dhtAnnounce"),0===this.numPeers&&this.emit("noPeers","dht")}),this.discovery.on("warning",pe=>{this.emit("warning",pe)})}_getMetadataFromServer(){const pe=this,at=(Array.isArray(this.xs)?this.xs:[this.xs]).map(dt=>Gt=>{!function ie(dt,Gt){if(0!==dt.indexOf("http://")&&0!==dt.indexOf("https://"))return pe.emit("warning",new Error(`skipping non-http xs param: ${dt}`)),Gt(null);let an;try{an=R.concat({url:dt,method:"GET",headers:{"user-agent":se}},function Jt(Cn,hn,En){if(pe.destroyed||pe.metadata)return Gt(null);if(Cn)return pe.emit("warning",new Error(`http error from xs param: ${dt}`)),Gt(null);if(200!==hn.statusCode)return pe.emit("warning",new Error(`non-200 status code ${hn.statusCode} from xs param: ${dt}`)),Gt(null);let Xn;try{Xn=A(En)}catch{}return Xn?Xn.infoHash===pe.infoHash?(pe._onMetadata(Xn),void Gt(null)):(pe.emit("warning",new Error(`got torrent file with incorrect info hash from xs param: ${dt}`)),Gt(null)):(pe.emit("warning",new Error(`got invalid torrent file from xs param: ${dt}`)),Gt(null))})}catch{return pe.emit("warning",new Error(`skipping invalid url xs param: ${dt}`)),Gt(null)}pe._xsRequests.push(an)}(dt,Gt)});we(at)}_onMetadata(ie){if(this.metadata||this.destroyed)return;let pe;if(this._debug("got metadata"),this._xsRequests.forEach(at=>{at.abort()}),this._xsRequests=[],ie&&ie.infoHash)pe=ie;else try{pe=A(ie)}catch(at){return this._destroy(at)}this._processParsedTorrent(pe),this.metadata=this.torrentFile,this.client.enableWebSeeds&&this.urlList.forEach(at=>{this.addWebSeed(at)}),this._rarityMap=new We(this),this.files=this.files.map(at=>new re(this,at));let Ye=this._preloadedStore;if(Ye||(Ye=new this._store(this.pieceLength,{...this.storeOpts,torrent:this,path:this.path,files:this.files,length:this.length,name:this.name+" - "+this.infoHash.slice(0,8),addUID:this.addUID})),0<this._storeCacheSlots&&!(Ye instanceof Z)&&(Ye=new l(Ye,{max:this._storeCacheSlots})),this.store=new N(Ye),this.so?this.files.forEach((at,dt)=>{this.so.includes(dt)?this.files[dt].select():this.files[dt].deselect()}):0!==this.pieces.length&&this.select(0,this.pieces.length-1,!1),this._hashes=this.pieces,this.pieces=this.pieces.map((at,dt)=>new L(dt===this.pieces.length-1?this.lastPieceLength:this.pieceLength)),this._reservations=this.pieces.map(()=>[]),this.bitfield=new h(this.pieces.length),this.wires.forEach(at=>{at.ut_metadata&&at.ut_metadata.setMetadata(this.metadata),this._onWireWithMetadata(at)}),this.emit("metadata"),!this.destroyed)if(this.skipVerify)this._markAllVerified(),this._onStore();else{const at=dt=>dt?this._destroy(dt):(this._debug("done verifying"),void this._onStore());this._debug("verifying existing torrent data"),this._fileModtimes&&this._store===S?this.getFileModtimes((dt,Gt)=>{if(dt)return this._destroy(dt);this.files.map((an,Cn)=>Gt[Cn]===this._fileModtimes[Cn]).every(an=>an)?(this._markAllVerified(),this._onStore()):this._verifyPieces(at)}):this._verifyPieces(at)}}getFileModtimes(ie){const pe=[];ke(this.files.map((Ye,at)=>dt=>{const Gt=this.addUID?r.join(this.name+" - "+this.infoHash.slice(0,8)):r.join(this.path,Ye.path);s.stat(Gt,(Jt,an)=>Jt&&"ENOENT"!==Jt.code?dt(Jt):(pe[at]=an&&an.mtime.getTime(),void dt(null)))}),mt,Ye=>{this._debug("done getting file modtimes"),ie(Ye,pe)})}_verifyPieces(ie){ke(this.pieces.map((pe,Ye)=>at=>{if(this.destroyed)return at(new Error("torrent is destroyed"));const dt={};Ye===this.pieces.length-1&&(dt.length=this.lastPieceLength),this.store.get(Ye,dt,(Gt,Jt)=>this.destroyed?at(new Error("torrent is destroyed")):Gt?y(()=>at(null)):void M(Jt,an=>this.destroyed?at(new Error("torrent is destroyed")):(an===this._hashes[Ye]?(this._debug("piece verified %s",Ye),this._markVerified(Ye)):this._debug("piece invalid %s",Ye),void at(null))))}),mt,ie)}rescanFiles(ie){if(this.destroyed)throw new Error("torrent is destroyed");ie||(ie=c),this._verifyPieces(pe=>pe?(this._destroy(pe),ie(pe)):(this._checkDone(),void ie(null)))}_markAllVerified(){for(let ie=0;ie<this.pieces.length;ie++)this._markVerified(ie)}_markVerified(ie){this.pieces[ie]=null,this._reservations[ie]=null,this.bitfield.set(ie,!0)}_onStore(){this.destroyed||(this._debug("on store"),this._startDiscovery(),this.ready=!0,this.emit("ready"),this._checkDone(),this._updateSelections())}destroy(ie,pe){return"function"==typeof ie?this.destroy(null,ie):void this._destroy(null,ie,pe)}_destroy(ie,pe,Ye){if("function"==typeof pe)return this._destroy(ie,null,pe);if(!this.destroyed){for(const dt in this.destroyed=!0,this._debug("destroy"),this.client._remove(this),clearInterval(this._rechokeIntervalId),this._xsRequests.forEach(Gt=>{Gt.abort()}),this._rarityMap&&this._rarityMap.destroy(),this._peers)this.removePeer(dt);this.files.forEach(dt=>{dt instanceof re&&dt._destroy()});const at=this._servers.map(dt=>Gt=>{dt.destroy(Gt)});if(this.discovery&&at.push(dt=>{this.discovery.destroy(dt)}),this.store){let dt=this._destroyStoreOnDestroy;pe&&void 0!==pe.destroyStore&&(dt=pe.destroyStore),at.push(Gt=>{dt?this.store.destroy(Gt):this.store.close(Gt)})}we(at,Ye),ie&&(0===this.listenerCount("error")?this.client.emit("error",ie):this.emit("error",ie)),this.emit("close"),this.client=null,this.files=[],this.discovery=null,this.store=null,this._rarityMap=null,this._peers=null,this._servers=null,this._xsRequests=null}}addPeer(ie){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.infoHash)throw new Error("addPeer() must not be called before the `infoHash` event");let pe;if(this.client.blocked){if("string"==typeof ie){let dt;try{dt=d(ie)}catch{return this._debug("ignoring peer: invalid %s",ie),this.emit("invalidPeer",ie),!1}pe=dt[0]}else"string"==typeof ie.remoteAddress&&(pe=ie.remoteAddress);if(pe&&this.client.blocked.contains(pe))return this._debug("ignoring peer: blocked %s",ie),"string"!=typeof ie&&ie.destroy(),this.emit("blockedPeer",ie),!1}const Ye=this.client.utp&&this._isIPv4(pe)?"utp":"tcp",at=!!this._addPeer(ie,Ye);return this.emit(at?"peer":"invalidPeer",ie),at}_addPeer(ie,pe){if(this.destroyed)return"string"!=typeof ie&&ie.destroy(),null;if("string"==typeof ie&&!this._validAddr(ie))return this._debug("ignoring peer: invalid %s",ie),null;const Ye=ie&&ie.id||ie;if(this._peers[Ye])return this._debug("ignoring peer: duplicate (%s)",Ye),"string"!=typeof ie&&ie.destroy(),null;if(this.paused)return this._debug("ignoring peer: torrent is paused"),"string"!=typeof ie&&ie.destroy(),null;let at;return this._debug("add peer %s",Ye),at="string"==typeof ie?"utp"===pe?Ue.createUTPOutgoingPeer(ie,this,this.client.throttleGroups):Ue.createTCPOutgoingPeer(ie,this,this.client.throttleGroups):Ue.createWebRTCPeer(ie,this,this.client.throttleGroups),this._registerPeer(at),"string"==typeof ie&&(this._queue.push(at),this._drain()),at}addWebSeed(ie){if(this.destroyed)throw new Error("torrent is destroyed");let pe,Ye;if("string"==typeof ie){if(pe=ie,!/^https?:\/\/.+/.test(pe))return this.emit("warning",new Error(`ignoring invalid web seed: ${pe}`)),void this.emit("invalidPeer",pe);if(this._peers[pe])return this.emit("warning",new Error(`ignoring duplicate web seed: ${pe}`)),void this.emit("invalidPeer",pe);Ye=new pt(pe,this)}else{if(!ie||"string"!=typeof ie.connId)return void this.emit("warning",new Error("addWebSeed must be passed a string or connection object with id property"));if(Ye=ie,pe=Ye.connId,this._peers[pe])return this.emit("warning",new Error(`ignoring duplicate web seed: ${pe}`)),void this.emit("invalidPeer",pe)}this._debug("add web seed %s",pe);const at=Ue.createWebSeedPeer(Ye,pe,this,this.client.throttleGroups);this._registerPeer(at),this.emit("peer",pe)}_addIncomingPeer(ie){return this.destroyed?ie.destroy(new Error("torrent is destroyed")):this.paused?ie.destroy(new Error("torrent is paused")):(this._debug("add incoming peer %s",ie.id),void this._registerPeer(ie))}_registerPeer(ie){ie.on("download",pe=>{this.destroyed||(this.received+=pe,this._downloadSpeed(pe),this.client._downloadSpeed(pe),this.emit("download",pe),this.destroyed||this.client.emit("download",pe))}),ie.on("upload",pe=>{this.destroyed||(this.uploaded+=pe,this._uploadSpeed(pe),this.client._uploadSpeed(pe),this.emit("upload",pe),this.destroyed||this.client.emit("upload",pe))}),this._peers[ie.id]=ie,this._peersLength+=1}removePeer(ie){const pe=ie&&ie.id||ie;(ie=this._peers[pe])&&(this._debug("removePeer %s",pe),delete this._peers[pe],this._peersLength-=1,ie.destroy(),this._drain())}select(ie,pe,Ye,at){if(this.destroyed)throw new Error("torrent is destroyed");if(0>ie||pe<ie||this.pieces.length<=pe)throw new Error(`invalid selection ${ie} : ${pe}`);this._debug("select %s-%s (priority %s)",ie,pe,Ye=+Ye||0),this._selections.push({from:ie,to:pe,offset:0,priority:Ye,notify:at||c}),this._selections.sort((dt,Gt)=>Gt.priority-dt.priority),this._updateSelections()}deselect(ie,pe,Ye){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("deselect %s-%s (priority %s)",ie,pe,Ye=+Ye||0);for(let at=0;at<this._selections.length;++at){const dt=this._selections[at];if(dt.from===ie&&dt.to===pe&&dt.priority===Ye){this._selections.splice(at,1);break}}this._updateSelections()}critical(ie,pe){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("critical %s-%s",ie,pe);for(let Ye=ie;Ye<=pe;++Ye)this._critical[Ye]=!0;this._updateSelections()}_onWire(ie,pe){if(this._debug("got wire %s (%s)",ie._debugId,pe||"Unknown"),this.wires.push(ie),pe){const Ye=d(pe);ie.remoteAddress=Ye[0],ie.remotePort=Ye[1]}this.client.dht&&this.client.dht.listening&&ie.on("port",Ye=>this.destroyed||this.client.dht.destroyed?void 0:ie.remoteAddress?0===Ye||65536<Ye?this._debug("ignoring invalid PORT from peer"):(this._debug("port: %s (from %s)",Ye,pe),void this.client.dht.addNode({host:ie.remoteAddress,port:Ye})):this._debug("ignoring PORT from peer with no address")),ie.on("timeout",()=>{this._debug("wire timeout (%s)",pe),ie.destroy()}),"webSeed"!==ie.type&&ie.setTimeout(3e4,!0),ie.setKeepAlive(!0),ie.use(ee(this.metadata)),ie.ut_metadata.on("warning",Ye=>{this._debug("ut_metadata warning: %s",Ye.message)}),this.metadata||(ie.ut_metadata.on("metadata",Ye=>{this._debug("got metadata via ut_metadata"),this._onMetadata(Ye)}),ie.ut_metadata.fetch()),"function"!=typeof J||this.private||(ie.use(J()),ie.ut_pex.on("peer",Ye=>{this.done||(this._debug("ut_pex: got peer: %s (from %s)",Ye,pe),this.addPeer(Ye))}),ie.ut_pex.on("dropped",Ye=>{const at=this._peers[Ye];at&&!at.connected&&(this._debug("ut_pex: dropped peer: %s (from %s)",Ye,pe),this.removePeer(Ye))}),ie.once("close",()=>{ie.ut_pex.reset()})),ie.use(q()),this.emit("wire",ie,pe),this.metadata&&y(()=>{this._onWireWithMetadata(ie)})}_onWireWithMetadata(ie){let pe=null;const Ye=()=>{this.destroyed||ie.destroyed||(this._numQueued>2*(this._numConns-this.numPeers)&&ie.amInterested?ie.destroy():(pe=setTimeout(Ye,5e3),pe.unref&&pe.unref()))};let at;const dt=()=>{if(ie.peerPieces.buffer.length===this.bitfield.buffer.length){for(at=0;at<this.pieces.length;++at)if(!ie.peerPieces.get(at))return;ie.isSeeder=!0,ie.choke()}};ie.on("bitfield",()=>{dt(),this._update(),this._updateWireInterest(ie)}),ie.on("have",()=>{dt(),this._update(),this._updateWireInterest(ie)}),ie.lt_donthave.on("donthave",()=>{dt(),this._update(),this._updateWireInterest(ie)}),ie.once("interested",()=>{ie.unchoke()}),ie.once("close",()=>{clearTimeout(pe)}),ie.on("choke",()=>{clearTimeout(pe),pe=setTimeout(Ye,5e3),pe.unref&&pe.unref()}),ie.on("unchoke",()=>{clearTimeout(pe),this._update()}),ie.on("request",(Gt,Jt,an,Cn)=>an>131072?ie.destroy():void(this.pieces[Gt]||this.store.get(Gt,{offset:Jt,length:an},Cn))),ie.bitfield(this.bitfield),this._updateWireInterest(ie),ie.peerExtensions.dht&&this.client.dht&&this.client.dht.listening&&ie.port(this.client.dht.address().port),"webSeed"!==ie.type&&(pe=setTimeout(Ye,5e3),pe.unref&&pe.unref()),ie.isSeeder=!1,dt()}_updateSelections(){!this.ready||this.destroyed||(y(()=>{this._gcSelections()}),this._updateInterest(),this._update())}_gcSelections(){for(let ie=0;ie<this._selections.length;++ie){const pe=this._selections[ie],Ye=pe.offset;for(;this.bitfield.get(pe.from+pe.offset)&&pe.from+pe.offset<pe.to;)pe.offset+=1;Ye!==pe.offset&&pe.notify(),pe.to===pe.from+pe.offset&&this.bitfield.get(pe.from+pe.offset)&&(this._selections.splice(ie,1),ie-=1,pe.notify(),this._updateInterest())}this._selections.length||this.emit("idle")}_updateInterest(){const ie=this._amInterested;this._amInterested=!!this._selections.length,this.wires.forEach(pe=>this._updateWireInterest(pe)),ie===this._amInterested||this.emit(this._amInterested?"interested":"uninterested")}_updateWireInterest(ie){let pe=!1;for(let Ye=0;Ye<this.pieces.length;++Ye)if(this.pieces[Ye]&&ie.peerPieces.get(Ye)){pe=!0;break}pe?ie.interested():ie.uninterested()}_update(){if(!this.destroyed){const ie=C(this.wires);for(let pe;pe=ie();)this._updateWireWrapper(pe)}}_updateWireWrapper(ie){const pe=this;typeof window<"u"&&"function"==typeof window.requestIdleCallback?window.requestIdleCallback(()=>{pe._updateWire(ie)},{timeout:250}):pe._updateWire(ie)}_updateWire(ie){function pe(Cn,hn,En,Xn){return An=>An>=Cn&&An<=hn&&!(An in En)&&ie.peerPieces.get(An)&&(!Xn||Xn(An))}function at(Cn){let hn=Cn;for(let Xn=Cn;Xn<Gt._selections.length&&Gt._selections[Xn].priority;Xn++)hn=Xn;const En=Gt._selections[Cn];Gt._selections[Cn]=Gt._selections[hn],Gt._selections[hn]=En}function dt(Cn){if(ie.requests.length>=an)return!0;const hn=function Ye(){const Cn=ie.downloadSpeed()||1;if(Cn>Ft)return()=>!0;const hn=ue(1,ie.requests.length)*L.BLOCK_LENGTH/Cn;let En=10,Xn=0;return An=>{if(!En||Gt.bitfield.get(An))return!0;for(let Pn=Gt.pieces[An].missing;Xn<Gt.wires.length;Xn++){const mr=Gt.wires[Xn],Mt=mr.downloadSpeed();if(!(Mt<Ft)&&!(Mt<=Cn)&&mr.peerPieces.get(An)&&!(0<(Pn-=Mt*hn)))return En--,!1}return!0}}();for(let En=0;En<Gt._selections.length;En++){const Xn=Gt._selections[En];let An;if("rarest"===Gt.strategy){const Pn=Xn.from+Xn.offset,mr=Xn.to,Mt={};let Kn=0;for(const ge=pe(Pn,mr,Mt,hn);Kn<mr-Pn+1&&(An=Gt._rarityMap.getRarestPiece(ge),!(0>An));){for(;Gt._request(ie,An,Gt._critical[An]||Cn););if(!(ie.requests.length<an))return Xn.priority&&at(En),!0;Mt[An]=!0,Kn++}}else for(An=Xn.from+Xn.offset;An<=Xn.to;An++)if(ie.peerPieces.get(An)&&hn(An)){for(;Gt._request(ie,An,Gt._critical[An]||Cn););if(!(ie.requests.length<an))return Xn.priority&&at(En),!0}}return!1}const Gt=this;if(ie.peerChoking)return;if(!ie.downloaded)return function(){if(!ie.requests.length)for(let Cn=Gt._selections.length;Cn--;){const hn=Gt._selections[Cn];let En;if("rarest"===Gt.strategy){const Xn=hn.from+hn.offset,An=hn.to,Pn={};let mr=0;for(const Mt=pe(Xn,An,Pn);mr<An-Xn+1&&(En=Gt._rarityMap.getRarestPiece(Mt),!(0>En));){if(Gt._request(ie,En,!1))return;Pn[En]=!0,mr+=1}}else for(En=hn.to;En>=hn.from+hn.offset;--En)if(ie.peerPieces.get(En)&&Gt._request(ie,En,!1))return}}();const Jt=f(ie,.5);if(ie.requests.length>=Jt)return;const an=f(ie,1);dt(!1)||dt(!0)}_rechoke(){if(this.ready){const ie=this.wires.map(pe=>({wire:pe,random:Math.random()})).sort((pe,Ye)=>{const at=pe.wire,dt=Ye.wire;return at.downloadSpeed()===dt.downloadSpeed()?at.uploadSpeed()===dt.uploadSpeed()?at.amChoking===dt.amChoking?pe.random-Ye.random:at.amChoking?-1:1:at.uploadSpeed()-dt.uploadSpeed():at.downloadSpeed()-dt.downloadSpeed()}).map(pe=>pe.wire);0>=this._rechokeOptimisticTime?this._rechokeOptimisticWire=null:this._rechokeOptimisticTime-=1;for(let pe=0;0<ie.length&&pe<this._rechokeNumSlots-1;){const Ye=ie.pop();Ye.isSeeder||Ye===this._rechokeOptimisticWire||(Ye.unchoke(),Ye.peerInterested&&pe++)}if(null===this._rechokeOptimisticWire&&0<this._rechokeNumSlots){const pe=ie.filter(Ye=>Ye.peerInterested);if(0<pe.length){const Ye=pe[function n(Je){return 0|Math.random()*Je}(pe.length)];Ye.unchoke(),this._rechokeOptimisticWire=Ye,this._rechokeOptimisticTime=2}}ie.filter(pe=>pe!==this._rechokeOptimisticWire).forEach(pe=>pe.choke())}}_hotswap(ie,pe){const Ye=ie.downloadSpeed();if(Ye<L.BLOCK_LENGTH||!this._reservations[pe])return!1;const at=this._reservations[pe];if(!at)return!1;let Gt,Jt,dt=1/0;for(Jt=0;Jt<at.length;Jt++){const an=at[Jt];if(!an||an===ie)continue;const Cn=an.downloadSpeed();Cn>=Ft||2*Cn>Ye||Cn>dt||(Gt=an,dt=Cn)}if(!Gt)return!1;for(Jt=0;Jt<at.length;Jt++)at[Jt]===Gt&&(at[Jt]=null);for(Jt=0;Jt<Gt.requests.length;Jt++){const an=Gt.requests[Jt];an.piece===pe&&this.pieces[pe].cancel(0|an.offset/L.BLOCK_LENGTH)}return this.emit("hotswap",Gt,ie,pe),!0}_request(ie,pe,Ye){function at(){y(()=>{dt._update()})}const dt=this,Gt=ie.requests.length,Jt="webSeed"===ie.type;if(dt.bitfield.get(pe))return!1;const an=Jt?Y(function x(Je,ie,pe){return 1+ve(ie*Je.downloadSpeed()/pe)}(ie,1,dt.pieceLength),dt.maxWebConns):f(ie,1);if(Gt>=an)return!1;const Cn=dt.pieces[pe];let hn=Jt?Cn.reserveRemaining():Cn.reserve();if(-1===hn&&Ye&&dt._hotswap(ie,pe)&&(hn=Jt?Cn.reserveRemaining():Cn.reserve()),-1===hn)return!1;let En=dt._reservations[pe];En||(En=dt._reservations[pe]=[]);let Xn=En.indexOf(null);-1===Xn&&(Xn=En.length),En[Xn]=ie;const An=Cn.chunkOffset(hn),Pn=Jt?Cn.chunkLengthRemaining(hn):Cn.chunkLength(hn);return ie.request(pe,An,Pn,function mr(Mt,Kn){if(dt.destroyed)return;if(!dt.ready)return dt.once("ready",()=>{mr(Mt,Kn)});if(En[Xn]===ie&&(En[Xn]=null),Cn!==dt.pieces[pe])return at();if(Mt)return dt._debug("error getting piece %s (offset: %s length: %s) from %s: %s",pe,An,Pn,`${ie.remoteAddress}:${ie.remotePort}`,Mt.message),Jt?Cn.cancelRemaining(hn):Cn.cancel(hn),void at();if(dt._debug("got piece %s (offset: %s length: %s) from %s",pe,An,Pn,`${ie.remoteAddress}:${ie.remotePort}`),!Cn.set(hn,Kn,ie))return at();const ge=Cn.flush();M(ge,Re=>{dt.destroyed||(Re===dt._hashes[pe]?(dt._debug("piece verified %s",pe),dt.store.put(pe,ge,je=>je?void dt._destroy(je):(dt.pieces[pe]=null,dt._markVerified(pe),dt.wires.forEach(Ze=>{Ze.have(pe)}),dt._checkDone()&&!dt.destroyed&&dt.discovery.complete(),void at()))):(dt.pieces[pe]=new L(Cn.length),dt.emit("warning",new Error(`Piece ${pe} failed verification`)),at()))})}),!0}_checkDone(){if(this.destroyed)return;this.files.forEach(pe=>{if(!pe.done){for(let Ye=pe._startPiece;Ye<=pe._endPiece;++Ye)if(!this.bitfield.get(Ye))return;pe.done=!0,pe.emit("done"),this._debug(`file done: ${pe.name}`)}});let ie=!0;for(const pe of this._selections){for(let Ye=pe.from;Ye<=pe.to;Ye++)if(!this.bitfield.get(Ye)){ie=!1;break}if(!ie)break}return!this.done&&ie?(this.done=!0,this._debug(`torrent done: ${this.infoHash}`),this.emit("done")):this.done=!1,this._gcSelections(),ie}load(ie,pe){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.ready)return this.once("ready",()=>{this.load(ie,pe)});Array.isArray(ie)||(ie=[ie]),pe||(pe=c);const Ye=new le(ie),at=new p(this.store,this.pieceLength);z(Ye,at,dt=>dt?pe(dt):(this._markAllVerified(),this._checkDone(),void pe(null)))}createServer(ie){if("function"!=typeof Qe)throw new Error("node.js-only method");if(this.destroyed)throw new Error("torrent is destroyed");const pe=new Qe(this,ie);return this._servers.push(pe),pe}pause(){this.destroyed||(this._debug("pause"),this.paused=!0)}resume(){this.destroyed||(this._debug("resume"),this.paused=!1,this._drain())}_debug(){const ie=[].slice.call(arguments);ie[0]=`[${this.client?this.client._debugId:"No Client"}] [${this._debugId}] ${ie[0]}`,Xt(...ie)}_drain(){if(this._debug("_drain numConns %s maxConns %s",this._numConns,this.client.maxConns),"function"!=typeof t.connect||this.destroyed||this.paused||this._numConns>=this.client.maxConns)return;this._debug("drain (%s queued, %s/%s peers)",this._numQueued,this.numPeers,this.client.maxConns);const ie=this._queue.shift();if(!ie)return;this._debug("%s connect attempt to %s",ie.type,ie.addr);const pe=d(ie.addr),Ye={host:pe[0],port:pe[1]};ie.conn=this.client.utp&&"utpOutgoing"===ie.type?ft.connect(Ye.port,Ye.host):t.connect(Ye);const at=ie.conn;at.once("connect",()=>{ie.onConnect()}),at.once("error",dt=>{ie.destroy(dt)}),ie.startConnectTimeout(),at.on("close",()=>{if(!this.destroyed){if(ie.retries>=St.length){if(this.client.utp){const Jt=this._addPeer(ie.addr,"tcp");Jt&&(Jt.retries=0)}else this._debug("conn %s closed: will not re-add (max %s attempts)",ie.addr,St.length);return}const dt=St[ie.retries];this._debug("conn %s closed: will re-add to queue in %sms (attempt %s)",ie.addr,dt,ie.retries+1);const Gt=setTimeout(()=>{if(!this.destroyed){const Jt=d(ie.addr)[0],an=this.client.utp&&this._isIPv4(Jt)?"utp":"tcp",Cn=this._addPeer(ie.addr,an);Cn&&(Cn.retries=ie.retries+1)}},dt);Gt.unref&&Gt.unref()}})}_validAddr(ie){let pe;try{pe=d(ie)}catch{return!1}const at=pe[1];return 0<at&&65535>at&&("127.0.0.1"!==pe[0]||at!==this.client.torrentPort)}_isIPv4(ie){return/^((?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])[.]){3}(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/.test(ie)}}}).call(this)}).call(this,m("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../package.json":293,"./file.js":2,"./peer.js":3,"./rarity-map.js":4,"./server.js":41,"./utp.js":41,"./webconn.js":6,_process:205,"addr-to-ip-port":7,bitfield:31,"cache-chunk-store":92,"chunk-store-stream/write":93,cpus:96,debug:105,events:70,fs:41,"fs-chunk-store":173,"immediate-chunk-store":158,lt_donthave:169,"memory-chunk-store":173,multistream:189,net:41,os:41,"parse-torrent":197,path:71,pump:213,"queue-microtask":218,"random-iterate":220,"run-parallel":245,"run-parallel-limit":244,"simple-get":258,"simple-sha1":260,speedometer:267,"torrent-discovery":280,"torrent-piece":281,ut_metadata:287,ut_pex:41}],6:[function(m,B){(function(i){(function(){const{default:g}=m("bitfield"),f=m("debug"),x=m("simple-get"),n=m("lt_donthave"),c=m("simple-sha1"),u=m("bittorrent-protocol"),s=f("webtorrent:webconn"),t=m("../package.json").version;B.exports=class extends u{constructor(o,r){super(),this.url=o,this.connId=o,this.webPeerId=c.sync(o),this._torrent=r,this._init()}_init(){this.setKeepAlive(!0),this.use(n()),this.once("handshake",o=>{if(this.destroyed)return;this.handshake(o,this.webPeerId);const r=this._torrent.pieces.length,d=new g(r);for(let h=0;h<=r;h++)d.set(h,!0);this.bitfield(d)}),this.once("interested",()=>{s("interested"),this.unchoke()}),this.on("uninterested",()=>{s("uninterested")}),this.on("choke",()=>{s("choke")}),this.on("unchoke",()=>{s("unchoke")}),this.on("bitfield",()=>{s("bitfield")}),this.lt_donthave.on("donthave",()=>{s("donthave")}),this.on("request",(o,r,d,h)=>{s("request pieceIndex=%d offset=%d length=%d",o,r,d),this.httpRequest(o,r,d,(l,p)=>{if(l){this.lt_donthave.donthave(o);const w=setTimeout(()=>{this.destroyed||this.have(o)},1e4);w.unref&&w.unref()}h(l,p)})})}httpRequest(o,r,d,h){const p=o*this._torrent.pieceLength+r,w=p+d-1,b=this._torrent.files;let I;if(1>=b.length)I=[{url:this.url,start:p,end:w}];else{const q=b.filter(Z=>Z.offset<=w&&Z.offset+Z.length>p);if(1>q.length)return h(new Error("Could not find file corresponding to web seed range request"));I=q.map(Z=>{const le=Z.offset+Z.length-1;return{url:this.url+("/"===this.url[this.url.length-1]?"":"/")+Z.path,fileOffsetInRange:ue(Z.offset-p,0),start:ue(p-Z.offset,0),end:Y(le,w-Z.offset)}})}let N,S=0,R=!1;1<I.length&&(N=i.alloc(d)),I.forEach(q=>{function Z(L,z){return 200>L.statusCode||300<=L.statusCode?R?void 0:(R=!0,h(new Error(`Unexpected HTTP status code ${L.statusCode}`))):(s("Got data of length %d",z.length),void(1===I.length?h(null,z):(z.copy(N,q.fileOffsetInRange),++S===I.length&&h(null,N))))}const le=q.url,we=q.start,ke=q.end;s("Requesting url=%s pieceIndex=%d offset=%d length=%d start=%d end=%d",le,o,r,d,we,ke);const A={url:le,method:"GET",headers:{"user-agent":`WebTorrent/${t} (https://webtorrent.io)`,range:`bytes=${we}-${ke}`},timeout:6e4};x.concat(A,(L,z,y)=>R?void 0:L?typeof window>"u"||le.startsWith(`${window.location.origin}/`)?(R=!0,h(L)):x.head(le,(C,M)=>R?void 0:C?(R=!0,h(C)):200>M.statusCode||300<=M.statusCode?(R=!0,h(new Error(`Unexpected HTTP status code ${M.statusCode}`))):M.url===le?(R=!0,h(L)):(A.url=M.url,void x.concat(A,(U,ee,J)=>R?void 0:U?(R=!0,h(U)):void Z(ee,J)))):void Z(z,y))})}destroy(){super.destroy(),this._torrent=null}}}).call(this)}).call(this,m("buffer").Buffer)},{"../package.json":293,bitfield:31,"bittorrent-protocol":32,buffer:69,debug:105,lt_donthave:169,"simple-get":258,"simple-sha1":260}],7:[function(m,B){let i=new Map;B.exports=function(g){if(1e5===i.size&&i.clear(),!i.has(g)){const f=/^\[?([^\]]+)]?:(\d+)$/.exec(g);if(!f)throw new Error(`invalid addr: ${g}`);i.set(g,[f[1],+f[2]])}return i.get(g)}},{}],8:[function(m,B,i){"use strict";const g=i;g.bignum=m("bn.js"),g.define=m("./asn1/api").define,g.base=m("./asn1/base"),g.constants=m("./asn1/constants"),g.decoders=m("./asn1/decoders"),g.encoders=m("./asn1/encoders")},{"./asn1/api":9,"./asn1/base":11,"./asn1/constants":15,"./asn1/decoders":17,"./asn1/encoders":20,"bn.js":22}],9:[function(m,B,i){"use strict";function g(c,u){this.name=c,this.body=u,this.decoders={},this.encoders={}}const f=m("./encoders"),x=m("./decoders"),n=m("inherits");i.define=function(c,u){return new g(c,u)},g.prototype._createNamed=function(c){function u(t){this._initNamed(t,s)}const s=this.name;return n(u,c),u.prototype._initNamed=function(t,o){c.call(this,t,o)},new u(this)},g.prototype._getDecoder=function(c){return this.decoders.hasOwnProperty(c=c||"der")||(this.decoders[c]=this._createNamed(x[c])),this.decoders[c]},g.prototype.decode=function(c,u,s){return this._getDecoder(u).decode(c,s)},g.prototype._getEncoder=function(c){return this.encoders.hasOwnProperty(c=c||"der")||(this.encoders[c]=this._createNamed(f[c])),this.encoders[c]},g.prototype.encode=function(c,u,s){return this._getEncoder(u).encode(c,s)}},{"./decoders":17,"./encoders":20,inherits:159}],10:[function(m,B,i){"use strict";function g(u,s){return n.call(this,s),c.isBuffer(u)?(this.base=u,this.offset=0,void(this.length=u.length)):void this.error("Input not Buffer")}function f(u,s){if(Array.isArray(u))this.length=0,this.value=u.map(function(t){return f.isEncoderBuffer(t)||(t=new f(t,s)),this.length+=t.length,t},this);else if("number"==typeof u){if(!(0<=u&&255>=u))return s.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if("string"==typeof u)this.value=u,this.length=c.byteLength(u);else{if(!c.isBuffer(u))return s.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}const x=m("inherits"),n=m("../base/reporter").Reporter,c=m("safer-buffer").Buffer;x(g,n),i.DecoderBuffer=g,g.isDecoderBuffer=function(u){return u instanceof g||"object"==typeof u&&c.isBuffer(u.base)&&"DecoderBuffer"===u.constructor.name&&"number"==typeof u.offset&&"number"==typeof u.length&&"function"==typeof u.save&&"function"==typeof u.restore&&"function"==typeof u.isEmpty&&"function"==typeof u.readUInt8&&"function"==typeof u.skip&&"function"==typeof u.raw},g.prototype.save=function(){return{offset:this.offset,reporter:n.prototype.save.call(this)}},g.prototype.restore=function(u){const s=new g(this.base);return s.offset=u.offset,s.length=this.offset,this.offset=u.offset,n.prototype.restore.call(this,u.reporter),s},g.prototype.isEmpty=function(){return this.offset===this.length},g.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},g.prototype.skip=function(u,s){if(!(this.offset+u<=this.length))return this.error(s||"DecoderBuffer overrun");const t=new g(this.base);return t._reporterState=this._reporterState,t.offset=this.offset,t.length=this.offset+u,this.offset+=u,t},g.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},i.EncoderBuffer=f,f.isEncoderBuffer=function(u){return u instanceof f||"object"==typeof u&&"EncoderBuffer"===u.constructor.name&&"number"==typeof u.length&&"function"==typeof u.join},f.prototype.join=function(u,s){return u||(u=c.alloc(this.length)),s||(s=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(t){t.join(u,s),s+=t.length}):("number"==typeof this.value?u[s]=this.value:"string"==typeof this.value?u.write(this.value,s):c.isBuffer(this.value)&&this.value.copy(u,s),s+=this.length)),u}},{"../base/reporter":13,inherits:159,"safer-buffer":248}],11:[function(m,B,i){"use strict";const g=i;g.Reporter=m("./reporter").Reporter,g.DecoderBuffer=m("./buffer").DecoderBuffer,g.EncoderBuffer=m("./buffer").EncoderBuffer,g.Node=m("./node")},{"./buffer":10,"./node":12,"./reporter":13}],12:[function(m,B){"use strict";function i(t,o,r){const d={};this._baseState=d,d.name=r,d.enc=t,d.parent=o||null,d.children=null,d.tag=null,d.args=null,d.reverseArgs=null,d.choice=null,d.optional=!1,d.any=!1,d.obj=!1,d.use=null,d.useDecoder=null,d.key=null,d.default=null,d.explicit=null,d.implicit=null,d.contains=null,d.parent||(d.children=[],this._wrap())}const g=m("../base/reporter").Reporter,f=m("../base/buffer").EncoderBuffer,x=m("../base/buffer").DecoderBuffer,n=m("minimalistic-assert"),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c);B.exports=i;const s=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];i.prototype.clone=function(){const t=this._baseState,o={};s.forEach(function(d){o[d]=t[d]});const r=new this.constructor(o.parent);return r._baseState=o,r},i.prototype._wrap=function(){const t=this._baseState;u.forEach(function(o){this[o]=function(){const r=new this.constructor(this);return t.children.push(r),r[o].apply(r,arguments)}},this)},i.prototype._init=function(t){const o=this._baseState;n(null===o.parent),t.call(this),o.children=o.children.filter(function(r){return r._baseState.parent===this},this),n.equal(o.children.length,1,"Root node can have only one child")},i.prototype._useArgs=function(t){const o=this._baseState,r=t.filter(function(d){return d instanceof this.constructor},this);t=t.filter(function(d){return!(d instanceof this.constructor)},this),0!==r.length&&(n(null===o.children),o.children=r,r.forEach(function(d){d._baseState.parent=this},this)),0!==t.length&&(n(null===o.args),o.args=t,o.reverseArgs=t.map(function(d){if("object"!=typeof d||d.constructor!==Object)return d;const h={};return Object.keys(d).forEach(function(l){l==(0|l)&&(l|=0),h[d[l]]=l}),h}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){i.prototype[t]=function(){throw new Error(t+" not implemented for encoding: "+this._baseState.enc)}}),c.forEach(function(t){i.prototype[t]=function(){const o=this._baseState,r=Array.prototype.slice.call(arguments);return n(null===o.tag),o.tag=t,this._useArgs(r),this}}),i.prototype.use=function(t){n(t);const o=this._baseState;return n(null===o.use),o.use=t,this},i.prototype.optional=function(){return this._baseState.optional=!0,this},i.prototype.def=function(t){const o=this._baseState;return n(null===o.default),o.default=t,o.optional=!0,this},i.prototype.explicit=function(t){const o=this._baseState;return n(null===o.explicit&&null===o.implicit),o.explicit=t,this},i.prototype.implicit=function(t){const o=this._baseState;return n(null===o.explicit&&null===o.implicit),o.implicit=t,this},i.prototype.obj=function(){const t=this._baseState,o=Array.prototype.slice.call(arguments);return t.obj=!0,0!==o.length&&this._useArgs(o),this},i.prototype.key=function(t){const o=this._baseState;return n(null===o.key),o.key=t,this},i.prototype.any=function(){return this._baseState.any=!0,this},i.prototype.choice=function(t){const o=this._baseState;return n(null===o.choice),o.choice=t,this._useArgs(Object.keys(t).map(function(r){return t[r]})),this},i.prototype.contains=function(t){const o=this._baseState;return n(null===o.use),o.contains=t,this},i.prototype._decode=function(t,o){const r=this._baseState;if(null===r.parent)return t.wrapResult(r.children[0]._decode(t,o));let p,d=r.default,h=!0,l=null;if(null!==r.key&&(l=t.enterKey(r.key)),r.optional){let w=null;if(null===r.explicit?null===r.implicit?null!==r.tag&&(w=r.tag):w=r.implicit:w=r.explicit,null!==w||r.any){if(h=this._peekTag(t,w,r.any),t.isError(h))return h}else{const b=t.save();try{null===r.choice?this._decodeGeneric(r.tag,t,o):this._decodeChoice(t,o),h=!0}catch{h=!1}t.restore(b)}}if(r.obj&&h&&(p=t.enterObject()),h){if(null!==r.explicit){const b=this._decodeTag(t,r.explicit);if(t.isError(b))return b;t=b}const w=t.offset;if(null===r.use&&null===r.choice){let b;r.any&&(b=t.save());const I=this._decodeTag(t,null===r.implicit?r.tag:r.implicit,r.any);if(t.isError(I))return I;r.any?d=t.raw(b):t=I}if(o&&o.track&&null!==r.tag&&o.track(t.path(),w,t.length,"tagged"),o&&o.track&&null!==r.tag&&o.track(t.path(),t.offset,t.length,"content"),r.any||(d=null===r.choice?this._decodeGeneric(r.tag,t,o):this._decodeChoice(t,o)),t.isError(d))return d;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(b){b._decode(t,o)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const b=new x(d);d=this._getUse(r.contains,t._reporterState.obj)._decode(b,o)}}return r.obj&&h&&(d=t.leaveObject(p)),null===r.key||null===d&&!0!==h?null!==l&&t.exitKey(l):t.leaveKey(l,r.key,d),d},i.prototype._decodeGeneric=function(t,o,r){const d=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(o,t,d.args[0],r):/str$/.test(t)?this._decodeStr(o,t,r):"objid"===t&&d.args?this._decodeObjid(o,d.args[0],d.args[1],r):"objid"===t?this._decodeObjid(o,null,null,r):"gentime"===t||"utctime"===t?this._decodeTime(o,t,r):"null_"===t?this._decodeNull(o,r):"bool"===t?this._decodeBool(o,r):"objDesc"===t?this._decodeStr(o,t,r):"int"===t||"enum"===t?this._decodeInt(o,d.args&&d.args[0],r):null===d.use?o.error("unknown tag: "+t):this._getUse(d.use,o._reporterState.obj)._decode(o,r)},i.prototype._getUse=function(t,o){const r=this._baseState;return r.useDecoder=this._use(t,o),n(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},i.prototype._decodeChoice=function(t,o){const r=this._baseState;let d=null,h=!1;return Object.keys(r.choice).some(function(l){const p=t.save(),w=r.choice[l];try{const b=w._decode(t,o);if(t.isError(b))return!1;d={type:l,value:b},h=!0}catch{return t.restore(p),!1}return!0},this),h?d:t.error("Choice not matched")},i.prototype._createEncoderBuffer=function(t){return new f(t,this.reporter)},i.prototype._encode=function(t,o,r){const d=this._baseState;if(null===d.default||d.default!==t){const h=this._encodeValue(t,o,r);return void 0===h||this._skipDefault(h,o,r)?void 0:h}},i.prototype._encodeValue=function(t,o,r){const d=this._baseState;if(null===d.parent)return d.children[0]._encode(t,o||new g);let h=null;if(this.reporter=o,d.optional&&void 0===t){if(null===d.default)return;t=d.default}let l=null,p=!1;if(d.any)h=this._createEncoderBuffer(t);else if(d.choice)h=this._encodeChoice(t,o);else if(d.contains)l=this._getUse(d.contains,r)._encode(t,o),p=!0;else if(d.children)l=d.children.map(function(w){if("null_"===w._baseState.tag)return w._encode(null,o,t);if(null===w._baseState.key)return o.error("Child should have a key");const b=o.enterKey(w._baseState.key);if("object"!=typeof t)return o.error("Child expected, but input is not object");const I=w._encode(t[w._baseState.key],o,t);return o.leaveKey(b),I},this).filter(function(w){return w}),l=this._createEncoderBuffer(l);else if("seqof"===d.tag||"setof"===d.tag){if(!d.args||1!==d.args.length)return o.error("Too many args for : "+d.tag);if(!Array.isArray(t))return o.error("seqof/setof, but data is not Array");const w=this.clone();w._baseState.implicit=null,l=this._createEncoderBuffer(t.map(function(b){return this._getUse(this._baseState.args[0],t)._encode(b,o)},w))}else null===d.use?(l=this._encodePrimitive(d.tag,t),p=!0):h=this._getUse(d.use,r)._encode(t,o);if(!d.any&&null===d.choice){const w=null===d.implicit?d.tag:d.implicit,b=null===d.implicit?"universal":"context";null===w?null===d.use&&o.error("Tag could be omitted only for .use()"):null===d.use&&(h=this._encodeComposite(w,p,b,l))}return null!==d.explicit&&(h=this._encodeComposite(d.explicit,!1,"context",h)),h},i.prototype._encodeChoice=function(t,o){const r=this._baseState,d=r.choice[t.type];return d||n(!1,t.type+" not found in "+JSON.stringify(Object.keys(r.choice))),d._encode(t.value,o)},i.prototype._encodePrimitive=function(t,o){const r=this._baseState;if(/str$/.test(t))return this._encodeStr(o,t);if("objid"===t&&r.args)return this._encodeObjid(o,r.reverseArgs[0],r.args[1]);if("objid"===t)return this._encodeObjid(o,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(o,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(o,r.args&&r.reverseArgs[0]);if("bool"===t)return this._encodeBool(o);if("objDesc"===t)return this._encodeStr(o,t);throw new Error("Unsupported tag: "+t)},i.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},i.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},{"../base/buffer":10,"../base/reporter":13,"minimalistic-assert":180}],13:[function(m,B,i){"use strict";function g(n){this._reporterState={obj:null,path:[],options:n||{},errors:[]}}function f(n,c){this.path=n,this.rethrow(c)}const x=m("inherits");i.Reporter=g,g.prototype.isError=function(n){return n instanceof f},g.prototype.save=function(){const n=this._reporterState;return{obj:n.obj,pathLen:n.path.length}},g.prototype.restore=function(n){const c=this._reporterState;c.obj=n.obj,c.path=c.path.slice(0,n.pathLen)},g.prototype.enterKey=function(n){return this._reporterState.path.push(n)},g.prototype.exitKey=function(n){const c=this._reporterState;c.path=c.path.slice(0,n-1)},g.prototype.leaveKey=function(n,c,u){const s=this._reporterState;this.exitKey(n),null!==s.obj&&(s.obj[c]=u)},g.prototype.path=function(){return this._reporterState.path.join("/")},g.prototype.enterObject=function(){const n=this._reporterState,c=n.obj;return n.obj={},c},g.prototype.leaveObject=function(n){const c=this._reporterState,u=c.obj;return c.obj=n,u},g.prototype.error=function(n){let c;const u=this._reporterState,s=n instanceof f;if(c=s?n:new f(u.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),n.message||n,n.stack),!u.options.partial)throw c;return s||u.errors.push(c),c},g.prototype.wrapResult=function(n){const c=this._reporterState;return c.options.partial?{result:this.isError(n)?null:n,errors:c.errors}:n},x(f,Error),f.prototype.rethrow=function(n){if(this.message=n+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,f),!this.stack)try{throw new Error(this.message)}catch(c){this.stack=c.stack}return this}},{inherits:159}],14:[function(m,B,i){"use strict";function g(f){const x={};return Object.keys(f).forEach(function(n){(0|n)==n&&(n|=0),x[f[n]]=n}),x}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=g(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=g(i.tag)},{}],15:[function(m,B,i){"use strict";const g=i;g._reverse=function(f){const x={};return Object.keys(f).forEach(function(n){(0|n)==n&&(n|=0),x[f[n]]=n}),x},g.der=m("./der")},{"./der":14}],16:[function(m,B){"use strict";function i(o){this.enc="der",this.name=o.name,this.entity=o,this.tree=new g,this.tree._init(o.body)}function g(o){s.call(this,"der",o)}function f(o,r){let d=o.readUInt8(r);if(o.isError(d))return d;const h=t.tagClass[d>>6],l=0==(32&d);if(31==(31&d)){let w=d;for(d=0;128==(128&w);){if(w=o.readUInt8(r),o.isError(w))return w;d<<=7,d|=127&w}}else d&=31;return{cls:h,primitive:l,tag:d,tagStr:t.tag[d]}}function x(o,r,d){let h=o.readUInt8(d);if(o.isError(h))return h;if(!r&&128===h)return null;if(!(128&h))return h;const l=127&h;if(4<l)return o.error("length octect is too long");h=0;for(let p=0;p<l;p++){h<<=8;const w=o.readUInt8(d);if(o.isError(w))return w;h|=w}return h}const n=m("inherits"),c=m("bn.js"),u=m("../base/buffer").DecoderBuffer,s=m("../base/node"),t=m("../constants/der");B.exports=i,i.prototype.decode=function(o,r){return u.isDecoderBuffer(o)||(o=new u(o,r)),this.tree._decode(o,r)},n(g,s),g.prototype._peekTag=function(o,r,d){if(o.isEmpty())return!1;const h=o.save(),l=f(o,'Failed to peek tag: "'+r+'"');return o.isError(l)?l:(o.restore(h),l.tag===r||l.tagStr===r||l.tagStr+"of"===r||d)},g.prototype._decodeTag=function(o,r,d){const h=f(o,'Failed to decode tag of "'+r+'"');if(o.isError(h))return h;let l=x(o,h.primitive,'Failed to get length of "'+r+'"');if(o.isError(l))return l;if(!d&&h.tag!==r&&h.tagStr!==r&&h.tagStr+"of"!==r)return o.error('Failed to match tag: "'+r+'"');if(h.primitive||null!==l)return o.skip(l,'Failed to match body of: "'+r+'"');const p=o.save(),w=this._skipUntilEnd(o,'Failed to skip indefinite length body: "'+this.tag+'"');return o.isError(w)?w:(l=o.offset-p.offset,o.restore(p),o.skip(l,'Failed to match body of: "'+r+'"'))},g.prototype._skipUntilEnd=function(o,r){for(;;){const d=f(o,r);if(o.isError(d))return d;const h=x(o,d.primitive,r);if(o.isError(h))return h;let l;if(l=d.primitive||null!==h?o.skip(h):this._skipUntilEnd(o,r),o.isError(l))return l;if("end"===d.tagStr)break}},g.prototype._decodeList=function(o,r,d,h){const l=[];for(;!o.isEmpty();){const p=this._peekTag(o,"end");if(o.isError(p))return p;const w=d.decode(o,"der",h);if(o.isError(w)&&p)break;l.push(w)}return l},g.prototype._decodeStr=function(o,r){if("bitstr"===r){const d=o.readUInt8();return o.isError(d)?d:{unused:d,data:o.raw()}}if("bmpstr"===r){const d=o.raw();if(d.length%2==1)return o.error("Decoding of string type: bmpstr length mismatch");let h="";for(let l=0;l<d.length/2;l++)h+=G(d.readUInt16BE(2*l));return h}if("numstr"===r){const d=o.raw().toString("ascii");return this._isNumstr(d)?d:o.error("Decoding of string type: numstr unsupported characters")}if("octstr"===r||"objDesc"===r)return o.raw();if("printstr"===r){const d=o.raw().toString("ascii");return this._isPrintstr(d)?d:o.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(r)?o.raw().toString():o.error("Decoding of string type: "+r+" unsupported")},g.prototype._decodeObjid=function(o,r,d){let h;const l=[];let p=0,w=0;for(;!o.isEmpty();)w=o.readUInt8(),p<<=7,p|=127&w,!(128&w)&&(l.push(p),p=0);if(128&w&&l.push(p),h=d?l:[0|l[0]/40,l[0]%40].concat(l.slice(1)),r){let S=r[h.join(" ")];void 0===S&&(S=r[h.join(".")]),void 0!==S&&(h=S)}return h},g.prototype._decodeTime=function(o,r){const d=o.raw().toString();let h,l,p,w,b,I;if("gentime"===r)h=0|d.slice(0,4),l=0|d.slice(4,6),p=0|d.slice(6,8),w=0|d.slice(8,10),b=0|d.slice(10,12),I=0|d.slice(12,14);else{if("utctime"!==r)return o.error("Decoding "+r+" time is not supported yet");h=0|d.slice(0,2),l=0|d.slice(2,4),p=0|d.slice(4,6),w=0|d.slice(6,8),b=0|d.slice(8,10),I=0|d.slice(10,12),h=70>h?2e3+h:1900+h}return Date.UTC(h,l-1,p,w,b,I,0)},g.prototype._decodeNull=function(){return null},g.prototype._decodeBool=function(o){const r=o.readUInt8();return o.isError(r)?r:0!==r},g.prototype._decodeInt=function(o,r){const d=o.raw();let h=new c(d);return r&&(h=r[h.toString(10)]||h),h},g.prototype._use=function(o,r){return"function"==typeof o&&(o=o(r)),o._getDecoder("der").tree}},{"../base/buffer":10,"../base/node":12,"../constants/der":14,"bn.js":22,inherits:159}],17:[function(m,B,i){"use strict";const g=i;g.der=m("./der"),g.pem=m("./pem")},{"./der":16,"./pem":18}],18:[function(m,B){"use strict";function i(n){x.call(this,n),this.enc="pem"}const g=m("inherits"),f=m("safer-buffer").Buffer,x=m("./der");g(i,x),B.exports=i,i.prototype.decode=function(n,c){const u=n.toString().split(/[\r\n]+/g),s=c.label.toUpperCase();let t=-1,o=-1;for(let h=0;h<u.length;h++){const l=u[h].match(/^-----(BEGIN|END) ([^-]+)-----$/);if(null!==l&&l[2]===s){if(-1!==t){if("END"!==l[1])break;o=h;break}if("BEGIN"!==l[1])break;t=h}}if(-1===t||-1===o)throw new Error("PEM section not found for: "+s);const r=u.slice(t+1,o).join("");r.replace(/[^a-z0-9+/=]+/gi,"");const d=f.from(r,"base64");return x.prototype.decode.call(this,d,c)}},{"./der":16,inherits:159,"safer-buffer":248}],19:[function(m,B){"use strict";function i(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new g,this.tree._init(t.body)}function g(t){u.call(this,"der",t)}function f(t){return 10>t?"0"+t:t}const n=m("inherits"),c=m("safer-buffer").Buffer,u=m("../base/node"),s=m("../constants/der");B.exports=i,i.prototype.encode=function(t,o){return this.tree._encode(t,o).join()},n(g,u),g.prototype._encodeComposite=function(t,o,r,d){const h=function x(t,o,r,d){let h;if("seqof"===t?t="seq":"setof"==t&&(t="set"),s.tagByName.hasOwnProperty(t))h=s.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return d.error("Unknown tag: "+t);h=t}return 31<=h?d.error("Multi-octet tag encoding unsupported"):(o||(h|=32),h|=s.tagClassByName[r||"universal"]<<6,h)}(t,o,r,this.reporter);if(128>d.length){const w=c.alloc(2);return w[0]=h,w[1]=d.length,this._createEncoderBuffer([w,d])}let l=1;for(let w=d.length;256<=w;w>>=8)l++;const p=c.alloc(2+l);p[0]=h,p[1]=128|l;for(let w=1+l,b=d.length;0<b;w--,b>>=8)p[w]=255&b;return this._createEncoderBuffer([p,d])},g.prototype._encodeStr=function(t,o){if("bitstr"===o)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===o){const r=c.alloc(2*t.length);for(let d=0;d<t.length;d++)r.writeUInt16BE(t.charCodeAt(d),2*d);return this._createEncoderBuffer(r)}return"numstr"===o?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===o?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(o)||"objDesc"===o?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+o+" unsupported")},g.prototype._encodeObjid=function(t,o,r){if("string"==typeof t){if(!o)return this.reporter.error("string objid given, but no values map found");if(!o.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=o[t].split(/[\s.]+/g);for(let p=0;p<t.length;p++)t[p]|=0}else if(Array.isArray(t)){t=t.slice();for(let p=0;p<t.length;p++)t[p]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!r){if(40<=t[1])return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let d=0;for(let w,p=0;p<t.length;p++)for(w=t[p],d++;128<=w;w>>=7)d++;const h=c.alloc(d);let l=h.length-1;for(let w,p=t.length-1;0<=p;p--)for(w=t[p],h[l--]=127&w;0<(w>>=7);)h[l--]=128|127&w;return this._createEncoderBuffer(h)},g.prototype._encodeTime=function(t,o){let r;const d=new Date(t);return"gentime"===o?r=[f(d.getUTCFullYear()),f(d.getUTCMonth()+1),f(d.getUTCDate()),f(d.getUTCHours()),f(d.getUTCMinutes()),f(d.getUTCSeconds()),"Z"].join(""):"utctime"===o?r=[f(d.getUTCFullYear()%100),f(d.getUTCMonth()+1),f(d.getUTCDate()),f(d.getUTCHours()),f(d.getUTCMinutes()),f(d.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+o+" time is not supported yet"),this._encodeStr(r,"octstr")},g.prototype._encodeNull=function(){return this._createEncoderBuffer("")},g.prototype._encodeInt=function(t,o){if("string"==typeof t){if(!o)return this.reporter.error("String int or enum given, but no values map");if(!o.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=o[t]}if("number"!=typeof t&&!c.isBuffer(t)){const h=t.toArray();!t.sign&&128&h[0]&&h.unshift(0),t=c.from(h)}if(c.isBuffer(t)){let h=t.length;0===t.length&&h++;const l=c.alloc(h);return t.copy(l),0===t.length&&(l[0]=0),this._createEncoderBuffer(l)}if(128>t)return this._createEncoderBuffer(t);if(256>t)return this._createEncoderBuffer([0,t]);let r=1;for(let h=t;256<=h;h>>=8)r++;const d=Array(r);for(let h=d.length-1;0<=h;h--)d[h]=255&t,t>>=8;return 128&d[0]&&d.unshift(0),this._createEncoderBuffer(c.from(d))},g.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},g.prototype._use=function(t,o){return"function"==typeof t&&(t=t(o)),t._getEncoder("der").tree},g.prototype._skipDefault=function(t,o,r){const d=this._baseState;let h;if(null===d.default)return!1;const l=t.join();if(void 0===d.defaultBuffer&&(d.defaultBuffer=this._encodeValue(d.default,o,r).join()),l.length!==d.defaultBuffer.length)return!1;for(h=0;h<l.length;h++)if(l[h]!==d.defaultBuffer[h])return!1;return!0}},{"../base/node":12,"../constants/der":14,inherits:159,"safer-buffer":248}],20:[function(m,B,i){"use strict";const g=i;g.der=m("./der"),g.pem=m("./pem")},{"./der":19,"./pem":21}],21:[function(m,B){"use strict";function i(x){f.call(this,x),this.enc="pem"}const g=m("inherits"),f=m("./der");g(i,f),B.exports=i,i.prototype.encode=function(x,n){const u=f.prototype.encode.call(this,x).toString("base64"),s=["-----BEGIN "+n.label+"-----"];for(let t=0;t<u.length;t+=64)s.push(u.slice(t,t+64));return s.push("-----END "+n.label+"-----"),s.join("\n")}},{"./der":19,inherits:159}],22:[function(m,B){!function(i,g){"use strict";function f(A,L){if(!A)throw new Error(L||"Assertion failed")}function x(A,L){A.super_=L;var z=function(){};z.prototype=L.prototype,A.prototype=new z,A.prototype.constructor=A}function n(A,L,z){return n.isBN(A)?A:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==A&&(("le"===L||"be"===L)&&(z=L,L=10),this._init(A||0,L||10,z||"be"))))}function c(A,L){var z=A.charCodeAt(L);return 65<=z&&70>=z?z-55:97<=z&&102>=z?z-87:15&z-48}function u(A,L,z){var y=c(A,z);return z-1>=L&&(y|=c(A,z-1)<<4),y}function s(A,L,z,y){for(var ee,C=0,M=Y(A.length,z),U=L;U<M;U++)C*=y,C+=49<=(ee=A.charCodeAt(U)-48)?ee-49+10:17<=ee?ee-17+10:ee;return C}function o(A,L,z){z.negative=L.negative^A.negative;var y=0|A.length+L.length;z.length=y,y=0|y-1;var C=0|A.words[0],M=0|L.words[0],U=C*M,J=0|U/67108864;z.words[0]=67108863&U;for(var re=1;re<y;re++){for(var Ue=J>>>26,We=67108863&J,Qe=Y(re,L.length-1),ft=ue(0,re-A.length+1);ft<=Qe;ft++)Ue+=0|(U=(C=0|A.words[0|re-ft])*(M=0|L.words[ft])+We)/67108864,We=67108863&U;z.words[re]=0|We,J=0|Ue}return 0===J?z.length--:z.words[re]=0|J,z.strip()}function d(A,L,z){return(new h).mulp(A,L,z)}function h(A,L){this.x=A,this.y=L}function l(A,L){this.name=A,this.p=new n(L,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function p(){l.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){l.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){l.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){l.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(A){if("string"==typeof A){var L=n._prime(A);this.m=L.p,this.prime=L}else f(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function R(A){S.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}var N;"object"==typeof i?i.exports=n:g.BN=n,n.BN=n,n.wordSize=26;try{N=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:m("buffer").Buffer}catch{}n.isBN=function(A){return A instanceof n||null!==A&&"object"==typeof A&&A.constructor.wordSize===n.wordSize&&Array.isArray(A.words)},n.max=function(A,L){return 0<A.cmp(L)?A:L},n.min=function(A,L){return 0>A.cmp(L)?A:L},n.prototype._init=function(A,L,z){if("number"==typeof A)return this._initNumber(A,L,z);if("object"==typeof A)return this._initArray(A,L,z);"hex"===L&&(L=16),f(L===(0|L)&&2<=L&&36>=L);var y=0;"-"===(A=A.toString().replace(/\s+/g,""))[0]&&(y++,this.negative=1),y<A.length&&(16===L?this._parseHex(A,y,z):(this._parseBase(A,L,y),"le"===z&&this._initArray(this.toArray(),L,z)))},n.prototype._initNumber=function(A,L,z){0>A&&(this.negative=1,A=-A),67108864>A?(this.words=[67108863&A],this.length=1):4503599627370496>A?(this.words=[67108863&A,67108863&A/67108864],this.length=2):(f(9007199254740992>A),this.words=[67108863&A,67108863&A/67108864,1],this.length=3),"le"!==z||this._initArray(this.toArray(),L,z)},n.prototype._initArray=function(A,L,z){if(f("number"==typeof A.length),0>=A.length)return this.words=[0],this.length=1,this;this.length=ve(A.length/3),this.words=Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var M,U,C=0;if("be"===z)for(y=A.length-1,M=0;0<=y;y-=3)this.words[M]|=67108863&(U=A[y]|A[y-1]<<8|A[y-2]<<16)<<C,this.words[M+1]=67108863&U>>>26-C,26<=(C+=24)&&(C-=26,M++);else if("le"===z)for(y=0,M=0;y<A.length;y+=3)this.words[M]|=67108863&(U=A[y]|A[y+1]<<8|A[y+2]<<16)<<C,this.words[M+1]=67108863&U>>>26-C,26<=(C+=24)&&(C-=26,M++);return this.strip()},n.prototype._parseHex=function(A,L,z){this.length=ve((A.length-L)/6),this.words=Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var U,C=0,M=0;if("be"===z)for(y=A.length-1;y>=L;y-=2)U=u(A,L,y)<<C,this.words[M]|=67108863&U,18<=C?(C-=18,this.words[M+=1]|=U>>>26):C+=8;else for(y=(A.length-L)%2==0?L+1:L;y<A.length;y+=2)U=u(A,L,y)<<C,this.words[M]|=67108863&U,18<=C?(C-=18,this.words[M+=1]|=U>>>26):C+=8;this.strip()},n.prototype._parseBase=function(A,L,z){this.words=[0],this.length=1;for(var y=0,C=1;67108863>=C;C*=L)y++;y--,C=0|C/L;for(var M=A.length-z,U=M%y,ee=Y(M,M-U)+z,J=0,re=z;re<ee;re+=y)J=s(A,re,re+y,L),this.imuln(C),67108864>this.words[0]+J?this.words[0]+=J:this._iaddn(J);if(0!==U){var Ue=1;for(J=s(A,re,A.length,L),re=0;re<U;re++)Ue*=L;this.imuln(Ue),67108864>this.words[0]+J?this.words[0]+=J:this._iaddn(J)}this.strip()},n.prototype.copy=function(A){A.words=Array(this.length);for(var L=0;L<this.length;L++)A.words[L]=this.words[L];A.length=this.length,A.negative=this.negative,A.red=this.red},n.prototype.clone=function(){var A=new n(null);return this.copy(A),A},n.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var q=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Z=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],le=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(A,L){var z;if(L=0|L||1,16===(A=A||10)||"hex"===A){z="";for(var y=0,C=0,M=0;M<this.length;M++){var U=this.words[M],ee=(16777215&(U<<y|C)).toString(16);z=0!=(C=16777215&U>>>24-y)||M!==this.length-1?q[6-ee.length]+ee+z:ee+z,26<=(y+=2)&&(y-=26,M--)}for(0!==C&&(z=C.toString(16)+z);z.length%L!=0;)z="0"+z;return 0!==this.negative&&(z="-"+z),z}if(A===(0|A)&&2<=A&&36>=A){var J=Z[A],re=le[A];z="";var Ue=this.clone();for(Ue.negative=0;!Ue.isZero();){var We=Ue.modn(re).toString(A);z=(Ue=Ue.idivn(re)).isZero()?We+z:q[J-We.length]+We+z}for(this.isZero()&&(z="0"+z);z.length%L!=0;)z="0"+z;return 0!==this.negative&&(z="-"+z),z}f(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var A=this.words[0];return 2===this.length?A+=67108864*this.words[1]:3===this.length&&1===this.words[2]?A+=4503599627370496+67108864*this.words[1]:2<this.length&&f(!1,"Number can only safely store up to 53 bits"),0===this.negative?A:-A},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(A,L){return f(typeof N<"u"),this.toArrayLike(N,A,L)},n.prototype.toArray=function(A,L){return this.toArrayLike(Array,A,L)},n.prototype.toArrayLike=function(A,L,z){var y=this.byteLength(),C=z||ue(1,y);f(y<=C,"byte array longer than desired length"),f(0<C,"Requested array length <= 0"),this.strip();var ee,J,M=new A(C),U=this.clone();if("le"!==L){for(J=0;J<C-y;J++)M[J]=0;for(J=0;!U.isZero();J++)ee=U.andln(255),U.iushrn(8),M[C-J-1]=ee}else{for(J=0;!U.isZero();J++)ee=U.andln(255),U.iushrn(8),M[J]=ee;for(;J<C;J++)M[J]=0}return M},n.prototype._countBits=oe?function(A){return 32-oe(A)}:function(A){var L=A,z=0;return 4096<=L&&(z+=13,L>>>=13),64<=L&&(z+=7,L>>>=7),8<=L&&(z+=4,L>>>=4),2<=L&&(z+=2,L>>>=2),z+L},n.prototype._zeroBits=function(A){if(0===A)return 26;var L=A,z=0;return!(8191&L)&&(z+=13,L>>>=13),!(127&L)&&(z+=7,L>>>=7),!(15&L)&&(z+=4,L>>>=4),!(3&L)&&(z+=2,L>>>=2),!(1&L)&&z++,z},n.prototype.bitLength=function(){var L=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+L},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var z,A=0,L=0;L<this.length&&(A+=z=this._zeroBits(this.words[L]),26===z);L++);return A},n.prototype.byteLength=function(){return ve(this.bitLength()/8)},n.prototype.toTwos=function(A){return 0===this.negative?this.clone():this.abs().inotn(A).iaddn(1)},n.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var L=0;L<A.length;L++)this.words[L]|=A.words[L];return this.strip()},n.prototype.ior=function(A){return f(0==(this.negative|A.negative)),this.iuor(A)},n.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},n.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},n.prototype.iuand=function(A){for(var L=this.length>A.length?A:this,z=0;z<L.length;z++)this.words[z]&=A.words[z];return this.length=L.length,this.strip()},n.prototype.iand=function(A){return f(0==(this.negative|A.negative)),this.iuand(A)},n.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},n.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},n.prototype.iuxor=function(A){var L,z;this.length>A.length?(L=this,z=A):(L=A,z=this);for(var y=0;y<z.length;y++)this.words[y]=L.words[y]^z.words[y];if(this!==L)for(;y<L.length;y++)this.words[y]=L.words[y];return this.length=L.length,this.strip()},n.prototype.ixor=function(A){return f(0==(this.negative|A.negative)),this.iuxor(A)},n.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},n.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},n.prototype.inotn=function(A){f("number"==typeof A&&0<=A);var L=0|ve(A/26),z=A%26;this._expand(L),0<z&&L--;for(var y=0;y<L;y++)this.words[y]=67108863&~this.words[y];return 0<z&&(this.words[y]=~this.words[y]&67108863>>26-z),this.strip()},n.prototype.notn=function(A){return this.clone().inotn(A)},n.prototype.setn=function(A,L){f("number"==typeof A&&0<=A);var z=0|A/26,y=A%26;return this._expand(z+1),L?this.words[z]|=1<<y:this.words[z]&=~(1<<y),this.strip()},n.prototype.iadd=function(A){var L,z,y;if(0!==this.negative&&0===A.negative)return this.negative=0,L=this.isub(A),this.negative^=1,this._normSign();if(0===this.negative&&0!==A.negative)return A.negative=0,L=this.isub(A),A.negative=1,L._normSign();this.length>A.length?(z=this,y=A):(z=A,y=this);for(var C=0,M=0;M<y.length;M++)this.words[M]=67108863&(L=(0|z.words[M])+(0|y.words[M])+C),C=L>>>26;for(;0!==C&&M<z.length;M++)this.words[M]=67108863&(L=(0|z.words[M])+C),C=L>>>26;if(this.length=z.length,0!==C)this.words[this.length]=C,this.length++;else if(z!==this)for(;M<z.length;M++)this.words[M]=z.words[M];return this},n.prototype.add=function(A){var L;return 0!==A.negative&&0===this.negative?(A.negative=0,L=this.sub(A),A.negative^=1,L):0===A.negative&&0!==this.negative?(this.negative=0,L=A.sub(this),this.negative=1,L):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},n.prototype.isub=function(A){if(0!==A.negative){A.negative=0;var L=this.iadd(A);return A.negative=1,L._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var y,C,z=this.cmp(A);if(0===z)return this.negative=0,this.length=1,this.words[0]=0,this;0<z?(y=this,C=A):(y=A,C=this);for(var M=0,U=0;U<C.length;U++)M=(L=(0|y.words[U])-(0|C.words[U])+M)>>26,this.words[U]=67108863&L;for(;0!==M&&U<y.length;U++)M=(L=(0|y.words[U])+M)>>26,this.words[U]=67108863&L;if(0===M&&U<y.length&&y!==this)for(;U<y.length;U++)this.words[U]=y.words[U];return this.length=ue(this.length,U),y!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(A){return this.clone().isub(A)};var we=function(A,L,z){var rt,de,nt,y=A.words,C=L.words,M=z.words,U=0,ee=0|y[0],J=8191&ee,re=ee>>>13,Ue=0|y[1],We=8191&Ue,Qe=Ue>>>13,ft=0|y[2],pt=8191&ft,Xt=ft>>>13,It=0|y[3],Ft=8191&It,Ke=It>>>13,mt=0|y[4],St=8191&mt,K=mt>>>13,se=0|y[5],X=8191&se,ce=se>>>13,Je=0|y[6],ie=8191&Je,pe=Je>>>13,Ye=0|y[7],at=8191&Ye,dt=Ye>>>13,Gt=0|y[8],Jt=8191&Gt,an=Gt>>>13,Cn=0|y[9],hn=8191&Cn,En=Cn>>>13,Xn=0|C[0],An=8191&Xn,Pn=Xn>>>13,mr=0|C[1],Mt=8191&mr,Kn=mr>>>13,ge=0|C[2],Re=8191&ge,je=ge>>>13,Ze=0|C[3],Xe=8191&Ze,st=Ze>>>13,tn=0|C[4],Bt=8191&tn,qt=tn>>>13,nn=0|C[5],_n=8191&nn,cn=nn>>>13,Qt=0|C[6],Ee=8191&Qt,Vt=Qt>>>13,Nn=0|C[7],mn=8191&Nn,Mn=Nn>>>13,zn=0|C[8],qn=8191&zn,Fn=zn>>>13,Gn=0|C[9],Hn=8191&Gn,Yn=Gn>>>13;z.negative=A.negative^L.negative,z.length=19;var it=0|(0|U+(rt=_(J,An)))+((8191&(de=0|(de=_(J,Pn))+_(re,An)))<<13);U=0|(0|(nt=_(re,Pn))+(de>>>13))+(it>>>26),it&=67108863,rt=_(We,An),de=0|(de=_(We,Pn))+_(Qe,An),nt=_(Qe,Pn);var ye=0|(0|U+(rt=0|rt+_(J,Mt)))+((8191&(de=0|(de=0|de+_(J,Kn))+_(re,Mt)))<<13);U=0|(0|(nt=0|nt+_(re,Kn))+(de>>>13))+(ye>>>26),ye&=67108863,rt=_(pt,An),de=0|(de=_(pt,Pn))+_(Xt,An),nt=_(Xt,Pn),rt=0|rt+_(We,Mt),de=0|(de=0|de+_(We,Kn))+_(Qe,Mt),nt=0|nt+_(Qe,Kn);var ct=0|(0|U+(rt=0|rt+_(J,Re)))+((8191&(de=0|(de=0|de+_(J,je))+_(re,Re)))<<13);U=0|(0|(nt=0|nt+_(re,je))+(de>>>13))+(ct>>>26),ct&=67108863,rt=_(Ft,An),de=0|(de=_(Ft,Pn))+_(Ke,An),nt=_(Ke,Pn),rt=0|rt+_(pt,Mt),de=0|(de=0|de+_(pt,Kn))+_(Xt,Mt),nt=0|nt+_(Xt,Kn),rt=0|rt+_(We,Re),de=0|(de=0|de+_(We,je))+_(Qe,Re),nt=0|nt+_(Qe,je);var Xr=0|(0|U+(rt=0|rt+_(J,Xe)))+((8191&(de=0|(de=0|de+_(J,st))+_(re,Xe)))<<13);U=0|(0|(nt=0|nt+_(re,st))+(de>>>13))+(Xr>>>26),Xr&=67108863,rt=_(St,An),de=0|(de=_(St,Pn))+_(K,An),nt=_(K,Pn),rt=0|rt+_(Ft,Mt),de=0|(de=0|de+_(Ft,Kn))+_(Ke,Mt),nt=0|nt+_(Ke,Kn),rt=0|rt+_(pt,Re),de=0|(de=0|de+_(pt,je))+_(Xt,Re),nt=0|nt+_(Xt,je),rt=0|rt+_(We,Xe),de=0|(de=0|de+_(We,st))+_(Qe,Xe),nt=0|nt+_(Qe,st);var vi=0|(0|U+(rt=0|rt+_(J,Bt)))+((8191&(de=0|(de=0|de+_(J,qt))+_(re,Bt)))<<13);U=0|(0|(nt=0|nt+_(re,qt))+(de>>>13))+(vi>>>26),vi&=67108863,rt=_(X,An),de=0|(de=_(X,Pn))+_(ce,An),nt=_(ce,Pn),rt=0|rt+_(St,Mt),de=0|(de=0|de+_(St,Kn))+_(K,Mt),nt=0|nt+_(K,Kn),rt=0|rt+_(Ft,Re),de=0|(de=0|de+_(Ft,je))+_(Ke,Re),nt=0|nt+_(Ke,je),rt=0|rt+_(pt,Xe),de=0|(de=0|de+_(pt,st))+_(Xt,Xe),nt=0|nt+_(Xt,st),rt=0|rt+_(We,Bt),de=0|(de=0|de+_(We,qt))+_(Qe,Bt),nt=0|nt+_(Qe,qt);var Kr=0|(0|U+(rt=0|rt+_(J,_n)))+((8191&(de=0|(de=0|de+_(J,cn))+_(re,_n)))<<13);U=0|(0|(nt=0|nt+_(re,cn))+(de>>>13))+(Kr>>>26),Kr&=67108863,rt=_(ie,An),de=0|(de=_(ie,Pn))+_(pe,An),nt=_(pe,Pn),rt=0|rt+_(X,Mt),de=0|(de=0|de+_(X,Kn))+_(ce,Mt),nt=0|nt+_(ce,Kn),rt=0|rt+_(St,Re),de=0|(de=0|de+_(St,je))+_(K,Re),nt=0|nt+_(K,je),rt=0|rt+_(Ft,Xe),de=0|(de=0|de+_(Ft,st))+_(Ke,Xe),nt=0|nt+_(Ke,st),rt=0|rt+_(pt,Bt),de=0|(de=0|de+_(pt,qt))+_(Xt,Bt),nt=0|nt+_(Xt,qt),rt=0|rt+_(We,_n),de=0|(de=0|de+_(We,cn))+_(Qe,_n),nt=0|nt+_(Qe,cn);var oi=0|(0|U+(rt=0|rt+_(J,Ee)))+((8191&(de=0|(de=0|de+_(J,Vt))+_(re,Ee)))<<13);U=0|(0|(nt=0|nt+_(re,Vt))+(de>>>13))+(oi>>>26),oi&=67108863,rt=_(at,An),de=0|(de=_(at,Pn))+_(dt,An),nt=_(dt,Pn),rt=0|rt+_(ie,Mt),de=0|(de=0|de+_(ie,Kn))+_(pe,Mt),nt=0|nt+_(pe,Kn),rt=0|rt+_(X,Re),de=0|(de=0|de+_(X,je))+_(ce,Re),nt=0|nt+_(ce,je),rt=0|rt+_(St,Xe),de=0|(de=0|de+_(St,st))+_(K,Xe),nt=0|nt+_(K,st),rt=0|rt+_(Ft,Bt),de=0|(de=0|de+_(Ft,qt))+_(Ke,Bt),nt=0|nt+_(Ke,qt),rt=0|rt+_(pt,_n),de=0|(de=0|de+_(pt,cn))+_(Xt,_n),nt=0|nt+_(Xt,cn),rt=0|rt+_(We,Ee),de=0|(de=0|de+_(We,Vt))+_(Qe,Ee),nt=0|nt+_(Qe,Vt);var Qr=0|(0|U+(rt=0|rt+_(J,mn)))+((8191&(de=0|(de=0|de+_(J,Mn))+_(re,mn)))<<13);U=0|(0|(nt=0|nt+_(re,Mn))+(de>>>13))+(Qr>>>26),Qr&=67108863,rt=_(Jt,An),de=0|(de=_(Jt,Pn))+_(an,An),nt=_(an,Pn),rt=0|rt+_(at,Mt),de=0|(de=0|de+_(at,Kn))+_(dt,Mt),nt=0|nt+_(dt,Kn),rt=0|rt+_(ie,Re),de=0|(de=0|de+_(ie,je))+_(pe,Re),nt=0|nt+_(pe,je),rt=0|rt+_(X,Xe),de=0|(de=0|de+_(X,st))+_(ce,Xe),nt=0|nt+_(ce,st),rt=0|rt+_(St,Bt),de=0|(de=0|de+_(St,qt))+_(K,Bt),nt=0|nt+_(K,qt),rt=0|rt+_(Ft,_n),de=0|(de=0|de+_(Ft,cn))+_(Ke,_n),nt=0|nt+_(Ke,cn),rt=0|rt+_(pt,Ee),de=0|(de=0|de+_(pt,Vt))+_(Xt,Ee),nt=0|nt+_(Xt,Vt),rt=0|rt+_(We,mn),de=0|(de=0|de+_(We,Mn))+_(Qe,mn),nt=0|nt+_(Qe,Mn);var hr=0|(0|U+(rt=0|rt+_(J,qn)))+((8191&(de=0|(de=0|de+_(J,Fn))+_(re,qn)))<<13);U=0|(0|(nt=0|nt+_(re,Fn))+(de>>>13))+(hr>>>26),hr&=67108863,rt=_(hn,An),de=0|(de=_(hn,Pn))+_(En,An),nt=_(En,Pn),rt=0|rt+_(Jt,Mt),de=0|(de=0|de+_(Jt,Kn))+_(an,Mt),nt=0|nt+_(an,Kn),rt=0|rt+_(at,Re),de=0|(de=0|de+_(at,je))+_(dt,Re),nt=0|nt+_(dt,je),rt=0|rt+_(ie,Xe),de=0|(de=0|de+_(ie,st))+_(pe,Xe),nt=0|nt+_(pe,st),rt=0|rt+_(X,Bt),de=0|(de=0|de+_(X,qt))+_(ce,Bt),nt=0|nt+_(ce,qt),rt=0|rt+_(St,_n),de=0|(de=0|de+_(St,cn))+_(K,_n),nt=0|nt+_(K,cn),rt=0|rt+_(Ft,Ee),de=0|(de=0|de+_(Ft,Vt))+_(Ke,Ee),nt=0|nt+_(Ke,Vt),rt=0|rt+_(pt,mn),de=0|(de=0|de+_(pt,Mn))+_(Xt,mn),nt=0|nt+_(Xt,Mn),rt=0|rt+_(We,qn),de=0|(de=0|de+_(We,Fn))+_(Qe,qn),nt=0|nt+_(Qe,Fn);var li=0|(0|U+(rt=0|rt+_(J,Hn)))+((8191&(de=0|(de=0|de+_(J,Yn))+_(re,Hn)))<<13);U=0|(0|(nt=0|nt+_(re,Yn))+(de>>>13))+(li>>>26),li&=67108863,rt=_(hn,Mt),de=0|(de=_(hn,Kn))+_(En,Mt),nt=_(En,Kn),rt=0|rt+_(Jt,Re),de=0|(de=0|de+_(Jt,je))+_(an,Re),nt=0|nt+_(an,je),rt=0|rt+_(at,Xe),de=0|(de=0|de+_(at,st))+_(dt,Xe),nt=0|nt+_(dt,st),rt=0|rt+_(ie,Bt),de=0|(de=0|de+_(ie,qt))+_(pe,Bt),nt=0|nt+_(pe,qt),rt=0|rt+_(X,_n),de=0|(de=0|de+_(X,cn))+_(ce,_n),nt=0|nt+_(ce,cn),rt=0|rt+_(St,Ee),de=0|(de=0|de+_(St,Vt))+_(K,Ee),nt=0|nt+_(K,Vt),rt=0|rt+_(Ft,mn),de=0|(de=0|de+_(Ft,Mn))+_(Ke,mn),nt=0|nt+_(Ke,Mn),rt=0|rt+_(pt,qn),de=0|(de=0|de+_(pt,Fn))+_(Xt,qn),nt=0|nt+_(Xt,Fn);var Vr=0|(0|U+(rt=0|rt+_(We,Hn)))+((8191&(de=0|(de=0|de+_(We,Yn))+_(Qe,Hn)))<<13);U=0|(0|(nt=0|nt+_(Qe,Yn))+(de>>>13))+(Vr>>>26),Vr&=67108863,rt=_(hn,Re),de=0|(de=_(hn,je))+_(En,Re),nt=_(En,je),rt=0|rt+_(Jt,Xe),de=0|(de=0|de+_(Jt,st))+_(an,Xe),nt=0|nt+_(an,st),rt=0|rt+_(at,Bt),de=0|(de=0|de+_(at,qt))+_(dt,Bt),nt=0|nt+_(dt,qt),rt=0|rt+_(ie,_n),de=0|(de=0|de+_(ie,cn))+_(pe,_n),nt=0|nt+_(pe,cn),rt=0|rt+_(X,Ee),de=0|(de=0|de+_(X,Vt))+_(ce,Ee),nt=0|nt+_(ce,Vt),rt=0|rt+_(St,mn),de=0|(de=0|de+_(St,Mn))+_(K,mn),nt=0|nt+_(K,Mn),rt=0|rt+_(Ft,qn),de=0|(de=0|de+_(Ft,Fn))+_(Ke,qn),nt=0|nt+_(Ke,Fn);var zr=0|(0|U+(rt=0|rt+_(pt,Hn)))+((8191&(de=0|(de=0|de+_(pt,Yn))+_(Xt,Hn)))<<13);U=0|(0|(nt=0|nt+_(Xt,Yn))+(de>>>13))+(zr>>>26),zr&=67108863,rt=_(hn,Xe),de=0|(de=_(hn,st))+_(En,Xe),nt=_(En,st),rt=0|rt+_(Jt,Bt),de=0|(de=0|de+_(Jt,qt))+_(an,Bt),nt=0|nt+_(an,qt),rt=0|rt+_(at,_n),de=0|(de=0|de+_(at,cn))+_(dt,_n),nt=0|nt+_(dt,cn),rt=0|rt+_(ie,Ee),de=0|(de=0|de+_(ie,Vt))+_(pe,Ee),nt=0|nt+_(pe,Vt),rt=0|rt+_(X,mn),de=0|(de=0|de+_(X,Mn))+_(ce,mn),nt=0|nt+_(ce,Mn),rt=0|rt+_(St,qn),de=0|(de=0|de+_(St,Fn))+_(K,qn),nt=0|nt+_(K,Fn);var Ei=0|(0|U+(rt=0|rt+_(Ft,Hn)))+((8191&(de=0|(de=0|de+_(Ft,Yn))+_(Ke,Hn)))<<13);U=0|(0|(nt=0|nt+_(Ke,Yn))+(de>>>13))+(Ei>>>26),Ei&=67108863,rt=_(hn,Bt),de=0|(de=_(hn,qt))+_(En,Bt),nt=_(En,qt),rt=0|rt+_(Jt,_n),de=0|(de=0|de+_(Jt,cn))+_(an,_n),nt=0|nt+_(an,cn),rt=0|rt+_(at,Ee),de=0|(de=0|de+_(at,Vt))+_(dt,Ee),nt=0|nt+_(dt,Vt),rt=0|rt+_(ie,mn),de=0|(de=0|de+_(ie,Mn))+_(pe,mn),nt=0|nt+_(pe,Mn),rt=0|rt+_(X,qn),de=0|(de=0|de+_(X,Fn))+_(ce,qn),nt=0|nt+_(ce,Fn);var ei=0|(0|U+(rt=0|rt+_(St,Hn)))+((8191&(de=0|(de=0|de+_(St,Yn))+_(K,Hn)))<<13);U=0|(0|(nt=0|nt+_(K,Yn))+(de>>>13))+(ei>>>26),ei&=67108863,rt=_(hn,_n),de=0|(de=_(hn,cn))+_(En,_n),nt=_(En,cn),rt=0|rt+_(Jt,Ee),de=0|(de=0|de+_(Jt,Vt))+_(an,Ee),nt=0|nt+_(an,Vt),rt=0|rt+_(at,mn),de=0|(de=0|de+_(at,Mn))+_(dt,mn),nt=0|nt+_(dt,Mn),rt=0|rt+_(ie,qn),de=0|(de=0|de+_(ie,Fn))+_(pe,qn),nt=0|nt+_(pe,Fn);var ci=0|(0|U+(rt=0|rt+_(X,Hn)))+((8191&(de=0|(de=0|de+_(X,Yn))+_(ce,Hn)))<<13);U=0|(0|(nt=0|nt+_(ce,Yn))+(de>>>13))+(ci>>>26),ci&=67108863,rt=_(hn,Ee),de=0|(de=_(hn,Vt))+_(En,Ee),nt=_(En,Vt),rt=0|rt+_(Jt,mn),de=0|(de=0|de+_(Jt,Mn))+_(an,mn),nt=0|nt+_(an,Mn),rt=0|rt+_(at,qn),de=0|(de=0|de+_(at,Fn))+_(dt,qn),nt=0|nt+_(dt,Fn);var Gr=0|(0|U+(rt=0|rt+_(ie,Hn)))+((8191&(de=0|(de=0|de+_(ie,Yn))+_(pe,Hn)))<<13);U=0|(0|(nt=0|nt+_(pe,Yn))+(de>>>13))+(Gr>>>26),Gr&=67108863,rt=_(hn,mn),de=0|(de=_(hn,Mn))+_(En,mn),nt=_(En,Mn),rt=0|rt+_(Jt,qn),de=0|(de=0|de+_(Jt,Fn))+_(an,qn),nt=0|nt+_(an,Fn);var Dr=0|(0|U+(rt=0|rt+_(at,Hn)))+((8191&(de=0|(de=0|de+_(at,Yn))+_(dt,Hn)))<<13);U=0|(0|(nt=0|nt+_(dt,Yn))+(de>>>13))+(Dr>>>26),Dr&=67108863,rt=_(hn,qn),de=0|(de=_(hn,Fn))+_(En,qn),nt=_(En,Fn);var Zr=0|(0|U+(rt=0|rt+_(Jt,Hn)))+((8191&(de=0|(de=0|de+_(Jt,Yn))+_(an,Hn)))<<13);U=0|(0|(nt=0|nt+_(an,Yn))+(de>>>13))+(Zr>>>26),Zr&=67108863;var si=0|(0|U+(rt=_(hn,Hn)))+((8191&(de=0|(de=_(hn,Yn))+_(En,Hn)))<<13);return U=0|(0|(nt=_(En,Yn))+(de>>>13))+(si>>>26),si&=67108863,M[0]=it,M[1]=ye,M[2]=ct,M[3]=Xr,M[4]=vi,M[5]=Kr,M[6]=oi,M[7]=Qr,M[8]=hr,M[9]=li,M[10]=Vr,M[11]=zr,M[12]=Ei,M[13]=ei,M[14]=ci,M[15]=Gr,M[16]=Dr,M[17]=Zr,M[18]=si,0!==U&&(M[19]=U,z.length++),z};_||(we=o),n.prototype.mulTo=function(A,L){var y,z=this.length+A.length;return y=10===this.length&&10===A.length?we(this,A,L):63>z?o(this,A,L):1024>z?function r(A,L,z){z.negative=L.negative^A.negative,z.length=A.length+L.length;for(var U,y=0,C=0,M=0;M<z.length-1;M++){U=C,C=0;for(var ee=67108863&y,J=Y(M,L.length-1),re=ue(0,M-A.length+1);re<=J;re++){var ft=(0|A.words[M-re])*(0|L.words[re]),pt=67108863&ft;ee=67108863&(pt=0|pt+ee),C+=(U=0|(U=0|U+(0|ft/67108864))+(pt>>>26))>>>26,U&=67108863}z.words[M]=ee,y=U,U=C}return 0===y?z.length--:z.words[M]=y,z.strip()}(this,A,L):d(this,A,L),y},h.prototype.makeRBT=function(A){for(var L=Array(A),z=n.prototype._countBits(A)-1,y=0;y<A;y++)L[y]=this.revBin(y,z,A);return L},h.prototype.revBin=function(A,L,z){if(0===A||A===z-1)return A;for(var y=0,C=0;C<L;C++)y|=(1&A)<<L-C-1,A>>=1;return y},h.prototype.permute=function(A,L,z,y,C,M){for(var U=0;U<M;U++)y[U]=L[A[U]],C[U]=z[A[U]]},h.prototype.transform=function(A,L,z,y,C,M){this.permute(M,A,L,z,y,C);for(var U=1;U<C;U<<=1)for(var ee=U<<1,J=De(2*Le/ee),re=V(2*Le/ee),Ue=0;Ue<C;Ue+=ee)for(var We=J,Qe=re,ft=0;ft<U;ft++){var pt=z[Ue+ft],Xt=y[Ue+ft],It=z[Ue+ft+U],Ft=y[Ue+ft+U],Ke=We*It-Qe*Ft;Ft=We*Ft+Qe*It,z[Ue+ft]=pt+(It=Ke),y[Ue+ft]=Xt+Ft,z[Ue+ft+U]=pt-It,y[Ue+ft+U]=Xt-Ft,ft!==ee&&(Ke=J*We-re*Qe,Qe=J*Qe+re*We,We=Ke)}},h.prototype.guessLen13b=function(A,L){var z=1|ue(L,A),y=1&z,C=0;for(z=0|z/2;z;z>>>=1)C++;return 1<<C+1+y},h.prototype.conjugate=function(A,L,z){if(!(1>=z))for(var C,y=0;y<z/2;y++)C=A[y],A[y]=A[z-y-1],A[z-y-1]=C,C=L[y],L[y]=-L[z-y-1],L[z-y-1]=-C},h.prototype.normalize13b=function(A,L){for(var C,z=0,y=0;y<L/2;y++)C=8192*kt(A[2*y+1]/L)+kt(A[2*y]/L)+z,A[y]=67108863&C,z=67108864>C?0:0|C/67108864;return A},h.prototype.convert13b=function(A,L,z,y){for(var C=0,M=0;M<L;M++)z[2*M]=8191&(C+=0|A[M]),z[2*M+1]=8191&(C>>>=13),C>>>=13;for(M=2*L;M<y;++M)z[M]=0;f(0===C),f(0==(-8192&C))},h.prototype.stub=function(A){for(var L=Array(A),z=0;z<A;z++)L[z]=0;return L},h.prototype.mulp=function(A,L,z){var y=2*this.guessLen13b(A.length,L.length),C=this.makeRBT(y),M=this.stub(y),U=Array(y),ee=Array(y),J=Array(y),re=Array(y),Ue=Array(y),We=Array(y),Qe=z.words;Qe.length=y,this.convert13b(A.words,A.length,U,y),this.convert13b(L.words,L.length,re,y),this.transform(U,M,ee,J,y,C),this.transform(re,M,Ue,We,y,C);for(var pt,ft=0;ft<y;ft++)pt=ee[ft]*Ue[ft]-J[ft]*We[ft],J[ft]=ee[ft]*We[ft]+J[ft]*Ue[ft],ee[ft]=pt;return this.conjugate(ee,J,y),this.transform(ee,J,Qe,M,y,C),this.conjugate(Qe,M,y),this.normalize13b(Qe,y),z.negative=A.negative^L.negative,z.length=A.length+L.length,z.strip()},n.prototype.mul=function(A){var L=new n(null);return L.words=Array(this.length+A.length),this.mulTo(A,L)},n.prototype.mulf=function(A){var L=new n(null);return L.words=Array(this.length+A.length),d(this,A,L)},n.prototype.imul=function(A){return this.clone().mulTo(A,this)},n.prototype.imuln=function(A){f("number"==typeof A),f(67108864>A);for(var L=0,z=0;z<this.length;z++){var y=(0|this.words[z])*A,C=(67108863&y)+(67108863&L);L>>=26,L+=0|y/67108864,L+=C>>>26,this.words[z]=67108863&C}return 0!==L&&(this.words[z]=L,this.length++),this},n.prototype.muln=function(A){return this.clone().imuln(A)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(A){var L=function t(A){for(var L=Array(A.bitLength()),z=0;z<L.length;z++){var C=z%26;L[z]=(A.words[0|z/26]&1<<C)>>>C}return L}(A);if(0===L.length)return new n(1);for(var z=this,y=0;y<L.length&&0===L[y];y++,z=z.sqr());if(++y<L.length)for(var C=z.sqr();y<L.length;y++,C=C.sqr())0!==L[y]&&(z=z.mul(C));return z},n.prototype.iushln=function(A){f("number"==typeof A&&0<=A);var y,L=A%26,z=(A-L)/26;if(0!=L){var C=0;for(y=0;y<this.length;y++){var M=this.words[y]&67108863>>>26-L<<26-L;this.words[y]=(0|this.words[y])-M<<L|C,C=M>>>26-L}C&&(this.words[y]=C,this.length++)}if(0!==z){for(y=this.length-1;0<=y;y--)this.words[y+z]=this.words[y];for(y=0;y<z;y++)this.words[y]=0;this.length+=z}return this.strip()},n.prototype.ishln=function(A){return f(0===this.negative),this.iushln(A)},n.prototype.iushrn=function(A,L,z){f("number"==typeof A&&0<=A);var y=L?(L-L%26)/26:0,C=A%26,M=Y((A-C)/26,this.length),U=z;if(y=ue(0,y-=M),U){for(var ee=0;ee<M;ee++)U.words[ee]=this.words[ee];U.length=M}if(0!==M)if(this.length>M)for(this.length-=M,ee=0;ee<this.length;ee++)this.words[ee]=this.words[ee+M];else this.words[0]=0,this.length=1;var J=0;for(ee=this.length-1;0<=ee&&(0!==J||ee>=y);ee--){var re=0|this.words[ee];this.words[ee]=J<<26-C|re>>>C,J=re&(67108863^67108863>>>C<<C)}return U&&0!==J&&(U.words[U.length++]=J),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(A,L,z){return f(0===this.negative),this.iushrn(A,L,z)},n.prototype.shln=function(A){return this.clone().ishln(A)},n.prototype.ushln=function(A){return this.clone().iushln(A)},n.prototype.shrn=function(A){return this.clone().ishrn(A)},n.prototype.ushrn=function(A){return this.clone().iushrn(A)},n.prototype.testn=function(A){f("number"==typeof A&&0<=A);var L=A%26,z=(A-L)/26;return!(this.length<=z||!(this.words[z]&1<<L))},n.prototype.imaskn=function(A){f("number"==typeof A&&0<=A);var L=A%26,z=(A-L)/26;return f(0===this.negative,"imaskn works only with positive numbers"),this.length<=z?this:(0!=L&&z++,this.length=Y(z,this.length),0!=L&&(this.words[this.length-1]&=67108863^67108863>>>L<<L),this.strip())},n.prototype.maskn=function(A){return this.clone().imaskn(A)},n.prototype.iaddn=function(A){return f("number"==typeof A),f(67108864>A),0>A?this.isubn(-A):0===this.negative?this._iaddn(A):1===this.length&&(0|this.words[0])<A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this)},n.prototype._iaddn=function(A){this.words[0]+=A;for(var L=0;L<this.length&&67108864<=this.words[L];L++)this.words[L]-=67108864,L==this.length-1?this.words[L+1]=1:this.words[L+1]++;return this.length=ue(this.length,L+1),this},n.prototype.isubn=function(A){if(f("number"==typeof A),f(67108864>A),0>A)return this.iaddn(-A);if(0!==this.negative)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var L=0;L<this.length&&0>this.words[L];L++)this.words[L]+=67108864,this.words[L+1]-=1;return this.strip()},n.prototype.addn=function(A){return this.clone().iaddn(A)},n.prototype.subn=function(A){return this.clone().isubn(A)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(A,L,z){var C;this._expand(A.length+z);var U,M=0;for(C=0;C<A.length;C++){U=(0|this.words[C+z])+M;var ee=(0|A.words[C])*L;M=((U-=67108863&ee)>>26)-(0|ee/67108864),this.words[C+z]=67108863&U}for(;C<this.length-z;C++)M=(U=(0|this.words[C+z])+M)>>26,this.words[C+z]=67108863&U;if(0===M)return this.strip();for(f(-1===M),M=0,C=0;C<this.length;C++)M=(U=-(0|this.words[C])+M)>>26,this.words[C]=67108863&U;return this.negative=1,this.strip()},n.prototype._wordDiv=function(A,L){var z,y=this.clone(),C=A,M=0|C.words[C.length-1];0!=(z=26-this._countBits(M))&&(C=C.ushln(z),y.iushln(z),M=0|C.words[C.length-1]);var J,ee=y.length-C.length;if("mod"!==L){(J=new n(null)).length=ee+1,J.words=Array(J.length);for(var re=0;re<J.length;re++)J.words[re]=0}var Ue=y.clone()._ishlnsubmul(C,1,ee);0===Ue.negative&&(y=Ue,J&&(J.words[ee]=1));for(var Qe,We=ee-1;0<=We;We--){for(Qe=Y(0|(Qe=67108864*(0|y.words[C.length+We])+(0|y.words[C.length+We-1]))/M,67108863),y._ishlnsubmul(C,Qe,We);0!==y.negative;)Qe--,y.negative=0,y._ishlnsubmul(C,1,We),y.isZero()||(y.negative^=1);J&&(J.words[We]=Qe)}return J&&J.strip(),y.strip(),"div"!==L&&0!==z&&y.iushrn(z),{div:J||null,mod:y}},n.prototype.divmod=function(A,L,z){return f(!A.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===A.negative?(M=this.neg().divmod(A,L),"mod"!==L&&(y=M.div.neg()),"div"!==L&&(C=M.mod.neg(),z&&0!==C.negative&&C.iadd(A)),{div:y,mod:C}):0===this.negative&&0!==A.negative?(M=this.divmod(A.neg(),L),"mod"!==L&&(y=M.div.neg()),{div:y,mod:M.mod}):this.negative&A.negative?(M=this.neg().divmod(A.neg(),L),"div"!==L&&(C=M.mod.neg(),z&&0!==C.negative&&C.isub(A)),{div:M.div,mod:C}):A.length>this.length||0>this.cmp(A)?{div:new n(0),mod:this}:1===A.length?"div"===L?{div:this.divn(A.words[0]),mod:null}:"mod"===L?{div:null,mod:new n(this.modn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new n(this.modn(A.words[0]))}:this._wordDiv(A,L);var y,C,M},n.prototype.div=function(A){return this.divmod(A,"div",!1).div},n.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},n.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},n.prototype.divRound=function(A){var L=this.divmod(A);if(L.mod.isZero())return L.div;var z=0===L.div.negative?L.mod:L.mod.isub(A),y=A.ushrn(1),C=A.andln(1),M=z.cmp(y);return 0>M||1===C&&0===M?L.div:0===L.div.negative?L.div.iaddn(1):L.div.isubn(1)},n.prototype.modn=function(A){f(67108863>=A);for(var L=0,z=this.length-1;0<=z;z--)L=(67108864%A*L+(0|this.words[z]))%A;return L},n.prototype.idivn=function(A){f(67108863>=A);for(var y,L=0,z=this.length-1;0<=z;z--)this.words[z]=0|(y=(0|this.words[z])+67108864*L)/A,L=y%A;return this.strip()},n.prototype.divn=function(A){return this.clone().idivn(A)},n.prototype.egcd=function(A){f(0===A.negative),f(!A.isZero());var L=this,z=A.clone();L=0===L.negative?L.clone():L.umod(A);for(var y=new n(1),C=new n(0),M=new n(0),U=new n(1),ee=0;L.isEven()&&z.isEven();)L.iushrn(1),z.iushrn(1),++ee;for(var J=z.clone(),re=L.clone();!L.isZero();){for(var Ue=0,We=1;!(L.words[0]&We)&&26>Ue;++Ue,We<<=1);if(0<Ue)for(L.iushrn(Ue);0<Ue--;)(y.isOdd()||C.isOdd())&&(y.iadd(J),C.isub(re)),y.iushrn(1),C.iushrn(1);for(var Qe=0,ft=1;!(z.words[0]&ft)&&26>Qe;++Qe,ft<<=1);if(0<Qe)for(z.iushrn(Qe);0<Qe--;)(M.isOdd()||U.isOdd())&&(M.iadd(J),U.isub(re)),M.iushrn(1),U.iushrn(1);0<=L.cmp(z)?(L.isub(z),y.isub(M),C.isub(U)):(z.isub(L),M.isub(y),U.isub(C))}return{a:M,b:U,gcd:z.iushln(ee)}},n.prototype._invmp=function(A){f(0===A.negative),f(!A.isZero());var Ue,L=this,z=A.clone();L=0===L.negative?L.clone():L.umod(A);for(var y=new n(1),C=new n(0),M=z.clone();0<L.cmpn(1)&&0<z.cmpn(1);){for(var U=0,ee=1;!(L.words[0]&ee)&&26>U;++U,ee<<=1);if(0<U)for(L.iushrn(U);0<U--;)y.isOdd()&&y.iadd(M),y.iushrn(1);for(var J=0,re=1;!(z.words[0]&re)&&26>J;++J,re<<=1);if(0<J)for(z.iushrn(J);0<J--;)C.isOdd()&&C.iadd(M),C.iushrn(1);0<=L.cmp(z)?(L.isub(z),y.isub(C)):(z.isub(L),C.isub(y))}return 0>(Ue=0===L.cmpn(1)?y:C).cmpn(0)&&Ue.iadd(A),Ue},n.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var L=this.clone(),z=A.clone();L.negative=0,z.negative=0;for(var y=0;L.isEven()&&z.isEven();y++)L.iushrn(1),z.iushrn(1);for(;;){for(;L.isEven();)L.iushrn(1);for(;z.isEven();)z.iushrn(1);var C=L.cmp(z);if(0>C){var M=L;L=z,z=M}else if(0===C||0===z.cmpn(1))break;L.isub(z)}return z.iushln(y)},n.prototype.invm=function(A){return this.egcd(A).a.umod(A)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(A){return this.words[0]&A},n.prototype.bincn=function(A){f("number"==typeof A);var L=A%26,z=(A-L)/26,y=1<<L;if(this.length<=z)return this._expand(z+1),this.words[z]|=y,this;for(var U,C=y,M=z;0!==C&&M<this.length;M++)U=0|this.words[M],C=(U+=C)>>>26,this.words[M]=U&=67108863;return 0!==C&&(this.words[M]=C,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(A){var z,L=0>A;if(0!==this.negative&&!L)return-1;if(0===this.negative&&L)return 1;if(this.strip(),1<this.length)z=1;else{L&&(A=-A),f(67108863>=A,"Number is too big");var y=0|this.words[0];z=y===A?0:y<A?-1:1}return 0===this.negative?z:0|-z},n.prototype.cmp=function(A){if(0!==this.negative&&0===A.negative)return-1;if(0===this.negative&&0!==A.negative)return 1;var L=this.ucmp(A);return 0===this.negative?L:0|-L},n.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var L=0,z=this.length-1;0<=z;z--){var y=0|this.words[z],C=0|A.words[z];if(y!=C){y<C?L=-1:y>C&&(L=1);break}}return L},n.prototype.gtn=function(A){return 1===this.cmpn(A)},n.prototype.gt=function(A){return 1===this.cmp(A)},n.prototype.gten=function(A){return 0<=this.cmpn(A)},n.prototype.gte=function(A){return 0<=this.cmp(A)},n.prototype.ltn=function(A){return-1===this.cmpn(A)},n.prototype.lt=function(A){return-1===this.cmp(A)},n.prototype.lten=function(A){return 0>=this.cmpn(A)},n.prototype.lte=function(A){return 0>=this.cmp(A)},n.prototype.eqn=function(A){return 0===this.cmpn(A)},n.prototype.eq=function(A){return 0===this.cmp(A)},n.red=function(A){return new S(A)},n.prototype.toRed=function(A){return f(!this.red,"Already a number in reduction context"),f(0===this.negative,"red works only with positives"),A.convertTo(this)._forceRed(A)},n.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(A){return this.red=A,this},n.prototype.forceRed=function(A){return f(!this.red,"Already a number in reduction context"),this._forceRed(A)},n.prototype.redAdd=function(A){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},n.prototype.redIAdd=function(A){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},n.prototype.redSub=function(A){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},n.prototype.redISub=function(A){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},n.prototype.redShl=function(A){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},n.prototype.redMul=function(A){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},n.prototype.redIMul=function(A){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},n.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(A){return f(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var ke={k256:null,p224:null,p192:null,p25519:null};l.prototype._tmp=function(){var A=new n(null);return A.words=Array(ve(this.n/13)),A},l.prototype.ireduce=function(A){var z,L=A;do{this.split(L,this.tmp),z=(L=(L=this.imulK(L)).iadd(this.tmp)).bitLength()}while(z>this.n);var y=z<this.n?-1:L.ucmp(this.p);return 0===y?(L.words[0]=0,L.length=1):0<y?L.isub(this.p):void 0===L.strip?L._strip():L.strip(),L},l.prototype.split=function(A,L){A.iushrn(this.n,0,L)},l.prototype.imulK=function(A){return A.imul(this.k)},x(p,l),p.prototype.split=function(A,L){for(var z=4194303,y=Y(A.length,9),C=0;C<y;C++)L.words[C]=A.words[C];if(L.length=y,9>=A.length)return A.words[0]=0,void(A.length=1);var M=A.words[9];for(L.words[L.length++]=M&z,C=10;C<A.length;C++){var U=0|A.words[C];A.words[C-10]=(U&z)<<4|M>>>22,M=U}A.words[C-10]=M>>>=22,A.length-=0===M&&10<A.length?10:9},p.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var y,L=0,z=0;z<A.length;z++)A.words[z]=67108863&(L+=977*(y=0|A.words[z])),L=64*y+(0|L/67108864);return 0===A.words[A.length-1]&&(A.length--,0===A.words[A.length-1]&&A.length--),A},x(w,l),x(b,l),x(I,l),I.prototype.imulK=function(A){for(var L=0,z=0;z<A.length;z++){var y=19*(0|A.words[z])+L,C=67108863&y;y>>>=26,A.words[z]=C,L=y}return 0!==L&&(A.words[A.length++]=L),A},n._prime=function(L){if(ke[L])return ke[L];var z;if("k256"===L)z=new p;else if("p224"===L)z=new w;else if("p192"===L)z=new b;else{if("p25519"!==L)throw new Error("Unknown prime "+L);z=new I}return ke[L]=z,z},S.prototype._verify1=function(A){f(0===A.negative,"red works only with positives"),f(A.red,"red works only with red numbers")},S.prototype._verify2=function(A,L){f(0==(A.negative|L.negative),"red works only with positives"),f(A.red&&A.red===L.red,"red works only with red numbers")},S.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):A.umod(this.m)._forceRed(this)},S.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},S.prototype.add=function(A,L){this._verify2(A,L);var z=A.add(L);return 0<=z.cmp(this.m)&&z.isub(this.m),z._forceRed(this)},S.prototype.iadd=function(A,L){this._verify2(A,L);var z=A.iadd(L);return 0<=z.cmp(this.m)&&z.isub(this.m),z},S.prototype.sub=function(A,L){this._verify2(A,L);var z=A.sub(L);return 0>z.cmpn(0)&&z.iadd(this.m),z._forceRed(this)},S.prototype.isub=function(A,L){this._verify2(A,L);var z=A.isub(L);return 0>z.cmpn(0)&&z.iadd(this.m),z},S.prototype.shl=function(A,L){return this._verify1(A),this.imod(A.ushln(L))},S.prototype.imul=function(A,L){return this._verify2(A,L),this.imod(A.imul(L))},S.prototype.mul=function(A,L){return this._verify2(A,L),this.imod(A.mul(L))},S.prototype.isqr=function(A){return this.imul(A,A.clone())},S.prototype.sqr=function(A){return this.mul(A,A)},S.prototype.sqrt=function(A){if(A.isZero())return A.clone();var L=this.m.andln(3);if(f(L%2==1),3===L){var z=this.m.add(new n(1)).iushrn(2);return this.pow(A,z)}for(var y=this.m.subn(1),C=0;!y.isZero()&&0===y.andln(1);)C++,y.iushrn(1);f(!y.isZero());var M=new n(1).toRed(this),U=M.redNeg(),ee=this.m.subn(1).iushrn(1),J=this.m.bitLength();for(J=new n(2*J*J).toRed(this);0!==this.pow(J,ee).cmp(U);)J.redIAdd(U);for(var re=this.pow(J,y),Ue=this.pow(A,y.addn(1).iushrn(1)),We=this.pow(A,y),Qe=C;0!==We.cmp(M);){for(var ft=We,pt=0;0!==ft.cmp(M);pt++)ft=ft.redSqr();f(pt<Qe);var Xt=this.pow(re,new n(1).iushln(Qe-pt-1));Ue=Ue.redMul(Xt),re=Xt.redSqr(),We=We.redMul(re),Qe=pt}return Ue},S.prototype.invm=function(A){var L=A._invmp(this.m);return 0===L.negative?this.imod(L):(L.negative=0,this.imod(L).redNeg())},S.prototype.pow=function(A,L){if(L.isZero())return new n(1).toRed(this);if(0===L.cmpn(1))return A.clone();var z=Array(16);z[0]=new n(1).toRed(this),z[1]=A;for(var y=2;y<z.length;y++)z[y]=this.mul(z[y-1],A);var C=z[0],M=0,U=0,ee=L.bitLength()%26;for(0===ee&&(ee=26),y=L.length-1;0<=y;y--){for(var Ue,J=L.words[y],re=ee-1;0<=re;re--)Ue=1&J>>re,C!==z[0]&&(C=this.sqr(C)),0!==Ue||0!==M?(M<<=1,M|=Ue,(4==++U||0===y&&0===re)&&(C=this.mul(C,z[M]),U=0,M=0)):U=0;ee=26}return C},S.prototype.convertTo=function(A){var L=A.umod(this.m);return L===A?L.clone():L},S.prototype.convertFrom=function(A){var L=A.clone();return L.red=null,L},n.mont=function(A){return new R(A)},x(R,S),R.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},R.prototype.convertFrom=function(A){var L=this.imod(A.mul(this.rinv));return L.red=null,L},R.prototype.imul=function(A,L){if(A.isZero()||L.isZero())return A.words[0]=0,A.length=1,A;var z=A.imul(L),y=z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=z.isub(y).iushrn(this.shift),M=C;return 0<=C.cmp(this.m)?M=C.isub(this.m):0>C.cmpn(0)&&(M=C.iadd(this.m)),M._forceRed(this)},R.prototype.mul=function(A,L){if(A.isZero()||L.isZero())return new n(0)._forceRed(this);var z=A.mul(L),y=z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=z.isub(y).iushrn(this.shift),M=C;return 0<=C.cmp(this.m)?M=C.isub(this.m):0>C.cmpn(0)&&(M=C.iadd(this.m)),M._forceRed(this)},R.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}}(typeof B>"u"||B,this)},{buffer:41}],23:[function(m,B,i){"use strict";function g(l){var p=l.length;if(0<p%4)throw new Error("Invalid string. Length must be a multiple of 4");var w=l.indexOf("=");return-1===w&&(w=p),[w,w===p?0:4-w%4]}function n(l){return s[63&l>>18]+s[63&l>>12]+s[63&l>>6]+s[63&l]}function c(l,p,w){for(var b=[],I=p;I<w;I+=3)b.push(n((16711680&l[I]<<16)+(65280&l[I+1]<<8)+(255&l[I+2])));return b.join("")}i.byteLength=function(l){var p=g(l),b=p[1];return 3*(p[0]+b)/4-b},i.toByteArray=function x(l){var N,q,p=g(l),w=p[0],b=p[1],I=new o(function f(l,p,w){return 3*(p+w)/4-w}(0,w,b)),S=0,R=0<b?w-4:w;for(q=0;q<R;q+=4)N=t[l.charCodeAt(q)]<<18|t[l.charCodeAt(q+1)]<<12|t[l.charCodeAt(q+2)]<<6|t[l.charCodeAt(q+3)],I[S++]=255&N>>16,I[S++]=255&N>>8,I[S++]=255&N;return 2===b&&(N=t[l.charCodeAt(q)]<<2|t[l.charCodeAt(q+1)]>>4,I[S++]=255&N),1===b&&(N=t[l.charCodeAt(q)]<<10|t[l.charCodeAt(q+1)]<<4|t[l.charCodeAt(q+2)]>>2,I[S++]=255&N>>8,I[S++]=255&N),I},i.fromByteArray=function u(l){for(var N,p=l.length,w=p%3,b=[],I=16383,S=0,R=p-w;S<R;S+=I)b.push(c(l,S,S+I>R?R:S+I));return 1===w?b.push(s[(N=l[p-1])>>2]+s[63&N<<4]+"=="):2===w&&b.push(s[(N=(l[p-2]<<8)+l[p-1])>>10]+s[63&N>>4]+s[63&N<<2]+"="),b.join("")};for(var s=[],t=[],o=typeof Uint8Array>"u"?Array:Uint8Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,h=r.length;d<h;++d)s[d]=r[d],t[r.charCodeAt(d)]=d;t[45]=62,t[95]=63},{}],24:[function(m,B){(function(i){(function(){function g(n,c,u){let s=0,t=1;for(let o=c;o<u;o++){const r=n[o];if(58>r&&48<=r)s=10*s+(r-48);else if(o!==c||43!==r){if(o===c&&45===r){t=-1;continue}if(46===r)break;throw new Error("not a number: buffer["+o+"] = "+r)}}return s*t}function f(n,c,u,s){return null==n||0===n.length?null:("number"!=typeof c&&null==s&&(s=c,c=void 0),"number"!=typeof u&&null==s&&(s=u,u=void 0),f.position=0,f.encoding=s||null,f.data=i.isBuffer(n)?n.slice(c,u):i.from(n),f.bytes=f.data.length,f.next())}f.bytes=0,f.position=0,f.data=null,f.encoding=null,f.next=function(){switch(f.data[f.position]){case 100:return f.dictionary();case 108:return f.list();case 105:return f.integer();default:return f.buffer()}},f.find=function(n){let c=f.position;const u=f.data.length,s=f.data;for(;c<u;){if(s[c]===n)return c;c++}throw new Error('Invalid data: Missing delimiter "'+G(n)+'" [0x'+n.toString(16)+"]")},f.dictionary=function(){f.position++;const n={};for(;101!==f.data[f.position];)n[f.buffer()]=f.next();return f.position++,n},f.list=function(){f.position++;const n=[];for(;101!==f.data[f.position];)n.push(f.next());return f.position++,n},f.integer=function(){const n=f.find(101),c=g(f.data,f.position+1,n);return f.position+=n+1-f.position,c},f.buffer=function(){let n=f.find(58);const c=g(f.data,f.position,n),u=++n+c;return f.position=u,f.encoding?f.data.toString(f.encoding,n,u):f.data.slice(n,u)},B.exports=f}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69}],25:[function(m,B){(function(i){(function(){function g(u,s,t){const o=[];let r=null;return g._encode(o,u),r=i.concat(o),g.bytes=r.length,i.isBuffer(s)?(r.copy(s,t),s):r}const{getType:f}=m("./util.js");g.bytes=-1,g._floatConversionDetected=!1,g._encode=function(u,s){if(null!=s)switch(f(s)){case"buffer":g.buffer(u,s);break;case"object":g.dict(u,s);break;case"map":g.dictMap(u,s);break;case"array":g.list(u,s);break;case"set":g.listSet(u,s);break;case"string":g.string(u,s);break;case"number":case"boolean":g.number(u,s);break;case"arraybufferview":g.buffer(u,i.from(s.buffer,s.byteOffset,s.byteLength));break;case"arraybuffer":g.buffer(u,i.from(s))}};const x=i.from("e"),n=i.from("d"),c=i.from("l");g.buffer=function(u,s){u.push(i.from(s.length+":"),s)},g.string=function(u,s){u.push(i.from(i.byteLength(s)+":"+s))},g.number=function(u,s){const t=2147483648*(s/2147483648<<0)+(s%2147483648<<0);u.push(i.from("i"+t+"e")),t===s||g._floatConversionDetected||(g._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+s+'":','Bencoding only defines support for integers, value was converted to "'+t+'"'),console.trace())},g.dict=function(u,s){u.push(n);let o,t=0;const r=Object.keys(s).sort(),d=r.length;for(;t<d;t++)o=r[t],null!=s[o]&&(g.string(u,o),g._encode(u,s[o]));u.push(x)},g.dictMap=function(u,s){u.push(n);const t=Array.from(s.keys()).sort();for(const o of t)null!=s.get(o)&&(i.isBuffer(o)?g._encode(u,o):g.string(u,o+""),g._encode(u,s.get(o)));u.push(x)},g.list=function(u,s){let t=0;const o=s.length;for(u.push(c);t<o;t++)null!=s[t]&&g._encode(u,s[t]);u.push(x)},g.listSet=function(u,s){u.push(c);for(const t of s)null!=t&&g._encode(u,t);u.push(x)},B.exports=g}).call(this)}).call(this,m("buffer").Buffer)},{"./util.js":28,buffer:69}],26:[function(m,B){(function(i){(function(){const{digitCount:s,getType:t}=m("./util.js");B.exports=function u(o){if(null==o)return 0;const r=t(o);switch(r){case"buffer":return s(o.length)+1+o.length;case"arraybufferview":return function c(o){const r=o.byteLength-o.byteOffset;return s(r)+1+r}(o);case"string":return function n(o){const r=i.byteLength(o);return s(r)+1+r}(o);case"array":case"set":return function g(o){let r=2;for(const d of o)r+=u(d);return r}(o);case"number":return 1+s(wt(o))+1;case"bigint":return 1+o.toString().length+1;case"object":return function x(o){let r=2;const d=Object.keys(o);for(let h=0;h<d.length;h++){const l=i.byteLength(d[h]);r+=s(l)+1+l,r+=u(o[d[h]])}return r}(o);case"map":return function f(o){let r=2;for(const[d,h]of o){const l=i.byteLength(d);r+=s(l)+1+l,r+=u(h)}return r}(o);default:throw new TypeError(`Unsupported value of type "${r}"`)}}}).call(this)}).call(this,m("buffer").Buffer)},{"./util.js":28,buffer:69}],27:[function(m,B){const i=B.exports;i.encode=m("./encode.js"),i.decode=m("./decode.js"),i.byteLength=i.encodingLength=m("./encoding-length.js")},{"./decode.js":24,"./encode.js":25,"./encoding-length.js":26}],28:[function(m,B){(function(i){(function(){const g=B.exports;g.digitCount=function(f){var x=Math.log10;const n=0>f?1:0;return f=At(+(f||1)),wt(x(f))+1+n},g.getType=function(f){return i.isBuffer(f)?"buffer":ArrayBuffer.isView(f)?"arraybufferview":Array.isArray(f)?"array":f instanceof Number?"number":f instanceof Boolean?"boolean":f instanceof Set?"set":f instanceof Map?"map":f instanceof String?"string":f instanceof ArrayBuffer?"arraybuffer":typeof f}}).call(this)}).call(this,{isBuffer:m("../../is-buffer/index.js")})},{"../../is-buffer/index.js":161}],29:[function(m,B){function i(g){return g.reduce((x,n)=>{const c=n.split("-").map(u=>parseInt(u));return x.concat(((x,n=x)=>Array.from({length:n-x+1},(c,u)=>u+x))(...c))},[])}B.exports=i,B.exports.parse=i,B.exports.compose=function(g){return g.reduce((f,x,n,c)=>((0===n||x!==c[n-1]+1)&&f.push([]),f[f.length-1].push(x),f),[]).map(f=>1<f.length?`${f[0]}-${f[f.length-1]}`:`${f[0]}`)}},{}],30:[function(m,B){B.exports=function(i,g,f,x,n){var c,u;if(void 0===x)x=0;else if(0>(x|=0)||x>=i.length)throw new RangeError("invalid lower bound");if(void 0===n)n=i.length-1;else if((n|=0)<x||n>=i.length)throw new RangeError("invalid upper bound");for(;x<=n;)if(0>(u=+f(i[c=x+(n-x>>>1)],g,c,i)))x=c+1;else{if(!(0<u))return c;n=c-1}return~x}},{}],31:[function(m,B,i){"use strict";function g(x){var n=x>>3;return x%8!=0&&n++,n}Object.defineProperty(i,"__esModule",{value:!0});var f=function(){function x(n,c){void 0===n&&(n=0);var u=c?.grow;this.grow=u&&isFinite(u)&&g(u)||u||0,this.buffer="number"==typeof n?new Uint8Array(g(n)):n}return x.prototype.get=function(n){var c=n>>3;return c<this.buffer.length&&!!(this.buffer[c]&128>>n%8)},x.prototype.set=function(n,c){void 0===c&&(c=!0);var u=n>>3;if(c){if(this.buffer.length<u+1){var s=ue(u+1,Y(2*this.buffer.length,this.grow));if(s<=this.grow){var t=new Uint8Array(s);t.set(this.buffer),this.buffer=t}}this.buffer[u]|=128>>n%8}else u<this.buffer.length&&(this.buffer[u]&=~(128>>n%8))},x.prototype.forEach=function(n,c,u){void 0===c&&(c=0),void 0===u&&(u=8*this.buffer.length);for(var s=c,t=s>>3,o=128>>s%8,r=this.buffer[t];s<u;s++)n(!!(r&o),s),o=1==o?(r=this.buffer[++t],128):o>>1},x}();i.default=f},{}],32:[function(m,B){(function(i){(function(){function g(ke,A){for(let L=ke.length;L--;)ke[L]^=A[L];return ke}const f=m("unordered-array-remove"),x=m("bencode"),n=m("bitfield").default,c=m("crypto"),u=m("debug")("bittorrent-protocol"),s=m("randombytes"),t=m("simple-sha1"),o=m("speedometer"),r=m("readable-stream"),d=m("rc4"),h=i.from("\x13BitTorrent protocol"),l=i.from([0,0,0,0]),p=i.from([0,0,0,1,0]),w=i.from([0,0,0,1,1]),b=i.from([0,0,0,1,2]),I=i.from([0,0,0,1,3]),S=[0,0,0,0,0,0,0,0],R=[0,0,0,3,9,0,0],N=i.from([0,0,0,0,0,0,0,0]),q=i.from([0,0,1,2]),Z=i.from([0,0,0,2]);class le{constructor(A,L,z,y){this.piece=A,this.offset=L,this.length=z,this.callback=y}}B.exports=class we extends r.Duplex{constructor(A=null,L=0,z=!1){super(),this._debugId=s(4).toString("hex"),this._debug("new wire"),this.peerId=null,this.peerIdBuffer=null,this.type=A,this.amChoking=!0,this.amInterested=!1,this.peerChoking=!0,this.peerInterested=!1,this.peerPieces=new n(0,{grow:4e5}),this.peerExtensions={},this.requests=[],this.peerRequests=[],this.extendedMapping={},this.peerExtendedMapping={},this.extendedHandshake={},this.peerExtendedHandshake={},this._ext={},this._nextExt=1,this.uploaded=0,this.downloaded=0,this.uploadSpeed=o(),this.downloadSpeed=o(),this._keepAliveInterval=null,this._timeout=null,this._timeoutMs=0,this._timeoutExpiresAt=null,this.destroyed=!1,this._finished=!1,this._parserSize=0,this._parser=null,this._buffer=[],this._bufferSize=0,this._peEnabled=z,z?(this._dh=c.createDiffieHellman("ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a36210000000000090563","hex",2),this._myPubKey=this._dh.generateKeys("hex")):this._myPubKey=null,this._peerPubKey=null,this._sharedSecret=null,this._peerCryptoProvide=[],this._cryptoHandshakeDone=!1,this._cryptoSyncPattern=null,this._waitMaxBytes=null,this._encryptionMethod=null,this._encryptGenerator=null,this._decryptGenerator=null,this._setGenerators=!1,this.once("finish",()=>this._onFinish()),this.on("finish",this._onFinish),this._debug("type:",this.type),"tcpIncoming"===this.type&&this._peEnabled?this._determineHandshakeType():"tcpOutgoing"===this.type&&this._peEnabled&&0===L?this._parsePe2():this._parseHandshake(null)}setKeepAlive(A){this._debug("setKeepAlive %s",A),clearInterval(this._keepAliveInterval),!1===A||(this._keepAliveInterval=setInterval(()=>{this.keepAlive()},55e3))}setTimeout(A,L){this._debug("setTimeout ms=%d unref=%s",A,L),this._timeoutMs=A,this._timeoutUnref=!!L,this._resetTimeout(!0)}destroy(){this.destroyed||(this.destroyed=!0,this._debug("destroy"),this.emit("close"),this.end())}end(...A){this._debug("end"),this._onUninterested(),this._onChoke(),super.end(...A)}use(A){function L(){}const z=A.prototype.name;if(!z)throw new Error('Extension class requires a "name" property on the prototype');this._debug("use extension.name=%s",z);const y=this._nextExt,C=new A(this);"function"!=typeof C.onHandshake&&(C.onHandshake=L),"function"!=typeof C.onExtendedHandshake&&(C.onExtendedHandshake=L),"function"!=typeof C.onMessage&&(C.onMessage=L),this.extendedMapping[y]=z,this._ext[z]=C,this[z]=C,this._nextExt+=1}keepAlive(){this._debug("keep-alive"),this._push(l)}sendPe1(){if(this._peEnabled){const A=wt(513*Math.random()),L=s(A);this._push(i.concat([i.from(this._myPubKey,"hex"),L]))}}sendPe2(){const A=wt(513*Math.random()),L=s(A);this._push(i.concat([i.from(this._myPubKey,"hex"),L]))}sendPe3(A){this.setEncrypt(this._sharedSecret,A);const L=i.from(t.sync(i.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex"),C=g(i.from(t.sync(i.from(this._utfToHex("req2")+A,"hex")),"hex"),i.from(t.sync(i.from(this._utfToHex("req3")+this._sharedSecret,"hex")),"hex")),M=s(2).readUInt16BE(0)%512,U=s(M);let ee=i.alloc(14+M+2);N.copy(ee),q.copy(ee,8),ee.writeInt16BE(M,12),U.copy(ee,14),ee.writeInt16BE(0,14+M),ee=this._encryptHandshake(ee),this._push(i.concat([L,C,ee]))}sendPe4(A){this.setEncrypt(this._sharedSecret,A);const L=s(2).readUInt16BE(0)%512,z=s(L);let y=i.alloc(14+L);N.copy(y),Z.copy(y,8),y.writeInt16BE(L,12),z.copy(y,14),y=this._encryptHandshake(y),this._push(y),this._cryptoHandshakeDone=!0,this._debug("completed crypto handshake")}handshake(A,L,z){let y,C;if("string"==typeof A?(A=A.toLowerCase(),y=i.from(A,"hex")):(y=A,A=y.toString("hex")),"string"==typeof L?C=i.from(L,"hex"):(C=L,L=C.toString("hex")),this._infoHash=y,20!==y.length||20!==C.length)throw new Error("infoHash and peerId MUST have length 20");this._debug("handshake i=%s p=%s exts=%o",A,L,z);const M=i.from(S);M[5]|=16,z&&z.dht&&(M[7]|=1),this._push(i.concat([h,M,y,C])),this._handshakeSent=!0,this.peerExtensions.extended&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_sendExtendedHandshake(){const A=Object.assign({},this.extendedHandshake);for(const L in A.m={},this.extendedMapping)A.m[this.extendedMapping[L]]=+L;this.extended(0,x.encode(A)),this._extendedHandshakeSent=!0}choke(){if(!this.amChoking){for(this.amChoking=!0,this._debug("choke");this.peerRequests.length;)this.peerRequests.pop();this._push(p)}}unchoke(){this.amChoking&&(this.amChoking=!1,this._debug("unchoke"),this._push(w))}interested(){this.amInterested||(this.amInterested=!0,this._debug("interested"),this._push(b))}uninterested(){this.amInterested&&(this.amInterested=!1,this._debug("uninterested"),this._push(I))}have(A){this._debug("have %d",A),this._message(4,[A],null)}bitfield(A){this._debug("bitfield"),i.isBuffer(A)||(A=A.buffer),this._message(5,[],A)}request(A,L,z,y){return y||(y=()=>{}),this._finished?y(new Error("wire is closed")):this.peerChoking?y(new Error("peer is choking")):(this._debug("request index=%d offset=%d length=%d",A,L,z),this.requests.push(new le(A,L,z,y)),!this._timeout&&this._resetTimeout(!0),void this._message(6,[A,L,z],null))}piece(A,L,z){this._debug("piece index=%d offset=%d",A,L),this._message(7,[A,L],z),this.uploaded+=z.length,this.uploadSpeed(z.length),this.emit("upload",z.length)}cancel(A,L,z){this._debug("cancel index=%d offset=%d length=%d",A,L,z),this._callback(this._pull(this.requests,A,L,z),new Error("request was cancelled"),null),this._message(8,[A,L,z],null)}port(A){this._debug("port %d",A);const L=i.from(R);L.writeUInt16BE(A,5),this._push(L)}extended(A,L){if(this._debug("extended ext=%s",A),"string"==typeof A&&this.peerExtendedMapping[A]&&(A=this.peerExtendedMapping[A]),"number"!=typeof A)throw new Error(`Unrecognized extension: ${A}`);{const z=i.from([A]),y=i.isBuffer(L)?L:x.encode(L);this._message(20,[],i.concat([z,y]))}}setEncrypt(A,L){let z,y,C,M,U,ee;switch(this.type){case"tcpIncoming":z=t.sync(i.from(this._utfToHex("keyB")+A+L,"hex")),y=t.sync(i.from(this._utfToHex("keyA")+A+L,"hex")),C=i.from(z,"hex"),M=[];for(const J of C.values())M.push(J);U=i.from(y,"hex"),ee=[];for(const J of U.values())ee.push(J);this._encryptGenerator=new d(M),this._decryptGenerator=new d(ee);break;case"tcpOutgoing":z=t.sync(i.from(this._utfToHex("keyA")+A+L,"hex")),y=t.sync(i.from(this._utfToHex("keyB")+A+L,"hex")),C=i.from(z,"hex"),M=[];for(const J of C.values())M.push(J);U=i.from(y,"hex"),ee=[];for(const J of U.values())ee.push(J);this._encryptGenerator=new d(M),this._decryptGenerator=new d(ee);break;default:return!1}for(let J=0;1024>J;J++)this._encryptGenerator.randomByte(),this._decryptGenerator.randomByte();return this._setGenerators=!0,!0}_read(){}_message(A,L,z){const y=z?z.length:0,C=i.allocUnsafe(5+4*L.length);C.writeUInt32BE(C.length+y-4,0),C[4]=A;for(let M=0;M<L.length;M++)C.writeUInt32BE(L[M],5+4*M);this._push(C),z&&this._push(z)}_push(A){if(!this._finished)return 2===this._encryptionMethod&&this._cryptoHandshakeDone&&(A=this._encrypt(A)),this.push(A)}_onKeepAlive(){this._debug("got keep-alive"),this.emit("keep-alive")}_onPe1(A){this._peerPubKey=A.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe1")}_onPe2(A){this._peerPubKey=A.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe2")}_onPe3(A){const L=t.sync(i.from(this._utfToHex("req3")+this._sharedSecret,"hex")),z=g(i.from(L,"hex"),A).toString("hex");this.emit("pe3",z)}_onPe3Encrypted(A,L){if(!A.equals(N))return this._debug("Error: verification constant did not match"),void this.destroy();for(const z of L.values())0!==z&&this._peerCryptoProvide.push(z);this._peerCryptoProvide.includes(2)?this._encryptionMethod=2:(this._debug("Error: RC4 encryption method not provided by peer"),this.destroy())}_onPe4(A){this._encryptionMethod=A.readUInt8(3),q.includes(this._encryptionMethod)||(this._debug("Error: peer selected invalid crypto method"),this.destroy()),this._cryptoHandshakeDone=!0,this._debug("crypto handshake done"),this.emit("pe4")}_onHandshake(A,L,z){const y=A.toString("hex"),C=L.toString("hex");for(const M in this._debug("got handshake i=%s p=%s exts=%o",y,C,z),this.peerId=C,this.peerIdBuffer=L,this.peerExtensions=z,this.emit("handshake",y,C,z),this._ext)this._ext[M].onHandshake(y,C,z);z.extended&&this._handshakeSent&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_onChoke(){for(this.peerChoking=!0,this._debug("got choke"),this.emit("choke");this.requests.length;)this._callback(this.requests.pop(),new Error("peer is choking"),null)}_onUnchoke(){this.peerChoking=!1,this._debug("got unchoke"),this.emit("unchoke")}_onInterested(){this.peerInterested=!0,this._debug("got interested"),this.emit("interested")}_onUninterested(){this.peerInterested=!1,this._debug("got uninterested"),this.emit("uninterested")}_onHave(A){this.peerPieces.get(A)||(this._debug("got have %d",A),this.peerPieces.set(A,!0),this.emit("have",A))}_onBitField(A){this.peerPieces=new n(A),this._debug("got bitfield"),this.emit("bitfield",this.peerPieces)}_onRequest(A,L,z){if(this.amChoking)return;this._debug("got request index=%d offset=%d length=%d",A,L,z);const y=(M,U)=>C===this._pull(this.peerRequests,A,L,z)?M?this._debug("error satisfying request index=%d offset=%d length=%d (%s)",A,L,z,M.message):void this.piece(A,L,U):void 0,C=new le(A,L,z,y);this.peerRequests.push(C),this.emit("request",A,L,z,y)}_onPiece(A,L,z){this._debug("got piece index=%d offset=%d",A,L),this._callback(this._pull(this.requests,A,L,z.length),null,z),this.downloaded+=z.length,this.downloadSpeed(z.length),this.emit("download",z.length),this.emit("piece",A,L,z)}_onCancel(A,L,z){this._debug("got cancel index=%d offset=%d length=%d",A,L,z),this._pull(this.peerRequests,A,L,z),this.emit("cancel",A,L,z)}_onPort(A){this._debug("got port %d",A),this.emit("port",A)}_onExtended(A,L){if(0===A){let z;try{z=x.decode(L)}catch(y){this._debug("ignoring invalid extended handshake: %s",y.message||y)}if(!z)return;if(this.peerExtendedHandshake=z,"object"==typeof z.m)for(const y in z.m)this.peerExtendedMapping[y]=+z.m[y].toString();for(const y in this._ext)this.peerExtendedMapping[y]&&this._ext[y].onExtendedHandshake(this.peerExtendedHandshake);this._debug("got extended handshake"),this.emit("extended","handshake",this.peerExtendedHandshake)}else this.extendedMapping[A]&&this._ext[A=this.extendedMapping[A]]&&this._ext[A].onMessage(L),this._debug("got extended message ext=%s",A),this.emit("extended",A,L)}_onTimeout(){this._debug("request timed out"),this._callback(this.requests.shift(),new Error("request has timed out"),null),this.emit("timeout")}_write(A,L,z){if(2===this._encryptionMethod&&this._cryptoHandshakeDone&&(A=this._decrypt(A)),this._bufferSize+=A.length,this._buffer.push(A),1<this._buffer.length&&(this._buffer=[i.concat(this._buffer,this._bufferSize)]),this._cryptoSyncPattern){const y=this._buffer[0].indexOf(this._cryptoSyncPattern);if(-1!==y)this._buffer[0]=this._buffer[0].slice(y+this._cryptoSyncPattern.length),this._bufferSize-=y+this._cryptoSyncPattern.length,this._cryptoSyncPattern=null;else if(this._bufferSize+A.length>this._waitMaxBytes+this._cryptoSyncPattern.length)return this._debug("Error: could not resynchronize"),void this.destroy()}for(;this._bufferSize>=this._parserSize&&!this._cryptoSyncPattern;)if(0===this._parserSize)this._parser(i.from([]));else{const y=this._buffer[0];this._bufferSize-=this._parserSize,this._buffer=this._bufferSize?[y.slice(this._parserSize)]:[],this._parser(y.slice(0,this._parserSize))}z(null)}_callback(A,L,z){A&&(this._resetTimeout(!this.peerChoking&&!this._finished),A.callback(L,z))}_resetTimeout(A){if(!A||!this._timeoutMs||!this.requests.length)return clearTimeout(this._timeout),this._timeout=null,void(this._timeoutExpiresAt=null);const L=Date.now()+this._timeoutMs;if(this._timeout){if(L-this._timeoutExpiresAt<.05*this._timeoutMs)return;clearTimeout(this._timeout)}this._timeoutExpiresAt=L,this._timeout=setTimeout(()=>this._onTimeout(),this._timeoutMs),this._timeoutUnref&&this._timeout.unref&&this._timeout.unref()}_parse(A,L){this._parserSize=A,this._parser=L}_parseUntil(A,L){this._cryptoSyncPattern=A,this._waitMaxBytes=L}_onMessageLength(A){const L=A.readUInt32BE(0);0<L?this._parse(L,this._onMessage):(this._onKeepAlive(),this._parse(4,this._onMessageLength))}_onMessage(A){switch(this._parse(4,this._onMessageLength),A[0]){case 0:return this._onChoke();case 1:return this._onUnchoke();case 2:return this._onInterested();case 3:return this._onUninterested();case 4:return this._onHave(A.readUInt32BE(1));case 5:return this._onBitField(A.slice(1));case 6:return this._onRequest(A.readUInt32BE(1),A.readUInt32BE(5),A.readUInt32BE(9));case 7:return this._onPiece(A.readUInt32BE(1),A.readUInt32BE(5),A.slice(9));case 8:return this._onCancel(A.readUInt32BE(1),A.readUInt32BE(5),A.readUInt32BE(9));case 9:return this._onPort(A.readUInt16BE(1));case 20:return this._onExtended(A.readUInt8(1),A.slice(2));default:return this._debug("got unknown message"),this.emit("unknownmessage",A)}}_determineHandshakeType(){this._parse(1,A=>{const L=A.readUInt8(0);19===L?this._parse(L+48,this._onHandshakeBuffer):this._parsePe1(A)})}_parsePe1(A){this._parse(95,L=>{this._onPe1(i.concat([A,L])),this._parsePe3()})}_parsePe2(){this._parse(96,A=>{for(this._onPe2(A);!this._setGenerators;);this._parsePe4()})}_parsePe3(){const A=i.from(t.sync(i.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex");this._parseUntil(A,512),this._parse(20,L=>{for(this._onPe3(L);!this._setGenerators;);this._parsePe3Encrypted()})}_parsePe3Encrypted(){this._parse(14,A=>{const L=this._decryptHandshake(A.slice(0,8)),z=this._decryptHandshake(A.slice(8,12)),y=this._decryptHandshake(A.slice(12,14)).readUInt16BE(0);this._parse(y,C=>{C=this._decryptHandshake(C),this._parse(2,M=>{const U=this._decryptHandshake(M).readUInt16BE(0);this._parse(U,ee=>{ee=this._decryptHandshake(ee),this._onPe3Encrypted(L,z,C,ee);const J=U?ee.readUInt8(0):null,re=U?ee.slice(1,20):null;19===J&&"BitTorrent protocol"===re.toString()?this._onHandshakeBuffer(ee.slice(1)):this._parseHandshake()})})})})}_parsePe4(){const A=this._decryptHandshake(N);this._parseUntil(A,512),this._parse(6,L=>{const z=this._decryptHandshake(L.slice(0,4)),y=this._decryptHandshake(L.slice(4,6)).readUInt16BE(0);this._parse(y,C=>{this._decryptHandshake(C),this._onPe4(z),this._parseHandshake(null)})})}_parseHandshake(){this._parse(1,A=>{const L=A.readUInt8(0);return 19===L?void this._parse(L+48,this._onHandshakeBuffer):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",L.toString()),void this.end())})}_onHandshakeBuffer(A){const L=A.slice(0,19);return"BitTorrent protocol"===L.toString()?(A=A.slice(19),this._onHandshake(A.slice(8,28),A.slice(28,48),{dht:!!(1&A[7]),extended:!!(16&A[5])}),void this._parse(4,this._onMessageLength)):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",L.toString()),void this.end())}_onFinish(){for(this._finished=!0,this.push(null);this.read(););for(clearInterval(this._keepAliveInterval),this._parse(Number.MAX_VALUE,()=>{});this.peerRequests.length;)this.peerRequests.pop();for(;this.requests.length;)this._callback(this.requests.pop(),new Error("wire was closed"),null)}_debug(...A){A[0]=`[${this._debugId}] ${A[0]}`,u(...A)}_pull(A,L,z,y){for(let C=0;C<A.length;C++){const M=A[C];if(M.piece===L&&M.offset===z&&M.length===y)return f(A,C),M}return null}_encryptHandshake(A){const L=i.from(A);if(!this._encryptGenerator)return this._debug("Warning: Encrypting without any generator"),L;for(let z=0;z<A.length;z++){const y=this._encryptGenerator.randomByte();L[z]^=y}return L}_encrypt(A){const L=i.from(A);if(!this._encryptGenerator||2!==this._encryptionMethod)return L;for(let z=0;z<A.length;z++){const y=this._encryptGenerator.randomByte();L[z]^=y}return L}_decryptHandshake(A){const L=i.from(A);if(!this._decryptGenerator)return this._debug("Warning: Decrypting without any generator"),L;for(let z=0;z<A.length;z++){const y=this._decryptGenerator.randomByte();L[z]^=y}return L}_decrypt(A){const L=i.from(A);if(!this._decryptGenerator||2!==this._encryptionMethod)return L;for(let z=0;z<A.length;z++){const y=this._decryptGenerator.randomByte();L[z]^=y}return L}_utfToHex(A){return i.from(A,"utf8").toString("hex")}}}).call(this)}).call(this,m("buffer").Buffer)},{bencode:27,bitfield:31,buffer:69,crypto:104,debug:105,randombytes:221,rc4:225,"readable-stream":240,"simple-sha1":260,speedometer:267,"unordered-array-remove":284}],33:[function(m,B){(function(i,g){(function(){const f=m("debug")("bittorrent-tracker:client"),x=m("events"),n=m("once"),c=m("run-parallel"),u=m("simple-peer"),s=m("queue-microtask"),t=m("./lib/common"),o=m("./lib/client/http-tracker"),r=m("./lib/client/udp-tracker"),d=m("./lib/client/websocket-tracker");class h extends x{constructor(p={}){if(super(),!p.peerId)throw new Error("Option `peerId` is required");if(!p.infoHash)throw new Error("Option `infoHash` is required");if(!p.announce)throw new Error("Option `announce` is required");if(!i.browser&&!p.port)throw new Error("Option `port` is required");this.peerId="string"==typeof p.peerId?p.peerId:p.peerId.toString("hex"),this._peerIdBuffer=g.from(this.peerId,"hex"),this._peerIdBinary=this._peerIdBuffer.toString("binary"),this.infoHash="string"==typeof p.infoHash?p.infoHash.toLowerCase():p.infoHash.toString("hex"),this._infoHashBuffer=g.from(this.infoHash,"hex"),this._infoHashBinary=this._infoHashBuffer.toString("binary"),f("new client %s",this.infoHash),this.destroyed=!1,this._port=p.port,this._getAnnounceOpts=p.getAnnounceOpts,this._rtcConfig=p.rtcConfig,this._userAgent=p.userAgent,this._proxyOpts=p.proxyOpts,this._wrtc="function"==typeof p.wrtc?p.wrtc():p.wrtc;let w="string"==typeof p.announce?[p.announce]:null==p.announce?[]:p.announce;w=w.map(S=>("/"===(S=S.toString())[S.length-1]&&(S=S.substring(0,S.length-1)),S)),w=Array.from(new Set(w));const b=!1!==this._wrtc&&(!!this._wrtc||u.WEBRTC_SUPPORT),I=S=>{s(()=>{this.emit("warning",S)})};this._trackers=w.map(S=>{let R;try{R=t.parseUrl(S)}catch{return I(new Error(`Invalid tracker URL: ${S}`)),null}const N=R.port;if(0>N||65535<N)return I(new Error(`Invalid tracker port: ${S}`)),null;const q=R.protocol;return"http:"!==q&&"https:"!==q||"function"!=typeof o?"udp:"===q&&"function"==typeof r?new r(this,S):"ws:"!==q&&"wss:"!==q||!b||"ws:"===q&&typeof window<"u"&&"https:"===window.location.protocol?(I(new Error(`Unsupported tracker protocol: ${S}`)),null):new d(this,S):new o(this,S)}).filter(Boolean)}start(p){(p=this._defaultAnnounceOpts(p)).event="started",f("send `start` %o",p),this._announce(p),this._trackers.forEach(w=>{w.setInterval()})}stop(p){(p=this._defaultAnnounceOpts(p)).event="stopped",f("send `stop` %o",p),this._announce(p)}complete(p){p||(p={}),(p=this._defaultAnnounceOpts(p)).event="completed",f("send `complete` %o",p),this._announce(p)}update(p){(p=this._defaultAnnounceOpts(p)).event&&delete p.event,f("send `update` %o",p),this._announce(p)}_announce(p){this._trackers.forEach(w=>{w.announce(p)})}scrape(p){f("send `scrape`"),p||(p={}),this._trackers.forEach(w=>{w.scrape(p)})}setInterval(p){f("setInterval %d",p),this._trackers.forEach(w=>{w.setInterval(p)})}destroy(p){if(!this.destroyed){this.destroyed=!0,f("destroy");const w=this._trackers.map(b=>I=>{b.destroy(I)});c(w,p),this._trackers=[],this._getAnnounceOpts=null}}_defaultAnnounceOpts(p={}){return null==p.numwant&&(p.numwant=t.DEFAULT_ANNOUNCE_PEERS),null==p.uploaded&&(p.uploaded=0),null==p.downloaded&&(p.downloaded=0),this._getAnnounceOpts&&(p=Object.assign({},p,this._getAnnounceOpts())),p}}h.scrape=(l,p)=>{if(p=n(p),!l.infoHash)throw new Error("Option `infoHash` is required");if(!l.announce)throw new Error("Option `announce` is required");const w=Object.assign({},l,{infoHash:Array.isArray(l.infoHash)?l.infoHash[0]:l.infoHash,peerId:g.from("01234567890123456789"),port:6881}),b=new h(w);b.once("error",p),b.once("warning",p);let I=Array.isArray(l.infoHash)?l.infoHash.length:1;const S={};return b.on("scrape",R=>{if(I-=1,S[R.infoHash]=R,0===I){b.destroy();const N=Object.keys(S);p(null,1===N.length?S[N[0]]:S)}}),l.infoHash=Array.isArray(l.infoHash)?l.infoHash.map(R=>g.from(R,"hex")):g.from(l.infoHash,"hex"),b.scrape({infoHash:l.infoHash}),b},B.exports=h}).call(this)}).call(this,m("_process"),m("buffer").Buffer)},{"./lib/client/http-tracker":41,"./lib/client/udp-tracker":41,"./lib/client/websocket-tracker":35,"./lib/common":36,_process:205,buffer:69,debug:105,events:70,once:191,"queue-microtask":218,"run-parallel":245,"simple-peer":259}],34:[function(m,B){const i=m("events");B.exports=class extends i{constructor(g,f){super(),this.client=g,this.announceUrl=f,this.interval=null,this.destroyed=!1}setInterval(g){null==g&&(g=this.DEFAULT_ANNOUNCE_INTERVAL),clearInterval(this.interval),g&&(this.interval=setInterval(()=>{this.announce(this.client._defaultAnnounceOpts())},g),this.interval.unref&&this.interval.unref())}}},{events:70}],35:[function(m,B){function i(){}const g=m("clone"),f=m("debug")("bittorrent-tracker:websocket-tracker"),x=m("simple-peer"),n=m("randombytes"),c=m("simple-websocket"),u=m("socks"),s=m("../common"),t=m("./tracker"),o={};class r extends t{constructor(h,l){super(h,l),f("new websocket tracker %s",l),this.peers={},this.socket=null,this.reconnecting=!1,this.retries=0,this.reconnectTimer=null,this.expectingResponse=!1,this._openSocket()}announce(h){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.announce(h)});const l=Object.assign({},h,{action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary});if(this._trackerId&&(l.trackerid=this._trackerId),"stopped"===h.event||"completed"===h.event)this._send(l);else{const p=Y(h.numwant,5);this._generateOffers(p,w=>{l.numwant=p,l.offers=w,this._send(l)})}}scrape(h){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.scrape(h)});const l=Array.isArray(h.infoHash)&&0<h.infoHash.length?h.infoHash.map(p=>p.toString("binary")):h.infoHash&&h.infoHash.toString("binary")||this.client._infoHashBinary;this._send({action:"scrape",info_hash:l})}destroy(h=i){function l(){w&&(clearTimeout(w),w=null),p.removeListener("data",l),p.destroy(),p=null}if(this.destroyed)return h(null);for(const b in this.destroyed=!0,clearInterval(this.interval),clearTimeout(this.reconnectTimer),this.peers){const I=this.peers[b];clearTimeout(I.trackerTimeout),I.destroy()}if(this.peers=null,this.socket&&(this.socket.removeListener("connect",this._onSocketConnectBound),this.socket.removeListener("data",this._onSocketDataBound),this.socket.removeListener("close",this._onSocketCloseBound),this.socket.removeListener("error",this._onSocketErrorBound),this.socket=null),this._onSocketConnectBound=null,this._onSocketErrorBound=null,this._onSocketDataBound=null,this._onSocketCloseBound=null,o[this.announceUrl]&&(o[this.announceUrl].consumers-=1),0<o[this.announceUrl].consumers)return h();let w,p=o[this.announceUrl];return delete o[this.announceUrl],p.on("error",i),p.once("close",h),this.expectingResponse?(w=setTimeout(l,s.DESTROY_TIMEOUT),void p.once("data",l)):l()}_openSocket(){if(this.destroyed=!1,this.peers||(this.peers={}),this._onSocketConnectBound=()=>{this._onSocketConnect()},this._onSocketErrorBound=h=>{this._onSocketError(h)},this._onSocketDataBound=h=>{this._onSocketData(h)},this._onSocketCloseBound=()=>{this._onSocketClose()},this.socket=o[this.announceUrl],this.socket)o[this.announceUrl].consumers+=1,this.socket.connected&&this._onSocketConnectBound();else{const h=new URL(this.announceUrl);let l;this.client._proxyOpts&&(l="wss:"===h.protocol?this.client._proxyOpts.httpsAgent:this.client._proxyOpts.httpAgent,!l&&this.client._proxyOpts.socksProxy&&(l=new u.Agent(g(this.client._proxyOpts.socksProxy),"wss:"===h.protocol))),this.socket=o[this.announceUrl]=new c({url:this.announceUrl,agent:l}),this.socket.consumers=1,this.socket.once("connect",this._onSocketConnectBound)}this.socket.on("data",this._onSocketDataBound),this.socket.once("close",this._onSocketCloseBound),this.socket.once("error",this._onSocketErrorBound)}_onSocketConnect(){this.destroyed||this.reconnecting&&(this.reconnecting=!1,this.retries=0,this.announce(this.client._defaultAnnounceOpts()))}_onSocketData(h){if(!this.destroyed){this.expectingResponse=!1;try{h=JSON.parse(h)}catch{return void this.client.emit("warning",new Error("Invalid tracker response"))}"announce"===h.action?this._onAnnounceResponse(h):"scrape"===h.action?this._onScrapeResponse(h):this._onSocketError(new Error(`invalid action in WS response: ${h.action}`))}}_onAnnounceResponse(h){if(h.info_hash!==this.client._infoHashBinary)return void f("ignoring websocket data from %s for %s (looking for %s: reused socket)",this.announceUrl,s.binaryToHex(h.info_hash),this.client.infoHash);if(h.peer_id&&h.peer_id===this.client._peerIdBinary)return;f("received %s from %s for %s",JSON.stringify(h),this.announceUrl,this.client.infoHash);const l=h["failure reason"];if(l)return this.client.emit("warning",new Error(l));const p=h["warning message"];p&&this.client.emit("warning",new Error(p));const w=h.interval||h["min interval"];w&&this.setInterval(1e3*w);const b=h["tracker id"];if(b&&(this._trackerId=b),null!=h.complete){const S=Object.assign({},h,{announce:this.announceUrl,infoHash:s.binaryToHex(h.info_hash)});this.client.emit("update",S)}let I;if(h.offer&&h.peer_id&&(f("creating peer (from remote offer)"),I=this._createPeer(),I.id=s.binaryToHex(h.peer_id),I.once("signal",S=>{const R={action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary,to_peer_id:h.peer_id,answer:S,offer_id:h.offer_id};this._trackerId&&(R.trackerid=this._trackerId),this._send(R)}),this.client.emit("peer",I),I.signal(h.offer)),h.answer&&h.peer_id){const S=s.binaryToHex(h.offer_id);I=this.peers[S],I?(I.id=s.binaryToHex(h.peer_id),this.client.emit("peer",I),I.signal(h.answer),clearTimeout(I.trackerTimeout),I.trackerTimeout=null,delete this.peers[S]):f(`got unexpected answer: ${JSON.stringify(h.answer)}`)}}_onScrapeResponse(h){h=h.files||{};const l=Object.keys(h);return 0===l.length?void this.client.emit("warning",new Error("invalid scrape response")):void l.forEach(p=>{const w=Object.assign(h[p],{announce:this.announceUrl,infoHash:s.binaryToHex(p)});this.client.emit("scrape",w)})}_onSocketClose(){this.destroyed||(this.destroy(),this._startReconnectTimer())}_onSocketError(h){this.destroyed||(this.destroy(),this.client.emit("warning",h),this._startReconnectTimer())}_startReconnectTimer(){const h=wt(3e5*Math.random())+Y(1e4*j(2,this.retries),36e5);this.reconnecting=!0,clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>{this.retries++,this._openSocket()},h),this.reconnectTimer.unref&&this.reconnectTimer.unref(),f("reconnecting socket in %s ms",h)}_send(h){if(!this.destroyed){this.expectingResponse=!0;const l=JSON.stringify(h);f("send %s",l),this.socket.send(l)}}_generateOffers(h,l){function p(){const S=n(20).toString("hex");f("creating peer (from _generateOffers)");const R=b.peers[S]=b._createPeer({initiator:!0});R.once("signal",N=>{I.push({offer:N,offer_id:s.hexToBinary(S)}),w()}),R.trackerTimeout=setTimeout(()=>{f("tracker timeout: destroying peer"),R.trackerTimeout=null,delete b.peers[S],R.destroy()},5e4),R.trackerTimeout.unref&&R.trackerTimeout.unref()}function w(){I.length===h&&(f("generated %s offers",h),l(I))}const b=this,I=[];f("generating %s offers",h);for(let S=0;S<h;++S)p();w()}_createPeer(h){function l(I){w.client.emit("warning",new Error(`Connection error: ${I.message}`)),b.destroy()}const w=this;h=Object.assign({trickle:!1,config:w.client._rtcConfig,wrtc:w.client._wrtc},h);const b=new x(h);return b.once("error",l),b.once("connect",function p(){b.removeListener("error",l),b.removeListener("connect",p)}),b}}r.prototype.DEFAULT_ANNOUNCE_INTERVAL=3e4,r._socketPool=o,B.exports=r},{"../common":36,"./tracker":34,clone:95,debug:105,randombytes:221,"simple-peer":259,"simple-websocket":262,socks:41}],36:[function(m,B,i){(function(g){(function(){i.DEFAULT_ANNOUNCE_PEERS=50,i.MAX_ANNOUNCE_PEERS=82,i.binaryToHex=x=>("string"!=typeof x&&(x+=""),g.from(x,"binary").toString("hex")),i.hexToBinary=x=>("string"!=typeof x&&(x+=""),g.from(x,"hex").toString("binary")),i.parseUrl=x=>{const n=new URL(x.replace(/^udp:/,"http:"));return x.match(/^udp:/)&&Object.defineProperties(n,{href:{value:n.href.replace(/^http/,"udp")},protocol:{value:n.protocol.replace(/^http/,"udp")},origin:{value:n.origin.replace(/^http/,"udp")}}),n};const f=m("./common-node");Object.assign(i,f)}).call(this)}).call(this,m("buffer").Buffer)},{"./common-node":41,buffer:69}],37:[function(m,B){(function(i){(function(){B.exports=function(g,f){if(typeof Blob>"u"||!(g instanceof Blob))throw new Error("first argument must be a Blob");if("function"!=typeof f)throw new Error("second argument must be a function");const n=new FileReader;n.addEventListener("loadend",function x(c){n.removeEventListener("loadend",x,!1),c.error?f(c.error):f(null,i.from(n.result))},!1),n.readAsArrayBuffer(g)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69}],38:[function(m,B){(function(i){(function(){const{Transform:g}=m("readable-stream");B.exports=class extends g{constructor(f,x={}){super(x),"object"==typeof f&&(f=(x=f).size),this.size=f||512;const{nopad:n,zeroPadding:c=!0}=x;this._zeroPadding=!n&&!!c,this._buffered=[],this._bufferedBytes=0}_transform(f,x,n){for(this._bufferedBytes+=f.length,this._buffered.push(f);this._bufferedBytes>=this.size;){this._bufferedBytes-=this.size;const c=[];for(let u=0;u<this.size;){const s=this._buffered.shift();if(u+s.length<=this.size)c.push(s),u+=s.length;else{const t=this.size-u;c.push(s.slice(0,t)),u+=t,this._buffered.unshift(s.slice(t))}}this.push(i.concat(c,this.size))}n()}_flush(){if(this._bufferedBytes&&this._zeroPadding){const f=i.alloc(this.size-this._bufferedBytes);this._buffered.push(f),this.push(i.concat(this._buffered)),this._buffered=null}else this._bufferedBytes&&(this.push(i.concat(this._buffered)),this._buffered=null);this.push(null)}}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69,"readable-stream":240}],39:[function(m,B){!function(i,g){"use strict";function f(y,C){if(!y)throw new Error(C||"Assertion failed")}function x(y,C){y.super_=C;var M=function(){};M.prototype=C.prototype,y.prototype=new M,y.prototype.constructor=y}function n(y,C,M){return n.isBN(y)?y:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==y&&(("le"===C||"be"===C)&&(M=C,C=10),this._init(y||0,C||10,M||"be"))))}function c(y,C){var M=y.charCodeAt(C);return 48<=M&&57>=M?M-48:65<=M&&70>=M?M-55:97<=M&&102>=M?M-87:void f(!1,"Invalid character in "+y)}function u(y,C,M){var U=c(y,M);return M-1>=C&&(U|=c(y,M-1)<<4),U}function s(y,C,M,U){for(var We,ee=0,J=0,re=Y(y.length,M),Ue=C;Ue<re;Ue++)ee*=U,J=49<=(We=y.charCodeAt(Ue)-48)?We-49+10:17<=We?We-17+10:We,f(0<=We&&J<U,"Invalid character"),ee+=J;return ee}function t(y,C){y.words=C.words,y.length=C.length,y.negative=C.negative,y.red=C.red}function o(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}function d(y,C,M){M.negative=C.negative^y.negative;var U=0|y.length+C.length;M.length=U,U=0|U-1;var ee=0|y.words[0],J=0|C.words[0],re=ee*J,We=0|re/67108864;M.words[0]=67108863&re;for(var Qe=1;Qe<U;Qe++){for(var ft=We>>>26,pt=67108863&We,Xt=Y(Qe,C.length-1),It=ue(0,Qe-y.length+1);It<=Xt;It++)ft+=0|(re=(ee=0|y.words[0|Qe-It])*(J=0|C.words[It])+pt)/67108864,pt=67108863&re;M.words[Qe]=0|pt,We=0|ft}return 0===We?M.length--:M.words[Qe]=0|We,M._strip()}function h(y,C,M){M.negative=C.negative^y.negative,M.length=y.length+C.length;for(var re,U=0,ee=0,J=0;J<M.length-1;J++){re=ee,ee=0;for(var Ue=67108863&U,We=Y(J,C.length-1),Qe=ue(0,J-y.length+1);Qe<=We;Qe++){var It=(0|y.words[J-Qe])*(0|C.words[Qe]),Ft=67108863&It;Ue=67108863&(Ft=0|Ft+Ue),ee+=(re=0|(re=0|re+(0|It/67108864))+(Ft>>>26))>>>26,re&=67108863}M.words[J]=Ue,U=re,re=ee}return 0===U?M.length--:M.words[J]=U,M._strip()}function l(y,C,M){return h(y,C,M)}function p(y,C){this.x=y,this.y=C}function w(y,C){this.name=y,this.p=new n(C,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function I(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function N(y){if("string"==typeof y){var C=n._prime(y);this.m=C.p,this.prime=C}else f(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}function q(y){N.call(this,y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}var Z;"object"==typeof i?i.exports=n:g.BN=n,n.BN=n,n.wordSize=26;try{Z=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:m("buffer").Buffer}catch{}if(n.isBN=function(y){return y instanceof n||null!==y&&"object"==typeof y&&y.constructor.wordSize===n.wordSize&&Array.isArray(y.words)},n.max=function(y,C){return 0<y.cmp(C)?y:C},n.min=function(y,C){return 0>y.cmp(C)?y:C},n.prototype._init=function(y,C,M){if("number"==typeof y)return this._initNumber(y,C,M);if("object"==typeof y)return this._initArray(y,C,M);"hex"===C&&(C=16),f(C===(0|C)&&2<=C&&36>=C);var U=0;"-"===(y=y.toString().replace(/\s+/g,""))[0]&&(U++,this.negative=1),U<y.length&&(16===C?this._parseHex(y,U,M):(this._parseBase(y,C,U),"le"===M&&this._initArray(this.toArray(),C,M)))},n.prototype._initNumber=function(y,C,M){0>y&&(this.negative=1,y=-y),67108864>y?(this.words=[67108863&y],this.length=1):4503599627370496>y?(this.words=[67108863&y,67108863&y/67108864],this.length=2):(f(9007199254740992>y),this.words=[67108863&y,67108863&y/67108864,1],this.length=3),"le"!==M||this._initArray(this.toArray(),C,M)},n.prototype._initArray=function(y,C,M){if(f("number"==typeof y.length),0>=y.length)return this.words=[0],this.length=1,this;this.length=ve(y.length/3),this.words=Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var J,re,ee=0;if("be"===M)for(U=y.length-1,J=0;0<=U;U-=3)this.words[J]|=67108863&(re=y[U]|y[U-1]<<8|y[U-2]<<16)<<ee,this.words[J+1]=67108863&re>>>26-ee,26<=(ee+=24)&&(ee-=26,J++);else if("le"===M)for(U=0,J=0;U<y.length;U+=3)this.words[J]|=67108863&(re=y[U]|y[U+1]<<8|y[U+2]<<16)<<ee,this.words[J+1]=67108863&re>>>26-ee,26<=(ee+=24)&&(ee-=26,J++);return this._strip()},n.prototype._parseHex=function(y,C,M){this.length=ve((y.length-C)/6),this.words=Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var re,ee=0,J=0;if("be"===M)for(U=y.length-1;U>=C;U-=2)re=u(y,C,U)<<ee,this.words[J]|=67108863&re,18<=ee?(ee-=18,this.words[J+=1]|=re>>>26):ee+=8;else for(U=(y.length-C)%2==0?C+1:C;U<y.length;U+=2)re=u(y,C,U)<<ee,this.words[J]|=67108863&re,18<=ee?(ee-=18,this.words[J+=1]|=re>>>26):ee+=8;this._strip()},n.prototype._parseBase=function(y,C,M){this.words=[0],this.length=1;for(var U=0,ee=1;67108863>=ee;ee*=C)U++;U--,ee=0|ee/C;for(var J=y.length-M,re=J%U,Ue=Y(J,J-re)+M,We=0,Qe=M;Qe<Ue;Qe+=U)We=s(y,Qe,Qe+U,C),this.imuln(ee),67108864>this.words[0]+We?this.words[0]+=We:this._iaddn(We);if(0!==re){var ft=1;for(We=s(y,Qe,y.length,C),Qe=0;Qe<re;Qe++)ft*=C;this.imuln(ft),67108864>this.words[0]+We?this.words[0]+=We:this._iaddn(We)}this._strip()},n.prototype.copy=function(y){y.words=Array(this.length);for(var C=0;C<this.length;C++)y.words[C]=this.words[C];y.length=this.length,y.negative=this.negative,y.red=this.red},n.prototype._move=function(y){t(y,this)},n.prototype.clone=function(){var y=new n(null);return this.copy(y),y},n.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=o}catch{n.prototype.inspect=o}else n.prototype.inspect=o;var le=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],we=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ke=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(y,C){var M;if(C=0|C||1,16===(y=y||10)||"hex"===y){M="";for(var U=0,ee=0,J=0;J<this.length;J++){var re=this.words[J],Ue=(16777215&(re<<U|ee)).toString(16);M=0!=(ee=16777215&re>>>24-U)||J!==this.length-1?le[6-Ue.length]+Ue+M:Ue+M,26<=(U+=2)&&(U-=26,J--)}for(0!==ee&&(M=ee.toString(16)+M);M.length%C!=0;)M="0"+M;return 0!==this.negative&&(M="-"+M),M}if(y===(0|y)&&2<=y&&36>=y){var We=we[y],Qe=ke[y];M="";var ft=this.clone();for(ft.negative=0;!ft.isZero();){var pt=ft.modrn(Qe).toString(y);M=(ft=ft.idivn(Qe)).isZero()?pt+M:le[We-pt.length]+pt+M}for(this.isZero()&&(M="0"+M);M.length%C!=0;)M="0"+M;return 0!==this.negative&&(M="-"+M),M}f(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var y=this.words[0];return 2===this.length?y+=67108864*this.words[1]:3===this.length&&1===this.words[2]?y+=4503599627370496+67108864*this.words[1]:2<this.length&&f(!1,"Number can only safely store up to 53 bits"),0===this.negative?y:-y},n.prototype.toJSON=function(){return this.toString(16,2)},Z&&(n.prototype.toBuffer=function(y,C){return this.toArrayLike(Z,y,C)}),n.prototype.toArray=function(y,C){return this.toArrayLike(Array,y,C)},n.prototype.toArrayLike=function(y,C,M){this._strip();var U=this.byteLength(),ee=M||ue(1,U);f(U<=ee,"byte array longer than desired length"),f(0<ee,"Requested array length <= 0");var J=function(y,C){return y.allocUnsafe?y.allocUnsafe(C):new y(C)}(y,ee);return this["_toArrayLike"+("le"===C?"LE":"BE")](J,U),J},n.prototype._toArrayLikeLE=function(y){for(var J,C=0,M=0,U=0,ee=0;U<this.length;U++)y[C++]=255&(J=this.words[U]<<ee|M),C<y.length&&(y[C++]=255&J>>8),C<y.length&&(y[C++]=255&J>>16),6==ee?(C<y.length&&(y[C++]=255&J>>24),M=0,ee=0):(M=J>>>24,ee+=2);if(C<y.length)for(y[C++]=M;C<y.length;)y[C++]=0},n.prototype._toArrayLikeBE=function(y){for(var J,C=y.length-1,M=0,U=0,ee=0;U<this.length;U++)y[C--]=255&(J=this.words[U]<<ee|M),0<=C&&(y[C--]=255&J>>8),0<=C&&(y[C--]=255&J>>16),6==ee?(0<=C&&(y[C--]=255&J>>24),M=0,ee=0):(M=J>>>24,ee+=2);if(0<=C)for(y[C--]=M;0<=C;)y[C--]=0},n.prototype._countBits=oe?function(y){return 32-oe(y)}:function(y){var C=y,M=0;return 4096<=C&&(M+=13,C>>>=13),64<=C&&(M+=7,C>>>=7),8<=C&&(M+=4,C>>>=4),2<=C&&(M+=2,C>>>=2),M+C},n.prototype._zeroBits=function(y){if(0===y)return 26;var C=y,M=0;return!(8191&C)&&(M+=13,C>>>=13),!(127&C)&&(M+=7,C>>>=7),!(15&C)&&(M+=4,C>>>=4),!(3&C)&&(M+=2,C>>>=2),!(1&C)&&M++,M},n.prototype.bitLength=function(){var C=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+C},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var M,y=0,C=0;C<this.length&&(y+=M=this._zeroBits(this.words[C]),26===M);C++);return y},n.prototype.byteLength=function(){return ve(this.bitLength()/8)},n.prototype.toTwos=function(y){return 0===this.negative?this.clone():this.abs().inotn(y).iaddn(1)},n.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var C=0;C<y.length;C++)this.words[C]|=y.words[C];return this._strip()},n.prototype.ior=function(y){return f(0==(this.negative|y.negative)),this.iuor(y)},n.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},n.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},n.prototype.iuand=function(y){for(var C=this.length>y.length?y:this,M=0;M<C.length;M++)this.words[M]&=y.words[M];return this.length=C.length,this._strip()},n.prototype.iand=function(y){return f(0==(this.negative|y.negative)),this.iuand(y)},n.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},n.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},n.prototype.iuxor=function(y){var C,M;this.length>y.length?(C=this,M=y):(C=y,M=this);for(var U=0;U<M.length;U++)this.words[U]=C.words[U]^M.words[U];if(this!==C)for(;U<C.length;U++)this.words[U]=C.words[U];return this.length=C.length,this._strip()},n.prototype.ixor=function(y){return f(0==(this.negative|y.negative)),this.iuxor(y)},n.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},n.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},n.prototype.inotn=function(y){f("number"==typeof y&&0<=y);var C=0|ve(y/26),M=y%26;this._expand(C),0<M&&C--;for(var U=0;U<C;U++)this.words[U]=67108863&~this.words[U];return 0<M&&(this.words[U]=~this.words[U]&67108863>>26-M),this._strip()},n.prototype.notn=function(y){return this.clone().inotn(y)},n.prototype.setn=function(y,C){f("number"==typeof y&&0<=y);var M=0|y/26,U=y%26;return this._expand(M+1),C?this.words[M]|=1<<U:this.words[M]&=~(1<<U),this._strip()},n.prototype.iadd=function(y){var C,M,U;if(0!==this.negative&&0===y.negative)return this.negative=0,C=this.isub(y),this.negative^=1,this._normSign();if(0===this.negative&&0!==y.negative)return y.negative=0,C=this.isub(y),y.negative=1,C._normSign();this.length>y.length?(M=this,U=y):(M=y,U=this);for(var ee=0,J=0;J<U.length;J++)this.words[J]=67108863&(C=(0|M.words[J])+(0|U.words[J])+ee),ee=C>>>26;for(;0!==ee&&J<M.length;J++)this.words[J]=67108863&(C=(0|M.words[J])+ee),ee=C>>>26;if(this.length=M.length,0!==ee)this.words[this.length]=ee,this.length++;else if(M!==this)for(;J<M.length;J++)this.words[J]=M.words[J];return this},n.prototype.add=function(y){var C;return 0!==y.negative&&0===this.negative?(y.negative=0,C=this.sub(y),y.negative^=1,C):0===y.negative&&0!==this.negative?(this.negative=0,C=y.sub(this),this.negative=1,C):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},n.prototype.isub=function(y){if(0!==y.negative){y.negative=0;var C=this.iadd(y);return y.negative=1,C._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var U,ee,M=this.cmp(y);if(0===M)return this.negative=0,this.length=1,this.words[0]=0,this;0<M?(U=this,ee=y):(U=y,ee=this);for(var J=0,re=0;re<ee.length;re++)J=(C=(0|U.words[re])-(0|ee.words[re])+J)>>26,this.words[re]=67108863&C;for(;0!==J&&re<U.length;re++)J=(C=(0|U.words[re])+J)>>26,this.words[re]=67108863&C;if(0===J&&re<U.length&&U!==this)for(;re<U.length;re++)this.words[re]=U.words[re];return this.length=ue(this.length,re),U!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(y){return this.clone().isub(y)};var L=function(y,C,M){var it,ye,ct,U=y.words,ee=C.words,J=M.words,re=0,Ue=0|U[0],We=8191&Ue,Qe=Ue>>>13,ft=0|U[1],pt=8191&ft,Xt=ft>>>13,It=0|U[2],Ft=8191&It,Ke=It>>>13,mt=0|U[3],St=8191&mt,K=mt>>>13,se=0|U[4],X=8191&se,ce=se>>>13,Je=0|U[5],ie=8191&Je,pe=Je>>>13,Ye=0|U[6],at=8191&Ye,dt=Ye>>>13,Gt=0|U[7],Jt=8191&Gt,an=Gt>>>13,Cn=0|U[8],hn=8191&Cn,En=Cn>>>13,Xn=0|U[9],An=8191&Xn,Pn=Xn>>>13,mr=0|ee[0],Mt=8191&mr,Kn=mr>>>13,ge=0|ee[1],Re=8191&ge,je=ge>>>13,Ze=0|ee[2],Xe=8191&Ze,st=Ze>>>13,tn=0|ee[3],Bt=8191&tn,qt=tn>>>13,nn=0|ee[4],_n=8191&nn,cn=nn>>>13,Qt=0|ee[5],Ee=8191&Qt,Vt=Qt>>>13,Nn=0|ee[6],mn=8191&Nn,Mn=Nn>>>13,zn=0|ee[7],qn=8191&zn,Fn=zn>>>13,Gn=0|ee[8],Hn=8191&Gn,Yn=Gn>>>13,rt=0|ee[9],de=8191&rt,nt=rt>>>13;M.negative=y.negative^C.negative,M.length=19;var Xr=0|(0|re+(it=_(We,Mt)))+((8191&(ye=0|(ye=_(We,Kn))+_(Qe,Mt)))<<13);re=0|(0|(ct=_(Qe,Kn))+(ye>>>13))+(Xr>>>26),Xr&=67108863,it=_(pt,Mt),ye=0|(ye=_(pt,Kn))+_(Xt,Mt),ct=_(Xt,Kn);var vi=0|(0|re+(it=0|it+_(We,Re)))+((8191&(ye=0|(ye=0|ye+_(We,je))+_(Qe,Re)))<<13);re=0|(0|(ct=0|ct+_(Qe,je))+(ye>>>13))+(vi>>>26),vi&=67108863,it=_(Ft,Mt),ye=0|(ye=_(Ft,Kn))+_(Ke,Mt),ct=_(Ke,Kn),it=0|it+_(pt,Re),ye=0|(ye=0|ye+_(pt,je))+_(Xt,Re),ct=0|ct+_(Xt,je);var Kr=0|(0|re+(it=0|it+_(We,Xe)))+((8191&(ye=0|(ye=0|ye+_(We,st))+_(Qe,Xe)))<<13);re=0|(0|(ct=0|ct+_(Qe,st))+(ye>>>13))+(Kr>>>26),Kr&=67108863,it=_(St,Mt),ye=0|(ye=_(St,Kn))+_(K,Mt),ct=_(K,Kn),it=0|it+_(Ft,Re),ye=0|(ye=0|ye+_(Ft,je))+_(Ke,Re),ct=0|ct+_(Ke,je),it=0|it+_(pt,Xe),ye=0|(ye=0|ye+_(pt,st))+_(Xt,Xe),ct=0|ct+_(Xt,st);var oi=0|(0|re+(it=0|it+_(We,Bt)))+((8191&(ye=0|(ye=0|ye+_(We,qt))+_(Qe,Bt)))<<13);re=0|(0|(ct=0|ct+_(Qe,qt))+(ye>>>13))+(oi>>>26),oi&=67108863,it=_(X,Mt),ye=0|(ye=_(X,Kn))+_(ce,Mt),ct=_(ce,Kn),it=0|it+_(St,Re),ye=0|(ye=0|ye+_(St,je))+_(K,Re),ct=0|ct+_(K,je),it=0|it+_(Ft,Xe),ye=0|(ye=0|ye+_(Ft,st))+_(Ke,Xe),ct=0|ct+_(Ke,st),it=0|it+_(pt,Bt),ye=0|(ye=0|ye+_(pt,qt))+_(Xt,Bt),ct=0|ct+_(Xt,qt);var Qr=0|(0|re+(it=0|it+_(We,_n)))+((8191&(ye=0|(ye=0|ye+_(We,cn))+_(Qe,_n)))<<13);re=0|(0|(ct=0|ct+_(Qe,cn))+(ye>>>13))+(Qr>>>26),Qr&=67108863,it=_(ie,Mt),ye=0|(ye=_(ie,Kn))+_(pe,Mt),ct=_(pe,Kn),it=0|it+_(X,Re),ye=0|(ye=0|ye+_(X,je))+_(ce,Re),ct=0|ct+_(ce,je),it=0|it+_(St,Xe),ye=0|(ye=0|ye+_(St,st))+_(K,Xe),ct=0|ct+_(K,st),it=0|it+_(Ft,Bt),ye=0|(ye=0|ye+_(Ft,qt))+_(Ke,Bt),ct=0|ct+_(Ke,qt),it=0|it+_(pt,_n),ye=0|(ye=0|ye+_(pt,cn))+_(Xt,_n),ct=0|ct+_(Xt,cn);var hr=0|(0|re+(it=0|it+_(We,Ee)))+((8191&(ye=0|(ye=0|ye+_(We,Vt))+_(Qe,Ee)))<<13);re=0|(0|(ct=0|ct+_(Qe,Vt))+(ye>>>13))+(hr>>>26),hr&=67108863,it=_(at,Mt),ye=0|(ye=_(at,Kn))+_(dt,Mt),ct=_(dt,Kn),it=0|it+_(ie,Re),ye=0|(ye=0|ye+_(ie,je))+_(pe,Re),ct=0|ct+_(pe,je),it=0|it+_(X,Xe),ye=0|(ye=0|ye+_(X,st))+_(ce,Xe),ct=0|ct+_(ce,st),it=0|it+_(St,Bt),ye=0|(ye=0|ye+_(St,qt))+_(K,Bt),ct=0|ct+_(K,qt),it=0|it+_(Ft,_n),ye=0|(ye=0|ye+_(Ft,cn))+_(Ke,_n),ct=0|ct+_(Ke,cn),it=0|it+_(pt,Ee),ye=0|(ye=0|ye+_(pt,Vt))+_(Xt,Ee),ct=0|ct+_(Xt,Vt);var li=0|(0|re+(it=0|it+_(We,mn)))+((8191&(ye=0|(ye=0|ye+_(We,Mn))+_(Qe,mn)))<<13);re=0|(0|(ct=0|ct+_(Qe,Mn))+(ye>>>13))+(li>>>26),li&=67108863,it=_(Jt,Mt),ye=0|(ye=_(Jt,Kn))+_(an,Mt),ct=_(an,Kn),it=0|it+_(at,Re),ye=0|(ye=0|ye+_(at,je))+_(dt,Re),ct=0|ct+_(dt,je),it=0|it+_(ie,Xe),ye=0|(ye=0|ye+_(ie,st))+_(pe,Xe),ct=0|ct+_(pe,st),it=0|it+_(X,Bt),ye=0|(ye=0|ye+_(X,qt))+_(ce,Bt),ct=0|ct+_(ce,qt),it=0|it+_(St,_n),ye=0|(ye=0|ye+_(St,cn))+_(K,_n),ct=0|ct+_(K,cn),it=0|it+_(Ft,Ee),ye=0|(ye=0|ye+_(Ft,Vt))+_(Ke,Ee),ct=0|ct+_(Ke,Vt),it=0|it+_(pt,mn),ye=0|(ye=0|ye+_(pt,Mn))+_(Xt,mn),ct=0|ct+_(Xt,Mn);var Vr=0|(0|re+(it=0|it+_(We,qn)))+((8191&(ye=0|(ye=0|ye+_(We,Fn))+_(Qe,qn)))<<13);re=0|(0|(ct=0|ct+_(Qe,Fn))+(ye>>>13))+(Vr>>>26),Vr&=67108863,it=_(hn,Mt),ye=0|(ye=_(hn,Kn))+_(En,Mt),ct=_(En,Kn),it=0|it+_(Jt,Re),ye=0|(ye=0|ye+_(Jt,je))+_(an,Re),ct=0|ct+_(an,je),it=0|it+_(at,Xe),ye=0|(ye=0|ye+_(at,st))+_(dt,Xe),ct=0|ct+_(dt,st),it=0|it+_(ie,Bt),ye=0|(ye=0|ye+_(ie,qt))+_(pe,Bt),ct=0|ct+_(pe,qt),it=0|it+_(X,_n),ye=0|(ye=0|ye+_(X,cn))+_(ce,_n),ct=0|ct+_(ce,cn),it=0|it+_(St,Ee),ye=0|(ye=0|ye+_(St,Vt))+_(K,Ee),ct=0|ct+_(K,Vt),it=0|it+_(Ft,mn),ye=0|(ye=0|ye+_(Ft,Mn))+_(Ke,mn),ct=0|ct+_(Ke,Mn),it=0|it+_(pt,qn),ye=0|(ye=0|ye+_(pt,Fn))+_(Xt,qn),ct=0|ct+_(Xt,Fn);var zr=0|(0|re+(it=0|it+_(We,Hn)))+((8191&(ye=0|(ye=0|ye+_(We,Yn))+_(Qe,Hn)))<<13);re=0|(0|(ct=0|ct+_(Qe,Yn))+(ye>>>13))+(zr>>>26),zr&=67108863,it=_(An,Mt),ye=0|(ye=_(An,Kn))+_(Pn,Mt),ct=_(Pn,Kn),it=0|it+_(hn,Re),ye=0|(ye=0|ye+_(hn,je))+_(En,Re),ct=0|ct+_(En,je),it=0|it+_(Jt,Xe),ye=0|(ye=0|ye+_(Jt,st))+_(an,Xe),ct=0|ct+_(an,st),it=0|it+_(at,Bt),ye=0|(ye=0|ye+_(at,qt))+_(dt,Bt),ct=0|ct+_(dt,qt),it=0|it+_(ie,_n),ye=0|(ye=0|ye+_(ie,cn))+_(pe,_n),ct=0|ct+_(pe,cn),it=0|it+_(X,Ee),ye=0|(ye=0|ye+_(X,Vt))+_(ce,Ee),ct=0|ct+_(ce,Vt),it=0|it+_(St,mn),ye=0|(ye=0|ye+_(St,Mn))+_(K,mn),ct=0|ct+_(K,Mn),it=0|it+_(Ft,qn),ye=0|(ye=0|ye+_(Ft,Fn))+_(Ke,qn),ct=0|ct+_(Ke,Fn),it=0|it+_(pt,Hn),ye=0|(ye=0|ye+_(pt,Yn))+_(Xt,Hn),ct=0|ct+_(Xt,Yn);var Ei=0|(0|re+(it=0|it+_(We,de)))+((8191&(ye=0|(ye=0|ye+_(We,nt))+_(Qe,de)))<<13);re=0|(0|(ct=0|ct+_(Qe,nt))+(ye>>>13))+(Ei>>>26),Ei&=67108863,it=_(An,Re),ye=0|(ye=_(An,je))+_(Pn,Re),ct=_(Pn,je),it=0|it+_(hn,Xe),ye=0|(ye=0|ye+_(hn,st))+_(En,Xe),ct=0|ct+_(En,st),it=0|it+_(Jt,Bt),ye=0|(ye=0|ye+_(Jt,qt))+_(an,Bt),ct=0|ct+_(an,qt),it=0|it+_(at,_n),ye=0|(ye=0|ye+_(at,cn))+_(dt,_n),ct=0|ct+_(dt,cn),it=0|it+_(ie,Ee),ye=0|(ye=0|ye+_(ie,Vt))+_(pe,Ee),ct=0|ct+_(pe,Vt),it=0|it+_(X,mn),ye=0|(ye=0|ye+_(X,Mn))+_(ce,mn),ct=0|ct+_(ce,Mn),it=0|it+_(St,qn),ye=0|(ye=0|ye+_(St,Fn))+_(K,qn),ct=0|ct+_(K,Fn),it=0|it+_(Ft,Hn),ye=0|(ye=0|ye+_(Ft,Yn))+_(Ke,Hn),ct=0|ct+_(Ke,Yn);var ei=0|(0|re+(it=0|it+_(pt,de)))+((8191&(ye=0|(ye=0|ye+_(pt,nt))+_(Xt,de)))<<13);re=0|(0|(ct=0|ct+_(Xt,nt))+(ye>>>13))+(ei>>>26),ei&=67108863,it=_(An,Xe),ye=0|(ye=_(An,st))+_(Pn,Xe),ct=_(Pn,st),it=0|it+_(hn,Bt),ye=0|(ye=0|ye+_(hn,qt))+_(En,Bt),ct=0|ct+_(En,qt),it=0|it+_(Jt,_n),ye=0|(ye=0|ye+_(Jt,cn))+_(an,_n),ct=0|ct+_(an,cn),it=0|it+_(at,Ee),ye=0|(ye=0|ye+_(at,Vt))+_(dt,Ee),ct=0|ct+_(dt,Vt),it=0|it+_(ie,mn),ye=0|(ye=0|ye+_(ie,Mn))+_(pe,mn),ct=0|ct+_(pe,Mn),it=0|it+_(X,qn),ye=0|(ye=0|ye+_(X,Fn))+_(ce,qn),ct=0|ct+_(ce,Fn),it=0|it+_(St,Hn),ye=0|(ye=0|ye+_(St,Yn))+_(K,Hn),ct=0|ct+_(K,Yn);var ci=0|(0|re+(it=0|it+_(Ft,de)))+((8191&(ye=0|(ye=0|ye+_(Ft,nt))+_(Ke,de)))<<13);re=0|(0|(ct=0|ct+_(Ke,nt))+(ye>>>13))+(ci>>>26),ci&=67108863,it=_(An,Bt),ye=0|(ye=_(An,qt))+_(Pn,Bt),ct=_(Pn,qt),it=0|it+_(hn,_n),ye=0|(ye=0|ye+_(hn,cn))+_(En,_n),ct=0|ct+_(En,cn),it=0|it+_(Jt,Ee),ye=0|(ye=0|ye+_(Jt,Vt))+_(an,Ee),ct=0|ct+_(an,Vt),it=0|it+_(at,mn),ye=0|(ye=0|ye+_(at,Mn))+_(dt,mn),ct=0|ct+_(dt,Mn),it=0|it+_(ie,qn),ye=0|(ye=0|ye+_(ie,Fn))+_(pe,qn),ct=0|ct+_(pe,Fn),it=0|it+_(X,Hn),ye=0|(ye=0|ye+_(X,Yn))+_(ce,Hn),ct=0|ct+_(ce,Yn);var Gr=0|(0|re+(it=0|it+_(St,de)))+((8191&(ye=0|(ye=0|ye+_(St,nt))+_(K,de)))<<13);re=0|(0|(ct=0|ct+_(K,nt))+(ye>>>13))+(Gr>>>26),Gr&=67108863,it=_(An,_n),ye=0|(ye=_(An,cn))+_(Pn,_n),ct=_(Pn,cn),it=0|it+_(hn,Ee),ye=0|(ye=0|ye+_(hn,Vt))+_(En,Ee),ct=0|ct+_(En,Vt),it=0|it+_(Jt,mn),ye=0|(ye=0|ye+_(Jt,Mn))+_(an,mn),ct=0|ct+_(an,Mn),it=0|it+_(at,qn),ye=0|(ye=0|ye+_(at,Fn))+_(dt,qn),ct=0|ct+_(dt,Fn),it=0|it+_(ie,Hn),ye=0|(ye=0|ye+_(ie,Yn))+_(pe,Hn),ct=0|ct+_(pe,Yn);var Dr=0|(0|re+(it=0|it+_(X,de)))+((8191&(ye=0|(ye=0|ye+_(X,nt))+_(ce,de)))<<13);re=0|(0|(ct=0|ct+_(ce,nt))+(ye>>>13))+(Dr>>>26),Dr&=67108863,it=_(An,Ee),ye=0|(ye=_(An,Vt))+_(Pn,Ee),ct=_(Pn,Vt),it=0|it+_(hn,mn),ye=0|(ye=0|ye+_(hn,Mn))+_(En,mn),ct=0|ct+_(En,Mn),it=0|it+_(Jt,qn),ye=0|(ye=0|ye+_(Jt,Fn))+_(an,qn),ct=0|ct+_(an,Fn),it=0|it+_(at,Hn),ye=0|(ye=0|ye+_(at,Yn))+_(dt,Hn),ct=0|ct+_(dt,Yn);var Zr=0|(0|re+(it=0|it+_(ie,de)))+((8191&(ye=0|(ye=0|ye+_(ie,nt))+_(pe,de)))<<13);re=0|(0|(ct=0|ct+_(pe,nt))+(ye>>>13))+(Zr>>>26),Zr&=67108863,it=_(An,mn),ye=0|(ye=_(An,Mn))+_(Pn,mn),ct=_(Pn,Mn),it=0|it+_(hn,qn),ye=0|(ye=0|ye+_(hn,Fn))+_(En,qn),ct=0|ct+_(En,Fn),it=0|it+_(Jt,Hn),ye=0|(ye=0|ye+_(Jt,Yn))+_(an,Hn),ct=0|ct+_(an,Yn);var si=0|(0|re+(it=0|it+_(at,de)))+((8191&(ye=0|(ye=0|ye+_(at,nt))+_(dt,de)))<<13);re=0|(0|(ct=0|ct+_(dt,nt))+(ye>>>13))+(si>>>26),si&=67108863,it=_(An,qn),ye=0|(ye=_(An,Fn))+_(Pn,qn),ct=_(Pn,Fn),it=0|it+_(hn,Hn),ye=0|(ye=0|ye+_(hn,Yn))+_(En,Hn),ct=0|ct+_(En,Yn);var yi=0|(0|re+(it=0|it+_(Jt,de)))+((8191&(ye=0|(ye=0|ye+_(Jt,nt))+_(an,de)))<<13);re=0|(0|(ct=0|ct+_(an,nt))+(ye>>>13))+(yi>>>26),yi&=67108863,it=_(An,Hn),ye=0|(ye=_(An,Yn))+_(Pn,Hn),ct=_(Pn,Yn);var Br=0|(0|re+(it=0|it+_(hn,de)))+((8191&(ye=0|(ye=0|ye+_(hn,nt))+_(En,de)))<<13);re=0|(0|(ct=0|ct+_(En,nt))+(ye>>>13))+(Br>>>26),Br&=67108863;var Jn=0|(0|re+(it=_(An,de)))+((8191&(ye=0|(ye=_(An,nt))+_(Pn,de)))<<13);return re=0|(0|(ct=_(Pn,nt))+(ye>>>13))+(Jn>>>26),Jn&=67108863,J[0]=Xr,J[1]=vi,J[2]=Kr,J[3]=oi,J[4]=Qr,J[5]=hr,J[6]=li,J[7]=Vr,J[8]=zr,J[9]=Ei,J[10]=ei,J[11]=ci,J[12]=Gr,J[13]=Dr,J[14]=Zr,J[15]=si,J[16]=yi,J[17]=Br,J[18]=Jn,0!==re&&(J[19]=re,M.length++),M};_||(L=d),n.prototype.mulTo=function(y,C){var M=this.length+y.length;return 10===this.length&&10===y.length?L(this,y,C):63>M?d(this,y,C):1024>M?h(this,y,C):l(this,y,C)},p.prototype.makeRBT=function(y){for(var C=Array(y),M=n.prototype._countBits(y)-1,U=0;U<y;U++)C[U]=this.revBin(U,M,y);return C},p.prototype.revBin=function(y,C,M){if(0===y||y===M-1)return y;for(var U=0,ee=0;ee<C;ee++)U|=(1&y)<<C-ee-1,y>>=1;return U},p.prototype.permute=function(y,C,M,U,ee,J){for(var re=0;re<J;re++)U[re]=C[y[re]],ee[re]=M[y[re]]},p.prototype.transform=function(y,C,M,U,ee,J){this.permute(J,y,C,M,U,ee);for(var re=1;re<ee;re<<=1)for(var Ue=re<<1,We=De(2*Le/Ue),Qe=V(2*Le/Ue),ft=0;ft<ee;ft+=Ue)for(var pt=We,Xt=Qe,It=0;It<re;It++){var Ft=M[ft+It],Ke=U[ft+It],mt=M[ft+It+re],St=U[ft+It+re],K=pt*mt-Xt*St;St=pt*St+Xt*mt,M[ft+It]=Ft+(mt=K),U[ft+It]=Ke+St,M[ft+It+re]=Ft-mt,U[ft+It+re]=Ke-St,It!==Ue&&(K=We*pt-Qe*Xt,Xt=We*Xt+Qe*pt,pt=K)}},p.prototype.guessLen13b=function(y,C){var M=1|ue(C,y),U=1&M,ee=0;for(M=0|M/2;M;M>>>=1)ee++;return 1<<ee+1+U},p.prototype.conjugate=function(y,C,M){if(!(1>=M))for(var ee,U=0;U<M/2;U++)ee=y[U],y[U]=y[M-U-1],y[M-U-1]=ee,ee=C[U],C[U]=-C[M-U-1],C[M-U-1]=-ee},p.prototype.normalize13b=function(y,C){for(var ee,M=0,U=0;U<C/2;U++)ee=8192*kt(y[2*U+1]/C)+kt(y[2*U]/C)+M,y[U]=67108863&ee,M=67108864>ee?0:0|ee/67108864;return y},p.prototype.convert13b=function(y,C,M,U){for(var ee=0,J=0;J<C;J++)M[2*J]=8191&(ee+=0|y[J]),M[2*J+1]=8191&(ee>>>=13),ee>>>=13;for(J=2*C;J<U;++J)M[J]=0;f(0===ee),f(0==(-8192&ee))},p.prototype.stub=function(y){for(var C=Array(y),M=0;M<y;M++)C[M]=0;return C},p.prototype.mulp=function(y,C,M){var U=2*this.guessLen13b(y.length,C.length),ee=this.makeRBT(U),J=this.stub(U),re=Array(U),Ue=Array(U),We=Array(U),Qe=Array(U),ft=Array(U),pt=Array(U),Xt=M.words;Xt.length=U,this.convert13b(y.words,y.length,re,U),this.convert13b(C.words,C.length,Qe,U),this.transform(re,J,Ue,We,U,ee),this.transform(Qe,J,ft,pt,U,ee);for(var Ft,It=0;It<U;It++)Ft=Ue[It]*ft[It]-We[It]*pt[It],We[It]=Ue[It]*pt[It]+We[It]*ft[It],Ue[It]=Ft;return this.conjugate(Ue,We,U),this.transform(Ue,We,Xt,J,U,ee),this.conjugate(Xt,J,U),this.normalize13b(Xt,U),M.negative=y.negative^C.negative,M.length=y.length+C.length,M._strip()},n.prototype.mul=function(y){var C=new n(null);return C.words=Array(this.length+y.length),this.mulTo(y,C)},n.prototype.mulf=function(y){var C=new n(null);return C.words=Array(this.length+y.length),l(this,y,C)},n.prototype.imul=function(y){return this.clone().mulTo(y,this)},n.prototype.imuln=function(y){var C=0>y;C&&(y=-y),f("number"==typeof y),f(67108864>y);for(var M=0,U=0;U<this.length;U++){var ee=(0|this.words[U])*y,J=(67108863&ee)+(67108863&M);M>>=26,M+=0|ee/67108864,M+=J>>>26,this.words[U]=67108863&J}return 0!==M&&(this.words[U]=M,this.length++),C?this.ineg():this},n.prototype.muln=function(y){return this.clone().imuln(y)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(y){var C=function r(y){for(var C=Array(y.bitLength()),M=0;M<C.length;M++)C[M]=1&y.words[0|M/26]>>>M%26;return C}(y);if(0===C.length)return new n(1);for(var M=this,U=0;U<C.length&&0===C[U];U++,M=M.sqr());if(++U<C.length)for(var ee=M.sqr();U<C.length;U++,ee=ee.sqr())0!==C[U]&&(M=M.mul(ee));return M},n.prototype.iushln=function(y){f("number"==typeof y&&0<=y);var U,C=y%26,M=(y-C)/26;if(0!=C){var ee=0;for(U=0;U<this.length;U++){var J=this.words[U]&67108863>>>26-C<<26-C;this.words[U]=(0|this.words[U])-J<<C|ee,ee=J>>>26-C}ee&&(this.words[U]=ee,this.length++)}if(0!==M){for(U=this.length-1;0<=U;U--)this.words[U+M]=this.words[U];for(U=0;U<M;U++)this.words[U]=0;this.length+=M}return this._strip()},n.prototype.ishln=function(y){return f(0===this.negative),this.iushln(y)},n.prototype.iushrn=function(y,C,M){f("number"==typeof y&&0<=y);var U=C?(C-C%26)/26:0,ee=y%26,J=Y((y-ee)/26,this.length),re=M;if(U=ue(0,U-=J),re){for(var Ue=0;Ue<J;Ue++)re.words[Ue]=this.words[Ue];re.length=J}if(0!==J)if(this.length>J)for(this.length-=J,Ue=0;Ue<this.length;Ue++)this.words[Ue]=this.words[Ue+J];else this.words[0]=0,this.length=1;var We=0;for(Ue=this.length-1;0<=Ue&&(0!==We||Ue>=U);Ue--){var Qe=0|this.words[Ue];this.words[Ue]=We<<26-ee|Qe>>>ee,We=Qe&(67108863^67108863>>>ee<<ee)}return re&&0!==We&&(re.words[re.length++]=We),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(y,C,M){return f(0===this.negative),this.iushrn(y,C,M)},n.prototype.shln=function(y){return this.clone().ishln(y)},n.prototype.ushln=function(y){return this.clone().iushln(y)},n.prototype.shrn=function(y){return this.clone().ishrn(y)},n.prototype.ushrn=function(y){return this.clone().iushrn(y)},n.prototype.testn=function(y){f("number"==typeof y&&0<=y);var C=y%26,M=(y-C)/26;return!(this.length<=M||!(this.words[M]&1<<C))},n.prototype.imaskn=function(y){f("number"==typeof y&&0<=y);var C=y%26,M=(y-C)/26;return f(0===this.negative,"imaskn works only with positive numbers"),this.length<=M?this:(0!=C&&M++,this.length=Y(M,this.length),0!=C&&(this.words[this.length-1]&=67108863^67108863>>>C<<C),this._strip())},n.prototype.maskn=function(y){return this.clone().imaskn(y)},n.prototype.iaddn=function(y){return f("number"==typeof y),f(67108864>y),0>y?this.isubn(-y):0===this.negative?this._iaddn(y):1===this.length&&(0|this.words[0])<=y?(this.words[0]=y-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this)},n.prototype._iaddn=function(y){this.words[0]+=y;for(var C=0;C<this.length&&67108864<=this.words[C];C++)this.words[C]-=67108864,C==this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=ue(this.length,C+1),this},n.prototype.isubn=function(y){if(f("number"==typeof y),f(67108864>y),0>y)return this.iaddn(-y);if(0!==this.negative)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&0>this.words[C];C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},n.prototype.addn=function(y){return this.clone().iaddn(y)},n.prototype.subn=function(y){return this.clone().isubn(y)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(y,C,M){var ee;this._expand(y.length+M);var re,J=0;for(ee=0;ee<y.length;ee++){re=(0|this.words[ee+M])+J;var Ue=(0|y.words[ee])*C;J=((re-=67108863&Ue)>>26)-(0|Ue/67108864),this.words[ee+M]=67108863&re}for(;ee<this.length-M;ee++)J=(re=(0|this.words[ee+M])+J)>>26,this.words[ee+M]=67108863&re;if(0===J)return this._strip();for(f(-1===J),J=0,ee=0;ee<this.length;ee++)J=(re=-(0|this.words[ee])+J)>>26,this.words[ee]=67108863&re;return this.negative=1,this._strip()},n.prototype._wordDiv=function(y,C){var M,U=this.clone(),ee=y,J=0|ee.words[ee.length-1];0!=(M=26-this._countBits(J))&&(ee=ee.ushln(M),U.iushln(M),J=0|ee.words[ee.length-1]);var We,Ue=U.length-ee.length;if("mod"!==C){(We=new n(null)).length=Ue+1,We.words=Array(We.length);for(var Qe=0;Qe<We.length;Qe++)We.words[Qe]=0}var ft=U.clone()._ishlnsubmul(ee,1,Ue);0===ft.negative&&(U=ft,We&&(We.words[Ue]=1));for(var Xt,pt=Ue-1;0<=pt;pt--){for(Xt=Y(0|(Xt=67108864*(0|U.words[ee.length+pt])+(0|U.words[ee.length+pt-1]))/J,67108863),U._ishlnsubmul(ee,Xt,pt);0!==U.negative;)Xt--,U.negative=0,U._ishlnsubmul(ee,1,pt),U.isZero()||(U.negative^=1);We&&(We.words[pt]=Xt)}return We&&We._strip(),U._strip(),"div"!==C&&0!==M&&U.iushrn(M),{div:We||null,mod:U}},n.prototype.divmod=function(y,C,M){return f(!y.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===y.negative?(J=this.neg().divmod(y,C),"mod"!==C&&(U=J.div.neg()),"div"!==C&&(ee=J.mod.neg(),M&&0!==ee.negative&&ee.iadd(y)),{div:U,mod:ee}):0===this.negative&&0!==y.negative?(J=this.divmod(y.neg(),C),"mod"!==C&&(U=J.div.neg()),{div:U,mod:J.mod}):this.negative&y.negative?(J=this.neg().divmod(y.neg(),C),"div"!==C&&(ee=J.mod.neg(),M&&0!==ee.negative&&ee.isub(y)),{div:J.div,mod:ee}):y.length>this.length||0>this.cmp(y)?{div:new n(0),mod:this}:1===y.length?"div"===C?{div:this.divn(y.words[0]),mod:null}:"mod"===C?{div:null,mod:new n(this.modrn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new n(this.modrn(y.words[0]))}:this._wordDiv(y,C);var U,ee,J},n.prototype.div=function(y){return this.divmod(y,"div",!1).div},n.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},n.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},n.prototype.divRound=function(y){var C=this.divmod(y);if(C.mod.isZero())return C.div;var M=0===C.div.negative?C.mod:C.mod.isub(y),U=y.ushrn(1),ee=y.andln(1),J=M.cmp(U);return 0>J||1===ee&&0===J?C.div:0===C.div.negative?C.div.iaddn(1):C.div.isubn(1)},n.prototype.modrn=function(y){var C=0>y;C&&(y=-y),f(67108863>=y);for(var M=67108864%y,U=0,ee=this.length-1;0<=ee;ee--)U=(M*U+(0|this.words[ee]))%y;return C?-U:U},n.prototype.modn=function(y){return this.modrn(y)},n.prototype.idivn=function(y){var C=0>y;C&&(y=-y),f(67108863>=y);for(var ee,M=0,U=this.length-1;0<=U;U--)this.words[U]=0|(ee=(0|this.words[U])+67108864*M)/y,M=ee%y;return this._strip(),C?this.ineg():this},n.prototype.divn=function(y){return this.clone().idivn(y)},n.prototype.egcd=function(y){f(0===y.negative),f(!y.isZero());var C=this,M=y.clone();C=0===C.negative?C.clone():C.umod(y);for(var U=new n(1),ee=new n(0),J=new n(0),re=new n(1),Ue=0;C.isEven()&&M.isEven();)C.iushrn(1),M.iushrn(1),++Ue;for(var We=M.clone(),Qe=C.clone();!C.isZero();){for(var ft=0,pt=1;!(C.words[0]&pt)&&26>ft;++ft,pt<<=1);if(0<ft)for(C.iushrn(ft);0<ft--;)(U.isOdd()||ee.isOdd())&&(U.iadd(We),ee.isub(Qe)),U.iushrn(1),ee.iushrn(1);for(var Xt=0,It=1;!(M.words[0]&It)&&26>Xt;++Xt,It<<=1);if(0<Xt)for(M.iushrn(Xt);0<Xt--;)(J.isOdd()||re.isOdd())&&(J.iadd(We),re.isub(Qe)),J.iushrn(1),re.iushrn(1);0<=C.cmp(M)?(C.isub(M),U.isub(J),ee.isub(re)):(M.isub(C),J.isub(U),re.isub(ee))}return{a:J,b:re,gcd:M.iushln(Ue)}},n.prototype._invmp=function(y){f(0===y.negative),f(!y.isZero());var ft,C=this,M=y.clone();C=0===C.negative?C.clone():C.umod(y);for(var U=new n(1),ee=new n(0),J=M.clone();0<C.cmpn(1)&&0<M.cmpn(1);){for(var re=0,Ue=1;!(C.words[0]&Ue)&&26>re;++re,Ue<<=1);if(0<re)for(C.iushrn(re);0<re--;)U.isOdd()&&U.iadd(J),U.iushrn(1);for(var We=0,Qe=1;!(M.words[0]&Qe)&&26>We;++We,Qe<<=1);if(0<We)for(M.iushrn(We);0<We--;)ee.isOdd()&&ee.iadd(J),ee.iushrn(1);0<=C.cmp(M)?(C.isub(M),U.isub(ee)):(M.isub(C),ee.isub(U))}return 0>(ft=0===C.cmpn(1)?U:ee).cmpn(0)&&ft.iadd(y),ft},n.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var C=this.clone(),M=y.clone();C.negative=0,M.negative=0;for(var U=0;C.isEven()&&M.isEven();U++)C.iushrn(1),M.iushrn(1);for(;;){for(;C.isEven();)C.iushrn(1);for(;M.isEven();)M.iushrn(1);var ee=C.cmp(M);if(0>ee){var J=C;C=M,M=J}else if(0===ee||0===M.cmpn(1))break;C.isub(M)}return M.iushln(U)},n.prototype.invm=function(y){return this.egcd(y).a.umod(y)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(y){return this.words[0]&y},n.prototype.bincn=function(y){f("number"==typeof y);var C=y%26,M=(y-C)/26,U=1<<C;if(this.length<=M)return this._expand(M+1),this.words[M]|=U,this;for(var re,ee=U,J=M;0!==ee&&J<this.length;J++)re=0|this.words[J],ee=(re+=ee)>>>26,this.words[J]=re&=67108863;return 0!==ee&&(this.words[J]=ee,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(y){var M,C=0>y;if(0!==this.negative&&!C)return-1;if(0===this.negative&&C)return 1;if(this._strip(),1<this.length)M=1;else{C&&(y=-y),f(67108863>=y,"Number is too big");var U=0|this.words[0];M=U===y?0:U<y?-1:1}return 0===this.negative?M:0|-M},n.prototype.cmp=function(y){if(0!==this.negative&&0===y.negative)return-1;if(0===this.negative&&0!==y.negative)return 1;var C=this.ucmp(y);return 0===this.negative?C:0|-C},n.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var C=0,M=this.length-1;0<=M;M--){var U=0|this.words[M],ee=0|y.words[M];if(U!=ee){U<ee?C=-1:U>ee&&(C=1);break}}return C},n.prototype.gtn=function(y){return 1===this.cmpn(y)},n.prototype.gt=function(y){return 1===this.cmp(y)},n.prototype.gten=function(y){return 0<=this.cmpn(y)},n.prototype.gte=function(y){return 0<=this.cmp(y)},n.prototype.ltn=function(y){return-1===this.cmpn(y)},n.prototype.lt=function(y){return-1===this.cmp(y)},n.prototype.lten=function(y){return 0>=this.cmpn(y)},n.prototype.lte=function(y){return 0>=this.cmp(y)},n.prototype.eqn=function(y){return 0===this.cmpn(y)},n.prototype.eq=function(y){return 0===this.cmp(y)},n.red=function(y){return new N(y)},n.prototype.toRed=function(y){return f(!this.red,"Already a number in reduction context"),f(0===this.negative,"red works only with positives"),y.convertTo(this)._forceRed(y)},n.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(y){return this.red=y,this},n.prototype.forceRed=function(y){return f(!this.red,"Already a number in reduction context"),this._forceRed(y)},n.prototype.redAdd=function(y){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},n.prototype.redIAdd=function(y){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},n.prototype.redSub=function(y){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},n.prototype.redISub=function(y){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},n.prototype.redShl=function(y){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},n.prototype.redMul=function(y){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},n.prototype.redIMul=function(y){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},n.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(y){return f(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var z={k256:null,p224:null,p192:null,p25519:null};w.prototype._tmp=function(){var y=new n(null);return y.words=Array(ve(this.n/13)),y},w.prototype.ireduce=function(y){var M,C=y;do{this.split(C,this.tmp),M=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength()}while(M>this.n);var U=M<this.n?-1:C.ucmp(this.p);return 0===U?(C.words[0]=0,C.length=1):0<U?C.isub(this.p):void 0===C.strip?C._strip():C.strip(),C},w.prototype.split=function(y,C){y.iushrn(this.n,0,C)},w.prototype.imulK=function(y){return y.imul(this.k)},x(b,w),b.prototype.split=function(y,C){for(var M=4194303,U=Y(y.length,9),ee=0;ee<U;ee++)C.words[ee]=y.words[ee];if(C.length=U,9>=y.length)return y.words[0]=0,void(y.length=1);var J=y.words[9];for(C.words[C.length++]=J&M,ee=10;ee<y.length;ee++){var re=0|y.words[ee];y.words[ee-10]=(re&M)<<4|J>>>22,J=re}y.words[ee-10]=J>>>=22,y.length-=0===J&&10<y.length?10:9},b.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var U,C=0,M=0;M<y.length;M++)y.words[M]=67108863&(C+=977*(U=0|y.words[M])),C=64*U+(0|C/67108864);return 0===y.words[y.length-1]&&(y.length--,0===y.words[y.length-1]&&y.length--),y},x(I,w),x(S,w),x(R,w),R.prototype.imulK=function(y){for(var C=0,M=0;M<y.length;M++){var U=19*(0|y.words[M])+C,ee=67108863&U;U>>>=26,y.words[M]=ee,C=U}return 0!==C&&(y.words[y.length++]=C),y},n._prime=function(C){if(z[C])return z[C];var M;if("k256"===C)M=new b;else if("p224"===C)M=new I;else if("p192"===C)M=new S;else{if("p25519"!==C)throw new Error("Unknown prime "+C);M=new R}return z[C]=M,M},N.prototype._verify1=function(y){f(0===y.negative,"red works only with positives"),f(y.red,"red works only with red numbers")},N.prototype._verify2=function(y,C){f(0==(y.negative|C.negative),"red works only with positives"),f(y.red&&y.red===C.red,"red works only with red numbers")},N.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):(t(y,y.umod(this.m)._forceRed(this)),y)},N.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},N.prototype.add=function(y,C){this._verify2(y,C);var M=y.add(C);return 0<=M.cmp(this.m)&&M.isub(this.m),M._forceRed(this)},N.prototype.iadd=function(y,C){this._verify2(y,C);var M=y.iadd(C);return 0<=M.cmp(this.m)&&M.isub(this.m),M},N.prototype.sub=function(y,C){this._verify2(y,C);var M=y.sub(C);return 0>M.cmpn(0)&&M.iadd(this.m),M._forceRed(this)},N.prototype.isub=function(y,C){this._verify2(y,C);var M=y.isub(C);return 0>M.cmpn(0)&&M.iadd(this.m),M},N.prototype.shl=function(y,C){return this._verify1(y),this.imod(y.ushln(C))},N.prototype.imul=function(y,C){return this._verify2(y,C),this.imod(y.imul(C))},N.prototype.mul=function(y,C){return this._verify2(y,C),this.imod(y.mul(C))},N.prototype.isqr=function(y){return this.imul(y,y.clone())},N.prototype.sqr=function(y){return this.mul(y,y)},N.prototype.sqrt=function(y){if(y.isZero())return y.clone();var C=this.m.andln(3);if(f(C%2==1),3===C){var M=this.m.add(new n(1)).iushrn(2);return this.pow(y,M)}for(var U=this.m.subn(1),ee=0;!U.isZero()&&0===U.andln(1);)ee++,U.iushrn(1);f(!U.isZero());var J=new n(1).toRed(this),re=J.redNeg(),Ue=this.m.subn(1).iushrn(1),We=this.m.bitLength();for(We=new n(2*We*We).toRed(this);0!==this.pow(We,Ue).cmp(re);)We.redIAdd(re);for(var Qe=this.pow(We,U),ft=this.pow(y,U.addn(1).iushrn(1)),pt=this.pow(y,U),Xt=ee;0!==pt.cmp(J);){for(var It=pt,Ft=0;0!==It.cmp(J);Ft++)It=It.redSqr();f(Ft<Xt);var Ke=this.pow(Qe,new n(1).iushln(Xt-Ft-1));ft=ft.redMul(Ke),Qe=Ke.redSqr(),pt=pt.redMul(Qe),Xt=Ft}return ft},N.prototype.invm=function(y){var C=y._invmp(this.m);return 0===C.negative?this.imod(C):(C.negative=0,this.imod(C).redNeg())},N.prototype.pow=function(y,C){if(C.isZero())return new n(1).toRed(this);if(0===C.cmpn(1))return y.clone();var M=Array(16);M[0]=new n(1).toRed(this),M[1]=y;for(var U=2;U<M.length;U++)M[U]=this.mul(M[U-1],y);var ee=M[0],J=0,re=0,Ue=C.bitLength()%26;for(0===Ue&&(Ue=26),U=C.length-1;0<=U;U--){for(var ft,We=C.words[U],Qe=Ue-1;0<=Qe;Qe--)ft=1&We>>Qe,ee!==M[0]&&(ee=this.sqr(ee)),0!==ft||0!==J?(J<<=1,J|=ft,(4==++re||0===U&&0===Qe)&&(ee=this.mul(ee,M[J]),re=0,J=0)):re=0;Ue=26}return ee},N.prototype.convertTo=function(y){var C=y.umod(this.m);return C===y?C.clone():C},N.prototype.convertFrom=function(y){var C=y.clone();return C.red=null,C},n.mont=function(y){return new q(y)},x(q,N),q.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},q.prototype.convertFrom=function(y){var C=this.imod(y.mul(this.rinv));return C.red=null,C},q.prototype.imul=function(y,C){if(y.isZero()||C.isZero())return y.words[0]=0,y.length=1,y;var M=y.imul(C),U=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ee=M.isub(U).iushrn(this.shift),J=ee;return 0<=ee.cmp(this.m)?J=ee.isub(this.m):0>ee.cmpn(0)&&(J=ee.iadd(this.m)),J._forceRed(this)},q.prototype.mul=function(y,C){if(y.isZero()||C.isZero())return new n(0)._forceRed(this);var M=y.mul(C),U=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ee=M.isub(U).iushrn(this.shift),J=ee;return 0<=ee.cmp(this.m)?J=ee.isub(this.m):0>ee.cmpn(0)&&(J=ee.iadd(this.m)),J._forceRed(this)},q.prototype.invm=function(y){return this.imod(y._invmp(this.m).mul(this.r2))._forceRed(this)}}(typeof B>"u"||B,this)},{buffer:41}],40:[function(m,B){function i(x){this.rand=x}var g;if(B.exports=function(x){return g||(g=new i(null)),g.generate(x)},B.exports.Rand=i,i.prototype.generate=function(x){return this._rand(x)},i.prototype._rand=function(x){if(this.rand.getBytes)return this.rand.getBytes(x);for(var n=new Uint8Array(x),c=0;c<n.length;c++)n[c]=this.rand.getByte();return n},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(x){var n=new Uint8Array(x);return self.crypto.getRandomValues(n),n}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(x){var n=new Uint8Array(x);return self.msCrypto.getRandomValues(n),n}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var f=m("crypto");if("function"!=typeof f.randomBytes)throw new Error("Not supported");i.prototype._rand=function(x){return f.randomBytes(x)}}catch{}},{crypto:41}],41:[function(){},{}],42:[function(m,B){function i(s){n.isBuffer(s)||(s=n.from(s));for(var t=0|s.length/4,o=Array(t),r=0;r<t;r++)o[r]=s.readUInt32BE(4*r);return o}function g(s){for(;0<s.length;s++)s[0]=0}function f(s,t,o,r,d){for(var Z,le,we,ke,h=o[0],l=o[1],p=o[2],w=o[3],b=s[0]^t[0],I=s[1]^t[1],S=s[2]^t[2],R=s[3]^t[3],N=4,q=1;q<d;q++)Z=h[b>>>24]^l[255&I>>>16]^p[255&S>>>8]^w[255&R]^t[N++],le=h[I>>>24]^l[255&S>>>16]^p[255&R>>>8]^w[255&b]^t[N++],we=h[S>>>24]^l[255&R>>>16]^p[255&b>>>8]^w[255&I]^t[N++],ke=h[R>>>24]^l[255&b>>>16]^p[255&I>>>8]^w[255&S]^t[N++],b=Z,I=le,S=we,R=ke;return Z=(r[b>>>24]<<24|r[255&I>>>16]<<16|r[255&S>>>8]<<8|r[255&R])^t[N++],le=(r[I>>>24]<<24|r[255&S>>>16]<<16|r[255&R>>>8]<<8|r[255&b])^t[N++],we=(r[S>>>24]<<24|r[255&R>>>16]<<16|r[255&b>>>8]<<8|r[255&I])^t[N++],ke=(r[R>>>24]<<24|r[255&b>>>16]<<16|r[255&I>>>8]<<8|r[255&S])^t[N++],[Z>>>=0,le>>>=0,we>>>=0,ke>>>=0]}function x(s){this._key=i(s),this._reset()}var n=m("safe-buffer").Buffer,c=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var s=Array(256),t=0;256>t;t++)s[t]=128>t?t<<1:283^t<<1;for(var b,o=[],r=[],d=[[],[],[],[]],h=[[],[],[],[]],l=0,p=0,w=0;256>w;++w){o[l]=b=(b=p^p<<1^p<<2^p<<3^p<<4)>>>8^255&b^99,r[b]=l;var I=s[l],S=s[I],R=s[S],N=257*s[b]^16843008*b;d[0][l]=N<<24|N>>>8,d[1][l]=N<<16|N>>>16,d[2][l]=N<<8|N>>>24,d[3][l]=N,h[0][b]=(N=16843009*R^65537*S^257*I^16843008*l)<<24|N>>>8,h[1][b]=N<<16|N>>>16,h[2][b]=N<<8|N>>>24,h[3][b]=N,0===l?l=p=1:(l=I^s[s[s[R^I]]],p^=s[s[p]])}return{SBOX:o,INV_SBOX:r,SUB_MIX:d,INV_SUB_MIX:h}}();x.blockSize=16,x.keySize=32,x.prototype.blockSize=x.blockSize,x.prototype.keySize=x.keySize,x.prototype._reset=function(){for(var s=this._key,t=s.length,o=t+6,r=4*(o+1),d=[],h=0;h<t;h++)d[h]=s[h];for(h=t;h<r;h++){var l=d[h-1];h%t==0?(l=u.SBOX[(l=l<<8|l>>>24)>>>24]<<24|u.SBOX[255&l>>>16]<<16|u.SBOX[255&l>>>8]<<8|u.SBOX[255&l],l^=c[0|h/t]<<24):6<t&&h%t==4&&(l=u.SBOX[l>>>24]<<24|u.SBOX[255&l>>>16]<<16|u.SBOX[255&l>>>8]<<8|u.SBOX[255&l]),d[h]=d[h-t]^l}for(var p=[],w=0;w<r;w++){var b=r-w,I=d[b-(w%4?0:4)];p[w]=4>w||4>=b?I:u.INV_SUB_MIX[0][u.SBOX[I>>>24]]^u.INV_SUB_MIX[1][u.SBOX[255&I>>>16]]^u.INV_SUB_MIX[2][u.SBOX[255&I>>>8]]^u.INV_SUB_MIX[3][u.SBOX[255&I]]}this._nRounds=o,this._keySchedule=d,this._invKeySchedule=p},x.prototype.encryptBlockRaw=function(s){return f(s=i(s),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},x.prototype.encryptBlock=function(s){var t=this.encryptBlockRaw(s),o=n.allocUnsafe(16);return o.writeUInt32BE(t[0],0),o.writeUInt32BE(t[1],4),o.writeUInt32BE(t[2],8),o.writeUInt32BE(t[3],12),o},x.prototype.decryptBlock=function(s){var t=(s=i(s))[1];s[1]=s[3],s[3]=t;var o=f(s,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),r=n.allocUnsafe(16);return r.writeUInt32BE(o[0],0),r.writeUInt32BE(o[3],4),r.writeUInt32BE(o[2],8),r.writeUInt32BE(o[1],12),r},x.prototype.scrub=function(){g(this._keySchedule),g(this._invKeySchedule),g(this._key)},B.exports.AES=x},{"safe-buffer":247}],43:[function(m,B){function f(r,d,h,l){c.call(this);var p=n.alloc(4,0);this._cipher=new x.AES(d);var w=this._cipher.encryptBlock(p);this._ghash=new s(w),h=function g(r,d,h){if(12===d.length)return r._finID=n.concat([d,n.from([0,0,0,1])]),n.concat([d,n.from([0,0,0,2])]);var l=new s(h),p=d.length,w=p%16;l.update(d),w&&l.update(n.alloc(w=16-w,0)),l.update(n.alloc(8,0));var b=n.alloc(8);b.writeUIntBE(8*p,0,8),l.update(b),r._finID=l.state;var I=n.from(r._finID);return o(I),I}(this,h,w),this._prev=n.from(h),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=l,this._alen=0,this._len=0,this._mode=r,this._authTag=null,this._called=!1}var x=m("./aes"),n=m("safe-buffer").Buffer,c=m("cipher-base"),u=m("inherits"),s=m("./ghash"),t=m("buffer-xor"),o=m("./incr32");u(f,c),f.prototype._update=function(r){if(!this._called&&this._alen){var d=16-this._alen%16;16>d&&(d=n.alloc(d,0),this._ghash.update(d))}this._called=!0;var h=this._mode.encrypt(this,r);return this._ghash.update(this._decrypt?r:h),this._len+=r.length,h},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var r=t(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function i(r,d){var h=0;r.length!==d.length&&h++;for(var l=Y(r.length,d.length),p=0;p<l;++p)h+=r[p]^d[p];return h}(r,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=r,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(r){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=r},f.prototype.setAAD=function(r){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(r),this._alen+=r.length},B.exports=f},{"./aes":42,"./ghash":47,"./incr32":48,"buffer-xor":90,"cipher-base":94,inherits:159,"safe-buffer":247}],44:[function(m,B,i){var g=m("./encrypter"),f=m("./decrypter"),x=m("./modes/list.json");i.createCipher=i.Cipher=g.createCipher,i.createCipheriv=i.Cipheriv=g.createCipheriv,i.createDecipher=i.Decipher=f.createDecipher,i.createDecipheriv=i.Decipheriv=f.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(x)}},{"./decrypter":45,"./encrypter":46,"./modes/list.json":56}],45:[function(m,B,i){function g(l,p,w){o.call(this),this._cache=new f,this._last=void 0,this._cipher=new r.AES(p),this._prev=u.from(w),this._mode=l,this._autopadding=!0}function f(){this.cache=u.allocUnsafe(0)}function n(l,p,w){var b=s[l.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if("string"==typeof w&&(w=u.from(w)),"GCM"!==b.mode&&w.length!==b.iv)throw new TypeError("invalid iv length "+w.length);if("string"==typeof p&&(p=u.from(p)),p.length!==b.key/8)throw new TypeError("invalid key length "+p.length);return"stream"===b.type?new t(b.module,p,w,!0):"auth"===b.type?new c(b.module,p,w,!0):new g(b.module,p,w)}var c=m("./authCipher"),u=m("safe-buffer").Buffer,s=m("./modes"),t=m("./streamCipher"),o=m("cipher-base"),r=m("./aes"),d=m("evp_bytestokey");m("inherits")(g,o),g.prototype._update=function(l){this._cache.add(l);for(var w,b,p=[];w=this._cache.get(this._autopadding);)b=this._mode.decrypt(this,w),p.push(b);return u.concat(p)},g.prototype._final=function(){var l=this._cache.flush();if(this._autopadding)return function x(l){var p=l[15];if(1>p||16<p)throw new Error("unable to decrypt data");for(var w=-1;++w<p;)if(l[w+(16-p)]!==p)throw new Error("unable to decrypt data");return 16===p?void 0:l.slice(0,16-p)}(this._mode.decrypt(this,l));if(l)throw new Error("data not multiple of block length")},g.prototype.setAutoPadding=function(l){return this._autopadding=!!l,this},f.prototype.add=function(l){this.cache=u.concat([this.cache,l])},f.prototype.get=function(l){var p;if(l){if(16<this.cache.length)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(16<=this.cache.length)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(l,p){var w=s[l.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var b=d(p,!1,w.key,w.iv);return n(l,b.key,b.iv)},i.createDecipheriv=n},{"./aes":42,"./authCipher":43,"./modes":55,"./streamCipher":58,"cipher-base":94,evp_bytestokey:137,inherits:159,"safe-buffer":247}],46:[function(m,B,i){function g(l,p,w){t.call(this),this._cache=new f,this._cipher=new o.AES(p),this._prev=u.from(w),this._mode=l,this._autopadding=!0}function f(){this.cache=u.allocUnsafe(0)}function x(l,p,w){var b=n[l.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if("string"==typeof p&&(p=u.from(p)),p.length!==b.key/8)throw new TypeError("invalid key length "+p.length);if("string"==typeof w&&(w=u.from(w)),"GCM"!==b.mode&&w.length!==b.iv)throw new TypeError("invalid iv length "+w.length);return"stream"===b.type?new s(b.module,p,w):"auth"===b.type?new c(b.module,p,w):new g(b.module,p,w)}var n=m("./modes"),c=m("./authCipher"),u=m("safe-buffer").Buffer,s=m("./streamCipher"),t=m("cipher-base"),o=m("./aes"),r=m("evp_bytestokey");m("inherits")(g,t),g.prototype._update=function(l){this._cache.add(l);for(var w,b,p=[];w=this._cache.get();)b=this._mode.encrypt(this,w),p.push(b);return u.concat(p)};var h=u.alloc(16,16);g.prototype._final=function(){var l=this._cache.flush();if(this._autopadding)return l=this._mode.encrypt(this,l),this._cipher.scrub(),l;if(!l.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},g.prototype.setAutoPadding=function(l){return this._autopadding=!!l,this},f.prototype.add=function(l){this.cache=u.concat([this.cache,l])},f.prototype.get=function(){if(15<this.cache.length){var l=this.cache.slice(0,16);return this.cache=this.cache.slice(16),l}return null},f.prototype.flush=function(){for(var l=16-this.cache.length,p=u.allocUnsafe(l),w=-1;++w<l;)p.writeUInt8(l,w);return u.concat([this.cache,p])},i.createCipheriv=x,i.createCipher=function(l,p){var w=n[l.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var b=r(p,!1,w.key,w.iv);return x(l,b.key,b.iv)}},{"./aes":42,"./authCipher":43,"./modes":55,"./streamCipher":58,"cipher-base":94,evp_bytestokey:137,inherits:159,"safe-buffer":247}],47:[function(m,B){function g(c){var u=x.allocUnsafe(16);return u.writeUInt32BE(c[0]>>>0,0),u.writeUInt32BE(c[1]>>>0,4),u.writeUInt32BE(c[2]>>>0,8),u.writeUInt32BE(c[3]>>>0,12),u}function f(c){this.h=c,this.state=x.alloc(16,0),this.cache=x.allocUnsafe(0)}var x=m("safe-buffer").Buffer,n=x.alloc(16,0);f.prototype.ghash=function(c){for(var u=-1;++u<c.length;)this.state[u]^=c[u];this._multiply()},f.prototype._multiply=function(){for(var t,r,c=function i(c){return[c.readUInt32BE(0),c.readUInt32BE(4),c.readUInt32BE(8),c.readUInt32BE(12)]}(this.h),u=[0,0,0,0],s=-1;128>++s;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(u[0]^=c[0],u[1]^=c[1],u[2]^=c[2],u[3]^=c[3]),r=0!=(1&c[3]),t=3;0<t;t--)c[t]=c[t]>>>1|(1&c[t-1])<<31;c[0]>>>=1,r&&(c[0]^=-520093696)}this.state=g(u)},f.prototype.update=function(c){this.cache=x.concat([this.cache,c]);for(var u;16<=this.cache.length;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},f.prototype.final=function(c,u){return this.cache.length&&this.ghash(x.concat([this.cache,n],16)),this.ghash(g([0,c,0,u])),this.state},B.exports=f},{"safe-buffer":247}],48:[function(m,B){B.exports=function(i){for(var f,g=i.length;g--;){if(255!==(f=i.readUInt8(g))){f++,i.writeUInt8(f,g);break}i.writeUInt8(0,g)}}},{}],49:[function(m,B,i){var g=m("buffer-xor");i.encrypt=function(f,x){var n=g(x,f._prev);return f._prev=f._cipher.encryptBlock(n),f._prev},i.decrypt=function(f,x){var n=f._prev;f._prev=x;var c=f._cipher.decryptBlock(x);return g(c,n)}},{"buffer-xor":90}],50:[function(m,B,i){function g(n,c,u){var s=c.length,t=x(c,n._cache);return n._cache=n._cache.slice(s),n._prev=f.concat([n._prev,u?c:t]),t}var f=m("safe-buffer").Buffer,x=m("buffer-xor");i.encrypt=function(n,c,u){for(var t,s=f.allocUnsafe(0);c.length;){if(0===n._cache.length&&(n._cache=n._cipher.encryptBlock(n._prev),n._prev=f.allocUnsafe(0)),!(n._cache.length<=c.length)){s=f.concat([s,g(n,c,u)]);break}s=f.concat([s,g(n,c.slice(0,t=n._cache.length),u)]),c=c.slice(t)}return s}},{"buffer-xor":90,"safe-buffer":247}],51:[function(m,B,i){function g(n,c,u){for(var r,d,s=-1,t=0;++s<8;)t+=(128&(d=n._cipher.encryptBlock(n._prev)[0]^(r=c&1<<7-s?128:0)))>>s%8,n._prev=f(n._prev,u?r:d);return t}function f(n,c){var u=n.length,s=-1,t=x.allocUnsafe(n.length);for(n=x.concat([n,x.from([c])]);++s<u;)t[s]=n[s]<<1|n[s+1]>>7;return t}var x=m("safe-buffer").Buffer;i.encrypt=function(n,c,u){for(var s=c.length,t=x.allocUnsafe(s),o=-1;++o<s;)t[o]=g(n,c[o],u);return t}},{"safe-buffer":247}],52:[function(m,B,i){function g(x,n,c){var s=x._cipher.encryptBlock(x._prev)[0]^n;return x._prev=f.concat([x._prev.slice(1),f.from([c?n:s])]),s}var f=m("safe-buffer").Buffer;i.encrypt=function(x,n,c){for(var u=n.length,s=f.allocUnsafe(u),t=-1;++t<u;)s[t]=g(x,n[t],c);return s}},{"safe-buffer":247}],53:[function(m,B,i){function g(u){var s=u._cipher.encryptBlockRaw(u._prev);return n(u._prev),s}var f=m("buffer-xor"),x=m("safe-buffer").Buffer,n=m("../incr32");i.encrypt=function(u,s){var t=ve(s.length/16),o=u._cache.length;u._cache=x.concat([u._cache,x.allocUnsafe(16*t)]);for(var r=0;r<t;r++){var d=g(u),h=o+16*r;u._cache.writeUInt32BE(d[0],h+0),u._cache.writeUInt32BE(d[1],h+4),u._cache.writeUInt32BE(d[2],h+8),u._cache.writeUInt32BE(d[3],h+12)}var l=u._cache.slice(0,s.length);return u._cache=u._cache.slice(s.length),f(s,l)}},{"../incr32":48,"buffer-xor":90,"safe-buffer":247}],54:[function(m,B,i){i.encrypt=function(g,f){return g._cipher.encryptBlock(f)},i.decrypt=function(g,f){return g._cipher.decryptBlock(f)}},{}],55:[function(m,B){var i={ECB:m("./ecb"),CBC:m("./cbc"),CFB:m("./cfb"),CFB8:m("./cfb8"),CFB1:m("./cfb1"),OFB:m("./ofb"),CTR:m("./ctr"),GCM:m("./ctr")},g=m("./list.json");for(var f in g)g[f].module=i[g[f].mode];B.exports=g},{"./cbc":49,"./cfb":50,"./cfb1":51,"./cfb8":52,"./ctr":53,"./ecb":54,"./list.json":56,"./ofb":57}],56:[function(m,B){B.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],57:[function(m,B,i){(function(g){(function(){function f(n){return n._prev=n._cipher.encryptBlock(n._prev),n._prev}var x=m("buffer-xor");i.encrypt=function(n,c){for(;n._cache.length<c.length;)n._cache=g.concat([n._cache,f(n)]);var u=n._cache.slice(0,c.length);return n._cache=n._cache.slice(c.length),x(c,u)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69,"buffer-xor":90}],58:[function(m,B){function i(c,u,s,t){x.call(this),this._cipher=new g.AES(u),this._prev=f.from(s),this._cache=f.allocUnsafe(0),this._secCache=f.allocUnsafe(0),this._decrypt=t,this._mode=c}var g=m("./aes"),f=m("safe-buffer").Buffer,x=m("cipher-base");m("inherits")(i,x),i.prototype._update=function(c){return this._mode.encrypt(this,c,this._decrypt)},i.prototype._final=function(){this._cipher.scrub()},B.exports=i},{"./aes":42,"cipher-base":94,inherits:159,"safe-buffer":247}],59:[function(m,B,i){function g(t,o,r){if(t=t.toLowerCase(),c[t])return n.createCipheriv(t,o,r);if(u[t])return new x({key:o,iv:r,mode:t});throw new TypeError("invalid suite type")}function f(t,o,r){if(t=t.toLowerCase(),c[t])return n.createDecipheriv(t,o,r);if(u[t])return new x({key:o,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}var x=m("browserify-des"),n=m("browserify-aes/browser"),c=m("browserify-aes/modes"),u=m("browserify-des/modes"),s=m("evp_bytestokey");i.createCipher=i.Cipher=function(t,o){var r,d;if(t=t.toLowerCase(),c[t])r=c[t].key,d=c[t].iv;else{if(!u[t])throw new TypeError("invalid suite type");r=8*u[t].key,d=u[t].iv}var h=s(o,!1,r,d);return g(t,h.key,h.iv)},i.createCipheriv=i.Cipheriv=g,i.createDecipher=i.Decipher=function(t,o){var r,d;if(t=t.toLowerCase(),c[t])r=c[t].key,d=c[t].iv;else{if(!u[t])throw new TypeError("invalid suite type");r=8*u[t].key,d=u[t].iv}var h=s(o,!1,r,d);return f(t,h.key,h.iv)},i.createDecipheriv=i.Decipheriv=f,i.listCiphers=i.getCiphers=function(){return Object.keys(u).concat(n.getCiphers())}},{"browserify-aes/browser":44,"browserify-aes/modes":55,"browserify-des":60,"browserify-des/modes":61,evp_bytestokey:137}],60:[function(m,B){function i(u){g.call(this);var o,s=u.mode.toLowerCase(),t=c[s];o=u.decrypt?"decrypt":"encrypt";var r=u.key;n.isBuffer(r)||(r=n.from(r)),("des-ede"===s||"des-ede-cbc"===s)&&(r=n.concat([r,r.slice(0,8)]));var d=u.iv;n.isBuffer(d)||(d=n.from(d)),this._des=t.create({key:r,iv:d,type:o})}var g=m("cipher-base"),f=m("des.js"),x=m("inherits"),n=m("safe-buffer").Buffer,c={"des-ede3-cbc":f.CBC.instantiate(f.EDE),"des-ede3":f.EDE,"des-ede-cbc":f.CBC.instantiate(f.EDE),"des-ede":f.EDE,"des-cbc":f.CBC.instantiate(f.DES),"des-ecb":f.DES};c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],B.exports=i,x(i,g),i.prototype._update=function(u){return n.from(this._des.update(u))},i.prototype._final=function(){return n.from(this._des.final())}},{"cipher-base":94,"des.js":107,inherits:159,"safe-buffer":247}],61:[function(m,B,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],62:[function(m,B){(function(i){(function(){function f(u){var t,s=u.modulus.byteLength();do{t=new n(c(s))}while(0<=t.cmp(u.modulus)||!t.umod(u.prime1)||!t.umod(u.prime2));return t}function x(u,s){var t=function g(u){var s=f(u);return{blinder:s.toRed(n.mont(u.modulus)).redPow(new n(u.publicExponent)).fromRed(),unblinder:s.invm(u.modulus)}}(s),o=s.modulus.byteLength(),r=new n(u).mul(t.blinder).umod(s.modulus),d=r.toRed(n.mont(s.prime1)),h=r.toRed(n.mont(s.prime2)),l=s.coefficient,p=s.prime1,w=s.prime2,b=d.redPow(s.exponent1).fromRed(),I=h.redPow(s.exponent2).fromRed(),S=b.isub(I).imul(l).umod(p).imul(w);return I.iadd(S).imul(t.unblinder).umod(s.modulus).toArrayLike(i,"be",o)}var n=m("bn.js"),c=m("randombytes");x.getr=f,B.exports=x}).call(this)}).call(this,m("buffer").Buffer)},{"bn.js":39,buffer:69,randombytes:221}],63:[function(m,B){B.exports=m("./browser/algorithms.json")},{"./browser/algorithms.json":64}],64:[function(m,B){B.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],65:[function(m,B){B.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],66:[function(m,B){function i(d){u.Writable.call(this);var h=r[d];if(!h)throw new Error("Unknown message digest");this._hashType=h.hash,this._hash=c(h.hash),this._tag=h.id,this._signType=h.sign}function g(d){u.Writable.call(this);var h=r[d];if(!h)throw new Error("Unknown message digest");this._hash=c(h.hash),this._tag=h.id,this._signType=h.sign}function f(d){return new i(d)}function x(d){return new g(d)}var n=m("safe-buffer").Buffer,c=m("create-hash"),u=m("readable-stream"),s=m("inherits"),t=m("./sign"),o=m("./verify"),r=m("./algorithms.json");Object.keys(r).forEach(function(d){r[d].id=n.from(r[d].id,"hex"),r[d.toLowerCase()]=r[d]}),s(i,u.Writable),i.prototype._write=function(d,h,l){this._hash.update(d),l()},i.prototype.update=function(d,h){return"string"==typeof d&&(d=n.from(d,h)),this._hash.update(d),this},i.prototype.sign=function(d,h){this.end();var l=this._hash.digest(),p=t(l,d,this._hashType,this._signType,this._tag);return h?p.toString(h):p},s(g,u.Writable),g.prototype._write=function(d,h,l){this._hash.update(d),l()},g.prototype.update=function(d,h){return"string"==typeof d&&(d=n.from(d,h)),this._hash.update(d),this},g.prototype.verify=function(d,h,l){"string"==typeof h&&(h=n.from(h,l)),this.end();var p=this._hash.digest();return o(h,p,d,this._signType,this._tag)},B.exports={Sign:f,Verify:x,createSign:f,createVerify:x}},{"./algorithms.json":64,"./sign":67,"./verify":68,"create-hash":99,inherits:159,"readable-stream":240,"safe-buffer":247}],67:[function(m,B){function x(w,b,I,S){if((w=t.from(w.toArray())).length<b.byteLength()){var R=t.alloc(b.byteLength()-w.length);w=t.concat([R,w])}var N=I.length,q=function c(w,b){w=(w=n(w,b)).mod(b);var I=t.from(w.toArray());if(I.length<b.byteLength()){var S=t.alloc(b.byteLength()-I.length);I=t.concat([S,I])}return I}(I,b),Z=t.alloc(N);Z.fill(1);var le=t.alloc(N);return le=o(S,le).update(Z).update(t.from([0])).update(w).update(q).digest(),Z=o(S,le).update(Z).digest(),{k:le=o(S,le).update(Z).update(t.from([1])).update(w).update(q).digest(),v:Z=o(S,le).update(Z).digest()}}function n(w,b){var I=new h(w),S=(w.length<<3)-b.bitLength();return 0<S&&I.ishrn(S),I}function u(w,b,I){var S,R;do{for(S=t.alloc(0);8*S.length<w.bitLength();)b.v=o(I,b.k).update(b.v).digest(),S=t.concat([S,b.v]);R=n(S,w),b.k=o(I,b.k).update(b.v).update(t.from([0])).digest(),b.v=o(I,b.k).update(b.v).digest()}while(-1!==R.cmp(w));return R}function s(w,b,I,S){return w.toRed(h.mont(I)).redPow(b).fromRed().mod(S)}var t=m("safe-buffer").Buffer,o=m("create-hmac"),r=m("browserify-rsa"),d=m("elliptic").ec,h=m("bn.js"),l=m("parse-asn1"),p=m("./curves.json");B.exports=function(w,b,I,S,R){var N=l(b);if(N.curve){if("ecdsa"!==S&&"ecdsa/rsa"!==S)throw new Error("wrong private key type");return function i(w,b){var I=p[b.curve.join(".")];if(!I)throw new Error("unknown curve "+b.curve.join("."));var N=new d(I).keyFromPrivate(b.privateKey).sign(w);return t.from(N.toDER())}(w,N)}if("dsa"===N.type){if("dsa"!==S)throw new Error("wrong private key type");return function g(w,b,I){for(var A,S=b.params.priv_key,R=b.params.p,N=b.params.q,q=b.params.g,Z=new h(0),le=n(w,N).mod(N),we=!1,ke=x(S,N,w,I);!1===we;)Z=s(q,A=u(N,ke,I),R,N),0===(we=A.invm(N).imul(le.add(S.mul(Z))).mod(N)).cmpn(0)&&(we=!1,Z=new h(0));return function f(w,b){w=w.toArray(),b=b.toArray(),128&w[0]&&(w=[0].concat(w)),128&b[0]&&(b=[0].concat(b));var S=[48,w.length+b.length+4,2,w.length];return S=S.concat(w,[2,b.length],b),t.from(S)}(Z,we)}(w,N,I)}if("rsa"!==S&&"ecdsa/rsa"!==S)throw new Error("wrong private key type");w=t.concat([R,w]);for(var q=N.modulus.byteLength(),Z=[0,1];w.length+Z.length+1<q;)Z.push(255);Z.push(0);for(var le=-1;++le<w.length;)Z.push(w[le]);return r(Z,N)},B.exports.getKey=x,B.exports.makeKey=u},{"./curves.json":65,"bn.js":39,"browserify-rsa":62,"create-hmac":101,elliptic:118,"parse-asn1":196,"safe-buffer":247}],68:[function(m,B){function f(t,o){if(0>=t.cmpn(0))throw new Error("invalid sig");if(t.cmp(o)>=o)throw new Error("invalid sig")}var x=m("safe-buffer").Buffer,n=m("bn.js"),c=m("elliptic").ec,u=m("parse-asn1"),s=m("./curves.json");B.exports=function(t,o,r,d,h){var l=u(r);if("ec"===l.type){if("ecdsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong public key type");return function i(t,o,r){var d=s[r.data.algorithm.curve.join(".")];if(!d)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));return new c(d).verify(o,t,r.data.subjectPrivateKey.data)}(t,o,l)}if("dsa"===l.type){if("dsa"!==d)throw new Error("wrong public key type");return function g(t,o,r){var d=r.data.p,h=r.data.q,l=r.data.g,p=r.data.pub_key,w=u.signature.decode(t,"der"),b=w.s,I=w.r;f(b,h),f(I,h);var S=n.mont(d),R=b.invm(h);return 0===l.toRed(S).redPow(new n(o).mul(R).mod(h)).fromRed().mul(p.toRed(S).redPow(I.mul(R).mod(h)).fromRed()).mod(d).mod(h).cmp(I)}(t,o,l)}if("rsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong public key type");o=x.concat([h,o]);for(var p=l.modulus.byteLength(),w=[1],b=0;o.length+w.length+2<p;)w.push(255),b++;w.push(0);for(var I=-1;++I<o.length;)w.push(o[I]);w=x.from(w);var S=n.mont(l.modulus);t=(t=new n(t).toRed(S)).redPow(new n(l.publicExponent)),t=x.from(t.fromRed().toArray());var R=8>b?1:0;for(p=Y(t.length,w.length),t.length!==w.length&&(R=1),I=-1;++I<p;)R|=t[I]^w[I];return 0==R}},{"./curves.json":65,"bn.js":39,elliptic:118,"parse-asn1":196,"safe-buffer":247}],69:[function(m,B,i){(function(){(function(){"use strict";function g(K){if(2147483647<K)throw new RangeError('The value "'+K+'" is invalid for option "size"');var se=new Uint8Array(K);return se.__proto__=f.prototype,se}function f(K,se,X){if("number"==typeof K){if("string"==typeof se)throw new TypeError('The "string" argument must be of type string. Received type number');return u(K)}return x(K,se,X)}function x(K,se,X){if("string"==typeof K)return function s(K,se){if(("string"!=typeof se||""===se)&&(se="utf8"),!f.isEncoding(se))throw new TypeError("Unknown encoding: "+se);var X=0|h(K,se),ce=g(X),Je=ce.write(K,se);return Je!==X&&(ce=ce.slice(0,Je)),ce}(K,se);if(ArrayBuffer.isView(K))return t(K);if(null==K)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(It(K,ArrayBuffer)||K&&It(K.buffer,ArrayBuffer))return function o(K,se,X){if(0>se||K.byteLength<se)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<se+(X||0))throw new RangeError('"length" is outside of buffer bounds');var ce;return(ce=void 0===se&&void 0===X?new Uint8Array(K):void 0===X?new Uint8Array(K,se):new Uint8Array(K,se,X)).__proto__=f.prototype,ce}(K,se,X);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');var ce=K.valueOf&&K.valueOf();if(null!=ce&&ce!==K)return f.from(ce,se,X);var Je=function r(K){if(f.isBuffer(K)){var se=0|d(K.length),X=g(se);return 0===X.length||K.copy(X,0,0,se),X}return void 0===K.length?"Buffer"===K.type&&Array.isArray(K.data)?t(K.data):void 0:"number"!=typeof K.length||Ft(K.length)?g(0):t(K)}(K);if(Je)return Je;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return f.from(K[Symbol.toPrimitive]("string"),se,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function n(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(0>K)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function u(K){return n(K),g(0>K?0:0|d(K))}function t(K){for(var se=0>K.length?0:0|d(K.length),X=g(se),ce=0;ce<se;ce+=1)X[ce]=255&K[ce];return X}function d(K){if(K>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|K}function h(K,se){if(f.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||It(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);var X=K.length,ce=2<arguments.length&&!0===arguments[2];if(!ce&&0===X)return 0;for(var Je=!1;;)switch(se){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return We(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return pt(K).length;default:if(Je)return ce?-1:We(K).length;se=(""+se).toLowerCase(),Je=!0}}function l(K,se,X){var ce=!1;if((void 0===se||0>se)&&(se=0),se>this.length||((void 0===X||X>this.length)&&(X=this.length),0>=X)||(X>>>=0)<=(se>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return z(this,se,X);case"utf8":case"utf-8":return we(this,se,X);case"ascii":return A(this,se,X);case"latin1":case"binary":return L(this,se,X);case"base64":return le(this,se,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,se,X);default:if(ce)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),ce=!0}}function p(K,se,X){var ce=K[se];K[se]=K[X],K[X]=ce}function w(K,se,X,ce,Je){if(0===K.length)return-1;if("string"==typeof X?(ce=X,X=0):2147483647<X?X=2147483647:-2147483648>X&&(X=-2147483648),Ft(X=+X)&&(X=Je?0:K.length-1),0>X&&(X=K.length+X),X>=K.length){if(Je)return-1;X=K.length-1}else if(0>X){if(!Je)return-1;X=0}if("string"==typeof se&&(se=f.from(se,ce)),f.isBuffer(se))return 0===se.length?-1:b(K,se,X,ce,Je);if("number"==typeof se)return se&=255,"function"==typeof Uint8Array.prototype.indexOf?Je?Uint8Array.prototype.indexOf.call(K,se,X):Uint8Array.prototype.lastIndexOf.call(K,se,X):b(K,[se],X,ce,Je);throw new TypeError("val must be string, number or Buffer")}function b(K,se,X,ce,Je){function ie(Cn,hn){return 1===pe?Cn[hn]:Cn.readUInt16BE(hn*pe)}var dt,pe=1,Ye=K.length,at=se.length;if(void 0!==ce&&("ucs2"===(ce=(ce+"").toLowerCase())||"ucs-2"===ce||"utf16le"===ce||"utf-16le"===ce)){if(2>K.length||2>se.length)return-1;pe=2,Ye/=2,at/=2,X/=2}if(Je){var Gt=-1;for(dt=X;dt<Ye;dt++)if(ie(K,dt)!==ie(se,-1===Gt?0:dt-Gt))-1!==Gt&&(dt-=dt-Gt),Gt=-1;else if(-1===Gt&&(Gt=dt),dt-Gt+1===at)return Gt*pe}else for(X+at>Ye&&(X=Ye-at),dt=X;0<=dt;dt--){for(var Jt=!0,an=0;an<at;an++)if(ie(K,dt+an)!==ie(se,an)){Jt=!1;break}if(Jt)return dt}return-1}function I(K,se,X,ce){var Je=K.length-(X=+X||0);ce?(ce=+ce)>Je&&(ce=Je):ce=Je;var ie=se.length;ce>ie/2&&(ce=ie/2);for(var Ye,pe=0;pe<ce;++pe){if(Ft(Ye=parseInt(se.substr(2*pe,2),16)))return pe;K[X+pe]=Ye}return pe}function S(K,se,X,ce){return Xt(We(se,K.length-X),K,X,ce)}function R(K,se,X,ce){return Xt(function Qe(K){for(var se=[],X=0;X<K.length;++X)se.push(255&K.charCodeAt(X));return se}(se),K,X,ce)}function N(K,se,X,ce){return R(K,se,X,ce)}function q(K,se,X,ce){return Xt(pt(se),K,X,ce)}function Z(K,se,X,ce){return Xt(function ft(K,se){for(var Je,ie,X=[],ce=0;ce<K.length&&!(0>(se-=2));++ce)ie=(Je=K.charCodeAt(ce))>>8,X.push(Je%256),X.push(ie);return X}(se,K.length-X),K,X,ce)}function le(K,se,X){return Ke.fromByteArray(0===se&&X===K.length?K:K.slice(se,X))}function we(K,se,X){X=Y(K.length,X);for(var ce=[],Je=se;Je<X;){var at,dt,Gt,Jt,ie=K[Je],pe=null,Ye=239<ie?4:223<ie?3:191<ie?2:1;Je+Ye<=X&&(1===Ye?128>ie&&(pe=ie):2===Ye?128==(192&(at=K[Je+1]))&&127<(Jt=(31&ie)<<6|63&at)&&(pe=Jt):3===Ye?(dt=K[Je+2],128==(192&(at=K[Je+1]))&&128==(192&dt)&&2047<(Jt=(15&ie)<<12|(63&at)<<6|63&dt)&&(55296>Jt||57343<Jt)&&(pe=Jt)):4===Ye&&(dt=K[Je+2],Gt=K[Je+3],128==(192&(at=K[Je+1]))&&128==(192&dt)&&128==(192&Gt)&&65535<(Jt=(15&ie)<<18|(63&at)<<12|(63&dt)<<6|63&Gt)&&1114112>Jt&&(pe=Jt))),null===pe?(pe=65533,Ye=1):65535<pe&&(ce.push(55296|1023&(pe-=65536)>>>10),pe=56320|1023&pe),ce.push(pe),Je+=Ye}return function ke(K){var se=K.length;if(se<=4096)return G.apply(String,K);for(var X="",ce=0;ce<se;)X+=G.apply(String,K.slice(ce,ce+=4096));return X}(ce)}function A(K,se,X){var ce="";X=Y(K.length,X);for(var Je=se;Je<X;++Je)ce+=G(127&K[Je]);return ce}function L(K,se,X){var ce="";X=Y(K.length,X);for(var Je=se;Je<X;++Je)ce+=G(K[Je]);return ce}function z(K,se,X){var ce=K.length;(!se||0>se)&&(se=0),(!X||0>X||X>ce)&&(X=ce);for(var Je="",ie=se;ie<X;++ie)Je+=Ue(K[ie]);return Je}function y(K,se,X){for(var ce=K.slice(se,X),Je="",ie=0;ie<ce.length;ie+=2)Je+=G(ce[ie]+256*ce[ie+1]);return Je}function C(K,se,X){if(K%1!=0||0>K)throw new RangeError("offset is not uint");if(K+se>X)throw new RangeError("Trying to access beyond buffer length")}function M(K,se,X,ce,Je,ie){if(!f.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(se>Je||se<ie)throw new RangeError('"value" argument is out of bounds');if(X+ce>K.length)throw new RangeError("Index out of range")}function U(K,se,X,ce){if(X+ce>K.length)throw new RangeError("Index out of range");if(0>X)throw new RangeError("Index out of range")}function ee(K,se,X,ce,Je){return se=+se,X>>>=0,Je||U(K,0,X,4),mt.write(K,se,X,ce,23,4),X+4}function J(K,se,X,ce,Je){return se=+se,X>>>=0,Je||U(K,0,X,8),mt.write(K,se,X,ce,52,8),X+8}function Ue(K){return 16>K?"0"+K.toString(16):K.toString(16)}function We(K,se){se=se||1/0;for(var pe,X=K.length,ce=null,Je=[],ie=0;ie<X;++ie){if(55295<(pe=K.charCodeAt(ie))&&57344>pe){if(!ce){if(56319<pe){-1<(se-=3)&&Je.push(239,191,189);continue}if(ie+1===X){-1<(se-=3)&&Je.push(239,191,189);continue}ce=pe;continue}if(56320>pe){-1<(se-=3)&&Je.push(239,191,189),ce=pe;continue}pe=65536+(ce-55296<<10|pe-56320)}else ce&&-1<(se-=3)&&Je.push(239,191,189);if(ce=null,128>pe){if(0>(se-=1))break;Je.push(pe)}else if(2048>pe){if(0>(se-=2))break;Je.push(192|pe>>6,128|63&pe)}else if(65536>pe){if(0>(se-=3))break;Je.push(224|pe>>12,128|63&pe>>6,128|63&pe)}else{if(!(1114112>pe))throw new Error("Invalid code point");if(0>(se-=4))break;Je.push(240|pe>>18,128|63&pe>>12,128|63&pe>>6,128|63&pe)}}return Je}function pt(K){return Ke.toByteArray(function re(K){if(2>(K=(K=K.split("=")[0]).trim().replace(St,"")).length)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function Xt(K,se,X,ce){for(var Je=0;Je<ce&&!(Je+X>=se.length||Je>=K.length);++Je)se[Je+X]=K[Je];return Je}function It(K,se){return K instanceof se||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===se.name}function Ft(K){return K!=K}var Ke=m("base64-js"),mt=m("ieee754");i.Buffer=f,i.SlowBuffer=function(K){return+K!=K&&(K=0),f.alloc(+K)},i.INSPECT_MAX_BYTES=50,i.kMaxLength=2147483647,(f.TYPED_ARRAY_SUPPORT=function(){try{var K=new Uint8Array(1);return K.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===K.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){return f.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){return f.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&null!=Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=function(K,se,X){return x(K,se,X)},f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,f.alloc=function(K,se,X){return function c(K,se,X){return n(K),0>=K||void 0===se?g(K):"string"==typeof X?g(K).fill(se,X):g(K).fill(se)}(K,se,X)},f.allocUnsafe=function(K){return u(K)},f.allocUnsafeSlow=function(K){return u(K)},f.isBuffer=function(K){return null!=K&&!0===K._isBuffer&&K!==f.prototype},f.compare=function(K,se){if(It(K,Uint8Array)&&(K=f.from(K,K.offset,K.byteLength)),It(se,Uint8Array)&&(se=f.from(se,se.offset,se.byteLength)),!f.isBuffer(K)||!f.isBuffer(se))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===se)return 0;for(var X=K.length,ce=se.length,Je=0,ie=Y(X,ce);Je<ie;++Je)if(K[Je]!==se[Je]){X=K[Je],ce=se[Je];break}return X<ce?-1:ce<X?1:0},f.isEncoding=function(K){switch((K+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(K,se){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(0===K.length)return f.alloc(0);var X;if(void 0===se)for(se=0,X=0;X<K.length;++X)se+=K[X].length;var ce=f.allocUnsafe(se),Je=0;for(X=0;X<K.length;++X){var ie=K[X];if(It(ie,Uint8Array)&&(ie=f.from(ie)),!f.isBuffer(ie))throw new TypeError('"list" argument must be an Array of Buffers');ie.copy(ce,Je),Je+=ie.length}return ce},f.byteLength=h,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var K=this.length;if(K%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var se=0;se<K;se+=2)p(this,se,se+1);return this},f.prototype.swap32=function(){var K=this.length;if(K%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var se=0;se<K;se+=4)p(this,se,se+3),p(this,se+1,se+2);return this},f.prototype.swap64=function(){var K=this.length;if(K%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var se=0;se<K;se+=8)p(this,se,se+7),p(this,se+1,se+6),p(this,se+2,se+5),p(this,se+3,se+4);return this},f.prototype.toString=function(){var K=this.length;return 0===K?"":0===arguments.length?we(this,0,K):l.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(K){if(!f.isBuffer(K))throw new TypeError("Argument must be a Buffer");return this===K||0===f.compare(this,K)},f.prototype.inspect=function(){var K="",se=i.INSPECT_MAX_BYTES;return K=this.toString("hex",0,se).replace(/(.{2})/g,"$1 ").trim(),this.length>se&&(K+=" ... "),"<Buffer "+K+">"},f.prototype.compare=function(K,se,X,ce,Je){if(It(K,Uint8Array)&&(K=f.from(K,K.offset,K.byteLength)),!f.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof K);if(void 0===se&&(se=0),void 0===X&&(X=K?K.length:0),void 0===ce&&(ce=0),void 0===Je&&(Je=this.length),0>se||X>K.length||0>ce||Je>this.length)throw new RangeError("out of range index");if(ce>=Je&&se>=X)return 0;if(ce>=Je)return-1;if(se>=X)return 1;if(this===K)return 0;for(var ie=(Je>>>=0)-(ce>>>=0),pe=(X>>>=0)-(se>>>=0),Ye=Y(ie,pe),at=this.slice(ce,Je),dt=K.slice(se,X),Gt=0;Gt<Ye;++Gt)if(at[Gt]!==dt[Gt]){ie=at[Gt],pe=dt[Gt];break}return ie<pe?-1:pe<ie?1:0},f.prototype.includes=function(K,se,X){return-1!==this.indexOf(K,se,X)},f.prototype.indexOf=function(K,se,X){return w(this,K,se,X,!0)},f.prototype.lastIndexOf=function(K,se,X){return w(this,K,se,X,!1)},f.prototype.write=function(K,se,X,ce){if(void 0===se)ce="utf8",X=this.length,se=0;else if(void 0===X&&"string"==typeof se)ce=se,X=this.length,se=0;else{if(!isFinite(se))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");se>>>=0,isFinite(X)?(X>>>=0,void 0===ce&&(ce="utf8")):(ce=X,X=void 0)}var Je=this.length-se;if((void 0===X||X>Je)&&(X=Je),0<K.length&&(0>X||0>se)||se>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");for(var ie=!1;;)switch(ce){case"hex":return I(this,K,se,X);case"utf8":case"utf-8":return S(this,K,se,X);case"ascii":return R(this,K,se,X);case"latin1":case"binary":return N(this,K,se,X);case"base64":return q(this,K,se,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,K,se,X);default:if(ie)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),ie=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},f.prototype.slice=function(K,se){var X=this.length;0>(K=~~K)?0>(K+=X)&&(K=0):K>X&&(K=X),0>(se=void 0===se?X:~~se)?0>(se+=X)&&(se=0):se>X&&(se=X),se<K&&(se=K);var ce=this.subarray(K,se);return ce.__proto__=f.prototype,ce},f.prototype.readUIntLE=function(K,se,X){K>>>=0,se>>>=0,X||C(K,se,this.length);for(var ce=this[K],Je=1,ie=0;++ie<se&&(Je*=256);)ce+=this[K+ie]*Je;return ce},f.prototype.readUIntBE=function(K,se,X){K>>>=0,se>>>=0,X||C(K,se,this.length);for(var ce=this[K+--se],Je=1;0<se&&(Je*=256);)ce+=this[K+--se]*Je;return ce},f.prototype.readUInt8=function(K,se){return K>>>=0,se||C(K,1,this.length),this[K]},f.prototype.readUInt16LE=function(K,se){return K>>>=0,se||C(K,2,this.length),this[K]|this[K+1]<<8},f.prototype.readUInt16BE=function(K,se){return K>>>=0,se||C(K,2,this.length),this[K]<<8|this[K+1]},f.prototype.readUInt32LE=function(K,se){return K>>>=0,se||C(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+16777216*this[K+3]},f.prototype.readUInt32BE=function(K,se){return K>>>=0,se||C(K,4,this.length),16777216*this[K]+(this[K+1]<<16|this[K+2]<<8|this[K+3])},f.prototype.readIntLE=function(K,se,X){K>>>=0,se>>>=0,X||C(K,se,this.length);for(var ce=this[K],Je=1,ie=0;++ie<se&&(Je*=256);)ce+=this[K+ie]*Je;return ce>=(Je*=128)&&(ce-=j(2,8*se)),ce},f.prototype.readIntBE=function(K,se,X){K>>>=0,se>>>=0,X||C(K,se,this.length);for(var ce=se,Je=1,ie=this[K+--ce];0<ce&&(Je*=256);)ie+=this[K+--ce]*Je;return ie>=(Je*=128)&&(ie-=j(2,8*se)),ie},f.prototype.readInt8=function(K,se){return K>>>=0,se||C(K,1,this.length),128&this[K]?-1*(255-this[K]+1):this[K]},f.prototype.readInt16LE=function(K,se){K>>>=0,se||C(K,2,this.length);var X=this[K]|this[K+1]<<8;return 32768&X?4294901760|X:X},f.prototype.readInt16BE=function(K,se){K>>>=0,se||C(K,2,this.length);var X=this[K+1]|this[K]<<8;return 32768&X?4294901760|X:X},f.prototype.readInt32LE=function(K,se){return K>>>=0,se||C(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},f.prototype.readInt32BE=function(K,se){return K>>>=0,se||C(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},f.prototype.readFloatLE=function(K,se){return K>>>=0,se||C(K,4,this.length),mt.read(this,K,!0,23,4)},f.prototype.readFloatBE=function(K,se){return K>>>=0,se||C(K,4,this.length),mt.read(this,K,!1,23,4)},f.prototype.readDoubleLE=function(K,se){return K>>>=0,se||C(K,8,this.length),mt.read(this,K,!0,52,8)},f.prototype.readDoubleBE=function(K,se){return K>>>=0,se||C(K,8,this.length),mt.read(this,K,!1,52,8)},f.prototype.writeUIntLE=function(K,se,X,ce){K=+K,se>>>=0,X>>>=0,ce||M(this,K,se,X,j(2,8*X)-1,0);var ie=1,pe=0;for(this[se]=255&K;++pe<X&&(ie*=256);)this[se+pe]=255&K/ie;return se+X},f.prototype.writeUIntBE=function(K,se,X,ce){K=+K,se>>>=0,X>>>=0,ce||M(this,K,se,X,j(2,8*X)-1,0);var ie=X-1,pe=1;for(this[se+ie]=255&K;0<=--ie&&(pe*=256);)this[se+ie]=255&K/pe;return se+X},f.prototype.writeUInt8=function(K,se,X){return K=+K,se>>>=0,X||M(this,K,se,1,255,0),this[se]=255&K,se+1},f.prototype.writeUInt16LE=function(K,se,X){return K=+K,se>>>=0,X||M(this,K,se,2,65535,0),this[se]=255&K,this[se+1]=K>>>8,se+2},f.prototype.writeUInt16BE=function(K,se,X){return K=+K,se>>>=0,X||M(this,K,se,2,65535,0),this[se]=K>>>8,this[se+1]=255&K,se+2},f.prototype.writeUInt32LE=function(K,se,X){return K=+K,se>>>=0,X||M(this,K,se,4,4294967295,0),this[se+3]=K>>>24,this[se+2]=K>>>16,this[se+1]=K>>>8,this[se]=255&K,se+4},f.prototype.writeUInt32BE=function(K,se,X){return K=+K,se>>>=0,X||M(this,K,se,4,4294967295,0),this[se]=K>>>24,this[se+1]=K>>>16,this[se+2]=K>>>8,this[se+3]=255&K,se+4},f.prototype.writeIntLE=function(K,se,X,ce){if(K=+K,se>>>=0,!ce){var Je=j(2,8*X-1);M(this,K,se,X,Je-1,-Je)}var ie=0,pe=1,Ye=0;for(this[se]=255&K;++ie<X&&(pe*=256);)0>K&&0===Ye&&0!==this[se+ie-1]&&(Ye=1),this[se+ie]=255&(K/pe>>0)-Ye;return se+X},f.prototype.writeIntBE=function(K,se,X,ce){if(K=+K,se>>>=0,!ce){var Je=j(2,8*X-1);M(this,K,se,X,Je-1,-Je)}var ie=X-1,pe=1,Ye=0;for(this[se+ie]=255&K;0<=--ie&&(pe*=256);)0>K&&0===Ye&&0!==this[se+ie+1]&&(Ye=1),this[se+ie]=255&(K/pe>>0)-Ye;return se+X},f.prototype.writeInt8=function(K,se,X){return K=+K,se>>>=0,X||M(this,K,se,1,127,-128),0>K&&(K=255+K+1),this[se]=255&K,se+1},f.prototype.writeInt16LE=function(K,se,X){return K=+K,se>>>=0,X||M(this,K,se,2,32767,-32768),this[se]=255&K,this[se+1]=K>>>8,se+2},f.prototype.writeInt16BE=function(K,se,X){return K=+K,se>>>=0,X||M(this,K,se,2,32767,-32768),this[se]=K>>>8,this[se+1]=255&K,se+2},f.prototype.writeInt32LE=function(K,se,X){return K=+K,se>>>=0,X||M(this,K,se,4,2147483647,-2147483648),this[se]=255&K,this[se+1]=K>>>8,this[se+2]=K>>>16,this[se+3]=K>>>24,se+4},f.prototype.writeInt32BE=function(K,se,X){return K=+K,se>>>=0,X||M(this,K,se,4,2147483647,-2147483648),0>K&&(K=4294967295+K+1),this[se]=K>>>24,this[se+1]=K>>>16,this[se+2]=K>>>8,this[se+3]=255&K,se+4},f.prototype.writeFloatLE=function(K,se,X){return ee(this,K,se,!0,X)},f.prototype.writeFloatBE=function(K,se,X){return ee(this,K,se,!1,X)},f.prototype.writeDoubleLE=function(K,se,X){return J(this,K,se,!0,X)},f.prototype.writeDoubleBE=function(K,se,X){return J(this,K,se,!1,X)},f.prototype.copy=function(K,se,X,ce){if(!f.isBuffer(K))throw new TypeError("argument should be a Buffer");if(X||(X=0),ce||0===ce||(ce=this.length),se>=K.length&&(se=K.length),se||(se=0),0<ce&&ce<X&&(ce=X),ce===X||0===K.length||0===this.length)return 0;if(0>se)throw new RangeError("targetStart out of bounds");if(0>X||X>=this.length)throw new RangeError("Index out of range");if(0>ce)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),K.length-se<ce-X&&(ce=K.length-se+X);var Je=ce-X;if(this===K&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(se,X,ce);else if(this===K&&X<se&&se<ce)for(var ie=Je-1;0<=ie;--ie)K[ie+se]=this[ie+X];else Uint8Array.prototype.set.call(K,this.subarray(X,ce),se);return Je},f.prototype.fill=function(K,se,X,ce){if("string"==typeof K){if("string"==typeof se?(ce=se,se=0,X=this.length):"string"==typeof X&&(ce=X,X=this.length),void 0!==ce&&"string"!=typeof ce)throw new TypeError("encoding must be a string");if("string"==typeof ce&&!f.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(1===K.length){var Je=K.charCodeAt(0);("utf8"===ce&&128>Je||"latin1"===ce)&&(K=Je)}}else"number"==typeof K&&(K&=255);if(0>se||this.length<se||this.length<X)throw new RangeError("Out of range index");if(X<=se)return this;var ie;if(se>>>=0,X=void 0===X?this.length:X>>>0,K||(K=0),"number"==typeof K)for(ie=se;ie<X;++ie)this[ie]=K;else{var pe=f.isBuffer(K)?K:f.from(K,ce),Ye=pe.length;if(0===Ye)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for(ie=0;ie<X-se;++ie)this[ie+se]=pe[ie%Ye]}return this};var St=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,m("buffer").Buffer)},{"base64-js":23,buffer:69,ieee754:157}],70:[function(m,B){"use strict";function g(){g.init.call(this)}function f(R){if("function"!=typeof R)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}function x(R){return void 0===R._maxListeners?g.defaultMaxListeners:R._maxListeners}function n(R,N,q,Z){var le,we,ke;if(f(q),void 0===(we=R._events)?(we=R._events=Object.create(null),R._eventsCount=0):(void 0!==we.newListener&&(R.emit("newListener",N,q.listener?q.listener:q),we=R._events),ke=we[N]),void 0===ke)ke=we[N]=q,++R._eventsCount;else if("function"==typeof ke?ke=we[N]=Z?[q,ke]:[ke,q]:Z?ke.unshift(q):ke.push(q),0<(le=x(R))&&ke.length>le&&!ke.warned){ke.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+ke.length+" "+N+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=R,A.type=N,A.count=ke.length,function i(R){console&&console.warn&&console.warn(R)}(A)}return R}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(R,N,q){var Z={fired:!1,wrapFn:void 0,target:R,type:N,listener:q},le=c.bind(Z);return le.listener=q,Z.wrapFn=le,le}function s(R,N,q){var Z=R._events;if(void 0===Z)return[];var le=Z[N];return void 0===le?[]:"function"==typeof le?q?[le.listener||le]:[le]:q?function d(R){for(var N=Array(R.length),q=0;q<N.length;++q)N[q]=R[q].listener||R[q];return N}(le):o(le,le.length)}function t(R){var N=this._events;if(void 0!==N){var q=N[R];if("function"==typeof q)return 1;if(void 0!==q)return q.length}return 0}function o(R,N){for(var q=Array(N),Z=0;Z<N;++Z)q[Z]=R[Z];return q}function l(R,N,q,Z){if("function"==typeof R.on)Z.once?R.once(N,q):R.on(N,q);else{if("function"!=typeof R.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R);R.addEventListener(N,function le(we){Z.once&&R.removeEventListener(N,le),q(we)})}}var b,p="object"==typeof Reflect?Reflect:null,w=p&&"function"==typeof p.apply?p.apply:function(R,N,q){return Function.prototype.apply.call(R,N,q)};b=p&&"function"==typeof p.ownKeys?p.ownKeys:Object.getOwnPropertySymbols?function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:function(R){return Object.getOwnPropertyNames(R)};var I=Number.isNaN||function(R){return R!=R};B.exports=g,B.exports.once=function(R,N){return new Promise(function(q,Z){function le(ke){R.removeListener(N,we),Z(ke)}function we(){"function"==typeof R.removeListener&&R.removeListener("error",le),q([].slice.call(arguments))}l(R,N,we,{once:!0}),"error"!==N&&function h(R,N,q){"function"==typeof R.on&&l(R,"error",N,q)}(R,le,{once:!0})})},g.EventEmitter=g,g.prototype._events=void 0,g.prototype._eventsCount=0,g.prototype._maxListeners=void 0;var S=10;Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(R){if("number"!=typeof R||0>R||I(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");S=R}}),g.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},g.prototype.setMaxListeners=function(R){if("number"!=typeof R||0>R||I(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this},g.prototype.getMaxListeners=function(){return x(this)},g.prototype.emit=function(R){for(var N=[],q=1;q<arguments.length;q++)N.push(arguments[q]);var Z="error"===R,le=this._events;if(void 0!==le)Z=Z&&void 0===le.error;else if(!Z)return!1;if(Z){var we;if(0<N.length&&(we=N[0]),we instanceof Error)throw we;var ke=new Error("Unhandled error."+(we?" ("+we.message+")":""));throw ke.context=we,ke}var A=le[R];if(void 0===A)return!1;if("function"==typeof A)w(A,this,N);else{var L=A.length,z=o(A,L);for(q=0;q<L;++q)w(z[q],this,N)}return!0},g.prototype.on=g.prototype.addListener=function(R,N){return n(this,R,N,!1)},g.prototype.prependListener=function(R,N){return n(this,R,N,!0)},g.prototype.once=function(R,N){return f(N),this.on(R,u(this,R,N)),this},g.prototype.prependOnceListener=function(R,N){return f(N),this.prependListener(R,u(this,R,N)),this},g.prototype.off=g.prototype.removeListener=function(R,N){var q,Z,le,we,ke;if(f(N),void 0===(Z=this._events))return this;if(void 0===(q=Z[R]))return this;if(q===N||q.listener===N)0==--this._eventsCount?this._events=Object.create(null):(delete Z[R],Z.removeListener&&this.emit("removeListener",R,q.listener||N));else if("function"!=typeof q){for(le=-1,we=q.length-1;0<=we;we--)if(q[we]===N||q[we].listener===N){ke=q[we].listener,le=we;break}if(0>le)return this;0===le?q.shift():function r(R,N){for(;N+1<R.length;N++)R[N]=R[N+1];R.pop()}(q,le),1===q.length&&(Z[R]=q[0]),void 0!==Z.removeListener&&this.emit("removeListener",R,ke||N)}return this},g.prototype.removeAllListeners=function(R){var N,q,Z;if(void 0===(q=this._events))return this;if(void 0===q.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==q[R]&&(0==--this._eventsCount?this._events=Object.create(null):delete q[R]),this;if(0===arguments.length){var we,le=Object.keys(q);for(Z=0;Z<le.length;++Z)"removeListener"!==(we=le[Z])&&this.removeAllListeners(we);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(N=q[R]))this.removeListener(R,N);else if(void 0!==N)for(Z=N.length-1;0<=Z;Z--)this.removeListener(R,N[Z]);return this},g.prototype.listeners=function(R){return s(this,R,!0)},g.prototype.rawListeners=function(R){return s(this,R,!1)},g.listenerCount=function(R,N){return"function"==typeof R.listenerCount?R.listenerCount(N):t.call(R,N)},g.prototype.listenerCount=t,g.prototype.eventNames=function(){return 0<this._eventsCount?b(this._events):[]}},{}],71:[function(m,B){(function(i){(function(){"use strict";function g(c){if("string"!=typeof c)throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function f(c,u){for(var h,s="",t=0,o=-1,r=0,d=0;d<=c.length;++d){if(d<c.length)h=c.charCodeAt(d);else{if(47===h)break;h=47}if(47===h){if(o!==d-1&&1!==r)if(o!==d-1&&2===r){if(2>s.length||2!==t||46!==s.charCodeAt(s.length-1)||46!==s.charCodeAt(s.length-2))if(2<s.length){var l=s.lastIndexOf("/");if(l!==s.length-1){-1===l?(s="",t=0):t=(s=s.slice(0,l)).length-1-s.lastIndexOf("/"),o=d,r=0;continue}}else if(2===s.length||1===s.length){s="",t=0,o=d,r=0;continue}u&&(0<s.length?s+="/..":s="..",t=2)}else 0<s.length?s+="/"+c.slice(o+1,d):s=c.slice(o+1,d),t=d-o-1;o=d,r=0}else 46===h&&-1!==r?++r:r=-1}return s}var n={resolve:function(){for(var t,c="",u=!1,s=arguments.length-1;-1<=s&&!u;s--){var o;0<=s?o=arguments[s]:(void 0===t&&(t=i.cwd()),o=t),g(o),0!==o.length&&(c=o+"/"+c,u=47===o.charCodeAt(0))}return c=f(c,!u),u?0<c.length?"/"+c:"/":0<c.length?c:"."},normalize:function(c){if(g(c),0===c.length)return".";var u=47===c.charCodeAt(0),s=47===c.charCodeAt(c.length-1);return 0!==(c=f(c,!u)).length||u||(c="."),0<c.length&&s&&(c+="/"),u?"/"+c:c},isAbsolute:function(c){return g(c),0<c.length&&47===c.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var u,s,c=0;c<arguments.length;++c)g(s=arguments[c]),0<s.length&&(void 0===u?u=s:u+="/"+s);return void 0===u?".":n.normalize(u)},relative:function(c,u){if(g(c),g(u),c===u||(c=n.resolve(c))===(u=n.resolve(u)))return"";for(var s=1;s<c.length&&47===c.charCodeAt(s);++s);for(var t=c.length,o=t-s,r=1;r<u.length&&47===u.charCodeAt(r);++r);for(var h=u.length-r,l=o<h?o:h,p=-1,w=0;w<=l;++w){if(w===l){if(h>l){if(47===u.charCodeAt(r+w))return u.slice(r+w+1);if(0===w)return u.slice(r+w)}else o>l&&(47===c.charCodeAt(s+w)?p=w:0===w&&(p=0));break}var b=c.charCodeAt(s+w);if(b!==u.charCodeAt(r+w))break;47===b&&(p=w)}var S="";for(w=s+p+1;w<=t;++w)(w===t||47===c.charCodeAt(w))&&(S+=0===S.length?"..":"/..");return 0<S.length?S+u.slice(r+p):(47===u.charCodeAt(r+=p)&&++r,u.slice(r))},_makeLong:function(c){return c},dirname:function(c){if(g(c),0===c.length)return".";for(var u=c.charCodeAt(0),s=47===u,t=-1,o=!0,r=c.length-1;1<=r;--r)if(47!==(u=c.charCodeAt(r)))o=!1;else if(!o){t=r;break}return-1===t?s?"/":".":s&&1===t?"//":c.slice(0,t)},basename:function(c,u){if(void 0!==u&&"string"!=typeof u)throw new TypeError('"ext" argument must be a string');g(c);var r,s=0,t=-1,o=!0;if(void 0!==u&&0<u.length&&u.length<=c.length){if(u.length===c.length&&u===c)return"";var d=u.length-1,h=-1;for(r=c.length-1;0<=r;--r){var l=c.charCodeAt(r);if(47!==l)-1===h&&(o=!1,h=r+1),0<=d&&(l===u.charCodeAt(d)?-1==--d&&(t=r):(d=-1,t=h));else if(!o){s=r+1;break}}return s===t?t=h:-1===t&&(t=c.length),c.slice(s,t)}for(r=c.length-1;0<=r;--r)if(47!==c.charCodeAt(r))-1===t&&(o=!1,t=r+1);else if(!o){s=r+1;break}return-1===t?"":c.slice(s,t)},extname:function(c){g(c);for(var h,u=-1,s=0,t=-1,o=!0,r=0,d=c.length-1;0<=d;--d)if(47!==(h=c.charCodeAt(d)))-1===t&&(o=!1,t=d+1),46===h?-1===u?u=d:1!==r&&(r=1):-1!==u&&(r=-1);else if(!o){s=d+1;break}return-1===u||-1===t||0===r||1===r&&u===t-1&&u===s+1?"":c.slice(u,t)},format:function(c){if(null===c||"object"!=typeof c)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function x(c,u){var s=u.dir||u.root,t=u.base||(u.name||"")+(u.ext||"");return s?s===u.root?s+t:s+c+t:t}("/",c)},parse:function(c){g(c);var u={root:"",dir:"",base:"",ext:"",name:""};if(0===c.length)return u;var o,s=c.charCodeAt(0),t=47===s;t?(u.root="/",o=1):o=0;for(var r=-1,d=0,h=-1,l=!0,p=c.length-1,w=0;p>=o;--p)if(47!==(s=c.charCodeAt(p)))-1===h&&(l=!1,h=p+1),46===s?-1===r?r=p:1!==w&&(w=1):-1!==r&&(w=-1);else if(!l){d=p+1;break}return-1===r||-1===h||0===w||1===w&&r===h-1&&r===d+1?-1!==h&&(u.base=u.name=c.slice(0===d&&t?1:d,h)):(0===d&&t?(u.name=c.slice(1,r),u.base=c.slice(1,h)):(u.name=c.slice(d,r),u.base=c.slice(d,h)),u.ext=c.slice(r,h)),0<d?u.dir=c.slice(0,d-1):t&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,B.exports=n}).call(this)}).call(this,m("_process"))},{_process:205}],72:[function(m,B){function i(){g.call(this)}B.exports=i;var g=m("events").EventEmitter;m("inherits")(i,g),i.Readable=m("readable-stream/lib/_stream_readable.js"),i.Writable=m("readable-stream/lib/_stream_writable.js"),i.Duplex=m("readable-stream/lib/_stream_duplex.js"),i.Transform=m("readable-stream/lib/_stream_transform.js"),i.PassThrough=m("readable-stream/lib/_stream_passthrough.js"),i.finished=m("readable-stream/lib/internal/streams/end-of-stream.js"),i.pipeline=m("readable-stream/lib/internal/streams/pipeline.js"),i.Stream=i,i.prototype.pipe=function(x,n){function c(l){x.writable&&!1===x.write(l)&&d.pause&&d.pause()}function u(){d.readable&&d.resume&&d.resume()}function s(){h||(h=!0,x.end())}function t(){h||(h=!0,"function"==typeof x.destroy&&x.destroy())}function o(l){if(r(),0===g.listenerCount(this,"error"))throw l}function r(){d.removeListener("data",c),x.removeListener("drain",u),d.removeListener("end",s),d.removeListener("close",t),d.removeListener("error",o),x.removeListener("error",o),d.removeListener("end",r),d.removeListener("close",r),x.removeListener("close",r)}var d=this;d.on("data",c),x.on("drain",u),x._isStdio||n&&!1===n.end||(d.on("end",s),d.on("close",t));var h=!1;return d.on("error",o),x.on("error",o),d.on("end",r),d.on("close",r),x.on("close",r),x.emit("pipe",d),x}},{events:70,inherits:159,"readable-stream/lib/_stream_duplex.js":74,"readable-stream/lib/_stream_passthrough.js":75,"readable-stream/lib/_stream_readable.js":76,"readable-stream/lib/_stream_transform.js":77,"readable-stream/lib/_stream_writable.js":78,"readable-stream/lib/internal/streams/end-of-stream.js":82,"readable-stream/lib/internal/streams/pipeline.js":84}],73:[function(m,B){"use strict";function g(s,t,o){o||(o=Error);var d=function(h){function l(p,w,b){return h.call(this,function r(h,l,p){return"string"==typeof t?t:t(h,l,p)}(p,w,b))||this}return function i(s,t){s.prototype=Object.create(t.prototype),s.prototype.constructor=s,s.__proto__=t}(l,h),l}(o);d.prototype.name=o.name,d.prototype.code=s,u[s]=d}function f(s,t){if(Array.isArray(s)){var o=s.length;return s=s.map(function(r){return r+""}),2<o?"one of ".concat(t," ").concat(s.slice(0,o-1).join(", "),", or ")+s[o-1]:2===o?"one of ".concat(t," ").concat(s[0]," or ").concat(s[1]):"of ".concat(t," ").concat(s[0])}return"of ".concat(t," ").concat(s+"")}var u={};g("ERR_INVALID_OPT_VALUE",function(s,t){return'The value "'+t+'" is invalid for option "'+s+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(s,t,o){var r,d;if("string"==typeof t&&function x(s,t,o){return s.substr(!o||0>o?0:+o,t.length)===t}(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be",function n(s,t,o){return(void 0===o||o>s.length)&&(o=s.length),s.substring(o-t.length,o)===t}(s," argument"))d="The ".concat(s," ").concat(r," ").concat(f(t,"type"));else{var h=function c(s,t,o){return"number"!=typeof o&&(o=0),!(o+t.length>s.length)&&-1!==s.indexOf(t,o)}(s,".")?"property":"argument";d='The "'.concat(s,'" ').concat(h," ").concat(r," ").concat(f(t,"type"))}return d+". Received type ".concat(typeof o)},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(s){return"The "+s+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(s){return"Cannot call "+s+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(s){return"Unknown encoding: "+s},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),B.exports.codes=u},{}],74:[function(m,B){(function(i){(function(){"use strict";function g(r){return this instanceof g?(c.call(this,r),u.call(this,r),this.allowHalfOpen=!0,void(r&&(!1===r.readable&&(this.readable=!1),!1===r.writable&&(this.writable=!1),!1===r.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f))))):new g(r)}function f(){this._writableState.ended||i.nextTick(x,this)}function x(r){r.end()}var n=Object.keys||function(r){var d=[];for(var h in r)d.push(h);return d};B.exports=g;var c=m("./_stream_readable"),u=m("./_stream_writable");m("inherits")(g,c);for(var o,s=n(u.prototype),t=0;t<s.length;t++)g.prototype[o=s[t]]||(g.prototype[o]=u.prototype[o]);Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(r){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=r,this._writableState.destroyed=r)}})}).call(this)}).call(this,m("_process"))},{"./_stream_readable":76,"./_stream_writable":78,_process:205,inherits:159}],75:[function(m,B){"use strict";function i(f){return this instanceof i?void g.call(this,f):new i(f)}B.exports=i;var g=m("./_stream_transform");m("inherits")(i,g),i.prototype._transform=function(f,x,n){n(null,f)}},{"./_stream_transform":77,inherits:159}],76:[function(m,B){(function(i,g){(function(){"use strict";function c(X,ce,Je){L=L||m("./_stream_duplex"),"boolean"!=typeof Je&&(Je=ce instanceof L),this.objectMode=!!(X=X||{}).objectMode,Je&&(this.objectMode=this.objectMode||!!X.readableObjectMode),this.highWaterMark=Qe(this,X,"readableHighWaterMark",Je),this.buffer=new re,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==X.emitClose,this.autoDestroy=!!X.autoDestroy,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(!Ke&&(Ke=m("string_decoder/").StringDecoder),this.decoder=new Ke(X.encoding),this.encoding=X.encoding)}function u(X){if(L=L||m("./_stream_duplex"),!(this instanceof u))return new u(X);this._readableState=new c(X,this,this instanceof L),this.readable=!0,X&&("function"==typeof X.read&&(this._read=X.read),"function"==typeof X.destroy&&(this._destroy=X.destroy)),C.call(this)}function s(X,ce,Je,ie,pe){J("readableAddChunk",ce);var at,Ye=X._readableState;if(null===ce)Ye.reading=!1,function h(X,ce){if(J("onEofChunk"),!ce.ended){if(ce.decoder){var Je=ce.decoder.end();Je&&Je.length&&(ce.buffer.push(Je),ce.length+=ce.objectMode?1:Je.length)}ce.ended=!0,ce.sync?l(X):(ce.needReadable=!1,!ce.emittedReadable&&(ce.emittedReadable=!0,p(X)))}}(X,Ye);else if(pe||(at=function o(X,ce){var Je;return function x(X){return M.isBuffer(X)||X instanceof U}(ce)||"string"==typeof ce||void 0===ce||X.objectMode||(Je=new pt("chunk",["string","Buffer","Uint8Array"],ce)),Je}(Ye,ce)),at)K(X,at);else if(Ye.objectMode||ce&&0<ce.length)if("string"==typeof ce||Ye.objectMode||Object.getPrototypeOf(ce)===M.prototype||(ce=function f(X){return M.from(X)}(ce)),ie)Ye.endEmitted?K(X,new Ft):t(X,Ye,ce,!0);else if(Ye.ended)K(X,new Xt);else{if(Ye.destroyed)return!1;Ye.reading=!1,Ye.decoder&&!Je?(ce=Ye.decoder.write(ce),Ye.objectMode||0!==ce.length?t(X,Ye,ce,!1):w(X,Ye)):t(X,Ye,ce,!1)}else ie||(Ye.reading=!1,w(X,Ye));return!Ye.ended&&(Ye.length<Ye.highWaterMark||0===Ye.length)}function t(X,ce,Je,ie){ce.flowing&&0===ce.length&&!ce.sync?(ce.awaitDrain=0,X.emit("data",Je)):(ce.length+=ce.objectMode?1:Je.length,ie?ce.buffer.unshift(Je):ce.buffer.push(Je),ce.needReadable&&l(X)),w(X,ce)}function d(X,ce){return 0>=X||0===ce.length&&ce.ended?0:ce.objectMode?1:X==X?(X>ce.highWaterMark&&(ce.highWaterMark=function r(X){return 1073741824<=X?X=1073741824:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}(X)),X<=ce.length?X:ce.ended?ce.length:(ce.needReadable=!0,0)):ce.flowing&&ce.length?ce.buffer.head.data.length:ce.length}function l(X){var ce=X._readableState;J("emitReadable",ce.needReadable,ce.emittedReadable),ce.needReadable=!1,ce.emittedReadable||(J("emitReadable",ce.flowing),ce.emittedReadable=!0,i.nextTick(p,X))}function p(X){var ce=X._readableState;J("emitReadable_",ce.destroyed,ce.length,ce.ended),!ce.destroyed&&(ce.length||ce.ended)&&(X.emit("readable"),ce.emittedReadable=!1),ce.needReadable=!ce.flowing&&!ce.ended&&ce.length<=ce.highWaterMark,Z(X)}function w(X,ce){ce.readingMore||(ce.readingMore=!0,i.nextTick(b,X,ce))}function b(X,ce){for(;!ce.reading&&!ce.ended&&(ce.length<ce.highWaterMark||ce.flowing&&0===ce.length);){var Je=ce.length;if(J("maybeReadMore read 0"),X.read(0),Je===ce.length)break}ce.readingMore=!1}function S(X){var ce=X._readableState;ce.readableListening=0<X.listenerCount("readable"),ce.resumeScheduled&&!ce.paused?ce.flowing=!0:0<X.listenerCount("data")&&X.resume()}function R(X){J("readable nexttick read 0"),X.read(0)}function q(X,ce){J("resume",ce.reading),ce.reading||X.read(0),ce.resumeScheduled=!1,X.emit("resume"),Z(X),ce.flowing&&!ce.reading&&X.read(0)}function Z(X){var ce=X._readableState;for(J("flow",ce.flowing);ce.flowing&&null!==X.read(););}function le(X,ce){return 0===ce.length?null:(ce.objectMode?Je=ce.buffer.shift():!X||X>=ce.length?(Je=ce.decoder?ce.buffer.join(""):1===ce.buffer.length?ce.buffer.first():ce.buffer.concat(ce.length),ce.buffer.clear()):Je=ce.buffer.consume(X,ce.decoder),Je);var Je}function we(X){var ce=X._readableState;J("endReadable",ce.endEmitted),ce.endEmitted||(ce.ended=!0,i.nextTick(ke,ce,X))}function ke(X,ce){if(J("endReadableNT",X.endEmitted,X.length),!X.endEmitted&&0===X.length&&(X.endEmitted=!0,ce.readable=!1,ce.emit("end"),X.autoDestroy)){var Je=ce._writableState;(!Je||Je.autoDestroy&&Je.finished)&&ce.destroy()}}function A(X,ce){for(var Je=0,ie=X.length;Je<ie;Je++)if(X[Je]===ce)return Je;return-1}var L;B.exports=u,u.ReadableState=c,m("events");var J,y=function(X,ce){return X.listeners(ce).length},C=m("./internal/streams/stream"),M=m("buffer").Buffer,U=g.Uint8Array||function(){},ee=m("util");J=ee&&ee.debuglog?ee.debuglog("stream"):function(){};var Ke,mt,St,re=m("./internal/streams/buffer_list"),Ue=m("./internal/streams/destroy"),Qe=m("./internal/streams/state").getHighWaterMark,ft=m("../errors").codes,pt=ft.ERR_INVALID_ARG_TYPE,Xt=ft.ERR_STREAM_PUSH_AFTER_EOF,It=ft.ERR_METHOD_NOT_IMPLEMENTED,Ft=ft.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;m("inherits")(u,C);var K=Ue.errorOrDestroy,se=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(X){this._readableState&&(this._readableState.destroyed=X)}}),u.prototype.destroy=Ue.destroy,u.prototype._undestroy=Ue.undestroy,u.prototype._destroy=function(X,ce){ce(X)},u.prototype.push=function(X,ce){var ie,Je=this._readableState;return Je.objectMode?ie=!0:"string"==typeof X&&((ce=ce||Je.defaultEncoding)!==Je.encoding&&(X=M.from(X,ce),ce=""),ie=!0),s(this,X,ce,!1,ie)},u.prototype.unshift=function(X){return s(this,X,null,!0,!1)},u.prototype.isPaused=function(){return!1===this._readableState.flowing},u.prototype.setEncoding=function(X){Ke||(Ke=m("string_decoder/").StringDecoder);var ce=new Ke(X);this._readableState.decoder=ce,this._readableState.encoding=this._readableState.decoder.encoding;for(var Je=this._readableState.buffer.head,ie="";null!==Je;)ie+=ce.write(Je.data),Je=Je.next;return this._readableState.buffer.clear(),""!==ie&&this._readableState.buffer.push(ie),this._readableState.length=ie.length,this},u.prototype.read=function(X){J("read",X),X=parseInt(X,10);var ce=this._readableState,Je=X;if(0!==X&&(ce.emittedReadable=!1),0===X&&ce.needReadable&&((0===ce.highWaterMark?0<ce.length:ce.length>=ce.highWaterMark)||ce.ended))return J("read: emitReadable",ce.length,ce.ended),0===ce.length&&ce.ended?we(this):l(this),null;if(0===(X=d(X,ce))&&ce.ended)return 0===ce.length&&we(this),null;var pe,ie=ce.needReadable;return J("need readable",ie),(0===ce.length||ce.length-X<ce.highWaterMark)&&J("length less than watermark",ie=!0),ce.ended||ce.reading?J("reading or ended",ie=!1):ie&&(J("do read"),ce.reading=!0,ce.sync=!0,0===ce.length&&(ce.needReadable=!0),this._read(ce.highWaterMark),ce.sync=!1,!ce.reading&&(X=d(Je,ce))),null===(pe=0<X?le(X,ce):null)?(ce.needReadable=ce.length<=ce.highWaterMark,X=0):(ce.length-=X,ce.awaitDrain=0),0===ce.length&&(!ce.ended&&(ce.needReadable=!0),Je!==X&&ce.ended&&we(this)),null!==pe&&this.emit("data",pe),pe},u.prototype._read=function(){K(this,new It("_read()"))},u.prototype.pipe=function(X,ce){function ie(){J("onend"),X.end()}function Ye(Pn){J("ondata");var mr=X.write(Pn);J("dest.write",mr),!1===mr&&((1===Cn.pipesCount&&Cn.pipes===X||1<Cn.pipesCount&&-1!==A(Cn.pipes,X))&&!An&&(J("false write response, pause",Cn.awaitDrain),Cn.awaitDrain++),an.pause())}function at(Pn){J("onerror",Pn),Jt(),X.removeListener("error",at),0===y(X,"error")&&K(X,Pn)}function dt(){X.removeListener("finish",Gt),Jt()}function Gt(){J("onfinish"),X.removeListener("close",dt),Jt()}function Jt(){J("unpipe"),an.unpipe(X)}var an=this,Cn=this._readableState;switch(Cn.pipesCount){case 0:Cn.pipes=X;break;case 1:Cn.pipes=[Cn.pipes,X];break;default:Cn.pipes.push(X)}Cn.pipesCount+=1,J("pipe count=%d opts=%j",Cn.pipesCount,ce);var En=ce&&!1===ce.end||X===i.stdout||X===i.stderr?Jt:ie;Cn.endEmitted?i.nextTick(En):an.once("end",En),X.on("unpipe",function Je(Pn,mr){J("onunpipe"),Pn===an&&mr&&!1===mr.hasUnpiped&&(mr.hasUnpiped=!0,function pe(){J("cleanup"),X.removeListener("close",dt),X.removeListener("finish",Gt),X.removeListener("drain",Xn),X.removeListener("error",at),X.removeListener("unpipe",Je),an.removeListener("end",ie),an.removeListener("end",Jt),an.removeListener("data",Ye),An=!0,Cn.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&Xn()}())});var Xn=function I(X){return function(){var ce=X._readableState;J("pipeOnDrain",ce.awaitDrain),ce.awaitDrain&&ce.awaitDrain--,0===ce.awaitDrain&&y(X,"data")&&(ce.flowing=!0,Z(X))}}(an);X.on("drain",Xn);var An=!1;return an.on("data",Ye),function n(X,ce,Je){"function"==typeof X.prependListener?X.prependListener(ce,Je):X._events&&X._events[ce]?Array.isArray(X._events[ce])?X._events[ce].unshift(Je):X._events[ce]=[Je,X._events[ce]]:X.on(ce,Je)}(X,"error",at),X.once("close",dt),X.once("finish",Gt),X.emit("pipe",an),Cn.flowing||(J("pipe resume"),an.resume()),X},u.prototype.unpipe=function(X){var ce=this._readableState,Je={hasUnpiped:!1};if(0===ce.pipesCount)return this;if(1===ce.pipesCount)return X&&X!==ce.pipes||(X||(X=ce.pipes),ce.pipes=null,ce.pipesCount=0,ce.flowing=!1,X&&X.emit("unpipe",this,Je)),this;if(!X){var ie=ce.pipes,pe=ce.pipesCount;ce.pipes=null,ce.pipesCount=0,ce.flowing=!1;for(var Ye=0;Ye<pe;Ye++)ie[Ye].emit("unpipe",this,{hasUnpiped:!1});return this}var at=A(ce.pipes,X);return-1===at||(ce.pipes.splice(at,1),ce.pipesCount-=1,1===ce.pipesCount&&(ce.pipes=ce.pipes[0]),X.emit("unpipe",this,Je)),this},u.prototype.addListener=u.prototype.on=function(X,ce){var Je=C.prototype.on.call(this,X,ce),ie=this._readableState;return"data"===X?(ie.readableListening=0<this.listenerCount("readable"),!1!==ie.flowing&&this.resume()):"readable"==X&&!ie.endEmitted&&!ie.readableListening&&(ie.readableListening=ie.needReadable=!0,ie.flowing=!1,ie.emittedReadable=!1,J("on readable",ie.length,ie.reading),ie.length?l(this):!ie.reading&&i.nextTick(R,this)),Je},u.prototype.removeListener=function(X,ce){var Je=C.prototype.removeListener.call(this,X,ce);return"readable"===X&&i.nextTick(S,this),Je},u.prototype.removeAllListeners=function(X){var ce=C.prototype.removeAllListeners.apply(this,arguments);return("readable"===X||void 0===X)&&i.nextTick(S,this),ce},u.prototype.resume=function(){var X=this._readableState;return X.flowing||(J("resume"),X.flowing=!X.readableListening,function N(X,ce){ce.resumeScheduled||(ce.resumeScheduled=!0,i.nextTick(q,X,ce))}(this,X)),X.paused=!1,this},u.prototype.pause=function(){return J("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(J("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},u.prototype.wrap=function(X){var ce=this,Je=this._readableState,ie=!1;for(var pe in X.on("end",function(){if(J("wrapped end"),Je.decoder&&!Je.ended){var at=Je.decoder.end();at&&at.length&&ce.push(at)}ce.push(null)}),X.on("data",function(at){J("wrapped data"),Je.decoder&&(at=Je.decoder.write(at)),Je.objectMode&&null==at||!(Je.objectMode||at&&at.length)||ce.push(at)||(ie=!0,X.pause())}),X)void 0===this[pe]&&"function"==typeof X[pe]&&(this[pe]=function(at){return function(){return X[at].apply(X,arguments)}}(pe));for(var Ye=0;Ye<se.length;Ye++)X.on(se[Ye],this.emit.bind(this,se[Ye]));return this._read=function(at){J("wrapped _read",at),ie&&(ie=!1,X.resume())},this},"function"==typeof Symbol&&(u.prototype[Symbol.asyncIterator]=function(){return void 0===mt&&(mt=m("./internal/streams/async_iterator")),mt(this)}),Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(u.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(u.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(X){this._readableState&&(this._readableState.flowing=X)}}),u._fromList=le,Object.defineProperty(u.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(u.from=function(X,ce){return void 0===St&&(St=m("./internal/streams/from")),St(u,X,ce)})}).call(this)}).call(this,m("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../errors":73,"./_stream_duplex":74,"./internal/streams/async_iterator":79,"./internal/streams/buffer_list":80,"./internal/streams/destroy":81,"./internal/streams/from":83,"./internal/streams/state":85,"./internal/streams/stream":86,_process:205,buffer:69,events:70,inherits:159,"string_decoder/":276,util:41}],77:[function(m,B){"use strict";function i(r,d){var h=this._transformState;h.transforming=!1;var l=h.writecb;if(null===l)return this.emit("error",new u);h.writechunk=null,h.writecb=null,null!=d&&this.push(d),l(r);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function g(r){return this instanceof g?(o.call(this,r),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),void this.on("prefinish",f)):new g(r)}function f(){var r=this;"function"!=typeof this._flush||this._readableState.destroyed?x(this,null,null):this._flush(function(d,h){x(r,d,h)})}function x(r,d,h){if(d)return r.emit("error",d);if(null!=h&&r.push(h),r._writableState.length)throw new t;if(r._transformState.transforming)throw new s;return r.push(null)}B.exports=g;var n=m("../errors").codes,c=n.ERR_METHOD_NOT_IMPLEMENTED,u=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,t=n.ERR_TRANSFORM_WITH_LENGTH_0,o=m("./_stream_duplex");m("inherits")(g,o),g.prototype.push=function(r,d){return this._transformState.needTransform=!1,o.prototype.push.call(this,r,d)},g.prototype._transform=function(r,d,h){h(new c("_transform()"))},g.prototype._write=function(r,d,h){var l=this._transformState;if(l.writecb=h,l.writechunk=r,l.writeencoding=d,!l.transforming){var p=this._readableState;(l.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},g.prototype._read=function(){var r=this._transformState;null===r.writechunk||r.transforming?r.needTransform=!0:(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform))},g.prototype._destroy=function(r,d){o.prototype._destroy.call(this,r,function(h){d(h)})}},{"../errors":73,"./_stream_duplex":74,inherits:159}],78:[function(m,B){(function(i,g){(function(){"use strict";function f(Ke){var mt=this;this.next=null,this.entry=null,this.finish=function(){!function we(Ke,mt,St){var K=Ke.entry;for(Ke.entry=null;K;){var se=K.callback;mt.pendingcb--,se(St),K=K.next}mt.corkedRequestsFree.next=Ke}(mt,Ke)}}function c(){}function u(Ke,mt,St){ke=ke||m("./_stream_duplex"),"boolean"!=typeof St&&(St=mt instanceof ke),this.objectMode=!!(Ke=Ke||{}).objectMode,St&&(this.objectMode=this.objectMode||!!Ke.writableObjectMode),this.highWaterMark=U(this,Ke,"writableHighWaterMark",St),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ke.decodeStrings),this.defaultEncoding=Ke.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){!function w(Ke,mt){var St=Ke._writableState,K=St.sync,se=St.writecb;if("function"!=typeof se)throw new Ue;if(function p(Ke){Ke.writing=!1,Ke.writecb=null,Ke.length-=Ke.writelen,Ke.writelen=0}(St),mt)!function l(Ke,mt,St,K,se){--mt.pendingcb,St?(i.nextTick(se,K),i.nextTick(Z,Ke,mt),Ke._writableState.errorEmitted=!0,It(Ke,K)):(se(K),Ke._writableState.errorEmitted=!0,It(Ke,K),Z(Ke,mt))}(Ke,St,K,mt,se);else{var X=R(St)||Ke.destroyed;X||St.corked||St.bufferProcessing||!St.bufferedRequest||S(Ke,St),K?i.nextTick(b,Ke,St,X,se):b(Ke,St,X,se)}}(mt,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Ke.emitClose,this.autoDestroy=!!Ke.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function s(Ke){var mt=this instanceof(ke=ke||m("./_stream_duplex"));return mt||Ft.call(s,this)?(this._writableState=new u(Ke,this,mt),this.writable=!0,Ke&&("function"==typeof Ke.write&&(this._write=Ke.write),"function"==typeof Ke.writev&&(this._writev=Ke.writev),"function"==typeof Ke.destroy&&(this._destroy=Ke.destroy),"function"==typeof Ke.final&&(this._final=Ke.final)),void L.call(this)):new s(Ke)}function h(Ke,mt,St,K,se,X,ce){mt.writelen=K,mt.writecb=ce,mt.writing=!0,mt.sync=!0,mt.destroyed?mt.onwrite(new Qe("write")):St?Ke._writev(se,mt.onwrite):Ke._write(se,X,mt.onwrite),mt.sync=!1}function b(Ke,mt,St,K){St||function I(Ke,mt){0===mt.length&&mt.needDrain&&(mt.needDrain=!1,Ke.emit("drain"))}(Ke,mt),mt.pendingcb--,K(),Z(Ke,mt)}function S(Ke,mt){mt.bufferProcessing=!0;var St=mt.bufferedRequest;if(Ke._writev&&St&&St.next){var se=Array(mt.bufferedRequestCount),X=mt.corkedRequestsFree;X.entry=St;for(var ce=0,Je=!0;St;)se[ce]=St,St.isBuf||(Je=!1),St=St.next,ce+=1;se.allBuffers=Je,h(Ke,mt,!0,mt.length,se,"",X.finish),mt.pendingcb++,mt.lastBufferedRequest=null,X.next?(mt.corkedRequestsFree=X.next,X.next=null):mt.corkedRequestsFree=new f(mt),mt.bufferedRequestCount=0}else{for(;St;){var ie=St.chunk;if(h(Ke,mt,!1,mt.objectMode?1:ie.length,ie,St.encoding,St.callback),St=St.next,mt.bufferedRequestCount--,mt.writing)break}null===St&&(mt.lastBufferedRequest=null)}mt.bufferedRequest=St,mt.bufferProcessing=!1}function R(Ke){return Ke.ending&&0===Ke.length&&null===Ke.bufferedRequest&&!Ke.finished&&!Ke.writing}function N(Ke,mt){Ke._final(function(St){mt.pendingcb--,St&&It(Ke,St),mt.prefinished=!0,Ke.emit("prefinish"),Z(Ke,mt)})}function Z(Ke,mt){var St=R(mt);if(St&&(function q(Ke,mt){mt.prefinished||mt.finalCalled||("function"!=typeof Ke._final||mt.destroyed?(mt.prefinished=!0,Ke.emit("prefinish")):(mt.pendingcb++,mt.finalCalled=!0,i.nextTick(N,Ke,mt)))}(Ke,mt),0===mt.pendingcb&&(mt.finished=!0,Ke.emit("finish"),mt.autoDestroy))){var K=Ke._readableState;(!K||K.autoDestroy&&K.endEmitted)&&Ke.destroy()}return St}var ke;B.exports=s,s.WritableState=u;var Ft,A={deprecate:m("util-deprecate")},L=m("./internal/streams/stream"),z=m("buffer").Buffer,y=g.Uint8Array||function(){},C=m("./internal/streams/destroy"),U=m("./internal/streams/state").getHighWaterMark,ee=m("../errors").codes,J=ee.ERR_INVALID_ARG_TYPE,re=ee.ERR_METHOD_NOT_IMPLEMENTED,Ue=ee.ERR_MULTIPLE_CALLBACK,We=ee.ERR_STREAM_CANNOT_PIPE,Qe=ee.ERR_STREAM_DESTROYED,ft=ee.ERR_STREAM_NULL_VALUES,pt=ee.ERR_STREAM_WRITE_AFTER_END,Xt=ee.ERR_UNKNOWN_ENCODING,It=C.errorOrDestroy;m("inherits")(s,L),u.prototype.getBuffer=function(){for(var Ke=this.bufferedRequest,mt=[];Ke;)mt.push(Ke),Ke=Ke.next;return mt},function(){try{Object.defineProperty(u.prototype,"buffer",{get:A.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Ft=Function.prototype[Symbol.hasInstance],Object.defineProperty(s,Symbol.hasInstance,{value:function(Ke){return!!Ft.call(this,Ke)||this===s&&Ke&&Ke._writableState instanceof u}})):Ft=function(Ke){return Ke instanceof this},s.prototype.pipe=function(){It(this,new We)},s.prototype.write=function(Ke,mt,St){var K=this._writableState,se=!1,X=!K.objectMode&&function n(Ke){return z.isBuffer(Ke)||Ke instanceof y}(Ke);return X&&!z.isBuffer(Ke)&&(Ke=function x(Ke){return z.from(Ke)}(Ke)),"function"==typeof mt&&(St=mt,mt=null),X?mt="buffer":!mt&&(mt=K.defaultEncoding),"function"!=typeof St&&(St=c),K.ending?function t(Ke,mt){var St=new pt;It(Ke,St),i.nextTick(mt,St)}(this,St):(X||function o(Ke,mt,St,K){var se;return null===St?se=new ft:"string"!=typeof St&&!mt.objectMode&&(se=new J("chunk",["string","Buffer"],St)),!se||(It(Ke,se),i.nextTick(K,se),!1)}(this,K,Ke,St))&&(K.pendingcb++,se=function d(Ke,mt,St,K,se,X){if(!St){var ce=function r(Ke,mt,St){return Ke.objectMode||!1===Ke.decodeStrings||"string"!=typeof mt||(mt=z.from(mt,St)),mt}(mt,K,se);K!==ce&&(St=!0,se="buffer",K=ce)}var Je=mt.objectMode?1:K.length;mt.length+=Je;var ie=mt.length<mt.highWaterMark;if(ie||(mt.needDrain=!0),mt.writing||mt.corked){var pe=mt.lastBufferedRequest;mt.lastBufferedRequest={chunk:K,encoding:se,isBuf:St,callback:X,next:null},pe?pe.next=mt.lastBufferedRequest:mt.bufferedRequest=mt.lastBufferedRequest,mt.bufferedRequestCount+=1}else h(Ke,mt,!1,Je,K,se,X);return ie}(this,K,X,Ke,mt,St)),se},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var Ke=this._writableState;Ke.corked&&(Ke.corked--,!Ke.writing&&!Ke.corked&&!Ke.bufferProcessing&&Ke.bufferedRequest&&S(this,Ke))},s.prototype.setDefaultEncoding=function(Ke){if("string"==typeof Ke&&(Ke=Ke.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ke+"").toLowerCase())))throw new Xt(Ke);return this._writableState.defaultEncoding=Ke,this},Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),s.prototype._write=function(Ke,mt,St){St(new re("_write()"))},s.prototype._writev=null,s.prototype.end=function(Ke,mt,St){var K=this._writableState;return"function"==typeof Ke?(St=Ke,Ke=null,mt=null):"function"==typeof mt&&(St=mt,mt=null),null!=Ke&&this.write(Ke,mt),K.corked&&(K.corked=1,this.uncork()),K.ending||function le(Ke,mt,St){mt.ending=!0,Z(Ke,mt),St&&(mt.finished?i.nextTick(St):Ke.once("finish",St)),mt.ended=!0,Ke.writable=!1}(this,K,St),this},Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Ke){this._writableState&&(this._writableState.destroyed=Ke)}}),s.prototype.destroy=C.destroy,s.prototype._undestroy=C.undestroy,s.prototype._destroy=function(Ke,mt){mt(Ke)}}).call(this)}).call(this,m("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"../errors":73,"./_stream_duplex":74,"./internal/streams/destroy":81,"./internal/streams/state":85,"./internal/streams/stream":86,_process:205,buffer:69,inherits:159,"util-deprecate":288}],79:[function(m,B){(function(i){(function(){"use strict";function g(I,S,R){return S in I?Object.defineProperty(I,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):I[S]=R,I}function f(I,S){return{value:I,done:S}}function x(I){var S=I[s];if(null!==S){var R=I[l].read();null!==R&&(I[d]=null,I[s]=null,I[t]=null,S(f(R,!1)))}}function n(I){i.nextTick(x,I)}var b,u=m("./end-of-stream"),s=Symbol("lastResolve"),t=Symbol("lastReject"),o=Symbol("error"),r=Symbol("ended"),d=Symbol("lastPromise"),h=Symbol("handlePromise"),l=Symbol("stream"),p=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((g(b={get stream(){return this[l]},next:function(){var I=this,S=this[o];if(null!==S)return Promise.reject(S);if(this[r])return Promise.resolve(f(void 0,!0));if(this[l].destroyed)return new Promise(function(Z,le){i.nextTick(function(){I[o]?le(I[o]):Z(f(void 0,!0))})});var N,R=this[d];if(R)N=new Promise(function c(I,S){return function(R,N){I.then(function(){return S[r]?void R(f(void 0,!0)):void S[h](R,N)},N)}}(R,this));else{var q=this[l].read();if(null!==q)return Promise.resolve(f(q,!1));N=new Promise(this[h])}return this[d]=N,N}},Symbol.asyncIterator,function(){return this}),g(b,"return",function(){var I=this;return new Promise(function(S,R){I[l].destroy(null,function(N){return N?void R(N):void S(f(void 0,!0))})})}),b),p);B.exports=function(I){var R,S=Object.create(w,(g(R={},l,{value:I,writable:!0}),g(R,s,{value:null,writable:!0}),g(R,t,{value:null,writable:!0}),g(R,o,{value:null,writable:!0}),g(R,r,{value:I._readableState.endEmitted,writable:!0}),g(R,h,{value:function(N,q){var Z=S[l].read();Z?(S[d]=null,S[s]=null,S[t]=null,N(f(Z,!1))):(S[s]=N,S[t]=q)},writable:!0}),R));return S[d]=null,u(I,function(N){if(N&&"ERR_STREAM_PREMATURE_CLOSE"!==N.code){var q=S[t];return null!==q&&(S[d]=null,S[s]=null,S[t]=null,q(N)),void(S[o]=N)}var Z=S[s];null!==Z&&(S[d]=null,S[s]=null,S[t]=null,Z(f(void 0,!0))),S[r]=!0}),I.on("readable",n.bind(null,S)),S}}).call(this)}).call(this,m("_process"))},{"./end-of-stream":82,_process:205}],80:[function(m,B){"use strict";function i(h,l){var p=Object.keys(h);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(h);l&&(w=w.filter(function(b){return Object.getOwnPropertyDescriptor(h,b).enumerable})),p.push.apply(p,w)}return p}function f(h,l,p){return l in h?Object.defineProperty(h,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):h[l]=p,h}function n(h,l){for(var w,p=0;p<l.length;p++)(w=l[p]).enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}function u(h,l,p){t.prototype.copy.call(h,l,p)}var t=m("buffer").Buffer,r=m("util").inspect,d=r&&r.custom||"inspect";B.exports=function(){function h(){(function x(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}return function c(h,l,p){l&&n(h.prototype,l),p&&n(h,p)}(h,[{key:"push",value:function(l){var p={data:l,next:null};0<this.length?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(l){var p={data:l,next:this.head};0===this.length&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(0!==this.length){var l=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,l}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(l){if(0===this.length)return"";for(var p=this.head,w=""+p.data;p=p.next;)w+=l+p.data;return w}},{key:"concat",value:function(l){if(0===this.length)return t.alloc(0);for(var p=t.allocUnsafe(l>>>0),w=this.head,b=0;w;)u(w.data,p,b),b+=w.data.length,w=w.next;return p}},{key:"consume",value:function(l,p){var w;return l<this.head.data.length?(w=this.head.data.slice(0,l),this.head.data=this.head.data.slice(l)):w=l===this.head.data.length?this.shift():p?this._getString(l):this._getBuffer(l),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(l){var p=this.head,w=1,b=p.data;for(l-=b.length;p=p.next;){var I=p.data,S=l>I.length?I.length:l;if(b+=S===I.length?I:I.slice(0,l),0==(l-=S)){S===I.length?(++w,this.head=p.next?p.next:this.tail=null):(this.head=p,p.data=I.slice(S));break}++w}return this.length-=w,b}},{key:"_getBuffer",value:function(l){var p=t.allocUnsafe(l),w=this.head,b=1;for(w.data.copy(p),l-=w.data.length;w=w.next;){var I=w.data,S=l>I.length?I.length:l;if(I.copy(p,p.length-l,0,S),0==(l-=S)){S===I.length?(++b,this.head=w.next?w.next:this.tail=null):(this.head=w,w.data=I.slice(S));break}++b}return this.length-=b,p}},{key:d,value:function(l,p){return r(this,function g(h){for(var p,l=1;l<arguments.length;l++)p=null==arguments[l]?{}:arguments[l],l%2?i(Object(p),!0).forEach(function(w){f(h,w,p[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(p)):i(Object(p)).forEach(function(w){Object.defineProperty(h,w,Object.getOwnPropertyDescriptor(p,w))});return h}({},p,{depth:0,customInspect:!1}))}}]),h}()},{buffer:69,util:41}],81:[function(m,B){(function(i){(function(){"use strict";function g(n,c){x(n,c),f(n)}function f(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function x(n,c){n.emit("error",c)}B.exports={destroy:function(n,c){var u=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(c?c(n):n&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,i.nextTick(x,this,n)):i.nextTick(x,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(o){!c&&o?u._writableState?u._writableState.errorEmitted?i.nextTick(f,u):(u._writableState.errorEmitted=!0,i.nextTick(g,u,o)):i.nextTick(g,u,o):c?(i.nextTick(f,u),c(o)):i.nextTick(f,u)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(n,c){var u=n._readableState,s=n._writableState;u&&u.autoDestroy||s&&s.autoDestroy?n.destroy(c):n.emit("error",c)}}}).call(this)}).call(this,m("_process"))},{_process:205}],82:[function(m,B){"use strict";function g(){}var n=m("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;B.exports=function x(c,u,s){if("function"==typeof u)return x(c,null,u);u||(u={}),s=function i(c){var u=!1;return function(){if(!u){u=!0;for(var s=arguments.length,t=Array(s),o=0;o<s;o++)t[o]=arguments[o];c.apply(this,t)}}}(s||g);var t=u.readable||!1!==u.readable&&c.readable,o=u.writable||!1!==u.writable&&c.writable,r=function(){c.writable||h()},d=c._writableState&&c._writableState.finished,h=function(){o=!1,d=!0,t||s.call(c)},l=c._readableState&&c._readableState.endEmitted,p=function(){t=!1,l=!0,o||s.call(c)},w=function(S){s.call(c,S)},b=function(){var S;return t&&!l?(c._readableState&&c._readableState.ended||(S=new n),s.call(c,S)):o&&!d?(c._writableState&&c._writableState.ended||(S=new n),s.call(c,S)):void 0},I=function(){c.req.on("finish",h)};return function f(c){return c.setHeader&&"function"==typeof c.abort}(c)?(c.on("complete",h),c.on("abort",b),c.req?I():c.on("request",I)):o&&!c._writableState&&(c.on("end",r),c.on("close",r)),c.on("end",p),c.on("finish",h),!1!==u.error&&c.on("error",w),c.on("close",b),function(){c.removeListener("complete",h),c.removeListener("abort",b),c.removeListener("request",I),c.req&&c.req.removeListener("finish",h),c.removeListener("end",r),c.removeListener("close",r),c.removeListener("finish",h),c.removeListener("end",p),c.removeListener("error",w),c.removeListener("close",b)}}},{"../../../errors":73}],83:[function(m,B){B.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],84:[function(m,B){"use strict";function g(d){if(d)throw d}function n(d){d()}function c(d,h){return d.pipe(h)}var r,s=m("../../../errors").codes,t=s.ERR_MISSING_ARGS,o=s.ERR_STREAM_DESTROYED;B.exports=function(){for(var d=arguments.length,h=Array(d),l=0;l<d;l++)h[l]=arguments[l];var p=function u(d){return d.length&&"function"==typeof d[d.length-1]?d.pop():g}(h);if(Array.isArray(h[0])&&(h=h[0]),2>h.length)throw new t("streams");var b,w=h.map(function(I,S){var R=S<h.length-1;return function x(d,h,l,p){p=function i(d){var h=!1;return function(){h||(h=!0,d.apply(void 0,arguments))}}(p);var w=!1;d.on("close",function(){w=!0}),void 0===r&&(r=m("./end-of-stream")),r(d,{readable:h,writable:l},function(I){return I?p(I):(w=!0,void p())});var b=!1;return function(I){if(!w)return b?void 0:(b=!0,function f(d){return d.setHeader&&"function"==typeof d.abort}(d)?d.abort():"function"==typeof d.destroy?d.destroy():void p(I||new o("pipe")))}}(I,R,0<S,function(N){b||(b=N),N&&w.forEach(n),R||(w.forEach(n),p(b))})});return h.reduce(c)}},{"../../../errors":73,"./end-of-stream":82}],85:[function(m,B){"use strict";var g=m("../../../errors").codes.ERR_INVALID_OPT_VALUE;B.exports={getHighWaterMark:function(f,x,n,c){var u=function i(f,x,n){return null==f.highWaterMark?x?f[n]:null:f.highWaterMark}(x,c,n);if(null!=u){if(!isFinite(u)||wt(u)!==u||0>u)throw new g(c?n:"highWaterMark",u);return wt(u)}return f.objectMode?16:16384}}},{"../../../errors":73}],86:[function(m,B){B.exports=m("events").EventEmitter},{events:70}],87:[function(m,B){(function(i){(function(){B.exports=function(g){if("number"!=typeof g)throw new TypeError('"size" argument must be a number');if(0>g)throw new RangeError('"size" argument must not be negative');return i.allocUnsafe?i.allocUnsafe(g):new i(g)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69}],88:[function(m,B){(function(i){(function(){var g=m("buffer-fill"),f=m("buffer-alloc-unsafe");B.exports=function(x,n,c){if("number"!=typeof x)throw new TypeError('"size" argument must be a number');if(0>x)throw new RangeError('"size" argument must not be negative');if(i.alloc)return i.alloc(x,n,c);var u=f(x);return 0===x?u:void 0===n?g(u,0):("string"!=typeof c&&(c=void 0),g(u,n,c))}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69,"buffer-alloc-unsafe":87,"buffer-fill":89}],89:[function(m,B){(function(i){(function(){function f(c,u,s,t){if(0>s||t>c.length)throw new RangeError("Out of range index");return(t=void 0===t?c.length:t>>>0)>(s>>>=0)&&c.fill(u,s,t),c}var n=function(){try{if(!i.isEncoding("latin1"))return!1;var c=i.alloc?i.alloc(4):new i(4);return c.fill("ab","ucs2"),"61006200"===c.toString("hex")}catch{return!1}}();B.exports=function(c,u,s,t,o){if(n)return c.fill(u,s,t,o);if("number"==typeof u)return f(c,u,s,t);if("string"==typeof u){if("string"==typeof s?(o=s,s=0,t=c.length):"string"==typeof t&&(o=t,t=c.length),void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("latin1"===o&&(o="binary"),"string"==typeof o&&!i.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(""===u)return f(c,0,s,t);if(function g(c){return 1===c.length&&256>c.charCodeAt(0)}(u))return f(c,u.charCodeAt(0),s,t);u=new i(u,o)}return i.isBuffer(u)?function x(c,u,s,t){if(0>s||t>c.length)throw new RangeError("Out of range index");if(t<=s)return c;t=void 0===t?c.length:t>>>0;for(var o=s>>>=0,r=u.length;o<=t-r;)u.copy(c,o),o+=r;return o!==t&&u.copy(c,o,0,t-o),c}(c,u,s,t):f(c,0,s,t)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69}],90:[function(m,B){(function(i){(function(){B.exports=function(g,f){for(var x=Y(g.length,f.length),n=new i(x),c=0;c<x;++c)n[c]=g[c]^f[c];return n}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69}],91:[function(m,B){B.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],92:[function(m,B){const i=m("lru"),g=m("queue-microtask");B.exports=class{constructor(f,x){if(this.store=f,this.chunkLength=f.chunkLength,this.inProgressGets=new Map,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.cache=new i(x)}put(f,x,n=(()=>{})){return this.cache?(this.cache.remove(f),void this.store.put(f,x,n)):g(()=>n(new Error("CacheStore closed")))}get(f,x,n=(()=>{})){if("function"==typeof x)return this.get(f,null,x);if(!this.cache)return g(()=>n(new Error("CacheStore closed")));x||(x={});let c=this.cache.get(f);if(c){const t=x.offset||0,o=x.length||c.length-t;return(0!==t||o!==c.length)&&(c=c.slice(t,o+t)),g(()=>n(null,c))}let u=this.inProgressGets.get(f);const s=!!u;u||(u=[],this.inProgressGets.set(f,u)),u.push({opts:x,cb:n}),s||this.store.get(f,(t,o)=>{t||null==this.cache||this.cache.set(f,o);const r=this.inProgressGets.get(f);this.inProgressGets.delete(f);for(const{opts:d,cb:h}of r)if(t)h(t);else{const l=d.offset||0,p=d.length||o.length-l;let w=o;(0!==l||p!==o.length)&&(w=o.slice(l,p+l)),h(null,w)}})}close(f=(()=>{})){return this.cache?(this.cache=null,void this.store.close(f)):g(()=>f(new Error("CacheStore closed")))}destroy(f=(()=>{})){return this.cache?(this.cache=null,void this.store.destroy(f)):g(()=>f(new Error("CacheStore closed")))}}},{lru:168,"queue-microtask":218}],93:[function(m,B){const i=m("block-stream2"),g=m("readable-stream");B.exports=class f extends g.Writable{constructor(n,c,u={}){if(super(u),!n||!n.put||!n.get)throw new Error("First argument must be an abstract-chunk-store compliant store");if(!(c=+c))throw new Error("Second argument must be a chunk length");const s=void 0!==u.zeroPadding&&u.zeroPadding;this._blockstream=new i(c,{...u,zeroPadding:s}),this._outstandingPuts=0,this._storeMaxOutstandingPuts=u.storeMaxOutstandingPuts||16;let t=0;this._blockstream.on("data",r=>{this.destroyed||(this._outstandingPuts+=1,this._outstandingPuts>=this._storeMaxOutstandingPuts&&this._blockstream.pause(),n.put(t,r,d=>d?this.destroy(d):(this._outstandingPuts-=1,this._outstandingPuts<this._storeMaxOutstandingPuts&&this._blockstream.resume(),void(0===this._outstandingPuts&&"function"==typeof this._finalCb&&(this._finalCb(null),this._finalCb=null)))),t+=1)}).on("error",r=>{this.destroy(r)})}_write(n,c,u){this._blockstream.write(n,c,u)}_final(n){this._blockstream.end(),this._blockstream.once("end",()=>{0===this._outstandingPuts?n(null):this._finalCb=n})}destroy(n){this.destroyed||(this.destroyed=!0,n&&this.emit("error",n),this.emit("close"))}}},{"block-stream2":38,"readable-stream":240}],94:[function(m,B){function i(c){f.call(this),this.hashMode="string"==typeof c,this.hashMode?this[c]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var g=m("safe-buffer").Buffer,f=m("stream").Transform,x=m("string_decoder").StringDecoder;m("inherits")(i,f),i.prototype.update=function(c,u,s){"string"==typeof c&&(c=g.from(c,u));var t=this._update(c);return this.hashMode?this:(s&&(t=this._toString(t,s)),t)},i.prototype.setAutoPadding=function(){},i.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},i.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},i.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},i.prototype._transform=function(c,u,s){var t;try{this.hashMode?this._update(c):this.push(this._update(c))}catch(o){t=o}finally{s(t)}},i.prototype._flush=function(c){var u;try{this.push(this.__final())}catch(s){u=s}c(u)},i.prototype._finalOrDigest=function(c){var u=this.__final()||g.alloc(0);return c&&(u=this._toString(u,c,!0)),u},i.prototype._toString=function(c,u,s){if(this._decoder||(this._decoder=new x(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var t=this._decoder.write(c);return s&&(t+=this._decoder.end()),t},B.exports=i},{inherits:159,"safe-buffer":247,stream:72,string_decoder:276}],95:[function(m,B){(function(i){(function(){var g=function(){"use strict";function f(c,u,s,t){"object"==typeof u&&(s=u.depth,t=u.prototype,u=u.circular);var d=[],h=[],l=typeof i<"u";return typeof u>"u"&&(u=!0),typeof s>"u"&&(s=1/0),function o(p,w){if(null===p)return null;if(0==w)return p;var b,I;if("object"!=typeof p)return p;if(f.__isArray(p))b=[];else if(f.__isRegExp(p))b=new RegExp(p.source,n(p)),p.lastIndex&&(b.lastIndex=p.lastIndex);else if(f.__isDate(p))b=new Date(p.getTime());else{if(l&&i.isBuffer(p))return b=i.allocUnsafe?i.allocUnsafe(p.length):new i(p.length),p.copy(b),b;typeof t>"u"?(I=Object.getPrototypeOf(p),b=Object.create(I)):(b=Object.create(t),I=t)}if(u){var S=d.indexOf(p);if(-1!=S)return h[S];d.push(p),h.push(b)}for(var R in p){var N;I&&(N=Object.getOwnPropertyDescriptor(I,R)),(!N||null!=N.set)&&(b[R]=o(p[R],w-1))}return b}(c,s)}function x(c){return Object.prototype.toString.call(c)}function n(c){var u="";return c.global&&(u+="g"),c.ignoreCase&&(u+="i"),c.multiline&&(u+="m"),u}return f.clonePrototype=function(c){if(null===c)return null;var u=function(){};return u.prototype=c,new u},f.__objToStr=x,f.__isDate=function(c){return"object"==typeof c&&"[object Date]"===x(c)},f.__isArray=function(c){return"object"==typeof c&&"[object Array]"===x(c)},f.__isRegExp=function(c){return"object"==typeof c&&"[object RegExp]"===x(c)},f.__getRegExpFlags=n,f}();"object"==typeof B&&B.exports&&(B.exports=g)}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69}],96:[function(m,B){B.exports=function(){for(var g=navigator.hardwareConcurrency||1,f=[],x=0;x<g;x++)f.push({model:"",speed:0,times:{user:0,nice:0,sys:0,idle:0,irq:0}});return f}},{}],97:[function(m,B){(function(i){(function(){function g(u){this.curveType=c[u],this.curveType||(this.curveType={name:u}),this.curve=new x.ec(this.curveType.name),this.keys=void 0}function f(u,s,t){Array.isArray(u)||(u=u.toArray());var o=new i(u);if(t&&o.length<t){var r=new i(t-o.length);r.fill(0),o=i.concat([r,o])}return s?o.toString(s):o}var x=m("elliptic"),n=m("bn.js");B.exports=function(u){return new g(u)};var c={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};c.p224=c.secp224r1,c.p256=c.secp256r1=c.prime256v1,c.p192=c.secp192r1=c.prime192v1,c.p384=c.secp384r1,c.p521=c.secp521r1,g.prototype.generateKeys=function(u,s){return this.keys=this.curve.genKeyPair(),this.getPublicKey(u,s)},g.prototype.computeSecret=function(u,s,t){return s=s||"utf8",i.isBuffer(u)||(u=new i(u,s)),f(this.curve.keyFromPublic(u).getPublic().mul(this.keys.getPrivate()).getX(),t,this.curveType.byteLength)},g.prototype.getPublicKey=function(u,s){var t=this.keys.getPublic("compressed"===s,!0);return"hybrid"===s&&(t[0]=t[t.length-1]%2?7:6),f(t,u)},g.prototype.getPrivateKey=function(u){return f(this.keys.getPrivate(),u)},g.prototype.setPublicKey=function(u,s){return s=s||"utf8",i.isBuffer(u)||(u=new i(u,s)),this.keys._importPublic(u),this},g.prototype.setPrivateKey=function(u,s){s=s||"utf8",i.isBuffer(u)||(u=new i(u,s));var t=new n(u);return t=t.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(t),this}}).call(this)}).call(this,m("buffer").Buffer)},{"bn.js":98,buffer:69,elliptic:118}],98:[function(m,B,i){arguments[4][22][0].apply(i,arguments)},{buffer:41,dup:22}],99:[function(m,B){"use strict";function i(u){c.call(this,"digest"),this._hash=u}var g=m("inherits"),f=m("md5.js"),x=m("ripemd160"),n=m("sha.js"),c=m("cipher-base");g(i,c),i.prototype._update=function(u){this._hash.update(u)},i.prototype._final=function(){return this._hash.digest()},B.exports=function(u){return"md5"===(u=u.toLowerCase())?new f:"rmd160"===u||"ripemd160"===u?new x:new i(n(u))}},{"cipher-base":94,inherits:159,"md5.js":171,ripemd160:243,"sha.js":250}],100:[function(m,B){var i=m("md5.js");B.exports=function(g){return(new i).update(g).digest()}},{"md5.js":171}],101:[function(m,B){"use strict";function i(o,r){x.call(this,"digest"),"string"==typeof r&&(r=n.from(r));var d="sha512"===o||"sha384"===o?128:64;this._alg=o,this._key=r,r.length>d?r=("rmd160"===o?new u:s(o)).update(r).digest():r.length<d&&(r=n.concat([r,t],d));for(var l=this._ipad=n.allocUnsafe(d),p=this._opad=n.allocUnsafe(d),w=0;w<d;w++)l[w]=54^r[w],p[w]=92^r[w];this._hash="rmd160"===o?new u:s(o),this._hash.update(l)}var g=m("inherits"),f=m("./legacy"),x=m("cipher-base"),n=m("safe-buffer").Buffer,c=m("create-hash/md5"),u=m("ripemd160"),s=m("sha.js"),t=n.alloc(128);g(i,x),i.prototype._update=function(o){this._hash.update(o)},i.prototype._final=function(){var o=this._hash.digest();return("rmd160"===this._alg?new u:s(this._alg)).update(this._opad).update(o).digest()},B.exports=function(o,r){return"rmd160"===(o=o.toLowerCase())||"ripemd160"===o?new i("rmd160",r):"md5"===o?new f(c,r):new i(o,r)}},{"./legacy":102,"cipher-base":94,"create-hash/md5":100,inherits:159,ripemd160:243,"safe-buffer":247,"sha.js":250}],102:[function(m,B){"use strict";function i(c,u){x.call(this,"digest"),"string"==typeof u&&(u=f.from(u)),this._alg=c,this._key=u,u.length>64?u=c(u):u.length<64&&(u=f.concat([u,n],64));for(var s=this._ipad=f.allocUnsafe(64),t=this._opad=f.allocUnsafe(64),o=0;o<64;o++)s[o]=54^u[o],t[o]=92^u[o];this._hash=[s]}var g=m("inherits"),f=m("safe-buffer").Buffer,x=m("cipher-base"),n=f.alloc(128);g(i,x),i.prototype._update=function(c){this._hash.push(c)},i.prototype._final=function(){var c=this._alg(f.concat(this._hash));return this._alg(f.concat([this._opad,c]))},B.exports=i},{"cipher-base":94,inherits:159,"safe-buffer":247}],103:[function(m,B){(function(i){(function(){function g(L,z,y){function C(){q(L.map(re=>Ue=>{const We={};if(u(re))We.getStream=function o(L){return()=>new b(L)}(re),We.length=re.size;else if(i.isBuffer(re))We.getStream=function r(L){return()=>{const z=new we.PassThrough;return z.end(L),z}}(re),We.length=re.length;else{if(!t(re)){if("string"==typeof re){if("function"!=typeof ke)throw new Error("filesystem paths do not work in the browser");return void ke(re,1<ee||J,Ue)}throw new Error("invalid input type")}We.getStream=function d(L,z){return()=>{const y=new we.Transform;return y._transform=function(C,M,U){z.length+=C.length,this.push(C),U()},L.pipe(y),y}}(re,We),We.length=0}We.path=re.path,Ue(null,We)}),(re,Ue)=>re?y(re):(Ue=Ue.flat(),void y(null,Ue,J)))}if(function s(L){return typeof FileList<"u"&&L instanceof FileList}(L)&&(L=Array.from(L)),Array.isArray(L)||(L=[L]),0===L.length)throw new Error("invalid input type");L.forEach(re=>{if(null==re)throw new Error(`invalid input type: ${re}`)}),1!==(L=L.map(re=>u(re)&&"string"==typeof re.path&&"function"==typeof ke?re.path:re)).length||"string"==typeof L[0]||L[0].name||(L[0].name=z.name);let M=null;L.forEach((re,Ue)=>{if("string"==typeof re)return;let We=re.fullPath||re.name;We||(We=`Unknown File ${Ue+1}`,re.unknownName=!0),re.path=We.split("/"),re.path[0]||re.path.shift(),2>re.path.length?M=null:0===Ue&&1<L.length?M=re.path[0]:re.path[0]!==M&&(M=null)}),(void 0===z.filterJunkFiles||z.filterJunkFiles)&&(L=L.filter(re=>"string"==typeof re||!n(re.path))),M&&L.forEach(re=>{const Ue=(i.isBuffer(re)||t(re))&&!re.path;"string"==typeof re||Ue||re.path.shift()}),!z.name&&M&&(z.name=M),z.name||L.some(re=>"string"==typeof re?(z.name=w.basename(re),!0):!re.unknownName&&(z.name=re.path[re.path.length-1],!0)),z.name||(z.name=`Unnamed Torrent ${Date.now()}`);const ee=L.reduce((re,Ue)=>re+ +("string"==typeof Ue),0);let J=1===L.length;if(1===L.length&&"string"==typeof L[0]){if("function"!=typeof ke)throw new Error("filesystem paths do not work in the browser");I(L[0],(re,Ue)=>re?y(re):(J=Ue,void C()))}else Z(C)}function n(L){const z=L[L.length-1];return"."===z[0]&&S.is(z)}function c(L,z){return L+z.length}function u(L){return typeof Blob<"u"&&L instanceof Blob}function t(L){return"object"==typeof L&&null!=L&&"function"==typeof L.pipe}const h=m("bencode"),l=m("block-stream2"),p=m("piece-length"),w=m("path"),b=m("filestream/read"),I=m("is-file"),S=m("junk"),R=m("multistream"),N=m("once"),q=m("run-parallel"),Z=m("queue-microtask"),le=m("simple-sha1"),we=m("readable-stream"),ke=m("./get-files"),A=5;B.exports=function(L,z,y){"function"==typeof z&&([z,y]=[y,z]),g(L,z=z?Object.assign({},z):{},(C,M,U)=>C?y(C):(z.singleFileTorrent=U,void function x(L,z,y){let C=z.announceList;C||("string"==typeof z.announce?C=[[z.announce]]:Array.isArray(z.announce)&&(C=z.announce.map(J=>[J]))),C||(C=[]),globalThis.WEBTORRENT_ANNOUNCE&&("string"==typeof globalThis.WEBTORRENT_ANNOUNCE?C.push([[globalThis.WEBTORRENT_ANNOUNCE]]):Array.isArray(globalThis.WEBTORRENT_ANNOUNCE)&&(C=C.concat(globalThis.WEBTORRENT_ANNOUNCE.map(J=>[J])))),void 0===z.announce&&void 0===z.announceList&&(C=C.concat(B.exports.announceList)),"string"==typeof z.urlList&&(z.urlList=[z.urlList]);const M={info:{name:z.name},"creation date":ve((+z.creationDate||Date.now())/1e3),encoding:"UTF-8"};0!==C.length&&(M.announce=C[0][0],M["announce-list"]=C),void 0!==z.comment&&(M.comment=z.comment),void 0!==z.createdBy&&(M["created by"]=z.createdBy),void 0!==z.private&&(M.info.private=+z.private),void 0!==z.info&&Object.assign(M.info,z.info),void 0!==z.sslCert&&(M.info["ssl-cert"]=z.sslCert),void 0!==z.urlList&&(M["url-list"]=z.urlList);const U=L.reduce(c,0),ee=z.pieceLength||p(U);M.info["piece length"]=ee,function f(L,z,y,C,M){function U(St){Qe+=St.length;const K=It;le(St,se=>{We[K]=se,Xt-=1,Xt<A&&mt.resume(),ft+=St.length,C.onProgress&&C.onProgress(ft,y),Ue()}),Xt+=1,Xt>=A&&mt.pause(),It+=1}function ee(){Ft=!0,Ue()}function J(St){re(),M(St)}function re(){Ke.removeListener("error",J),mt.removeListener("data",U),mt.removeListener("end",ee),mt.removeListener("error",J)}function Ue(){Ft&&0===Xt&&(re(),M(null,i.from(We.join(""),"hex"),Qe))}M=N(M);const We=[];let Qe=0,ft=0;const pt=L.map(St=>St.getStream);let Xt=0,It=0,Ft=!1;const Ke=new R(pt),mt=new l(z,{zeroPadding:!1});Ke.on("error",J),Ke.pipe(mt).on("data",U).on("end",ee).on("error",J)}(L,ee,U,z,(J,re,Ue)=>J?y(J):(M.info.pieces=re,L.forEach(We=>{delete We.getStream}),z.singleFileTorrent?M.info.length=Ue:M.info.files=L,void y(null,h.encode(M))))}(M,z,y)))},B.exports.parseInput=function(L,z,y){"function"==typeof z&&([z,y]=[y,z]),g(L,z=z?Object.assign({},z):{},y)},B.exports.announceList=[["udp://tracker.leechers-paradise.org:6969"],["udp://tracker.coppersurfer.tk:6969"],["udp://tracker.opentrackr.org:1337"],["udp://explodie.org:6969"],["udp://tracker.empire-js.us:1337"],["wss://tracker.btorrent.xyz"],["wss://tracker.openwebtorrent.com"]],B.exports.isJunkPath=n}).call(this)}).call(this,m("buffer").Buffer)},{"./get-files":41,bencode:27,"block-stream2":38,buffer:69,"filestream/read":140,"is-file":41,junk:163,multistream:189,once:191,path:71,"piece-length":204,"queue-microtask":218,"readable-stream":240,"run-parallel":245,"simple-sha1":260}],104:[function(m,B,i){"use strict";i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=m("randombytes"),i.createHash=i.Hash=m("create-hash"),i.createHmac=i.Hmac=m("create-hmac");var g=m("browserify-sign/algos"),f=Object.keys(g),x=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(f);i.getHashes=function(){return x};var n=m("pbkdf2");i.pbkdf2=n.pbkdf2,i.pbkdf2Sync=n.pbkdf2Sync;var c=m("browserify-cipher");i.Cipher=c.Cipher,i.createCipher=c.createCipher,i.Cipheriv=c.Cipheriv,i.createCipheriv=c.createCipheriv,i.Decipher=c.Decipher,i.createDecipher=c.createDecipher,i.Decipheriv=c.Decipheriv,i.createDecipheriv=c.createDecipheriv,i.getCiphers=c.getCiphers,i.listCiphers=c.listCiphers;var u=m("diffie-hellman");i.DiffieHellmanGroup=u.DiffieHellmanGroup,i.createDiffieHellmanGroup=u.createDiffieHellmanGroup,i.getDiffieHellman=u.getDiffieHellman,i.createDiffieHellman=u.createDiffieHellman,i.DiffieHellman=u.DiffieHellman;var s=m("browserify-sign");i.createSign=s.createSign,i.Sign=s.Sign,i.createVerify=s.createVerify,i.Verify=s.Verify,i.createECDH=m("create-ecdh");var t=m("public-encrypt");i.publicEncrypt=t.publicEncrypt,i.privateEncrypt=t.privateEncrypt,i.publicDecrypt=t.publicDecrypt,i.privateDecrypt=t.privateDecrypt;var o=m("randomfill");i.randomFill=o.randomFill,i.randomFillSync=o.randomFillSync,i.createCredentials=function(){throw new Error("sorry, createCredentials is not implemented yet\nwe accept pull requests\nhttps://github.com/crypto-browserify/crypto-browserify")},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":59,"browserify-sign":66,"browserify-sign/algos":63,"create-ecdh":97,"create-hash":99,"create-hmac":101,"diffie-hellman":113,pbkdf2:198,"public-encrypt":206,randombytes:221,randomfill:222}],105:[function(m,B,i){(function(g){(function(){i.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+B.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;n.splice(1,0,c,"color: inherit");let u=0,s=0;n[0].replace(/%[a-zA-Z%]/g,t=>{"%%"===t||(u++,"%c"===t&&(s=u))}),n.splice(s,0,c)},i.save=function(n){try{n?i.storage.setItem("debug",n):i.storage.removeItem("debug")}catch{}},i.load=function f(){let n;try{n=i.storage.getItem("debug")}catch{}return!n&&typeof g<"u"&&"env"in g&&(n=g.env.DEBUG),n},i.useColors=function(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},i.storage=function(){try{return localStorage}catch{}}(),i.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),i.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],i.log=console.debug||console.log||(()=>{}),B.exports=m("./common")(i);const{formatters:x}=B.exports;x.j=function(n){try{return JSON.stringify(n)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}).call(this)}).call(this,m("_process"))},{"./common":106,_process:205}],106:[function(m,B){B.exports=function(i){function g(n){function c(...r){if(!c.enabled)return;const d=c,h=+new Date;d.diff=h-(s||h),d.prev=s,d.curr=h,s=h,r[0]=g.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");let p=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(b,I)=>{if("%%"===b)return"%";p++;const S=g.formatters[I];return"function"==typeof S&&(b=S.call(d,r[p]),r.splice(p,1),p--),b}),g.formatArgs.call(d,r),(d.log||g.log).apply(d,r)}let s,t,o,u=null;return c.namespace=n,c.useColors=g.useColors(),c.color=g.selectColor(n),c.extend=f,c.destroy=g.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>null===u?(t!==g.namespaces&&(t=g.namespaces,o=g.enabled(n)),o):u,set:r=>{u=r}}),"function"==typeof g.init&&g.init(c),c}function f(n,c){const u=g(this.namespace+(typeof c>"u"?":":c)+n);return u.log=this.log,u}function x(n){return n.toString().substring(2,n.toString().length-2).replace(/\.\*\?$/,"*")}return g.debug=g,g.default=g,g.coerce=function(n){return n instanceof Error?n.stack||n.message:n},g.disable=function(){const n=[...g.names.map(x),...g.skips.map(x).map(c=>"-"+c)].join(",");return g.enable(""),n},g.enable=function(n){let c;g.save(n),g.namespaces=n,g.names=[],g.skips=[];const u=("string"==typeof n?n:"").split(/[\s,]+/),s=u.length;for(c=0;c<s;c++)u[c]&&("-"===(n=u[c].replace(/\*/g,".*?"))[0]?g.skips.push(new RegExp("^"+n.substr(1)+"$")):g.names.push(new RegExp("^"+n+"$")))},g.enabled=function(n){if("*"===n[n.length-1])return!0;let c,u;for(c=0,u=g.skips.length;c<u;c++)if(g.skips[c].test(n))return!1;for(c=0,u=g.names.length;c<u;c++)if(g.names[c].test(n))return!0;return!1},g.humanize=m("ms"),g.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(i).forEach(n=>{g[n]=i[n]}),g.names=[],g.skips=[],g.formatters={},g.selectColor=function(n){let c=0;for(let u=0;u<n.length;u++)c=(c<<5)-c+n.charCodeAt(u),c|=0;return g.colors[At(c)%g.colors.length]},g.enable(g.load()),g}},{ms:188}],107:[function(m,B,i){"use strict";i.utils=m("./des/utils"),i.Cipher=m("./des/cipher"),i.DES=m("./des/des"),i.CBC=m("./des/cbc"),i.EDE=m("./des/ede")},{"./des/cbc":108,"./des/cipher":109,"./des/des":110,"./des/ede":111,"./des/utils":112}],108:[function(m,B,i){"use strict";function g(c){f.equal(c.length,8,"Invalid IV length"),this.iv=Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=c[u]}var f=m("minimalistic-assert"),x=m("inherits"),n={};i.instantiate=function(c){function u(r){c.call(this,r),this._cbcInit()}x(u,c);for(var o,s=Object.keys(n),t=0;t<s.length;t++)u.prototype[o=s[t]]=n[o];return u.create=function(r){return new u(r)},u},n._cbcInit=function(){var c=new g(this.options.iv);this._cbcState=c},n._update=function(c,u,s,t){var r=this.constructor.super_.prototype,d=this._cbcState.iv;if("encrypt"===this.type){for(var h=0;h<this.blockSize;h++)d[h]^=c[u+h];for(r._update.call(this,d,0,s,t),h=0;h<this.blockSize;h++)d[h]=s[t+h]}else{for(r._update.call(this,c,u,s,t),h=0;h<this.blockSize;h++)s[t+h]^=d[h];for(h=0;h<this.blockSize;h++)d[h]=c[u+h]}}},{inherits:159,"minimalistic-assert":180}],109:[function(m,B){"use strict";function i(f){this.options=f,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=Array(this.blockSize),this.bufferOff=0}var g=m("minimalistic-assert");B.exports=i,i.prototype._init=function(){},i.prototype.update=function(f){return 0===f.length?[]:"decrypt"===this.type?this._updateDecrypt(f):this._updateEncrypt(f)},i.prototype._buffer=function(f,x){for(var n=Y(this.buffer.length-this.bufferOff,f.length-x),c=0;c<n;c++)this.buffer[this.bufferOff+c]=f[x+c];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(f,x){return this._update(this.buffer,0,f,x),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(f){var x=0,n=0,u=Array((0|(this.bufferOff+f.length)/this.blockSize)*this.blockSize);0!==this.bufferOff&&(x+=this._buffer(f,x),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(u,n)));for(var s=f.length-(f.length-x)%this.blockSize;x<s;x+=this.blockSize)this._update(f,x,u,n),n+=this.blockSize;for(;x<f.length;x++,this.bufferOff++)this.buffer[this.bufferOff]=f[x];return u},i.prototype._updateDecrypt=function(f){for(var x=0,n=0,c=ve((this.bufferOff+f.length)/this.blockSize)-1,u=Array(c*this.blockSize);0<c;c--)x+=this._buffer(f,x),n+=this._flushBuffer(u,n);return x+=this._buffer(f,x),u},i.prototype.final=function(f){var x,n;return f&&(x=this.update(f)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),x?x.concat(n):n},i.prototype._pad=function(f,x){if(0===x)return!1;for(;x<f.length;)f[x++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var f=Array(this.blockSize);return this._update(this.buffer,0,f,0),f},i.prototype._unpad=function(f){return f},i.prototype._finalDecrypt=function(){g.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var f=Array(this.blockSize);return this._flushBuffer(f,0),this._unpad(f)}},{"minimalistic-assert":180}],110:[function(m,B){"use strict";function i(){this.tmp=[,,],this.keys=null}function g(s){c.call(this,s);var t=new i;this._desState=t,this.deriveKeys(t,s.key)}var f=m("minimalistic-assert"),x=m("inherits"),n=m("./utils"),c=m("./cipher");x(g,c),B.exports=g,g.create=function(s){return new g(s)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];g.prototype.deriveKeys=function(s,t){s.keys=Array(32),f.equal(t.length,this.blockSize,"Invalid key length");var o=n.readUInt32BE(t,0),r=n.readUInt32BE(t,4);n.pc1(o,r,s.tmp,0),o=s.tmp[0],r=s.tmp[1];for(var h,d=0;d<s.keys.length;d+=2)o=n.r28shl(o,h=u[d>>>1]),r=n.r28shl(r,h),n.pc2(o,r,s.keys,d)},g.prototype._update=function(s,t,o,r){var d=this._desState,h=n.readUInt32BE(s,t),l=n.readUInt32BE(s,t+4);n.ip(h,l,d.tmp,0),h=d.tmp[0],l=d.tmp[1],"encrypt"===this.type?this._encrypt(d,h,l,d.tmp,0):this._decrypt(d,h,l,d.tmp,0),l=d.tmp[1],n.writeUInt32BE(o,h=d.tmp[0],r),n.writeUInt32BE(o,l,r+4)},g.prototype._pad=function(s,t){for(var o=s.length-t,r=t;r<s.length;r++)s[r]=o;return!0},g.prototype._unpad=function(s){for(var t=s[s.length-1],o=s.length-t;o<s.length;o++)f.equal(s[o],t);return s.slice(0,s.length-t)},g.prototype._encrypt=function(s,t,o,r,d){for(var h=t,l=o,p=0;p<s.keys.length;p+=2){var w=s.keys[p],b=s.keys[p+1];n.expand(l,s.tmp,0);var I=n.substitute(w^=s.tmp[0],b^=s.tmp[1]),R=l;l=(h^n.permute(I))>>>0,h=R}n.rip(l,h,r,d)},g.prototype._decrypt=function(s,t,o,r,d){for(var h=o,l=t,p=s.keys.length-2;0<=p;p-=2){var w=s.keys[p],b=s.keys[p+1];n.expand(h,s.tmp,0);var I=n.substitute(w^=s.tmp[0],b^=s.tmp[1]),R=h;h=(l^n.permute(I))>>>0,l=R}n.rip(h,l,r,d)}},{"./cipher":109,"./utils":112,inherits:159,"minimalistic-assert":180}],111:[function(m,B){"use strict";function i(u,s){f.equal(s.length,24,"Invalid key length");var t=s.slice(0,8),o=s.slice(8,16),r=s.slice(16,24);this.ciphers="encrypt"===u?[c.create({type:"encrypt",key:t}),c.create({type:"decrypt",key:o}),c.create({type:"encrypt",key:r})]:[c.create({type:"decrypt",key:r}),c.create({type:"encrypt",key:o}),c.create({type:"decrypt",key:t})]}function g(u){n.call(this,u);var s=new i(this.type,this.options.key);this._edeState=s}var f=m("minimalistic-assert"),x=m("inherits"),n=m("./cipher"),c=m("./des");x(g,n),B.exports=g,g.create=function(u){return new g(u)},g.prototype._update=function(u,s,t,o){var r=this._edeState;r.ciphers[0]._update(u,s,t,o),r.ciphers[1]._update(t,o,t,o),r.ciphers[2]._update(t,o,t,o)},g.prototype._pad=c.prototype._pad,g.prototype._unpad=c.prototype._unpad},{"./cipher":109,"./des":110,inherits:159,"minimalistic-assert":180}],112:[function(m,B,i){"use strict";i.readUInt32BE=function(n,c){return(n[0+c]<<24|n[1+c]<<16|n[2+c]<<8|n[3+c])>>>0},i.writeUInt32BE=function(n,c,u){n[0+u]=c>>>24,n[1+u]=255&c>>>16,n[2+u]=255&c>>>8,n[3+u]=255&c},i.ip=function(n,c,u,s){for(var t=0,o=0,r=6;0<=r;r-=2){for(var d=0;24>=d;d+=8)t<<=1,t|=1&c>>>d+r;for(d=0;24>=d;d+=8)t<<=1,t|=1&n>>>d+r}for(r=6;0<=r;r-=2){for(d=1;25>=d;d+=8)o<<=1,o|=1&c>>>d+r;for(d=1;25>=d;d+=8)o<<=1,o|=1&n>>>d+r}u[s+0]=t>>>0,u[s+1]=o>>>0},i.rip=function(n,c,u,s){for(var t=0,o=0,r=0;4>r;r++)for(var d=24;0<=d;d-=8)t<<=1,t|=1&c>>>d+r,t<<=1,t|=1&n>>>d+r;for(r=4;8>r;r++)for(d=24;0<=d;d-=8)o<<=1,o|=1&c>>>d+r,o<<=1,o|=1&n>>>d+r;u[s+0]=t>>>0,u[s+1]=o>>>0},i.pc1=function(n,c,u,s){for(var t=0,o=0,r=7;5<=r;r--){for(var d=0;24>=d;d+=8)t<<=1,t|=1&c>>d+r;for(d=0;24>=d;d+=8)t<<=1,t|=1&n>>d+r}for(d=0;24>=d;d+=8)t<<=1,t|=1&c>>d+r;for(r=1;3>=r;r++){for(d=0;24>=d;d+=8)o<<=1,o|=1&c>>d+r;for(d=0;24>=d;d+=8)o<<=1,o|=1&n>>d+r}for(d=0;24>=d;d+=8)o<<=1,o|=1&n>>d+r;u[s+0]=t>>>0,u[s+1]=o>>>0},i.r28shl=function(n,c){return 268435455&n<<c|n>>>28-c};var g=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(n,c,u,s){for(var t=0,o=0,r=g.length>>>1,d=0;d<r;d++)t<<=1,t|=1&n>>>g[d];for(d=r;d<g.length;d++)o<<=1,o|=1&c>>>g[d];u[s+0]=t>>>0,u[s+1]=o>>>0},i.expand=function(n,c,u){var s=0,t=0;s=(1&n)<<5|n>>>27;for(var o=23;15<=o;o-=4)s<<=6,s|=63&n>>>o;for(o=11;3<=o;o-=4)t|=63&n>>>o,t<<=6;t|=(31&n)<<1|n>>>31,c[u+0]=s>>>0,c[u+1]=t>>>0};var f=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(n,c){for(var u=0,s=0;4>s;s++)u<<=4,u|=f[64*s+(63&n>>>18-6*s)];for(s=0;4>s;s++)u<<=4,u|=f[256+64*s+(63&c>>>18-6*s)];return u>>>0};var x=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(n){for(var c=0,u=0;u<x.length;u++)c<<=1,c|=1&n>>>x[u];return c>>>0},i.padSplit=function(n,c,u){for(var s=n.toString(2);s.length<c;)s="0"+s;for(var t=[],o=0;o<c;o+=u)t.push(s.slice(o,o+u));return t.join(" ")}},{}],113:[function(m,B,i){(function(g){(function(){var x=m("./lib/generatePrime"),n=m("./lib/primes.json"),c=m("./lib/dh"),u={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(s){var t=new g(n[s].prime,"hex"),o=new g(n[s].gen,"hex");return new c(t,o)},i.createDiffieHellman=i.DiffieHellman=function f(s,t,o,r){return g.isBuffer(t)||void 0===u[t]?f(s,"binary",t,o):(t=t||"binary",r=r||"binary",o=o||new g([2]),g.isBuffer(o)||(o=new g(o,r)),"number"==typeof s?new c(x(s,o),o,!0):(g.isBuffer(s)||(s=new g(s,t)),new c(s,o,!0)))}}).call(this)}).call(this,m("buffer").Buffer)},{"./lib/dh":114,"./lib/generatePrime":115,"./lib/primes.json":116,buffer:69}],114:[function(m,B){(function(i){(function(){function g(I,S){return S=S||"utf8",i.isBuffer(I)||(I=new i(I,S)),this._pub=new u(I),this}function f(I,S){return S=S||"utf8",i.isBuffer(I)||(I=new i(I,S)),this._priv=new u(I),this}function n(I,S,R){this.setGenerator(S),this.__prime=new u(I),this._prime=u.mont(this.__prime),this._primeLen=I.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,R?(this.setPublicKey=g,this.setPrivateKey=f):this._primeCode=8}function c(I,S){var R=new i(I.toArray());return S?R.toString(S):R}var u=m("bn.js"),t=new(m("miller-rabin")),o=new u(24),r=new u(11),d=new u(10),h=new u(3),l=new u(7),p=m("./generatePrime"),w=m("randombytes");B.exports=n;var b={};Object.defineProperty(n.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function x(I,S){var R=S.toString("hex"),N=[R,I.toString(16)].join("_");if(N in b)return b[N];var Z,q=0;return!I.isEven()&&p.simpleSieve&&p.fermatTest(I)&&t.test(I)?(t.test(I.shrn(1))||(q+=2),"02"===R?I.mod(o).cmp(r)&&(q+=8):"05"===R?(Z=I.mod(d)).cmp(h)&&Z.cmp(l)&&(q+=8):q+=4,b[N]=q,q):(q+=1,b[N]=q+="02"===R||"05"===R?8:4,q)}(this.__prime,this.__gen)),this._primeCode}}),n.prototype.generateKeys=function(){return this._priv||(this._priv=new u(w(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},n.prototype.computeSecret=function(I){var S=(I=(I=new u(I)).toRed(this._prime)).redPow(this._priv).fromRed(),R=new i(S.toArray()),N=this.getPrime();if(R.length<N.length){var q=new i(N.length-R.length);q.fill(0),R=i.concat([q,R])}return R},n.prototype.getPublicKey=function(I){return c(this._pub,I)},n.prototype.getPrivateKey=function(I){return c(this._priv,I)},n.prototype.getPrime=function(I){return c(this.__prime,I)},n.prototype.getGenerator=function(I){return c(this._gen,I)},n.prototype.setGenerator=function(I,S){return S=S||"utf8",i.isBuffer(I)||(I=new i(I,S)),this.__gen=I,this._gen=new u(I),this}}).call(this)}).call(this,m("buffer").Buffer)},{"./generatePrime":115,"bn.js":117,buffer:69,"miller-rabin":174,randombytes:221}],115:[function(m,B){function g(q){for(var Z=function i(){var q=Math.sqrt;if(null!==N)return N;var Z=[];Z[0]=2;for(var ke,le=1,we=3;1048576>we;we+=2){ke=ve(q(we));for(var A=0;A<le&&Z[A]<=ke&&we%Z[A]!=0;A++);le!=A&&Z[A]<=ke||(Z[le++]=we)}return N=Z,Z}(),le=0;le<Z.length;le++)if(0===q.modn(Z[le]))return 0===q.cmpn(Z[le]);return!0}function f(q){var Z=c.mont(q);return 0===r.toRed(Z).redPow(q.subn(1)).fromRed().cmpn(1)}function x(q,Z){if(16>q)return new c(2===Z||5===Z?[140,123]:[140,39]);Z=new c(Z);for(var le,we;;){for(le=new c(n(ve(q/8)));le.bitLength()>q;)le.ishrn(1);if(le.isEven()&&le.iadd(o),le.testn(1)||le.iadd(r),Z.cmp(r)){if(!Z.cmp(d))for(;le.mod(p).cmp(w);)le.iadd(S)}else for(;le.mod(u).cmp(I);)le.iadd(S);if(g(we=le.shrn(1))&&g(le)&&f(we)&&f(le)&&t.test(we)&&t.test(le))return le}}var n=m("randombytes");B.exports=x,x.simpleSieve=g,x.fermatTest=f;var c=m("bn.js"),u=new c(24),t=new(m("miller-rabin")),o=new c(1),r=new c(2),d=new c(5),p=(new c(16),new c(8),new c(10)),w=new c(3),I=(new c(7),new c(11)),S=new c(4),N=(new c(12),null)},{"bn.js":117,"miller-rabin":174,randombytes:221}],116:[function(m,B){B.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],117:[function(m,B,i){arguments[4][22][0].apply(i,arguments)},{buffer:41,dup:22}],118:[function(m,B,i){"use strict";var g=i;g.version=m("../package.json").version,g.utils=m("./elliptic/utils"),g.rand=m("brorand"),g.curve=m("./elliptic/curve"),g.curves=m("./elliptic/curves"),g.ec=m("./elliptic/ec"),g.eddsa=m("./elliptic/eddsa")},{"../package.json":134,"./elliptic/curve":121,"./elliptic/curves":124,"./elliptic/ec":125,"./elliptic/eddsa":128,"./elliptic/utils":132,brorand:40}],119:[function(m,B){"use strict";function i(s,t){this.type=s,this.p=new f(t.p,16),this.red=t.prime?f.red(t.prime):f.mont(this.p),this.zero=new f(0).toRed(this.red),this.one=new f(1).toRed(this.red),this.two=new f(2).toRed(this.red),this.n=t.n&&new f(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var o=this.n&&this.p.div(this.n);!o||0<o.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function g(s,t){this.curve=s,this.type=t,this.precomputed=null}var f=m("bn.js"),x=m("../utils"),n=x.getNAF,c=x.getJSF,u=x.assert;B.exports=i,i.prototype.point=function(){throw new Error("Not implemented")},i.prototype.validate=function(){throw new Error("Not implemented")},i.prototype._fixedNafMul=function(s,t){u(s.precomputed);var o=s._getDoubles(),r=n(t,1,this._bitLength),d=(1<<o.step+1)-(o.step%2==0?2:1);d/=3;var l,p,h=[];for(l=0;l<r.length;l+=o.step){p=0;for(var w=l+o.step-1;w>=l;w--)p=(p<<1)+r[w];h.push(p)}for(var b=this.jpoint(null,null,null),I=this.jpoint(null,null,null),S=d;0<S;S--){for(l=0;l<h.length;l++)(p=h[l])===S?I=I.mixedAdd(o.points[l]):p===-S&&(I=I.mixedAdd(o.points[l].neg()));b=b.add(I)}return b.toP()},i.prototype._wnafMul=function(s,t){for(var o=4,r=s._getNAFPoints(o),d=r.points,h=n(t,o=r.wnd,this._bitLength),l=this.jpoint(null,null,null),p=h.length-1;0<=p;p--){for(var w=0;0<=p&&0===h[p];p--)w++;if(0<=p&&w++,l=l.dblp(w),0>p)break;var b=h[p];u(0!==b),l="affine"===s.type?l.mixedAdd(0<b?d[b-1>>1]:d[-b-1>>1].neg()):l.add(0<b?d[b-1>>1]:d[-b-1>>1].neg())}return"affine"===s.type?l.toP():l},i.prototype._wnafMulAdd=function(s,t,o,r,d){var b,I,S,h=this._wnafT1,l=this._wnafT2,p=this._wnafT3,w=0;for(b=0;b<r;b++){var R=(S=t[b])._getNAFPoints(s);h[b]=R.wnd,l[b]=R.points}for(b=r-1;1<=b;b-=2){var N=b-1,q=b;if(1===h[N]&&1===h[q]){var Z=[t[N],null,null,t[q]];0===t[N].y.cmp(t[q].y)?(Z[1]=t[N].add(t[q]),Z[2]=t[N].toJ().mixedAdd(t[q].neg())):0===t[N].y.cmp(t[q].y.redNeg())?(Z[1]=t[N].toJ().mixedAdd(t[q]),Z[2]=t[N].add(t[q].neg())):(Z[1]=t[N].toJ().mixedAdd(t[q]),Z[2]=t[N].toJ().mixedAdd(t[q].neg()));var le=[-3,-1,-5,-7,0,7,5,1,3],we=c(o[N],o[q]);for(w=ue(we[0].length,w),p[N]=Array(w),p[q]=Array(w),I=0;I<w;I++)p[N][I]=le[3*(1+(0|we[0][I]))+(1+(0|we[1][I]))],p[q][I]=0,l[N]=Z}else p[N]=n(o[N],h[N],this._bitLength),p[q]=n(o[q],h[q],this._bitLength),w=ue(p[N].length,w),w=ue(p[q].length,w)}var L=this.jpoint(null,null,null),z=this._wnafT4;for(b=w;0<=b;b--){for(var C,y=0;0<=b;){for(C=!0,I=0;I<r;I++)z[I]=0|p[I][b],0!==z[I]&&(C=!1);if(!C)break;y++,b--}if(0<=b&&y++,L=L.dblp(y),0>b)break;for(I=0;I<r;I++){var M=z[I];0!==M&&(0<M?S=l[I][M-1>>1]:0>M&&(S=l[I][-M-1>>1].neg()),L="affine"===S.type?L.mixedAdd(S):L.add(S))}}for(b=0;b<r;b++)l[b]=null;return d?L:L.toP()},i.BasePoint=g,g.prototype.eq=function(){throw new Error("Not implemented")},g.prototype.validate=function(){return this.curve.validate(this)},i.prototype.decodePoint=function(s,t){s=x.toArray(s,t);var o=this.p.byteLength();if((4===s[0]||6===s[0]||7===s[0])&&s.length-1==2*o)return 6===s[0]?u(s[s.length-1]%2==0):7===s[0]&&u(s[s.length-1]%2==1),this.point(s.slice(1,1+o),s.slice(1+o,1+2*o));if((2===s[0]||3===s[0])&&s.length-1===o)return this.pointFromX(s.slice(1,1+o),3===s[0]);throw new Error("Unknown point format")},g.prototype.encodeCompressed=function(s){return this.encode(s,!0)},g.prototype._encode=function(s){var t=this.curve.p.byteLength(),o=this.getX().toArray("be",t);return s?[this.getY().isEven()?2:3].concat(o):[4].concat(o,this.getY().toArray("be",t))},g.prototype.encode=function(s,t){return x.encode(this._encode(t),s)},g.prototype.precompute=function(s){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,s),t.beta=this._getBeta(),this.precomputed=t,this},g.prototype._hasDoubles=function(s){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=ve((s.bitLength()+1)/t.step)},g.prototype._getDoubles=function(s,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var o=[this],r=this,d=0;d<t;d+=s){for(var h=0;h<s;h++)r=r.dbl();o.push(r)}return{step:s,points:o}},g.prototype._getNAFPoints=function(s){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],o=(1<<s)-1,r=1===o?null:this.dbl(),d=1;d<o;d++)t[d]=t[d-1].add(r);return{wnd:s,points:t}},g.prototype._getBeta=function(){return null},g.prototype.dblp=function(s){for(var t=this,o=0;o<s;o++)t=t.dbl();return t}},{"../utils":132,"bn.js":133}],120:[function(m,B){"use strict";function i(s){this.twisted=1!=(0|s.a),this.mOneA=this.twisted&&-1==(0|s.a),this.extended=this.mOneA,c.call(this,"edwards",s),this.a=new x(s.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new x(s.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new x(s.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|s.c)}function g(s,t,o,r,d){c.BasePoint.call(this,s,"projective"),null===t&&null===o&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new x(t,16),this.y=new x(o,16),this.z=r?new x(r,16):this.curve.one,this.t=d&&new x(d,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),!this.zOne&&(this.t=this.t.redMul(this.z.redInvm()))))}var f=m("../utils"),x=m("bn.js"),n=m("inherits"),c=m("./base"),u=f.assert;n(i,c),B.exports=i,i.prototype._mulA=function(s){return this.mOneA?s.redNeg():this.a.redMul(s)},i.prototype._mulC=function(s){return this.oneC?s:this.c.redMul(s)},i.prototype.jpoint=function(s,t,o,r){return this.point(s,t,o,r)},i.prototype.pointFromX=function(s,t){(s=new x(s,16)).red||(s=s.toRed(this.red));var o=s.redSqr(),r=this.c2.redSub(this.a.redMul(o)),d=this.one.redSub(this.c2.redMul(this.d).redMul(o)),h=r.redMul(d.redInvm()),l=h.redSqrt();if(0!==l.redSqr().redSub(h).cmp(this.zero))throw new Error("invalid point");var p=l.fromRed().isOdd();return(t&&!p||!t&&p)&&(l=l.redNeg()),this.point(s,l)},i.prototype.pointFromY=function(s,t){(s=new x(s,16)).red||(s=s.toRed(this.red));var o=s.redSqr(),r=o.redSub(this.c2),d=o.redMul(this.d).redMul(this.c2).redSub(this.a),h=r.redMul(d.redInvm());if(0===h.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,s)}var l=h.redSqrt();if(0!==l.redSqr().redSub(h).cmp(this.zero))throw new Error("invalid point");return l.fromRed().isOdd()!==t&&(l=l.redNeg()),this.point(l,s)},i.prototype.validate=function(s){if(s.isInfinity())return!0;s.normalize();var t=s.x.redSqr(),o=s.y.redSqr(),r=t.redMul(this.a).redAdd(o),d=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(o)));return 0===r.cmp(d)},n(g,c.BasePoint),i.prototype.pointFromJSON=function(s){return g.fromJSON(this,s)},i.prototype.point=function(s,t,o,r){return new g(this,s,t,o,r)},g.fromJSON=function(s,t){return new g(s,t[0],t[1],t[2])},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},g.prototype._extDbl=function(){var s=this.x.redSqr(),t=this.y.redSqr(),o=this.z.redSqr();o=o.redIAdd(o);var r=this.curve._mulA(s),d=this.x.redAdd(this.y).redSqr().redISub(s).redISub(t),h=r.redAdd(t),l=h.redSub(o),p=r.redSub(t),w=d.redMul(l),b=h.redMul(p),I=d.redMul(p),S=l.redMul(h);return this.curve.point(w,b,S,I)},g.prototype._projDbl=function(){var r,d,h,l,p,w,s=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var b=(l=this.curve._mulA(t)).redAdd(o);this.zOne?(r=s.redSub(t).redSub(o).redMul(b.redSub(this.curve.two)),d=b.redMul(l.redSub(o)),h=b.redSqr().redSub(b).redSub(b)):(p=this.z.redSqr(),w=b.redSub(p).redISub(p),r=s.redSub(t).redISub(o).redMul(w),d=b.redMul(l.redSub(o)),h=b.redMul(w))}else l=t.redAdd(o),p=this.curve._mulC(this.z).redSqr(),w=l.redSub(p).redSub(p),r=this.curve._mulC(s.redISub(l)).redMul(w),d=this.curve._mulC(l).redMul(t.redISub(o)),h=l.redMul(w);return this.curve.point(r,d,h)},g.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},g.prototype._extAdd=function(s){var t=this.y.redSub(this.x).redMul(s.y.redSub(s.x)),o=this.y.redAdd(this.x).redMul(s.y.redAdd(s.x)),r=this.t.redMul(this.curve.dd).redMul(s.t),d=this.z.redMul(s.z.redAdd(s.z)),h=o.redSub(t),l=d.redSub(r),p=d.redAdd(r),w=o.redAdd(t),b=h.redMul(l),I=p.redMul(w),S=h.redMul(w),R=l.redMul(p);return this.curve.point(b,I,R,S)},g.prototype._projAdd=function(s){var I,S,t=this.z.redMul(s.z),o=t.redSqr(),r=this.x.redMul(s.x),d=this.y.redMul(s.y),h=this.curve.d.redMul(r).redMul(d),l=o.redSub(h),p=o.redAdd(h),w=this.x.redAdd(this.y).redMul(s.x.redAdd(s.y)).redISub(r).redISub(d),b=t.redMul(l).redMul(w);return this.curve.twisted?(I=t.redMul(p).redMul(d.redSub(this.curve._mulA(r))),S=l.redMul(p)):(I=t.redMul(p).redMul(d.redSub(r)),S=this.curve._mulC(l).redMul(p)),this.curve.point(b,I,S)},g.prototype.add=function(s){return this.isInfinity()?s:s.isInfinity()?this:this.curve.extended?this._extAdd(s):this._projAdd(s)},g.prototype.mul=function(s){return this._hasDoubles(s)?this.curve._fixedNafMul(this,s):this.curve._wnafMul(this,s)},g.prototype.mulAdd=function(s,t,o){return this.curve._wnafMulAdd(1,[this,t],[s,o],2,!1)},g.prototype.jmulAdd=function(s,t,o){return this.curve._wnafMulAdd(1,[this,t],[s,o],2,!0)},g.prototype.normalize=function(){if(this.zOne)return this;var s=this.z.redInvm();return this.x=this.x.redMul(s),this.y=this.y.redMul(s),this.t&&(this.t=this.t.redMul(s)),this.z=this.curve.one,this.zOne=!0,this},g.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},g.prototype.getX=function(){return this.normalize(),this.x.fromRed()},g.prototype.getY=function(){return this.normalize(),this.y.fromRed()},g.prototype.eq=function(s){return this===s||0===this.getX().cmp(s.getX())&&0===this.getY().cmp(s.getY())},g.prototype.eqXToP=function(s){var t=s.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var o=s.clone(),r=this.curve.redN.redMul(this.z);;){if(o.iadd(this.curve.n),0<=o.cmp(this.curve.p))return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},g.prototype.toP=g.prototype.normalize,g.prototype.mixedAdd=g.prototype.add},{"../utils":132,"./base":119,"bn.js":133,inherits:159}],121:[function(m,B,i){"use strict";var g=i;g.base=m("./base"),g.short=m("./short"),g.mont=m("./mont"),g.edwards=m("./edwards")},{"./base":119,"./edwards":120,"./mont":122,"./short":123}],122:[function(m,B){"use strict";function i(u){n.call(this,"mont",u),this.a=new f(u.a,16).toRed(this.red),this.b=new f(u.b,16).toRed(this.red),this.i4=new f(4).toRed(this.red).redInvm(),this.two=new f(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function g(u,s,t){n.BasePoint.call(this,u,"projective"),null===s&&null===t?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new f(s,16),this.z=new f(t,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)))}var f=m("bn.js"),x=m("inherits"),n=m("./base"),c=m("../utils");x(i,n),B.exports=i,i.prototype.validate=function(u){var s=u.normalize().x,t=s.redSqr(),o=t.redMul(s).redAdd(t.redMul(this.a)).redAdd(s);return 0===o.redSqrt().redSqr().cmp(o)},x(g,n.BasePoint),i.prototype.decodePoint=function(u,s){return this.point(c.toArray(u,s),1)},i.prototype.point=function(u,s){return new g(this,u,s)},i.prototype.pointFromJSON=function(u){return g.fromJSON(this,u)},g.prototype.precompute=function(){},g.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},g.fromJSON=function(u,s){return new g(u,s[0],s[1]||u.one)},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},g.prototype.dbl=function(){var s=this.x.redAdd(this.z).redSqr(),o=this.x.redSub(this.z).redSqr(),r=s.redSub(o),d=s.redMul(o),h=r.redMul(o.redAdd(this.curve.a24.redMul(r)));return this.curve.point(d,h)},g.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},g.prototype.diffAdd=function(u,s){var t=this.x.redAdd(this.z),o=this.x.redSub(this.z),r=u.x.redAdd(u.z),h=u.x.redSub(u.z).redMul(t),l=r.redMul(o),p=s.z.redMul(h.redAdd(l).redSqr()),w=s.x.redMul(h.redISub(l).redSqr());return this.curve.point(p,w)},g.prototype.mul=function(u){for(var s=u.clone(),t=this,o=this.curve.point(null,null),d=[];0!==s.cmpn(0);s.iushrn(1))d.push(s.andln(1));for(var h=d.length-1;0<=h;h--)0===d[h]?(t=t.diffAdd(o,this),o=o.dbl()):(o=t.diffAdd(o,this),t=t.dbl());return o},g.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},g.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},g.prototype.eq=function(u){return 0===this.getX().cmp(u.getX())},g.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},g.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":132,"./base":119,"bn.js":133,inherits:159}],123:[function(m,B){"use strict";function i(t){u.call(this,"short",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function g(t,o,r,d){u.BasePoint.call(this,t,"affine"),null===o&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(o,16),this.y=new n(r,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(t,o,r,d){u.BasePoint.call(this,t,"jacobian"),null===o&&null===r&&null===d?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(o,16),this.y=new n(r,16),this.z=new n(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var x=m("../utils"),n=m("bn.js"),c=m("inherits"),u=m("./base"),s=x.assert;c(i,u),B.exports=i,i.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var o,r;if(t.beta)o=new n(t.beta,16).toRed(this.red);else{var d=this._getEndoRoots(this.p);o=(o=0>d[0].cmp(d[1])?d[0]:d[1]).toRed(this.red)}if(t.lambda)r=new n(t.lambda,16);else{var h=this._getEndoRoots(this.n);0===this.g.mul(h[0]).x.cmp(this.g.x.redMul(o))?r=h[0]:s(0===this.g.mul(r=h[1]).x.cmp(this.g.x.redMul(o)))}return{beta:o,lambda:r,basis:t.basis?t.basis.map(function(p){return{a:new n(p.a,16),b:new n(p.b,16)}}):this._getEndoBasis(r)}}},i.prototype._getEndoRoots=function(t){var o=t===this.p?this.red:n.mont(t),r=new n(2).toRed(o).redInvm(),d=r.redNeg(),h=new n(3).toRed(o).redNeg().redSqrt().redMul(r);return[d.redAdd(h).fromRed(),d.redSub(h).fromRed()]},i.prototype._getEndoBasis=function(t){for(var I,S,R,N,q,Z,le,we,ke,A,o=this.n.ushrn(wt(this.n.bitLength()/2)),r=t,d=this.n.clone(),h=new n(1),l=new n(0),p=new n(0),w=new n(1),b=0;0!==r.cmpn(0);){A=d.div(r),we=d.sub(A.mul(r)),ke=p.sub(A.mul(h));var L=w.sub(A.mul(l));if(!R&&0>we.cmp(o))I=le.neg(),S=h,R=we.neg(),N=ke;else if(R&&2==++b)break;le=we,d=r,r=we,p=h,h=ke,w=l,l=L}q=we.neg(),Z=ke;var z=R.sqr().add(N.sqr());return 0<=q.sqr().add(Z.sqr()).cmp(z)&&(q=I,Z=S),R.negative&&(R=R.neg(),N=N.neg()),q.negative&&(q=q.neg(),Z=Z.neg()),[{a:R,b:N},{a:q,b:Z}]},i.prototype._endoSplit=function(t){var o=this.endo.basis,r=o[0],d=o[1],h=d.b.mul(t).divRound(this.n),l=r.b.neg().mul(t).divRound(this.n),p=h.mul(r.a),w=l.mul(d.a),b=h.mul(r.b),I=l.mul(d.b);return{k1:t.sub(p).sub(w),k2:b.add(I).neg()}},i.prototype.pointFromX=function(t,o){(t=new n(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),d=r.redSqrt();if(0!==d.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var h=d.fromRed().isOdd();return(o&&!h||!o&&h)&&(d=d.redNeg()),this.point(t,d)},i.prototype.validate=function(t){if(t.inf)return!0;var o=t.x,r=t.y,d=this.a.redMul(o),h=o.redSqr().redMul(o).redIAdd(d).redIAdd(this.b);return 0===r.redSqr().redISub(h).cmpn(0)},i.prototype._endoWnafMulAdd=function(t,o,r){for(var d=this._endoWnafT1,h=this._endoWnafT2,l=0;l<t.length;l++){var p=this._endoSplit(o[l]),w=t[l],b=w._getBeta();p.k1.negative&&(p.k1.ineg(),w=w.neg(!0)),p.k2.negative&&(p.k2.ineg(),b=b.neg(!0)),d[2*l]=w,d[2*l+1]=b,h[2*l]=p.k1,h[2*l+1]=p.k2}for(var I=this._wnafMulAdd(1,d,h,2*l,r),S=0;S<2*l;S++)d[S]=null,h[S]=null;return I},c(g,u.BasePoint),i.prototype.point=function(t,o,r){return new g(this,t,o,r)},i.prototype.pointFromJSON=function(t,o){return g.fromJSON(this,t,o)},g.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var o=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,d=function(h){return r.point(h.x.redMul(r.endo.beta),h.y)};t.beta=o,o.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(d)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(d)}}}return o}},g.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},g.fromJSON=function(t,o,r){function d(p){return t.point(p[0],p[1],r)}"string"==typeof o&&(o=JSON.parse(o));var h=t.point(o[0],o[1],r);if(!o[2])return h;var l=o[2];return h.precomputed={beta:null,doubles:l.doubles&&{step:l.doubles.step,points:[h].concat(l.doubles.points.map(d))},naf:l.naf&&{wnd:l.naf.wnd,points:[h].concat(l.naf.points.map(d))}},h},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return this.inf},g.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var o=this.y.redSub(t.y);0!==o.cmpn(0)&&(o=o.redMul(this.x.redSub(t.x).redInvm()));var r=o.redSqr().redISub(this.x).redISub(t.x),d=o.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,d)},g.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var o=this.curve.a,r=this.x.redSqr(),d=t.redInvm(),h=r.redAdd(r).redIAdd(r).redIAdd(o).redMul(d),l=h.redSqr().redISub(this.x.redAdd(this.x)),p=h.redMul(this.x.redSub(l)).redISub(this.y);return this.curve.point(l,p)},g.prototype.getX=function(){return this.x.fromRed()},g.prototype.getY=function(){return this.y.fromRed()},g.prototype.mul=function(t){return t=new n(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},g.prototype.mulAdd=function(t,o,r){var d=[this,o],h=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(d,h):this.curve._wnafMulAdd(1,d,h,2)},g.prototype.jmulAdd=function(t,o,r){var d=[this,o],h=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(d,h,!0):this.curve._wnafMulAdd(1,d,h,2,!0)},g.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},g.prototype.neg=function(t){if(this.inf)return this;var o=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,d=function(h){return h.neg()};o.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(d)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(d)}}}return o},g.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(f,u.BasePoint),i.prototype.jpoint=function(t,o,r){return new f(this,t,o,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),o=t.redSqr(),r=this.x.redMul(o),d=this.y.redMul(o).redMul(t);return this.curve.point(r,d)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var o=t.z.redSqr(),r=this.z.redSqr(),d=this.x.redMul(o),h=t.x.redMul(r),l=this.y.redMul(o.redMul(t.z)),p=t.y.redMul(r.redMul(this.z)),w=d.redSub(h),b=l.redSub(p);if(0===w.cmpn(0))return 0===b.cmpn(0)?this.dbl():this.curve.jpoint(null,null,null);var I=w.redSqr(),S=I.redMul(w),R=d.redMul(I),N=b.redSqr().redIAdd(S).redISub(R).redISub(R),q=b.redMul(R.redISub(N)).redISub(l.redMul(S)),Z=this.z.redMul(t.z).redMul(w);return this.curve.jpoint(N,q,Z)},f.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var o=this.z.redSqr(),r=this.x,d=t.x.redMul(o),h=this.y,l=t.y.redMul(o).redMul(this.z),p=r.redSub(d),w=h.redSub(l);if(0===p.cmpn(0))return 0===w.cmpn(0)?this.dbl():this.curve.jpoint(null,null,null);var b=p.redSqr(),I=b.redMul(p),S=r.redMul(b),R=w.redSqr().redIAdd(I).redISub(S).redISub(S),N=w.redMul(S.redISub(R)).redISub(h.redMul(I)),q=this.z.redMul(p);return this.curve.jpoint(R,N,q)},f.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var o;if(this.curve.zeroA||this.curve.threeA){var r=this;for(o=0;o<t;o++)r=r.dbl();return r}var d=this.curve.a,h=this.curve.tinv,l=this.x,p=this.y,w=this.z,b=w.redSqr().redSqr(),I=p.redAdd(p);for(o=0;o<t;o++){var S=l.redSqr(),R=I.redSqr(),N=R.redSqr(),q=S.redAdd(S).redIAdd(S).redIAdd(d.redMul(b)),Z=l.redMul(R),le=q.redSqr().redISub(Z.redAdd(Z)),we=Z.redISub(le),ke=q.redMul(we);ke=ke.redIAdd(ke).redISub(N);var A=I.redMul(w);o+1<t&&(b=b.redMul(N)),l=le,w=A,I=ke}return this.curve.jpoint(l,I.redMul(h),w)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var t,o,r;if(this.zOne){var d=this.x.redSqr(),h=this.y.redSqr(),l=h.redSqr(),p=this.x.redAdd(h).redSqr().redISub(d).redISub(l);p=p.redIAdd(p);var w=d.redAdd(d).redIAdd(d),b=w.redSqr().redISub(p).redISub(p),I=l.redIAdd(l);I=(I=I.redIAdd(I)).redIAdd(I),t=b,o=w.redMul(p.redISub(b)).redISub(I),r=this.y.redAdd(this.y)}else{var S=this.x.redSqr(),R=this.y.redSqr(),N=R.redSqr(),q=this.x.redAdd(R).redSqr().redISub(S).redISub(N);q=q.redIAdd(q);var Z=S.redAdd(S).redIAdd(S),le=Z.redSqr(),we=N.redIAdd(N);we=(we=we.redIAdd(we)).redIAdd(we),t=le.redISub(q).redISub(q),o=Z.redMul(q.redISub(t)).redISub(we),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,o,r)},f.prototype._threeDbl=function(){var t,o,r;if(this.zOne){var d=this.x.redSqr(),h=this.y.redSqr(),l=h.redSqr(),p=this.x.redAdd(h).redSqr().redISub(d).redISub(l);p=p.redIAdd(p);var w=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),b=w.redSqr().redISub(p).redISub(p);t=b;var I=l.redIAdd(l);I=(I=I.redIAdd(I)).redIAdd(I),o=w.redMul(p.redISub(b)).redISub(I),r=this.y.redAdd(this.y)}else{var S=this.z.redSqr(),R=this.y.redSqr(),N=this.x.redMul(R),q=this.x.redSub(S).redMul(this.x.redAdd(S));q=q.redAdd(q).redIAdd(q);var Z=N.redIAdd(N),le=(Z=Z.redIAdd(Z)).redAdd(Z);t=q.redSqr().redISub(le),r=this.y.redAdd(this.z).redSqr().redISub(R).redISub(S);var we=R.redSqr();we=(we=(we=we.redIAdd(we)).redIAdd(we)).redIAdd(we),o=q.redMul(Z.redISub(t)).redISub(we)}return this.curve.jpoint(t,o,r)},f.prototype._dbl=function(){var t=this.curve.a,o=this.x,r=this.y,d=this.z,h=d.redSqr().redSqr(),l=o.redSqr(),p=r.redSqr(),w=l.redAdd(l).redIAdd(l).redIAdd(t.redMul(h)),b=o.redAdd(o),I=(b=b.redIAdd(b)).redMul(p),S=w.redSqr().redISub(I.redAdd(I)),R=I.redISub(S),N=p.redSqr();N=(N=(N=N.redIAdd(N)).redIAdd(N)).redIAdd(N);var q=w.redMul(R).redISub(N),Z=r.redAdd(r).redMul(d);return this.curve.jpoint(S,q,Z)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),o=this.y.redSqr(),r=this.z.redSqr(),d=o.redSqr(),h=t.redAdd(t).redIAdd(t),l=h.redSqr(),p=this.x.redAdd(o).redSqr().redISub(t).redISub(d),w=(p=(p=(p=p.redIAdd(p)).redAdd(p).redIAdd(p)).redISub(l)).redSqr(),b=d.redIAdd(d);b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b);var I=h.redIAdd(p).redSqr().redISub(l).redISub(w).redISub(b),S=o.redMul(I);S=(S=S.redIAdd(S)).redIAdd(S);var R=this.x.redMul(w).redISub(S);R=(R=R.redIAdd(R)).redIAdd(R);var N=this.y.redMul(I.redMul(b.redISub(I)).redISub(p.redMul(w)));N=(N=(N=N.redIAdd(N)).redIAdd(N)).redIAdd(N);var q=this.z.redAdd(p).redSqr().redISub(r).redISub(w);return this.curve.jpoint(R,N,q)},f.prototype.mul=function(t,o){return t=new n(t,o),this.curve._wnafMul(this,t)},f.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var o=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(o)).cmpn(0))return!1;var d=o.redMul(this.z),h=r.redMul(t.z);return 0===this.y.redMul(h).redISub(t.y.redMul(d)).cmpn(0)},f.prototype.eqXToP=function(t){var o=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(o);if(0===this.x.cmp(r))return!0;for(var d=t.clone(),h=this.curve.redN.redMul(o);;){if(d.iadd(this.curve.n),0<=d.cmp(this.curve.p))return!1;if(r.redIAdd(h),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":132,"./base":119,"bn.js":133,inherits:159}],124:[function(m,B,i){"use strict";function g(o){this.curve="short"===o.type?new c.short(o):"edwards"===o.type?new c.edwards(o):new c.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(o,r){Object.defineProperty(x,o,{configurable:!0,enumerable:!0,get:function(){var d=new g(r);return Object.defineProperty(x,o,{configurable:!0,enumerable:!0,value:d}),d}})}var t,x=i,n=m("hash.js"),c=m("./curve"),s=m("./utils").assert;x.PresetCurve=g,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:n.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:n.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:n.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:n.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:n.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:n.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=m("./precomputed/secp256k1")}catch{t=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:n.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})},{"./curve":121,"./precomputed/secp256k1":131,"./utils":132,"hash.js":143}],125:[function(m,B){"use strict";function i(o){return this instanceof i?("string"==typeof o&&(u(Object.prototype.hasOwnProperty.call(n,o),"Unknown curve "+o),o=n[o]),o instanceof n.PresetCurve&&(o={curve:o}),this.curve=o.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=o.curve.g,this.g.precompute(o.curve.n.bitLength()+1),void(this.hash=o.hash||o.curve.hash)):new i(o)}var g=m("bn.js"),f=m("hmac-drbg"),x=m("../utils"),n=m("../curves"),c=m("brorand"),u=x.assert,s=m("./key"),t=m("./signature");B.exports=i,i.prototype.keyPair=function(o){return new s(this,o)},i.prototype.keyFromPrivate=function(o,r){return s.fromPrivate(this,o,r)},i.prototype.keyFromPublic=function(o,r){return s.fromPublic(this,o,r)},i.prototype.genKeyPair=function(o){o||(o={});for(var r=new f({hash:this.hash,pers:o.pers,persEnc:o.persEnc||"utf8",entropy:o.entropy||c(this.hash.hmacStrength),entropyEnc:o.entropy&&o.entropyEnc||"utf8",nonce:this.n.toArray()}),d=this.n.byteLength(),h=this.n.sub(new g(2));;){var l=new g(r.generate(d));if(!(0<l.cmp(h)))return l.iaddn(1),this.keyFromPrivate(l)}},i.prototype._truncateToN=function(o,r){var d=8*o.byteLength()-this.n.bitLength();return 0<d&&(o=o.ushrn(d)),!r&&0<=o.cmp(this.n)?o.sub(this.n):o},i.prototype.sign=function(o,r,d,h){"object"==typeof d&&(h=d,d=null),h||(h={}),r=this.keyFromPrivate(r,d),o=this._truncateToN(new g(o,16));for(var R,l=this.n.byteLength(),p=r.getPrivate().toArray("be",l),w=o.toArray("be",l),b=new f({hash:this.hash,entropy:p,nonce:w,pers:h.pers,persEnc:h.persEnc||"utf8"}),I=this.n.sub(new g(1)),S=0;;S++)if(R=h.k?h.k(S):new g(b.generate(this.n.byteLength())),!(0>=(R=this._truncateToN(R,!0)).cmpn(1)||0<=R.cmp(I))){var N=this.g.mul(R);if(!N.isInfinity()){var q=N.getX(),Z=q.umod(this.n);if(0!==Z.cmpn(0)){var le=R.invm(this.n).mul(Z.mul(r.getPrivate()).iadd(o));if(0!==(le=le.umod(this.n)).cmpn(0)){var we=(N.getY().isOdd()?1:0)|(0===q.cmp(Z)?0:2);return h.canonical&&0<le.cmp(this.nh)&&(le=this.n.sub(le),we^=1),new t({r:Z,s:le,recoveryParam:we})}}}}},i.prototype.verify=function(o,r,d,h){o=this._truncateToN(new g(o,16)),d=this.keyFromPublic(d,h);var l=(r=new t(r,"hex")).r,p=r.s;if(0>l.cmpn(1)||0<=l.cmp(this.n)||0>p.cmpn(1)||0<=p.cmp(this.n))return!1;var S,w=p.invm(this.n),b=w.mul(o).umod(this.n),I=w.mul(l).umod(this.n);return this.curve._maxwellTrick?!(S=this.g.jmulAdd(b,d.getPublic(),I)).isInfinity()&&S.eqXToP(l):!(S=this.g.mulAdd(b,d.getPublic(),I)).isInfinity()&&0===S.getX().umod(this.n).cmp(l)},i.prototype.recoverPubKey=function(o,r,d,h){u((3&d)===d,"The recovery param is more than two bits"),r=new t(r,h);var l=this.n,p=new g(o),w=r.r,b=r.s,I=1&d,S=d>>1;if(0<=w.cmp(this.curve.p.umod(this.curve.n))&&S)throw new Error("Unable to find sencond key candinate");w=this.curve.pointFromX(S?w.add(this.curve.n):w,I);var R=r.r.invm(l),N=l.sub(p).mul(R).umod(l),q=b.mul(R).umod(l);return this.g.mulAdd(N,w,q)},i.prototype.getKeyRecoveryParam=function(o,r,d,h){if(null!==(r=new t(r,h)).recoveryParam)return r.recoveryParam;for(var l=0;4>l;l++){var p;try{p=this.recoverPubKey(o,r,l)}catch{continue}if(p.eq(d))return l}throw new Error("Unable to find valid recovery factor")}},{"../curves":124,"../utils":132,"./key":126,"./signature":127,"bn.js":133,brorand:40,"hmac-drbg":155}],126:[function(m,B){"use strict";function i(n,c){this.ec=n,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}var g=m("bn.js"),x=m("../utils").assert;B.exports=i,i.fromPublic=function(n,c,u){return c instanceof i?c:new i(n,{pub:c,pubEnc:u})},i.fromPrivate=function(n,c,u){return c instanceof i?c:new i(n,{priv:c,privEnc:u})},i.prototype.validate=function(){var n=this.getPublic();return n.isInfinity()?{result:!1,reason:"Invalid public key"}:n.validate()?n.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(n,c){return"string"==typeof n&&(c=n,n=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,n):this.pub},i.prototype.getPrivate=function(n){return"hex"===n?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(n,c){this.priv=new g(n,c||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(n,c){return n.x||n.y?("mont"===this.ec.curve.type?x(n.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&x(n.x&&n.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(n.x,n.y))):void(this.pub=this.ec.curve.decodePoint(n,c))},i.prototype.derive=function(n){return n.validate()||x(n.validate(),"public point not validated"),n.mul(this.priv).getX()},i.prototype.sign=function(n,c,u){return this.ec.sign(n,this,c,u)},i.prototype.verify=function(n,c){return this.ec.verify(n,c,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":132,"bn.js":133}],127:[function(m,B){"use strict";function i(t,o){return t instanceof i?t:void(this._importDER(t,o)||(s(t.r&&t.s,"Signature without r or s"),this.r=new c(t.r,16),this.s=new c(t.s,16),this.recoveryParam=void 0===t.recoveryParam?null:t.recoveryParam))}function g(){this.place=0}function f(t,o){var r=t[o.place++];if(!(128&r))return r;var d=15&r;if(0==d||4<d)return!1;for(var h=0,l=0,p=o.place;l<d;l++,p++)h<<=8,h|=t[p],h>>>=0;return!(127>=h)&&(o.place=p,h)}function x(t){for(var o=0,r=t.length-1;!t[o]&&!(128&t[o+1])&&o<r;)o++;return 0===o?t:t.slice(o)}function n(t,o){if(128>o)t.push(o);else{var r=1+(yn(o)/Kt>>>3);for(t.push(128|r);--r;)t.push(255&o>>>(r<<3));t.push(o)}}var c=m("bn.js"),u=m("../utils"),s=u.assert;B.exports=i,i.prototype._importDER=function(t,o){t=u.toArray(t,o);var r=new g;if(48!==t[r.place++])return!1;var d=f(t,r);if(!1===d||d+r.place!==t.length||2!==t[r.place++])return!1;var h=f(t,r);if(!1===h)return!1;var l=t.slice(r.place,h+r.place);if(r.place+=h,2!==t[r.place++])return!1;var p=f(t,r);if(!1===p||t.length!==p+r.place)return!1;var w=t.slice(r.place,p+r.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===w[0]){if(!(128&w[1]))return!1;w=w.slice(1)}return this.r=new c(l),this.s=new c(w),this.recoveryParam=null,!0},i.prototype.toDER=function(t){var o=this.r.toArray(),r=this.s.toArray();for(128&o[0]&&(o=[0].concat(o)),128&r[0]&&(r=[0].concat(r)),o=x(o),r=x(r);!(r[0]||128&r[1]);)r=r.slice(1);var d=[2];n(d,o.length),(d=d.concat(o)).push(2),n(d,r.length);var h=d.concat(r),l=[48];return n(l,h.length),l=l.concat(h),u.encode(l,t)}},{"../utils":132,"bn.js":133}],128:[function(m,B){"use strict";function i(t){return n("ed25519"===t,"only tested with ed25519 so far"),this instanceof i?(this.curve=t=f[t].curve,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=ve(t.n.bitLength()/8),void(this.hash=g.sha512)):new i(t)}var g=m("hash.js"),f=m("../curves"),x=m("../utils"),n=x.assert,c=x.parseBytes,u=m("./key"),s=m("./signature");B.exports=i,i.prototype.sign=function(t,o){t=c(t);var r=this.keyFromSecret(o),d=this.hashInt(r.messagePrefix(),t),h=this.g.mul(d),l=this.encodePoint(h),p=this.hashInt(l,r.pubBytes(),t).mul(r.priv()),w=d.add(p).umod(this.curve.n);return this.makeSignature({R:h,S:w,Rencoded:l})},i.prototype.verify=function(t,o,r){t=c(t),o=this.makeSignature(o);var d=this.keyFromPublic(r),h=this.hashInt(o.Rencoded(),d.pubBytes(),t),l=this.g.mul(o.S());return o.R().add(d.pub().mul(h)).eq(l)},i.prototype.hashInt=function(){for(var t=this.hash(),o=0;o<arguments.length;o++)t.update(arguments[o]);return x.intFromLE(t.digest()).umod(this.curve.n)},i.prototype.keyFromPublic=function(t){return u.fromPublic(this,t)},i.prototype.keyFromSecret=function(t){return u.fromSecret(this,t)},i.prototype.makeSignature=function(t){return t instanceof s?t:new s(this,t)},i.prototype.encodePoint=function(t){var o=t.getY().toArray("le",this.encodingLength);return o[this.encodingLength-1]|=t.getX().isOdd()?128:0,o},i.prototype.decodePoint=function(t){var o=(t=x.parseBytes(t)).length-1,r=t.slice(0,o).concat(-129&t[o]),d=0!=(128&t[o]),h=x.intFromLE(r);return this.curve.pointFromY(h,d)},i.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},i.prototype.decodeInt=function(t){return x.intFromLE(t)},i.prototype.isPoint=function(t){return t instanceof this.pointClass}},{"../curves":124,"../utils":132,"./key":129,"./signature":130,"hash.js":143}],129:[function(m,B){"use strict";function i(c,u){this.eddsa=c,this._secret=x(u.secret),c.isPoint(u.pub)?this._pub=u.pub:this._pubBytes=x(u.pub)}var g=m("../utils"),f=g.assert,x=g.parseBytes,n=g.cachedProperty;i.fromPublic=function(c,u){return u instanceof i?u:new i(c,{pub:u})},i.fromSecret=function(c,u){return u instanceof i?u:new i(c,{secret:u})},i.prototype.secret=function(){return this._secret},n(i,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(i,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(i,"privBytes",function(){var c=this.eddsa,u=this.hash(),s=c.encodingLength-1,t=u.slice(0,c.encodingLength);return t[0]&=248,t[s]&=127,t[s]|=64,t}),n(i,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(i,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(i,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),i.prototype.sign=function(c){return f(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},i.prototype.verify=function(c,u){return this.eddsa.verify(c,u,this)},i.prototype.getSecret=function(c){return f(this._secret,"KeyPair is public only"),g.encode(this.secret(),c)},i.prototype.getPublic=function(c){return g.encode(this.pubBytes(),c)},B.exports=i},{"../utils":132}],130:[function(m,B){"use strict";function i(u,s){this.eddsa=u,"object"!=typeof s&&(s=c(s)),Array.isArray(s)&&(s={R:s.slice(0,u.encodingLength),S:s.slice(u.encodingLength)}),x(s.R&&s.S,"Signature without R or S"),u.isPoint(s.R)&&(this._R=s.R),s.S instanceof g&&(this._S=s.S),this._Rencoded=Array.isArray(s.R)?s.R:s.Rencoded,this._Sencoded=Array.isArray(s.S)?s.S:s.Sencoded}var g=m("bn.js"),f=m("../utils"),x=f.assert,n=f.cachedProperty,c=f.parseBytes;n(i,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(i,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(i,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(i,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),i.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},i.prototype.toHex=function(){return f.encode(this.toBytes(),"hex").toUpperCase()},B.exports=i},{"../utils":132,"bn.js":133}],131:[function(m,B){B.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],132:[function(m,B,i){"use strict";var g=i,f=m("bn.js"),x=m("minimalistic-assert"),n=m("minimalistic-crypto-utils");g.assert=x,g.toArray=n.toArray,g.zero2=n.zero2,g.toHex=n.toHex,g.encode=n.encode,g.getNAF=function(c,u,s){var t=Array(ue(c.bitLength(),s)+1);t.fill(0);for(var o=1<<u+1,r=c.clone(),d=0;d<t.length;d++){var l,h=r.andln(o-1);r.isOdd()?r.isubn(l=h>(o>>1)-1?(o>>1)-h:h):l=0,t[d]=l,r.iushrn(1)}return t},g.getJSF=function(c,u){var s=[[],[]];c=c.clone(),u=u.clone();for(var r,t=0,o=0;0<c.cmpn(-t)||0<u.cmpn(-o);){var l,p,d=3&c.andln(3)+t,h=3&u.andln(3)+o;3==d&&(d=-1),3===h&&(h=-1),l=1&d?3!=(r=7&c.andln(7)+t)&&5!==r||2!==h?d:-d:0,s[0].push(l),p=1&h?3!=(r=7&u.andln(7)+o)&&5!==r||2!==d?h:-h:0,s[1].push(p),2*t===l+1&&(t=1-t),2*o===p+1&&(o=1-o),c.iushrn(1),u.iushrn(1)}return s},g.cachedProperty=function(c,u,s){var t="_"+u;c.prototype[u]=function(){return void 0===this[t]?this[t]=s.call(this):this[t]}},g.parseBytes=function(c){return"string"==typeof c?g.toArray(c,"hex"):c},g.intFromLE=function(c){return new f(c,"hex","le")}},{"bn.js":133,"minimalistic-assert":180,"minimalistic-crypto-utils":181}],133:[function(m,B,i){arguments[4][22][0].apply(i,arguments)},{buffer:41,dup:22}],134:[function(m,B){B.exports={_from:"elliptic@^6.5.3",_id:"elliptic@6.5.4",_inBundle:!1,_integrity:"sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.5.3",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.5.3",saveSpec:null,fetchSpec:"^6.5.3"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz",_shasum:"da37cebd31e79a1367e941b592ed1fbebd58abbb",_spec:"elliptic@^6.5.3",_where:"/home/runner/work/webtorrent/webtorrent/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.4"}},{}],135:[function(m,B){(function(i){(function(){var g=m("once"),f=function(){},c=function(u,s,t){if("function"==typeof s)return c(u,null,s);s||(s={}),t=g(t||f);var o=u._writableState,r=u._readableState,d=s.readable||!1!==s.readable&&u.readable,h=s.writable||!1!==s.writable&&u.writable,l=!1,p=function(){u.writable||w()},w=function(){h=!1,d||t.call(u)},b=function(){d=!1,h||t.call(u)},I=function(Z){t.call(u,Z?new Error("exited with error code: "+Z):null)},S=function(Z){t.call(u,Z)},R=function(){i.nextTick(N)},N=function(){return l||(!d||r&&r.ended&&!r.destroyed)&&(!h||o&&o.ended&&!o.destroyed)?void 0:t.call(u,new Error("premature close"))},q=function(){u.req.on("finish",w)};return function(u){return u.setHeader&&"function"==typeof u.abort}(u)?(u.on("complete",w),u.on("abort",R),u.req?q():u.on("request",q)):h&&!o&&(u.on("end",p),u.on("close",p)),function(u){return u.stdio&&Array.isArray(u.stdio)&&3===u.stdio.length}(u)&&u.on("exit",I),u.on("end",b),u.on("finish",w),!1!==s.error&&u.on("error",S),u.on("close",R),function(){l=!0,u.removeListener("complete",w),u.removeListener("abort",R),u.removeListener("request",q),u.req&&u.req.removeListener("finish",w),u.removeListener("end",p),u.removeListener("close",p),u.removeListener("finish",w),u.removeListener("exit",I),u.removeListener("end",b),u.removeListener("error",S),u.removeListener("close",R)}};B.exports=c}).call(this)}).call(this,m("_process"))},{_process:205,once:191}],136:[function(m,B){"use strict";function i(g,f){for(const x in f)Object.defineProperty(g,x,{value:f[x],enumerable:!0,configurable:!0});return g}B.exports=function(g,f,x){if(!g||"string"==typeof g)throw new TypeError("Please pass an Error to err-code");x||(x={}),"object"==typeof f&&(x=f,f=""),f&&(x.code=f);try{return i(g,x)}catch{x.message=g.message,x.stack=g.stack;const c=function(){};return c.prototype=Object.create(Object.getPrototypeOf(g)),i(new c,x)}}},{}],137:[function(m,B){var i=m("safe-buffer").Buffer,g=m("md5.js");B.exports=function(f,x,n,c){if(i.isBuffer(f)||(f=i.from(f,"binary")),x&&(i.isBuffer(x)||(x=i.from(x,"binary")),8!==x.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var r,u=n/8,s=i.alloc(u),t=i.alloc(c||0),o=i.alloc(0);0<u||0<c;){(r=new g).update(o),r.update(f),x&&r.update(x),o=r.digest();var d=0;if(0<u){var h=s.length-u;d=Y(u,o.length),o.copy(s,h,0,d),u-=d}if(d<o.length&&0<c){var l=t.length-c,p=Y(c,o.length-d);o.copy(t,l,d,d+p),c-=p}}return o.fill(0),{key:s,iv:t}}},{"md5.js":171,"safe-buffer":247}],138:[function(m,B){B.exports=class{constructor(i){if(!(0<i)||i-1&i)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=Array(i),this.mask=i-1,this.top=0,this.btm=0,this.next=null}push(i){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=i,this.top=this.top+1&this.mask,!0)}shift(){const i=this.buffer[this.btm];if(void 0!==i)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,i}isEmpty(){return void 0===this.buffer[this.btm]}}},{}],139:[function(m,B){const i=m("./fixed-size");B.exports=class{constructor(g){this.hwm=g||16,this.head=new i(this.hwm),this.tail=this.head}push(g){this.head.push(g)||(this.head=this.head.next=new i(2*this.head.buffer.length),this.head.push(g))}shift(){const g=this.tail.shift();if(void 0===g&&this.tail.next){const f=this.tail.next;return this.tail.next=null,this.tail=f,this.tail.shift()}return g}isEmpty(){return this.head.isEmpty()}}},{"./fixed-size":138}],140:[function(m,B){const{Readable:i}=m("readable-stream"),g=m("typedarray-to-buffer");B.exports=class extends i{constructor(f,x={}){super(x),this._offset=0,this._ready=!1,this._file=f,this._size=f.size,this._chunkSize=x.chunkSize||ue(this._size/1e3,204800);const n=new FileReader;n.onload=()=>{this.push(g(n.result))},n.onerror=()=>{this.emit("error",n.error)},this.reader=n,this._generateHeaderBlocks(f,x,(c,u)=>c?this.emit("error",c):(Array.isArray(u)&&u.forEach(s=>this.push(s)),this._ready=!0,void this.emit("_ready")))}_generateHeaderBlocks(f,x,n){n(null,[])}_read(){if(!this._ready)return void this.once("_ready",this._read.bind(this));const f=this._offset;let x=this._offset+this._chunkSize;return x>this._size&&(x=this._size),f===this._size?(this.destroy(),void this.push(null)):(this.reader.readAsArrayBuffer(this._file.slice(f,x)),void(this._offset=x))}destroy(){if(this._file=null,this.reader){this.reader.onload=null,this.reader.onerror=null;try{this.reader.abort()}catch{}}this.reader=null}}},{"readable-stream":240,"typedarray-to-buffer":282}],141:[function(m,B){B.exports=function(){if(typeof globalThis>"u")return null;var i={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return i.RTCPeerConnection?i:null}},{}],142:[function(m,B){"use strict";function g(c){x.call(this),this._block=f.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var f=m("safe-buffer").Buffer,x=m("readable-stream").Transform;m("inherits")(g,x),g.prototype._transform=function(c,u,s){var t=null;try{this.update(c,u)}catch(o){t=o}s(t)},g.prototype._flush=function(c){var u=null;try{this.push(this.digest())}catch(s){u=s}c(u)},g.prototype.update=function(c,u){if(function i(c,u){if(!f.isBuffer(c)&&"string"!=typeof c)throw new TypeError(u+" must be a string or a buffer")}(c,"Data"),this._finalized)throw new Error("Digest already called");f.isBuffer(c)||(c=f.from(c,u));for(var s=this._block,t=0;this._blockOffset+c.length-t>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)s[o++]=c[t++];this._update(),this._blockOffset=0}for(;t<c.length;)s[this._blockOffset++]=c[t++];for(var r=0,d=8*c.length;0<d;++r)this._length[r]+=d,0<(d=0|this._length[r]/4294967296)&&(this._length[r]-=4294967296*d);return this},g.prototype._update=function(){throw new Error("_update is not implemented")},g.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var u=this._digest();void 0!==c&&(u=u.toString(c)),this._block.fill(0),this._blockOffset=0;for(var s=0;4>s;++s)this._length[s]=0;return u},g.prototype._digest=function(){throw new Error("_digest is not implemented")},B.exports=g},{inherits:159,"readable-stream":240,"safe-buffer":247}],143:[function(m,B,i){var g=i;g.utils=m("./hash/utils"),g.common=m("./hash/common"),g.sha=m("./hash/sha"),g.ripemd=m("./hash/ripemd"),g.hmac=m("./hash/hmac"),g.sha1=g.sha.sha1,g.sha256=g.sha.sha256,g.sha224=g.sha.sha224,g.sha384=g.sha.sha384,g.sha512=g.sha.sha512,g.ripemd160=g.ripemd.ripemd160},{"./hash/common":144,"./hash/hmac":145,"./hash/ripemd":146,"./hash/sha":147,"./hash/utils":154}],144:[function(m,B,i){"use strict";function g(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var f=m("./utils"),x=m("minimalistic-assert");i.BlockHash=g,g.prototype.update=function(n,c){if(n=f.toArray(n,c),this.pending=this.pending?this.pending.concat(n):n,this.pendingTotal+=n.length,this.pending.length>=this._delta8){var u=(n=this.pending).length%this._delta8;this.pending=n.slice(n.length-u,n.length),0===this.pending.length&&(this.pending=null),n=f.join32(n,0,n.length-u,this.endian);for(var s=0;s<n.length;s+=this._delta32)this._update(n,s,s+this._delta32)}return this},g.prototype.digest=function(n){return this.update(this._pad()),x(null===this.pending),this._digest(n)},g.prototype._pad=function(){var n=this.pendingTotal,c=this._delta8,u=c-(n+this.padLength)%c,s=Array(u+this.padLength);s[0]=128;for(var t=1;t<u;t++)s[t]=0;if(n<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)s[t++]=0;s[t++]=0,s[t++]=0,s[t++]=0,s[t++]=0,s[t++]=255&n>>>24,s[t++]=255&n>>>16,s[t++]=255&n>>>8,s[t++]=255&n}else for(s[t++]=255&n,s[t++]=255&n>>>8,s[t++]=255&n>>>16,s[t++]=255&n>>>24,s[t++]=0,s[t++]=0,s[t++]=0,s[t++]=0,o=8;o<this.padLength;o++)s[t++]=0;return s}},{"./utils":154,"minimalistic-assert":180}],145:[function(m,B){"use strict";function i(x,n,c){return this instanceof i?(this.Hash=x,this.blockSize=x.blockSize/8,this.outSize=x.outSize/8,this.inner=null,this.outer=null,void this._init(g.toArray(n,c))):new i(x,n,c)}var g=m("./utils"),f=m("minimalistic-assert");B.exports=i,i.prototype._init=function(x){x.length>this.blockSize&&(x=(new this.Hash).update(x).digest()),f(x.length<=this.blockSize);for(var n=x.length;n<this.blockSize;n++)x.push(0);for(n=0;n<x.length;n++)x[n]^=54;for(this.inner=(new this.Hash).update(x),n=0;n<x.length;n++)x[n]^=106;this.outer=(new this.Hash).update(x)},i.prototype.update=function(x,n){return this.inner.update(x,n),this},i.prototype.digest=function(x){return this.outer.update(this.inner.digest()),this.outer.digest(x)}},{"./utils":154,"minimalistic-assert":180}],146:[function(m,B,i){"use strict";function g(){return this instanceof g?(d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new g}function f(b,I,S,R){return 15>=b?I^S^R:31>=b?I&S|~I&R:47>=b?(I|~S)^R:63>=b?I&R|S&~R:I^(S|~R)}function x(b){return 15>=b?0:31>=b?1518500249:47>=b?1859775393:63>=b?2400959708:2840853838}function n(b){return 15>=b?1352829926:31>=b?1548603684:47>=b?1836072691:63>=b?2053994217:0}var c=m("./utils"),u=m("./common"),s=c.rotl32,t=c.sum32,o=c.sum32_3,r=c.sum32_4,d=u.BlockHash;c.inherits(g,d),i.ripemd160=g,g.blockSize=512,g.outSize=160,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(b,I){for(var y,S=this.h[0],R=this.h[1],N=this.h[2],q=this.h[3],Z=this.h[4],le=S,we=R,ke=N,A=q,L=Z,z=0;80>z;z++)y=t(s(r(S,f(z,R,N,q),b[h[z]+I],x(z)),p[z]),Z),S=Z,Z=q,q=s(N,10),N=R,R=y,y=t(s(r(le,f(79-z,we,ke,A),b[l[z]+I],n(z)),w[z]),L),le=L,L=A,A=s(ke,10),ke=we,we=y;y=o(this.h[1],N,A),this.h[1]=o(this.h[2],q,L),this.h[2]=o(this.h[3],Z,le),this.h[3]=o(this.h[4],S,we),this.h[4]=o(this.h[0],R,ke),this.h[0]=y},g.prototype._digest=function(b){return"hex"===b?c.toHex32(this.h,"little"):c.split32(this.h,"little")};var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":144,"./utils":154}],147:[function(m,B,i){"use strict";i.sha1=m("./sha/1"),i.sha224=m("./sha/224"),i.sha256=m("./sha/256"),i.sha384=m("./sha/384"),i.sha512=m("./sha/512")},{"./sha/1":148,"./sha/224":149,"./sha/256":150,"./sha/384":151,"./sha/512":152}],148:[function(m,B){"use strict";function i(){return this instanceof i?(t.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=Array(80))):new i}var g=m("../utils"),f=m("../common"),x=m("./common"),n=g.rotl32,c=g.sum32,u=g.sum32_5,s=x.ft_1,t=f.BlockHash,o=[1518500249,1859775393,2400959708,3395469782];g.inherits(i,t),B.exports=i,i.blockSize=512,i.outSize=160,i.hmacStrength=80,i.padLength=64,i.prototype._update=function(r,d){for(var h=this.W,l=0;16>l;l++)h[l]=r[d+l];for(;l<h.length;l++)h[l]=n(h[l-3]^h[l-8]^h[l-14]^h[l-16],1);var p=this.h[0],w=this.h[1],b=this.h[2],I=this.h[3],S=this.h[4];for(l=0;l<h.length;l++){var R=~~(l/20),N=u(n(p,5),s(R,w,b,I),S,h[l],o[R]);S=I,I=b,b=n(w,30),w=p,p=N}this.h[0]=c(this.h[0],p),this.h[1]=c(this.h[1],w),this.h[2]=c(this.h[2],b),this.h[3]=c(this.h[3],I),this.h[4]=c(this.h[4],S)},i.prototype._digest=function(r){return"hex"===r?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},{"../common":144,"../utils":154,"./common":153}],149:[function(m,B){"use strict";function i(){return this instanceof i?(f.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new i}var g=m("../utils"),f=m("./256");g.inherits(i,f),B.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(x){return"hex"===x?g.toHex32(this.h.slice(0,7),"big"):g.split32(this.h.slice(0,7),"big")}},{"../utils":154,"./256":150}],150:[function(m,B){"use strict";function i(){return this instanceof i?(p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,void(this.W=Array(64))):new i}var g=m("../utils"),f=m("../common"),x=m("./common"),n=m("minimalistic-assert"),c=g.sum32,u=g.sum32_4,s=g.sum32_5,t=x.ch32,o=x.maj32,r=x.s0_256,d=x.s1_256,h=x.g0_256,l=x.g1_256,p=f.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];g.inherits(i,p),B.exports=i,i.blockSize=512,i.outSize=256,i.hmacStrength=192,i.padLength=64,i.prototype._update=function(b,I){for(var S=this.W,R=0;16>R;R++)S[R]=b[I+R];for(;R<S.length;R++)S[R]=u(l(S[R-2]),S[R-7],h(S[R-15]),S[R-16]);var N=this.h[0],q=this.h[1],Z=this.h[2],le=this.h[3],we=this.h[4],ke=this.h[5],A=this.h[6],L=this.h[7];for(n(this.k.length===S.length),R=0;R<S.length;R++){var z=s(L,d(we),t(we,ke,A),this.k[R],S[R]),y=c(r(N),o(N,q,Z));L=A,A=ke,ke=we,we=c(le,z),le=Z,Z=q,q=N,N=c(z,y)}this.h[0]=c(this.h[0],N),this.h[1]=c(this.h[1],q),this.h[2]=c(this.h[2],Z),this.h[3]=c(this.h[3],le),this.h[4]=c(this.h[4],we),this.h[5]=c(this.h[5],ke),this.h[6]=c(this.h[6],A),this.h[7]=c(this.h[7],L)},i.prototype._digest=function(b){return"hex"===b?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},{"../common":144,"../utils":154,"./common":153,"minimalistic-assert":180}],151:[function(m,B){"use strict";function i(){return this instanceof i?(f.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new i}var g=m("../utils"),f=m("./512");g.inherits(i,f),B.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(x){return"hex"===x?g.toHex32(this.h.slice(0,12),"big"):g.split32(this.h.slice(0,12),"big")}},{"../utils":154,"./512":152}],152:[function(m,B){"use strict";function i(){return this instanceof i?(L.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=z,void(this.W=Array(160))):new i}function g(y,C,M,U,ee){var J=y&M^~y&ee;return 0>J&&(J+=4294967296),J}function f(y,C,M,U,ee,J){var re=C&U^~C&J;return 0>re&&(re+=4294967296),re}function x(y,C,M,U,ee){var J=y&M^y&ee^M&ee;return 0>J&&(J+=4294967296),J}function n(y,C,M,U,ee,J){var re=C&U^C&J^U&J;return 0>re&&(re+=4294967296),re}function c(y,C){var J=b(y,C,28)^b(C,y,2)^b(C,y,7);return 0>J&&(J+=4294967296),J}function u(y,C){var J=I(y,C,28)^I(C,y,2)^I(C,y,7);return 0>J&&(J+=4294967296),J}function s(y,C){var J=b(y,C,14)^b(y,C,18)^b(C,y,9);return 0>J&&(J+=4294967296),J}function t(y,C){var J=I(y,C,14)^I(y,C,18)^I(C,y,9);return 0>J&&(J+=4294967296),J}function o(y,C){var J=b(y,C,1)^b(y,C,8)^S(y,C,7);return 0>J&&(J+=4294967296),J}function r(y,C){var J=I(y,C,1)^I(y,C,8)^R(y,C,7);return 0>J&&(J+=4294967296),J}function d(y,C){var J=b(y,C,19)^b(C,y,29)^S(y,C,6);return 0>J&&(J+=4294967296),J}function h(y,C){var J=I(y,C,19)^I(C,y,29)^R(y,C,6);return 0>J&&(J+=4294967296),J}var l=m("../utils"),p=m("../common"),w=m("minimalistic-assert"),b=l.rotr64_hi,I=l.rotr64_lo,S=l.shr64_hi,R=l.shr64_lo,N=l.sum64,q=l.sum64_hi,Z=l.sum64_lo,le=l.sum64_4_hi,we=l.sum64_4_lo,ke=l.sum64_5_hi,A=l.sum64_5_lo,L=p.BlockHash,z=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];l.inherits(i,L),B.exports=i,i.blockSize=1024,i.outSize=512,i.hmacStrength=192,i.padLength=128,i.prototype._prepareBlock=function(y,C){for(var M=this.W,U=0;32>U;U++)M[U]=y[C+U];for(;U<M.length;U+=2){var ee=d(M[U-4],M[U-3]),J=h(M[U-4],M[U-3]),re=M[U-14],Ue=M[U-13],We=o(M[U-30],M[U-29]),Qe=r(M[U-30],M[U-29]),ft=M[U-32],pt=M[U-31];M[U]=le(ee,J,re,Ue,We,Qe,ft,pt),M[U+1]=we(ee,J,re,Ue,We,Qe,ft,pt)}},i.prototype._update=function(y,C){this._prepareBlock(y,C);var M=this.W,U=this.h[0],ee=this.h[1],J=this.h[2],re=this.h[3],Ue=this.h[4],We=this.h[5],Qe=this.h[6],ft=this.h[7],pt=this.h[8],Xt=this.h[9],It=this.h[10],Ft=this.h[11],Ke=this.h[12],mt=this.h[13],St=this.h[14],K=this.h[15];w(this.k.length===M.length);for(var se=0;se<M.length;se+=2){var X=St,ce=K,Je=s(pt,Xt),ie=t(pt,Xt),pe=g(pt,0,It,0,Ke),Ye=f(0,Xt,0,Ft,0,mt),at=this.k[se],dt=this.k[se+1],Gt=M[se],Jt=M[se+1],an=ke(X,ce,Je,ie,pe,Ye,at,dt,Gt,Jt),Cn=A(X,ce,Je,ie,pe,Ye,at,dt,Gt,Jt);X=c(U,ee),ce=u(U,ee),Je=x(U,0,J,0,Ue),ie=n(0,ee,0,re,0,We);var hn=q(X,ce,Je,ie),En=Z(X,ce,Je,ie);St=Ke,K=mt,Ke=It,mt=Ft,It=pt,Ft=Xt,pt=q(Qe,ft,an,Cn),Xt=Z(ft,ft,an,Cn),Qe=Ue,ft=We,Ue=J,We=re,J=U,re=ee,U=q(an,Cn,hn,En),ee=Z(an,Cn,hn,En)}N(this.h,0,U,ee),N(this.h,2,J,re),N(this.h,4,Ue,We),N(this.h,6,Qe,ft),N(this.h,8,pt,Xt),N(this.h,10,It,Ft),N(this.h,12,Ke,mt),N(this.h,14,St,K)},i.prototype._digest=function(y){return"hex"===y?l.toHex32(this.h,"big"):l.split32(this.h,"big")}},{"../common":144,"../utils":154,"minimalistic-assert":180}],153:[function(m,B,i){"use strict";function g(u,s,t){return u&s^~u&t}function f(u,s,t){return u&s^u&t^s&t}function x(u,s,t){return u^s^t}var c=m("../utils").rotr32;i.ft_1=function(u,s,t,o){return 0===u?g(s,t,o):1===u||3===u?x(s,t,o):2===u?f(s,t,o):void 0},i.ch32=g,i.maj32=f,i.p32=x,i.s0_256=function(u){return c(u,2)^c(u,13)^c(u,22)},i.s1_256=function(u){return c(u,6)^c(u,11)^c(u,25)},i.g0_256=function(u){return c(u,7)^c(u,18)^u>>>3},i.g1_256=function(u){return c(u,17)^c(u,19)^u>>>10}},{"../utils":154}],154:[function(m,B,i){"use strict";function g(s,t){return 55296==(64512&s.charCodeAt(t))&&!(0>t||t+1>=s.length)&&56320==(64512&s.charCodeAt(t+1))}function f(s){return(s>>>24|65280&s>>>8|16711680&s<<8|(255&s)<<24)>>>0}function x(s){return 1===s.length?"0"+s:s}function n(s){return 7===s.length?"0"+s:6===s.length?"00"+s:5===s.length?"000"+s:4===s.length?"0000"+s:3===s.length?"00000"+s:2===s.length?"000000"+s:1===s.length?"0000000"+s:s}var c=m("minimalistic-assert"),u=m("inherits");i.inherits=u,i.toArray=function(s,t){if(Array.isArray(s))return s.slice();if(!s)return[];var o=[];if("string"!=typeof s)for(d=0;d<s.length;d++)o[d]=0|s[d];else if(t){if("hex"===t)for((s=s.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(s="0"+s),d=0;d<s.length;d+=2)o.push(parseInt(s[d]+s[d+1],16))}else for(var h,r=0,d=0;d<s.length;d++)128>(h=s.charCodeAt(d))?o[r++]=h:2048>h?(o[r++]=192|h>>6,o[r++]=128|63&h):g(s,d)?(h=65536+((1023&h)<<10)+(1023&s.charCodeAt(++d)),o[r++]=240|h>>18,o[r++]=128|63&h>>12,o[r++]=128|63&h>>6,o[r++]=128|63&h):(o[r++]=224|h>>12,o[r++]=128|63&h>>6,o[r++]=128|63&h);return o},i.toHex=function(s){for(var t="",o=0;o<s.length;o++)t+=x(s[o].toString(16));return t},i.htonl=f,i.toHex32=function(s,t){for(var d,o="",r=0;r<s.length;r++)d=s[r],"little"===t&&(d=f(d)),o+=n(d.toString(16));return o},i.zero2=x,i.zero8=n,i.join32=function(s,t,o,r){var d=o-t;c(d%4==0);for(var h=Array(d/4),l=0,p=t;l<h.length;l++,p+=4)h[l]=("big"===r?s[p]<<24|s[p+1]<<16|s[p+2]<<8|s[p+3]:s[p+3]<<24|s[p+2]<<16|s[p+1]<<8|s[p])>>>0;return h},i.split32=function(s,t){for(var h,o=Array(4*s.length),r=0,d=0;r<s.length;r++,d+=4)h=s[r],"big"===t?(o[d]=h>>>24,o[d+1]=255&h>>>16,o[d+2]=255&h>>>8,o[d+3]=255&h):(o[d+3]=h>>>24,o[d+2]=255&h>>>16,o[d+1]=255&h>>>8,o[d]=255&h);return o},i.rotr32=function(s,t){return s>>>t|s<<32-t},i.rotl32=function(s,t){return s<<t|s>>>32-t},i.sum32=function(s,t){return s+t>>>0},i.sum32_3=function(s,t,o){return s+t+o>>>0},i.sum32_4=function(s,t,o,r){return s+t+o+r>>>0},i.sum32_5=function(s,t,o,r,d){return s+t+o+r+d>>>0},i.sum64=function(s,t,o,r){var l=r+s[t+1]>>>0;s[t]=(l<r?1:0)+o+s[t]>>>0,s[t+1]=l},i.sum64_hi=function(s,t,o,r){return(t+r>>>0<t?1:0)+s+o>>>0},i.sum64_lo=function(s,t,o,r){return t+r>>>0},i.sum64_4_hi=function(s,t,o,r,d,h,l,p){var w=0,b=t;return w+=(b=b+r>>>0)<t?1:0,w+=(b=b+h>>>0)<h?1:0,s+o+d+l+(w+=(b=b+p>>>0)<p?1:0)>>>0},i.sum64_4_lo=function(s,t,o,r,d,h,l,p){return t+r+h+p>>>0},i.sum64_5_hi=function(s,t,o,r,d,h,l,p,w,b){var I=0,S=t;return I+=(S=S+r>>>0)<t?1:0,I+=(S=S+h>>>0)<h?1:0,I+=(S=S+p>>>0)<p?1:0,s+o+d+l+w+(I+=(S=S+b>>>0)<b?1:0)>>>0},i.sum64_5_lo=function(s,t,o,r,d,h,l,p,w,b){return t+r+h+p+b>>>0},i.rotr64_hi=function(s,t,o){return(t<<32-o|s>>>o)>>>0},i.rotr64_lo=function(s,t,o){return(s<<32-o|t>>>o)>>>0},i.shr64_hi=function(s,t,o){return s>>>o},i.shr64_lo=function(s,t,o){return(s<<32-o|t>>>o)>>>0}},{inherits:159,"minimalistic-assert":180}],155:[function(m,B){"use strict";function i(n){if(!(this instanceof i))return new i(n);this.hash=n.hash,this.predResist=!!n.predResist,this.outLen=this.hash.outSize,this.minEntropy=n.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=f.toArray(n.entropy,n.entropyEnc||"hex"),u=f.toArray(n.nonce,n.nonceEnc||"hex"),s=f.toArray(n.pers,n.persEnc||"hex");x(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,u,s)}var g=m("hash.js"),f=m("minimalistic-crypto-utils"),x=m("minimalistic-assert");B.exports=i,i.prototype._init=function(n,c,u){var s=n.concat(c).concat(u);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var t=0;t<this.V.length;t++)this.K[t]=0,this.V[t]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656},i.prototype._hmac=function(){return new g.hmac(this.hash,this.K)},i.prototype._update=function(n){var c=this._hmac().update(this.V).update([0]);n&&(c=c.update(n)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),n&&(this.K=this._hmac().update(this.V).update([1]).update(n).digest(),this.V=this._hmac().update(this.V).digest())},i.prototype.reseed=function(n,c,u,s){"string"!=typeof c&&(s=u,u=c,c=null),n=f.toArray(n,c),u=f.toArray(u,s),x(n.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(n.concat(u||[])),this._reseed=1},i.prototype.generate=function(n,c,u,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof c&&(s=u,u=c,c=null),u&&(u=f.toArray(u,s||"hex"),this._update(u));for(var t=[];t.length<n;)this.V=this._hmac().update(this.V).digest(),t=t.concat(this.V);var o=t.slice(0,n);return this._update(u),this._reseed++,f.encode(o,c)}},{"hash.js":143,"minimalistic-assert":180,"minimalistic-crypto-utils":181}],156:[function(m,B){function i(c){if("string"==typeof c&&(c=f.parse(c)),c.protocol||(c.protocol="https:"),"https:"!==c.protocol)throw new Error('Protocol "'+c.protocol+'" not supported. Expected "https:"');return c}var g=m("http"),f=m("url"),x=B.exports;for(var n in g)g.hasOwnProperty(n)&&(x[n]=g[n]);x.request=function(c,u){return c=i(c),g.request.call(this,c,u)},x.get=function(c,u){return c=i(c),g.get.call(this,c,u)}},{http:268,url:285}],157:[function(m,B,i){i.read=function(g,f,x,n,c){var l,p,u=8*c-n-1,s=(1<<u)-1,t=s>>1,o=-7,r=x?c-1:0,d=x?-1:1,h=g[f+r];for(r+=d,l=h&(1<<-o)-1,h>>=-o,o+=u;0<o;l=256*l+g[f+r],r+=d,o-=8);for(p=l&(1<<-o)-1,l>>=-o,o+=n;0<o;p=256*p+g[f+r],r+=d,o-=8);if(0===l)l=1-t;else{if(l===s)return p?NaN:1/0*(h?-1:1);p+=j(2,n),l-=t}return(h?-1:1)*p*j(2,l-n)},i.write=function(g,f,x,n,c,u){var p,w,b,s=8*u-c-1,t=(1<<s)-1,o=t>>1,r=23===c?j(2,-24)-j(2,-77):0,d=n?0:u-1,h=n?1:-1,l=0>f||0===f&&0>1/f?1:0;for(f=At(f),isNaN(f)||f===1/0?(w=isNaN(f)?1:0,p=t):(p=wt(yn(f)/Kt),1>f*(b=j(2,-p))&&(p--,b*=2),2<=(f+=1<=p+o?r/b:r*j(2,1-o))*b&&(p++,b/=2),p+o>=t?(w=0,p=t):1<=p+o?(w=(f*b-1)*j(2,c),p+=o):(w=f*j(2,o-1)*j(2,c),p=0));8<=c;g[x+d]=255&w,d+=h,w/=256,c-=8);for(p=p<<c|w,s+=c;0<s;g[x+d]=255&p,d+=h,p/=256,s-=8);g[x+d-h]|=128*l}},{}],158:[function(m,B){const i=m("queue-microtask");B.exports=class{constructor(g){if(this.store=g,this.chunkLength=g.chunkLength,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.mem=[]}put(g,f,x=(()=>{})){this.mem[g]=f,this.store.put(g,f,n=>{this.mem[g]=null,x(n)})}get(g,f,x=(()=>{})){if("function"==typeof f)return this.get(g,null,f);let n=this.mem[g];if(!n)return this.store.get(g,f,x);f||(f={});const c=f.offset||0,u=f.length||n.length-c;(0!==c||u!==n.length)&&(n=n.slice(c,u+c)),i(()=>x(null,n))}close(g=(()=>{})){this.store.close(g)}destroy(g=(()=>{})){this.store.destroy(g)}}},{"queue-microtask":218}],159:[function(m,B){B.exports="function"==typeof Object.create?function(i,g){g&&(i.super_=g,i.prototype=Object.create(g.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:function(i,g){if(g){i.super_=g;var f=function(){};f.prototype=g.prototype,i.prototype=new f,i.prototype.constructor=i}}},{}],160:[function(m,B){B.exports=function(i){for(var g=0,f=i.length;g<f;++g)if(i.charCodeAt(g)>127)return!1;return!0}},{}],161:[function(m,B){function i(f){return!!f.constructor&&"function"==typeof f.constructor.isBuffer&&f.constructor.isBuffer(f)}B.exports=function(f){return null!=f&&(i(f)||function g(f){return"function"==typeof f.readFloatLE&&"function"==typeof f.slice&&i(f.slice(0,0))}(f)||!!f._isBuffer)}},{}],162:[function(m,B){function i(c){return g(c)||f(c)}function g(c){return c instanceof Int8Array||c instanceof Int16Array||c instanceof Int32Array||c instanceof Uint8Array||c instanceof Uint8ClampedArray||c instanceof Uint16Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array}function f(c){return n[x.call(c)]}B.exports=i,i.strict=g,i.loose=f;var x=Object.prototype.toString,n={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0}},{}],163:[function(m,B,i){"use strict";i.re=()=>{throw new Error("`junk.re` was renamed to `junk.regex`")},i.regex=new RegExp(["^npm-debug\\.log$","^\\..*\\.swp$","^\\.DS_Store$","^\\.AppleDouble$","^\\.LSOverride$","^Icon\\r$","^\\._.*","^\\.Spotlight-V100(?:$|\\/)","\\.Trashes","^__MACOSX$","~$","^Thumbs\\.db$","^ehthumbs\\.db$","^Desktop\\.ini$","@eaDir$"].join("|")),i.is=g=>i.regex.test(g),i.not=g=>!i.is(g),i.default=B.exports},{}],164:[function(m,B,i){i.RateLimiter=m("./lib/rateLimiter"),i.TokenBucket=m("./lib/tokenBucket")},{"./lib/rateLimiter":166,"./lib/tokenBucket":167}],165:[function(m,B){(function(i){(function(){B.exports=function(){if(typeof i<"u"&&i.hrtime){var g=i.hrtime();return 1e3*g[0]+wt(g[1]/1e6)}return(new Date).getTime()}}).call(this)}).call(this,m("_process"))},{_process:205}],166:[function(m,B){(function(i){(function(){var g=m("./tokenBucket"),f=m("./clock"),x=function(n,c,u){this.tokenBucket=new g(n,n,c,null),this.tokenBucket.content=n,this.curIntervalStart=f(),this.tokensThisInterval=0,this.fireImmediately=u};x.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(n,c){function u(r,d){return r?c(r,null):(s.tokensThisInterval+=n,void c(null,d))}if(n>this.tokenBucket.bucketSize)return i.nextTick(c.bind(null,"Requested tokens "+n+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var s=this,t=f();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),n>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)i.nextTick(c.bind(null,null,-1));else{var o=ve(this.curIntervalStart+this.tokenBucket.interval-t);setTimeout(function(){s.tokenBucket.removeTokens(n,u)},o)}return!1}return this.tokenBucket.removeTokens(n,u)},tryRemoveTokens:function(n){if(n>this.tokenBucket.bucketSize)return!1;var c=f();if((c<this.curIntervalStart||c-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=c,this.tokensThisInterval=0),n>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var u=this.tokenBucket.tryRemoveTokens(n);return u&&(this.tokensThisInterval+=n),u},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},B.exports=x}).call(this)}).call(this,m("_process"))},{"./clock":165,"./tokenBucket":167,_process:205}],167:[function(m,B){(function(i){(function(){var g=function(f,x,n,c){if(this.bucketSize=f,this.tokensPerInterval=x,"string"==typeof n)switch(n){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+n)}else this.interval=n;this.parentBucket=c,this.content=0,this.lastDrip=+new Date};g.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(f,x){function n(){var u=ve(c.interval/c.tokensPerInterval*(f-c.content));return setTimeout(function(){c.removeTokens(f,x)},u),!1}var c=this;return this.bucketSize?f>this.bucketSize?(i.nextTick(x.bind(null,"Requested tokens "+f+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),f>this.content?n():this.parentBucket?this.parentBucket.removeTokens(f,function(u,s){return u?x(u,null):f>c.content?n():(c.content-=f,void x(null,Y(s,c.content)))}):(this.content-=f,i.nextTick(x.bind(null,null,this.content)),!0)):(i.nextTick(x.bind(null,null,f,Number.POSITIVE_INFINITY)),!0)},tryRemoveTokens:function(f){return!this.bucketSize||!(f>this.bucketSize)&&(this.drip(),!(f>this.content))&&(!this.parentBucket||this.parentBucket.tryRemoveTokens(f))&&(this.content-=f,!0)},drip:function(){if(this.tokensPerInterval){var f=+new Date,x=ue(f-this.lastDrip,0);this.lastDrip=f,this.content=Y(this.content+x*(this.tokensPerInterval/this.interval),this.bucketSize)}else this.content=this.bucketSize}},B.exports=g}).call(this)}).call(this,m("_process"))},{_process:205}],168:[function(m,B){function i(x){return this instanceof i?("number"==typeof x&&(x={max:x}),!x&&(x={}),g.EventEmitter.call(this),this.cache={},this.head=this.tail=null,this.length=0,this.max=x.max||1e3,void(this.maxAge=x.maxAge||0)):new i(x)}var g=m("events"),f=m("inherits");B.exports=i,f(i,g.EventEmitter),Object.defineProperty(i.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),i.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},i.prototype.remove=function(x){if("string"!=typeof x&&(x=""+x),this.cache.hasOwnProperty(x)){var n=this.cache[x];return delete this.cache[x],this._unlink(x,n.prev,n.next),n.value}},i.prototype._unlink=function(x,n,c){this.length--,0===this.length?this.head=this.tail=null:this.head===x?(this.head=n,this.cache[this.head].next=null):this.tail===x?(this.tail=c,this.cache[this.tail].prev=null):(this.cache[n].next=c,this.cache[c].prev=n)},i.prototype.peek=function(x){if(this.cache.hasOwnProperty(x)){var n=this.cache[x];return this._checkAge(x,n)?n.value:void 0}},i.prototype.set=function(x,n){var c;if("string"!=typeof x&&(x=""+x),this.cache.hasOwnProperty(x)){if((c=this.cache[x]).value=n,this.maxAge&&(c.modified=Date.now()),x===this.head)return n;this._unlink(x,c.prev,c.next)}else c={value:n,modified:0,next:null,prev:null},this.maxAge&&(c.modified=Date.now()),this.cache[x]=c,this.length===this.max&&this.evict();return this.length++,c.next=null,c.prev=this.head,this.head&&(this.cache[this.head].next=x),this.head=x,this.tail||(this.tail=x),n},i.prototype._checkAge=function(x,n){return!(this.maxAge&&Date.now()-n.modified>this.maxAge&&(this.remove(x),this.emit("evict",{key:x,value:n.value}),1))},i.prototype.get=function(x){if("string"!=typeof x&&(x=""+x),this.cache.hasOwnProperty(x)){var n=this.cache[x];if(this._checkAge(x,n))return this.head!==x&&(x===this.tail?(this.tail=n.next,this.cache[this.tail].prev=null):this.cache[n.prev].next=n.next,this.cache[n.next].prev=n.prev,this.cache[this.head].next=x,n.prev=this.head,n.next=null,this.head=x),n.value}},i.prototype.evict=function(){if(this.tail){var x=this.tail,n=this.remove(this.tail);this.emit("evict",{key:x,value:n})}}},{events:70,inherits:159}],169:[function(m,B){(function(i){(function(){const g=m("unordered-array-remove"),{EventEmitter:f}=m("events"),x=m("debug")("lt_donthave");B.exports=()=>{class n extends f{constructor(u){super(),this._peerSupports=!1,this._wire=u}onExtendedHandshake(){this._peerSupports=!0}onMessage(u){let s;try{s=u.readUInt32BE()}catch{return}this._wire.peerPieces.get(s)&&(x("got donthave %d",s),this._wire.peerPieces.set(s,!1),this.emit("donthave",s),this._failRequests(s))}donthave(u){if(this._peerSupports){x("donthave %d",u);const s=i.alloc(4);s.writeUInt32BE(u),this._wire.extended("lt_donthave",s)}}_failRequests(u){const s=this._wire.requests;for(let t=0;t<s.length;t++){const o=s[t];o.piece===u&&(g(s,t),t-=1,this._wire._callback(o,new Error("peer sent donthave"),null))}}}return n.prototype.name="lt_donthave",n}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69,debug:105,events:70,"unordered-array-remove":284}],170:[function(m,B){(function(i){(function(){function g(n){const c={},u=n.split("magnet:?")[1];let t;return(u&&0<=u.length?u.split("&"):[]).forEach(o=>{const r=o.split("=");if(2!==r.length)return;const d=r[0];let h=r[1];"dn"===d&&(h=decodeURIComponent(h).replace(/\+/g," ")),("tr"===d||"xs"===d||"as"===d||"ws"===d)&&(h=decodeURIComponent(h)),"kt"===d&&(h=decodeURIComponent(h).split("+")),"ix"===d&&(h=+h),"so"===d&&(h=x.parse(decodeURIComponent(h).split(","))),c[d]?(!Array.isArray(c[d])&&(c[d]=[c[d]]),c[d].push(h)):c[d]=h}),c.xt&&(Array.isArray(c.xt)?c.xt:[c.xt]).forEach(r=>{if(t=r.match(/^urn:btih:(.{40})/))c.infoHash=t[1].toLowerCase();else if(t=r.match(/^urn:btih:(.{32})/)){const d=f.decode(t[1]);c.infoHash=i.from(d,"binary").toString("hex")}else(t=r.match(/^urn:btmh:1220(.{64})/))&&(c.infoHashV2=t[1].toLowerCase())}),c.xs&&(Array.isArray(c.xs)?c.xs:[c.xs]).forEach(r=>{(t=r.match(/^urn:btpk:(.{64})/))&&(c.publicKey=t[1].toLowerCase())}),c.infoHash&&(c.infoHashBuffer=i.from(c.infoHash,"hex")),c.infoHashV2&&(c.infoHashV2Buffer=i.from(c.infoHashV2,"hex")),c.publicKey&&(c.publicKeyBuffer=i.from(c.publicKey,"hex")),c.dn&&(c.name=c.dn),c.kt&&(c.keywords=c.kt),c.announce=[],("string"==typeof c.tr||Array.isArray(c.tr))&&(c.announce=c.announce.concat(c.tr)),c.urlList=[],("string"==typeof c.as||Array.isArray(c.as))&&(c.urlList=c.urlList.concat(c.as)),("string"==typeof c.ws||Array.isArray(c.ws))&&(c.urlList=c.urlList.concat(c.ws)),c.peerAddresses=[],("string"==typeof c["x.pe"]||Array.isArray(c["x.pe"]))&&(c.peerAddresses=c.peerAddresses.concat(c["x.pe"])),c.announce=Array.from(new Set(c.announce)),c.urlList=Array.from(new Set(c.urlList)),c.peerAddresses=Array.from(new Set(c.peerAddresses)),c}B.exports=g,B.exports.decode=g,B.exports.encode=function(n){n=Object.assign({},n);let c=new Set;n.xt&&"string"==typeof n.xt&&c.add(n.xt),n.xt&&Array.isArray(n.xt)&&(c=new Set(n.xt)),n.infoHashBuffer&&c.add(`urn:btih:${n.infoHashBuffer.toString("hex")}`),n.infoHash&&c.add(`urn:btih:${n.infoHash}`),n.infoHashV2Buffer&&c.add(n.xt=`urn:btmh:1220${n.infoHashV2Buffer.toString("hex")}`),n.infoHashV2&&c.add(`urn:btmh:1220${n.infoHashV2}`);const u=Array.from(c);1===u.length&&(n.xt=u[0]),1<u.length&&(n.xt=u),n.publicKeyBuffer&&(n.xs=`urn:btpk:${n.publicKeyBuffer.toString("hex")}`),n.publicKey&&(n.xs=`urn:btpk:${n.publicKey}`),n.name&&(n.dn=n.name),n.keywords&&(n.kt=n.keywords),n.announce&&(n.tr=n.announce),n.urlList&&(n.ws=n.urlList,delete n.as),n.peerAddresses&&(n["x.pe"]=n.peerAddresses);let s="magnet:?";return Object.keys(n).filter(t=>2===t.length||"x.pe"===t).forEach((t,o)=>{const r=Array.isArray(n[t])?n[t]:[n[t]];r.forEach((d,h)=>{(0<o||0<h)&&("kt"!==t&&"so"!==t||0===h)&&(s+="&"),"dn"===t&&(d=encodeURIComponent(d).replace(/%20/g,"+")),("tr"===t||"as"===t||"ws"===t)&&(d=encodeURIComponent(d)),"xs"!==t||d.startsWith("urn:btpk:")||(d=encodeURIComponent(d)),"kt"===t&&(d=encodeURIComponent(d)),"so"===t||(s+="kt"===t&&0<h?`+${d}`:`${t}=${d}`)}),"so"===t&&(s+=`${t}=${x.compose(r)}`)}),s};const f=m("thirty-two"),x=m("bep53-range")}).call(this)}).call(this,m("buffer").Buffer)},{"bep53-range":29,buffer:69,"thirty-two":277}],171:[function(m,B){"use strict";function i(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function g(r,d){return r<<d|r>>>32-d}function f(r,d,h,l,p,w,b){return 0|g(0|r+(d&h|~d&l)+p+w,b)+d}function x(r,d,h,l,p,w,b){return 0|g(0|r+(d&l|h&~l)+p+w,b)+d}function n(r,d,h,l,p,w,b){return 0|g(0|r+(d^h^l)+p+w,b)+d}function c(r,d,h,l,p,w,b){return 0|g(0|r+(h^(d|~l))+p+w,b)+d}var u=m("inherits"),s=m("hash-base"),t=m("safe-buffer").Buffer,o=Array(16);u(i,s),i.prototype._update=function(){for(var r=o,d=0;16>d;++d)r[d]=this._block.readInt32LE(4*d);var h=this._a,l=this._b,p=this._c,w=this._d;h=f(h,l,p,w,r[0],3614090360,7),w=f(w,h,l,p,r[1],3905402710,12),p=f(p,w,h,l,r[2],606105819,17),l=f(l,p,w,h,r[3],3250441966,22),h=f(h,l,p,w,r[4],4118548399,7),w=f(w,h,l,p,r[5],1200080426,12),p=f(p,w,h,l,r[6],2821735955,17),l=f(l,p,w,h,r[7],4249261313,22),h=f(h,l,p,w,r[8],1770035416,7),w=f(w,h,l,p,r[9],2336552879,12),p=f(p,w,h,l,r[10],4294925233,17),l=f(l,p,w,h,r[11],2304563134,22),h=f(h,l,p,w,r[12],1804603682,7),w=f(w,h,l,p,r[13],4254626195,12),p=f(p,w,h,l,r[14],2792965006,17),h=x(h,l=f(l,p,w,h,r[15],1236535329,22),p,w,r[1],4129170786,5),w=x(w,h,l,p,r[6],3225465664,9),p=x(p,w,h,l,r[11],643717713,14),l=x(l,p,w,h,r[0],3921069994,20),h=x(h,l,p,w,r[5],3593408605,5),w=x(w,h,l,p,r[10],38016083,9),p=x(p,w,h,l,r[15],3634488961,14),l=x(l,p,w,h,r[4],3889429448,20),h=x(h,l,p,w,r[9],568446438,5),w=x(w,h,l,p,r[14],3275163606,9),p=x(p,w,h,l,r[3],4107603335,14),l=x(l,p,w,h,r[8],1163531501,20),h=x(h,l,p,w,r[13],2850285829,5),w=x(w,h,l,p,r[2],4243563512,9),p=x(p,w,h,l,r[7],1735328473,14),h=n(h,l=x(l,p,w,h,r[12],2368359562,20),p,w,r[5],4294588738,4),w=n(w,h,l,p,r[8],2272392833,11),p=n(p,w,h,l,r[11],1839030562,16),l=n(l,p,w,h,r[14],4259657740,23),h=n(h,l,p,w,r[1],2763975236,4),w=n(w,h,l,p,r[4],1272893353,11),p=n(p,w,h,l,r[7],4139469664,16),l=n(l,p,w,h,r[10],3200236656,23),h=n(h,l,p,w,r[13],681279174,4),w=n(w,h,l,p,r[0],3936430074,11),p=n(p,w,h,l,r[3],3572445317,16),l=n(l,p,w,h,r[6],76029189,23),h=n(h,l,p,w,r[9],3654602809,4),w=n(w,h,l,p,r[12],3873151461,11),p=n(p,w,h,l,r[15],530742520,16),h=c(h,l=n(l,p,w,h,r[2],3299628645,23),p,w,r[0],4096336452,6),w=c(w,h,l,p,r[7],1126891415,10),p=c(p,w,h,l,r[14],2878612391,15),l=c(l,p,w,h,r[5],4237533241,21),h=c(h,l,p,w,r[12],1700485571,6),w=c(w,h,l,p,r[3],2399980690,10),p=c(p,w,h,l,r[10],4293915773,15),l=c(l,p,w,h,r[1],2240044497,21),h=c(h,l,p,w,r[8],1873313359,6),w=c(w,h,l,p,r[15],4264355552,10),p=c(p,w,h,l,r[6],2734768916,15),l=c(l,p,w,h,r[13],1309151649,21),h=c(h,l,p,w,r[4],4149444226,6),w=c(w,h,l,p,r[11],3174756917,10),p=c(p,w,h,l,r[2],718787259,15),l=c(l,p,w,h,r[9],3951481745,21),this._a=0|this._a+h,this._b=0|this._b+l,this._c=0|this._c+p,this._d=0|this._d+w},i.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var r=t.allocUnsafe(16);return r.writeInt32LE(this._a,0),r.writeInt32LE(this._b,4),r.writeInt32LE(this._c,8),r.writeInt32LE(this._d,12),r},B.exports=i},{"hash-base":142,inherits:159,"safe-buffer":247}],172:[function(m,B){function i(s,t){var o=this;if(!(o instanceof i))return new i(s,t);if(!u)throw new Error("web browser lacks MediaSource support");t||(t={}),o._debug=t.debug,o._bufferDuration=t.bufferDuration||60,o._elem=s,o._mediaSource=new u,o._streams=[],o.detailedError=null,o._errorHandler=function(){o._elem.removeEventListener("error",o._errorHandler),o._streams.slice().forEach(function(d){d.destroy(o._elem.error)})},o._elem.addEventListener("error",o._errorHandler),o._elem.src=window.URL.createObjectURL(o._mediaSource)}function g(s,t){var o=this;if(n.Writable.call(o),o._wrapper=s,o._elem=s._elem,o._mediaSource=s._mediaSource,o._allStreams=s._streams,o._allStreams.push(o),o._bufferDuration=s._bufferDuration,o._sourceBuffer=null,o._debugBuffers=[],o._openHandler=function(){o._onSourceOpen()},o._flowHandler=function(){o._flow()},o._errorHandler=function(r){o.destroyed||o.emit("error",r)},"string"==typeof t)o._type=t,"open"===o._mediaSource.readyState?o._createSourceBuffer():o._mediaSource.addEventListener("sourceopen",o._openHandler);else if(null===t._sourceBuffer)t.destroy(),o._type=t._type,o._mediaSource.addEventListener("sourceopen",o._openHandler);else{if(!t._sourceBuffer)throw new Error("The argument to MediaElementWrapper.createWriteStream must be a string or a previous stream returned from that function");t.destroy(),o._type=t._type,o._sourceBuffer=t._sourceBuffer,o._debugBuffers=t._debugBuffers,o._sourceBuffer.addEventListener("updateend",o._flowHandler),o._sourceBuffer.addEventListener("error",o._errorHandler)}o._elem.addEventListener("timeupdate",o._flowHandler),o.on("error",function(r){o._wrapper.error(r)}),o.on("finish",function(){if(!o.destroyed&&(o._finished=!0,o._allStreams.every(function(r){return r._finished}))){o._wrapper._dumpDebugData();try{o._mediaSource.endOfStream()}catch{}}})}B.exports=i;var x=m("inherits"),n=m("readable-stream"),c=m("to-arraybuffer"),u=typeof window<"u"&&window.MediaSource;i.prototype.createWriteStream=function(s){return new g(this,s)},i.prototype.error=function(s){var t=this;t.detailedError||(t.detailedError=s),t._dumpDebugData();try{t._mediaSource.endOfStream("decode")}catch{}try{window.URL.revokeObjectURL(t._elem.src)}catch{}},i.prototype._dumpDebugData=function(){var s=this;s._debug&&(s._debug=!1,s._streams.forEach(function(t,o){!function f(s,t){var o=document.createElement("a");o.href=window.URL.createObjectURL(new window.Blob(s)),o.download=t,o.click()}(t._debugBuffers,"mediasource-stream-"+o)}))},x(g,n.Writable),g.prototype._onSourceOpen=function(){var s=this;s.destroyed||(s._mediaSource.removeEventListener("sourceopen",s._openHandler),s._createSourceBuffer())},g.prototype.destroy=function(s){var t=this;t.destroyed||(t.destroyed=!0,t._allStreams.splice(t._allStreams.indexOf(t),1),t._mediaSource.removeEventListener("sourceopen",t._openHandler),t._elem.removeEventListener("timeupdate",t._flowHandler),t._sourceBuffer&&(t._sourceBuffer.removeEventListener("updateend",t._flowHandler),t._sourceBuffer.removeEventListener("error",t._errorHandler),"open"===t._mediaSource.readyState&&t._sourceBuffer.abort()),s&&t.emit("error",s),t.emit("close"))},g.prototype._createSourceBuffer=function(){var s=this;if(!s.destroyed)if(u.isTypeSupported(s._type)){if(s._sourceBuffer=s._mediaSource.addSourceBuffer(s._type),s._sourceBuffer.addEventListener("updateend",s._flowHandler),s._sourceBuffer.addEventListener("error",s._errorHandler),s._cb){var t=s._cb;s._cb=null,t()}}else s.destroy(new Error("The provided type is not supported"))},g.prototype._write=function(s,t,o){var r=this;if(!r.destroyed){if(!r._sourceBuffer)return void(r._cb=function(h){return h?o(h):void r._write(s,t,o)});if(r._sourceBuffer.updating)return o(new Error("Cannot append buffer while source buffer updating"));var d=c(s);r._wrapper._debug&&r._debugBuffers.push(d);try{r._sourceBuffer.appendBuffer(d)}catch(h){return void r.destroy(h)}r._cb=o}},g.prototype._flow=function(){var s=this;if(!s.destroyed&&s._sourceBuffer&&!s._sourceBuffer.updating&&!("open"===s._mediaSource.readyState&&s._getBufferDuration()>s._bufferDuration)&&s._cb){var t=s._cb;s._cb=null,t()}},g.prototype._getBufferDuration=function(){for(var t=this._sourceBuffer.buffered,o=this._elem.currentTime,r=-1,d=0;d<t.length;d++){var h=t.start(d),l=t.end(d)+0;if(h>o)break;(0<=r||o<=l)&&(r=l)}var p=r-o;return 0>p&&(p=0),p}},{inherits:159,"readable-stream":240,"to-arraybuffer":279}],173:[function(m,B){function i(f,x){if(!(this instanceof i))return new i(f,x);if(x||(x={}),this.chunkLength=+f,!this.chunkLength)throw new Error("First argument must be a chunk length");this.chunks=[],this.closed=!1,this.length=+x.length||1/0,this.length!==1/0&&(this.lastChunkLength=this.length%this.chunkLength||this.chunkLength,this.lastChunkIndex=ve(this.length/this.chunkLength)-1)}B.exports=i;const g=m("queue-microtask");i.prototype.put=function(f,x,n=(()=>{})){if(this.closed)return g(()=>n(new Error("Storage is closed")));const c=f===this.lastChunkIndex;return c&&x.length!==this.lastChunkLength?g(()=>n(new Error("Last chunk length must be "+this.lastChunkLength))):c||x.length===this.chunkLength?(this.chunks[f]=x,void g(()=>n(null))):g(()=>n(new Error("Chunk length must be "+this.chunkLength)))},i.prototype.get=function(f,x,n=(()=>{})){if("function"==typeof x)return this.get(f,null,x);if(this.closed)return g(()=>n(new Error("Storage is closed")));let c=this.chunks[f];if(!c){const t=new Error("Chunk not found");return t.notFound=!0,g(()=>n(t))}x||(x={});const u=x.offset||0,s=x.length||c.length-u;(0!==u||s!==c.length)&&(c=c.slice(u,s+u)),g(()=>n(null,c))},i.prototype.close=i.prototype.destroy=function(f=(()=>{})){return this.closed?g(()=>f(new Error("Storage is closed"))):(this.closed=!0,this.chunks=null,void g(()=>f(null)))}},{"queue-microtask":218}],174:[function(m,B){function i(x){this.rand=x||new f.Rand}var g=m("bn.js"),f=m("brorand");B.exports=i,i.create=function(x){return new i(x)},i.prototype._randbelow=function(x){var n=x.bitLength(),c=ve(n/8);do{var u=new g(this.rand.generate(c))}while(0<=u.cmp(x));return u},i.prototype._randrange=function(x,n){var c=n.sub(x);return x.add(this._randbelow(c))},i.prototype.test=function(x,n,c){var u=x.bitLength(),s=g.mont(x),t=new g(1).toRed(s);n||(n=ue(1,0|u/48));for(var o=x.subn(1),r=0;!o.testn(r);r++);for(var d=x.shrn(r),h=o.toRed(s);0<n;n--){var p=this._randrange(new g(2),o);c&&c(p);var w=p.toRed(s).redPow(d);if(0!==w.cmp(t)&&0!==w.cmp(h)){for(var b=1;b<r;b++){if(0===(w=w.redSqr()).cmp(t))return!1;if(0===w.cmp(h))break}if(b===r)return!1}}return!0},i.prototype.getDivisor=function(x,n){var c=x.bitLength(),u=g.mont(x),s=new g(1).toRed(u);n||(n=ue(1,0|c/48));for(var t=x.subn(1),o=0;!t.testn(o);o++);for(var r=x.shrn(o),d=t.toRed(u);0<n;n--){var h=this._randrange(new g(2),t),l=x.gcd(h);if(0!==l.cmpn(1))return l;var p=h.toRed(u).redPow(r);if(0!==p.cmp(s)&&0!==p.cmp(d)){for(var w=1;w<o;w++){if(0===(p=p.redSqr()).cmp(s))return p.fromRed().subn(1).gcd(x);if(0===p.cmp(d))break}if(w===o)return(p=p.redSqr()).fromRed().subn(1).gcd(x)}}return!1}},{"bn.js":175,brorand:40}],175:[function(m,B,i){arguments[4][22][0].apply(i,arguments)},{buffer:41,dup:22}],176:[function(m,B){"use strict";function i(){this._types=Object.create(null),this._extensions=Object.create(null);for(let g=0;g<arguments.length;g++)this.define(arguments[g]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}i.prototype.define=function(g,f){for(let x in g){let n=g[x].map(function(c){return c.toLowerCase()});x=x.toLowerCase();for(let c=0;c<n.length;c++){const u=n[c];if("*"!==u[0]){if(!f&&u in this._types)throw new Error('Attempt to change mapping for "'+u+'" extension from "'+this._types[u]+'" to "'+x+'". Pass `force=true` to allow this, otherwise remove "'+u+'" from the list of extensions for "'+x+'".');this._types[u]=x}}if(f||!this._extensions[x]){const c=n[0];this._extensions[x]="*"===c[0]?c.substr(1):c}}},i.prototype.getType=function(g){let f=(g+="").replace(/^.*[/\\]/,"").toLowerCase(),x=f.replace(/^.*\./,"").toLowerCase();return(x.length<f.length-1||!(f.length<g.length))&&this._types[x]||null},i.prototype.getExtension=function(g){return(g=/^\s*([^;\s]*)/.test(g)&&RegExp.$1)&&this._extensions[g.toLowerCase()]||null},B.exports=i},{}],177:[function(m,B){"use strict";let i=m("./Mime");B.exports=new i(m("./types/standard"),m("./types/other"))},{"./Mime":176,"./types/other":178,"./types/standard":179}],178:[function(m,B){B.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},{}],179:[function(m,B){B.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/mrb-consumer+xml":["*xdf"],"application/mrb-publish+xml":["*xdf"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["*xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-error+xml":["xer"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},{}],180:[function(m,B){function i(g,f){if(!g)throw new Error(f||"Assertion failed")}B.exports=i,i.equal=function(g,f,x){if(g!=f)throw new Error(x||"Assertion failed: "+g+" != "+f)}},{}],181:[function(m,B,i){"use strict";function g(n){return 1===n.length?"0"+n:n}function f(n){for(var c="",u=0;u<n.length;u++)c+=g(n[u].toString(16));return c}var x=i;x.toArray=function(n,c){if(Array.isArray(n))return n.slice();if(!n)return[];var u=[];if("string"!=typeof n){for(var s=0;s<n.length;s++)u[s]=0|n[s];return u}if("hex"===c)for((n=n.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(n="0"+n),s=0;s<n.length;s+=2)u.push(parseInt(n[s]+n[s+1],16));else for(s=0;s<n.length;s++){var t=n.charCodeAt(s),o=t>>8,r=255&t;o?u.push(o,r):u.push(r)}return u},x.zero2=g,x.toHex=f,x.encode=function(n,c){return"hex"===c?f(n):n}},{}],182:[function(m,B,i){(function(g){(function(){function f(S,R,N){for(var q=R;q<N;q++)S[q]=0}function x(S,R,N){R.writeUInt32BE(wt((S.getTime()+20828448e5)/1e3),N)}function n(S,R,N){R.writeUIntBE(wt((S.getTime()+20828448e5)/1e3),N,6)}function c(S,R,N){R.writeUInt16BE(wt(S)%65536,N),R.writeUInt16BE(wt(256*S*256)%65536,N+2)}function s(S,R,N){S||(S=[0,0,0,0,0,0,0,0,0]);for(var q=0;q<S.length;q++)c(S[q],R,N+4*q)}function o(S){for(var R=Array(S.length/4),N=0;N<R.length;N++)R[N]=h(S,4*N);return R}function r(S,R){return new Date(1e3*S.readUIntBE(R,6)-20828448e5)}function d(S,R){return new Date(1e3*S.readUInt32BE(R)-20828448e5)}function h(S,R){return S.readUInt16BE(R)+S.readUInt16BE(R+2)/65536}function l(S,R){return S[R]+S[R+1]/256}function p(S,R,N){var q;for(q=0;q<N&&0!==S[R+q];q++);return S.toString("utf8",R,R+q)}var w=m("./index"),b=m("./descriptor"),I=m("uint64be");i.fullBoxes={},["mvhd","tkhd","mdhd","vmhd","smhd","stsd","esds","stsz","stco","co64","stss","stts","ctts","stsc","dref","elst","hdlr","mehd","trex","mfhd","tfhd","tfdt","trun"].forEach(function(S){i.fullBoxes[S]=!0}),i.ftyp={},i.ftyp.encode=function(S,R,N){R=R?R.slice(N):g.alloc(i.ftyp.encodingLength(S));var q=S.compatibleBrands||[];R.write(S.brand,0,4,"ascii"),R.writeUInt32BE(S.brandVersion,4);for(var Z=0;Z<q.length;Z++)R.write(q[Z],8+4*Z,4,"ascii");return i.ftyp.encode.bytes=8+4*q.length,R},i.ftyp.decode=function(S,R){for(var N=(S=S.slice(R)).toString("ascii",0,4),q=S.readUInt32BE(4),Z=[],le=8;le<S.length;le+=4)Z.push(S.toString("ascii",le,le+4));return{brand:N,brandVersion:q,compatibleBrands:Z}},i.ftyp.encodingLength=function(S){return 8+4*(S.compatibleBrands||[]).length},i.mvhd={},i.mvhd.encode=function(S,R,N){return R=R?R.slice(N):g.alloc(96),x(S.ctime||new Date,R,0),x(S.mtime||new Date,R,4),R.writeUInt32BE(S.timeScale||0,8),R.writeUInt32BE(S.duration||0,12),c(S.preferredRate||0,R,16),function u(S,R,N){R[N]=wt(S)%256,R[N+1]=wt(256*S)%256}(S.preferredVolume||0,R,20),f(R,22,32),s(S.matrix,R,32),R.writeUInt32BE(S.previewTime||0,68),R.writeUInt32BE(S.previewDuration||0,72),R.writeUInt32BE(S.posterTime||0,76),R.writeUInt32BE(S.selectionTime||0,80),R.writeUInt32BE(S.selectionDuration||0,84),R.writeUInt32BE(S.currentTime||0,88),R.writeUInt32BE(S.nextTrackId||0,92),i.mvhd.encode.bytes=96,R},i.mvhd.decode=function(S,R){return{ctime:d(S=S.slice(R),0),mtime:d(S,4),timeScale:S.readUInt32BE(8),duration:S.readUInt32BE(12),preferredRate:h(S,16),preferredVolume:l(S,20),matrix:o(S.slice(32,68)),previewTime:S.readUInt32BE(68),previewDuration:S.readUInt32BE(72),posterTime:S.readUInt32BE(76),selectionTime:S.readUInt32BE(80),selectionDuration:S.readUInt32BE(84),currentTime:S.readUInt32BE(88),nextTrackId:S.readUInt32BE(92)}},i.mvhd.encodingLength=function(){return 96},i.tkhd={},i.tkhd.encode=function(S,R,N){return R=R?R.slice(N):g.alloc(80),x(S.ctime||new Date,R,0),x(S.mtime||new Date,R,4),R.writeUInt32BE(S.trackId||0,8),f(R,12,16),R.writeUInt32BE(S.duration||0,16),f(R,20,28),R.writeUInt16BE(S.layer||0,28),R.writeUInt16BE(S.alternateGroup||0,30),R.writeUInt16BE(S.volume||0,32),s(S.matrix,R,36),R.writeUInt32BE(S.trackWidth||0,72),R.writeUInt32BE(S.trackHeight||0,76),i.tkhd.encode.bytes=80,R},i.tkhd.decode=function(S,R){return{ctime:d(S=S.slice(R),0),mtime:d(S,4),trackId:S.readUInt32BE(8),duration:S.readUInt32BE(16),layer:S.readUInt16BE(28),alternateGroup:S.readUInt16BE(30),volume:S.readUInt16BE(32),matrix:o(S.slice(36,72)),trackWidth:S.readUInt32BE(72),trackHeight:S.readUInt32BE(76)}},i.tkhd.encodingLength=function(){return 80},i.mdhd={},i.mdhd.encode=function(S,R,N){return 1===S.version?(R=R?R.slice(N):g.alloc(32),n(S.ctime||new Date,R,0),n(S.mtime||new Date,R,8),R.writeUInt32BE(S.timeScale||0,16),R.writeUIntBE(S.duration||0,20,6),R.writeUInt16BE(S.language||0,28),R.writeUInt16BE(S.quality||0,30),i.mdhd.encode.bytes=32,R):(R=R?R.slice(N):g.alloc(20),x(S.ctime||new Date,R,0),x(S.mtime||new Date,R,4),R.writeUInt32BE(S.timeScale||0,8),R.writeUInt32BE(S.duration||0,12),R.writeUInt16BE(S.language||0,16),R.writeUInt16BE(S.quality||0,18),i.mdhd.encode.bytes=20,R)},i.mdhd.decode=function(S,R,N){return S=S.slice(R),N-R!=20?{ctime:r(S,0),mtime:r(S,8),timeScale:S.readUInt32BE(16),duration:S.readUIntBE(20,6),language:S.readUInt16BE(28),quality:S.readUInt16BE(30)}:{ctime:d(S,0),mtime:d(S,4),timeScale:S.readUInt32BE(8),duration:S.readUInt32BE(12),language:S.readUInt16BE(16),quality:S.readUInt16BE(18)}},i.mdhd.encodingLength=function(S){return 1===S.version?32:20},i.vmhd={},i.vmhd.encode=function(S,R,N){(R=R?R.slice(N):g.alloc(8)).writeUInt16BE(S.graphicsMode||0,0);var q=S.opcolor||[0,0,0];return R.writeUInt16BE(q[0],2),R.writeUInt16BE(q[1],4),R.writeUInt16BE(q[2],6),i.vmhd.encode.bytes=8,R},i.vmhd.decode=function(S,R){return{graphicsMode:(S=S.slice(R)).readUInt16BE(0),opcolor:[S.readUInt16BE(2),S.readUInt16BE(4),S.readUInt16BE(6)]}},i.vmhd.encodingLength=function(){return 8},i.smhd={},i.smhd.encode=function(S,R,N){return(R=R?R.slice(N):g.alloc(4)).writeUInt16BE(S.balance||0,0),f(R,2,4),i.smhd.encode.bytes=4,R},i.smhd.decode=function(S,R){return{balance:(S=S.slice(R)).readUInt16BE(0)}},i.smhd.encodingLength=function(){return 4},i.stsd={},i.stsd.encode=function(S,R,N){R=R?R.slice(N):g.alloc(i.stsd.encodingLength(S));var q=S.entries||[];R.writeUInt32BE(q.length,0);for(var Z=4,le=0;le<q.length;le++)w.encode(q[le],R,Z),Z+=w.encode.bytes;return i.stsd.encode.bytes=Z,R},i.stsd.decode=function(S,R,N){for(var ke,q=(S=S.slice(R)).readUInt32BE(0),Z=Array(q),le=4,we=0;we<q;we++)ke=w.decode(S,le,N),Z[we]=ke,le+=ke.length;return{entries:Z}},i.stsd.encodingLength=function(S){var R=4;if(!S.entries)return R;for(var N=0;N<S.entries.length;N++)R+=w.encodingLength(S.entries[N]);return R},i.avc1=i.VisualSampleEntry={},i.VisualSampleEntry.encode=function(S,R,N){f(R=R?R.slice(N):g.alloc(i.VisualSampleEntry.encodingLength(S)),0,6),R.writeUInt16BE(S.dataReferenceIndex||0,6),f(R,8,24),R.writeUInt16BE(S.width||0,24),R.writeUInt16BE(S.height||0,26),R.writeUInt32BE(S.hResolution||4718592,28),R.writeUInt32BE(S.vResolution||4718592,32),f(R,36,40),R.writeUInt16BE(S.frameCount||1,40);var q=S.compressorName||"",Z=Y(q.length,31);R.writeUInt8(Z,42),R.write(q,43,Z,"utf8"),R.writeUInt16BE(S.depth||24,74),R.writeInt16BE(-1,76);var le=78;(S.children||[]).forEach(function(ke){w.encode(ke,R,le),le+=w.encode.bytes}),i.VisualSampleEntry.encode.bytes=le},i.VisualSampleEntry.decode=function(S,R,N){S=S.slice(R);for(var q=N-R,Z=Y(S.readUInt8(42),31),le={dataReferenceIndex:S.readUInt16BE(6),width:S.readUInt16BE(24),height:S.readUInt16BE(26),hResolution:S.readUInt32BE(28),vResolution:S.readUInt32BE(32),frameCount:S.readUInt16BE(40),compressorName:S.toString("utf8",43,43+Z),depth:S.readUInt16BE(74),children:[]},we=78;8<=q-we;){var ke=w.decode(S,we,q);le.children.push(ke),le[ke.type]=ke,we+=ke.length}return le},i.VisualSampleEntry.encodingLength=function(S){var R=78;return(S.children||[]).forEach(function(q){R+=w.encodingLength(q)}),R},i.avcC={},i.avcC.encode=function(S,R,N){R=R?R.slice(N):g.alloc(S.buffer.length),S.buffer.copy(R),i.avcC.encode.bytes=S.buffer.length},i.avcC.decode=function(S,R,N){return{mimeCodec:(S=S.slice(R,N)).toString("hex",1,4),buffer:g.from(S)}},i.avcC.encodingLength=function(S){return S.buffer.length},i.mp4a=i.AudioSampleEntry={},i.AudioSampleEntry.encode=function(S,R,N){f(R=R?R.slice(N):g.alloc(i.AudioSampleEntry.encodingLength(S)),0,6),R.writeUInt16BE(S.dataReferenceIndex||0,6),f(R,8,16),R.writeUInt16BE(S.channelCount||2,16),R.writeUInt16BE(S.sampleSize||16,18),f(R,20,24),R.writeUInt32BE(S.sampleRate||0,24);var q=28;(S.children||[]).forEach(function(le){w.encode(le,R,q),q+=w.encode.bytes}),i.AudioSampleEntry.encode.bytes=q},i.AudioSampleEntry.decode=function(S,R,N){for(var q=N-R,Z={dataReferenceIndex:(S=S.slice(R,N)).readUInt16BE(6),channelCount:S.readUInt16BE(16),sampleSize:S.readUInt16BE(18),sampleRate:S.readUInt32BE(24),children:[]},le=28;8<=q-le;){var we=w.decode(S,le,q);Z.children.push(we),Z[we.type]=we,le+=we.length}return Z},i.AudioSampleEntry.encodingLength=function(S){var R=28;return(S.children||[]).forEach(function(q){R+=w.encodingLength(q)}),R},i.esds={},i.esds.encode=function(S,R,N){R=R?R.slice(N):g.alloc(S.buffer.length),S.buffer.copy(R,0),i.esds.encode.bytes=S.buffer.length},i.esds.decode=function(S,R,N){S=S.slice(R,N);var q=b.Descriptor.decode(S,0,S.length),le=("ESDescriptor"===q.tagName?q:{}).DecoderConfigDescriptor||{},we=le.oti||0,ke=le.DecoderSpecificInfo,A=ke?(248&ke.buffer.readUInt8(0))>>3:0,L=null;return we&&(L=we.toString(16),A&&(L+="."+A)),{mimeCodec:L,buffer:g.from(S.slice(0))}},i.esds.encodingLength=function(S){return S.buffer.length},i.stsz={},i.stsz.encode=function(S,R,N){var q=S.entries||[];(R=R?R.slice(N):g.alloc(i.stsz.encodingLength(S))).writeUInt32BE(0,0),R.writeUInt32BE(q.length,4);for(var Z=0;Z<q.length;Z++)R.writeUInt32BE(q[Z],4*Z+8);return i.stsz.encode.bytes=8+4*q.length,R},i.stsz.decode=function(S,R){for(var N=(S=S.slice(R)).readUInt32BE(0),q=S.readUInt32BE(4),Z=Array(q),le=0;le<q;le++)Z[le]=0===N?S.readUInt32BE(4*le+8):N;return{entries:Z}},i.stsz.encodingLength=function(S){return 8+4*S.entries.length},i.stss=i.stco={},i.stco.encode=function(S,R,N){var q=S.entries||[];(R=R?R.slice(N):g.alloc(i.stco.encodingLength(S))).writeUInt32BE(q.length,0);for(var Z=0;Z<q.length;Z++)R.writeUInt32BE(q[Z],4*Z+4);return i.stco.encode.bytes=4+4*q.length,R},i.stco.decode=function(S,R){for(var N=(S=S.slice(R)).readUInt32BE(0),q=Array(N),Z=0;Z<N;Z++)q[Z]=S.readUInt32BE(4*Z+4);return{entries:q}},i.stco.encodingLength=function(S){return 4+4*S.entries.length},i.co64={},i.co64.encode=function(S,R,N){var q=S.entries||[];(R=R?R.slice(N):g.alloc(i.co64.encodingLength(S))).writeUInt32BE(q.length,0);for(var Z=0;Z<q.length;Z++)I.encode(q[Z],R,8*Z+4);return i.co64.encode.bytes=4+8*q.length,R},i.co64.decode=function(S,R){for(var N=(S=S.slice(R)).readUInt32BE(0),q=Array(N),Z=0;Z<N;Z++)q[Z]=I.decode(S,8*Z+4);return{entries:q}},i.co64.encodingLength=function(S){return 4+8*S.entries.length},i.stts={},i.stts.encode=function(S,R,N){var q=S.entries||[];(R=R?R.slice(N):g.alloc(i.stts.encodingLength(S))).writeUInt32BE(q.length,0);for(var le,Z=0;Z<q.length;Z++)R.writeUInt32BE(q[Z].count||0,le=8*Z+4),R.writeUInt32BE(q[Z].duration||0,le+4);return i.stts.encode.bytes=4+8*S.entries.length,R},i.stts.decode=function(S,R){for(var le,N=(S=S.slice(R)).readUInt32BE(0),q=Array(N),Z=0;Z<N;Z++)q[Z]={count:S.readUInt32BE(le=8*Z+4),duration:S.readUInt32BE(le+4)};return{entries:q}},i.stts.encodingLength=function(S){return 4+8*S.entries.length},i.ctts={},i.ctts.encode=function(S,R,N){var q=S.entries||[];(R=R?R.slice(N):g.alloc(i.ctts.encodingLength(S))).writeUInt32BE(q.length,0);for(var le,Z=0;Z<q.length;Z++)R.writeUInt32BE(q[Z].count||0,le=8*Z+4),R.writeUInt32BE(q[Z].compositionOffset||0,le+4);return i.ctts.encode.bytes=4+8*q.length,R},i.ctts.decode=function(S,R){for(var le,N=(S=S.slice(R)).readUInt32BE(0),q=Array(N),Z=0;Z<N;Z++)q[Z]={count:S.readUInt32BE(le=8*Z+4),compositionOffset:S.readInt32BE(le+4)};return{entries:q}},i.ctts.encodingLength=function(S){return 4+8*S.entries.length},i.stsc={},i.stsc.encode=function(S,R,N){var q=S.entries||[];(R=R?R.slice(N):g.alloc(i.stsc.encodingLength(S))).writeUInt32BE(q.length,0);for(var le,Z=0;Z<q.length;Z++)R.writeUInt32BE(q[Z].firstChunk||0,le=12*Z+4),R.writeUInt32BE(q[Z].samplesPerChunk||0,le+4),R.writeUInt32BE(q[Z].sampleDescriptionId||0,le+8);return i.stsc.encode.bytes=4+12*q.length,R},i.stsc.decode=function(S,R){for(var le,N=(S=S.slice(R)).readUInt32BE(0),q=Array(N),Z=0;Z<N;Z++)q[Z]={firstChunk:S.readUInt32BE(le=12*Z+4),samplesPerChunk:S.readUInt32BE(le+4),sampleDescriptionId:S.readUInt32BE(le+8)};return{entries:q}},i.stsc.encodingLength=function(S){return 4+12*S.entries.length},i.dref={},i.dref.encode=function(S,R,N){R=R?R.slice(N):g.alloc(i.dref.encodingLength(S));var q=S.entries||[];R.writeUInt32BE(q.length,0);for(var Z=4,le=0;le<q.length;le++){var we=q[le];R.writeUInt32BE((we.buf?we.buf.length:0)+4+4,Z),R.write(we.type,Z+=4,4,"ascii"),Z+=4,we.buf&&(we.buf.copy(R,Z),Z+=we.buf.length)}return i.dref.encode.bytes=Z,R},i.dref.decode=function(S,R){for(var N=(S=S.slice(R)).readUInt32BE(0),q=Array(N),Z=4,le=0;le<N;le++){var we=S.readUInt32BE(Z),ke=S.toString("ascii",Z+4,Z+8),A=S.slice(Z+8,Z+we);Z+=we,q[le]={type:ke,buf:A}}return{entries:q}},i.dref.encodingLength=function(S){var R=4;if(!S.entries)return R;for(var q,N=0;N<S.entries.length;N++)R+=((q=S.entries[N].buf)?q.length:0)+4+4;return R},i.elst={},i.elst.encode=function(S,R,N){var q=S.entries||[];(R=R?R.slice(N):g.alloc(i.elst.encodingLength(S))).writeUInt32BE(q.length,0);for(var le,Z=0;Z<q.length;Z++)R.writeUInt32BE(q[Z].trackDuration||0,le=12*Z+4),R.writeUInt32BE(q[Z].mediaTime||0,le+4),c(q[Z].mediaRate||0,R,le+8);return i.elst.encode.bytes=4+12*q.length,R},i.elst.decode=function(S,R){for(var le,N=(S=S.slice(R)).readUInt32BE(0),q=Array(N),Z=0;Z<N;Z++)q[Z]={trackDuration:S.readUInt32BE(le=12*Z+4),mediaTime:S.readInt32BE(le+4),mediaRate:h(S,le+8)};return{entries:q}},i.elst.encodingLength=function(S){return 4+12*S.entries.length},i.hdlr={},i.hdlr.encode=function(S,R,N){R=R?R.slice(N):g.alloc(i.hdlr.encodingLength(S));var q=21+(S.name||"").length;return R.fill(0,0,q),R.write(S.handlerType||"",4,4,"ascii"),function t(S,R,N){var q=g.from(S,"utf8");q.copy(R,N),R[N+q.length]=0}(S.name||"",R,20),i.hdlr.encode.bytes=q,R},i.hdlr.decode=function(S,R,N){return{handlerType:(S=S.slice(R)).toString("ascii",4,8),name:p(S,20,N)}},i.hdlr.encodingLength=function(S){return 21+(S.name||"").length},i.mehd={},i.mehd.encode=function(S,R,N){return(R=R?R.slice(N):g.alloc(4)).writeUInt32BE(S.fragmentDuration||0,0),i.mehd.encode.bytes=4,R},i.mehd.decode=function(S,R){return{fragmentDuration:(S=S.slice(R)).readUInt32BE(0)}},i.mehd.encodingLength=function(){return 4},i.trex={},i.trex.encode=function(S,R,N){return(R=R?R.slice(N):g.alloc(20)).writeUInt32BE(S.trackId||0,0),R.writeUInt32BE(S.defaultSampleDescriptionIndex||0,4),R.writeUInt32BE(S.defaultSampleDuration||0,8),R.writeUInt32BE(S.defaultSampleSize||0,12),R.writeUInt32BE(S.defaultSampleFlags||0,16),i.trex.encode.bytes=20,R},i.trex.decode=function(S,R){return{trackId:(S=S.slice(R)).readUInt32BE(0),defaultSampleDescriptionIndex:S.readUInt32BE(4),defaultSampleDuration:S.readUInt32BE(8),defaultSampleSize:S.readUInt32BE(12),defaultSampleFlags:S.readUInt32BE(16)}},i.trex.encodingLength=function(){return 20},i.mfhd={},i.mfhd.encode=function(S,R,N){return(R=R?R.slice(N):g.alloc(4)).writeUInt32BE(S.sequenceNumber||0,0),i.mfhd.encode.bytes=4,R},i.mfhd.decode=function(S){return{sequenceNumber:S.readUInt32BE(0)}},i.mfhd.encodingLength=function(){return 4},i.tfhd={},i.tfhd.encode=function(S,R,N){return(R=R?R.slice(N):g.alloc(4)).writeUInt32BE(S.trackId,0),i.tfhd.encode.bytes=4,R},i.tfhd.decode=function(){},i.tfhd.encodingLength=function(){return 4},i.tfdt={},i.tfdt.encode=function(S,R,N){return(R=R?R.slice(N):g.alloc(4)).writeUInt32BE(S.baseMediaDecodeTime||0,0),i.tfdt.encode.bytes=4,R},i.tfdt.decode=function(){},i.tfdt.encodingLength=function(){return 4},i.trun={},i.trun.encode=function(S,R,N){(R=R?R.slice(N):g.alloc(8+16*S.entries.length)).writeUInt32BE(S.entries.length,0),R.writeInt32BE(S.dataOffset,4);for(var le,q=8,Z=0;Z<S.entries.length;Z++)R.writeUInt32BE((le=S.entries[Z]).sampleDuration,q),R.writeUInt32BE(le.sampleSize,q+=4),R.writeUInt32BE(le.sampleFlags,q+=4),q+=4,0===(S.version||0)?R.writeUInt32BE(le.sampleCompositionTimeOffset,q):R.writeInt32BE(le.sampleCompositionTimeOffset,q),q+=4;i.trun.encode.bytes=q},i.trun.decode=function(){},i.trun.encodingLength=function(S){return 8+16*S.entries.length},i.mdat={},i.mdat.encode=function(S,R,N){S.buffer?(S.buffer.copy(R,N),i.mdat.encode.bytes=S.buffer.length):i.mdat.encode.bytes=i.mdat.encodingLength(S)},i.mdat.decode=function(S,R,N){return{buffer:g.from(S.slice(R,N))}},i.mdat.encodingLength=function(S){return S.buffer?S.buffer.length:S.contentLength}}).call(this)}).call(this,m("buffer").Buffer)},{"./descriptor":183,"./index":184,buffer:69,uint64be:283}],183:[function(m,B,i){(function(g){(function(){var f={3:"ESDescriptor",4:"DecoderConfigDescriptor",5:"DecoderSpecificInfo",6:"SLConfigDescriptor"};i.Descriptor={},i.Descriptor.decode=function(x,n,c){var o,u=x.readUInt8(n),s=n+1,t=0;do{t=t<<7|127&(o=x.readUInt8(s++))}while(128&o);var d,r=f[u];return(d=i[r]?i[r].decode(x,s,c):{buffer:g.from(x.slice(s,s+t))}).tag=u,d.tagName=r,d.length=s-n+t,d.contentsLen=t,d},i.DescriptorArray={},i.DescriptorArray.decode=function(x,n,c){for(var u=n,s={};u+2<=c;){var t=i.Descriptor.decode(x,u,c);u+=t.length,s[f[t.tag]||"Descriptor"+t.tag]=t}return s},i.ESDescriptor={},i.ESDescriptor.decode=function(x,n,c){var u=x.readUInt8(n+2),s=n+3;return 128&u&&(s+=2),64&u&&(s+=x.readUInt8(s)+1),32&u&&(s+=2),i.DescriptorArray.decode(x,s,c)},i.DecoderConfigDescriptor={},i.DecoderConfigDescriptor.decode=function(x,n,c){var u=x.readUInt8(n),s=i.DescriptorArray.decode(x,n+13,c);return s.oti=u,s}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69}],184:[function(m,B,i){(function(g){(function(){var f=m("uint64be"),x=m("./boxes"),n=4294967295,c=i,u=i.containers={moov:["mvhd","meta","traks","mvex"],trak:["tkhd","tref","trgr","edts","meta","mdia","udta"],edts:["elst"],mdia:["mdhd","hdlr","elng","minf"],minf:["vmhd","smhd","hmhd","sthd","nmhd","dinf","stbl"],dinf:["dref"],stbl:["stsd","stts","ctts","cslg","stsc","stsz","stz2","stco","co64","stss","stsh","padb","stdp","sdtp","sbgps","sgpds","subss","saizs","saios"],mvex:["mehd","trexs","leva"],moof:["mfhd","meta","trafs"],traf:["tfhd","tfdt","trun","sbgps","sgpds","subss","saizs","saios","meta"]};c.encode=function(s,t,o){return c.encodingLength(s),o=o||0,t=t||g.alloc(s.length),c._encode(s,t,o)},c._encode=function(s,t,o){var r=s.type,d=s.length;d>n&&(d=1),t.writeUInt32BE(d,o),t.write(s.type,o+4,4,"ascii");var h=o+8;if(1===d&&(f.encode(s.length,t,h),h+=8),x.fullBoxes[r]&&(t.writeUInt32BE(s.flags||0,h),t.writeUInt8(s.version||0,h),h+=4),u[r])u[r].forEach(function(b){if(5===b.length){var I=s[b]||[];b=b.substr(0,4),I.forEach(function(S){c._encode(S,t,h),h+=c.encode.bytes})}else s[b]&&(c._encode(s[b],t,h),h+=c.encode.bytes)}),s.otherBoxes&&s.otherBoxes.forEach(function(b){c._encode(b,t,h),h+=c.encode.bytes});else if(x[r]){var p=x[r].encode;p(s,t,h),h+=p.bytes}else{if(!s.buffer)throw new Error("Either `type` must be set to a known type (not'"+r+"') or `buffer` must be set");s.buffer.copy(t,h),h+=s.buffer.length}return c.encode.bytes=h-o,t},c.readHeaders=function(s,t,o){if(8>(o=o||s.length)-(t=t||0))return 8;var l,p,r=s.readUInt32BE(t),d=s.toString("ascii",t+4,t+8),h=t+8;if(1===r){if(16>o-t)return 16;r=f.decode(s,h),h+=8}return x.fullBoxes[d]&&(l=s.readUInt8(h),p=16777215&s.readUInt32BE(h),h+=4),{length:r,headersLen:h-t,contentLen:r-(h-t),type:d,version:l,flags:p}},c.decode=function(s,t,o){var r=c.readHeaders(s,t=t||0,o=o||s.length);if(!r||r.length>o-t)throw new Error("Data too short");return c.decodeWithoutHeaders(r,s,t+r.headersLen,t+r.length)},c.decodeWithoutHeaders=function(s,t,o,r){o=o||0,r=r||t.length;var d=s.type,h={};if(u[d]){h.otherBoxes=[];for(var w,l=u[d],p=o;8<=r-p;)if(p+=(w=c.decode(t,p,r)).length,0<=l.indexOf(w.type))h[w.type]=w;else if(0<=l.indexOf(w.type+"s")){var b=w.type+"s";(h[b]=h[b]||[]).push(w)}else h.otherBoxes.push(w)}else x[d]?h=(0,x[d].decode)(t,o,r):h.buffer=g.from(t.slice(o,r));return h.length=s.length,h.contentLen=s.contentLen,h.type=s.type,h.version=s.version,h.flags=s.flags,h},c.encodingLength=function(s){var t=s.type,o=8;if(x.fullBoxes[t]&&(o+=4),u[t])u[t].forEach(function(d){if(5===d.length){var h=s[d]||[];d=d.substr(0,4),h.forEach(function(p){p.type=d,o+=c.encodingLength(p)})}else if(s[d]){var l=s[d];l.type=d,o+=c.encodingLength(l)}}),s.otherBoxes&&s.otherBoxes.forEach(function(d){o+=c.encodingLength(d)});else if(x[t])o+=x[t].encodingLength(s);else{if(!s.buffer)throw new Error("Either `type` must be set to a known type (not'"+t+"') or `buffer` must be set");o+=s.buffer.length}return o>n&&(o+=8),s.length=o,o}}).call(this)}).call(this,m("buffer").Buffer)},{"./boxes":182,buffer:69,uint64be:283}],185:[function(m,B){(function(i){(function(){var g=m("readable-stream"),f=m("next-event"),x=m("mp4-box-encoding"),n=i.alloc(0);class u extends g.PassThrough{constructor(t){super(),this._parent=t,this.destroyed=!1}destroy(t){this.destroyed||(this.destroyed=!0,this._parent.destroy(t),t&&this.emit("error",t),this.emit("close"))}}B.exports=class c extends g.Writable{constructor(t){super(t),this.destroyed=!1,this._pending=0,this._missing=0,this._ignoreEmpty=!1,this._buf=null,this._str=null,this._cb=null,this._ondrain=null,this._writeBuffer=null,this._writeCb=null,this._ondrain=null,this._kick()}destroy(t){this.destroyed||(this.destroyed=!0,t&&this.emit("error",t),this.emit("close"))}_write(t,o,r){if(!this.destroyed){for(var d=!this._str||!this._str._writableState.needDrain;t.length&&!this.destroyed;){if(!this._missing&&!this._ignoreEmpty)return this._writeBuffer=t,void(this._writeCb=r);var h=t.length<this._missing?t.length:this._missing;if(this._buf?t.copy(this._buf,this._buf.length-this._missing):this._str&&(d=this._str.write(h===t.length?t:t.slice(0,h))),this._missing-=h,!this._missing){var l=this._buf,p=this._cb,w=this._str;this._buf=this._cb=this._str=this._ondrain=null,d=!0,this._ignoreEmpty=!1,w&&w.end(),p&&p(l)}t=h===t.length?n:t.slice(h)}return this._pending&&!this._missing?(this._writeBuffer=t,void(this._writeCb=r)):void(d?r():this._ondrain(r))}}_buffer(t,o){this._missing=t,this._buf=i.alloc(t),this._cb=o}_stream(t,o){return this._missing=t,this._str=new u(this),this._ondrain=f(this._str,"drain"),this._pending++,this._str.on("end",()=>{this._pending--,this._kick()}),this._cb=o,this._str}_readBox(){const t=(o,r)=>{this._buffer(o,d=>{r=r?i.concat([r,d]):d;var h=x.readHeaders(r);"number"==typeof h?t(h-r.length,r):(this._pending++,this._headers=h,this.emit("box",h))})};t(8)}stream(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var t=this._headers;return this._headers=null,this._stream(t.contentLen,()=>{this._pending--,this._kick()})}decode(t){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var o=this._headers;this._headers=null,this._buffer(o.contentLen,r=>{var d=x.decodeWithoutHeaders(o,r);t(d),this._pending--,this._kick()})}ignore(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var t=this._headers;this._headers=null,this._missing=t.contentLen,0===this._missing&&(this._ignoreEmpty=!0),this._cb=()=>{this._pending--,this._kick()}}_kick(){if(!this._pending&&(this._buf||this._str||this._readBox(),this._writeBuffer)){var t=this._writeCb,o=this._writeBuffer;this._writeBuffer=null,this._writeCb=null,this._write(o,null,t)}}}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69,"mp4-box-encoding":184,"next-event":190,"readable-stream":240}],186:[function(m,B){(function(i){(function(){function g(){}var f=m("readable-stream"),x=m("mp4-box-encoding"),n=m("queue-microtask");class u extends f.PassThrough{constructor(t){super(),this._parent=t,this.destroyed=!1}destroy(t){this.destroyed||(this.destroyed=!0,this._parent.destroy(t),t&&this.emit("error",t),this.emit("close"))}}B.exports=class c extends f.Readable{constructor(t){super(t),this.destroyed=!1,this._finalized=!1,this._reading=!1,this._stream=null,this._drain=null,this._want=!1,this._onreadable=()=>{this._want&&(this._want=!1,this._read())},this._onend=()=>{this._stream=null}}mdat(t,o){this.mediaData(t,o)}mediaData(t,o){var r=new u(this);return this.box({type:"mdat",contentLength:t,encodeBufferLen:8,stream:r},o),r}box(t,o){if(o||(o=g),this.destroyed)return o(new Error("Encoder is destroyed"));var r;if(t.encodeBufferLen&&(r=i.alloc(t.encodeBufferLen)),t.stream)t.buffer=null,r=x.encode(t,r),this.push(r),this._stream=t.stream,this._stream.on("readable",this._onreadable),this._stream.on("end",this._onend),this._stream.on("end",o),this._forward();else{if(r=x.encode(t,r),this.push(r))return n(o);this._drain=o}}destroy(t){if(!this.destroyed){if(this.destroyed=!0,this._stream&&this._stream.destroy&&this._stream.destroy(),this._stream=null,this._drain){var o=this._drain;this._drain=null,o(t)}t&&this.emit("error",t),this.emit("close")}}finalize(){this._finalized=!0,this._stream||this._drain||this.push(null)}_forward(){if(this._stream)for(;!this.destroyed;){var t=this._stream.read();if(!t)return void(this._want=!!this._stream);if(!this.push(t))return}}_read(){if(!this._reading&&!this.destroyed){if(this._reading=!0,this._stream&&this._forward(),this._drain){var t=this._drain;this._drain=null,t()}this._reading=!1,this._finalized&&this.push(null)}}}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69,"mp4-box-encoding":184,"queue-microtask":218,"readable-stream":240}],187:[function(m,B,i){const g=m("./decode"),f=m("./encode");i.decode=x=>new g(x),i.encode=x=>new f(x)},{"./decode":185,"./encode":186}],188:[function(m,B){function x(c,u,s,t){return kt(c/s)+" "+t+(u>=1.5*s?"s":"")}B.exports=function(c,u){u=u||{};var s=typeof c;if("string"==s&&0<c.length)return function i(c){if(!(100<(c+="").length)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(u){var s=parseFloat(u[1]),t=(u[2]||"ms").toLowerCase();return"years"===t||"year"===t||"yrs"===t||"yr"===t||"y"===t?315576e5*s:"weeks"===t||"week"===t||"w"===t?6048e5*s:"days"===t||"day"===t||"d"===t?864e5*s:"hours"===t||"hour"===t||"hrs"===t||"hr"===t||"h"===t?36e5*s:"minutes"===t||"minute"===t||"mins"===t||"min"===t||"m"===t?6e4*s:"seconds"===t||"second"===t||"secs"===t||"sec"===t||"s"===t?1e3*s:"milliseconds"===t||"millisecond"===t||"msecs"===t||"msec"===t||"ms"===t?s:void 0}}}(c);if("number"===s&&isFinite(c))return u.long?function f(c){var u=At(c);return 864e5<=u?x(c,u,864e5,"day"):36e5<=u?x(c,u,36e5,"hour"):6e4<=u?x(c,u,6e4,"minute"):1e3<=u?x(c,u,1e3,"second"):c+" ms"}(c):function g(c){var u=At(c);return 864e5<=u?kt(c/864e5)+"d":36e5<=u?kt(c/36e5)+"h":6e4<=u?kt(c/6e4)+"m":1e3<=u?kt(c/1e3)+"s":c+"ms"}(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))}},{}],189:[function(m,B){function i(s){return f(s,{objectMode:!0,highWaterMark:16})}function g(s){return f(s)}function f(s,t){if(!s||"function"==typeof s||s._readableState)return s;const o=new n.Readable(t).wrap(s);return s.destroy&&(o.destroy=s.destroy.bind(s)),o}const n=m("readable-stream"),c=m("once");class u extends n.Readable{constructor(t,o){super({...o,autoDestroy:!0}),this._drained=!1,this._forwarding=!1,this._current=null,this._toStreams2=o&&o.objectMode?i:g,"function"==typeof t?this._queue=t:(this._queue=t.map(this._toStreams2),this._queue.forEach(r=>{"function"!=typeof r&&this._attachErrorListener(r)})),this._next()}_read(){this._drained=!0,this._forward()}_forward(){if(!this._forwarding&&this._drained&&this._current){this._forwarding=!0;for(let t;this._drained&&null!==(t=this._current.read());)this._drained=this.push(t);this._forwarding=!1}}_destroy(t,o){let r=[];if(this._current&&r.push(this._current),"function"!=typeof this._queue&&(r=r.concat(this._queue)),0===r.length)o(t);else{let d=r.length,h=t;r.forEach(l=>{!function x(s,t,o){if(!s.destroy||s.destroyed)o(t);else{const r=c(d=>o(d||t));s.on("error",r).on("close",()=>r()).destroy(t,r)}}(l,t,p=>{h=h||p,0==--d&&o(h)})})}}_next(){if(this._current=null,"function"==typeof this._queue)this._queue((t,o)=>t?this.destroy(t):(o=this._toStreams2(o),this._attachErrorListener(o),void this._gotNextStream(o)));else{let t=this._queue.shift();"function"==typeof t&&(t=this._toStreams2(t()),this._attachErrorListener(t)),this._gotNextStream(t)}}_gotNextStream(t){if(!t)return void this.push(null);this._current=t,this._forward();const o=()=>{this._forward()},r=()=>{if(!t._readableState.ended&&!t.destroyed){const h=new Error("ERR_STREAM_PREMATURE_CLOSE");h.code="ERR_STREAM_PREMATURE_CLOSE",this.destroy(h)}},d=()=>{this._current=null,t.removeListener("readable",o),t.removeListener("end",d),t.removeListener("close",r),t.destroy(),this._next()};t.on("readable",o),t.once("end",d),t.once("close",r)}_attachErrorListener(t){if(!t)return;const o=r=>{t.removeListener("error",o),this.destroy(r)};t.once("error",o)}}u.obj=s=>new u(s,{objectMode:!0,highWaterMark:16}),B.exports=u},{once:191,"readable-stream":240}],190:[function(m,B){B.exports=function(i,g){var f=null;return i.on(g,function(x){if(f){var n=f;f=null,n(x)}}),function(x){f=x}}},{}],191:[function(m,B){function i(x){var n=function(){return n.called?n.value:(n.called=!0,n.value=x.apply(this,arguments))};return n.called=!1,n}function g(x){var n=function(){if(n.called)throw new Error(n.onceError);return n.called=!0,n.value=x.apply(this,arguments)};return n.onceError=(x.name||"Function wrapped with `once`")+" shouldn't be called more than once",n.called=!1,n}var f=m("wrappy");B.exports=f(i),B.exports.strict=f(g),i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return g(this)},configurable:!0})})},{wrappy:291}],192:[function(m,B){B.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],193:[function(m,B,i){"use strict";var g=m("asn1.js");i.certificate=m("./certificate");var f=g.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=f;var x=g.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=x;var n=g.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())});i.PublicKey=n;var c=g.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=g.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(c),this.key("subjectPrivateKey").octstr())});i.PrivateKey=u;var s=g.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=s;var t=g.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=t,i.DSAparam=g.define("DSAparam",function(){this.int()});var o=g.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(r),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=o;var r=g.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=g.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":194,"asn1.js":8}],194:[function(m,B){"use strict";var i=m("asn1.js"),g=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),f=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),x=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),n=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(x),this.key("subjectPublicKey").bitstr())}),c=i.define("RelativeDistinguishedName",function(){this.setof(f)}),u=i.define("RDNSequence",function(){this.seqof(c)}),s=i.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),t=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(g),this.key("notAfter").use(g))}),o=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),r=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(x),this.key("issuer").use(s),this.key("validity").use(t),this.key("subject").use(s),this.key("subjectPublicKeyInfo").use(n),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(o).optional())}),d=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(r),this.key("signatureAlgorithm").use(x),this.key("signatureValue").bitstr())});B.exports=d},{"asn1.js":8}],195:[function(m,B){var i=m("evp_bytestokey"),g=m("browserify-aes"),f=m("safe-buffer").Buffer;B.exports=function(x,n){var s,c=x.toString(),u=c.match(/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m);if(u){var o="aes"+u[1],r=f.from(u[2],"hex"),d=f.from(u[3].replace(/[\r\n]/g,""),"base64"),h=i(n,r.slice(0,8),parseInt(u[1],10)).key,l=[],p=g.createDecipheriv(o,h,r);l.push(p.update(d)),l.push(p.final()),s=f.concat(l)}else{var t=c.match(/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m);s=f.from(t[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m)[1],data:s}}},{"browserify-aes":44,evp_bytestokey:137,"safe-buffer":247}],196:[function(m,B){function i(t){var o;"object"!=typeof t||s.isBuffer(t)||(o=t.passphrase,t=t.key),"string"==typeof t&&(t=s.from(t));var l,p,r=n(t,o),d=r.tag,h=r.data;switch(d){case"CERTIFICATE":p=f.certificate.decode(h,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(p||(p=f.PublicKey.decode(h,"der")),l=p.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return f.RSAPublicKey.decode(p.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return p.subjectPrivateKey=p.subjectPublicKey,{type:"ec",data:p};case"1.2.840.10040.4.1":return p.algorithm.params.pub_key=f.DSAparam.decode(p.subjectPublicKey.data,"der"),{type:"dsa",data:p.algorithm.params};default:throw new Error("unknown key id "+l)}case"ENCRYPTED PRIVATE KEY":h=function g(t,o){var r=t.algorithm.decrypt.kde.kdeparams.salt,d=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),h=x[t.algorithm.decrypt.cipher.algo.join(".")],l=t.algorithm.decrypt.cipher.iv,p=t.subjectPrivateKey,w=parseInt(h.split("-")[1],10)/8,b=u.pbkdf2Sync(o,r,d,w,"sha1"),I=c.createDecipheriv(h,b,l),S=[];return S.push(I.update(p)),S.push(I.final()),s.concat(S)}(h=f.EncryptedPrivateKey.decode(h,"der"),o);case"PRIVATE KEY":switch(l=(p=f.PrivateKey.decode(h,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return f.RSAPrivateKey.decode(p.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:p.algorithm.curve,privateKey:f.ECPrivateKey.decode(p.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return p.algorithm.params.priv_key=f.DSAparam.decode(p.subjectPrivateKey,"der"),{type:"dsa",params:p.algorithm.params};default:throw new Error("unknown key id "+l)}case"RSA PUBLIC KEY":return f.RSAPublicKey.decode(h,"der");case"RSA PRIVATE KEY":return f.RSAPrivateKey.decode(h,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:f.DSAPrivateKey.decode(h,"der")};case"EC PRIVATE KEY":return{curve:(h=f.ECPrivateKey.decode(h,"der")).parameters.value,privateKey:h.privateKey};default:throw new Error("unknown key type "+d)}}var f=m("./asn1"),x=m("./aesid.json"),n=m("./fixProc"),c=m("browserify-aes"),u=m("pbkdf2"),s=m("safe-buffer").Buffer;B.exports=i,i.signature=f.signature},{"./aesid.json":192,"./asn1":193,"./fixProc":195,"browserify-aes":44,pbkdf2:198,"safe-buffer":247}],197:[function(m,B){(function(i){(function(){function g(b){if("string"==typeof b&&/^(stream-)?magnet:/.test(b)){const I=h(b);if(!I.infoHash)throw new Error("Invalid torrent identifier");return I}if("string"==typeof b&&(/^[a-f0-9]{40}$/i.test(b)||/^[a-z2-7]{32}$/i.test(b)))return h(`magnet:?xt=urn:btih:${b}`);if(i.isBuffer(b)&&20===b.length)return h(`magnet:?xt=urn:btih:${b.toString("hex")}`);if(i.isBuffer(b))return function x(b){i.isBuffer(b)&&(b=t.decode(b)),s(b.info,"info"),s(b.info["name.utf-8"]||b.info.name,"info.name"),s(b.info["piece length"],"info['piece length']"),s(b.info.pieces,"info.pieces"),b.info.files?b.info.files.forEach(N=>{s("number"==typeof N.length,"info.files[0].length"),s(N["path.utf-8"]||N.path,"info.files[0].path")}):s("number"==typeof b.info.length,"info.length");const I={info:b.info,infoBuffer:t.encode(b.info),name:(b.info["name.utf-8"]||b.info.name).toString(),announce:[]};I.infoHash=p.sync(I.infoBuffer),I.infoHashBuffer=i.from(I.infoHash,"hex"),void 0!==b.info.private&&(I.private=!!b.info.private),b["creation date"]&&(I.created=new Date(1e3*b["creation date"])),b["created by"]&&(I.createdBy=b["created by"].toString()),i.isBuffer(b.comment)&&(I.comment=b.comment.toString()),Array.isArray(b["announce-list"])&&0<b["announce-list"].length?b["announce-list"].forEach(N=>{N.forEach(q=>{I.announce.push(q.toString())})}):b.announce&&I.announce.push(b.announce.toString()),i.isBuffer(b["url-list"])&&(b["url-list"]=0<b["url-list"].length?[b["url-list"]]:[]),I.urlList=(b["url-list"]||[]).map(N=>N.toString()),I.announce=Array.from(new Set(I.announce)),I.urlList=Array.from(new Set(I.urlList));const S=b.info.files||[b.info];I.files=S.map((N,q)=>{const Z=[].concat(I.name,N["path.utf-8"]||N.path||[]).map(le=>le.toString());return{path:l.join.apply(null,[l.sep].concat(Z)).slice(1),name:Z[Z.length-1],length:N.length,offset:S.slice(0,q).reduce(c,0)}}),I.length=S.reduce(c,0);const R=I.files[I.files.length-1];return I.pieceLength=b.info["piece length"],I.lastPieceLength=(R.offset+R.length)%I.pieceLength||I.pieceLength,I.pieces=function u(b){const I=[];for(let S=0;S<b.length;S+=20)I.push(b.slice(S,S+20).toString("hex"));return I}(b.info.pieces),I}(b);if(b&&b.infoHash)return b.infoHash=b.infoHash.toLowerCase(),b.announce||(b.announce=[]),"string"==typeof b.announce&&(b.announce=[b.announce]),b.urlList||(b.urlList=[]),b;throw new Error("Invalid torrent identifier")}function c(b,I){return b+I.length}function s(b,I){if(!b)throw new Error(`Torrent is missing required field: ${I}`)}const t=m("bencode"),o=m("blob-to-buffer"),r=m("fs"),d=m("simple-get"),h=m("magnet-uri"),l=m("path"),p=m("simple-sha1"),w=m("queue-microtask");B.exports=g,B.exports.remote=function f(b,I,S){function R(q){try{N=g(q)}catch(Z){return S(Z)}N&&N.infoHash?S(null,N):S(new Error("Invalid torrent identifier"))}if("function"==typeof I)return f(b,{},I);if("function"!=typeof S)throw new Error("second argument must be a Function");let N;try{N=g(b)}catch{}N&&N.infoHash?w(()=>{S(null,N)}):function n(b){return typeof Blob<"u"&&b instanceof Blob}(b)?o(b,(q,Z)=>q?S(new Error(`Error converting Blob: ${q.message}`)):void R(Z)):"function"==typeof d&&/^https?:/.test(b)?(I=Object.assign({url:b,timeout:3e4,headers:{"user-agent":"WebTorrent (https://webtorrent.io)"}},I),d.concat(I,(q,Z,le)=>q?S(new Error(`Error downloading torrent: ${q.message}`)):void R(le))):"function"==typeof r.readFile&&"string"==typeof b?r.readFile(b,(q,Z)=>q?S(new Error("Invalid torrent identifier")):void R(Z)):w(()=>{S(new Error("Invalid torrent identifier"))})},B.exports.toMagnetURI=h.encode,B.exports.toTorrentFile=function(b){const I={info:b.info};return I["announce-list"]=(b.announce||[]).map(S=>(I.announce||(I.announce=S),[S=i.from(S,"utf8")])),I["url-list"]=b.urlList||[],void 0!==b.private&&(I.private=+b.private),b.created&&(I["creation date"]=0|b.created.getTime()/1e3),b.createdBy&&(I["created by"]=b.createdBy),b.comment&&(I.comment=b.comment),t.encode(I)},i.alloc(0)}).call(this)}).call(this,m("buffer").Buffer)},{bencode:27,"blob-to-buffer":37,buffer:69,fs:41,"magnet-uri":170,path:71,"queue-microtask":218,"simple-get":258,"simple-sha1":260}],198:[function(m,B,i){i.pbkdf2=m("./lib/async"),i.pbkdf2Sync=m("./lib/sync")},{"./lib/async":199,"./lib/sync":202}],199:[function(m,B){(function(i){(function(){function f(){return p||(p=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function x(w,b,I,S,R){return r.importKey("raw",w,{name:"PBKDF2"},!1,["deriveBits"]).then(function(N){return r.deriveBits({name:"PBKDF2",salt:b,iterations:I,hash:{name:R}},N,S<<3)}).then(function(N){return c.from(N)})}var l,p,c=m("safe-buffer").Buffer,u=m("./precondition"),s=m("./default-encoding"),t=m("./sync"),o=m("./to-buffer"),r=i.crypto&&i.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];B.exports=function(w,b,I,S,R,N){"function"==typeof R&&(N=R,R=void 0);var q=d[(R=R||"sha1").toLowerCase()];if(q&&"function"==typeof i.Promise){if(u(I,S),w=o(w,s,"Password"),b=o(b,s,"Salt"),"function"!=typeof N)throw new Error("No callback provided to pbkdf2");!function n(w,b){w.then(function(I){f()(function(){b(null,I)})},function(I){f()(function(){b(I)})})}(function g(w){if(i.process&&!i.process.browser||!r||!r.importKey||!r.deriveBits)return Promise.resolve(!1);if(void 0!==h[w])return h[w];var b=x(l=l||c.alloc(8),l,10,128,w).then(function(){return!0}).catch(function(){return!1});return h[w]=b,b}(q).then(function(Z){return Z?x(w,b,I,S,q):t(w,b,I,S,R)}),N)}else f()(function(){var Z;try{Z=t(w,b,I,S,R)}catch(le){return N(le)}N(null,Z)})}}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"./default-encoding":200,"./precondition":201,"./sync":202,"./to-buffer":203,"safe-buffer":247}],200:[function(m,B){(function(i,g){(function(){var f;f=g.process&&g.process.browser?"utf-8":g.process&&g.process.version?6<=parseInt(i.version.split(".")[0].slice(1),10)?"utf-8":"binary":"utf-8",B.exports=f}).call(this)}).call(this,m("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{_process:205}],201:[function(m,B){j(2,30),B.exports=function(i,g){if("number"!=typeof i)throw new TypeError("Iterations not a number");if(0>i)throw new TypeError("Bad iterations");if("number"!=typeof g)throw new TypeError("Key length not a number");if(0>g||1073741823<g||g!=g)throw new TypeError("Bad key length")}},{}],202:[function(m,B){function i(d,h,l){var p=function g(d){return"rmd160"===d||"ripemd160"===d?function(h){return(new x).update(h).digest()}:"md5"===d?f:function(h){return n(d).update(h).digest()}}(d),w="sha512"===d||"sha384"===d?128:64;h.length>w?h=p(h):h.length<w&&(h=c.concat([h,o],w));for(var b=c.allocUnsafe(w+r[d]),I=c.allocUnsafe(w+r[d]),S=0;S<w;S++)b[S]=54^h[S],I[S]=92^h[S];var R=c.allocUnsafe(w+l+4);b.copy(R,0,0,w),this.ipad1=R,this.ipad2=b,this.opad=I,this.alg=d,this.blocksize=w,this.hash=p,this.size=r[d]}var f=m("create-hash/md5"),x=m("ripemd160"),n=m("sha.js"),c=m("safe-buffer").Buffer,u=m("./precondition"),s=m("./default-encoding"),t=m("./to-buffer"),o=c.alloc(128),r={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};i.prototype.run=function(d,h){return d.copy(h,this.blocksize),this.hash(h).copy(this.opad,this.blocksize),this.hash(this.opad)},B.exports=function(d,h,l,p,w){u(l,p);var b=new i(w=w||"sha1",d=t(d,s,"Password"),(h=t(h,s,"Salt")).length),I=c.allocUnsafe(p),S=c.allocUnsafe(h.length+4);h.copy(S,0,0,h.length);for(var R=0,N=r[w],q=ve(p/N),Z=1;Z<=q;Z++){S.writeUInt32BE(Z,h.length);for(var le=b.run(S,b.ipad1),we=le,ke=1;ke<l;ke++){we=b.run(we,b.ipad2);for(var A=0;A<N;A++)le[A]^=we[A]}le.copy(I,R),R+=N}return I}},{"./default-encoding":200,"./precondition":201,"./to-buffer":203,"create-hash/md5":100,ripemd160:243,"safe-buffer":247,"sha.js":250}],203:[function(m,B){var i=m("safe-buffer").Buffer;B.exports=function(g,f,x){if(i.isBuffer(g))return g;if("string"==typeof g)return i.from(g,f);if(ArrayBuffer.isView(g))return i.from(g.buffer);throw new TypeError(x+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":247}],204:[function(m,B){B.exports=function(i){return ue(16384,0|1<<Math.log2(1024>i?1:i/1024)+.5)}},{}],205:[function(m,B){function i(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function f(w){if(o===setTimeout)return setTimeout(w,0);if((o===i||!o)&&setTimeout)return o=setTimeout,setTimeout(w,0);try{return o(w,0)}catch{try{return o.call(null,w,0)}catch{return o.call(this,w,0)}}}function n(){h&&p&&(h=!1,p.length?d=p.concat(d):l=-1,d.length&&c())}function c(){if(!h){var w=f(n);h=!0;for(var b=d.length;b;){for(p=d,d=[];++l<b;)p&&p[l].run();l=-1,b=d.length}p=null,h=!1,function x(w){if(r===clearTimeout)return clearTimeout(w);if((r===g||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(w);try{r(w)}catch{try{return r.call(null,w)}catch{return r.call(this,w)}}}(w)}}function u(w,b){this.fun=w,this.array=b}function s(){}var o,r,t=B.exports={};!function(){try{o="function"==typeof setTimeout?setTimeout:i}catch{o=i}try{r="function"==typeof clearTimeout?clearTimeout:g}catch{r=g}}();var p,d=[],h=!1,l=-1;t.nextTick=function(w){var b=Array(arguments.length-1);if(1<arguments.length)for(var I=1;I<arguments.length;I++)b[I-1]=arguments[I];d.push(new u(w,b)),1!==d.length||h||f(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=s,t.addListener=s,t.once=s,t.off=s,t.removeListener=s,t.removeAllListeners=s,t.emit=s,t.prependListener=s,t.prependOnceListener=s,t.listeners=function(){return[]},t.binding=function(){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],206:[function(m,B,i){i.publicEncrypt=m("./publicEncrypt"),i.privateDecrypt=m("./privateDecrypt"),i.privateEncrypt=function(g,f){return i.publicEncrypt(g,f,!0)},i.publicDecrypt=function(g,f){return i.privateDecrypt(g,f,!0)}},{"./privateDecrypt":209,"./publicEncrypt":210}],207:[function(m,B){function i(x){var n=f.allocUnsafe(4);return n.writeUInt32BE(x,0),n}var g=m("create-hash"),f=m("safe-buffer").Buffer;B.exports=function(x,n){for(var s,c=f.alloc(0),u=0;c.length<n;)s=i(u++),c=f.concat([c,g("sha1").update(x).update(s).digest()]);return c.slice(0,n)}},{"create-hash":99,"safe-buffer":247}],208:[function(m,B,i){arguments[4][22][0].apply(i,arguments)},{buffer:41,dup:22}],209:[function(m,B){var x=m("parse-asn1"),n=m("./mgf"),c=m("./xor"),u=m("bn.js"),s=m("browserify-rsa"),t=m("create-hash"),o=m("./withPublic"),r=m("safe-buffer").Buffer;B.exports=function(d,h,l){var p=d.padding?d.padding:l?1:4,w=x(d),b=w.modulus.byteLength();if(h.length>b||0<=new u(h).cmp(w.modulus))throw new Error("decryption error");var I=l?o(new u(h),w):s(h,w),S=r.alloc(b-I.length);if(I=r.concat([S,I],b),4===p)return function i(d,h){var l=d.modulus.byteLength(),p=t("sha1").update(r.alloc(0)).digest(),w=p.length;if(0!==h[0])throw new Error("decryption error");var b=h.slice(1,w+1),I=h.slice(w+1),S=c(b,n(I,w)),R=c(I,n(S,l-w-1));if(function f(d,h){d=r.from(d),h=r.from(h);var l=0,p=d.length;d.length!==h.length&&(l++,p=Y(d.length,h.length));for(var w=-1;++w<p;)l+=d[w]^h[w];return l}(p,R.slice(0,w)))throw new Error("decryption error");for(var N=w;0===R[N];)N++;if(1!==R[N++])throw new Error("decryption error");return R.slice(N)}(w,I);if(1===p)return function g(d,h,l){for(var p=h.slice(0,2),w=2,b=0;0!==h[w++];)if(w>=h.length){b++;break}var I=h.slice(2,w-1);if(("0002"!==p.toString("hex")&&!l||"0001"!==p.toString("hex")&&l)&&b++,8>I.length&&b++,b)throw new Error("decryption error");return h.slice(w)}(0,I,l);if(3===p)return I;throw new Error("unknown padding")}},{"./mgf":207,"./withPublic":211,"./xor":212,"bn.js":208,"browserify-rsa":62,"create-hash":99,"parse-asn1":196,"safe-buffer":247}],210:[function(m,B){var x=m("parse-asn1"),n=m("randombytes"),c=m("create-hash"),u=m("./mgf"),s=m("./xor"),t=m("bn.js"),o=m("./withPublic"),r=m("browserify-rsa"),d=m("safe-buffer").Buffer;B.exports=function(h,l,p){var I,w=h.padding?h.padding:p?1:4,b=x(h);if(4===w)I=function i(h,l){var p=h.modulus.byteLength(),w=l.length,b=c("sha1").update(d.alloc(0)).digest(),I=b.length,S=2*I;if(w>p-S-2)throw new Error("message too long");var R=d.alloc(p-w-S-2),N=p-I-1,q=n(I),Z=s(d.concat([b,R,d.alloc(1,1),l],N),u(q,N)),le=s(q,u(Z,I));return new t(d.concat([d.alloc(1),le,Z],p))}(b,l);else if(1===w)I=function g(h,l,p){var I,w=l.length,b=h.modulus.byteLength();if(w>b-11)throw new Error("message too long");return I=p?d.alloc(b-w-3,255):function f(h){for(var I,l=d.allocUnsafe(h),p=0,w=n(2*h),b=0;p<h;)b===w.length&&(w=n(2*h),b=0),(I=w[b++])&&(l[p++]=I);return l}(b-w-3),new t(d.concat([d.from([0,p?1:2]),I,d.alloc(1),l],b))}(b,l,p);else{if(3!==w)throw new Error("unknown padding");if(0<=(I=new t(l)).cmp(b.modulus))throw new Error("data too long for modulus")}return p?r(I,b):o(I,b)}},{"./mgf":207,"./withPublic":211,"./xor":212,"bn.js":208,"browserify-rsa":62,"create-hash":99,"parse-asn1":196,randombytes:221,"safe-buffer":247}],211:[function(m,B){var i=m("bn.js"),g=m("safe-buffer").Buffer;B.exports=function(f,x){return g.from(f.toRed(i.mont(x.modulus)).redPow(new i(x.publicExponent)).fromRed().toArray())}},{"bn.js":208,"safe-buffer":247}],212:[function(m,B){B.exports=function(i,g){for(var f=i.length,x=-1;++x<f;)i[x]^=g[x];return i}},{}],213:[function(m,B){(function(i){(function(){var g=m("once"),f=m("end-of-stream"),x=m("fs"),n=function(){},c=/^v?\.0/.test(i.version),u=function(h){return"function"==typeof h},o=function(h,l,p,w){w=g(w);var b=!1;h.on("close",function(){b=!0}),f(h,{readable:l,writable:p},function(S){return S?w(S):(b=!0,void w())});var I=!1;return function(S){if(!b)return I?void 0:(I=!0,function(h){return!!c&&!!x&&(h instanceof(x.ReadStream||n)||h instanceof(x.WriteStream||n))&&u(h.close)}(h)?h.close(n):function(h){return h.setHeader&&u(h.abort)}(h)?h.abort():u(h.destroy)?h.destroy():void w(S||new Error("stream was destroyed")))}},r=function(h){h()},d=function(h,l){return h.pipe(l)};B.exports=function(){var h=Array.prototype.slice.call(arguments),l=u(h[h.length-1]||n)&&h.pop()||n;if(Array.isArray(h[0])&&(h=h[0]),2>h.length)throw new Error("pump requires two streams per minimum");var w,p=h.map(function(b,I){var S=I<h.length-1;return o(b,S,0<I,function(R){w||(w=R),R&&p.forEach(r),S||(p.forEach(r),l(w))})});return h.reduce(d)}}).call(this)}).call(this,m("_process"))},{_process:205,"end-of-stream":135,fs:41,once:191}],214:[function(m,B,i){(function(g){(function(){!function(f){function x(Z){throw new RangeError(I[Z])}function n(Z,le){for(var we=Z.length,ke=[];we--;)ke[we]=le(Z[we]);return ke}function c(Z,le){var we=Z.split("@"),ke="";return 1<we.length&&(ke=we[0]+"@",Z=we[1]),ke+n((Z=Z.replace(b,".")).split("."),le).join(".")}function u(Z){for(var A,L,le=[],we=0,ke=Z.length;we<ke;)55296<=(A=Z.charCodeAt(we++))&&56319>=A&&we<ke?56320==(64512&(L=Z.charCodeAt(we++)))?le.push(((1023&A)<<10)+(1023&L)+65536):(le.push(A),we--):le.push(A);return le}function s(Z){return n(Z,function(le){var we="";return 65535<le&&(we+=R(55296|1023&(le-=65536)>>>10),le=56320|1023&le),we+R(le)}).join("")}function t(Z){return 10>Z-48?Z-22:26>Z-65?Z-65:26>Z-97?Z-97:36}function o(Z,le){return Z+22+75*(26>Z)-((0!=le)<<5)}function r(Z,le,we){var ke=0;for(Z=we?S(Z/700):Z>>1,Z+=S(Z/le);455<Z;ke+=36)Z=S(Z/35);return S(ke+36*Z/(Z+38))}function d(Z){var z,y,C,M,U,ee,J,re,Ue,We,le=[],we=Z.length,ke=0,A=128,L=72;for(0>(y=Z.lastIndexOf("-"))&&(y=0),C=0;C<y;++C)128<=Z.charCodeAt(C)&&x("not-basic"),le.push(Z.charCodeAt(C));for(M=0<y?y+1:0;M<we;){for(U=ke,ee=1,J=36;M>=we&&x("invalid-input"),(36<=(re=t(Z.charCodeAt(M++)))||re>S((2147483647-ke)/ee))&&x("overflow"),ke+=re*ee,!(re<(Ue=J<=L?1:J>=L+26?26:J-L));J+=36)ee>S(2147483647/(We=36-Ue))&&x("overflow"),ee*=We;L=r(ke-U,z=le.length+1,0==U),S(ke/z)>2147483647-A&&x("overflow"),A+=S(ke/z),ke%=z,le.splice(ke++,0,A)}return s(le)}function h(Z){var we,ke,A,L,z,y,C,M,U,ee,J,re,Ue,We,Qe,le=[];for(re=(Z=u(Z)).length,we=128,ke=0,z=72,y=0;y<re;++y)128>(J=Z[y])&&le.push(R(J));for(A=L=le.length,L&&le.push("-");A<re;){for(C=2147483647,y=0;y<re;++y)(J=Z[y])>=we&&J<C&&(C=J);for(C-we>S((2147483647-ke)/(Ue=A+1))&&x("overflow"),ke+=(C-we)*Ue,we=C,y=0;y<re;++y)if((J=Z[y])<we&&2147483647<++ke&&x("overflow"),J==we){for(M=ke,U=36;!(M<(ee=U<=z?1:U>=z+26?26:U-z));U+=36)le.push(R(o(ee+(Qe=M-ee)%(We=36-ee),0))),M=S(Qe/We);le.push(R(o(M,0))),z=r(ke,Ue,A==L),ke=0,++A}++ke,++we}return le.join("")}var l="object"==typeof i&&i&&!i.nodeType&&i,p="object"==typeof B&&B&&!B.nodeType&&B,w="object"==typeof g&&g;(w.global===w||w.window===w||w.self===w)&&(f=w);var N,q,b=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=wt,R=G;if(N={version:"1.4.1",ucs2:{decode:u,encode:s},decode:d,encode:h,toASCII:function(Z){return c(Z,function(le){return/[^\x20-\x7E]/.test(le)?"xn--"+h(le):le})},toUnicode:function(Z){return c(Z,function(le){return/^xn--/.test(le)?d(le.slice(4).toLowerCase()):le})}},l&&p)if(B.exports==l)p.exports=N;else for(q in N)N.hasOwnProperty(q)&&(l[q]=N[q]);else f.punycode=N}(this)}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],215:[function(m,B){"use strict";function i(f,x){return Object.prototype.hasOwnProperty.call(f,x)}B.exports=function(f,x,n,c){n=n||"=";var u={};if("string"!=typeof f||0===f.length)return u;f=f.split(x=x||"&");var s=1e3;c&&"number"==typeof c.maxKeys&&(s=c.maxKeys);var t=f.length;0<s&&t>s&&(t=s);for(var o=0;o<t;++o){var h,l,p,w,r=f[o].replace(/\+/g,"%20"),d=r.indexOf(n);0<=d?(h=r.substr(0,d),l=r.substr(d+1)):(h=r,l=""),p=decodeURIComponent(h),w=decodeURIComponent(l),i(u,p)?g(u[p])?u[p].push(w):u[p]=[u[p],w]:u[p]=w}return u};var g=Array.isArray||function(f){return"[object Array]"===Object.prototype.toString.call(f)}},{}],216:[function(m,B){"use strict";function i(n,c){if(n.map)return n.map(c);for(var u=[],s=0;s<n.length;s++)u.push(c(n[s],s));return u}var g=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};B.exports=function(n,c,u,s){return c=c||"&",u=u||"=",null===n&&(n=void 0),"object"==typeof n?i(x(n),function(t){var o=encodeURIComponent(g(t))+u;return f(n[t])?i(n[t],function(r){return o+encodeURIComponent(g(r))}).join(c):o+encodeURIComponent(g(n[t]))}).join(c):s?encodeURIComponent(g(s))+u+encodeURIComponent(g(n)):""};var f=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)},x=Object.keys||function(n){var c=[];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&c.push(u);return c}},{}],217:[function(m,B,i){"use strict";i.decode=i.parse=m("./decode"),i.encode=i.stringify=m("./encode")},{"./decode":215,"./encode":216}],218:[function(m,B){(function(i){(function(){let g;B.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window>"u"?i:window):f=>(g||(g=Promise.resolve())).then(f).catch(x=>setTimeout(()=>{throw x},0))}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],219:[function(m,B){B.exports="function"==typeof queueMicrotask?queueMicrotask:i=>Promise.resolve().then(i)},{}],220:[function(m,B){B.exports=function(i){var g=0;return function(){if(g===i.length)return null;var f=i.length-g,x=0|Math.random()*f,n=i[g+x],c=i[g];return i[g]=n,i[g+x]=c,g++,n}}},{}],221:[function(m,B){(function(i,g){(function(){"use strict";var f=m("safe-buffer").Buffer,x=g.crypto||g.msCrypto;B.exports=x&&x.getRandomValues?function(n,c){if(n>4294967295)throw new RangeError("requested too many random bytes");var u=f.allocUnsafe(n);if(0<n)if(65536<n)for(var s=0;s<n;s+=65536)x.getRandomValues(u.slice(s,s+65536));else x.getRandomValues(u);return"function"==typeof c?i.nextTick(function(){c(null,u)}):u}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this)}).call(this,m("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{_process:205,"safe-buffer":247}],222:[function(m,B,i){(function(g,f){(function(){"use strict";function x(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function n(l,p){if("number"!=typeof l||l!=l)throw new TypeError("offset must be a number");if(4294967295<l||0>l)throw new TypeError("offset must be a uint32");if(l>r||l>p)throw new RangeError("offset out of range")}function c(l,p,w){if("number"!=typeof l||l!=l)throw new TypeError("size must be a number");if(4294967295<l||0>l)throw new TypeError("size must be a uint32");if(l+p>w||l>r)throw new RangeError("buffer too small")}function u(l,p,w,b){if(g.browser){var S=new Uint8Array(l.buffer,p,w);return d.getRandomValues(S),b?void g.nextTick(function(){b(null,l)}):l}if(!b)return t(w).copy(l,p),l;t(w,function(N,q){return N?b(N):(q.copy(l,p),void b(null,l))})}var s=m("safe-buffer"),t=m("randombytes"),o=s.Buffer,r=s.kMaxLength,d=f.crypto||f.msCrypto;j(2,32),d&&d.getRandomValues||!g.browser?(i.randomFill=function(l,p,w,b){if(!(o.isBuffer(l)||l instanceof f.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof p)b=p,p=0,w=l.length;else if("function"==typeof w)b=w,w=l.length-p;else if("function"!=typeof b)throw new TypeError('"cb" argument must be a function');return n(p,l.length),c(w,p,l.length),u(l,p,w,b)},i.randomFillSync=function(l,p,w){if(typeof p>"u"&&(p=0),!(o.isBuffer(l)||l instanceof f.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return n(p,l.length),void 0===w&&(w=l.length-p),c(w,p,l.length),u(l,p,w)}):(i.randomFill=x,i.randomFillSync=x)}).call(this)}).call(this,m("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{_process:205,randombytes:221,"safe-buffer":247}],223:[function(m,B){"use strict";function g(c,u){return{start:c.start,end:c.end,index:u}}function f(c){return{start:c.start,end:c.end}}function x(c,u){return c.index-u.index}function n(c,u){return c.start-u.start}B.exports=function(c,u,s){if("string"!=typeof u)throw new TypeError("argument str must be a string");var t=u.indexOf("=");if(-1===t)return-2;var o=u.slice(t+1).split(","),r=[];r.type=u.slice(0,t);for(var d=0;d<o.length;d++){var h=o[d].split("-"),l=parseInt(h[0],10),p=parseInt(h[1],10);isNaN(l)?(l=c-p,p=c-1):isNaN(p)&&(p=c-1),p>c-1&&(p=c-1),!(isNaN(l)||isNaN(p)||l>p||0>l)&&r.push({start:l,end:p})}return 1>r.length?-1:s&&s.combine?function i(c){for(var u=c.map(g).sort(n),s=0,t=1;t<u.length;t++){var o=u[t],r=u[s];o.start>r.end+1?u[++s]=o:o.end>r.end&&(r.end=o.end,r.index=Y(r.index,o.index))}u.length=s+1;var d=u.sort(x).map(f);return d.type=c.type,d}(r):r}},{}],224:[function(m,B){const{Writable:i,PassThrough:g}=m("readable-stream");B.exports=class extends i{constructor(f,x={}){super(x),this.destroyed=!1,this._queue=[],this._position=f||0,this._cb=null,this._buffer=null,this._out=null}_write(f,x,n){let c=!0;for(;;){if(this.destroyed)return;if(0===this._queue.length)return this._buffer=f,void(this._cb=n);this._buffer=null;var u=this._queue[0];const s=ue(u.start-this._position,0),t=u.end-this._position;if(s>=f.length)return this._position+=f.length,n(null);let o;if(t>f.length){this._position+=f.length,o=0===s?f:f.slice(s),c=u.stream.write(o)&&c;break}this._position+=t,o=0===s&&t===f.length?f:f.slice(s,t),c=u.stream.write(o)&&c,u.last&&u.stream.end(),f=f.slice(t),this._queue.shift()}c?n(null):u.stream.once("drain",n.bind(null,null))}slice(f){if(this.destroyed)return null;Array.isArray(f)||(f=[f]);const x=new g;return f.forEach((n,c)=>{this._queue.push({start:n.start,end:n.end,stream:x,last:c===f.length-1})}),this._buffer&&this._write(this._buffer,null,this._cb),x}destroy(f){this.destroyed||(this.destroyed=!0,f&&this.emit("error",f))}}},{"readable-stream":240}],225:[function(m,B){"use strict";function i(u){return parseInt(u,10)===u}function g(u){function o(r){this.s=function t(r){if(void 0===r){r=Array(u);for(var d=0;d<u;d++)r[d]=wt(Math.random()*u)}else if("string"==typeof r)r=(r=""+r).split("").map(function(I){return I.charCodeAt(0)%u});else{if(!Array.isArray(r))throw new TypeError("invalid seed key specified");if(!r.every(function(I){return"number"==typeof I&&I===(0|I)}))throw new TypeError("invalid seed key specified: not array of integers")}for(var h=r.length,l=function s(){for(var r=Array(u),d=0;d<u;d++)r[d]=d;return r}(),p=0,w=0;w<u;w++){var b=l[w];l[w]=l[p=(p+l[w]+r[w%h])%u],l[p]=b}return l}(r),this.i=0,this.j=0}return o.prototype.randomNative=function(){this.i=(this.i+1)%u,this.j=(this.j+this.s[this.i])%u;var r=this.s[this.i];return this.s[this.i]=this.s[this.j],this.s[this.j]=r,this.s[(this.s[this.i]+this.s[this.j])%u]},o.prototype.randomUInt32=function(){return 256*(256*(256*this.randomByte()+this.randomByte())+this.randomByte())+this.randomByte()},o.prototype.randomFloat=function(){return this.randomUInt32()/4294967296},o.prototype.random=function(){var r,d;if(1===arguments.length)r=0,d=arguments[0];else{if(2!==arguments.length)throw new TypeError("random takes one or two integer arguments");r=arguments[0],d=arguments[1]}if(!i(r)||!i(d))throw new TypeError("random takes one or two integer arguments");return r+this.randomUInt32()%(d-r+1)},o.prototype.currentState=function(){return{i:this.i,j:this.j,s:this.s.slice()}},o.prototype.setState=function(r){var d=r.s,h=r.i,l=r.j;if(!(h===(0|h)&&0<=h&&h<u))throw new Error("state.i should be integer [0, "+(u-1)+"]");if(!(l===(0|l)&&0<=l&&l<u))throw new Error("state.j should be integer [0, "+(u-1)+"]");if(!Array.isArray(d)||d.length!==u)throw new Error("state should be array of length "+u);for(var p=0;p<u;p++)if(-1===d.indexOf(p))throw new Error("state should be permutation of 0.."+(u-1)+": "+p+" is missing");this.i=h,this.j=l,this.s=d.slice()},o}function f(u){return G(10>u?48+u:97+u-10)}function x(u){return parseInt(u,16)}var n=g(256);n.prototype.randomByte=n.prototype.randomNative;var c=g(16);c.prototype.randomByte=function(){return 16*this.randomNative()+this.randomNative()},c.prototype.currentStateString=function(){var u=this.currentState();return f(u.i)+f(u.j)+u.s.map(f).join("")},c.prototype.setStateString=function(u){if(!u.match(/^[0-9a-f]{18}$/))throw new TypeError("RC4small stateString should be 18 hex character string");var s=x(u[0]),t=x(u[1]),o=u.split("").slice(2).map(x);this.setState({i:s,j:t,s:o})},n.RC4small=c,B.exports=n},{}],226:[function(m,B,i){arguments[4][73][0].apply(i,arguments)},{dup:73}],227:[function(m,B,i){arguments[4][74][0].apply(i,arguments)},{"./_stream_readable":229,"./_stream_writable":231,_process:205,dup:74,inherits:159}],228:[function(m,B,i){arguments[4][75][0].apply(i,arguments)},{"./_stream_transform":230,dup:75,inherits:159}],229:[function(m,B,i){arguments[4][76][0].apply(i,arguments)},{"../errors":226,"./_stream_duplex":227,"./internal/streams/async_iterator":232,"./internal/streams/buffer_list":233,"./internal/streams/destroy":234,"./internal/streams/from":236,"./internal/streams/state":238,"./internal/streams/stream":239,_process:205,buffer:69,dup:76,events:70,inherits:159,"string_decoder/":276,util:41}],230:[function(m,B,i){arguments[4][77][0].apply(i,arguments)},{"../errors":226,"./_stream_duplex":227,dup:77,inherits:159}],231:[function(m,B,i){arguments[4][78][0].apply(i,arguments)},{"../errors":226,"./_stream_duplex":227,"./internal/streams/destroy":234,"./internal/streams/state":238,"./internal/streams/stream":239,_process:205,buffer:69,dup:78,inherits:159,"util-deprecate":288}],232:[function(m,B,i){arguments[4][79][0].apply(i,arguments)},{"./end-of-stream":235,_process:205,dup:79}],233:[function(m,B,i){arguments[4][80][0].apply(i,arguments)},{buffer:69,dup:80,util:41}],234:[function(m,B,i){arguments[4][81][0].apply(i,arguments)},{_process:205,dup:81}],235:[function(m,B,i){arguments[4][82][0].apply(i,arguments)},{"../../../errors":226,dup:82}],236:[function(m,B,i){arguments[4][83][0].apply(i,arguments)},{dup:83}],237:[function(m,B,i){arguments[4][84][0].apply(i,arguments)},{"../../../errors":226,"./end-of-stream":235,dup:84}],238:[function(m,B,i){arguments[4][85][0].apply(i,arguments)},{"../../../errors":226,dup:85}],239:[function(m,B,i){arguments[4][86][0].apply(i,arguments)},{dup:86,events:70}],240:[function(m,B,i){(i=B.exports=m("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=m("./lib/_stream_writable.js"),i.Duplex=m("./lib/_stream_duplex.js"),i.Transform=m("./lib/_stream_transform.js"),i.PassThrough=m("./lib/_stream_passthrough.js"),i.finished=m("./lib/internal/streams/end-of-stream.js"),i.pipeline=m("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":227,"./lib/_stream_passthrough.js":228,"./lib/_stream_readable.js":229,"./lib/_stream_transform.js":230,"./lib/_stream_writable.js":231,"./lib/internal/streams/end-of-stream.js":235,"./lib/internal/streams/pipeline.js":237}],241:[function(m,B,i){function g(Z,le,we,ke){function A(){return!("number"==typeof Z.length&&Z.length>we.maxBlobLength&&(s("File length too large for Blob URL approach: %d (max: %d)",Z.length,we.maxBlobLength),M(new Error(`File length too large for Blob URL approach: ${Z.length} (max: ${we.maxBlobLength})`)),1))}function L(re){A()&&(J=le(re),f(Z,(Ue,We)=>Ue?M(Ue):(J.addEventListener("error",M),J.addEventListener("loadstart",z),J.addEventListener("loadedmetadata",y),void(J.src=We))))}function z(){if(J.removeEventListener("loadstart",z),we.autoplay){const re=J.play();typeof re<"u"&&re.catch(M)}}function y(){J.removeEventListener("loadedmetadata",y),ke(null,J)}function C(){f(Z,(re,Ue)=>re?M(re):(".pdf"===U?(J=le("object"),J.setAttribute("typemustmatch",!0),J.setAttribute("type","application/pdf"),J.setAttribute("data",Ue)):(J=le("iframe"),J.sandbox="allow-forms allow-scripts",J.src=Ue),void ke(null,J)))}function M(re){re.message=`Error rendering file "${Z.name}": ${re.message}`,s(re.message),ke(re)}const U=r.extname(Z.name).toLowerCase();let J,ee=0;w.includes(U)?function(){function Ue(){s(`Use MediaSource API for ${Z.name}`),pt(),J.addEventListener("error",ft),J.addEventListener("loadstart",z),J.addEventListener("loadedmetadata",y);const Ft=new o(J).createWriteStream(function n(Z){return{".m4a":'audio/mp4; codecs="mp4a.40.5"',".m4b":'audio/mp4; codecs="mp4a.40.5"',".m4p":'audio/mp4; codecs="mp4a.40.5"',".m4v":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".mkv":'video/webm; codecs="avc1.640029, mp4a.40.5"',".mp3":"audio/mpeg",".mp4":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".webm":'video/webm; codecs="vorbis, vp8"'}[r.extname(Z).toLowerCase()]}(Z.name));Z.createReadStream().pipe(Ft),ee&&(J.currentTime=ee)}function We(){s(`Use Blob URL for ${Z.name}`),pt(),J.addEventListener("error",M),J.addEventListener("loadstart",z),J.addEventListener("loadedmetadata",y),f(Z,(It,Ft)=>It?M(It):(J.src=Ft,void(ee&&(J.currentTime=ee))))}function Qe(It){s("videostream error: fallback to MediaSource API: %o",It.message||It),J.removeEventListener("error",Qe),J.removeEventListener("loadedmetadata",y),Ue()}function ft(It){s("MediaSource API error: fallback to Blob URL: %o",It.message||It),A()&&(J.removeEventListener("error",ft),J.removeEventListener("loadedmetadata",y),We())}function pt(){J||(J=le(Xt),J.addEventListener("progress",()=>{ee=J.currentTime}))}const Xt=p.includes(U)?"video":"audio";q?l.includes(U)?function re(){s(`Use \`videostream\` package for ${Z.name}`),pt(),J.addEventListener("error",Qe),J.addEventListener("loadstart",z),J.addEventListener("loadedmetadata",y),new h(Z,J)}():Ue():We()}():b.includes(U)?L("video"):I.includes(U)?L("audio"):S.includes(U)?(J=le("img"),f(Z,(re,Ue)=>re?M(re):(J.src=Ue,J.alt=Z.name,void ke(null,J)))):R.includes(U)?C():function(){s('Unknown file extension "%s" - will attempt to render into iframe',U);let Ue="";Z.createReadStream({start:0,end:1e3}).setEncoding("utf8").on("data",We=>{Ue+=We}).on("end",function re(){t(Ue)?(s('File extension "%s" appears ascii, so will render.',U),C()):(s('File extension "%s" appears non-ascii, will not render.',U),ke(new Error(`Unsupported file type "${U}": Cannot append to DOM`)))}).on("error",ke)}()}function f(Z,le){const we=r.extname(Z.name).toLowerCase();d(Z.createReadStream(),i.mime[we]).then(ke=>le(null,ke),ke=>le(ke))}function x(Z){if(null==Z)throw new Error("file cannot be null or undefined");if("string"!=typeof Z.name)throw new Error("missing or invalid file.name property");if("function"!=typeof Z.createReadStream)throw new Error("missing or invalid file.createReadStream property")}function c(Z){null==Z.autoplay&&(Z.autoplay=!1),null==Z.muted&&(Z.muted=!1),null==Z.controls&&(Z.controls=!0),null==Z.maxBlobLength&&(Z.maxBlobLength=N)}function u(Z,le){Z.autoplay=!!le.autoplay,Z.muted=!!le.muted,Z.controls=!!le.controls}i.render=function(Z,le,we,ke){"function"==typeof we&&(ke=we,we={}),we||(we={}),ke||(ke=()=>{}),x(Z),c(we),"string"==typeof le&&(le=document.querySelector(le)),g(Z,A=>{if(le.nodeName!==A.toUpperCase()){const L=r.extname(Z.name).toLowerCase();throw new Error(`Cannot render "${L}" inside a "${le.nodeName.toLowerCase()}" element, expected "${A}"`)}return("video"===A||"audio"===A)&&u(le,we),le},we,ke)},i.append=function(Z,le,we,ke){function L(y){const C=document.createElement(y);return le.appendChild(C),C}if("function"==typeof we&&(ke=we,we={}),we||(we={}),ke||(ke=()=>{}),x(Z),c(we),"string"==typeof le&&(le=document.querySelector(le)),le&&("VIDEO"===le.nodeName||"AUDIO"===le.nodeName))throw new Error("Invalid video/audio node argument. Argument must be root element that video/audio tag will be appended to.");g(Z,function(y){return"video"===y||"audio"===y?function A(y){const C=L(y);return u(C,we),le.appendChild(C),C}(y):L(y)},we,function z(y,C){y&&C&&C.remove(),ke(y,C)})},i.mime=m("./lib/mime.json");const s=m("debug")("render-media"),t=m("is-ascii"),o=m("mediasource"),r=m("path"),d=m("stream-to-blob-url"),h=m("videostream"),l=[".m4a",".m4b",".m4p",".m4v",".mp4"],p=[".m4v",".mkv",".mp4",".webm"],w=[].concat(p,[".m4a",".m4b",".m4p",".mp3"]),b=[".mov",".ogv"],I=[".aac",".oga",".ogg",".wav",".flac"],S=[".bmp",".gif",".jpeg",".jpg",".png",".svg"],R=[".css",".html",".js",".md",".pdf",".srt",".txt"],N=2e8,q=typeof window<"u"&&window.MediaSource},{"./lib/mime.json":242,debug:105,"is-ascii":160,mediasource:172,path:71,"stream-to-blob-url":272,videostream:290}],242:[function(m,B){B.exports={".3gp":"video/3gpp",".aac":"audio/aac",".aif":"audio/x-aiff",".aiff":"audio/x-aiff",".atom":"application/atom+xml",".avi":"video/x-msvideo",".bmp":"image/bmp",".bz2":"application/x-bzip2",".conf":"text/plain",".css":"text/css",".csv":"text/plain",".diff":"text/x-diff",".doc":"application/msword",".flv":"video/x-flv",".gif":"image/gif",".gz":"application/x-gzip",".htm":"text/html",".html":"text/html",".ico":"image/vnd.microsoft.icon",".ics":"text/calendar",".iso":"application/octet-stream",".jar":"application/java-archive",".jpeg":"image/jpeg",".jpg":"image/jpeg",".js":"application/javascript",".json":"application/json",".less":"text/css",".log":"text/plain",".m3u":"audio/x-mpegurl",".m4a":"audio/x-m4a",".m4b":"audio/mp4",".m4p":"audio/mp4",".m4v":"video/x-m4v",".manifest":"text/cache-manifest",".markdown":"text/x-markdown",".mathml":"application/mathml+xml",".md":"text/x-markdown",".mid":"audio/midi",".midi":"audio/midi",".mov":"video/quicktime",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4v":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"application/ogg",".pdf":"application/pdf",".png":"image/png",".pps":"application/vnd.ms-powerpoint",".ppt":"application/vnd.ms-powerpoint",".ps":"application/postscript",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".rar":"application/x-rar-compressed",".rdf":"application/rdf+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tbz":"application/x-bzip-compressed-tar",".text":"text/plain",".tif":"image/tiff",".tiff":"image/tiff",".torrent":"application/x-bittorrent",".ttf":"application/x-font-ttf",".txt":"text/plain",".wav":"audio/wav",".webm":"video/webm",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".xls":"application/vnd.ms-excel",".xml":"application/xml",".yaml":"text/yaml",".yml":"text/yaml",".zip":"application/zip"}},{}],243:[function(m,B){"use strict";function i(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(I,S){return I<<S|I>>>32-S}function f(I,S,R,N,q,Z,le,we){return 0|g(0|I+(S^R^N)+Z+le,we)+q}function x(I,S,R,N,q,Z,le,we){return 0|g(0|I+(S&R|~S&N)+Z+le,we)+q}function n(I,S,R,N,q,Z,le,we){return 0|g(0|I+((S|~R)^N)+Z+le,we)+q}function c(I,S,R,N,q,Z,le,we){return 0|g(0|I+(S&N|R&~N)+Z+le,we)+q}function u(I,S,R,N,q,Z,le,we){return 0|g(0|I+(S^(R|~N))+Z+le,we)+q}var s=m("buffer").Buffer,t=m("inherits"),o=m("hash-base"),r=Array(16),d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],w=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];t(i,o),i.prototype._update=function(){for(var I=r,S=0;16>S;++S)I[S]=this._block.readInt32LE(4*S);for(var R=0|this._a,N=0|this._b,q=0|this._c,Z=0|this._d,le=0|this._e,we=0|this._a,ke=0|this._b,A=0|this._c,L=0|this._d,z=0|this._e,y=0;80>y;y+=1){var C,M;16>y?(C=f(R,N,q,Z,le,I[d[y]],w[0],l[y]),M=u(we,ke,A,L,z,I[h[y]],b[0],p[y])):32>y?(C=x(R,N,q,Z,le,I[d[y]],w[1],l[y]),M=c(we,ke,A,L,z,I[h[y]],b[1],p[y])):48>y?(C=n(R,N,q,Z,le,I[d[y]],w[2],l[y]),M=n(we,ke,A,L,z,I[h[y]],b[2],p[y])):64>y?(C=c(R,N,q,Z,le,I[d[y]],w[3],l[y]),M=x(we,ke,A,L,z,I[h[y]],b[3],p[y])):(C=u(R,N,q,Z,le,I[d[y]],w[4],l[y]),M=f(we,ke,A,L,z,I[h[y]],b[4],p[y])),R=le,le=Z,Z=g(q,10),q=N,N=C,we=z,z=L,L=g(A,10),A=ke,ke=M}var U=0|this._b+q+L;this._b=0|this._c+Z+z,this._c=0|this._d+le+we,this._d=0|this._e+R+ke,this._e=0|this._a+N+A,this._a=U},i.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var I=s.alloc?s.alloc(20):new s(20);return I.writeInt32LE(this._a,0),I.writeInt32LE(this._b,4),I.writeInt32LE(this._c,8),I.writeInt32LE(this._d,12),I.writeInt32LE(this._e,16),I},B.exports=i},{buffer:69,"hash-base":142,inherits:159}],244:[function(m,B){B.exports=function(g,f,x){function n(l){function p(){x&&x(l,s),x=null}u?i(p):p()}function c(l,p,w){if(s[l]=w,p&&(d=!0),0==--o||p)n(p);else if(!d&&h<t){let b;r?(b=r[h],h+=1,g[b](function(I,S){c(b,I,S)})):(b=h,h+=1,g[b](function(I,S){c(b,I,S)}))}}if("number"!=typeof f)throw new Error("second argument must be a Number");let s,t,o,r,d,h,u=!0;Array.isArray(g)?(s=[],o=t=g.length):(r=Object.keys(g),s={},o=t=r.length),h=f,o?r?r.some(function(l,p){return g[l](function(w,b){c(l,w,b)}),p===f-1}):g.some(function(l,p){return l(function(w,b){c(p,w,b)}),p===f-1}):n(null),u=!1};const i=m("queue-microtask")},{"queue-microtask":218}],245:[function(m,B){B.exports=function(g,f){function x(o){function r(){f&&f(o,u),f=null}c?i(r):r()}function n(o,r,d){u[o]=d,(0==--s||r)&&x(r)}let u,s,t,c=!0;Array.isArray(g)?(u=[],s=g.length):(t=Object.keys(g),u={},s=t.length),s?t?t.forEach(function(o){g[o](function(r,d){n(o,r,d)})}):g.forEach(function(o,r){o(function(d,h){n(r,d,h)})}):x(null),c=!1};const i=m("queue-microtask")},{"queue-microtask":218}],246:[function(m,B,i){var g,f;g=typeof self>"u"?this:self,f=function(){return function(g){function f(n){if(x[n])return x[n].exports;var c=x[n]={i:n,l:!1,exports:{}};return g[n].call(c.exports,c,c.exports,f),c.l=!0,c.exports}var x={};return f.m=g,f.c=x,f.d=function(n,c,u){f.o(n,c)||Object.defineProperty(n,c,{configurable:!1,enumerable:!0,get:u})},f.n=function(n){var c=n&&n.__esModule?function(){return n.default}:function(){return n};return f.d(c,"a",c),c},f.o=function(n,c){return Object.prototype.hasOwnProperty.call(n,c)},f.p="",f(f.s=3)}([function(g,f,x){var c=x(5),u=x(1),s=u.toHex,t=u.ceilHeapSize,o=x(6),r=function(w){for(w+=9;0<w%64;w+=1);return w},l=function(w,b){var I=new Int32Array(w,b+320,5),S=new Int32Array(5),R=new DataView(S.buffer);return R.setInt32(0,I[0],!1),R.setInt32(4,I[1],!1),R.setInt32(8,I[2],!1),R.setInt32(12,I[3],!1),R.setInt32(16,I[4],!1),S},p=function(){function w(b){if(function n(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}(this,w),0<(b=b||65536)%64)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=b,this._padMaxChunkLen=r(b),this._heap=new ArrayBuffer(t(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new c({Int32Array},{},this._heap)}return w.prototype._initState=function(b,I){this._offset=0;var S=new Int32Array(b,I+320,5);S[0]=1732584193,S[1]=-271733879,S[2]=-1732584194,S[3]=271733878,S[4]=-1009589776},w.prototype._padChunk=function(b,I){var S=r(b),R=new Int32Array(this._heap,0,S>>2);return function(w,b){var I=new Uint8Array(w.buffer),S=b%4,R=b-S;switch(S){case 0:I[R+3]=0;case 1:I[R+2]=0;case 2:I[R+1]=0;case 3:I[R+0]=0}for(var N=1+(b>>2);N<w.length;N++)w[N]=0}(R,b),function(w,b,I){w[b>>2]|=128<<24-(b%4<<3),w[14+(-16&2+(b>>2))]=0|I/536870912,w[15+(-16&2+(b>>2))]=I<<3}(R,b,I),S},w.prototype._write=function(b,I,S,R){o(b,this._h8,this._h32,I,S,R||0)},w.prototype._coreCall=function(b,I,S,R,N){var q=S;this._write(b,I,S),N&&(q=this._padChunk(S,R)),this._core.hash(q,this._padMaxChunkLen)},w.prototype.rawDigest=function(b){var I=b.byteLength||b.length||b.size||0;this._initState(this._heap,this._padMaxChunkLen);var S=0,R=this._maxChunkLen;for(S=0;I>S+R;S+=R)this._coreCall(b,S,R,I,!1);return this._coreCall(b,S,I-S,I,!0),l(this._heap,this._padMaxChunkLen)},w.prototype.digest=function(b){return s(this.rawDigest(b).buffer)},w.prototype.digestFromString=function(b){return this.digest(b)},w.prototype.digestFromBuffer=function(b){return this.digest(b)},w.prototype.digestFromArrayBuffer=function(b){return this.digest(b)},w.prototype.resetState=function(){return this._initState(this._heap,this._padMaxChunkLen),this},w.prototype.append=function(b){var I=0,S=b.byteLength||b.length||b.size||0,R=this._offset%this._maxChunkLen,N=void 0;for(this._offset+=S;I<S;)N=Y(S-I,this._maxChunkLen-R),this._write(b,I,N,R),I+=N,(R+=N)===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),R=0);return this},w.prototype.getState=function(){var I=void 0;if(this._offset%this._maxChunkLen)I=this._heap.slice(0);else{var S=new Int32Array(this._heap,this._padMaxChunkLen+320,5);I=S.buffer.slice(S.byteOffset,S.byteOffset+S.byteLength)}return{offset:this._offset,heap:I}},w.prototype.setState=function(b){return this._offset=b.offset,20===b.heap.byteLength?new Int32Array(this._heap,this._padMaxChunkLen+320,5).set(new Int32Array(b.heap)):this._h32.set(new Int32Array(b.heap)),this},w.prototype.rawEnd=function(){var b=this._offset,S=this._padChunk(b%this._maxChunkLen,b);this._core.hash(S,this._padMaxChunkLen);var R=l(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),R},w.prototype.end=function(){return s(this.rawEnd().buffer)},w}();g.exports=p,g.exports._core=c},function(g){for(var f=Array(256),x=0;256>x;x++)f[x]=(16>x?"0":"")+x.toString(16);g.exports.toHex=function(n){for(var c=new Uint8Array(n),u=Array(n.byteLength),s=0;s<u.length;s++)u[s]=f[c[s]];return u.join("")},g.exports.ceilHeapSize=function(n){var c=0;if(65536>=n)return 65536;if(16777216>n)for(c=1;c<n;c<<=1);else for(c=16777216;c<n;c+=16777216);return c},g.exports.isDedicatedWorkerScope=function(n){return"WorkerGlobalScope"in n&&n instanceof n.WorkerGlobalScope&&!("SharedWorkerGlobalScope"in n&&n instanceof n.SharedWorkerGlobalScope)&&!("ServiceWorkerGlobalScope"in n&&n instanceof n.ServiceWorkerGlobalScope)}},function(g,f,x){g.exports=function(){var n=x(0),u=function(t,o,r,d,h){var l=new self.FileReader;l.onloadend=function(){if(l.error)return h(l.error);var p=l.result;o+=l.result.byteLength;try{t.append(p)}catch(w){return void h(w)}o<d.size?u(t,o,r,d,h):h(null,t.end())},l.readAsArrayBuffer(d.slice(o,o+r))},s=!0;return self.onmessage=function(t){if(s){var o=t.data.data,r=t.data.file,d=t.data.id;if(typeof d<"u"&&(r||o)){var h=t.data.blockSize||4194304,l=new n(h);l.resetState();var p=function(w,b){w?self.postMessage({id:d,error:w.name}):self.postMessage({id:d,hash:b})};o&&function(t,o,r){try{r(null,t.digest(o))}catch(d){return r(d)}}(l,o,p),r&&u(l,0,h,r,p)}}},function(){s=!1}}},function(g,f,x){var n=x(4),c=x(0),u=x(7),s=x(2),t=x(1),r=typeof self<"u"&&(0,t.isDedicatedWorkerScope)(self);c.disableWorkerBehaviour=r?s():function(){},c.createWorker=function(){var d=n(2),h=d.terminate;return d.terminate=function(){URL.revokeObjectURL(d.objectURL),h.call(d)},d},c.createHash=u,g.exports=c},function(g,f,x){function n(o){function r(l){if(d[l])return d[l].exports;var p=d[l]={i:l,l:!1,exports:{}};return o[l].call(p.exports,p,p.exports,r),p.l=!0,p.exports}var d={};r.m=o,r.c=d,r.i=function(l){return l},r.d=function(l,p,w){r.o(l,p)||Object.defineProperty(l,p,{configurable:!1,enumerable:!0,get:w})},r.r=function(l){Object.defineProperty(l,"__esModule",{value:!0})},r.n=function(l){var p=l&&l.__esModule?function(){return l.default}:function(){return l};return r.d(p,"a",p),p},r.o=function(l,p){return Object.prototype.hasOwnProperty.call(l,p)},r.p="/",r.oe=function(l){throw console.error(l),l};var h=r(r.s=ENTRY_MODULE);return h.default||h}function c(o){return(o+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function u(o,r,d){var h={};h[d]=[];var l=r.toString(),p=l.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!p)return h;for(var I,w=p[1],b=new RegExp("(\\\\n|\\W)"+c(w)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");I=b.exec(l);)"dll-reference"!==I[3]&&h[d].push(I[3]);for(b=new RegExp("\\("+c(w)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");I=b.exec(l);)o[I[2]]||(h[d].push(I[1]),o[I[2]]=x(I[1]).m),h[I[2]]=h[I[2]]||[],h[I[2]].push(I[4]);return h}function s(o){return Object.keys(o).reduce(function(d,h){return d||0<o[h].length},!1)}g.exports=function(o,r){var d={main:x.m},h=(r=r||{}).all?{main:Object.keys(d)}:function t(o,r){for(var d={main:[r]},h={main:[]},l={main:{}};s(d);)for(var p=Object.keys(d),w=0;w<p.length;w++){var b=p[w],S=d[b].pop();if(l[b]=l[b]||{},!l[b][S]&&o[b][S]){l[b][S]=!0,h[b]=h[b]||[],h[b].push(S);for(var R=u(o,o[b][S],b),N=Object.keys(R),q=0;q<N.length;q++)d[N[q]]=d[N[q]]||[],d[N[q]]=d[N[q]].concat(R[N[q]])}}return h}(d,o),l="";Object.keys(h).filter(function(S){return"main"!==S}).forEach(function(S){for(var R=0;h[S][R];)R++;h[S].push(R),d[S][R]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+S+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(R))+")({"+h[S].map(function(N){return JSON.stringify(N)+": "+d[S][N].toString()}).join(",")+"});\n"}),l=l+"("+n.toString().replace("ENTRY_MODULE",JSON.stringify(o))+")({"+h.main.map(function(S){return JSON.stringify(S)+": "+d.main[S].toString()}).join(",")+"})(self);";var p=new window.Blob([l],{type:"text/javascript"});if(r.bare)return p;var b=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(p),I=new window.Worker(b);return I.objectURL=b,I}},function(g){g.exports=function(f,x,n){var c=new f.Int32Array(n);return{hash:function(u,s){u|=0;var t=0,o=0,r=0,d=0,h=0,l=0,p=0,w=0,b=0,I=0,S=0,R=0,N=0,q=0;for(r=0|c[320+(s|=0)>>2],h=0|c[s+324>>2],p=0|c[s+328>>2],b=0|c[s+332>>2],S=0|c[s+336>>2],t=0;(0|t)<(0|u);t=0|t+64){for(d=r,l=h,w=p,I=b,R=S,o=0;64>(0|o);o=0|o+4)N=0|(0|(r<<5|r>>>27)+(h&p|~h&b))+(0|1518500249+(0|(q=0|c[t+o>>2])+S)),S=b,b=p,p=h<<30|h>>>2,h=r,r=N,c[u+o>>2]=q;for(o=0|u+64;(0|o)<(0|u+80);o=0|o+4)N=0|(0|(r<<5|r>>>27)+(h&p|~h&b))+(0|1518500249+(0|(q=(c[o-12>>2]^c[o-32>>2]^c[o-56>>2]^c[o-64>>2])<<1|(c[o-12>>2]^c[o-32>>2]^c[o-56>>2]^c[o-64>>2])>>>31)+S)),S=b,b=p,p=h<<30|h>>>2,h=r,r=N,c[o>>2]=q;for(o=0|u+80;(0|o)<(0|u+160);o=0|o+4)N=0|(0|(r<<5|r>>>27)+(h^p^b))+(0|1859775393+(0|(q=(c[o-12>>2]^c[o-32>>2]^c[o-56>>2]^c[o-64>>2])<<1|(c[o-12>>2]^c[o-32>>2]^c[o-56>>2]^c[o-64>>2])>>>31)+S)),S=b,b=p,p=h<<30|h>>>2,h=r,r=N,c[o>>2]=q;for(o=0|u+160;(0|o)<(0|u+240);o=0|o+4)N=0|(0|(r<<5|r>>>27)+(h&p|h&b|p&b))+(0|(0|(q=(c[o-12>>2]^c[o-32>>2]^c[o-56>>2]^c[o-64>>2])<<1|(c[o-12>>2]^c[o-32>>2]^c[o-56>>2]^c[o-64>>2])>>>31)+S)-1894007588),S=b,b=p,p=h<<30|h>>>2,h=r,r=N,c[o>>2]=q;for(o=0|u+240;(0|o)<(0|u+320);o=0|o+4)N=0|(0|(r<<5|r>>>27)+(h^p^b))+(0|(0|(q=(c[o-12>>2]^c[o-32>>2]^c[o-56>>2]^c[o-64>>2])<<1|(c[o-12>>2]^c[o-32>>2]^c[o-56>>2]^c[o-64>>2])>>>31)+S)-899497514),S=b,b=p,p=h<<30|h>>>2,h=r,r=N,c[o>>2]=q;r=0|r+d,h=0|h+l,p=0|p+w,b=0|b+I,S=0|S+R}c[s+320>>2]=r,c[s+324>>2]=h,c[s+328>>2]=p,c[s+332>>2]=b,c[s+336>>2]=S}}}},function(g){var f=this,x=void 0;typeof self<"u"&&typeof self.FileReaderSync<"u"&&(x=new self.FileReaderSync);var c=function(s,t,o,r,d,h){var b,l=h%4,p=(d+l)%4,w=d-p;switch(l){case 0:t[h]=s[r+3];case 1:t[0|h+1-(l<<1)]=s[r+2];case 2:t[0|h+2-(l<<1)]=s[r+1];case 3:t[0|h+3-(l<<1)]=s[r]}if(!(d<p+(4-l))){for(b=4-l;b<w;b=0|b+4)o[0|h+b>>2]=s[r+b]<<24|s[r+b+1]<<16|s[r+b+2]<<8|s[r+b+3];switch(p){case 3:t[0|h+w+1]=s[r+w+2];case 2:t[0|h+w+2]=s[r+w+1];case 1:t[0|h+w+3]=s[r+w]}}};g.exports=function(s,t,o,r,d,h){if("string"==typeof s)return function(s,t,o,r,d,h){var b,l=h%4,p=(d+l)%4,w=d-p;switch(l){case 0:t[h]=s.charCodeAt(r+3);case 1:t[0|h+1-(l<<1)]=s.charCodeAt(r+2);case 2:t[0|h+2-(l<<1)]=s.charCodeAt(r+1);case 3:t[0|h+3-(l<<1)]=s.charCodeAt(r)}if(!(d<p+(4-l))){for(b=4-l;b<w;b=0|b+4)o[h+b>>2]=s.charCodeAt(r+b)<<24|s.charCodeAt(r+b+1)<<16|s.charCodeAt(r+b+2)<<8|s.charCodeAt(r+b+3);switch(p){case 3:t[0|h+w+1]=s.charCodeAt(r+w+2);case 2:t[0|h+w+2]=s.charCodeAt(r+w+1);case 1:t[0|h+w+3]=s.charCodeAt(r+w)}}}(s,t,o,r,d,h);if(s instanceof Array||f&&f.Buffer&&f.Buffer.isBuffer(s))return c(s,t,o,r,d,h);if(s instanceof ArrayBuffer)return c(new Uint8Array(s),t,o,r,d,h);if(s.buffer instanceof ArrayBuffer)return c(new Uint8Array(s.buffer,s.byteOffset,s.byteLength),t,o,r,d,h);if(s instanceof Blob)return function(s,t,o,r,d,h){var l=void 0,p=h%4,w=(d+p)%4,b=d-w,I=new Uint8Array(x.readAsArrayBuffer(s.slice(r,r+d)));switch(p){case 0:t[h]=I[3];case 1:t[0|h+1-(p<<1)]=I[2];case 2:t[0|h+2-(p<<1)]=I[1];case 3:t[0|h+3-(p<<1)]=I[0]}if(!(d<w+(4-p))){for(l=4-p;l<b;l=0|l+4)o[0|h+l>>2]=I[l]<<24|I[l+1]<<16|I[l+2]<<8|I[l+3];switch(w){case 3:t[0|h+b+1]=I[b+2];case 2:t[0|h+b+2]=I[b+1];case 1:t[0|h+b+3]=I[b]}}}(s,t,o,r,d,h);throw new Error("Unsupported data type.")}},function(g,f,x){var c=function(){function r(d,h){for(var p,l=0;l<h.length;l++)(p=h[l]).enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}return function(d,h,l){return h&&r(d.prototype,h),l&&r(d,l),d}}(),u=x(0),t=x(1).toHex,o=function(){function r(){(function n(r,d){if(!(r instanceof d))throw new TypeError("Cannot call a class as a function")})(this,r),this._rusha=new u,this._rusha.resetState()}return r.prototype.update=function(d){return this._rusha.append(d),this},r.prototype.digest=function(h){var l=this._rusha.rawEnd().buffer;if(!h)return l;if("hex"===h)return t(l);throw new Error("unsupported digest encoding")},c(r,[{key:"state",get:function(){return this._rusha.getState()},set:function(d){this._rusha.setState(d)}}]),r}();g.exports=function(){return new o}}])},"object"==typeof i&&"object"==typeof B?B.exports=f():"object"==typeof i?i.Rusha=f():g.Rusha=f()},{}],247:[function(m,B,i){function g(c,u){for(var s in c)u[s]=c[s]}function f(c,u,s){return n(c,u,s)}var x=m("buffer"),n=x.Buffer;n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?B.exports=x:(g(x,i),i.Buffer=f),f.prototype=Object.create(n.prototype),g(n,f),f.from=function(c,u,s){if("number"==typeof c)throw new TypeError("Argument must not be a number");return n(c,u,s)},f.alloc=function(c,u,s){if("number"!=typeof c)throw new TypeError("Argument must be a number");var t=n(c);return void 0===u?t.fill(0):"string"==typeof s?t.fill(u,s):t.fill(u),t},f.allocUnsafe=function(c){if("number"!=typeof c)throw new TypeError("Argument must be a number");return n(c)},f.allocUnsafeSlow=function(c){if("number"!=typeof c)throw new TypeError("Argument must be a number");return x.SlowBuffer(c)}},{buffer:69}],248:[function(m,B){(function(i){(function(){"use strict";var n,g=m("buffer"),f=g.Buffer,x={};for(n in g)g.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(x[n]=g[n]);var c=x.Buffer={};for(n in f)f.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(c[n]=f[n]);if(x.Buffer.prototype=f.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(u,s,t){if("number"==typeof u)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof u);if(u&&typeof u.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);return f(u,s,t)}),c.alloc||(c.alloc=function(u,s,t){if("number"!=typeof u)throw new TypeError('The "size" argument must be of type number. Received type '+typeof u);if(0>u||2147483648<=u)throw new RangeError('The value "'+u+'" is invalid for option "size"');var o=f(u);return s&&0!==s.length?"string"==typeof t?o.fill(s,t):o.fill(s):o.fill(0),o}),!x.kStringMaxLength)try{x.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}x.constants||(x.constants={MAX_LENGTH:x.kMaxLength},x.kStringMaxLength&&(x.constants.MAX_STRING_LENGTH=x.kStringMaxLength)),B.exports=x}).call(this)}).call(this,m("_process"))},{_process:205,buffer:69}],249:[function(m,B){function i(f,x){this._block=g.alloc(f),this._finalSize=x,this._blockSize=f,this._len=0}var g=m("safe-buffer").Buffer;i.prototype.update=function(f,x){"string"==typeof f&&(f=g.from(f,x=x||"utf8"));for(var n=this._block,c=this._blockSize,u=f.length,s=this._len,t=0;t<u;){for(var o=s%c,r=Y(u-t,c-o),d=0;d<r;d++)n[o+d]=f[t+d];t+=r,(s+=r)%c==0&&this._update(n)}return this._len+=u,this},i.prototype.digest=function(f){var x=this._len%this._blockSize;this._block[x]=128,this._block.fill(0,x+1),x>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(4294967295>=n)this._block.writeUInt32BE(n,this._blockSize-4);else{var c=(4294967295&n)>>>0;this._block.writeUInt32BE((n-c)/4294967296,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var u=this._hash();return f?u.toString(f):u},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},B.exports=i},{"safe-buffer":247}],250:[function(m,B,g){(g=B.exports=function(f){f=f.toLowerCase();var x=g[f];if(!x)throw new Error(f+" is not supported (we accept pull requests)");return new x}).sha=m("./sha"),g.sha1=m("./sha1"),g.sha224=m("./sha224"),g.sha256=m("./sha256"),g.sha384=m("./sha384"),g.sha512=m("./sha512")},{"./sha":251,"./sha1":252,"./sha224":253,"./sha256":254,"./sha384":255,"./sha512":256}],251:[function(m,B){function i(){this.init(),this._w=t,c.call(this,64,56)}function g(o){return o<<5|o>>>27}function f(o){return o<<30|o>>>2}function x(o,r,d,h){return 0===o?r&d|~r&h:2===o?r&d|r&h|d&h:r^d^h}var n=m("inherits"),c=m("./hash"),u=m("safe-buffer").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],t=Array(80);n(i,c),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},i.prototype._update=function(o){for(var r=this._w,d=0|this._a,h=0|this._b,l=0|this._c,p=0|this._d,w=0|this._e,b=0;16>b;++b)r[b]=o.readInt32BE(4*b);for(;80>b;++b)r[b]=r[b-3]^r[b-8]^r[b-14]^r[b-16];for(var I=0;80>I;++I){var S=~~(I/20),R=0|g(d)+x(S,h,l,p)+w+r[I]+s[S];w=p,p=l,l=f(h),h=d,d=R}this._a=0|d+this._a,this._b=0|h+this._b,this._c=0|l+this._c,this._d=0|p+this._d,this._e=0|w+this._e},i.prototype._hash=function(){var o=u.allocUnsafe(20);return o.writeInt32BE(0|this._a,0),o.writeInt32BE(0|this._b,4),o.writeInt32BE(0|this._c,8),o.writeInt32BE(0|this._d,12),o.writeInt32BE(0|this._e,16),o},B.exports=i},{"./hash":249,inherits:159,"safe-buffer":247}],252:[function(m,B){function i(){this.init(),this._w=o,u.call(this,64,56)}function g(r){return r<<1|r>>>31}function f(r){return r<<5|r>>>27}function x(r){return r<<30|r>>>2}function n(r,d,h,l){return 0===r?d&h|~d&l:2===r?d&h|d&l|h&l:d^h^l}var c=m("inherits"),u=m("./hash"),s=m("safe-buffer").Buffer,t=[1518500249,1859775393,-1894007588,-899497514],o=Array(80);c(i,u),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},i.prototype._update=function(r){for(var d=this._w,h=0|this._a,l=0|this._b,p=0|this._c,w=0|this._d,b=0|this._e,I=0;16>I;++I)d[I]=r.readInt32BE(4*I);for(;80>I;++I)d[I]=g(d[I-3]^d[I-8]^d[I-14]^d[I-16]);for(var S=0;80>S;++S){var R=~~(S/20),N=0|f(h)+n(R,l,p,w)+b+d[S]+t[R];b=w,w=p,p=x(l),l=h,h=N}this._a=0|h+this._a,this._b=0|l+this._b,this._c=0|p+this._c,this._d=0|w+this._d,this._e=0|b+this._e},i.prototype._hash=function(){var r=s.allocUnsafe(20);return r.writeInt32BE(0|this._a,0),r.writeInt32BE(0|this._b,4),r.writeInt32BE(0|this._c,8),r.writeInt32BE(0|this._d,12),r.writeInt32BE(0|this._e,16),r},B.exports=i},{"./hash":249,inherits:159,"safe-buffer":247}],253:[function(m,B){function i(){this.init(),this._w=c,x.call(this,64,56)}var g=m("inherits"),f=m("./sha256"),x=m("./hash"),n=m("safe-buffer").Buffer,c=Array(64);g(i,f),i.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},i.prototype._hash=function(){var u=n.allocUnsafe(28);return u.writeInt32BE(this._a,0),u.writeInt32BE(this._b,4),u.writeInt32BE(this._c,8),u.writeInt32BE(this._d,12),u.writeInt32BE(this._e,16),u.writeInt32BE(this._f,20),u.writeInt32BE(this._g,24),u},B.exports=i},{"./hash":249,"./sha256":254,inherits:159,"safe-buffer":247}],254:[function(m,B){function i(){this.init(),this._w=d,t.call(this,64,56)}function g(h,l,p){return p^h&(l^p)}function f(h,l,p){return h&l|p&(h|l)}function x(h){return(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10)}function n(h){return(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7)}function c(h){return(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3}function u(h){return(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10}var s=m("inherits"),t=m("./hash"),o=m("safe-buffer").Buffer,r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=Array(64);s(i,t),i.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},i.prototype._update=function(h){for(var l=this._w,p=0|this._a,w=0|this._b,b=0|this._c,I=0|this._d,S=0|this._e,R=0|this._f,N=0|this._g,q=0|this._h,Z=0;16>Z;++Z)l[Z]=h.readInt32BE(4*Z);for(;64>Z;++Z)l[Z]=0|u(l[Z-2])+l[Z-7]+c(l[Z-15])+l[Z-16];for(var le=0;64>le;++le){var we=0|q+n(S)+g(S,R,N)+r[le]+l[le],ke=0|x(p)+f(p,w,b);q=N,N=R,R=S,S=0|I+we,I=b,b=w,w=p,p=0|we+ke}this._a=0|p+this._a,this._b=0|w+this._b,this._c=0|b+this._c,this._d=0|I+this._d,this._e=0|S+this._e,this._f=0|R+this._f,this._g=0|N+this._g,this._h=0|q+this._h},i.prototype._hash=function(){var h=o.allocUnsafe(32);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h.writeInt32BE(this._h,28),h},B.exports=i},{"./hash":249,inherits:159,"safe-buffer":247}],255:[function(m,B){function i(){this.init(),this._w=c,x.call(this,128,112)}var g=m("inherits"),f=m("./sha512"),x=m("./hash"),n=m("safe-buffer").Buffer,c=Array(160);g(i,f),i.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},i.prototype._hash=function(){function u(t,o,r){s.writeInt32BE(t,r),s.writeInt32BE(o,r+4)}var s=n.allocUnsafe(48);return u(this._ah,this._al,0),u(this._bh,this._bl,8),u(this._ch,this._cl,16),u(this._dh,this._dl,24),u(this._eh,this._el,32),u(this._fh,this._fl,40),s},B.exports=i},{"./hash":249,"./sha512":256,inherits:159,"safe-buffer":247}],256:[function(m,B){function i(){this.init(),this._w=p,d.call(this,128,112)}function g(w,b,I){return I^w&(b^I)}function f(w,b,I){return w&b|I&(w|b)}function x(w,b){return(w>>>28|b<<4)^(b>>>2|w<<30)^(b>>>7|w<<25)}function n(w,b){return(w>>>14|b<<18)^(w>>>18|b<<14)^(b>>>9|w<<23)}function c(w,b){return(w>>>1|b<<31)^(w>>>8|b<<24)^w>>>7}function u(w,b){return(w>>>1|b<<31)^(w>>>8|b<<24)^(w>>>7|b<<25)}function s(w,b){return(w>>>19|b<<13)^(b>>>29|w<<3)^w>>>6}function t(w,b){return(w>>>19|b<<13)^(b>>>29|w<<3)^(w>>>6|b<<26)}function o(w,b){return w>>>0<b>>>0?1:0}var r=m("inherits"),d=m("./hash"),h=m("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],p=Array(160);r(i,d),i.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},i.prototype._update=function(w){for(var b=this._w,I=0|this._ah,S=0|this._bh,R=0|this._ch,N=0|this._dh,q=0|this._eh,Z=0|this._fh,le=0|this._gh,we=0|this._hh,ke=0|this._al,A=0|this._bl,L=0|this._cl,z=0|this._dl,y=0|this._el,C=0|this._fl,M=0|this._gl,U=0|this._hl,ee=0;32>ee;ee+=2)b[ee]=w.readInt32BE(4*ee),b[ee+1]=w.readInt32BE(4*ee+4);for(;160>ee;ee+=2){var J=b[ee-30],re=b[ee-30+1],Ue=c(J,re),We=u(re,J),Qe=s(J=b[ee-4],re=b[ee-4+1]),ft=t(re,J),It=b[ee-32],Ft=b[ee-32+1],Ke=0|We+b[ee-14+1],mt=0|Ue+b[ee-14]+o(Ke,We);mt=0|(mt=0|mt+Qe+o(Ke=0|Ke+ft,ft))+It+o(Ke=0|Ke+Ft,Ft),b[ee]=mt,b[ee+1]=Ke}for(var St=0;160>St;St+=2){mt=b[St],Ke=b[St+1];var K=f(I,S,R),se=f(ke,A,L),X=x(I,ke),ce=x(ke,I),Je=n(q,y),ie=n(y,q),pe=l[St],Ye=l[St+1],at=g(q,Z,le),dt=g(y,C,M),Gt=0|U+ie,Jt=0|we+Je+o(Gt,U);Jt=0|(Jt=0|(Jt=0|Jt+at+o(Gt=0|Gt+dt,dt))+pe+o(Gt=0|Gt+Ye,Ye))+mt+o(Gt=0|Gt+Ke,Ke);var an=0|ce+se,Cn=0|X+K+o(an,ce);we=le,U=M,le=Z,M=C,Z=q,C=y,q=0|N+Jt+o(y=0|z+Gt,z),N=R,z=L,R=S,L=A,S=I,A=ke,I=0|Jt+Cn+o(ke=0|Gt+an,Gt)}this._al=0|this._al+ke,this._bl=0|this._bl+A,this._cl=0|this._cl+L,this._dl=0|this._dl+z,this._el=0|this._el+y,this._fl=0|this._fl+C,this._gl=0|this._gl+M,this._hl=0|this._hl+U,this._ah=0|this._ah+I+o(this._al,ke),this._bh=0|this._bh+S+o(this._bl,A),this._ch=0|this._ch+R+o(this._cl,L),this._dh=0|this._dh+N+o(this._dl,z),this._eh=0|this._eh+q+o(this._el,y),this._fh=0|this._fh+Z+o(this._fl,C),this._gh=0|this._gh+le+o(this._gl,M),this._hh=0|this._hh+we+o(this._hl,U)},i.prototype._hash=function(){function w(I,S,R){b.writeInt32BE(I,R),b.writeInt32BE(S,R+4)}var b=h.allocUnsafe(64);return w(this._ah,this._al,0),w(this._bh,this._bl,8),w(this._ch,this._cl,16),w(this._dh,this._dl,24),w(this._eh,this._el,32),w(this._fh,this._fl,40),w(this._gh,this._gl,48),w(this._hh,this._hl,56),b},B.exports=i},{"./hash":249,inherits:159,"safe-buffer":247}],257:[function(m,B){(function(i){(function(){B.exports=function(g,f){var x=[];g.on("data",function(n){x.push(n)}),g.once("end",function(){f&&f(null,i.concat(x)),f=null}),g.once("error",function(n){f&&f(n),f=null})}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69}],258:[function(m,B){(function(i){(function(){function g(r,d){if(r=Object.assign({maxRedirects:10},"string"==typeof r?{url:r}:r),d=u(d),r.url){const{hostname:b,port:I,protocol:S,auth:R,path:N}=t.parse(r.url);delete r.url,b||I||S||R?Object.assign(r,{hostname:b,port:I,protocol:S,auth:R,path:N}):r.path=N}const h={"accept-encoding":"gzip, deflate"};let l;r.headers&&Object.keys(r.headers).forEach(b=>h[b.toLowerCase()]=r.headers[b]),r.headers=h,r.body?l=r.json&&!o(r.body)?JSON.stringify(r.body):r.body:r.form&&(l="string"==typeof r.form?r.form:s.stringify(r.form),r.headers["content-type"]="application/x-www-form-urlencoded"),l&&(!r.method&&(r.method="POST"),!o(l)&&(r.headers["content-length"]=i.byteLength(l)),r.json&&!r.form&&(r.headers["content-type"]="application/json")),delete r.body,delete r.form,r.json&&(r.headers.accept="application/json"),r.method&&(r.method=r.method.toUpperCase());const w=("https:"===r.protocol?c:n).request(r,b=>{if(!1!==r.followRedirects&&300<=b.statusCode&&400>b.statusCode&&b.headers.location)return r.url=b.headers.location,delete r.headers.host,b.resume(),"POST"===r.method&&[301,302].includes(b.statusCode)&&(r.method="GET",delete r.headers["content-length"],delete r.headers["content-type"]),0==r.maxRedirects--?d(new Error("too many redirects")):g(r,d);d(null,"function"==typeof x&&"HEAD"!==r.method?x(b):b)});return w.on("timeout",()=>{w.abort(),d(new Error("Request timed out"))}),w.on("error",d),o(l)?l.on("error",d).pipe(w):w.end(l),w}B.exports=g;const f=m("simple-concat"),x=m("decompress-response"),n=m("http"),c=m("https"),u=m("once"),s=m("querystring"),t=m("url"),o=r=>null!==r&&"object"==typeof r&&"function"==typeof r.pipe;g.concat=(r,d)=>g(r,(h,l)=>h?d(h):void f(l,(p,w)=>{if(p)return d(p);if(r.json)try{w=JSON.parse(w.toString())}catch(b){return d(b,l,w)}d(null,l,w)})),["get","post","put","patch","head","delete"].forEach(r=>{g[r]=(d,h)=>("string"==typeof d&&(d={url:d}),g(Object.assign({method:r.toUpperCase()},d),h))})}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69,"decompress-response":41,http:268,https:156,once:191,querystring:217,"simple-concat":257,url:285}],259:[function(m,B){function i(d){return d.replace(/a=ice-options:trickle\s\n/g,"")}const f=m("debug")("simple-peer"),x=m("get-browser-rtc"),n=m("randombytes"),c=m("readable-stream"),u=m("queue-microtask"),s=m("err-code"),{Buffer:t}=m("buffer"),o=65536;class r extends c.Duplex{constructor(h){if(super(h=Object.assign({allowHalfOpen:!1},h)),this._id=n(4).toString("hex").slice(0,7),this._debug("new peer %o",h),this.channelName=h.initiator?h.channelName||n(20).toString("hex"):null,this.initiator=h.initiator||!1,this.channelConfig=h.channelConfig||r.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},r.config,h.config),this.offerOptions=h.offerOptions||{},this.answerOptions=h.answerOptions||{},this.sdpTransform=h.sdpTransform||(l=>l),this.streams=h.streams||(h.stream?[h.stream]:[]),this.trickle=void 0===h.trickle||h.trickle,this.allowHalfTrickle=void 0!==h.allowHalfTrickle&&h.allowHalfTrickle,this.iceCompleteTimeout=h.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=h.wrtc&&"object"==typeof h.wrtc?h.wrtc:x(),!this._wrtc)throw s(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(l){return void this.destroy(s(l,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=l=>{this._onIceCandidate(l)},"object"==typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch(l=>{this.destroy(s(l,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=l=>{this._setupData(l)},this.streams&&this.streams.forEach(l=>{this.addStream(l)}),this._pc.ontrack=l=>{this._onTrack(l)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(h){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof h)try{h=JSON.parse(h)}catch{h={}}this._debug("signal()"),h.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),h.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(h.transceiverRequest.kind,h.transceiverRequest.init)),h.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(h.candidate):this._pendingCandidates.push(h.candidate)),h.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(h)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(l=>{this._addIceCandidate(l)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(l=>{this.destroy(s(l,"ERR_SET_REMOTE_DESCRIPTION"))}),h.sdp||h.candidate||h.renegotiate||h.transceiverRequest||this.destroy(s(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(h){const l=new this._wrtc.RTCIceCandidate(h);this._pc.addIceCandidate(l).catch(p=>{!l.address||l.address.endsWith(".local")?function g(d){console.warn(d)}("Ignoring unsupported ICE candidate."):this.destroy(s(p,"ERR_ADD_ICE_CANDIDATE"))})}send(h){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(h)}}addTransceiver(h,l){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(h,l),this._needsNegotiation()}catch(p){this.destroy(s(p,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:h,init:l}})}}addStream(h){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),h.getTracks().forEach(l=>{this.addTrack(l,h)})}}addTrack(h,l){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const p=this._senderMap.get(h)||new Map;let w=p.get(l);if(w)throw w.removed?s(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):s(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");w=this._pc.addTrack(h,l),p.set(l,w),this._senderMap.set(h,p),this._needsNegotiation()}replaceTrack(h,l,p){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const w=this._senderMap.get(h),b=w?w.get(p):null;if(!b)throw s(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");l&&this._senderMap.set(l,w),null==b.replaceTrack?this.destroy(s(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):b.replaceTrack(l)}removeTrack(h,l){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const p=this._senderMap.get(h),w=p?p.get(l):null;if(!w)throw s(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{w.removed=!0,this._pc.removeTrack(w)}catch(b){"NS_ERROR_UNEXPECTED"===b.name?this._sendersAwaitingStable.push(w):this.destroy(s(b,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(h){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),h.getTracks().forEach(l=>{this.removeTrack(l,h)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,u(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(h){this._destroy(h,()=>{})}_destroy(h,l){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",h&&(h.message||h)),u(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",h&&(h.message||h)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,h&&this.emit("error",h),this.emit("close"),l()}))}_setupData(h){if(!h.channel)return this.destroy(s(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=h.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=o),this.channelName=this._channel.label,this._channel.onmessage=p=>{this._onChannelMessage(p)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=p=>{const w=p.error instanceof Error?p.error:new Error(`Datachannel error: ${p.message} ${p.filename}:${p.lineno}:${p.colno}`);this.destroy(s(w,"ERR_DATA_CHANNEL"))};let l=!1;this._closingInterval=setInterval(()=>{this._channel&&"closing"===this._channel.readyState?(l&&this._onChannelClose(),l=!0):l=!1},5e3)}_read(){}_write(h,l,p){if(this.destroyed)return p(s(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(h)}catch(w){return this.destroy(s(w,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>o?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=p):p(null)}else this._debug("write before connect"),this._chunk=h,this._cb=p}_onFinish(){if(!this.destroyed){const h=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?h():this.once("connect",h)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(h=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(h.sdp=i(h.sdp)),h.sdp=this.sdpTransform(h.sdp);const l=()=>{if(!this.destroyed){const p=this._pc.localDescription||h;this._debug("signal"),this.emit("signal",{type:p.type,sdp:p.sdp})}};this._pc.setLocalDescription(h).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?l():this.once("_iceComplete",l))}).catch(p=>{this.destroy(s(p,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(h=>{this.destroy(s(h,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(h=>{h.mid||!h.sender.track||h.requested||(h.requested=!0,this.addTransceiver(h.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(h=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(h.sdp=i(h.sdp)),h.sdp=this.sdpTransform(h.sdp);const l=()=>{if(!this.destroyed){const p=this._pc.localDescription||h;this._debug("signal"),this.emit("signal",{type:p.type,sdp:p.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(h).then(()=>{this.destroyed||(this.trickle||this._iceComplete?l():this.once("_iceComplete",l))}).catch(p=>{this.destroy(s(p,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(h=>{this.destroy(s(h,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(s(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const h=this._pc.iceConnectionState,l=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",h,l),this.emit("iceStateChange",h,l),("connected"===h||"completed"===h)&&(this._pcReady=!0,this._maybeReady()),"failed"===h&&this.destroy(s(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===h&&this.destroy(s(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(h){const l=p=>("[object Array]"===Object.prototype.toString.call(p.values)&&p.values.forEach(w=>{Object.assign(p,w)}),p);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(p=>{const w=[];p.forEach(b=>{w.push(l(b))}),h(null,w)},p=>h(p)):0<this._pc.getStats.length?this._pc.getStats(p=>{if(this.destroyed)return;const w=[];p.result().forEach(b=>{const I={};b.names().forEach(S=>{I[S]=b.stat(S)}),I.id=b.id,I.type=b.type,I.timestamp=b.timestamp,w.push(l(I))}),h(null,w)},p=>h(p)):h(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const h=()=>{this.destroyed||this.getStats((l,p)=>{if(this.destroyed)return;l&&(p=[]);const w={},b={},I={};let S=!1;p.forEach(N=>{("remotecandidate"===N.type||"remote-candidate"===N.type)&&(w[N.id]=N),("localcandidate"===N.type||"local-candidate"===N.type)&&(b[N.id]=N),("candidatepair"===N.type||"candidate-pair"===N.type)&&(I[N.id]=N)});const R=N=>{S=!0;let q=b[N.localCandidateId];q&&(q.ip||q.address)?(this.localAddress=q.ip||q.address,this.localPort=+q.port):q&&q.ipAddress?(this.localAddress=q.ipAddress,this.localPort=+q.portNumber):"string"==typeof N.googLocalAddress&&(q=N.googLocalAddress.split(":"),this.localAddress=q[0],this.localPort=+q[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let Z=w[N.remoteCandidateId];Z&&(Z.ip||Z.address)?(this.remoteAddress=Z.ip||Z.address,this.remotePort=+Z.port):Z&&Z.ipAddress?(this.remoteAddress=Z.ipAddress,this.remotePort=+Z.portNumber):"string"==typeof N.googRemoteAddress&&(Z=N.googRemoteAddress.split(":"),this.remoteAddress=Z[0],this.remotePort=+Z[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(p.forEach(N=>{"transport"===N.type&&N.selectedCandidatePairId&&R(I[N.selectedCandidatePairId]),("googCandidatePair"===N.type&&"true"===N.googActiveConnection||("candidatepair"===N.type||"candidate-pair"===N.type)&&N.selected)&&R(N)}),S||Object.keys(I).length&&!Object.keys(b).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(q){return this.destroy(s(q,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const N=this._cb;this._cb=null,N(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(h,100)})};h()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>o)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(h=>{this._pc.removeTrack(h),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(h){this.destroyed||(h.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:h.candidate.candidate,sdpMLineIndex:h.candidate.sdpMLineIndex,sdpMid:h.candidate.sdpMid}}):!h.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),h.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(h){if(this.destroyed)return;let l=h.data;l instanceof ArrayBuffer&&(l=t.from(l)),this.push(l)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const h=this._cb;this._cb=null,h(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(h){this.destroyed||h.streams.forEach(l=>{this._debug("on track"),this.emit("track",h.track,l),this._remoteTracks.push({track:h.track,stream:l}),this._remoteStreams.some(p=>p.id===l.id)||(this._remoteStreams.push(l),u(()=>{this._debug("on stream"),this.emit("stream",l)}))})}_debug(){const h=[].slice.call(arguments);h[0]="["+this._id+"] "+h[0],f.apply(null,h)}}r.WEBRTC_SUPPORT=!!x(),r.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},r.channelConfig={},B.exports=r},{buffer:69,debug:105,"err-code":136,"get-browser-rtc":141,"queue-microtask":218,randombytes:221,"readable-stream":240}],260:[function(m,B){function i(r){return u.digest(r)}const n=m("rusha"),c=m("./rusha-worker-sha1"),u=new n,s=typeof window>"u"?self:window,t=s.crypto||s.msCrypto||{};let o=t.subtle||t.webkitSubtle;try{o.digest({name:"sha-1"},new Uint8Array).catch(function(){o=!1})}catch{o=!1}B.exports=function g(r,d){return o?("string"==typeof r&&(r=function f(r){const d=r.length,h=new Uint8Array(d);for(let l=0;l<d;l++)h[l]=r.charCodeAt(l);return h}(r)),void o.digest({name:"sha-1"},r).then(function(h){d(function x(r){const d=r.length,h=[];for(let l=0;l<d;l++){const p=r[l];h.push((p>>>4).toString(16)),h.push((15&p).toString(16))}return h.join("")}(new Uint8Array(h)))},function(){d(i(r))})):void(typeof window>"u"?queueMicrotask(()=>d(i(r))):c(r,function(h,l){return h?void d(i(r)):void d(l)}))},B.exports.sync=i},{"./rusha-worker-sha1":261,rusha:246}],261:[function(m,B){const f=m("rusha");let x,n,c;B.exports=function g(u,s){x||function i(){x=f.createWorker(),n=1,c={},x.onmessage=function(u){const s=u.data.id,t=c[s];delete c[s],null==u.data.error?t(null,u.data.hash):t(new Error("Rusha worker error: "+u.data.error))}}(),c[n]=s,x.postMessage({id:n,data:u}),n+=1}},{rusha:246}],262:[function(m,B){(function(i){(function(){const g=m("debug")("simple-websocket"),f=m("randombytes"),x=m("readable-stream"),n=m("queue-microtask"),c=m("ws"),u="function"==typeof c?c:WebSocket;class t extends x.Duplex{constructor(r={}){if("string"==typeof r&&(r={url:r}),super(r=Object.assign({allowHalfOpen:!1},r)),null==r.url&&null==r.socket)throw new Error("Missing required `url` or `socket` option");if(null!=r.url&&null!=r.socket)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=f(4).toString("hex").slice(0,7),this._debug("new websocket: %o",r),this.connected=!1,this.destroyed=!1,this._chunk=null,this._cb=null,this._interval=null,r.socket)this.url=r.socket.url,this._ws=r.socket,this.connected=r.socket.readyState===u.OPEN;else{this.url=r.url;try{this._ws="function"==typeof c?new u(r.url,null,{...r,encoding:void 0}):new u(r.url)}catch(d){return void n(()=>this.destroy(d))}}this._ws.binaryType="arraybuffer",r.socket&&this.connected?n(()=>this._handleOpen()):this._ws.onopen=()=>this._handleOpen(),this._ws.onmessage=d=>this._handleMessage(d),this._ws.onclose=()=>this._handleClose(),this._ws.onerror=d=>this._handleError(d),this._handleFinishBound=()=>this._handleFinish(),this.once("finish",this._handleFinishBound)}send(r){this._ws.send(r)}destroy(r){this._destroy(r,()=>{})}_destroy(r,d){if(!this.destroyed){if(this._debug("destroy (error: %s)",r&&(r.message||r)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.connected=!1,this.destroyed=!0,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._handleFinishBound&&this.removeListener("finish",this._handleFinishBound),this._handleFinishBound=null,this._ws){const h=this._ws,l=()=>{h.onclose=null};if(h.readyState===u.CLOSED)l();else try{h.onclose=l,h.close()}catch{l()}h.onopen=null,h.onmessage=null,h.onerror=()=>{}}this._ws=null,r&&this.emit("error",r),this.emit("close"),d()}}_read(){}_write(r,d,h){if(this.destroyed)return h(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(r)}catch(l){return this.destroy(l)}"function"!=typeof c&&this._ws.bufferedAmount>65536?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=h):h(null)}else this._debug("write before connect"),this._chunk=r,this._cb=h}_handleOpen(){if(!this.connected&&!this.destroyed){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(d){return this.destroy(d)}this._chunk=null,this._debug('sent chunk from "write before connect"');const r=this._cb;this._cb=null,r(null)}"function"!=typeof c&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_handleMessage(r){if(this.destroyed)return;let d=r.data;d instanceof ArrayBuffer&&(d=i.from(d)),this.push(d)}_handleClose(){this.destroyed||(this._debug("on close"),this.destroy())}_handleError(){this.destroy(new Error(`Error connecting to ${this.url}`))}_handleFinish(){if(!this.destroyed){const r=()=>{setTimeout(()=>this.destroy(),1e3)};this.connected?r():this.once("connect",r)}}_onInterval(){if(this._cb&&this._ws&&!(this._ws.bufferedAmount>65536)){this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);const r=this._cb;this._cb=null,r(null)}}_debug(){const r=[].slice.call(arguments);r[0]="["+this._id+"] "+r[0],g.apply(null,r)}}t.WEBSOCKET_SUPPORT=!!u,B.exports=t}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69,debug:105,"queue-microtask":218,randombytes:221,"readable-stream":240,ws:41}],263:[function(m,B){const i=m("./lib/throttle"),g=m("./lib/throttle-group");B.exports={Throttle:i,ThrottleGroup:g}},{"./lib/throttle":265,"./lib/throttle-group":264}],264:[function(m,B){var i=Number.isInteger;const{TokenBucket:g}=m("limiter"),f=m("./throttle");B.exports=class{constructor(x={}){if("object"!=typeof x)throw new Error("Options must be an object");this.throttles=[],this.setEnabled(x.enabled),this.setRate(x.rate,x.chunksize)}getEnabled(){return this._enabled}getRate(){return this.bucket.tokensPerInterval}getChunksize(){return this.chunksize}setEnabled(x=!0){if("boolean"!=typeof x)throw new Error("Enabled must be a boolean");this._enabled=x;for(const n of this.throttles)n.setEnabled(x)}setRate(x,n=null){if(!i(x)||0>x)throw new Error("Rate must be an integer bigger than zero");if(x=parseInt(x),n&&("number"!=typeof n||0>=n))throw new Error("Chunksize must be bigger than zero");if(n=n||ue(parseInt(x/10),1),n=parseInt(n),0<x&&n>x)throw new Error("Chunk size must be smaller than rate");this.bucket||(this.bucket=new g(x,x,"second",null)),this.bucket.bucketSize=x,this.bucket.tokensPerInterval=x,this.chunksize=n}setChunksize(x){if(!i(x)||0>=x)throw new Error("Chunk size must be an integer bigger than zero");const n=this.getRate();if(x=parseInt(x),0<n&&x>n)throw new Error("Chunk size must be smaller than rate");this.chunksize=x}throttle(x={}){if("object"!=typeof x)throw new Error("Options must be an object");return new f({...x,group:this})}destroy(){for(const x of this.throttles)x.destroy();this.throttles=[]}_addThrottle(x){if(!(x instanceof f))throw new Error("Throttle must be an instance of Throttle");this.throttles.push(x)}_removeThrottle(x){const n=this.throttles.indexOf(x);-1<n&&this.throttles.splice(n,1)}}},{"./throttle":265,limiter:164}],265:[function(m,B){const{EventEmitter:i}=m("events"),{Transform:g}=m("streamx"),{wait:f}=m("./utils");B.exports=class extends g{constructor(n={}){if(super(),"object"!=typeof n)throw new Error("Options must be an object");const c=Object.assign({},n);if(c.group&&!(c.group instanceof x))throw new Error("Group must be an instanece of ThrottleGroup");c.group||(c.group=new x(c)),this._setEnabled(c.enabled||c.group.enabled),this._group=c.group,this._emitter=new i,this._destroyed=!1,this._group._addThrottle(this)}getEnabled(){return this._enabled}getGroup(){return this._group}_setEnabled(n=!0){if("boolean"!=typeof n)throw new Error("Enabled must be a boolean");this._enabled=n}setEnabled(n){this._setEnabled(n),this._emitter.emit(this._enabled?"enabled":"disabled")}_transform(n,c){this._processChunk(n,c)}async _waitForTokens(n){return new Promise((c,u)=>{function s(r){if(o._emitter.removeListener("disabled",s),o._emitter.removeListener("destroyed",s),!t)return t=!0,r?u(r):void c()}let t=!1;const o=this;this._emitter.once("disabled",s),this._emitter.once("destroyed",s),this._group.bucket.removeTokens(n,s)})}_areBothEnabled(){return this._enabled&&this._group.getEnabled()}async _processChunk(n,c){if(!this._areBothEnabled())return c(null,n);let u=0,s=this._group.getChunksize(),t=n.slice(u,u+s);for(;0<t.length;){if(this._areBothEnabled())try{for(;0===this._group.getRate()&&!this._destroyed&&this._areBothEnabled();)if(await f(1e3),this._destroyed)return;if(this._areBothEnabled()&&!this._group.bucket.tryRemoveTokens(t.length)&&(await this._waitForTokens(t.length),this._destroyed))return}catch(o){return c(o)}this.push(t),u+=s,s=this._areBothEnabled()?this._group.getChunksize():n.length-u,t=n.slice(u,u+s)}return c()}destroy(...n){this._group._removeThrottle(this),this._destroyed=!0,this._emitter.emit("destroyed"),super.destroy(...n)}};const x=m("./throttle-group")},{"./throttle-group":264,"./utils":266,events:70,streamx:275}],266:[function(m,B){B.exports={wait:function(i){return new Promise(g=>setTimeout(g,i))}}},{}],267:[function(m,B){var n,i=1,g=65535,x=function(){i=i+1&g};B.exports=function(c){n||(n=setInterval(x,250)).unref&&n.unref();var u=4*(c||5),s=[0],t=1,o=i-1&g;return function(r){var d=i-o&g;for(d>u&&(d=u),o=i;d--;)t===u&&(t=0),s[t]=s[0===t?u-1:t-1],t++;r&&(s[t-1]+=r);var h=s[t-1];return s.length<4?h:4*(h-(s.length<u?0:s[t===u?0:t]))/s.length}}},{}],268:[function(m,B,i){(function(g){(function(){var f=m("./lib/request"),x=m("./lib/response"),n=m("xtend"),c=m("builtin-status-codes"),u=m("url"),s=i;s.request=function(t,o){t="string"==typeof t?u.parse(t):n(t);var r=-1===g.location.protocol.search(/^https?:$/)?"http:":"",d=t.protocol||r,h=t.hostname||t.host,l=t.port,p=t.path||"/";h&&-1!==h.indexOf(":")&&(h="["+h+"]"),t.url=(h?d+"//"+h:"")+(l?":"+l:"")+p,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var w=new f(t);return o&&w.on("response",o),w},s.get=function(t,o){var r=s.request(t,o);return r.end(),r},s.ClientRequest=f,s.IncomingMessage=x.IncomingMessage,s.Agent=function(){},s.Agent.defaultMaxSockets=4,s.globalAgent=new s.Agent,s.STATUS_CODES=c,s.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{"./lib/request":270,"./lib/response":271,"builtin-status-codes":91,url:285,xtend:292}],269:[function(m,B,i){(function(g){(function(){function f(){if(void 0!==c)return c;if(g.XMLHttpRequest){c=new g.XMLHttpRequest;try{c.open("GET",g.XDomainRequest?"/":"https://example.com")}catch{c=null}}else c=null;return c}function x(u){var s=f();if(!s)return!1;try{return s.responseType=u,s.responseType===u}catch{}return!1}function n(u){return"function"==typeof u}var c;i.fetch=n(g.fetch)&&n(g.ReadableStream),i.writableStream=n(g.WritableStream),i.abortController=n(g.AbortController),i.arraybuffer=i.fetch||x("arraybuffer"),i.msstream=!i.fetch&&x("ms-stream"),i.mozchunkedarraybuffer=!i.fetch&&x("moz-chunked-arraybuffer"),i.overrideMimeType=i.fetch||!!f()&&n(f().overrideMimeType),c=null}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],270:[function(m,B){(function(i,g,f){(function(){var c=m("./capability"),u=m("inherits"),s=m("./response"),t=m("readable-stream"),o=s.IncomingMessage,r=s.readyStates,d=B.exports=function(l){var p=this;t.Writable.call(p),p._opts=l,p._body=[],p._headers={},l.auth&&p.setHeader("Authorization","Basic "+f.from(l.auth).toString("base64")),Object.keys(l.headers).forEach(function(I){p.setHeader(I,l.headers[I])});var b,w=!0;if("disable-fetch"===l.mode||"requestTimeout"in l&&!c.abortController)w=!1,b=!0;else if("prefer-streaming"===l.mode)b=!1;else if("allow-wrong-content-type"===l.mode)b=!c.overrideMimeType;else{if(l.mode&&"default"!==l.mode&&"prefer-fast"!==l.mode)throw new Error("Invalid value for opts.mode");b=!0}p._mode=function x(l,p){return c.fetch&&p?"fetch":c.mozchunkedarraybuffer?"moz-chunked-arraybuffer":c.msstream?"ms-stream":c.arraybuffer&&l?"arraybuffer":"text"}(b,w),p._fetchTimer=null,p._socketTimeout=null,p._socketTimer=null,p.on("finish",function(){p._onFinish()})};u(d,t.Writable),d.prototype.setHeader=function(l,p){var b=l.toLowerCase();-1!==h.indexOf(b)||(this._headers[b]={name:l,value:p})},d.prototype.getHeader=function(l){var p=this._headers[l.toLowerCase()];return p?p.value:null},d.prototype.removeHeader=function(l){delete this._headers[l.toLowerCase()]},d.prototype._onFinish=function(){var l=this;if(!l._destroyed){var p=l._opts;"timeout"in p&&0!==p.timeout&&l.setTimeout(p.timeout);var w=l._headers,b=null;"GET"!==p.method&&"HEAD"!==p.method&&(b=new Blob(l._body,{type:(w["content-type"]||{}).value||""}));var I=[];if(Object.keys(w).forEach(function(q){var Z=w[q].name,le=w[q].value;Array.isArray(le)?le.forEach(function(we){I.push([Z,we])}):I.push([Z,le])}),"fetch"===l._mode){var S=null;if(c.abortController){var R=new AbortController;S=R.signal,l._fetchAbortController=R,"requestTimeout"in p&&0!==p.requestTimeout&&(l._fetchTimer=g.setTimeout(function(){l.emit("requestTimeout"),l._fetchAbortController&&l._fetchAbortController.abort()},p.requestTimeout))}g.fetch(l._opts.url,{method:l._opts.method,headers:I,body:b||void 0,mode:"cors",credentials:p.withCredentials?"include":"same-origin",signal:S}).then(function(q){l._fetchResponse=q,l._resetTimers(!1),l._connect()},function(q){l._resetTimers(!0),l._destroyed||l.emit("error",q)})}else{var N=l._xhr=new g.XMLHttpRequest;try{N.open(l._opts.method,l._opts.url,!0)}catch(q){return void i.nextTick(function(){l.emit("error",q)})}"responseType"in N&&(N.responseType=l._mode),"withCredentials"in N&&(N.withCredentials=!!p.withCredentials),"text"===l._mode&&"overrideMimeType"in N&&N.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in p&&(N.timeout=p.requestTimeout,N.ontimeout=function(){l.emit("requestTimeout")}),I.forEach(function(q){N.setRequestHeader(q[0],q[1])}),l._response=null,N.onreadystatechange=function(){switch(N.readyState){case r.LOADING:case r.DONE:l._onXHRProgress()}},"moz-chunked-arraybuffer"===l._mode&&(N.onprogress=function(){l._onXHRProgress()}),N.onerror=function(){l._destroyed||(l._resetTimers(!0),l.emit("error",new Error("XHR error")))};try{N.send(b)}catch(q){return void i.nextTick(function(){l.emit("error",q)})}}}},d.prototype._onXHRProgress=function(){var l=this;l._resetTimers(!1),!function n(l){try{var p=l.status;return null!==p&&0!==p}catch{return!1}}(l._xhr)||l._destroyed||(!l._response&&l._connect(),l._response._onXHRProgress(l._resetTimers.bind(l)))},d.prototype._connect=function(){var l=this;l._destroyed||(l._response=new o(l._xhr,l._fetchResponse,l._mode,l._resetTimers.bind(l)),l._response.on("error",function(p){l.emit("error",p)}),l.emit("response",l._response))},d.prototype._write=function(l,p,w){this._body.push(l),w()},d.prototype._resetTimers=function(l){var p=this;g.clearTimeout(p._socketTimer),p._socketTimer=null,l?(g.clearTimeout(p._fetchTimer),p._fetchTimer=null):p._socketTimeout&&(p._socketTimer=g.setTimeout(function(){p.emit("timeout")},p._socketTimeout))},d.prototype.abort=d.prototype.destroy=function(l){var p=this;p._destroyed=!0,p._resetTimers(!0),p._response&&(p._response._destroyed=!0),p._xhr?p._xhr.abort():p._fetchAbortController&&p._fetchAbortController.abort(),l&&p.emit("error",l)},d.prototype.end=function(l,p,w){"function"==typeof l&&(w=l,l=void 0),t.Writable.prototype.end.call(this,l,p,w)},d.prototype.setTimeout=function(l,p){var w=this;p&&w.once("timeout",p),w._socketTimeout=l,w._resetTimers(!1)},d.prototype.flushHeaders=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this)}).call(this,m("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global,m("buffer").Buffer)},{"./capability":269,"./response":271,_process:205,buffer:69,inherits:159,"readable-stream":240}],271:[function(m,B,i){(function(g,f,x){(function(){var n=m("./capability"),c=m("inherits"),u=m("readable-stream"),s=i.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},t=i.IncomingMessage=function(o,r,d,h){var l=this;if(u.Readable.call(l),l._mode=d,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",function(){g.nextTick(function(){l.emit("close")})}),"fetch"===d){let N=function(){w.read().then(function(q){if(!l._destroyed)return h(q.done),q.done?void l.push(null):(l.push(x.from(q.value)),void N())}).catch(function(q){h(!0),l._destroyed||l.emit("error",q)})};if(l._fetchResponse=r,l.url=r.url,l.statusCode=r.status,l.statusMessage=r.statusText,r.headers.forEach(function(q,Z){l.headers[Z.toLowerCase()]=q,l.rawHeaders.push(Z,q)}),n.writableStream){var p=new WritableStream({write:function(q){return h(!1),new Promise(function(Z,le){l._destroyed?le():l.push(x.from(q))?Z():l._resumeFetch=Z})},close:function(){h(!0),l._destroyed||l.push(null)},abort:function(q){h(!0),l._destroyed||l.emit("error",q)}});try{return void r.body.pipeTo(p).catch(function(q){h(!0),l._destroyed||l.emit("error",q)})}catch{}}var w=r.body.getReader();N()}else if(l._xhr=o,l._pos=0,l.url=o.responseURL,l.statusCode=o.status,l.statusMessage=o.statusText,o.getAllResponseHeaders().split(/\r?\n/).forEach(function(N){var q=N.match(/^([^:]+):\s*(.*)/);if(q){var Z=q[1].toLowerCase();"set-cookie"===Z?(void 0===l.headers[Z]&&(l.headers[Z]=[]),l.headers[Z].push(q[2])):void 0===l.headers[Z]?l.headers[Z]=q[2]:l.headers[Z]+=", "+q[2],l.rawHeaders.push(q[1],q[2])}}),l._charset="x-user-defined",!n.overrideMimeType){var I=l.rawHeaders["mime-type"];if(I){var S=I.match(/;\s*charset=([^;])(;|$)/);S&&(l._charset=S[1].toLowerCase())}l._charset||(l._charset="utf-8")}};c(t,u.Readable),t.prototype._read=function(){var r=this._resumeFetch;r&&(this._resumeFetch=null,r())},t.prototype._onXHRProgress=function(o){var r=this,d=r._xhr,h=null;switch(r._mode){case"text":if((h=d.responseText).length>r._pos){var l=h.substr(r._pos);if("x-user-defined"===r._charset){for(var p=x.alloc(l.length),w=0;w<l.length;w++)p[w]=255&l.charCodeAt(w);r.push(p)}else r.push(l,r._charset);r._pos=h.length}break;case"arraybuffer":if(d.readyState!==s.DONE||!d.response)break;h=d.response,r.push(x.from(new Uint8Array(h)));break;case"moz-chunked-arraybuffer":if(h=d.response,d.readyState!==s.LOADING||!h)break;r.push(x.from(new Uint8Array(h)));break;case"ms-stream":if(h=d.response,d.readyState!==s.LOADING)break;var b=new f.MSStreamReader;b.onprogress=function(){b.result.byteLength>r._pos&&(r.push(x.from(new Uint8Array(b.result.slice(r._pos)))),r._pos=b.result.byteLength)},b.onload=function(){o(!0),r.push(null)},b.readAsArrayBuffer(h)}r._xhr.readyState===s.DONE&&"ms-stream"!==r._mode&&(o(!0),r.push(null))}}).call(this)}).call(this,m("_process"),typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global,m("buffer").Buffer)},{"./capability":269,_process:205,buffer:69,inherits:159,"readable-stream":240}],272:[function(m,B){B.exports=async function(g,f){const x=await i(g,f);return URL.createObjectURL(x)};const i=m("stream-to-blob")},{"stream-to-blob":273}],273:[function(m,B){B.exports=function(i,g){if(null!=g&&"string"!=typeof g)throw new Error("Invalid mimetype, expected string.");return new Promise((f,x)=>{const n=[];i.on("data",c=>n.push(c)).once("end",()=>{const c=null==g?new Blob(n):new Blob(n,{type:g});f(c)}).once("error",x)})}},{}],274:[function(m,B){(function(i){(function(){var g=m("once");B.exports=function(f,x,n){n=g(n);var c=i.alloc(x),u=0;f.on("data",function(s){s.copy(c,u),u+=s.length}).on("end",function(){n(null,c)}).on("error",n)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69,once:191}],275:[function(m,B){function i(){this.stream._duplexState|=ee,!(this.stream._duplexState&Kn)&&this.updateNextTick()}function g(Qt){const Ee=this.stream;Qt&&Ee.destroy(Qt),!(Ee._duplexState&Cn)&&(Ee._duplexState|=X,Ee.emit("finish")),(Ee._duplexState&En)===an&&(Ee._duplexState|=ke),Ee._duplexState&=pe,this.update()}function f(Qt){const Ee=this.stream;Qt||this.error===R||(Qt=this.error),Qt&&Ee.emit("error",Qt),Ee._duplexState|=A,Ee.emit("close");const Vt=Ee._readableState,Nn=Ee._writableState;null!==Vt&&null!==Vt.pipeline&&Vt.pipeline.done(Ee,Qt),null!==Nn&&null!==Nn.pipeline&&Nn.pipeline.done(Ee,Qt)}function x(Qt){const Ee=this.stream;Qt&&Ee.destroy(Qt),Ee._duplexState&=pe,(Ee._duplexState&Re)===se&&(Ee._duplexState&=at,(Ee._duplexState&ce)===ce&&Ee.emit("drain")),!(Ee._duplexState&St)&&this.update()}function n(Qt){Qt&&this.stream.destroy(Qt),this.stream._duplexState&=Xt,!(this.stream._duplexState&C)&&this.update()}function c(){this.stream._duplexState&=Ft,this.update()}function u(){this.stream._duplexState&=dt,this.update()}function s(Qt){const Ee=this.stream;Qt&&Ee.destroy(Qt),!(Ee._duplexState&ke)&&(!(Ee._duplexState&mr)&&(Ee._duplexState|=y),!(Ee._duplexState&ge)&&(Ee._duplexState|=mt),Ee.emit("open")),Ee._duplexState&=Jt,null!==Ee._writableState&&Ee._writableState.update(),null!==Ee._readableState&&Ee._readableState.update()}function t(Qt,Ee){null!=Ee&&this.push(Ee),this._writableState.afterWrite(Qt)}function o(Qt,Ee){const Vt=this._transformState.afterFinal;return Qt?Vt(Qt):(null!=Ee&&this.push(Ee),this.push(null),void Vt(null))}function r(Qt,...Ee){function Vt(Gn,Hn,Yn,rt){Gn.on("error",rt),Gn.on("close",function(){return Hn&&Gn._readableState&&!Gn._readableState.ended||Yn&&Gn._writableState&&!Gn._writableState.ended?rt(N):void 0})}function Nn(Gn){if(Gn&&!Fn){Fn=Gn;for(const Hn of mn)Hn.destroy(Gn)}}const mn=Array.isArray(Qt)?[...Qt,...Ee]:[Qt,...Ee],Mn=mn.length&&"function"==typeof mn[mn.length-1]?mn.pop():null;if(2>mn.length)throw new Error("Pipeline requires at least 2 streams");let zn=mn[0],qn=null,Fn=null;for(let Gn=1;Gn<mn.length;Gn++)qn=mn[Gn],h(zn)?zn.pipe(qn,Nn):(Vt(zn,!0,1<Gn,Nn),zn.pipe(qn)),zn=qn;if(Mn){let Gn=!1;qn.on("finish",()=>{Gn=!0}),qn.on("error",Hn=>{Fn=Fn||Hn}),qn.on("close",()=>Mn(Fn||(Gn?null:N)))}return qn}function d(Qt){return!!Qt._readableState||!!Qt._writableState}function h(Qt){return"number"==typeof Qt._duplexState&&d(Qt)}function w(Qt){return function p(Qt){return"object"==typeof Qt&&null!==Qt&&"number"==typeof Qt.byteLength}(Qt)?Qt.byteLength:1024}function b(){}function I(){this.destroy(new Error("Stream aborted."))}const{EventEmitter:S}=m("events"),R=new Error("Stream was destroyed"),N=new Error("Premature close"),q=m("queue-tick"),Z=m("fast-fifo"),le=33554431,ke=2,A=4,L=1^le,y=16,C=32,M=64,U=128,ee=256,J=512,Qe=8192,ft=16392,pt=32768,Xt=8^le,It=le^(U|ee),Ft=le^ft,Ke=65536,mt=131072,St=262144,K=524288,se=1048576,X=2097152,ce=4194304,Je=8454144,ie=16777216,pe=le^Ke,Ye=le^mt,at=le^se,dt=le^Je,Gt=8|Ke,Jt=le^Gt,an=Qe|X,Cn=ke|A,hn=1|Cn,En=Cn|an,Xn=(Je|ft)&Jt,An=Gt|Xn,Pn=hn|Xn,mr=hn|J|Qe,Mt=hn|Qe|M,Kn=8|C,ge=hn|ie|X,Re=K|se|hn|Ke,je=hn|Ke|K,Ze=Symbol.asyncIterator||Symbol("asyncIterator");class Xe{constructor(Ee,{highWaterMark:Vt=16384,map:Nn=null,mapWritable:mn,byteLength:Mn,byteLengthWritable:zn}={}){this.stream=Ee,this.queue=new Z,this.highWaterMark=Vt,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=zn||Mn||w,this.map=mn||Nn,this.afterWrite=x.bind(this),this.afterUpdateNextTick=u.bind(this)}get ended(){return 0!=(this.stream._duplexState&X)}push(Ee){return null!==this.map&&(Ee=this.map(Ee)),this.buffered+=this.byteLength(Ee),this.queue.push(Ee),this.buffered<this.highWaterMark?(this.stream._duplexState|=K,!0):(this.stream._duplexState|=K|se,!1)}shift(){const Ee=this.queue.shift(),Vt=this.stream;return this.buffered-=this.byteLength(Ee),0===this.buffered&&(Vt._duplexState&=le^K),Ee}end(Ee){"function"==typeof Ee?this.stream.once("finish",Ee):null!=Ee&&this.push(Ee),this.stream._duplexState=(this.stream._duplexState|ie)&Ye}autoBatch(Ee,Vt){const Nn=[],mn=this.stream;for(Nn.push(Ee);(mn._duplexState&je)==(K|Ke);)Nn.push(mn._writableState.shift());return mn._duplexState&hn?Vt(null):void mn._writev(Nn,Vt)}update(){const Ee=this.stream;for(;(Ee._duplexState&je)===K;){const Vt=this.shift();Ee._duplexState|=Ke|St,Ee._write(Vt,this.afterWrite),Ee._duplexState&=le^St}!(Ee._duplexState&(mt|Ke))&&this.updateNonPrimary()}updateNonPrimary(){const Ee=this.stream;return(Ee._duplexState&(hn|ie|K))===ie?(Ee._duplexState=(Ee._duplexState|Ke)&(le^ie),void Ee._final(g.bind(this))):(Ee._duplexState&Cn)===ke?void(0==(Ee._duplexState&An)&&(Ee._duplexState|=Gt,Ee._destroy(f.bind(this)))):void(1==(Ee._duplexState&Pn)&&(Ee._duplexState=(Ee._duplexState|Gt)&L,Ee._open(s.bind(this))))}updateNextTick(){this.stream._duplexState&Je||(this.stream._duplexState|=Je,q(this.afterUpdateNextTick))}}class st{constructor(Ee,{highWaterMark:Vt=16384,map:Nn=null,mapReadable:mn,byteLength:Mn,byteLengthReadable:zn}={}){this.stream=Ee,this.queue=new Z,this.highWaterMark=Vt,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=zn||Mn||w,this.map=mn||Nn,this.pipeTo=null,this.afterRead=n.bind(this),this.afterUpdateNextTick=c.bind(this)}get ended(){return 0!=(this.stream._duplexState&Qe)}pipe(Ee,Vt){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if(this.stream._duplexState|=ee,this.pipeTo=Ee,this.pipeline=new Bt(this.stream,Ee,Vt||null),Vt&&this.stream.on("error",b),h(Ee))Ee._writableState.pipeline=this.pipeline,Vt&&Ee.on("error",b),Ee.on("finish",this.pipeline.finished.bind(this.pipeline));else{const Nn=this.pipeline.done.bind(this.pipeline,Ee),mn=this.pipeline.done.bind(this.pipeline,Ee,null);Ee.on("error",Nn),Ee.on("close",mn),Ee.on("finish",this.pipeline.finished.bind(this.pipeline))}Ee.on("drain",i.bind(this)),this.stream.emit("piping",Ee),Ee.emit("pipe",this.stream)}push(Ee){const Vt=this.stream;return null===Ee?(this.highWaterMark=0,Vt._duplexState=(Vt._duplexState|J)&(le^(y|pt)),!1):(null!==this.map&&(Ee=this.map(Ee)),this.buffered+=this.byteLength(Ee),this.queue.push(Ee),Vt._duplexState=(Vt._duplexState|M)&(le^pt),this.buffered<this.highWaterMark)}shift(){const Ee=this.queue.shift();return this.buffered-=this.byteLength(Ee),0===this.buffered&&(this.stream._duplexState&=4160^le),Ee}unshift(Ee){let Vt;const Nn=[];for(;void 0!==(Vt=this.queue.shift());)Nn.push(Vt);this.push(Ee);for(let mn=0;mn<Nn.length;mn++)this.queue.push(Nn[mn])}read(){const Ee=this.stream;if((Ee._duplexState&Mt)===M){const Vt=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(Vt)&&(Ee._duplexState&=It),1024&Ee._duplexState&&Ee.emit("data",Vt),Vt}return null}drain(){for(const Ee=this.stream;(Ee._duplexState&Mt)===M&&Ee._duplexState&(U|ee);){const Vt=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(Vt)&&(Ee._duplexState&=It),1024&Ee._duplexState&&Ee.emit("data",Vt)}}update(){const Ee=this.stream;for(this.drain();this.buffered<this.highWaterMark&&!(Ee._duplexState&(8|hn|J|Qe|pt));)Ee._duplexState|=8|C|pt,Ee._read(this.afterRead),Ee._duplexState&=le^C,!(8&Ee._duplexState)&&this.drain();2112==(Ee._duplexState&(2048|hn|M|4096))&&(Ee._duplexState|=4096,Ee.emit("readable")),!(Ee._duplexState&(8|y))&&this.updateNonPrimary()}updateNonPrimary(){const Ee=this.stream;return(Ee._duplexState&(hn|J|M))===J&&(Ee._duplexState=(Ee._duplexState|Qe)&(le^J),Ee.emit("end"),(Ee._duplexState&En)===an&&(Ee._duplexState|=ke),null!==this.pipeTo&&this.pipeTo.end()),(Ee._duplexState&Cn)===ke?void(0==(Ee._duplexState&An)&&(Ee._duplexState|=Gt,Ee._destroy(f.bind(this)))):void(1==(Ee._duplexState&Pn)&&(Ee._duplexState=(Ee._duplexState|Gt)&L,Ee._open(s.bind(this))))}updateNextTick(){this.stream._duplexState&ft||(this.stream._duplexState|=ft,q(this.afterUpdateNextTick))}}class tn{constructor(Ee){this.data=null,this.afterTransform=t.bind(Ee),this.afterFinal=null}}class Bt{constructor(Ee,Vt,Nn){this.from=Ee,this.to=Vt,this.afterPipe=Nn,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(Ee,Vt){return Vt&&(this.error=Vt),Ee===this.to&&(this.to=null,null!==this.from)?void(0!=(this.from._duplexState&Qe)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))):Ee===this.from&&(this.from=null,null!==this.to)?void(0==(Ee._duplexState&Qe)&&this.to.destroy(this.error||new Error("Readable stream closed before ending"))):(null!==this.afterPipe&&this.afterPipe(this.error),void(this.to=this.from=this.afterPipe=null))}}class qt extends S{constructor(Ee){super(),this._duplexState=0,this._readableState=null,this._writableState=null,Ee&&(Ee.open&&(this._open=Ee.open),Ee.destroy&&(this._destroy=Ee.destroy),Ee.predestroy&&(this._predestroy=Ee.predestroy),Ee.signal&&Ee.signal.addEventListener("abort",I.bind(this)))}_open(Ee){Ee(null)}_destroy(Ee){Ee(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(this._duplexState&A)}get destroying(){return 0!=(this._duplexState&Cn)}destroy(Ee){!(this._duplexState&Cn)&&(!Ee&&(Ee=R),this._duplexState=Ye&(le^y)&(this._duplexState|ke),null!==this._readableState&&(this._readableState.error=Ee,this._readableState.updateNextTick()),null!==this._writableState&&(this._writableState.error=Ee,this._writableState.updateNextTick()),this._predestroy())}on(Ee,Vt){return null!==this._readableState&&("data"===Ee&&(this._duplexState|=1152,this._readableState.updateNextTick()),"readable"===Ee&&(this._duplexState|=2048,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===Ee&&(this._duplexState|=ce,this._writableState.updateNextTick()),super.on(Ee,Vt)}}class nn extends qt{constructor(Ee){super(Ee),this._duplexState|=1|X,this._readableState=new st(this,Ee),Ee&&Ee.read&&(this._read=Ee.read)}_read(Ee){Ee(null)}pipe(Ee,Vt){return this._readableState.pipe(Ee,Vt),this._readableState.updateNextTick(),Ee}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(Ee){return this._readableState.updateNextTick(),this._readableState.push(Ee)}unshift(Ee){return this._readableState.updateNextTick(),this._readableState.unshift(Ee)}resume(){return this._duplexState|=U,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=le^U,this}static _fromAsyncIterator(Ee,Vt){function Nn(zn){Mn.push(zn.done?null:zn.value)}let mn;const Mn=new nn({...Vt,read(zn){Ee.next().then(Nn).then(zn.bind(null,null)).catch(zn)},predestroy(){mn=Ee.return()},destroy(zn){mn.then(zn.bind(null,null)).catch(zn)}});return Mn}static from(Ee,Vt){if(function l(Qt){return h(Qt)&&Qt.readable}(Ee))return Ee;if(Ee[Ze])return this._fromAsyncIterator(Ee[Ze](),Vt);Array.isArray(Ee)||(Ee=void 0===Ee?[]:[Ee]);let Nn=0;return new nn({...Vt,read(mn){this.push(Nn===Ee.length?null:Ee[Nn++]),mn(null)}})}static isBackpressured(Ee){return 0!=(Ee._duplexState&(Cn|J|Qe))||Ee._readableState.buffered>=Ee._readableState.highWaterMark}static isPaused(Ee){return 0==(Ee._duplexState&U)}[Ze](){function Nn(Gn){null===Fn||(zn?Fn(zn):null!==Gn||Mn._duplexState&Qe?qn({value:Gn,done:null==Gn}):Fn(R),Fn=qn=null)}function mn(Gn){return Mn.destroy(Gn),new Promise((Hn,Yn)=>Mn._duplexState&A?Hn({value:void 0,done:!0}):void Mn.once("close",function(){Gn?Yn(Gn):Hn({value:void 0,done:!0})}))}const Mn=this;let zn=null,qn=null,Fn=null;return this.on("error",Gn=>{zn=Gn}),this.on("readable",function Ee(){null!==qn&&Nn(Mn.read())}),this.on("close",function Vt(){null!==qn&&Nn(null)}),{[Ze](){return this},next:()=>new Promise(function(Gn,Hn){qn=Gn,Fn=Hn;const Yn=Mn.read();null===Yn?Mn._duplexState&A&&Nn(null):Nn(Yn)}),return:()=>mn(null),throw:Gn=>mn(Gn)}}}class _n extends nn{constructor(Ee){super(Ee),this._duplexState=1,this._writableState=new Xe(this,Ee),Ee&&(Ee.writev&&(this._writev=Ee.writev),Ee.write&&(this._write=Ee.write),Ee.final&&(this._final=Ee.final))}_writev(Ee,Vt){Vt(null)}_write(Ee,Vt){this._writableState.autoBatch(Ee,Vt)}_final(Ee){Ee(null)}write(Ee){return this._writableState.updateNextTick(),this._writableState.push(Ee)}end(Ee){return this._writableState.updateNextTick(),this._writableState.end(Ee),this}}class cn extends _n{constructor(Ee){super(Ee),this._transformState=new tn(this),Ee&&(Ee.transform&&(this._transform=Ee.transform),Ee.flush&&(this._flush=Ee.flush))}_write(Ee){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=Ee:this._transform(Ee,this._transformState.afterTransform)}_read(Ee){if(null!==this._transformState.data){const Vt=this._transformState.data;this._transformState.data=null,Ee(null),this._transform(Vt,this._transformState.afterTransform)}else Ee(null)}_transform(Ee,Vt){Vt(null,Ee)}_flush(Ee){Ee(null)}_final(Ee){this._transformState.afterFinal=Ee,this._flush(o.bind(this))}}B.exports={pipeline:r,pipelinePromise:function(...Qt){return new Promise((Ee,Vt)=>r(...Qt,Nn=>Nn?Vt(Nn):void Ee()))},isStream:d,isStreamx:h,Stream:qt,Writable:class extends qt{constructor(Qt){super(Qt),this._duplexState|=1|Qe,this._writableState=new Xe(this,Qt),Qt&&(Qt.writev&&(this._writev=Qt.writev),Qt.write&&(this._write=Qt.write),Qt.final&&(this._final=Qt.final))}_writev(Qt,Ee){Ee(null)}_write(Qt,Ee){this._writableState.autoBatch(Qt,Ee)}_final(Qt){Qt(null)}static isBackpressured(Qt){return 0!=(Qt._duplexState&(se|Cn|ie|X))}write(Qt){return this._writableState.updateNextTick(),this._writableState.push(Qt)}end(Qt){return this._writableState.updateNextTick(),this._writableState.end(Qt),this}},Readable:nn,Duplex:_n,Transform:cn,PassThrough:class extends cn{}}},{events:70,"fast-fifo":139,"queue-tick":219}],276:[function(m,B,i){"use strict";function x(b){var I;switch(this.encoding=function f(b){var I=function g(b){if(!b)return"utf8";for(var I;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(I)return;b=(""+b).toLowerCase(),I=!0}}(b);if("string"!=typeof I&&(p.isEncoding===w||!w(b)))throw new Error("Unknown encoding: "+b);return I||b}(b),this.encoding){case"utf16le":this.text=t,this.end=o,I=4;break;case"utf8":this.fillLast=s,I=4;break;case"base64":this.text=r,this.end=d,I=3;break;default:return this.write=h,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(I)}function n(b){return 127>=b?0:b>>5==6?2:b>>4==14?3:b>>3==30?4:b>>6==2?-1:-2}function s(b){var I=this.lastTotal-this.lastNeed,S=function u(b,I){if(128!=(192&I[0]))return b.lastNeed=0,"\ufffd";if(1<b.lastNeed&&1<I.length){if(128!=(192&I[1]))return b.lastNeed=1,"\ufffd";if(2<b.lastNeed&&2<I.length&&128!=(192&I[2]))return b.lastNeed=2,"\ufffd"}}(this,b);return void 0===S?this.lastNeed<=b.length?(b.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(b.copy(this.lastChar,I,0,b.length),void(this.lastNeed-=b.length)):S}function t(b,I){if((b.length-I)%2==0){var S=b.toString("utf16le",I);if(S){var R=S.charCodeAt(S.length-1);if(55296<=R&&56319>=R)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",I,b.length-1)}function o(b){var I=b&&b.length?this.write(b):"";return this.lastNeed?I+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):I}function r(b,I){var S=(b.length-I)%3;return 0==S?b.toString("base64",I):(this.lastNeed=3-S,this.lastTotal=3,1==S?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",I,b.length-S))}function d(b){var I=b&&b.length?this.write(b):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function h(b){return b.toString(this.encoding)}function l(b){return b&&b.length?this.write(b):""}var p=m("safe-buffer").Buffer,w=p.isEncoding||function(b){switch((b=""+b)&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};i.StringDecoder=x,x.prototype.write=function(b){if(0===b.length)return"";var I,S;if(this.lastNeed){if(void 0===(I=this.fillLast(b)))return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<b.length?I?I+this.text(b,S):this.text(b,S):I||""},x.prototype.end=function(b){var I=b&&b.length?this.write(b):"";return this.lastNeed?I+"\ufffd":I},x.prototype.text=function(b,I){var S=function c(b,I,S){var R=I.length-1;if(R<S)return 0;var N=n(I[R]);return 0<=N?(0<N&&(b.lastNeed=N-1),N):--R<S||-2===N?0:0<=(N=n(I[R]))?(0<N&&(b.lastNeed=N-2),N):--R<S||-2===N?0:0<=(N=n(I[R]))?(0<N&&(2===N?N=0:b.lastNeed=N-3),N):0}(this,b,I);if(!this.lastNeed)return b.toString("utf8",I);this.lastTotal=S;var R=b.length-(S-this.lastNeed);return b.copy(this.lastChar,0,R),b.toString("utf8",I,R)},x.prototype.fillLast=function(b){return this.lastNeed<=b.length?(b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),void(this.lastNeed-=b.length))}},{"safe-buffer":247}],277:[function(m,B,i){var g=m("./thirty-two");i.encode=g.encode,i.decode=g.decode},{"./thirty-two":278}],278:[function(m,B,i){(function(g){(function(){"use strict";var x=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];i.encode=function(n){g.isBuffer(n)||(n=new g(n));for(var c=0,u=0,s=0,t=0,o=new g(8*function f(n){var c=wt(n.length/5);return n.length%5==0?c:c+1}(n));c<n.length;){var r=n[c];3<s?(t=(t=r&255>>s)<<(s=(s+5)%8)|(c+1<n.length?n[c+1]:0)>>8-s,c++):(t=31&r>>8-(s+5),0==(s=(s+5)%8)&&c++),o[u]="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".charCodeAt(t),u++}for(c=u;c<o.length;c++)o[c]=61;return o},i.decode=function(n){var t,c=0,u=0,s=0;g.isBuffer(n)||(n=new g(n));for(var o=new g(ve(5*n.length/8)),r=0;r<n.length&&61!==n[r];r++){var d=n[r]-48;if(!(d<x.length))throw new Error("Invalid input - it is not base32 encoded string");u=x[d],3>=c?0==(c=(c+5)%8)?(o[s]=t|=u,s++,t=0):t|=255&u<<8-c:(o[s]=t|=255&u>>>(c=(c+5)%8),s++,t=255&u<<8-c)}return o.slice(0,s)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69}],279:[function(m,B){var i=m("buffer").Buffer;B.exports=function(g){if(g instanceof Uint8Array){if(0===g.byteOffset&&g.byteLength===g.buffer.byteLength)return g.buffer;if("function"==typeof g.buffer.slice)return g.buffer.slice(g.byteOffset,g.byteOffset+g.byteLength)}if(i.isBuffer(g)){for(var f=new Uint8Array(g.length),x=g.length,n=0;n<x;n++)f[n]=g[n];return f.buffer}throw new Error("Argument must be a Buffer")}},{buffer:69}],280:[function(m,B){(function(i){(function(){const g=m("debug")("torrent-discovery"),f=m("bittorrent-dht/client"),x=m("events").EventEmitter,n=m("run-parallel"),c=m("bittorrent-tracker/client"),u=m("bittorrent-lsd");B.exports=class extends x{constructor(s){if(super(),!s.peerId)throw new Error("Option `peerId` is required");if(!s.infoHash)throw new Error("Option `infoHash` is required");if(!i.browser&&!s.port)throw new Error("Option `port` is required");this.peerId="string"==typeof s.peerId?s.peerId:s.peerId.toString("hex"),this.infoHash="string"==typeof s.infoHash?s.infoHash.toLowerCase():s.infoHash.toString("hex"),this._port=s.port,this._userAgent=s.userAgent,this.destroyed=!1,this._announce=s.announce||[],this._intervalMs=s.intervalMs||9e5,this._trackerOpts=null,this._dhtAnnouncing=!1,this._dhtTimeout=!1,this._internalDHT=!1,this._onWarning=o=>{this.emit("warning",o)},this._onError=o=>{this.emit("error",o)},this._onDHTPeer=(o,r)=>{r.toString("hex")!==this.infoHash||this.emit("peer",`${o.host}:${o.port}`,"dht")},this._onTrackerPeer=o=>{this.emit("peer",o,"tracker")},this._onTrackerAnnounce=()=>{this.emit("trackerAnnounce")},this._onLSDPeer=o=>{this.emit("peer",o,"lsd")};const t=(o,r)=>{const d=new f(r);return d.on("warning",this._onWarning),d.on("error",this._onError),d.listen(o),this._internalDHT=!0,d};!1===s.tracker?this.tracker=null:s.tracker&&"object"==typeof s.tracker?(this._trackerOpts=Object.assign({},s.tracker),this.tracker=this._createTracker()):this.tracker=this._createTracker(),this.dht=!1===s.dht||"function"!=typeof f?null:s.dht&&"function"==typeof s.dht.addNode?s.dht:s.dht&&"object"==typeof s.dht?t(s.dhtPort,s.dht):t(s.dhtPort),this.dht&&(this.dht.on("peer",this._onDHTPeer),this._dhtAnnounce()),this.lsd=!1===s.lsd||"function"!=typeof u?null:this._createLSD()}updatePort(s){s===this._port||(this._port=s,this.dht&&this._dhtAnnounce(),this.tracker&&(this.tracker.stop(),this.tracker.destroy(()=>{this.tracker=this._createTracker()})))}complete(s){this.tracker&&this.tracker.complete(s)}destroy(s){if(!this.destroyed){this.destroyed=!0,clearTimeout(this._dhtTimeout);const t=[];this.tracker&&(this.tracker.stop(),this.tracker.removeListener("warning",this._onWarning),this.tracker.removeListener("error",this._onError),this.tracker.removeListener("peer",this._onTrackerPeer),this.tracker.removeListener("update",this._onTrackerAnnounce),t.push(o=>{this.tracker.destroy(o)})),this.dht&&this.dht.removeListener("peer",this._onDHTPeer),this._internalDHT&&(this.dht.removeListener("warning",this._onWarning),this.dht.removeListener("error",this._onError),t.push(o=>{this.dht.destroy(o)})),this.lsd&&(this.lsd.removeListener("warning",this._onWarning),this.lsd.removeListener("error",this._onError),this.lsd.removeListener("peer",this._onLSDPeer),t.push(o=>{this.lsd.destroy(o)})),n(t,s),this.dht=null,this.tracker=null,this.lsd=null,this._announce=null}}_createTracker(){const s=Object.assign({},this._trackerOpts,{infoHash:this.infoHash,announce:this._announce,peerId:this.peerId,port:this._port,userAgent:this._userAgent}),t=new c(s);return t.on("warning",this._onWarning),t.on("error",this._onError),t.on("peer",this._onTrackerPeer),t.on("update",this._onTrackerAnnounce),t.setInterval(this._intervalMs),t.start(),t}_dhtAnnounce(){this._dhtAnnouncing||(g("dht announce"),this._dhtAnnouncing=!0,clearTimeout(this._dhtTimeout),this.dht.announce(this.infoHash,this._port,s=>{this._dhtAnnouncing=!1,g("dht announce complete"),s&&this.emit("warning",s),this.emit("dhtAnnounce"),this.destroyed||(this._dhtTimeout=setTimeout(()=>{this._dhtAnnounce()},this._intervalMs+wt(Math.random()*this._intervalMs/5)),this._dhtTimeout.unref&&this._dhtTimeout.unref())}))}_createLSD(){const s=Object.assign({},{infoHash:this.infoHash,peerId:this.peerId,port:this._port}),t=new u(s);return t.on("warning",this._onWarning),t.on("error",this._onError),t.on("peer",this._onLSDPeer),t.start(),t}}}).call(this)}).call(this,m("_process"))},{_process:205,"bittorrent-dht/client":41,"bittorrent-lsd":41,"bittorrent-tracker/client":33,debug:105,events:70,"run-parallel":245}],281:[function(m,B){(function(i){(function(){class f{constructor(n){this.length=n,this.missing=n,this.sources=null,this._chunks=ve(n/16384),this._remainder=n%16384||16384,this._buffered=0,this._buffer=null,this._cancellations=null,this._reservations=0,this._flushed=!1}chunkLength(n){return n===this._chunks-1?this._remainder:16384}chunkLengthRemaining(n){return this.length-16384*n}chunkOffset(n){return 16384*n}reserve(){return this.init()?this._cancellations.length?this._cancellations.pop():this._reservations<this._chunks?this._reservations++:-1:-1}reserveRemaining(){if(!this.init())return-1;if(this._cancellations.length||this._reservations<this._chunks){let n=this._reservations;for(;this._cancellations.length;)n=Y(n,this._cancellations.pop());return this._reservations=this._chunks,n}return-1}cancel(n){this.init()&&this._cancellations.push(n)}cancelRemaining(n){this.init()&&(this._reservations=n)}get(n){return this.init()?this._buffer[n]:null}set(n,c,u){if(!this.init())return!1;const t=ve(c.length/16384);for(let o=0;o<t;o++)if(!this._buffer[n+o]){const r=16384*o,d=c.slice(r,r+16384);this._buffered++,this._buffer[n+o]=d,this.missing-=d.length,this.sources.includes(u)||this.sources.push(u)}return this._buffered===this._chunks}flush(){if(!this._buffer||this._chunks!==this._buffered)return null;const n=i.concat(this._buffer,this.length);return this._buffer=null,this._cancellations=null,this.sources=null,this._flushed=!0,n}init(){return!(this._flushed||!this._buffer&&(this._buffer=Array(this._chunks),this._cancellations=[],this.sources=[],0))}}Object.defineProperty(f,"BLOCK_LENGTH",{value:16384}),B.exports=f}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69}],282:[function(m,B){(function(i){(function(){var g=m("is-typedarray").strict;B.exports=function(f){if(g(f)){var x=i.from(f.buffer);return f.byteLength!==f.buffer.byteLength&&(x=x.slice(f.byteOffset,f.byteOffset+f.byteLength)),x}return i.from(f)}}).call(this)}).call(this,m("buffer").Buffer)},{buffer:69,"is-typedarray":162}],283:[function(m,B,i){var g=m("buffer-alloc"),f=j(2,32);i.encodingLength=function(){return 8},i.encode=function(x,n,c){n||(n=g(8)),c||(c=0);var u=wt(x/f);return n.writeUInt32BE(u,c),n.writeUInt32BE(x-u*f,c+4),n},i.decode=function(x,n){n||(n=0);var c=x.readUInt32BE(n),u=x.readUInt32BE(n+4);return c*f+u},i.encode.bytes=8,i.decode.bytes=8},{"buffer-alloc":88}],284:[function(m,B){B.exports=function(i,g){if(!(g>=i.length||0>g)){var f=i.pop();if(g<i.length){var x=i[g];return i[g]=f,x}return f}}},{}],285:[function(m,B,i){"use strict";function g(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function f(p,w,b){if(p&&n.isObject(p)&&p instanceof g)return p;var I=new g;return I.parse(p,w,b),I}var x=m("punycode"),n=m("./util");i.parse=f,i.resolve=function(p,w){return f(p,!1,!0).resolve(w)},i.resolveObject=function(p,w){return p?f(p,!1,!0).resolveObject(w):w},i.format=function(p){return n.isString(p)&&(p=f(p)),p instanceof g?p.format():g.prototype.format.call(p)},i.Url=g;var c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),s=["%","/","?",";","#"].concat(u),t=["/","?","#"],o=/^[+a-z0-9A-Z_-]{0,63}$/,r={javascript:!0,"javascript:":!0},d={javascript:!0,"javascript:":!0},h={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},l=m("querystring");g.prototype.parse=function(p,w,b){if(!n.isString(p))throw new TypeError("Parameter 'url' must be a string, not "+typeof p);var I=p.indexOf("?"),S=-1!==I&&I<p.indexOf("#")?"?":"#",R=p.split(S);R[0]=R[0].replace(/\\/g,"/");var N=p=R.join(S);if(N=N.trim(),!b&&1===p.split("#").length){var q=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/.exec(N);if(q)return this.path=N,this.href=N,this.pathname=q[1],q[2]?(this.search=q[2],this.query=w?l.parse(this.search.substr(1)):this.search.substr(1)):w&&(this.search="",this.query={}),this}var It,Z=/^([a-z0-9.+-]+:)/i.exec(N);if(Z){var le=(Z=Z[0]).toLowerCase();this.protocol=le,N=N.substr(Z.length)}if(b||Z||N.match(/^\/\/[^@\/]+@[^@\/]+/)){var we="//"===N.substr(0,2);we&&(!Z||!d[Z])&&(N=N.substr(2),this.slashes=!0)}if(!d[Z]&&(we||Z&&!h[Z])){for(var ke=-1,A=0;A<t.length;A++)-1!==(L=N.indexOf(t[A]))&&(-1===ke||L<ke)&&(ke=L);var z,y,L;for(-1!==(y=-1===ke?N.lastIndexOf("@"):N.lastIndexOf("@",ke))&&(z=N.slice(0,y),N=N.slice(y+1),this.auth=decodeURIComponent(z)),ke=-1,A=0;A<s.length;A++)-1!==(L=N.indexOf(s[A]))&&(-1===ke||L<ke)&&(ke=L);-1===ke&&(ke=N.length),this.host=N.slice(0,ke),N=N.slice(ke),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var ee,M=this.hostname.split(/\./),U=(A=0,M.length);A<U;A++)if((ee=M[A])&&!ee.match(o)){for(var J="",re=0,Ue=ee.length;re<Ue;re++)J+=127<ee.charCodeAt(re)?"x":ee[re];if(!J.match(o)){var We=M.slice(0,A),Qe=M.slice(A+1),ft=ee.match(/^([+a-z0-9A-Z_-]{0,63})(.*)$/);ft&&(We.push(ft[1]),Qe.unshift(ft[2])),Qe.length&&(N="/"+Qe.join(".")+N),this.hostname=We.join(".");break}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase(),C||(this.hostname=x.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==N[0]&&(N="/"+N))}if(!r[le])for(A=0,U=u.length;A<U;A++)if(-1!==N.indexOf(It=u[A])){var Ft=encodeURIComponent(It);Ft===It&&(Ft=escape(It)),N=N.split(It).join(Ft)}var Ke=N.indexOf("#");-1!==Ke&&(this.hash=N.substr(Ke),N=N.slice(0,Ke));var mt=N.indexOf("?");return-1===mt?w&&(this.search="",this.query={}):(this.search=N.substr(mt),this.query=N.substr(mt+1),w&&(this.query=l.parse(this.query)),N=N.slice(0,mt)),N&&(this.pathname=N),h[le]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},g.prototype.format=function(){var p=this.auth||"";p&&(p=(p=encodeURIComponent(p)).replace(/%3A/i,":"),p+="@");var w=this.protocol||"",b=this.pathname||"",I=this.hash||"",S=!1,R="";this.host?S=p+this.host:this.hostname&&(S=p+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(S+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(R=l.stringify(this.query));var N=this.search||R&&"?"+R||"";return w&&":"!==w.substr(-1)&&(w+=":"),this.slashes||(!w||h[w])&&!1!==S?(S="//"+(S||""),b&&"/"!==b.charAt(0)&&(b="/"+b)):!S&&(S=""),I&&"#"!==I.charAt(0)&&(I="#"+I),N&&"?"!==N.charAt(0)&&(N="?"+N),w+S+(b=b.replace(/[?#]/g,function(q){return encodeURIComponent(q)}))+(N=N.replace("#","%23"))+I},g.prototype.resolve=function(p){return this.resolveObject(f(p,!1,!0)).format()},g.prototype.resolveObject=function(p){if(n.isString(p)){var w=new g;w.parse(p,!1,!0),p=w}for(var R,b=new g,I=Object.keys(this),S=0;S<I.length;S++)b[R=I[S]]=this[R];if(b.hash=p.hash,""===p.href)return b.href=b.format(),b;if(p.slashes&&!p.protocol){for(var Z,N=Object.keys(p),q=0;q<N.length;q++)"protocol"!==(Z=N[q])&&(b[Z]=p[Z]);return h[b.protocol]&&b.hostname&&!b.pathname&&(b.path=b.pathname="/"),b.href=b.format(),b}if(p.protocol&&p.protocol!==b.protocol){if(!h[p.protocol]){for(var ke,le=Object.keys(p),we=0;we<le.length;we++)b[ke=le[we]]=p[ke];return b.href=b.format(),b}if(b.protocol=p.protocol,p.host||d[p.protocol])b.pathname=p.pathname;else{for(var ee=(p.pathname||"").split("/");ee.length&&!(p.host=ee.shift()););p.host||(p.host=""),p.hostname||(p.hostname=""),""!==ee[0]&&ee.unshift(""),2>ee.length&&ee.unshift(""),b.pathname=ee.join("/")}return b.search=p.search,b.query=p.query,b.host=p.host||"",b.auth=p.auth,b.hostname=p.hostname||p.host,b.port=p.port,(b.pathname||b.search)&&(b.path=(b.pathname||"")+(b.search||"")),b.slashes=b.slashes||p.slashes,b.href=b.format(),b}var z=b.pathname&&"/"===b.pathname.charAt(0),y=p.host||p.pathname&&"/"===p.pathname.charAt(0),C=y||z||b.host&&p.pathname,M=C,U=b.pathname&&b.pathname.split("/")||[],J=(ee=p.pathname&&p.pathname.split("/")||[],b.protocol&&!h[b.protocol]);if(J&&(b.hostname="",b.port=null,b.host&&(""===U[0]?U[0]=b.host:U.unshift(b.host)),b.host="",p.protocol&&(p.hostname=null,p.port=null,p.host&&(""===ee[0]?ee[0]=p.host:ee.unshift(p.host)),p.host=null),C=C&&(""===ee[0]||""===U[0])),y)b.host=p.host||""===p.host?p.host:b.host,b.hostname=p.hostname||""===p.hostname?p.hostname:b.hostname,b.search=p.search,b.query=p.query,U=ee;else if(ee.length)U||(U=[]),U.pop(),U=U.concat(ee),b.search=p.search,b.query=p.query;else if(!n.isNullOrUndefined(p.search))return J&&(b.hostname=b.host=U.shift(),(re=!!(b.host&&0<b.host.indexOf("@"))&&b.host.split("@"))&&(b.auth=re.shift(),b.host=b.hostname=re.shift())),b.search=p.search,b.query=p.query,n.isNull(b.pathname)&&n.isNull(b.search)||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.href=b.format(),b;if(!U.length)return b.pathname=null,b.path=b.search?"/"+b.search:null,b.href=b.format(),b;for(var Ue=U.slice(-1)[0],We=(b.host||p.host||1<U.length)&&("."===Ue||".."===Ue)||""===Ue,Qe=0,ft=U.length;0<=ft;ft--)"."===(Ue=U[ft])?U.splice(ft,1):".."===Ue?(U.splice(ft,1),Qe++):Qe&&(U.splice(ft,1),Qe--);if(!C&&!M)for(;Qe--;Qe)U.unshift("..");C&&""!==U[0]&&(!U[0]||"/"!==U[0].charAt(0))&&U.unshift(""),We&&"/"!==U.join("/").substr(-1)&&U.push("");var re,pt=""===U[0]||U[0]&&"/"===U[0].charAt(0);return J&&(b.hostname=b.host=pt?"":U.length?U.shift():"",(re=!!(b.host&&0<b.host.indexOf("@"))&&b.host.split("@"))&&(b.auth=re.shift(),b.host=b.hostname=re.shift())),(C=C||b.host&&U.length)&&!pt&&U.unshift(""),U.length?b.pathname=U.join("/"):(b.pathname=null,b.path=null),n.isNull(b.pathname)&&n.isNull(b.search)||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.auth=p.auth||b.auth,b.slashes=b.slashes||p.slashes,b.href=b.format(),b},g.prototype.parseHost=function(){var p=this.host,w=/:[0-9]*$/.exec(p);w&&(":"!==(w=w[0])&&(this.port=w.substr(1)),p=p.substr(0,p.length-w.length)),p&&(this.hostname=p)}},{"./util":286,punycode:214,querystring:217}],286:[function(m,B){"use strict";B.exports={isString:function(i){return"string"==typeof i},isObject:function(i){return"object"==typeof i&&null!==i},isNull:function(i){return null===i},isNullOrUndefined:function(i){return null==i}}},{}],287:[function(m,B){(function(i){(function(){const{EventEmitter:g}=m("events"),f=m("bencode"),x=m("bitfield").default,n=m("debug")("ut_metadata"),c=m("simple-sha1"),s=16384;B.exports=t=>{class o extends g{constructor(d){super(),this._wire=d,this._fetching=!1,this._metadataComplete=!1,this._metadataSize=null,this._remainingRejects=null,this._bitfield=new x(0,{grow:1e3}),i.isBuffer(t)&&this.setMetadata(t)}onHandshake(d){this._infoHash=d}onExtendedHandshake(d){return d.m&&d.m.ut_metadata?d.metadata_size?"number"!=typeof d.metadata_size||1e7<d.metadata_size||0>=d.metadata_size?this.emit("warning",new Error("Peer gave invalid metadata size")):(this._metadataSize=d.metadata_size,this._numPieces=ve(this._metadataSize/s),this._remainingRejects=2*this._numPieces,void this._requestPieces()):this.emit("warning",new Error("Peer does not have metadata")):this.emit("warning",new Error("Peer does not support ut_metadata"))}onMessage(d){let h,l;try{const p=d.toString(),w=p.indexOf("ee")+2;h=f.decode(p.substring(0,w)),l=d.slice(w)}catch{return}switch(h.msg_type){case 0:this._onRequest(h.piece);break;case 1:this._onData(h.piece,l,h.total_size);break;case 2:this._onReject(h.piece)}}fetch(){this._metadataComplete||(this._fetching=!0,this._metadataSize&&this._requestPieces())}cancel(){this._fetching=!1}setMetadata(d){if(this._metadataComplete)return!0;n("set metadata");try{const h=f.decode(d).info;h&&(d=f.encode(h))}catch{}return!(this._infoHash&&this._infoHash!==c.sync(d)||(this.cancel(),this.metadata=d,this._metadataComplete=!0,this._metadataSize=this.metadata.length,this._wire.extendedHandshake.metadata_size=this._metadataSize,this.emit("metadata",f.encode({info:f.decode(this.metadata)})),0))}_send(d,h){let l=f.encode(d);i.isBuffer(h)&&(l=i.concat([l,h])),this._wire.extended("ut_metadata",l)}_request(d){this._send({msg_type:0,piece:d})}_data(d,h,l){const p={msg_type:1,piece:d};"number"==typeof l&&(p.total_size=l),this._send(p,h)}_reject(d){this._send({msg_type:2,piece:d})}_onRequest(d){if(!this._metadataComplete)return void this._reject(d);const h=d*s;let l=h+s;l>this._metadataSize&&(l=this._metadataSize);const p=this.metadata.slice(h,l);this._data(d,p,this._metadataSize)}_onData(d,h){h.length>s||!this._fetching||(h.copy(this.metadata,d*s),this._bitfield.set(d),this._checkDone())}_onReject(d){0<this._remainingRejects&&this._fetching?(this._request(d),this._remainingRejects-=1):this.emit("warning",new Error('Peer sent "reject" too much'))}_requestPieces(){if(this._fetching){this.metadata=i.alloc(this._metadataSize);for(let d=0;d<this._numPieces;d++)this._request(d)}}_checkDone(){let d=!0;for(let h=0;h<this._numPieces;h++)if(!this._bitfield.get(h)){d=!1;break}d&&(this.setMetadata(this.metadata)||this._failedMetadata())}_failedMetadata(){this._bitfield=new x(0,{grow:1e3}),this._remainingRejects-=this._numPieces,0<this._remainingRejects?this._requestPieces():this.emit("warning",new Error("Peer sent invalid metadata"))}}return o.prototype.name="ut_metadata",o}}).call(this)}).call(this,m("buffer").Buffer)},{bencode:27,bitfield:31,buffer:69,debug:105,events:70,"simple-sha1":260}],288:[function(m,B){(function(i){(function(){function g(f){try{if(!i.localStorage)return!1}catch{return!1}var x=i.localStorage[f];return null!=x&&"true"===(x+"").toLowerCase()}B.exports=function(f,x){if(g("noDeprecation"))return f;var c=!1;return function n(){if(!c){if(g("throwDeprecation"))throw new Error(x);g("traceDeprecation")?console.trace(x):console.warn(x),c=!0}return f.apply(this,arguments)}}}).call(this)}).call(this,typeof global>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:global)},{}],289:[function(m,B){(function(i){(function(){const f=m("binary-search"),x=m("events"),n=m("mp4-stream"),c=m("mp4-box-encoding"),u=m("range-slice-stream");class s{constructor(o,r){this._entries=o,this._countName=r||"count",this._index=0,this._offset=0,this.value=this._entries[0]}inc(){this._offset++,this._offset>=this._entries[this._index][this._countName]&&(this._index++,this._offset=0),this.value=this._entries[this._index]}}B.exports=class extends x{constructor(t){super(),this._tracks=[],this._file=t,this._decoder=null,this._findMoov(0)}_findMoov(t){this._decoder&&this._decoder.destroy();let o=0;this._decoder=n.decode();const r=this._file.createReadStream({start:t});r.pipe(this._decoder);const d=h=>{"moov"===h.type?(this._decoder.removeListener("box",d),this._decoder.decode(l=>{r.destroy();try{this._processMoov(l)}catch(p){p.message=`Cannot parse mp4 file: ${p.message}`,this.emit("error",p)}})):h.length<4096?(o+=h.length,this._decoder.ignore()):(this._decoder.removeListener("box",d),o+=h.length,r.destroy(),this._decoder.destroy(),this._findMoov(t+o))};this._decoder.on("box",d)}_processMoov(t){const o=t.traks;this._tracks=[],this._hasVideo=!1,this._hasAudio=!1;for(let l=0;l<o.length;l++){const p=o[l],w=p.mdia.minf.stbl,b=w.stsd.entries[0],I=p.mdia.hdlr.handlerType;let S,R;if("vide"===I&&"avc1"===b.type){if(this._hasVideo)continue;this._hasVideo=!0,S="avc1",b.avcC&&(S+=`.${b.avcC.mimeCodec}`),R=`video/mp4; codecs="${S}"`}else{if("soun"!==I||"mp4a"!==b.type)continue;if(this._hasAudio)continue;this._hasAudio=!0,S="mp4a",b.esds&&b.esds.mimeCodec&&(S+=`.${b.esds.mimeCodec}`),R=`audio/mp4; codecs="${S}"`}const N=[];let q=0,Z=0,le=0,we=0,ke=0,A=0;const L=new s(w.stts.entries);let z=null;w.ctts&&(z=new s(w.ctts.entries));for(let M=0;;){var r=w.stsc.entries[ke];const U=w.stsz.entries[q],ee=L.value.duration;let re=!0;if(w.stss&&(re=w.stss.entries[M]===q+1),N.push({size:U,duration:ee,dts:A,presentationOffset:z?z.value.compositionOffset:0,sync:re,offset:we+(w.stco||w.co64).entries[le]}),q++,q>=w.stsz.entries.length)break;if(Z++,we+=U,Z>=r.samplesPerChunk){Z=0,we=0,le++;const We=w.stsc.entries[ke+1];We&&le+1>=We.firstChunk&&ke++}A+=ee,L.inc(),z&&z.inc(),re&&M++}p.mdia.mdhd.duration=0,p.tkhd.duration=0,this._tracks.push({fragmentSequence:1,trackId:p.tkhd.trackId,timeScale:p.mdia.mdhd.timeScale,samples:N,currSample:null,currTime:null,moov:{type:"moov",mvhd:t.mvhd,traks:[{tkhd:p.tkhd,mdia:{mdhd:p.mdia.mdhd,hdlr:p.mdia.hdlr,elng:p.mdia.elng,minf:{vmhd:p.mdia.minf.vmhd,smhd:p.mdia.minf.smhd,dinf:p.mdia.minf.dinf,stbl:{stsd:w.stsd,stts:{version:0,flags:0,entries:[]},ctts:{version:0,flags:0,entries:[]},stsc:{version:0,flags:0,entries:[]},stsz:{version:0,flags:0,entries:[]},stco:{version:0,flags:0,entries:[]},stss:{version:0,flags:0,entries:[]}}}}}],mvex:{mehd:{fragmentDuration:t.mvhd.duration},trexs:[{trackId:p.tkhd.trackId,defaultSampleDescriptionIndex:r.sampleDescriptionId,defaultSampleDuration:0,defaultSampleSize:0,defaultSampleFlags:0}]}},mime:R})}if(0===this._tracks.length)return void this.emit("error",new Error("no playable tracks"));t.mvhd.duration=0,this._ftyp={type:"ftyp",brand:"iso5",brandVersion:0,compatibleBrands:["iso5"]};const d=c.encode(this._ftyp),h=this._tracks.map(l=>{const p=c.encode(l.moov);return{mime:l.mime,init:i.concat([d,p])}});this.emit("ready",h)}seek(t){if(!this._tracks)throw new Error("Not ready yet; wait for 'ready' event");this._fileStream&&(this._fileStream.destroy(),this._fileStream=null);let o=-1;if(this._tracks.map((r,d)=>{r.outStream&&r.outStream.destroy(),r.inStream&&(r.inStream.destroy(),r.inStream=null);const h=r.outStream=n.encode(),l=this._generateFragment(d,t);if(!l)return h.finalize();(-1===o||l.ranges[0].start<o)&&(o=l.ranges[0].start);const p=w=>{h.destroyed||h.box(w.moof,b=>{if(b)return this.emit("error",b);h.destroyed||r.inStream.slice(w.ranges).pipe(h.mediaData(w.length,S=>{if(S)return this.emit("error",S);if(!h.destroyed){const R=this._generateFragment(d);return R?void p(R):h.finalize()}}))})};p(l)}),0<=o){const r=this._fileStream=this._file.createReadStream({start:o});this._tracks.forEach(d=>{d.inStream=new u(o,{highWaterMark:1e7}),r.pipe(d.inStream)})}return this._tracks.map(r=>r.outStream)}_findSampleBefore(t,o){const r=this._tracks[t],d=wt(r.timeScale*o);let h=f(r.samples,d,(l,p)=>l.dts+l.presentationOffset-p);for(-1===h?h=0:0>h&&(h=-h-2);!r.samples[h].sync;)h--;return h}_generateFragment(t,o){const r=this._tracks[t];let d;if(d=void 0===o?r.currSample:this._findSampleBefore(t,o),d>=r.samples.length)return null;const h=r.samples[d].dts;let l=0;const p=[];for(var w=d;w<r.samples.length;w++){const b=r.samples[w];if(b.sync&&b.dts-h>=1*r.timeScale)break;l+=b.size;const I=p.length-1;0>I||p[I].end!==b.offset?p.push({start:b.offset,end:b.offset+b.size}):p[I].end+=b.size}return r.currSample=w,{moof:this._generateMoof(t,d,w),ranges:p,length:l}}_generateMoof(t,o,r){const d=this._tracks[t],h=[];let l=0;for(let w=o;w<r;w++){const b=d.samples[w];0>b.presentationOffset&&(l=1),h.push({sampleDuration:b.duration,sampleSize:b.size,sampleFlags:b.sync?33554432:16842752,sampleCompositionTimeOffset:b.presentationOffset})}const p={type:"moof",mfhd:{sequenceNumber:d.fragmentSequence++},trafs:[{tfhd:{flags:131072,trackId:d.trackId},tfdt:{baseMediaDecodeTime:d.samples[o].dts},trun:{flags:3841,dataOffset:8,entries:h,version:l}}]};return p.trafs[0].trun.dataOffset+=c.encodingLength(p),p}}}).call(this)}).call(this,m("buffer").Buffer)},{"binary-search":30,buffer:69,events:70,"mp4-box-encoding":184,"mp4-stream":187,"range-slice-stream":224}],290:[function(m,B){function i(n,c,u={}){return this instanceof i?(this.detailedError=null,this._elem=c,this._elemWrapper=new g(c),this._waitingFired=!1,this._trackMeta=null,this._file=n,this._tracks=null,"none"!==this._elem.preload&&this._createMuxer(),this._onError=()=>{this.detailedError=this._elemWrapper.detailedError,this.destroy()},this._onWaiting=()=>{this._waitingFired=!0,this._muxer?this._tracks&&this._pump():this._createMuxer()},c.autoplay&&(c.preload="auto"),c.addEventListener("waiting",this._onWaiting),void c.addEventListener("error",this._onError)):(console.warn("Don't invoke VideoStream without the 'new' keyword."),new i(n,c,u))}const g=m("mediasource"),f=m("pump"),x=m("./mp4-remuxer");i.prototype={_createMuxer(){this._muxer=new x(this._file),this._muxer.on("ready",n=>{this._tracks=n.map(c=>{const u=this._elemWrapper.createWriteStream(c.mime);u.on("error",t=>{this._elemWrapper.error(t)});const s={muxed:null,mediaSource:u,initFlushed:!1,onInitFlushed:null};return u.write(c.init,t=>{s.initFlushed=!0,s.onInitFlushed&&s.onInitFlushed(t)}),s}),(this._waitingFired||"auto"===this._elem.preload)&&this._pump()}),this._muxer.on("error",n=>{this._elemWrapper.error(n)})},_pump(){const n=this._muxer.seek(this._elem.currentTime,!this._tracks);this._tracks.forEach((c,u)=>{const s=()=>{c.muxed&&(c.muxed.destroy(),c.mediaSource=this._elemWrapper.createWriteStream(c.mediaSource),c.mediaSource.on("error",t=>{this._elemWrapper.error(t)})),c.muxed=n[u],f(c.muxed,c.mediaSource)};c.initFlushed?s():c.onInitFlushed=t=>t?void this._elemWrapper.error(t):void s()})},destroy(){this.destroyed||(this.destroyed=!0,this._elem.removeEventListener("waiting",this._onWaiting),this._elem.removeEventListener("error",this._onError),this._tracks&&this._tracks.forEach(n=>{n.muxed&&n.muxed.destroy()}),this._elem.src="")}},B.exports=i},{"./mp4-remuxer":289,mediasource:172,pump:213}],291:[function(m,B){B.exports=function i(g,f){function x(){for(var n=Array(arguments.length),c=0;c<n.length;c++)n[c]=arguments[c];var u=g.apply(this,n),s=n[n.length-1];return"function"==typeof u&&u!==s&&Object.keys(s).forEach(function(t){u[t]=s[t]}),u}if(g&&f)return i(g)(f);if("function"!=typeof g)throw new TypeError("need wrapper function");return Object.keys(g).forEach(function(n){x[n]=g[n]}),x}},{}],292:[function(m,B){B.exports=function(){for(var x,g={},f=0;f<arguments.length;f++)for(var n in x=arguments[f])i.call(x,n)&&(g[n]=x[n]);return g};var i=Object.prototype.hasOwnProperty},{}],293:[function(m,B){B.exports={version:"1.5.8"}},{}],294:[function(m,B){(function(i){(function(){const x=m("events"),n=m("path"),c=m("simple-concat"),u=m("create-torrent"),s=m("debug"),t=m("bittorrent-dht/client"),o=m("load-ip-set"),r=m("run-parallel"),d=m("parse-torrent"),h=m("simple-peer"),l=m("queue-microtask"),p=m("randombytes"),w=m("simple-sha1"),b=m("speedometer"),{ThrottleGroup:I}=m("speed-limiter"),S=m("./lib/conn-pool.js"),R=m("./lib/torrent.js"),{version:N}=m("./package.json"),q=s("webtorrent"),Z=N.replace(/\d*./g,we=>("0"+we%100).slice(-2)).slice(0,4);class le extends x{constructor(ke={}){super(),this.peerId="string"==typeof ke.peerId?ke.peerId:i.isBuffer(ke.peerId)?ke.peerId.toString("hex"):i.from(`-WW${Z}-`+p(9).toString("base64")).toString("hex"),this.peerIdBuffer=i.from(this.peerId,"hex"),this.nodeId="string"==typeof ke.nodeId?ke.nodeId:i.isBuffer(ke.nodeId)?ke.nodeId.toString("hex"):p(20).toString("hex"),this.nodeIdBuffer=i.from(this.nodeId,"hex"),this._debugId=this.peerId.toString("hex").substring(0,7),this.destroyed=!1,this.listening=!1,this.torrentPort=ke.torrentPort||0,this.dhtPort=ke.dhtPort||0,this.tracker=void 0===ke.tracker?{}:ke.tracker,this.lsd=!1!==ke.lsd,this.torrents=[],this.maxConns=+ke.maxConns||55,this.utp=le.UTP_SUPPORT&&!1!==ke.utp,this._downloadLimit=ue("number"==typeof ke.downloadLimit?ke.downloadLimit:-1,-1),this._uploadLimit=ue("number"==typeof ke.uploadLimit?ke.uploadLimit:-1,-1),this.serviceWorker=null,this.workerKeepAliveInterval=null,this.workerPortCount=0,!0===ke.secure&&m("./lib/peer").enableSecure(),this._debug("new webtorrent (peerId %s, nodeId %s, port %s)",this.peerId,this.nodeId,this.torrentPort),this.throttleGroups={down:new I({rate:ue(this._downloadLimit,0),enabled:0<=this._downloadLimit}),up:new I({rate:ue(this._uploadLimit,0),enabled:0<=this._uploadLimit})},this.tracker&&("object"!=typeof this.tracker&&(this.tracker={}),globalThis.WRTC&&!this.tracker.wrtc&&(this.tracker.wrtc=globalThis.WRTC)),"function"==typeof S?this._connPool=new S(this):l(()=>{this._onListening()}),this._downloadSpeed=b(),this._uploadSpeed=b(),!1!==ke.dht&&"function"==typeof t?(this.dht=new t(Object.assign({},{nodeId:this.nodeId},ke.dht)),this.dht.once("error",L=>{this._destroy(L)}),this.dht.once("listening",()=>{const L=this.dht.address();L&&(this.dhtPort=L.port)}),this.dht.setMaxListeners(0),this.dht.listen(this.dhtPort)):this.dht=!1,this.enableWebSeeds=!1!==ke.webSeeds;const A=()=>{this.destroyed||(this.ready=!0,this.emit("ready"))};"function"==typeof o&&null!=ke.blocklist?o(ke.blocklist,{headers:{"user-agent":`WebTorrent/${N} (https://webtorrent.io)`}},(L,z)=>L?console.error(`Failed to load blocklist: ${L.message}`):(this.blocked=z,void A())):l(A)}loadWorker(ke,A=(()=>{})){if(!(ke instanceof ServiceWorker))throw new Error("Invalid worker registration");if("activated"!==ke.state)throw new Error("Worker isn't activated");this.serviceWorker=ke,navigator.serviceWorker.addEventListener("message",L=>{const{data:z}=L;if(!z.type||"webtorrent"===!z.type||!z.url)return null;let[y,...C]=z.url.slice(z.url.indexOf(z.scope+"webtorrent/")+11+z.scope.length).split("/");if(C=decodeURI(C.join("/")),!y||!C)return null;const[M]=L.ports,U=this.get(y)&&this.get(y).files.find(Qe=>Qe.path===C);if(!U)return null;const[ee,J,re]=U._serve(z),Ue=J&&J[Symbol.asyncIterator](),We=()=>{M.onmessage=null,J&&J.destroy(),re&&re.destroy(),this.workerPortCount--,this.workerPortCount||(clearInterval(this.workerKeepAliveInterval),this.workerKeepAliveInterval=null)};M.onmessage=async Qe=>{if(Qe.data){let ft;try{ft=(await Ue.next()).value}catch{}M.postMessage(ft),ft||We(),this.workerKeepAliveInterval||(this.workerKeepAliveInterval=setInterval(()=>fetch(`${this.serviceWorker.scriptURL.substr(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/keepalive/`),2e4))}else We()},this.workerPortCount++,M.postMessage(ee)}),A(this.serviceWorker)}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){const ke=this.torrents.filter(z=>1!==z.progress);return ke.reduce((z,y)=>z+y.downloaded,0)/(ke.reduce((z,y)=>z+(y.length||0),0)||1)}get ratio(){return this.torrents.reduce((L,z)=>L+z.uploaded,0)/(this.torrents.reduce((L,z)=>L+z.received,0)||1)}get(ke){if(ke instanceof R){if(this.torrents.includes(ke))return ke}else{let A;try{A=d(ke)}catch{}if(!A)return null;if(!A.infoHash)throw new Error("Invalid torrent identifier");for(const L of this.torrents)if(L.infoHash===A.infoHash)return L}return null}add(ke,A={},L=(()=>{})){if(this.destroyed)throw new Error("client is destroyed");"function"==typeof A&&([A,L]=[{},A]);const y=()=>{if(!this.destroyed)for(const U of this.torrents)if(U.infoHash===M.infoHash&&U!==M)return void M._destroy(new Error(`Cannot add duplicate torrent ${M.infoHash}`))},C=()=>{this.destroyed||(L(M),this.emit("torrent",M))};this._debug("add"),A=A?Object.assign({},A):{};const M=new R(ke,this,A);return this.torrents.push(M),M.once("_infoHash",y),M.once("ready",C),M.once("close",function z(){M.removeListener("_infoHash",y),M.removeListener("ready",C),M.removeListener("close",z)}),M}seed(ke,A,L){if(this.destroyed)throw new Error("client is destroyed");"function"==typeof A&&([A,L]=[{},A]),this._debug("seed"),(A=A?Object.assign({},A):{}).skipVerify=!0;const z="string"==typeof ke;z&&(A.path=n.dirname(ke)),A.createdBy||(A.createdBy=`WebTorrent/${Z}`);const y=U=>{this._debug("on seed"),"function"==typeof L&&L(U),U.emit("seed"),this.emit("seed",U)},C=this.add(null,A,U=>{const ee=[J=>z||A.preloadedStore?J():void U.load(M,J)];this.dht&&ee.push(J=>{U.once("dhtAnnounce",J)}),r(ee,J=>this.destroyed?void 0:J?U._destroy(J):void y(U))});let M;return function f(we){return typeof FileList<"u"&&we instanceof FileList}(ke)?ke=Array.from(ke):!Array.isArray(ke)&&(ke=[ke]),r(ke.map(U=>ee=>{!A.preloadedStore&&function g(we){return"object"==typeof we&&null!=we&&"function"==typeof we.pipe}(U)?c(U,(J,re)=>J?ee(J):(re.name=U.name,void ee(null,re))):ee(null,U)}),(U,ee)=>this.destroyed?void 0:U?C._destroy(U):void u.parseInput(ee,A,(J,re)=>this.destroyed?void 0:J?C._destroy(J):(M=re.map(Ue=>Ue.getStream),void u(ee,A,(Ue,We)=>{if(!this.destroyed){if(Ue)return C._destroy(Ue);const Qe=this.get(We);Qe?C._destroy(new Error(`Cannot add duplicate torrent ${Qe.infoHash}`)):C._onTorrentId(We)}})))),C}remove(ke,A,L){if("function"==typeof A)return this.remove(ke,null,A);if(this._debug("remove"),!this.get(ke))throw new Error(`No torrent with id ${ke}`);this._remove(ke,A,L)}_remove(ke,A,L){if("function"==typeof A)return this._remove(ke,null,A);const z=this.get(ke);z&&(this.torrents.splice(this.torrents.indexOf(z),1),z.destroy(A,L),this.dht&&this.dht._tables.remove(z.infoHash))}address(){return this.listening?this._connPool?this._connPool.tcpServer.address():{address:"0.0.0.0",family:"IPv4",port:0}:null}throttleDownload(ke){return ke=+ke,!(isNaN(ke)||!isFinite(ke)||-1>ke)&&(this._downloadLimit=ke,0>this._downloadLimit?this.throttleGroups.down.setEnabled(!1):(this.throttleGroups.down.setEnabled(!0),void this.throttleGroups.down.setRate(this._downloadLimit)))}throttleUpload(ke){return ke=+ke,!(isNaN(ke)||!isFinite(ke)||-1>ke)&&(this._uploadLimit=ke,0>this._uploadLimit?this.throttleGroups.up.setEnabled(!1):(this.throttleGroups.up.setEnabled(!0),void this.throttleGroups.up.setRate(this._uploadLimit)))}destroy(ke){if(this.destroyed)throw new Error("client already destroyed");this._destroy(null,ke)}_destroy(ke,A){this._debug("client destroy"),this.destroyed=!0;const L=this.torrents.map(z=>y=>{z.destroy(y)});this._connPool&&L.push(z=>{this._connPool.destroy(z)}),this.dht&&L.push(z=>{this.dht.destroy(z)}),r(L,A),ke&&this.emit("error",ke),this.torrents=[],this._connPool=null,this.dht=null,this.throttleGroups.down.destroy(),this.throttleGroups.up.destroy()}_onListening(){if(this._debug("listening"),this.listening=!0,this._connPool){const ke=this._connPool.tcpServer.address();ke&&(this.torrentPort=ke.port)}this.emit("listening")}_debug(){const ke=[].slice.call(arguments);ke[0]=`[${this._debugId}] ${ke[0]}`,q(...ke)}_getByHash(ke){for(const A of this.torrents)if(A.infoHashHash||(A.infoHashHash=w.sync(i.from("72657132"+A.infoHash,"hex"))),ke===A.infoHashHash)return A;return null}}le.WEBRTC_SUPPORT=h.WEBRTC_SUPPORT,le.UTP_SUPPORT=S.UTP_SUPPORT,le.VERSION=N,B.exports=le}).call(this)}).call(this,m("buffer").Buffer)},{"./lib/conn-pool.js":41,"./lib/peer":3,"./lib/torrent.js":5,"./package.json":293,"bittorrent-dht/client":41,buffer:69,"create-torrent":103,debug:105,events:70,"load-ip-set":41,"parse-torrent":197,path:71,"queue-microtask":218,randombytes:221,"run-parallel":245,"simple-concat":257,"simple-peer":259,"simple-sha1":260,"speed-limiter":263,speedometer:267}]},{},[294])(294)}),function(Kt){"object"==typeof exports&&typeof module<"u"?module.exports=Kt():"function"==typeof define&&define.amd?define([],Kt):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).Kuroshiro=Kt()}(function(){return function At(wt,kt,V){function De(oe,G){if(!kt[oe]){if(!wt[oe]){var ue="function"==typeof require&&require;if(!G&&ue)return ue(oe,!0);if(Le)return Le(oe,!0);var ve=new Error("Cannot find module '"+oe+"'");throw ve.code="MODULE_NOT_FOUND",ve}var Y=kt[oe]={exports:{}};wt[oe][0].call(Y.exports,function(ae){return De(wt[oe][1][ae]||ae)},Y,Y.exports,At,wt,kt,V)}return kt[oe].exports}for(var Le="function"==typeof require&&require,_=0;_<V.length;_++)De(V[_]);return De}({1:[function(At,wt,kt){wt.exports=At("regenerator-runtime")},{"regenerator-runtime":2}],2:[function(At,wt,kt){var V=function(){return this}()||Function("return this")(),De=V.regeneratorRuntime&&Object.getOwnPropertyNames(V).indexOf("regeneratorRuntime")>=0,Le=De&&V.regeneratorRuntime;if(V.regeneratorRuntime=void 0,wt.exports=At("./runtime"),De)V.regeneratorRuntime=Le;else try{delete V.regeneratorRuntime}catch{V.regeneratorRuntime=void 0}},{"./runtime":3}],3:[function(At,wt,kt){!function(V){"use strict";var De,Le=Object.prototype,_=Le.hasOwnProperty,oe="function"==typeof Symbol?Symbol:{},G=oe.iterator||"@@iterator",ue=oe.asyncIterator||"@@asyncIterator",ve=oe.toStringTag||"@@toStringTag",Y="object"==typeof wt,ae=V.regeneratorRuntime;if(ae)Y&&(wt.exports=ae);else{(ae=V.regeneratorRuntime=Y?wt.exports:{}).wrap=s;var m="suspendedStart",B="suspendedYield",i="executing",g="completed",f={},x={};x[G]=function(){return this};var n=Object.getPrototypeOf,c=n&&n(n(S([])));c&&c!==Le&&_.call(c,G)&&(x=c);var u=d.prototype=o.prototype=Object.create(x);r.prototype=u.constructor=d,d.constructor=r,d[ve]=r.displayName="GeneratorFunction",ae.isGeneratorFunction=function(N){var q="function"==typeof N&&N.constructor;return!!q&&(q===r||"GeneratorFunction"===(q.displayName||q.name))},ae.mark=function(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,d):(N.__proto__=d,ve in N||(N[ve]="GeneratorFunction")),N.prototype=Object.create(u),N},ae.awrap=function(N){return{__await:N}},h(l.prototype),l.prototype[ue]=function(){return this},ae.AsyncIterator=l,ae.async=function(N,q,Z,le){var we=new l(s(N,q,Z,le));return ae.isGeneratorFunction(q)?we:we.next().then(function(ke){return ke.done?ke.value:we.next()})},h(u),u[ve]="Generator",u[G]=function(){return this},u.toString=function(){return"[object Generator]"},ae.keys=function(N){var q=[];for(var Z in N)q.push(Z);return q.reverse(),function le(){for(;q.length;){var we=q.pop();if(we in N)return le.value=we,le.done=!1,le}return le.done=!0,le}},ae.values=S,I.prototype={constructor:I,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=De,this.done=!1,this.delegate=null,this.method="next",this.arg=De,this.tryEntries.forEach(b),!N)for(var q in this)"t"===q.charAt(0)&&_.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=De)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if("throw"===N.type)throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var q=this;function Z(z,y){return ke.type="throw",ke.arg=N,q.next=z,y&&(q.method="next",q.arg=De),!!y}for(var le=this.tryEntries.length-1;le>=0;--le){var we=this.tryEntries[le],ke=we.completion;if("root"===we.tryLoc)return Z("end");if(we.tryLoc<=this.prev){var A=_.call(we,"catchLoc"),L=_.call(we,"finallyLoc");if(A&&L){if(this.prev<we.catchLoc)return Z(we.catchLoc,!0);if(this.prev<we.finallyLoc)return Z(we.finallyLoc)}else if(A){if(this.prev<we.catchLoc)return Z(we.catchLoc,!0)}else{if(!L)throw new Error("try statement without catch or finally");if(this.prev<we.finallyLoc)return Z(we.finallyLoc)}}}},abrupt:function(N,q){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var le=this.tryEntries[Z];if(le.tryLoc<=this.prev&&_.call(le,"finallyLoc")&&this.prev<le.finallyLoc){var we=le;break}}we&&("break"===N||"continue"===N)&&we.tryLoc<=q&&q<=we.finallyLoc&&(we=null);var ke=we?we.completion:{};return ke.type=N,ke.arg=q,we?(this.method="next",this.next=we.finallyLoc,f):this.complete(ke)},complete:function(N,q){if("throw"===N.type)throw N.arg;return"break"===N.type||"continue"===N.type?this.next=N.arg:"return"===N.type?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):"normal"===N.type&&q&&(this.next=q),f},finish:function(N){for(var q=this.tryEntries.length-1;q>=0;--q){var Z=this.tryEntries[q];if(Z.finallyLoc===N)return this.complete(Z.completion,Z.afterLoc),b(Z),f}},catch:function(N){for(var q=this.tryEntries.length-1;q>=0;--q){var Z=this.tryEntries[q];if(Z.tryLoc===N){var le=Z.completion;if("throw"===le.type){var we=le.arg;b(Z)}return we}}throw new Error("illegal catch attempt")},delegateYield:function(N,q,Z){return this.delegate={iterator:S(N),resultName:q,nextLoc:Z},"next"===this.method&&(this.arg=De),f}}}function s(N,q,Z,le){var L,z,y,C,ke=Object.create((q&&q.prototype instanceof o?q:o).prototype),A=new I(le||[]);return ke._invoke=(L=N,z=Z,y=A,C=m,function(M,U){if(C===i)throw new Error("Generator is already running");if(C===g){if("throw"===M)throw U;return R()}for(y.method=M,y.arg=U;;){var ee=y.delegate;if(ee){var J=p(ee,y);if(J){if(J===f)continue;return J}}if("next"===y.method)y.sent=y._sent=y.arg;else if("throw"===y.method){if(C===m)throw C=g,y.arg;y.dispatchException(y.arg)}else"return"===y.method&&y.abrupt("return",y.arg);C=i;var re=t(L,z,y);if("normal"===re.type){if(C=y.done?g:B,re.arg===f)continue;return{value:re.arg,done:y.done}}"throw"===re.type&&(C=g,y.method="throw",y.arg=re.arg)}}),ke}function t(N,q,Z){try{return{type:"normal",arg:N.call(q,Z)}}catch(le){return{type:"throw",arg:le}}}function o(){}function r(){}function d(){}function h(N){["next","throw","return"].forEach(function(q){N[q]=function(Z){return this._invoke(q,Z)}})}function l(N){var q;this._invoke=function(Z,le){function we(){return new Promise(function(ke,A){!function L(z,y,C,M){var U=t(N[z],N,y);if("throw"!==U.type){var ee=U.arg,J=ee.value;return J&&"object"==typeof J&&_.call(J,"__await")?Promise.resolve(J.__await).then(function(re){L("next",re,C,M)},function(re){L("throw",re,C,M)}):Promise.resolve(J).then(function(re){ee.value=re,C(ee)},M)}M(U.arg)}(Z,le,ke,A)})}return q=q?q.then(we,we):we()}}function p(N,q){var Z=N.iterator[q.method];if(Z===De){if(q.delegate=null,"throw"===q.method){if(N.iterator.return&&(q.method="return",q.arg=De,p(N,q),"throw"===q.method))return f;q.method="throw",q.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var le=t(Z,N.iterator,q.arg);if("throw"===le.type)return q.method="throw",q.arg=le.arg,q.delegate=null,f;var we=le.arg;return we?we.done?(q[N.resultName]=we.value,q.next=N.nextLoc,"return"!==q.method&&(q.method="next",q.arg=De),q.delegate=null,f):we:(q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,f)}function w(N){var q={tryLoc:N[0]};1 in N&&(q.catchLoc=N[1]),2 in N&&(q.finallyLoc=N[2],q.afterLoc=N[3]),this.tryEntries.push(q)}function b(N){var q=N.completion||{};q.type="normal",delete q.arg,N.completion=q}function I(N){this.tryEntries=[{tryLoc:"root"}],N.forEach(w,this),this.reset(!0)}function S(N){if(N){var q=N[G];if(q)return q.call(N);if("function"==typeof N.next)return N;if(!isNaN(N.length)){var Z=-1,le=function we(){for(;++Z<N.length;)if(_.call(N,Z))return we.value=N[Z],we.done=!1,we;return we.value=De,we.done=!0,we};return le.next=le}}return{next:R}}function R(){return{value:De,done:!0}}}(function(){return this}()||Function("return this")())},{}],4:[function(At,wt,kt){"use strict";var V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B};Object.defineProperty(kt,"__esModule",{value:!0});var Le=function ue(B){return B&&B.__esModule?B:{default:B}}(At("babel-runtime/regenerator")),_="function"==typeof Symbol&&"symbol"===V(Symbol.iterator)?function(B){return void 0===B?"undefined":V(B)}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":void 0===B?"undefined":V(B)},oe=function(){function B(i,g){for(var f=0;f<g.length;f++){var x=g[f];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(i,x.key,x)}}return function(i,g,f){return g&&B(i.prototype,g),f&&B(i,f),i}}(),G=At("./util");function ve(B){return function(){var i=B.apply(this,arguments);return new Promise(function(g,f){return function x(n,c){try{var u=i[n](c),s=u.value}catch(t){return void f(t)}if(!u.done)return Promise.resolve(s).then(function(t){x("next",t)},function(t){x("throw",t)});g(s)}("next")})}}var ae=function(){function B(){(function Y(B,i){if(!(B instanceof i))throw new TypeError("Cannot call a class as a function")})(this,B),this._analyzer=null}return oe(B,[{key:"init",value:(i=ve(Le.default.mark(function g(f){return Le.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(f&&"object"===(void 0===f?"undefined":_(f))&&"function"==typeof f.init&&"function"==typeof f.parse){x.next=4;break}throw new Error("Invalid initialization parameter.");case 4:if(null!=this._analyzer){x.next=16;break}return x.prev=5,x.next=8,f.init();case 8:this._analyzer=f,x.next=14;break;case 11:throw x.prev=11,x.t0=x.catch(5),x.t0;case 14:x.next=17;break;case 16:throw new Error("Kuroshiro has already been initialized.");case 17:case"end":return x.stop()}},g,this,[[5,11]])})),function(g){return i.apply(this,arguments)})},{key:"convert",value:function(){var i=ve(Le.default.mark(function g(f,x){var c,u,s,t,o,r,d,h,l,p,w,b,I,S,R,N,q,Z,le,we,ke,A,L,z,y,C,M,U,ee,J;return Le.default.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if((x=x||{}).to=x.to||"hiragana",x.mode=x.mode||"normal",x.romajiSystem=x.romajiSystem||G.ROMANIZATION_SYSTEM.HEPBURN,x.delimiter_start=x.delimiter_start||"(",x.delimiter_end=x.delimiter_end||")",f=f||"",-1!==["hiragana","katakana","romaji"].indexOf(x.to)){re.next=9;break}throw new Error("Invalid Target Syllabary.");case 9:if(-1!==["normal","spaced","okurigana","furigana"].indexOf(x.mode)){re.next=11;break}throw new Error("Invalid Conversion Mode.");case 11:if(-1!==Object.keys(G.ROMANIZATION_SYSTEM).map(function(Ue){return G.ROMANIZATION_SYSTEM[Ue]}).indexOf(x.romajiSystem)){re.next=14;break}throw new Error("Invalid Romanization System.");case 14:return re.next=16,this._analyzer.parse(f);case 16:if(c=(0,G.patchTokens)(re.sent),"normal"!==x.mode&&"spaced"!==x.mode){re.next=36;break}re.t0=x.to,re.next="katakana"===re.t0?22:"romaji"===re.t0?25:"hiragana"===re.t0?29:33;break;case 22:if("normal"!==x.mode){re.next=24;break}return re.abrupt("return",c.map(function(Ue){return Ue.reading}).join(""));case 24:return re.abrupt("return",c.map(function(Ue){return Ue.reading}).join(" "));case 25:if(u=function(Ue){var We;return We=(0,G.hasJapanese)(Ue.surface_form)?Ue.pronunciation||Ue.reading:Ue.surface_form,(0,G.toRawRomaji)(We,x.romajiSystem)},"normal"!==x.mode){re.next=28;break}return re.abrupt("return",c.map(u).join(""));case 28:return re.abrupt("return",c.map(u).join(" "));case 29:for(s=0;s<c.length;s++)if((0,G.hasKanji)(c[s].surface_form))if((0,G.hasKatakana)(c[s].surface_form)){for(c[s].reading=(0,G.toRawHiragana)(c[s].reading),t="",o="",r=0;r<c[s].surface_form.length;r++)(0,G.isKanji)(c[s].surface_form[r])?o+="(.*)":o+=(0,G.isKatakana)(c[s].surface_form[r])?(0,G.toRawHiragana)(c[s].surface_form[r]):c[s].surface_form[r];if(d=new RegExp(o),h=d.exec(c[s].reading)){for(l=0,p=0;p<c[s].surface_form.length;p++)(0,G.isKanji)(c[s].surface_form[p])?(t+=h[l+1],l++):t+=c[s].surface_form[p];c[s].reading=t}}else c[s].reading=(0,G.toRawHiragana)(c[s].reading);else c[s].reading=c[s].surface_form;if("normal"!==x.mode){re.next=32;break}return re.abrupt("return",c.map(function(Ue){return Ue.reading}).join(""));case 32:return re.abrupt("return",c.map(function(Ue){return Ue.reading}).join(" "));case 33:throw new Error("Unknown option.to param");case 34:re.next=73;break;case 36:if("okurigana"!==x.mode&&"furigana"!==x.mode){re.next=73;break}w=[],b=0;case 39:if(!(b<c.length)){re.next=62;break}I=(0,G.getStrType)(c[b].surface_form),re.t1=I,re.next=0===re.t1?44:1===re.t1?46:2===re.t1?54:3===re.t1?56:58;break;case 44:return w.push([c[b].surface_form,1,(0,G.toRawHiragana)(c[b].reading),c[b].pronunciation||c[b].reading]),re.abrupt("break",59);case 46:for(S="",R=!1,N=[],q=0;q<c[b].surface_form.length;q++)(0,G.isKanji)(c[b].surface_form[q])?R?N[N.length-1]+=c[b].surface_form[q]:(R=!0,S+="(.*)",N.push(c[b].surface_form[q])):(R=!1,N.push(c[b].surface_form[q]),S+=(0,G.isKatakana)(c[b].surface_form[q])?(0,G.toRawHiragana)(c[b].surface_form[q]):c[b].surface_form[q]);if(Z=new RegExp("^"+S+"$"),le=Z.exec((0,G.toRawHiragana)(c[b].reading)))for(we=1,ke=0;ke<N.length;ke++)(0,G.isKanji)(N[ke][0])?(w.push([N[ke],1,le[we],(0,G.toRawKatakana)(le[we])]),we+=1):w.push([N[ke],2,(0,G.toRawHiragana)(N[ke]),(0,G.toRawKatakana)(N[ke])]);else w.push([c[b].surface_form,1,(0,G.toRawHiragana)(c[b].reading),c[b].pronunciation||c[b].reading]);return re.abrupt("break",59);case 54:for(A=0;A<c[b].surface_form.length;A++)w.push([c[b].surface_form[A],2,(0,G.toRawHiragana)(c[b].reading[A]),c[b].pronunciation&&c[b].pronunciation[A]||c[b].reading[A]]);return re.abrupt("break",59);case 56:for(L=0;L<c[b].surface_form.length;L++)w.push([c[b].surface_form[L],3,c[b].surface_form[L],c[b].surface_form[L]]);return re.abrupt("break",59);case 58:throw new Error("Unknown strType");case 59:b++,re.next=39;break;case 62:z="",re.t2=x.to,re.next="katakana"===re.t2?66:"romaji"===re.t2?68:"hiragana"===re.t2?70:72;break;case 66:if("okurigana"===x.mode)for(y=0;y<w.length;y++)z+=1!==w[y][1]?w[y][0]:w[y][0]+x.delimiter_start+(0,G.toRawKatakana)(w[y][2])+x.delimiter_end;else for(C=0;C<w.length;C++)z+=1!==w[C][1]?w[C][0]:"<ruby>"+w[C][0]+"<rp>"+x.delimiter_start+"</rp><rt>"+(0,G.toRawKatakana)(w[C][2])+"</rt><rp>"+x.delimiter_end+"</rp></ruby>";return re.abrupt("return",z);case 68:if("okurigana"===x.mode)for(M=0;M<w.length;M++)z+=1!==w[M][1]?w[M][0]:w[M][0]+x.delimiter_start+(0,G.toRawRomaji)(w[M][3],x.romajiSystem)+x.delimiter_end;else{for(z+="<ruby>",U=0;U<w.length;U++)z+=w[U][0]+"<rp>"+x.delimiter_start+"</rp><rt>"+(0,G.toRawRomaji)(w[U][3],x.romajiSystem)+"</rt><rp>"+x.delimiter_end+"</rp>";z+="</ruby>"}return re.abrupt("return",z);case 70:if("okurigana"===x.mode)for(ee=0;ee<w.length;ee++)z+=1!==w[ee][1]?w[ee][0]:w[ee][0]+x.delimiter_start+w[ee][2]+x.delimiter_end;else for(J=0;J<w.length;J++)z+=1!==w[J][1]?w[J][0]:"<ruby>"+w[J][0]+"<rp>"+x.delimiter_start+"</rp><rt>"+w[J][2]+"</rt><rp>"+x.delimiter_end+"</rp></ruby>";return re.abrupt("return",z);case 72:throw new Error("Invalid Target Syllabary.");case 73:case"end":return re.stop()}},g,this)}));return function(g,f){return i.apply(this,arguments)}}()}]),B;var i}();ae.Util={isHiragana:G.isHiragana,isKatakana:G.isKatakana,isKana:G.isKana,isKanji:G.isKanji,isJapanese:G.isJapanese,hasHiragana:G.hasHiragana,hasKatakana:G.hasKatakana,hasKana:G.hasKana,hasKanji:G.hasKanji,hasJapanese:G.hasJapanese,kanaToHiragna:G.kanaToHiragna,kanaToKatakana:G.kanaToKatakana,kanaToRomaji:G.kanaToRomaji},kt.default=ae,wt.exports=kt.default},{"./util":6,"babel-runtime/regenerator":1}],5:[function(At,wt,kt){"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var De=function Le(_){return _&&_.__esModule?_:{default:_}}(At("./core"));kt.default=De.default,wt.exports=kt.default},{"./core":4}],6:[function(At,wt,kt){"use strict";function V(r){if(Array.isArray(r)){for(var d=0,h=Array(r.length);d<r.length;d++)h[d]=r[d];return h}return Array.from(r)}Object.defineProperty(kt,"__esModule",{value:!0});var De="\u3041".charCodeAt(0)-"\u30a1".charCodeAt(0),Le="\u30a1".charCodeAt(0)-"\u3041".charCodeAt(0),_={NIPPON:"nippon",PASSPORT:"passport",HEPBURN:"hepburn"},oe=function(r){return(r=r[0])>="\u3040"&&r<="\u309f"},G=function(r){return(r=r[0])>="\u30a0"&&r<="\u30ff"},ue=function(r){return oe(r)||G(r)},ve=function(r){return(r=r[0])>="\u4e00"&&r<="\u9fcf"||r>="\uf900"&&r<="\ufaff"||r>="\u3400"&&r<="\u4dbf"},Y=function(r){return ue(r)||ve(r)},ae=function(r){for(var d=0;d<r.length;d++)if(oe(r[d]))return!0;return!1},g=function(r){for(var d=0;d<r.length;d++)if(Y(r[d]))return!0;return!1},f=function(r){return[].concat(V(r)).map(function(d){return d>"\u30a0"&&d<"\u30f7"?String.fromCharCode(d.charCodeAt(0)+De):d}).join("")},x=function(r){return[].concat(V(r)).map(function(d){return d>"\u3040"&&d<"\u3097"?String.fromCharCode(d.charCodeAt(0)+Le):d}).join("")},n=function(r,d){var h={nippon:{"\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff10":"0","\uff01":"!","\u201c":'"',"\u201d":'"',"\uff03":"#","\uff04":"$","\uff05":"%","\uff06":"&","\u2019":"'","\uff08":"(","\uff09":")","\uff1d":"=","\uff5e":"~","\uff5c":"|","\uff20":"@","\u2018":"`","\uff0b":"+","\uff0a":"*","\uff1b":";","\uff1a":":","\uff1c":"<","\uff1e":">","\u3001":",","\u3002":".","\uff0f":"/","\uff1f":"?","\uff3f":"_","\u30fb":"\uff65","\u300c":'"',"\u300d":'"',"\uff5b":"{","\uff5d":"}","\uffe5":"\\","\uff3e":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304a:"o",\u30a2:"a",\u30a4:"i",\u30a6:"u",\u30a8:"e",\u30aa:"o",\u304b:"ka",\u304d:"ki",\u304f:"ku",\u3051:"ke",\u3053:"ko",\u30ab:"ka",\u30ad:"ki",\u30af:"ku",\u30b1:"ke",\u30b3:"ko",\u3055:"sa",\u3057:"si",\u3059:"su",\u305b:"se",\u305d:"so",\u30b5:"sa",\u30b7:"si",\u30b9:"su",\u30bb:"se",\u30bd:"so",\u305f:"ta",\u3061:"ti",\u3064:"tu",\u3066:"te",\u3068:"to",\u30bf:"ta",\u30c1:"ti",\u30c4:"tu",\u30c6:"te",\u30c8:"to",\u306a:"na",\u306b:"ni",\u306c:"nu",\u306d:"ne",\u306e:"no",\u30ca:"na",\u30cb:"ni",\u30cc:"nu",\u30cd:"ne",\u30ce:"no",\u306f:"ha",\u3072:"hi",\u3075:"hu",\u3078:"he",\u307b:"ho",\u30cf:"ha",\u30d2:"hi",\u30d5:"hu",\u30d8:"he",\u30db:"ho",\u307e:"ma",\u307f:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30de:"ma",\u30df:"mi",\u30e0:"mu",\u30e1:"me",\u30e2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30e4:"ya",\u30e6:"yu",\u30e8:"yo",\u3089:"ra",\u308a:"ri",\u308b:"ru",\u308c:"re",\u308d:"ro",\u30e9:"ra",\u30ea:"ri",\u30eb:"ru",\u30ec:"re",\u30ed:"ro",\u308f:"wa",\u3090:"wi",\u3091:"we",\u3092:"wo",\u30ef:"wa",\u30f0:"wi",\u30f1:"we",\u30f2:"wo",\u304c:"ga",\u304e:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30ac:"ga",\u30ae:"gi",\u30b0:"gu",\u30b2:"ge",\u30b4:"go",\u3056:"za",\u3058:"zi",\u305a:"zu",\u305c:"ze",\u305e:"zo",\u30b6:"za",\u30b8:"zi",\u30ba:"zu",\u30bc:"ze",\u30be:"zo",\u3060:"da",\u3062:"di",\u3065:"du",\u3067:"de",\u3069:"do",\u30c0:"da",\u30c2:"di",\u30c5:"du",\u30c7:"de",\u30c9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307c:"bo",\u30d0:"ba",\u30d3:"bi",\u30d6:"bu",\u30d9:"be",\u30dc:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307a:"pe",\u307d:"po",\u30d1:"pa",\u30d4:"pi",\u30d7:"pu",\u30da:"pe",\u30dd:"po",\u304d\u3083:"kya",\u304d\u3085:"kyu",\u304d\u3087:"kyo",\u3057\u3083:"sya",\u3057\u3085:"syu",\u3057\u3087:"syo",\u3061\u3083:"tya",\u3061\u3085:"tyu",\u3061\u3087:"tyo",\u306b\u3083:"nya",\u306b\u3085:"nyu",\u306b\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307f\u3083:"mya",\u307f\u3085:"myu",\u307f\u3087:"myo",\u308a\u3083:"rya",\u308a\u3085:"ryu",\u308a\u3087:"ryo",\u30ad\u30e3:"kya",\u30ad\u30e5:"kyu",\u30ad\u30e7:"kyo",\u30b7\u30e3:"sya",\u30b7\u30e5:"syu",\u30b7\u30e7:"syo",\u30c1\u30e3:"tya",\u30c1\u30e5:"tyu",\u30c1\u30e7:"tyo",\u30cb\u30e3:"nya",\u30cb\u30e5:"nyu",\u30cb\u30e7:"nyo",\u30d2\u30e3:"hya",\u30d2\u30e5:"hyu",\u30d2\u30e7:"hyo",\u30df\u30e3:"mya",\u30df\u30e5:"myu",\u30df\u30e7:"myo",\u30ea\u30e3:"rya",\u30ea\u30e5:"ryu",\u30ea\u30e7:"ryo",\u304e\u3083:"gya",\u304e\u3085:"gyu",\u304e\u3087:"gyo",\u3058\u3083:"zya",\u3058\u3085:"zyu",\u3058\u3087:"zyo",\u3062\u3083:"dya",\u3062\u3085:"dyu",\u3062\u3087:"dyo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u304f\u308e:"kwa",\u3050\u308e:"gwa",\u30ae\u30e3:"gya",\u30ae\u30e5:"gyu",\u30ae\u30e7:"gyo",\u30b8\u30e3:"zya",\u30b8\u30e5:"zyu",\u30b8\u30e7:"zyo",\u30c2\u30e3:"dya",\u30c2\u30e5:"dyu",\u30c2\u30e7:"dyo",\u30d3\u30e3:"bya",\u30d3\u30e5:"byu",\u30d3\u30e7:"byo",\u30d4\u30e3:"pya",\u30d4\u30e5:"pyu",\u30d4\u30e7:"pyo",\u30af\u30ee:"kwa",\u30b0\u30ee:"gwa",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308e:"wa",\u30a1:"a",\u30a3:"i",\u30a5:"u",\u30a7:"e",\u30a9:"o",\u30e3:"ya",\u30e5:"yu",\u30e7:"yo",\u30ee:"wa",\u30f5:"ka",\u30f6:"ke",\u3093:"n",\u30f3:"n","\u3000":" ",\u3044\u3047:"ye",\u304d\u3047:"kye",\u304f\u3043:"kwi",\u304f\u3047:"kwe",\u304f\u3049:"kwo",\u3050\u3043:"gwi",\u3050\u3047:"gwe",\u3050\u3049:"gwo",\u30a4\u30a7:"ye",\u30ad\u30a7:"kya",\u30af\u30a3:"kwi",\u30af\u30a7:"kwe",\u30af\u30a9:"kwo",\u30b0\u30a3:"gwi",\u30b0\u30a7:"gwe",\u30b0\u30a9:"gwo",\u3057\u3047:"sye",\u3058\u3047:"zye",\u3059\u3043:"swi",\u305a\u3043:"zwi",\u3061\u3047:"tye",\u3064\u3041:"twa",\u3064\u3043:"twi",\u3064\u3047:"twe",\u3064\u3049:"two",\u306b\u3047:"nye",\u3072\u3047:"hye",\u3075\u3041:"hwa",\u3075\u3043:"hwi",\u3075\u3047:"hwe",\u3075\u3049:"hwo",\u3075\u3085:"hwyu",\u3075\u3087:"hwyo",\u30b7\u30a7:"sye",\u30b8\u30a7:"zye",\u30b9\u30a3:"swi",\u30ba\u30a3:"zwi",\u30c1\u30a7:"tye",\u30c4\u30a1:"twa",\u30c4\u30a3:"twi",\u30c4\u30a7:"twe",\u30c4\u30a9:"two",\u30cb\u30a7:"nye",\u30d2\u30a7:"hye",\u30d5\u30a1:"hwa",\u30d5\u30a3:"hwi",\u30d5\u30a7:"hwe",\u30d5\u30a9:"hwo",\u30d5\u30e5:"hwyu",\u30d5\u30e7:"hwyo"},passport:{"\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff10":"0","\uff01":"!","\u201c":'"',"\u201d":'"',"\uff03":"#","\uff04":"$","\uff05":"%","\uff06":"&","\u2019":"'","\uff08":"(","\uff09":")","\uff1d":"=","\uff5e":"~","\uff5c":"|","\uff20":"@","\u2018":"`","\uff0b":"+","\uff0a":"*","\uff1b":";","\uff1a":":","\uff1c":"<","\uff1e":">","\u3001":",","\u3002":".","\uff0f":"/","\uff1f":"?","\uff3f":"_","\u30fb":"\uff65","\u300c":'"',"\u300d":'"',"\uff5b":"{","\uff5d":"}","\uffe5":"\\","\uff3e":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304a:"o",\u30a2:"a",\u30a4:"i",\u30a6:"u",\u30a8:"e",\u30aa:"o",\u304b:"ka",\u304d:"ki",\u304f:"ku",\u3051:"ke",\u3053:"ko",\u30ab:"ka",\u30ad:"ki",\u30af:"ku",\u30b1:"ke",\u30b3:"ko",\u3055:"sa",\u3057:"shi",\u3059:"su",\u305b:"se",\u305d:"so",\u30b5:"sa",\u30b7:"shi",\u30b9:"su",\u30bb:"se",\u30bd:"so",\u305f:"ta",\u3061:"chi",\u3064:"tsu",\u3066:"te",\u3068:"to",\u30bf:"ta",\u30c1:"chi",\u30c4:"tsu",\u30c6:"te",\u30c8:"to",\u306a:"na",\u306b:"ni",\u306c:"nu",\u306d:"ne",\u306e:"no",\u30ca:"na",\u30cb:"ni",\u30cc:"nu",\u30cd:"ne",\u30ce:"no",\u306f:"ha",\u3072:"hi",\u3075:"fu",\u3078:"he",\u307b:"ho",\u30cf:"ha",\u30d2:"hi",\u30d5:"fu",\u30d8:"he",\u30db:"ho",\u307e:"ma",\u307f:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30de:"ma",\u30df:"mi",\u30e0:"mu",\u30e1:"me",\u30e2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30e4:"ya",\u30e6:"yu",\u30e8:"yo",\u3089:"ra",\u308a:"ri",\u308b:"ru",\u308c:"re",\u308d:"ro",\u30e9:"ra",\u30ea:"ri",\u30eb:"ru",\u30ec:"re",\u30ed:"ro",\u308f:"wa",\u3090:"i",\u3091:"e",\u3092:"o",\u30ef:"wa",\u30f0:"i",\u30f1:"e",\u30f2:"o",\u304c:"ga",\u304e:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30ac:"ga",\u30ae:"gi",\u30b0:"gu",\u30b2:"ge",\u30b4:"go",\u3056:"za",\u3058:"ji",\u305a:"zu",\u305c:"ze",\u305e:"zo",\u30b6:"za",\u30b8:"ji",\u30ba:"zu",\u30bc:"ze",\u30be:"zo",\u3060:"da",\u3062:"ji",\u3065:"zu",\u3067:"de",\u3069:"do",\u30c0:"da",\u30c2:"ji",\u30c5:"zu",\u30c7:"de",\u30c9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307c:"bo",\u30d0:"ba",\u30d3:"bi",\u30d6:"bu",\u30d9:"be",\u30dc:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307a:"pe",\u307d:"po",\u30d1:"pa",\u30d4:"pi",\u30d7:"pu",\u30da:"pe",\u30dd:"po",\u304d\u3083:"kya",\u304d\u3085:"kyu",\u304d\u3087:"kyo",\u3057\u3083:"sha",\u3057\u3085:"shu",\u3057\u3087:"sho",\u3061\u3083:"cha",\u3061\u3085:"chu",\u3061\u3087:"cho",\u306b\u3083:"nya",\u306b\u3085:"nyu",\u306b\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307f\u3083:"mya",\u307f\u3085:"myu",\u307f\u3087:"myo",\u308a\u3083:"rya",\u308a\u3085:"ryu",\u308a\u3087:"ryo",\u30ad\u30e3:"kya",\u30ad\u30e5:"kyu",\u30ad\u30e7:"kyo",\u30b7\u30e3:"sha",\u30b7\u30e5:"shu",\u30b7\u30e7:"sho",\u30c1\u30e3:"cha",\u30c1\u30e5:"chu",\u30c1\u30e7:"cho",\u30cb\u30e3:"nya",\u30cb\u30e5:"nyu",\u30cb\u30e7:"nyo",\u30d2\u30e3:"hya",\u30d2\u30e5:"hyu",\u30d2\u30e7:"hyo",\u30df\u30e3:"mya",\u30df\u30e5:"myu",\u30df\u30e7:"myo",\u30ea\u30e3:"rya",\u30ea\u30e5:"ryu",\u30ea\u30e7:"ryo",\u304e\u3083:"gya",\u304e\u3085:"gyu",\u304e\u3087:"gyo",\u3058\u3083:"ja",\u3058\u3085:"ju",\u3058\u3087:"jo",\u3062\u3083:"ja",\u3062\u3085:"ju",\u3062\u3087:"jo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u30ae\u30e3:"gya",\u30ae\u30e5:"gyu",\u30ae\u30e7:"gyo",\u30b8\u30e3:"ja",\u30b8\u30e5:"ju",\u30b8\u30e7:"jo",\u30c2\u30e3:"ja",\u30c2\u30e5:"ju",\u30c2\u30e7:"jo",\u30d3\u30e3:"bya",\u30d3\u30e5:"byu",\u30d3\u30e7:"byo",\u30d4\u30e3:"pya",\u30d4\u30e5:"pyu",\u30d4\u30e7:"pyo",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308e:"wa",\u30a1:"a",\u30a3:"i",\u30a5:"u",\u30a7:"e",\u30a9:"o",\u30e3:"ya",\u30e5:"yu",\u30e7:"yo",\u30ee:"wa",\u30f5:"ka",\u30f6:"ke",\u3093:"n",\u30f3:"n","\u3000":" ",\u30f4:"b"},hepburn:{"\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff10":"0","\uff01":"!","\u201c":'"',"\u201d":'"',"\uff03":"#","\uff04":"$","\uff05":"%","\uff06":"&","\u2019":"'","\uff08":"(","\uff09":")","\uff1d":"=","\uff5e":"~","\uff5c":"|","\uff20":"@","\u2018":"`","\uff0b":"+","\uff0a":"*","\uff1b":";","\uff1a":":","\uff1c":"<","\uff1e":">","\u3001":",","\u3002":".","\uff0f":"/","\uff1f":"?","\uff3f":"_","\u30fb":"\uff65","\u300c":'"',"\u300d":'"',"\uff5b":"{","\uff5d":"}","\uffe5":"\\","\uff3e":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304a:"o",\u30a2:"a",\u30a4:"i",\u30a6:"u",\u30a8:"e",\u30aa:"o",\u304b:"ka",\u304d:"ki",\u304f:"ku",\u3051:"ke",\u3053:"ko",\u30ab:"ka",\u30ad:"ki",\u30af:"ku",\u30b1:"ke",\u30b3:"ko",\u3055:"sa",\u3057:"shi",\u3059:"su",\u305b:"se",\u305d:"so",\u30b5:"sa",\u30b7:"shi",\u30b9:"su",\u30bb:"se",\u30bd:"so",\u305f:"ta",\u3061:"chi",\u3064:"tsu",\u3066:"te",\u3068:"to",\u30bf:"ta",\u30c1:"chi",\u30c4:"tsu",\u30c6:"te",\u30c8:"to",\u306a:"na",\u306b:"ni",\u306c:"nu",\u306d:"ne",\u306e:"no",\u30ca:"na",\u30cb:"ni",\u30cc:"nu",\u30cd:"ne",\u30ce:"no",\u306f:"ha",\u3072:"hi",\u3075:"fu",\u3078:"he",\u307b:"ho",\u30cf:"ha",\u30d2:"hi",\u30d5:"fu",\u30d8:"he",\u30db:"ho",\u307e:"ma",\u307f:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30de:"ma",\u30df:"mi",\u30e0:"mu",\u30e1:"me",\u30e2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30e4:"ya",\u30e6:"yu",\u30e8:"yo",\u3089:"ra",\u308a:"ri",\u308b:"ru",\u308c:"re",\u308d:"ro",\u30e9:"ra",\u30ea:"ri",\u30eb:"ru",\u30ec:"re",\u30ed:"ro",\u308f:"wa",\u3090:"i",\u3091:"e",\u3092:"o",\u30ef:"wa",\u30f0:"i",\u30f1:"e",\u30f2:"o",\u304c:"ga",\u304e:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30ac:"ga",\u30ae:"gi",\u30b0:"gu",\u30b2:"ge",\u30b4:"go",\u3056:"za",\u3058:"ji",\u305a:"zu",\u305c:"ze",\u305e:"zo",\u30b6:"za",\u30b8:"ji",\u30ba:"zu",\u30bc:"ze",\u30be:"zo",\u3060:"da",\u3062:"ji",\u3065:"zu",\u3067:"de",\u3069:"do",\u30c0:"da",\u30c2:"ji",\u30c5:"zu",\u30c7:"de",\u30c9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307c:"bo",\u30d0:"ba",\u30d3:"bi",\u30d6:"bu",\u30d9:"be",\u30dc:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307a:"pe",\u307d:"po",\u30d1:"pa",\u30d4:"pi",\u30d7:"pu",\u30da:"pe",\u30dd:"po",\u304d\u3083:"kya",\u304d\u3085:"kyu",\u304d\u3087:"kyo",\u3057\u3083:"sha",\u3057\u3085:"shu",\u3057\u3087:"sho",\u3061\u3083:"cha",\u3061\u3085:"chu",\u3061\u3087:"cho",\u306b\u3083:"nya",\u306b\u3085:"nyu",\u306b\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307f\u3083:"mya",\u307f\u3085:"myu",\u307f\u3087:"myo",\u308a\u3083:"rya",\u308a\u3085:"ryu",\u308a\u3087:"ryo",\u30ad\u30e3:"kya",\u30ad\u30e5:"kyu",\u30ad\u30e7:"kyo",\u30b7\u30e3:"sha",\u30b7\u30e5:"shu",\u30b7\u30e7:"sho",\u30c1\u30e3:"cha",\u30c1\u30e5:"chu",\u30c1\u30e7:"cho",\u30cb\u30e3:"nya",\u30cb\u30e5:"nyu",\u30cb\u30e7:"nyo",\u30d2\u30e3:"hya",\u30d2\u30e5:"hyu",\u30d2\u30e7:"hyo",\u30df\u30e3:"mya",\u30df\u30e5:"myu",\u30df\u30e7:"myo",\u30ea\u30e3:"rya",\u30ea\u30e5:"ryu",\u30ea\u30e7:"ryo",\u304e\u3083:"gya",\u304e\u3085:"gyu",\u304e\u3087:"gyo",\u3058\u3083:"ja",\u3058\u3085:"ju",\u3058\u3087:"jo",\u3062\u3083:"ja",\u3062\u3085:"ju",\u3062\u3087:"jo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u30ae\u30e3:"gya",\u30ae\u30e5:"gyu",\u30ae\u30e7:"gyo",\u30b8\u30e3:"ja",\u30b8\u30e5:"ju",\u30b8\u30e7:"jo",\u30c2\u30e3:"ja",\u30c2\u30e5:"ju",\u30c2\u30e7:"jo",\u30d3\u30e3:"bya",\u30d3\u30e5:"byu",\u30d3\u30e7:"byo",\u30d4\u30e3:"pya",\u30d4\u30e5:"pyu",\u30d4\u30e7:"pyo",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308e:"wa",\u30a1:"a",\u30a3:"i",\u30a5:"u",\u30a7:"e",\u30a9:"o",\u30e3:"ya",\u30e5:"yu",\u30e7:"yo",\u30ee:"wa",\u30f5:"ka",\u30f6:"ke",\u3093:"n",\u30f3:"n","\u3000":" ",\u3044\u3047:"ye",\u3046\u3043:"wi",\u3046\u3047:"we",\u3046\u3049:"wo",\u304d\u3047:"kye",\u304f\u3041:"kwa",\u304f\u3043:"kwi",\u304f\u3047:"kwe",\u304f\u3049:"kwo",\u3050\u3041:"gwa",\u3050\u3043:"gwi",\u3050\u3047:"gwe",\u3050\u3049:"gwo",\u30a4\u30a7:"ye",\u30a6\u30a3:"wi",\u30a6\u30a7:"we",\u30a6\u30a9:"wo",\u30f4:"vu",\u30f4\u30a1:"va",\u30f4\u30a3:"vi",\u30f4\u30a7:"ve",\u30f4\u30a9:"vo",\u30f4\u30e5:"vyu",\u30f4\u30e7:"vyo",\u30ad\u30a7:"kya",\u30af\u30a1:"kwa",\u30af\u30a3:"kwi",\u30af\u30a7:"kwe",\u30af\u30a9:"kwo",\u30b0\u30a1:"gwa",\u30b0\u30a3:"gwi",\u30b0\u30a7:"gwe",\u30b0\u30a9:"gwo",\u3057\u3047:"she",\u3058\u3047:"je",\u3061\u3047:"che",\u3064\u3041:"tsa",\u3064\u3043:"tsi",\u3064\u3047:"tse",\u3064\u3049:"tso",\u3066\u3043:"ti",\u3066\u3085:"tyu",\u3067\u3043:"di",\u3067\u3085:"dyu",\u3068\u3045:"tu",\u3069\u3045:"du",\u306b\u3047:"nye",\u3072\u3047:"hye",\u3075\u3041:"fa",\u3075\u3043:"fi",\u3075\u3047:"fe",\u3075\u3049:"fo",\u3075\u3085:"fyu",\u3075\u3087:"fyo",\u30b7\u30a7:"she",\u30b8\u30a7:"je",\u30c1\u30a7:"che",\u30c4\u30a1:"tsa",\u30c4\u30a3:"tsi",\u30c4\u30a7:"tse",\u30c4\u30a9:"tso",\u30c6\u30a3:"ti",\u30c6\u30e5:"tyu",\u30c7\u30a3:"di",\u30c7\u30e5:"dyu",\u30c8\u30a5:"tu",\u30c9\u30a5:"du",\u30cb\u30a7:"nye",\u30d2\u30a7:"hye",\u30d5\u30a1:"fa",\u30d5\u30a3:"fi",\u30d5\u30a7:"fe",\u30d5\u30a9:"fo",\u30d5\u30e5:"fyu",\u30d5\u30e7:"fyo"}},l=0,p=void 0,w=void 0,b="";if((d=d||_.HEPBURN)===_.PASSPORT&&(r=r.replace(/\u30fc/gm,"")),d===_.NIPPON||d===_.HEPBURN){for(var I=new RegExp(/(\u3093|\u30f3)(?=\u3042|\u3044|\u3046|\u3048|\u304a|\u30a2|\u30a4|\u30a6|\u30a8|\u30aa|\u3041|\u3043|\u3045|\u3047|\u3049|\u30a1|\u30a3|\u30a5|\u30a7|\u30a9|\u3084|\u3086|\u3088|\u30e4|\u30e6|\u30e8|\u3083|\u3085|\u3087|\u30e3|\u30e5|\u30e7)/g),S=void 0,R=[];null!==(S=I.exec(r));)R.push(S.index+1);if(0!==R.length){for(var N="",q=0;q<R.length;q++)N+=0===q?r.slice(0,R[q])+"'":r.slice(R[q-1],R[q])+"'";r=N+=r.slice(R[R.length-1])}}for(var Z=r.length;l<=Z;)(w=h[d][r.substring(l,l+2)])?(b+=w,l+=2):(b+=(w=h[d][p=r.substring(l,l+1)])?w:p,l+=1);return b=b.replace(/(\u3063|\u30c3)([bcdfghijklmnopqrstuvwyz])/gm,"$2$2"),d!==_.PASSPORT&&d!==_.HEPBURN||(b=b.replace(/cc/gm,"tc")),b=b.replace(/\u3063|\u30c3/gm,"tsu"),d!==_.PASSPORT&&d!==_.HEPBURN||(b=(b=(b=b.replace(/nm/gm,"mm")).replace(/nb/gm,"mb")).replace(/np/gm,"mp")),d===_.NIPPON&&(b=(b=(b=(b=(b=b.replace(/a\u30fc/gm,"\xe2")).replace(/i\u30fc/gm,"\xee")).replace(/u\u30fc/gm,"\xfb")).replace(/e\u30fc/gm,"\xea")).replace(/o\u30fc/gm,"\xf4")),d===_.HEPBURN&&(b=(b=(b=(b=(b=b.replace(/a\u30fc/gm,"\u0101")).replace(/i\u30fc/gm,"\u012b")).replace(/u\u30fc/gm,"\u016b")).replace(/e\u30fc/gm,"\u0113")).replace(/o\u30fc/gm,"\u014d")),b};kt.ROMANIZATION_SYSTEM=_,kt.getStrType=function(r){for(var d=!1,h=!1,l=0;l<r.length;l++)ve(r[l])?d=!0:(oe(r[l])||G(r[l]))&&(h=!0);return d&&h?1:d?0:h?2:3},kt.patchTokens=function(r){for(var d=0;d<r.length;d++)g(r[d].surface_form)?r[d].reading?ae(r[d].reading)&&(r[d].reading=x(r[d].reading)):r[d].reading=r[d].surface_form.split("").every(ue)?x(r[d].surface_form):r[d].surface_form:r[d].reading=r[d].surface_form;for(var h=0;h<r.length;h++)!r[h].pos||"\u52a9\u52d5\u8a5e"!==r[h].pos||"\u3046"!==r[h].surface_form&&"\u30a6"!==r[h].surface_form||h-1>=0&&r[h-1].pos&&"\u52d5\u8a5e"===r[h-1].pos&&(r[h-1].surface_form+="\u3046",r[h-1].pronunciation?r[h-1].pronunciation+="\u30fc":r[h-1].pronunciation=r[h-1].reading+"\u30fc",r[h-1].reading+="\u30a6",r.splice(h,1),h--);for(var l=0;l<r.length;l++)r[l].pos&&("\u52d5\u8a5e"===r[l].pos||"\u5f62\u5bb9\u8a5e"===r[l].pos)&&r[l].surface_form.length>1&&("\u3063"===r[l].surface_form[r[l].surface_form.length-1]||"\u30c3"===r[l].surface_form[r[l].surface_form.length-1])&&l+1<r.length&&r[l+1].pos&&("\u52d5\u8a5e"===r[l+1].pos||"\u52a9\u52d5\u8a5e"===r[l+1].pos)&&(r[l].surface_form+=r[l+1].surface_form,r[l].pronunciation?r[l].pronunciation+=r[l+1].pronunciation:r[l].pronunciation=""+r[l].reading+r[l+1].reading,r[l].reading+=r[l+1].reading,r.splice(l+1,1),l--);return r},kt.isHiragana=oe,kt.isKatakana=G,kt.isKana=ue,kt.isKanji=ve,kt.isJapanese=Y,kt.hasHiragana=ae,kt.hasKatakana=function(r){for(var d=0;d<r.length;d++)if(G(r[d]))return!0;return!1},kt.hasKana=function(r){for(var d=0;d<r.length;d++)if(ue(r[d]))return!0;return!1},kt.hasKanji=function(r){for(var d=0;d<r.length;d++)if(ve(r[d]))return!0;return!1},kt.hasJapanese=g,kt.toRawHiragana=f,kt.toRawKatakana=x,kt.toRawRomaji=n,kt.kanaToHiragna=function(r){return f(r)},kt.kanaToKatakana=function(r){return x(r)},kt.kanaToRomaji=function(r,d){return n(r,d)}},{}]},{},[5])(5)}),function(Kt){"object"==typeof exports&&typeof module<"u"?module.exports=Kt():"function"==typeof define&&define.amd?define([],Kt):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).KuromojiAnalyzer=Kt()}(function(){return function At(wt,kt,V){function De(oe,G){if(!kt[oe]){if(!wt[oe]){var ue="function"==typeof require&&require;if(!G&&ue)return ue(oe,!0);if(Le)return Le(oe,!0);var ve=new Error("Cannot find module '"+oe+"'");throw ve.code="MODULE_NOT_FOUND",ve}var Y=kt[oe]={exports:{}};wt[oe][0].call(Y.exports,function(ae){return De(wt[oe][1][ae]||ae)},Y,Y.exports,At,wt,kt,V)}return kt[oe].exports}for(var Le="function"==typeof require&&require,_=0;_<V.length;_++)De(V[_]);return De}({1:[function(At,wt,kt){(function(V,De,Le){var oe;oe=function(_){"use strict";function oe(Ae,Ve){Ve|=0;for(var tt=Math.max(Ae.length-Ve,0),ht=Array(tt),Ut=0;Ut<tt;Ut++)ht[Ut]=Ae[Ve+Ut];return ht}var G=function(Ae){var Ve=oe(arguments,1);return function(){var tt=oe(arguments);return Ae.apply(null,Ve.concat(tt))}},ue=function(Ae){return function(){var Ve=oe(arguments),tt=Ve.pop();Ae.call(this,Ve,tt)}};function ve(Ae){var Ve=typeof Ae;return null!=Ae&&("object"==Ve||"function"==Ve)}var Y="function"==typeof Le&&Le,ae="object"==typeof V&&"function"==typeof V.nextTick;function m(Ae){setTimeout(Ae,0)}function B(Ae){return function(Ve){var tt=oe(arguments,1);Ae(function(){Ve.apply(null,tt)})}}var i=B(Y?Le:ae?V.nextTick:m);function g(Ae){return ue(function(Ve,tt){var ht;try{ht=Ae.apply(this,Ve)}catch(Ut){return tt(Ut)}ve(ht)&&"function"==typeof ht.then?ht.then(function(Ut){f(tt,null,Ut)},function(Ut){f(tt,Ut.message?Ut:new Error(Ut))}):tt(null,ht)})}function f(Ae,Ve,tt){try{Ae(Ve,tt)}catch(ht){i(x,ht)}}function x(Ae){throw Ae}var n="function"==typeof Symbol;function c(Ae){return n&&"AsyncFunction"===Ae[Symbol.toStringTag]}function u(Ae){return c(Ae)?g(Ae):Ae}function s(Ae){return function(Ve){var tt=oe(arguments,1),ht=ue(function(Ut,Rt){var Ht=this;return Ae(Ve,function(Zt,vn){u(Zt).apply(Ht,Ut.concat(vn))},Rt)});return tt.length?ht.apply(this,tt):ht}}var t="object"==typeof De&&De&&De.Object===Object&&De,o="object"==typeof self&&self&&self.Object===Object&&self,r=t||o||Function("return this")(),d=r.Symbol,h=Object.prototype,l=h.hasOwnProperty,p=h.toString,w=d?d.toStringTag:void 0,b=Object.prototype.toString,I="[object Null]",S="[object Undefined]",R=d?d.toStringTag:void 0;function N(Ae){return null==Ae?void 0===Ae?S:I:R&&R in Object(Ae)?function(Ve){var tt=l.call(Ve,w),ht=Ve[w];try{Ve[w]=void 0;var Ut=!0}catch{}var Rt=p.call(Ve);return Ut&&(tt?Ve[w]=ht:delete Ve[w]),Rt}(Ae):b.call(Ae)}var q="[object AsyncFunction]",Z="[object Function]",le="[object GeneratorFunction]",we="[object Proxy]",ke=9007199254740991;function A(Ae){return"number"==typeof Ae&&Ae>-1&&Ae%1==0&&Ae<=ke}function L(Ae){return null!=Ae&&A(Ae.length)&&!function(Ve){if(!ve(Ve))return!1;var tt=N(Ve);return tt==Z||tt==le||tt==q||tt==we}(Ae)}var z={};function y(){}function C(Ae){return function(){if(null!==Ae){var Ve=Ae;Ae=null,Ve.apply(this,arguments)}}}var M="function"==typeof Symbol&&Symbol.iterator,U=function(Ae){return M&&Ae[M]&&Ae[M]()};function ee(Ae){return null!=Ae&&"object"==typeof Ae}var J="[object Arguments]";function re(Ae){return ee(Ae)&&N(Ae)==J}var Ue=Object.prototype,We=Ue.hasOwnProperty,Qe=Ue.propertyIsEnumerable,ft=re(function(){return arguments}())?re:function(Ae){return ee(Ae)&&We.call(Ae,"callee")&&!Qe.call(Ae,"callee")},pt=Array.isArray,Xt="object"==typeof _&&_&&!_.nodeType&&_,It=Xt&&"object"==typeof wt&&wt&&!wt.nodeType&&wt,Ft=It&&It.exports===Xt?r.Buffer:void 0,Ke=(Ft?Ft.isBuffer:void 0)||function(){return!1},mt=9007199254740991,St=/^(?:0|[1-9]\d*)$/;function K(Ae,Ve){var tt=typeof Ae;return!!(Ve=Ve??mt)&&("number"==tt||"symbol"!=tt&&St.test(Ae))&&Ae>-1&&Ae%1==0&&Ae<Ve}var se={};se["[object Float32Array]"]=se["[object Float64Array]"]=se["[object Int8Array]"]=se["[object Int16Array]"]=se["[object Int32Array]"]=se["[object Uint8Array]"]=se["[object Uint8ClampedArray]"]=se["[object Uint16Array]"]=se["[object Uint32Array]"]=!0,se["[object Arguments]"]=se["[object Array]"]=se["[object ArrayBuffer]"]=se["[object Boolean]"]=se["[object DataView]"]=se["[object Date]"]=se["[object Error]"]=se["[object Function]"]=se["[object Map]"]=se["[object Number]"]=se["[object Object]"]=se["[object RegExp]"]=se["[object Set]"]=se["[object String]"]=se["[object WeakMap]"]=!1;var X,Ae,Ve,ce="object"==typeof _&&_&&!_.nodeType&&_,Je=ce&&"object"==typeof wt&&wt&&!wt.nodeType&&wt,ie=Je&&Je.exports===ce&&t.process,pe=function(){try{return Je&&Je.require&&Je.require("util").types||ie&&ie.binding&&ie.binding("util")}catch{}}(),Ye=pe&&pe.isTypedArray,at=Ye?(X=Ye,function(Ae){return X(Ae)}):function(Ae){return ee(Ae)&&A(Ae.length)&&!!se[N(Ae)]},dt=Object.prototype.hasOwnProperty,Jt=Object.prototype,an=(Ae=Object.keys,Ve=Object,function(tt){return Ae(Ve(tt))}),Cn=Object.prototype.hasOwnProperty;function En(Ae){return L(Ae)?function Gt(Ae,Ve){var tt=pt(Ae),ht=!tt&&ft(Ae),Ut=!tt&&!ht&&Ke(Ae),Rt=!tt&&!ht&&!Ut&&at(Ae),Ht=tt||ht||Ut||Rt,Zt=Ht?function(Dn,ir){for(var Lr=-1,Yr=Array(Dn);++Lr<Dn;)Yr[Lr]=ir(Lr);return Yr}(Ae.length,String):[],vn=Zt.length;for(var On in Ae)!Ve&&!dt.call(Ae,On)||Ht&&("length"==On||Ut&&("offset"==On||"parent"==On)||Rt&&("buffer"==On||"byteLength"==On||"byteOffset"==On)||K(On,vn))||Zt.push(On);return Zt}(Ae):function hn(Ae){if(tt=(Ve=Ae)&&Ve.constructor,Ve!==("function"==typeof tt&&tt.prototype||Jt))return an(Ae);var Ve,tt,ht=[];for(var Ut in Object(Ae))Cn.call(Ae,Ut)&&"constructor"!=Ut&&ht.push(Ut);return ht}(Ae)}function An(Ae){return function(){if(null===Ae)throw new Error("Callback was already called.");var Ve=Ae;Ae=null,Ve.apply(this,arguments)}}function Pn(Ae){return function(Ve,tt,ht){if(ht=C(ht||y),Ae<=0||!Ve)return ht(null);var Ut=function Xn(Ae){if(L(Ae))return Zt=-1,vn=(Ht=Ae).length,function(){return++Zt<vn?{value:Ht[Zt],key:Zt}:null};var Ht,Zt,vn,Ve,tt,ht,Ut,Rt=U(Ae);return Rt?function(Ht){var Zt=-1;return function(){var vn=Ht.next();return vn.done?null:(Zt++,{value:vn.value,key:Zt})}}(Rt):(tt=En(Ve=Ae),ht=-1,Ut=tt.length,function(){var Ht=tt[++ht];return ht<Ut?{value:Ve[Ht],key:Ht}:null})}(Ve),Rt=!1,Ht=0,Zt=!1;function vn(Dn,ir){if(Ht-=1,Dn)Rt=!0,ht(Dn);else{if(ir===z||Rt&&Ht<=0)return Rt=!0,ht(null);Zt||On()}}function On(){for(Zt=!0;Ht<Ae&&!Rt;){var Dn=Ut();if(null===Dn)return Rt=!0,void(Ht<=0&&ht(null));Ht+=1,tt(Dn.value,Dn.key,An(vn))}Zt=!1}On()}}function mr(Ae,Ve,tt,ht){Pn(Ve)(Ae,u(tt),ht)}function Mt(Ae,Ve){return function(tt,ht,Ut){return Ae(tt,Ve,ht,Ut)}}function Kn(Ae,Ve,tt){tt=C(tt||y);var ht=0,Ut=0,Rt=Ae.length;function Ht(Zt,vn){Zt?tt(Zt):++Ut!==Rt&&vn!==z||tt(null)}for(0===Rt&&tt(null);ht<Rt;ht++)Ve(Ae[ht],ht,An(Ht))}var ge=Mt(mr,1/0),Re=function(Ae,Ve,tt){(L(Ae)?Kn:ge)(Ae,u(Ve),tt)};function je(Ae){return function(Ve,tt,ht){return Ae(Re,Ve,u(tt),ht)}}function Ze(Ae,Ve,tt,ht){ht=ht||y,Ve=Ve||[];var Ut=[],Rt=0,Ht=u(tt);Ae(Ve,function(Zt,vn,On){var Dn=Rt++;Ht(Zt,function(ir,Lr){Ut[Dn]=Lr,On(ir)})},function(Zt){ht(Zt,Ut)})}var Xe=je(Ze),st=s(Xe);function tn(Ae){return function(Ve,tt,ht,Ut){return Ae(Pn(tt),Ve,u(ht),Ut)}}var Bt=tn(Ze),qt=Mt(Bt,1),nn=s(qt);function _n(Ae,Ve){for(var tt=-1,ht=null==Ae?0:Ae.length;++tt<ht&&!1!==Ve(Ae[tt],tt,Ae););return Ae}var Qt=function(Ae,Ve,tt){for(var ht=-1,Ut=Object(Ae),Rt=tt(Ae),Ht=Rt.length;Ht--;){var Zt=Rt[++ht];if(!1===Ve(Ut[Zt],Zt,Ut))break}return Ae};function Ee(Ae,Ve){return Ae&&Qt(Ae,Ve,En)}function Vt(Ae){return Ae!=Ae}function Nn(Ae,Ve,tt){return Ve==Ve?function(ht,Ut,Rt){for(var Ht=Rt-1,Zt=ht.length;++Ht<Zt;)if(ht[Ht]===Ut)return Ht;return-1}(Ae,Ve,tt):function(ht,Ut,Rt,Ht){for(var Zt=ht.length,vn=Rt+-1;++vn<Zt;)if(Ut(ht[vn],vn,ht))return vn;return-1}(Ae,Vt,tt)}var mn=function(Ae,Ve,tt){"function"==typeof Ve&&(tt=Ve,Ve=null),tt=C(tt||y);var ht=En(Ae).length;if(!ht)return tt(null);Ve||(Ve=ht);var Ut={},Rt=0,Ht=!1,Zt=Object.create(null),vn=[],On=[],Dn={};function ir(Wr,Rr){vn.push(function(){!function(jr,zi){if(!Ht){var no=An(function(ao,Xi){if(Rt--,arguments.length>2&&(Xi=oe(arguments,1)),ao){var ro={};Ee(Ut,function(io,So){ro[So]=io}),ro[jr]=Xi,Ht=!0,Zt=Object.create(null),tt(ao,ro)}else Ut[jr]=Xi,_n(Zt[jr]||[],function(io){io()}),Lr()});Rt++;var ji=u(zi[zi.length-1]);zi.length>1?ji(Ut,no):ji(no)}}(Wr,Rr)})}function Lr(){if(0===vn.length&&0===Rt)return tt(null,Ut);for(;vn.length&&Rt<Ve;)vn.shift()()}function Yr(Wr){var Rr=[];return Ee(Ae,function(jr,zi){pt(jr)&&Nn(jr,Wr,0)>=0&&Rr.push(zi)}),Rr}Ee(Ae,function(Wr,Rr){if(!pt(Wr))return ir(Rr,[Wr]),void On.push(Rr);var jr=Wr.slice(0,Wr.length-1),zi=jr.length;if(0===zi)return ir(Rr,Wr),void On.push(Rr);Dn[Rr]=zi,_n(jr,function(no){if(!Ae[no])throw new Error("async.auto task `"+Rr+"` has a non-existent dependency `"+no+"` in "+jr.join(", "));var ji,Xi;(Xi=Zt[ji=no])||(Xi=Zt[ji]=[]),Xi.push(function(){0==--zi&&ir(Rr,Wr)})})}),function(){for(var Rr=0;On.length;)Rr++,_n(Yr(On.pop()),function(jr){0==--Dn[jr]&&On.push(jr)});if(Rr!==ht)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),Lr()};function Mn(Ae,Ve){for(var tt=-1,ht=null==Ae?0:Ae.length,Ut=Array(ht);++tt<ht;)Ut[tt]=Ve(Ae[tt],tt,Ae);return Ut}var zn="[object Symbol]",qn=1/0,Fn=d?d.prototype:void 0,Gn=Fn?Fn.toString:void 0;function Hn(Ae){if("string"==typeof Ae)return Ae;if(pt(Ae))return Mn(Ae,Hn)+"";if("symbol"==typeof(tt=Ae)||ee(tt)&&N(tt)==zn)return Gn?Gn.call(Ae):"";var tt,Ve=Ae+"";return"0"==Ve&&1/Ae==-qn?"-0":Ve}var rt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),nt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",it="\\ud83c[\\udffb-\\udfff]",ye="[^\\ud800-\\udfff]",ct="(?:\\ud83c[\\udde6-\\uddff]){2}",Xr="[\\ud800-\\udbff][\\udc00-\\udfff]",vi="(?:"+nt+"|"+it+")?",Kr="[\\ufe0e\\ufe0f]?"+vi+"(?:\\u200d(?:"+[ye,ct,Xr].join("|")+")[\\ufe0e\\ufe0f]?"+vi+")*",oi="(?:"+[ye+nt+"?",nt,ct,Xr,"[\\ud800-\\udfff]"].join("|")+")",Qr=RegExp(it+"(?="+it+")|"+oi+Kr,"g");function hr(Ae){return function(Ve){return rt.test(Ve)}(Ae)?function(Ve){return Ve.match(Qr)||[]}(Ae):function(Ve){return Ve.split("")}(Ae)}var li=/^\s+|\s+$/g;var zr=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Ei=/,/,ei=/(=.+)?(\s*)$/,ci=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function Gr(Ae,Ve){var tt={};Ee(Ae,function(ht,Ut){var Rt,Ht,Zt=c(ht),vn=!Zt&&1===ht.length||Zt&&0===ht.length;if(pt(ht))Rt=ht.slice(0,-1),ht=ht[ht.length-1],tt[Ut]=Rt.concat(Rt.length>0?On:ht);else if(vn)tt[Ut]=ht;else{if(Rt=Ht=(Ht=(Ht=(Ht=(Ht=ht).toString().replace(ci,"")).match(zr)[2].replace(" ",""))?Ht.split(Ei):[]).map(function(Dn){return function Vr(Ae,Ve,tt){var ht;if((Ae=null==(ht=Ae)?"":Hn(ht))&&(tt||void 0===Ve))return Ae.replace(li,"");if(!Ae||!(Ve=Hn(Ve)))return Ae;var Ut=hr(Ae),Rt=hr(Ve);return function Yn(Ae,Ve,tt){var ht=Ae.length;return tt=void 0===tt?ht:tt,!Ve&&tt>=ht?Ae:function(Ut,Rt,Ht){var Zt=-1,vn=Ut.length;Rt<0&&(Rt=-Rt>vn?0:vn+Rt),(Ht=Ht>vn?vn:Ht)<0&&(Ht+=vn),vn=Rt>Ht?0:Ht-Rt>>>0,Rt>>>=0;for(var On=Array(vn);++Zt<vn;)On[Zt]=Ut[Zt+Rt];return On}(Ae,Ve,tt)}(Ut,function(Ht,Zt){for(var vn=-1,On=Ht.length;++vn<On&&Nn(Zt,Ht[vn],0)>-1;);return vn}(Ut,Rt),function(Ht,Zt){for(var vn=Ht.length;vn--&&Nn(Zt,Ht[vn],0)>-1;);return vn}(Ut,Rt)+1).join("")}(Dn.replace(ei,""))}),0===ht.length&&!Zt&&0===Rt.length)throw new Error("autoInject task functions require explicit parameters.");Zt||Rt.pop(),tt[Ut]=Rt.concat(On)}function On(Dn,ir){var Lr=Mn(Rt,function(Yr){return Dn[Yr]});Lr.push(ir),u(ht).apply(null,Lr)}}),mn(tt,Ve)}function Dr(){this.head=this.tail=null,this.length=0}function Zr(Ae,Ve){Ae.length=1,Ae.head=Ae.tail=Ve}function si(Ae,Ve,tt){if(null==Ve)Ve=1;else if(0===Ve)throw new Error("Concurrency must not be zero");var ht=u(Ae),Ut=0,Rt=[],Ht=!1;function Zt(ir,Lr,Yr){if(null!=Yr&&"function"!=typeof Yr)throw new Error("task callback must be a function");if(Dn.started=!0,pt(ir)||(ir=[ir]),0===ir.length&&Dn.idle())return i(function(){Dn.drain()});for(var Wr=0,Rr=ir.length;Wr<Rr;Wr++){var jr={data:ir[Wr],callback:Yr||y};Lr?Dn._tasks.unshift(jr):Dn._tasks.push(jr)}Ht||(Ht=!0,i(function(){Ht=!1,Dn.process()}))}function vn(ir){return function(Lr){Ut-=1;for(var Yr=0,Wr=ir.length;Yr<Wr;Yr++){var Rr=ir[Yr],jr=Nn(Rt,Rr,0);0===jr?Rt.shift():jr>0&&Rt.splice(jr,1),Rr.callback.apply(Rr,arguments),null!=Lr&&Dn.error(Lr,Rr.data)}Ut<=Dn.concurrency-Dn.buffer&&Dn.unsaturated(),Dn.idle()&&Dn.drain(),Dn.process()}}var On=!1,Dn={_tasks:new Dr,concurrency:Ve,payload:tt,saturated:y,unsaturated:y,buffer:Ve/4,empty:y,drain:y,error:y,started:!1,paused:!1,push:function(ir,Lr){Zt(ir,!1,Lr)},kill:function(){Dn.drain=y,Dn._tasks.empty()},unshift:function(ir,Lr){Zt(ir,!0,Lr)},remove:function(ir){Dn._tasks.remove(ir)},process:function(){if(!On){for(On=!0;!Dn.paused&&Ut<Dn.concurrency&&Dn._tasks.length;){var ir=[],Lr=[],Yr=Dn._tasks.length;Dn.payload&&(Yr=Math.min(Yr,Dn.payload));for(var Wr=0;Wr<Yr;Wr++){var Rr=Dn._tasks.shift();ir.push(Rr),Rt.push(Rr),Lr.push(Rr.data)}Ut+=1,0===Dn._tasks.length&&Dn.empty(),Ut===Dn.concurrency&&Dn.saturated();var jr=An(vn(ir));ht(Lr,jr)}On=!1}},length:function(){return Dn._tasks.length},running:function(){return Ut},workersList:function(){return Rt},idle:function(){return Dn._tasks.length+Ut===0},pause:function(){Dn.paused=!0},resume:function(){!1!==Dn.paused&&(Dn.paused=!1,i(Dn.process))}};return Dn}function yi(Ae,Ve){return si(Ae,1,Ve)}Dr.prototype.removeLink=function(Ae){return Ae.prev?Ae.prev.next=Ae.next:this.head=Ae.next,Ae.next?Ae.next.prev=Ae.prev:this.tail=Ae.prev,Ae.prev=Ae.next=null,this.length-=1,Ae},Dr.prototype.empty=function(){for(;this.head;)this.shift();return this},Dr.prototype.insertAfter=function(Ae,Ve){Ve.prev=Ae,Ve.next=Ae.next,Ae.next?Ae.next.prev=Ve:this.tail=Ve,Ae.next=Ve,this.length+=1},Dr.prototype.insertBefore=function(Ae,Ve){Ve.prev=Ae.prev,Ve.next=Ae,Ae.prev?Ae.prev.next=Ve:this.head=Ve,Ae.prev=Ve,this.length+=1},Dr.prototype.unshift=function(Ae){this.head?this.insertBefore(this.head,Ae):Zr(this,Ae)},Dr.prototype.push=function(Ae){this.tail?this.insertAfter(this.tail,Ae):Zr(this,Ae)},Dr.prototype.shift=function(){return this.head&&this.removeLink(this.head)},Dr.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},Dr.prototype.toArray=function(){for(var Ae=Array(this.length),Ve=this.head,tt=0;tt<this.length;tt++)Ae[tt]=Ve.data,Ve=Ve.next;return Ae},Dr.prototype.remove=function(Ae){for(var Ve=this.head;Ve;){var tt=Ve.next;Ae(Ve)&&this.removeLink(Ve),Ve=tt}return this};var Br=Mt(mr,1);function Jn(Ae,Ve,tt,ht){ht=C(ht||y);var Ut=u(tt);Br(Ae,function(Rt,Ht,Zt){Ut(Ve,Rt,function(vn,On){Ve=On,Zt(vn)})},function(Rt){ht(Rt,Ve)})}function _r(){var Ae=Mn(arguments,u);return function(){var Ve=oe(arguments),tt=this,ht=Ve[Ve.length-1];"function"==typeof ht?Ve.pop():ht=y,Jn(Ae,Ve,function(Ut,Rt,Ht){Rt.apply(tt,Ut.concat(function(Zt){var vn=oe(arguments,1);Ht(Zt,vn)}))},function(Ut,Rt){ht.apply(tt,[Ut].concat(Rt))})}}var Wi=function(){return _r.apply(null,oe(arguments).reverse())},qi=Array.prototype.concat,eo=function(Ae,Ve,tt,ht){ht=ht||y;var Ut=u(tt);Bt(Ae,Ve,function(Rt,Ht){Ut(Rt,function(Zt){return Zt?Ht(Zt):Ht(null,oe(arguments,1))})},function(Rt,Ht){for(var Zt=[],vn=0;vn<Ht.length;vn++)Ht[vn]&&(Zt=qi.apply(Zt,Ht[vn]));return ht(Rt,Zt)})},_i=Mt(eo,1/0),ki=Mt(eo,1),Pi=function(){var Ae=oe(arguments),Ve=[null].concat(Ae);return function(){return arguments[arguments.length-1].apply(this,Ve)}};function hi(Ae){return Ae}function Nr(Ae,Ve){return function(tt,ht,Ut,Rt){Rt=Rt||y;var Ht,Zt=!1;tt(ht,function(vn,On,Dn){Ut(vn,function(ir,Lr){ir?Dn(ir):Ae(Lr)&&!Ht?(Zt=!0,Ht=Ve(!0,vn),Dn(null,z)):Dn()})},function(vn){vn?Rt(vn):Rt(null,Zt?Ht:Ve(!1))})}}function to(Ae,Ve){return Ve}var P=je(Nr(hi,to)),W=tn(Nr(hi,to)),Q=Mt(W,1);function he(Ae){return function(Ve){var tt=oe(arguments,1);tt.push(function(ht){var Ut=oe(arguments,1);"object"==typeof console&&(ht?console.error&&console.error(ht):console[Ae]&&_n(Ut,function(Rt){console[Ae](Rt)}))}),u(Ve).apply(null,tt)}}var me=he("dir");function Te(Ae,Ve,tt){tt=An(tt||y);var ht=u(Ae),Ut=u(Ve);function Rt(Zt){if(Zt)return tt(Zt);var vn=oe(arguments,1);vn.push(Ht),Ut.apply(this,vn)}function Ht(Zt,vn){return Zt?tt(Zt):vn?void ht(Rt):tt(null)}Ht(null,!0)}function Se(Ae,Ve,tt){tt=An(tt||y);var ht=u(Ae),Ut=function(Rt){if(Rt)return tt(Rt);var Ht=oe(arguments,1);if(Ve.apply(this,Ht))return ht(Ut);tt.apply(null,[null].concat(Ht))};ht(Ut)}function Oe(Ae,Ve,tt){Se(Ae,function(){return!Ve.apply(this,arguments)},tt)}function qe(Ae,Ve,tt){tt=An(tt||y);var ht=u(Ve),Ut=u(Ae);function Rt(Zt){if(Zt)return tt(Zt);Ut(Ht)}function Ht(Zt,vn){return Zt?tt(Zt):vn?void ht(Rt):tt(null)}Ut(Ht)}function yt(Ae){return function(Ve,tt,ht){return Ae(Ve,ht)}}function jt(Ae,Ve,tt){Re(Ae,yt(u(Ve)),tt)}function ot(Ae,Ve,tt,ht){Pn(Ve)(Ae,yt(u(tt)),ht)}var lt=Mt(ot,1);function Dt(Ae){return c(Ae)?Ae:ue(function(Ve,tt){var ht=!0;Ve.push(function(){var Ut=arguments;ht?i(function(){tt.apply(null,Ut)}):tt.apply(null,Ut)}),Ae.apply(this,Ve),ht=!1})}function Yt(Ae){return!Ae}var Tt=je(Nr(Yt,Yt)),zt=tn(Nr(Yt,Yt)),Pt=Mt(zt,1);function dn(Ae){return function(Ve){return Ve?.[Ae]}}function rn(Ae,Ve,tt,ht){var Ut=new Array(Ve.length);Ae(Ve,function(Rt,Ht,Zt){tt(Rt,function(vn,On){Ut[Ht]=!!On,Zt(vn)})},function(Rt){if(Rt)return ht(Rt);for(var Ht=[],Zt=0;Zt<Ve.length;Zt++)Ut[Zt]&&Ht.push(Ve[Zt]);ht(null,Ht)})}function un(Ae,Ve,tt,ht){var Ut=[];Ae(Ve,function(Rt,Ht,Zt){tt(Rt,function(vn,On){vn?Zt(vn):(On&&Ut.push({index:Ht,value:Rt}),Zt())})},function(Rt){Rt?ht(Rt):ht(null,Mn(Ut.sort(function(Ht,Zt){return Ht.index-Zt.index}),dn("value")))})}function jn(Ae,Ve,tt,ht){(L(Ve)?rn:un)(Ae,Ve,u(tt),ht||y)}var vr=je(jn),br=tn(jn),tr=Mt(br,1);function nr(Ae,Ve){var tt=An(Ve||y),ht=u(Dt(Ae));!function Ut(Rt){if(Rt)return tt(Rt);ht(Ut)}()}var rr=function(Ae,Ve,tt,ht){ht=ht||y;var Ut=u(tt);Bt(Ae,Ve,function(Rt,Ht){Ut(Rt,function(Zt,vn){return Zt?Ht(Zt):Ht(null,{key:vn,val:Rt})})},function(Rt,Ht){for(var Zt={},vn=Object.prototype.hasOwnProperty,On=0;On<Ht.length;On++)if(Ht[On]){var Dn=Ht[On].key,ir=Ht[On].val;vn.call(Zt,Dn)?Zt[Dn].push(ir):Zt[Dn]=[ir]}return ht(Rt,Zt)})},Jr=Mt(rr,1/0),ze=Mt(rr,1),Et=he("log");function Wt(Ae,Ve,tt,ht){ht=C(ht||y);var Ut={},Rt=u(tt);mr(Ae,Ve,function(Ht,Zt,vn){Rt(Ht,Zt,function(On,Dn){if(On)return vn(On);Ut[Zt]=Dn,vn()})},function(Ht){ht(Ht,Ut)})}var ln=Mt(Wt,1/0),$n=Mt(Wt,1);function Fe(Ae,Ve){return Ve in Ae}function Ce(Ae,Ve){var tt=Object.create(null),ht=Object.create(null);Ve=Ve||hi;var Ut=u(Ae),Rt=ue(function(Ht,Zt){var vn=Ve.apply(null,Ht);Fe(tt,vn)?i(function(){Zt.apply(null,tt[vn])}):Fe(ht,vn)?ht[vn].push(Zt):(ht[vn]=[Zt],Ut.apply(null,Ht.concat(function(){var On=oe(arguments);tt[vn]=On;var Dn=ht[vn];delete ht[vn];for(var ir=0,Lr=Dn.length;ir<Lr;ir++)Dn[ir].apply(null,On)})))});return Rt.memo=tt,Rt.unmemoized=Ae,Rt}var _t=B(ae?V.nextTick:Y?Le:m);function xt(Ae,Ve,tt){tt=tt||y;var ht=L(Ve)?[]:{};Ae(Ve,function(Ut,Rt,Ht){u(Ut)(function(Zt,vn){arguments.length>2&&(vn=oe(arguments,1)),ht[Rt]=vn,Ht(Zt)})},function(Ut){tt(Ut,ht)})}function on(Ae,Ve){xt(Re,Ae,Ve)}function kn(Ae,Ve,tt){xt(Pn(Ve),Ae,tt)}var pn=function(Ae,Ve){var tt=u(Ae);return si(function(ht,Ut){tt(ht[0],Ut)},Ve,1)},Sn=function(Ae,Ve){var tt=pn(Ae,Ve);return tt.push=function(ht,Ut,Rt){if(null==Rt&&(Rt=y),"function"!=typeof Rt)throw new Error("task callback must be a function");if(tt.started=!0,pt(ht)||(ht=[ht]),0===ht.length)return i(function(){tt.drain()});Ut=Ut||0;for(var Ht=tt._tasks.head;Ht&&Ut>=Ht.priority;)Ht=Ht.next;for(var Zt=0,vn=ht.length;Zt<vn;Zt++){var On={data:ht[Zt],priority:Ut,callback:Rt};Ht?tt._tasks.insertBefore(Ht,On):tt._tasks.push(On)}i(tt.process)},delete tt.unshift,tt};function bn(Ae,Ve){if(Ve=C(Ve||y),!pt(Ae))return Ve(new TypeError("First argument to race must be an array of functions"));if(!Ae.length)return Ve();for(var tt=0,ht=Ae.length;tt<ht;tt++)u(Ae[tt])(Ve)}function Ln(Ae,Ve,tt,ht){Jn(oe(Ae).reverse(),Ve,tt,ht)}function Wn(Ae){var Ve=u(Ae);return ue(function(tt,ht){return tt.push(function(Ut,Rt){var Ht;Ut?ht(null,{error:Ut}):(Ht=arguments.length<=2?Rt:oe(arguments,1),ht(null,{value:Ht}))}),Ve.apply(this,tt)})}function dr(Ae){var Ve;return pt(Ae)?Ve=Mn(Ae,Wn):(Ve={},Ee(Ae,function(tt,ht){Ve[ht]=Wn.call(this,tt)})),Ve}function er(Ae,Ve,tt,ht){jn(Ae,Ve,function(Ut,Rt){tt(Ut,function(Ht,Zt){Rt(Ht,!Zt)})},ht)}var xr=je(er),ur=tn(er),Er=Mt(ur,1);function pr(Ae){return function(){return Ae}}function Cr(Ae,Ve,tt){var Rt={times:5,intervalFunc:pr(0)};if(arguments.length<3&&"function"==typeof Ae?(tt=Ve||y,Ve=Ae):(function(vn,On){if("object"==typeof On)vn.times=+On.times||5,vn.intervalFunc="function"==typeof On.interval?On.interval:pr(+On.interval||0),vn.errorFilter=On.errorFilter;else{if("number"!=typeof On&&"string"!=typeof On)throw new Error("Invalid arguments for async.retry");vn.times=+On||5}}(Rt,Ae),tt=tt||y),"function"!=typeof Ve)throw new Error("Invalid arguments for async.retry");var Ht=u(Ve),Zt=1;!function vn(){Ht(function(On){On&&Zt++<Rt.times&&("function"!=typeof Rt.errorFilter||Rt.errorFilter(On))?setTimeout(vn,Rt.intervalFunc(Zt)):tt.apply(null,arguments)})}()}var fr=function(Ae,Ve){Ve||(Ve=Ae,Ae=null);var tt=u(Ve);return ue(function(ht,Ut){function Rt(Ht){tt.apply(null,ht.concat(Ht))}Ae?Cr(Ae,Rt,Ut):Cr(Rt,Ut)})};function qr(Ae,Ve){xt(Br,Ae,Ve)}var fi=je(Nr(Boolean,hi)),ti=tn(Nr(Boolean,hi)),ni=Mt(ti,1);function Hr(Ae,Ve,tt){var ht=u(Ve);function Ut(Rt,Ht){var Zt=Rt.criteria,vn=Ht.criteria;return Zt<vn?-1:Zt>vn?1:0}Xe(Ae,function(Rt,Ht){ht(Rt,function(Zt,vn){if(Zt)return Ht(Zt);Ht(null,{value:Rt,criteria:vn})})},function(Rt,Ht){if(Rt)return tt(Rt);tt(null,Mn(Ht.sort(Ut),dn("value")))})}function Yi(Ae,Ve,tt){var ht=u(Ae);return ue(function(Ut,Rt){var Ht,Zt=!1;Ut.push(function(){Zt||(Rt.apply(null,arguments),clearTimeout(Ht))}),Ht=setTimeout(function(){var On=new Error('Callback function "'+(Ae.name||"anonymous")+'" timed out.');On.code="ETIMEDOUT",tt&&(On.info=tt),Zt=!0,Rt(On)},Ve),ht.apply(null,Ut)})}var $i=Math.ceil,Ri=Math.max;function ri(Ae,Ve,tt,ht){var Ut=u(tt);Bt(function(Rt,Ht,Zt,vn){for(var On=-1,Dn=Ri($i((Ht-Rt)/1),0),ir=Array(Dn);Dn--;)ir[++On]=Rt,Rt+=1;return ir}(0,Ae),Ve,Ut,ht)}var Ki=Mt(ri,1/0),Ni=Mt(ri,1);function Oi(Ae,Ve,tt,ht){arguments.length<=3&&(ht=tt,tt=Ve,Ve=pt(Ae)?[]:{}),ht=C(ht||y);var Ut=u(tt);Re(Ae,function(Rt,Ht,Zt){Ut(Ve,Rt,Ht,Zt)},function(Rt){ht(Rt,Ve)})}function bi(Ae,Ve){var tt,ht=null;Ve=Ve||y,lt(Ae,function(Ut,Rt){u(Ut)(function(Ht,Zt){tt=arguments.length>2?oe(arguments,1):Zt,ht=Ht,Rt(!Ht)})},function(){Ve(ht,tt)})}function Si(Ae){return function(){return(Ae.unmemoized||Ae).apply(null,arguments)}}function ai(Ae,Ve,tt){tt=An(tt||y);var ht=u(Ve);if(!Ae())return tt(null);var Ut=function(Rt){if(Rt)return tt(Rt);if(Ae())return ht(Ut);var Ht=oe(arguments,1);tt.apply(null,[null].concat(Ht))};ht(Ut)}function Mi(Ae,Ve,tt){ai(function(){return!Ae.apply(this,arguments)},Ve,tt)}var Vi=function(Ae,Ve){if(Ve=C(Ve||y),!pt(Ae))return Ve(new Error("First argument to waterfall must be an array of functions"));if(!Ae.length)return Ve();var tt=0;function ht(Rt){var Ht=u(Ae[tt++]);Rt.push(An(Ut)),Ht.apply(null,Rt)}function Ut(Rt){if(Rt||tt===Ae.length)return Ve.apply(null,arguments);ht(oe(arguments,1))}ht([])};_.default={apply:G,applyEach:st,applyEachSeries:nn,asyncify:g,auto:mn,autoInject:Gr,cargo:yi,compose:Wi,concat:_i,concatLimit:eo,concatSeries:ki,constant:Pi,detect:P,detectLimit:W,detectSeries:Q,dir:me,doDuring:Te,doUntil:Oe,doWhilst:Se,during:qe,each:jt,eachLimit:ot,eachOf:Re,eachOfLimit:mr,eachOfSeries:Br,eachSeries:lt,ensureAsync:Dt,every:Tt,everyLimit:zt,everySeries:Pt,filter:vr,filterLimit:br,filterSeries:tr,forever:nr,groupBy:Jr,groupByLimit:rr,groupBySeries:ze,log:Et,map:Xe,mapLimit:Bt,mapSeries:qt,mapValues:ln,mapValuesLimit:Wt,mapValuesSeries:$n,memoize:Ce,nextTick:_t,parallel:on,parallelLimit:kn,priorityQueue:Sn,queue:pn,race:bn,reduce:Jn,reduceRight:Ln,reflect:Wn,reflectAll:dr,reject:xr,rejectLimit:ur,rejectSeries:Er,retry:Cr,retryable:fr,seq:_r,series:qr,setImmediate:i,some:fi,someLimit:ti,someSeries:ni,sortBy:Hr,timeout:Yi,times:Ki,timesLimit:ri,timesSeries:Ni,transform:Oi,tryEach:bi,unmemoize:Si,until:Mi,waterfall:Vi,whilst:ai,all:Tt,allLimit:zt,allSeries:Pt,any:fi,anyLimit:ti,anySeries:ni,find:P,findLimit:W,findSeries:Q,forEach:jt,forEachSeries:lt,forEachLimit:ot,forEachOf:Re,forEachOfSeries:Br,forEachOfLimit:mr,inject:Jn,foldl:Jn,foldr:Ln,select:vr,selectLimit:br,selectSeries:tr,wrapSync:g},_.apply=G,_.applyEach=st,_.applyEachSeries=nn,_.asyncify=g,_.auto=mn,_.autoInject=Gr,_.cargo=yi,_.compose=Wi,_.concat=_i,_.concatLimit=eo,_.concatSeries=ki,_.constant=Pi,_.detect=P,_.detectLimit=W,_.detectSeries=Q,_.dir=me,_.doDuring=Te,_.doUntil=Oe,_.doWhilst=Se,_.during=qe,_.each=jt,_.eachLimit=ot,_.eachOf=Re,_.eachOfLimit=mr,_.eachOfSeries=Br,_.eachSeries=lt,_.ensureAsync=Dt,_.every=Tt,_.everyLimit=zt,_.everySeries=Pt,_.filter=vr,_.filterLimit=br,_.filterSeries=tr,_.forever=nr,_.groupBy=Jr,_.groupByLimit=rr,_.groupBySeries=ze,_.log=Et,_.map=Xe,_.mapLimit=Bt,_.mapSeries=qt,_.mapValues=ln,_.mapValuesLimit=Wt,_.mapValuesSeries=$n,_.memoize=Ce,_.nextTick=_t,_.parallel=on,_.parallelLimit=kn,_.priorityQueue=Sn,_.queue=pn,_.race=bn,_.reduce=Jn,_.reduceRight=Ln,_.reflect=Wn,_.reflectAll=dr,_.reject=xr,_.rejectLimit=ur,_.rejectSeries=Er,_.retry=Cr,_.retryable=fr,_.seq=_r,_.series=qr,_.setImmediate=i,_.some=fi,_.someLimit=ti,_.someSeries=ni,_.sortBy=Hr,_.timeout=Yi,_.times=Ki,_.timesLimit=ri,_.timesSeries=Ni,_.transform=Oi,_.tryEach=bi,_.unmemoize=Si,_.until=Mi,_.waterfall=Vi,_.whilst=ai,_.all=Tt,_.allLimit=zt,_.allSeries=Pt,_.any=fi,_.anyLimit=ti,_.anySeries=ni,_.find=P,_.findLimit=W,_.findSeries=Q,_.forEach=jt,_.forEachSeries=lt,_.forEachLimit=ot,_.forEachOf=Re,_.forEachOfSeries=Br,_.forEachOfLimit=mr,_.inject=Jn,_.foldl=Jn,_.foldr=Ln,_.select=vr,_.selectLimit=br,_.selectSeries=tr,_.wrapSync=g,Object.defineProperty(_,"__esModule",{value:!0})},oe("object"==typeof kt&&typeof wt<"u"?kt:this.async=this.async||{})}).call(this,At("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},At("timers").setImmediate)},{_process:26,timers:27}],2:[function(At,wt,kt){!function(){"use strict";var V=function(Y){null==Y&&(Y=1024);var ae=function(x,n,c){for(var u=n;u<c;u++)x[u]=1-u;if(0<f.array[f.array.length-1]){for(var s=f.array.length-2;0<f.array[s];)s--;x[n]=-s}},m=function(x,n,c){for(var u=n;u<c;u++)x[u]=-u-1},B=function(x){var n=2*x,c=_(g.signed,g.bytes,n);ae(c,g.array.length,n),c.set(g.array),g.array=null,g.array=c;var u=_(f.signed,f.bytes,n);m(u,f.array.length,n),u.set(f.array),f.array=null,f.array=u},i=1,g={signed:!0,bytes:4,array:_(!0,4,Y)},f={signed:!0,bytes:4,array:_(!0,4,Y)};return g.array[0]=1,f.array[0]=0,ae(g.array,1,g.array.length),m(f.array,1,f.array.length),{getBaseBuffer:function(){return g.array},getCheckBuffer:function(){return f.array},loadBaseBuffer:function(x){return g.array=x,this},loadCheckBuffer:function(x){return f.array=x,this},size:function(){return Math.max(g.array.length,f.array.length)},getBase:function(x){return g.array.length-1<x?1-x:g.array[x]},getCheck:function(x){return f.array.length-1<x?-x-1:f.array[x]},setBase:function(x,n){g.array.length-1<x&&B(x),g.array[x]=n},setCheck:function(x,n){f.array.length-1<x&&B(x),f.array[x]=n},setFirstUnusedNode:function(x){i=x},getFirstUnusedNode:function(){return i},shrink:function(){for(var x=this.size()-1;!(0<=f.array[x]);)x--;g.array=g.array.subarray(0,x+2),f.array=f.array.subarray(0,x+2)},calc:function(){for(var x=0,n=f.array.length,c=0;c<n;c++)f.array[c]<0&&x++;return{all:n,unused:x,efficiency:(n-x)/n}},dump:function(){var x,n="",c="";for(x=0;x<g.array.length;x++)n=n+" "+this.getBase(x);for(x=0;x<f.array.length;x++)c=c+" "+this.getCheck(x);return console.log("base:"+n),console.log("chck:"+c),"base:"+n+" chck:"+c}}};function De(Y){this.bc=V(Y),this.keys=[]}function Le(Y){this.bc=Y,this.bc.shrink()}De.prototype.append=function(Y,ae){return this.keys.push({k:Y,v:ae}),this},De.prototype.build=function(Y,ae){if(null==Y&&(Y=this.keys),null==Y)return new Le(this.bc);null==ae&&(ae=!1);var m=Y.map(function(B){return{k:G(B.k+"\0"),v:B.v}});return this.keys=ae?m:m.sort(function(B,i){for(var g=B.k,f=i.k,x=Math.min(g.length,f.length),n=0;n<x;n++)if(g[n]!==f[n])return g[n]-f[n];return g.length-f.length}),m=null,this._build(0,0,0,this.keys.length),new Le(this.bc)},De.prototype._build=function(Y,ae,m,B){var i=this.getChildrenInfo(ae,m,B),g=this.findAllocatableBase(i);this.setBC(Y,i,g);for(var f=0;f<i.length;f+=3){var x=i[f];0!==x&&this._build(g+x,ae+1,i[f+1],i[f+2])}},De.prototype.getChildrenInfo=function(Y,ae,m){var B=this.keys[ae].k[Y],i=0,g=new Int32Array(3*m);g[i++]=B,g[i++]=ae;for(var f=ae,x=ae;f<ae+m;f++){var n=this.keys[f].k[Y];B!==n&&(g[i++]=f-x,g[i++]=n,g[i++]=f,B=n,x=f)}return g[i++]=f-x,g.subarray(0,i)},De.prototype.setBC=function(Y,ae,m){var B,i=this.bc;for(i.setBase(Y,m),B=0;B<ae.length;B+=3){var g=ae[B],f=m+g,x=-i.getBase(f),n=-i.getCheck(f);if(f!==i.getFirstUnusedNode()?i.setCheck(x,-n):i.setFirstUnusedNode(n),i.setBase(n,-x),i.setCheck(f,Y),0===g){var s=this.keys[ae[B+1]].v;null==s&&(s=0),i.setBase(f,-s-1)}}},De.prototype.findAllocatableBase=function(Y){for(var ae,m=this.bc,B=m.getFirstUnusedNode();;)if((ae=B-Y[0])<0)B=-m.getCheck(B);else{for(var i=!0,g=0;g<Y.length;g+=3)if(!this.isUnusedNode(ae+Y[g])){B=-m.getCheck(B),i=!1;break}if(i)return ae}},De.prototype.isUnusedNode=function(Y){var ae=this.bc.getCheck(Y);return 0!==Y&&ae<0},Le.prototype.contain=function(Y){for(var ae=this.bc,m=G(Y+="\0"),B=0,i=-1,g=0;g<m.length;g++){if(-1===(i=this.traverse(B,m[g])))return!1;if(ae.getBase(i)<=0)return!0;B=i}return!1},Le.prototype.lookup=function(Y){for(var ae=G(Y+="\0"),m=0,B=-1,i=0;i<ae.length;i++){if(-1===(B=this.traverse(m,ae[i])))return-1;m=B}var f=this.bc.getBase(B);return f<=0?-f-1:-1},Le.prototype.commonPrefixSearch=function(Y){for(var ae=G(Y),m=0,B=-1,i=[],g=0;g<ae.length&&-1!==(B=this.traverse(m,ae[g]));g++){m=B;var x=this.traverse(B,0);if(-1!==x){var n=this.bc.getBase(x),c={};n<=0&&(c.v=-n-1),c.k=ue(oe(ae,0,g+1)),i.push(c)}}return i},Le.prototype.traverse=function(Y,ae){var m=this.bc.getBase(Y)+ae;return this.bc.getCheck(m)===Y?m:-1},Le.prototype.size=function(){return this.bc.size()},Le.prototype.calc=function(){return this.bc.calc()},Le.prototype.dump=function(){return this.bc.dump()};var _=function(Y,ae,m){if(Y)switch(ae){case 1:return new Int8Array(m);case 2:return new Int16Array(m);case 4:return new Int32Array(m);default:throw new RangeError("Invalid newArray parameter element_bytes:"+ae)}else switch(ae){case 1:return new Uint8Array(m);case 2:return new Uint16Array(m);case 4:return new Uint32Array(m);default:throw new RangeError("Invalid newArray parameter element_bytes:"+ae)}},oe=function(Y,ae,m){var B=new ArrayBuffer(m),i=new Uint8Array(B,0,m),g=Y.subarray(ae,m);return i.set(g),i},G=function(Y){for(var ae=new Uint8Array(new ArrayBuffer(4*Y.length)),m=0,B=0;m<Y.length;){var i,g=Y.charCodeAt(m++);if(g>=55296&&g<=56319){var f=g,x=Y.charCodeAt(m++);if(!(x>=56320&&x<=57343))return null;i=1024*(f-55296)+65536+(x-56320)}else i=g;i<128?ae[B++]=i:i<2048?(ae[B++]=i>>>6|192,ae[B++]=63&i|128):i<65536?(ae[B++]=i>>>12|224,ae[B++]=i>>6&63|128,ae[B++]=63&i|128):i<1<<21&&(ae[B++]=i>>>18|240,ae[B++]=i>>12&63|128,ae[B++]=i>>6&63|128,ae[B++]=63&i|128)}return ae.subarray(0,B)},ue=function(Y){for(var ae,m,B,g="",f=0;f<Y.length;)(ae=(m=Y[f++])<128?m:m>>5==6?(31&m)<<6|63&Y[f++]:m>>4==14?(15&m)<<12|(63&Y[f++])<<6|63&Y[f++]:(7&m)<<18|(63&Y[f++])<<12|(63&Y[f++])<<6|63&Y[f++])<65536?g+=String.fromCharCode(ae):(B=55296|(ae-=65536)>>10,g+=String.fromCharCode(B,56320|1023&ae));return g},ve={builder:function(Y){return new De(Y)},load:function(Y,ae){var m=V(0);return m.loadBaseBuffer(Y),m.loadCheckBuffer(ae),new Le(m)}};typeof wt>"u"?window.doublearray=ve:wt.exports=ve}()},{}],3:[function(At,wt,kt){"use strict";var V=At("./viterbi/ViterbiBuilder"),De=At("./viterbi/ViterbiSearcher"),Le=At("./util/IpadicFormatter"),_=/\u3001|\u3002/;function oe(G){this.token_info_dictionary=G.token_info_dictionary,this.unknown_dictionary=G.unknown_dictionary,this.viterbi_builder=new V(G),this.viterbi_searcher=new De(G.connection_costs),this.formatter=new Le}oe.splitByPunctuation=function(G){for(var ue=[],ve=G;""!==ve;){var Y=ve.search(_);if(Y<0){ue.push(ve);break}ue.push(ve.substring(0,Y+1)),ve=ve.substring(Y+1)}return ue},oe.prototype.tokenize=function(G){for(var ue=oe.splitByPunctuation(G),ve=[],Y=0;Y<ue.length;Y++)this.tokenizeForSentence(ue[Y],ve);return ve},oe.prototype.tokenizeForSentence=function(G,ue){null==ue&&(ue=[]);var ve=this.getLattice(G),Y=this.viterbi_searcher.search(ve),ae=0;ue.length>0&&(ae=ue[ue.length-1].word_position);for(var m=0;m<Y.length;m++){var B,i,g,f=Y[m];"KNOWN"===f.type?(i=null==(g=this.token_info_dictionary.getFeatures(f.name))?[]:g.split(","),B=this.formatter.formatEntry(f.name,ae+f.start_pos,f.type,i)):"UNKNOWN"===f.type?(i=null==(g=this.unknown_dictionary.getFeatures(f.name))?[]:g.split(","),B=this.formatter.formatUnknownEntry(f.name,ae+f.start_pos,f.type,i,f.surface_form)):B=this.formatter.formatEntry(f.name,ae+f.start_pos,f.type,[]),ue.push(B)}return ue},oe.prototype.getLattice=function(G){return this.viterbi_builder.build(G)},wt.exports=oe},{"./util/IpadicFormatter":19,"./viterbi/ViterbiBuilder":21,"./viterbi/ViterbiSearcher":24}],4:[function(At,wt,kt){"use strict";var V=At("./Tokenizer"),De=At("./loader/NodeDictionaryLoader");function Le(_){this.dic_path=null==_.dicPath?"dict/":_.dicPath}Le.prototype.build=function(_){new De(this.dic_path).load(function(oe,G){_(oe,new V(G))})},wt.exports=Le},{"./Tokenizer":3,"./loader/NodeDictionaryLoader":16}],5:[function(At,wt,kt){"use strict";wt.exports=function V(De,Le,_,oe,G){this.class_id=De,this.class_name=Le,this.is_always_invoke=_,this.is_grouping=oe,this.max_length=G}},{}],6:[function(At,wt,kt){"use strict";var V=At("./InvokeDefinitionMap"),De=At("./CharacterClass"),Le=At("../util/SurrogateAwareString"),_="DEFAULT";function oe(){this.character_category_map=new Uint8Array(65536),this.compatible_category_map=new Uint32Array(65536),this.invoke_definition_map=null}oe.load=function(G,ue,ve){var Y=new oe;return Y.character_category_map=G,Y.compatible_category_map=ue,Y.invoke_definition_map=V.load(ve),Y},oe.parseCharCategory=function(G,ue){var ve=ue[1],Y=parseInt(ue[2]),ae=parseInt(ue[3]),m=parseInt(ue[4]);return!isFinite(Y)||0!==Y&&1!==Y?(console.log("char.def parse error. INVOKE is 0 or 1 in:"+Y),null):!isFinite(ae)||0!==ae&&1!==ae?(console.log("char.def parse error. GROUP is 0 or 1 in:"+ae),null):!isFinite(m)||m<0?(console.log("char.def parse error. LENGTH is 1 to n:"+m),null):new De(G,ve,1===Y,1===ae,m)},oe.parseCategoryMapping=function(G){var ue=parseInt(G[1]),ve=G[2],Y=3<G.length?G.slice(3):[];return(!isFinite(ue)||ue<0||ue>65535)&&console.log("char.def parse error. CODE is invalid:"+ue),{start:ue,default:ve,compatible:Y}},oe.parseRangeCategoryMapping=function(G){var ue=parseInt(G[1]),ve=parseInt(G[2]),Y=G[3],ae=4<G.length?G.slice(4):[];return(!isFinite(ue)||ue<0||ue>65535)&&console.log("char.def parse error. CODE is invalid:"+ue),(!isFinite(ve)||ve<0||ve>65535)&&console.log("char.def parse error. CODE is invalid:"+ve),{start:ue,end:ve,default:Y,compatible:ae}},oe.prototype.initCategoryMappings=function(G){var ue;if(null!=G)for(var ve=0;ve<G.length;ve++){var Y=G[ve],ae=Y.end||Y.start;for(ue=Y.start;ue<=ae;ue++){this.character_category_map[ue]=this.invoke_definition_map.lookup(Y.default);for(var m=0;m<Y.compatible.length;m++){var B=this.compatible_category_map[ue],i=Y.compatible[m];if(null!=i){var g=this.invoke_definition_map.lookup(i);null!=g&&(this.compatible_category_map[ue]=B|=1<<g)}}}}var f=this.invoke_definition_map.lookup(_);if(null!=f)for(ue=0;ue<this.character_category_map.length;ue++)0===this.character_category_map[ue]&&(this.character_category_map[ue]=1<<f)},oe.prototype.lookupCompatibleCategory=function(G){var ue,ve=[],Y=G.charCodeAt(0);if(Y<this.compatible_category_map.length&&(ue=this.compatible_category_map[Y]),null==ue||0===ue)return ve;for(var ae=0;ae<32;ae++)if(ue<<31-ae>>>31==1){var m=this.invoke_definition_map.getCharacterClass(ae);if(null==m)continue;ve.push(m)}return ve},oe.prototype.lookup=function(G){var ue,ve=G.charCodeAt(0);return Le.isSurrogatePair(G)?ue=this.invoke_definition_map.lookup(_):ve<this.character_category_map.length&&(ue=this.character_category_map[ve]),null==ue&&(ue=this.invoke_definition_map.lookup(_)),this.invoke_definition_map.getCharacterClass(ue)},wt.exports=oe},{"../util/SurrogateAwareString":20,"./CharacterClass":5,"./InvokeDefinitionMap":9}],7:[function(At,wt,kt){"use strict";function V(De,Le){this.forward_dimension=De,this.backward_dimension=Le,this.buffer=new Int16Array(De*Le+2),this.buffer[0]=De,this.buffer[1]=Le}V.prototype.put=function(De,Le,_){var oe=De*this.backward_dimension+Le+2;if(this.buffer.length<oe+1)throw"ConnectionCosts buffer overflow";this.buffer[oe]=_},V.prototype.get=function(De,Le){var _=De*this.backward_dimension+Le+2;if(this.buffer.length<_+1)throw"ConnectionCosts buffer overflow";return this.buffer[_]},V.prototype.loadConnectionCosts=function(De){this.forward_dimension=De[0],this.backward_dimension=De[1],this.buffer=De},wt.exports=V},{}],8:[function(At,wt,kt){"use strict";var V=At("doublearray"),De=At("./TokenInfoDictionary"),Le=At("./ConnectionCosts"),_=At("./UnknownDictionary");function oe(G,ue,ve,Y){this.trie=G??V.builder(0).build([{k:"",v:1}]),this.token_info_dictionary=ue??new De,this.connection_costs=ve??new Le(0,0),this.unknown_dictionary=Y??new _}oe.prototype.loadTrie=function(G,ue){return this.trie=V.load(G,ue),this},oe.prototype.loadTokenInfoDictionaries=function(G,ue,ve){return this.token_info_dictionary.loadDictionary(G),this.token_info_dictionary.loadPosVector(ue),this.token_info_dictionary.loadTargetMap(ve),this},oe.prototype.loadConnectionCosts=function(G){return this.connection_costs.loadConnectionCosts(G),this},oe.prototype.loadUnknownDictionaries=function(G,ue,ve,Y,ae,m){return this.unknown_dictionary.loadUnknownDictionaries(G,ue,ve,Y,ae,m),this},wt.exports=oe},{"./ConnectionCosts":7,"./TokenInfoDictionary":10,"./UnknownDictionary":11,doublearray:2}],9:[function(At,wt,kt){"use strict";var V=At("../util/ByteBuffer"),De=At("./CharacterClass");function Le(){this.map=[],this.lookup_table={}}Le.load=function(_){for(var oe=new Le,G=[],ue=new V(_);ue.position+1<ue.size();){var ve=G.length,Y=ue.get(),ae=ue.get(),m=ue.getInt(),B=ue.getString();G.push(new De(ve,B,Y,ae,m))}return oe.init(G),oe},Le.prototype.init=function(_){if(null!=_)for(var oe=0;oe<_.length;oe++){var G=_[oe];this.map[oe]=G,this.lookup_table[G.class_name]=oe}},Le.prototype.getCharacterClass=function(_){return this.map[_]},Le.prototype.lookup=function(_){return this.lookup_table[_]??null},Le.prototype.toBuffer=function(){for(var _=new V,oe=0;oe<this.map.length;oe++){var G=this.map[oe];_.put(G.is_always_invoke),_.put(G.is_grouping),_.putInt(G.max_length),_.putString(G.class_name)}return _.shrink(),_.buffer},wt.exports=Le},{"../util/ByteBuffer":18,"./CharacterClass":5}],10:[function(At,wt,kt){"use strict";var V=At("../util/ByteBuffer");function De(){this.dictionary=new V(10485760),this.target_map={},this.pos_buffer=new V(10485760)}De.prototype.buildDictionary=function(Le){for(var _={},oe=0;oe<Le.length;oe++){var G=Le[oe];if(!(G.length<4)){var ue=G[0],ve=G[1],Y=G[2],ae=G[3],m=G.slice(4).join(",");isFinite(ve)&&isFinite(Y)&&isFinite(ae)||console.log(G),_[this.put(ve,Y,ae,ue,m)]=ue}}return this.dictionary.shrink(),this.pos_buffer.shrink(),_},De.prototype.put=function(Le,_,oe,G,ue){var ve=this.dictionary.position,Y=this.pos_buffer.position;return this.dictionary.putShort(Le),this.dictionary.putShort(_),this.dictionary.putShort(oe),this.dictionary.putInt(Y),this.pos_buffer.putString(G+","+ue),ve},De.prototype.addMapping=function(Le,_){var oe=this.target_map[Le];null==oe&&(oe=[]),oe.push(_),this.target_map[Le]=oe},De.prototype.targetMapToBuffer=function(){var Le=new V,_=Object.keys(this.target_map).length;for(var oe in Le.putInt(_),this.target_map){var G=this.target_map[oe],ue=G.length;Le.putInt(parseInt(oe)),Le.putInt(ue);for(var ve=0;ve<G.length;ve++)Le.putInt(G[ve])}return Le.shrink()},De.prototype.loadDictionary=function(Le){return this.dictionary=new V(Le),this},De.prototype.loadPosVector=function(Le){return this.pos_buffer=new V(Le),this},De.prototype.loadTargetMap=function(Le){var _=new V(Le);for(_.position=0,this.target_map={},_.readInt();!(_.buffer.length<_.position+1);)for(var oe=_.readInt(),G=_.readInt(),ue=0;ue<G;ue++){var ve=_.readInt();this.addMapping(oe,ve)}return this},De.prototype.getFeatures=function(Le){var _=parseInt(Le);if(isNaN(_))return"";var oe=this.dictionary.getInt(_+6);return this.pos_buffer.getString(oe)},wt.exports=De},{"../util/ByteBuffer":18}],11:[function(At,wt,kt){"use strict";var V=At("./TokenInfoDictionary"),De=At("./CharacterDefinition"),Le=At("../util/ByteBuffer");function _(){this.dictionary=new Le(10485760),this.target_map={},this.pos_buffer=new Le(10485760),this.character_definition=null}(_.prototype=Object.create(V.prototype)).characterDefinition=function(oe){return this.character_definition=oe,this},_.prototype.lookup=function(oe){return this.character_definition.lookup(oe)},_.prototype.lookupCompatibleCategory=function(oe){return this.character_definition.lookupCompatibleCategory(oe)},_.prototype.loadUnknownDictionaries=function(oe,G,ue,ve,Y,ae){this.loadDictionary(oe),this.loadPosVector(G),this.loadTargetMap(ue),this.character_definition=De.load(ve,Y,ae)},wt.exports=_},{"../util/ByteBuffer":18,"./CharacterDefinition":6,"./TokenInfoDictionary":10}],12:[function(At,wt,kt){"use strict";var V=At("../CharacterDefinition"),De=At("../InvokeDefinitionMap"),Le=/^(\w+)\s+(\d)\s+(\d)\s+(\d)/,_=/^(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/,oe=/^(0x[0-9A-F]{4})\.\.(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/;function G(){this.char_def=new V,this.char_def.invoke_definition_map=new De,this.character_category_definition=[],this.category_mapping=[]}G.prototype.putLine=function(ue){var ve=Le.exec(ue);if(null==ve){var Y=_.exec(ue);if(null!=Y){var ae=V.parseCategoryMapping(Y);this.category_mapping.push(ae)}var m=oe.exec(ue);if(null!=m){var B=V.parseRangeCategoryMapping(m);this.category_mapping.push(B)}}else{var g=V.parseCharCategory(this.character_category_definition.length,ve);if(null==g)return;this.character_category_definition.push(g)}},G.prototype.build=function(){return this.char_def.invoke_definition_map.init(this.character_category_definition),this.char_def.initCategoryMappings(this.category_mapping),this.char_def},wt.exports=G},{"../CharacterDefinition":6,"../InvokeDefinitionMap":9}],13:[function(At,wt,kt){"use strict";var V=At("../ConnectionCosts");function De(){this.lines=0,this.connection_cost=null}De.prototype.putLine=function(Le){if(0===this.lines){var _=Le.split(" "),oe=_[0],G=_[1];if(oe<0||G<0)throw"Parse error of matrix.def";return this.connection_cost=new V(oe,G),this.lines++,this}var ue=Le.split(" ");if(3!==ue.length)return this;var ve=parseInt(ue[0]),Y=parseInt(ue[1]),ae=parseInt(ue[2]);if(ve<0||Y<0||!isFinite(ve)||!isFinite(Y)||this.connection_cost.forward_dimension<=ve||this.connection_cost.backward_dimension<=Y)throw"Parse error of matrix.def";return this.connection_cost.put(ve,Y,ae),this.lines++,this},De.prototype.build=function(){return this.connection_cost},wt.exports=De},{"../ConnectionCosts":7}],14:[function(At,wt,kt){"use strict";var V=At("doublearray"),De=At("../DynamicDictionaries"),Le=At("../TokenInfoDictionary"),_=At("./ConnectionCostsBuilder"),oe=At("./CharacterDefinitionBuilder"),G=At("../UnknownDictionary");function ue(){this.tid_entries=[],this.unk_entries=[],this.cc_builder=new _,this.cd_builder=new oe}ue.prototype.addTokenInfoDictionary=function(ve){var Y=ve.split(",");return this.tid_entries.push(Y),this},ue.prototype.putCostMatrixLine=function(ve){return this.cc_builder.putLine(ve),this},ue.prototype.putCharDefLine=function(ve){return this.cd_builder.putLine(ve),this},ue.prototype.putUnkDefLine=function(ve){return this.unk_entries.push(ve.split(",")),this},ue.prototype.build=function(){var ve=this.buildTokenInfoDictionary(),Y=this.buildUnknownDictionary();return new De(ve.trie,ve.token_info_dictionary,this.cc_builder.build(),Y)},ue.prototype.buildTokenInfoDictionary=function(){var ve=new Le,Y=ve.buildDictionary(this.tid_entries),ae=this.buildDoubleArray();for(var m in Y){var i=ae.lookup(Y[m]);ve.addMapping(i,m)}return{trie:ae,token_info_dictionary:ve}},ue.prototype.buildUnknownDictionary=function(){var ve=new G,Y=ve.buildDictionary(this.unk_entries),ae=this.cd_builder.build();for(var m in ve.characterDefinition(ae),Y){var i=ae.invoke_definition_map.lookup(Y[m]);ve.addMapping(i,m)}return ve},ue.prototype.buildDoubleArray=function(){var ve=0,Y=this.tid_entries.map(function(ae){return{k:ae[0],v:ve++}});return V.builder(1048576).build(Y)},wt.exports=ue},{"../DynamicDictionaries":8,"../TokenInfoDictionary":10,"../UnknownDictionary":11,"./CharacterDefinitionBuilder":12,"./ConnectionCostsBuilder":13,doublearray:2}],15:[function(At,wt,kt){"use strict";var V=At("./TokenizerBuilder"),De=At("./dict/builder/DictionaryBuilder");wt.exports={builder:function(_){return new V(_)},dictionaryBuilder:function(){return new De}}},{"./TokenizerBuilder":4,"./dict/builder/DictionaryBuilder":14}],16:[function(At,wt,kt){"use strict";var V=At("zlibjs/bin/gunzip.min.js"),De=At("./DictionaryLoader");function Le(_){De.apply(this,[_])}(Le.prototype=Object.create(De.prototype)).loadArrayBuffer=function(_,oe){var G=new XMLHttpRequest;G.open("GET",_,!0),G.responseType="arraybuffer",G.onload=function(){if(this.status>0&&200!==this.status)oe(G.statusText,null);else{var ve=new V.Zlib.Gunzip(new Uint8Array(this.response)).decompress();oe(null,ve.buffer)}},G.onerror=function(ue){oe(ue,null)},G.send()},wt.exports=Le},{"./DictionaryLoader":17,"zlibjs/bin/gunzip.min.js":28}],17:[function(At,wt,kt){"use strict";var V=At("path"),De=At("async"),Le=At("../dict/DynamicDictionaries");function _(oe){this.dic=new Le,this.dic_path=oe}_.prototype.loadArrayBuffer=function(oe,G){throw new Error("DictionaryLoader#loadArrayBuffer should be overwrite")},_.prototype.load=function(oe){var G=this.dic,ue=this.dic_path,ve=this.loadArrayBuffer;De.parallel([function(Y){De.map(["base.dat.gz","check.dat.gz"],function(ae,m){ve(V.join(ue,ae),function(B,i){if(B)return m(B);m(null,i)})},function(ae,m){if(ae)return Y(ae);var B=new Int32Array(m[0]),i=new Int32Array(m[1]);G.loadTrie(B,i),Y(null)})},function(Y){De.map(["tid.dat.gz","tid_pos.dat.gz","tid_map.dat.gz"],function(ae,m){ve(V.join(ue,ae),function(B,i){if(B)return m(B);m(null,i)})},function(ae,m){if(ae)return Y(ae);var B=new Uint8Array(m[0]),i=new Uint8Array(m[1]),g=new Uint8Array(m[2]);G.loadTokenInfoDictionaries(B,i,g),Y(null)})},function(Y){ve(V.join(ue,"cc.dat.gz"),function(ae,m){if(ae)return Y(ae);var B=new Int16Array(m);G.loadConnectionCosts(B),Y(null)})},function(Y){De.map(["unk.dat.gz","unk_pos.dat.gz","unk_map.dat.gz","unk_char.dat.gz","unk_compat.dat.gz","unk_invoke.dat.gz"],function(ae,m){ve(V.join(ue,ae),function(B,i){if(B)return m(B);m(null,i)})},function(ae,m){if(ae)return Y(ae);var B=new Uint8Array(m[0]),i=new Uint8Array(m[1]),g=new Uint8Array(m[2]),f=new Uint8Array(m[3]),x=new Uint32Array(m[4]),n=new Uint8Array(m[5]);G.loadUnknownDictionaries(B,i,g,f,x,n),Y(null)})}],function(Y){oe(Y,G)})},wt.exports=_},{"../dict/DynamicDictionaries":8,async:1,path:25}],18:[function(At,wt,kt){"use strict";function Le(_){var oe;if(null==_)oe=1048576;else{if("number"!=typeof _){if(_ instanceof Uint8Array)return this.buffer=_,void(this.position=0);throw typeof _+" is invalid parameter type for ByteBuffer constructor"}oe=_}this.buffer=new Uint8Array(oe),this.position=0}Le.prototype.size=function(){return this.buffer.length},Le.prototype.reallocate=function(){var _=new Uint8Array(2*this.buffer.length);_.set(this.buffer),this.buffer=_},Le.prototype.shrink=function(){return this.buffer=this.buffer.subarray(0,this.position),this.buffer},Le.prototype.put=function(_){this.buffer.length<this.position+1&&this.reallocate(),this.buffer[this.position++]=_},Le.prototype.get=function(_){return null==_&&(_=this.position,this.position+=1),this.buffer.length<_+1?0:this.buffer[_]},Le.prototype.putShort=function(_){if(65535<_)throw _+" is over short value";var G=(65280&_)>>8;this.put(255&_),this.put(G)},Le.prototype.getShort=function(_){if(null==_&&(_=this.position,this.position+=2),this.buffer.length<_+2)return 0;var G=(this.buffer[_+1]<<8)+this.buffer[_];return 32768&G&&(G=-(G-1^65535)),G},Le.prototype.putInt=function(_){if(4294967295<_)throw _+" is over integer value";var G=(65280&_)>>8,ue=(16711680&_)>>16,ve=(4278190080&_)>>24;this.put(255&_),this.put(G),this.put(ue),this.put(ve)},Le.prototype.getInt=function(_){return null==_&&(_=this.position,this.position+=4),this.buffer.length<_+4?0:(this.buffer[_+3]<<24)+(this.buffer[_+2]<<16)+(this.buffer[_+1]<<8)+this.buffer[_]},Le.prototype.readInt=function(){var _=this.position;return this.position+=4,this.getInt(_)},Le.prototype.putString=function(_){for(var oe=function(_){for(var oe=new Uint8Array(4*_.length),G=0,ue=0;G<_.length;){var ve,Y=_.charCodeAt(G++);if(Y>=55296&&Y<=56319){var ae=Y,m=_.charCodeAt(G++);if(!(m>=56320&&m<=57343))return null;ve=1024*(ae-55296)+65536+(m-56320)}else ve=Y;ve<128?oe[ue++]=ve:ve<2048?(oe[ue++]=ve>>>6|192,oe[ue++]=63&ve|128):ve<65536?(oe[ue++]=ve>>>12|224,oe[ue++]=ve>>6&63|128,oe[ue++]=63&ve|128):ve<2097152&&(oe[ue++]=ve>>>18|240,oe[ue++]=ve>>12&63|128,oe[ue++]=ve>>6&63|128,oe[ue++]=63&ve|128)}return oe.subarray(0,ue)}(_),G=0;G<oe.length;G++)this.put(oe[G]);this.put(0)},Le.prototype.getString=function(_){var oe,G=[];for(null==_&&(_=this.position);!(this.buffer.length<_+1)&&0!==(oe=this.get(_++));)G.push(oe);return this.position=_,function(_){for(var oe,G,ue,Y="",ae=0;ae<_.length;)(oe=(G=_[ae++])<128?G:G>>5==6?(31&G)<<6|63&_[ae++]:G>>4==14?(15&G)<<12|(63&_[ae++])<<6|63&_[ae++]:(7&G)<<18|(63&_[ae++])<<12|(63&_[ae++])<<6|63&_[ae++])<65536?Y+=String.fromCharCode(oe):(ue=55296|(oe-=65536)>>10,Y+=String.fromCharCode(ue,56320|1023&oe));return Y}(G)},wt.exports=Le},{}],19:[function(At,wt,kt){"use strict";function V(){}V.prototype.formatEntry=function(De,Le,_,oe){var G={};return G.word_id=De,G.word_type=_,G.word_position=Le,G.surface_form=oe[0],G.pos=oe[1],G.pos_detail_1=oe[2],G.pos_detail_2=oe[3],G.pos_detail_3=oe[4],G.conjugated_type=oe[5],G.conjugated_form=oe[6],G.basic_form=oe[7],G.reading=oe[8],G.pronunciation=oe[9],G},V.prototype.formatUnknownEntry=function(De,Le,_,oe,G){var ue={};return ue.word_id=De,ue.word_type=_,ue.word_position=Le,ue.surface_form=G,ue.pos=oe[1],ue.pos_detail_1=oe[2],ue.pos_detail_2=oe[3],ue.pos_detail_3=oe[4],ue.conjugated_type=oe[5],ue.conjugated_form=oe[6],ue.basic_form=oe[7],ue},wt.exports=V},{}],20:[function(At,wt,kt){"use strict";function V(De){this.str=De,this.index_mapping=[];for(var Le=0;Le<De.length;Le++){var _=De.charAt(Le);this.index_mapping.push(Le),V.isSurrogatePair(_)&&Le++}this.length=this.index_mapping.length}V.prototype.slice=function(De){return this.index_mapping.length<=De?"":this.str.slice(this.index_mapping[De])},V.prototype.charAt=function(De){if(this.str.length<=De)return"";var Le=this.index_mapping[De],_=this.index_mapping[De+1];return null==_?this.str.slice(Le):this.str.slice(Le,_)},V.prototype.charCodeAt=function(De){if(this.index_mapping.length<=De)return NaN;var Le,_=this.index_mapping[De],oe=this.str.charCodeAt(_);return oe>=55296&&oe<=56319&&_<this.str.length&&(Le=this.str.charCodeAt(_+1))>=56320&&Le<=57343?1024*(oe-55296)+Le-56320+65536:oe},V.prototype.toString=function(){return this.str},V.isSurrogatePair=function(De){var Le=De.charCodeAt(0);return Le>=55296&&Le<=56319},wt.exports=V},{}],21:[function(At,wt,kt){"use strict";var V=At("./ViterbiNode"),De=At("./ViterbiLattice"),Le=At("../util/SurrogateAwareString");function _(oe){this.trie=oe.trie,this.token_info_dictionary=oe.token_info_dictionary,this.unknown_dictionary=oe.unknown_dictionary}_.prototype.build=function(oe){for(var G,ve,Y,ae,m=new De,B=new Le(oe),i=0;i<B.length;i++){for(var g=B.slice(i),f=this.trie.commonPrefixSearch(g),x=0;x<f.length;x++){G=f[x].k;for(var n=this.token_info_dictionary.target_map[f[x].v],c=0;c<n.length;c++){var u=parseInt(n[c]);ve=this.token_info_dictionary.dictionary.getShort(u),Y=this.token_info_dictionary.dictionary.getShort(u+2),ae=this.token_info_dictionary.dictionary.getShort(u+4),m.append(new V(u,ae,i+1,G.length,"KNOWN",ve,Y,G))}}var s=new Le(g),t=new Le(s.charAt(0)),o=this.unknown_dictionary.lookup(t.toString());if(null==f||0===f.length||1===o.is_always_invoke){if(G=t,1===o.is_grouping&&1<s.length)for(var r=1;r<s.length;r++){var d=s.charAt(r),h=this.unknown_dictionary.lookup(d);if(o.class_name!==h.class_name)break;G+=d}for(var l=this.unknown_dictionary.target_map[o.class_id],p=0;p<l.length;p++){var w=parseInt(l[p]);ve=this.unknown_dictionary.dictionary.getShort(w),Y=this.unknown_dictionary.dictionary.getShort(w+2),ae=this.unknown_dictionary.dictionary.getShort(w+4),m.append(new V(w,ae,i+1,G.length,"UNKNOWN",ve,Y,G.toString()))}}}return m.appendEos(),m},wt.exports=_},{"../util/SurrogateAwareString":20,"./ViterbiLattice":22,"./ViterbiNode":23}],22:[function(At,wt,kt){"use strict";var V=At("./ViterbiNode");function De(){this.nodes_end_at=[],this.nodes_end_at[0]=[new V(-1,0,0,0,"BOS",0,0,"")],this.eos_pos=1}De.prototype.append=function(Le){var _=Le.start_pos+Le.length-1;this.eos_pos<_&&(this.eos_pos=_);var oe=this.nodes_end_at[_];null==oe&&(oe=[]),oe.push(Le),this.nodes_end_at[_]=oe},De.prototype.appendEos=function(){var Le=this.nodes_end_at.length;this.eos_pos++,this.nodes_end_at[Le]=[new V(-1,0,this.eos_pos,0,"EOS",0,0,"")]},wt.exports=De},{"./ViterbiNode":23}],23:[function(At,wt,kt){"use strict";wt.exports=function V(De,Le,_,oe,G,ue,ve,Y){this.name=De,this.cost=Le,this.start_pos=_,this.length=oe,this.left_id=ue,this.right_id=ve,this.prev=null,this.surface_form=Y,this.shortest_cost="BOS"===G?0:Number.MAX_VALUE,this.type=G}},{}],24:[function(At,wt,kt){"use strict";function V(De){this.connection_costs=De}V.prototype.search=function(De){return De=this.forward(De),this.backward(De)},V.prototype.forward=function(De){var Le,_,oe;for(Le=1;Le<=De.eos_pos;Le++){var G=De.nodes_end_at[Le];if(null!=G)for(_=0;_<G.length;_++){var ue,ve=G[_],Y=Number.MAX_VALUE,ae=De.nodes_end_at[ve.start_pos-1];if(null!=ae){for(oe=0;oe<ae.length;oe++){var m,B=ae[oe];null==ve.left_id||null==B.right_id?(console.log("Left or right is null"),m=0):m=this.connection_costs.get(B.right_id,ve.left_id);var i=B.shortest_cost+m+ve.cost;i<Y&&(ue=B,Y=i)}ve.prev=ue,ve.shortest_cost=Y}}}return De},V.prototype.backward=function(De){var Le=[],_=De.nodes_end_at[De.nodes_end_at.length-1][0].prev;if(null==_)return[];for(;"BOS"!==_.type;){if(Le.push(_),null==_.prev)return[];_=_.prev}return Le.reverse()},wt.exports=V},{}],25:[function(At,wt,kt){(function(V){function De(G,ue){for(var ve=0,Y=G.length-1;Y>=0;Y--){var ae=G[Y];"."===ae?G.splice(Y,1):".."===ae?(G.splice(Y,1),ve++):ve&&(G.splice(Y,1),ve--)}if(ue)for(;ve--;ve)G.unshift("..");return G}function _(G,ue){if(G.filter)return G.filter(ue);for(var ve=[],Y=0;Y<G.length;Y++)ue(G[Y],Y,G)&&ve.push(G[Y]);return ve}kt.resolve=function(){for(var G="",ue=!1,ve=arguments.length-1;ve>=-1&&!ue;ve--){var Y=ve>=0?arguments[ve]:V.cwd();if("string"!=typeof Y)throw new TypeError("Arguments to path.resolve must be strings");Y&&(G=Y+"/"+G,ue="/"===Y.charAt(0))}return(ue?"/":"")+(G=De(_(G.split("/"),function(ae){return!!ae}),!ue).join("/"))||"."},kt.normalize=function(G){var ue=kt.isAbsolute(G),ve="/"===oe(G,-1);return(G=De(_(G.split("/"),function(Y){return!!Y}),!ue).join("/"))||ue||(G="."),G&&ve&&(G+="/"),(ue?"/":"")+G},kt.isAbsolute=function(G){return"/"===G.charAt(0)},kt.join=function(){var G=Array.prototype.slice.call(arguments,0);return kt.normalize(_(G,function(ue,ve){if("string"!=typeof ue)throw new TypeError("Arguments to path.join must be strings");return ue}).join("/"))},kt.relative=function(G,ue){function ve(f){for(var x=0;x<f.length&&""===f[x];x++);for(var n=f.length-1;n>=0&&""===f[n];n--);return x>n?[]:f.slice(x,n-x+1)}G=kt.resolve(G).substr(1),ue=kt.resolve(ue).substr(1);for(var Y=ve(G.split("/")),ae=ve(ue.split("/")),m=Math.min(Y.length,ae.length),B=m,i=0;i<m;i++)if(Y[i]!==ae[i]){B=i;break}var g=[];for(i=B;i<Y.length;i++)g.push("..");return(g=g.concat(ae.slice(B))).join("/")},kt.sep="/",kt.delimiter=":",kt.dirname=function(G){if("string"!=typeof G&&(G+=""),0===G.length)return".";for(var ue=G.charCodeAt(0),ve=47===ue,Y=-1,ae=!0,m=G.length-1;m>=1;--m)if(47===(ue=G.charCodeAt(m))){if(!ae){Y=m;break}}else ae=!1;return-1===Y?ve?"/":".":ve&&1===Y?"/":G.slice(0,Y)},kt.basename=function(G,ue){var ve=function Le(G){"string"!=typeof G&&(G+="");var ue,ve=0,Y=-1,ae=!0;for(ue=G.length-1;ue>=0;--ue)if(47===G.charCodeAt(ue)){if(!ae){ve=ue+1;break}}else-1===Y&&(ae=!1,Y=ue+1);return-1===Y?"":G.slice(ve,Y)}(G);return ue&&ve.substr(-1*ue.length)===ue&&(ve=ve.substr(0,ve.length-ue.length)),ve},kt.extname=function(G){"string"!=typeof G&&(G+="");for(var ue=-1,ve=0,Y=-1,ae=!0,m=0,B=G.length-1;B>=0;--B){var i=G.charCodeAt(B);if(47!==i)-1===Y&&(ae=!1,Y=B+1),46===i?-1===ue?ue=B:1!==m&&(m=1):-1!==ue&&(m=-1);else if(!ae){ve=B+1;break}}return-1===ue||-1===Y||0===m||1===m&&ue===Y-1&&ue===ve+1?"":G.slice(ue,Y)};var oe="b"==="ab".substr(-1)?function(G,ue,ve){return G.substr(ue,ve)}:function(G,ue,ve){return ue<0&&(ue=G.length+ue),G.substr(ue,ve)}}).call(this,At("_process"))},{_process:26}],26:[function(At,wt,kt){var V,De,Le=wt.exports={};function _(){throw new Error("setTimeout has not been defined")}function oe(){throw new Error("clearTimeout has not been defined")}function G(x){if(V===setTimeout)return setTimeout(x,0);if((V===_||!V)&&setTimeout)return V=setTimeout,setTimeout(x,0);try{return V(x,0)}catch{try{return V.call(null,x,0)}catch{return V.call(this,x,0)}}}!function(){try{V="function"==typeof setTimeout?setTimeout:_}catch{V=_}try{De="function"==typeof clearTimeout?clearTimeout:oe}catch{De=oe}}();var ve,Y=[],ae=!1,m=-1;function B(){ae&&ve&&(ae=!1,ve.length?Y=ve.concat(Y):m=-1,Y.length&&i())}function i(){if(!ae){var x=G(B);ae=!0;for(var n=Y.length;n;){for(ve=Y,Y=[];++m<n;)ve&&ve[m].run();m=-1,n=Y.length}ve=null,ae=!1,function ue(x){if(De===clearTimeout)return clearTimeout(x);if((De===oe||!De)&&clearTimeout)return De=clearTimeout,clearTimeout(x);try{De(x)}catch{try{return De.call(null,x)}catch{return De.call(this,x)}}}(x)}}function g(x,n){this.fun=x,this.array=n}function f(){}Le.nextTick=function(x){var n=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)n[c-1]=arguments[c];Y.push(new g(x,n)),1!==Y.length||ae||G(i)},g.prototype.run=function(){this.fun.apply(null,this.array)},Le.title="browser",Le.browser=!0,Le.env={},Le.argv=[],Le.version="",Le.versions={},Le.on=f,Le.addListener=f,Le.once=f,Le.off=f,Le.removeListener=f,Le.removeAllListeners=f,Le.emit=f,Le.prependListener=f,Le.prependOnceListener=f,Le.listeners=function(x){return[]},Le.binding=function(x){throw new Error("process.binding is not supported")},Le.cwd=function(){return"/"},Le.chdir=function(x){throw new Error("process.chdir is not supported")},Le.umask=function(){return 0}},{}],27:[function(At,wt,kt){(function(V,De){var Le=At("process/browser.js").nextTick,_=Function.prototype.apply,oe=Array.prototype.slice,G={},ue=0;function ve(Y,ae){this._id=Y,this._clearFn=ae}kt.setTimeout=function(){return new ve(_.call(setTimeout,window,arguments),clearTimeout)},kt.setInterval=function(){return new ve(_.call(setInterval,window,arguments),clearInterval)},kt.clearTimeout=kt.clearInterval=function(Y){Y.close()},ve.prototype.unref=ve.prototype.ref=function(){},ve.prototype.close=function(){this._clearFn.call(window,this._id)},kt.enroll=function(Y,ae){clearTimeout(Y._idleTimeoutId),Y._idleTimeout=ae},kt.unenroll=function(Y){clearTimeout(Y._idleTimeoutId),Y._idleTimeout=-1},kt._unrefActive=kt.active=function(Y){clearTimeout(Y._idleTimeoutId);var ae=Y._idleTimeout;ae>=0&&(Y._idleTimeoutId=setTimeout(function(){Y._onTimeout&&Y._onTimeout()},ae))},kt.setImmediate="function"==typeof V?V:function(Y){var ae=ue++,m=!(arguments.length<2)&&oe.call(arguments,1);return G[ae]=!0,Le(function(){G[ae]&&(m?Y.apply(null,m):Y.call(null),kt.clearImmediate(ae))}),ae},kt.clearImmediate="function"==typeof De?De:function(Y){delete G[Y]}}).call(this,At("timers").setImmediate,At("timers").clearImmediate)},{"process/browser.js":26,timers:27}],28:[function(At,wt,kt){(function(){"use strict";function V(L){throw L}var De=void 0,Le=this;function _(L,z){var y,C=L.split("."),M=Le;for((!(C[0]in M)&&M.execScript&&M.execScript("var "+C[0]));C.length&&(y=C.shift());)C.length||z===De?M=M[y]?M[y]:M[y]={}:M[y]=z}var oe,G=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u"&&typeof DataView<"u";for(new(G?Uint8Array:Array)(256),oe=0;256>oe;++oe)for(var ue=(ue=oe)>>>1;ue;ue>>>=1);function ve(L,z,y){var C,M="number"==typeof z?z:z=0,U="number"==typeof y?y:L.length;for(C=-1,M=7&U;M--;++z)C=C>>>8^ae[255&(C^L[z])];for(M=U>>3;M--;z+=8)C=(C=(C=(C=(C=(C=(C=(C=C>>>8^ae[255&(C^L[z])])>>>8^ae[255&(C^L[z+1])])>>>8^ae[255&(C^L[z+2])])>>>8^ae[255&(C^L[z+3])])>>>8^ae[255&(C^L[z+4])])>>>8^ae[255&(C^L[z+5])])>>>8^ae[255&(C^L[z+6])])>>>8^ae[255&(C^L[z+7])];return(4294967295^C)>>>0}var Y=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],ae=G?new Uint32Array(Y):Y;function m(){}function B(L){var z,y,C,M,U,ee,J,re,Ue,We,Qe=L.length,ft=0,pt=Number.POSITIVE_INFINITY;for(re=0;re<Qe;++re)L[re]>ft&&(ft=L[re]),L[re]<pt&&(pt=L[re]);for(z=1<<ft,y=new(G?Uint32Array:Array)(z),C=1,M=0,U=2;C<=ft;){for(re=0;re<Qe;++re)if(L[re]===C){for(ee=0,J=M,Ue=0;Ue<C;++Ue)ee=ee<<1|1&J,J>>=1;for(We=C<<16|re,Ue=ee;Ue<z;Ue+=U)y[Ue]=We;++M}++C,M<<=1,U<<=1}return[y,ft,pt]}m.prototype.getName=function(){return this.name},m.prototype.getData=function(){return this.data},m.prototype.G=function(){return this.H};var i,g=[];for(i=0;288>i;i++)switch(!0){case 143>=i:g.push([i+48,8]);break;case 255>=i:g.push([i-144+400,9]);break;case 279>=i:g.push([i-256+0,7]);break;case 287>=i:g.push([i-280+192,8]);break;default:V("invalid literal: "+i)}var f=function(){function L(M){switch(!0){case 3===M:return[257,M-3,0];case 4===M:return[258,M-4,0];case 5===M:return[259,M-5,0];case 6===M:return[260,M-6,0];case 7===M:return[261,M-7,0];case 8===M:return[262,M-8,0];case 9===M:return[263,M-9,0];case 10===M:return[264,M-10,0];case 12>=M:return[265,M-11,1];case 14>=M:return[266,M-13,1];case 16>=M:return[267,M-15,1];case 18>=M:return[268,M-17,1];case 22>=M:return[269,M-19,2];case 26>=M:return[270,M-23,2];case 30>=M:return[271,M-27,2];case 34>=M:return[272,M-31,2];case 42>=M:return[273,M-35,3];case 50>=M:return[274,M-43,3];case 58>=M:return[275,M-51,3];case 66>=M:return[276,M-59,3];case 82>=M:return[277,M-67,4];case 98>=M:return[278,M-83,4];case 114>=M:return[279,M-99,4];case 130>=M:return[280,M-115,4];case 162>=M:return[281,M-131,5];case 194>=M:return[282,M-163,5];case 226>=M:return[283,M-195,5];case 257>=M:return[284,M-227,5];case 258===M:return[285,M-258,0];default:V("invalid length: "+M)}}var z,y,C=[];for(z=3;258>=z;z++)y=L(z),C[z]=y[2]<<24|y[1]<<16|y[0];return C}();function x(L,z){switch(this.i=[],this.j=32768,this.d=this.f=this.c=this.n=0,this.input=G?new Uint8Array(L):L,this.o=!1,this.k=c,this.w=!1,!z&&(z={})||(z.index&&(this.c=z.index),z.bufferSize&&(this.j=z.bufferSize),z.bufferType&&(this.k=z.bufferType),z.resize&&(this.w=z.resize)),this.k){case n:this.a=32768,this.b=new(G?Uint8Array:Array)(32768+this.j+258);break;case c:this.a=0,this.b=new(G?Uint8Array:Array)(this.j),this.e=this.D,this.q=this.A,this.l=this.C;break;default:V(Error("invalid inflate mode"))}}G&&new Uint32Array(f);var n=0,c=1;x.prototype.g=function(){for(;!this.o;){var L=we(this,3);switch(1&L&&(this.o=!0),L>>>=1){case 0:var z=this.input,y=this.c,C=this.b,M=this.a,U=z.length,ee=De,J=C.length,re=De;switch(this.d=this.f=0,y+1>=U&&V(Error("invalid uncompressed block header: LEN")),ee=z[y++]|z[y++]<<8,y+1>=U&&V(Error("invalid uncompressed block header: NLEN")),ee===~(z[y++]|z[y++]<<8)&&V(Error("invalid uncompressed block header: length verify")),y+ee>z.length&&V(Error("input buffer is broken")),this.k){case n:for(;M+ee>C.length;){if(ee-=re=J-M,G)C.set(z.subarray(y,y+re),M),M+=re,y+=re;else for(;re--;)C[M++]=z[y++];this.a=M,C=this.e(),M=this.a}break;case c:for(;M+ee>C.length;)C=this.e({t:2});break;default:V(Error("invalid inflate mode"))}if(G)C.set(z.subarray(y,y+ee),M),M+=ee,y+=ee;else for(;ee--;)C[M++]=z[y++];this.c=y,this.a=M,this.b=C;break;case 1:this.l(q,le);break;case 2:var Ue,We,Qe,ft,pt=we(this,5)+257,Xt=we(this,5)+1,It=we(this,4)+4,Ft=new(G?Uint8Array:Array)(o.length),Ke=De,mt=De,St=De,K=De,se=De;for(se=0;se<It;++se)Ft[o[se]]=we(this,3);if(!G)for(se=It,It=Ft.length;se<It;++se)Ft[o[se]]=0;for(Ue=B(Ft),Ke=new(G?Uint8Array:Array)(pt+Xt),se=0,ft=pt+Xt;se<ft;)switch(mt=ke(this,Ue),mt){case 16:for(K=3+we(this,2);K--;)Ke[se++]=St;break;case 17:for(K=3+we(this,3);K--;)Ke[se++]=0;St=0;break;case 18:for(K=11+we(this,7);K--;)Ke[se++]=0;St=0;break;default:St=Ke[se++]=mt}We=B(G?Ke.subarray(0,pt):Ke.slice(0,pt)),Qe=B(G?Ke.subarray(pt):Ke.slice(pt)),this.l(We,Qe);break;default:V(Error("unknown BTYPE: "+L))}}return this.q()};var u,s,t=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],o=G?new Uint16Array(t):t,r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],d=G?new Uint16Array(r):r,h=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],l=G?new Uint8Array(h):h,p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],w=G?new Uint16Array(p):p,b=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=G?new Uint8Array(b):b,S=new(G?Uint8Array:Array)(288);for(u=0,s=S.length;u<s;++u)S[u]=143>=u?8:255>=u?9:279>=u?7:8;var R,N,q=B(S),Z=new(G?Uint8Array:Array)(30);for(R=0,N=Z.length;R<N;++R)Z[R]=5;var le=B(Z);function we(L,z){for(var y,C=L.f,M=L.d,U=L.input,ee=L.c,J=U.length;M<z;)ee>=J&&V(Error("input buffer is broken")),C|=U[ee++]<<M,M+=8;return y=C&(1<<z)-1,L.f=C>>>z,L.d=M-z,L.c=ee,y}function ke(L,z){for(var y,C,M=L.f,U=L.d,ee=L.input,J=L.c,re=ee.length,Ue=z[0],We=z[1];U<We&&!(J>=re);)M|=ee[J++]<<U,U+=8;return(C=(y=Ue[M&(1<<We)-1])>>>16)>U&&V(Error("invalid code length: "+C)),L.f=M>>C,L.d=U-C,L.c=J,65535&y}function A(L){this.input=L,this.c=0,this.m=[],this.s=!1}x.prototype.l=function(L,z){var y=this.b,C=this.a;this.r=L;for(var M,U,ee,J,re=y.length-258;256!==(M=ke(this,L));)if(256>M)C>=re&&(this.a=C,y=this.e(),C=this.a),y[C++]=M;else for(J=d[U=M-257],0<l[U]&&(J+=we(this,l[U])),M=ke(this,z),ee=w[M],0<I[M]&&(ee+=we(this,I[M])),C>=re&&(this.a=C,y=this.e(),C=this.a);J--;)y[C]=y[C++-ee];for(;8<=this.d;)this.d-=8,this.c--;this.a=C},x.prototype.C=function(L,z){var y=this.b,C=this.a;this.r=L;for(var M,U,ee,J,re=y.length;256!==(M=ke(this,L));)if(256>M)C>=re&&(re=(y=this.e()).length),y[C++]=M;else for(J=d[U=M-257],0<l[U]&&(J+=we(this,l[U])),M=ke(this,z),ee=w[M],0<I[M]&&(ee+=we(this,I[M])),C+J>re&&(re=(y=this.e()).length);J--;)y[C]=y[C++-ee];for(;8<=this.d;)this.d-=8,this.c--;this.a=C},x.prototype.e=function(){var L,z,y=new(G?Uint8Array:Array)(this.a-32768),C=this.a-32768,M=this.b;if(G)y.set(M.subarray(32768,y.length));else for(L=0,z=y.length;L<z;++L)y[L]=M[L+32768];if(this.i.push(y),this.n+=y.length,G)M.set(M.subarray(C,C+32768));else for(L=0;32768>L;++L)M[L]=M[C+L];return this.a=32768,M},x.prototype.D=function(L){var z,y,C,M=this.input.length/this.c+1|0,ee=this.b;return L&&("number"==typeof L.t&&(M=L.t),"number"==typeof L.z&&(M+=L.z)),y=2>M?(C=(this.input.length-this.c)/this.r[2]/2*258|0)<ee.length?ee.length+C:ee.length<<1:ee.length*M,G?(z=new Uint8Array(y)).set(ee):z=ee,this.b=z},x.prototype.q=function(){var L,z,y,C,M,U=0,ee=this.b,J=this.i,re=new(G?Uint8Array:Array)(this.n+(this.a-32768));if(0===J.length)return G?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(z=0,y=J.length;z<y;++z)for(C=0,M=(L=J[z]).length;C<M;++C)re[U++]=L[C];for(z=32768,y=this.a;z<y;++z)re[U++]=ee[z];return this.i=[],this.buffer=re},x.prototype.A=function(){var L,z=this.a;return G?this.w?(L=new Uint8Array(z)).set(this.b.subarray(0,z)):L=this.b.subarray(0,z):(this.b.length>z&&(this.b.length=z),L=this.b),this.buffer=L},A.prototype.F=function(){return this.s||this.g(),this.m.slice()},A.prototype.g=function(){for(var L=this.input.length;this.c<L;){var z,y,C=new m,M=De,U=De,ee=De,J=De,re=De,Ue=De,We=De,Qe=this.input,ft=this.c;if(8===(C.u=Qe[ft++],C.v=Qe[ft++],(31!==C.u||139!==C.v)&&V(Error("invalid file signature:"+C.u+","+C.v)),C.p=Qe[ft++],C.p)||V(Error("unknown compression method: "+C.p)),C.h=Qe[ft++],y=Qe[ft++]|Qe[ft++]<<8|Qe[ft++]<<16|Qe[ft++]<<24,C.H=new Date(1e3*y),C.N=Qe[ft++],C.M=Qe[ft++],0<(4&C.h)&&(C.I=Qe[ft++]|Qe[ft++]<<8,ft+=C.I),0<(8&C.h)){for(Ue=[],re=0;0<(J=Qe[ft++]);)Ue[re++]=String.fromCharCode(J);C.name=Ue.join("")}if(0<(16&C.h)){for(Ue=[],re=0;0<(J=Qe[ft++]);)Ue[re++]=String.fromCharCode(J);C.J=Ue.join("")}0<(2&C.h)&&(C.B=65535&ve(Qe,0,ft),C.B!==(Qe[ft++]|Qe[ft++]<<8)&&V(Error("invalid header crc16"))),Qe.length-ft-4-4<512*(M=Qe[Qe.length-4]|Qe[Qe.length-3]<<8|Qe[Qe.length-2]<<16|Qe[Qe.length-1]<<24)&&(ee=M),U=new x(Qe,{index:ft,bufferSize:ee}),C.data=z=U.g(),ft=U.c,C.K=We=(Qe[ft++]|Qe[ft++]<<8|Qe[ft++]<<16|Qe[ft++]<<24)>>>0,ve(z,De,De)!==We&&V(Error("invalid CRC-32 checksum: 0x"+ve(z,De,De).toString(16)+" / 0x"+We.toString(16))),C.L=M=(Qe[ft++]|Qe[ft++]<<8|Qe[ft++]<<16|Qe[ft++]<<24)>>>0,(4294967295&z.length)!==M&&V(Error("invalid input size: "+(4294967295&z.length)+" / "+M)),this.m.push(C),this.c=ft}this.s=!0;var pt,Xt,It,Ft=this.m,Ke=0,mt=0;for(pt=0,Xt=Ft.length;pt<Xt;++pt)mt+=Ft[pt].data.length;if(G)for(It=new Uint8Array(mt),pt=0;pt<Xt;++pt)It.set(Ft[pt].data,Ke),Ke+=Ft[pt].data.length;else{for(It=[],pt=0;pt<Xt;++pt)It[pt]=Ft[pt].data;It=Array.prototype.concat.apply([],It)}return It},_("Zlib.Gunzip",A),_("Zlib.Gunzip.prototype.decompress",A.prototype.g),_("Zlib.Gunzip.prototype.getMembers",A.prototype.F),_("Zlib.GunzipMember",m),_("Zlib.GunzipMember.prototype.getName",m.prototype.getName),_("Zlib.GunzipMember.prototype.getData",m.prototype.getData),_("Zlib.GunzipMember.prototype.getMtime",m.prototype.G)}).call(this)},{}],29:[function(At,wt,kt){"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var V=function(){function Y(ae,m){for(var B=0;B<m.length;B++){var i=m[B];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(ae,i.key,i)}}return function(ae,m,B){return m&&Y(ae.prototype,m),B&&Y(ae,B),ae}}(),Le=function _(Y){return Y&&Y.__esModule?Y:{default:Y}}(At("kuromoji")),G=!1;!(typeof window<"u")&&typeof wt<"u"&&wt.exports&&(G=!0);var ve=function(){function Y(){var ae=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).dictPath;(function oe(Y,ae){if(!(Y instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,Y),this._analyzer=null,this._dictPath=ae||(G?At.resolve("kuromoji").replace(/src(?!.*src).*/,"dict/"):"node_modules/kuromoji/dict/")}return V(Y,[{key:"init",value:function(){var ae=this;return new Promise(function(m,B){var i=ae;null==ae._analyzer?Le.default.builder({dicPath:ae._dictPath}).build(function(g,f){if(g)return B(g);i._analyzer=f,m()}):B(new Error("This analyzer has already been initialized."))})}},{key:"parse",value:function(){var ae=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(B,i){if(""===m.trim())return B([]);for(var g=ae._analyzer.tokenize(m),f=0;f<g.length;f++)g[f].verbose={},g[f].verbose.word_id=g[f].word_id,g[f].verbose.word_type=g[f].word_type,g[f].verbose.word_position=g[f].word_position,delete g[f].word_id,delete g[f].word_type,delete g[f].word_position;B(g)})}}]),Y}();kt.default=ve,wt.exports=kt.default},{kuromoji:15}]},{},[29])(29)}),function(Kt){"object"==typeof exports&&typeof module<"u"?module.exports=Kt():"function"==typeof define&&define.amd?define([],Kt):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).P2PGraph=Kt()}(function(){return function At(wt,kt,V){function De(oe,G){if(!kt[oe]){if(!wt[oe]){var ue="function"==typeof require&&require;if(!G&&ue)return ue(oe,!0);if(Le)return Le(oe,!0);var ve=new Error("Cannot find module '"+oe+"'");throw ve.code="MODULE_NOT_FOUND",ve}var Y=kt[oe]={exports:{}};wt[oe][0].call(Y.exports,function(ae){return De(wt[oe][1][ae]||ae)},Y,Y.exports,At,wt,kt,V)}return kt[oe].exports}for(var Le="function"==typeof require&&require,_=0;_<V.length;_++)De(V[_]);return De}({1:[function(At,wt,kt){!function(){var V={version:"3.5.17"},De=[].slice,Le=function(e){return De.call(e)},_=this.document;function oe(e){return e&&(e.ownerDocument||e.document||e).documentElement}function G(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(_)try{Le(_.documentElement.childNodes)}catch{Le=function(a){for(var v=a.length,E=new Array(v);v--;)E[v]=a[v];return E}}if(Date.now||(Date.now=function(){return+new Date}),_)try{_.createElement("DIV").style.setProperty("opacity",0,"")}catch{var ue=this.Element.prototype,ve=ue.setAttribute,Y=ue.setAttributeNS,ae=this.CSSStyleDeclaration.prototype,m=ae.setProperty;ue.setAttribute=function(a,v){ve.call(this,a,v+"")},ue.setAttributeNS=function(a,v,E){Y.call(this,a,v,E+"")},ae.setProperty=function(a,v,E){m.call(this,a,v+"",E)}}function B(e,a){return e<a?-1:e>a?1:e>=a?0:NaN}function i(e){return null===e?NaN:+e}function g(e){return!isNaN(e)}function f(e){return{left:function(a,v,E,k){for(arguments.length<3&&(E=0),arguments.length<4&&(k=a.length);E<k;){var T=E+k>>>1;e(a[T],v)<0?E=T+1:k=T}return E},right:function(a,v,E,k){for(arguments.length<3&&(E=0),arguments.length<4&&(k=a.length);E<k;){var T=E+k>>>1;e(a[T],v)>0?k=T:E=T+1}return E}}}V.ascending=B,V.descending=function(e,a){return a<e?-1:a>e?1:a>=e?0:NaN},V.min=function(e,a){var k,T,v=-1,E=e.length;if(1===arguments.length){for(;++v<E;)if(null!=(T=e[v])&&T>=T){k=T;break}for(;++v<E;)null!=(T=e[v])&&k>T&&(k=T)}else{for(;++v<E;)if(null!=(T=a.call(e,e[v],v))&&T>=T){k=T;break}for(;++v<E;)null!=(T=a.call(e,e[v],v))&&k>T&&(k=T)}return k},V.max=function(e,a){var k,T,v=-1,E=e.length;if(1===arguments.length){for(;++v<E;)if(null!=(T=e[v])&&T>=T){k=T;break}for(;++v<E;)null!=(T=e[v])&&T>k&&(k=T)}else{for(;++v<E;)if(null!=(T=a.call(e,e[v],v))&&T>=T){k=T;break}for(;++v<E;)null!=(T=a.call(e,e[v],v))&&T>k&&(k=T)}return k},V.extent=function(e,a){var k,T,F,v=-1,E=e.length;if(1===arguments.length){for(;++v<E;)if(null!=(T=e[v])&&T>=T){k=F=T;break}for(;++v<E;)null!=(T=e[v])&&(k>T&&(k=T),F<T&&(F=T))}else{for(;++v<E;)if(null!=(T=a.call(e,e[v],v))&&T>=T){k=F=T;break}for(;++v<E;)null!=(T=a.call(e,e[v],v))&&(k>T&&(k=T),F<T&&(F=T))}return[k,F]},V.sum=function(e,a){var k,v=0,E=e.length,T=-1;if(1===arguments.length)for(;++T<E;)g(k=+e[T])&&(v+=k);else for(;++T<E;)g(k=+a.call(e,e[T],T))&&(v+=k);return v},V.mean=function(e,a){var k,v=0,E=e.length,T=-1,F=E;if(1===arguments.length)for(;++T<E;)g(k=i(e[T]))?v+=k:--F;else for(;++T<E;)g(k=i(a.call(e,e[T],T)))?v+=k:--F;if(F)return v/F},V.quantile=function(e,a){var v=(e.length-1)*a+1,E=Math.floor(v),k=+e[E-1],T=v-E;return T?k+T*(e[E]-k):k},V.median=function(e,a){var k,v=[],E=e.length,T=-1;if(1===arguments.length)for(;++T<E;)g(k=i(e[T]))&&v.push(k);else for(;++T<E;)g(k=i(a.call(e,e[T],T)))&&v.push(k);if(v.length)return V.quantile(v.sort(B),.5)},V.variance=function(e,a){var k,T,v=e.length,E=0,F=0,O=-1,H=0;if(1===arguments.length)for(;++O<v;)g(k=i(e[O]))&&(F+=(T=k-E)*(k-(E+=T/++H)));else for(;++O<v;)g(k=i(a.call(e,e[O],O)))&&(F+=(T=k-E)*(k-(E+=T/++H)));if(H>1)return F/(H-1)},V.deviation=function(){var e=V.variance.apply(this,arguments);return e&&Math.sqrt(e)};var x=f(B);function n(e){return e.length}V.bisectLeft=x.left,V.bisect=V.bisectRight=x.right,V.bisector=function(e){return f(1===e.length?function(a,v){return B(e(a),v)}:e)},V.shuffle=function(e,a,v){(E=arguments.length)<3&&(v=e.length,E<2&&(a=0));for(var k,T,E=v-a;E;)T=Math.random()*E--|0,k=e[E+a],e[E+a]=e[T+a],e[T+a]=k;return e},V.permute=function(e,a){for(var v=a.length,E=new Array(v);v--;)E[v]=e[a[v]];return E},V.pairs=function(e){for(var a=0,v=e.length-1,k=e[0],T=new Array(v<0?0:v);a<v;)T[a]=[k,k=e[++a]];return T},V.transpose=function(e){if(!(T=e.length))return[];for(var a=-1,v=V.min(e,n),E=new Array(v);++a<v;)for(var T,k=-1,F=E[a]=new Array(T);++k<T;)F[k]=e[k][a];return E},V.zip=function(){return V.transpose(arguments)},V.keys=function(e){var a=[];for(var v in e)a.push(v);return a},V.values=function(e){var a=[];for(var v in e)a.push(e[v]);return a},V.entries=function(e){var a=[];for(var v in e)a.push({key:v,value:e[v]});return a},V.merge=function(e){for(var v,T,F,a=e.length,E=-1,k=0;++E<a;)k+=e[E].length;for(T=new Array(k);--a>=0;)for(v=(F=e[a]).length;--v>=0;)T[--k]=F[v];return T};var c=Math.abs;function s(e,a){for(var v in a)Object.defineProperty(e.prototype,v,{value:a[v],enumerable:!1})}function t(){this._=Object.create(null)}V.range=function(e,a,v){if(arguments.length<3&&(v=1,arguments.length<2&&(a=e,e=0)),(a-e)/v==1/0)throw new Error("infinite range");var F,E=[],k=function u(e){for(var a=1;e*a%1;)a*=10;return a}(c(v)),T=-1;if(e*=k,a*=k,(v*=k)<0)for(;(F=e+v*++T)>a;)E.push(F/k);else for(;(F=e+v*++T)<a;)E.push(F/k);return E},V.map=function(e,a){var v=new t;if(e instanceof t)e.forEach(function(O,H){v.set(O,H)});else if(Array.isArray(e)){var T,E=-1,k=e.length;if(1===arguments.length)for(;++E<k;)v.set(E,e[E]);else for(;++E<k;)v.set(a.call(e,T=e[E],E),T)}else for(var F in e)v.set(F,e[F]);return v};var o="__proto__",r="\0";function d(e){return(e+="")===o||e[0]===r?r+e:e}function h(e){return(e+="")[0]===r?e.slice(1):e}function l(e){return d(e)in this._}function p(e){return(e=d(e))in this._&&delete this._[e]}function w(){var e=[];for(var a in this._)e.push(h(a));return e}function b(){var e=0;for(var a in this._)++e;return e}function I(){for(var e in this._)return!1;return!0}function S(){this._=Object.create(null)}function R(e){return e}function N(e,a,v){return function(){var E=v.apply(a,arguments);return E===a?e:E}}function q(e,a){if(a in e)return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var v=0,E=Z.length;v<E;++v){var k=Z[v]+a;if(k in e)return k}}s(t,{has:l,get:function(e){return this._[d(e)]},set:function(e,a){return this._[d(e)]=a},remove:p,keys:w,values:function(){var e=[];for(var a in this._)e.push(this._[a]);return e},entries:function(){var e=[];for(var a in this._)e.push({key:h(a),value:this._[a]});return e},size:b,empty:I,forEach:function(e){for(var a in this._)e.call(this,h(a),this._[a])}}),V.nest=function(){var E,k,e={},a=[],v=[];function T(O,H,$){if($>=a.length)return k?k.call(e,H):E?H.sort(E):H;for(var Me,$e,xe,Be,ne=-1,fe=H.length,_e=a[$++],Ie=new t;++ne<fe;)(Be=Ie.get(Me=_e($e=H[ne])))?Be.push($e):Ie.set(Me,[$e]);return O?($e=O(),xe=function(Ge,Ne){$e.set(Ge,T(O,Ne,$))}):($e={},xe=function(Ge,Ne){$e[Ge]=T(O,Ne,$)}),Ie.forEach(xe),$e}function F(O,H){if(H>=a.length)return O;var $=[],ne=v[H++];return O.forEach(function(fe,_e){$.push({key:fe,values:F(_e,H)})}),ne?$.sort(function(fe,_e){return ne(fe.key,_e.key)}):$}return e.map=function(O,H){return T(H,O,0)},e.entries=function(O){return F(T(V.map,O,0),0)},e.key=function(O){return a.push(O),e},e.sortKeys=function(O){return v[a.length-1]=O,e},e.sortValues=function(O){return E=O,e},e.rollup=function(O){return k=O,e},e},V.set=function(e){var a=new S;if(e)for(var v=0,E=e.length;v<E;++v)a.add(e[v]);return a},s(S,{has:l,add:function(e){return this._[d(e+="")]=!0,e},remove:p,values:w,size:b,empty:I,forEach:function(e){for(var a in this._)e.call(this,h(a))}}),V.behavior={},V.rebind=function(e,a){for(var k,v=1,E=arguments.length;++v<E;)e[k=arguments[v]]=N(e,a,a[k]);return e};var Z=["webkit","ms","moz","Moz","o","O"];function le(){}function we(){}function ke(e){var a=[],v=new t;function E(){for(var O,k=a,T=-1,F=k.length;++T<F;)(O=k[T].on)&&O.apply(this,arguments);return e}return E.on=function(k,T){var O,F=v.get(k);return arguments.length<2?F&&F.on:(F&&(F.on=null,a=a.slice(0,O=a.indexOf(F)).concat(a.slice(O+1)),v.remove(k)),T&&a.push(v.set(k,{on:T})),e)},E}function A(){V.event.preventDefault()}function L(){for(var a,e=V.event;a=e.sourceEvent;)e=a;return e}function z(e){for(var a=new we,v=0,E=arguments.length;++v<E;)a[arguments[v]]=ke(a);return a.of=function(k,T){return function(F){try{var O=F.sourceEvent=V.event;F.target=e,V.event=F,a[F.type].apply(k,T)}finally{V.event=O}}},a}V.dispatch=function(){for(var e=new we,a=-1,v=arguments.length;++a<v;)e[arguments[a]]=ke(e);return e},we.prototype.on=function(e,a){var v=e.indexOf("."),E="";if(v>=0&&(E=e.slice(v+1),e=e.slice(0,v)),e)return arguments.length<2?this[e].on(E):this[e].on(E,a);if(2===arguments.length){if(null==a)for(e in this)this.hasOwnProperty(e)&&this[e].on(E,null);return this}},V.event=null,V.requote=function(e){return e.replace(y,"\\$&")};var y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,C={}.__proto__?function(e,a){e.__proto__=a}:function(e,a){for(var v in a)e[v]=a[v]};function M(e){return C(e,re),e}var U=function(e,a){return a.querySelector(e)},ee=function(e,a){return a.querySelectorAll(e)},J=function(e,a){var v=e.matches||e[q(e,"matchesSelector")];return(J=function(E,k){return v.call(E,k)})(e,a)};"function"==typeof Sizzle&&(U=function(e,a){return Sizzle(e,a)[0]||null},ee=Sizzle,J=Sizzle.matchesSelector),V.selection=function(){return V.select(_.documentElement)};var re=V.selection.prototype=[];function Ue(e){return"function"==typeof e?e:function(){return U(e,this)}}function We(e){return"function"==typeof e?e:function(){return ee(e,this)}}re.select=function(e){var v,E,k,T,a=[];e=Ue(e);for(var F=-1,O=this.length;++F<O;){a.push(v=[]),v.parentNode=(k=this[F]).parentNode;for(var H=-1,$=k.length;++H<$;)(T=k[H])?(v.push(E=e.call(T,T.__data__,H,F)),E&&"__data__"in T&&(E.__data__=T.__data__)):v.push(null)}return M(a)},re.selectAll=function(e){var v,E,a=[];e=We(e);for(var k=-1,T=this.length;++k<T;)for(var F=this[k],O=-1,H=F.length;++O<H;)(E=F[O])&&(a.push(v=Le(e.call(E,E.__data__,O,k))),v.parentNode=E);return M(a)};var Qe="http://www.w3.org/1999/xhtml",ft={svg:"http://www.w3.org/2000/svg",xhtml:Qe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pt(e,a){return e=V.ns.qualify(e),null==a?e.local?function E(){this.removeAttributeNS(e.space,e.local)}:function v(){this.removeAttribute(e)}:"function"==typeof a?e.local?function O(){var H=a.apply(this,arguments);null==H?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,H)}:function F(){var H=a.apply(this,arguments);null==H?this.removeAttribute(e):this.setAttribute(e,H)}:e.local?function T(){this.setAttributeNS(e.space,e.local,a)}:function k(){this.setAttribute(e,a)}}function Xt(e){return e.trim().replace(/\s+/g," ")}function It(e){return new RegExp("(?:^|\\s+)"+V.requote(e)+"(?:\\s+|$)","g")}function Ft(e){return(e+"").trim().split(/^|\s+/)}function Ke(e,a){var v=(e=Ft(e).map(mt)).length;return"function"==typeof a?function k(){for(var T=-1,F=a.apply(this,arguments);++T<v;)e[T](this,F)}:function E(){for(var T=-1;++T<v;)e[T](this,a)}}function mt(e){var a=It(e);return function(v,E){if(k=v.classList)return E?k.add(e):k.remove(e);var k=v.getAttribute("class")||"";E?(a.lastIndex=0,a.test(k)||v.setAttribute("class",Xt(k+" "+e))):v.setAttribute("class",Xt(k.replace(a," ")))}}function St(e,a,v){return null==a?function E(){this.style.removeProperty(e)}:"function"==typeof a?function T(){var F=a.apply(this,arguments);null==F?this.style.removeProperty(e):this.style.setProperty(e,F,v)}:function k(){this.style.setProperty(e,a,v)}}function K(e,a){return null==a?function v(){delete this[e]}:"function"==typeof a?function k(){var T=a.apply(this,arguments);null==T?delete this[e]:this[e]=T}:function E(){this[e]=a}}function se(e){return"function"==typeof e?e:(e=V.ns.qualify(e)).local?function v(){return this.ownerDocument.createElementNS(e.space,e.local)}:function a(){var E=this.ownerDocument,k=this.namespaceURI;return k===Qe&&E.documentElement.namespaceURI===Qe?E.createElement(e):E.createElementNS(k,e)}}function X(){var e=this.parentNode;e&&e.removeChild(this)}function ce(e){return{__data__:e}}function Je(e){return function(){return J(this,e)}}function ie(e){return arguments.length||(e=B),function(a,v){return a&&v?e(a.__data__,v.__data__):!a-!v}}function pe(e,a){for(var v=0,E=e.length;v<E;v++)for(var O,k=e[v],T=0,F=k.length;T<F;T++)(O=k[T])&&a(O,T,v);return e}function Ye(e){return C(e,at),e}V.ns={prefix:ft,qualify:function(e){var a=e.indexOf(":"),v=e;return a>=0&&"xmlns"!==(v=e.slice(0,a))&&(e=e.slice(a+1)),ft.hasOwnProperty(v)?{space:ft[v],local:e}:e}},re.attr=function(e,a){if(arguments.length<2){if("string"==typeof e){var v=this.node();return(e=V.ns.qualify(e)).local?v.getAttributeNS(e.space,e.local):v.getAttribute(e)}for(a in e)this.each(pt(a,e[a]));return this}return this.each(pt(e,a))},re.classed=function(e,a){if(arguments.length<2){if("string"==typeof e){var v=this.node(),E=(e=Ft(e)).length,k=-1;if(a=v.classList){for(;++k<E;)if(!a.contains(e[k]))return!1}else for(a=v.getAttribute("class");++k<E;)if(!It(e[k]).test(a))return!1;return!0}for(a in e)this.each(Ke(a,e[a]));return this}return this.each(Ke(e,a))},re.style=function(e,a,v){var E=arguments.length;if(E<3){if("string"!=typeof e){for(v in E<2&&(a=""),e)this.each(St(v,e[v],a));return this}if(E<2){var k=this.node();return G(k).getComputedStyle(k,null).getPropertyValue(e)}v=""}return this.each(St(e,a,v))},re.property=function(e,a){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(a in e)this.each(K(a,e[a]));return this}return this.each(K(e,a))},re.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var a=e.apply(this,arguments);this.textContent=a??""}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},re.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var a=e.apply(this,arguments);this.innerHTML=a??""}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},re.append=function(e){return e=se(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},re.insert=function(e,a){return e=se(e),a=Ue(a),this.select(function(){return this.insertBefore(e.apply(this,arguments),a.apply(this,arguments)||null)})},re.remove=function(){return this.each(X)},re.data=function(e,a){var k,T,v=-1,E=this.length;if(!arguments.length){for(e=new Array(E=(k=this[0]).length);++v<E;)(T=k[v])&&(e[v]=T.__data__);return e}function F(ne,fe){var _e,Ne,He,Me=ne.length,$e=fe.length,xe=Math.min(Me,$e),Ie=new Array($e),Be=new Array($e),Ge=new Array(Me);if(a){var bt,Ct=new t,vt=new Array(Me);for(_e=-1;++_e<Me;)(Ne=ne[_e])&&(Ct.has(bt=a.call(Ne,Ne.__data__,_e))?Ge[_e]=Ne:Ct.set(bt,Ne),vt[_e]=bt);for(_e=-1;++_e<$e;)(Ne=Ct.get(bt=a.call(fe,He=fe[_e],_e)))?!0!==Ne&&(Ie[_e]=Ne,Ne.__data__=He):Be[_e]=ce(He),Ct.set(bt,!0);for(_e=-1;++_e<Me;)_e in vt&&!0!==Ct.get(vt[_e])&&(Ge[_e]=ne[_e])}else{for(_e=-1;++_e<xe;)He=fe[_e],(Ne=ne[_e])?(Ne.__data__=He,Ie[_e]=Ne):Be[_e]=ce(He);for(;_e<$e;++_e)Be[_e]=ce(fe[_e]);for(;_e<Me;++_e)Ge[_e]=ne[_e]}Be.update=Ie,Be.parentNode=Ie.parentNode=Ge.parentNode=ne.parentNode,O.push(Be),H.push(Ie),$.push(Ge)}var O=Ye([]),H=M([]),$=M([]);if("function"==typeof e)for(;++v<E;)F(k=this[v],e.call(k,k.parentNode.__data__,v));else for(;++v<E;)F(k=this[v],e);return H.enter=function(){return O},H.exit=function(){return $},H},re.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},re.filter=function(e){var v,E,k,a=[];"function"!=typeof e&&(e=Je(e));for(var T=0,F=this.length;T<F;T++){a.push(v=[]),v.parentNode=(E=this[T]).parentNode;for(var O=0,H=E.length;O<H;O++)(k=E[O])&&e.call(k,k.__data__,O,T)&&v.push(k)}return M(a)},re.order=function(){for(var e=-1,a=this.length;++e<a;)for(var T,v=this[e],E=v.length-1,k=v[E];--E>=0;)(T=v[E])&&(k&&k!==T.nextSibling&&k.parentNode.insertBefore(T,k),k=T);return this},re.sort=function(e){e=ie.apply(this,arguments);for(var a=-1,v=this.length;++a<v;)this[a].sort(e);return this.order()},re.each=function(e){return pe(this,function(a,v,E){e.call(a,a.__data__,v,E)})},re.call=function(e){var a=Le(arguments);return e.apply(a[0]=this,a),this},re.empty=function(){return!this.node()},re.node=function(){for(var e=0,a=this.length;e<a;e++)for(var v=this[e],E=0,k=v.length;E<k;E++){var T=v[E];if(T)return T}return null},re.size=function(){var e=0;return pe(this,function(){++e}),e};var at=[];function Gt(e,a,v){var E="__on"+e,k=e.indexOf("."),T=an;k>0&&(e=e.slice(0,k));var F=Jt.get(e);function O(){var ne=this[E];ne&&(this.removeEventListener(e,ne,ne.$),delete this[E])}return F&&(e=F,T=Cn),k?a?function H(){var ne=T(a,Le(arguments));O.call(this),this.addEventListener(e,this[E]=ne,ne.$=v),ne._=a}:O:a?le:function $(){var fe,ne=new RegExp("^__on([^.]+)"+V.requote(e)+"$");for(var _e in this)if(fe=_e.match(ne)){var Me=this[_e];this.removeEventListener(fe[1],Me,Me.$),delete this[_e]}}}V.selection.enter=Ye,V.selection.enter.prototype=at,at.append=re.append,at.empty=re.empty,at.node=re.node,at.call=re.call,at.size=re.size,at.select=function(e){for(var v,E,k,T,F,a=[],O=-1,H=this.length;++O<H;){k=(T=this[O]).update,a.push(v=[]),v.parentNode=T.parentNode;for(var $=-1,ne=T.length;++$<ne;)(F=T[$])?(v.push(k[$]=E=e.call(T.parentNode,F.__data__,$,O)),E.__data__=F.__data__):v.push(null)}return M(a)},at.insert=function(e,a){return arguments.length<2&&(a=function dt(e){var a,v;return function(E,k,T){var H,F=e[T].update,O=F.length;for(T!=v&&(v=T,a=0),k>=a&&(a=k+1);!(H=F[a])&&++a<O;);return H}}(this)),re.insert.call(this,e,a)},V.select=function(e){var a;return"string"==typeof e?(a=[U(e,_)]).parentNode=_.documentElement:(a=[e]).parentNode=oe(e),M([a])},V.selectAll=function(e){var a;return"string"==typeof e?(a=Le(ee(e,_))).parentNode=_.documentElement:(a=Le(e)).parentNode=null,M([a])},re.on=function(e,a,v){var E=arguments.length;if(E<3){if("string"!=typeof e){for(v in E<2&&(a=!1),e)this.each(Gt(v,e[v],a));return this}if(E<2)return(E=this.node()["__on"+e])&&E._;v=!1}return this.each(Gt(e,a,v))};var Jt=V.map({mouseenter:"mouseover",mouseleave:"mouseout"});function an(e,a){return function(v){var E=V.event;V.event=v,a[0]=this.__data__;try{e.apply(this,a)}finally{V.event=E}}}function Cn(e,a){var v=an(e,a);return function(E){var k=this,T=E.relatedTarget;(!T||T!==k&&!(8&T.compareDocumentPosition(k)))&&v.call(k,E)}}_&&Jt.forEach(function(e){"on"+e in _&&Jt.remove(e)});var hn,En=0;function Xn(e){var a=".dragsuppress-"+ ++En,v="click"+a,E=V.select(G(e)).on("touchmove"+a,A).on("dragstart"+a,A).on("selectstart"+a,A);if(null==hn&&(hn=!("onselectstart"in e)&&q(e.style,"userSelect")),hn){var k=oe(e).style,T=k[hn];k[hn]="none"}return function(F){if(E.on(a,null),hn&&(k[hn]=T),F){var O=function(){E.on(v,null)};E.on(v,function(){A(),O()},!0),setTimeout(O,0)}}}V.mouse=function(e){return Pn(e,L())};var An=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Pn(e,a){a.changedTouches&&(a=a.changedTouches[0]);var v=e.ownerSVGElement||e;if(v.createSVGPoint){var E=v.createSVGPoint();if(An<0){var k=G(e);if(k.scrollX||k.scrollY){var T=(v=V.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();An=!(T.f||T.e),v.remove()}}return An?(E.x=a.pageX,E.y=a.pageY):(E.x=a.clientX,E.y=a.clientY),[(E=E.matrixTransform(e.getScreenCTM().inverse())).x,E.y]}var F=e.getBoundingClientRect();return[a.clientX-F.left-e.clientLeft,a.clientY-F.top-e.clientTop]}function mr(){return V.event.changedTouches[0].identifier}V.touch=function(e,a,v){if(arguments.length<3&&(v=a,a=L().changedTouches),a)for(var T,E=0,k=a.length;E<k;++E)if((T=a[E]).identifier===v)return Pn(e,T)},V.behavior.drag=function(){var e=z(k,"drag","dragstart","dragend"),a=null,v=T(le,V.mouse,G,"mousemove","mouseup"),E=T(mr,V.touch,R,"touchmove","touchend");function k(){this.on("mousedown.drag",v).on("touchstart.drag",E)}function T(F,O,H,$,ne){return function(){var Ge,_e=V.event.target.correspondingElement||V.event.target,Me=this.parentNode,$e=e.of(this,arguments),xe=0,Ie=F(),Be=".drag"+(null==Ie?"":"-"+Ie),Ne=V.select(H(_e)).on($+Be,function vt(){var $t,sn,gt=O(Me,Ie);gt&&(xe|=($t=gt[0]-Ct[0])|(sn=gt[1]-Ct[1]),Ct=gt,$e({type:"drag",x:gt[0]+Ge[0],y:gt[1]+Ge[1],dx:$t,dy:sn}))}).on(ne+Be,function bt(){O(Me,Ie)&&(Ne.on($+Be,null).on(ne+Be,null),He(xe),$e({type:"dragend"}))}),He=Xn(_e),Ct=O(Me,Ie);Ge=a?[(Ge=a.apply(this,arguments)).x-Ct[0],Ge.y-Ct[1]]:[0,0],$e({type:"dragstart"})}}return k.origin=function(F){return arguments.length?(a=F,k):a},V.rebind(k,e,"on")},V.touches=function(e,a){return arguments.length<2&&(a=L().touches),a?Le(a).map(function(v){var E=Pn(e,v);return E.identifier=v.identifier,E}):[]};var Mt=1e-6,Kn=Mt*Mt,ge=Math.PI,Re=2*ge,je=Re-Mt,Ze=ge/2,Xe=ge/180,st=180/ge;function tn(e){return e>0?1:e<0?-1:0}function Bt(e,a,v){return(a[0]-e[0])*(v[1]-e[1])-(a[1]-e[1])*(v[0]-e[0])}function qt(e){return e>1?0:e<-1?ge:Math.acos(e)}function nn(e){return e>1?Ze:e<-1?-Ze:Math.asin(e)}function cn(e){return((e=Math.exp(e))+1/e)/2}function Ee(e){return(e=Math.sin(e/2))*e}var Vt=Math.SQRT2;V.interpolateZoom=function(e,a){var fe,_e,v=e[0],E=e[1],k=e[2],O=a[2],H=a[0]-v,$=a[1]-E,ne=H*H+$*$;if(ne<Kn)_e=Math.log(O/k)/Vt,fe=function(Ge){return[v+Ge*H,E+Ge*$,k*Math.exp(Vt*Ge*_e)]};else{var Me=Math.sqrt(ne),$e=(O*O-k*k+4*ne)/(2*k*2*Me),xe=(O*O-k*k-4*ne)/(2*O*2*Me),Ie=Math.log(Math.sqrt($e*$e+1)-$e),Be=Math.log(Math.sqrt(xe*xe+1)-xe);_e=(Be-Ie)/Vt,fe=function(Ge){var Ne=Ge*_e,He=cn(Ie),Ct=k/(2*Me)*(He*function Qt(e){return((e=Math.exp(2*e))-1)/(e+1)}(Vt*Ne+Ie)-function _n(e){return((e=Math.exp(e))-1/e)/2}(Ie));return[v+Ct*H,E+Ct*$,k*He/cn(Vt*Ne+Ie)]}}return fe.duration=1e3*_e,fe},V.behavior.zoom=function(){var a,v,E,fe,Me,xe,Ie,Be,Ge,e={x:0,y:0,k:1},k=[960,500],T=Mn,F=250,O=0,H="mousedown.zoom",$="mousemove.zoom",ne="mouseup.zoom",_e="touchstart.zoom",$e=z(Ne,"zoomstart","zoom","zoomend");function Ne(Ot){Ot.on(H,Tn).on(qn+".zoom",en).on("dblclick.zoom",gn).on(_e,Lt)}function He(Ot){return[(Ot[0]-e.x)/e.k,(Ot[1]-e.y)/e.k]}function vt(Ot){e.k=Math.max(T[0],Math.min(T[1],Ot))}function bt(Ot,fn){fn=function Ct(Ot){return[Ot[0]*e.k+e.x,Ot[1]*e.k+e.y]}(fn),e.x+=Ot[0]-fn[0],e.y+=Ot[1]-fn[1]}function gt(Ot,fn,Un,Qn){Ot.__chart__={x:e.x,y:e.y,k:e.k},vt(Math.pow(2,Qn)),bt(v=fn,Un),Ot=V.select(Ot),F>0&&(Ot=Ot.transition().duration(F)),Ot.call(Ne.event)}function $t(){Ie&&Ie.domain(xe.range().map(function(Ot){return(Ot-e.x)/e.k}).map(xe.invert)),Ge&&Ge.domain(Be.range().map(function(Ot){return(Ot-e.y)/e.k}).map(Be.invert))}function sn(Ot){O++||Ot({type:"zoomstart"})}function In(Ot){$t(),Ot({type:"zoom",scale:e.k,translate:[e.x,e.y]})}function xn(Ot){--O||(Ot({type:"zoomend"}),v=null)}function Tn(){var Ot=this,fn=$e.of(Ot,arguments),Un=0,Qn=V.select(G(Ot)).on($,function Or(){Un=1,bt(V.mouse(Ot),cr),In(fn)}).on(ne,function Ti(){Qn.on($,null).on(ne,null),Tr(Un),xn(fn)}),cr=He(V.mouse(Ot)),Tr=Xn(Ot);Es.call(Ot),sn(fn)}function Lt(){var cr,Ot=this,fn=$e.of(Ot,arguments),Un={},Qn=0,Tr=".zoom-"+V.event.changedTouches[0].identifier,Or="touchmove"+Tr,Ti="touchend"+Tr,Bi=[],Ii=V.select(Ot),Fi=Xn(Ot);function xi(){var so=V.touches(Ot);return cr=e.k,so.forEach(function(mi){mi.identifier in Un&&(Un[mi.identifier]=He(mi))}),so}function Hi(){var so=V.event.target;V.select(so).on(Or,No).on(Ti,lu),Bi.push(so);for(var mi=V.event.changedTouches,Ji=0,po=mi.length;Ji<po;++Ji)Un[mi[Ji].identifier]=null;var Qi=xi(),Go=Date.now();if(1===Qi.length)Go-Me<500&&(gt(Ot,Oo=Qi[0],Un[Oo.identifier],Math.floor(Math.log(e.k)/Math.LN2)+1),A()),Me=Go;else if(Qi.length>1){var Oo,ko=Qi[1],Cs=(Oo=Qi[0])[0]-ko[0],lc=Oo[1]-ko[1];Qn=Cs*Cs+lc*lc}}function No(){var mi,Ji,po,Qi,so=V.touches(Ot);Es.call(Ot);for(var Go=0,Oo=so.length;Go<Oo;++Go,Qi=null)if(Qi=Un[(po=so[Go]).identifier]){if(Ji)break;mi=po,Ji=Qi}if(Qi){var ko=(ko=po[0]-mi[0])*ko+(ko=po[1]-mi[1])*ko,Cs=Qn&&Math.sqrt(ko/Qn);mi=[(mi[0]+po[0])/2,(mi[1]+po[1])/2],Ji=[(Ji[0]+Qi[0])/2,(Ji[1]+Qi[1])/2],vt(Cs*cr)}Me=null,bt(mi,Ji),In(fn)}function lu(){if(V.event.touches.length){for(var so=V.event.changedTouches,mi=0,Ji=so.length;mi<Ji;++mi)delete Un[so[mi].identifier];for(var po in Un)return void xi()}V.selectAll(Bi).on(Tr,null),Ii.on(H,Tn).on(_e,Lt),Fi(),xn(fn)}Hi(),sn(fn),Ii.on(H,null).on(_e,Hi)}function en(){var Ot=$e.of(this,arguments);fe?clearTimeout(fe):(Es.call(this),a=He(v=E||V.mouse(this)),sn(Ot)),fe=setTimeout(function(){fe=null,xn(Ot)},50),A(),vt(Math.pow(2,.002*zn())*e.k),bt(v,a),In(Ot)}function gn(){var Ot=V.mouse(this),fn=Math.log(e.k)/Math.LN2;gt(this,Ot,He(Ot),V.event.shiftKey?Math.ceil(fn)-1:Math.floor(fn)+1)}return qn||(qn="onwheel"in _?(zn=function(){return-V.event.deltaY*(V.event.deltaMode?120:1)},"wheel"):"onmousewheel"in _?(zn=function(){return V.event.wheelDelta},"mousewheel"):(zn=function(){return-V.event.detail},"MozMousePixelScroll")),Ne.event=function(Ot){Ot.each(function(){var fn=$e.of(this,arguments),Un=e;Bo?V.select(this).transition().each("start.zoom",function(){e=this.__chart__||{x:0,y:0,k:1},sn(fn)}).tween("zoom:zoom",function(){var Qn=k[0],Tr=v?v[0]:Qn/2,Or=v?v[1]:k[1]/2,Ti=V.interpolateZoom([(Tr-e.x)/e.k,(Or-e.y)/e.k,Qn/e.k],[(Tr-Un.x)/Un.k,(Or-Un.y)/Un.k,Qn/Un.k]);return function(Bi){var Ii=Ti(Bi),Fi=Qn/Ii[2];this.__chart__=e={x:Tr-Ii[0]*Fi,y:Or-Ii[1]*Fi,k:Fi},In(fn)}}).each("interrupt.zoom",function(){xn(fn)}).each("end.zoom",function(){xn(fn)}):(this.__chart__=e,sn(fn),In(fn),xn(fn))})},Ne.translate=function(Ot){return arguments.length?(e={x:+Ot[0],y:+Ot[1],k:e.k},$t(),Ne):[e.x,e.y]},Ne.scale=function(Ot){return arguments.length?(e={x:e.x,y:e.y,k:null},vt(+Ot),$t(),Ne):e.k},Ne.scaleExtent=function(Ot){return arguments.length?(T=null==Ot?Mn:[+Ot[0],+Ot[1]],Ne):T},Ne.center=function(Ot){return arguments.length?(E=Ot&&[+Ot[0],+Ot[1]],Ne):E},Ne.size=function(Ot){return arguments.length?(k=Ot&&[+Ot[0],+Ot[1]],Ne):k},Ne.duration=function(Ot){return arguments.length?(F=+Ot,Ne):F},Ne.x=function(Ot){return arguments.length?(Ie=Ot,xe=Ot.copy(),e={x:0,y:0,k:1},Ne):Ie},Ne.y=function(Ot){return arguments.length?(Ge=Ot,Be=Ot.copy(),e={x:0,y:0,k:1},Ne):Ge},V.rebind(Ne,$e,"on")};var zn,qn,Mn=[0,1/0];function Fn(){}function Gn(e,a,v){return this instanceof Gn?(this.h=+e,this.s=+a,void(this.l=+v)):arguments.length<2?e instanceof Gn?new Gn(e.h,e.s,e.l):Dr(""+e,Zr,Gn):new Gn(e,a,v)}V.color=Fn,Fn.prototype.toString=function(){return this.rgb()+""},V.hsl=Gn;var Hn=Gn.prototype=new Fn;function Yn(e,a,v){var E,k;function F(O){return Math.round(255*function T(O){return O>360?O-=360:O<0&&(O+=360),O<60?E+(k-E)*O/60:O<180?k:O<240?E+(k-E)*(240-O)/60:E}(O))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,a=isNaN(a)||a<0?0:a>1?1:a,E=2*(v=v<0?0:v>1?1:v)-(k=v<=.5?v*(1+a):v+a-v*a),new zr(F(e+120),F(e),F(e-120))}function rt(e,a,v){return this instanceof rt?(this.h=+e,this.c=+a,void(this.l=+v)):arguments.length<2?e instanceof rt?new rt(e.h,e.c,e.l):function Qr(e,a,v){return e>0?new rt(Math.atan2(v,a)*st,Math.sqrt(a*a+v*v),e):new rt(NaN,NaN,e)}(e instanceof it?e.l:(e=si((e=V.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new rt(e,a,v)}Hn.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Gn(this.h,this.s,this.l/e)},Hn.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Gn(this.h,this.s,e*this.l)},Hn.rgb=function(){return Yn(this.h,this.s,this.l)},V.hcl=rt;var de=rt.prototype=new Fn;function nt(e,a,v){return isNaN(e)&&(e=0),isNaN(a)&&(a=0),new it(v,Math.cos(e*=Xe)*a,Math.sin(e)*a)}function it(e,a,v){return this instanceof it?(this.l=+e,this.a=+a,void(this.b=+v)):arguments.length<2?e instanceof it?new it(e.l,e.a,e.b):e instanceof rt?nt(e.h,e.c,e.l):si((e=zr(e)).r,e.g,e.b):new it(e,a,v)}de.brighter=function(e){return new rt(this.h,this.c,Math.min(100,this.l+ye*(arguments.length?e:1)))},de.darker=function(e){return new rt(this.h,this.c,Math.max(0,this.l-ye*(arguments.length?e:1)))},de.rgb=function(){return nt(this.h,this.c,this.l).rgb()},V.lab=it;var ye=18,ct=.95047,Xr=1,vi=1.08883,Kr=it.prototype=new Fn;function oi(e,a,v){var E=(e+16)/116,k=E+a/500,T=E-v/200;return new zr(Vr(3.2404542*(k=hr(k)*ct)-1.5371385*(E=hr(E)*Xr)-.4985314*(T=hr(T)*vi)),Vr(-.969266*k+1.8760108*E+.041556*T),Vr(.0556434*k-.2040259*E+1.0572252*T))}function hr(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function li(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function Vr(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function zr(e,a,v){return this instanceof zr?(this.r=~~e,this.g=~~a,void(this.b=~~v)):arguments.length<2?e instanceof zr?new zr(e.r,e.g,e.b):Dr(""+e,zr,Yn):new zr(e,a,v)}function Ei(e){return new zr(e>>16,e>>8&255,255&e)}function ei(e){return Ei(e)+""}Kr.brighter=function(e){return new it(Math.min(100,this.l+ye*(arguments.length?e:1)),this.a,this.b)},Kr.darker=function(e){return new it(Math.max(0,this.l-ye*(arguments.length?e:1)),this.a,this.b)},Kr.rgb=function(){return oi(this.l,this.a,this.b)},V.rgb=zr;var ci=zr.prototype=new Fn;function Gr(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Dr(e,a,v){var F,O,H,E=0,k=0,T=0;if(F=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(O=F[2].split(","),F[1]){case"hsl":return v(parseFloat(O[0]),parseFloat(O[1])/100,parseFloat(O[2])/100);case"rgb":return a(Br(O[0]),Br(O[1]),Br(O[2]))}return(H=Jn.get(e))?a(H.r,H.g,H.b):(null!=e&&"#"===e.charAt(0)&&!isNaN(H=parseInt(e.slice(1),16))&&(4===e.length?(E=(3840&H)>>4,E|=E>>4,k=240&H,k|=k>>4,T=15&H,T|=T<<4):7===e.length&&(E=(16711680&H)>>16,k=(65280&H)>>8,T=255&H)),a(E,k,T))}function Zr(e,a,v){var F,O,E=Math.min(e/=255,a/=255,v/=255),k=Math.max(e,a,v),T=k-E,H=(k+E)/2;return T?(O=H<.5?T/(k+E):T/(2-k-E),F=e==k?(a-v)/T+(a<v?6:0):a==k?(v-e)/T+2:(e-a)/T+4,F*=60):(F=NaN,O=H>0&&H<1?0:F),new Gn(F,O,H)}function si(e,a,v){var E=li((.4124564*(e=yi(e))+.3575761*(a=yi(a))+.1804375*(v=yi(v)))/ct),k=li((.2126729*e+.7151522*a+.072175*v)/Xr);return it(116*k-16,500*(E-k),200*(k-li((.0193339*e+.119192*a+.9503041*v)/vi)))}function yi(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Br(e){var a=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*a):a}ci.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var a=this.r,v=this.g,E=this.b,k=30;return a||v||E?(a&&a<k&&(a=k),v&&v<k&&(v=k),E&&E<k&&(E=k),new zr(Math.min(255,a/e),Math.min(255,v/e),Math.min(255,E/e))):new zr(k,k,k)},ci.darker=function(e){return new zr((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},ci.hsl=function(){return Zr(this.r,this.g,this.b)},ci.toString=function(){return"#"+Gr(this.r)+Gr(this.g)+Gr(this.b)};var Jn=V.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function _r(e){return"function"==typeof e?e:function(){return e}}function Wi(e){return function(a,v,E){return 2===arguments.length&&"function"==typeof v&&(E=v,v=null),qi(a,v,e,E)}}function qi(e,a,v,E){var k={},T=V.dispatch("beforesend","progress","load","error"),F={},O=new XMLHttpRequest,H=null;function $(){var fe,ne=O.status;if(!ne&&function _i(e){var a=e.responseType;return a&&"text"!==a?e.response:e.responseText}(O)||ne>=200&&ne<300||304===ne){try{fe=v.call(k,O)}catch(_e){return void T.error.call(k,_e)}T.load.call(k,fe)}else T.error.call(k,O)}return this.XDomainRequest&&!("withCredentials"in O)&&/^(http(s)?:)?\/\//.test(e)&&(O=new XDomainRequest),"onload"in O?O.onload=O.onerror=$:O.onreadystatechange=function(){O.readyState>3&&$()},O.onprogress=function(ne){var fe=V.event;V.event=ne;try{T.progress.call(k,O)}finally{V.event=fe}},k.header=function(ne,fe){return ne=(ne+"").toLowerCase(),arguments.length<2?F[ne]:(null==fe?delete F[ne]:F[ne]=fe+"",k)},k.mimeType=function(ne){return arguments.length?(a=null==ne?null:ne+"",k):a},k.responseType=function(ne){return arguments.length?(H=ne,k):H},k.response=function(ne){return v=ne,k},["get","post"].forEach(function(ne){k[ne]=function(){return k.send.apply(k,[ne].concat(Le(arguments)))}}),k.send=function(ne,fe,_e){if(2===arguments.length&&"function"==typeof fe&&(_e=fe,fe=null),O.open(ne,e,!0),null!=a&&!("accept"in F)&&(F.accept=a+",*/*"),O.setRequestHeader)for(var Me in F)O.setRequestHeader(Me,F[Me]);return null!=a&&O.overrideMimeType&&O.overrideMimeType(a),null!=H&&(O.responseType=H),null!=_e&&k.on("error",_e).on("load",function($e){_e(null,$e)}),T.beforesend.call(k,O),O.send(fe??null),k},k.abort=function(){return O.abort(),k},V.rebind(k,T,"on"),null==E?k:k.get(function eo(e){return 1===e.length?function(a,v){e(null==a?v:null)}:e}(E))}Jn.forEach(function(e,a){Jn.set(e,Ei(a))}),V.functor=_r,V.xhr=Wi(R),V.dsv=function(e,a){var v=new RegExp('["'+e+"\n]"),E=e.charCodeAt(0);function k($,ne,fe){arguments.length<3&&(fe=ne,ne=null);var _e=qi($,a,null==ne?T:F(ne),fe);return _e.row=function(Me){return arguments.length?_e.response(null==(ne=Me)?T:F(Me)):ne},_e}function T($){return k.parse($.responseText)}function F($){return function(ne){return k.parse(ne.responseText,$)}}function O($){return $.map(H).join(e)}function H($){return v.test($)?'"'+$.replace(/\"/g,'""')+'"':$}return k.parse=function($,ne){var fe;return k.parseRows($,function(_e,Me){if(fe)return fe(_e,Me-1);var $e=new Function("d","return {"+_e.map(function(xe,Ie){return JSON.stringify(xe)+": d["+Ie+"]"}).join(",")+"}");fe=ne?function(xe,Ie){return ne($e(xe),Ie)}:$e})},k.parseRows=function($,ne){var Be,Ge,fe={},_e={},Me=[],$e=$.length,xe=0,Ie=0;function Ne(){if(xe>=$e)return _e;if(Ge)return Ge=!1,fe;var Ct=xe;if(34===$.charCodeAt(Ct)){for(var vt=Ct;vt++<$e;)if(34===$.charCodeAt(vt)){if(34!==$.charCodeAt(vt+1))break;++vt}return xe=vt+2,13===(bt=$.charCodeAt(vt+1))?(Ge=!0,10===$.charCodeAt(vt+2)&&++xe):10===bt&&(Ge=!0),$.slice(Ct+1,vt).replace(/""/g,'"')}for(;xe<$e;){var bt,gt=1;if(10===(bt=$.charCodeAt(xe++)))Ge=!0;else if(13===bt)Ge=!0,10===$.charCodeAt(xe)&&(++xe,++gt);else if(bt!==E)continue;return $.slice(Ct,xe-gt)}return $.slice(Ct)}for(;(Be=Ne())!==_e;){for(var He=[];Be!==fe&&Be!==_e;)He.push(Be),Be=Ne();ne&&null==(He=ne(He,Ie++))||Me.push(He)}return Me},k.format=function($){if(Array.isArray($[0]))return k.formatRows($);var ne=new S,fe=[];return $.forEach(function(_e){for(var Me in _e)ne.has(Me)||fe.push(ne.add(Me))}),[fe.map(H).join(e)].concat($.map(function(_e){return fe.map(function(Me){return H(_e[Me])}).join(e)})).join("\n")},k.formatRows=function($){return $.map(O).join("\n")},k},V.csv=V.dsv(",","text/csv"),V.tsv=V.dsv("\t","text/tab-separated-values");var ki,Pi,hi,Nr,to=this[q(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function P(e,a,v){var E=arguments.length;E<2&&(a=0),E<3&&(v=Date.now());var T={c:e,t:v+a,n:null};return Pi?Pi.n=T:ki=T,Pi=T,hi||(Nr=clearTimeout(Nr),hi=1,to(W)),T}function W(){var e=Q(),a=he()-e;a>24?(isFinite(a)&&(clearTimeout(Nr),Nr=setTimeout(W,a)),hi=0):(hi=1,to(W))}function Q(){for(var e=Date.now(),a=ki;a;)e>=a.t&&a.c(e-a.t)&&(a.c=null),a=a.n;return e}function he(){for(var e,a=ki,v=1/0;a;)a.c?(a.t<v&&(v=a.t),a=(e=a).n):a=e?e.n=a.n:ki=a.n;return Pi=e,v}function me(e,a){return a-(e?Math.ceil(Math.log(e)/Math.LN10):1)}V.timer=function(){P.apply(this,arguments)},V.timer.flush=function(){Q(),he()},V.round=function(e,a){return a?Math.round(e*(a=Math.pow(10,a)))/a:Math.round(e)};var Te=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(function Se(e,a){var v=Math.pow(10,3*c(8-a));return{scale:a>8?function(E){return E/v}:function(E){return E*v},symbol:e}});function Oe(e){var a=e.decimal,v=e.thousands,E=e.grouping,k=e.currency,T=E&&v?function(F,O){for(var H=F.length,$=[],ne=0,fe=E[0],_e=0;H>0&&fe>0&&(_e+fe+1>O&&(fe=Math.max(1,O-_e)),$.push(F.substring(H-=fe,H+fe)),!((_e+=fe+1)>O));)fe=E[ne=(ne+1)%E.length];return $.reverse().join(v)}:R;return function(F){var O=qe.exec(F),H=O[1]||" ",$=O[2]||">",ne=O[3]||"-",fe=O[4]||"",_e=O[5],Me=+O[6],$e=O[7],xe=O[8],Ie=O[9],Be=1,Ge="",Ne="",He=!1,Ct=!0;switch(xe&&(xe=+xe.substring(1)),(_e||"0"===H&&"="===$)&&(_e=H="0",$="="),Ie){case"n":$e=!0,Ie="g";break;case"%":Be=100,Ne="%",Ie="f";break;case"p":Be=100,Ne="%",Ie="r";break;case"b":case"o":case"x":case"X":"#"===fe&&(Ge="0"+Ie.toLowerCase());case"c":Ct=!1;case"d":He=!0,xe=0;break;case"s":Be=-1,Ie="r"}"$"===fe&&(Ge=k[0],Ne=k[1]),"r"==Ie&&!xe&&(Ie="g"),null!=xe&&("g"==Ie?xe=Math.max(1,Math.min(21,xe)):("e"==Ie||"f"==Ie)&&(xe=Math.max(0,Math.min(20,xe)))),Ie=yt.get(Ie)||jt;var vt=_e&&$e;return function(bt){var gt=Ne;if(He&&bt%1)return"";var $t=bt<0||0===bt&&1/bt<0?(bt=-bt,"-"):"-"===ne?"":ne;if(Be<0){var sn=V.formatPrefix(bt,xe);bt=sn.scale(bt),gt=sn.symbol+Ne}else bt*=Be;var xn,Tn,In=(bt=Ie(bt,xe)).lastIndexOf(".");if(In<0){var Lt=Ct?bt.lastIndexOf("e"):-1;Lt<0?(xn=bt,Tn=""):(xn=bt.substring(0,Lt),Tn=bt.substring(Lt))}else xn=bt.substring(0,In),Tn=a+bt.substring(In+1);!_e&&$e&&(xn=T(xn,1/0));var en=Ge.length+xn.length+Tn.length+(vt?0:$t.length),gn=en<Me?new Array(en=Me-en+1).join(H):"";return vt&&(xn=T(gn+xn,gn.length?Me-Tn.length:1/0)),$t+=Ge,bt=xn+Tn,("<"===$?$t+bt+gn:">"===$?gn+$t+bt:"^"===$?gn.substring(0,en>>=1)+$t+bt+gn.substring(en):$t+(vt?bt:gn+bt))+gt}}}V.formatPrefix=function(e,a){var v=0;return(e=+e)&&(e<0&&(e*=-1),a&&(e=V.round(e,me(e,a))),v=1+Math.floor(1e-12+Math.log(e)/Math.LN10),v=Math.max(-24,Math.min(24,3*Math.floor((v-1)/3)))),Te[8+v/3]};var qe=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,yt=V.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,a){return e.toPrecision(a)},e:function(e,a){return e.toExponential(a)},f:function(e,a){return e.toFixed(a)},r:function(e,a){return(e=V.round(e,me(e,a))).toFixed(Math.max(0,Math.min(20,me(e*(1+1e-15),a))))}});function jt(e){return e+""}var ot=V.time={},lt=Date;function Dt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Dt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Yt.setUTCDate.apply(this._,arguments)},setDay:function(){Yt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Yt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Yt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Yt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Yt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Yt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Yt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Yt.setTime.apply(this._,arguments)}};var Yt=Date.prototype;function Tt(e,a,v){function E($){var ne=e($),fe=T(ne,1);return $-ne<fe-$?ne:fe}function k($){return a($=e(new lt($-1)),1),$}function T($,ne){return a($=new lt(+$),ne),$}function F($,ne,fe){var _e=k($),Me=[];if(fe>1)for(;_e<ne;)v(_e)%fe||Me.push(new Date(+_e)),a(_e,1);else for(;_e<ne;)Me.push(new Date(+_e)),a(_e,1);return Me}e.floor=e,e.round=E,e.ceil=k,e.offset=T,e.range=F;var H=e.utc=zt(e);return H.floor=H,H.round=zt(E),H.ceil=zt(k),H.offset=zt(T),H.range=function O($,ne,fe){try{lt=Dt;var _e=new Dt;return _e._=$,F(_e,ne,fe)}finally{lt=Date}},e}function zt(e){return function(a,v){try{lt=Dt;var E=new Dt;return E._=a,e(E,v)._}finally{lt=Date}}}function Pt(e){var a=e.dateTime,v=e.date,E=e.time,k=e.periods,T=e.days,F=e.shortDays,O=e.months,H=e.shortMonths;function $(Lt){var en=Lt.length;function gn(Ot){for(var cr,Tr,Or,fn=[],Un=-1,Qn=0;++Un<en;)37===Lt.charCodeAt(Un)&&(fn.push(Lt.slice(Qn,Un)),null!=(Tr=dn[cr=Lt.charAt(++Un)])&&(cr=Lt.charAt(++Un)),(Or=He[cr])&&(cr=Or(Ot,Tr??("e"===cr?" ":"0"))),fn.push(cr),Qn=Un+1);return fn.push(Lt.slice(Qn,Un)),fn.join("")}return gn.parse=function(Ot){var fn={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(ne(fn,Lt,Ot,0)!=Ot.length)return null;"p"in fn&&(fn.H=fn.H%12+12*fn.p);var Qn=null!=fn.Z&&lt!==Dt,cr=new(Qn?Dt:lt);return"j"in fn?cr.setFullYear(fn.y,0,fn.j):"W"in fn||"U"in fn?("w"in fn||(fn.w="W"in fn?1:0),cr.setFullYear(fn.y,0,1),cr.setFullYear(fn.y,0,"W"in fn?(fn.w+6)%7+7*fn.W-(cr.getDay()+5)%7:fn.w+7*fn.U-(cr.getDay()+6)%7)):cr.setFullYear(fn.y,fn.m,fn.d),cr.setHours(fn.H+(fn.Z/100|0),fn.M+fn.Z%100,fn.S,fn.L),Qn?cr._:cr},gn.toString=function(){return Lt},gn}function ne(Lt,en,gn,Ot){for(var fn,Un,Qn,cr=0,Tr=en.length,Or=gn.length;cr<Tr;){if(Ot>=Or)return-1;if(37===(fn=en.charCodeAt(cr++))){if(Qn=en.charAt(cr++),!(Un=Ct[Qn in dn?en.charAt(cr++):Qn])||(Ot=Un(Lt,gn,Ot))<0)return-1}else if(fn!=gn.charCodeAt(Ot++))return-1}return Ot}$.utc=function(Lt){var en=$(Lt);function gn(Ot){try{var fn=new(lt=Dt);return fn._=Ot,en(fn)}finally{lt=Date}}return gn.parse=function(Ot){try{lt=Dt;var fn=en.parse(Ot);return fn&&fn._}finally{lt=Date}},gn.toString=en.toString,gn},$.multi=$.utc.multi=Sn;var fe=V.map(),_e=vr(T),Me=br(T),$e=vr(F),xe=br(F),Ie=vr(O),Be=br(O),Ge=vr(H),Ne=br(H);k.forEach(function(Lt,en){fe.set(Lt.toLowerCase(),en)});var He={a:function(Lt){return F[Lt.getDay()]},A:function(Lt){return T[Lt.getDay()]},b:function(Lt){return H[Lt.getMonth()]},B:function(Lt){return O[Lt.getMonth()]},c:$(a),d:function(Lt,en){return jn(Lt.getDate(),en,2)},e:function(Lt,en){return jn(Lt.getDate(),en,2)},H:function(Lt,en){return jn(Lt.getHours(),en,2)},I:function(Lt,en){return jn(Lt.getHours()%12||12,en,2)},j:function(Lt,en){return jn(1+ot.dayOfYear(Lt),en,3)},L:function(Lt,en){return jn(Lt.getMilliseconds(),en,3)},m:function(Lt,en){return jn(Lt.getMonth()+1,en,2)},M:function(Lt,en){return jn(Lt.getMinutes(),en,2)},p:function(Lt){return k[+(Lt.getHours()>=12)]},S:function(Lt,en){return jn(Lt.getSeconds(),en,2)},U:function(Lt,en){return jn(ot.sundayOfYear(Lt),en,2)},w:function(Lt){return Lt.getDay()},W:function(Lt,en){return jn(ot.mondayOfYear(Lt),en,2)},x:$(v),X:$(E),y:function(Lt,en){return jn(Lt.getFullYear()%100,en,2)},Y:function(Lt,en){return jn(Lt.getFullYear()%1e4,en,4)},Z:kn,"%":function(){return"%"}},Ct={a:function vt(Lt,en,gn){$e.lastIndex=0;var Ot=$e.exec(en.slice(gn));return Ot?(Lt.w=xe.get(Ot[0].toLowerCase()),gn+Ot[0].length):-1},A:function bt(Lt,en,gn){_e.lastIndex=0;var Ot=_e.exec(en.slice(gn));return Ot?(Lt.w=Me.get(Ot[0].toLowerCase()),gn+Ot[0].length):-1},b:function gt(Lt,en,gn){Ge.lastIndex=0;var Ot=Ge.exec(en.slice(gn));return Ot?(Lt.m=Ne.get(Ot[0].toLowerCase()),gn+Ot[0].length):-1},B:function $t(Lt,en,gn){Ie.lastIndex=0;var Ot=Ie.exec(en.slice(gn));return Ot?(Lt.m=Be.get(Ot[0].toLowerCase()),gn+Ot[0].length):-1},c:function sn(Lt,en,gn){return ne(Lt,He.c.toString(),en,gn)},d:$n,e:$n,H:Ce,I:Ce,j:Fe,L:on,m:ln,M:_t,p:function Tn(Lt,en,gn){var Ot=fe.get(en.slice(gn,gn+=2).toLowerCase());return null==Ot?-1:(Lt.p=Ot,gn)},S:xt,U:nr,w:tr,W:rr,x:function In(Lt,en,gn){return ne(Lt,He.x.toString(),en,gn)},X:function xn(Lt,en,gn){return ne(Lt,He.X.toString(),en,gn)},y:ze,Y:Jr,Z:Et,"%":pn};return $}ot.year=Tt(function(e){return(e=ot.day(e)).setMonth(0,1),e},function(e,a){e.setFullYear(e.getFullYear()+a)},function(e){return e.getFullYear()}),ot.years=ot.year.range,ot.years.utc=ot.year.utc.range,ot.day=Tt(function(e){var a=new lt(2e3,0);return a.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),a},function(e,a){e.setDate(e.getDate()+a)},function(e){return e.getDate()-1}),ot.days=ot.day.range,ot.days.utc=ot.day.utc.range,ot.dayOfYear=function(e){var a=ot.year(e);return Math.floor((e-a-6e4*(e.getTimezoneOffset()-a.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,a){a=7-a;var v=ot[e]=Tt(function(E){return(E=ot.day(E)).setDate(E.getDate()-(E.getDay()+a)%7),E},function(E,k){E.setDate(E.getDate()+7*Math.floor(k))},function(E){var k=ot.year(E).getDay();return Math.floor((ot.dayOfYear(E)+(k+a)%7)/7)-(k!==a)});ot[e+"s"]=v.range,ot[e+"s"].utc=v.utc.range,ot[e+"OfYear"]=function(E){var k=ot.year(E).getDay();return Math.floor((ot.dayOfYear(E)+(k+a)%7)/7)}}),ot.week=ot.sunday,ot.weeks=ot.sunday.range,ot.weeks.utc=ot.sunday.utc.range,ot.weekOfYear=ot.sundayOfYear;var dn={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,un=/^%/;function jn(e,a,v){var E=e<0?"-":"",k=(E?-e:e)+"",T=k.length;return E+(T<v?new Array(v-T+1).join(a)+k:k)}function vr(e){return new RegExp("^(?:"+e.map(V.requote).join("|")+")","i")}function br(e){for(var a=new t,v=-1,E=e.length;++v<E;)a.set(e[v].toLowerCase(),v);return a}function tr(e,a,v){rn.lastIndex=0;var E=rn.exec(a.slice(v,v+1));return E?(e.w=+E[0],v+E[0].length):-1}function nr(e,a,v){rn.lastIndex=0;var E=rn.exec(a.slice(v));return E?(e.U=+E[0],v+E[0].length):-1}function rr(e,a,v){rn.lastIndex=0;var E=rn.exec(a.slice(v));return E?(e.W=+E[0],v+E[0].length):-1}function Jr(e,a,v){rn.lastIndex=0;var E=rn.exec(a.slice(v,v+4));return E?(e.y=+E[0],v+E[0].length):-1}function ze(e,a,v){rn.lastIndex=0;var E=rn.exec(a.slice(v,v+2));return E?(e.y=function Wt(e){return e+(e>68?1900:2e3)}(+E[0]),v+E[0].length):-1}function Et(e,a,v){return/^[+-]\d{4}$/.test(a=a.slice(v,v+5))?(e.Z=-a,v+5):-1}function ln(e,a,v){rn.lastIndex=0;var E=rn.exec(a.slice(v,v+2));return E?(e.m=E[0]-1,v+E[0].length):-1}function $n(e,a,v){rn.lastIndex=0;var E=rn.exec(a.slice(v,v+2));return E?(e.d=+E[0],v+E[0].length):-1}function Fe(e,a,v){rn.lastIndex=0;var E=rn.exec(a.slice(v,v+3));return E?(e.j=+E[0],v+E[0].length):-1}function Ce(e,a,v){rn.lastIndex=0;var E=rn.exec(a.slice(v,v+2));return E?(e.H=+E[0],v+E[0].length):-1}function _t(e,a,v){rn.lastIndex=0;var E=rn.exec(a.slice(v,v+2));return E?(e.M=+E[0],v+E[0].length):-1}function xt(e,a,v){rn.lastIndex=0;var E=rn.exec(a.slice(v,v+2));return E?(e.S=+E[0],v+E[0].length):-1}function on(e,a,v){rn.lastIndex=0;var E=rn.exec(a.slice(v,v+3));return E?(e.L=+E[0],v+E[0].length):-1}function kn(e){var a=e.getTimezoneOffset(),v=a>0?"-":"+",E=c(a)/60|0,k=c(a)%60;return v+jn(E,"0",2)+jn(k,"0",2)}function pn(e,a,v){un.lastIndex=0;var E=un.exec(a.slice(v,v+1));return E?v+E[0].length:-1}function Sn(e){for(var a=e.length,v=-1;++v<a;)e[v][0]=this(e[v][0]);return function(E){for(var k=0,T=e[k];!T[1](E);)T=e[++k];return T[0](E)}}V.locale=function(e){return{numberFormat:Oe(e),timeFormat:Pt(e)}};var bn=V.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ln(){}V.format=bn.numberFormat,V.geo={},Ln.prototype={s:0,t:0,add:function(e){dr(e,this.t,Wn),dr(Wn.s,this.s,this),this.s?this.t+=Wn.t:this.s=Wn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Wn=new Ln;function dr(e,a,v){var E=v.s=e+a,k=E-e;v.t=e-(E-k)+(a-k)}function er(e,a){e&&ur.hasOwnProperty(e.type)&&ur[e.type](e,a)}V.geo.stream=function(e,a){e&&xr.hasOwnProperty(e.type)?xr[e.type](e,a):er(e,a)};var xr={Feature:function(e,a){er(e.geometry,a)},FeatureCollection:function(e,a){for(var v=e.features,E=-1,k=v.length;++E<k;)er(v[E].geometry,a)}},ur={Sphere:function(e,a){a.sphere()},Point:function(e,a){a.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,a){for(var v=e.coordinates,E=-1,k=v.length;++E<k;)a.point((e=v[E])[0],e[1],e[2])},LineString:function(e,a){Er(e.coordinates,a,0)},MultiLineString:function(e,a){for(var v=e.coordinates,E=-1,k=v.length;++E<k;)Er(v[E],a,0)},Polygon:function(e,a){pr(e.coordinates,a)},MultiPolygon:function(e,a){for(var v=e.coordinates,E=-1,k=v.length;++E<k;)pr(v[E],a)},GeometryCollection:function(e,a){for(var v=e.geometries,E=-1,k=v.length;++E<k;)er(v[E],a)}};function Er(e,a,v){var T,E=-1,k=e.length-v;for(a.lineStart();++E<k;)a.point((T=e[E])[0],T[1],T[2]);a.lineEnd()}function pr(e,a){var v=-1,E=e.length;for(a.polygonStart();++v<E;)Er(e[v],a,1);a.polygonEnd()}V.geo.area=function(e){return Cr=0,V.geo.stream(e,qr),Cr};var Cr,fr=new Ln,qr={sphere:function(){Cr+=4*ge},point:le,lineStart:le,lineEnd:le,polygonStart:function(){fr.reset(),qr.lineStart=fi},polygonEnd:function(){var e=2*fr;Cr+=e<0?4*ge+e:e,qr.lineStart=qr.lineEnd=qr.point=le}};function fi(){var e,a,v,E,k;function T(F,O){O=O*Xe/2+ge/4;var H=(F*=Xe)-v,$=H>=0?1:-1,ne=$*H,fe=Math.cos(O),_e=Math.sin(O),Me=k*_e,$e=E*fe+Me*Math.cos(ne),xe=Me*$*Math.sin(ne);fr.add(Math.atan2(xe,$e)),v=F,E=fe,k=_e}qr.point=function(F,O){qr.point=T,v=(e=F)*Xe,E=Math.cos(O=(a=O)*Xe/2+ge/4),k=Math.sin(O)},qr.lineEnd=function(){T(e,a)}}function ti(e){var a=e[0],v=e[1],E=Math.cos(v);return[E*Math.cos(a),E*Math.sin(a),Math.sin(v)]}function ni(e,a){return e[0]*a[0]+e[1]*a[1]+e[2]*a[2]}function Hr(e,a){return[e[1]*a[2]-e[2]*a[1],e[2]*a[0]-e[0]*a[2],e[0]*a[1]-e[1]*a[0]]}function Yi(e,a){e[0]+=a[0],e[1]+=a[1],e[2]+=a[2]}function $i(e,a){return[e[0]*a,e[1]*a,e[2]*a]}function Ri(e){var a=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=a,e[1]/=a,e[2]/=a}function ri(e){return[Math.atan2(e[1],e[0]),nn(e[2])]}function Ki(e,a){return c(e[0]-a[0])<Mt&&c(e[1]-a[1])<Mt}V.geo.bounds=function(){var e,a,v,E,k,T,F,O,H,$,ne,fe={point:_e,lineStart:$e,lineEnd:xe,polygonStart:function(){fe.point=Ie,fe.lineStart=Be,fe.lineEnd=Ge,H=0,qr.polygonStart()},polygonEnd:function(){qr.polygonEnd(),fe.point=_e,fe.lineStart=$e,fe.lineEnd=xe,fr<0?(e=-(v=180),a=-(E=90)):H>Mt?E=90:H<-Mt&&(a=-90),ne[0]=e,ne[1]=v}};function _e(vt,bt){$.push(ne=[e=vt,v=vt]),bt<a&&(a=bt),bt>E&&(E=bt)}function Me(vt,bt){var gt=ti([vt*Xe,bt*Xe]);if(O){var $t=Hr(O,gt),In=Hr([$t[1],-$t[0],0],$t);Ri(In),In=ri(In);var xn=vt-k,Tn=xn>0?1:-1,Lt=In[0]*st*Tn,en=c(xn)>180;if(en^(Tn*k<Lt&&Lt<Tn*vt))(gn=In[1]*st)>E&&(E=gn);else if(en^(Tn*k<(Lt=(Lt+360)%360-180)&&Lt<Tn*vt)){var gn;(gn=-In[1]*st)<a&&(a=gn)}else bt<a&&(a=bt),bt>E&&(E=bt);en?vt<k?Ne(e,vt)>Ne(e,v)&&(v=vt):Ne(vt,v)>Ne(e,v)&&(e=vt):v>=e?(vt<e&&(e=vt),vt>v&&(v=vt)):vt>k?Ne(e,vt)>Ne(e,v)&&(v=vt):Ne(vt,v)>Ne(e,v)&&(e=vt)}else _e(vt,bt);O=gt,k=vt}function $e(){fe.point=Me}function xe(){ne[0]=e,ne[1]=v,fe.point=_e,O=null}function Ie(vt,bt){if(O){var gt=vt-k;H+=c(gt)>180?gt+(gt>0?360:-360):gt}else T=vt,F=bt;qr.point(vt,bt),Me(vt,bt)}function Be(){qr.lineStart()}function Ge(){Ie(T,F),qr.lineEnd(),c(H)>Mt&&(e=-(v=180)),ne[0]=e,ne[1]=v,O=null}function Ne(vt,bt){return(bt-=vt)<0?bt+360:bt}function He(vt,bt){return vt[0]-bt[0]}function Ct(vt,bt){return bt[0]<=bt[1]?bt[0]<=vt&&vt<=bt[1]:vt<bt[0]||bt[1]<vt}return function(vt){if(E=v=-(e=a=1/0),$=[],V.geo.stream(vt,fe),bt=$.length){$.sort(He);for(var gt=1,In=[$t=$[0]];gt<bt;++gt)Ct((sn=$[gt])[0],$t)||Ct(sn[1],$t)?(Ne($t[0],sn[1])>Ne($t[0],$t[1])&&($t[1]=sn[1]),Ne(sn[0],$t[1])>Ne($t[0],$t[1])&&($t[0]=sn[0])):In.push($t=sn);for(var Tn,bt,sn,xn=-1/0,$t=(gt=0,In[bt=In.length-1]);gt<=bt;$t=sn,++gt)(Tn=Ne($t[1],(sn=In[gt])[0]))>xn&&(xn=Tn,e=sn[0],v=$t[1])}return $=ne=null,e===1/0||a===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,a],[v,E]]}}(),V.geo.centroid=function(e){Ni=Oi=bi=Si=ai=Mi=Vi=Di=Ae=Ve=tt=0,V.geo.stream(e,ht);var a=Ae,v=Ve,E=tt,k=a*a+v*v+E*E;return k<Kn&&(a=Mi,v=Vi,E=Di,Oi<Mt&&(a=bi,v=Si,E=ai),(k=a*a+v*v+E*E)<Kn)?[NaN,NaN]:[Math.atan2(v,a)*st,nn(E/Math.sqrt(k))*st]};var Ni,Oi,bi,Si,ai,Mi,Vi,Di,Ae,Ve,tt,ht={sphere:le,point:Ut,lineStart:Ht,lineEnd:Zt,polygonStart:function(){ht.lineStart=vn},polygonEnd:function(){ht.lineStart=Ht}};function Ut(e,a){e*=Xe;var v=Math.cos(a*=Xe);Rt(v*Math.cos(e),v*Math.sin(e),Math.sin(a))}function Rt(e,a,v){++Ni,bi+=(e-bi)/Ni,Si+=(a-Si)/Ni,ai+=(v-ai)/Ni}function Ht(){var e,a,v;function E(k,T){k*=Xe;var F=Math.cos(T*=Xe),O=F*Math.cos(k),H=F*Math.sin(k),$=Math.sin(T),ne=Math.atan2(Math.sqrt((ne=a*$-v*H)*ne+(ne=v*O-e*$)*ne+(ne=e*H-a*O)*ne),e*O+a*H+v*$);Oi+=ne,Mi+=ne*(e+(e=O)),Vi+=ne*(a+(a=H)),Di+=ne*(v+(v=$)),Rt(e,a,v)}ht.point=function(k,T){k*=Xe;var F=Math.cos(T*=Xe);e=F*Math.cos(k),a=F*Math.sin(k),v=Math.sin(T),ht.point=E,Rt(e,a,v)}}function Zt(){ht.point=Ut}function vn(){var e,a,v,E,k;function T(F,O){F*=Xe;var H=Math.cos(O*=Xe),$=H*Math.cos(F),ne=H*Math.sin(F),fe=Math.sin(O),_e=E*fe-k*ne,Me=k*$-v*fe,$e=v*ne-E*$,xe=Math.sqrt(_e*_e+Me*Me+$e*$e),Ie=v*$+E*ne+k*fe,Be=xe&&-qt(Ie)/xe,Ge=Math.atan2(xe,Ie);Ae+=Be*_e,Ve+=Be*Me,tt+=Be*$e,Oi+=Ge,Mi+=Ge*(v+(v=$)),Vi+=Ge*(E+(E=ne)),Di+=Ge*(k+(k=fe)),Rt(v,E,k)}ht.point=function(F,O){e=F,a=O,ht.point=T,F*=Xe;var H=Math.cos(O*=Xe);v=H*Math.cos(F),E=H*Math.sin(F),k=Math.sin(O),Rt(v,E,k)},ht.lineEnd=function(){T(e,a),ht.lineEnd=Zt,ht.point=Ut}}function On(e,a){function v(E,k){return E=e(E,k),a(E[0],E[1])}return e.invert&&a.invert&&(v.invert=function(E,k){return(E=a.invert(E,k))&&e.invert(E[0],E[1])}),v}function Dn(){return!0}function ir(e,a,v,E,k){var T=[],F=[];if(e.forEach(function(xe){if(!((Ie=xe.length-1)<=0)){var Ie,Be=xe[0],Ge=xe[Ie];if(Ki(Be,Ge)){k.lineStart();for(var Ne=0;Ne<Ie;++Ne)k.point((Be=xe[Ne])[0],Be[1]);return void k.lineEnd()}var He=new Yr(Be,xe,null,!0),Ct=new Yr(Be,null,He,!1);He.o=Ct,T.push(He),F.push(Ct),He=new Yr(Ge,xe,null,!1),Ct=new Yr(Ge,null,He,!0),He.o=Ct,T.push(He),F.push(Ct)}}),F.sort(a),Lr(T),Lr(F),T.length){for(var O=0,H=v,$=F.length;O<$;++O)F[O].e=H=!H;for(var fe,_e,ne=T[0];;){for(var Me=ne,$e=!0;Me.v;)if((Me=Me.n)===ne)return;fe=Me.z,k.lineStart();do{if(Me.v=Me.o.v=!0,Me.e){if($e)for(O=0,$=fe.length;O<$;++O)k.point((_e=fe[O])[0],_e[1]);else E(Me.x,Me.n.x,1,k);Me=Me.n}else{if($e)for(O=(fe=Me.p.z).length-1;O>=0;--O)k.point((_e=fe[O])[0],_e[1]);else E(Me.x,Me.p.x,-1,k);Me=Me.p}fe=(Me=Me.o).z,$e=!$e}while(!Me.v);k.lineEnd()}}}function Lr(e){if(a=e.length){for(var a,k,v=0,E=e[0];++v<a;)E.n=k=e[v],k.p=E,E=k;E.n=k=e[0],k.p=E}}function Yr(e,a,v,E){this.x=e,this.z=a,this.o=v,this.e=E,this.v=!1,this.n=this.p=null}function Wr(e,a,v,E){return function(k,T){var F=a(T),O=k.invert(E[0],E[1]),H={point:$,lineStart:fe,lineEnd:_e,polygonStart:function(){H.point=Ne,H.lineStart=He,H.lineEnd=Ct,Me=[],Be=[]},polygonEnd:function(){H.point=$,H.lineStart=fe,H.lineEnd=_e,Me=V.merge(Me);var vt=function ro(e,a){var v=e[0],E=e[1],k=[Math.sin(v),-Math.cos(v),0],T=0,F=0;fr.reset();for(var O=0,H=a.length;O<H;++O){var $=a[O],ne=$.length;if(ne)for(var fe=$[0],_e=fe[0],Me=fe[1]/2+ge/4,$e=Math.sin(Me),xe=Math.cos(Me),Ie=1;;){Ie===ne&&(Ie=0);var Be=(e=$[Ie])[0],Ge=e[1]/2+ge/4,Ne=Math.sin(Ge),He=Math.cos(Ge),Ct=Be-_e,vt=Ct>=0?1:-1,bt=vt*Ct,gt=bt>ge,$t=$e*Ne;if(fr.add(Math.atan2($t*vt*Math.sin(bt),xe*He+$t*Math.cos(bt))),T+=gt?Ct+vt*Re:Ct,gt^_e>=v^Be>=v){var sn=Hr(ti(fe),ti(e));Ri(sn);var In=Hr(k,sn);Ri(In);var xn=(gt^Ct>=0?-1:1)*nn(In[2]);(E>xn||E===xn&&(sn[0]||sn[1]))&&(F+=gt^Ct>=0?1:-1)}if(!Ie++)break;_e=Be,$e=Ne,xe=He,fe=e}}return(T<-Mt||T<Mt&&fr<-Mt)^1&F}(O,Be);Me.length?(Ie||(T.polygonStart(),Ie=!0),ir(Me,zi,vt,v,T)):vt&&(Ie||(T.polygonStart(),Ie=!0),T.lineStart(),v(null,null,1,T),T.lineEnd()),Ie&&(T.polygonEnd(),Ie=!1),Me=Be=null},sphere:function(){T.polygonStart(),T.lineStart(),v(null,null,1,T),T.lineEnd(),T.polygonEnd()}};function $(vt,bt){var gt=k(vt,bt);e(vt=gt[0],bt=gt[1])&&T.point(vt,bt)}function ne(vt,bt){var gt=k(vt,bt);F.point(gt[0],gt[1])}function fe(){H.point=ne,F.lineStart()}function _e(){H.point=$,F.lineEnd()}var Me,Be,Ge,$e=jr(),xe=a($e),Ie=!1;function Ne(vt,bt){Ge.push([vt,bt]);var gt=k(vt,bt);xe.point(gt[0],gt[1])}function He(){xe.lineStart(),Ge=[]}function Ct(){Ne(Ge[0][0],Ge[0][1]),xe.lineEnd();var gt,vt=xe.clean(),bt=$e.buffer(),$t=bt.length;if(Ge.pop(),Be.push(Ge),Ge=null,$t){if(1&vt){var In,sn=-1;if(($t=(gt=bt[0]).length-1)>0){for(Ie||(T.polygonStart(),Ie=!0),T.lineStart();++sn<$t;)T.point((In=gt[sn])[0],In[1]);T.lineEnd()}return}$t>1&&2&vt&&bt.push(bt.pop().concat(bt.shift())),Me.push(bt.filter(Rr))}}return H}}function Rr(e){return e.length>1}function jr(){var a,e=[];return{lineStart:function(){e.push(a=[])},point:function(v,E){a.push([v,E])},lineEnd:le,buffer:function(){var v=e;return e=[],a=null,v},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function zi(e,a){return((e=e.x)[0]<0?e[1]-Ze-Mt:Ze-e[1])-((a=a.x)[0]<0?a[1]-Ze-Mt:Ze-a[1])}var no=Wr(Dn,function ji(e){var k,a=NaN,v=NaN,E=NaN;return{lineStart:function(){e.lineStart(),k=1},point:function(T,F){var O=T>0?ge:-ge,H=c(T-a);c(H-ge)<Mt?(e.point(a,v=(v+F)/2>0?Ze:-Ze),e.point(E,v),e.lineEnd(),e.lineStart(),e.point(O,v),e.point(T,v),k=0):E!==O&&H>=ge&&(c(a-E)<Mt&&(a-=E*Mt),c(T-O)<Mt&&(T-=O*Mt),v=function ao(e,a,v,E){var k,T,F=Math.sin(e-v);return c(F)>Mt?Math.atan((Math.sin(a)*(T=Math.cos(E))*Math.sin(v)-Math.sin(E)*(k=Math.cos(a))*Math.sin(e))/(k*T*F)):(a+E)/2}(a,v,T,F),e.point(E,v),e.lineEnd(),e.lineStart(),e.point(O,v),k=0),e.point(a=T,v=F),E=O},lineEnd:function(){e.lineEnd(),a=v=NaN},clean:function(){return 2-k}}},function Xi(e,a,v,E){var k;if(null==e)E.point(-ge,k=v*Ze),E.point(0,k),E.point(ge,k),E.point(ge,0),E.point(ge,-k),E.point(0,-k),E.point(-ge,-k),E.point(-ge,0),E.point(-ge,k);else if(c(e[0]-a[0])>Mt){var T=e[0]<a[0]?ge:-ge;E.point(-T,k=v*T/2),E.point(0,k),E.point(T,k)}else E.point(a[0],a[1])},[-ge,-ge/2]);function So(e,a,v,E){return function(k){var xe,T=k.a,F=k.b,O=T.x,H=T.y,fe=0,_e=1,Me=F.x-O,$e=F.y-H;if(xe=e-O,Me||!(xe>0)){if(xe/=Me,Me<0){if(xe<fe)return;xe<_e&&(_e=xe)}else if(Me>0){if(xe>_e)return;xe>fe&&(fe=xe)}if(xe=v-O,Me||!(xe<0)){if(xe/=Me,Me<0){if(xe>_e)return;xe>fe&&(fe=xe)}else if(Me>0){if(xe<fe)return;xe<_e&&(_e=xe)}if(xe=a-H,$e||!(xe>0)){if(xe/=$e,$e<0){if(xe<fe)return;xe<_e&&(_e=xe)}else if($e>0){if(xe>_e)return;xe>fe&&(fe=xe)}if(xe=E-H,$e||!(xe<0)){if(xe/=$e,$e<0){if(xe>_e)return;xe>fe&&(fe=xe)}else if($e>0){if(xe<fe)return;xe<_e&&(_e=xe)}return fe>0&&(k.a={x:O+fe*Me,y:H+fe*$e}),_e<1&&(k.b={x:O+_e*Me,y:H+_e*$e}),k}}}}}}var Ao=1e9;function Yo(e,a,v,E){return function(O){var fe,_e,Me,Ne,He,Ct,vt,bt,gt,$t,sn,H=O,$=jr(),ne=So(e,a,v,E),$e={point:Ge,lineStart:function In(){$e.point=Tn,_e&&_e.push(Me=[]),$t=!0,gt=!1,vt=bt=NaN},lineEnd:function xn(){fe&&(Tn(Ne,He),Ct&&gt&&$.rejoin(),fe.push($.buffer())),$e.point=Ge,gt&&O.lineEnd()},polygonStart:function(){O=$,fe=[],_e=[],sn=!0},polygonEnd:function(){O=H,fe=V.merge(fe);var Lt=function xe(Lt){for(var en=0,gn=_e.length,Ot=Lt[1],fn=0;fn<gn;++fn)for(var Or,Un=1,Qn=_e[fn],cr=Qn.length,Tr=Qn[0];Un<cr;++Un)Or=Qn[Un],Tr[1]<=Ot?Or[1]>Ot&&Bt(Tr,Or,Lt)>0&&++en:Or[1]<=Ot&&Bt(Tr,Or,Lt)<0&&--en,Tr=Or;return 0!==en}([e,E]),en=sn&&Lt,gn=fe.length;(en||gn)&&(O.polygonStart(),en&&(O.lineStart(),Ie(null,null,1,O),O.lineEnd()),gn&&ir(fe,T,Lt,Ie,O),O.polygonEnd()),fe=_e=Me=null}};function Ie(Lt,en,gn,Ot){var fn=0,Un=0;if(null==Lt||(fn=k(Lt,gn))!==(Un=k(en,gn))||F(Lt,en)<0^gn>0)do{Ot.point(0===fn||3===fn?e:v,fn>1?E:a)}while((fn=(fn+gn+4)%4)!==Un);else Ot.point(en[0],en[1])}function Be(Lt,en){return e<=Lt&&Lt<=v&&a<=en&&en<=E}function Ge(Lt,en){Be(Lt,en)&&O.point(Lt,en)}function Tn(Lt,en){var gn=Be(Lt=Math.max(-Ao,Math.min(Ao,Lt)),en=Math.max(-Ao,Math.min(Ao,en)));if(_e&&Me.push([Lt,en]),$t)Ne=Lt,He=en,Ct=gn,$t=!1,gn&&(O.lineStart(),O.point(Lt,en));else if(gn&&gt)O.point(Lt,en);else{var Ot={a:{x:vt,y:bt},b:{x:Lt,y:en}};ne(Ot)?(gt||(O.lineStart(),O.point(Ot.a.x,Ot.a.y)),O.point(Ot.b.x,Ot.b.y),gn||O.lineEnd(),sn=!1):gn&&(O.lineStart(),O.point(Lt,en),sn=!1)}vt=Lt,bt=en,gt=gn}return $e};function k(O,H){return c(O[0]-e)<Mt?H>0?0:3:c(O[0]-v)<Mt?H>0?2:1:c(O[1]-a)<Mt?H>0?1:0:H>0?3:2}function T(O,H){return F(O.x,H.x)}function F(O,H){var $=k(O,1),ne=k(H,1);return $!==ne?$-ne:0===$?H[1]-O[1]:1===$?O[0]-H[0]:2===$?O[1]-H[1]:H[0]-O[0]}}function Do(e){var a=0,v=ge/3,E=lr(e),k=E(a,v);return k.parallels=function(T){return arguments.length?E(a=T[0]*ge/180,v=T[1]*ge/180):[a/ge*180,v/ge*180]},k}function bo(e,a){var v=Math.sin(e),E=(v+Math.sin(a))/2,k=1+v*(2*E-v),T=Math.sqrt(k)/E;function F(O,H){var $=Math.sqrt(k-2*E*Math.sin(H))/E;return[$*Math.sin(O*=E),T-$*Math.cos(O)]}return F.invert=function(O,H){var $=T-H;return[Math.atan2(O,$)/E,nn((k-(O*O+$*$)*E*E)/(2*E))]},F}V.geo.clipExtent=function(){var e,a,v,E,k,T,F={stream:function(O){return k&&(k.valid=!1),(k=T(O)).valid=!0,k},extent:function(O){return arguments.length?(T=Yo(e=+O[0][0],a=+O[0][1],v=+O[1][0],E=+O[1][1]),k&&(k.valid=!1,k=null),F):[[e,a],[v,E]]}};return F.extent([[0,0],[960,500]])},(V.geo.conicEqualArea=function(){return Do(bo)}).raw=bo,V.geo.albers=function(){return V.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},V.geo.albersUsa=function(){var E,T,F,O,e=V.geo.albers(),a=V.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),v=V.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),k={point:function($,ne){E=[$,ne]}};function H($){var ne=$[0],fe=$[1];return E=null,T(ne,fe),E||(F(ne,fe),E)||O(ne,fe),E}return H.invert=function($){var ne=e.scale(),fe=e.translate(),_e=($[0]-fe[0])/ne,Me=($[1]-fe[1])/ne;return(Me>=.12&&Me<.234&&_e>=-.425&&_e<-.214?a:Me>=.166&&Me<.234&&_e>=-.214&&_e<-.115?v:e).invert($)},H.stream=function($){var ne=e.stream($),fe=a.stream($),_e=v.stream($);return{point:function(Me,$e){ne.point(Me,$e),fe.point(Me,$e),_e.point(Me,$e)},sphere:function(){ne.sphere(),fe.sphere(),_e.sphere()},lineStart:function(){ne.lineStart(),fe.lineStart(),_e.lineStart()},lineEnd:function(){ne.lineEnd(),fe.lineEnd(),_e.lineEnd()},polygonStart:function(){ne.polygonStart(),fe.polygonStart(),_e.polygonStart()},polygonEnd:function(){ne.polygonEnd(),fe.polygonEnd(),_e.polygonEnd()}}},H.precision=function($){return arguments.length?(e.precision($),a.precision($),v.precision($),H):e.precision()},H.scale=function($){return arguments.length?(e.scale($),a.scale(.35*$),v.scale($),H.translate(e.translate())):e.scale()},H.translate=function($){if(!arguments.length)return e.translate();var ne=e.scale(),fe=+$[0],_e=+$[1];return T=e.translate($).clipExtent([[fe-.455*ne,_e-.238*ne],[fe+.455*ne,_e+.238*ne]]).stream(k).point,F=a.translate([fe-.307*ne,_e+.201*ne]).clipExtent([[fe-.425*ne+Mt,_e+.12*ne+Mt],[fe-.214*ne-Mt,_e+.234*ne-Mt]]).stream(k).point,O=v.translate([fe-.205*ne,_e+.212*ne]).clipExtent([[fe-.214*ne+Mt,_e+.166*ne+Mt],[fe-.115*ne-Mt,_e+.234*ne-Mt]]).stream(k).point,H},H.scale(1070)};var zo,jo,Ui={point:le,lineStart:le,lineEnd:le,polygonStart:function(){jo=0,Ui.lineStart=Uo},polygonEnd:function(){Ui.lineStart=Ui.lineEnd=Ui.point=le,zo+=c(jo/2)}};function Uo(){var e,a,v,E;function k(T,F){jo+=E*T-v*F,v=T,E=F}Ui.point=function(T,F){Ui.point=k,e=v=T,a=E=F},Ui.lineEnd=function(){k(e,a)}}var Fo,Co,co,be,D={point:function te(e,a){e<Fo&&(Fo=e),e>co&&(co=e),a<Co&&(Co=a),a>be&&(be=a)},lineStart:le,lineEnd:le,polygonStart:le,polygonEnd:le};function Pe(){var e=et(4.5),a=[],v={point:E,lineStart:function(){v.point=k},lineEnd:F,polygonStart:function(){v.lineEnd=O},polygonEnd:function(){v.lineEnd=F,v.point=E},pointRadius:function(H){return e=et(H),v},result:function(){if(a.length){var H=a.join("");return a=[],H}}};function E(H,$){a.push("M",H,",",$,e)}function k(H,$){a.push("M",H,",",$),v.point=T}function T(H,$){a.push("L",H,",",$)}function F(){v.point=E}function O(){a.push("Z")}return v}function et(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var ut={point:Nt,lineStart:wn,lineEnd:Rn,polygonStart:function(){ut.lineStart=Vn},polygonEnd:function(){ut.point=Nt,ut.lineStart=wn,ut.lineEnd=Rn}};function Nt(e,a){bi+=e,Si+=a,++ai}function wn(){var e,a;function v(E,k){var T=E-e,F=k-a,O=Math.sqrt(T*T+F*F);Mi+=O*(e+E)/2,Vi+=O*(a+k)/2,Di+=O,Nt(e=E,a=k)}ut.point=function(E,k){ut.point=v,Nt(e=E,a=k)}}function Rn(){ut.point=Nt}function Vn(){var e,a,v,E;function k(T,F){var O=T-v,H=F-E,$=Math.sqrt(O*O+H*H);Mi+=$*(v+T)/2,Vi+=$*(E+F)/2,Di+=$,Ae+=($=E*T-v*F)*(v+T),Ve+=$*(E+F),tt+=3*$,Nt(v=T,E=F)}ut.point=function(T,F){ut.point=k,Nt(e=v=T,a=E=F)},ut.lineEnd=function(){k(e,a)}}function Zn(e){var a=4.5,v={point:E,lineStart:function(){v.point=k},lineEnd:F,polygonStart:function(){v.lineEnd=O},polygonEnd:function(){v.lineEnd=F,v.point=E},pointRadius:function(H){return a=H,v},result:le};function E(H,$){e.moveTo(H+a,$),e.arc(H,$,a,0,Re)}function k(H,$){e.moveTo(H,$),v.point=T}function T(H,$){e.lineTo(H,$)}function F(){v.point=E}function O(){e.closePath()}return v}function Bn(e){var a=.5,v=Math.cos(30*Xe),E=16;function k(H){return(E?F:T)(H)}function T(H){return ar(H,function($,ne){$=e($,ne),H.point($[0],$[1])})}function F(H){var $,fe,_e,Me,$e,xe,Ie,Be,Ge,Ne,He,Ct,vt={point:bt,lineStart:gt,lineEnd:sn,polygonStart:function(){H.polygonStart(),vt.lineStart=In},polygonEnd:function(){H.polygonEnd(),vt.lineStart=gt}};function bt(Lt,en){Lt=e(Lt,en),H.point(Lt[0],Lt[1])}function gt(){Be=NaN,vt.point=$t,H.lineStart()}function $t(Lt,en){var gn=ti([Lt,en]),Ot=e(Lt,en);O(Be,Ge,Ie,Ne,He,Ct,Be=Ot[0],Ge=Ot[1],Ie=Lt,Ne=gn[0],He=gn[1],Ct=gn[2],E,H),H.point(Be,Ge)}function sn(){vt.point=bt,H.lineEnd()}function In(){gt(),vt.point=xn,vt.lineEnd=Tn}function xn(Lt,en){$t($=Lt,en),fe=Be,_e=Ge,Me=Ne,$e=He,xe=Ct,vt.point=$t}function Tn(){O(Be,Ge,Ie,Ne,He,Ct,fe,_e,$,Me,$e,xe,E,H),vt.lineEnd=sn,sn()}return vt}function O(H,$,ne,fe,_e,Me,$e,xe,Ie,Be,Ge,Ne,He,Ct){var vt=$e-H,bt=xe-$,gt=vt*vt+bt*bt;if(gt>4*a&&He--){var $t=fe+Be,sn=_e+Ge,In=Me+Ne,xn=Math.sqrt($t*$t+sn*sn+In*In),Tn=Math.asin(In/=xn),Lt=c(c(In)-1)<Mt||c(ne-Ie)<Mt?(ne+Ie)/2:Math.atan2(sn,$t),en=e(Lt,Tn),gn=en[0],Ot=en[1],fn=gn-H,Un=Ot-$,Qn=bt*fn-vt*Un;(Qn*Qn/gt>a||c((vt*fn+bt*Un)/gt-.5)>.3||fe*Be+_e*Ge+Me*Ne<v)&&(O(H,$,ne,fe,_e,Me,gn,Ot,Lt,$t/=xn,sn/=xn,In,He,Ct),Ct.point(gn,Ot),O(gn,Ot,Lt,$t,sn,In,$e,xe,Ie,Be,Ge,Ne,He,Ct))}}return k.precision=function(H){return arguments.length?(E=(a=H*H)>0&&16,k):Math.sqrt(a)},k}function sr(e){this.stream=e}function ar(e,a){return{point:a,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function or(e){return lr(function(){return e})()}function lr(e){var a,v,E,Me,$e,Ne,k=Bn(function(gt,$t){return[(gt=a(gt,$t))[0]*T+Me,$e-gt[1]*T]}),T=150,F=480,O=250,H=0,$=0,ne=0,fe=0,_e=0,xe=no,Ie=R,Be=null,Ge=null;function He(gt){return[(gt=E(gt[0]*Xe,gt[1]*Xe))[0]*T+Me,$e-gt[1]*T]}function Ct(gt){return(gt=E.invert((gt[0]-Me)/T,($e-gt[1])/T))&&[gt[0]*st,gt[1]*st]}function vt(){E=On(v=kr(ne,fe,_e),a);var gt=a(H,$);return Me=F-gt[0]*T,$e=O+gt[1]*T,bt()}function bt(){return Ne&&(Ne.valid=!1,Ne=null),He}return He.stream=function(gt){return Ne&&(Ne.valid=!1),(Ne=Pr(xe(v,k(Ie(gt))))).valid=!0,Ne},He.clipAngle=function(gt){return arguments.length?(xe=null==gt?(Be=gt,no):function io(e){var a=Math.cos(e),v=a>0,E=c(a)>Mt;return Wr(T,function F($){var ne,fe,_e,Me,$e;return{lineStart:function(){Me=_e=!1,$e=1},point:function(xe,Ie){var Ge,Be=[xe,Ie],Ne=T(xe,Ie),He=v?Ne?0:H(xe,Ie):Ne?H(xe+(xe<0?ge:-ge),Ie):0;if(!ne&&(Me=_e=Ne)&&$.lineStart(),Ne!==_e&&(Ge=O(ne,Be),(Ki(ne,Ge)||Ki(Be,Ge))&&(Be[0]+=Mt,Be[1]+=Mt,Ne=T(Be[0],Be[1]))),Ne!==_e)$e=0,Ne?($.lineStart(),Ge=O(Be,ne),$.point(Ge[0],Ge[1])):(Ge=O(ne,Be),$.point(Ge[0],Ge[1]),$.lineEnd()),ne=Ge;else if(E&&ne&&v^Ne){var Ct;!(He&fe)&&(Ct=O(Be,ne,!0))&&($e=0,v?($.lineStart(),$.point(Ct[0][0],Ct[0][1]),$.point(Ct[1][0],Ct[1][1]),$.lineEnd()):($.point(Ct[1][0],Ct[1][1]),$.lineEnd(),$.lineStart(),$.point(Ct[0][0],Ct[0][1])))}Ne&&(!ne||!Ki(ne,Be))&&$.point(Be[0],Be[1]),ne=Be,_e=Ne,fe=He},lineEnd:function(){_e&&$.lineEnd(),ne=null},clean:function(){return $e|(Me&&_e)<<1}}},Ir(e,6*Xe),v?[0,-e]:[-ge,e-ge]);function T($,ne){return Math.cos($)*Math.cos(ne)>a}function O($,ne,fe){var $e=[1,0,0],xe=Hr(ti($),ti(ne)),Ie=ni(xe,xe),Be=xe[0],Ge=Ie-Be*Be;if(!Ge)return!fe&&$;var Ne=a*Ie/Ge,He=-a*Be/Ge,Ct=Hr($e,xe),vt=$i($e,Ne);Yi(vt,$i(xe,He));var gt=Ct,$t=ni(vt,gt),sn=ni(gt,gt),In=$t*$t-sn*(ni(vt,vt)-1);if(!(In<0)){var xn=Math.sqrt(In),Tn=$i(gt,(-$t-xn)/sn);if(Yi(Tn,vt),Tn=ri(Tn),!fe)return Tn;var fn,Lt=$[0],en=ne[0],gn=$[1],Ot=ne[1];en<Lt&&(fn=Lt,Lt=en,en=fn);var Un=en-Lt,Qn=c(Un-ge)<Mt;if(!Qn&&Ot<gn&&(fn=gn,gn=Ot,Ot=fn),Qn||Un<Mt?Qn?gn+Ot>0^Tn[1]<(c(Tn[0]-Lt)<Mt?gn:Ot):gn<=Tn[1]&&Tn[1]<=Ot:Un>ge^(Lt<=Tn[0]&&Tn[0]<=en)){var Tr=$i(gt,(-$t+xn)/sn);return Yi(Tr,vt),[Tn,ri(Tr)]}}}function H($,ne){var fe=v?e:ge-e,_e=0;return $<-fe?_e|=1:$>fe&&(_e|=2),ne<-fe?_e|=4:ne>fe&&(_e|=8),_e}}((Be=+gt)*Xe),bt()):Be},He.clipExtent=function(gt){return arguments.length?(Ge=gt,Ie=gt?Yo(gt[0][0],gt[0][1],gt[1][0],gt[1][1]):R,bt()):Ge},He.scale=function(gt){return arguments.length?(T=+gt,vt()):T},He.translate=function(gt){return arguments.length?(F=+gt[0],O=+gt[1],vt()):[F,O]},He.center=function(gt){return arguments.length?(H=gt[0]%360*Xe,$=gt[1]%360*Xe,vt()):[H*st,$*st]},He.rotate=function(gt){return arguments.length?(ne=gt[0]%360*Xe,fe=gt[1]%360*Xe,_e=gt.length>2?gt[2]%360*Xe:0,vt()):[ne*st,fe*st,_e*st]},V.rebind(He,k,"precision"),function(){return a=e.apply(this,arguments),He.invert=a.invert&&Ct,vt()}}function Pr(e){return ar(e,function(a,v){e.point(a*Xe,v*Xe)})}function wr(e,a){return[e,a]}function gr(e,a){return[e>ge?e-Re:e<-ge?e+Re:e,a]}function kr(e,a,v){return e?a||v?On(Ar(e),Mr(a,v)):Ar(e):a||v?Mr(a,v):gr}function Sr(e){return function(a,v){return[(a+=e)>ge?a-Re:a<-ge?a+Re:a,v]}}function Ar(e){var a=Sr(e);return a.invert=Sr(-e),a}function Mr(e,a){var v=Math.cos(e),E=Math.sin(e),k=Math.cos(a),T=Math.sin(a);function F(O,H){var $=Math.cos(H),ne=Math.cos(O)*$,fe=Math.sin(O)*$,_e=Math.sin(H),Me=_e*v+ne*E;return[Math.atan2(fe*k-Me*T,ne*v-_e*E),nn(Me*k+fe*T)]}return F.invert=function(O,H){var $=Math.cos(H),ne=Math.cos(O)*$,fe=Math.sin(O)*$,_e=Math.sin(H),Me=_e*k-fe*T;return[Math.atan2(fe*k+_e*T,ne*v+Me*E),nn(Me*v-ne*E)]},F}function Ir(e,a){var v=Math.cos(e),E=Math.sin(e);return function(k,T,F,O){var H=F*a;null!=k?(k=Ur(v,k),T=Ur(v,T),(F>0?k<T:k>T)&&(k+=F*Re)):(k=e+F*Re,T=e-.5*H);for(var $,ne=k;F>0?ne>T:ne<T;ne-=H)O.point(($=ri([v,-E*Math.cos(ne),-E*Math.sin(ne)]))[0],$[1])}}function Ur(e,a){var v=ti(a);v[0]-=e,Ri(v);var E=qt(-v[1]);return((-v[2]<0?-E:E)+2*Math.PI-Mt)%(2*Math.PI)}function ui(e,a,v){var E=V.range(e,a-Mt,v).concat(a);return function(k){return E.map(function(T){return[k,T]})}}function di(e,a,v){var E=V.range(e,a-Mt,v).concat(a);return function(k){return E.map(function(T){return[T,k]})}}function Ai(e){return e.source}function $r(e){return e.target}V.geo.path=function(){var a,v,E,k,T,e=4.5;function F(H){return H&&("function"==typeof e&&k.pointRadius(+e.apply(this,arguments)),(!T||!T.valid)&&(T=E(k)),V.geo.stream(H,T)),k.result()}function O(){return T=null,F}return F.area=function(H){return zo=0,V.geo.stream(H,E(Ui)),zo},F.centroid=function(H){return bi=Si=ai=Mi=Vi=Di=Ae=Ve=tt=0,V.geo.stream(H,E(ut)),tt?[Ae/tt,Ve/tt]:Di?[Mi/Di,Vi/Di]:ai?[bi/ai,Si/ai]:[NaN,NaN]},F.bounds=function(H){return co=be=-(Fo=Co=1/0),V.geo.stream(H,E(D)),[[Fo,Co],[co,be]]},F.projection=function(H){return arguments.length?(E=(a=H)?H.stream||function yr(e){var a=Bn(function(v,E){return e([v*st,E*st])});return function(v){return Pr(a(v))}}(H):R,O()):a},F.context=function(H){return arguments.length?(k=null==(v=H)?new Pe:new Zn(H),"function"!=typeof e&&k.pointRadius(e),O()):v},F.pointRadius=function(H){return arguments.length?(e="function"==typeof H?H:(k.pointRadius(+H),+H),F):e},F.projection(V.geo.albersUsa()).context(null)},V.geo.transform=function(e){return{stream:function(a){var v=new sr(a);for(var E in e)v[E]=e[E];return v}}},sr.prototype={point:function(e,a){this.stream.point(e,a)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},V.geo.projection=or,V.geo.projectionMutator=lr,(V.geo.equirectangular=function(){return or(wr)}).raw=wr.invert=wr,V.geo.rotation=function(e){function a(v){return(v=e(v[0]*Xe,v[1]*Xe))[0]*=st,v[1]*=st,v}return e=kr(e[0]%360*Xe,e[1]*Xe,e.length>2?e[2]*Xe:0),a.invert=function(v){return(v=e.invert(v[0]*Xe,v[1]*Xe))[0]*=st,v[1]*=st,v},a},gr.invert=wr,V.geo.circle=function(){var a,E,e=[0,0],v=6;function k(){var T="function"==typeof e?e.apply(this,arguments):e,F=kr(-T[0]*Xe,-T[1]*Xe,0).invert,O=[];return E(null,null,1,{point:function(H,$){O.push(H=F(H,$)),H[0]*=st,H[1]*=st}}),{type:"Polygon",coordinates:[O]}}return k.origin=function(T){return arguments.length?(e=T,k):e},k.angle=function(T){return arguments.length?(E=Ir((a=+T)*Xe,v*Xe),k):a},k.precision=function(T){return arguments.length?(E=Ir(a*Xe,(v=+T)*Xe),k):v},k.angle(90)},V.geo.distance=function(e,a){var fe,v=(a[0]-e[0])*Xe,E=e[1]*Xe,k=a[1]*Xe,T=Math.sin(v),F=Math.cos(v),O=Math.sin(E),H=Math.cos(E),$=Math.sin(k),ne=Math.cos(k);return Math.atan2(Math.sqrt((fe=ne*T)*fe+(fe=H*$-O*ne*F)*fe),O*$+H*ne*F)},V.geo.graticule=function(){var e,a,v,E,k,T,F,O,_e,Me,$e,xe,H=10,$=H,ne=90,fe=360,Ie=2.5;function Be(){return{type:"MultiLineString",coordinates:Ge()}}function Ge(){return V.range(Math.ceil(E/ne)*ne,v,ne).map($e).concat(V.range(Math.ceil(O/fe)*fe,F,fe).map(xe)).concat(V.range(Math.ceil(a/H)*H,e,H).filter(function(Ne){return c(Ne%ne)>Mt}).map(_e)).concat(V.range(Math.ceil(T/$)*$,k,$).filter(function(Ne){return c(Ne%fe)>Mt}).map(Me))}return Be.lines=function(){return Ge().map(function(Ne){return{type:"LineString",coordinates:Ne}})},Be.outline=function(){return{type:"Polygon",coordinates:[$e(E).concat(xe(F).slice(1),$e(v).reverse().slice(1),xe(O).reverse().slice(1))]}},Be.extent=function(Ne){return arguments.length?Be.majorExtent(Ne).minorExtent(Ne):Be.minorExtent()},Be.majorExtent=function(Ne){return arguments.length?(O=+Ne[0][1],F=+Ne[1][1],(E=+Ne[0][0])>(v=+Ne[1][0])&&(Ne=E,E=v,v=Ne),O>F&&(Ne=O,O=F,F=Ne),Be.precision(Ie)):[[E,O],[v,F]]},Be.minorExtent=function(Ne){return arguments.length?(T=+Ne[0][1],k=+Ne[1][1],(a=+Ne[0][0])>(e=+Ne[1][0])&&(Ne=a,a=e,e=Ne),T>k&&(Ne=T,T=k,k=Ne),Be.precision(Ie)):[[a,T],[e,k]]},Be.step=function(Ne){return arguments.length?Be.majorStep(Ne).minorStep(Ne):Be.minorStep()},Be.majorStep=function(Ne){return arguments.length?(ne=+Ne[0],fe=+Ne[1],Be):[ne,fe]},Be.minorStep=function(Ne){return arguments.length?(H=+Ne[0],$=+Ne[1],Be):[H,$]},Be.precision=function(Ne){return arguments.length?(Ie=+Ne,_e=ui(T,k,90),Me=di(a,e,Ie),$e=ui(O,F,90),xe=di(E,v,Ie),Be):Ie},Be.majorExtent([[-180,-90+Mt],[180,90-Mt]]).minorExtent([[-180,-80-Mt],[180,80+Mt]])},V.geo.greatArc=function(){var a,E,e=Ai,v=$r;function k(){return{type:"LineString",coordinates:[a||e.apply(this,arguments),E||v.apply(this,arguments)]}}return k.distance=function(){return V.geo.distance(a||e.apply(this,arguments),E||v.apply(this,arguments))},k.source=function(T){return arguments.length?(e=T,a="function"==typeof T?null:T,k):e},k.target=function(T){return arguments.length?(v=T,E="function"==typeof T?null:T,k):v},k.precision=function(){return arguments.length?k:0},k},V.geo.interpolate=function(e,a){return function go(e,a,v,E){var k=Math.cos(a),T=Math.sin(a),F=Math.cos(E),O=Math.sin(E),H=k*Math.cos(e),$=k*Math.sin(e),ne=F*Math.cos(v),fe=F*Math.sin(v),_e=2*Math.asin(Math.sqrt(Ee(E-a)+k*F*Ee(v-e))),Me=1/Math.sin(_e),$e=_e?function(xe){var Ie=Math.sin(xe*=_e)*Me,Be=Math.sin(_e-xe)*Me,Ge=Be*H+Ie*ne,Ne=Be*$+Ie*fe,He=Be*T+Ie*O;return[Math.atan2(Ne,Ge)*st,Math.atan2(He,Math.sqrt(Ge*Ge+Ne*Ne))*st]}:function(){return[e*st,a*st]};return $e.distance=_e,$e}(e[0]*Xe,e[1]*Xe,a[0]*Xe,a[1]*Xe)},V.geo.length=function(e){return Gi=0,V.geo.stream(e,Ci),Gi};var Gi,Ci={sphere:le,point:le,lineStart:function pi(){var e,a,v;function E(k,T){var F=Math.sin(T*=Xe),O=Math.cos(T),H=c((k*=Xe)-e),$=Math.cos(H);Gi+=Math.atan2(Math.sqrt((H=O*Math.sin(H))*H+(H=v*F-a*O*$)*H),a*F+v*O*$),e=k,a=F,v=O}Ci.point=function(k,T){e=k*Xe,a=Math.sin(T*=Xe),v=Math.cos(T),Ci.point=E},Ci.lineEnd=function(){Ci.point=Ci.lineEnd=le}},lineEnd:le,polygonStart:le,polygonEnd:le};function Fr(e,a){function v(E,k){var T=Math.cos(E),F=Math.cos(k),O=e(T*F);return[O*F*Math.sin(E),O*Math.sin(k)]}return v.invert=function(E,k){var T=Math.sqrt(E*E+k*k),F=a(T),O=Math.sin(F),H=Math.cos(F);return[Math.atan2(E*O,T*H),Math.asin(T&&k*O/T)]},v}var ho=Fr(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(V.geo.azimuthalEqualArea=function(){return or(ho)}).raw=ho;var wi=Fr(function(e){var a=Math.acos(e);return a&&a/Math.sin(a)},R);function gi(e,a){var v=Math.cos(e),E=function(O){return Math.tan(ge/4+O/2)},k=e===a?Math.sin(e):Math.log(v/Math.cos(a))/Math.log(E(a)/E(e)),T=v*Math.pow(E(e),k)/k;if(!k)return uo;function F(O,H){T>0?H<-Ze+Mt&&(H=-Ze+Mt):H>Ze-Mt&&(H=Ze-Mt);var $=T/Math.pow(E(H),k);return[$*Math.sin(k*O),T-$*Math.cos(k*O)]}return F.invert=function(O,H){var $=T-H,ne=tn(k)*Math.sqrt(O*O+$*$);return[Math.atan2(O,$)/k,2*Math.atan(Math.pow(T/ne,1/k))-Ze]},F}function Li(e,a){var v=Math.cos(e),E=e===a?Math.sin(e):(v-Math.cos(a))/(a-e),k=v/E+e;if(c(E)<Mt)return wr;function T(F,O){var H=k-O;return[H*Math.sin(E*F),k-H*Math.cos(E*F)]}return T.invert=function(F,O){var H=k-O;return[Math.atan2(F,H)/E,k-tn(E)*Math.sqrt(F*F+H*H)]},T}(V.geo.azimuthalEquidistant=function(){return or(wi)}).raw=wi,(V.geo.conicConformal=function(){return Do(gi)}).raw=gi,(V.geo.conicEquidistant=function(){return Do(Li)}).raw=Li;var To=Fr(function(e){return 1/e},Math.atan);function uo(e,a){return[e,Math.log(Math.tan(ge/4+a/2))]}function mo(e){var T,a=or(e),v=a.scale,E=a.translate,k=a.clipExtent;return a.scale=function(){var F=v.apply(a,arguments);return F===a?T?a.clipExtent(null):a:F},a.translate=function(){var F=E.apply(a,arguments);return F===a?T?a.clipExtent(null):a:F},a.clipExtent=function(F){var O=k.apply(a,arguments);if(O===a){if(T=null==F){var H=ge*v(),$=E();k([[$[0]-H,$[1]-H],[$[0]+H,$[1]+H]])}}else T&&(O=null);return O},a.clipExtent(null)}(V.geo.gnomonic=function(){return or(To)}).raw=To,uo.invert=function(e,a){return[e,2*Math.atan(Math.exp(a))-Ze]},(V.geo.mercator=function(){return mo(uo)}).raw=uo;var ss=Fr(function(){return 1},Math.asin);(V.geo.orthographic=function(){return or(ss)}).raw=ss;var as=Fr(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});function Io(e,a){return[Math.log(Math.tan(ge/4+a/2)),-e]}function wo(e){return e[0]}function xo(e){return e[1]}function $o(e){for(var a=e.length,v=[0,1],E=2,k=2;k<a;k++){for(;E>1&&Bt(e[v[E-2]],e[v[E-1]],e[k])<=0;)--E;v[E++]=k}return v.slice(0,E)}function cs(e,a){return e[0]-a[0]||e[1]-a[1]}(V.geo.stereographic=function(){return or(as)}).raw=as,Io.invert=function(e,a){return[-a,2*Math.atan(Math.exp(e))-Ze]},(V.geo.transverseMercator=function(){var e=mo(Io),a=e.center,v=e.rotate;return e.center=function(E){return E?a([-E[1],E[0]]):[(E=a())[1],-E[0]]},e.rotate=function(E){return E?v([E[0],E[1],E.length>2?E[2]+90:90]):[(E=v())[0],E[1],E[2]-90]},v([0,0,90])}).raw=Io,V.geom={},V.geom.hull=function(e){var a=wo,v=xo;if(arguments.length)return E(e);function E(k){if(k.length<3)return[];var O,T=_r(a),F=_r(v),H=k.length,$=[],ne=[];for(O=0;O<H;O++)$.push([+T.call(this,k[O],O),+F.call(this,k[O],O),O]);for($.sort(cs),O=0;O<H;O++)ne.push([$[O][0],-$[O][1]]);var fe=$o($),_e=$o(ne),Me=_e[0]===fe[0],$e=_e[_e.length-1]===fe[fe.length-1],xe=[];for(O=fe.length-1;O>=0;--O)xe.push(k[$[fe[O]][2]]);for(O=+Me;O<_e.length-$e;++O)xe.push(k[$[_e[O]][2]]);return xe}return E.x=function(k){return arguments.length?(a=k,E):a},E.y=function(k){return arguments.length?(v=k,E):v},E},V.geom.polygon=function(e){return C(e,Ro),e};var Ro=V.geom.polygon.prototype=[];function Xo(e,a,v){return(v[0]-a[0])*(e[1]-a[1])<(v[1]-a[1])*(e[0]-a[0])}function Zo(e,a,v,E){var k=e[0],T=v[0],F=a[0]-k,O=E[0]-T,H=e[1],$=v[1],ne=a[1]-H,fe=E[1]-$,_e=(O*(H-$)-fe*(k-T))/(fe*F-O*ne);return[k+_e*F,H+_e*ne]}function Mo(e){var a=e[0],v=e[e.length-1];return!(a[0]-v[0]||a[1]-v[1])}Ro.area=function(){for(var v,e=-1,a=this.length,E=this[a-1],k=0;++e<a;)k+=(v=E)[1]*(E=this[e])[0]-v[0]*E[1];return.5*k},Ro.centroid=function(e){var T,O,a=-1,v=this.length,E=0,k=0,F=this[v-1];for(arguments.length||(e=-1/(6*this.area()));++a<v;)E+=((T=F)[0]+(F=this[a])[0])*(O=T[0]*F[1]-F[0]*T[1]),k+=(T[1]+F[1])*O;return[E*e,k*e]},Ro.clip=function(e){for(var a,T,F,H,$,ne,v=Mo(e),E=-1,k=this.length-Mo(this),O=this[k-1];++E<k;){for(a=e.slice(),e.length=0,H=this[E],$=a[(F=a.length-v)-1],T=-1;++T<F;)Xo(ne=a[T],O,H)?(Xo($,O,H)||e.push(Zo($,ne,O,H)),e.push(ne)):Xo($,O,H)&&e.push(Zo($,ne,O,H)),$=ne;v&&e.push(e[0]),O=H}return e};var vo,lo,yo,Ts,Jo,ra=[],ia=[];function fc(){ls(this),this.edge=this.site=this.circle=null}function oa(e){var a=ra.pop()||new fc;return a.site=e,a}function Is(e){Wo(e),yo.remove(e),ra.push(e),ls(e)}function dc(e){var a=e.circle,v=a.x,E=a.cy,k={x:v,y:E},T=e.P,F=e.N,O=[e];Is(e);for(var H=T;H.circle&&c(v-H.circle.x)<Mt&&c(E-H.circle.cy)<Mt;)T=H.P,O.unshift(H),Is(H),H=T;O.unshift(H),Wo(H);for(var $=F;$.circle&&c(v-$.circle.x)<Mt&&c(E-$.circle.cy)<Mt;)F=$.N,O.push($),Is($),$=F;O.push($),Wo($);var fe,ne=O.length;for(fe=1;fe<ne;++fe)hs(($=O[fe]).edge,(H=O[fe-1]).site,$.site,k);($=O[ne-1]).edge=Qo((H=O[0]).site,$.site,null,k),Ho(H),Ho($)}function pc(e){for(var E,k,T,F,a=e.x,v=e.y,O=yo._;O;)if((T=sa(O,v)-a)>Mt)O=O.L;else{if(!((F=a-gc(O,v))>Mt)){T>-Mt?(E=O.P,k=O):F>-Mt?(E=O,k=O.N):E=k=O;break}if(!O.R){E=O;break}O=O.R}var H=oa(e);if(yo.insert(E,H),E||k){if(E===k)return Wo(E),k=oa(E.site),yo.insert(H,k),H.edge=k.edge=Qo(E.site,H.site),Ho(E),void Ho(k);if(!k)return void(H.edge=Qo(E.site,H.site));Wo(E),Wo(k);var $=E.site,ne=$.x,fe=$.y,_e=e.x-ne,Me=e.y-fe,$e=k.site,xe=$e.x-ne,Ie=$e.y-fe,Be=2*(_e*Ie-Me*xe),Ge=_e*_e+Me*Me,Ne=xe*xe+Ie*Ie,He={x:(Ie*Ge-Me*Ne)/Be+ne,y:(_e*Ne-xe*Ge)/Be+fe};hs(k.edge,$,$e,He),H.edge=Qo($,e,null,He),k.edge=Qo(e,$e,null,He),Ho(E),Ho(k)}}function sa(e,a){var v=e.site,E=v.x,k=v.y,T=k-a;if(!T)return E;var F=e.P;if(!F)return-1/0;var O=(v=F.site).x,H=v.y,$=H-a;if(!$)return O;var ne=O-E,fe=1/T-1/$,_e=ne/$;return fe?(-_e+Math.sqrt(_e*_e-2*fe*(ne*ne/(-2*$)-H+$/2+k-T/2)))/fe+E:(E+O)/2}function gc(e,a){var v=e.N;if(v)return sa(v,a);var E=e.site;return E.y===a?E.x:1/0}function aa(e){this.site=e,this.edges=[]}function ca(e,a){return a.angle-e.angle}function vc(){ls(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ho(e){var a=e.P,v=e.N;if(a&&v){var E=a.site,k=e.site,T=v.site;if(E!==T){var F=k.x,O=k.y,H=E.x-F,$=E.y-O,ne=T.x-F,fe=2*(H*(Ie=T.y-O)-$*ne);if(!(fe>=-Kn)){var _e=H*H+$*$,Me=ne*ne+Ie*Ie,$e=(Ie*_e-$*Me)/fe,xe=(H*Me-ne*_e)/fe,Ie=xe+O,Be=ia.pop()||new vc;Be.arc=e,Be.site=k,Be.x=$e+F,Be.y=Ie+Math.sqrt($e*$e+xe*xe),Be.cy=Ie,e.circle=Be;for(var Ge=null,Ne=Jo._;Ne;)if(Be.y<Ne.y||Be.y===Ne.y&&Be.x<=Ne.x){if(!Ne.L){Ge=Ne.P;break}Ne=Ne.L}else{if(!Ne.R){Ge=Ne;break}Ne=Ne.R}Jo.insert(Ge,Be),Ge||(Ts=Be)}}}}function Wo(e){var a=e.circle;a&&(a.P||(Ts=a.N),Jo.remove(a),ia.push(a),ls(a),e.circle=null)}function _c(e,a){var v=e.b;if(v)return!0;var Ie,Be,E=e.a,k=a[0][0],T=a[1][0],F=a[0][1],O=a[1][1],H=e.l,$=e.r,ne=H.x,fe=H.y,_e=$.x,Me=$.y,$e=(ne+_e)/2;if(Me===fe){if($e<k||$e>=T)return;if(ne>_e){if(E){if(E.y>=O)return}else E={x:$e,y:F};v={x:$e,y:O}}else{if(E){if(E.y<F)return}else E={x:$e,y:O};v={x:$e,y:F}}}else if(Be=(fe+Me)/2-(Ie=(ne-_e)/(Me-fe))*$e,Ie<-1||Ie>1)if(ne>_e){if(E){if(E.y>=O)return}else E={x:(F-Be)/Ie,y:F};v={x:(O-Be)/Ie,y:O}}else{if(E){if(E.y<F)return}else E={x:(O-Be)/Ie,y:O};v={x:(F-Be)/Ie,y:F}}else if(fe<Me){if(E){if(E.x>=T)return}else E={x:k,y:Ie*k+Be};v={x:T,y:Ie*T+Be}}else{if(E){if(E.x<k)return}else E={x:T,y:Ie*T+Be};v={x:k,y:Ie*k+Be}}return e.a=E,e.b=v,!0}function ha(e,a){this.l=e,this.r=a,this.a=this.b=null}function Qo(e,a,v,E){var k=new ha(e,a);return vo.push(k),v&&hs(k,e,a,v),E&&hs(k,a,e,E),lo[e.i].edges.push(new us(k,e,a)),lo[a.i].edges.push(new us(k,a,e)),k}function bc(e,a,v){var E=new ha(e,null);return E.a=a,E.b=v,vo.push(E),E}function hs(e,a,v,E){e.a||e.b?e.l===v?e.b=E:e.a=E:(e.a=E,e.l=a,e.r=v)}function us(e,a,v){var E=e.a,k=e.b;this.edge=e,this.site=a,this.angle=v?Math.atan2(v.y-a.y,v.x-a.x):e.l===a?Math.atan2(k.x-E.x,E.y-k.y):Math.atan2(E.x-k.x,k.y-E.y)}function Rs(){this._=null}function ls(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function es(e,a){var v=a,E=a.R,k=v.U;k?k.L===v?k.L=E:k.R=E:e._=E,E.U=k,v.U=E,v.R=E.L,v.R&&(v.R.U=v),E.L=v}function ts(e,a){var v=a,E=a.L,k=v.U;k?k.L===v?k.L=E:k.R=E:e._=E,E.U=k,v.U=E,v.L=E.R,v.L&&(v.L.U=v),E.R=v}function ua(e){for(;e.L;)e=e.L;return e}function Ms(e,a){var E,k,T,v=e.sort(wc).pop();for(vo=[],lo=new Array(e.length),yo=new Rs,Jo=new Rs;;)if(T=Ts,v&&(!T||v.y<T.y||v.y===T.y&&v.x<T.x))(v.x!==E||v.y!==k)&&(lo[v.i]=new aa(v),pc(v),E=v.x,k=v.y),v=e.pop();else{if(!T)break;dc(T.arc)}a&&(function yc(e){for(var k,a=vo,v=So(e[0][0],e[0][1],e[1][0],e[1][1]),E=a.length;E--;)(!_c(k=a[E],e)||!v(k)||c(k.a.x-k.b.x)<Mt&&c(k.a.y-k.b.y)<Mt)&&(k.a=k.b=null,a.splice(E,1))}(a),function mc(e){for(var T,F,O,H,fe,_e,Me,$e,xe,Ie,a=e[0][0],v=e[1][0],E=e[0][1],k=e[1][1],$=lo,ne=$.length;ne--;)if((fe=$[ne])&&fe.prepare())for($e=(Me=fe.edges).length,_e=0;_e<$e;)O=(Ie=Me[_e].end()).x,H=Ie.y,F=(xe=Me[++_e%$e].start()).y,(c(O-(T=xe.x))>Mt||c(H-F)>Mt)&&(Me.splice(_e,0,new us(bc(fe.site,Ie,c(O-a)<Mt&&k-H>Mt?{x:a,y:c(T-a)<Mt?F:k}:c(H-k)<Mt&&v-O>Mt?{x:c(F-k)<Mt?T:v,y:k}:c(O-v)<Mt&&H-E>Mt?{x:v,y:c(T-v)<Mt?F:E}:c(H-E)<Mt&&O-a>Mt?{x:c(F-E)<Mt?T:a,y:E}:null),fe.site,null)),++$e)}(a));var F={cells:lo,edges:vo};return yo=Jo=vo=lo=null,F}function wc(e,a){return a.y-e.y||a.x-e.x}aa.prototype.prepare=function(){for(var v,e=this.edges,a=e.length;a--;)(!(v=e[a].edge).b||!v.a)&&e.splice(a,1);return e.sort(ca),e.length},us.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Rs.prototype={insert:function(e,a){var v,E,k;if(e){if(a.P=e,a.N=e.N,e.N&&(e.N.P=a),e.N=a,e.R){for(e=e.R;e.L;)e=e.L;e.L=a}else e.R=a;v=e}else this._?(e=ua(this._),a.P=null,a.N=e,e.P=e.L=a,v=e):(a.P=a.N=null,this._=a,v=null);for(a.L=a.R=null,a.U=v,a.C=!0,e=a;v&&v.C;)v===(E=v.U).L?(k=E.R)&&k.C?(v.C=k.C=!1,E.C=!0,e=E):(e===v.R&&(es(this,v),v=(e=v).U),v.C=!1,E.C=!0,ts(this,E)):(k=E.L)&&k.C?(v.C=k.C=!1,E.C=!0,e=E):(e===v.L&&(ts(this,v),v=(e=v).U),v.C=!1,E.C=!0,es(this,E)),v=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var v,T,F,a=e.U,E=e.L,k=e.R;if(T=E?k?ua(k):E:k,a?a.L===e?a.L=T:a.R=T:this._=T,E&&k?(F=T.C,T.C=e.C,T.L=E,E.U=T,T!==k?(a=T.U,T.U=e.U,a.L=e=T.R,T.R=k,k.U=T):(T.U=a,a=T,e=T.R)):(F=e.C,e=T),e&&(e.U=a),!F){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===a.L){if((v=a.R).C&&(v.C=!1,a.C=!0,es(this,a),v=a.R),v.L&&v.L.C||v.R&&v.R.C){(!v.R||!v.R.C)&&(v.L.C=!1,v.C=!0,ts(this,v),v=a.R),v.C=a.C,a.C=v.R.C=!1,es(this,a),e=this._;break}}else if((v=a.L).C&&(v.C=!1,a.C=!0,ts(this,a),v=a.L),v.L&&v.L.C||v.R&&v.R.C){(!v.L||!v.L.C)&&(v.R.C=!1,v.C=!0,es(this,v),v=a.L),v.C=a.C,a.C=v.L.C=!1,ts(this,a),e=this._;break}v.C=!0,e=a,a=a.U}while(!e.C);e&&(e.C=!1)}}},V.geom.voronoi=function(e){var a=wo,v=xo,E=a,k=v,T=fs;if(e)return F(e);function F(H){var $=new Array(H.length),ne=T[0][0],fe=T[0][1],_e=T[1][0],Me=T[1][1];return Ms(O(H),T).cells.forEach(function($e,xe){var Ie=$e.edges,Be=$e.site;($[xe]=Ie.length?Ie.map(function(Ne){var He=Ne.start();return[He.x,He.y]}):Be.x>=ne&&Be.x<=_e&&Be.y>=fe&&Be.y<=Me?[[ne,Me],[_e,Me],[_e,fe],[ne,fe]]:[]).point=H[xe]}),$}function O(H){return H.map(function($,ne){return{x:Math.round(E($,ne)/Mt)*Mt,y:Math.round(k($,ne)/Mt)*Mt,i:ne}})}return F.links=function(H){return Ms(O(H)).edges.filter(function($){return $.l&&$.r}).map(function($){return{source:H[$.l.i],target:H[$.r.i]}})},F.triangles=function(H){var $=[];return Ms(O(H)).cells.forEach(function(ne,fe){for(var Be,_e=ne.site,Me=ne.edges.sort(ca),$e=-1,xe=Me.length,Ge=Me[xe-1].edge,Ne=Ge.l===_e?Ge.r:Ge.l;++$e<xe;)Be=Ne,Ne=(Ge=Me[$e].edge).l===_e?Ge.r:Ge.l,fe<Be.i&&fe<Ne.i&&xc(_e,Be,Ne)<0&&$.push([H[fe],H[Be.i],H[Ne.i]])}),$},F.x=function(H){return arguments.length?(E=_r(a=H),F):a},F.y=function(H){return arguments.length?(k=_r(v=H),F):v},F.clipExtent=function(H){return arguments.length?(T=H??fs,F):T===fs?null:T},F.size=function(H){return arguments.length?F.clipExtent(H&&[[0,0],H]):T===fs?null:T&&T[1]},F};var fs=[[-1e6,-1e6],[1e6,1e6]];function xc(e,a,v){return(e.x-v.x)*(a.y-e.y)-(e.x-a.x)*(v.y-e.y)}function Ec(e){return e.x}function kc(e){return e.y}function ns(e,a,v,E,k,T){if(!e(a,v,E,k,T)){var F=.5*(v+k),O=.5*(E+T),H=a.nodes;H[0]&&ns(e,H[0],v,E,F,O),H[1]&&ns(e,H[1],F,E,k,O),H[2]&&ns(e,H[2],v,O,F,T),H[3]&&ns(e,H[3],F,O,k,T)}}function Ls(e,a){e=V.rgb(e),a=V.rgb(a);var v=e.r,E=e.g,k=e.b,T=a.r-v,F=a.g-E,O=a.b-k;return function(H){return"#"+Gr(Math.round(v+T*H))+Gr(Math.round(E+F*H))+Gr(Math.round(k+O*H))}}function fa(e,a){var k,v={},E={};for(k in e)k in a?v[k]=Lo(e[k],a[k]):E[k]=e[k];for(k in a)k in e||(E[k]=a[k]);return function(T){for(k in v)E[k]=v[k](T);return E}}function _o(e,a){return e=+e,a=+a,function(v){return e*(1-v)+a*v}}function da(e,a){var E,k,T,v=Bs.lastIndex=Ps.lastIndex=0,F=-1,O=[],H=[];for(e+="",a+="";(E=Bs.exec(e))&&(k=Ps.exec(a));)(T=k.index)>v&&(T=a.slice(v,T),O[F]?O[F]+=T:O[++F]=T),(E=E[0])===(k=k[0])?O[F]?O[F]+=k:O[++F]=k:(O[++F]=null,H.push({i:F,x:_o(E,k)})),v=Ps.lastIndex;return v<a.length&&(T=a.slice(v),O[F]?O[F]+=T:O[++F]=T),O.length<2?H[0]?(a=H[0].x,function($){return a($)+""}):function(){return a}:(a=H.length,function($){for(var fe,ne=0;ne<a;++ne)O[(fe=H[ne]).i]=fe.x($);return O.join("")})}V.geom.delaunay=function(e){return V.geom.voronoi().triangles(e)},V.geom.quadtree=function(e,a,v,E,k){var O,T=wo,F=xo;if(O=arguments.length)return T=Ec,F=kc,3===O&&(k=v,E=a,v=a=0),H(e);function H($){var ne,Me,$e,xe,Ie,Be,Ge,Ne,He,fe=_r(T),_e=_r(F);if(null!=a)Be=a,Ge=v,Ne=E,He=k;else if(Ne=He=-(Be=Ge=1/0),Me=[],$e=[],Ie=$.length,O)for(xe=0;xe<Ie;++xe)(ne=$[xe]).x<Be&&(Be=ne.x),ne.y<Ge&&(Ge=ne.y),ne.x>Ne&&(Ne=ne.x),ne.y>He&&(He=ne.y),Me.push(ne.x),$e.push(ne.y);else for(xe=0;xe<Ie;++xe){var Ct=+fe(ne=$[xe],xe),vt=+_e(ne,xe);Ct<Be&&(Be=Ct),vt<Ge&&(Ge=vt),Ct>Ne&&(Ne=Ct),vt>He&&(He=vt),Me.push(Ct),$e.push(vt)}var bt=Ne-Be,gt=He-Ge;function $t(xn,Tn,Lt,en,gn,Ot,fn,Un){if(!isNaN(Lt)&&!isNaN(en))if(xn.leaf){var Qn=xn.x,cr=xn.y;if(null!=Qn)if(c(Qn-Lt)+c(cr-en)<.01)sn(xn,Tn,Lt,en,gn,Ot,fn,Un);else{var Tr=xn.point;xn.x=xn.y=xn.point=null,sn(xn,Tr,Qn,cr,gn,Ot,fn,Un),sn(xn,Tn,Lt,en,gn,Ot,fn,Un)}else xn.x=Lt,xn.y=en,xn.point=Tn}else sn(xn,Tn,Lt,en,gn,Ot,fn,Un)}function sn(xn,Tn,Lt,en,gn,Ot,fn,Un){var Qn=.5*(gn+fn),cr=.5*(Ot+Un),Tr=Lt>=Qn,Or=en>=cr,Ti=Or<<1|Tr;xn.leaf=!1,Tr?gn=Qn:fn=Qn,Or?Ot=cr:Un=cr,$t(xn=xn.nodes[Ti]||(xn.nodes[Ti]={leaf:!0,nodes:[],point:null,x:null,y:null}),Tn,Lt,en,gn,Ot,fn,Un)}bt>gt?He=Ge+bt:Ne=Be+gt;var In={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(xn){$t(In,xn,+fe(xn,++xe),+_e(xn,xe),Be,Ge,Ne,He)}};if(In.visit=function(xn){ns(xn,In,Be,Ge,Ne,He)},In.find=function(xn){return function Sc(e,a,v,E,k,T,F){var H,O=1/0;return function $(ne,fe,_e,Me,$e){if(!(fe>T||_e>F||Me<E||$e<k)){if(xe=ne.point){var xe,Ie=a-ne.x,Be=v-ne.y,Ge=Ie*Ie+Be*Be;if(Ge<O){var Ne=Math.sqrt(O=Ge);E=a-Ne,k=v-Ne,T=a+Ne,F=v+Ne,H=xe}}for(var He=ne.nodes,Ct=.5*(fe+Me),vt=.5*(_e+$e),$t=(v>=vt)<<1|a>=Ct,sn=$t+4;$t<sn;++$t)if(ne=He[3&$t])switch(3&$t){case 0:$(ne,fe,_e,Ct,vt);break;case 1:$(ne,Ct,_e,Me,vt);break;case 2:$(ne,fe,vt,Ct,$e);break;case 3:$(ne,Ct,vt,Me,$e)}}}(e,E,k,T,F),H}(In,xn[0],xn[1],Be,Ge,Ne,He)},xe=-1,null==a){for(;++xe<Ie;)$t(In,$[xe],Me[xe],$e[xe],Be,Ge,Ne,He);--xe}else $.forEach(In.add);return Me=$e=$=ne=null,In}return H.x=function($){return arguments.length?(T=$,H):T},H.y=function($){return arguments.length?(F=$,H):F},H.extent=function($){return arguments.length?(null==$?a=v=E=k=null:(a=+$[0][0],v=+$[0][1],E=+$[1][0],k=+$[1][1]),H):null==a?null:[[a,v],[E,k]]},H.size=function($){return arguments.length?(null==$?a=v=E=k=null:(a=v=0,E=+$[0],k=+$[1]),H):null==a?null:[E-a,k-v]},H},V.interpolateRgb=Ls,V.interpolateObject=fa,V.interpolateNumber=_o,V.interpolateString=da;var Bs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ps=new RegExp(Bs.source,"g");function Lo(e,a){for(var E,v=V.interpolators.length;--v>=0&&!(E=V.interpolators[v](e,a)););return E}function ds(e,a){var O,v=[],E=[],k=e.length,T=a.length,F=Math.min(e.length,a.length);for(O=0;O<F;++O)v.push(Lo(e[O],a[O]));for(;O<k;++O)E[O]=e[O];for(;O<T;++O)E[O]=a[O];return function(H){for(O=0;O<F;++O)E[O]=v[O](H);return E}}V.interpolate=Lo,V.interpolators=[function(e,a){var v=typeof a;return("string"===v?Jn.has(a.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(a)?Ls:da:a instanceof Fn?Ls:Array.isArray(a)?ds:"object"===v&&isNaN(a)?fa:_o)(e,a)}],V.interpolateArray=ds;var pa=function(){return R},Ac=V.map({linear:pa,poly:function Lc(e){return function(a){return Math.pow(a,e)}},quad:function(){return Ic},cubic:function(){return Rc},sin:function(){return Bc},exp:function(){return Pc},circle:function(){return Nc},elastic:function Oc(e,a){var v;return arguments.length<2&&(a=.45),arguments.length?v=a/Re*Math.asin(1/e):(e=1,v=a/4),function(E){return 1+e*Math.pow(2,-10*E)*Math.sin((E-v)*Re/a)}},back:function Dc(e){return e||(e=1.70158),function(a){return a*a*((e+1)*a-e)}},bounce:function(){return zc}}),Cc=V.map({in:R,out:ga,"in-out":ma,"out-in":function(e){return ma(ga(e))}});function ga(e){return function(a){return 1-e(1-a)}}function ma(e){return function(a){return.5*(a<.5?e(2*a):2-e(2-2*a))}}function Ic(e){return e*e}function Rc(e){return e*e*e}function Mc(e){if(e<=0)return 0;if(e>=1)return 1;var a=e*e,v=a*e;return 4*(e<.5?v:3*(e-a)+v-.75)}function Bc(e){return 1-Math.cos(e*Ze)}function Pc(e){return Math.pow(2,10*(e-1))}function Nc(e){return 1-Math.sqrt(1-e*e)}function zc(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function va(e,a){return a-=e,function(v){return Math.round(e+a*v)}}function ya(e){var a=[e.a,e.b],v=[e.c,e.d],E=ba(a),k=_a(a,v),T=ba(function Hc(e,a,v){return e[0]+=v*a[0],e[1]+=v*a[1],e}(v,a,-k))||0;a[0]*v[1]<v[0]*a[1]&&(a[0]*=-1,a[1]*=-1,E*=-1,k*=-1),this.rotate=(E?Math.atan2(a[1],a[0]):Math.atan2(-v[0],v[1]))*st,this.translate=[e.e,e.f],this.scale=[E,T],this.skew=T?Math.atan2(k,T)*st:0}function _a(e,a){return e[0]*a[0]+e[1]*a[1]}function ba(e){var a=Math.sqrt(_a(e,e));return a&&(e[0]/=a,e[1]/=a),a}V.ease=function(e){var a=e.indexOf("-"),v=a>=0?e.slice(0,a):e,E=a>=0?e.slice(a+1):"in";return v=Ac.get(v)||pa,function Tc(e){return function(a){return a<=0?0:a>=1?1:e(a)}}((E=Cc.get(E)||R)(v.apply(null,De.call(arguments,1))))},V.interpolateHcl=function jc(e,a){e=V.hcl(e),a=V.hcl(a);var v=e.h,E=e.c,k=e.l,T=a.h-v,F=a.c-E,O=a.l-k;return isNaN(F)&&(F=0,E=isNaN(E)?a.c:E),isNaN(T)?(T=0,v=isNaN(v)?a.h:v):T>180?T-=360:T<-180&&(T+=360),function(H){return nt(v+T*H,E+F*H,k+O*H)+""}},V.interpolateHsl=function Uc(e,a){e=V.hsl(e),a=V.hsl(a);var v=e.h,E=e.s,k=e.l,T=a.h-v,F=a.s-E,O=a.l-k;return isNaN(F)&&(F=0,E=isNaN(E)?a.s:E),isNaN(T)?(T=0,v=isNaN(v)?a.h:v):T>180?T-=360:T<-180&&(T+=360),function(H){return Yn(v+T*H,E+F*H,k+O*H)+""}},V.interpolateLab=function Fc(e,a){e=V.lab(e),a=V.lab(a);var v=e.l,E=e.a,k=e.b,T=a.l-v,F=a.a-E,O=a.b-k;return function(H){return oi(v+T*H,E+F*H,k+O*H)+""}},V.interpolateRound=va,V.transform=function(e){var a=_.createElementNS(V.ns.prefix.svg,"g");return(V.transform=function(v){if(null!=v){a.setAttribute("transform",v);var E=a.transform.baseVal.consolidate()}return new ya(E?E.matrix:Wc)})(e)},ya.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Wc={a:1,b:0,c:0,d:1,e:0,f:0};function qo(e){return e.length?e.pop()+",":""}function wa(e,a){var v=[],E=[];return e=V.transform(e),a=V.transform(a),function qc(e,a,v,E){if(e[0]!==a[0]||e[1]!==a[1]){var k=v.push("translate(",null,",",null,")");E.push({i:k-4,x:_o(e[0],a[0])},{i:k-2,x:_o(e[1],a[1])})}else(a[0]||a[1])&&v.push("translate("+a+")")}(e.translate,a.translate,v,E),function Kc(e,a,v,E){e!==a?(e-a>180?a+=360:a-e>180&&(e+=360),E.push({i:v.push(qo(v)+"rotate(",null,")")-2,x:_o(e,a)})):a&&v.push(qo(v)+"rotate("+a+")")}(e.rotate,a.rotate,v,E),function Vc(e,a,v,E){e!==a?E.push({i:v.push(qo(v)+"skewX(",null,")")-2,x:_o(e,a)}):a&&v.push(qo(v)+"skewX("+a+")")}(e.skew,a.skew,v,E),function Gc(e,a,v,E){if(e[0]!==a[0]||e[1]!==a[1]){var k=v.push(qo(v)+"scale(",null,",",null,")");E.push({i:k-4,x:_o(e[0],a[0])},{i:k-2,x:_o(e[1],a[1])})}else(1!==a[0]||1!==a[1])&&v.push(qo(v)+"scale("+a+")")}(e.scale,a.scale,v,E),e=a=null,function(k){for(var O,T=-1,F=E.length;++T<F;)v[(O=E[T]).i]=O.x(k);return v.join("")}}function Yc(e,a){return a=(a-=e=+e)||1/a,function(v){return(v-e)/a}}function $c(e,a){return a=(a-=e=+e)||1/a,function(v){return Math.max(0,Math.min(1,(v-e)/a))}}function Xc(e){for(var a=e.source,v=e.target,E=function Zc(e,a){if(e===a)return e;for(var v=xa(e),E=xa(a),k=v.pop(),T=E.pop(),F=null;k===T;)F=k,k=v.pop(),T=E.pop();return F}(a,v),k=[a];a!==E;)k.push(a=a.parent);for(var T=k.length;v!==E;)k.splice(T,0,v),v=v.parent;return k}function xa(e){for(var a=[],v=e.parent;null!=v;)a.push(e),e=v,v=v.parent;return a.push(e),a}function Jc(e){e.fixed|=2}function Qc(e){e.fixed&=-7}function eh(e){e.fixed|=4,e.px=e.x,e.py=e.y}function th(e){e.fixed&=-5}function Ea(e,a,v){var E=0,k=0;if(e.charge=0,!e.leaf)for(var H,T=e.nodes,F=T.length,O=-1;++O<F;)null!=(H=T[O])&&(Ea(H,a,v),e.charge+=H.charge,E+=H.charge*H.cx,k+=H.charge*H.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var $=a*v[e.point.index];e.charge+=e.pointCharge=$,E+=$*e.point.x,k+=$*e.point.y}e.cx=E/e.charge,e.cy=k/e.charge}V.interpolateTransform=wa,V.layout={},V.layout.bundle=function(){return function(e){for(var a=[],v=-1,E=e.length;++v<E;)a.push(Xc(e[v]));return a}},V.layout.chord=function(){var a,v,E,k,F,O,H,e={},T=0;function $(){var xe,Ie,Be,Ge,Ne,fe={},_e=[],Me=V.range(k),$e=[];for(a=[],v=[],xe=0,Ge=-1;++Ge<k;){for(Ie=0,Ne=-1;++Ne<k;)Ie+=E[Ge][Ne];_e.push(Ie),$e.push(V.range(k)),xe+=Ie}for(F&&Me.sort(function(In,xn){return F(_e[In],_e[xn])}),O&&$e.forEach(function(In,xn){In.sort(function(Tn,Lt){return O(E[xn][Tn],E[xn][Lt])})}),xe=(Re-T*k)/xe,Ie=0,Ge=-1;++Ge<k;){for(Be=Ie,Ne=-1;++Ne<k;){var He=Me[Ge],Ct=$e[He][Ne],vt=E[He][Ct],bt=Ie,gt=Ie+=vt*xe;fe[He+"-"+Ct]={index:He,subindex:Ct,startAngle:bt,endAngle:gt,value:vt}}v[He]={index:He,startAngle:Be,endAngle:Ie,value:_e[He]},Ie+=T}for(Ge=-1;++Ge<k;)for(Ne=Ge-1;++Ne<k;){var $t=fe[Ge+"-"+Ne],sn=fe[Ne+"-"+Ge];($t.value||sn.value)&&a.push($t.value<sn.value?{source:sn,target:$t}:{source:$t,target:sn})}H&&ne()}function ne(){a.sort(function(fe,_e){return H((fe.source.value+fe.target.value)/2,(_e.source.value+_e.target.value)/2)})}return e.matrix=function(fe){return arguments.length?(k=(E=fe)&&E.length,a=v=null,e):E},e.padding=function(fe){return arguments.length?(T=fe,a=v=null,e):T},e.sortGroups=function(fe){return arguments.length?(F=fe,a=v=null,e):F},e.sortSubgroups=function(fe){return arguments.length?(O=fe,a=null,e):O},e.sortChords=function(fe){return arguments.length?(H=fe,a&&ne(),e):H},e.chords=function(){return a||$(),a},e.groups=function(){return v||$(),v},e},V.layout.force=function(){var v,k,T,xe,Ie,Be,e={},a=V.dispatch("start","tick","end"),E=[1,1],F=.9,O=nh,H=rh,$=-30,ne=ih,fe=.1,_e=.64,Me=[],$e=[];function Ge(He){return function(Ct,vt,bt,gt){if(Ct.point!==He){var Tn,$t=Ct.cx-He.x,sn=Ct.cy-He.y,In=gt-vt,xn=$t*$t+sn*sn;if(In*In/_e<xn)return xn<ne&&(He.px-=$t*(Tn=Ct.charge/xn),He.py-=sn*Tn),!0;Ct.point&&xn&&xn<ne&&(He.px-=$t*(Tn=Ct.pointCharge/xn),He.py-=sn*Tn)}return!Ct.charge}}function Ne(He){He.px=V.event.x,He.py=V.event.y,e.resume()}return e.tick=function(){if((T*=.99)<.005)return v=null,a.end({type:"end",alpha:T=0}),!0;var vt,bt,gt,$t,sn,In,xn,Tn,Lt,He=Me.length,Ct=$e.length;for(bt=0;bt<Ct;++bt)(In=(Tn=(sn=(gt=$e[bt]).target).x-($t=gt.source).x)*Tn+(Lt=sn.y-$t.y)*Lt)&&(Lt*=In=T*Ie[bt]*((In=Math.sqrt(In))-xe[bt])/In,sn.x-=(Tn*=In)*(xn=$t.weight+sn.weight?$t.weight/($t.weight+sn.weight):.5),sn.y-=Lt*xn,$t.x+=Tn*(xn=1-xn),$t.y+=Lt*xn);if((xn=T*fe)&&(Tn=E[0]/2,Lt=E[1]/2,bt=-1,xn))for(;++bt<He;)(gt=Me[bt]).x+=(Tn-gt.x)*xn,gt.y+=(Lt-gt.y)*xn;if($)for(Ea(vt=V.geom.quadtree(Me),T,Be),bt=-1;++bt<He;)(gt=Me[bt]).fixed||vt.visit(Ge(gt));for(bt=-1;++bt<He;)(gt=Me[bt]).fixed?(gt.x=gt.px,gt.y=gt.py):(gt.x-=(gt.px-(gt.px=gt.x))*F,gt.y-=(gt.py-(gt.py=gt.y))*F);a.tick({type:"tick",alpha:T})},e.nodes=function(He){return arguments.length?(Me=He,e):Me},e.links=function(He){return arguments.length?($e=He,e):$e},e.size=function(He){return arguments.length?(E=He,e):E},e.linkDistance=function(He){return arguments.length?(O="function"==typeof He?He:+He,e):O},e.distance=e.linkDistance,e.linkStrength=function(He){return arguments.length?(H="function"==typeof He?He:+He,e):H},e.friction=function(He){return arguments.length?(F=+He,e):F},e.charge=function(He){return arguments.length?($="function"==typeof He?He:+He,e):$},e.chargeDistance=function(He){return arguments.length?(ne=He*He,e):Math.sqrt(ne)},e.gravity=function(He){return arguments.length?(fe=+He,e):fe},e.theta=function(He){return arguments.length?(_e=He*He,e):Math.sqrt(_e)},e.alpha=function(He){return arguments.length?(He=+He,T?He>0?T=He:(v.c=null,v.t=NaN,v=null,a.end({type:"end",alpha:T=0})):He>0&&(a.start({type:"start",alpha:T=He}),v=P(e.tick)),e):T},e.start=function(){var He,$t,sn,Ct=Me.length,vt=$e.length,bt=E[0],gt=E[1];for(He=0;He<Ct;++He)(sn=Me[He]).index=He,sn.weight=0;for(He=0;He<vt;++He)"number"==typeof(sn=$e[He]).source&&(sn.source=Me[sn.source]),"number"==typeof sn.target&&(sn.target=Me[sn.target]),++sn.source.weight,++sn.target.weight;for(He=0;He<Ct;++He)sn=Me[He],isNaN(sn.x)&&(sn.x=In("x",bt)),isNaN(sn.y)&&(sn.y=In("y",gt)),isNaN(sn.px)&&(sn.px=sn.x),isNaN(sn.py)&&(sn.py=sn.y);if(xe=[],"function"==typeof O)for(He=0;He<vt;++He)xe[He]=+O.call(this,$e[He],He);else for(He=0;He<vt;++He)xe[He]=O;if(Ie=[],"function"==typeof H)for(He=0;He<vt;++He)Ie[He]=+H.call(this,$e[He],He);else for(He=0;He<vt;++He)Ie[He]=H;if(Be=[],"function"==typeof $)for(He=0;He<Ct;++He)Be[He]=+$.call(this,Me[He],He);else for(He=0;He<Ct;++He)Be[He]=$;function In(xn,Tn){if(!$t){for($t=new Array(Ct),gn=0;gn<Ct;++gn)$t[gn]=[];for(gn=0;gn<vt;++gn){var Lt=$e[gn];$t[Lt.source.index].push(Lt.target),$t[Lt.target.index].push(Lt.source)}}for(var fn,en=$t[He],gn=-1,Ot=en.length;++gn<Ot;)if(!isNaN(fn=en[gn][xn]))return fn;return Math.random()*Tn}return e.resume()},e.resume=function(){return e.alpha(.1)},e.stop=function(){return e.alpha(0)},e.drag=function(){if(k||(k=V.behavior.drag().origin(R).on("dragstart.force",Jc).on("drag.force",Ne).on("dragend.force",Qc)),!arguments.length)return k;this.on("mouseover.force",eh).on("mouseout.force",th).call(k)},V.rebind(e,a,"on")};var nh=20,rh=1,ih=1/0;function rs(e,a){return V.rebind(e,a,"sort","children","value"),e.nodes=e,e.links=ch,e}function is(e,a){for(var v=[e];null!=(e=v.pop());)if(a(e),(k=e.children)&&(E=k.length))for(var E,k;--E>=0;)v.push(k[E])}function fo(e,a){for(var v=[e],E=[];null!=(e=v.pop());)if(E.push(e),(F=e.children)&&(T=F.length))for(var T,F,k=-1;++k<T;)v.push(F[k]);for(;null!=(e=E.pop());)a(e)}function oh(e){return e.children}function sh(e){return e.value}function ah(e,a){return a.value-e.value}function ch(e){return V.merge(e.map(function(a){return(a.children||[]).map(function(v){return{source:a,target:v}})}))}V.layout.hierarchy=function(){var e=ah,a=oh,v=sh;function E(k){var O,T=[k],F=[];for(k.depth=0;null!=(O=T.pop());)if(F.push(O),($=a.call(E,O,O.depth))&&(H=$.length)){for(var H,$,ne;--H>=0;)T.push(ne=$[H]),ne.parent=O,ne.depth=O.depth+1;v&&(O.value=0),O.children=$}else v&&(O.value=+v.call(E,O,O.depth)||0),delete O.children;return fo(k,function(fe){var _e,Me;e&&(_e=fe.children)&&_e.sort(e),v&&(Me=fe.parent)&&(Me.value+=fe.value)}),F}return E.sort=function(k){return arguments.length?(e=k,E):e},E.children=function(k){return arguments.length?(a=k,E):a},E.value=function(k){return arguments.length?(v=k,E):v},E.revalue=function(k){return v&&(is(k,function(T){T.children&&(T.value=0)}),fo(k,function(T){var F;T.children||(T.value=+v.call(E,T,T.depth)||0),(F=T.parent)&&(F.value+=T.value)})),k},E},V.layout.partition=function(){var e=V.layout.hierarchy(),a=[1,1];function v(T,F,O,H){var $=T.children;if(T.x=F,T.y=T.depth*H,T.dx=O,T.dy=H,$&&(fe=$.length)){var fe,_e,Me,ne=-1;for(O=T.value?O/T.value:0;++ne<fe;)v(_e=$[ne],F,Me=_e.value*O,H),F+=Me}}function E(T){var F=T.children,O=0;if(F&&($=F.length))for(var $,H=-1;++H<$;)O=Math.max(O,E(F[H]));return 1+O}function k(T,F){var O=e.call(this,T,F);return v(O[0],0,a[0],a[1]/E(O[0])),O}return k.size=function(T){return arguments.length?(a=T,k):a},rs(k,e)},V.layout.pie=function(){var e=Number,a=ka,v=0,E=Re,k=0;function T(F){var Be,O=F.length,H=F.map(function(Ge,Ne){return+e.call(T,Ge,Ne)}),$=+("function"==typeof v?v.apply(this,arguments):v),ne=("function"==typeof E?E.apply(this,arguments):E)-$,fe=Math.min(Math.abs(ne)/O,+("function"==typeof k?k.apply(this,arguments):k)),_e=fe*(ne<0?-1:1),Me=V.sum(H),$e=Me?(ne-O*_e)/Me:0,xe=V.range(O),Ie=[];return null!=a&&xe.sort(a===ka?function(Ge,Ne){return H[Ne]-H[Ge]}:function(Ge,Ne){return a(F[Ge],F[Ne])}),xe.forEach(function(Ge){Ie[Ge]={data:F[Ge],value:Be=H[Ge],startAngle:$,endAngle:$+=Be*$e+_e,padAngle:fe}}),Ie}return T.value=function(F){return arguments.length?(e=F,T):e},T.sort=function(F){return arguments.length?(a=F,T):a},T.startAngle=function(F){return arguments.length?(v=F,T):v},T.endAngle=function(F){return arguments.length?(E=F,T):E},T.padAngle=function(F){return arguments.length?(k=F,T):k},T};var ka={};function hh(e){return e.x}function uh(e){return e.y}function lh(e,a,v){e.y0=a,e.y=v}V.layout.stack=function(){var e=R,a=Ns,v=Os,E=lh,k=hh,T=uh;function F(O,H){if(!($e=O.length))return O;var $=O.map(function(Ge,Ne){return e.call(F,Ge,Ne)}),ne=$.map(function(Ge){return Ge.map(function(Ne,He){return[k.call(F,Ne,He),T.call(F,Ne,He)]})}),fe=a.call(F,ne,H);$=V.permute($,fe),ne=V.permute(ne,fe);var $e,xe,Ie,Be,_e=v.call(F,ne,H),Me=$[0].length;for(Ie=0;Ie<Me;++Ie)for(E.call(F,$[0][Ie],Be=_e[Ie],ne[0][Ie][1]),xe=1;xe<$e;++xe)E.call(F,$[xe][Ie],Be+=ne[xe-1][Ie][1],ne[xe][Ie][1]);return O}return F.values=function(O){return arguments.length?(e=O,F):e},F.order=function(O){return arguments.length?(a="function"==typeof O?O:fh.get(O)||Ns,F):a},F.offset=function(O){return arguments.length?(v="function"==typeof O?O:dh.get(O)||Os,F):v},F.x=function(O){return arguments.length?(k=O,F):k},F.y=function(O){return arguments.length?(T=O,F):T},F.out=function(O){return arguments.length?(E=O,F):E},F};var fh=V.map({"inside-out":function(e){var v,E,a=e.length,k=e.map(ph),T=e.map(gh),F=V.range(a).sort(function(fe,_e){return k[fe]-k[_e]}),O=0,H=0,$=[],ne=[];for(v=0;v<a;++v)E=F[v],O<H?(O+=T[E],$.push(E)):(H+=T[E],ne.push(E));return ne.reverse().concat($)},reverse:function(e){return V.range(e.length).reverse()},default:Ns}),dh=V.map({silhouette:function(e){var T,F,O,a=e.length,v=e[0].length,E=[],k=0,H=[];for(F=0;F<v;++F){for(T=0,O=0;T<a;T++)O+=e[T][F][1];O>k&&(k=O),E.push(O)}for(F=0;F<v;++F)H[F]=(k-E[F])/2;return H},wiggle:function(e){var k,T,F,O,H,$,ne,fe,_e,a=e.length,v=e[0],E=v.length,Me=[];for(Me[0]=fe=_e=0,T=1;T<E;++T){for(k=0,O=0;k<a;++k)O+=e[k][T][1];for(k=0,H=0,ne=v[T][0]-v[T-1][0];k<a;++k){for(F=0,$=(e[k][T][1]-e[k][T-1][1])/(2*ne);F<k;++F)$+=(e[F][T][1]-e[F][T-1][1])/ne;H+=$*e[k][T][1]}Me[T]=fe-=O?H/O*ne:0,fe<_e&&(_e=fe)}for(T=0;T<E;++T)Me[T]-=_e;return Me},expand:function(e){var k,T,F,a=e.length,v=e[0].length,E=1/a,O=[];for(T=0;T<v;++T){for(k=0,F=0;k<a;k++)F+=e[k][T][1];if(F)for(k=0;k<a;k++)e[k][T][1]/=F;else for(k=0;k<a;k++)e[k][T][1]=E}for(T=0;T<v;++T)O[T]=0;return O},zero:Os});function Ns(e){return V.range(e.length)}function Os(e){for(var a=-1,v=e[0].length,E=[];++a<v;)E[a]=0;return E}function ph(e){for(var k,a=1,v=0,E=e[0][1],T=e.length;a<T;++a)(k=e[a][1])>E&&(v=a,E=k);return v}function gh(e){return e.reduce(mh,0)}function mh(e,a){return e+a[1]}function vh(e,a){return Sa(e,Math.ceil(Math.log(a.length)/Math.LN2+1))}function Sa(e,a){for(var v=-1,E=+e[0],k=(e[1]-E)/a,T=[];++v<=a;)T[v]=k*v+E;return T}function yh(e){return[V.min(e),V.max(e)]}function _h(e,a){return e.value-a.value}function Ds(e,a){var v=e._pack_next;e._pack_next=a,a._pack_prev=e,a._pack_next=v,v._pack_prev=a}function Aa(e,a){e._pack_next=a,a._pack_prev=e}function Ca(e,a){var v=a.x-e.x,E=a.y-e.y,k=e.r+a.r;return.999*k*k>v*v+E*E}function Ta(e){if((a=e.children)&&(_e=a.length)){var a,F,O,H,$,ne,fe,_e,v=1/0,E=-1/0,k=1/0,T=-1/0;if(a.forEach(bh),(F=a[0]).x=-F.r,F.y=0,Me(F),_e>1&&((O=a[1]).x=O.r,O.y=0,Me(O),_e>2))for(Ra(F,O,H=a[2]),Me(H),Ds(F,H),F._pack_prev=H,Ds(H,O),O=F._pack_next,$=3;$<_e;$++){Ra(F,O,H=a[$]);var $e=0,xe=1,Ie=1;for(ne=O._pack_next;ne!==O;ne=ne._pack_next,xe++)if(Ca(ne,H)){$e=1;break}if(1==$e)for(fe=F._pack_prev;fe!==ne._pack_prev&&!Ca(fe,H);fe=fe._pack_prev,Ie++);$e?(xe<Ie||xe==Ie&&O.r<F.r?Aa(F,O=ne):Aa(F=fe,O),$--):(Ds(F,H),O=H,Me(H))}var Be=(v+E)/2,Ge=(k+T)/2,Ne=0;for($=0;$<_e;$++)(H=a[$]).x-=Be,H.y-=Ge,Ne=Math.max(Ne,H.r+Math.sqrt(H.x*H.x+H.y*H.y));e.r=Ne,a.forEach(wh)}function Me(He){v=Math.min(He.x-He.r,v),E=Math.max(He.x+He.r,E),k=Math.min(He.y-He.r,k),T=Math.max(He.y+He.r,T)}}function bh(e){e._pack_next=e._pack_prev=e}function wh(e){delete e._pack_next,delete e._pack_prev}function Ia(e,a,v,E){var k=e.children;if(e.x=a+=E*e.x,e.y=v+=E*e.y,e.r*=E,k)for(var T=-1,F=k.length;++T<F;)Ia(k[T],a,v,E)}function Ra(e,a,v){var E=e.r+v.r,k=a.x-e.x,T=a.y-e.y;if(E&&(k||T)){var F=a.r+v.r,O=k*k+T*T,H=.5+((E*=E)-(F*=F))/(2*O),$=Math.sqrt(Math.max(0,2*F*(E+O)-(E-=O)*E-F*F))/(2*O);v.x=e.x+H*k+$*T,v.y=e.y+H*T-$*k}else v.x=e.x+E,v.y=e.y}function Ma(e,a){return e.parent==a.parent?1:2}function zs(e){var a=e.children;return a.length?a[0]:e.t}function js(e){var v,a=e.children;return(v=a.length)?a[v-1]:e.t}function xh(e,a,v){var E=v/(a.i-e.i);a.c-=E,a.s+=v,e.c+=E,a.z+=v,a.m+=v}function kh(e,a,v){return e.a.parent===a.parent?e.a:v}function La(e){var a=e.children;return a&&a.length?La(a[0]):e}function Ba(e){var v,a=e.children;return a&&(v=a.length)?Ba(a[v-1]):e}function Us(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Pa(e,a){var v=e.x+a[3],E=e.y+a[0],k=e.dx-a[1]-a[3],T=e.dy-a[0]-a[2];return k<0&&(v+=k/2,k=0),T<0&&(E+=T/2,T=0),{x:v,y:E,dx:k,dy:T}}function Ko(e){var a=e[0],v=e[e.length-1];return a<v?[a,v]:[v,a]}function ps(e){return e.rangeExtent?e.rangeExtent():Ko(e.range())}function Ch(e,a,v,E){var k=v(e[0],e[1]),T=E(a[0],a[1]);return function(F){return T(k(F))}}function gs(e,a){var F,v=0,E=e.length-1,k=e[v],T=e[E];return T<k&&(F=v,v=E,E=F,F=k,k=T,T=F),e[v]=a.floor(k),e[E]=a.ceil(T),e}function Na(e){return e?{floor:function(a){return Math.floor(a/e)*e},ceil:function(a){return Math.ceil(a/e)*e}}:Th}V.layout.histogram=function(){var e=!0,a=Number,v=yh,E=vh;function k(T,_e){for(var fe,Ie,O=[],H=T.map(a,this),$=v.call(this,H,_e),ne=E.call(this,$,H,_e),Me=(_e=-1,H.length),$e=ne.length-1,xe=e?1:1/Me;++_e<$e;)(fe=O[_e]=[]).dx=ne[_e+1]-(fe.x=ne[_e]),fe.y=0;if($e>0)for(_e=-1;++_e<Me;)(Ie=H[_e])>=$[0]&&Ie<=$[1]&&((fe=O[V.bisect(ne,Ie,1,$e)-1]).y+=xe,fe.push(T[_e]));return O}return k.value=function(T){return arguments.length?(a=T,k):a},k.range=function(T){return arguments.length?(v=_r(T),k):v},k.bins=function(T){return arguments.length?(E="number"==typeof T?function(F){return Sa(F,T)}:_r(T),k):E},k.frequency=function(T){return arguments.length?(e=!!T,k):e},k},V.layout.pack=function(){var E,e=V.layout.hierarchy().sort(_h),a=0,v=[1,1];function k(T,F){var O=e.call(this,T,F),H=O[0],$=v[0],ne=v[1],fe=null==E?Math.sqrt:"function"==typeof E?E:function(){return E};if(H.x=H.y=0,fo(H,function(Me){Me.r=+fe(Me.value)}),fo(H,Ta),a){var _e=a*(E?1:Math.max(2*H.r/$,2*H.r/ne))/2;fo(H,function(Me){Me.r+=_e}),fo(H,Ta),fo(H,function(Me){Me.r-=_e})}return Ia(H,$/2,ne/2,E?1:1/Math.max(2*H.r/$,2*H.r/ne)),O}return k.size=function(T){return arguments.length?(v=T,k):v},k.radius=function(T){return arguments.length?(E=null==T||"function"==typeof T?T:+T,k):E},k.padding=function(T){return arguments.length?(a=+T,k):a},rs(k,e)},V.layout.tree=function(){var e=V.layout.hierarchy().sort(null).value(null),a=Ma,v=[1,1],E=null;function k(ne,fe){var _e=e.call(this,ne,fe),Me=_e[0],$e=function T(ne){for(var Me,fe={A:null,children:[ne]},_e=[fe];null!=(Me=_e.pop());)for(var xe,$e=Me.children,Ie=0,Be=$e.length;Ie<Be;++Ie)_e.push(($e[Ie]=xe={_:$e[Ie],parent:Me,children:(xe=$e[Ie].children)&&xe.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ie}).a=xe);return fe.children[0]}(Me);if(fo($e,F),$e.parent.m=-$e.z,is($e,O),E)is(Me,$);else{var xe=Me,Ie=Me,Be=Me;is(Me,function(Ct){Ct.x<xe.x&&(xe=Ct),Ct.x>Ie.x&&(Ie=Ct),Ct.depth>Be.depth&&(Be=Ct)});var Ge=a(xe,Ie)/2-xe.x,Ne=v[0]/(Ie.x+a(Ie,xe)/2+Ge),He=v[1]/(Be.depth||1);is(Me,function(Ct){Ct.x=(Ct.x+Ge)*Ne,Ct.y=Ct.depth*He})}return _e}function F(ne){var fe=ne.children,_e=ne.parent.children,Me=ne.i?_e[ne.i-1]:null;if(fe.length){!function Eh(e){for(var T,a=0,v=0,E=e.children,k=E.length;--k>=0;)(T=E[k]).z+=a,T.m+=a,a+=T.s+(v+=T.c)}(ne);var $e=(fe[0].z+fe[fe.length-1].z)/2;Me?(ne.z=Me.z+a(ne._,Me._),ne.m=ne.z-$e):ne.z=$e}else Me&&(ne.z=Me.z+a(ne._,Me._));ne.parent.A=function H(ne,fe,_e){if(fe){for(var Ct,Me=ne,$e=ne,xe=fe,Ie=Me.parent.children[0],Be=Me.m,Ge=$e.m,Ne=xe.m,He=Ie.m;xe=js(xe),Me=zs(Me),xe&&Me;)Ie=zs(Ie),($e=js($e)).a=ne,(Ct=xe.z+Ne-Me.z-Be+a(xe._,Me._))>0&&(xh(kh(xe,ne,_e),ne,Ct),Be+=Ct,Ge+=Ct),Ne+=xe.m,Be+=Me.m,He+=Ie.m,Ge+=$e.m;xe&&!js($e)&&($e.t=xe,$e.m+=Ne-Ge),Me&&!zs(Ie)&&(Ie.t=Me,Ie.m+=Be-He,_e=ne)}return _e}(ne,Me,ne.parent.A||_e[0])}function O(ne){ne._.x=ne.z+ne.parent.m,ne.m+=ne.parent.m}function $(ne){ne.x*=v[0],ne.y=ne.depth*v[1]}return k.separation=function(ne){return arguments.length?(a=ne,k):a},k.size=function(ne){return arguments.length?(E=null==(v=ne)?$:null,k):E?null:v},k.nodeSize=function(ne){return arguments.length?(E=null==(v=ne)?null:$,k):E?v:null},rs(k,e)},V.layout.cluster=function(){var e=V.layout.hierarchy().sort(null).value(null),a=Ma,v=[1,1],E=!1;function k(T,F){var $,O=e.call(this,T,F),H=O[0],ne=0;fo(H,function(xe){var Ie=xe.children;Ie&&Ie.length?(xe.x=function Ah(e){return e.reduce(function(a,v){return a+v.x},0)/e.length}(Ie),xe.y=function Sh(e){return 1+V.max(e,function(a){return a.y})}(Ie)):(xe.x=$?ne+=a(xe,$):0,xe.y=0,$=xe)});var fe=La(H),_e=Ba(H),Me=fe.x-a(fe,_e)/2,$e=_e.x+a(_e,fe)/2;return fo(H,E?function(xe){xe.x=(xe.x-H.x)*v[0],xe.y=(H.y-xe.y)*v[1]}:function(xe){xe.x=(xe.x-Me)/($e-Me)*v[0],xe.y=(1-(H.y?xe.y/H.y:1))*v[1]}),O}return k.separation=function(T){return arguments.length?(a=T,k):a},k.size=function(T){return arguments.length?(E=null==(v=T),k):E?null:v},k.nodeSize=function(T){return arguments.length?(E=null!=(v=T),k):E?v:null},rs(k,e)},V.layout.treemap=function(){var F,e=V.layout.hierarchy(),a=Math.round,v=[1,1],E=null,k=Us,T=!1,O="squarify",H=.5*(1+Math.sqrt(5));function $(xe,Ie){for(var Ne,He,Be=-1,Ge=xe.length;++Be<Ge;)He=(Ne=xe[Be]).value*(Ie<0?0:Ie),Ne.area=isNaN(He)||He<=0?0:He}function ne(xe){var Ie=xe.children;if(Ie&&Ie.length){var He,vt,gt,Be=k(xe),Ge=[],Ne=Ie.slice(),Ct=1/0,bt="slice"===O?Be.dx:"dice"===O?Be.dy:"slice-dice"===O?1&xe.depth?Be.dy:Be.dx:Math.min(Be.dx,Be.dy);for($(Ne,Be.dx*Be.dy/xe.value),Ge.area=0;(gt=Ne.length)>0;)Ge.push(He=Ne[gt-1]),Ge.area+=He.area,"squarify"!==O||(vt=_e(Ge,bt))<=Ct?(Ne.pop(),Ct=vt):(Ge.area-=Ge.pop().area,Me(Ge,bt,Be,!1),bt=Math.min(Be.dx,Be.dy),Ge.length=Ge.area=0,Ct=1/0);Ge.length&&(Me(Ge,bt,Be,!0),Ge.length=Ge.area=0),Ie.forEach(ne)}}function fe(xe){var Ie=xe.children;if(Ie&&Ie.length){var Ne,Be=k(xe),Ge=Ie.slice(),He=[];for($(Ge,Be.dx*Be.dy/xe.value),He.area=0;Ne=Ge.pop();)He.push(Ne),He.area+=Ne.area,null!=Ne.z&&(Me(He,Ne.z?Be.dx:Be.dy,Be,!Ge.length),He.length=He.area=0);Ie.forEach(fe)}}function _e(xe,Ie){for(var Ge,Be=xe.area,Ne=0,He=1/0,Ct=-1,vt=xe.length;++Ct<vt;)(Ge=xe[Ct].area)&&(Ge<He&&(He=Ge),Ge>Ne&&(Ne=Ge));return Ie*=Ie,(Be*=Be)?Math.max(Ie*Ne*H/Be,Be/(Ie*He*H)):1/0}function Me(xe,Ie,Be,Ge){var gt,Ne=-1,He=xe.length,Ct=Be.x,vt=Be.y,bt=Ie?a(xe.area/Ie):0;if(Ie==Be.dx){for((Ge||bt>Be.dy)&&(bt=Be.dy);++Ne<He;)(gt=xe[Ne]).x=Ct,gt.y=vt,gt.dy=bt,Ct+=gt.dx=Math.min(Be.x+Be.dx-Ct,bt?a(gt.area/bt):0);gt.z=!0,gt.dx+=Be.x+Be.dx-Ct,Be.y+=bt,Be.dy-=bt}else{for((Ge||bt>Be.dx)&&(bt=Be.dx);++Ne<He;)(gt=xe[Ne]).x=Ct,gt.y=vt,gt.dx=bt,vt+=gt.dy=Math.min(Be.y+Be.dy-vt,bt?a(gt.area/bt):0);gt.z=!1,gt.dy+=Be.y+Be.dy-vt,Be.x+=bt,Be.dx-=bt}}function $e(xe){var Ie=F||e(xe),Be=Ie[0];return Be.x=Be.y=0,Be.value?(Be.dx=v[0],Be.dy=v[1]):Be.dx=Be.dy=0,F&&e.revalue(Be),$([Be],Be.dx*Be.dy/Be.value),(F?fe:ne)(Be),T&&(F=Ie),Ie}return $e.size=function(xe){return arguments.length?(v=xe,$e):v},$e.padding=function(xe){return arguments.length?(k=null==(E=xe)?Us:"function"==(Ge=typeof xe)?function Ie(Ne){var He=xe.call($e,Ne,Ne.depth);return null==He?Us(Ne):Pa(Ne,"number"==typeof He?[He,He,He,He]:He)}:("number"===Ge&&(xe=[xe,xe,xe,xe]),function Be(Ne){return Pa(Ne,xe)}),$e):E;var Ge},$e.round=function(xe){return arguments.length?(a=xe?Math.round:Number,$e):a!=Number},$e.sticky=function(xe){return arguments.length?(T=xe,F=null,$e):T},$e.ratio=function(xe){return arguments.length?(H=xe,$e):H},$e.mode=function(xe){return arguments.length?(O=xe+"",$e):O},rs($e,e)},V.random={normal:function(e,a){var v=arguments.length;return v<2&&(a=1),v<1&&(e=0),function(){var E,k,T;do{T=(E=2*Math.random()-1)*E+(k=2*Math.random()-1)*k}while(!T||T>1);return e+a*E*Math.sqrt(-2*Math.log(T)/T)}},logNormal:function(){var e=V.random.normal.apply(V,arguments);return function(){return Math.exp(e())}},bates:function(e){var a=V.random.irwinHall(e);return function(){return a()/e}},irwinHall:function(e){return function(){for(var a=0,v=0;v<e;v++)a+=Math.random();return a}}},V.scale={};var Th={floor:R,ceil:R};function Ih(e,a,v,E){var k=[],T=[],F=0,O=Math.min(e.length,a.length)-1;for(e[O]<e[0]&&(e=e.slice().reverse(),a=a.slice().reverse());++F<=O;)k.push(v(e[F-1],e[F])),T.push(E(a[F-1],a[F]));return function(H){var $=V.bisect(e,H,1,O)-1;return T[$](k[$](H))}}function Oa(e,a,v,E){var k,T;function F(){var H=Math.min(e.length,a.length)>2?Ih:Ch,$=E?$c:Yc;return k=H(e,a,$,v),T=H(a,e,$,Lo),O}function O(H){return k(H)}return O.invert=function(H){return T(H)},O.domain=function(H){return arguments.length?(e=H.map(Number),F()):e},O.range=function(H){return arguments.length?(a=H,F()):a},O.rangeRound=function(H){return O.range(H).interpolate(va)},O.clamp=function(H){return arguments.length?(E=H,F()):E},O.interpolate=function(H){return arguments.length?(v=H,F()):v},O.ticks=function(H){return Hs(e,H)},O.tickFormat=function(H,$){return Ws(e,H,$)},O.nice=function(H){return Da(e,H),F()},O.copy=function(){return Oa(e,a,v,E)},F()}function Fs(e,a){return V.rebind(e,a,"range","rangeRound","interpolate","clamp")}function Da(e,a){return gs(e,Na(Vo(e,a)[2])),gs(e,Na(Vo(e,a)[2])),e}function Vo(e,a){null==a&&(a=10);var v=Ko(e),E=v[1]-v[0],k=Math.pow(10,Math.floor(Math.log(E/a)/Math.LN10)),T=a/E*k;return T<=.15?k*=10:T<=.35?k*=5:T<=.75&&(k*=2),v[0]=Math.ceil(v[0]/k)*k,v[1]=Math.floor(v[1]/k)*k+.5*k,v[2]=k,v}function Hs(e,a){return V.range.apply(V,Vo(e,a))}function Ws(e,a,v){var E=Vo(e,a);if(v){var k=qe.exec(v);if(k.shift(),"s"===k[8]){var T=V.formatPrefix(Math.max(c(E[0]),c(E[1])));return k[7]||(k[7]="."+ms(T.scale(E[2]))),k[8]="f",v=V.format(k.join("")),function(F){return v(T.scale(F))+T.symbol}}k[7]||(k[7]="."+function Mh(e,a){var v=ms(a[2]);return e in Rh?Math.abs(v-ms(Math.max(c(a[0]),c(a[1]))))+ +("e"!==e):v-2*("%"===e)}(k[8],E)),v=k.join("")}else v=",."+ms(E[2])+"f";return V.format(v)}V.scale.linear=function(){return Oa([0,1],[0,1],Lo,!1)};var Rh={s:1,g:1,p:1,r:1,e:1};function ms(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function za(e,a,v,E){function k(O){return(v?Math.log(O<0?0:O):-Math.log(O>0?0:-O))/Math.log(a)}function T(O){return v?Math.pow(a,O):-Math.pow(a,-O)}function F(O){return e(k(O))}return F.invert=function(O){return T(e.invert(O))},F.domain=function(O){return arguments.length?(v=O[0]>=0,e.domain((E=O.map(Number)).map(k)),F):E},F.base=function(O){return arguments.length?(a=+O,e.domain(E.map(k)),F):a},F.nice=function(){var O=gs(E.map(k),v?Math:Lh);return e.domain(O),E=O.map(T),F},F.ticks=function(){var O=Ko(E),H=[],$=O[0],ne=O[1],fe=Math.floor(k($)),_e=Math.ceil(k(ne)),Me=a%1?2:a;if(isFinite(_e-fe)){if(v){for(;fe<_e;fe++)for(var $e=1;$e<Me;$e++)H.push(T(fe)*$e);H.push(T(fe))}else for(H.push(T(fe));fe++<_e;)for($e=Me-1;$e>0;$e--)H.push(T(fe)*$e);for(fe=0;H[fe]<$;fe++);for(_e=H.length;H[_e-1]>ne;_e--);H=H.slice(fe,_e)}return H},F.tickFormat=function(O,H){if(!arguments.length)return ja;arguments.length<2?H=ja:"function"!=typeof H&&(H=V.format(H));var $=Math.max(1,a*O/F.ticks().length);return function(ne){var fe=ne/T(Math.round(k(ne)));return fe*a<a-.5&&(fe*=a),fe<=$?H(ne):""}},F.copy=function(){return za(e.copy(),a,v,E)},Fs(F,e)}V.scale.log=function(){return za(V.scale.linear().domain([0,1]),10,!0,[1,10])};var ja=V.format(".0e"),Lh={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Ua(e,a,v){var E=vs(a),k=vs(1/a);function T(F){return e(E(F))}return T.invert=function(F){return k(e.invert(F))},T.domain=function(F){return arguments.length?(e.domain((v=F.map(Number)).map(E)),T):v},T.ticks=function(F){return Hs(v,F)},T.tickFormat=function(F,O){return Ws(v,F,O)},T.nice=function(F){return T.domain(Da(v,F))},T.exponent=function(F){return arguments.length?(E=vs(a=F),k=vs(1/a),e.domain(v.map(E)),T):a},T.copy=function(){return Ua(e.copy(),a,v)},Fs(T,e)}function vs(e){return function(a){return a<0?-Math.pow(-a,e):Math.pow(a,e)}}function Fa(e,a){var v,E,k;function T(O){return E[((v.get(O)||("range"===a.t?v.set(O,e.push(O)):NaN))-1)%E.length]}function F(O,H){return V.range(e.length).map(function($){return O+H*$})}return T.domain=function(O){if(!arguments.length)return e;e=[],v=new t;for(var ne,H=-1,$=O.length;++H<$;)v.has(ne=O[H])||v.set(ne,e.push(ne));return T[a.t].apply(T,a.a)},T.range=function(O){return arguments.length?(E=O,k=0,a={t:"range",a:arguments},T):E},T.rangePoints=function(O,H){arguments.length<2&&(H=0);var $=O[0],ne=O[1],fe=e.length<2?($=($+ne)/2,0):(ne-$)/(e.length-1+H);return E=F($+fe*H/2,fe),k=0,a={t:"rangePoints",a:arguments},T},T.rangeRoundPoints=function(O,H){arguments.length<2&&(H=0);var $=O[0],ne=O[1],fe=e.length<2?($=ne=Math.round(($+ne)/2),0):(ne-$)/(e.length-1+H)|0;return E=F($+Math.round(fe*H/2+(ne-$-(e.length-1+H)*fe)/2),fe),k=0,a={t:"rangeRoundPoints",a:arguments},T},T.rangeBands=function(O,H,$){arguments.length<2&&(H=0),arguments.length<3&&($=H);var ne=O[1]<O[0],fe=O[ne-0],Me=(O[1-ne]-fe)/(e.length-H+2*$);return E=F(fe+Me*$,Me),ne&&E.reverse(),k=Me*(1-H),a={t:"rangeBands",a:arguments},T},T.rangeRoundBands=function(O,H,$){arguments.length<2&&(H=0),arguments.length<3&&($=H);var ne=O[1]<O[0],fe=O[ne-0],_e=O[1-ne],Me=Math.floor((_e-fe)/(e.length-H+2*$));return E=F(fe+Math.round((_e-fe-(e.length-H)*Me)/2),Me),ne&&E.reverse(),k=Math.round(Me*(1-H)),a={t:"rangeRoundBands",a:arguments},T},T.rangeBand=function(){return k},T.rangeExtent=function(){return Ko(a.a[0])},T.copy=function(){return Fa(e,a)},T.domain(e)}V.scale.pow=function(){return Ua(V.scale.linear(),1,[0,1])},V.scale.sqrt=function(){return V.scale.pow().exponent(.5)},V.scale.ordinal=function(){return Fa([],{t:"range",a:[[]]})},V.scale.category10=function(){return V.scale.ordinal().range(Bh)},V.scale.category20=function(){return V.scale.ordinal().range(Ph)},V.scale.category20b=function(){return V.scale.ordinal().range(Nh)},V.scale.category20c=function(){return V.scale.ordinal().range(Oh)};var Bh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ei),Ph=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ei),Nh=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ei),Oh=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ei);function Ha(e,a){var v;function E(){var T=0,F=a.length;for(v=[];++T<F;)v[T-1]=V.quantile(e,T/F);return k}function k(T){if(!isNaN(T=+T))return a[V.bisect(v,T)]}return k.domain=function(T){return arguments.length?(e=T.map(i).filter(g).sort(B),E()):e},k.range=function(T){return arguments.length?(a=T,E()):a},k.quantiles=function(){return v},k.invertExtent=function(T){return(T=a.indexOf(T))<0?[NaN,NaN]:[T>0?v[T-1]:e[0],T<v.length?v[T]:e[e.length-1]]},k.copy=function(){return Ha(e,a)},E()}function Wa(e,a,v){var E,k;function T(O){return v[Math.max(0,Math.min(k,Math.floor(E*(O-e))))]}function F(){return E=v.length/(a-e),k=v.length-1,T}return T.domain=function(O){return arguments.length?(e=+O[0],a=+O[O.length-1],F()):[e,a]},T.range=function(O){return arguments.length?(v=O,F()):v},T.invertExtent=function(O){return[O=(O=v.indexOf(O))<0?NaN:O/E+e,O+1/E]},T.copy=function(){return Wa(e,a,v)},F()}function qa(e,a){function v(E){if(E<=E)return a[V.bisect(e,E)]}return v.domain=function(E){return arguments.length?(e=E,v):e},v.range=function(E){return arguments.length?(a=E,v):a},v.invertExtent=function(E){return E=a.indexOf(E),[e[E-1],e[E]]},v.copy=function(){return qa(e,a)},v}function Ka(e){function a(v){return+v}return a.invert=a,a.domain=a.range=function(v){return arguments.length?(e=v.map(a),a):e},a.ticks=function(v){return Hs(e,v)},a.tickFormat=function(v,E){return Ws(e,v,E)},a.copy=function(){return Ka(e)},a}function Dh(){return 0}V.scale.quantile=function(){return Ha([],[])},V.scale.quantize=function(){return Wa(0,1,[0,1])},V.scale.threshold=function(){return qa([.5],[0,1])},V.scale.identity=function(){return Ka([0,1])},V.svg={},V.svg.arc=function(){var e=zh,a=jh,v=Dh,E=ys,k=Va,T=Ga,F=Uh;function O(){var $=Math.max(0,+e.apply(this,arguments)),ne=Math.max(0,+a.apply(this,arguments)),fe=k.apply(this,arguments)-Ze,_e=T.apply(this,arguments)-Ze,Me=Math.abs(_e-fe),$e=fe>_e?0:1;if(ne<$&&(xe=ne,ne=$,$=xe),Me>=je)return H(ne,$e)+($?H($,1-$e):"")+"Z";var xe,Ie,Be,Ge,Ct,vt,bt,gt,$t,sn,In,xn,Ne=0,He=0,Tn=[];if((Ge=(+F.apply(this,arguments)||0)/2)&&(Be=E===ys?Math.sqrt($*$+ne*ne):+E.apply(this,arguments),$e||(He*=-1),ne&&(He=nn(Be/ne*Math.sin(Ge))),$&&(Ne=nn(Be/$*Math.sin(Ge)))),ne){Ct=ne*Math.cos(fe+He),vt=ne*Math.sin(fe+He),bt=ne*Math.cos(_e-He),gt=ne*Math.sin(_e-He);var Lt=Math.abs(_e-fe-2*He)<=ge?0:1;if(He&&_s(Ct,vt,bt,gt)===$e^Lt){var en=(fe+_e)/2;Ct=ne*Math.cos(en),vt=ne*Math.sin(en),bt=gt=null}}else Ct=vt=0;if($){$t=$*Math.cos(_e-Ne),sn=$*Math.sin(_e-Ne),In=$*Math.cos(fe+Ne),xn=$*Math.sin(fe+Ne);var gn=Math.abs(fe-_e+2*Ne)<=ge?0:1;if(Ne&&_s($t,sn,In,xn)===1-$e^gn){var Ot=(fe+_e)/2;$t=$*Math.cos(Ot),sn=$*Math.sin(Ot),In=xn=null}}else $t=sn=0;if(Me>Mt&&(xe=Math.min(Math.abs(ne-$)/2,+v.apply(this,arguments)))>.001){Ie=$<ne^$e?0:1;var fn=xe,Un=xe;if(Me<ge){var Qn=null==In?[$t,sn]:null==bt?[Ct,vt]:Zo([Ct,vt],[In,xn],[bt,gt],[$t,sn]),cr=Ct-Qn[0],Tr=vt-Qn[1],Or=bt-Qn[0],Ti=gt-Qn[1],Bi=1/Math.sin(Math.acos((cr*Or+Tr*Ti)/(Math.sqrt(cr*cr+Tr*Tr)*Math.sqrt(Or*Or+Ti*Ti)))/2),Ii=Math.sqrt(Qn[0]*Qn[0]+Qn[1]*Qn[1]);Un=Math.min(xe,($-Ii)/(Bi-1)),fn=Math.min(xe,(ne-Ii)/(Bi+1))}if(null!=bt){var Fi=bs(null==In?[$t,sn]:[In,xn],[Ct,vt],ne,fn,$e),xi=bs([bt,gt],[$t,sn],ne,fn,$e);xe===fn?Tn.push("M",Fi[0],"A",fn,",",fn," 0 0,",Ie," ",Fi[1],"A",ne,",",ne," 0 ",1-$e^_s(Fi[1][0],Fi[1][1],xi[1][0],xi[1][1]),",",$e," ",xi[1],"A",fn,",",fn," 0 0,",Ie," ",xi[0]):Tn.push("M",Fi[0],"A",fn,",",fn," 0 1,",Ie," ",xi[0])}else Tn.push("M",Ct,",",vt);if(null!=In){var Hi=bs([Ct,vt],[In,xn],$,-Un,$e),No=bs([$t,sn],null==bt?[Ct,vt]:[bt,gt],$,-Un,$e);xe===Un?Tn.push("L",No[0],"A",Un,",",Un," 0 0,",Ie," ",No[1],"A",$,",",$," 0 ",$e^_s(No[1][0],No[1][1],Hi[1][0],Hi[1][1]),",",1-$e," ",Hi[1],"A",Un,",",Un," 0 0,",Ie," ",Hi[0]):Tn.push("L",No[0],"A",Un,",",Un," 0 0,",Ie," ",Hi[0])}else Tn.push("L",$t,",",sn)}else Tn.push("M",Ct,",",vt),null!=bt&&Tn.push("A",ne,",",ne," 0 ",Lt,",",$e," ",bt,",",gt),Tn.push("L",$t,",",sn),null!=In&&Tn.push("A",$,",",$," 0 ",gn,",",1-$e," ",In,",",xn);return Tn.push("Z"),Tn.join("")}function H($,ne){return"M0,"+$+"A"+$+","+$+" 0 1,"+ne+" 0,"+-$+"A"+$+","+$+" 0 1,"+ne+" 0,"+$}return O.innerRadius=function($){return arguments.length?(e=_r($),O):e},O.outerRadius=function($){return arguments.length?(a=_r($),O):a},O.cornerRadius=function($){return arguments.length?(v=_r($),O):v},O.padRadius=function($){return arguments.length?(E=$==ys?ys:_r($),O):E},O.startAngle=function($){return arguments.length?(k=_r($),O):k},O.endAngle=function($){return arguments.length?(T=_r($),O):T},O.padAngle=function($){return arguments.length?(F=_r($),O):F},O.centroid=function(){var $=(+e.apply(this,arguments)+ +a.apply(this,arguments))/2,ne=(+k.apply(this,arguments)+ +T.apply(this,arguments))/2-Ze;return[Math.cos(ne)*$,Math.sin(ne)*$]},O};var ys="auto";function zh(e){return e.innerRadius}function jh(e){return e.outerRadius}function Va(e){return e.startAngle}function Ga(e){return e.endAngle}function Uh(e){return e&&e.padAngle}function _s(e,a,v,E){return(e-v)*a-(a-E)*e>0?0:1}function bs(e,a,v,E,k){var T=e[0]-a[0],F=e[1]-a[1],O=(k?E:-E)/Math.sqrt(T*T+F*F),H=O*F,$=-O*T,ne=e[0]+H,fe=e[1]+$,_e=a[0]+H,Me=a[1]+$,$e=(ne+_e)/2,xe=(fe+Me)/2,Ie=_e-ne,Be=Me-fe,Ge=Ie*Ie+Be*Be,Ne=v-E,He=ne*Me-_e*fe,Ct=(Be<0?-1:1)*Math.sqrt(Math.max(0,Ne*Ne*Ge-He*He)),vt=(He*Be-Ie*Ct)/Ge,bt=(-He*Ie-Be*Ct)/Ge,gt=(He*Be+Ie*Ct)/Ge,$t=(-He*Ie+Be*Ct)/Ge,sn=vt-$e,In=bt-xe,xn=gt-$e,Tn=$t-xe;return sn*sn+In*In>xn*xn+Tn*Tn&&(vt=gt,bt=$t),[[vt-H,bt-$],[vt*v/Ne,bt*v/Ne]]}function Ya(e){var a=wo,v=xo,E=Dn,k=oo,T=k.key,F=.7;function O(H){var Me,$=[],ne=[],fe=-1,_e=H.length,$e=_r(a),xe=_r(v);function Ie(){$.push("M",k(e(ne),F))}for(;++fe<_e;)E.call(this,Me=H[fe],fe)?ne.push([+$e.call(this,Me,fe),+xe.call(this,Me,fe)]):ne.length&&(Ie(),ne=[]);return ne.length&&Ie(),$.length?$.join(""):null}return O.x=function(H){return arguments.length?(a=H,O):a},O.y=function(H){return arguments.length?(v=H,O):v},O.defined=function(H){return arguments.length?(E=H,O):E},O.interpolate=function(H){return arguments.length?(T="function"==typeof H?k=H:(k=qs.get(H)||oo).key,O):T},O.tension=function(H){return arguments.length?(F=H,O):F},O}V.svg.line=function(){return Ya(R)};var qs=V.map({linear:oo,"linear-closed":$a,step:function Fh(e){for(var a=0,v=e.length,E=e[0],k=[E[0],",",E[1]];++a<v;)k.push("H",(E[0]+(E=e[a])[0])/2,"V",E[1]);return v>1&&k.push("H",E[0]),k.join("")},"step-before":Ks,"step-after":Vs,basis:Xa,"basis-open":function Kh(e){if(e.length<4)return oo(e);for(var k,a=[],v=-1,E=e.length,T=[0],F=[0];++v<3;)T.push((k=e[v])[0]),F.push(k[1]);for(a.push(Zi(Eo,T)+","+Zi(Eo,F)),--v;++v<E;)k=e[v],T.shift(),T.push(k[0]),F.shift(),F.push(k[1]),Ys(a,T,F);return a.join("")},"basis-closed":function Vh(e){for(var a,T,v=-1,E=e.length,k=E+4,F=[],O=[];++v<4;)F.push((T=e[v%E])[0]),O.push(T[1]);for(a=[Zi(Eo,F),",",Zi(Eo,O)],--v;++v<k;)T=e[v%E],F.shift(),F.push(T[0]),O.shift(),O.push(T[1]),Ys(a,F,O);return a.join("")},bundle:function Gh(e,a){var v=e.length-1;if(v)for(var H,$,E=e[0][0],k=e[0][1],T=e[v][0]-E,F=e[v][1]-k,O=-1;++O<=v;)(H=e[O])[0]=a*H[0]+(1-a)*(E+($=O/v)*T),H[1]=a*H[1]+(1-a)*(k+$*F);return Xa(e)},cardinal:function qh(e,a){return e.length<3?oo(e):e[0]+ws(e,Gs(e,a))},"cardinal-open":function Hh(e,a){return e.length<4?oo(e):e[1]+ws(e.slice(1,-1),Gs(e,a))},"cardinal-closed":function Wh(e,a){return e.length<3?$a(e):e[0]+ws((e.push(e[0]),e),Gs([e[e.length-2]].concat(e,[e[1]]),a))},monotone:function Xh(e){return e.length<3?oo(e):e[0]+ws(e,function $h(e){for(var v,E,k,T,a=[],F=function Yh(e){for(var a=0,v=e.length-1,E=[],k=e[0],T=e[1],F=E[0]=$s(k,T);++a<v;)E[a]=(F+(F=$s(k=T,T=e[a+1])))/2;return E[a]=F,E}(e),O=-1,H=e.length-1;++O<H;)v=$s(e[O],e[O+1]),c(v)<Mt?F[O]=F[O+1]=0:(T=(E=F[O]/v)*E+(k=F[O+1]/v)*k)>9&&(T=3*v/Math.sqrt(T),F[O]=T*E,F[O+1]=T*k);for(O=-1;++O<=H;)T=(e[Math.min(H,O+1)][0]-e[Math.max(0,O-1)][0])/(6*(1+F[O]*F[O])),a.push([T||0,F[O]*T||0]);return a}(e))}});function oo(e){return e.length>1?e.join("L"):e+"Z"}function $a(e){return e.join("L")+"Z"}function Ks(e){for(var a=0,v=e.length,E=e[0],k=[E[0],",",E[1]];++a<v;)k.push("V",(E=e[a])[1],"H",E[0]);return k.join("")}function Vs(e){for(var a=0,v=e.length,E=e[0],k=[E[0],",",E[1]];++a<v;)k.push("H",(E=e[a])[0],"V",E[1]);return k.join("")}function ws(e,a){if(a.length<1||e.length!=a.length&&e.length!=a.length+2)return oo(e);var v=e.length!=a.length,E="",k=e[0],T=e[1],F=a[0],O=F,H=1;if(v&&(E+="Q"+(T[0]-2*F[0]/3)+","+(T[1]-2*F[1]/3)+","+T[0]+","+T[1],k=e[1],H=2),a.length>1){T=e[H],H++,E+="C"+(k[0]+F[0])+","+(k[1]+F[1])+","+(T[0]-(O=a[1])[0])+","+(T[1]-O[1])+","+T[0]+","+T[1];for(var $=2;$<a.length;$++,H++)E+="S"+((T=e[H])[0]-(O=a[$])[0])+","+(T[1]-O[1])+","+T[0]+","+T[1]}if(v){var ne=e[H];E+="Q"+(T[0]+2*O[0]/3)+","+(T[1]+2*O[1]/3)+","+ne[0]+","+ne[1]}return E}function Gs(e,a){for(var k,v=[],E=(1-a)/2,T=e[0],F=e[1],O=1,H=e.length;++O<H;)k=T,T=F,v.push([E*((F=e[O])[0]-k[0]),E*(F[1]-k[1])]);return v}function Xa(e){if(e.length<3)return oo(e);var a=1,v=e.length,E=e[0],k=E[0],T=E[1],F=[k,k,k,(E=e[1])[0]],O=[T,T,T,E[1]],H=[k,",",T,"L",Zi(Eo,F),",",Zi(Eo,O)];for(e.push(e[v-1]);++a<=v;)E=e[a],F.shift(),F.push(E[0]),O.shift(),O.push(E[1]),Ys(H,F,O);return e.pop(),H.push("L",E),H.join("")}function Zi(e,a){return e[0]*a[0]+e[1]*a[1]+e[2]*a[2]+e[3]*a[3]}qs.forEach(function(e,a){a.key=e,a.closed=/-closed$/.test(e)});var Za=[0,2/3,1/3,0],Ja=[0,1/3,2/3,0],Eo=[0,1/6,2/3,1/6];function Ys(e,a,v){e.push("C",Zi(Za,a),",",Zi(Za,v),",",Zi(Ja,a),",",Zi(Ja,v),",",Zi(Eo,a),",",Zi(Eo,v))}function $s(e,a){return(a[1]-e[1])/(a[0]-e[0])}function Qa(e){for(var a,k,T,v=-1,E=e.length;++v<E;)T=(a=e[v])[1]-Ze,a[0]=(k=a[0])*Math.cos(T),a[1]=k*Math.sin(T);return e}function ec(e){var a=wo,v=wo,E=0,k=xo,T=Dn,F=oo,O=F.key,H=F,$="L",ne=.7;function fe(_e){var Ge,bt,gt,Me=[],$e=[],xe=[],Ie=-1,Be=_e.length,Ne=_r(a),He=_r(E),Ct=a===v?function(){return bt}:_r(v),vt=E===k?function(){return gt}:_r(k);function $t(){Me.push("M",F(e(xe),ne),$,H(e($e.reverse()),ne),"Z")}for(;++Ie<Be;)T.call(this,Ge=_e[Ie],Ie)?($e.push([bt=+Ne.call(this,Ge,Ie),gt=+He.call(this,Ge,Ie)]),xe.push([+Ct.call(this,Ge,Ie),+vt.call(this,Ge,Ie)])):$e.length&&($t(),$e=[],xe=[]);return $e.length&&$t(),Me.length?Me.join(""):null}return fe.x=function(_e){return arguments.length?(a=v=_e,fe):v},fe.x0=function(_e){return arguments.length?(a=_e,fe):a},fe.x1=function(_e){return arguments.length?(v=_e,fe):v},fe.y=function(_e){return arguments.length?(E=k=_e,fe):k},fe.y0=function(_e){return arguments.length?(E=_e,fe):E},fe.y1=function(_e){return arguments.length?(k=_e,fe):k},fe.defined=function(_e){return arguments.length?(T=_e,fe):T},fe.interpolate=function(_e){return arguments.length?(O="function"==typeof _e?F=_e:(F=qs.get(_e)||oo).key,H=F.reverse||F,$=F.closed?"M":"L",fe):O},fe.tension=function(_e){return arguments.length?(ne=_e,fe):ne},fe}function Zh(e){return e.radius}function tc(e){return[e.x,e.y]}function Qh(){return 64}function eu(){return"circle"}function nc(e){var a=Math.sqrt(e/ge);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}V.svg.line.radial=function(){var e=Ya(Qa);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Ks.reverse=Vs,Vs.reverse=Ks,V.svg.area=function(){return ec(R)},V.svg.area.radial=function(){var e=ec(Qa);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},V.svg.chord=function(){var e=Ai,a=$r,v=Zh,E=Va,k=Ga;function T(ne,fe){var _e=F(this,e,ne,fe),Me=F(this,a,ne,fe);return"M"+_e.p0+H(_e.r,_e.p1,_e.a1-_e.a0)+(function O(ne,fe){return ne.a0==fe.a0&&ne.a1==fe.a1}(_e,Me)?$(0,0,0,_e.p0):$(0,0,0,Me.p0)+H(Me.r,Me.p1,Me.a1-Me.a0)+$(0,0,0,_e.p0))+"Z"}function F(ne,fe,_e,Me){var $e=fe.call(ne,_e,Me),xe=v.call(ne,$e,Me),Ie=E.call(ne,$e,Me)-Ze,Be=k.call(ne,$e,Me)-Ze;return{r:xe,a0:Ie,a1:Be,p0:[xe*Math.cos(Ie),xe*Math.sin(Ie)],p1:[xe*Math.cos(Be),xe*Math.sin(Be)]}}function H(ne,fe,_e){return"A"+ne+","+ne+" 0 "+ +(_e>ge)+",1 "+fe}function $(ne,fe,_e,Me){return"Q 0,0 "+Me}return T.radius=function(ne){return arguments.length?(v=_r(ne),T):v},T.source=function(ne){return arguments.length?(e=_r(ne),T):e},T.target=function(ne){return arguments.length?(a=_r(ne),T):a},T.startAngle=function(ne){return arguments.length?(E=_r(ne),T):E},T.endAngle=function(ne){return arguments.length?(k=_r(ne),T):k},T},V.svg.diagonal=function(){var e=Ai,a=$r,v=tc;function E(k,T){var F=e.call(this,k,T),O=a.call(this,k,T),H=(F.y+O.y)/2,$=[F,{x:F.x,y:H},{x:O.x,y:H},O];return"M"+($=$.map(v))[0]+"C"+$[1]+" "+$[2]+" "+$[3]}return E.source=function(k){return arguments.length?(e=_r(k),E):e},E.target=function(k){return arguments.length?(a=_r(k),E):a},E.projection=function(k){return arguments.length?(v=k,E):v},E},V.svg.diagonal.radial=function(){var e=V.svg.diagonal(),a=tc,v=e.projection;return e.projection=function(E){return arguments.length?v(function Jh(e){return function(){var a=e.apply(this,arguments),v=a[0],E=a[1]-Ze;return[v*Math.cos(E),v*Math.sin(E)]}}(a=E)):a},e},V.svg.symbol=function(){var e=eu,a=Qh;function v(E,k){return(rc.get(e.call(this,E,k))||nc)(a.call(this,E,k))}return v.type=function(E){return arguments.length?(e=_r(E),v):e},v.size=function(E){return arguments.length?(a=_r(E),v):a},v};var rc=V.map({circle:nc,cross:function(e){var a=Math.sqrt(e/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(e){var a=Math.sqrt(e/(2*ic)),v=a*ic;return"M0,"+-a+"L"+v+",0 0,"+a+" "+-v+",0Z"},square:function(e){var a=Math.sqrt(e)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(e){var a=Math.sqrt(e/xs),v=a*xs/2;return"M0,"+v+"L"+a+","+-v+" "+-a+","+-v+"Z"},"triangle-up":function(e){var a=Math.sqrt(e/xs),v=a*xs/2;return"M0,"+-v+"L"+a+","+v+" "+-a+","+v+"Z"}});V.svg.symbolTypes=rc.keys();var xs=Math.sqrt(3),ic=Math.tan(30*Xe);re.transition=function(e){for(var k,T,a=Bo||++sc,v=Zs(e),E=[],F=ks||{time:Date.now(),ease:Mc,delay:0,duration:250},O=-1,H=this.length;++O<H;){E.push(k=[]);for(var $=this[O],ne=-1,fe=$.length;++ne<fe;)(T=$[ne])&&Ss(T,ne,v,a,F),k.push(T)}return os(E,v,a)},re.interrupt=function(e){return this.each(null==e?Es:oc(Zs(e)))};var Es=oc(Zs());function oc(e){return function(){var a,v,E;(a=this[e])&&(E=a[v=a.active])&&(E.timer.c=null,E.timer.t=NaN,--a.count?delete a[v]:delete this[e],a.active+=.5,E.event&&E.event.interrupt.call(this,this.__data__,E.index))}}function os(e,a,v){return C(e,ii),e.namespace=a,e.id=v,e}var Bo,ks,ii=[],sc=0;function Xs(e,a,v,E){var k=e.id,T=e.namespace;return pe(e,"function"==typeof v?function(F,O,H){F[T][k].tween.set(a,E(v.call(F,F.__data__,O,H)))}:(v=E(v),function(F){F[T][k].tween.set(a,v)}))}function tu(e){return null==e&&(e=""),function(){this.textContent=e}}function Zs(e){return null==e?"__transition__":"__transition_"+e+"__"}function Ss(e,a,v,E,k){var O,H,$,ne,fe,T=e[v]||(e[v]={active:0,count:0}),F=T[E];function Me(xe){var Ie=T.active,Be=T[Ie];for(var Ge in Be&&(Be.timer.c=null,Be.timer.t=NaN,--T.count,delete T[Ie],Be.event&&Be.event.interrupt.call(e,e.__data__,Be.index)),T)if(+Ge<E){var Ne=T[Ge];Ne.timer.c=null,Ne.timer.t=NaN,--T.count,delete T[Ge]}H.c=$e,P(function(){return H.c&&$e(xe||1)&&(H.c=null,H.t=NaN),1},0,O),T.active=E,F.event&&F.event.start.call(e,e.__data__,a),fe=[],F.tween.forEach(function(He,Ct){(Ct=Ct.call(e,e.__data__,a))&&fe.push(Ct)}),ne=F.ease,$=F.duration}function $e(xe){for(var Ie=xe/$,Be=ne(Ie),Ge=fe.length;Ge>0;)fe[--Ge].call(e,Be);if(Ie>=1)return F.event&&F.event.end.call(e,e.__data__,a),--T.count?delete T[E]:delete e[v],1}F||(H=P(function _e(xe){var Ie=F.delay;if(H.t=Ie+O,Ie<=xe)return Me(xe-Ie);H.c=Me},0,O=k.time),F=T[E]={tween:new t,time:O,timer:H,delay:k.delay,duration:k.duration,ease:k.ease,index:a},k=null,++T.count)}ii.call=re.call,ii.empty=re.empty,ii.node=re.node,ii.size=re.size,V.transition=function(e,a){return e&&e.transition?Bo?e.transition(a):e:V.selection().transition(e)},V.transition.prototype=ii,ii.select=function(e){var k,T,F,a=this.id,v=this.namespace,E=[];e=Ue(e);for(var O=-1,H=this.length;++O<H;){E.push(k=[]);for(var $=this[O],ne=-1,fe=$.length;++ne<fe;)(F=$[ne])&&(T=e.call(F,F.__data__,ne,O))?("__data__"in F&&(T.__data__=F.__data__),Ss(T,ne,v,a,F[v][a]),k.push(T)):k.push(null)}return os(E,v,a)},ii.selectAll=function(e){var k,T,F,O,H,a=this.id,v=this.namespace,E=[];e=We(e);for(var $=-1,ne=this.length;++$<ne;)for(var fe=this[$],_e=-1,Me=fe.length;++_e<Me;)if(F=fe[_e]){H=F[v][a],T=e.call(F,F.__data__,_e,$),E.push(k=[]);for(var $e=-1,xe=T.length;++$e<xe;)(O=T[$e])&&Ss(O,$e,v,a,H),k.push(O)}return os(E,v,a)},ii.filter=function(e){var v,k,a=[];"function"!=typeof e&&(e=Je(e));for(var T=0,F=this.length;T<F;T++){a.push(v=[]);for(var E,O=0,H=(E=this[T]).length;O<H;O++)(k=E[O])&&e.call(k,k.__data__,O,T)&&v.push(k)}return os(a,this.namespace,this.id)},ii.tween=function(e,a){var v=this.id,E=this.namespace;return arguments.length<2?this.node()[E][v].tween.get(e):pe(this,null==a?function(k){k[E][v].tween.remove(e)}:function(k){k[E][v].tween.set(e,a)})},ii.attr=function(e,a){if(arguments.length<2){for(a in e)this.attr(a,e[a]);return this}var v="transform"==e?wa:Lo,E=V.ns.qualify(e);function k(){this.removeAttribute(E)}function T(){this.removeAttributeNS(E.space,E.local)}return Xs(this,"attr."+e,a,E.local?function O(H){return null==H?T:(H+="",function(){var ne,$=this.getAttributeNS(E.space,E.local);return $!==H&&(ne=v($,H),function(fe){this.setAttributeNS(E.space,E.local,ne(fe))})})}:function F(H){return null==H?k:(H+="",function(){var ne,$=this.getAttribute(E);return $!==H&&(ne=v($,H),function(fe){this.setAttribute(E,ne(fe))})})})},ii.attrTween=function(e,a){var v=V.ns.qualify(e);return this.tween("attr."+e,v.local?function k(T,F){var O=a.call(this,T,F,this.getAttributeNS(v.space,v.local));return O&&function(H){this.setAttributeNS(v.space,v.local,O(H))}}:function E(T,F){var O=a.call(this,T,F,this.getAttribute(v));return O&&function(H){this.setAttribute(v,O(H))}})},ii.style=function(e,a,v){var E=arguments.length;if(E<3){if("string"!=typeof e){for(v in E<2&&(a=""),e)this.style(v,e[v],a);return this}v=""}function k(){this.style.removeProperty(e)}return Xs(this,"style."+e,a,function T(F){return null==F?k:(F+="",function(){var H,O=G(this).getComputedStyle(this,null).getPropertyValue(e);return O!==F&&(H=Lo(O,F),function($){this.style.setProperty(e,H($),v)})})})},ii.styleTween=function(e,a,v){return arguments.length<3&&(v=""),this.tween("style."+e,function E(k,T){var F=a.call(this,k,T,G(this).getComputedStyle(this,null).getPropertyValue(e));return F&&function(O){this.style.setProperty(e,F(O),v)}})},ii.text=function(e){return Xs(this,"text",e,tu)},ii.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var a;this[e].count<2&&(a=this.parentNode)&&a.removeChild(this)})},ii.ease=function(e){var a=this.id,v=this.namespace;return arguments.length<1?this.node()[v][a].ease:("function"!=typeof e&&(e=V.ease.apply(V,arguments)),pe(this,function(E){E[v][a].ease=e}))},ii.delay=function(e){var a=this.id,v=this.namespace;return arguments.length<1?this.node()[v][a].delay:pe(this,"function"==typeof e?function(E,k,T){E[v][a].delay=+e.call(E,E.__data__,k,T)}:(e=+e,function(E){E[v][a].delay=e}))},ii.duration=function(e){var a=this.id,v=this.namespace;return arguments.length<1?this.node()[v][a].duration:pe(this,"function"==typeof e?function(E,k,T){E[v][a].duration=Math.max(1,e.call(E,E.__data__,k,T))}:(e=Math.max(1,e),function(E){E[v][a].duration=e}))},ii.each=function(e,a){var v=this.id,E=this.namespace;if(arguments.length<2){var k=ks,T=Bo;try{Bo=v,pe(this,function(F,O,H){ks=F[E][v],e.call(F,F.__data__,O,H)})}finally{ks=k,Bo=T}}else pe(this,function(F){var O=F[E][v];(O.event||(O.event=V.dispatch("start","end","interrupt"))).on(e,a)});return this},ii.transition=function(){for(var k,F,O,e=this.id,a=++sc,v=this.namespace,E=[],H=0,$=this.length;H<$;H++){E.push(k=[]);for(var T,ne=0,fe=(T=this[H]).length;ne<fe;ne++)(F=T[ne])&&Ss(F,ne,v,a,{time:(O=F[v][e]).time,ease:O.ease,delay:O.delay+O.duration,duration:O.duration}),k.push(F)}return os(E,v,a)},V.svg.axis=function(){var O,e=V.scale.linear(),a=ac,v=6,E=6,k=3,T=[10],F=null;function H($){$.each(function(){var He,ne=V.select(this),fe=this.__chart__||e,_e=this.__chart__=e.copy(),Me=F??(_e.ticks?_e.ticks.apply(_e,T):_e.domain()),$e=O??(_e.tickFormat?_e.tickFormat.apply(_e,T):R),xe=ne.selectAll(".tick").data(Me,_e),Ie=xe.enter().insert("g",".domain").attr("class","tick").style("opacity",Mt),Be=V.transition(xe.exit()).style("opacity",Mt).remove(),Ge=V.transition(xe.order()).style("opacity",1),Ne=Math.max(v,0)+k,Ct=ps(_e),vt=ne.selectAll(".domain").data([0]),bt=(vt.enter().append("path").attr("class","domain"),V.transition(vt));Ie.append("line"),Ie.append("text");var Lt,en,gn,Ot,gt=Ie.select("line"),$t=Ge.select("line"),sn=xe.select("text").text($e),In=Ie.select("text"),xn=Ge.select("text"),Tn="top"===a||"left"===a?-1:1;if("bottom"===a||"top"===a?(He=ru,Lt="x",gn="y",en="x2",Ot="y2",sn.attr("dy",Tn<0?"0em":".71em").style("text-anchor","middle"),bt.attr("d","M"+Ct[0]+","+Tn*E+"V0H"+Ct[1]+"V"+Tn*E)):(He=iu,Lt="y",gn="x",en="y2",Ot="x2",sn.attr("dy",".32em").style("text-anchor",Tn<0?"end":"start"),bt.attr("d","M"+Tn*E+","+Ct[0]+"H0V"+Ct[1]+"H"+Tn*E)),gt.attr(Ot,Tn*v),In.attr(gn,Tn*Ne),$t.attr(en,0).attr(Ot,Tn*v),xn.attr(Lt,0).attr(gn,Tn*Ne),_e.rangeBand){var fn=_e,Un=fn.rangeBand()/2;fe=_e=function(Qn){return fn(Qn)+Un}}else fe.rangeBand?fe=_e:Be.call(He,_e,fe);Ie.call(He,fe,_e),Ge.call(He,_e,_e)})}return H.scale=function($){return arguments.length?(e=$,H):e},H.orient=function($){return arguments.length?(a=$ in nu?$+"":ac,H):a},H.ticks=function(){return arguments.length?(T=Le(arguments),H):T},H.tickValues=function($){return arguments.length?(F=$,H):F},H.tickFormat=function($){return arguments.length?(O=$,H):O},H.tickSize=function($){var ne=arguments.length;return ne?(v=+$,E=+arguments[ne-1],H):v},H.innerTickSize=function($){return arguments.length?(v=+$,H):v},H.outerTickSize=function($){return arguments.length?(E=+$,H):E},H.tickPadding=function($){return arguments.length?(k=+$,H):k},H.tickSubdivide=function(){return arguments.length&&H},H};var ac="bottom",nu={top:1,right:1,bottom:1,left:1};function ru(e,a,v){e.attr("transform",function(E){var k=a(E);return"translate("+(isFinite(k)?k:v(E))+",0)"})}function iu(e,a,v){e.attr("transform",function(E){var k=a(E);return"translate(0,"+(isFinite(k)?k:v(E))+")"})}V.svg.brush=function(){var T,F,e=z(ne,"brushstart","brush","brushend"),a=null,v=null,E=[0,0],k=[0,0],O=!0,H=!0,$=Js[0];function ne(xe){xe.each(function(){var Ie=V.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",$e).on("touchstart.brush",$e),Be=Ie.selectAll(".background").data([0]);Be.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ie.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Ge=Ie.selectAll(".resize").data($,R);Ge.exit().remove(),Ge.enter().append("g").attr("class",function(vt){return"resize "+vt}).style("cursor",function(vt){return ou[vt]}).append("rect").attr("x",function(vt){return/[ew]$/.test(vt)?-3:null}).attr("y",function(vt){return/^[ns]/.test(vt)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Ge.style("display",ne.empty()?"none":null);var Ct,Ne=V.transition(Ie),He=V.transition(Be);a&&(Ct=ps(a),He.attr("x",Ct[0]).attr("width",Ct[1]-Ct[0]),_e(Ne)),v&&(Ct=ps(v),He.attr("y",Ct[0]).attr("height",Ct[1]-Ct[0]),Me(Ne)),fe(Ne)})}function fe(xe){xe.selectAll(".resize").attr("transform",function(Ie){return"translate("+E[+/e$/.test(Ie)]+","+k[+/^s/.test(Ie)]+")"})}function _e(xe){xe.select(".extent").attr("x",E[0]),xe.selectAll(".extent,.n>rect,.s>rect").attr("width",E[1]-E[0])}function Me(xe){xe.select(".extent").attr("y",k[0]),xe.selectAll(".extent,.e>rect,.w>rect").attr("height",k[1]-k[0])}function $e(){var gt,sn,xe=this,Ie=V.select(V.event.target),Be=e.of(xe,arguments),Ge=V.select(xe),Ne=Ie.datum(),He=!/^(n|s)$/.test(Ne)&&a,Ct=!/^(e|w)$/.test(Ne)&&v,vt=Ie.classed("extent"),bt=Xn(xe),$t=V.mouse(xe),In=V.select(G(xe)).on("keydown.brush",function Lt(){32==V.event.keyCode&&(vt||(gt=null,$t[0]-=E[1],$t[1]-=k[1],vt=2),A())}).on("keyup.brush",function en(){32==V.event.keyCode&&2==vt&&($t[0]+=E[1],$t[1]+=k[1],vt=0,A())});if(V.event.changedTouches?In.on("touchmove.brush",gn).on("touchend.brush",fn):In.on("mousemove.brush",gn).on("mouseup.brush",fn),Ge.interrupt().selectAll("*").interrupt(),vt)$t[0]=E[0]-$t[0],$t[1]=k[0]-$t[1];else if(Ne){var xn=+/w$/.test(Ne),Tn=+/^n/.test(Ne);sn=[E[1-xn]-$t[0],k[1-Tn]-$t[1]],$t[0]=E[xn],$t[1]=k[Tn]}else V.event.altKey&&(gt=$t.slice());function gn(){var Un=V.mouse(xe),Qn=!1;sn&&(Un[0]+=sn[0],Un[1]+=sn[1]),vt||(V.event.altKey?(gt||(gt=[(E[0]+E[1])/2,(k[0]+k[1])/2]),$t[0]=E[+(Un[0]<gt[0])],$t[1]=k[+(Un[1]<gt[1])]):gt=null),He&&Ot(Un,a,0)&&(_e(Ge),Qn=!0),Ct&&Ot(Un,v,1)&&(Me(Ge),Qn=!0),Qn&&(fe(Ge),Be({type:"brush",mode:vt?"move":"resize"}))}function Ot(Un,Qn,cr){var xi,Hi,Tr=ps(Qn),Or=Tr[0],Ti=Tr[1],Bi=$t[cr],Ii=cr?k:E,Fi=Ii[1]-Ii[0];if(vt&&(Or-=Bi,Ti-=Fi+Bi),xi=(cr?H:O)?Math.max(Or,Math.min(Ti,Un[cr])):Un[cr],vt?Hi=(xi+=Bi)+Fi:(gt&&(Bi=Math.max(Or,Math.min(Ti,2*gt[cr]-xi))),Bi<xi?(Hi=xi,xi=Bi):Hi=Bi),Ii[0]!=xi||Ii[1]!=Hi)return cr?F=null:T=null,Ii[0]=xi,Ii[1]=Hi,!0}function fn(){gn(),Ge.style("pointer-events","all").selectAll(".resize").style("display",ne.empty()?"none":null),V.select("body").style("cursor",null),In.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),bt(),Be({type:"brushend"})}Ge.style("pointer-events","none").selectAll(".resize").style("display",null),V.select("body").style("cursor",Ie.style("cursor")),Be({type:"brushstart"}),gn()}return ne.event=function(xe){xe.each(function(){var Ie=e.of(this,arguments),Be={x:E,y:k,i:T,j:F},Ge=this.__chart__||Be;this.__chart__=Be,Bo?V.select(this).transition().each("start.brush",function(){T=Ge.i,F=Ge.j,E=Ge.x,k=Ge.y,Ie({type:"brushstart"})}).tween("brush:brush",function(){var Ne=ds(E,Be.x),He=ds(k,Be.y);return T=F=null,function(Ct){E=Be.x=Ne(Ct),k=Be.y=He(Ct),Ie({type:"brush",mode:"resize"})}}).each("end.brush",function(){T=Be.i,F=Be.j,Ie({type:"brush",mode:"resize"}),Ie({type:"brushend"})}):(Ie({type:"brushstart"}),Ie({type:"brush",mode:"resize"}),Ie({type:"brushend"}))})},ne.x=function(xe){return arguments.length?($=Js[!(a=xe)<<1|!v],ne):a},ne.y=function(xe){return arguments.length?($=Js[!a<<1|!(v=xe)],ne):v},ne.clamp=function(xe){return arguments.length?(a&&v?(O=!!xe[0],H=!!xe[1]):a?O=!!xe:v&&(H=!!xe),ne):a&&v?[O,H]:a?O:v?H:null},ne.extent=function(xe){var Ie,Be,Ge,Ne,He;return arguments.length?(a&&(Ie=xe[0],Be=xe[1],v&&(Ie=Ie[0],Be=Be[0]),T=[Ie,Be],a.invert&&(Ie=a(Ie),Be=a(Be)),Be<Ie&&(He=Ie,Ie=Be,Be=He),(Ie!=E[0]||Be!=E[1])&&(E=[Ie,Be])),v&&(Ge=xe[0],Ne=xe[1],a&&(Ge=Ge[1],Ne=Ne[1]),F=[Ge,Ne],v.invert&&(Ge=v(Ge),Ne=v(Ne)),Ne<Ge&&(He=Ge,Ge=Ne,Ne=He),(Ge!=k[0]||Ne!=k[1])&&(k=[Ge,Ne])),ne):(a&&(T?(Ie=T[0],Be=T[1]):(Ie=E[0],Be=E[1],a.invert&&(Ie=a.invert(Ie),Be=a.invert(Be)),Be<Ie&&(He=Ie,Ie=Be,Be=He))),v&&(F?(Ge=F[0],Ne=F[1]):(Ge=k[0],Ne=k[1],v.invert&&(Ge=v.invert(Ge),Ne=v.invert(Ne)),Ne<Ge&&(He=Ge,Ge=Ne,Ne=He))),a&&v?[[Ie,Ge],[Be,Ne]]:a?[Ie,Be]:v&&[Ge,Ne])},ne.clear=function(){return ne.empty()||(E=[0,0],k=[0,0],T=F=null),ne},ne.empty=function(){return!!a&&E[0]==E[1]||!!v&&k[0]==k[1]},V.rebind(ne,e,"on")};var ou={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Js=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Qs=ot.format=bn.timeFormat,cc=Qs.utc,hc=cc("%Y-%m-%dT%H:%M:%S.%LZ");function ea(e){return e.toISOString()}function ta(e,a,v){function E(T){return e(T)}function k(T,F){var H=(T[1]-T[0])/F,$=V.bisect(As,H);return $==As.length?[a.year,Vo(T.map(function(ne){return ne/31536e6}),F)[2]]:$?a[H/As[$-1]<As[$]/H?$-1:$]:[au,Vo(T,F)[2]]}return E.invert=function(T){return Po(e.invert(T))},E.domain=function(T){return arguments.length?(e.domain(T),E):e.domain().map(Po)},E.nice=function(T,F){var O=E.domain(),H=Ko(O),$=null==T?k(H,10):"number"==typeof T&&k(H,T);function ne(fe){return!isNaN(fe)&&!T.range(fe,Po(+fe+1),F).length}return $&&(T=$[0],F=$[1]),E.domain(gs(O,F>1?{floor:function(fe){for(;ne(fe=T.floor(fe));)fe=Po(fe-1);return fe},ceil:function(fe){for(;ne(fe=T.ceil(fe));)fe=Po(+fe+1);return fe}}:T))},E.ticks=function(T,F){var O=Ko(E.domain()),H=null==T?k(O,10):"number"==typeof T?k(O,T):!T.range&&[{range:T},F];return H&&(T=H[0],F=H[1]),T.range(O[0],Po(+O[1]+1),F<1?1:F)},E.tickFormat=function(){return v},E.copy=function(){return ta(e.copy(),a,v)},Fs(E,e)}function Po(e){return new Date(e)}Qs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ea:hc,ea.parse=function(e){var a=new Date(e);return isNaN(a)?null:a},ea.toString=hc.toString,ot.second=Tt(function(e){return new lt(1e3*Math.floor(e/1e3))},function(e,a){e.setTime(e.getTime()+1e3*Math.floor(a))},function(e){return e.getSeconds()}),ot.seconds=ot.second.range,ot.seconds.utc=ot.second.utc.range,ot.minute=Tt(function(e){return new lt(6e4*Math.floor(e/6e4))},function(e,a){e.setTime(e.getTime()+6e4*Math.floor(a))},function(e){return e.getMinutes()}),ot.minutes=ot.minute.range,ot.minutes.utc=ot.minute.utc.range,ot.hour=Tt(function(e){var a=e.getTimezoneOffset()/60;return new lt(36e5*(Math.floor(e/36e5-a)+a))},function(e,a){e.setTime(e.getTime()+36e5*Math.floor(a))},function(e){return e.getHours()}),ot.hours=ot.hour.range,ot.hours.utc=ot.hour.utc.range,ot.month=Tt(function(e){return(e=ot.day(e)).setDate(1),e},function(e,a){e.setMonth(e.getMonth()+a)},function(e){return e.getMonth()}),ot.months=ot.month.range,ot.months.utc=ot.month.utc.range;var As=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],na=[[ot.second,1],[ot.second,5],[ot.second,15],[ot.second,30],[ot.minute,1],[ot.minute,5],[ot.minute,15],[ot.minute,30],[ot.hour,1],[ot.hour,3],[ot.hour,6],[ot.hour,12],[ot.day,1],[ot.day,2],[ot.week,1],[ot.month,1],[ot.month,3],[ot.year,1]],su=Qs.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Dn]]),au={range:function(e,a,v){return V.range(Math.ceil(e/v)*v,+a,v).map(Po)},floor:R,ceil:R};na.year=ot.year,ot.scale=function(){return ta(V.scale.linear(),na,su)};var uc=na.map(function(e){return[e[0].utc,e[1]]}),cu=cc.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Dn]]);function hu(e){return JSON.parse(e.responseText)}function uu(e){var a=_.createRange();return a.selectNode(_.body),a.createContextualFragment(e.responseText)}uc.year=ot.year.utc,ot.scale.utc=function(){return ta(V.scale.linear(),uc,cu)},V.text=Wi(function(e){return e.responseText}),V.json=function(e,a){return qi(e,"application/json",hu,a)},V.html=function(e,a){return qi(e,"text/html",uu,a)},V.xml=Wi(function(e){return e.responseXML}),"object"==typeof wt&&wt.exports?wt.exports=V:this.d3=V}()},{}],2:[function(At,wt,kt){(function(V){kt.log=function _(...Y){return"object"==typeof console&&console.log&&console.log(...Y)},kt.formatArgs=function Le(Y){if(Y[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+Y[0]+(this.useColors?"%c ":" ")+"+"+wt.exports.humanize(this.diff),!this.useColors)return;const ae="color: "+this.color;Y.splice(1,0,ae,"color: inherit");let m=0,B=0;Y[0].replace(/%[a-zA-Z%]/g,i=>{"%%"!==i&&(m++,"%c"===i&&(B=m))}),Y.splice(B,0,ae)},kt.save=function oe(Y){try{Y?kt.storage.setItem("debug",Y):kt.storage.removeItem("debug")}catch{}},kt.load=function G(){let Y;try{Y=kt.storage.getItem("debug")}catch{}return!Y&&typeof V<"u"&&"env"in V&&(Y=V.env.DEBUG),Y},kt.useColors=function De(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},kt.storage=function ue(){try{return localStorage}catch{}}(),kt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],wt.exports=At("./common")(kt);const{formatters:ve}=wt.exports;ve.j=function(Y){try{return JSON.stringify(Y)}catch(ae){return"[UnexpectedJSONParseError]: "+ae.message}}}).call(this,At("_process"))},{"./common":3,_process:7}],3:[function(At,wt,kt){wt.exports=function V(De){function Le(B){let i=0;for(let g=0;g<B.length;g++)i=(i<<5)-i+B.charCodeAt(g),i|=0;return _.colors[Math.abs(i)%_.colors.length]}function _(B){let i;function g(...f){if(!g.enabled)return;const x=g,n=Number(new Date);x.diff=n-(i||n),x.prev=i,x.curr=n,i=n,f[0]=_.coerce(f[0]),"string"!=typeof f[0]&&f.unshift("%O");let u=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,(t,o)=>{if("%%"===t)return t;u++;const r=_.formatters[o];return"function"==typeof r&&(t=r.call(x,f[u]),f.splice(u,1),u--),t}),_.formatArgs.call(x,f),(x.log||_.log).apply(x,f)}return g.namespace=B,g.enabled=_.enabled(B),g.useColors=_.useColors(),g.color=Le(B),g.destroy=oe,g.extend=G,"function"==typeof _.init&&_.init(g),_.instances.push(g),g}function oe(){const B=_.instances.indexOf(this);return-1!==B&&(_.instances.splice(B,1),!0)}function G(B,i){const g=_(this.namespace+(typeof i>"u"?":":i)+B);return g.log=this.log,g}function ae(B){return B.toString().substring(2,B.toString().length-2).replace(/\.\*\?$/,"*")}return _.debug=_,_.default=_,_.coerce=function m(B){return B instanceof Error?B.stack||B.message:B},_.disable=function ve(){const B=[..._.names.map(ae),..._.skips.map(ae).map(i=>"-"+i)].join(",");return _.enable(""),B},_.enable=function ue(B){let i;_.save(B),_.names=[],_.skips=[];const g=("string"==typeof B?B:"").split(/[\s,]+/),f=g.length;for(i=0;i<f;i++)g[i]&&("-"===(B=g[i].replace(/\*/g,".*?"))[0]?_.skips.push(new RegExp("^"+B.substr(1)+"$")):_.names.push(new RegExp("^"+B+"$")));for(i=0;i<_.instances.length;i++){const x=_.instances[i];x.enabled=_.enabled(x.namespace)}},_.enabled=function Y(B){if("*"===B[B.length-1])return!0;let i,g;for(i=0,g=_.skips.length;i<g;i++)if(_.skips[i].test(B))return!1;for(i=0,g=_.names.length;i<g;i++)if(_.names[i].test(B))return!0;return!1},_.humanize=At("ms"),Object.keys(De).forEach(B=>{_[B]=De[B]}),_.instances=[],_.names=[],_.skips=[],_.formatters={},_.selectColor=Le,_.enable(_.load()),_}},{ms:6}],4:[function(At,wt,kt){var V=Object.create||function o(h){var l=function(){};return l.prototype=h,new l},De=Object.keys||function r(h){var l=[];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&l.push(p);return p},Le=Function.prototype.bind||function d(h){var l=this;return function(){return l.apply(h,arguments)}};function _(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=V(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}wt.exports=_,_.EventEmitter=_,_.prototype._events=void 0,_.prototype._maxListeners=void 0;var G,oe=10;try{var ue={};Object.defineProperty&&Object.defineProperty(ue,"x",{value:0}),G=0===ue.x}catch{G=!1}function ve(h){return void 0===h._maxListeners?_.defaultMaxListeners:h._maxListeners}function g(h,l,p,w){var b,I,S;if("function"!=typeof p)throw new TypeError('"listener" argument must be a function');if((I=h._events)?(I.newListener&&(h.emit("newListener",l,p.listener?p.listener:p),I=h._events),S=I[l]):(I=h._events=V(null),h._eventsCount=0),S){if("function"==typeof S?S=I[l]=w?[p,S]:[S,p]:w?S.unshift(p):S.push(p),!S.warned&&(b=ve(h))&&b>0&&S.length>b){S.warned=!0;var R=new Error("Possible EventEmitter memory leak detected. "+S.length+' "'+String(l)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');R.name="MaxListenersExceededWarning",R.emitter=h,R.type=l,R.count=S.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",R.name,R.message)}}else S=I[l]=p,++h._eventsCount;return h}function f(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var h=new Array(arguments.length),l=0;l<h.length;++l)h[l]=arguments[l];this.listener.apply(this.target,h)}}function x(h,l,p){var w={fired:!1,wrapFn:void 0,target:h,type:l,listener:p},b=Le.call(f,w);return b.listener=p,w.wrapFn=b,b}function n(h,l,p){var w=h._events;if(!w)return[];var b=w[l];return b?"function"==typeof b?p?[b.listener||b]:[b]:p?function t(h){for(var l=new Array(h.length),p=0;p<l.length;++p)l[p]=h[p].listener||h[p];return l}(b):s(b,b.length):[]}function c(h){var l=this._events;if(l){var p=l[h];if("function"==typeof p)return 1;if(p)return p.length}return 0}function s(h,l){for(var p=new Array(l),w=0;w<l;++w)p[w]=h[w];return p}G?Object.defineProperty(_,"defaultMaxListeners",{enumerable:!0,get:function(){return oe},set:function(h){if("number"!=typeof h||h<0||h!=h)throw new TypeError('"defaultMaxListeners" must be a positive number');oe=h}}):_.defaultMaxListeners=oe,_.prototype.setMaxListeners=function(l){if("number"!=typeof l||l<0||isNaN(l))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=l,this},_.prototype.getMaxListeners=function(){return ve(this)},_.prototype.emit=function(l){var p,w,b,I,S,R,N="error"===l;if(R=this._events)N=N&&null==R.error;else if(!N)return!1;if(N){if(arguments.length>1&&(p=arguments[1]),p instanceof Error)throw p;var q=new Error('Unhandled "error" event. ('+p+")");throw q.context=p,q}if(!(w=R[l]))return!1;var Z="function"==typeof w;switch(b=arguments.length){case 1:!function Y(h,l,p){if(l)h.call(p);else for(var w=h.length,b=s(h,w),I=0;I<w;++I)b[I].call(p)}(w,Z,this);break;case 2:!function ae(h,l,p,w){if(l)h.call(p,w);else for(var b=h.length,I=s(h,b),S=0;S<b;++S)I[S].call(p,w)}(w,Z,this,arguments[1]);break;case 3:!function m(h,l,p,w,b){if(l)h.call(p,w,b);else for(var I=h.length,S=s(h,I),R=0;R<I;++R)S[R].call(p,w,b)}(w,Z,this,arguments[1],arguments[2]);break;case 4:!function B(h,l,p,w,b,I){if(l)h.call(p,w,b,I);else for(var S=h.length,R=s(h,S),N=0;N<S;++N)R[N].call(p,w,b,I)}(w,Z,this,arguments[1],arguments[2],arguments[3]);break;default:for(I=new Array(b-1),S=1;S<b;S++)I[S-1]=arguments[S];!function i(h,l,p,w){if(l)h.apply(p,w);else for(var b=h.length,I=s(h,b),S=0;S<b;++S)I[S].apply(p,w)}(w,Z,this,I)}return!0},_.prototype.on=_.prototype.addListener=function(l,p){return g(this,l,p,!1)},_.prototype.prependListener=function(l,p){return g(this,l,p,!0)},_.prototype.once=function(l,p){if("function"!=typeof p)throw new TypeError('"listener" argument must be a function');return this.on(l,x(this,l,p)),this},_.prototype.prependOnceListener=function(l,p){if("function"!=typeof p)throw new TypeError('"listener" argument must be a function');return this.prependListener(l,x(this,l,p)),this},_.prototype.removeListener=function(l,p){var w,b,I,S,R;if("function"!=typeof p)throw new TypeError('"listener" argument must be a function');if(!(b=this._events))return this;if(!(w=b[l]))return this;if(w===p||w.listener===p)0==--this._eventsCount?this._events=V(null):(delete b[l],b.removeListener&&this.emit("removeListener",l,w.listener||p));else if("function"!=typeof w){for(I=-1,S=w.length-1;S>=0;S--)if(w[S]===p||w[S].listener===p){R=w[S].listener,I=S;break}if(I<0)return this;0===I?w.shift():function u(h,l){for(var p=l,w=p+1,b=h.length;w<b;p+=1,w+=1)h[p]=h[w];h.pop()}(w,I),1===w.length&&(b[l]=w[0]),b.removeListener&&this.emit("removeListener",l,R||p)}return this},_.prototype.removeAllListeners=function(l){var p,w,b;if(!(w=this._events))return this;if(!w.removeListener)return 0===arguments.length?(this._events=V(null),this._eventsCount=0):w[l]&&(0==--this._eventsCount?this._events=V(null):delete w[l]),this;if(0===arguments.length){var S,I=De(w);for(b=0;b<I.length;++b)"removeListener"!==(S=I[b])&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=V(null),this._eventsCount=0,this}if("function"==typeof(p=w[l]))this.removeListener(l,p);else if(p)for(b=p.length-1;b>=0;b--)this.removeListener(l,p[b]);return this},_.prototype.listeners=function(l){return n(this,l,!0)},_.prototype.rawListeners=function(l){return n(this,l,!1)},_.listenerCount=function(h,l){return"function"==typeof h.listenerCount?h.listenerCount(l):c.call(h,l)},_.prototype.listenerCount=c,_.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],5:[function(At,wt,kt){wt.exports="function"==typeof Object.create?function(De,Le){Le&&(De.super_=Le,De.prototype=Object.create(Le.prototype,{constructor:{value:De,enumerable:!1,writable:!0,configurable:!0}}))}:function(De,Le){if(Le){De.super_=Le;var _=function(){};_.prototype=Le.prototype,De.prototype=new _,De.prototype.constructor=De}}},{}],6:[function(At,wt,kt){var V=1e3,De=60*V,Le=60*De,_=24*Le;function ae(m,B,i,g){var f=B>=1.5*i;return Math.round(m/i)+" "+g+(f?"s":"")}wt.exports=function(m,B){B=B||{};var i=typeof m;if("string"===i&&m.length>0)return function ue(m){if(!((m=String(m)).length>100)){var B=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(B){var i=parseFloat(B[1]);switch((B[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*_;case"hours":case"hour":case"hrs":case"hr":case"h":return i*Le;case"minutes":case"minute":case"mins":case"min":case"m":return i*De;case"seconds":case"second":case"secs":case"sec":case"s":return i*V;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(m);if("number"===i&&isFinite(m))return B.long?function Y(m){var B=Math.abs(m);return B>=_?ae(m,B,_,"day"):B>=Le?ae(m,B,Le,"hour"):B>=De?ae(m,B,De,"minute"):B>=V?ae(m,B,V,"second"):m+" ms"}(m):function ve(m){var B=Math.abs(m);return B>=_?Math.round(m/_)+"d":B>=Le?Math.round(m/Le)+"h":B>=De?Math.round(m/De)+"m":B>=V?Math.round(m/V)+"s":m+"ms"}(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))}},{}],7:[function(At,wt,kt){var De,Le,V=wt.exports={};function _(){throw new Error("setTimeout has not been defined")}function oe(){throw new Error("clearTimeout has not been defined")}function G(x){if(De===setTimeout)return setTimeout(x,0);if((De===_||!De)&&setTimeout)return De=setTimeout,setTimeout(x,0);try{return De(x,0)}catch{try{return De.call(null,x,0)}catch{return De.call(this,x,0)}}}!function(){try{De="function"==typeof setTimeout?setTimeout:_}catch{De=_}try{Le="function"==typeof clearTimeout?clearTimeout:oe}catch{Le=oe}}();var ae,ve=[],Y=!1,m=-1;function B(){!Y||!ae||(Y=!1,ae.length?ve=ae.concat(ve):m=-1,ve.length&&i())}function i(){if(!Y){var x=G(B);Y=!0;for(var n=ve.length;n;){for(ae=ve,ve=[];++m<n;)ae&&ae[m].run();m=-1,n=ve.length}ae=null,Y=!1,function ue(x){if(Le===clearTimeout)return clearTimeout(x);if((Le===oe||!Le)&&clearTimeout)return Le=clearTimeout,clearTimeout(x);try{Le(x)}catch{try{return Le.call(null,x)}catch{return Le.call(this,x)}}}(x)}}function g(x,n){this.fun=x,this.array=n}function f(){}V.nextTick=function(x){var n=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)n[c-1]=arguments[c];ve.push(new g(x,n)),1===ve.length&&!Y&&G(i)},g.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={},V.on=f,V.addListener=f,V.once=f,V.off=f,V.removeListener=f,V.removeAllListeners=f,V.emit=f,V.prependListener=f,V.prependOnceListener=f,V.listeners=function(x){return[]},V.binding=function(x){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(x){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},{}],8:[function(At,wt,kt){wt.exports=function V(De,Le){var _,oe,G,ue,ve=0;return function(){_=this,oe=arguments;var m=new Date-ve;return ue||(m>=Le?Y():ue=setTimeout(Y,Le-m)),G};function Y(){ue=0,ve=+new Date,G=De.apply(_,oe),_=null,oe=null}}},{}],9:[function(At,wt,kt){wt.exports=ve;var V=At("d3"),De=At("debug")("p2p-graph"),Le=At("events"),_=At("inherits"),oe=At("throttleit"),G_links={width:.7,maxWidth:5,maxBytes:2097152},ue_links_color="#C8C8C8",ue_nodes_method=function(Y,ae){return V.hsl(Y.me?210:Y.seeder?120:55,.7,.725)},ue_nodes_hover="#A9A9A9",ue_nodes_dep="#252929";function ve(Y){var ae=this;if(!(ae instanceof ve))return new ve(Y);Le.call(ae),"string"==typeof Y&&(Y=document.querySelector(Y)),ae._root=Y,ae._model={nodes:[],links:[],focused:null},ae._model.links.forEach(function(m){var B=ae._model.nodes[m.source],i=ae._model.nodes[m.target];B.children=B.children||[],B.children.push(m.target),i.parents=i.parents||[],i.parents.push(m.source)}),ae._svg=V.select(ae._root).append("svg"),ae._resize(),ae._force=V.layout.force().size([ae._width,ae._height]).nodes(ae._model.nodes).links(ae._model.links).on("tick",function(){ae._link.attr("x1",function(m){return m.source.x}).attr("y1",function(m){return m.source.y}).attr("x2",function(m){return m.target.x}).attr("y2",function(m){return m.target.y}),ae._node.attr("cx",function(m){return m.x}).attr("cy",function(m){return m.y}),ae._node.attr("transform",function(m){return"translate("+m.x+","+m.y+")"})}),ae._node=ae._svg.selectAll(".node"),ae._link=ae._svg.selectAll(".link"),ae._update(),ae._resizeThrottled=oe(function(){ae._resize()},500),window.addEventListener("resize",ae._resizeThrottled)}_(ve,Le),ve.prototype.list=function(){return De("list"),this._model.nodes},ve.prototype.add=function(Y){if(De("add %s %o",Y.id,Y),this._getNode(Y.id))throw new Error("add: cannot add duplicate node");this._model.nodes.push(Y),this._update()},ve.prototype.remove=function(Y){var ae=this;De("remove %s",Y);var m=ae._getNodeIndex(Y);if(-1===m)throw new Error("remove: node does not exist");ae._model.focused&&ae._model.focused.id===Y&&(ae._model.focused=null,ae.emit("select",!1)),ae._model.nodes.splice(m,1),ae._update()},ve.prototype.connect=function(Y,ae){var m=this;De("connect %s %s",Y,ae);var B=m._getNode(Y);if(!B)throw new Error("connect: invalid source id");var i=m._getNode(ae);if(!i)throw new Error("connect: invalid target id");if(m.getLink(B.index,i.index))throw new Error("connect: cannot make duplicate connection");m._model.links.push({source:B.index,target:i.index}),m._update()},ve.prototype.disconnect=function(Y,ae){var m=this;De("disconnect %s %s",Y,ae);var B=m._getNode(Y);if(!B)throw new Error("disconnect: invalid source id");var i=m._getNode(ae);if(!i)throw new Error("disconnect: invalid target id");var g=m.getLinkIndex(B.index,i.index);if(-1===g)throw new Error("disconnect: connection does not exist");m._model.links.splice(g,1),m._update()},ve.prototype.hasPeer=function(){var Y=this,ae=Array.prototype.slice.call(arguments,0);return De("Checking for peers:",ae),ae.every(function(m){return Y._getNode(m)})},ve.prototype.hasLink=function(Y,ae){var m=this,B=m._getNode(Y);if(!B)throw new Error("hasLink: invalid source id");var i=m._getNode(ae);if(!i)throw new Error("hasLink: invalid target id");return!!m.getLink(B.index,i.index)},ve.prototype.areConnected=function(Y,ae){var m=this,B=m._getNode(Y);if(!B)throw new Error("areConnected: invalid source id");var i=m._getNode(ae);if(!i)throw new Error("areConnected: invalid target id");return m.getLink(B.index,i.index)||m.getLink(i.index,B.index)},ve.prototype.unchoke=function(Y,ae){De("unchoke %s %s",Y,ae)},ve.prototype.choke=function(Y,ae){De("choke %s %s",Y,ae)},ve.prototype.seed=function(Y,ae){var m=this;if(De(Y,"isSeeding:",ae),"boolean"!=typeof ae)throw new Error("seed: 2nd param must be a boolean");var B=m._getNodeIndex(Y);if(-1===B)throw new Error("seed: node does not exist");m._model.nodes[B].seeder=ae,m._update()},ve.prototype.rate=function(Y,ae,m){var B=this;if(De("rate update:",Y+"<->"+ae,"at",m),"number"!=typeof m||m<0)throw new Error("rate: 3th param must be a positive number");var i=B._getNode(Y);if(!i)throw new Error("rate: invalid source id");var g=B._getNode(ae);if(!g)throw new Error("rate: invalid target id");var f=B.getLinkIndex(i.index,g.index);if(-1===f)throw new Error("rate: connection does not exist");B._model.links[f].rate=function x(n){return Math.min(n,G_links.maxBytes)*G_links.maxWidth/G_links.maxBytes}(m),De("rate:",B._model.links[f].rate),B._update()},ve.prototype.getLink=function(Y,ae){for(var m=this,B=0,i=m._model.links.length;B<i;B+=1){var g=m._model.links[B];if(g.source===m._model.nodes[Y]&&g.target===m._model.nodes[ae])return g}return null},ve.prototype.destroy=function(){var Y=this;De("destroy"),Y._root.remove(),window.removeEventListener("resize",Y._resizeThrottled),Y._root=null,Y._resizeThrottled=null},ve.prototype._update=function(){var Y=this;Y._link=Y._link.data(Y._model.links),Y._node=Y._node.data(Y._model.nodes,function(m){return m.id}),Y._link.enter().insert("line",".node").attr("class","link").style("stroke",ue_links_color).style("opacity",.5),Y._link.exit().remove(),Y._link.style("stroke-width",function(m){return m.rate?m.rate<G_links.width?G_links.width:m.rate:G_links.width});var ae=Y._node.enter().append("g").attr("class","node");ae.call(Y._force.drag),ae.append("circle").on("mouseover",function(m){V.select(this).style("fill",ue_nodes_hover),V.selectAll(Y._childNodes(m)).style("fill",ue_nodes_hover).style("stroke",ue_nodes_method).style("stroke-width",2),V.selectAll(Y._parentNodes(m)).style("fill",ue_nodes_dep).style("stroke",ue_nodes_method).style("stroke-width",2)}).on("mouseout",function(m){V.select(this).style("fill",ue_nodes_method),V.selectAll(Y._childNodes(m)).style("fill",ue_nodes_method).style("stroke",null),V.selectAll(Y._parentNodes(m)).style("fill",ue_nodes_method).style("stroke",null)}).on("click",function(m){if(Y._model.focused===m)return Y._force.charge(-200*Y._scale()).linkDistance(100*Y._scale()).linkStrength(1).start(),Y._node.style("opacity",1),Y._link.style("opacity",.3),Y._model.focused=null,void Y.emit("select",!1);Y._model.focused=m,Y.emit("select",m.id),Y._node.style("opacity",function(B){return B.active=Y._connected(m,B),B.active?1:.2}),Y._force.charge(function(B){return(B.active?-100:-5)*Y._scale()}).linkDistance(function(B){return(B.source.active&&B.target.active?100:60)*Y._scale()}).linkStrength(function(B){return(B.source===m||B.target===m?1:0)*Y._scale()}).start(),Y._link.style("opacity",function(B,i){return B.source.active&&B.target.active?1:.02})}),Y._node.select("circle").attr("r",function(m){return Y._scale()*(m.me?15:10)}).style("fill",ue_nodes_method),ae.append("text").attr("class","text").text(function(m){return m.name}),Y._node.select("text").attr("font-size",function(m){return m.me?16*Y._scale():12*Y._scale()}).attr("dx",0).attr("dy",function(m){return m.me?-22*Y._scale():-15*Y._scale()}),Y._node.exit().remove(),Y._force.linkDistance(100*Y._scale()).charge(-200*Y._scale()).start()},ve.prototype._childNodes=function(Y){var ae=this;return Y.children?Y.children.map(function(m){return ae._node[0][m]}).filter(function(m){return m}):[]},ve.prototype._parentNodes=function(Y){var ae=this;return Y.parents?Y.parents.map(function(m){return ae._node[0][m]}).filter(function(m){return m}):[]},ve.prototype._connected=function(Y,ae){return ae.id===Y.id||Y.children&&-1!==Y.children.indexOf(ae.id)||ae.children&&-1!==ae.children.indexOf(Y.id)||ae.parents&&-1!==ae.parents.indexOf(Y.id)||Y.parents&&-1!==Y.parents.indexOf(ae.id)},ve.prototype._getNode=function(Y){for(var m=0,B=this._model.nodes.length;m<B;m+=1){var i=this._model.nodes[m];if(i.id===Y)return i}return null},ve.prototype._scale=function(){var ae=this._model.nodes.length;return ae<10?1:Math.max(.2,1-(ae-10)/100)},ve.prototype._resize=function(Y){var ae=this;ae._width=ae._root.offsetWidth,ae._height=window.innerWidth>=900?400:250,ae._svg.attr("width",ae._width).attr("height",ae._height),ae._force&&ae._force.size([ae._width,ae._height]).resume()},ve.prototype._getNodeIndex=function(Y){for(var m=0,B=this._model.nodes.length;m<B;m+=1)if(this._model.nodes[m].id===Y)return m;return-1},ve.prototype.getLinkIndex=function(Y,ae){for(var m=this,B=0,i=m._model.links.length;B<i;B+=1){var g=m._model.links[B];if(g.source===m._model.nodes[Y]&&g.target===m._model.nodes[ae])return B}return-1}},{d3:1,debug:2,events:4,inherits:5,throttleit:8}]},{},[9])(9)}),function(Kt,yn){"object"==typeof exports&&typeof module<"u"?module.exports=yn():"function"==typeof define&&define.amd?define(yn):(Kt=typeof globalThis<"u"?globalThis:Kt||self).Viewer=yn()}(this,function(){"use strict";function Kt(ge,Re){var je,Ze=Object.keys(ge);return Object.getOwnPropertySymbols&&(je=Object.getOwnPropertySymbols(ge),Re&&(je=je.filter(function(Xe){return Object.getOwnPropertyDescriptor(ge,Xe).enumerable})),Ze.push.apply(Ze,je)),Ze}function yn(ge){for(var Re=1;Re<arguments.length;Re++){var je=null!=arguments[Re]?arguments[Re]:{};Re%2?Kt(Object(je),!0).forEach(function(Ze){var Xe,st;st=je[Ze],Ze in(Xe=ge)?Object.defineProperty(Xe,Ze,{value:st,enumerable:!0,configurable:!0,writable:!0}):Xe[Ze]=st}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(je)):Kt(Object(je)).forEach(function(Ze){Object.defineProperty(ge,Ze,Object.getOwnPropertyDescriptor(je,Ze))})}return ge}function j(ge){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Re){return typeof Re}:function(Re){return Re&&"function"==typeof Symbol&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re})(ge)}function At(ge,Re){for(var je=0;je<Re.length;je++){var Ze=Re[je];Ze.enumerable=Ze.enumerable||!1,Ze.configurable=!0,"value"in Ze&&(Ze.writable=!0),Object.defineProperty(ge,Ze.key,Ze)}}var wt={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},Kn=(En=typeof window<"u"&&void 0!==window.document)?window:{},kt=!(!En||!Kn.document.documentElement)&&"ontouchstart"in Kn.document.documentElement,hn=En&&"PointerEvent"in Kn,V="viewer",De="move",_="zoom",oe="".concat(V,"-active"),G="".concat(V,"-close"),ue="".concat(V,"-fade"),ve="".concat(V,"-fixed"),Y="".concat(V,"-fullscreen"),ae="".concat(V,"-fullscreen-exit"),m="".concat(V,"-hide"),B="".concat(V,"-hide-md-down"),i="".concat(V,"-hide-sm-down"),g="".concat(V,"-hide-xs-down"),f="".concat(V,"-in"),x="".concat(V,"-invisible"),n="".concat(V,"-loading"),c="".concat(V,"-move"),u="".concat(V,"-open"),s="".concat(V,"-show"),t="".concat(V,"-transition"),o="click",r="dblclick",d="dragstart",h="focusin",l="keydown",p="load",w="error",b=hn?"pointerdown":kt?"touchstart":"mousedown",I=hn?"pointermove":kt?"touchmove":"mousemove",S=hn?"pointerup pointercancel":kt?"touchend touchcancel":"mouseup",R="resize",N="transitionend",q="wheel",Z="ready",le="show",we="viewed",ke="rotated",A="".concat(V,"Action"),L=/\s\s*/,z=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function y(ge){return"string"==typeof ge}var C=Number.isNaN||Kn.isNaN;function M(ge){return"number"==typeof ge&&!C(ge)}function U(ge){return void 0===ge}function ee(ge){return"object"===j(ge)&&null!==ge}var J=Object.prototype.hasOwnProperty;function re(ge){if(!ee(ge))return!1;try{var Re=ge.constructor,je=Re.prototype;return Re&&je&&J.call(je,"isPrototypeOf")}catch{return!1}}function Ue(ge){return"function"==typeof ge}function We(ge,Re){if(ge&&Ue(Re))if(Array.isArray(ge)||M(ge.length))for(var je=ge.length,Ze=0;Ze<je&&!1!==Re.call(ge,ge[Ze],Ze,ge);Ze+=1);else ee(ge)&&Object.keys(ge).forEach(function(Xe){Re.call(ge,ge[Xe],Xe,ge)})}var Qe=Object.assign||function(ge){for(var Re=arguments.length,je=new Array(1<Re?Re-1:0),Ze=1;Ze<Re;Ze++)je[Ze-1]=arguments[Ze];return ee(ge)&&0<je.length&&je.forEach(function(Xe){ee(Xe)&&Object.keys(Xe).forEach(function(st){ge[st]=Xe[st]})}),ge},ft=/^(?:width|height|left|top|marginLeft|marginTop)$/;function pt(ge,Re){var je=ge.style;We(Re,function(Ze,Xe){ft.test(Xe)&&M(Ze)&&(Ze+="px"),je[Xe]=Ze})}function Xt(ge,Re){return ge&&Re&&(ge.classList?ge.classList.contains(Re):-1<ge.className.indexOf(Re))}function It(ge,Re){var je;ge&&Re&&(M(ge.length)?We(ge,function(Ze){It(Ze,Re)}):ge.classList?ge.classList.add(Re):(je=ge.className.trim())?je.indexOf(Re)<0&&(ge.className="".concat(je," ").concat(Re)):ge.className=Re)}function Ft(ge,Re){ge&&Re&&(M(ge.length)?We(ge,function(je){Ft(je,Re)}):ge.classList?ge.classList.remove(Re):0<=ge.className.indexOf(Re)&&(ge.className=ge.className.replace(Re,"")))}function Ke(ge,Re,je){Re&&(M(ge.length)?We(ge,function(Ze){Ke(Ze,Re,je)}):(je?It:Ft)(ge,Re))}var mt=/([a-z\d])([A-Z])/g;function St(ge){return ge.replace(mt,"$1-$2").toLowerCase()}function K(ge,Re){return ee(ge[Re])?ge[Re]:ge.dataset?ge.dataset[Re]:ge.getAttribute("data-".concat(St(Re)))}function se(ge,Re,je){ee(je)?ge[Re]=je:ge.dataset?ge.dataset[Re]=je:ge.setAttribute("data-".concat(St(Re)),je)}ce=!1,En&&(X=!1,hn=function(){},En=Object.defineProperty({},"once",{get:function(){return ce=!0,X},set:function(ge){X=ge}}),Kn.addEventListener("test",hn,En),Kn.removeEventListener("test",hn,En));var X,ce,Je=ce;function ie(ge,Re,je,Ze){var Xe=3<arguments.length&&void 0!==Ze?Ze:{},st=je;Re.trim().split(L).forEach(function(tn){var Bt;Je||(Bt=ge.listeners)&&Bt[tn]&&Bt[tn][je]&&(st=Bt[tn][je],delete Bt[tn][je],0===Object.keys(Bt[tn]).length&&delete Bt[tn],0===Object.keys(Bt).length&&delete ge.listeners),ge.removeEventListener(tn,st,Xe)})}function pe(ge,Re,je,Ze){var Xe=3<arguments.length&&void 0!==Ze?Ze:{},st=je;Re.trim().split(L).forEach(function(tn){var Bt,qt;Xe.once&&!Je&&(st=function(){delete qt[tn][je],ge.removeEventListener(tn,st,Xe);for(var nn=arguments.length,_n=new Array(nn),cn=0;cn<nn;cn++)_n[cn]=arguments[cn];je.apply(ge,_n)},(qt=void 0===(Bt=ge.listeners)?{}:Bt)[tn]||(qt[tn]={}),qt[tn][je]&&ge.removeEventListener(tn,qt[tn][je],Xe),qt[tn][je]=st,ge.listeners=qt),ge.addEventListener(tn,st,Xe)})}function Ye(ge,Re,je,Ze){var Xe;return Ue(Event)&&Ue(CustomEvent)?Xe=new CustomEvent(Re,yn({bubbles:!0,cancelable:!0,detail:je},Ze)):(Xe=document.createEvent("CustomEvent")).initCustomEvent(Re,!0,!0,je),ge.dispatchEvent(Xe)}function at(Xe){var Re=Xe.rotate,je=Xe.scaleX,Ze=Xe.scaleY,tn=Xe.translateX,st=(Xe=Xe.translateY,[]);return{WebkitTransform:(M(tn)&&0!==tn&&st.push("translateX(".concat(tn,"px)")),M(Xe)&&0!==Xe&&st.push("translateY(".concat(Xe,"px)")),M(Re)&&0!==Re&&st.push("rotate(".concat(Re,"deg)")),M(je)&&1!==je&&st.push("scaleX(".concat(je,")")),M(Ze)&&1!==Ze&&st.push("scaleY(".concat(Ze,")")),tn=st.length?st.join(" "):"none"),msTransform:tn,transform:tn}}var dt=Kn.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(Kn.navigator.userAgent);function Gt(ge,Re,je){var Ze=document.createElement("img");if(ge.naturalWidth&&!dt)return je(ge.naturalWidth,ge.naturalHeight),Ze;var Xe=document.body||document.documentElement;return Ze.onload=function(){je(Ze.width,Ze.height),dt||Xe.removeChild(Ze)},We(Re.inheritedAttributes,function(st){var tn=ge.getAttribute(st);null!==tn&&Ze.setAttribute(st,tn)}),Ze.src=ge.src,dt||(Ze.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",Xe.appendChild(Ze)),Ze}function Jt(ge){switch(ge){case 2:return g;case 3:return i;case 4:return B;default:return""}}function an(Ze,Re){var je=Ze.pageX,Xe={endX:je,endY:Ze=Ze.pageY};return Re?Xe:yn({timeStamp:Date.now(),startX:je,startY:Ze},Xe)}hn={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var ge=this.element.ownerDocument,Re=ge.body||ge.documentElement;this.body=Re,this.scrollbarWidth=window.innerWidth-ge.documentElement.clientWidth,this.initialBodyPaddingRight=Re.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(Re).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var ge,Re=this.options,je=this.parent;Re.inline&&(ge={width:Math.max(je.offsetWidth,Re.minWidth),height:Math.max(je.offsetHeight,Re.minHeight)},this.parentData=ge),!this.fulled&&ge||(ge=this.containerData),this.viewerData=Qe({},ge)},renderViewer:function(){this.options.inline&&!this.fulled&&pt(this.viewer,this.viewerData)},initList:function(){var ge=this,Re=this.element,je=this.options,Ze=this.list,Xe=[];Ze.innerHTML="",We(this.images,function(st,tn){var Bt,qt,nn=st.src,_n=st.alt||(y(_n=nn)?decodeURIComponent(_n.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""),cn=ge.getImageURL(st);(nn||cn)&&(Bt=document.createElement("li"),qt=document.createElement("img"),We(je.inheritedAttributes,function(Qt){var Ee=st.getAttribute(Qt);null!==Ee&&qt.setAttribute(Qt,Ee)}),qt.src=nn||cn,qt.alt=_n,qt.setAttribute("data-original-url",cn||nn),Bt.setAttribute("data-index",tn),Bt.setAttribute("data-viewer-action","view"),Bt.setAttribute("role","button"),je.keyboard&&Bt.setAttribute("tabindex",0),Bt.appendChild(qt),Ze.appendChild(Bt),Xe.push(Bt))}),We(this.items=Xe,function(st){var tn,Bt,qt=st.firstElementChild;se(qt,"filled",!0),je.loading&&It(st,n),pe(qt,p,tn=function(nn){ie(qt,w,Bt),je.loading&&Ft(st,n),ge.loadImage(nn)},{once:!0}),pe(qt,w,Bt=function(){ie(qt,p,tn),je.loading&&Ft(st,n)},{once:!0})}),je.transition&&pe(Re,we,function(){It(Ze,t)},{once:!0})},renderList:function(){var ge,Re,je=this.index,Ze=this.items[je];Ze&&(ge=Ze.nextElementSibling,ge=parseInt(window.getComputedStyle(ge||Ze).marginLeft,10),pt(this.list,Qe({width:(Re=(Ze=Ze.offsetWidth)+ge)*this.length-ge},at({translateX:(this.viewerData.width-Ze)/2-Re*je}))))},resetList:function(){var ge=this.list;ge.innerHTML="",Ft(ge,t),pt(ge,at({translateX:0}))},initImage:function(ge){var Re,je=this,Ze=this.options,Xe=this.image,st=this.viewerData,tn=this.footer.offsetHeight,Bt=st.width,qt=Math.max(st.height-tn,tn),nn=this.imageData||{};this.imageInitializing={abort:function(){Re.onload=null}},Re=Gt(Xe,Ze,function(_n,cn){var Qt=_n/cn,Ee=Bt,Vt=qt,Nn=(je.imageInitializing=!1,Bt<qt*Qt?Vt=Bt/Qt:Ee=qt*Qt,Ee=Math.min(.9*Ee,_n),Vt=Math.min(.9*Vt,cn),(Bt-Ee)/2),mn=Qe({},Nn={left:Nn,top:mn=(qt-Vt)/2,x:Nn,y:mn,width:Ee,height:Vt,oldRatio:1,ratio:Ee/_n,aspectRatio:Qt,naturalWidth:_n,naturalHeight:cn});Ze.rotatable&&(Nn.rotate=nn.rotate||0,mn.rotate=0),Ze.scalable&&(Nn.scaleX=nn.scaleX||1,Nn.scaleY=nn.scaleY||1,mn.scaleX=1,mn.scaleY=1),je.imageData=Nn,je.initialImageData=mn,ge&&ge()})},renderImage:function(ge){var Re,je=this,Ze=this.image,Xe=this.imageData;pt(Ze,Qe({width:Xe.width,height:Xe.height,marginLeft:Xe.x,marginTop:Xe.y},at(Xe))),ge&&((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&Xt(Ze,t)?(Re=function(){je.imageRendering=!1,ge()},this.imageRendering={abort:function(){ie(Ze,N,Re)}},pe(Ze,N,Re,{once:!0})):ge())},resetImage:function(){var ge;(this.viewing||this.viewed)&&(ge=this.image,this.viewing&&this.viewing.abort(),ge.parentNode.removeChild(ge),this.image=null)}};var Cn,En={bind:function(){var ge=this.options,Re=this.viewer,je=this.canvas,Ze=this.element.ownerDocument;pe(Re,o,this.onClick=this.click.bind(this)),pe(Re,d,this.onDragStart=this.dragstart.bind(this)),pe(je,b,this.onPointerDown=this.pointerdown.bind(this)),pe(Ze,I,this.onPointerMove=this.pointermove.bind(this)),pe(Ze,S,this.onPointerUp=this.pointerup.bind(this)),pe(Ze,l,this.onKeyDown=this.keydown.bind(this)),pe(window,R,this.onResize=this.resize.bind(this)),ge.zoomable&&ge.zoomOnWheel&&pe(Re,q,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),ge.toggleOnDblclick&&pe(je,r,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var ge=this.options,Re=this.viewer,je=this.canvas,Ze=this.element.ownerDocument;ie(Re,o,this.onClick),ie(Re,d,this.onDragStart),ie(je,b,this.onPointerDown),ie(Ze,I,this.onPointerMove),ie(Ze,S,this.onPointerUp),ie(Ze,l,this.onKeyDown),ie(window,R,this.onResize),ge.zoomable&&ge.zoomOnWheel&&ie(Re,q,this.onWheel,{passive:!1,capture:!0}),ge.toggleOnDblclick&&ie(je,r,this.onDblclick)}},Xn={click:function(ge){var Re=this.options,je=this.imageData,Ze=ge.target,Xe=K(Ze,A);switch(Xe||"img"!==Ze.localName||"li"!==Ze.parentElement.localName||(Xe=K(Ze=Ze.parentElement,A)),kt&&ge.isTrusted&&Ze===this.canvas&&clearTimeout(this.clickCanvasTimeout),Xe){case"mix":this.played?this.stop():Re.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(K(Ze,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(Re.loop);break;case"play":this.play(Re.fullscreen);break;case"next":this.next(Re.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-je.scaleX||-1);break;case"flip-vertical":this.scaleY(-je.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(ge){ge.preventDefault(),this.viewed&&ge.target===this.image&&(kt&&ge.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(ge.isTrusted?ge:ge.detail&&ge.detail.originalEvent))},load:function(){var ge=this,Re=(this.timeout&&(clearTimeout(this.timeout),this.timeout=!1),this.element),je=this.options,Ze=this.image,Xe=this.index,st=this.viewerData;Ft(Ze,x),je.loading&&Ft(this.canvas,n),Ze.style.cssText="height:0;"+"margin-left:".concat(st.width/2,"px;")+"margin-top:".concat(st.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Ke(Ze,c,je.movable),Ke(Ze,t,je.transition),ge.renderImage(function(){ge.viewed=!0,ge.viewing=!1,Ue(je.viewed)&&pe(Re,we,je.viewed,{once:!0}),Ye(Re,we,{originalImage:ge.images[Xe],index:Xe,image:Ze},{cancelable:!1})})})},loadImage:function(je){var Re=je.target,Ze=(je=Re.parentNode).offsetWidth||30,Xe=je.offsetHeight||50,st=!!K(Re,"filled");Gt(Re,this.options,function(qt,nn){qt/=nn,nn=Ze;var _n=Xe;Ze<Xe*qt?st?nn=Xe*qt:_n=Ze/qt:st?_n=Ze/qt:nn=Xe*qt,pt(Re,Qe({width:nn,height:_n},at({translateX:(Ze-nn)/2,translateY:(Xe-_n)/2})))})},keydown:function(ge){var Re=this.options;if(Re.keyboard){var je=ge.keyCode||ge.which||ge.charCode;if(13===je&&this.viewer.contains(ge.target)&&this.click(ge),this.fulled)switch(je){case 27:this.played?this.stop():Re.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(Re.loop);break;case 38:ge.preventDefault(),this.zoom(Re.zoomRatio,!0);break;case 39:this.next(Re.loop);break;case 40:ge.preventDefault(),this.zoom(-Re.zoomRatio,!0);break;case 48:case 49:ge.ctrlKey&&(ge.preventDefault(),this.toggle())}}},dragstart:function(ge){"img"===ge.target.localName&&ge.preventDefault()},pointerdown:function(ge){var Re=this.options,je=this.pointers,Ze=ge.buttons,Xe=ge.button;!this.viewed||this.showing||this.viewing||this.hiding||("mousedown"===ge.type||"pointerdown"===ge.type&&"mouse"===ge.pointerType)&&(M(Ze)&&1!==Ze||M(Xe)&&0!==Xe||ge.ctrlKey)||(ge.preventDefault(),ge.changedTouches?We(ge.changedTouches,function(st){je[st.identifier]=an(st)}):je[ge.pointerId||0]=an(ge),Ze=!!Re.movable&&De,Re.zoomOnTouch&&Re.zoomable&&1<Object.keys(je).length?Ze=_:Re.slideOnTouch&&("touch"===ge.pointerType||"touchstart"===ge.type)&&this.isSwitchable()&&(Ze="switch"),!Re.transition||Ze!==De&&Ze!==_||Ft(this.image,t),this.action=Ze)},pointermove:function(ge){var Re=this.pointers;this.viewed&&this.action&&(ge.preventDefault(),ge.changedTouches?We(ge.changedTouches,function(Ze){Qe(Re[Ze.identifier]||{},an(Ze,!0))}):Qe(Re[ge.pointerId||0]||{},an(ge,!0)),this.change(ge))},pointerup:function(ge){var Re,je=this,Ze=this.options,Xe=this.action,st=this.pointers;ge.changedTouches?We(ge.changedTouches,function(tn){Re=st[tn.identifier],delete st[tn.identifier]}):(Re=st[ge.pointerId||0],delete st[ge.pointerId||0]),Xe&&(ge.preventDefault(),!Ze.transition||Xe!==De&&Xe!==_||It(this.image,t),this.action=!1,kt&&Xe!==_&&Re&&Date.now()-Re.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),Ze.toggleOnDblclick&&this.viewed&&ge.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){Ye(je.image,r,{originalEvent:ge})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){je.imageClicked=!1},500)):(this.imageClicked=!1,Ze.backdrop&&"static"!==Ze.backdrop&&ge.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){Ye(je.canvas,o,{originalEvent:ge})},50)))))},resize:function(){var ge=this;this.isShown&&!this.hiding&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){ge.renderImage()}),this.played&&(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?this.stop():We(this.player.getElementsByTagName("img"),function(Re){pe(Re,p,ge.loadImage.bind(ge),{once:!0}),Ye(Re,p)})))},wheel:function(ge){var Re,je,Ze=this;this.viewed&&(ge.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){Ze.wheeling=!1},50),Re=Number(this.options.zoomRatio)||.1,je=1,ge.deltaY?je=0<ge.deltaY?1:-1:ge.wheelDelta?je=-ge.wheelDelta/120:ge.detail&&(je=0<ge.detail?1:-1),this.zoom(-je*Re,!0,ge)))}},An={show:function(){var ge=0<arguments.length&&void 0!==arguments[0]&&arguments[0],Re=this.element,je=this.options;if(je.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(ge),this;if(Ue(je.show)&&pe(Re,le,je.show,{once:!0}),!1===Ye(Re,le)||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var Ze,Xe=this.viewer;return Ft(Xe,m),Xe.setAttribute("role","dialog"),Xe.setAttribute("aria-labelledby",this.title.id),Xe.setAttribute("aria-modal",!0),Xe.removeAttribute("aria-hidden"),je.transition&&!ge?(Ze=this.shown.bind(this),this.transitioning={abort:function(){ie(Xe,N,Ze),Ft(Xe,f)}},It(Xe,t),Xe.initialOffsetWidth=Xe.offsetWidth,pe(Xe,N,Ze,{once:!0}),It(Xe,f)):(It(Xe,f),this.shown()),this},hide:function(){var ge=this,Re=0<arguments.length&&void 0!==arguments[0]&&arguments[0],je=this.element,Ze=this.options;if(Ze.inline||this.hiding||!this.isShown&&!this.showing)return this;if(Ue(Ze.hide)&&pe(je,"hide",Ze.hide,{once:!0}),!1===Ye(je,"hide"))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var Xe,st,tn=this.viewer,Bt=this.image,qt=function(){Ft(tn,f),ge.hidden()};return Ze.transition&&!Re?(Xe=function nn(_n){_n&&_n.target===tn&&(ie(tn,N,nn),ge.hidden())},st=function(){Xt(tn,t)?(pe(tn,N,Xe),Ft(tn,f)):qt()},this.transitioning={abort:function(){ge.viewed&&Xt(Bt,t)?ie(Bt,N,st):Xt(tn,t)&&ie(tn,N,Xe)}},this.viewed&&Xt(Bt,t)?(pe(Bt,N,st,{once:!0}),this.zoomTo(0,!1,null,!0)):st()):qt(),this},view:function(){var ge=this,Re=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(Re=Number(Re)||0,this.hiding||this.played||Re<0||Re>=this.length||this.viewed&&Re===this.index)return this;if(!this.isShown)return this.index=Re,this.show();this.viewing&&this.viewing.abort();var cn,Qt,je=this.element,Ze=this.options,Xe=this.title,st=this.canvas,tn=this.items[Re],Bt=tn.querySelector("img"),Ee=K(Bt,"originalUrl"),qt=Bt.getAttribute("alt"),nn=document.createElement("img");if(We(Ze.inheritedAttributes,function(Vt){var Nn=Bt.getAttribute(Vt);null!==Nn&&nn.setAttribute(Vt,Nn)}),nn.src=Ee,nn.alt=qt,Ue(Ze.view)&&pe(je,"view",Ze.view,{once:!0}),!1===Ye(je,"view",{originalImage:this.images[Re],index:Re,image:nn})||!this.isShown||this.hiding||this.played)return this;function _n(){var Vt=ge.imageData,Nn=Array.isArray(Ze.title)?Ze.title[1]:Ze.title;Xe.innerHTML=y(Nn=Ue(Nn)?Nn.call(ge,nn,Vt):"".concat(qt," (").concat(Vt.naturalWidth," \xd7 ").concat(Vt.naturalHeight,")"))?Nn.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):Nn}return(Ee=this.items[this.index])&&(Ft(Ee,oe),Ee.removeAttribute("aria-selected")),It(tn,oe),tn.setAttribute("aria-selected",!0),Ze.focus&&tn.focus(),this.image=nn,this.viewed=!1,this.index=Re,this.imageData={},It(nn,x),Ze.loading&&It(st,n),st.innerHTML="",st.appendChild(nn),this.renderList(),Xe.innerHTML="",pe(je,we,_n,{once:!0}),this.viewing={abort:function(){ie(je,we,_n),nn.complete?ge.imageRendering?ge.imageRendering.abort():ge.imageInitializing&&ge.imageInitializing.abort():(nn.src="",ie(nn,p,cn),ge.timeout&&clearTimeout(ge.timeout))}},nn.complete?this.load():(pe(nn,p,cn=function(){ie(nn,w,Qt),ge.load()},{once:!0}),pe(nn,w,Qt=function(){ie(nn,p,cn),ge.timeout&&(clearTimeout(ge.timeout),ge.timeout=!1),Ft(nn,x),Ze.loading&&Ft(ge.canvas,n)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Ft(nn,x),ge.timeout=!1},1e3)),this},prev:function(){var ge=this.index-1;return ge<0&&(ge=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?this.length-1:0),this.view(ge),this},next:function(){var ge=this.length-1,Re=this.index+1;return this.view(Re=ge<Re?0<arguments.length&&void 0!==arguments[0]&&arguments[0]?0:ge:Re),this},move:function(ge){var Re=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ge,je=this.imageData;return this.moveTo(U(ge)?ge:je.x+Number(ge),U(Re)?Re:je.y+Number(Re)),this},moveTo:function(ge){var Re=this,je=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ge,Ze=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,Xe=this.element,st=this.options,tn=this.imageData;if(ge=Number(ge),je=Number(je),this.viewed&&!this.played&&st.movable){var Bt=tn.x,qt=tn.y,nn=!1;if(M(ge)?nn=!0:ge=Bt,M(je)?nn=!0:je=qt,nn){if(Ue(st.move)&&pe(Xe,"move",st.move,{once:!0}),!1===Ye(Xe,"move",{x:ge,y:je,oldX:Bt,oldY:qt,originalEvent:Ze}))return this;tn.x=ge,tn.y=je,tn.left=ge,tn.top=je,this.moving=!0,this.renderImage(function(){Re.moving=!1,Ue(st.moved)&&pe(Xe,"moved",st.moved,{once:!0}),Ye(Xe,"moved",{x:ge,y:je,oldX:Bt,oldY:qt,originalEvent:Ze},{cancelable:!1})})}}return this},rotate:function(ge){return this.rotateTo((this.imageData.rotate||0)+Number(ge)),this},rotateTo:function(ge){var Re=this,je=this.element,Ze=this.options,Xe=this.imageData;if(M(ge=Number(ge))&&this.viewed&&!this.played&&Ze.rotatable){var st=Xe.rotate;if(Ue(Ze.rotate)&&pe(je,"rotate",Ze.rotate,{once:!0}),!1===Ye(je,"rotate",{degree:ge,oldDegree:st}))return this;Xe.rotate=ge,this.rotating=!0,this.renderImage(function(){Re.rotating=!1,Ue(Ze.rotated)&&pe(je,ke,Ze.rotated,{once:!0}),Ye(je,ke,{degree:ge,oldDegree:st},{cancelable:!1})})}return this},scaleX:function(ge){return this.scale(ge,this.imageData.scaleY),this},scaleY:function(ge){return this.scale(this.imageData.scaleX,ge),this},scale:function(ge){var Re=this,je=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ge,Ze=this.element,Xe=this.options,st=this.imageData;if(ge=Number(ge),je=Number(je),this.viewed&&!this.played&&Xe.scalable){var tn=st.scaleX,Bt=st.scaleY,qt=!1;if(M(ge)?qt=!0:ge=tn,M(je)?qt=!0:je=Bt,qt){if(Ue(Xe.scale)&&pe(Ze,"scale",Xe.scale,{once:!0}),!1===Ye(Ze,"scale",{scaleX:ge,scaleY:je,oldScaleX:tn,oldScaleY:Bt}))return this;st.scaleX=ge,st.scaleY=je,this.scaling=!0,this.renderImage(function(){Re.scaling=!1,Ue(Xe.scaled)&&pe(Ze,"scaled",Xe.scaled,{once:!0}),Ye(Ze,"scaled",{scaleX:ge,scaleY:je,oldScaleX:tn,oldScaleY:Bt},{cancelable:!1})})}}return this},zoom:function(ge){var Re=1<arguments.length&&void 0!==arguments[1]&&arguments[1],je=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,Ze=this.imageData;return ge=Number(ge),this.zoomTo(Ze.width*(ge=ge<0?1/(1-ge):1+ge)/Ze.naturalWidth,Re,je),this},zoomTo:function(ge){var Re,je,Ze,Xe=this,st=1<arguments.length&&void 0!==arguments[1]&&arguments[1],tn=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,Bt=3<arguments.length&&void 0!==arguments[3]&&arguments[3],qt=this.element,nn=this.options,_n=this.pointers,cn=this.imageData,Qt=cn.x,Ee=cn.y,Vt=cn.width,Nn=cn.height,mn=cn.naturalWidth,Mn=cn.naturalHeight;if(M(ge=Math.max(0,ge))&&this.viewed&&!this.played&&(Bt||nn.zoomable)){if(Bt||(Bt=Math.max(.01,nn.minZoomRatio),qn=Math.min(100,nn.maxZoomRatio),ge=Math.min(Math.max(ge,Bt),qn)),tn)switch(tn.type){case"wheel":.055<=nn.zoomRatio&&.95<ge&&ge<1.05&&(ge=1);break;case"pointermove":case"touchmove":case"mousemove":.99<ge&&ge<1.01&&(ge=1)}var zn,qn=Mn*ge,Fn=(mn=(Bt=mn*ge)-Vt,Mn=qn-Nn,cn.ratio);if(Ue(nn.zoom)&&pe(qt,"zoom",nn.zoom,{once:!0}),!1===Ye(qt,"zoom",{ratio:ge,oldRatio:Fn,originalEvent:tn}))return this;this.zooming=!0,tn?(zn={left:(zn=(zn=this.viewer).getBoundingClientRect()).left+(window.pageXOffset-document.documentElement.clientLeft),top:zn.top+(window.pageYOffset-document.documentElement.clientTop)},_n=_n&&0<Object.keys(_n).length?(Ze=je=Re=0,We(_n,function(nt){Re+=nt.startX,je+=nt=nt.startY,Ze+=1}),{pageX:Re/=Ze,pageY:je/=Ze}):{pageX:tn.pageX,pageY:tn.pageY},cn.x-=(_n.pageX-zn.left-Qt)/Vt*mn,cn.y-=(_n.pageY-zn.top-Ee)/Nn*Mn):(cn.x-=mn/2,cn.y-=Mn/2),cn.left=cn.x,cn.top=cn.y,cn.width=Bt,cn.height=qn,cn.oldRatio=Fn,cn.ratio=ge,this.renderImage(function(){Xe.zooming=!1,Ue(nn.zoomed)&&pe(qt,"zoomed",nn.zoomed,{once:!0}),Ye(qt,"zoomed",{ratio:ge,oldRatio:Fn,originalEvent:tn},{cancelable:!1})}),st&&this.tooltip()}return this},play:function(){var ge=this,Re=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var je=this.element,Ze=this.options;if(Ue(Ze.play)&&pe(je,"play",Ze.play,{once:!0}),!1===Ye(je,"play"))return this;var Xe=this.player,st=this.loadImage.bind(this),tn=[],Bt=0,qt=0;return this.played=!0,this.onLoadWhenPlay=st,Re&&this.requestFullscreen(Re),It(Xe,s),We(this.items,function(nn,_n){var cn=nn.querySelector("img"),Qt=document.createElement("img");Qt.src=K(cn,"originalUrl"),Qt.alt=cn.getAttribute("alt"),Qt.referrerPolicy=cn.referrerPolicy,Bt+=1,It(Qt,ue),Ke(Qt,t,Ze.transition),Xt(nn,oe)&&(It(Qt,f),qt=_n),tn.push(Qt),pe(Qt,p,st,{once:!0}),Xe.appendChild(Qt)}),M(Ze.interval)&&0<Ze.interval&&1<Bt&&function nn(){ge.playing=setTimeout(function(){Ft(tn[qt],f),It(tn[qt=(qt+=1)<Bt?qt:0],f),nn()},Ze.interval)}(),this},stop:function(){var ge=this;if(!this.played)return this;var Re=this.element,je=this.options;return Ue(je.stop)&&pe(Re,"stop",je.stop,{once:!0}),!1===Ye(Re,"stop")||(je=this.player,this.played=!1,clearTimeout(this.playing),We(je.getElementsByTagName("img"),function(Ze){ie(Ze,p,ge.onLoadWhenPlay)}),Ft(je,s),je.innerHTML="",this.exitFullscreen()),this},full:function(){var ge=this,Re=this.options,je=this.viewer,Ze=this.image,Xe=this.list;return!this.isShown||this.played||this.fulled||!Re.inline||(this.fulled=!0,this.open(),It(this.button,ae),Re.transition&&(Ft(Xe,t),this.viewed&&Ft(Ze,t)),It(je,ve),je.setAttribute("role","dialog"),je.setAttribute("aria-labelledby",this.title.id),je.setAttribute("aria-modal",!0),je.removeAttribute("style"),pt(je,{zIndex:Re.zIndex}),Re.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Qe({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){ge.renderImage(function(){Re.transition&&setTimeout(function(){It(Ze,t),It(Xe,t)},0)})})),this},exit:function(){var ge=this,Re=this.options,je=this.viewer,Ze=this.image,Xe=this.list;return this.isShown&&!this.played&&this.fulled&&Re.inline&&(this.fulled=!1,this.close(),Ft(this.button,ae),Re.transition&&(Ft(Xe,t),this.viewed&&Ft(Ze,t)),Re.focus&&this.clearEnforceFocus(),je.removeAttribute("role"),je.removeAttribute("aria-labelledby"),je.removeAttribute("aria-modal"),Ft(je,ve),pt(je,{zIndex:Re.zIndexInline}),this.viewerData=Qe({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){ge.renderImage(function(){Re.transition&&setTimeout(function(){It(Ze,t),It(Xe,t)},0)})})),this},tooltip:function(){var ge=this,Re=this.options,je=this.tooltipBox;return this.viewed&&!this.played&&Re.tooltip&&(je.textContent="".concat(Math.round(100*this.imageData.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):Re.transition?(this.fading&&Ye(je,N),It(je,s),It(je,ue),It(je,t),je.removeAttribute("aria-hidden"),je.initialOffsetWidth=je.offsetWidth,It(je,f)):(It(je,s),je.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){Re.transition?(pe(je,N,function(){Ft(je,s),Ft(je,ue),Ft(je,t),je.setAttribute("aria-hidden",!0),ge.fading=!1},{once:!0}),Ft(je,f),ge.fading=!0):(Ft(je,s),je.setAttribute("aria-hidden",!0)),ge.tooltipping=!1},1e3)),this},toggle:function(){return this.zoomTo(1===this.imageData.ratio?this.imageData.oldRatio:1,!0,0<arguments.length&&void 0!==arguments[0]?arguments[0]:null),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Qe({},this.initialImageData),this.renderImage()),this},update:function(){var ge=this,Re=this.element,je=this.options,Ze=this.isImg;if(Ze&&!Re.parentNode)return this.destroy();var Xe,st=[];return We(Ze?[Re]:Re.querySelectorAll("img"),function(tn){Ue(je.filter)?je.filter.call(ge,tn)&&st.push(tn):ge.getImageURL(tn)&&st.push(tn)}),st.length&&(this.images=st,this.length=st.length,this.ready?(Xe=[],We(this.items,function(qt,Bt){qt=qt.querySelector("img");var nn=st[Bt];nn&&qt&&nn.src===qt.src&&nn.alt===qt.alt||Xe.push(Bt)}),pt(this.list,{width:"auto"}),this.initList(),this.isShown&&(this.length?this.viewed&&(0<=(Ze=Xe.indexOf(this.index))?(this.viewed=!1,this.view(Math.max(Math.min(this.index-Ze,this.length-1),0))):(It(Re=this.items[this.index],oe),Re.setAttribute("aria-selected",!0))):(this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""))):this.build()),this},destroy:function(){var ge=this.element,Re=this.options;return ge[V]&&(this.destroyed=!0,this.ready?(this.played&&this.stop(),Re.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):Re.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),Re.inline||ie(ge,o,this.onStart),ge[V]=void 0),this}},Pn={getImageURL:function(ge){var Re=this.options.url;return y(Re)?ge.getAttribute(Re):Ue(Re)?Re.call(this,ge):""},enforceFocus:function(){var ge=this;this.clearEnforceFocus(),pe(document,h,this.onFocusin=function(Re){var je=ge.viewer,Ze=Re.target;if(Ze!==document&&Ze!==je&&!je.contains(Ze)){for(;Ze;){if(null!==Ze.getAttribute("tabindex")||"true"===Ze.getAttribute("aria-modal"))return;Ze=Ze.parentElement}je.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(ie(document,h,this.onFocusin),this.onFocusin=null)},open:function(){var ge=this.body;It(ge,u),ge.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px")},close:function(){var ge=this.body;Ft(ge,u),ge.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var ge=this.element,Re=this.options,je=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,Re.focus&&(je.focus(),this.enforceFocus()),Ue(Re.shown)&&pe(ge,"shown",Re.shown,{once:!0}),!1!==Ye(ge,"shown")&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var ge=this.element,Re=this.options,je=this.viewer;Re.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),It(je,m),je.removeAttribute("role"),je.removeAttribute("aria-labelledby"),je.removeAttribute("aria-modal"),je.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(Ue(Re.hidden)&&pe(ge,"hidden",Re.hidden,{once:!0}),Ye(ge,"hidden",null,{cancelable:!1}))},requestFullscreen:function(ge){var Re=this.element.ownerDocument;this.fulled&&!(Re.fullscreenElement||Re.webkitFullscreenElement||Re.mozFullScreenElement||Re.msFullscreenElement)&&((Re=Re.documentElement).requestFullscreen?re(ge)?Re.requestFullscreen(ge):Re.requestFullscreen():Re.webkitRequestFullscreen?Re.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):Re.mozRequestFullScreen?Re.mozRequestFullScreen():Re.msRequestFullscreen&&Re.msRequestFullscreen())},exitFullscreen:function(){var ge=this.element.ownerDocument;this.fulled&&(ge.fullscreenElement||ge.webkitFullscreenElement||ge.mozFullScreenElement||ge.msFullscreenElement)&&(ge.exitFullscreen?ge.exitFullscreen():ge.webkitExitFullscreen?ge.webkitExitFullscreen():ge.mozCancelFullScreen?ge.mozCancelFullScreen():ge.msExitFullscreen&&ge.msExitFullscreen())},change:function(ge){var Re=this.options,je=this.pointers,Ze=je[Object.keys(je)[0]];if(Ze){var Xe,st,tn=Ze.endX-Ze.startX,Bt=Ze.endY-Ze.startY;switch(this.action){case De:this.move(tn,Bt,ge);break;case _:this.zoom((Xe=yn({},qt=je),st=[],We(qt,function(nn,_n){delete Xe[_n],We(Xe,function(Ee){var Vt=Math.abs(nn.startX-Ee.startX),Nn=Math.abs(nn.startY-Ee.startY),Qt=Math.abs(nn.endX-Ee.endX);Ee=Math.abs(nn.endY-Ee.endY),Vt=Math.sqrt(Vt*Vt+Nn*Nn),Nn=Math.sqrt(Qt*Qt+Ee*Ee),st.push((Nn-Vt)/Vt)})}),st.sort(function(nn,_n){return Math.abs(nn)<Math.abs(_n)}),st[0]),!1,ge);break;case"switch":this.action="switched";var qt=Math.abs(tn);1<qt&&qt>Math.abs(Bt)&&(this.pointers={},1<tn?this.prev(Re.loop):tn<-1&&this.next(Re.loop))}We(je,function(nn){nn.startX=nn.endX,nn.startY=nn.endY})}},isSwitchable:function(){var ge=this.imageData,Re=this.viewerData;return 1<this.length&&0<=ge.x&&0<=ge.y&&ge.width<=Re.width&&ge.height<=Re.height}},mr=Kn.Viewer,Mt=(Cn=-1,function(){return Cn+=1});return Kn=function(){function ge(Xe){var st=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof ge))throw new TypeError("Cannot call a class as a function");if(!Xe||1!==Xe.nodeType)throw new Error("The first argument is required and must be an element.");this.element=Xe,this.options=Qe({},wt,re(st)&&st),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.id=Mt(),this.init()}var Re,je,Ze;return Re=ge,Ze=[{key:"noConflict",value:function(){return window.Viewer=mr,ge}},{key:"setDefaults",value:function(Xe){Qe(wt,re(Xe)&&Xe)}}],(je=[{key:"init",value:function(){var Xe,st,tn,Bt,qt=this,nn=this.element,_n=this.options;nn[V]||(nn[V]=this,_n.focus&&!_n.keyboard&&(_n.focus=!1),st=[],We((Xe="img"===nn.localName)?[nn]:nn.querySelectorAll("img"),function(cn){Ue(_n.filter)?_n.filter.call(qt,cn)&&st.push(cn):qt.getImageURL(cn)&&st.push(cn)}),this.isImg=Xe,this.length=st.length,this.images=st,this.initBody(),U(document.createElement(V).style.transition)&&(_n.transition=!1),_n.inline?(tn=0,Bt=function(){var cn;(tn+=1)===qt.length&&(qt.initializing=!1,qt.delaying={abort:function(){clearTimeout(cn)}},cn=setTimeout(function(){qt.delaying=!1,qt.build()},0))},this.initializing={abort:function(){We(st,function(cn){cn.complete||(ie(cn,p,Bt),ie(cn,w,Bt))})}},We(st,function(cn){var Qt,Ee;cn.complete?Bt():(pe(cn,p,Qt=function(){ie(cn,w,Ee),Bt()},{once:!0}),pe(cn,w,Ee=function(){ie(cn,p,Qt),Bt()},{once:!0}))})):pe(nn,o,this.onStart=function(cn){"img"!==(cn=cn.target).localName||Ue(_n.filter)&&!_n.filter.call(qt,cn)||qt.view(qt.images.indexOf(cn))}))}},{key:"build",value:function(){var Xe,st,tn,Bt,qt,nn,_n,cn,Qt,Ee,Vt,Nn,mn,Mn;this.ready||(st=this.options,tn=(Xe=this.element).parentNode,(mn=document.createElement("div")).innerHTML='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',mn=(Bt=mn.querySelector(".".concat(V,"-container"))).querySelector(".".concat(V,"-title")),qt=Bt.querySelector(".".concat(V,"-toolbar")),Mn=Bt.querySelector(".".concat(V,"-navbar")),nn=Bt.querySelector(".".concat(V,"-button")),_n=Bt.querySelector(".".concat(V,"-canvas")),this.parent=tn,this.viewer=Bt,this.title=mn,this.toolbar=qt,this.navbar=Mn,this.button=nn,this.canvas=_n,this.footer=Bt.querySelector(".".concat(V,"-footer")),this.tooltipBox=Bt.querySelector(".".concat(V,"-tooltip")),this.player=Bt.querySelector(".".concat(V,"-player")),this.list=Bt.querySelector(".".concat(V,"-list")),Bt.id="".concat(V).concat(this.id),mn.id="".concat(V,"Title").concat(this.id),It(mn,st.title?Jt(Array.isArray(st.title)?st.title[0]:st.title):m),It(Mn,st.navbar?Jt(st.navbar):m),Ke(nn,m,!st.button),st.keyboard&&nn.setAttribute("tabindex",0),st.backdrop&&(It(Bt,"".concat(V,"-backdrop")),st.inline||"static"===st.backdrop||se(_n,A,"hide")),y(st.className)&&st.className&&st.className.split(L).forEach(function(zn){It(Bt,zn)}),st.toolbar?(cn=document.createElement("ul"),Qt=re(st.toolbar),Ee=z.slice(0,3),Vt=z.slice(7,9),Nn=z.slice(9),Qt||It(qt,Jt(st.toolbar)),We(Qt?st.toolbar:z,function(zn,Hn){var Fn,Gn=Qt&&re(zn),Yn=(Hn=Qt?St(Hn):zn,Gn&&!U(zn.show)?zn.show:zn);!Yn||!st.zoomable&&-1!==Ee.indexOf(Hn)||!st.rotatable&&-1!==Vt.indexOf(Hn)||!st.scalable&&-1!==Nn.indexOf(Hn)||(Fn=Gn&&!U(zn.size)?zn.size:zn,Gn=Gn&&!U(zn.click)?zn.click:zn,zn=document.createElement("li"),st.keyboard&&zn.setAttribute("tabindex",0),zn.setAttribute("role","button"),It(zn,"".concat(V,"-").concat(Hn)),Ue(Gn)||se(zn,A,Hn),M(Yn)&&It(zn,Jt(Yn)),-1!==["small","large"].indexOf(Fn)?It(zn,"".concat(V,"-").concat(Fn)):"play"===Hn&&It(zn,"".concat(V,"-large")),Ue(Gn)&&pe(zn,o,Gn),cn.appendChild(zn))}),qt.appendChild(cn)):It(qt,m),st.rotatable||(It(mn=qt.querySelectorAll('li[class*="rotate"]'),x),We(mn,function(zn){qt.appendChild(zn)})),st.inline?(It(nn,Y),pt(Bt,{zIndex:st.zIndexInline}),"static"===window.getComputedStyle(tn).position&&pt(tn,{position:"relative"}),tn.insertBefore(Bt,Xe.nextSibling)):(It(nn,G),It(Bt,ve),It(Bt,ue),It(Bt,m),pt(Bt,{zIndex:st.zIndex}),(Mn=(Mn=y(Mn=st.container)?Xe.ownerDocument.querySelector(Mn):Mn)||this.body).appendChild(Bt)),st.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,Ue(st.ready)&&pe(Xe,Z,st.ready,{once:!0}),!1===Ye(Xe,Z)?this.ready=!1:this.ready&&st.inline&&this.view(this.index))}}])&&At(Re.prototype,je),Ze&&At(Re,Ze),Object.defineProperty(Re,"prototype",{writable:!1}),ge}(),Qe(Kn.prototype,hn,En,Xn,An,Pn),Kn});