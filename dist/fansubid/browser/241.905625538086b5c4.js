"use strict";(self.webpackChunkfansubid=self.webpackChunkfansubid||[]).push([[241],{4241:(j,I,l)=>{l.r(I),l.d(I,{CreateModule:()=>ei});var m=l(9808),b=l(8406),n=l(3075),T=l(9345),Z=l(1385),c=l(6271),C=l(4249),E=l(2777),S=l(5094),D=l(210),L=l(7355),h=l(8613),v=l(8372),d=l(9094),p=l(8505),k=l(3900),w=l(8746),N=l(5625),t=l(5e3),B=l(3e3),F=l(8745),it=l(519),at=l(8439),ot=l(5679),V=l(6781),nt=l(8987),Y=l(7902),P=l(6925),M=l(8696),G=l(4137),rt=l(6493),R=l(8616),f=l(7322),Q=l(5245),U=l(7423),z=l(2368),$=l(7238),W=l(4107),X=l(508),O=l(7531),tt=l(1079),st=l(5899),lt=l(4834),H=l(3626);function mt(i,r){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"bytes"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("Ukuran Upload Melebihi Batas ",t.lcZ(2,1,e.imageLimitExceeded)," !")}}function ct(i,r){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.imageErrorText)}}function ut(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",2),t._UZ(1,"img",44),t.TgZ(2,"mat-form-field",45)(3,"mat-label"),t._uU(4,"Gambar Untuk Embed SEO"),t.qZA(),t.TgZ(5,"ngx-mat-file-input",46,47),t.NdJ("change",function(o){t.CHM(e);const s=t.MAs(6);return t.oxw(2).uploadImage(o,s)}),t.qZA(),t.TgZ(7,"mat-icon",30),t._uU(8,"image"),t.qZA()(),t.TgZ(9,"mat-error",48)(10,"small"),t.YNc(11,mt,3,3,"div",18),t.YNc(12,ct,2,1,"div",18),t.qZA()()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.image_url,t.LSH),t.xp6(1),t.Q6J("color","accent"),t.xp6(3),t.Q6J("disabled",e.fg.value.image)("accept","image/gif, image/jpeg, image/jpg, image/png"),t.xp6(6),t.Q6J("ngIf",e.imageLimitExceeded),t.xp6(1),t.Q6J("ngIf",e.imageErrorText)}}function dt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",23)(1,"button",25),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).submitImage()}),t.TgZ(2,"mat-icon",26),t._uU(3,"add_photo_alternate"),t.qZA(),t._uU(4," Unggah "),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.submitted)}}function _t(i,r){1&i&&(t.TgZ(0,"div",20)(1,"mat-slide-toggle",49),t._uU(2," Jadikan Private, Akses Hanya Dengan URL "),t.qZA()())}function gt(i,r){1&i&&(t.TgZ(0,"div",20)(1,"mat-slide-toggle",50),t._uU(2," Permanent Storage "),t.qZA()())}function pt(i,r){if(1&i&&(t.TgZ(0,"mat-option",51),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ft(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Jenis Tidak Boleh Kosong"),t.qZA())}function ht(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Jenis Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function bt(i,r){1&i&&(t.TgZ(0,"mat-option",57),t._UZ(1,"mat-progress-bar",58),t.qZA())}function vt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",60),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(4).filterAnimeSelected(s)}),t._UZ(1,"img",61),t.TgZ(2,"span",43),t._uU(3),t.qZA()()}if(2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.s9C("src",e.image_url,t.LSH),t.xp6(2),t.lnq("",e.id," :: ",null==e.media_type?null:e.media_type.toUpperCase()," :: ",e.title,"")}}function xt(i,r){if(1&i&&(t.ynx(0),t.YNc(1,vt,4,5,"mat-option",59),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.filteredAnime)}}function Tt(i,r){if(1&i&&(t.TgZ(0,"small",62),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.fg.get("anime_name").value)}}function Ct(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"ID Anime Tidak Boleh Kosong"),t.qZA())}function Zt(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"ID Anime Hanya Boleh Angka"),t.qZA())}function At(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-form-field",52)(1,"mat-label"),t._uU(2,"Anime Terkait"),t.qZA(),t.TgZ(3,"input",53),t.NdJ("keyup",function(){return t.CHM(e),t.oxw(2).resetSelectedAnime()}),t.qZA(),t.TgZ(4,"mat-icon",30),t._uU(5,"short_text"),t.qZA(),t.TgZ(6,"mat-autocomplete",null,54),t.YNc(8,bt,2,0,"mat-option",55),t.YNc(9,xt,2,1,"ng-container",18),t.qZA(),t.YNc(10,Tt,2,1,"small",56),t.TgZ(11,"mat-error"),t.YNc(12,Ct,2,0,"div",18),t.YNc(13,Zt,2,0,"div",18),t.qZA()()}if(2&i){const e=t.MAs(7),a=t.oxw(2);t.Q6J("color","accent"),t.xp6(3),t.Q6J("matAutocomplete",e),t.xp6(5),t.Q6J("ngIf",a.isLoading),t.xp6(1),t.Q6J("ngIf",!a.isLoading),t.xp6(1),t.Q6J("ngIf",a.fg.get("anime_name").value),t.xp6(2),t.Q6J("ngIf",a.fg.get("anime_id").hasError("required")),t.xp6(1),t.Q6J("ngIf",a.fg.get("anime_id").hasError("pattern"))}}function kt(i,r){1&i&&(t.TgZ(0,"mat-option",57),t._UZ(1,"mat-progress-bar",58),t.qZA())}function Ut(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",60),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(4).filterDoramaSelected(s)}),t._UZ(1,"img",61),t.TgZ(2,"span",43),t._uU(3),t.qZA()()}if(2&i){const e=r.$implicit;t.Q6J("value",e.mdl_id),t.xp6(1),t.s9C("src",e.image_url,t.LSH),t.xp6(2),t.AsE("",e.mdl_id," :: ",e.title,"")}}function It(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Ut,4,4,"mat-option",59),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.filteredDorama)}}function Et(i,r){if(1&i&&(t.TgZ(0,"small",62),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.fg.get("dorama_name").value)}}function St(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"ID Dorama Tidak Boleh Kosong"),t.qZA())}function Nt(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"ID Dorama Hanya Boleh Angka"),t.qZA())}function qt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-form-field",52)(1,"mat-label"),t._uU(2,"Dorama Terkait"),t.qZA(),t.TgZ(3,"input",63),t.NdJ("keyup",function(){return t.CHM(e),t.oxw(2).resetSelectedDorama()}),t.qZA(),t.TgZ(4,"mat-icon",30),t._uU(5,"short_text"),t.qZA(),t.TgZ(6,"mat-autocomplete",null,64),t.YNc(8,kt,2,0,"mat-option",55),t.YNc(9,It,2,1,"ng-container",18),t.qZA(),t.YNc(10,Et,2,1,"small",56),t.TgZ(11,"mat-error"),t.YNc(12,St,2,0,"div",18),t.YNc(13,Nt,2,0,"div",18),t.qZA()()}if(2&i){const e=t.MAs(7),a=t.oxw(2);t.Q6J("color","accent"),t.xp6(3),t.Q6J("matAutocomplete",e),t.xp6(5),t.Q6J("ngIf",a.isLoading),t.xp6(1),t.Q6J("ngIf",!a.isLoading),t.xp6(1),t.Q6J("ngIf",a.fg.get("dorama_name").value),t.xp6(2),t.Q6J("ngIf",a.fg.get("dorama_id").hasError("required")),t.xp6(1),t.Q6J("ngIf",a.fg.get("dorama_id").hasError("pattern"))}}function Jt(i,r){1&i&&(t.TgZ(0,"mat-icon",30),t._uU(1,"short_text"),t.qZA())}function yt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",71),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index;return t.oxw(2).removeFansub(o)}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function wt(i,r){1&i&&(t.TgZ(0,"mat-option",57),t._UZ(1,"mat-progress-bar",58),t.qZA())}function Bt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-option",60),t.NdJ("click",function(){const s=t.CHM(e).$implicit,u=t.oxw(2).index;return t.oxw(2).filterFansubSelected(s,u)}),t._UZ(1,"img",72),t.TgZ(2,"span",43),t._uU(3),t.qZA()()}if(2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.s9C("src",e.image_url,t.LSH),t.xp6(2),t.AsE("",e.slug," :: ",e.name,"")}}function Ft(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Bt,4,4,"mat-option",59),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.filteredFansub)}}function Mt(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"ID Fansub Tidak Boleh Kosong"),t.qZA())}function Rt(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"ID Fansub Hanya Boleh Angka"),t.qZA())}function Qt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",65)(2,"mat-form-field",66)(3,"mat-label"),t._uU(4,"Fansub Terkait"),t.qZA(),t.TgZ(5,"input",67),t.NdJ("keyup",function(){const s=t.CHM(e).index;return t.oxw(2).resetSelectedFansub(s)}),t.qZA(),t.YNc(6,Jt,2,0,"mat-icon",68),t.YNc(7,yt,3,0,"button",69),t.TgZ(8,"mat-autocomplete",null,70),t.YNc(10,wt,2,0,"mat-option",55),t.YNc(11,Ft,2,1,"ng-container",18),t.qZA(),t.TgZ(12,"small",62),t._uU(13),t.qZA(),t.TgZ(14,"mat-error"),t.YNc(15,Mt,2,0,"div",18),t.YNc(16,Rt,2,0,"div",18),t.qZA()()()()}if(2&i){const e=r.$implicit,a=r.index,o=t.MAs(9),s=t.oxw(2);t.xp6(1),t.Q6J("formGroupName",a),t.xp6(1),t.Q6J("color","accent"),t.xp6(3),t.Q6J("matAutocomplete",o),t.xp6(1),t.Q6J("ngIf",e.get("fansub_id").value||0===a),t.xp6(1),t.Q6J("ngIf",!e.get("fansub_id").value&&a>0),t.xp6(3),t.Q6J("ngIf",s.isLoading),t.xp6(1),t.Q6J("ngIf",!s.isLoading),t.xp6(2),t.Oqu(e.get("fansub_name").value),t.xp6(2),t.Q6J("ngIf",e.get("fansub_id").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.get("fansub_id").hasError("pattern"))}}function Ot(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Nama Berkas Tidak Boleh Kosong"),t.qZA())}function Dt(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Nama Berkas Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function Lt(i,r){if(1&i&&t._UZ(0,"angular-editor",73),2&i){const e=t.oxw(2);t.Q6J("config",e.GS.angularEditorConfig)}}function Yt(i,r){1&i&&t._UZ(0,"div")}function Ht(i,r){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"bytes"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("Ukuran Upload Melebihi Batas ",t.lcZ(2,1,e.attachmentLimitExceeded)," !")}}function Kt(i,r){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.attachmentErrorText)}}function jt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",36)(1,"div",24)(2,"div",81),t._uU(3),t.ALo(4,"bytes"),t._UZ(5,"br")(6,"mat-progress-bar",82),t.qZA()(),t.TgZ(7,"div",83)(8,"button",25),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).submitAttachment(s)}),t.TgZ(9,"mat-icon",26),t._uU(10,"attachment"),t.qZA(),t._uU(11," Unggah "),t.qZA()()()}if(2&i){const e=r.$implicit,a=t.oxw(3);t.xp6(3),t.lnq(" ",e.status," :: ",e.progress,"% @ ",t.lcZ(4,6,e.speed),"/s "),t.xp6(3),t.Q6J("mode","determinate")("value",e.progress),t.xp6(2),t.Q6J("disabled",a.submitted||"complete"===e.status||"uploading"===e.status)}}function Vt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",74)(2,"small",75),t._uU(3,"* "),t.TgZ(4,"i"),t._uU(5,"Resume-able Upload"),t.qZA(),t._uU(6," (Tidak wajib, jika sudah ada URL eksternal, misal alamat webmu gdrive mediafire mega dan lain sebagainya)"),t.qZA()(),t.TgZ(7,"mat-form-field",76)(8,"mat-label"),t._uU(9,"Upload Lampiran Berkas -- DDL"),t.qZA(),t.TgZ(10,"ngx-mat-file-input",77,78),t.NdJ("change",function(o){t.CHM(e);const s=t.MAs(11);return t.oxw(2).uploadAttachment(o,s)}),t.qZA(),t.TgZ(12,"mat-icon",30),t._uU(13,"attach_file"),t.qZA()(),t.TgZ(14,"mat-error",79)(15,"small"),t.YNc(16,Ht,3,3,"div",18),t.YNc(17,Kt,2,1,"div",18),t.qZA()()(),t.YNc(18,jt,12,8,"div",80),t.ALo(19,"async")}if(2&i){const e=t.oxw(2);t.xp6(7),t.Q6J("color","accent"),t.xp6(3),t.Q6J("disabled",null!==e.attachmentSelected)("accept",e.fileTypeAttachmentAllowed),t.xp6(6),t.Q6J("ngIf",e.attachmentLimitExceeded),t.xp6(1),t.Q6J("ngIf",e.attachmentErrorText),t.xp6(1),t.Q6J("ngForOf",t.lcZ(19,6,e.uploads$))}}function Pt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",84),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).verify()}),t.TgZ(1,"mat-icon",26),t._uU(2,"enhanced_encryption"),t.qZA(),t._uU(3," Verifikasi Akun Untuk Upload DDL! "),t.qZA()}}function Gt(i,r){1&i&&(t.TgZ(0,"div",74)(1,"small",75),t._uU(2,"* Gunakan tombol (X) untuk menghapus URL Eksternal jika ingin hanya menggunakan lampiran "),t.TgZ(3,"i"),t._uU(4,"upload"),t.qZA(),t._uU(5," DDL saja"),t.qZA()())}function zt(i,r){1&i&&(t.TgZ(0,"mat-icon",30),t._uU(1,"web"),t.qZA())}function $t(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",71),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index;return t.oxw(2).removeDownloadLink(o)}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function Wt(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Web Tidak Boleh Kosong"),t.qZA())}function Xt(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Web Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function te(i,r){1&i&&(t.TgZ(0,"mat-icon",30),t._uU(1,"link"),t.qZA())}function ee(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",71),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index;return t.oxw(2).removeDownloadLink(o)}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function ie(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Tautan Tidak Boleh Kosong"),t.qZA())}function ae(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Tautan Link Tidak Valid"),t.qZA())}function oe(i,r){if(1&i&&(t.ynx(0),t.TgZ(1,"div",85),t.YNc(2,Gt,6,0,"div",86),t.TgZ(3,"mat-form-field",87)(4,"mat-label"),t._uU(5,"Nama Website"),t.qZA(),t._UZ(6,"input",88),t.YNc(7,zt,2,0,"mat-icon",68),t.YNc(8,$t,3,0,"button",69),t.TgZ(9,"mat-error"),t.YNc(10,Wt,2,0,"div",18),t.YNc(11,Xt,2,0,"div",18),t.qZA()(),t.TgZ(12,"mat-form-field",89)(13,"mat-label"),t._uU(14,"Tautan Link"),t.qZA(),t._UZ(15,"input",90),t.YNc(16,te,2,0,"mat-icon",68),t.YNc(17,ee,3,0,"button",69),t.TgZ(18,"mat-error"),t.YNc(19,ie,2,0,"div",18),t.YNc(20,ae,2,0,"div",18),t.qZA()()(),t.BQk()),2&i){const e=r.$implicit,a=r.index,o=t.oxw(2);t.xp6(1),t.Q6J("formGroupName",a),t.xp6(1),t.Q6J("ngIf",(null==o.AS.currentUserSubject||null==o.AS.currentUserSubject.value?null:o.AS.currentUserSubject.value.verified)&&0===a),t.xp6(1),t.Q6J("color","accent"),t.xp6(4),t.Q6J("ngIf",e.get("name").value||0===a&&!(null!=o.AS.currentUserSubject&&null!=o.AS.currentUserSubject.value&&o.AS.currentUserSubject.value.verified)),t.xp6(1),t.Q6J("ngIf",!e.get("name").value&&(a>0||(null==o.AS.currentUserSubject||null==o.AS.currentUserSubject.value?null:o.AS.currentUserSubject.value.verified))),t.xp6(2),t.Q6J("ngIf",e.get("name").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.get("name").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(4),t.Q6J("ngIf",e.get("url").value||0===a&&!(null!=o.AS.currentUserSubject&&null!=o.AS.currentUserSubject.value&&o.AS.currentUserSubject.value.verified)),t.xp6(1),t.Q6J("ngIf",!e.get("url").value&&(a>0||(null==o.AS.currentUserSubject||null==o.AS.currentUserSubject.value?null:o.AS.currentUserSubject.value.verified))),t.xp6(2),t.Q6J("ngIf",e.get("url").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.get("url").hasError("pattern"))}}function ne(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"form",4),t.NdJ("submit",function(){return t.CHM(e),t.oxw().onSubmit()}),t.TgZ(1,"div",5)(2,"div",6)(3,"h2",7)(4,"span",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleDetailMode()}),t._uU(5),t.qZA(),t.TgZ(6,"b",9),t._uU(7,"Tambah Berkas Baru"),t.qZA()()(),t.TgZ(8,"div",2)(9,"div",10)(10,"div",11)(11,"div",10),t.YNc(12,ut,13,6,"div",12),t.YNc(13,dt,5,1,"div",13),t.YNc(14,_t,3,0,"div",14),t.YNc(15,gt,3,0,"div",14),t.TgZ(16,"mat-form-field",15)(17,"mat-label"),t._uU(18,"Jenis Proyek"),t.qZA(),t.TgZ(19,"mat-select",16),t.YNc(20,pt,2,2,"mat-option",17),t.qZA(),t.TgZ(21,"mat-error"),t.YNc(22,ft,2,0,"div",18),t.YNc(23,ht,2,0,"div",18),t.qZA()(),t.YNc(24,At,14,7,"mat-form-field",19),t.YNc(25,qt,14,7,"mat-form-field",19),t.TgZ(26,"div",20),t._UZ(27,"mat-divider"),t.qZA(),t.TgZ(28,"div",21),t.YNc(29,Qt,17,10,"div",22),t.qZA(),t.TgZ(30,"div",23)(31,"div",10),t._UZ(32,"div",24),t.TgZ(33,"div",24)(34,"button",25),t.NdJ("click",function(){return t.CHM(e),t.oxw().addFansub()}),t.TgZ(35,"mat-icon",26),t._uU(36,"add"),t.qZA(),t._uU(37," Tambah Fansub "),t.qZA()()()()()(),t.TgZ(38,"div",27)(39,"div",10)(40,"mat-form-field",28)(41,"mat-label"),t._uU(42,"Nama Berkas"),t.qZA(),t._UZ(43,"input",29),t.TgZ(44,"mat-icon",30),t._uU(45,"wysiwyg"),t.qZA(),t.TgZ(46,"mat-error"),t.YNc(47,Ot,2,0,"div",18),t.YNc(48,Dt,2,0,"div",18),t.qZA()(),t.YNc(49,Lt,1,1,"angular-editor",31),t.qZA(),t.TgZ(50,"div",10)(51,"div",20),t._UZ(52,"mat-divider"),t.qZA()(),t.YNc(53,Yt,1,0,"div",32),t.YNc(54,Vt,20,8,"ng-template",null,33,t.W1O),t.YNc(56,Pt,4,0,"ng-template",null,34,t.W1O),t.TgZ(58,"div",10)(59,"div",20),t._UZ(60,"mat-divider"),t.qZA()(),t.ynx(61,35),t.YNc(62,oe,21,12,"ng-container",22),t.BQk(),t.TgZ(63,"div",36),t._UZ(64,"div",24)(65,"div",24)(66,"div",24),t.TgZ(67,"div",24)(68,"button",25),t.NdJ("click",function(){return t.CHM(e),t.oxw().addDownloadLink()}),t.TgZ(69,"mat-icon",26),t._uU(70,"add"),t.qZA(),t._uU(71," Tambah URL Eksternal "),t.qZA()()()()(),t.TgZ(72,"div",10)(73,"div",37)(74,"div",38),t._UZ(75,"div",39),t.TgZ(76,"div",40)(77,"a",41)(78,"mat-icon",26),t._uU(79,"undo"),t.qZA(),t._uU(80," Batal "),t.qZA()(),t.TgZ(81,"div",40)(82,"button",42),t._uU(83," Simpan "),t.TgZ(84,"mat-icon",43),t._uU(85,"save"),t.qZA()()()()()()()()()}if(2&i){const e=t.MAs(55),a=t.MAs(57),o=t.oxw();t.Q6J("formGroup",o.fg),t.xp6(5),t.hij(" ",o.detailMode?"Sederhana":"Lengkap"," "),t.xp6(7),t.Q6J("ngIf",o.detailMode),t.xp6(1),t.Q6J("ngIf",o.image&&!o.fg.value.image&&o.detailMode),t.xp6(1),t.Q6J("ngIf",null==o.AS.currentUserSubject||null==o.AS.currentUserSubject.value?null:o.AS.currentUserSubject.value.verified),t.xp6(1),t.Q6J("ngIf",o.permanentStorage&&o.isAttachmentUploaded),t.xp6(1),t.Q6J("color","accent"),t.xp6(4),t.Q6J("ngForOf",o.projectList),t.xp6(2),t.Q6J("ngIf",o.fg.get("projectType_id").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.fg.get("projectType_id").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",o.berkasType.toLowerCase().includes("anime")),t.xp6(1),t.Q6J("ngIf",o.berkasType.toLowerCase().includes("dorama")),t.xp6(4),t.Q6J("ngForOf",o.getFansubControl.controls),t.xp6(5),t.Q6J("disabled",o.submitted),t.xp6(6),t.Q6J("color","accent"),t.xp6(7),t.Q6J("ngIf",o.fg.get("name").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.fg.get("name").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",o.detailMode),t.xp6(4),t.Q6J("ngIf",null==o.AS.currentUserSubject||null==o.AS.currentUserSubject.value?null:o.AS.currentUserSubject.value.verified)("ngIfThen",e)("ngIfElse",a),t.xp6(9),t.Q6J("ngForOf",o.getDownloadUrlControl.controls),t.xp6(6),t.Q6J("disabled",o.submitted),t.xp6(9),t.Q6J("disabled",o.submitted),t.xp6(5),t.Q6J("disabled",o.submitted||o.fg.invalid||"uploading"===(null==o.attachmentSelected?null:o.attachmentSelected.status))}}let re=(()=>{class i{constructor(e,a,o,s,u,_,g,A,q,J,y,ii,ai,oi){this.router=e,this.fb=a,this.bs=o,this.pi=s,this.anime=u,this.dorama=_,this.project=g,this.fansub=A,this.berkas=q,this.imgbb=J,this.toast=y,this.gs=ii,this.as=ai,this.uploadService=oi,this.detailMode=!1,this.submitted=!1,this.projectList=[],this.image=null,this.imageErrorText=null,this.imageLimitExceeded=null,this.image_url="/assets/img/form/no-image.png",this.filteredAnime=[],this.filteredDorama=[],this.filteredFansub=[],this.isLoading=!1,this.animeCheckOrAddResponse=null,this.doramaCheckOrAddResponse=null,this.attachmentSelected=null,this.attachmentErrorText=null,this.attachmentLimitExceeded=null,this.uploadToast=null,this.timerTimeout=null,this.gambar=null,this.ddl=null,this.subsProject=null,this.subsFansub=null,this.subsAnimeDetail=null,this.subsDoramaDetail=null,this.subsProjectDetail=null,this.subsFansubDetail=[],this.subsAnimeNew=null,this.subsDoramaNew=null,this.subsImgbb=null,this.subsBerkasCreate=null,this.subsUpload=null,this.berkasType="",this.gs.bannerImg=null,this.gs.sizeContain=!1,this.gs.bgRepeat=!1}get AS(){return this.as}get GS(){return this.gs}get fileTypeAttachmentAllowed(){return c.t.fileTypeAttachmentAllowed.join(", ")}get permanentStorage(){var e,a;const o=null===(a=null===(e=this.AS.currentUserSubject)||void 0===e?void 0:e.value)||void 0===a?void 0:a.role;return o===C.yS.ADMIN||o===C.yS.MODERATOR}get isAttachmentUploaded(){return null!==this.fg.controls.attachment_id.value}ngOnInit(){this.pi.updatePageMetaData("Berkas - Buat Baru","Halaman Membuat Berkas Baru","Create Berkas"),this.gs.isBrowser&&(this.loadProjectList(),this.initForm(),this.uploads$=this.uploadService.connect(),this.subsUpload=this.uploadService.events.subscribe({next:e=>{this.gs.log("[UPLOAD_EVENTS]",e),("uploading"===e.status||"complete"===e.status)&&(this.attachmentSelected=e),"complete"===e.status?(this.gs.log("[UPLOAD_COMPLETED]",e.response),this.fg.controls.attachment_id.patchValue(e.response.result.id),this.uploadToast=this.toast.warning("Segera Kirim Data Berkas!","Lampiran Akan Dihapus ...",{closeButton:!1,timeOut:c.t.timeoutDeleteTempAttachmentTime,disableTimeOut:"extendedTimeOut",tapToDismiss:!1,progressAnimation:"decreasing"},!0),this.timerTimeout=setTimeout(()=>{this.gs.log("[UPLOAD_TIMEOUT]",c.t.timeoutDeleteTempAttachmentTime),this.failOrCancelUpload({info:"Expired, Silahkan Upload Ulang!"})},c.t.timeoutDeleteTempAttachmentTime)):"error"===e.status&&(this.gs.log("[UPLOAD_ERROR]",e.response,"error"),this.failOrCancelUpload(e.response))},error:e=>{this.gs.log("[UPLOAD_ERROR]",e,"error"),this.failOrCancelUpload(e)}}))}ngOnDestroy(){var e,a,o,s,u,_,g,A,q,J;this.uploadToast&&this.toast.remove(this.uploadToast.toastId),this.timerTimeout&&(clearTimeout(this.timerTimeout),this.timerTimeout=null),null===(e=this.subsProject)||void 0===e||e.unsubscribe(),null===(a=this.subsFansub)||void 0===a||a.unsubscribe(),null===(o=this.subsAnimeDetail)||void 0===o||o.unsubscribe(),null===(s=this.subsDoramaDetail)||void 0===s||s.unsubscribe(),null===(u=this.subsProjectDetail)||void 0===u||u.unsubscribe();for(const y of this.subsFansubDetail)null==y||y.unsubscribe();null===(_=this.subsAnimeNew)||void 0===_||_.unsubscribe(),null===(g=this.subsDoramaNew)||void 0===g||g.unsubscribe(),null===(A=this.subsImgbb)||void 0===A||A.unsubscribe(),null===(q=this.subsBerkasCreate)||void 0===q||q.unsubscribe(),this.uploadService.disconnect(),null===(J=this.subsUpload)||void 0===J||J.unsubscribe()}toggleDetailMode(){this.detailMode=!this.detailMode}loadProjectList(){this.bs.busy(),this.subsProject=this.project.getProject().subscribe({next:e=>{this.gs.log("[PROJECT_LOAD_SUCCESS]",e),this.projectList=e.results,this.bs.idle()},error:e=>{this.gs.log("[PROJECT_LOAD_ERROR]",e,"error"),this.bs.idle()}})}hasRequiredField(e,a){return e.get(a).hasValidator(n.kI.required)}initForm(){this.fg=this.fb.group({name:[null,n.kI.compose([n.kI.required,n.kI.pattern(c.t.regexEnglishKeyboardKeys)])],description:[null,n.kI.compose([n.kI.pattern(c.t.regexEnglishKeyboardKeys)])],projectType_id:[null,n.kI.compose([n.kI.required,n.kI.pattern(c.t.regexEnglishKeyboardKeys)])],anime_id:[null,n.kI.compose([])],anime_name:[null,n.kI.compose([])],dorama_id:[null,n.kI.compose([])],dorama_name:[null,n.kI.compose([])],fansub_list:this.fb.array([this.createFansub()]),image:[null,n.kI.compose([n.kI.pattern(c.t.regexUrl)])],attachment_id:[null,n.kI.compose([n.kI.pattern(c.t.regexEnglishKeyboardKeys)])],download_url:this.fb.array([this.createDownloadLink()]),private:[!1,n.kI.compose([n.kI.required])],permanent_storage:[!1,n.kI.compose([n.kI.required])]}),this.subsAnimeDetail=this.fg.get("anime_id").valueChanges.pipe((0,v.b)(500),(0,d.x)(),(0,p.b)(()=>this.isLoading=!0),(0,k.w)(e=>this.anime.searchAnime(e).pipe((0,w.x)(()=>this.isLoading=!1))),(0,N.X)(-1)).subscribe({next:e=>{this.gs.log("[BERKAS_CREATE_SEARCH_ANIME_RESULT_SUCCESS]",e),this.filteredAnime=e.results},error:e=>{this.gs.log("[BERKAS_CREATE_SEARCH_ANIME_RESULT_ERROR]",e,"error")}}),this.subsDoramaDetail=this.fg.get("dorama_id").valueChanges.pipe((0,v.b)(500),(0,d.x)(),(0,p.b)(()=>this.isLoading=!0),(0,k.w)(e=>this.dorama.searchDorama(e).pipe((0,w.x)(()=>this.isLoading=!1))),(0,N.X)(-1)).subscribe({next:e=>{this.gs.log("[BERKAS_CREATE_SEARCH_DORAMA_RESULT_SUCCESS]",e);for(const a of e.results)a.mdl_id=a.mdl_id.split("-")[1],a.image_url=a.thumb;this.filteredDorama=e.results},error:e=>{this.gs.log("[BERKAS_CREATE_SEARCH_DORAMA_RESULT_ERROR]",e,"error")}}),this.subsProjectDetail=this.fg.get("projectType_id").valueChanges.pipe((0,v.b)(500),(0,d.x)(),(0,N.X)(-1)).subscribe({next:e=>{this.gs.log("[BERKAS_CREATE_PROJECT_CHANGED]",e);const a=this.projectList.find(o=>o.id===e);this.fg.controls.anime_id.patchValue(null),this.fg.controls.anime_name.patchValue(null),this.fg.controls.dorama_id.patchValue(null),this.fg.controls.dorama_name.patchValue(null),this.fg.controls.anime_id.setErrors(null),this.fg.controls.anime_name.setErrors(null),this.fg.controls.dorama_id.setErrors(null),this.fg.controls.dorama_name.setErrors(null),this.fg.controls.anime_id.clearValidators(),this.fg.controls.anime_name.clearValidators(),this.fg.controls.dorama_id.clearValidators(),this.fg.controls.dorama_name.clearValidators(),this.fg.controls.anime_id.markAsPristine(),this.fg.controls.anime_name.markAsPristine(),this.fg.controls.dorama_id.markAsPristine(),this.fg.controls.dorama_name.markAsPristine(),this.fg.controls.anime_id.markAsUntouched(),this.fg.controls.anime_name.markAsUntouched(),this.fg.controls.dorama_id.markAsUntouched(),this.fg.controls.dorama_name.markAsUntouched(),a.name.toLowerCase().includes("anime")?(this.berkasType=a.name,this.fg.controls.anime_id.setValidators([n.kI.required,n.kI.pattern(/^\d+$/)]),this.fg.controls.anime_name.setValidators([n.kI.required])):a.name.toLowerCase().includes("dorama")?(this.berkasType=a.name,this.fg.controls.dorama_id.setValidators([n.kI.required,n.kI.pattern(/^\d+$/)]),this.fg.controls.dorama_name.setValidators([n.kI.required])):this.berkasType="",this.fg.controls.anime_id.updateValueAndValidity(),this.fg.controls.anime_name.updateValueAndValidity(),this.fg.controls.dorama_id.updateValueAndValidity(),this.fg.controls.dorama_name.updateValueAndValidity()}})}get getDownloadUrlControl(){return this.fg.get("download_url")}createDownloadLink(){return this.fb.group({name:[null,n.kI.compose([n.kI.required,n.kI.pattern(c.t.regexEnglishKeyboardKeys)])],url:[null,n.kI.compose([n.kI.required,n.kI.pattern(c.t.regexUrl)])]})}removeDownloadLink(e){this.getDownloadUrlControl.removeAt(e)}addDownloadLink(){this.getDownloadUrlControl.push(this.createDownloadLink())}get getFansubControl(){return this.fg.get("fansub_list")}createFansub(){const e=this.fb.group({fansub_id:[null,n.kI.compose([n.kI.required,n.kI.pattern(/^\d+$/)])],fansub_name:[null,n.kI.compose([n.kI.required])]});return this.subsFansubDetail.push(e.get("fansub_id").valueChanges.pipe((0,v.b)(500),(0,d.x)(),(0,p.b)(()=>this.isLoading=!0),(0,k.w)(a=>this.fansub.searchFansub(a).pipe((0,w.x)(()=>this.isLoading=!1))),(0,N.X)(-1)).subscribe({next:a=>{this.gs.log("[BERKAS_CREATE_SEARCH_FANSUB_RESULT]",a),this.filteredFansub=a.results}})),e}removeFansub(e){var a;this.getFansubControl.removeAt(e),null===(a=this.subsFansubDetail[e])||void 0===a||a.unsubscribe(),this.subsFansubDetail.splice(e,1)}addFansub(){this.getFansubControl.push(this.createFansub())}resetSelectedAnime(){this.fg.controls.anime_name.patchValue(null)}resetSelectedDorama(){this.fg.controls.dorama_name.patchValue(null)}resetSelectedFansub(e){this.getFansubControl.controls[e].get("fansub_name").patchValue(null)}filterAnimeSelected(e){var a;this.gs.log("[ANIME_FILTER_CLICK]",e),this.submitted=!0,this.subsAnimeNew=this.anime.addNewAnime({id:e.id,name:e.title,image_url:e.image_url,type:null===(a=e.media_type)||void 0===a?void 0:a.toUpperCase()}).subscribe({next:o=>{this.gs.log("[ANIME_CHECK_ADD_SUCCESS]",o),this.animeCheckOrAddResponse=o.result,this.submitted=!1,this.fg.controls.anime_id.patchValue(o.result.id),this.fg.controls.anime_name.patchValue(o.result.name)},error:o=>{this.gs.log("[ANIME_CHECK_ADD_ERROR]",o,"error"),this.submitted=!1,this.resetSelectedAnime(),this.fg.controls.anime_id.patchValue(null),this.fg.controls.anime_name.patchValue(null)}})}filterDoramaSelected(e){this.gs.log("[DORAMA_FILTER_CLICK]",e),this.submitted=!0,this.subsDoramaNew=this.dorama.addNewDorama({id:parseInt(e.mdl_id,10),slug:e.slug,name:e.title,image_url:e.image_url,type:e.type}).subscribe({next:a=>{this.gs.log("[DORAMA_CHECK_ADD_SUCCESS]",a),this.doramaCheckOrAddResponse=a.result,this.submitted=!1,this.fg.controls.dorama_id.patchValue(a.result.id),this.fg.controls.dorama_name.patchValue(a.result.name)},error:a=>{this.gs.log("[DORAMA_CHECK_ADD_ERROR]",a,"error"),this.submitted=!1,this.resetSelectedDorama(),this.fg.controls.dorama_id.patchValue(null),this.fg.controls.dorama_name.patchValue(null)}})}filterFansubSelected(e,a){this.gs.log("[FANSUB_FILTER_CLICK]",e),this.getFansubControl.controls[a].get("fansub_id").patchValue(e.id),this.getFansubControl.controls[a].get("fansub_name").patchValue(e.name)}uploadImage(e,a){this.gambar=a,this.image=null,this.imageLimitExceeded=null,this.imageErrorText=null,this.fg.controls.image.patchValue(null);const o=e.target.files[0];try{const s=new FileReader;s.readAsDataURL(o),s.onload=u=>{if(this.gs.log("[IMAGE_SELECTED]",u),o.size<=c.t.fileSizeImageLimit){const _=this.gs.document.createElement("img");_.onload=()=>{this.image=o,this.image_url=s.result.toString()},_.src=s.result.toString()}else this.image=null,this.image_url="/assets/img/form/image-error.png",this.imageLimitExceeded=c.t.fileSizeImageLimit,this.gambar.clear(e)}}catch(s){this.image=null,this.image_url="/assets/img/form/no-image.png",this.gambar.clear(e)}}submitImage(){this.submitted=!0,this.subsImgbb=this.imgbb.uploadImage({file:this.image}).subscribe({next:e=>{this.gs.log("[IMAGE_SUCCESS]",e),this.fg.controls.image.patchValue(e.result.url),this.submitted=!1},error:e=>{var a;this.gs.log("[IMAGE_ERROR]",e,"error"),this.fg.controls.image.patchValue(null),this.submitted=!1,this.imageErrorText=(null===(a=e.result)||void 0===a?void 0:a.message)||e.info}})}onSubmit(){var e;if(this.bs.busy(),this.submitted=!0,this.fg.invalid||"uploading"===(null===(e=this.attachmentSelected)||void 0===e?void 0:e.status))return this.submitted=!1,void this.bs.idle();if(null===this.fg.value.attachment_id&&0===this.fg.value.download_url.lenth)return this.submitted=!1,this.uploadToast=this.toast.warning("Lampiran DDL / URL Eksternal!","Harap Mengisi Setidaknya Salah Satu ..."),void this.bs.idle();const a=[];for(const o of this.fg.value.fansub_list)a.push(o.fansub_id);this.subsBerkasCreate=this.berkas.createBerkas({image:this.fg.value.image,name:this.fg.value.name,description:this.fg.value.description,private:this.fg.value.private,permanent_storage:this.fg.value.permanent_storage,projectType_id:this.fg.value.projectType_id,anime_id:this.fg.value.anime_id,dorama_id:this.fg.value.dorama_id,fansub_id:a,download_url:this.fg.value.download_url,attachment_id:this.fg.value.attachment_id}).subscribe({next:o=>{this.gs.log("[BERKAS_CREATE_SUCCESS]",o),this.submitted=!1,this.bs.idle(),this.router.navigateByUrl("/berkas")},error:o=>{this.gs.log("[BERKAS_CREATE_ERROR]",o,"error"),this.submitted=!1,this.bs.idle()}})}uploadAttachment(e,a){this.ddl=a;const o=e.target.files[0];this.attachmentLimitExceeded=null,this.attachmentErrorText=null,this.gs.log("[ATTACHMENT_SELECTED]",o),this.fg.controls.attachment_id.patchValue(null),this.uploadService.disconnect();try{o.size<=c.t.fileSizeAttachmentTotalLimit?this.uploadService.handleFiles(o):(this.attachmentLimitExceeded=c.t.fileSizeAttachmentTotalLimit,this.ddl.clear(e))}catch(s){this.ddl.clear(e)}}submitAttachment(e){const a=this.uploadService.state().find(o=>o.uploadId===e.uploadId);a&&(this.attachmentSelected=a,e.status="queue")}failOrCancelUpload(e=null){var a,o;this.attachmentSelected=null,this.attachmentErrorText=(null===(a=null==e?void 0:e.result)||void 0===a?void 0:a.message)||(null==e?void 0:e.info)||(null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message)||"Terjadi Kesalahan, Harap Reload Halaman!",this.uploadService.disconnect(),this.fg.controls.attachment_id.patchValue(null),this.uploadToast&&this.toast.remove(this.uploadToast.toastId),this.ddl.clear()}verify(){this.router.navigate(["/verify"],{queryParams:{returnUrl:this.router.url.split("?")[0]}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.F0),t.Y36(n.qu),t.Y36(B.z),t.Y36(F.Z),t.Y36(it.o),t.Y36(at.X),t.Y36(ot.Y),t.Y36(V.T),t.Y36(nt.A),t.Y36(Y.X),t.Y36(P.k),t.Y36(M.U),t.Y36(G.e),t.Y36(rt.Lz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-berkas-create"]],decls:5,vars:1,consts:[[1,"container"],[1,"row","px-3"],[1,"col-12"],[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"row","mt-3","mb-3"],[1,"col-12","sticky-top","bg-bifeldy"],[1,"pt-3","border-bottom-dotted"],[1,"float-end","text-decoration-none","text-warning",2,"font-size","small","cursor","pointer",3,"click"],[1,"text-bifeldy"],[1,"row"],[1,"col-12","col-md-5","col-xl-4","p-3"],["class","col-12",4,"ngIf"],["class","col-12 mb-4",4,"ngIf"],["class","col-12 p-3",4,"ngIf"],["appearance","outline",1,"px-3","pt-3","col-12",3,"color"],["formControlName","projectType_id","placeholder","Anime / Drama","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","outline","class","p-3 w-100",3,"color",4,"ngIf"],[1,"col-12","p-3"],["formArrayName","fansub_list"],[4,"ngFor","ngForOf"],[1,"col-12","mb-4"],[1,"col"],["mat-raised-button","","color","primary","type","button",1,"w-100",3,"disabled","click"],[1,"me-1"],[1,"col-12","col-md-7","col-xl-8","pt-3"],["appearance","outline",1,"p-3","col-12",3,"color"],["matInput","","formControlName","name","placeholder","[Fansub] Judul Anime - 00 [BD 4K x265 FLAC][CRC32].mkv","required",""],["matSuffix",""],["class","p-3 w-100","formControlName","description",3,"config",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["ddlVerified",""],["ddlNotVerified",""],["formArrayName","download_url"],[1,"row","mb-4"],[1,"col-12","py-3"],[1,"row","gy-3"],[1,"col","g-0"],[1,"col-12","col-md-3"],["mat-stroked-button","","routerLink","/berkas",1,"w-100",3,"disabled"],["mat-flat-button","","color","accent","type","submit",1,"w-100",3,"disabled"],[1,"ms-1"],[1,"w-100","border",3,"src"],["appearance","outline",1,"pt-3","w-100",3,"color"],[1,"w-100",3,"disabled","accept","change"],["gambar",""],[1,"px-3","w-100"],["formControlName","private","matTooltip","Hanya diakses melalui profil dan/atau url"],["formControlName","permanent_storage","matTooltip","Berkas terjamin tidak akan hilang / expired"],[3,"value"],["appearance","outline",1,"p-3","w-100",3,"color"],["matInput","","formControlName","anime_id","placeholder","Full Metal Alchemist",3,"matAutocomplete","keyup"],["autoCompleteAnime","matAutocomplete"],["class","is-loading",4,"ngIf"],["class","text-warning",4,"ngIf"],[1,"is-loading"],["mode","indeterminate"],["class","px-1",3,"value","click",4,"ngFor","ngForOf"],[1,"px-1",3,"value","click"],[1,"me-1",2,"height","40px","width","30px","object-fit","cover",3,"src"],[1,"text-warning"],["matInput","","formControlName","dorama_id","placeholder","Flying Colors",3,"matAutocomplete","keyup"],["autoCompleteDorama","matAutocomplete"],[1,"row",3,"formGroupName"],["appearance","outline",1,"px-3","pt-3","w-100",3,"color"],["matInput","","formControlName","fansub_id","placeholder","NamaFansub","required","",3,"matAutocomplete","keyup"],["matSuffix","",4,"ngIf"],["mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["autoCompleteFansub","matAutocomplete"],["mat-button","","matSuffix","","mat-icon-button","",3,"click"],[1,"me-1",2,"height","40px","width","40px","object-fit","cover",3,"src"],["formControlName","description",1,"p-3","w-100",3,"config"],[1,"col-12","px-3"],[1,"text-success"],["appearance","outline",1,"px-3","pt-3","col",3,"color"],["uploadx","",1,"w-100",3,"disabled","accept","change"],["ddl",""],[1,"px-4","w-100"],["class","row mb-4",4,"ngFor","ngForOf"],[1,"px-3"],[3,"mode","value"],[1,"col-6","col-lg-4"],["mat-stroked-button","","color","accent",1,"w-100",3,"click"],["matTooltip","Silahkan Isi Alamat Website Kamu Jika Ingin Mendapatkan Traffic Pengunjung",1,"row",3,"formGroupName"],["class","col-12 px-3",4,"ngIf"],["appearance","outline",1,"px-3","pt-3","col-12","col-md-5",3,"color"],["matInput","","formControlName","name","placeholder","Google Drive","required",""],["appearance","outline",1,"px-3","pt-3","col-12","col-md-7",3,"color"],["matInput","","formControlName","url","placeholder","https://webshit.saya.com/01/02/halaman-post-download.html","required",""]],template:function(e,a){1&e&&(t._UZ(0,"app-notifications"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2),t.YNc(4,ne,86,25,"form",3),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",a.fg))},directives:[R.t,m.O5,n._Y,n.JL,n.sg,f.KE,f.hX,Z.Yh,Q.Hw,f.R9,f.TO,U.lW,z.Rr,n.JJ,n.u,$.gM,W.gD,n.Q7,m.sg,X.ey,O.Nt,n.Fj,tt.ZL,tt.XC,st.pW,lt.d,n.CE,n.x0,T.s6,U.zs,b.yS],pipes:[H.$,m.Ov],styles:[""]}),i})();var K=l(6856),x=l(6688);function se(i,r){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"bytes"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("Ukuran Upload Melebihi Batas ",t.lcZ(2,1,e.imageLimitExceeded)," !")}}function le(i,r){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.imageErrorText)}}function me(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",6)(1,"button",60),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).submitImage()}),t.TgZ(2,"mat-icon",57),t._uU(3,"add_photo_alternate"),t.qZA(),t._uU(4," Unggah "),t.qZA()()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("disabled",e.submitted)}}function ce(i,r){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"bytes"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("Ukuran Upload Melebihi Batas ",t.lcZ(2,1,e.coverLimitExceeded)," !")}}function ue(i,r){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Oqu(e.coverErrorText)}}function de(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",61)(1,"button",60),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).submitCover()}),t.TgZ(2,"mat-icon",57),t._uU(3,"add_photo_alternate"),t.qZA(),t._uU(4," Unggah "),t.qZA()()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("disabled",e.submitted)}}function _e(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Nama Fansub Tidak Boleh Kosong"),t.qZA())}function ge(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Nama Fansub Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function pe(i,r){if(1&i&&(t.TgZ(0,"small",62)(1,"div"),t._uU(2),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(2),t.Oqu(e.slugInfo)}}function fe(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Singkatan Tidak Boleh Kosong"),t.qZA())}function he(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Singkatan Hanya Boleh Huruf Dan \u4e00"),t.qZA())}function be(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Tanggal Harus Diisi Secara Valid"),t.qZA())}function ve(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Tanggal Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function xe(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Mohon Pilih Salah Satu"),t.qZA())}function Te(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Status Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function Ce(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",63),t.NdJ("removed",function(){const s=t.CHM(e).$implicit;return t.oxw(3).removeTag(s)}),t._uU(1),t.TgZ(2,"mat-icon",64),t._uU(3,"cancel"),t.qZA()()}if(2&i){const e=r.$implicit;t.Q6J("removable",!0),t.xp6(1),t.hij(" ",e," ")}}function Ze(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Website Tidak Boleh Kosong"),t.qZA())}function Ae(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Website Link Tidak Valid"),t.qZA())}function ke(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Facebook Link Tidak Valid"),t.qZA())}function Ue(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Discord Link Tidak Valid"),t.qZA())}function Ie(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Twitter Link Tidak Valid"),t.qZA())}function Ee(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"RSS Link Tidak Valid"),t.qZA())}function Se(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"form",8),t.NdJ("submit",function(){return t.CHM(e),t.oxw(2).onSubmit()}),t.TgZ(1,"div",9)(2,"div",10)(3,"h2",11)(4,"b",12),t._uU(5,"Tambah Data Fansub Baru"),t.qZA()()(),t.TgZ(6,"div",6)(7,"div",13)(8,"div",14)(9,"div",13)(10,"div",6),t._UZ(11,"img",15),t.TgZ(12,"mat-form-field",16)(13,"mat-label"),t._uU(14,"Foto"),t.qZA(),t.TgZ(15,"ngx-mat-file-input",17,18),t.NdJ("change",function(o){t.CHM(e);const s=t.MAs(16);return t.oxw(2).uploadImage(o,s)}),t.qZA(),t.TgZ(17,"mat-icon",19),t._uU(18,"image"),t.qZA()(),t.TgZ(19,"mat-error",20)(20,"small"),t.YNc(21,se,3,3,"div",21),t.YNc(22,le,2,1,"div",21),t.qZA()()(),t.YNc(23,me,5,1,"div",22),t.qZA()(),t.TgZ(24,"div",23)(25,"div",13)(26,"mat-form-field",24)(27,"mat-label"),t._uU(28,"Cover"),t.qZA(),t.TgZ(29,"ngx-mat-file-input",17,25),t.NdJ("change",function(o){t.CHM(e);const s=t.MAs(30);return t.oxw(2).uploadCover(o,s)}),t.qZA(),t.TgZ(31,"mat-icon",19),t._uU(32,"image"),t.qZA()(),t.TgZ(33,"mat-error",20)(34,"small"),t.YNc(35,ce,3,3,"div",21),t.YNc(36,ue,2,1,"div",21),t.qZA()(),t.YNc(37,de,5,1,"div",26),t.TgZ(38,"mat-form-field",27)(39,"mat-label"),t._uU(40,"Nama Fansub"),t.qZA(),t._UZ(41,"input",28),t.TgZ(42,"mat-icon",19),t._uU(43,"wysiwyg"),t.qZA(),t.TgZ(44,"mat-error"),t.YNc(45,_e,2,0,"div",21),t.YNc(46,ge,2,0,"div",21),t.qZA()(),t.TgZ(47,"mat-form-field",29)(48,"mat-label"),t._uU(49,"Singkatan"),t.qZA(),t._UZ(50,"input",30),t.TgZ(51,"mat-icon",19),t._uU(52,"short_text"),t.qZA(),t.YNc(53,pe,3,1,"small",31),t.TgZ(54,"mat-error"),t.YNc(55,fe,2,0,"div",21),t.YNc(56,he,2,0,"div",21),t.qZA()(),t._UZ(57,"angular-editor",32),t.TgZ(58,"mat-form-field",33)(59,"mat-label"),t._uU(60,"Mulai Ada Sejak"),t.qZA(),t.TgZ(61,"input",34),t.NdJ("focus",function(){return t.CHM(e),t.MAs(65).open()}),t.ALo(62,"date"),t.qZA(),t._UZ(63,"mat-datepicker-toggle",35)(64,"mat-datepicker",36,37),t.TgZ(66,"mat-error"),t.YNc(67,be,2,0,"div",21),t.YNc(68,ve,2,0,"div",21),t.qZA()(),t.TgZ(69,"mat-form-field",33)(70,"mat-label"),t._uU(71,"Status"),t.qZA(),t.TgZ(72,"mat-select",38)(73,"mat-option",39),t._uU(74,"Tidak Aktif"),t.qZA(),t.TgZ(75,"mat-option",40),t._uU(76,"Aktif"),t.qZA()(),t.TgZ(77,"mat-hint",41),t._uU(78,"Status Kehidupan Fansub Saat Ini"),t.qZA(),t.TgZ(79,"mat-error"),t.YNc(80,xe,2,0,"div",21),t.YNc(81,Te,2,0,"div",21),t.qZA()()()()(),t.TgZ(82,"div",13)(83,"div",6)(84,"div",13)(85,"mat-form-field",42)(86,"mat-label"),t._uU(87,"Tags & Kategori"),t.qZA(),t.TgZ(88,"mat-chip-list",null,43),t.YNc(90,Ce,4,2,"mat-chip",44),t.TgZ(91,"input",45),t.NdJ("matChipInputTokenEnd",function(o){return t.CHM(e),t.oxw(2).addTag(o)}),t.qZA(),t.TgZ(92,"mat-icon",19),t._uU(93,"loyalty"),t.qZA()(),t.TgZ(94,"mat-hint",41),t._uU(95,"Isi Dengan Bebas, Pisahkan Dengan Koma"),t.qZA()()()()(),t.TgZ(96,"div",13)(97,"div",6)(98,"div",13)(99,"mat-form-field",46)(100,"mat-label"),t._uU(101,"Tautan Website"),t.qZA(),t._UZ(102,"input",47),t.TgZ(103,"mat-icon",19),t._uU(104,"web"),t.qZA(),t.TgZ(105,"mat-error"),t.YNc(106,Ze,2,0,"div",21),t.YNc(107,Ae,2,0,"div",21),t.qZA()(),t.TgZ(108,"mat-form-field",46)(109,"mat-label"),t._uU(110,"Facebook Fanpage"),t.qZA(),t._UZ(111,"input",48),t.TgZ(112,"mat-icon",19),t._uU(113,"facebook"),t.qZA(),t.TgZ(114,"mat-error"),t.YNc(115,ke,2,0,"div",21),t.qZA()(),t.TgZ(116,"mat-form-field",46)(117,"mat-label"),t._uU(118,"Tautan Discord"),t.qZA(),t._UZ(119,"input",49),t.TgZ(120,"mat-icon",19),t._UZ(121,"img",50),t.qZA(),t.TgZ(122,"mat-error"),t.YNc(123,Ue,2,0,"div",21),t.qZA()(),t.TgZ(124,"mat-form-field",46)(125,"mat-label"),t._uU(126,"Cuitan Twitter"),t.qZA(),t._UZ(127,"input",51),t.TgZ(128,"mat-icon",19),t._UZ(129,"img",50),t.qZA(),t.TgZ(130,"mat-error"),t.YNc(131,Ie,2,0,"div",21),t.qZA()()()()(),t.TgZ(132,"div",13)(133,"mat-form-field",42)(134,"mat-label"),t._uU(135,"URI / URL RSS v2.0 Feed"),t.qZA(),t._UZ(136,"input",52),t.TgZ(137,"mat-icon",19),t._uU(138,"rss_feed"),t.qZA(),t.TgZ(139,"mat-error"),t.YNc(140,Ee,2,0,"div",21),t.qZA()()(),t.TgZ(141,"div",13)(142,"div",6)(143,"div",53),t._UZ(144,"div",54),t.TgZ(145,"div",55)(146,"a",56)(147,"mat-icon",57),t._uU(148,"undo"),t.qZA(),t._uU(149," Batal "),t.qZA()(),t.TgZ(150,"div",55)(151,"button",58),t._uU(152," Simpan "),t.TgZ(153,"mat-icon",59),t._uU(154,"save"),t.qZA()()()()()()()()()}if(2&i){const e=t.MAs(65),a=t.MAs(89),o=t.oxw(2);t.Q6J("formGroup",o.fg),t.xp6(11),t.Q6J("src",o.image_url,t.LSH),t.xp6(1),t.Q6J("color","accent"),t.xp6(3),t.Q6J("disabled",o.fg.value.image)("accept","image/gif, image/jpeg, image/jpg, image/png"),t.xp6(6),t.Q6J("ngIf",o.imageLimitExceeded),t.xp6(1),t.Q6J("ngIf",o.imageErrorText),t.xp6(1),t.Q6J("ngIf",o.image&&!o.fg.value.image),t.xp6(3),t.Q6J("color","accent"),t.xp6(3),t.Q6J("disabled",o.fg.value.cover)("accept","image/gif, image/jpeg, image/jpg, image/png"),t.xp6(6),t.Q6J("ngIf",o.coverLimitExceeded),t.xp6(1),t.Q6J("ngIf",o.coverErrorText),t.xp6(1),t.Q6J("ngIf",o.cover&&!o.fg.value.cover),t.xp6(1),t.Q6J("color","accent"),t.xp6(7),t.Q6J("ngIf",o.fg.get("name").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.fg.get("name").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(6),t.Q6J("ngIf",o.slugInfo),t.xp6(2),t.Q6J("ngIf",o.fg.get("slug").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.fg.get("slug").hasError("pattern")),t.xp6(1),t.Q6J("config",o.GS.angularEditorConfig),t.xp6(1),t.Q6J("color","accent"),t.xp6(3),t.s9C("placeholder",t.xi3(62,51,o.currentDate,"d MMMM y")),t.Q6J("matDatepicker",e),t.xp6(2),t.Q6J("for",e),t.xp6(4),t.Q6J("ngIf",o.fg.get("born").hasError("required")||o.fg.get("born").hasError("matDatepickerParse")),t.xp6(1),t.Q6J("ngIf",o.fg.get("born").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(11),t.Q6J("ngIf",o.fg.get("active").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.fg.get("active").hasError("pattern")),t.xp6(4),t.Q6J("color","accent"),t.xp6(5),t.Q6J("ngForOf",o.fg.value.tags),t.xp6(1),t.Q6J("matChipInputSeparatorKeyCodes",o.GS.separatorKeysCodes)("matChipInputFor",a)("matChipInputAddOnBlur",!0),t.xp6(8),t.Q6J("color","accent"),t.xp6(7),t.Q6J("ngIf",o.fg.get("web").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.fg.get("web").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(7),t.Q6J("ngIf",o.fg.get("facebook").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(5),t.MGl("src","/assets/img/discord/",o.GS.isDarkMode?"white":"black",".png",t.LSH),t.xp6(2),t.Q6J("ngIf",o.fg.get("discord").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(5),t.MGl("src","/assets/img/twitter/",o.GS.isDarkMode?"white":"black",".png",t.LSH),t.xp6(2),t.Q6J("ngIf",o.fg.get("twitter").hasError("pattern")),t.xp6(2),t.Q6J("color","accent"),t.xp6(7),t.Q6J("ngIf",o.fg.get("rss_feed").hasError("pattern")),t.xp6(6),t.Q6J("disabled",o.submitted),t.xp6(5),t.Q6J("disabled",o.submitted||o.fg.invalid)}}function Ne(i,r){if(1&i&&(t.TgZ(0,"div",1),t._UZ(1,"div",2)(2,"div",3)(3,"div",4)(4,"app-notifications"),t.TgZ(5,"div",5)(6,"div",6),t.YNc(7,Se,155,54,"form",7),t.qZA()()()),2&i){const e=t.oxw();t.xp6(1),t.Udp("background-image","url("+e.cover_url+")"),t.xp6(6),t.Q6J("ngIf",e.fg)}}let qe=(()=>{class i{constructor(e,a,o,s,u,_,g,A){this.fb=e,this.router=a,this.bs=o,this.pi=s,this.imgbb=u,this.fansub=_,this.toast=g,this.gs=A,this.submitted=!1,this.image=null,this.imageLimitExceeded=null,this.imageErrorText=null,this.image_url="/assets/img/form/no-image.png",this.cover=null,this.coverLimitExceeded=null,this.coverErrorText=null,this.cover_url="/assets/img/form/no-image.png",this.urls=[],this.currentDate=new Date,this.gambar=null,this.gambar_=null,this.subsImgbb=null,this.subsFansub=null,this.subsCekFansubSlug=null,this.slugInfo="",this.gs.bannerImg=null,this.gs.sizeContain=!1,this.gs.bgRepeat=!1}get GS(){return this.gs}ngOnDestroy(){var e,a;null===(e=this.subsImgbb)||void 0===e||e.unsubscribe(),null===(a=this.subsFansub)||void 0===a||a.unsubscribe()}ngOnInit(){this.pi.updatePageMetaData("Fansub - Buat Baru","Halaman Menambahkan Fansub Baru","Create Fansub"),this.gs.isBrowser&&this.initForm()}initForm(){this.fg=this.fb.group({name:[null,n.kI.compose([n.kI.required,n.kI.pattern(c.t.regexEnglishKeyboardKeys)])],description:[null,n.kI.compose([n.kI.required,n.kI.pattern(c.t.regexEnglishKeyboardKeys)])],born:[null,n.kI.compose([n.kI.required,n.kI.pattern(c.t.regexEnglishKeyboardKeys)])],active:[null,n.kI.compose([n.kI.required,n.kI.pattern(c.t.regexEnglishKeyboardKeys)])],slug:[null,n.kI.compose([n.kI.required,n.kI.pattern(/^[0-9a-zA-Z-]*$/)])],tags:[[],n.kI.compose([])],image:[null,n.kI.compose([n.kI.pattern(c.t.regexUrl)])],cover:[null,n.kI.compose([n.kI.pattern(c.t.regexUrl)])],web:[null,n.kI.compose([n.kI.pattern(c.t.regexUrl)])],facebook:[null,n.kI.compose([n.kI.pattern(c.t.regexUrl)])],discord:[null,n.kI.compose([n.kI.pattern(c.t.regexUrl)])],twitter:[null,n.kI.compose([n.kI.pattern(c.t.regexUrl)])],rss_feed:[null,n.kI.compose([n.kI.pattern(c.t.regexUrl)])]}),this.subsCekFansubSlug=this.fg.get("slug").valueChanges.pipe((0,v.b)(500),(0,d.x)(),(0,p.b)(()=>this.slugInfo="Mengecek ..."),(0,k.w)(e=>this.fansub.cekSlug({slug:e})),(0,N.X)(-1)).subscribe({next:e=>{this.gs.log("[FANSUB_CEK_SLUG_RESULT]",e),this.slugInfo=e.result.message}})}addTag(e){const a=e.input,o=e.value;(o||"").trim()&&this.fg.value.tags.push(o.trim()),a&&(a.value=""),this.fg.controls.tags.patchValue(this.fg.value.tags.filter((s,u,_)=>_.findIndex(g=>g===s)===u))}removeTag(e){const a=this.fg.value.tags.indexOf(e);a>=0&&this.fg.value.tags.splice(a,1)}uploadImage(e,a){this.gambar=a,this.image=null,this.imageLimitExceeded=null,this.imageErrorText=null,this.fg.controls.image.patchValue(null);const o=e.target.files[0];try{const s=new FileReader;s.readAsDataURL(o),s.onload=u=>{if(this.gs.log("[IMAGE_SELECTED]",u),o.size<=c.t.fileSizeImageLimit){const _=this.gs.document.createElement("img");_.onload=()=>{this.image=o,this.image_url=s.result.toString()},_.src=s.result.toString()}else this.image=null,this.image_url="/assets/img/form/image-error.png",this.imageLimitExceeded=c.t.fileSizeImageLimit,this.gambar.clear(e)}}catch(s){this.image=null,this.image_url="/assets/img/form/no-image.png",this.gambar.clear(e)}}submitImage(){this.submitted=!0,this.subsImgbb=this.imgbb.uploadImage({file:this.image}).subscribe({next:e=>{this.gs.log("[IMAGE_SUCCESS]",e),this.fg.controls.image.patchValue(e.result.url),this.submitted=!1},error:e=>{var a;this.gs.log("[IMAGE_ERROR]",e,"error"),this.fg.controls.image.patchValue(null),this.submitted=!1,this.imageErrorText=(null===(a=e.result)||void 0===a?void 0:a.message)||e.info}})}uploadCover(e,a){this.gambar_=a,this.cover=null,this.coverLimitExceeded=null,this.coverErrorText=null,this.fg.controls.cover.patchValue(null);const o=e.target.files[0];try{const s=new FileReader;s.readAsDataURL(o),s.onload=u=>{if(this.gs.log("[COVER_SELECTED]",u),o.size<=c.t.fileSizeImageLimit){const _=this.gs.document.createElement("img");_.onload=()=>{this.cover=o,this.cover_url=s.result.toString()},_.src=s.result.toString()}else this.cover=null,this.cover_url="/assets/img/form/image-error.png",this.coverLimitExceeded=c.t.fileSizeImageLimit,this.gambar_.clear(e)}}catch(s){this.cover=null,this.cover_url="/assets/img/form/no-image.png",this.gambar_.clear(e)}}submitCover(){this.submitted=!0,this.subsImgbb=this.imgbb.uploadImage({file:this.cover}).subscribe({next:e=>{this.gs.log("[COVER_SUCCESS]",e),this.fg.controls.cover.patchValue(e.result.url),this.submitted=!1},error:e=>{var a;this.gs.log("[COVER_ERROR]",e,"error"),this.fg.controls.cover.patchValue(null),this.submitted=!1,this.coverErrorText=(null===(a=e.result)||void 0===a?void 0:a.message)||e.info}})}onSubmit(){this.bs.busy();const e=[];if(this.fg.value.web&&e.push({name:"web",url:this.fg.value.web}),this.fg.value.facebook&&e.push({name:"facebook",url:this.fg.value.facebook}),this.fg.value.discord&&e.push({name:"discord",url:this.fg.value.discord}),this.fg.value.twitter&&e.push({name:"twitter",url:this.fg.value.twitter}),this.submitted=!0,this.fg.invalid||0===e.length)return 0===e.length&&this.toast.warning("Harap Isi Salah Satu URL","Form Tidak lengkap (Web/FB/DC)",null,!0),this.submitted=!1,void this.bs.idle();this.subsFansub=this.fansub.createFansub({image:this.fg.value.image,cover:this.fg.value.cover,name:this.fg.value.name,description:this.fg.value.description,born:this.fg.value.born.getTime(),active:this.fg.value.active,tags:this.fg.value.tags,slug:this.fg.value.slug,urls:e,rss_feed:this.fg.value.rss_feed}).subscribe({next:a=>{this.gs.log("[FANSUB_CREATE_SUCCESS]",a),this.submitted=!1,this.bs.idle(),this.router.navigateByUrl("/fansub")},error:a=>{this.gs.log("[FANSUB_CREATE_ERROR]",a,"error"),this.submitted=!1,this.bs.idle()}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(n.qu),t.Y36(b.F0),t.Y36(B.z),t.Y36(F.Z),t.Y36(Y.X),t.Y36(V.T),t.Y36(P.k),t.Y36(M.U))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-fansub-create"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"fansub-banner","fansub-banner-1","align-items-center"],[1,"fansub-banner","fansub-banner-2","align-items-center"],[2,"padding-top","160px"],[1,"row","px-3"],[1,"col-12"],[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"row","mt-3","mb-3"],[1,"col-12","sticky-top","bg-bifeldy"],[1,"pt-3","border-bottom-dotted"],[1,"text-bifeldy"],[1,"row"],[1,"col-12","col-md-5","col-xl-4","p-3"],[1,"w-100","border",3,"src"],["appearance","outline",1,"pt-3","w-100",3,"color"],[1,"w-100",3,"disabled","accept","change"],["gambar",""],["matSuffix",""],[1,"px-3","w-100"],[4,"ngIf"],["class","col-12",4,"ngIf"],[1,"col-12","col-md-7","col-xl-8","pt-3"],["appearance","outline",1,"px-3","pt-3","w-100",3,"color"],["gambar_",""],["class","col-12 p-3",4,"ngIf"],["appearance","outline",1,"p-3","col-12","col-md-7",3,"color"],["matInput","","formControlName","name","placeholder","Fansub Jalanan","required",""],["appearance","outline",1,"p-3","col-12","col-md-5",3,"color"],["matInput","","formControlName","slug","placeholder","Jalsub","required",""],["class","text-info",4,"ngIf"],["formControlName","description","required","",1,"p-3","w-100",3,"config"],["appearance","outline",1,"p-3","col-12","col-md-6",3,"color"],["matInput","","formControlName","born","required","",3,"matDatepicker","placeholder","focus"],["matSuffix","",3,"for"],["disabled","false"],["kalender",""],["formControlName","active","placeholder","Aktif / Non-Aktif","required",""],["value","0"],["value","1"],["align","end"],["appearance","outline",1,"p-3","col-12",3,"color"],["tag",""],["color","accent","selected","",3,"removable","removed",4,"ngFor","ngForOf"],["placeholder","Label Tag / Kategori",3,"matChipInputSeparatorKeyCodes","matChipInputFor","matChipInputAddOnBlur","matChipInputTokenEnd"],["appearance","outline",1,"p-3","col-12","col-md-3",3,"color"],["matInput","","formControlName","web","placeholder","http://www.domain.id"],["matInput","","formControlName","facebook","placeholder","http://www.facebook.com"],["matInput","","formControlName","discord","placeholder","http://www.discord.gg"],["width","24px",2,"vertical-align","baseline",3,"src"],["matInput","","formControlName","twitter","placeholder","http://www.twitter.com"],["matInput","","formControlName","rss_feed","placeholder","http://my-site.blogspot.com/feeds/posts/default?alt=rss"],[1,"row","gy-3"],[1,"col","g-0"],[1,"col-12","col-md-3"],["mat-stroked-button","","routerLink","/fansub",1,"w-100",3,"disabled"],[1,"me-1"],["mat-flat-button","","color","accent","type","submit",1,"w-100",3,"disabled"],[1,"ms-1"],["mat-raised-button","","color","primary","type","button",1,"w-100",3,"disabled","click"],[1,"col-12","p-3"],[1,"text-info"],["color","accent","selected","",3,"removable","removed"],["matChipRemove",""]],template:function(e,a){1&e&&t.YNc(0,Ne,8,3,"div",0),2&e&&t.Q6J("ngIf",a.fg)},directives:[m.O5,R.t,n._Y,n.JL,n.sg,f.KE,f.hX,Z.Yh,Q.Hw,f.R9,f.TO,U.lW,O.Nt,n.Fj,n.JJ,n.u,n.Q7,T.s6,K.hl,K.nW,K.Mq,W.gD,X.ey,f.bx,x.qn,m.sg,x.HS,x.qH,x.oH,U.zs,b.yS],pipes:[H.$,m.uU],styles:[".fansub-banner[_ngcontent-%COMP%]{height:128px;width:100%;background-size:cover;background-position:center;background-repeat:no-repeat;filter:blur(5px) brightness(100%);opacity:.5}.fansub-banner-1[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.fansub-banner-2[_ngcontent-%COMP%]{position:absolute;top:128px;left:0}.fansub-info[_ngcontent-%COMP%]{position:relative;height:256px;z-index:1}"]}),i})();var et=l(5934),Je=l(7358);function ye(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",33),t.NdJ("removed",function(){const s=t.CHM(e).$implicit;return t.oxw(2).removeTo(s)}),t._uU(1),t.TgZ(2,"mat-icon",34),t._uU(3,"cancel"),t.qZA()()}if(2&i){const e=r.$implicit;t.Q6J("removable",!0),t.xp6(1),t.hij(" ",e," ")}}function we(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Alamat Surel Tidak Boleh Kosong"),t.qZA())}function Be(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Alamat Surel Tidak Valid"),t.qZA())}function Fe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",33),t.NdJ("removed",function(){const s=t.CHM(e).$implicit;return t.oxw(2).removeCc(s)}),t._uU(1),t.TgZ(2,"mat-icon",34),t._uU(3,"cancel"),t.qZA()()}if(2&i){const e=r.$implicit;t.Q6J("removable",!0),t.xp6(1),t.hij(" ",e," ")}}function Me(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Alamat Surel Tidak Valid"),t.qZA())}function Re(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",33),t.NdJ("removed",function(){const s=t.CHM(e).$implicit;return t.oxw(2).removeBcc(s)}),t._uU(1),t.TgZ(2,"mat-icon",34),t._uU(3,"cancel"),t.qZA()()}if(2&i){const e=r.$implicit;t.Q6J("removable",!0),t.xp6(1),t.hij(" ",e," ")}}function Qe(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Alamat Surel Tidak Valid"),t.qZA())}function Oe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",35)(1,"mat-slide-toggle",36),t.NdJ("change",function(o){return t.CHM(e),t.oxw(2).noReplyMode(o)}),t._uU(2),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.MGl("matTooltip","Kirim sebagai noreply@",e.ENV.domain,""),t.xp6(1),t.hij(" Kirim sebagai noreply@",e.ENV.domain," ")}}function De(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Judul Pesan Tidak Boleh Kosong"),t.qZA())}function Le(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Judul Pesan Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function Ye(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"form",4),t.NdJ("submit",function(){return t.CHM(e),t.oxw().onSubmit()}),t.TgZ(1,"div",5)(2,"div",6)(3,"h2",7)(4,"b",8),t._uU(5,"Buat Email Baru & Kirim"),t.qZA()()(),t.TgZ(6,"div",2)(7,"div",9)(8,"div",10)(9,"div",9)(10,"mat-form-field",11)(11,"mat-label"),t._uU(12,"Penerima"),t.qZA(),t.TgZ(13,"mat-chip-list",null,12),t.YNc(15,ye,4,2,"mat-chip",13),t.qZA(),t.TgZ(16,"input",14),t.NdJ("matChipInputTokenEnd",function(o){return t.CHM(e),t.oxw().addTo(o)}),t.qZA(),t.TgZ(17,"mat-icon",15),t._uU(18,"short_text"),t.qZA(),t.TgZ(19,"mat-hint",16)(20,"mat-error"),t.YNc(21,we,2,0,"div",17),t.YNc(22,Be,2,0,"div",17),t.qZA()()(),t.TgZ(23,"mat-form-field",11)(24,"mat-label"),t._uU(25,"Carbon Copy"),t.qZA(),t.TgZ(26,"mat-chip-list",null,18),t.YNc(28,Fe,4,2,"mat-chip",13),t.qZA(),t.TgZ(29,"input",19),t.NdJ("matChipInputTokenEnd",function(o){return t.CHM(e),t.oxw().addCc(o)}),t.qZA(),t.TgZ(30,"mat-icon",15),t._uU(31,"short_text"),t.qZA(),t.TgZ(32,"mat-hint",16)(33,"mat-error"),t.YNc(34,Me,2,0,"div",17),t.qZA()()(),t.TgZ(35,"mat-form-field",11)(36,"mat-label"),t._uU(37,"Blind Carbon Copy"),t.qZA(),t.TgZ(38,"mat-chip-list",null,20),t.YNc(40,Re,4,2,"mat-chip",13),t.qZA(),t.TgZ(41,"input",19),t.NdJ("matChipInputTokenEnd",function(o){return t.CHM(e),t.oxw().addBcc(o)}),t.qZA(),t.TgZ(42,"mat-icon",15),t._uU(43,"short_text"),t.qZA(),t.TgZ(44,"mat-hint",16)(45,"mat-error"),t.YNc(46,Qe,2,0,"div",17),t.qZA()()(),t.YNc(47,Oe,3,2,"div",21),t.qZA()(),t.TgZ(48,"div",22)(49,"div",9)(50,"mat-form-field",23)(51,"mat-label"),t._uU(52,"Judul"),t.qZA(),t._UZ(53,"input",24),t.TgZ(54,"mat-icon",15),t._uU(55,"wysiwyg"),t.qZA(),t.TgZ(56,"mat-error"),t.YNc(57,De,2,0,"div",17),t.YNc(58,Le,2,0,"div",17),t.qZA()(),t._UZ(59,"angular-editor",25),t.qZA()()(),t.TgZ(60,"div",9)(61,"div",2)(62,"div",26),t._UZ(63,"div",27),t.TgZ(64,"div",28)(65,"a",29)(66,"mat-icon",30),t._uU(67,"undo"),t.qZA(),t._uU(68," Batal "),t.qZA()(),t.TgZ(69,"div",28)(70,"button",31),t._uU(71," Simpan "),t.TgZ(72,"mat-icon",32),t._uU(73,"save"),t.qZA()()()()()()()()()}if(2&i){const e=t.MAs(14),a=t.MAs(27),o=t.MAs(39),s=t.oxw();t.Q6J("formGroup",s.fg),t.xp6(10),t.Q6J("color","accent"),t.xp6(5),t.Q6J("ngForOf",s.fg.value.to),t.xp6(1),t.Q6J("matChipInputSeparatorKeyCodes",s.GS.separatorKeysCodes)("matChipInputFor",e)("matChipInputAddOnBlur",!0),t.xp6(5),t.Q6J("ngIf",s.fg.get("to").hasError("required")),t.xp6(1),t.Q6J("ngIf",s.fg.get("to").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(5),t.Q6J("ngForOf",s.fg.value.cc),t.xp6(1),t.Q6J("matChipInputSeparatorKeyCodes",s.GS.separatorKeysCodes)("matChipInputFor",a)("matChipInputAddOnBlur",!0),t.xp6(5),t.Q6J("ngIf",s.fg.get("cc").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(5),t.Q6J("ngForOf",s.fg.value.bcc),t.xp6(1),t.Q6J("matChipInputSeparatorKeyCodes",s.GS.separatorKeysCodes)("matChipInputFor",o)("matChipInputAddOnBlur",!0),t.xp6(5),t.Q6J("ngIf",s.fg.get("bcc").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",s.canSendAsNoReply),t.xp6(3),t.Q6J("color","accent"),t.xp6(7),t.Q6J("ngIf",s.fg.get("subject").hasError("required")),t.xp6(1),t.Q6J("ngIf",s.fg.get("subject").hasError("pattern")),t.xp6(1),t.Q6J("config",s.GS.angularEditorConfig),t.xp6(6),t.Q6J("disabled",s.submitted),t.xp6(5),t.Q6J("disabled",s.submitted||s.fg.invalid)}}let He=(()=>{class i{constructor(e,a,o,s,u,_,g,A){this.activatedRoute=e,this.fb=a,this.router=o,this.bs=s,this.pi=u,this.gs=_,this.as=g,this.ms=A,this.submitted=!1,this.subsMail=null,this.gs.bannerImg=null,this.gs.sizeContain=!1,this.gs.bgRepeat=!1}get ENV(){return et.N}get GS(){return this.gs}get canSendAsNoReply(){var e,a;const o=null===(a=null===(e=this.as.currentUserSubject)||void 0===e?void 0:e.value)||void 0===a?void 0:a.role;return o===C.yS.ADMIN||o===C.yS.MODERATOR}ngOnInit(){this.pi.updatePageMetaData("Mailbox - Buat Baru","Halaman Membuat Surel Baru","Create Email"),this.gs.isBrowser&&this.initForm()}ngOnDestroy(){var e;null===(e=this.subsMail)||void 0===e||e.unsubscribe()}initForm(){var e,a,o;const s=(null===(e=this.activatedRoute.snapshot.queryParamMap.get("to"))||void 0===e?void 0:e.split(",").map(g=>g.trim()))||[],u=(null===(a=this.activatedRoute.snapshot.queryParamMap.get("cc"))||void 0===a?void 0:a.split(",").map(g=>g.trim()))||[],_=(null===(o=this.activatedRoute.snapshot.queryParamMap.get("bcc"))||void 0===o?void 0:o.split(",").map(g=>g.trim()))||[];this.fg=this.fb.group({to:[s,n.kI.compose([n.kI.required,n.kI.pattern(c.t.regexEmailMulti)])],cc:[u,n.kI.compose([n.kI.pattern(c.t.regexEmailMulti)])],bcc:[_,n.kI.compose([n.kI.pattern(c.t.regexEmailMulti)])],subject:[null,n.kI.compose([n.kI.required,n.kI.pattern(c.t.regexEnglishKeyboardKeys)])],message:[null,n.kI.compose([n.kI.required,n.kI.pattern(c.t.regexEnglishKeyboardKeys)])],no_reply:[!1,n.kI.compose([n.kI.required])]})}onSubmit(){if(this.bs.busy(),this.submitted=!0,this.fg.invalid)return this.submitted=!1,void this.bs.idle();this.subsMail=this.ms.sendMail(this.fg.value).subscribe({next:e=>{this.gs.log("[MAIL_SEND_SUCCESS]",e),this.submitted=!1,this.bs.idle(),this.router.navigateByUrl("/mailbox")},error:e=>{this.gs.log("[MAIL_SEND_ERROR]",e,"error"),this.submitted=!1,this.bs.idle()}})}addTo(e){const a=e.chipInput.inputElement,o=e.value;(o||"").trim()&&this.fg.value.to.push(o.trim()),a&&(a.value=""),this.fg.controls.to.patchValue(this.fg.value.to.filter((s,u,_)=>_.findIndex(g=>g===s)===u))}removeTo(e){const a=this.fg.value.to.indexOf(e);a>=0&&this.fg.value.to.splice(a,1)}addCc(e){const a=e.chipInput.inputElement,o=e.value;(o||"").trim()&&this.fg.value.cc.push(o.trim()),a&&(a.value=""),this.fg.controls.cc.patchValue(this.fg.value.cc.filter((s,u,_)=>_.findIndex(g=>g===s)===u))}removeCc(e){const a=this.fg.value.cc.indexOf(e);a>=0&&this.fg.value.cc.splice(a,1)}addBcc(e){const a=e.chipInput.inputElement,o=e.value;(o||"").trim()&&this.fg.value.bcc.push(o.trim()),a&&(a.value=""),this.fg.controls.bcc.patchValue(this.fg.value.bcc.filter((s,u,_)=>_.findIndex(g=>g===s)===u))}removeBcc(e){const a=this.fg.value.bcc.indexOf(e);a>=0&&this.fg.value.bcc.splice(a,1)}noReplyMode(e){e.checked?(this.fg.controls.subject.patchValue(`${et.N.siteName} | Informasi`),this.fg.controls.subject.disable()):this.fg.controls.subject.enable()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.gz),t.Y36(n.qu),t.Y36(b.F0),t.Y36(B.z),t.Y36(F.Z),t.Y36(M.U),t.Y36(G.e),t.Y36(Je.Y))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-mailbox-create"]],decls:5,vars:1,consts:[[1,"container"],[1,"row","px-3"],[1,"col-12"],[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"row","mt-3","mb-3"],[1,"col-12","sticky-top","bg-bifeldy"],[1,"pt-3","border-bottom-dotted"],[1,"text-bifeldy"],[1,"row"],[1,"col-12","col-md-5","col-xl-4","p-3"],["hintLabel","Gunakan , Jika Lebih Dari 1","appearance","outline",1,"p-3","col-12",3,"color"],["to",""],["color","accent","selected","",3,"removable","removed",4,"ngFor","ngForOf"],["placeholder","user@domain.tld","required","",3,"matChipInputSeparatorKeyCodes","matChipInputFor","matChipInputAddOnBlur","matChipInputTokenEnd"],["matSuffix",""],["align","end"],[4,"ngIf"],["cc",""],["placeholder","user@domain.tld",3,"matChipInputSeparatorKeyCodes","matChipInputFor","matChipInputAddOnBlur","matChipInputTokenEnd"],["bcc",""],["class","col-12 p-3",4,"ngIf"],[1,"col-12","col-md-7","col-xl-8","pt-3"],["appearance","outline",1,"p-3","col-12",3,"color"],["matInput","","formControlName","subject","placeholder","Judul Pesan Blablabla ...","required",""],["formControlName","message","required","",1,"p-3","w-100",3,"config"],[1,"row","gy-3"],[1,"col","g-0"],[1,"col-12","col-md-3"],["mat-stroked-button","","routerLink","/mailbox",1,"w-100",3,"disabled"],[1,"me-1"],["mat-flat-button","","color","accent","type","submit",1,"w-100",3,"disabled"],[1,"ms-1"],["color","accent","selected","",3,"removable","removed"],["matChipRemove",""],[1,"col-12","p-3"],["formControlName","no_reply",3,"matTooltip","change"]],template:function(e,a){1&e&&(t._UZ(0,"app-notifications"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2),t.YNc(4,Ye,74,27,"form",3),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",a.fg))},directives:[R.t,m.O5,n._Y,n.JL,n.sg,f.KE,f.hX,x.qn,m.sg,x.HS,Q.Hw,x.qH,x.oH,f.R9,f.bx,f.TO,z.Rr,n.JJ,n.u,$.gM,O.Nt,n.Fj,n.Q7,T.s6,U.zs,b.yS,U.lW],styles:[""]}),i})();var Ke=l(9618);function je(i,r){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"bytes"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("Ukuran Upload Melebihi Batas ",t.lcZ(2,1,e.imageLimitExceeded)," !")}}function Ve(i,r){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.imageErrorText)}}function Pe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",2)(1,"button",34),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).submitImage()}),t.TgZ(2,"mat-icon",31),t._uU(3,"add_photo_alternate"),t.qZA(),t._uU(4," Unggah "),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.submitted)}}function Ge(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Judul Berita Tidak Boleh Kosong"),t.qZA())}function ze(i,r){1&i&&(t.TgZ(0,"div"),t._uU(1,"Judul Berita Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function $e(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"mat-chip",35),t.NdJ("removed",function(){const s=t.CHM(e).$implicit;return t.oxw(2).removeTag(s)}),t._uU(1),t.TgZ(2,"mat-icon",36),t._uU(3,"cancel"),t.qZA()()}if(2&i){const e=r.$implicit;t.Q6J("removable",!0),t.xp6(1),t.hij(" ",e," ")}}function We(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"form",4),t.NdJ("submit",function(){return t.CHM(e),t.oxw().onSubmit()}),t.TgZ(1,"div",5)(2,"div",6)(3,"h2",7)(4,"b",8),t._uU(5,"Tambah Data Berita & Informasi Baru"),t.qZA()()(),t.TgZ(6,"div",2)(7,"div",9)(8,"div",10)(9,"div",9)(10,"div",2),t._UZ(11,"img",11),t.TgZ(12,"mat-form-field",12)(13,"mat-label"),t._uU(14,"Gambar"),t.qZA(),t.TgZ(15,"ngx-mat-file-input",13,14),t.NdJ("change",function(o){t.CHM(e);const s=t.MAs(16);return t.oxw().uploadImage(o,s)}),t.qZA(),t.TgZ(17,"mat-icon",15),t._uU(18,"image"),t.qZA()(),t.TgZ(19,"mat-error",16)(20,"small"),t.YNc(21,je,3,3,"div",17),t.YNc(22,Ve,2,1,"div",17),t.qZA()()(),t.YNc(23,Pe,5,1,"div",18),t.qZA()(),t.TgZ(24,"div",19)(25,"div",9)(26,"mat-form-field",20)(27,"mat-label"),t._uU(28,"Judul"),t.qZA(),t._UZ(29,"input",21),t.TgZ(30,"mat-icon",15),t._uU(31,"wysiwyg"),t.qZA(),t.TgZ(32,"mat-error"),t.YNc(33,Ge,2,0,"div",17),t.YNc(34,ze,2,0,"div",17),t.qZA()(),t.TgZ(35,"mat-form-field",20)(36,"mat-label"),t._uU(37,"Tags & Kategori"),t.qZA(),t.TgZ(38,"mat-chip-list",null,22),t.YNc(40,$e,4,2,"mat-chip",23),t.TgZ(41,"input",24),t.NdJ("matChipInputTokenEnd",function(o){return t.CHM(e),t.oxw().addTag(o)}),t.qZA(),t.TgZ(42,"mat-icon",15),t._uU(43,"loyalty"),t.qZA()(),t.TgZ(44,"mat-hint",25),t._uU(45,"Isi Dengan Bebas, Pisahkan Dengan Koma"),t.qZA()(),t._UZ(46,"angular-editor",26),t.qZA()()(),t.TgZ(47,"div",9)(48,"div",2)(49,"div",27),t._UZ(50,"div",28),t.TgZ(51,"div",29)(52,"a",30)(53,"mat-icon",31),t._uU(54,"undo"),t.qZA(),t._uU(55," Batal "),t.qZA()(),t.TgZ(56,"div",29)(57,"button",32),t._uU(58," Simpan "),t.TgZ(59,"mat-icon",33),t._uU(60,"save"),t.qZA()()()()()()()()()}if(2&i){const e=t.MAs(39),a=t.oxw();t.Q6J("formGroup",a.fg),t.xp6(11),t.Q6J("src",a.image_url,t.LSH),t.xp6(1),t.Q6J("color","accent"),t.xp6(3),t.Q6J("disabled",a.fg.value.image)("accept","image/gif, image/jpeg, image/jpg, image/png"),t.xp6(6),t.Q6J("ngIf",a.imageLimitExceeded),t.xp6(1),t.Q6J("ngIf",a.imageErrorText),t.xp6(1),t.Q6J("ngIf",a.image&&!a.fg.value.image),t.xp6(3),t.Q6J("color","accent"),t.xp6(7),t.Q6J("ngIf",a.fg.get("title").hasError("required")),t.xp6(1),t.Q6J("ngIf",a.fg.get("title").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(5),t.Q6J("ngForOf",a.fg.value.tags),t.xp6(1),t.Q6J("matChipInputSeparatorKeyCodes",a.GS.separatorKeysCodes)("matChipInputFor",e)("matChipInputAddOnBlur",!0),t.xp6(5),t.Q6J("config",a.GS.angularEditorConfig),t.xp6(6),t.Q6J("disabled",a.submitted),t.xp6(5),t.Q6J("disabled",a.submitted||a.fg.invalid)}}const ti=[{path:"",pathMatch:"full",redirectTo:"/home"},{path:"berkas",component:re,data:{title:"Berkas - Buat Baru",description:"Halaman Unggah Berkas Baru",keywords:"Tambah Berkas Baru"}},{path:"fansub",component:qe,canActivate:[S.H],data:{title:"Fansub - Buat Baru",description:"Halaman Menambahkan Fansub Baru",keywords:"Create Fansub",[c.t.decoratorVerifiedOnly]:!0}},{path:"mailbox",component:He,canActivate:[S.H],data:{title:"Surel - Buat Baru",description:"Halaman Kirim Surel Baru",keywords:"Buat Surel Baru",[c.t.decoratorVerifiedOnly]:!0}},{path:"news",component:(()=>{class i{constructor(e,a,o,s,u,_,g){this.fb=e,this.router=a,this.bs=o,this.pi=s,this.imgbb=u,this.news=_,this.gs=g,this.submitted=!1,this.image=null,this.imageErrorText=null,this.imageLimitExceeded=null,this.image_url="/assets/img/form/no-image.png",this.gambar=null,this.subsNews=null,this.subsImgbb=null,this.gs.bannerImg=null,this.gs.sizeContain=!1,this.gs.bgRepeat=!1}get GS(){return this.gs}ngOnInit(){this.pi.updatePageMetaData("Informasi - Buat Baru","Halaman Menambahkan Berita Baru","Create News"),this.gs.isBrowser&&this.initForm()}ngOnDestroy(){var e,a;null===(e=this.subsImgbb)||void 0===e||e.unsubscribe(),null===(a=this.subsNews)||void 0===a||a.unsubscribe()}initForm(){this.fg=this.fb.group({title:[null,n.kI.compose([n.kI.required,n.kI.pattern(c.t.regexEnglishKeyboardKeys)])],content:[null,n.kI.compose([n.kI.required,n.kI.pattern(c.t.regexEnglishKeyboardKeys)])],image:[null,n.kI.compose([n.kI.pattern(c.t.regexUrl)])],tags:[[],n.kI.compose([])]})}uploadImage(e,a){this.gambar=a,this.image=null,this.imageLimitExceeded=null,this.imageErrorText=null,this.fg.controls.image.patchValue(null);const o=e.target.files[0];try{const s=new FileReader;s.readAsDataURL(o),s.onload=u=>{if(this.gs.log("[IMAGE_SELECTED]",u),o.size<=c.t.fileSizeImageLimit){const _=this.gs.document.createElement("img");_.onload=()=>{this.image=o,this.image_url=s.result.toString()},_.src=s.result.toString()}else this.image=null,this.image_url="/assets/img/form/image-error.png",this.imageLimitExceeded=c.t.fileSizeImageLimit,this.gambar.clear(e)}}catch(s){this.image=null,this.image_url="/assets/img/form/no-image.png",this.gambar.clear(e)}}submitImage(){this.submitted=!0,this.subsImgbb=this.imgbb.uploadImage({file:this.image}).subscribe({next:e=>{this.gs.log("[IMAGE_SUCCESS]",e),this.fg.controls.image.patchValue(e.result.url),this.submitted=!1},error:e=>{var a;this.gs.log("[IMAGE_ERROR]",e,"error"),this.fg.controls.image.patchValue(null),this.submitted=!1,this.imageErrorText=(null===(a=e.result)||void 0===a?void 0:a.message)||e.info}})}onSubmit(){if(this.bs.busy(),this.submitted=!0,this.fg.invalid)return this.submitted=!1,void this.bs.idle();this.subsNews=this.news.createNews({image:this.fg.value.image,title:this.fg.value.title,content:this.fg.value.content,tags:this.fg.value.tags}).subscribe({next:e=>{this.gs.log("[NEWS_CREATE_SUCCESS]",e),this.submitted=!1,this.bs.idle(),this.router.navigateByUrl("/news")},error:e=>{this.gs.log("[NEWS_CREATE_ERROR]",e,"error"),this.submitted=!1,this.bs.idle()}})}addTag(e){const a=e.input,o=e.value;(o||"").trim()&&this.fg.value.tags.push(o.trim()),a&&(a.value=""),this.fg.controls.tags.patchValue(this.fg.value.tags.filter((s,u,_)=>_.findIndex(g=>g===s)===u))}removeTag(e){const a=this.fg.value.tags.indexOf(e);a>=0&&this.fg.value.tags.splice(a,1)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(n.qu),t.Y36(b.F0),t.Y36(B.z),t.Y36(F.Z),t.Y36(Y.X),t.Y36(Ke.Y),t.Y36(M.U))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-news-create"]],decls:5,vars:1,consts:[[1,"container"],[1,"row","px-3"],[1,"col-12"],[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"row","mt-3","mb-3"],[1,"col-12","sticky-top","bg-bifeldy"],[1,"pt-3","border-bottom-dotted"],[1,"text-bifeldy"],[1,"row"],[1,"col-12","col-md-5","col-xl-4","p-3"],[1,"w-100","border",3,"src"],["appearance","outline",1,"pt-3","w-100",3,"color"],[1,"w-100",3,"disabled","accept","change"],["gambar",""],["matSuffix",""],[1,"px-3","w-100"],[4,"ngIf"],["class","col-12",4,"ngIf"],[1,"col-12","col-md-7","col-xl-8","pt-3"],["appearance","outline",1,"p-3","col-12",3,"color"],["matInput","","formControlName","title","placeholder","Berita Terkini Blablabla ...","required",""],["tag",""],["color","accent","selected","",3,"removable","removed",4,"ngFor","ngForOf"],["placeholder","Label Tag / Kategori",3,"matChipInputSeparatorKeyCodes","matChipInputFor","matChipInputAddOnBlur","matChipInputTokenEnd"],["align","end"],["formControlName","content","required","",1,"p-3","w-100",3,"config"],[1,"row","gy-3"],[1,"col","g-0"],[1,"col-12","col-md-3"],["mat-stroked-button","","routerLink","/news",1,"w-100",3,"disabled"],[1,"me-1"],["mat-flat-button","","color","accent","type","submit",1,"w-100",3,"disabled"],[1,"ms-1"],["mat-raised-button","","color","primary","type","button",1,"w-100",3,"disabled","click"],["color","accent","selected","",3,"removable","removed"],["matChipRemove",""]],template:function(e,a){1&e&&(t._UZ(0,"app-notifications"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2),t.YNc(4,We,61,19,"form",3),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",a.fg))},directives:[R.t,m.O5,n._Y,n.JL,n.sg,f.KE,f.hX,Z.Yh,Q.Hw,f.R9,f.TO,U.lW,O.Nt,n.Fj,n.JJ,n.u,n.Q7,x.qn,m.sg,x.HS,x.qH,x.oH,f.bx,T.s6,U.zs,b.yS],pipes:[H.$],styles:[""]}),i})(),canActivate:[S.H,E.t],data:{title:"Berita - Buat Baru",description:"Halaman Unggah Berita Baru",keywords:"Tambah Berita Baru",[c.t.decoratorVerifiedOnly]:!0,[c.t.decoratorRoles]:[C.yS.ADMIN,C.yS.MODERATOR]}}];let ei=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.ez,b.Bz.forChild(ti),D.m,n.u5,n.UX,Z.Ad,h.F,T.UM,L.T]]}),i})()},8616:(j,I,l)=>{l.d(I,{t:()=>L});var m=l(5e3),b=l(8406),n=l(8696),T=l(7140),Z=l(9808),c=l(1861);function C(h,v){if(1&h&&m._UZ(0,"div",4),2&h){const d=m.oxw();m.Udp("background-size",d.GS.sizeContain?"contain":"cover")("background-image","url("+d.GS.bannerImg+")")("background-repeat",d.GS.bgRepeat?"repeat-x":"no-repeat")("height","/news"===d.ROUTER.url||d.ROUTER.url.includes("/news?")||"/berkas"===d.ROUTER.url||d.ROUTER.url.includes("/berkas?")||"/fansub"===d.ROUTER.url||d.ROUTER.url.includes("/fansub?")?"192px":"128px")("background-position-y","/berkas"===d.ROUTER.url||d.ROUTER.url.includes("/berkas?")?"22.5%":"")}}function E(h,v){if(1&h&&(m.TgZ(0,"strong",10),m._uU(1," -- "),m.TgZ(2,"i")(3,"a",11),m._uU(4),m.qZA()()()),2&h){const d=m.oxw().$implicit;m.xp6(3),m.MGl("routerLink","/user/",d.notifCreator,""),m.xp6(1),m.hij(" ",d.notifCreator," ")}}function S(h,v){if(1&h){const d=m.EpF();m.TgZ(0,"button",12),m.NdJ("click",function(){m.CHM(d);const k=m.oxw().$implicit;return m.oxw().removeNotif(k.notifData.id)}),m.qZA()}}function D(h,v){if(1&h&&(m.TgZ(0,"div",5)(1,"div")(2,"strong",6),m._uU(3),m.qZA(),m._UZ(4,"span",7),m.ALo(5,"safeInnerHtml"),m.YNc(6,E,5,2,"strong",8),m.YNc(7,S,1,0,"button",9),m.qZA()()),2&h){const d=v.$implicit;m.xp6(1),m.Gre("alert alert-",d.notifData.type," alert-dismissible fade show"),m.xp6(2),m.Oqu(d.notifData.title),m.xp6(1),m.Q6J("innerHTML",m.lcZ(5,7,d.notifData.content),m.oJD),m.xp6(2),m.Q6J("ngIf",d.notifCreator),m.xp6(1),m.Q6J("ngIf",d.notifData.dismissible)}}let L=(()=>{class h{constructor(d,p,k){this.router=d,this.gs=p,this.notif=k}ngOnInit(){}get GS(){return this.gs}get ROUTER(){return this.router}get NOTIF(){return this.notif}removeNotif(d){this.notif.removeNotif(d)}}return h.\u0275fac=function(d){return new(d||h)(m.Y36(b.F0),m.Y36(n.U),m.Y36(T.T))},h.\u0275cmp=m.Xpm({type:h,selectors:[["app-notifications"]],decls:4,vars:2,consts:[["class","container-fluid notif-banner align-items-center",3,"background-size","background-image","background-repeat","height","background-position-y",4,"ngIf"],[1,"container"],[1,"row","pt-3"],["class","col-12",4,"ngFor","ngForOf"],[1,"container-fluid","notif-banner","align-items-center"],[1,"col-12"],[1,"me-1"],[3,"innerHTML"],["class","ms-1",4,"ngIf"],["type","button","class","btn-close","data-dismiss","alert",3,"click",4,"ngIf"],[1,"ms-1"],[1,"text-decoration-none",3,"routerLink"],["type","button","data-dismiss","alert",1,"btn-close",3,"click"]],template:function(d,p){1&d&&(m.YNc(0,C,1,10,"div",0),m.TgZ(1,"div",1)(2,"div",2),m.YNc(3,D,8,9,"div",3),m.qZA()()),2&d&&(m.Q6J("ngIf",p.GS.bannerImg&&("/news"===p.ROUTER.url||p.ROUTER.url.includes("/news?")||"/berkas"===p.ROUTER.url||p.ROUTER.url.includes("/berkas?")||"/fansub"===p.ROUTER.url||p.ROUTER.url.includes("/fansub?")||"/anime"===p.ROUTER.url||p.ROUTER.url.includes("/anime?")||"/dorama"===p.ROUTER.url||p.ROUTER.url.includes("/dorama?"))),m.xp6(3),m.Q6J("ngForOf",p.NOTIF.notifications))},directives:[Z.O5,Z.sg,b.yS],pipes:[c.H],styles:[".notif-banner[_ngcontent-%COMP%]{width:100%;background-size:cover;background-position:75% 50%}"]}),h})()},8613:(j,I,l)=>{l.d(I,{F:()=>Z});var m=l(9808),b=l(8406),n=l(7355),T=l(5e3);let Z=(()=>{class c{}return c.\u0275fac=function(E){return new(E||c)},c.\u0275mod=T.oAB({type:c}),c.\u0275inj=T.cJS({imports:[[m.ez,b.Bz,n.T]]}),c})()}}]);