(function(Kt){var Ue,Pe,z="hasOwnProperty",At=/[\.\/]/,kt=function(){},V=function(Z,ce){return Z-ce},_={n:{}},Q=function(Z,ce){Z=String(Z);var g,ne=Pe,me=Array.prototype.slice.call(arguments,2),v=Q.listeners(Z),L=0,p=[],x={},r=[],c=Ue;Ue=Z,Pe=0;for(var n=0,t=v.length;n<t;n++)"zIndex"in v[n]&&(p.push(v[n].zIndex),v[n].zIndex<0&&(x[v[n].zIndex]=v[n]));for(p.sort(V);p[L]<0;)if(g=x[p[L++]],r.push(g.apply(ce,me)),Pe)return Pe=ne,r;for(n=0;n<t;n++)if("zIndex"in(g=v[n]))if(g.zIndex==p[L]){if(r.push(g.apply(ce,me)),Pe)break;do{if((g=x[p[++L]])&&r.push(g.apply(ce,me)),Pe)break}while(g)}else x[g.zIndex]=g;else if(r.push(g.apply(ce,me)),Pe)break;return Pe=ne,Ue=c,r.length?r:null};Q._events=_,Q.listeners=function(Z){var ne,me,v,L,h,g,p,x,ce=Z.split(At),de=_,r=[de],c=[];for(L=0,h=ce.length;L<h;L++){for(x=[],g=0,p=r.length;g<p;g++)for(me=[(de=r[g].n)[ce[L]],de["*"]],v=2;v--;)(ne=me[v])&&(x.push(ne),c=c.concat(ne.f||[]));r=x}return c},Q.on=function(Z,ce){if(Z=String(Z),"function"!=typeof ce)return function(){};for(var de=Z.split(At),ne=_,me=0,v=de.length;me<v;me++)ne=(ne=ne.n).hasOwnProperty(de[me])&&ne[de[me]]||(ne[de[me]]={n:{}});for(ne.f=ne.f||[],me=0,v=ne.f.length;me<v;me++)if(ne.f[me]==ce)return kt;return ne.f.push(ce),function(L){+L==+L&&(ce.zIndex=+L)}},Q.f=function(Z){var ce=[].slice.call(arguments,1);return function(){Q.apply(null,[Z,null].concat(ce).concat([].slice.call(arguments,0)))}},Q.stop=function(){Pe=1},Q.nt=function(Z){return Z?new RegExp("(?:\\.|\\/|^)"+Z+"(?:\\.|\\/|$)").test(Ue):Ue},Q.nts=function(){return Ue.split(At)},Q.off=Q.unbind=function(Z,ce){if(Z){var ne,me,v,L,h,g,p,de=Z.split(At),x=[_];for(L=0,h=de.length;L<h;L++)for(g=0;g<x.length;g+=v.length-2){if(v=[g,1],ne=x[g].n,"*"!=de[L])ne[de[L]]&&v.push(ne[de[L]]);else for(me in ne)ne[z](me)&&v.push(ne[me]);x.splice.apply(x,v)}for(L=0,h=x.length;L<h;L++)for(ne=x[L];ne.n;){if(ce){if(ne.f){for(g=0,p=ne.f.length;g<p;g++)if(ne.f[g]==ce){ne.f.splice(g,1);break}!ne.f.length&&delete ne.f}for(me in ne.n)if(ne.n[z](me)&&ne.n[me].f){var r=ne.n[me].f;for(g=0,p=r.length;g<p;g++)if(r[g]==ce){r.splice(g,1);break}!r.length&&delete ne.n[me].f}}else for(me in delete ne.f,ne.n)ne.n[z](me)&&ne.n[me].f&&delete ne.n[me].f;ne=ne.n}}else Q._events=_={n:{}}},Q.once=function(Z,ce){var de=function(){return Q.unbind(Z,de),ce.apply(this,arguments)};return Q.on(Z,de)},Q.version="0.4.2",Q.toString=function(){return"You are running Eve 0.4.2"},"undefined"!=typeof module&&module.exports?module.exports=Q:"undefined"!=typeof define?define("eve",[],function(){return Q}):Kt.eve=Q})(this),function(Kt,vn){"function"==typeof define&&define.amd?define(["eve"],function(z){return vn(Kt,z)}):vn(Kt,Kt.eve)}(this,function(Kt,vn){function z(B){if(z.is(B,"function"))return At?B():vn.on("raphael.DOMload",B);if(z.is(B,f))return z._engine.create[ne](z,B.splice(0,3+z.is(B[0],o))).add(B);var W=Array.prototype.slice.call(arguments,0);if(z.is(W[W.length-1],"function")){var J=W.pop();return At?J.call(z._engine.create[ne](z,W)):vn.on("raphael.DOMload",function(){J.call(z._engine.create[ne](z,W))})}return z._engine.create[ne](z,arguments)}z.version="2.1.0",z.eve=vn;var At,ce,B,W,Et=/[, ]+/,kt={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},V=/\{(\d+)\}/g,Pe="hasOwnProperty",_={doc:document,win:Kt},Q={was:Object.prototype[Pe].call(_.win,"Raphael"),is:_.win.Raphael},Z=function(){this.ca=this.customAttributes={}},ne="apply",me="concat",v="ontouchstart"in _.win||_.win.DocumentTouch&&_.doc instanceof DocumentTouch,L="",h=" ",g=String,p="split",x="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[p](h),r={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},c=g.prototype.toLowerCase,l=Math,n=l.max,t=l.min,i=l.abs,s=l.pow,u=l.PI,o="number",d="string",f="array",I=Object.prototype.toString,q=(z._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),K={NaN:1,Infinity:1,"-Infinity":1},se=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,xe=l.round,A=parseFloat,P=parseInt,U=g.prototype.toUpperCase,y=z._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},C=z._availableAnimAttrs={blur:o,"clip-rect":"csv",cx:o,cy:o,fill:"colour","fill-opacity":o,"font-size":o,height:o,opacity:o,path:"path",r:o,rx:o,ry:o,stroke:"colour","stroke-opacity":o,"stroke-width":o,transform:"transform",width:o,x:o,y:o},O=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,ee={hs:1,rg:1},$=/,?([achlmqrstvxz]),?/gi,ae=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Fe=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,He=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,it=(z._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),qt=function(B,W){return A(B)-A(W)},Ht=function(B){return B},Ge=z._rectPath=function(B,W,J,he,ve){return ve?[["M",B+ve,W],["l",J-2*ve,0],["a",ve,ve,0,0,1,ve,ve],["l",0,he-2*ve],["a",ve,ve,0,0,1,-ve,ve],["l",2*ve-J,0],["a",ve,ve,0,0,1,-ve,-ve],["l",0,2*ve-he],["a",ve,ve,0,0,1,ve,-ve],["z"]]:[["M",B,W],["l",J,0],["l",0,he],["l",-J,0],["z"]]},dt=function(B,W,J,he){return null==he&&(he=J),[["M",B,W],["m",0,-he],["a",J,he,0,1,1,0,2*he],["a",J,he,0,1,1,0,-2*he],["z"]]},vt=z._getPath={path:function(B){return B.attr("path")},circle:function(B){var W=B.attrs;return dt(W.cx,W.cy,W.r)},ellipse:function(B){var W=B.attrs;return dt(W.cx,W.cy,W.rx,W.ry)},rect:function(B){var W=B.attrs;return Ge(W.x,W.y,W.width,W.height,W.r)},image:function(B){var W=B.attrs;return Ge(W.x,W.y,W.width,W.height)},text:function(B){var W=B._getBBox();return Ge(W.x,W.y,W.width,W.height)},set:function(B){var W=B._getBBox();return Ge(W.x,W.y,W.width,W.height)}},G=z.mapPath=function(B,W){if(!W)return B;var J,he,ve,Te,Ae,De,qe;for(ve=0,Ae=(B=Dt(B)).length;ve<Ae;ve++)for(Te=1,De=(qe=B[ve]).length;Te<De;Te+=2)J=W.x(qe[Te],qe[Te+1]),he=W.y(qe[Te],qe[Te+1]),qe[Te]=J,qe[Te+1]=he;return B};if(z._g=_,"VML"==(z.type=_.win.SVGAngle||_.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML")){var Y,ue=_.doc.createElement("div");if(ue.innerHTML='<v:shape adj="1"/>',(Y=ue.firstChild).style.behavior="url(#default#VML)",!Y||"object"!=typeof Y.adj)return z.type=L;ue=null}function oe(B){if("function"==typeof B||Object(B)!==B)return B;var W=new B.constructor;for(var J in B)B[Pe](J)&&(W[J]=oe(B[J]));return W}z.svg=!(z.vml="VML"==z.type),z._Paper=Z,z.fn=ce=Z.prototype=z.prototype,z._id=0,z._oid=0,z.is=function(B,W){return"finite"==(W=c.call(W))?!K[Pe](+B):"array"==W?B instanceof Array:"null"==W&&null===B||W==typeof B&&null!==B||"object"==W&&B===Object(B)||"array"==W&&Array.isArray&&Array.isArray(B)||I.call(B).slice(8,-1).toLowerCase()==W},z.angle=function(B,W,J,he,ve,Te){if(null==ve){var Ae=B-J,De=W-he;return Ae||De?(180+180*l.atan2(-De,-Ae)/u+360)%360:0}return z.angle(B,W,ve,Te)-z.angle(J,he,ve,Te)},z.rad=function(B){return B%360*u/180},z.deg=function(B){return 180*B/u%360},z.snapTo=function(B,W,J){if(J=z.is(J,"finite")?J:10,z.is(B,f)){for(var he=B.length;he--;)if(i(B[he]-W)<=J)return B[he]}else{var ve=W%(B=+B);if(ve<J)return W-ve;if(ve>B-J)return W-ve+B}return W},z.createUUID=(B=/[xy]/g,W=function(B){var W=16*l.random()|0;return("x"==B?W:3&W|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(B,W).toUpperCase()}),z.setWindow=function(B){vn("raphael.setWindow",z,_.win,B),_.win=B,_.doc=_.win.document,z._engine.initWin&&z._engine.initWin(_.win)};var ie=function(B){if(z.vml){var J,W=/^\s+|\s+$/g;try{var he=new ActiveXObject("htmlfile");he.write("<body>"),he.close(),J=he.body}catch(Ae){J=createPopup().document.body}var ve=J.createTextRange();ie=rn(function(Ae){try{J.style.color=g(Ae).replace(W,L);var De=ve.queryCommandValue("ForeColor");return"#"+("000000"+(De=(255&De)<<16|65280&De|(16711680&De)>>>16).toString(16)).slice(-6)}catch(qe){return"none"}})}else{var Te=_.doc.createElement("i");Te.title="Rapha\xebl Colour Picker",Te.style.display="none",_.doc.body.appendChild(Te),ie=rn(function(Ae){return Te.style.color=Ae,_.doc.defaultView.getComputedStyle(Te,L).getPropertyValue("color")})}return ie(B)},pe=function(){return"hsb("+[this.h,this.s,this.b]+")"},Ye=function(){return"hsl("+[this.h,this.s,this.l]+")"},ct=function(){return this.hex},gt=function(B,W,J){if(null==W&&z.is(B,"object")&&"r"in B&&"g"in B&&"b"in B&&(J=B.b,W=B.g,B=B.r),null==W&&z.is(B,d)){var he=z.getRGB(B);B=he.r,W=he.g,J=he.b}return(B>1||W>1||J>1)&&(B/=255,W/=255,J/=255),[B,W,J]},$t=function(B,W,J,he){var ve={r:B*=255,g:W*=255,b:J*=255,hex:z.rgb(B,W,J),toString:ct};return z.is(he,"finite")&&(ve.opacity=he),ve};function Zt(B,W){for(var J=0,he=B.length;J<he;J++)if(B[J]===W)return B.push(B.splice(J,1)[0])}function rn(B,W,J){return function he(){var ve=Array.prototype.slice.call(arguments,0),Te=ve.join("\u2400"),Ae=he.cache=he.cache||{},De=he.count=he.count||[];return Ae[Pe](Te)?(Zt(De,Te),J?J(Ae[Te]):Ae[Te]):(De.length>=1e3&&delete Ae[De.shift()],De.push(Te),Ae[Te]=B[ne](W,ve),J?J(Ae[Te]):Ae[Te])}}function an(){return this.hex}function xn(B,W){for(var J=[],he=0,ve=B.length;ve-2*!W>he;he+=2){var Te=[{x:+B[he-2],y:+B[he-1]},{x:+B[he],y:+B[he+1]},{x:+B[he+2],y:+B[he+3]},{x:+B[he+4],y:+B[he+5]}];W?he?ve-4==he?Te[3]={x:+B[0],y:+B[1]}:ve-2==he&&(Te[2]={x:+B[0],y:+B[1]},Te[3]={x:+B[2],y:+B[3]}):Te[0]={x:+B[ve-2],y:+B[ve-1]}:ve-4==he?Te[3]=Te[2]:he||(Te[0]={x:+B[he],y:+B[he+1]}),J.push(["C",(6*Te[1].x-Te[0].x+Te[2].x)/6,(6*Te[1].y-Te[0].y+Te[2].y)/6,(Te[1].x+6*Te[2].x-Te[3].x)/6,(Te[1].y+6*Te[2].y-Te[3].y)/6,Te[2].x,Te[2].y])}return J}z.color=function(B){var W;return z.is(B,"object")&&"h"in B&&"s"in B&&"b"in B?(W=z.hsb2rgb(B),B.r=W.r,B.g=W.g,B.b=W.b,B.hex=W.hex):z.is(B,"object")&&"h"in B&&"s"in B&&"l"in B?(W=z.hsl2rgb(B),B.r=W.r,B.g=W.g,B.b=W.b,B.hex=W.hex):(z.is(B,"string")&&(B=z.getRGB(B)),z.is(B,"object")&&"r"in B&&"g"in B&&"b"in B?(W=z.rgb2hsl(B),B.h=W.h,B.s=W.s,B.l=W.l,W=z.rgb2hsb(B),B.v=W.b):(B={hex:"none"}).r=B.g=B.b=B.h=B.s=B.v=B.l=-1),B.toString=ct,B},z.hsb2rgb=function(B,W,J,he){var ve,Te,Ae,De,qe;return this.is(B,"object")&&"h"in B&&"s"in B&&"b"in B&&(J=B.b,W=B.s,he=(B=B.h).o),De=(qe=J*W)*(1-i((B=(B*=360)%360/60)%2-1)),ve=Te=Ae=J-qe,$t(ve+=[qe,De,0,0,De,qe][B=~~B],Te+=[De,qe,qe,De,0,0][B],Ae+=[0,0,De,qe,qe,De][B],he)},z.hsl2rgb=function(B,W,J,he){var ve,Te,Ae,De,qe;return this.is(B,"object")&&"h"in B&&"s"in B&&"l"in B&&(J=B.l,W=B.s,B=B.h),(B>1||W>1||J>1)&&(B/=360,W/=100,J/=100),De=(qe=2*W*(J<.5?J:1-J))*(1-i((B=(B*=360)%360/60)%2-1)),ve=Te=Ae=J-qe/2,$t(ve+=[qe,De,0,0,De,qe][B=~~B],Te+=[De,qe,qe,De,0,0][B],Ae+=[0,0,De,qe,qe,De][B],he)},z.rgb2hsb=function(B,W,J){var Te,Ae;return J=gt(B,W,J),{h:((0==(Ae=(Te=n(B=J[0],W=J[1],J=J[2]))-t(B,W,J))?null:Te==B?(W-J)/Ae:Te==W?(J-B)/Ae+2:(B-W)/Ae+4)+360)%6*60/360,s:0==Ae?0:Ae/Te,b:Te,toString:pe}},z.rgb2hsl=function(B,W,J){var Te,Ae,De,qe;return J=gt(B,W,J),Te=((Ae=n(B=J[0],W=J[1],J=J[2]))+(De=t(B,W,J)))/2,{h:((0==(qe=Ae-De)?null:Ae==B?(W-J)/qe:Ae==W?(J-B)/qe+2:(B-W)/qe+4)+360)%6*60/360,s:0==qe?0:Te<.5?qe/(2*Te):qe/(2-2*Te),l:Te,toString:Ye}},z._path2string=function(){return this.join(",").replace($,"$1")},z._preload=function(B,W){var J=_.doc.createElement("img");J.style.cssText="position:absolute;left:-9999em;top:-9999em",J.onload=function(){W.call(this),this.onload=null,_.doc.body.removeChild(this)},J.onerror=function(){_.doc.body.removeChild(this)},_.doc.body.appendChild(J),J.src=B},z.getRGB=rn(function(B){if(!B||(B=g(B)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:an};if("none"==B)return{r:-1,g:-1,b:-1,hex:"none",toString:an};!ee[Pe](B.toLowerCase().substring(0,2))&&"#"!=B.charAt()&&(B=ie(B));var J,he,ve,Te,Ae,De,qe=B.match(q);return qe?(qe[2]&&(ve=P(qe[2].substring(5),16),he=P(qe[2].substring(3,5),16),J=P(qe[2].substring(1,3),16)),qe[3]&&(ve=P((Ae=qe[3].charAt(3))+Ae,16),he=P((Ae=qe[3].charAt(2))+Ae,16),J=P((Ae=qe[3].charAt(1))+Ae,16)),qe[4]&&(De=qe[4][p](O),J=A(De[0]),"%"==De[0].slice(-1)&&(J*=2.55),he=A(De[1]),"%"==De[1].slice(-1)&&(he*=2.55),ve=A(De[2]),"%"==De[2].slice(-1)&&(ve*=2.55),"rgba"==qe[1].toLowerCase().slice(0,4)&&(Te=A(De[3])),De[3]&&"%"==De[3].slice(-1)&&(Te/=100)),qe[5]?(De=qe[5][p](O),J=A(De[0]),"%"==De[0].slice(-1)&&(J*=2.55),he=A(De[1]),"%"==De[1].slice(-1)&&(he*=2.55),ve=A(De[2]),"%"==De[2].slice(-1)&&(ve*=2.55),("deg"==De[0].slice(-3)||"\xb0"==De[0].slice(-1))&&(J/=360),"hsba"==qe[1].toLowerCase().slice(0,4)&&(Te=A(De[3])),De[3]&&"%"==De[3].slice(-1)&&(Te/=100),z.hsb2rgb(J,he,ve,Te)):qe[6]?(De=qe[6][p](O),J=A(De[0]),"%"==De[0].slice(-1)&&(J*=2.55),he=A(De[1]),"%"==De[1].slice(-1)&&(he*=2.55),ve=A(De[2]),"%"==De[2].slice(-1)&&(ve*=2.55),("deg"==De[0].slice(-3)||"\xb0"==De[0].slice(-1))&&(J/=360),"hsla"==qe[1].toLowerCase().slice(0,4)&&(Te=A(De[3])),De[3]&&"%"==De[3].slice(-1)&&(Te/=100),z.hsl2rgb(J,he,ve,Te)):((qe={r:J,g:he,b:ve,toString:an}).hex="#"+(16777216|ve|he<<8|J<<16).toString(16).slice(1),z.is(Te,"finite")&&(qe.opacity=Te),qe)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:an}},z),z.hsb=rn(function(B,W,J){return z.hsb2rgb(B,W,J).hex}),z.hsl=rn(function(B,W,J){return z.hsl2rgb(B,W,J).hex}),z.rgb=rn(function(B,W,J){return"#"+(16777216|J|W<<8|B<<16).toString(16).slice(1)}),(z.getColor=function(B){var W=this.getColor.start=this.getColor.start||{h:0,s:1,b:B||.75},J=this.hsb2rgb(W.h,W.s,W.b);return W.h+=.075,W.h>1&&(W.h=0,W.s-=.2,W.s<=0&&(this.getColor.start={h:0,s:1,b:W.b})),J.hex}).reset=function(){delete this.start},z.parsePathString=function(B){if(!B)return null;var W=$n(B);if(W.arr)return Qe(W.arr);var J={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},he=[];return z.is(B,f)&&z.is(B[0],f)&&(he=Qe(B)),he.length||g(B).replace(ae,function(ve,Te,Ae){var De=[],qe=Te.toLowerCase();if(Ae.replace(He,function(_t,Ut){Ut&&De.push(+Ut)}),"m"==qe&&De.length>2&&(he.push([Te][me](De.splice(0,2))),qe="l",Te="m"==Te?"l":"L"),"r"==qe)he.push([Te][me](De));else for(;De.length>=J[qe]&&(he.push([Te][me](De.splice(0,J[qe]))),J[qe]););}),he.toString=z._path2string,W.arr=Qe(he),he},z.parseTransformString=rn(function(B){if(!B)return null;var J=[];return z.is(B,f)&&z.is(B[0],f)&&(J=Qe(B)),J.length||g(B).replace(Fe,function(he,ve,Te){var Ae=[];c.call(ve),Te.replace(He,function(qe,_t){_t&&Ae.push(+_t)}),J.push([ve][me](Ae))}),J.toString=z._path2string,J});var $n=function(B){var W=$n.ps=$n.ps||{};return W[B]?W[B].sleep=100:W[B]={sleep:100},setTimeout(function(){for(var J in W)W[Pe](J)&&J!=B&&(W[J].sleep--,!W[J].sleep&&delete W[J])}),W[B]};function Cn(B,W,J,he,ve){return B*(B*(-3*W+9*J-9*he+3*ve)+6*W-12*J+6*he)-3*W+3*J}function On(B,W,J,he,ve,Te,Ae,De,qe){null==qe&&(qe=1);for(var _t=(qe=qe>1?1:qe<0?0:qe)/2,st=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],pt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],zt=0,Yt=0;Yt<12;Yt++){var It=_t*st[Yt]+_t,Ft=Cn(It,B,J,ve,Ae),Nt=Cn(It,W,he,Te,De);zt+=pt[Yt]*l.sqrt(Ft*Ft+Nt*Nt)}return _t*zt}function jt(B,W,J,he,ve,Te,Ae,De){if(!(n(B,J)<t(ve,Ae)||t(B,J)>n(ve,Ae)||n(W,he)<t(Te,De)||t(W,he)>n(Te,De))){var Ut=(B-J)*(Te-De)-(W-he)*(ve-Ae);if(Ut){var st=((B*he-W*J)*(ve-Ae)-(B-J)*(ve*De-Te*Ae))/Ut,pt=((B*he-W*J)*(Te-De)-(W-he)*(ve*De-Te*Ae))/Ut,zt=+st.toFixed(2),Yt=+pt.toFixed(2);if(!(zt<+t(B,J).toFixed(2)||zt>+n(B,J).toFixed(2)||zt<+t(ve,Ae).toFixed(2)||zt>+n(ve,Ae).toFixed(2)||Yt<+t(W,he).toFixed(2)||Yt>+n(W,he).toFixed(2)||Yt<+t(Te,De).toFixed(2)||Yt>+n(Te,De).toFixed(2)))return{x:st,y:pt}}}}function Le(B,W,J){var he=z.bezierBBox(B),ve=z.bezierBBox(W);if(!z.isBBoxIntersect(he,ve))return J?0:[];for(var Te=On.apply(0,B),Ae=On.apply(0,W),De=n(~~(Te/5),1),qe=n(~~(Ae/5),1),_t=[],Ut=[],st={},pt=J?0:[],zt=0;zt<De+1;zt++){var Yt=z.findDotsAtSegment.apply(z,B.concat(zt/De));_t.push({x:Yt.x,y:Yt.y,t:zt/De})}for(zt=0;zt<qe+1;zt++)Yt=z.findDotsAtSegment.apply(z,W.concat(zt/qe)),Ut.push({x:Yt.x,y:Yt.y,t:zt/qe});for(zt=0;zt<De;zt++)for(var It=0;It<qe;It++){var Ft=_t[zt],Nt=_t[zt+1],ln=Ut[It],Qt=Ut[It+1],cn=i(Nt.x-Ft.x)<.001?"y":"x",Fn=i(Qt.x-ln.x)<.001?"y":"x",Er=jt(Ft.x,Ft.y,Nt.x,Nt.y,ln.x,ln.y,Qt.x,Qt.y);if(Er){if(st[Er.x.toFixed(4)]==Er.y.toFixed(4))continue;st[Er.x.toFixed(4)]=Er.y.toFixed(4);var kr=Ft.t+i((Er[cn]-Ft[cn])/(Nt[cn]-Ft[cn]))*(Nt.t-Ft.t),sr=ln.t+i((Er[Fn]-ln[Fn])/(Qt[Fn]-ln[Fn]))*(Qt.t-ln.t);kr>=0&&kr<=1.001&&sr>=0&&sr<=1.001&&(J?pt++:pt.push({x:Er.x,y:Er.y,t1:t(kr,1),t2:t(sr,1)}))}}return pt}function je(B,W,J){B=z._path2curve(B),W=z._path2curve(W);for(var he,ve,Te,Ae,De,qe,_t,Ut,st,pt,zt=J?0:[],Yt=0,It=B.length;Yt<It;Yt++){var Ft=B[Yt];if("M"==Ft[0])he=De=Ft[1],ve=qe=Ft[2];else{"C"==Ft[0]?(st=[he,ve].concat(Ft.slice(1)),he=st[6],ve=st[7]):(st=[he,ve,he,ve,De,qe,De,qe],he=De,ve=qe);for(var Nt=0,ln=W.length;Nt<ln;Nt++){var Qt=W[Nt];if("M"==Qt[0])Te=_t=Qt[1],Ae=Ut=Qt[2];else{"C"==Qt[0]?(pt=[Te,Ae].concat(Qt.slice(1)),Te=pt[6],Ae=pt[7]):(pt=[Te,Ae,Te,Ae,_t,Ut,_t,Ut],Te=_t,Ae=Ut);var cn=Le(st,pt,J);if(J)zt+=cn;else{for(var Fn=0,Er=cn.length;Fn<Er;Fn++)cn[Fn].segment1=Yt,cn[Fn].segment2=Nt,cn[Fn].bez1=st,cn[Fn].bez2=pt;zt=zt.concat(cn)}}}}}return zt}z.findDotsAtSegment=function(B,W,J,he,ve,Te,Ae,De,qe){var _t=1-qe,Ut=s(_t,3),st=s(_t,2),pt=qe*qe,zt=pt*qe,Yt=Ut*B+3*st*qe*J+3*_t*qe*qe*ve+zt*Ae,It=Ut*W+3*st*qe*he+3*_t*qe*qe*Te+zt*De,Ft=B+2*qe*(J-B)+pt*(ve-2*J+B),Nt=W+2*qe*(he-W)+pt*(Te-2*he+W),ln=J+2*qe*(ve-J)+pt*(Ae-2*ve+J),Qt=he+2*qe*(Te-he)+pt*(De-2*Te+he),cn=_t*B+qe*J,Fn=_t*W+qe*he,Er=_t*ve+qe*Ae,kr=_t*Te+qe*De,sr=90-180*l.atan2(Ft-ln,Nt-Qt)/u;return(Ft>ln||Nt<Qt)&&(sr+=180),{x:Yt,y:It,m:{x:Ft,y:Nt},n:{x:ln,y:Qt},start:{x:cn,y:Fn},end:{x:Er,y:kr},alpha:sr}},z.bezierBBox=function(B,W,J,he,ve,Te,Ae,De){z.is(B,"array")||(B=[B,W,J,he,ve,Te,Ae,De]);var qe=on.apply(null,B);return{x:qe.min.x,y:qe.min.y,x2:qe.max.x,y2:qe.max.y,width:qe.max.x-qe.min.x,height:qe.max.y-qe.min.y}},z.isPointInsideBBox=function(B,W,J){return W>=B.x&&W<=B.x2&&J>=B.y&&J<=B.y2},z.isBBoxIntersect=function(B,W){var J=z.isPointInsideBBox;return J(W,B.x,B.y)||J(W,B.x2,B.y)||J(W,B.x,B.y2)||J(W,B.x2,B.y2)||J(B,W.x,W.y)||J(B,W.x2,W.y)||J(B,W.x,W.y2)||J(B,W.x2,W.y2)||(B.x<W.x2&&B.x>W.x||W.x<B.x2&&W.x>B.x)&&(B.y<W.y2&&B.y>W.y||W.y<B.y2&&W.y>B.y)},z.pathIntersection=function(B,W){return je(B,W)},z.pathIntersectionNumber=function(B,W){return je(B,W,1)},z.isPointInsidePath=function(B,W,J){var he=z.pathBBox(B);return z.isPointInsideBBox(he,W,J)&&je(B,[["M",W,J],["H",he.x2+10]],1)%2==1},z._removedFactory=function(B){return function(){vn("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+B+"\u201d of removed object",B)}};var Je=z.pathBBox=function(B){var W=$n(B);if(W.bbox)return oe(W.bbox);if(!B)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var Ae,J=0,he=0,ve=[],Te=[],De=0,qe=(B=Dt(B)).length;De<qe;De++)if("M"==(Ae=B[De])[0])he=Ae[2],ve.push(J=Ae[1]),Te.push(he);else{var _t=on(J,he,Ae[1],Ae[2],Ae[3],Ae[4],Ae[5],Ae[6]);ve=ve[me](_t.min.x,_t.max.x),Te=Te[me](_t.min.y,_t.max.y),J=Ae[5],he=Ae[6]}var Ut=t[ne](0,ve),st=t[ne](0,Te),pt=n[ne](0,ve),zt=n[ne](0,Te),Yt=pt-Ut,It=zt-st,Ft={x:Ut,y:st,x2:pt,y2:zt,width:Yt,height:It,cx:Ut+Yt/2,cy:st+It/2};return W.bbox=oe(Ft),Ft},Qe=function(B){var W=oe(B);return W.toString=z._path2string,W},ht=z._pathToRelative=function(B){var W=$n(B);if(W.rel)return Qe(W.rel);(!z.is(B,f)||!z.is(B&&B[0],f))&&(B=z.parsePathString(B));var J=[],he=0,ve=0,Te=0,Ae=0,De=0;"M"==B[0][0]&&(Te=he=B[0][1],Ae=ve=B[0][2],De++,J.push(["M",he,ve]));for(var qe=De,_t=B.length;qe<_t;qe++){var Ut=J[qe]=[],st=B[qe];if(st[0]!=c.call(st[0]))switch(Ut[0]=c.call(st[0]),Ut[0]){case"a":Ut[1]=st[1],Ut[2]=st[2],Ut[3]=st[3],Ut[4]=st[4],Ut[5]=st[5],Ut[6]=+(st[6]-he).toFixed(3),Ut[7]=+(st[7]-ve).toFixed(3);break;case"v":Ut[1]=+(st[1]-ve).toFixed(3);break;case"m":Te=st[1],Ae=st[2];default:for(var pt=1,zt=st.length;pt<zt;pt++)Ut[pt]=+(st[pt]-(pt%2?he:ve)).toFixed(3)}else{Ut=J[qe]=[],"m"==st[0]&&(Te=st[1]+he,Ae=st[2]+ve);for(var Yt=0,It=st.length;Yt<It;Yt++)J[qe][Yt]=st[Yt]}var Ft=J[qe].length;switch(J[qe][0]){case"z":he=Te,ve=Ae;break;case"h":he+=+J[qe][Ft-1];break;case"v":ve+=+J[qe][Ft-1];break;default:he+=+J[qe][Ft-2],ve+=+J[qe][Ft-1]}}return J.toString=z._path2string,W.rel=Qe(J),J},sn=z._pathToAbsolute=function(B){var W=$n(B);if(W.abs)return Qe(W.abs);if((!z.is(B,f)||!z.is(B&&B[0],f))&&(B=z.parsePathString(B)),!B||!B.length)return[["M",0,0]];var J=[],he=0,ve=0,Te=0,Ae=0,De=0;"M"==B[0][0]&&(Te=he=+B[0][1],Ae=ve=+B[0][2],De++,J[0]=["M",he,ve]);for(var _t,Ut,qe=3==B.length&&"M"==B[0][0]&&"R"==B[1][0].toUpperCase()&&"Z"==B[2][0].toUpperCase(),st=De,pt=B.length;st<pt;st++){if(J.push(_t=[]),(Ut=B[st])[0]!=U.call(Ut[0]))switch(_t[0]=U.call(Ut[0]),_t[0]){case"A":_t[1]=Ut[1],_t[2]=Ut[2],_t[3]=Ut[3],_t[4]=Ut[4],_t[5]=Ut[5],_t[6]=+(Ut[6]+he),_t[7]=+(Ut[7]+ve);break;case"V":_t[1]=+Ut[1]+ve;break;case"H":_t[1]=+Ut[1]+he;break;case"R":for(var zt=[he,ve][me](Ut.slice(1)),Yt=2,It=zt.length;Yt<It;Yt++)zt[Yt]=+zt[Yt]+he,zt[++Yt]=+zt[Yt]+ve;J.pop(),J=J[me](xn(zt,qe));break;case"M":Te=+Ut[1]+he,Ae=+Ut[2]+ve;default:for(Yt=1,It=Ut.length;Yt<It;Yt++)_t[Yt]=+Ut[Yt]+(Yt%2?he:ve)}else if("R"==Ut[0])zt=[he,ve][me](Ut.slice(1)),J.pop(),J=J[me](xn(zt,qe)),_t=["R"][me](Ut.slice(-2));else for(var Ft=0,Nt=Ut.length;Ft<Nt;Ft++)_t[Ft]=Ut[Ft];switch(_t[0]){case"Z":he=Te,ve=Ae;break;case"H":he=_t[1];break;case"V":ve=_t[1];break;case"M":Te=_t[_t.length-2],Ae=_t[_t.length-1];default:he=_t[_t.length-2],ve=_t[_t.length-1]}}return J.toString=z._path2string,W.abs=Qe(J),J},Ot=function(B,W,J,he){return[B,W,J,he,J,he]},Vt=function(B,W,J,he,ve,Te){var Ae=.3333333333333333,De=2/3;return[Ae*B+De*J,Ae*W+De*he,Ae*ve+De*J,Ae*Te+De*he,ve,Te]},tn=function(B,W,J,he,ve,Te,Ae,De,qe,_t){var zt,Ut=120*u/180,st=u/180*(+ve||0),pt=[],Yt=rn(function(tr,Ar,lr){return{x:tr*l.cos(lr)-Ar*l.sin(lr),y:tr*l.sin(lr)+Ar*l.cos(lr)}});if(_t)ir=_t[0],cr=_t[1],kr=_t[2],sr=_t[3];else{B=(zt=Yt(B,W,-st)).x,W=zt.y,De=(zt=Yt(De,qe,-st)).x,qe=zt.y,l.cos(u/180*ve),l.sin(u/180*ve);var Nt=(B-De)/2,ln=(W-qe)/2,Qt=Nt*Nt/(J*J)+ln*ln/(he*he);Qt>1&&(J*=Qt=l.sqrt(Qt),he*=Qt);var cn=J*J,Fn=he*he,Er=(Te==Ae?-1:1)*l.sqrt(i((cn*Fn-cn*ln*ln-Fn*Nt*Nt)/(cn*ln*ln+Fn*Nt*Nt))),kr=Er*J*ln/he+(B+De)/2,sr=Er*-he*Nt/J+(W+qe)/2,ir=l.asin(((W-sr)/he).toFixed(9)),cr=l.asin(((qe-sr)/he).toFixed(9));(ir=B<kr?u-ir:ir)<0&&(ir=2*u+ir),(cr=De<kr?u-cr:cr)<0&&(cr=2*u+cr),Ae&&ir>cr&&(ir-=2*u),!Ae&&cr>ir&&(cr-=2*u)}var ii=cr-ir;if(i(ii)>Ut){var ze=cr,St=De,Wt=qe;De=kr+J*l.cos(cr=ir+Ut*(Ae&&cr>ir?1:-1)),qe=sr+he*l.sin(cr),pt=tn(De,qe,J,he,ve,0,Ae,St,Wt,[cr,ze,kr,sr])}ii=cr-ir;var hn=l.cos(ir),Xn=l.sin(ir),We=l.cos(cr),Ce=l.sin(cr),bt=l.tan(ii/4),xt=4/3*J*bt,en=4/3*he*bt,En=[B,W],gn=[B+xt*Xn,W-en*hn],Sn=[De+xt*Ce,qe-en*We],_n=[De,qe];if(gn[0]=2*En[0]-gn[0],gn[1]=2*En[1]-gn[1],_t)return[gn,Sn,_n][me](pt);for(var Bn=[],qn=0,gr=(pt=[gn,Sn,_n][me](pt).join()[p](",")).length;qn<gr;qn++)Bn[qn]=qn%2?Yt(pt[qn-1],pt[qn],st).y:Yt(pt[qn],pt[qn+1],st).x;return Bn},wn=function(B,W,J,he,ve,Te,Ae,De,qe){var _t=1-qe;return{x:s(_t,3)*B+3*s(_t,2)*qe*J+3*_t*qe*qe*ve+s(qe,3)*Ae,y:s(_t,3)*W+3*s(_t,2)*qe*he+3*_t*qe*qe*Te+s(qe,3)*De}},on=rn(function(B,W,J,he,ve,Te,Ae,De){var It,qe=ve-2*J+B-(Ae-2*ve+J),_t=2*(J-B)-2*(ve-J),Ut=B-J,st=(-_t+l.sqrt(_t*_t-4*qe*Ut))/2/qe,pt=(-_t-l.sqrt(_t*_t-4*qe*Ut))/2/qe,zt=[W,De],Yt=[B,Ae];return i(st)>"1e12"&&(st=.5),i(pt)>"1e12"&&(pt=.5),st>0&&st<1&&(It=wn(B,W,J,he,ve,Te,Ae,De,st),Yt.push(It.x),zt.push(It.y)),pt>0&&pt<1&&(It=wn(B,W,J,he,ve,Te,Ae,De,pt),Yt.push(It.x),zt.push(It.y)),st=(-(_t=2*(he-W)-2*(Te-he))+l.sqrt(_t*_t-4*(qe=Te-2*he+W-(De-2*Te+he))*(Ut=W-he)))/2/qe,pt=(-_t-l.sqrt(_t*_t-4*qe*Ut))/2/qe,i(st)>"1e12"&&(st=.5),i(pt)>"1e12"&&(pt=.5),st>0&&st<1&&(It=wn(B,W,J,he,ve,Te,Ae,De,st),Yt.push(It.x),zt.push(It.y)),pt>0&&pt<1&&(It=wn(B,W,J,he,ve,Te,Ae,De,pt),Yt.push(It.x),zt.push(It.y)),{min:{x:t[ne](0,Yt),y:t[ne](0,zt)},max:{x:n[ne](0,Yt),y:n[ne](0,zt)}}}),Dt=z._path2curve=rn(function(B,W){var J=!W&&$n(B);if(!W&&J.curve)return Qe(J.curve);for(var he=sn(B),ve=W&&sn(W),Te={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ae={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},De=function(Ft,Nt,ln){var Qt,cn;if(!Ft)return["C",Nt.x,Nt.y,Nt.x,Nt.y,Nt.x,Nt.y];switch(!(Ft[0]in{T:1,Q:1})&&(Nt.qx=Nt.qy=null),Ft[0]){case"M":Nt.X=Ft[1],Nt.Y=Ft[2];break;case"A":Ft=["C"][me](tn[ne](0,[Nt.x,Nt.y][me](Ft.slice(1))));break;case"S":"C"==ln||"S"==ln?(Qt=2*Nt.x-Nt.bx,cn=2*Nt.y-Nt.by):(Qt=Nt.x,cn=Nt.y),Ft=["C",Qt,cn][me](Ft.slice(1));break;case"T":"Q"==ln||"T"==ln?(Nt.qx=2*Nt.x-Nt.qx,Nt.qy=2*Nt.y-Nt.qy):(Nt.qx=Nt.x,Nt.qy=Nt.y),Ft=["C"][me](Vt(Nt.x,Nt.y,Nt.qx,Nt.qy,Ft[1],Ft[2]));break;case"Q":Nt.qx=Ft[1],Nt.qy=Ft[2],Ft=["C"][me](Vt(Nt.x,Nt.y,Ft[1],Ft[2],Ft[3],Ft[4]));break;case"L":Ft=["C"][me](Ot(Nt.x,Nt.y,Ft[1],Ft[2]));break;case"H":Ft=["C"][me](Ot(Nt.x,Nt.y,Ft[1],Nt.y));break;case"V":Ft=["C"][me](Ot(Nt.x,Nt.y,Nt.x,Ft[1]));break;case"Z":Ft=["C"][me](Ot(Nt.x,Nt.y,Nt.X,Nt.Y))}return Ft},qe=function(Ft,Nt){if(Ft[Nt].length>7){Ft[Nt].shift();for(var ln=Ft[Nt];ln.length;)Ft.splice(Nt++,0,["C"][me](ln.splice(0,6)));Ft.splice(Nt,1),st=n(he.length,ve&&ve.length||0)}},_t=function(Ft,Nt,ln,Qt,cn){Ft&&Nt&&"M"==Ft[cn][0]&&"M"!=Nt[cn][0]&&(Nt.splice(cn,0,["M",Qt.x,Qt.y]),ln.bx=0,ln.by=0,ln.x=Ft[cn][1],ln.y=Ft[cn][2],st=n(he.length,ve&&ve.length||0))},Ut=0,st=n(he.length,ve&&ve.length||0);Ut<st;Ut++){he[Ut]=De(he[Ut],Te),qe(he,Ut),ve&&(ve[Ut]=De(ve[Ut],Ae)),ve&&qe(ve,Ut),_t(he,ve,Te,Ae,Ut),_t(ve,he,Ae,Te,Ut);var pt=he[Ut],zt=ve&&ve[Ut],Yt=pt.length,It=ve&&zt.length;Te.x=pt[Yt-2],Te.y=pt[Yt-1],Te.bx=A(pt[Yt-4])||Te.x,Te.by=A(pt[Yt-3])||Te.y,Ae.bx=ve&&(A(zt[It-4])||Ae.x),Ae.by=ve&&(A(zt[It-3])||Ae.y),Ae.x=ve&&zt[It-2],Ae.y=ve&&zt[It-1]}return ve||(J.curve=Qe(he)),ve?[he,ve]:he},null,Qe),Gt=(z._parseDots=rn(function(B){for(var W=[],J=0,he=B.length;J<he;J++){var ve={},Te=B[J].match(/^([^:]*):?([\d\.]*)/);if(ve.color=z.getRGB(Te[1]),ve.color.error)return null;ve.color=ve.color.hex,Te[2]&&(ve.offset=Te[2]+"%"),W.push(ve)}for(J=1,he=W.length-1;J<he;J++)if(!W[J].offset){for(var Ae=A(W[J-1].offset||0),De=0,qe=J+1;qe<he;qe++)if(W[qe].offset){De=W[qe].offset;break}De||(De=100,qe=he);for(var _t=((De=A(De))-Ae)/(qe-J+1);J<qe;J++)W[J].offset=(Ae+=_t)+"%"}return W}),z._tear=function(B,W){B==W.top&&(W.top=B.prev),B==W.bottom&&(W.bottom=B.next),B.next&&(B.next.prev=B.prev),B.prev&&(B.prev.next=B.next)}),jn=(z._tofront=function(B,W){W.top!==B&&(Gt(B,W),B.next=null,B.prev=W.top,W.top.next=B,W.top=B)},z._toback=function(B,W){W.bottom!==B&&(Gt(B,W),B.next=W.bottom,B.prev=null,W.bottom.prev=B,W.bottom=B)},z._insertafter=function(B,W,J){Gt(B,J),W==J.top&&(J.top=B),W.next&&(W.next.prev=B),B.next=W.next,B.prev=W,W.next=B},z._insertbefore=function(B,W,J){Gt(B,J),W==J.bottom&&(J.bottom=B),W.prev&&(W.prev.next=B),B.prev=W.prev,W.prev=B,B.next=W},z.toMatrix=function(B,W){var J=Je(B),he={_:{transform:L},getBBox:function(){return J}};return Yn(he,W),he.matrix}),Yn=(z.transformPath=function(B,W){return G(B,jn(B,W))},z._extractTransform=function(B,W){if(null==W)return B._.transform;W=g(W).replace(/\.{3}|\u2026/g,B._.transform||L);var ve,Te,J=z.parseTransformString(W),he=0,Ae=1,De=1,qe=B._,_t=new rt;if(qe.transform=J||[],J)for(var Ut=0,st=J.length;Ut<st;Ut++){var Nt,ln,Qt,cn,Fn,pt=J[Ut],zt=pt.length,Yt=g(pt[0]).toLowerCase(),It=pt[0]!=Yt,Ft=It?_t.invert():0;"t"==Yt&&3==zt?It?(Nt=Ft.x(0,0),ln=Ft.y(0,0),Qt=Ft.x(pt[1],pt[2]),cn=Ft.y(pt[1],pt[2]),_t.translate(Qt-Nt,cn-ln)):_t.translate(pt[1],pt[2]):"r"==Yt?2==zt?(Fn=Fn||B.getBBox(1),_t.rotate(pt[1],Fn.x+Fn.width/2,Fn.y+Fn.height/2),he+=pt[1]):4==zt&&(It?(Qt=Ft.x(pt[2],pt[3]),cn=Ft.y(pt[2],pt[3]),_t.rotate(pt[1],Qt,cn)):_t.rotate(pt[1],pt[2],pt[3]),he+=pt[1]):"s"==Yt?2==zt||3==zt?(Fn=Fn||B.getBBox(1),_t.scale(pt[1],pt[zt-1],Fn.x+Fn.width/2,Fn.y+Fn.height/2),Ae*=pt[1],De*=pt[zt-1]):5==zt&&(It?(Qt=Ft.x(pt[3],pt[4]),cn=Ft.y(pt[3],pt[4]),_t.scale(pt[1],pt[2],Qt,cn)):_t.scale(pt[1],pt[2],pt[3],pt[4]),Ae*=pt[1],De*=pt[2]):"m"==Yt&&7==zt&&_t.add(pt[1],pt[2],pt[3],pt[4],pt[5],pt[6]),qe.dirtyT=1,B.matrix=_t}B.matrix=_t,qe.sx=Ae,qe.sy=De,qe.deg=he,qe.dx=ve=_t.e,qe.dy=Te=_t.f,1==Ae&&1==De&&!he&&qe.bbox?(qe.bbox.x+=+ve,qe.bbox.y+=+Te):qe.dirtyT=1}),Wn=function(B){var W=B[0];switch(W.toLowerCase()){case"t":return[W,0,0];case"m":return[W,1,0,0,1,0,0];case"r":return 4==B.length?[W,0,B[2],B[3]]:[W,0];case"s":return 5==B.length?[W,1,1,B[3],B[4]]:3==B.length?[W,1,1]:[W,1]}},Gn=z._equaliseTransform=function(B,W){W=g(W).replace(/\.{3}|\u2026/g,B),B=z.parseTransformString(B)||[],W=z.parseTransformString(W)||[];for(var Ae,De,qe,_t,J=n(B.length,W.length),he=[],ve=[],Te=0;Te<J;Te++){if(qe=B[Te]||Wn(W[Te]),_t=W[Te]||Wn(qe),qe[0]!=_t[0]||"r"==qe[0].toLowerCase()&&(qe[2]!=_t[2]||qe[3]!=_t[3])||"s"==qe[0].toLowerCase()&&(qe[3]!=_t[3]||qe[4]!=_t[4]))return;for(he[Te]=[],ve[Te]=[],Ae=0,De=n(qe.length,_t.length);Ae<De;Ae++)Ae in qe&&(he[Te][Ae]=qe[Ae]),Ae in _t&&(ve[Te][Ae]=_t[Ae])}return{from:he,to:ve}};function rt(B,W,J,he,ve,Te){null!=B?(this.a=+B,this.b=+W,this.c=+J,this.d=+he,this.e=+ve,this.f=+Te):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}z._getContainer=function(B,W,J,he){var ve;if(null!=(ve=null!=he||z.is(B,"object")?B:_.doc.getElementById(B)))return ve.tagName?null==W?{container:ve,width:ve.style.pixelWidth||ve.offsetWidth,height:ve.style.pixelHeight||ve.offsetHeight}:{container:ve,width:W,height:J}:{container:1,x:B,y:W,width:J,height:he}},z.pathToRelative=ht,z._engine={},z.path2curve=Dt,z.matrix=function(B,W,J,he,ve,Te){return new rt(B,W,J,he,ve,Te)},function(B){function W(he){return he[0]*he[0]+he[1]*he[1]}function J(he){var ve=l.sqrt(W(he));he[0]&&(he[0]/=ve),he[1]&&(he[1]/=ve)}B.add=function(he,ve,Te,Ae,De,qe){var pt,zt,Yt,It,_t=[[],[],[]],Ut=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],st=[[he,Te,De],[ve,Ae,qe],[0,0,1]];for(he&&he instanceof rt&&(st=[[he.a,he.c,he.e],[he.b,he.d,he.f],[0,0,1]]),pt=0;pt<3;pt++)for(zt=0;zt<3;zt++){for(It=0,Yt=0;Yt<3;Yt++)It+=Ut[pt][Yt]*st[Yt][zt];_t[pt][zt]=It}this.a=_t[0][0],this.b=_t[1][0],this.c=_t[0][1],this.d=_t[1][1],this.e=_t[0][2],this.f=_t[1][2]},B.invert=function(){var he=this,ve=he.a*he.d-he.b*he.c;return new rt(he.d/ve,-he.b/ve,-he.c/ve,he.a/ve,(he.c*he.f-he.d*he.e)/ve,(he.b*he.e-he.a*he.f)/ve)},B.clone=function(){return new rt(this.a,this.b,this.c,this.d,this.e,this.f)},B.translate=function(he,ve){this.add(1,0,0,1,he,ve)},B.scale=function(he,ve,Te,Ae){null==ve&&(ve=he),(Te||Ae)&&this.add(1,0,0,1,Te,Ae),this.add(he,0,0,ve,0,0),(Te||Ae)&&this.add(1,0,0,1,-Te,-Ae)},B.rotate=function(he,ve,Te){he=z.rad(he),ve=ve||0,Te=Te||0;var Ae=+l.cos(he).toFixed(9),De=+l.sin(he).toFixed(9);this.add(Ae,De,-De,Ae,ve,Te),this.add(1,0,0,1,-ve,-Te)},B.x=function(he,ve){return he*this.a+ve*this.c+this.e},B.y=function(he,ve){return he*this.b+ve*this.d+this.f},B.get=function(he){return+this[g.fromCharCode(97+he)].toFixed(4)},B.toString=function(){return z.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},B.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},B.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},B.split=function(){var he={};he.dx=this.e,he.dy=this.f;var ve=[[this.a,this.c],[this.b,this.d]];he.scalex=l.sqrt(W(ve[0])),J(ve[0]),he.shear=ve[0][0]*ve[1][0]+ve[0][1]*ve[1][1],ve[1]=[ve[1][0]-ve[0][0]*he.shear,ve[1][1]-ve[0][1]*he.shear],he.scaley=l.sqrt(W(ve[1])),J(ve[1]),he.shear/=he.scaley;var Te=-ve[0][1],Ae=ve[1][1];return Ae<0?(he.rotate=z.deg(l.acos(Ae)),Te<0&&(he.rotate=360-he.rotate)):he.rotate=z.deg(l.asin(Te)),he.isSimple=!(+he.shear.toFixed(9)||he.scalex.toFixed(9)!=he.scaley.toFixed(9)&&he.rotate),he.isSuperSimple=!+he.shear.toFixed(9)&&he.scalex.toFixed(9)==he.scaley.toFixed(9)&&!he.rotate,he.noRotation=!+he.shear.toFixed(9)&&!he.rotate,he},B.toTransformString=function(he){var ve=he||this[p]();return ve.isSimple?(ve.scalex=+ve.scalex.toFixed(4),ve.scaley=+ve.scaley.toFixed(4),ve.rotate=+ve.rotate.toFixed(4),(ve.dx||ve.dy?"t"+[ve.dx,ve.dy]:L)+(1!=ve.scalex||1!=ve.scaley?"s"+[ve.scalex,ve.scaley,0,0]:L)+(ve.rotate?"r"+[ve.rotate,0,0]:L)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(rt.prototype);var le=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);ce.safari="Apple Computer, Inc."==navigator.vendor&&(le&&le[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&le&&le[1]<8?function(){var B=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){B.remove()})}:function(){};for(var nt=function(){this.returnValue=!1},ot=function(){return this.originalEvent.preventDefault()},ye=function(){this.cancelBubble=!0},ut=function(){return this.originalEvent.stopPropagation()},Qr=function(B){return{x:B.clientX+(_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft),y:B.clientY+(_.doc.documentElement.scrollTop||_.doc.body.scrollTop)}},Ri=_.doc.addEventListener?function(B,W,J,he){var ve=function(Ae){var De=Qr(Ae);return J.call(he,Ae,De.x,De.y)};return B.addEventListener(W,ve,!1),v&&r[W]&&B.addEventListener(r[W],function(Ae){for(var De=Qr(Ae),qe=Ae,_t=0,Ut=Ae.targetTouches&&Ae.targetTouches.length;_t<Ut;_t++)if(Ae.targetTouches[_t].target==B){(Ae=Ae.targetTouches[_t]).originalEvent=qe,Ae.preventDefault=ot,Ae.stopPropagation=ut;break}return J.call(he,Ae,De.x,De.y)},!1),function(){return B.removeEventListener(W,ve,!1),v&&r[W]&&B.removeEventListener(r[W],ve,!1),!0}}:_.doc.attachEvent?function(B,W,J,he){var ve=function(Ae){var _t=(Ae=Ae||_.win.event).clientX+(_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft),Ut=Ae.clientY+(_.doc.documentElement.scrollTop||_.doc.body.scrollTop);return Ae.preventDefault=Ae.preventDefault||nt,Ae.stopPropagation=Ae.stopPropagation||ye,J.call(he,Ae,_t,Ut)};return B.attachEvent("on"+W,ve),function(){return B.detachEvent("on"+W,ve),!0}}:void 0,jr=[],ci=function(B){for(var Te,W=B.clientX,J=B.clientY,he=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,ve=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft,Ae=jr.length;Ae--;){if(Te=jr[Ae],v&&B.touches){for(var qe,De=B.touches.length;De--;)if((qe=B.touches[De]).identifier==Te.el._drag.id){W=qe.clientX,J=qe.clientY,(B.originalEvent?B.originalEvent:B).preventDefault();break}}else B.preventDefault();var Ut,_t=Te.el.node,st=_t.nextSibling,pt=_t.parentNode,zt=_t.style.display;_.win.opera&&pt.removeChild(_t),_t.style.display="none",Ut=Te.el.paper.getElementByPoint(W,J),_t.style.display=zt,_.win.opera&&(st?pt.insertBefore(_t,st):pt.appendChild(_t)),Ut&&vn("raphael.drag.over."+Te.el.id,Te.el,Ut),vn("raphael.drag.move."+Te.el.id,Te.move_scope||Te.el,(W+=ve)-Te.el._drag.x,(J+=he)-Te.el._drag.y,W,J,B)}},ri=function(B){z.unmousemove(ci).unmouseup(ri);for(var J,W=jr.length;W--;)(J=jr[W]).el._drag={},vn("raphael.drag.end."+J.el.id,J.end_scope||J.start_scope||J.move_scope||J.el,B);jr=[]},ur=z.el={},yi=x.length;yi--;)!function(B){z[B]=ur[B]=function(W,J){return z.is(W,"function")&&(this.events=this.events||[],this.events.push({name:B,f:W,unbind:Ri(this.shape||this.node||_.doc,B,W,J||this)})),this},z["un"+B]=ur["un"+B]=function(W){for(var J=this.events||[],he=J.length;he--;)J[he].name==B&&(z.is(W,"undefined")||J[he].f==W)&&(J[he].unbind(),J.splice(he,1),!J.length&&delete this.events);return this}}(x[yi]);ur.data=function(B,W){var J=it[this.id]=it[this.id]||{};if(0==arguments.length)return J;if(1==arguments.length){if(z.is(B,"object")){for(var he in B)B[Pe](he)&&this.data(he,B[he]);return this}return vn("raphael.data.get."+this.id,this,J[B],B),J[B]}return J[B]=W,vn("raphael.data.set."+this.id,this,W,B),this},ur.removeData=function(B){return null==B?it[this.id]={}:it[this.id]&&delete it[this.id][B],this},ur.getData=function(){return oe(it[this.id]||{})},ur.hover=function(B,W,J,he){return this.mouseover(B,J).mouseout(W,he||J)},ur.unhover=function(B,W){return this.unmouseover(B).unmouseout(W)};var Mr=[];function xr(){return this.x+h+this.y+h+this.width+" \xd7 "+this.height}ur.drag=function(B,W,J,he,ve,Te){function Ae(De){(De.originalEvent||De).preventDefault();var qe=De.clientX,_t=De.clientY,Ut=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,st=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft;if(this._drag.id=De.identifier,v&&De.touches)for(var zt,pt=De.touches.length;pt--;)if(this._drag.id=(zt=De.touches[pt]).identifier,zt.identifier==this._drag.id){qe=zt.clientX,_t=zt.clientY;break}this._drag.x=qe+st,this._drag.y=_t+Ut,!jr.length&&z.mousemove(ci).mouseup(ri),jr.push({el:this,move_scope:he,start_scope:ve,end_scope:Te}),W&&vn.on("raphael.drag.start."+this.id,W),B&&vn.on("raphael.drag.move."+this.id,B),J&&vn.on("raphael.drag.end."+this.id,J),vn("raphael.drag.start."+this.id,ve||he||this,De.clientX+st,De.clientY+Ut,De)}return this._drag={},Mr.push({el:this,start:Ae}),this.mousedown(Ae),this},ur.onDragOver=function(B){B?vn.on("raphael.drag.over."+this.id,B):vn.unbind("raphael.drag.over."+this.id)},ur.undrag=function(){for(var B=Mr.length;B--;)Mr[B].el==this&&(this.unmousedown(Mr[B].start),Mr.splice(B,1),vn.unbind("raphael.drag.*."+this.id));!Mr.length&&z.unmousemove(ci).unmouseup(ri),jr=[]},ce.circle=function(B,W,J){var he=z._engine.circle(this,B||0,W||0,J||0);return this.__set__&&this.__set__.push(he),he},ce.rect=function(B,W,J,he,ve){var Te=z._engine.rect(this,B||0,W||0,J||0,he||0,ve||0);return this.__set__&&this.__set__.push(Te),Te},ce.ellipse=function(B,W,J,he){var ve=z._engine.ellipse(this,B||0,W||0,J||0,he||0);return this.__set__&&this.__set__.push(ve),ve},ce.path=function(B){B&&!z.is(B,d)&&!z.is(B[0],f)&&(B+=L);var W=z._engine.path(z.format[ne](z,arguments),this);return this.__set__&&this.__set__.push(W),W},ce.image=function(B,W,J,he,ve){var Te=z._engine.image(this,B||"about:blank",W||0,J||0,he||0,ve||0);return this.__set__&&this.__set__.push(Te),Te},ce.text=function(B,W,J){var he=z._engine.text(this,B||0,W||0,g(J));return this.__set__&&this.__set__.push(he),he},ce.set=function(B){!z.is(B,"array")&&(B=Array.prototype.splice.call(arguments,0,arguments.length));var W=new ji(B);return this.__set__&&this.__set__.push(W),W.paper=this,W.type="set",W},ce.setStart=function(B){this.__set__=B||this.set()},ce.setFinish=function(B){var W=this.__set__;return delete this.__set__,W},ce.setSize=function(B,W){return z._engine.setSize.call(this,B,W)},ce.setViewBox=function(B,W,J,he,ve){return z._engine.setViewBox.call(this,B,W,J,he,ve)},ce.top=ce.bottom=null,ce.raphael=z,ce.getElementByPoint=function(B,W){var J=this,he=J.canvas,ve=_.doc.elementFromPoint(B,W);if(_.win.opera&&"svg"==ve.tagName){var Te=function(B){var W=B.getBoundingClientRect(),J=B.ownerDocument,he=J.body,ve=J.documentElement;return{y:W.top+(_.win.pageYOffset||ve.scrollTop||he.scrollTop)-(ve.clientTop||he.clientTop||0),x:W.left+(_.win.pageXOffset||ve.scrollLeft||he.scrollLeft)-(ve.clientLeft||he.clientLeft||0)}}(he),Ae=he.createSVGRect();Ae.x=B-Te.x,Ae.y=W-Te.y,Ae.width=Ae.height=1;var De=he.getIntersectionList(Ae,null);De.length&&(ve=De[De.length-1])}if(!ve)return null;for(;ve.parentNode&&ve!=he.parentNode&&!ve.raphael;)ve=ve.parentNode;return ve==J.canvas.parentNode&&(ve=he),ve&&ve.raphael?J.getById(ve.raphaelid):null},ce.getElementsByBBox=function(B){var W=this.set();return this.forEach(function(J){z.isBBoxIntersect(J.getBBox(),B)&&W.push(J)}),W},ce.getById=function(B){for(var W=this.bottom;W;){if(W.id==B)return W;W=W.next}return null},ce.forEach=function(B,W){for(var J=this.bottom;J;){if(!1===B.call(W,J))return this;J=J.next}return this},ce.getElementsByPoint=function(B,W){var J=this.set();return this.forEach(function(he){he.isPointInside(B,W)&&J.push(he)}),J},ur.isPointInside=function(B,W){var J=this.realPath=vt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(J=z.transformPath(J,this.attr("transform"))),z.isPointInsidePath(J,B,W)},ur.getBBox=function(B){if(this.removed)return{};var W=this._;return B?((W.dirty||!W.bboxwt)&&(this.realPath=vt[this.type](this),W.bboxwt=Je(this.realPath),W.bboxwt.toString=xr,W.dirty=0),W.bboxwt):((W.dirty||W.dirtyT||!W.bbox)&&((W.dirty||!this.realPath)&&(W.bboxwt=0,this.realPath=vt[this.type](this)),W.bbox=Je(G(this.realPath,this.matrix)),W.bbox.toString=xr,W.dirty=W.dirtyT=0),W.bbox)},ur.clone=function(){if(this.removed)return null;var B=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(B),B},ur.glow=function(B){if("text"==this.type)return null;var W={width:((B=B||{}).width||10)+(+this.attr("stroke-width")||1),fill:B.fill||!1,opacity:B.opacity||.5,offsetx:B.offsetx||0,offsety:B.offsety||0,color:B.color||"#000"},J=W.width/2,he=this.paper,ve=he.set(),Te=this.realPath||vt[this.type](this);Te=this.matrix?G(Te,this.matrix):Te;for(var Ae=1;Ae<J+1;Ae++)ve.push(he.path(Te).attr({stroke:W.color,fill:W.fill?W.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(W.width/J*Ae).toFixed(3),opacity:+(W.opacity/J).toFixed(3)}));return ve.insertBefore(this).translate(W.offsetx,W.offsety)};var Xr=function(B,W,J,he,ve,Te,Ae,De,qe){return null==qe?On(B,W,J,he,ve,Te,Ae,De):z.findDotsAtSegment(B,W,J,he,ve,Te,Ae,De,function Sr(B,W,J,he,ve,Te,Ae,De,qe){if(!(qe<0||On(B,W,J,he,ve,Te,Ae,De)<qe)){var pt,Ut=.5,st=1-Ut;for(pt=On(B,W,J,he,ve,Te,Ae,De,st);i(pt-qe)>.01;)pt=On(B,W,J,he,ve,Te,Ae,De,st+=(pt<qe?1:-1)*(Ut/=2));return st}}(B,W,J,he,ve,Te,Ae,De,qe))},qr=function(B,W){return function(J,he,ve){for(var Te,Ae,De,qe,st,_t="",Ut={},pt=0,zt=0,Yt=(J=Dt(J)).length;zt<Yt;zt++){if("M"==(De=J[zt])[0])Te=+De[1],Ae=+De[2];else{if(pt+(qe=Xr(Te,Ae,De[1],De[2],De[3],De[4],De[5],De[6]))>he){if(W&&!Ut.start){if(_t+=["C"+(st=Xr(Te,Ae,De[1],De[2],De[3],De[4],De[5],De[6],he-pt)).start.x,st.start.y,st.m.x,st.m.y,st.x,st.y],ve)return _t;Ut.start=_t,_t=["M"+st.x,st.y+"C"+st.n.x,st.n.y,st.end.x,st.end.y,De[5],De[6]].join(),pt+=qe,Te=+De[5],Ae=+De[6];continue}if(!B&&!W)return{x:(st=Xr(Te,Ae,De[1],De[2],De[3],De[4],De[5],De[6],he-pt)).x,y:st.y,alpha:st.alpha}}pt+=qe,Te=+De[5],Ae=+De[6]}_t+=De.shift()+De}return Ut.end=_t,(st=B?pt:W?Ut:z.findDotsAtSegment(Te,Ae,De[0],De[1],De[2],De[3],De[4],De[5],1)).alpha&&(st={x:st.x,y:st.y,alpha:st.alpha}),st}},Vr=qr(1),hi=qr(),pi=qr(0,1);z.getTotalLength=Vr,z.getPointAtLength=hi,z.getSubpath=function(B,W,J){if(this.getTotalLength(B)-J<1e-6)return pi(B,W).end;var he=pi(B,J,1);return W?pi(he,W).end:he},ur.getTotalLength=function(){var B=this.getPath();if(B)return this.node.getTotalLength?this.node.getTotalLength():Vr(B)},ur.getPointAtLength=function(B){var W=this.getPath();if(W)return hi(W,B)},ur.getPath=function(){var B,W=z._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return W&&(B=W(this)),B},ur.getSubpath=function(B,W){var J=this.getPath();if(J)return z.getSubpath(J,B,W)};var Hr=z.easing_formulas={linear:function(B){return B},"<":function(B){return s(B,1.7)},">":function(B){return s(B,.48)},"<>":function(B){var W=.48-B/1.04,J=l.sqrt(.1734+W*W),he=J-W,Te=-J-W,De=s(i(he),1/3)*(he<0?-1:1)+s(i(Te),1/3)*(Te<0?-1:1)+.5;return 3*(1-De)*De*De+De*De*De},backIn:function(B){var W=1.70158;return B*B*((W+1)*B-W)},backOut:function(B){var W=1.70158;return(B-=1)*B*((W+1)*B+W)+1},elastic:function(B){return B==!!B?B:s(2,-10*B)*l.sin(2*u*(B-.075)/.3)+1},bounce:function(B){var W=7.5625,J=2.75;return B<1/J?W*B*B:B<2/J?W*(B-=1.5/J)*B+.75:B<2.5/J?W*(B-=2.25/J)*B+.9375:W*(B-=2.625/J)*B+.984375}};Hr.easeIn=Hr["ease-in"]=Hr["<"],Hr.easeOut=Hr["ease-out"]=Hr[">"],Hr.easeInOut=Hr["ease-in-out"]=Hr["<>"],Hr["back-in"]=Hr.backIn,Hr["back-out"]=Hr.backOut;var Qn=[],vr=Kt.requestAnimationFrame||Kt.webkitRequestAnimationFrame||Kt.mozRequestAnimationFrame||Kt.oRequestAnimationFrame||Kt.msRequestAnimationFrame||function(B){setTimeout(B,16)},Vi=function(){for(var B=+new Date,W=0;W<Qn.length;W++){var J=Qn[W];if(!J.el.removed&&!J.paused){var pt,Yt,he=B-J.start,ve=J.ms,Te=J.easing,Ae=J.from,De=J.diff,qe=J.to,Ut=J.el,st={},zt={};if(J.initstatus?(he=(J.initstatus*J.anim.top-J.prev)/(J.percent-J.prev)*ve,J.status=J.initstatus,delete J.initstatus,J.stop&&Qn.splice(W--,1)):J.status=(J.prev+he/ve*(J.percent-J.prev))/J.anim.top,!(he<0))if(he<ve){var It=Te(he/ve);for(var Ft in Ae)if(Ae[Pe](Ft)){switch(C[Ft]){case o:pt=+Ae[Ft]+It*ve*De[Ft];break;case"colour":pt="rgb("+[Gi(xe(Ae[Ft].r+It*ve*De[Ft].r)),Gi(xe(Ae[Ft].g+It*ve*De[Ft].g)),Gi(xe(Ae[Ft].b+It*ve*De[Ft].b))].join(",")+")";break;case"path":pt=[];for(var Nt=0,ln=Ae[Ft].length;Nt<ln;Nt++){pt[Nt]=[Ae[Ft][Nt][0]];for(var Qt=1,cn=Ae[Ft][Nt].length;Qt<cn;Qt++)pt[Nt][Qt]=+Ae[Ft][Nt][Qt]+It*ve*De[Ft][Nt][Qt];pt[Nt]=pt[Nt].join(h)}pt=pt.join(h);break;case"transform":if(De[Ft].real)for(pt=[],Nt=0,ln=Ae[Ft].length;Nt<ln;Nt++)for(pt[Nt]=[Ae[Ft][Nt][0]],Qt=1,cn=Ae[Ft][Nt].length;Qt<cn;Qt++)pt[Nt][Qt]=Ae[Ft][Nt][Qt]+It*ve*De[Ft][Nt][Qt];else{var Fn=function(kr){return+Ae[Ft][kr]+It*ve*De[Ft][kr]};pt=[["m",Fn(0),Fn(1),Fn(2),Fn(3),Fn(4),Fn(5)]]}break;case"csv":if("clip-rect"==Ft)for(pt=[],Nt=4;Nt--;)pt[Nt]=+Ae[Ft][Nt]+It*ve*De[Ft][Nt];break;default:var Er=[][me](Ae[Ft]);for(pt=[],Nt=Ut.paper.customAttributes[Ft].length;Nt--;)pt[Nt]=+Er[Nt]+It*ve*De[Ft][Nt]}st[Ft]=pt}Ut.attr(st),function(kr,sr,ir){setTimeout(function(){vn("raphael.anim.frame."+kr,sr,ir)})}(Ut.id,Ut,J.anim)}else{if(function(kr,sr,ir){setTimeout(function(){vn("raphael.anim.frame."+sr.id,sr,ir),vn("raphael.anim.finish."+sr.id,sr,ir),z.is(kr,"function")&&kr.call(sr)})}(J.callback,Ut,J.anim),Ut.attr(qe),Qn.splice(W--,1),J.repeat>1&&!J.next){for(Yt in qe)qe[Pe](Yt)&&(zt[Yt]=J.totalOrigin[Yt]);J.el.attr(zt),Fi(J.anim,J.el,J.anim.percents[0],null,J.totalOrigin,J.repeat-1)}J.next&&!J.stop&&Fi(J.anim,J.el,J.next,null,J.totalOrigin,J.repeat)}}}z.svg&&Ut&&Ut.paper&&Ut.paper.safari(),Qn.length&&vr(Vi)},Gi=function(B){return B>255?255:B<0?0:B};function Mi(B,W){var J=[],he={};if(this.ms=W,this.times=1,B){for(var ve in B)B[Pe](ve)&&(he[A(ve)]=B[ve],J.push(A(ve)));J.sort(qt)}this.anim=he,this.top=J[J.length-1],this.percents=J}function Fi(B,W,J,he,ve,Te){J=A(J);var Ae,De,qe,Ut,st,pt,zt=B.ms,Yt={},It={},Ft={};if(he)for(ln=0,Qt=Qn.length;ln<Qt;ln++){var Nt=Qn[ln];if(Nt.el.id==W.id&&Nt.anim==B){Nt.percent!=J?(Qn.splice(ln,1),qe=1):De=Nt,W.attr(Nt.totalOrigin);break}}else he=+It;for(var ln=0,Qt=B.percents.length;ln<Qt;ln++){if(B.percents[ln]==J||B.percents[ln]>he*B.top){zt=zt/B.top*((J=B.percents[ln])-(st=B.percents[ln-1]||0)),Ut=B.percents[ln+1],Ae=B.anim[J];break}he&&W.attr(B.anim[B.percents[ln]])}if(Ae){if(De)De.initstatus=he,De.start=new Date-De.ms*he;else{for(var cn in Ae)if(Ae[Pe](cn)&&(C[Pe](cn)||W.paper.customAttributes[Pe](cn)))switch(Yt[cn]=W.attr(cn),null==Yt[cn]&&(Yt[cn]=y[cn]),It[cn]=Ae[cn],C[cn]){case o:Ft[cn]=(It[cn]-Yt[cn])/zt;break;case"colour":Yt[cn]=z.getRGB(Yt[cn]);var Fn=z.getRGB(It[cn]);Ft[cn]={r:(Fn.r-Yt[cn].r)/zt,g:(Fn.g-Yt[cn].g)/zt,b:(Fn.b-Yt[cn].b)/zt};break;case"path":var Er=Dt(Yt[cn],It[cn]),kr=Er[1];for(Yt[cn]=Er[0],Ft[cn]=[],ln=0,Qt=Yt[cn].length;ln<Qt;ln++){Ft[cn][ln]=[0];for(var sr=1,ir=Yt[cn][ln].length;sr<ir;sr++)Ft[cn][ln][sr]=(kr[ln][sr]-Yt[cn][ln][sr])/zt}break;case"transform":var cr=W._,ii=Gn(cr[cn],It[cn]);if(ii)for(Yt[cn]=ii.from,It[cn]=ii.to,Ft[cn]=[],Ft[cn].real=!0,ln=0,Qt=Yt[cn].length;ln<Qt;ln++)for(Ft[cn][ln]=[Yt[cn][ln][0]],sr=1,ir=Yt[cn][ln].length;sr<ir;sr++)Ft[cn][ln][sr]=(It[cn][ln][sr]-Yt[cn][ln][sr])/zt;else{var ze=W.matrix||new rt,St={_:{transform:cr.transform},getBBox:function(){return W.getBBox(1)}};Yt[cn]=[ze.a,ze.b,ze.c,ze.d,ze.e,ze.f],Yn(St,It[cn]),It[cn]=St._.transform,Ft[cn]=[(St.matrix.a-ze.a)/zt,(St.matrix.b-ze.b)/zt,(St.matrix.c-ze.c)/zt,(St.matrix.d-ze.d)/zt,(St.matrix.e-ze.e)/zt,(St.matrix.f-ze.f)/zt]}break;case"csv":var Wt=g(Ae[cn])[p](Et),hn=g(Yt[cn])[p](Et);if("clip-rect"==cn)for(Yt[cn]=hn,Ft[cn]=[],ln=hn.length;ln--;)Ft[cn][ln]=(Wt[ln]-Yt[cn][ln])/zt;It[cn]=Wt;break;default:for(Wt=[][me](Ae[cn]),hn=[][me](Yt[cn]),Ft[cn]=[],ln=W.paper.customAttributes[cn].length;ln--;)Ft[cn][ln]=((Wt[ln]||0)-(hn[ln]||0))/zt}var Xn=Ae.easing,We=z.easing_formulas[Xn];if(!We)if((We=g(Xn).match(se))&&5==We.length){var Ce=We;We=function(bt){return function lo(B,W,J,he,ve,Te){var Ae=3*W,De=3*(he-W)-Ae,qe=1-Ae-De,_t=3*J,Ut=3*(ve-J)-_t,st=1-_t-Ut;function pt(It){return((qe*It+De)*It+Ae)*It}return function zt(It,Ft){var Nt=function Yt(It,Ft){var Nt,ln,Qt,cn,Fn,Er;for(Qt=It,Er=0;Er<8;Er++){if(cn=pt(Qt)-It,i(cn)<Ft)return Qt;if(i(Fn=(3*qe*Qt+2*De)*Qt+Ae)<1e-6)break;Qt-=cn/Fn}if((Qt=It)<(Nt=0))return Nt;if(Qt>(ln=1))return ln;for(;Nt<ln;){if(cn=pt(Qt),i(cn-It)<Ft)return Qt;It>cn?Nt=Qt:ln=Qt,Qt=(ln-Nt)/2+Nt}return Qt}(It,Ft);return((st*Nt+Ut)*Nt+_t)*Nt}(B,1/(200*Te))}(bt,+Ce[1],+Ce[2],+Ce[3],+Ce[4],zt)}}else We=Ht;if(Nt={anim:B,percent:J,timestamp:pt=Ae.start||B.start||+new Date,start:pt+(B.del||0),status:0,initstatus:he||0,stop:!1,ms:zt,easing:We,from:Yt,diff:Ft,to:It,el:W,callback:Ae.callback,prev:st,next:Ut,repeat:Te||B.times,origin:W.attr(),totalOrigin:ve},Qn.push(Nt),he&&!De&&!qe&&(Nt.stop=!0,Nt.start=new Date-zt*he,1==Qn.length))return Vi();qe&&(Nt.start=new Date-Nt.ms*he),1==Qn.length&&vr(Vi)}vn("raphael.anim.start."+W.id,W,B)}}function Si(B){for(var W=0;W<Qn.length;W++)Qn[W].el.paper==B&&Qn.splice(W--,1)}ur.animateWith=function(B,W,J,he,ve,Te){var Ae=this;if(Ae.removed)return Te&&Te.call(Ae),Ae;var De=J instanceof Mi?J:z.animation(J,he,ve,Te);Fi(De,Ae,De.percents[0],null,Ae.attr());for(var Ut=0,st=Qn.length;Ut<st;Ut++)if(Qn[Ut].anim==W&&Qn[Ut].el==B){Qn[st-1].start=Qn[Ut].start;break}return Ae},ur.onAnimation=function(B){return B?vn.on("raphael.anim.frame."+this.id,B):vn.unbind("raphael.anim.frame."+this.id),this},Mi.prototype.delay=function(B){var W=new Mi(this.anim,this.ms);return W.times=this.times,W.del=+B||0,W},Mi.prototype.repeat=function(B){var W=new Mi(this.anim,this.ms);return W.del=this.del,W.times=l.floor(n(B,0))||1,W},z.animation=function(B,W,J,he){if(B instanceof Mi)return B;(z.is(J,"function")||!J)&&(he=he||J||null,J=null),B=Object(B),W=+W||0;var Te,Ae,ve={};for(Ae in B)B[Pe](Ae)&&A(Ae)!=Ae&&A(Ae)+"%"!=Ae&&(Te=!0,ve[Ae]=B[Ae]);return Te?(J&&(ve.easing=J),he&&(ve.callback=he),new Mi({100:ve},W)):new Mi(B,W)},ur.animate=function(B,W,J,he){var ve=this;if(ve.removed)return he&&he.call(ve),ve;var Te=B instanceof Mi?B:z.animation(B,W,J,he);return Fi(Te,ve,Te.percents[0],null,ve.attr()),ve},ur.setTime=function(B,W){return B&&null!=W&&this.status(B,t(W,B.ms)/B.ms),this},ur.status=function(B,W){var ve,Te,J=[],he=0;if(null!=W)return Fi(B,this,-1,t(W,1)),this;for(ve=Qn.length;he<ve;he++)if((Te=Qn[he]).el.id==this.id&&(!B||Te.anim==B)){if(B)return Te.status;J.push({anim:Te.anim,status:Te.status})}return B?0:J},ur.pause=function(B){for(var W=0;W<Qn.length;W++)Qn[W].el.id==this.id&&(!B||Qn[W].anim==B)&&!1!==vn("raphael.anim.pause."+this.id,this,Qn[W].anim)&&(Qn[W].paused=!0);return this},ur.resume=function(B){for(var W=0;W<Qn.length;W++)if(Qn[W].el.id==this.id&&(!B||Qn[W].anim==B)){var J=Qn[W];!1!==vn("raphael.anim.resume."+this.id,this,J.anim)&&(delete J.paused,this.status(J.anim,J.status))}return this},ur.stop=function(B){for(var W=0;W<Qn.length;W++)Qn[W].el.id==this.id&&(!B||Qn[W].anim==B)&&!1!==vn("raphael.anim.stop."+this.id,this,Qn[W].anim)&&Qn.splice(W--,1);return this},vn.on("raphael.remove",Si),vn.on("raphael.clear",Si),ur.toString=function(){return"Rapha\xebl\u2019s object"};var ji=function(B){if(this.items=[],this.length=0,this.type="set",B)for(var W=0,J=B.length;W<J;W++)B[W]&&(B[W].constructor==ur.constructor||B[W].constructor==ji)&&(this[this.items.length]=this.items[this.items.length]=B[W],this.length++)},$r=ji.prototype;for(var wo in $r.push=function(){for(var B,W,J=0,he=arguments.length;J<he;J++)(B=arguments[J])&&(B.constructor==ur.constructor||B.constructor==ji)&&(this[W=this.items.length]=this.items[W]=B,this.length++);return this},$r.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},$r.forEach=function(B,W){for(var J=0,he=this.items.length;J<he;J++)if(!1===B.call(W,this.items[J],J))return this;return this},ur)ur[Pe](wo)&&($r[wo]=function(B){return function(){var W=arguments;return this.forEach(function(J){J[B][ne](J,W)})}}(wo));return $r.attr=function(B,W){if(B&&z.is(B,f)&&z.is(B[0],"object"))for(var J=0,he=B.length;J<he;J++)this.items[J].attr(B[J]);else for(var ve=0,Te=this.items.length;ve<Te;ve++)this.items[ve].attr(B,W);return this},$r.clear=function(){for(;this.length;)this.pop()},$r.splice=function(B,W,J){B=B<0?n(this.length+B,0):B,W=n(0,t(this.length-B,W));var Ae,he=[],ve=[],Te=[];for(Ae=2;Ae<arguments.length;Ae++)Te.push(arguments[Ae]);for(Ae=0;Ae<W;Ae++)ve.push(this[B+Ae]);for(;Ae<this.length-B;Ae++)he.push(this[B+Ae]);var De=Te.length;for(Ae=0;Ae<De+he.length;Ae++)this.items[B+Ae]=this[B+Ae]=Ae<De?Te[Ae]:he[Ae-De];for(Ae=this.items.length=this.length-=W-De;this[Ae];)delete this[Ae++];return new ji(ve)},$r.exclude=function(B){for(var W=0,J=this.length;W<J;W++)if(this[W]==B)return this.splice(W,1),!0},$r.animate=function(B,W,J,he){(z.is(J,"function")||!J)&&(he=J||null);var Ae,qe,ve=this.items.length,Te=ve,De=this;if(!ve)return this;he&&(qe=function(){!--ve&&he.call(De)}),J=z.is(J,d)?J:qe;var _t=z.animation(B,W,J,qe);for(Ae=this.items[--Te].animate(_t);Te--;)this.items[Te]&&!this.items[Te].removed&&this.items[Te].animateWith(Ae,_t,_t),this.items[Te]&&!this.items[Te].removed||ve--;return this},$r.insertAfter=function(B){for(var W=this.items.length;W--;)this.items[W].insertAfter(B);return this},$r.getBBox=function(){for(var B=[],W=[],J=[],he=[],ve=this.items.length;ve--;)if(!this.items[ve].removed){var Te=this.items[ve].getBBox();B.push(Te.x),W.push(Te.y),J.push(Te.x+Te.width),he.push(Te.y+Te.height)}return{x:B=t[ne](0,B),y:W=t[ne](0,W),x2:J=n[ne](0,J),y2:he=n[ne](0,he),width:J-B,height:he-W}},$r.clone=function(B){B=this.paper.set();for(var W=0,J=this.items.length;W<J;W++)B.push(this.items[W].clone());return B},$r.toString=function(){return"Rapha\xebl\u2018s set"},$r.glow=function(B){var W=this.paper.set();return this.forEach(function(J,he){var ve=J.glow(B);null!=ve&&ve.forEach(function(Te,Ae){W.push(Te)})}),W},$r.isPointInside=function(B,W){var J=!1;return this.forEach(function(he){if(he.isPointInside(B,W))return console.log("runned"),J=!0,!1}),J},z.registerFont=function(B){if(!B.face)return B;this.fonts=this.fonts||{};var W={w:B.w,face:{},glyphs:{}},J=B.face["font-family"];for(var he in B.face)B.face[Pe](he)&&(W.face[he]=B.face[he]);if(this.fonts[J]?this.fonts[J].push(W):this.fonts[J]=[W],!B.svg)for(var ve in W.face["units-per-em"]=P(B.face["units-per-em"],10),B.glyphs)if(B.glyphs[Pe](ve)){var Te=B.glyphs[ve];if(W.glyphs[ve]={w:Te.w,k:{},d:Te.d&&"M"+Te.d.replace(/[mlcxtrv]/g,function(De){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[De]||"M"})+"z"},Te.k)for(var Ae in Te.k)Te[Pe](Ae)&&(W.glyphs[ve].k[Ae]=Te.k[Ae])}return B},ce.getFont=function(B,W,J,he){if(he=he||"normal",J=J||"normal",W=+W||{normal:400,bold:700,lighter:300,bolder:800}[W]||400,z.fonts){var De,ve=z.fonts[B];if(!ve){var Te=new RegExp("(^|\\s)"+B.replace(/[^\w\d\s+!~.:_-]/g,L)+"(\\s|$)","i");for(var Ae in z.fonts)if(z.fonts[Pe](Ae)&&Te.test(Ae)){ve=z.fonts[Ae];break}}if(ve)for(var qe=0,_t=ve.length;qe<_t&&((De=ve[qe]).face["font-weight"]!=W||De.face["font-style"]!=J&&De.face["font-style"]||De.face["font-stretch"]!=he);qe++);return De}},ce.print=function(B,W,J,he,ve,Te,Ae,De){Te=Te||"middle",Ae=n(t(Ae||0,1),-1),De=n(t(De||1,3),1);var pt,qe=g(J)[p](L),_t=0,Ut=0,st=L;if(z.is(he,"string")&&(he=this.getFont(he)),he){pt=(ve||16)/he.face["units-per-em"];for(var zt=he.face.bbox[p](Et),Yt=+zt[0],It=zt[3]-zt[1],Ft=0,Nt=+zt[1]+("baseline"==Te?It+ +he.face.descent:It/2),ln=0,Qt=qe.length;ln<Qt;ln++){if("\n"==qe[ln])_t=0,Fn=0,Ut=0,Ft+=It*De;else{var cn=Ut&&he.glyphs[qe[ln-1]]||{},Fn=he.glyphs[qe[ln]];_t+=Ut?(cn.w||he.w)+(cn.k&&cn.k[qe[ln]]||0)+he.w*Ae:0,Ut=1}Fn&&Fn.d&&(st+=z.transformPath(Fn.d,["t",_t*pt,Ft*pt,"s",pt,pt,Yt,Nt,"t",(B-Yt)/pt,(W-Nt)/pt]))}}return this.path(st).attr({fill:"#000",stroke:"none"})},ce.add=function(B){if(z.is(B,"array"))for(var ve,W=this.set(),J=0,he=B.length;J<he;J++)kt[Pe]((ve=B[J]||{}).type)&&W.push(this[ve.type]().attr(ve));return W},z.format=function(B,W){var J=z.is(W,f)?[0][me](W):arguments;return B&&z.is(B,d)&&J.length-1&&(B=B.replace(V,function(he,ve){return null==J[++ve]?L:J[ve]})),B||L},z.fullfill=function(){var B=/\{([^\}]+)\}/g,W=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;return function(he,ve){return String(he).replace(B,function(Te,Ae){return function(he,ve,Te){var Ae=Te;return ve.replace(W,function(De,qe,_t,Ut,st){qe=qe||Ut,Ae&&(qe in Ae&&(Ae=Ae[qe]),"function"==typeof Ae&&st&&(Ae=Ae()))}),Ae=(null==Ae||Ae==Te?he:Ae)+""}(Te,Ae,ve)})}}(),z.ninja=function(){return Q.was?_.win.Raphael=Q.is:delete Raphael,z},z.st=$r,function(B,W,J){null==B.readyState&&B.addEventListener&&(B.addEventListener(W,J=function(){B.removeEventListener(W,J,!1),B.readyState="complete"},!1),B.readyState="loading"),function he(){/in/.test(B.readyState)?setTimeout(he,9):z.eve("raphael.DOMload")}()}(document,"DOMContentLoaded"),vn.on("raphael.DOMload",function(){At=!0}),function(){if(z.svg){var B="hasOwnProperty",W=String,J=parseFloat,he=parseInt,ve=Math,Te=ve.max,Ae=ve.abs,De=ve.pow,qe=/[, ]+/,_t=z.eve,pt="http://www.w3.org/1999/xlink",zt={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},Yt={};z.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var It=function(ze,St){if(St)for(var Wt in"string"==typeof ze&&(ze=It(ze)),St)St[B](Wt)&&("xlink:"==Wt.substring(0,6)?ze.setAttributeNS(pt,Wt.substring(6),W(St[Wt])):ze.setAttribute(Wt,W(St[Wt])));else(ze=z._g.doc.createElementNS("http://www.w3.org/2000/svg",ze)).style&&(ze.style.webkitTapHighlightColor="rgba(0,0,0,0)");return ze},Ft=function(ze,St){var Wt="linear",hn=ze.id+St,Xn=.5,We=.5,Ce=ze.node,bt=ze.paper,xt=Ce.style,en=z._g.doc.getElementById(hn);if(!en){if(St=(St=W(St).replace(z._radial_gradient,function(gr,tr,Ar){if(Wt="radial",tr&&Ar){Xn=J(tr);var lr=2*((We=J(Ar))>.5)-1;De(Xn-.5,2)+De(We-.5,2)>.25&&(We=ve.sqrt(.25-De(Xn-.5,2))*lr+.5)&&.5!=We&&(We=We.toFixed(5)-1e-5*lr)}return""})).split(/\s*\-\s*/),"linear"==Wt){var En=St.shift();if(En=-J(En),isNaN(En))return null;var gn=[0,0,ve.cos(z.rad(En)),ve.sin(z.rad(En))],Sn=1/(Te(Ae(gn[2]),Ae(gn[3]))||1);gn[2]*=Sn,gn[3]*=Sn,gn[2]<0&&(gn[0]=-gn[2],gn[2]=0),gn[3]<0&&(gn[1]=-gn[3],gn[3]=0)}var _n=z._parseDots(St);if(!_n)return null;if(hn=hn.replace(/[\(\)\s,\xb0#]/g,"_"),ze.gradient&&hn!=ze.gradient.id&&(bt.defs.removeChild(ze.gradient),delete ze.gradient),!ze.gradient){en=It(Wt+"Gradient",{id:hn}),ze.gradient=en,It(en,"radial"==Wt?{fx:Xn,fy:We}:{x1:gn[0],y1:gn[1],x2:gn[2],y2:gn[3],gradientTransform:ze.matrix.invert()}),bt.defs.appendChild(en);for(var Bn=0,qn=_n.length;Bn<qn;Bn++)en.appendChild(It("stop",{offset:_n[Bn].offset?_n[Bn].offset:Bn?"100%":"0%","stop-color":_n[Bn].color||"#fff"}))}}return It(Ce,{fill:"url(#"+hn+")",opacity:1,"fill-opacity":1}),xt.fill="",xt.opacity=1,xt.fillOpacity=1,1},Nt=function(ze){var St=ze.getBBox(1);It(ze.pattern,{patternTransform:ze.matrix.invert()+" translate("+St.x+","+St.y+")"})},ln=function(ze,St,Wt){if("path"==ze.type){for(var gn,Sn,_n,Bn,qn,hn=W(St).toLowerCase().split("-"),Xn=ze.paper,We=Wt?"end":"start",Ce=ze.node,bt=ze.attrs,xt=bt["stroke-width"],en=hn.length,En="classic",gr=3,tr=3,Ar=5;en--;)switch(hn[en]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":En=hn[en];break;case"wide":tr=5;break;case"narrow":tr=2;break;case"long":gr=5;break;case"short":gr=2}if("open"==En?(gr+=2,tr+=2,Ar+=2,_n=1,Bn=Wt?4:1,qn={fill:"none",stroke:bt.stroke}):(Bn=_n=gr/2,qn={fill:bt.stroke,stroke:"none"}),ze._.arrows?Wt?(ze._.arrows.endPath&&Yt[ze._.arrows.endPath]--,ze._.arrows.endMarker&&Yt[ze._.arrows.endMarker]--):(ze._.arrows.startPath&&Yt[ze._.arrows.startPath]--,ze._.arrows.startMarker&&Yt[ze._.arrows.startMarker]--):ze._.arrows={},"none"!=En){var lr="raphael-marker-"+En,Cr="raphael-marker-"+We+En+gr+tr;z._g.doc.getElementById(lr)?Yt[lr]++:(Xn.defs.appendChild(It(It("path"),{"stroke-linecap":"round",d:zt[En],id:lr})),Yt[lr]=1);var Pr,yr=z._g.doc.getElementById(Cr);yr?(Yt[Cr]++,Pr=yr.getElementsByTagName("use")[0]):(yr=It(It("marker"),{id:Cr,markerHeight:tr,markerWidth:gr,orient:"auto",refX:Bn,refY:tr/2}),Pr=It(It("use"),{"xlink:href":"#"+lr,transform:(Wt?"rotate(180 "+gr/2+" "+tr/2+") ":"")+"scale("+gr/Ar+","+tr/Ar+")","stroke-width":(1/((gr/Ar+tr/Ar)/2)).toFixed(4)}),yr.appendChild(Pr),Xn.defs.appendChild(yr),Yt[Cr]=1),It(Pr,qn);var dr=_n*("diamond"!=En&&"oval"!=En);Wt?(gn=ze._.arrows.startdx*xt||0,Sn=z.getTotalLength(bt.path)-dr*xt):(gn=dr*xt,Sn=z.getTotalLength(bt.path)-(ze._.arrows.enddx*xt||0)),(qn={})["marker-"+We]="url(#"+Cr+")",(Sn||gn)&&(qn.d=z.getSubpath(bt.path,gn,Sn)),It(Ce,qn),ze._.arrows[We+"Path"]=lr,ze._.arrows[We+"Marker"]=Cr,ze._.arrows[We+"dx"]=dr,ze._.arrows[We+"Type"]=En,ze._.arrows[We+"String"]=St}else Wt?(gn=ze._.arrows.startdx*xt||0,Sn=z.getTotalLength(bt.path)-gn):(gn=0,Sn=z.getTotalLength(bt.path)-(ze._.arrows.enddx*xt||0)),ze._.arrows[We+"Path"]&&It(Ce,{d:z.getSubpath(bt.path,gn,Sn)}),delete ze._.arrows[We+"Path"],delete ze._.arrows[We+"Marker"],delete ze._.arrows[We+"dx"],delete ze._.arrows[We+"Type"],delete ze._.arrows[We+"String"];for(qn in Yt)if(Yt[B](qn)&&!Yt[qn]){var Yr=z._g.doc.getElementById(qn);Yr&&Yr.parentNode.removeChild(Yr)}}},Qt={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},cn=function(ze,St,Wt){if(St=Qt[W(St).toLowerCase()]){for(var hn=ze.attrs["stroke-width"]||"1",Xn={round:hn,square:hn,butt:0}[ze.attrs["stroke-linecap"]||Wt["stroke-linecap"]]||0,We=[],Ce=St.length;Ce--;)We[Ce]=St[Ce]*hn+(Ce%2?1:-1)*Xn;It(ze.node,{"stroke-dasharray":We.join(",")})}},Fn=function(ze,St){var Wt=ze.node,hn=ze.attrs,Xn=Wt.style.visibility;for(var We in Wt.style.visibility="hidden",St)if(St[B](We)){if(!z._availableAttrs[B](We))continue;var Ce=St[We];switch(hn[We]=Ce,We){case"blur":ze.blur(Ce);break;case"href":case"title":var bt=It("title"),xt=z._g.doc.createTextNode(Ce);bt.appendChild(xt),Wt.appendChild(bt);break;case"target":var en=Wt.parentNode;"a"!=en.tagName.toLowerCase()&&(bt=It("a"),en.insertBefore(bt,Wt),bt.appendChild(Wt),en=bt),"target"==We?en.setAttributeNS(pt,"show","blank"==Ce?"new":Ce):en.setAttributeNS(pt,We,Ce);break;case"cursor":Wt.style.cursor=Ce;break;case"transform":ze.transform(Ce);break;case"arrow-start":ln(ze,Ce);break;case"arrow-end":ln(ze,Ce,1);break;case"clip-rect":var En=W(Ce).split(qe);if(4==En.length){ze.clip&&ze.clip.parentNode.parentNode.removeChild(ze.clip.parentNode);var gn=It("clipPath"),Sn=It("rect");gn.id=z.createUUID(),It(Sn,{x:En[0],y:En[1],width:En[2],height:En[3]}),gn.appendChild(Sn),ze.paper.defs.appendChild(gn),It(Wt,{"clip-path":"url(#"+gn.id+")"}),ze.clip=Sn}if(!Ce){var _n=Wt.getAttribute("clip-path");if(_n){var Bn=z._g.doc.getElementById(_n.replace(/(^url\(#|\)$)/g,""));Bn&&Bn.parentNode.removeChild(Bn),It(Wt,{"clip-path":""}),delete ze.clip}}break;case"path":"path"==ze.type&&(It(Wt,{d:Ce?hn.path=z._pathToAbsolute(Ce):"M0,0"}),ze._.dirty=1,ze._.arrows&&("startString"in ze._.arrows&&ln(ze,ze._.arrows.startString),"endString"in ze._.arrows&&ln(ze,ze._.arrows.endString,1)));break;case"width":if(Wt.setAttribute(We,Ce),ze._.dirty=1,!hn.fx)break;We="x",Ce=hn.x;case"x":hn.fx&&(Ce=-hn.x-(hn.width||0));case"rx":if("rx"==We&&"rect"==ze.type)break;case"cx":Wt.setAttribute(We,Ce),ze.pattern&&Nt(ze),ze._.dirty=1;break;case"height":if(Wt.setAttribute(We,Ce),ze._.dirty=1,!hn.fy)break;We="y",Ce=hn.y;case"y":hn.fy&&(Ce=-hn.y-(hn.height||0));case"ry":if("ry"==We&&"rect"==ze.type)break;case"cy":Wt.setAttribute(We,Ce),ze.pattern&&Nt(ze),ze._.dirty=1;break;case"r":"rect"==ze.type?It(Wt,{rx:Ce,ry:Ce}):Wt.setAttribute(We,Ce),ze._.dirty=1;break;case"src":"image"==ze.type&&Wt.setAttributeNS(pt,"href",Ce);break;case"stroke-width":(1!=ze._.sx||1!=ze._.sy)&&(Ce/=Te(Ae(ze._.sx),Ae(ze._.sy))||1),ze.paper._vbSize&&(Ce*=ze.paper._vbSize),Wt.setAttribute(We,Ce),hn["stroke-dasharray"]&&cn(ze,hn["stroke-dasharray"],St),ze._.arrows&&("startString"in ze._.arrows&&ln(ze,ze._.arrows.startString),"endString"in ze._.arrows&&ln(ze,ze._.arrows.endString,1));break;case"stroke-dasharray":cn(ze,Ce,St);break;case"fill":var qn=W(Ce).match(z._ISURL);if(qn){gn=It("pattern");var gr=It("image");gn.id=z.createUUID(),It(gn,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),It(gr,{x:0,y:0,"xlink:href":qn[1]}),gn.appendChild(gr),function(yr){z._preload(qn[1],function(){var Pr=this.offsetWidth,dr=this.offsetHeight;It(yr,{width:Pr,height:dr}),It(gr,{width:Pr,height:dr}),ze.paper.safari()})}(gn),ze.paper.defs.appendChild(gn),It(Wt,{fill:"url(#"+gn.id+")"}),ze.pattern=gn,ze.pattern&&Nt(ze);break}var tr=z.getRGB(Ce);if(tr.error){if(("circle"==ze.type||"ellipse"==ze.type||"r"!=W(Ce).charAt())&&Ft(ze,Ce)){if("opacity"in hn||"fill-opacity"in hn){var Ar=z._g.doc.getElementById(Wt.getAttribute("fill").replace(/^url\(#|\)$/g,""));if(Ar){var lr=Ar.getElementsByTagName("stop");It(lr[lr.length-1],{"stop-opacity":("opacity"in hn?hn.opacity:1)*("fill-opacity"in hn?hn["fill-opacity"]:1)})}}hn.gradient=Ce,hn.fill="none";break}}else delete St.gradient,delete hn.gradient,!z.is(hn.opacity,"undefined")&&z.is(St.opacity,"undefined")&&It(Wt,{opacity:hn.opacity}),!z.is(hn["fill-opacity"],"undefined")&&z.is(St["fill-opacity"],"undefined")&&It(Wt,{"fill-opacity":hn["fill-opacity"]});tr[B]("opacity")&&It(Wt,{"fill-opacity":tr.opacity>1?tr.opacity/100:tr.opacity});case"stroke":tr=z.getRGB(Ce),Wt.setAttribute(We,tr.hex),"stroke"==We&&tr[B]("opacity")&&It(Wt,{"stroke-opacity":tr.opacity>1?tr.opacity/100:tr.opacity}),"stroke"==We&&ze._.arrows&&("startString"in ze._.arrows&&ln(ze,ze._.arrows.startString),"endString"in ze._.arrows&&ln(ze,ze._.arrows.endString,1));break;case"gradient":("circle"==ze.type||"ellipse"==ze.type||"r"!=W(Ce).charAt())&&Ft(ze,Ce);break;case"opacity":hn.gradient&&!hn[B]("stroke-opacity")&&It(Wt,{"stroke-opacity":Ce>1?Ce/100:Ce});case"fill-opacity":if(hn.gradient){(Ar=z._g.doc.getElementById(Wt.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(lr=Ar.getElementsByTagName("stop"),It(lr[lr.length-1],{"stop-opacity":Ce}));break}default:"font-size"==We&&(Ce=he(Ce,10)+"px");var Cr=We.replace(/(\-.)/g,function(yr){return yr.substring(1).toUpperCase()});Wt.style[Cr]=Ce,ze._.dirty=1,Wt.setAttribute(We,Ce)}}kr(ze,St),Wt.style.visibility=Xn},kr=function(ze,St){if("text"==ze.type&&(St[B]("text")||St[B]("font")||St[B]("font-size")||St[B]("x")||St[B]("y"))){var Wt=ze.attrs,hn=ze.node,Xn=hn.firstChild?he(z._g.doc.defaultView.getComputedStyle(hn.firstChild,"").getPropertyValue("font-size"),10):10;if(St[B]("text")){for(Wt.text=St.text;hn.firstChild;)hn.removeChild(hn.firstChild);for(var bt,We=W(St.text).split("\n"),Ce=[],xt=0,en=We.length;xt<en;xt++)bt=It("tspan"),xt&&It(bt,{dy:1.2*Xn,x:Wt.x}),bt.appendChild(z._g.doc.createTextNode(We[xt])),hn.appendChild(bt),Ce[xt]=bt}else for(xt=0,en=(Ce=hn.getElementsByTagName("tspan")).length;xt<en;xt++)xt?It(Ce[xt],{dy:1.2*Xn,x:Wt.x}):It(Ce[0],{dy:0});It(hn,{x:Wt.x,y:Wt.y}),ze._.dirty=1;var En=ze._getBBox(),gn=Wt.y-(En.y+En.height/2);gn&&z.is(gn,"finite")&&It(Ce[0],{dy:gn})}},sr=function(ze,St){this[0]=this.node=ze,ze.raphael=!0,this.id=z._oid++,ze.raphaelid=this.id,this.matrix=z.matrix(),this.realPath=null,this.paper=St,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!St.bottom&&(St.bottom=this),this.prev=St.top,St.top&&(St.top.next=this),St.top=this,this.next=null},ir=z.el;sr.prototype=ir,ir.constructor=sr,z._engine.path=function(ze,St){var Wt=It("path");St.canvas&&St.canvas.appendChild(Wt);var hn=new sr(Wt,St);return hn.type="path",Fn(hn,{fill:"none",stroke:"#000",path:ze}),hn},ir.rotate=function(ze,St,Wt){if(this.removed)return this;if((ze=W(ze).split(qe)).length-1&&(St=J(ze[1]),Wt=J(ze[2])),ze=J(ze[0]),null==Wt&&(St=Wt),null==St||null==Wt){var hn=this.getBBox(1);St=hn.x+hn.width/2,Wt=hn.y+hn.height/2}return this.transform(this._.transform.concat([["r",ze,St,Wt]])),this},ir.scale=function(ze,St,Wt,hn){if(this.removed)return this;if((ze=W(ze).split(qe)).length-1&&(St=J(ze[1]),Wt=J(ze[2]),hn=J(ze[3])),ze=J(ze[0]),null==St&&(St=ze),null==hn&&(Wt=hn),null==Wt||null==hn)var Xn=this.getBBox(1);return this.transform(this._.transform.concat([["s",ze,St,Wt=null==Wt?Xn.x+Xn.width/2:Wt,hn=null==hn?Xn.y+Xn.height/2:hn]])),this},ir.translate=function(ze,St){return this.removed||((ze=W(ze).split(qe)).length-1&&(St=J(ze[1])),ze=J(ze[0])||0,this.transform(this._.transform.concat([["t",ze,St=+St||0]]))),this},ir.transform=function(ze){var St=this._;if(null==ze)return St.transform;if(z._extractTransform(this,ze),this.clip&&It(this.clip,{transform:this.matrix.invert()}),this.pattern&&Nt(this),this.node&&It(this.node,{transform:this.matrix}),1!=St.sx||1!=St.sy){var Wt=this.attrs[B]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":Wt})}return this},ir.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},ir.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},ir.remove=function(){if(!this.removed&&this.node.parentNode){var ze=this.paper;for(var St in ze.__set__&&ze.__set__.exclude(this),_t.unbind("raphael.*.*."+this.id),this.gradient&&ze.defs.removeChild(this.gradient),z._tear(this,ze),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node),this)this[St]="function"==typeof this[St]?z._removedFactory(St):null;this.removed=!0}},ir._getBBox=function(){if("none"==this.node.style.display){this.show();var ze=!0}var St={};try{St=this.node.getBBox()}catch(Wt){}finally{St=St||{}}return ze&&this.hide(),St},ir.attr=function(ze,St){if(this.removed)return this;if(null==ze){var Wt={};for(var hn in this.attrs)this.attrs[B](hn)&&(Wt[hn]=this.attrs[hn]);return Wt.gradient&&"none"==Wt.fill&&(Wt.fill=Wt.gradient)&&delete Wt.gradient,Wt.transform=this._.transform,Wt}if(null==St&&z.is(ze,"string")){if("fill"==ze&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==ze)return this._.transform;for(var Xn=ze.split(qe),We={},Ce=0,bt=Xn.length;Ce<bt;Ce++)We[ze=Xn[Ce]]=ze in this.attrs?this.attrs[ze]:z.is(this.paper.customAttributes[ze],"function")?this.paper.customAttributes[ze].def:z._availableAttrs[ze];return bt-1?We:We[Xn[0]]}if(null==St&&z.is(ze,"array")){for(We={},Ce=0,bt=ze.length;Ce<bt;Ce++)We[ze[Ce]]=this.attr(ze[Ce]);return We}if(null!=St){var xt={};xt[ze]=St}else null!=ze&&z.is(ze,"object")&&(xt=ze);for(var en in xt)_t("raphael.attr."+en+"."+this.id,this,xt[en]);for(en in this.paper.customAttributes)if(this.paper.customAttributes[B](en)&&xt[B](en)&&z.is(this.paper.customAttributes[en],"function")){var En=this.paper.customAttributes[en].apply(this,[].concat(xt[en]));for(var gn in this.attrs[en]=xt[en],En)En[B](gn)&&(xt[gn]=En[gn])}return Fn(this,xt),this},ir.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var ze=this.paper;return ze.top!=this&&z._tofront(this,ze),this},ir.toBack=function(){if(this.removed)return this;var ze=this.node.parentNode;return"a"==ze.tagName.toLowerCase()?ze.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):ze.firstChild!=this.node&&ze.insertBefore(this.node,this.node.parentNode.firstChild),z._toback(this,this.paper),this},ir.insertAfter=function(ze){if(this.removed)return this;var St=ze.node||ze[ze.length-1].node;return St.nextSibling?St.parentNode.insertBefore(this.node,St.nextSibling):St.parentNode.appendChild(this.node),z._insertafter(this,ze,this.paper),this},ir.insertBefore=function(ze){if(this.removed)return this;var St=ze.node||ze[0].node;return St.parentNode.insertBefore(this.node,St),z._insertbefore(this,ze,this.paper),this},ir.blur=function(ze){var St=this;if(0!=+ze){var Wt=It("filter"),hn=It("feGaussianBlur");St.attrs.blur=ze,Wt.id=z.createUUID(),It(hn,{stdDeviation:+ze||1.5}),Wt.appendChild(hn),St.paper.defs.appendChild(Wt),St._blur=Wt,It(St.node,{filter:"url(#"+Wt.id+")"})}else St._blur&&(St._blur.parentNode.removeChild(St._blur),delete St._blur,delete St.attrs.blur),St.node.removeAttribute("filter");return St},z._engine.circle=function(ze,St,Wt,hn){var Xn=It("circle");ze.canvas&&ze.canvas.appendChild(Xn);var We=new sr(Xn,ze);return We.attrs={cx:St,cy:Wt,r:hn,fill:"none",stroke:"#000"},We.type="circle",It(Xn,We.attrs),We},z._engine.rect=function(ze,St,Wt,hn,Xn,We){var Ce=It("rect");ze.canvas&&ze.canvas.appendChild(Ce);var bt=new sr(Ce,ze);return bt.attrs={x:St,y:Wt,width:hn,height:Xn,r:We||0,rx:We||0,ry:We||0,fill:"none",stroke:"#000"},bt.type="rect",It(Ce,bt.attrs),bt},z._engine.ellipse=function(ze,St,Wt,hn,Xn){var We=It("ellipse");ze.canvas&&ze.canvas.appendChild(We);var Ce=new sr(We,ze);return Ce.attrs={cx:St,cy:Wt,rx:hn,ry:Xn,fill:"none",stroke:"#000"},Ce.type="ellipse",It(We,Ce.attrs),Ce},z._engine.image=function(ze,St,Wt,hn,Xn,We){var Ce=It("image");It(Ce,{x:Wt,y:hn,width:Xn,height:We,preserveAspectRatio:"none"}),Ce.setAttributeNS(pt,"href",St),ze.canvas&&ze.canvas.appendChild(Ce);var bt=new sr(Ce,ze);return bt.attrs={x:Wt,y:hn,width:Xn,height:We,src:St},bt.type="image",bt},z._engine.text=function(ze,St,Wt,hn){var Xn=It("text");ze.canvas&&ze.canvas.appendChild(Xn);var We=new sr(Xn,ze);return We.attrs={x:St,y:Wt,"text-anchor":"middle",text:hn,font:z._availableAttrs.font,stroke:"none",fill:"#000"},We.type="text",Fn(We,We.attrs),We},z._engine.setSize=function(ze,St){return this.width=ze||this.width,this.height=St||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},z._engine.create=function(){var ze=z._getContainer.apply(0,arguments),St=ze&&ze.container,Wt=ze.x,hn=ze.y,Xn=ze.width,We=ze.height;if(!St)throw new Error("SVG container not found.");var xt,Ce=It("svg"),bt="overflow:hidden;";return Wt=Wt||0,hn=hn||0,It(Ce,{height:We=We||342,version:1.1,width:Xn=Xn||512,xmlns:"http://www.w3.org/2000/svg"}),1==St?(Ce.style.cssText=bt+"position:absolute;left:"+Wt+"px;top:"+hn+"px",z._g.doc.body.appendChild(Ce),xt=1):(Ce.style.cssText=bt+"position:relative",St.firstChild?St.insertBefore(Ce,St.firstChild):St.appendChild(Ce)),(St=new z._Paper).width=Xn,St.height=We,St.canvas=Ce,St.clear(),St._left=St._top=0,xt&&(St.renderfix=function(){}),St.renderfix(),St},z._engine.setViewBox=function(ze,St,Wt,hn,Xn){_t("raphael.setViewBox",this,this._viewBox,[ze,St,Wt,hn,Xn]);var xt,We=Te(Wt/this.width,hn/this.height),Ce=this.top,bt=Xn?"meet":"xMinYMin";for(null==ze?(this._vbSize&&(We=1),delete this._vbSize,xt="0 0 "+this.width+" "+this.height):(this._vbSize=We,xt=ze+" "+St+" "+Wt+" "+hn),It(this.canvas,{viewBox:xt,preserveAspectRatio:bt});We&&Ce;)Ce.attr({"stroke-width":"stroke-width"in Ce.attrs?Ce.attrs["stroke-width"]:1}),Ce._.dirty=1,Ce._.dirtyT=1,Ce=Ce.prev;return this._viewBox=[ze,St,Wt,hn,!!Xn],this},z.prototype.renderfix=function(){var Wt,ze=this.canvas,St=ze.style;try{Wt=ze.getScreenCTM()||ze.createSVGMatrix()}catch(We){Wt=ze.createSVGMatrix()}var hn=-Wt.e%1,Xn=-Wt.f%1;(hn||Xn)&&(hn&&(this._left=(this._left+hn)%1,St.left=this._left+"px"),Xn&&(this._top=(this._top+Xn)%1,St.top=this._top+"px"))},z.prototype.clear=function(){z.eve("raphael.clear",this);for(var ze=this.canvas;ze.firstChild;)ze.removeChild(ze.firstChild);this.bottom=this.top=null,(this.desc=It("desc")).appendChild(z._g.doc.createTextNode("Created with Rapha\xebl "+z.version)),ze.appendChild(this.desc),ze.appendChild(this.defs=It("defs"))},z.prototype.remove=function(){for(var ze in _t("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[ze]="function"==typeof this[ze]?z._removedFactory(ze):null};var cr=z.st;for(var ii in ir)ir[B](ii)&&!cr[B](ii)&&(cr[ii]=function(ze){return function(){var St=arguments;return this.forEach(function(Wt){Wt[ze].apply(Wt,St)})}}(ii))}}(),function(){if(z.vml){var B="hasOwnProperty",W=String,J=parseFloat,he=Math,ve=he.round,Te=he.max,Ae=he.min,De=he.abs,qe="fill",_t=/[, ]+/,Ut=z.eve,pt=" ",Yt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},It=/([clmz]),?([^clmz]*)/gi,Ft=/ progid:\S+Blur\([^\)]+\)/g,Nt=/-?[^,\s-]+/g,ln="position:absolute;left:0;top:0;width:1px;height:1px",Qt=21600,cn={path:1,rect:1,image:1},Fn={circle:1,ellipse:1},kr=function(We,Ce,bt){var xt=z.matrix();return xt.rotate(-We,.5,.5),{dx:xt.x(Ce,bt),dy:xt.y(Ce,bt)}},sr=function(We,Ce,bt,xt,en,En){var gn=We._,Sn=We.matrix,_n=gn.fillpos,Bn=We.node,qn=Bn.style,gr=1,tr="",lr=Qt/Ce,Cr=Qt/bt;if(qn.visibility="hidden",Ce&&bt){if(Bn.coordsize=De(lr)+pt+De(Cr),qn.rotation=En*(Ce*bt<0?-1:1),En){var yr=kr(En,xt,en);xt=yr.dx,en=yr.dy}if(Ce<0&&(tr+="x"),bt<0&&(tr+=" y")&&(gr=-1),qn.flip=tr,Bn.coordorigin=xt*-lr+pt+en*-Cr,_n||gn.fillsize){var Pr=Bn.getElementsByTagName(qe);Bn.removeChild(Pr=Pr&&Pr[0]),_n&&(yr=kr(En,Sn.x(_n[0],_n[1]),Sn.y(_n[0],_n[1])),Pr.position=yr.dx*gr+pt+yr.dy*gr),gn.fillsize&&(Pr.size=gn.fillsize[0]*De(Ce)+pt+gn.fillsize[1]*De(bt)),Bn.appendChild(Pr)}qn.visibility="visible"}};z.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var Wt,ir=function(We,Ce,bt){for(var xt=W(Ce).toLowerCase().split("-"),en=bt?"end":"start",En=xt.length,gn="classic",Sn="medium",_n="medium";En--;)switch(xt[En]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":gn=xt[En];break;case"wide":case"narrow":_n=xt[En];break;case"long":case"short":Sn=xt[En]}var Bn=We.node.getElementsByTagName("stroke")[0];Bn[en+"arrow"]=gn,Bn[en+"arrowlength"]=Sn,Bn[en+"arrowwidth"]=_n},cr=function(We,Ce){We.attrs=We.attrs||{};var bt=We.node,xt=We.attrs,en=bt.style,gn=cn[We.type]&&(Ce.x!=xt.x||Ce.y!=xt.y||Ce.width!=xt.width||Ce.height!=xt.height||Ce.cx!=xt.cx||Ce.cy!=xt.cy||Ce.rx!=xt.rx||Ce.ry!=xt.ry||Ce.r!=xt.r),Sn=Fn[We.type]&&(xt.cx!=Ce.cx||xt.cy!=Ce.cy||xt.r!=Ce.r||xt.rx!=Ce.rx||xt.ry!=Ce.ry),_n=We;for(var Bn in Ce)Ce[B](Bn)&&(xt[Bn]=Ce[Bn]);if(gn&&(xt.path=z._getPath[We.type](We),We._.dirty=1),Ce.href&&(bt.href=Ce.href),Ce.title&&(bt.title=Ce.title),Ce.target&&(bt.target=Ce.target),Ce.cursor&&(en.cursor=Ce.cursor),"blur"in Ce&&We.blur(Ce.blur),(Ce.path&&"path"==We.type||gn)&&(bt.path=function(We){var Ce=/[ahqstv]/gi,bt=z._pathToAbsolute;if(W(We).match(Ce)&&(bt=z._path2curve),Ce=/[clmz]/g,bt==z._pathToAbsolute&&!W(We).match(Ce)){var xt=W(We).replace(It,function(gr,tr,Ar){var lr=[],Cr="m"==tr.toLowerCase(),yr=Yt[tr];return Ar.replace(Nt,function(Pr){Cr&&2==lr.length&&(yr+=lr+Yt["m"==tr?"l":"L"],lr=[]),lr.push(ve(Pr*Qt))}),yr+lr});return xt}var En,gn,en=bt(We);xt=[];for(var Sn=0,_n=en.length;Sn<_n;Sn++){En=en[Sn],"z"==(gn=en[Sn][0].toLowerCase())&&(gn="x");for(var Bn=1,qn=En.length;Bn<qn;Bn++)gn+=ve(En[Bn]*Qt)+(Bn!=qn-1?",":"");xt.push(gn)}return xt.join(pt)}(~W(xt.path).toLowerCase().indexOf("r")?z._pathToAbsolute(xt.path):xt.path),"image"==We.type&&(We._.fillpos=[xt.x,xt.y],We._.fillsize=[xt.width,xt.height],sr(We,1,1,0,0,0))),"transform"in Ce&&We.transform(Ce.transform),Sn){var qn=+xt.cx,gr=+xt.cy,tr=+xt.rx||+xt.r||0,Ar=+xt.ry||+xt.r||0;bt.path=z.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",ve((qn-tr)*Qt),ve((gr-Ar)*Qt),ve((qn+tr)*Qt),ve((gr+Ar)*Qt),ve(qn*Qt)),We._.dirty=1}if("clip-rect"in Ce){var lr=W(Ce["clip-rect"]).split(_t);if(4==lr.length){lr[2]=+lr[2]+ +lr[0],lr[3]=+lr[3]+ +lr[1];var Cr=bt.clipRect||z._g.doc.createElement("div"),yr=Cr.style;yr.clip=z.format("rect({1}px {2}px {3}px {0}px)",lr),bt.clipRect||(yr.position="absolute",yr.top=0,yr.left=0,yr.width=We.paper.width+"px",yr.height=We.paper.height+"px",bt.parentNode.insertBefore(Cr,bt),Cr.appendChild(bt),bt.clipRect=Cr)}Ce["clip-rect"]||bt.clipRect&&(bt.clipRect.style.clip="auto")}if(We.textpath){var Pr=We.textpath.style;Ce.font&&(Pr.font=Ce.font),Ce["font-family"]&&(Pr.fontFamily='"'+Ce["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),Ce["font-size"]&&(Pr.fontSize=Ce["font-size"]),Ce["font-weight"]&&(Pr.fontWeight=Ce["font-weight"]),Ce["font-style"]&&(Pr.fontStyle=Ce["font-style"])}if("arrow-start"in Ce&&ir(_n,Ce["arrow-start"]),"arrow-end"in Ce&&ir(_n,Ce["arrow-end"],1),null!=Ce.opacity||null!=Ce["stroke-width"]||null!=Ce.fill||null!=Ce.src||null!=Ce.stroke||null!=Ce["stroke-width"]||null!=Ce["stroke-opacity"]||null!=Ce["fill-opacity"]||null!=Ce["stroke-dasharray"]||null!=Ce["stroke-miterlimit"]||null!=Ce["stroke-linejoin"]||null!=Ce["stroke-linecap"]){var dr=bt.getElementsByTagName(qe);if(!(dr=dr&&dr[0])&&(dr=Wt(qe)),"image"==We.type&&Ce.src&&(dr.src=Ce.src),Ce.fill&&(dr.on=!0),(null==dr.on||"none"==Ce.fill||null===Ce.fill)&&(dr.on=!1),dr.on&&Ce.fill){var Li=W(Ce.fill).match(z._ISURL);if(Li){dr.parentNode==bt&&bt.removeChild(dr),dr.rotate=!0,dr.src=Li[1],dr.type="tile";var Wr=We.getBBox(1);dr.position=Wr.x+pt+Wr.y,We._.fillpos=[Wr.x,Wr.y],z._preload(Li[1],function(){We._.fillsize=[this.offsetWidth,this.offsetHeight]})}else dr.color=z.getRGB(Ce.fill).hex,dr.src="",dr.type="solid",z.getRGB(Ce.fill).error&&(_n.type in{circle:1,ellipse:1}||"r"!=W(Ce.fill).charAt())&&ii(_n,Ce.fill,dr)&&(xt.fill="none",xt.gradient=Ce.fill,dr.rotate=!1)}if("fill-opacity"in Ce||"opacity"in Ce){var gi=((+xt["fill-opacity"]+1||2)-1)*((+xt.opacity+1||2)-1)*((+z.getRGB(Ce.fill).o+1||2)-1);gi=Ae(Te(gi,0),1),dr.opacity=gi,dr.src&&(dr.color="none")}bt.appendChild(dr);var Kr=bt.getElementsByTagName("stroke")&&bt.getElementsByTagName("stroke")[0],no=!1;!Kr&&(no=Kr=Wt("stroke")),(Ce.stroke&&"none"!=Ce.stroke||Ce["stroke-width"]||null!=Ce["stroke-opacity"]||Ce["stroke-dasharray"]||Ce["stroke-miterlimit"]||Ce["stroke-linejoin"]||Ce["stroke-linecap"])&&(Kr.on=!0),("none"==Ce.stroke||null===Ce.stroke||null==Kr.on||0==Ce.stroke||0==Ce["stroke-width"])&&(Kr.on=!1);var ki=z.getRGB(Ce.stroke);Kr.on&&Ce.stroke&&(Kr.color=ki.hex),gi=((+xt["stroke-opacity"]+1||2)-1)*((+xt.opacity+1||2)-1)*((+ki.o+1||2)-1);var ti=.75*(J(Ce["stroke-width"])||1);if(gi=Ae(Te(gi,0),1),null==Ce["stroke-width"]&&(ti=xt["stroke-width"]),Ce["stroke-width"]&&(Kr.weight=ti),ti&&ti<1&&(gi*=ti)&&(Kr.weight=1),Kr.opacity=gi,Ce["stroke-linejoin"]&&(Kr.joinstyle=Ce["stroke-linejoin"]||"miter"),Kr.miterlimit=Ce["stroke-miterlimit"]||8,Ce["stroke-linecap"]&&(Kr.endcap="butt"==Ce["stroke-linecap"]?"flat":"square"==Ce["stroke-linecap"]?"square":"round"),Ce["stroke-dasharray"]){var ui={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};Kr.dashstyle=ui[B](Ce["stroke-dasharray"])?ui[Ce["stroke-dasharray"]]:""}no&&bt.appendChild(Kr)}if("text"==_n.type){_n.paper.canvas.style.display="";var Zi=_n.paper.span,Bi=xt.font&&xt.font.match(/\d+(?:\.\d*)?(?=px)/);en=Zi.style,xt.font&&(en.font=xt.font),xt["font-family"]&&(en.fontFamily=xt["font-family"]),xt["font-weight"]&&(en.fontWeight=xt["font-weight"]),xt["font-style"]&&(en.fontStyle=xt["font-style"]),Bi=J(xt["font-size"]||Bi&&Bi[0])||10,en.fontSize=100*Bi+"px",_n.textpath.string&&(Zi.innerHTML=W(_n.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Ai=Zi.getBoundingClientRect();_n.W=xt.w=(Ai.right-Ai.left)/100,_n.H=xt.h=(Ai.bottom-Ai.top)/100,_n.X=xt.x,_n.Y=xt.y+_n.H/2,("x"in Ce||"y"in Ce)&&(_n.path.v=z.format("m{0},{1}l{2},{1}",ve(xt.x*Qt),ve(xt.y*Qt),ve(xt.x*Qt)+1));for(var Pi=["x","y","text","font","font-family","font-weight","font-style","font-size"],mi=0,_i=Pi.length;mi<_i;mi++)if(Pi[mi]in Ce){_n._.dirty=1;break}switch(xt["text-anchor"]){case"start":_n.textpath.style["v-text-align"]="left",_n.bbx=_n.W/2;break;case"end":_n.textpath.style["v-text-align"]="right",_n.bbx=-_n.W/2;break;default:_n.textpath.style["v-text-align"]="center",_n.bbx=0}_n.textpath.style["v-text-kern"]=!0}},ii=function(We,Ce,bt){We.attrs=We.attrs||{};var en=Math.pow,Sn="linear",_n=".5 .5";if(We.attrs.gradient=Ce,Ce=(Ce=W(Ce).replace(z._radial_gradient,function(lr,Cr,yr){return Sn="radial",Cr&&yr&&(Cr=J(Cr),yr=J(yr),en(Cr-.5,2)+en(yr-.5,2)>.25&&(yr=he.sqrt(.25-en(Cr-.5,2))*(2*(yr>.5)-1)+.5),_n=Cr+pt+yr),""})).split(/\s*\-\s*/),"linear"==Sn){var Bn=Ce.shift();if(Bn=-J(Bn),isNaN(Bn))return null}var qn=z._parseDots(Ce);if(!qn)return null;if(We=We.shape||We.node,qn.length){We.removeChild(bt),bt.on=!0,bt.method="none",bt.color=qn[0].color,bt.color2=qn[qn.length-1].color;for(var gr=[],tr=0,Ar=qn.length;tr<Ar;tr++)qn[tr].offset&&gr.push(qn[tr].offset+pt+qn[tr].color);bt.colors=gr.length?gr.join():"0% "+bt.color,"radial"==Sn?(bt.type="gradientTitle",bt.focus="100%",bt.focussize="0 0",bt.focusposition=_n,bt.angle=0):(bt.type="gradient",bt.angle=(270-Bn)%360),We.appendChild(bt)}return 1},ze=function(We,Ce){this[0]=this.node=We,We.raphael=!0,this.id=z._oid++,We.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=Ce,this.matrix=z.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!Ce.bottom&&(Ce.bottom=this),this.prev=Ce.top,Ce.top&&(Ce.top.next=this),Ce.top=this,this.next=null},St=z.el;ze.prototype=St,St.constructor=ze,St.transform=function(We){if(null==We)return this._.transform;var xt,Ce=this.paper._viewBoxShift,bt=Ce?"s"+[Ce.scale,Ce.scale]+"-1-1t"+[Ce.dx,Ce.dy]:"";Ce&&(xt=We=W(We).replace(/\.{3}|\u2026/g,this._.transform||"")),z._extractTransform(this,bt+We);var Sn,en=this.matrix.clone(),En=this.skew,gn=this.node,_n=~W(this.attrs.fill).indexOf("-"),Bn=!W(this.attrs.fill).indexOf("url(");if(en.translate(1,1),Bn||_n||"image"==this.type)if(En.matrix="1 0 0 1",En.offset="0 0",Sn=en.split(),_n&&Sn.noRotation||!Sn.isSimple){gn.style.filter=en.toFilter();var qn=this.getBBox(),gr=this.getBBox(1),tr=qn.x-gr.x,Ar=qn.y-gr.y;gn.coordorigin=tr*-Qt+pt+Ar*-Qt,sr(this,1,1,tr,Ar,0)}else gn.style.filter="",sr(this,Sn.scalex,Sn.scaley,Sn.dx,Sn.dy,Sn.rotate);else gn.style.filter="",En.matrix=W(en),En.offset=en.offset();return xt&&(this._.transform=xt),this},St.rotate=function(We,Ce,bt){if(this.removed)return this;if(null!=We){if((We=W(We).split(_t)).length-1&&(Ce=J(We[1]),bt=J(We[2])),We=J(We[0]),null==bt&&(Ce=bt),null==Ce||null==bt){var xt=this.getBBox(1);Ce=xt.x+xt.width/2,bt=xt.y+xt.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",We,Ce,bt]])),this}},St.translate=function(We,Ce){return this.removed||((We=W(We).split(_t)).length-1&&(Ce=J(We[1])),We=J(We[0])||0,Ce=+Ce||0,this._.bbox&&(this._.bbox.x+=We,this._.bbox.y+=Ce),this.transform(this._.transform.concat([["t",We,Ce]]))),this},St.scale=function(We,Ce,bt,xt){if(this.removed)return this;if((We=W(We).split(_t)).length-1&&(Ce=J(We[1]),bt=J(We[2]),xt=J(We[3]),isNaN(bt)&&(bt=null),isNaN(xt)&&(xt=null)),We=J(We[0]),null==Ce&&(Ce=We),null==xt&&(bt=xt),null==bt||null==xt)var en=this.getBBox(1);return this.transform(this._.transform.concat([["s",We,Ce,bt=null==bt?en.x+en.width/2:bt,xt=null==xt?en.y+en.height/2:xt]])),this._.dirtyT=1,this},St.hide=function(){return!this.removed&&(this.node.style.display="none"),this},St.show=function(){return!this.removed&&(this.node.style.display=""),this},St._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},St.remove=function(){if(!this.removed&&this.node.parentNode){for(var We in this.paper.__set__&&this.paper.__set__.exclude(this),z.eve.unbind("raphael.*.*."+this.id),z._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[We]="function"==typeof this[We]?z._removedFactory(We):null;this.removed=!0}},St.attr=function(We,Ce){if(this.removed)return this;if(null==We){var bt={};for(var xt in this.attrs)this.attrs[B](xt)&&(bt[xt]=this.attrs[xt]);return bt.gradient&&"none"==bt.fill&&(bt.fill=bt.gradient)&&delete bt.gradient,bt.transform=this._.transform,bt}if(null==Ce&&z.is(We,"string")){if(We==qe&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var en=We.split(_t),En={},gn=0,Sn=en.length;gn<Sn;gn++)En[We=en[gn]]=We in this.attrs?this.attrs[We]:z.is(this.paper.customAttributes[We],"function")?this.paper.customAttributes[We].def:z._availableAttrs[We];return Sn-1?En:En[en[0]]}if(this.attrs&&null==Ce&&z.is(We,"array")){for(En={},gn=0,Sn=We.length;gn<Sn;gn++)En[We[gn]]=this.attr(We[gn]);return En}var _n;for(var Bn in null!=Ce&&((_n={})[We]=Ce),null==Ce&&z.is(We,"object")&&(_n=We),_n)Ut("raphael.attr."+Bn+"."+this.id,this,_n[Bn]);if(_n){for(Bn in this.paper.customAttributes)if(this.paper.customAttributes[B](Bn)&&_n[B](Bn)&&z.is(this.paper.customAttributes[Bn],"function")){var qn=this.paper.customAttributes[Bn].apply(this,[].concat(_n[Bn]));for(var gr in this.attrs[Bn]=_n[Bn],qn)qn[B](gr)&&(_n[gr]=qn[gr])}_n.text&&"text"==this.type&&(this.textpath.string=_n.text),cr(this,_n)}return this},St.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&z._tofront(this,this.paper),this},St.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),z._toback(this,this.paper)),this},St.insertAfter=function(We){return this.removed||(We.constructor==z.st.constructor&&(We=We[We.length-1]),We.node.nextSibling?We.node.parentNode.insertBefore(this.node,We.node.nextSibling):We.node.parentNode.appendChild(this.node),z._insertafter(this,We,this.paper)),this},St.insertBefore=function(We){return this.removed||(We.constructor==z.st.constructor&&(We=We[0]),We.node.parentNode.insertBefore(this.node,We.node),z._insertbefore(this,We,this.paper)),this},St.blur=function(We){var Ce=this.node.runtimeStyle,bt=Ce.filter;return bt=bt.replace(Ft,""),0!=+We?(this.attrs.blur=We,Ce.filter=bt+pt+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+We||1.5)+")",Ce.margin=z.format("-{0}px 0 0 -{0}px",ve(+We||1.5))):(Ce.filter=bt,Ce.margin=0,delete this.attrs.blur),this},z._engine.path=function(We,Ce){var bt=Wt("shape");bt.style.cssText=ln,bt.coordsize=Qt+pt+Qt,bt.coordorigin=Ce.coordorigin;var xt=new ze(bt,Ce),en={fill:"none",stroke:"#000"};We&&(en.path=We),xt.type="path",xt.path=[],xt.Path="",cr(xt,en),Ce.canvas.appendChild(bt);var En=Wt("skew");return En.on=!0,bt.appendChild(En),xt.skew=En,xt.transform(""),xt},z._engine.rect=function(We,Ce,bt,xt,en,En){var gn=z._rectPath(Ce,bt,xt,en,En),Sn=We.path(gn),_n=Sn.attrs;return Sn.X=_n.x=Ce,Sn.Y=_n.y=bt,Sn.W=_n.width=xt,Sn.H=_n.height=en,_n.r=En,_n.path=gn,Sn.type="rect",Sn},z._engine.ellipse=function(We,Ce,bt,xt,en){var En=We.path();return En.X=Ce-xt,En.Y=bt-en,En.W=2*xt,En.H=2*en,En.type="ellipse",cr(En,{cx:Ce,cy:bt,rx:xt,ry:en}),En},z._engine.circle=function(We,Ce,bt,xt){var en=We.path();return en.X=Ce-xt,en.Y=bt-xt,en.W=en.H=2*xt,en.type="circle",cr(en,{cx:Ce,cy:bt,r:xt}),en},z._engine.image=function(We,Ce,bt,xt,en,En){var gn=z._rectPath(bt,xt,en,En),Sn=We.path(gn).attr({stroke:"none"}),_n=Sn.attrs,Bn=Sn.node,qn=Bn.getElementsByTagName(qe)[0];return _n.src=Ce,Sn.X=_n.x=bt,Sn.Y=_n.y=xt,Sn.W=_n.width=en,Sn.H=_n.height=En,_n.path=gn,Sn.type="image",qn.parentNode==Bn&&Bn.removeChild(qn),qn.rotate=!0,qn.src=Ce,qn.type="tile",Sn._.fillpos=[bt,xt],Sn._.fillsize=[en,En],Bn.appendChild(qn),sr(Sn,1,1,0,0,0),Sn},z._engine.text=function(We,Ce,bt,xt){var en=Wt("shape"),En=Wt("path"),gn=Wt("textpath");bt=bt||0,xt=xt||"",En.v=z.format("m{0},{1}l{2},{1}",ve((Ce=Ce||0)*Qt),ve(bt*Qt),ve(Ce*Qt)+1),En.textpathok=!0,gn.string=W(xt),gn.on=!0,en.style.cssText=ln,en.coordsize=Qt+pt+Qt,en.coordorigin="0 0";var Sn=new ze(en,We),_n={fill:"#000",stroke:"none",font:z._availableAttrs.font,text:xt};Sn.shape=en,Sn.path=En,Sn.textpath=gn,Sn.type="text",Sn.attrs.text=W(xt),Sn.attrs.x=Ce,Sn.attrs.y=bt,Sn.attrs.w=1,Sn.attrs.h=1,cr(Sn,_n),en.appendChild(gn),en.appendChild(En),We.canvas.appendChild(en);var Bn=Wt("skew");return Bn.on=!0,en.appendChild(Bn),Sn.skew=Bn,Sn.transform(""),Sn},z._engine.setSize=function(We,Ce){var bt=this.canvas.style;return this.width=We,this.height=Ce,We==+We&&(We+="px"),Ce==+Ce&&(Ce+="px"),bt.width=We,bt.height=Ce,bt.clip="rect(0 "+We+" "+Ce+" 0)",this._viewBox&&z._engine.setViewBox.apply(this,this._viewBox),this},z._engine.setViewBox=function(We,Ce,bt,xt,en){z.eve("raphael.setViewBox",this,this._viewBox,[We,Ce,bt,xt,en]);var _n,Bn,En=this.width,gn=this.height,Sn=1/Te(bt/En,xt/gn);return en&&(bt*(_n=gn/xt)<En&&(We-=(En-bt*_n)/2/_n),xt*(Bn=En/bt)<gn&&(Ce-=(gn-xt*Bn)/2/Bn)),this._viewBox=[We,Ce,bt,xt,!!en],this._viewBoxShift={dx:-We,dy:-Ce,scale:Sn},this.forEach(function(qn){qn.transform("...")}),this},z._engine.initWin=function(We){var Ce=We.document;Ce.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!Ce.namespaces.rvml&&Ce.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),Wt=function(bt){return Ce.createElement("<rvml:"+bt+' class="rvml">')}}catch(bt){Wt=function(xt){return Ce.createElement("<"+xt+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},z._engine.initWin(z._g.win),z._engine.create=function(){var We=z._getContainer.apply(0,arguments),Ce=We.container,bt=We.height,en=We.width,En=We.x,gn=We.y;if(!Ce)throw new Error("VML container not found.");var Sn=new z._Paper,_n=Sn.canvas=z._g.doc.createElement("div"),Bn=_n.style;return En=En||0,gn=gn||0,bt=bt||342,Sn.width=en=en||512,Sn.height=bt,en==+en&&(en+="px"),bt==+bt&&(bt+="px"),Sn.coordsize=1e3*Qt+pt+1e3*Qt,Sn.coordorigin="0 0",Sn.span=z._g.doc.createElement("span"),Sn.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",_n.appendChild(Sn.span),Bn.cssText=z.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",en,bt),1==Ce?(z._g.doc.body.appendChild(_n),Bn.left=En+"px",Bn.top=gn+"px",Bn.position="absolute"):Ce.firstChild?Ce.insertBefore(_n,Ce.firstChild):Ce.appendChild(_n),Sn.renderfix=function(){},Sn},z.prototype.clear=function(){z.eve("raphael.clear",this),this.canvas.innerHTML="",this.span=z._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},z.prototype.remove=function(){for(var We in z.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[We]="function"==typeof this[We]?z._removedFactory(We):null;return!0};var hn=z.st;for(var Xn in St)St[B](Xn)&&!hn[B](Xn)&&(hn[Xn]=function(We){return function(){var Ce=arguments;return this.forEach(function(bt){bt[We].apply(bt,Ce)})}}(Xn))}}(),Q.was?_.win.Raphael=z:Raphael=z,z}),function(){"use strict";var Kt=function(Q,Z){if(this.text=Q,this.options=_(Pe(Kt.default),Z),this.strokes=[],this.papers=[],this.pointer=0,this.timeouts={play:[],erasing:[],drawing:[]},!this.options.skipLoad){var ce=new DmakLoader(this.options.uri),de=this;ce.load(Q,function(ne){de.prepare(ne),de.options.loaded(de.strokes),de.options.autoplay&&de.render()})}};function Et(Q,Z,ce){null!==Q.object.text&&Q.object.text.remove();var de=function(){Q.object.path.remove(),Q.object={path:null,text:null},Z.shift()};ce.stroke.animated.erasing?(Q.object.path.node.style.stroke=ce.stroke.attr.active,Z.push(Ue(Q,-1,ce,de))):de()}function Ue(Q,Z,ce,de){return Q.object.path.attr({stroke:ce.stroke.attr.active}),Q.object.path.node.style.transition=Q.object.path.node.style.WebkitTransition="none",Q.object.path.node.style.strokeDasharray=Q.length+" "+Q.length,Q.object.path.node.style.strokeDashoffset=Z>0?Q.length:0,Q.object.path.node.getBoundingClientRect(),Q.object.path.node.style.transition=Q.object.path.node.style.WebkitTransition="stroke-dashoffset "+Q.duration+"ms ease",Q.object.path.node.style.strokeDashoffset=Z>0?"0":Q.length,setTimeout(de,Q.duration)}function Pe(Q){if(null===Q||"object"!=typeof Q)return Q;var Z=Q.constructor();for(var ce in Q)Z[ce]=Pe(Q[ce]);return Z}function _(Q,Z){if(2!==arguments.length)throw new Error("Missing arguments in assign function");for(var ce in Q)Z.hasOwnProperty(ce)&&(Q[ce]="object"==typeof Z[ce]?_(Q[ce],Z[ce]):Z[ce]);return Q}Kt.VERSION="0.2.0",Kt.default={uri:"",skipLoad:!1,autoplay:!0,height:109,width:109,viewBox:{x:0,y:0,w:109,h:109},step:.03,element:"draw",stroke:{animated:{drawing:!0,erasing:!0},order:{visible:!1,attr:{"font-size":"8",fill:"#999999"}},attr:{active:"#BF0000",stroke:"#2C2C2C","stroke-width":4,"stroke-linecap":"round","stroke-linejoin":"round"}},grid:{show:!0,attr:{stroke:"#CCCCCC","stroke-width":.5,"stroke-dasharray":"--"}},loaded:function(){},erased:function(){},drew:function(){}},Kt.fn=Kt.prototype={prepare:function(Q){this.strokes=function vn(Q,Z){var ne,me,v,ce=[];for(me=0;me<Q.length;me++)for(v=0;v<Q[me].length;v++)ne=Raphael.getTotalLength(Q[me][v].path),ce.push({char:me,length:ne,duration:ne*Z.step*1e3,path:Q[me][v].path,groups:Q[me][v].groups,text:Q[me][v].text,object:{path:null,text:null}});return ce}(Q,this.options),this.papers=function z(Q,Z){var de,ne,ce=[];for(ne=0;ne<Q;ne++)(de=new Raphael(Z.element,Z.width+"px",Z.height+"px")).setViewBox(Z.viewBox.x,Z.viewBox.y,Z.viewBox.w,Z.viewBox.h),de.canvas.setAttribute("class","dmak-svg"),ce.push(de);return ce.reverse()}(Q.length,this.options),this.options.grid.show&&function At(Q,Z){var ce;for(ce=0;ce<Q.length;ce++)Q[ce].path("M"+Z.viewBox.w/2+",0 L"+Z.viewBox.w/2+","+Z.viewBox.h).attr(Z.grid.attr),Q[ce].path("M0,"+Z.viewBox.h/2+" L"+Z.viewBox.w+","+Z.viewBox.h/2).attr(Z.grid.attr)}(this.papers,this.options)},erase:function(Q){if(this.timeouts.play.length||this.pointer<=0)return!1;void 0===Q&&(Q=0);do{this.pointer--,Et(this.strokes[this.pointer],this.timeouts.erasing,this.options),this.options.erased(this.pointer)}while(this.pointer>Q)},render:function(Q){if(this.timeouts.play.length)return!1;if(void 0===Q)Q=this.strokes.length;else if(Q>this.strokes.length)return!1;var de,Z=function(ne){(function kt(Q,Z,ce,de){var ne=function(){if(null!==Z.object.path){var me=de.stroke.attr.stroke;"random"===de.stroke.attr.stroke&&(me=Raphael.getColor()),Z.object.path.node.style.stroke=me,Z.object.path.node.style.transition=Z.object.path.node.style.WebkitTransition="stroke 400ms ease",ce.shift()}};Z.object.path=Q.path(Z.path),Z.object.path.attr(de.stroke.attr),de.stroke.order.visible&&function V(Q,Z,ce){Z.object.text=Q.text(Z.text.x,Z.text.y,Z.text.value),Z.object.text.attr(ce.stroke.order.attr)}(Q,Z,de),de.stroke.animated.drawing?Ue(Z,1,de,ne):ne()})(ne.papers[ne.strokes[ne.pointer].char],ne.strokes[ne.pointer],ne.timeouts.drawing,ne.options),ne.options.drew(ne.pointer),ne.pointer++,ne.timeouts.play.shift()},ce=0;for(de=0;de<this.timeouts.erasing.length;de++)window.clearTimeout(this.timeouts.erasing[de]),this.timeouts.erasing=[];for(de=this.pointer;de<Q;de++)!this.options.stroke.animated.drawing||ce<=0?Z(this):this.timeouts.play.push(setTimeout(Z,ce,this)),ce+=this.strokes[de].duration},pause:function(){for(var Q=0;Q<this.timeouts.play.length;Q++)window.clearTimeout(this.timeouts.play[Q]);this.timeouts.play=[]},eraseLastStrokes:function(Q){this.erase(this.pointer-Q)},renderNextStrokes:function(Q){this.render(this.pointer+Q)}},window.Dmak=Kt}(),function(){"use strict";var Kt=function(At){this.uri=At};function vn(At,Et,kt,V){var Ue=new XMLHttpRequest,Pe=("00000"+kt).slice(-5);"00020"!==Pe&&"03000"!==Pe?(Ue.open("GET",At+Pe+".svg",!0),Ue.onreadystatechange=function(){4===Ue.readyState&&(200===Ue.status?V.done(Et,function z(At,Et){var _,kt=[],V=(new DOMParser).parseFromString(At,"application/xml"),Ue=V.querySelectorAll("text"),Pe=[];for(function Q(Z){var de,ce=Z.childNodes;for(de=0;de<ce.length;de++)"g"===ce[de].tagName?(Pe.push(ce[de].getAttribute("id")),Q(ce[de]),Pe.splice(Pe.indexOf(ce[de].getAttribute("id")),1)):"path"===ce[de].tagName&&kt.push({path:ce[de].getAttribute("d"),groups:Pe.slice(0)})}(V.getElementById("kvg:"+Et)),_=0;_<Ue.length;_++)kt[_].text={value:Ue[_].textContent,x:Ue[_].getAttribute("transform").split(" ")[4],y:Ue[_].getAttribute("transform").split(" ")[5].replace(")","")};return kt}(Ue.response,Pe)):V.error(Ue.statusText))},Ue.send()):V.done(Et,{paths:[],texts:[]})}Kt.prototype.load=function(At,Et){var Pe,kt=[],V=At.length,Ue=0,_={done:function(Q,Z){kt[Q]=Z,++Ue===V&&Et(kt)},error:function(Q){console.log("Error",Q)}};for(Pe=0;Pe<V;Pe++)vn(this.uri,Pe,At.charCodeAt(Pe).toString(16),_)},window.DmakLoader=Kt}();var SubtitlesOctopus=function(Kt){var vn=!1;try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const Q=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));Q instanceof WebAssembly.Module&&(vn=new WebAssembly.Instance(Q)instanceof WebAssembly.Instance)}}catch(Q){}console.log("WebAssembly support detected: "+(vn?"yes":"no"));var z=this;function At(Q,Z){for(var ce=[],de=0,ne=z.renderedItems.length;de<ne;de++)((me=z.renderedItems[de]).emptyFinish<0||me.emptyFinish>=Q)&&ce.push(me);if(Z&&ce.length>0&&Q<ce[0].eventStart)if(ce[0].eventStart-Q>60)console.info("seeked back too far, cleaning prerender buffer"),ce=[];else{console.info("seeked backwards, need to free up some buffer");var v=0,L=.3*z.renderAhead,h=[];for(de=0,ne=ce.length;de<ne;de++){var me;if((v+=(me=ce[de]).size)>=L)break;h.push(me)}ce=h}var g=ce.length<z.renderedItems;return z.renderedItems=ce,g}function Et(Q,Z){if(z.renderAhead&&!(z.renderAhead<=0)&&(!z.oneshotState.renderRequested||Z)){if(void 0===Q){if(!z.video)return;Q=z.video.currentTime+z.timeOffset}for(var ce=0,de=0,ne=z.renderedItems.length;de<ne;de++){var me=z.renderedItems[de];if(me.emptyFinish<0)return void console.info("oneshot already reached end-of-events");if(Q>=me.eventStart&&Q<me.emptyFinish)return void console.debug("not requesting a render for "+Q+" as event already covering it exists (start="+me.eventStart+", empty="+me.emptyFinish+")");ce+=me.size}ce<=z.renderAhead&&(lastRendered=Q-(Z?0:.001),z.oneshotState.renderRequested?(z.workerActive&&console.info("worker busy, requesting to seek"),z.oneshotState.requestNextTimestamp=lastRendered):(z.oneshotState.renderRequested=!0,z.worker.postMessage({target:"oneshot-render",lastRendered,renderNow:Z,iteration:z.oneshotState.iteration})))}}function kt(Q,Z){var ce=Q.eventFinish<Z;if(z.oneshotState.eventStart!=Q.eventStart||z.oneshotState.eventOver!=ce){z.oneshotState.eventStart=Q.eventStart,z.oneshotState.eventOver=ce;var de=performance.now();if((Q.viewport.width!=z.canvas.width||Q.viewport.height!=z.canvas.height)&&(z.canvas.width=Q.viewport.width,z.canvas.height=Q.viewport.height),z.ctx.clearRect(0,0,z.canvas.width,z.canvas.height),!ce)for(var ne=0;ne<Q.items.length;ne++){var me=Q.items[ne];z.bufferCanvas.width=me.w,z.bufferCanvas.height=me.h,z.bufferCanvasCtx.putImageData(me.image,0,0),z.ctx.drawImage(z.bufferCanvas,me.x,me.y)}if(z.debug){var v=Math.round(performance.now()-de);console.log("render: "+Math.round(Q.spentTime-Q.blendTime)+" ms, blend: "+Math.round(Q.blendTime)+" ms, draw: "+v+" ms")}}}function V(){if(window.requestAnimationFrame(V),z.video){for(var Q=z.video.currentTime+z.timeOffset,Z=-1,ce=!1,de=!1,ne=0,me=z.renderedItems.length;ne<me;ne++){var v=z.renderedItems[ne];if(!ce&&v.eventStart<=Q&&(v.emptyFinish<0||v.emptyFinish>Q))kt(v,Q),ce=!0,Z=v.emptyFinish;else if(Z>=0){if(!(v.eventStart-Z<.01))break;Z=v.emptyFinish,de=v.animated}}ce?At(Q)&&Z>=0&&Et(Z,de):Math.abs(z.oneshotState.requestNextTimestamp-Q)>.01&&(At(Q),Et(Q,!0))}}function Ue(){var Q=z.renderFramesData,Z=performance.now();z.ctx.clearRect(0,0,z.canvas.width,z.canvas.height);for(var ce=0;ce<Q.canvases.length;ce++){var de=Q.canvases[ce];z.bufferCanvas.width=de.w,z.bufferCanvas.height=de.h;var ne=new Uint8ClampedArray(de.buffer);if(z.hasAlphaBug)for(var me=3;me<ne.length;me+=4)ne[me]=ne[me]>=1?ne[me]:1;var v=new ImageData(ne,de.w,de.h);z.bufferCanvasCtx.putImageData(v,0,0),z.ctx.drawImage(z.bufferCanvas,de.x,de.y)}if(z.debug){var L=Math.round(performance.now()-Z),h=Q.blendTime;console.log(void 0!==h?"render: "+Math.round(Q.spentTime-h)+" ms, blend: "+Math.round(h)+" ms, draw: "+L+" ms; TOTAL="+Math.round(Q.spentTime+L)+" ms":Math.round(Q.spentTime)+" ms (+ "+L+" ms draw)"),z.renderStart=performance.now()}}function Pe(){var Q=z.renderFramesData,Z=performance.now();z.ctx.clearRect(0,0,z.canvas.width,z.canvas.height);for(var ce=0;ce<Q.bitmaps.length;ce++){var de=Q.bitmaps[ce];z.ctx.drawImage(de.bitmap,de.x,de.y)}if(z.debug){var ne=Math.round(performance.now()-Z);console.log(Q.bitmaps.length+" bitmaps, libass: "+Math.round(Q.libassTime)+"ms, decode: "+Math.round(Q.decodeTime)+"ms, draw: "+ne+"ms"),z.renderStart=performance.now()}}z.canvas=Kt.canvas,z.renderMode=Kt.renderMode||(Kt.lossyRender?"fast":Kt.blendRender?"blend":"normal"),z.dropAllAnimations=Kt.dropAllAnimations||!1,z.libassMemoryLimit=Kt.libassMemoryLimit||0,z.libassGlyphLimit=Kt.libassGlyphLimit||0,z.targetFps=Kt.targetFps||30,z.prescaleTradeoff=Kt.prescaleTradeoff||null,z.softHeightLimit=Kt.softHeightLimit||1080,z.hardHeightLimit=Kt.hardHeightLimit||2160,z.resizeVariation=Kt.resizeVariation||.2,z.renderAhead=Kt.renderAhead||0,z.isOurCanvas=!1,z.video=Kt.video,z.canvasParent=null,z.fonts=Kt.fonts||[],z.availableFonts=Kt.availableFonts||[],z.onReadyEvent=Kt.onReady,z.workerUrl=vn?Kt.workerUrl||"subtitles-octopus-worker.js":Kt.legacyWorkerUrl||"subtitles-octopus-worker-legacy.js",z.subUrl=Kt.subUrl,z.subContent=Kt.subContent||null,z.onErrorEvent=Kt.onError,z.debug=Kt.debug||!1,z.lastRenderTime=0,z.pixelRatio=window.devicePixelRatio||1,z.timeOffset=Kt.timeOffset||0,z.renderedItems=[],z.renderAhead=1024*z.renderAhead*1024*.9,z.oneshotState={eventStart:null,eventOver:!1,iteration:0,renderRequested:!1,requestNextTimestamp:-1,prevWidth:null,prevHeight:null},z.hasAlphaBug=!1,function(){if("function"==typeof ImageData.prototype.constructor)try{return void new window.ImageData(new Uint8ClampedArray([0,0,0,0]),1,1)}catch(ce){console.log("detected that ImageData is not constructable despite browser saying so")}var Z=document.createElement("canvas").getContext("2d");window.ImageData=function(){var ce=0;if(arguments[0]instanceof Uint8ClampedArray)var de=arguments[ce++];var ne=arguments[ce++],me=arguments[ce],v=Z.createImageData(ne,me);return de&&v.data.set(de),v}}(),z.workerError=function(Q){if(console.error("Worker error: ",Q),z.onErrorEvent&&z.onErrorEvent(Q),!z.debug)throw z.dispose(),new Error("Worker error: "+Q)},z.init=function(){window.Worker?(z.worker||(z.worker=new Worker(z.workerUrl),z.worker.onmessage=z.onWorkerMessage,z.worker.onerror=z.workerError),z.workerActive=!1,z.createCanvas(),z.setVideo(Kt.video),z.setSubUrl(Kt.subUrl),z.worker.postMessage({target:"worker-init",width:z.canvas.width,height:z.canvas.height,URL:document.URL,currentScript:z.workerUrl,preMain:!0,renderMode:z.renderMode,subUrl:z.subUrl,subContent:z.subContent,fonts:z.fonts,availableFonts:z.availableFonts,debug:z.debug,targetFps:z.targetFps,libassMemoryLimit:z.libassMemoryLimit,libassGlyphLimit:z.libassGlyphLimit,renderOnDemand:z.renderAhead>0,dropAllAnimations:z.dropAllAnimations})):z.workerError("worker not supported")},z.createCanvas=function(){z.canvas||(z.video?(z.isOurCanvas=!0,z.canvas=document.createElement("canvas"),z.canvas.className="libassjs-canvas",z.canvas.style.display="none",z.canvasParent=document.createElement("div"),z.canvasParent.className="libassjs-canvas-parent",z.canvasParent.appendChild(z.canvas),z.video.nextSibling?z.video.parentNode.insertBefore(z.canvasParent,z.video.nextSibling):z.video.parentNode.appendChild(z.canvasParent)):z.canvas||z.workerError("Don't know where to render: you should give video or canvas in options.")),z.ctx=z.canvas.getContext("2d"),z.bufferCanvas=document.createElement("canvas"),z.bufferCanvasCtx=z.bufferCanvas.getContext("2d"),z.bufferCanvas.width=1,z.bufferCanvas.height=1;var Q=new Uint8ClampedArray([0,255,0,0]),Z=new ImageData(Q,1,1);z.bufferCanvasCtx.clearRect(0,0,1,1),z.ctx.clearRect(0,0,1,1);var ce=z.ctx.getImageData(0,0,1,1).data;z.bufferCanvasCtx.putImageData(Z,0,0),z.ctx.drawImage(z.bufferCanvas,0,0);var de=z.ctx.getImageData(0,0,1,1).data;z.hasAlphaBug=ce[1]!=de[1],z.hasAlphaBug&&console.log("Detected a browser having issue with transparent pixels, applying workaround")},z.setVideo=function(Q){if(z.video=Q,z.video){var Z=function(){z.setCurrentTime(Q.currentTime+z.timeOffset)};z.video.addEventListener("timeupdate",Z,!1),z.video.addEventListener("playing",function(){z.setIsPaused(!1,Q.currentTime+z.timeOffset)},!1),z.video.addEventListener("pause",function(){z.setIsPaused(!0,Q.currentTime+z.timeOffset)},!1),z.video.addEventListener("seeking",function(){z.video.removeEventListener("timeupdate",Z)},!1),z.video.addEventListener("seeked",function(){z.video.addEventListener("timeupdate",Z,!1),z.setCurrentTime(Q.currentTime+z.timeOffset),z.renderAhead>0&&At(Q.currentTime+z.timeOffset,!0)},!1),z.video.addEventListener("ratechange",function(){z.setRate(Q.playbackRate)},!1),z.video.addEventListener("timeupdate",function(){z.setCurrentTime(Q.currentTime+z.timeOffset)},!1),z.video.addEventListener("waiting",function(){z.setIsPaused(!0,Q.currentTime+z.timeOffset)},!1),document.addEventListener("fullscreenchange",z.resizeWithTimeout,!1),document.addEventListener("mozfullscreenchange",z.resizeWithTimeout,!1),document.addEventListener("webkitfullscreenchange",z.resizeWithTimeout,!1),document.addEventListener("msfullscreenchange",z.resizeWithTimeout,!1),window.addEventListener("resize",z.resizeWithTimeout,!1),"undefined"!=typeof ResizeObserver&&(z.ro=new ResizeObserver(z.resizeWithTimeout),z.ro.observe(z.video)),z.video.videoWidth>0?z.resize():z.video.addEventListener("loadedmetadata",function(ce){ce.target.removeEventListener(ce.type,arguments.callee),z.resize()},!1)}},z.getVideoPosition=function(){var Q=z.video.videoWidth/z.video.videoHeight,Z=z.video.offsetWidth,ce=z.video.offsetHeight,ne=Z,me=ce;return Z/ce>Q?ne=Math.floor(ce*Q):me=Math.floor(Z/Q),{width:ne,height:me,x:(Z-ne)/2,y:(ce-me)/2}},z.setSubUrl=function(Q){z.subUrl=Q},z.resetRenderAheadCache=function(Q){if(z.renderAhead>0){var Z=[];if(Q&&z.oneshotState.prevHeight&&z.oneshotState.prevWidth){if(z.oneshotState.prevHeight==z.canvas.height&&z.oneshotState.prevWidth==z.canvas.width)return;var ce=10,de=.3*z.renderAhead;z.canvas.height>=z.oneshotState.prevHeight*(1-z.resizeVariation)&&z.canvas.height<=z.oneshotState.prevHeight*(1+z.resizeVariation)&&z.canvas.width>=z.oneshotState.prevWidth*(1-z.resizeVariation)&&z.canvas.width<=z.oneshotState.prevWidth*(1+z.resizeVariation)&&(console.debug("viewport changes are small, leaving more of prerendered buffer"),ce=30,de=.5*z.renderAhead);for(var ne=z.video.currentTime+z.timeOffset+ce,me=0,v=0;v<z.renderedItems.length;v++){var L=z.renderedItems[v];if(L.emptyFinish<0||L.emptyFinish>=ne||(me+=L.size)>=de)break;Z.push(L)}}console.info("resetting prerender cache"),z.renderedItems=Z,z.oneshotState.eventStart=null,z.oneshotState.iteration++,z.oneshotState.renderRequested=!1,z.oneshotState.prevHeight=z.canvas.height,z.oneshotState.prevWidth=z.canvas.width,window.requestAnimationFrame(V),Et(void 0,!0)}},z.renderFrameData=null,z.workerActive=!1,z.frameId=0,z.onWorkerMessage=function(Q){z.workerActive||(z.workerActive=!0,z.onReadyEvent&&z.onReadyEvent());var Z=Q.data;switch(Z.target){case"stdout":console.log(Z.content);break;case"console-log":console.log.apply(console,JSON.parse(Z.content));break;case"console-debug":console.debug.apply(console,JSON.parse(Z.content));break;case"console-info":console.info.apply(console,JSON.parse(Z.content));break;case"console-warn":console.warn.apply(console,JSON.parse(Z.content));break;case"console-error":console.error.apply(console,JSON.parse(Z.content));break;case"stderr":console.error(Z.content);break;case"window":window[Z.method]();break;case"canvas":switch(Z.op){case"getContext":z.ctx=z.canvas.getContext(Z.type,Z.attributes);break;case"resize":z.resize(Z.width,Z.height);break;case"renderCanvas":z.lastRenderTime<Z.time&&(z.lastRenderTime=Z.time,z.renderFramesData=Z,window.requestAnimationFrame(Ue));break;case"renderFastCanvas":z.lastRenderTime<Z.time&&(z.lastRenderTime=Z.time,z.renderFramesData=Z,window.requestAnimationFrame(Pe));break;case"setObjectProperty":z.canvas[Z.object][Z.property]=Z.value;break;case"oneshot-result":if(Z.iteration!=z.oneshotState.iteration)return void console.debug("received stale prerender, ignoring");z.debug&&console.info("oneshot received (start="+Z.eventStart+", empty="+Z.emptyFinish+"), render: "+Math.round(Z.spentTime)+" ms"),z.oneshotState.renderRequested=!1,Math.abs(Z.lastRenderedTime-z.oneshotState.requestNextTimestamp)<.01&&(z.oneshotState.requestNextTimestamp=-1),Z.eventStart-Z.lastRenderedTime>.01&&z.renderedItems.push({eventStart:Z.lastRenderedTime,eventFinish:Z.lastRenderedTime-.001,emptyFinish:Z.eventStart,viewport:Z.viewport,spentTime:0,blendTime:0,items:[],animated:!1,size:0});for(var ce=[],de=0,ne=0,me=Z.canvases.length;ne<me;ne++){var v=Z.canvases[ne];ce.push({w:v.w,h:v.h,x:v.x,y:v.y,image:new ImageData(new Uint8ClampedArray(v.buffer),v.w,v.h)}),de+=v.buffer.byteLength}var L=!1;if(Z.emptyFinish>0&&Z.emptyFinish-Z.eventStart<1/z.targetFps||Z.animated){var h=Z.eventStart+1/z.targetFps;Z.emptyFinish=h,Z.eventFinish=h,L=!0}z.renderedItems.push({eventStart:Z.eventStart,eventFinish:Z.eventFinish,emptyFinish:Z.emptyFinish,spentTime:Z.spentTime,blendTime:Z.blendTime,viewport:Z.viewport,items:ce,animated:Z.animated,size:de}),z.renderedItems.sort(function(g,p){return g.eventStart-p.eventStart}),z.oneshotState.requestNextTimestamp>=0?Et(z.oneshotState.requestNextTimestamp,!0):Z.eventStart<0?console.info('oneshot received "end of frames" event'):Z.emptyFinish>=0?Et(Z.emptyFinish,L):console.info("there are no more events to prerender");break;default:throw"eh?"}break;case"tick":z.frameId=Z.id,z.worker.postMessage({target:"tock",id:z.frameId});break;case"custom":if(!z.onCustomMessage)throw"Custom message received but client onCustomMessage not implemented.";z.onCustomMessage(Q);break;case"setimmediate":z.worker.postMessage({target:"setimmediate"});break;case"get-events":console.log(Z.target),console.log(Z.events);break;case"get-styles":console.log(Z.target),console.log(Z.styles);break;default:throw"what? "+Z.target}},z.resize=function(Q,Z,ce,de){var ne=null;if(ce=ce||0,de=de||0,(!Q||!Z)&&z.video){var me=function _(Q,Z){return null===z.prescaleTradeoff?Z>z.hardHeightLimit&&(Q=Q*z.hardHeightLimit/Z,Z=z.hardHeightLimit):z.prescaleTradeoff>1?Z*z.prescaleTradeoff<=z.softHeightLimit?(Q*=z.prescaleTradeoff,Z*=z.prescaleTradeoff):Z<z.softHeightLimit?(Q=Q*z.softHeightLimit/Z,Z=z.softHeightLimit):Z>=z.hardHeightLimit&&(Q=Q*z.hardHeightLimit/Z,Z=z.hardHeightLimit):Z>=z.softHeightLimit&&(Z*z.prescaleTradeoff<=z.softHeightLimit?(Q=Q*z.softHeightLimit/Z,Z=z.softHeightLimit):Z*z.prescaleTradeoff<=z.hardHeightLimit?(Q*=z.prescaleTradeoff,Z*=z.prescaleTradeoff):(Q=Q*z.hardHeightLimit/Z,Z=z.hardHeightLimit)),{width:Q,height:Z}}((ne=z.getVideoPosition()).width*z.pixelRatio,ne.height*z.pixelRatio);Q=me.width,Z=me.height;var v=z.canvasParent.getBoundingClientRect().top-z.video.getBoundingClientRect().top;ce=ne.y-v,de=ne.x}Q&&Z?(z.canvas.width!=Q||z.canvas.height!=Z||z.canvas.style.top!=ce||z.canvas.style.left!=de)&&(z.canvas.width=Q,z.canvas.height=Z,null!=ne&&(z.canvasParent.style.position="relative",z.canvas.style.display="block",z.canvas.style.position="absolute",z.canvas.style.width=ne.width+"px",z.canvas.style.height=ne.height+"px",z.canvas.style.top=ce+"px",z.canvas.style.left=de+"px",z.canvas.style.pointerEvents="none"),z.worker.postMessage({target:"canvas",width:z.canvas.width,height:z.canvas.height}),z.resetRenderAheadCache(!0)):z.video||console.error("width or height is 0. You should specify width & height for resize.")},z.resizeWithTimeout=function(){z.resize(),setTimeout(z.resize,100)},z.runBenchmark=function(){z.worker.postMessage({target:"runBenchmark"})},z.customMessage=function(Q,Z){z.worker.postMessage({target:"custom",userData:Q,preMain:(Z=Z||{}).preMain})},z.setCurrentTime=function(Q){z.worker.postMessage({target:"video",currentTime:Q})},z.setTrackByUrl=function(Q){z.worker.postMessage({target:"set-track-by-url",url:Q}),z.resetRenderAheadCache(!1)},z.setTrack=function(Q){z.worker.postMessage({target:"set-track",content:Q}),z.resetRenderAheadCache(!1)},z.freeTrack=function(Q){z.worker.postMessage({target:"free-track"}),z.resetRenderAheadCache(!1)},z.render=z.setCurrentTime,z.setIsPaused=function(Q,Z){z.worker.postMessage({target:"video",isPaused:Q,currentTime:Z})},z.setRate=function(Q){z.worker.postMessage({target:"video",rate:Q})},z.dispose=function(){z.worker.postMessage({target:"destroy"}),z.worker.terminate(),z.workerActive=!1,z.video&&z.video.parentNode.removeChild(z.canvasParent)},z.createEvent=function(Q){z.worker.postMessage({target:"create-event",event:Q})},z.getEvents=function(){z.worker.postMessage({target:"get-events"})},z.setEvent=function(Q,Z){z.worker.postMessage({target:"set-event",event:Q,index:Z})},z.removeEvent=function(Q){z.worker.postMessage({target:"remove-event",index:Q})},z.createStyle=function(Q){z.worker.postMessage({target:"create-style",style:Q})},z.getStyles=function(){z.worker.postMessage({target:"get-styles"})},z.setStyle=function(Q,Z){z.worker.postMessage({target:"set-style",style:Q,index:Z})},z.removeStyle=function(Q){z.worker.postMessage({target:"remove-style",index:Q})},z.init()};function _slicedToArray(Kt,vn){return _arrayWithHoles(Kt)||_iterableToArrayLimit(Kt,vn)||_unsupportedIterableToArray(Kt,vn)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(Kt,vn){var z=null==Kt?null:"undefined"!=typeof Symbol&&Kt[Symbol.iterator]||Kt["@@iterator"];if(null!=z){var At,Et,kt=[],V=!0,Ue=!1;try{for(z=z.call(Kt);!(V=(At=z.next()).done)&&(kt.push(At.value),!vn||kt.length!==vn);V=!0);}catch(Pe){Ue=!0,Et=Pe}finally{try{V||null==z.return||z.return()}finally{if(Ue)throw Et}}return kt}}function _arrayWithHoles(Kt){if(Array.isArray(Kt))return Kt}function _createForOfIteratorHelper(Kt,vn){var z,At="undefined"!=typeof Symbol&&Kt[Symbol.iterator]||Kt["@@iterator"];if(!At){if(Array.isArray(Kt)||(At=_unsupportedIterableToArray(Kt))||vn&&Kt&&"number"==typeof Kt.length)return At&&(Kt=At),z=0,{s:vn=function(){},n:function(){return z>=Kt.length?{done:!0}:{done:!1,value:Kt[z++]}},e:function(Ue){throw Ue},f:vn};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Et,kt=!0,V=!1;return{s:function(){At=At.call(Kt)},n:function(){var Ue=At.next();return kt=Ue.done,Ue},e:function(Ue){V=!0,Et=Ue},f:function(){try{kt||null==At.return||At.return()}finally{if(V)throw Et}}}}function _unsupportedIterableToArray(Kt,vn){if(Kt){if("string"==typeof Kt)return _arrayLikeToArray(Kt,vn);var z=Object.prototype.toString.call(Kt).slice(8,-1);return"Map"===(z="Object"===z&&Kt.constructor?Kt.constructor.name:z)||"Set"===z?Array.from(Kt):"Arguments"===z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z)?_arrayLikeToArray(Kt,vn):void 0}}function _arrayLikeToArray(Kt,vn){(null==vn||vn>Kt.length)&&(vn=Kt.length);for(var z=0,At=new Array(vn);z<vn;z++)At[z]=Kt[z];return At}"function"==typeof SubtitlesOctopusOnLoad&&SubtitlesOctopusOnLoad(),"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(exports=module.exports=SubtitlesOctopus);var Sakura=function(Kt,vn){var At,Et,z=this;if(void 0===Kt)throw new Error("No selector present. Define an element.");function kt(Q){return Q[Math.floor(Math.random()*Q.length)]}function V(Q,Z){return Math.floor(Math.random()*(Z-Q+1))+Q}this.el=document.querySelector(Kt),this.settings=(At={className:"sakura",fallSpeed:1,maxSize:14,minSize:10,delay:300,colors:[{gradientColorStart:"rgba(255, 183, 197, 0.9)",gradientColorEnd:"rgba(255, 197, 208, 0.9)",gradientColorDegree:120}],lifeTime:0},Et=vn,Object.keys(At).forEach(function(Q){Et&&Object.prototype.hasOwnProperty.call(Et,Q)&&(At[Q]=Et[Q])}),At),this.petalsWeak=new Map,setInterval(function(){if(z.settings.lifeTime){var Q,Z=[],ce=Date.now(),de=_createForOfIteratorHelper(z.petalsWeak);try{for(de.s();!(Q=de.n()).done;){var ne=_slicedToArray(Q.value,2),me=ne[0],v=ne[1];me+z.settings.lifeTime<ce&&(Z.push(me),v.remove())}}catch(p){de.e(p)}finally{de.f()}for(var L=0,h=Z;L<h.length;L++)z.petalsWeak.delete(h[L])}},1e3),this.el.style.overflowX="hidden";var Ue=["webkit","moz","MS","o",""];function Pe(Q,Z,ce){for(var de=0;de<Ue.length;de+=1){var ne=Z;Ue[de]||(ne=Z.toLowerCase()),Q.addEventListener(Ue[de]+ne,ce,!1)}}function _(Q){return 0<=(Q=Q.getBoundingClientRect()).top&&0<=Q.left&&Q.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&Q.right<=(window.innerWidth||document.documentElement.clientWidth)}this.createPetal=function(){z.el.dataset.sakuraAnimId&&setTimeout(function(){window.requestAnimationFrame(z.createPetal)},z.settings.delay);var de=["sway-0","sway-1","sway-2","sway-3","sway-4","sway-5","sway-6","sway-7","sway-8"],Q=kt(["blow-soft-left","blow-medium-left","blow-soft-right","blow-medium-right"]),ce=(de=kt(de),(.007*document.documentElement.clientHeight+Math.round(5*Math.random()))*z.settings.fallSpeed),Z=(Q=["fall ".concat(ce,"s linear 0s 1"),"".concat(Q," ").concat((30<ce?ce:30)-20+V(0,20),"s linear 0s infinite"),"".concat(de," ").concat(V(2,4),"s linear 0s infinite")].join(", "),document.createElement("div")),ne=(Z.classList.add(z.settings.className),de=(ce=V(z.settings.minSize,z.settings.maxSize))-Math.floor(V(0,z.settings.minSize)/3),kt(z.settings.colors));Z.style.background="linear-gradient(".concat(ne.gradientColorDegree,"deg, ").concat(ne.gradientColorStart,", ").concat(ne.gradientColorEnd,")"),Z.style.webkitAnimation=Q,Z.style.animation=Q,Z.style.borderRadius="".concat(V(z.settings.maxSize,z.settings.maxSize+Math.floor(10*Math.random())),"px ").concat(V(1,Math.floor(de/4)),"px"),Z.style.height="".concat(ce,"px"),Z.style.left="".concat(Math.random()*document.documentElement.clientWidth-100,"px"),Z.style.marginTop="".concat(-(Math.floor(20*Math.random())+15),"px"),Z.style.width="".concat(de,"px"),Pe(Z,"AnimationEnd",function(){_(Z)||Z.remove()}),Pe(Z,"AnimationIteration",function(){_(Z)||Z.remove()}),z.petalsWeak.set(Date.now(),Z),z.el.appendChild(Z)},this.el.setAttribute("data-sakura-anim-id",window.requestAnimationFrame(this.createPetal))};Sakura.prototype.start=function(){if(this.el.dataset.sakuraAnimId)throw new Error("Sakura is already running.");this.el.setAttribute("data-sakura-anim-id",window.requestAnimationFrame(this.createPetal))},Sakura.prototype.stop=function(){var Kt=this,vn=0<arguments.length&&void 0!==arguments[0]&&arguments[0],z=this.el.dataset.sakuraAnimId;z&&(window.cancelAnimationFrame(z),this.el.setAttribute("data-sakura-anim-id","")),vn||setTimeout(function(){for(var At=document.getElementsByClassName(Kt.settings.className);0<At.length;)At[0].parentNode.removeChild(At[0])},this.settings.delay+50)},function(Kt,vn){"object"==typeof exports&&"undefined"!=typeof module?module.exports=vn():"function"==typeof define&&define.amd?define(vn):(Kt="undefined"!=typeof globalThis?globalThis:Kt||self).bootstrap=vn()}(this,function(){"use strict";const Kt="transitionend",vn=Ee=>{let D=Ee.getAttribute("data-bs-target");if(!D||"#"===D){let te=Ee.getAttribute("href");if(!te||!te.includes("#")&&!te.startsWith("."))return null;te.includes("#")&&!te.startsWith("#")&&(te=`#${te.split("#")[1]}`),D=te&&"#"!==te?te.trim():null}return D},z=Ee=>{const D=vn(Ee);return D&&document.querySelector(D)?D:null},At=Ee=>{const D=vn(Ee);return D?document.querySelector(D):null},Et=Ee=>{Ee.dispatchEvent(new Event(Kt))},kt=Ee=>!(!Ee||"object"!=typeof Ee)&&(void 0!==Ee.jquery&&(Ee=Ee[0]),void 0!==Ee.nodeType),V=Ee=>kt(Ee)?Ee.jquery?Ee[0]:Ee:"string"==typeof Ee&&Ee.length>0?document.querySelector(Ee):null,Ue=(Ee,D,te)=>{Object.keys(te).forEach(Be=>{const tt=te[Be],lt=D[Be],Mt=lt&&kt(lt)?"element":null==(mn=lt)?`${mn}`:{}.toString.call(mn).match(/\s([a-z]+)/i)[1].toLowerCase();var mn;if(!new RegExp(tt).test(Mt))throw new TypeError(`${Ee.toUpperCase()}: Option "${Be}" provided type "${Mt}" but expected type "${tt}".`)})},Pe=Ee=>!(!kt(Ee)||0===Ee.getClientRects().length)&&"visible"===getComputedStyle(Ee).getPropertyValue("visibility"),_=Ee=>!Ee||Ee.nodeType!==Node.ELEMENT_NODE||!!Ee.classList.contains("disabled")||(void 0!==Ee.disabled?Ee.disabled:Ee.hasAttribute("disabled")&&"false"!==Ee.getAttribute("disabled")),Q=Ee=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof Ee.getRootNode){const D=Ee.getRootNode();return D instanceof ShadowRoot?D:null}return Ee instanceof ShadowRoot?Ee:Ee.parentNode?Q(Ee.parentNode):null},Z=()=>{},de=()=>{const{jQuery:Ee}=window;return Ee&&!document.body.hasAttribute("data-bs-no-jquery")?Ee:null},ne=[],me=()=>"rtl"===document.documentElement.dir,v=Ee=>{var D;D=()=>{const te=de();if(te){const Be=Ee.NAME,tt=te.fn[Be];te.fn[Be]=Ee.jQueryInterface,te.fn[Be].Constructor=Ee,te.fn[Be].noConflict=()=>(te.fn[Be]=tt,Ee.jQueryInterface)}},"loading"===document.readyState?(ne.length||document.addEventListener("DOMContentLoaded",()=>{ne.forEach(te=>te())}),ne.push(D)):D()},L=Ee=>{"function"==typeof Ee&&Ee()},h=(Ee,D,te=!0)=>{if(!te)return void L(Ee);const Be=(Mt=>{if(!Mt)return 0;let{transitionDuration:mn,transitionDelay:Tn}=window.getComputedStyle(Mt);const Hn=Number.parseFloat(mn),Vn=Number.parseFloat(Tn);return Hn||Vn?(mn=mn.split(",")[0],Tn=Tn.split(",")[0],1e3*(Number.parseFloat(mn)+Number.parseFloat(Tn))):0})(D)+5;let tt=!1;const lt=({target:Mt})=>{Mt===D&&(tt=!0,D.removeEventListener(Kt,lt),L(Ee))};D.addEventListener(Kt,lt),setTimeout(()=>{tt||Et(D)},Be)},g=(Ee,D,te,Be)=>{let tt=Ee.indexOf(D);if(-1===tt)return Ee[!te&&Be?Ee.length-1:0];const lt=Ee.length;return tt+=te?1:-1,Be&&(tt=(tt+lt)%lt),Ee[Math.max(0,Math.min(tt,lt-1))]},p=/[^.]*(?=\..*)\.|.*/,x=/\..*/,r=/::\d+$/,c={};let l=1;const n={mouseenter:"mouseover",mouseleave:"mouseout"},t=/^(mouseenter|mouseleave)/i,i=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function s(Ee,D){return D&&`${D}::${l++}`||Ee.uidEvent||l++}function u(Ee){const D=s(Ee);return Ee.uidEvent=D,c[D]=c[D]||{},c[D]}function o(Ee,D,te=null){const Be=Object.keys(Ee);for(let tt=0,lt=Be.length;tt<lt;tt++){const Mt=Ee[Be[tt]];if(Mt.originalHandler===D&&Mt.delegationSelector===te)return Mt}return null}function d(Ee,D,te){const Be="string"==typeof D,tt=Be?te:D;let lt=b(Ee);return i.has(lt)||(lt=Ee),[Be,tt,lt]}function f(Ee,D,te,Be,tt){if("string"!=typeof D||!Ee)return;if(te||(te=Be,Be=null),t.test(D)){const nr=rr=>function(er){if(!er.relatedTarget||er.relatedTarget!==er.delegateTarget&&!er.delegateTarget.contains(er.relatedTarget))return rr.call(this,er)};Be?Be=nr(Be):te=nr(te)}const[lt,Mt,mn]=d(D,te,Be),Tn=u(Ee),Hn=Tn[mn]||(Tn[mn]={}),Vn=o(Hn,Mt,lt?te:null);if(Vn)return void(Vn.oneOff=Vn.oneOff&&tt);const Rn=s(Mt,D.replace(p,"")),pr=lt?(nr=Ee,rr=te,er=Be,function ar(Lr){const mr=nr.querySelectorAll(rr);for(let{target:fr}=Lr;fr&&fr!==this;fr=fr.parentNode)for(let _r=mr.length;_r--;)if(mr[_r]===fr)return Lr.delegateTarget=fr,ar.oneOff&&I.off(nr,Lr.type,rr,er),er.apply(fr,[Lr]);return null}):function(nr,rr){return function er(ar){return ar.delegateTarget=nr,er.oneOff&&I.off(nr,ar.type,rr),rr.apply(nr,[ar])}}(Ee,te);var nr,rr,er;pr.delegationSelector=lt?te:null,pr.originalHandler=Mt,pr.oneOff=tt,pr.uidEvent=Rn,Hn[Rn]=pr,Ee.addEventListener(mn,pr,lt)}function E(Ee,D,te,Be,tt){const lt=o(D[te],Be,tt);lt&&(Ee.removeEventListener(te,lt,Boolean(tt)),delete D[te][lt.uidEvent])}function b(Ee){return Ee=Ee.replace(x,""),n[Ee]||Ee}const I={on(Ee,D,te,Be){f(Ee,D,te,Be,!1)},one(Ee,D,te,Be){f(Ee,D,te,Be,!0)},off(Ee,D,te,Be){if("string"!=typeof D||!Ee)return;const[tt,lt,Mt]=d(D,te,Be),mn=Mt!==D,Tn=u(Ee),Hn=D.startsWith(".");if(void 0!==lt)return Tn&&Tn[Mt]?void E(Ee,Tn,Mt,lt,tt?te:null):void 0;Hn&&Object.keys(Tn).forEach(Rn=>{!function(pr,nr,rr,er){const ar=nr[rr]||{};Object.keys(ar).forEach(Lr=>{if(Lr.includes(er)){const mr=ar[Lr];E(pr,nr,rr,mr.originalHandler,mr.delegationSelector)}})}(Ee,Tn,Rn,D.slice(1))});const Vn=Tn[Mt]||{};Object.keys(Vn).forEach(Rn=>{const pr=Rn.replace(r,"");if(!mn||D.includes(pr)){const nr=Vn[Rn];E(Ee,Tn,Mt,nr.originalHandler,nr.delegationSelector)}})},trigger(Ee,D,te){if("string"!=typeof D||!Ee)return null;const Be=de(),tt=b(D),lt=D!==tt,Mt=i.has(tt);let mn,Tn=!0,Hn=!0,Vn=!1,Rn=null;return lt&&Be&&(mn=Be.Event(D,te),Be(Ee).trigger(mn),Tn=!mn.isPropagationStopped(),Hn=!mn.isImmediatePropagationStopped(),Vn=mn.isDefaultPrevented()),Mt?(Rn=document.createEvent("HTMLEvents"),Rn.initEvent(tt,Tn,!0)):Rn=new CustomEvent(D,{bubbles:Tn,cancelable:!0}),void 0!==te&&Object.keys(te).forEach(pr=>{Object.defineProperty(Rn,pr,{get:()=>te[pr]})}),Vn&&Rn.preventDefault(),Hn&&Ee.dispatchEvent(Rn),Rn.defaultPrevented&&void 0!==mn&&mn.preventDefault(),Rn}},S=new Map,R={set(Ee,D,te){S.has(Ee)||S.set(Ee,new Map);const Be=S.get(Ee);Be.has(D)||0===Be.size?Be.set(D,te):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Be.keys())[0]}.`)},get:(Ee,D)=>S.has(Ee)&&S.get(Ee).get(D)||null,remove(Ee,D){if(!S.has(Ee))return;const te=S.get(Ee);te.delete(D),0===te.size&&S.delete(Ee)}};class F{constructor(D){(D=V(D))&&(this._element=D,R.set(this._element,this.constructor.DATA_KEY,this))}dispose(){R.remove(this._element,this.constructor.DATA_KEY),I.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(D=>{this[D]=null})}_queueCallback(D,te,Be=!0){h(D,te,Be)}static getInstance(D){return R.get(V(D),this.DATA_KEY)}static getOrCreateInstance(D,te={}){return this.getInstance(D)||new this(D,"object"==typeof te?te:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const q=(Ee,D="hide")=>{const Be=Ee.NAME;I.on(document,`click.dismiss${Ee.EVENT_KEY}`,`[data-bs-dismiss="${Be}"]`,function(tt){if(["A","AREA"].includes(this.tagName)&&tt.preventDefault(),_(this))return;const lt=At(this)||this.closest(`.${Be}`);Ee.getOrCreateInstance(lt)[D]()})};class K extends F{static get NAME(){return"alert"}close(){if(I.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const D=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,D)}_destroyElement(){this._element.remove(),I.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(D){return this.each(function(){const te=K.getOrCreateInstance(this);if("string"==typeof D){if(void 0===te[D]||D.startsWith("_")||"constructor"===D)throw new TypeError(`No method named "${D}"`);te[D](this)}})}}q(K,"close"),v(K);const se='[data-bs-toggle="button"]';class xe extends F{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(D){return this.each(function(){const te=xe.getOrCreateInstance(this);"toggle"===D&&te[D]()})}}function we(Ee){return"true"===Ee||"false"!==Ee&&(Ee===Number(Ee).toString()?Number(Ee):""===Ee||"null"===Ee?null:Ee)}function A(Ee){return Ee.replace(/[A-Z]/g,D=>`-${D.toLowerCase()}`)}I.on(document,"click.bs.button.data-api",se,Ee=>{Ee.preventDefault();const D=Ee.target.closest(se);xe.getOrCreateInstance(D).toggle()}),v(xe);const P={setDataAttribute(Ee,D,te){Ee.setAttribute(`data-bs-${A(D)}`,te)},removeDataAttribute(Ee,D){Ee.removeAttribute(`data-bs-${A(D)}`)},getDataAttributes(Ee){if(!Ee)return{};const D={};return Object.keys(Ee.dataset).filter(te=>te.startsWith("bs")).forEach(te=>{let Be=te.replace(/^bs/,"");Be=Be.charAt(0).toLowerCase()+Be.slice(1,Be.length),D[Be]=we(Ee.dataset[te])}),D},getDataAttribute:(Ee,D)=>we(Ee.getAttribute(`data-bs-${A(D)}`)),offset(Ee){const D=Ee.getBoundingClientRect();return{top:D.top+window.pageYOffset,left:D.left+window.pageXOffset}},position:Ee=>({top:Ee.offsetTop,left:Ee.offsetLeft})},U={find:(Ee,D=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(D,Ee)),findOne:(Ee,D=document.documentElement)=>Element.prototype.querySelector.call(D,Ee),children:(Ee,D)=>[].concat(...Ee.children).filter(te=>te.matches(D)),parents(Ee,D){const te=[];let Be=Ee.parentNode;for(;Be&&Be.nodeType===Node.ELEMENT_NODE&&3!==Be.nodeType;)Be.matches(D)&&te.push(Be),Be=Be.parentNode;return te},prev(Ee,D){let te=Ee.previousElementSibling;for(;te;){if(te.matches(D))return[te];te=te.previousElementSibling}return[]},next(Ee,D){let te=Ee.nextElementSibling;for(;te;){if(te.matches(D))return[te];te=te.nextElementSibling}return[]},focusableChildren(Ee){const D=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(te=>`${te}:not([tabindex^="-"])`).join(", ");return this.find(D,Ee).filter(te=>!_(te)&&Pe(te))}},y="carousel",C={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},M={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},O="next",ee="prev",$="left",ae="right",Fe={ArrowLeft:ae,ArrowRight:$},He="slid.bs.carousel",Ve="active",it=".active.carousel-item";class at extends F{constructor(D,te){super(D),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(te),this._indicatorsElement=U.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return C}static get NAME(){return y}next(){this._slide(O)}nextWhenVisible(){!document.hidden&&Pe(this._element)&&this.next()}prev(){this._slide(ee)}pause(D){D||(this._isPaused=!0),U.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(Et(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(D){D||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(D){this._activeElement=U.findOne(it,this._element);const te=this._getItemIndex(this._activeElement);if(!(D>this._items.length-1||D<0)){if(!this._isSliding)return te===D?(this.pause(),void this.cycle()):void this._slide(D>te?O:ee,this._items[D]);I.one(this._element,He,()=>this.to(D))}}_getConfig(D){return D={...C,...P.getDataAttributes(this._element),..."object"==typeof D?D:{}},Ue(y,D,M),D}_handleSwipe(){const D=Math.abs(this.touchDeltaX);if(D<=40)return;const te=D/this.touchDeltaX;this.touchDeltaX=0,te&&this._slide(te>0?ae:$)}_addEventListeners(){this._config.keyboard&&I.on(this._element,"keydown.bs.carousel",D=>this._keydown(D)),"hover"===this._config.pause&&(I.on(this._element,"mouseenter.bs.carousel",D=>this.pause(D)),I.on(this._element,"mouseleave.bs.carousel",D=>this.cycle(D))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const D=lt=>this._pointerEvent&&("pen"===lt.pointerType||"touch"===lt.pointerType),te=lt=>{D(lt)?this.touchStartX=lt.clientX:this._pointerEvent||(this.touchStartX=lt.touches[0].clientX)},Be=lt=>{this.touchDeltaX=lt.touches&&lt.touches.length>1?0:lt.touches[0].clientX-this.touchStartX},tt=lt=>{D(lt)&&(this.touchDeltaX=lt.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(Mt=>this.cycle(Mt),500+this._config.interval))};U.find(".carousel-item img",this._element).forEach(lt=>{I.on(lt,"dragstart.bs.carousel",Mt=>Mt.preventDefault())}),this._pointerEvent?(I.on(this._element,"pointerdown.bs.carousel",lt=>te(lt)),I.on(this._element,"pointerup.bs.carousel",lt=>tt(lt)),this._element.classList.add("pointer-event")):(I.on(this._element,"touchstart.bs.carousel",lt=>te(lt)),I.on(this._element,"touchmove.bs.carousel",lt=>Be(lt)),I.on(this._element,"touchend.bs.carousel",lt=>tt(lt)))}_keydown(D){if(/input|textarea/i.test(D.target.tagName))return;const te=Fe[D.key];te&&(D.preventDefault(),this._slide(te))}_getItemIndex(D){return this._items=D&&D.parentNode?U.find(".carousel-item",D.parentNode):[],this._items.indexOf(D)}_getItemByOrder(D,te){return g(this._items,te,D===O,this._config.wrap)}_triggerSlideEvent(D,te){const Be=this._getItemIndex(D),tt=this._getItemIndex(U.findOne(it,this._element));return I.trigger(this._element,"slide.bs.carousel",{relatedTarget:D,direction:te,from:tt,to:Be})}_setActiveIndicatorElement(D){if(this._indicatorsElement){const te=U.findOne(".active",this._indicatorsElement);te.classList.remove(Ve),te.removeAttribute("aria-current");const Be=U.find("[data-bs-target]",this._indicatorsElement);for(let tt=0;tt<Be.length;tt++)if(Number.parseInt(Be[tt].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(D)){Be[tt].classList.add(Ve),Be[tt].setAttribute("aria-current","true");break}}}_updateInterval(){const D=this._activeElement||U.findOne(it,this._element);if(!D)return;const te=Number.parseInt(D.getAttribute("data-bs-interval"),10);te?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=te):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(D,te){const Be=this._directionToOrder(D),tt=U.findOne(it,this._element),lt=this._getItemIndex(tt),Mt=te||this._getItemByOrder(Be,tt),mn=this._getItemIndex(Mt),Tn=Boolean(this._interval),Hn=Be===O,Vn=Hn?"carousel-item-start":"carousel-item-end",Rn=Hn?"carousel-item-next":"carousel-item-prev",pr=this._orderToDirection(Be);if(Mt&&Mt.classList.contains(Ve))return void(this._isSliding=!1);if(this._isSliding||this._triggerSlideEvent(Mt,pr).defaultPrevented||!tt||!Mt)return;this._isSliding=!0,Tn&&this.pause(),this._setActiveIndicatorElement(Mt),this._activeElement=Mt;const nr=()=>{I.trigger(this._element,He,{relatedTarget:Mt,direction:pr,from:lt,to:mn})};this._element.classList.contains("slide")?(Mt.classList.add(Rn),tt.classList.add(Vn),Mt.classList.add(Vn),this._queueCallback(()=>{Mt.classList.remove(Vn,Rn),Mt.classList.add(Ve),tt.classList.remove(Ve,Rn,Vn),this._isSliding=!1,setTimeout(nr,0)},tt,!0)):(tt.classList.remove(Ve),Mt.classList.add(Ve),this._isSliding=!1,nr()),Tn&&this.cycle()}_directionToOrder(D){return[ae,$].includes(D)?me()?D===$?ee:O:D===$?O:ee:D}_orderToDirection(D){return[O,ee].includes(D)?me()?D===ee?$:ae:D===ee?ae:$:D}static carouselInterface(D,te){const Be=at.getOrCreateInstance(D,te);let{_config:tt}=Be;"object"==typeof te&&(tt={...tt,...te});const lt="string"==typeof te?te:tt.slide;if("number"==typeof te)Be.to(te);else if("string"==typeof lt){if(void 0===Be[lt])throw new TypeError(`No method named "${lt}"`);Be[lt]()}else tt.interval&&tt.ride&&(Be.pause(),Be.cycle())}static jQueryInterface(D){return this.each(function(){at.carouselInterface(this,D)})}static dataApiClickHandler(D){const te=At(this);if(!te||!te.classList.contains("carousel"))return;const Be={...P.getDataAttributes(te),...P.getDataAttributes(this)},tt=this.getAttribute("data-bs-slide-to");tt&&(Be.interval=!1),at.carouselInterface(te,Be),tt&&at.getInstance(te).to(tt),D.preventDefault()}}I.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",at.dataApiClickHandler),I.on(window,"load.bs.carousel.data-api",()=>{const Ee=U.find('[data-bs-ride="carousel"]');for(let D=0,te=Ee.length;D<te;D++)at.carouselInterface(Ee[D],at.getInstance(Ee[D]))}),v(at);const qt="collapse",Ct={toggle:!0,parent:null},Ht={toggle:"boolean",parent:"(null|element)"},Ge="show",dt="collapse",vt="collapsing",G="collapsed",ue=":scope .collapse .collapse",Y='[data-bs-toggle="collapse"]';class oe extends F{constructor(D,te){super(D),this._isTransitioning=!1,this._config=this._getConfig(te),this._triggerArray=[];const Be=U.find(Y);for(let tt=0,lt=Be.length;tt<lt;tt++){const Mt=Be[tt],mn=z(Mt),Tn=U.find(mn).filter(Hn=>Hn===this._element);null!==mn&&Tn.length&&(this._selector=mn,this._triggerArray.push(Mt))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ct}static get NAME(){return qt}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let D,te=[];if(this._config.parent){const Mt=U.find(ue,this._config.parent);te=U.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(mn=>!Mt.includes(mn))}const Be=U.findOne(this._selector);if(te.length){const Mt=te.find(mn=>Be!==mn);if(D=Mt?oe.getInstance(Mt):null,D&&D._isTransitioning)return}if(I.trigger(this._element,"show.bs.collapse").defaultPrevented)return;te.forEach(Mt=>{Be!==Mt&&oe.getOrCreateInstance(Mt,{toggle:!1}).hide(),D||R.set(Mt,"bs.collapse",null)});const tt=this._getDimension();this._element.classList.remove(dt),this._element.classList.add(vt),this._element.style[tt]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const lt=`scroll${tt[0].toUpperCase()+tt.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(vt),this._element.classList.add(dt,Ge),this._element.style[tt]="",I.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[tt]=`${this._element[lt]}px`}hide(){if(this._isTransitioning||!this._isShown()||I.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const D=this._getDimension();this._element.style[D]=`${this._element.getBoundingClientRect()[D]}px`,this._element.classList.add(vt),this._element.classList.remove(dt,Ge);const te=this._triggerArray.length;for(let Be=0;Be<te;Be++){const tt=this._triggerArray[Be],lt=At(tt);lt&&!this._isShown(lt)&&this._addAriaAndCollapsedClass([tt],!1)}this._isTransitioning=!0,this._element.style[D]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(vt),this._element.classList.add(dt),I.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(D=this._element){return D.classList.contains(Ge)}_getConfig(D){return(D={...Ct,...P.getDataAttributes(this._element),...D}).toggle=Boolean(D.toggle),D.parent=V(D.parent),Ue(qt,D,Ht),D}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const D=U.find(ue,this._config.parent);U.find(Y,this._config.parent).filter(te=>!D.includes(te)).forEach(te=>{const Be=At(te);Be&&this._addAriaAndCollapsedClass([te],this._isShown(Be))})}_addAriaAndCollapsedClass(D,te){D.length&&D.forEach(Be=>{te?Be.classList.remove(G):Be.classList.add(G),Be.setAttribute("aria-expanded",te)})}static jQueryInterface(D){return this.each(function(){const te={};"string"==typeof D&&/show|hide/.test(D)&&(te.toggle=!1);const Be=oe.getOrCreateInstance(this,te);if("string"==typeof D){if(void 0===Be[D])throw new TypeError(`No method named "${D}"`);Be[D]()}})}}I.on(document,"click.bs.collapse.data-api",Y,function(Ee){("A"===Ee.target.tagName||Ee.delegateTarget&&"A"===Ee.delegateTarget.tagName)&&Ee.preventDefault();const D=z(this);U.find(D).forEach(te=>{oe.getOrCreateInstance(te,{toggle:!1}).toggle()})}),v(oe);var et="top",ie="bottom",pe="right",Ye="left",ct="auto",gt=[et,ie,pe,Ye],$t="start",Zt="end",rn="clippingParents",kn="viewport",an="popper",xn="reference",$n=gt.reduce(function(Ee,D){return Ee.concat([D+"-"+$t,D+"-"+Zt])},[]),Cn=[].concat(gt,[ct]).reduce(function(Ee,D){return Ee.concat([D,D+"-"+$t,D+"-"+Zt])},[]),On="beforeRead",jt="afterRead",Kn="beforeMain",Le="afterMain",je="beforeWrite",Qe="afterWrite",ht=[On,"read",jt,Kn,"main",Le,je,"write",Qe];function sn(Ee){return Ee?(Ee.nodeName||"").toLowerCase():null}function Ot(Ee){if(null==Ee)return window;if("[object Window]"!==Ee.toString()){var D=Ee.ownerDocument;return D&&D.defaultView||window}return Ee}function Vt(Ee){return Ee instanceof Ot(Ee).Element||Ee instanceof Element}function tn(Ee){return Ee instanceof Ot(Ee).HTMLElement||Ee instanceof HTMLElement}function wn(Ee){return"undefined"!=typeof ShadowRoot&&(Ee instanceof Ot(Ee).ShadowRoot||Ee instanceof ShadowRoot)}const on={name:"applyStyles",enabled:!0,phase:"write",fn:function(Ee){var D=Ee.state;Object.keys(D.elements).forEach(function(te){var Be=D.styles[te]||{},tt=D.attributes[te]||{},lt=D.elements[te];tn(lt)&&sn(lt)&&(Object.assign(lt.style,Be),Object.keys(tt).forEach(function(Mt){var mn=tt[Mt];!1===mn?lt.removeAttribute(Mt):lt.setAttribute(Mt,!0===mn?"":mn)}))})},effect:function(Ee){var D=Ee.state,te={popper:{position:D.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(D.elements.popper.style,te.popper),D.styles=te,D.elements.arrow&&Object.assign(D.elements.arrow.style,te.arrow),function(){Object.keys(D.elements).forEach(function(Be){var tt=D.elements[Be],lt=D.attributes[Be]||{},Mt=Object.keys(D.styles.hasOwnProperty(Be)?D.styles[Be]:te[Be]).reduce(function(mn,Tn){return mn[Tn]="",mn},{});tn(tt)&&sn(tt)&&(Object.assign(tt.style,Mt),Object.keys(lt).forEach(function(mn){tt.removeAttribute(mn)}))})}},requires:["computeStyles"]};function Dt(Ee){return Ee.split("-")[0]}function ke(Ee,D){var te=Ee.getBoundingClientRect();return{width:te.width/1,height:te.height/1,top:te.top/1,right:te.right/1,bottom:te.bottom/1,left:te.left/1,x:te.left/1,y:te.top/1}}function Gt(Ee){var D=ke(Ee),te=Ee.offsetWidth,Be=Ee.offsetHeight;return Math.abs(D.width-te)<=1&&(te=D.width),Math.abs(D.height-Be)<=1&&(Be=D.height),{x:Ee.offsetLeft,y:Ee.offsetTop,width:te,height:Be}}function Nn(Ee,D){var te=D.getRootNode&&D.getRootNode();if(Ee.contains(D))return!0;if(te&&wn(te)){var Be=D;do{if(Be&&Ee.isSameNode(Be))return!0;Be=Be.parentNode||Be.host}while(Be)}return!1}function dn(Ee){return Ot(Ee).getComputedStyle(Ee)}function Pn(Ee){return["table","td","th"].indexOf(sn(Ee))>=0}function Dn(Ee){return((Vt(Ee)?Ee.ownerDocument:Ee.document)||window.document).documentElement}function jn(Ee){return"html"===sn(Ee)?Ee:Ee.assignedSlot||Ee.parentNode||(wn(Ee)?Ee.host:null)||Dn(Ee)}function Un(Ee){return tn(Ee)&&"fixed"!==dn(Ee).position?Ee.offsetParent:null}function Yn(Ee){for(var D=Ot(Ee),te=Un(Ee);te&&Pn(te)&&"static"===dn(te).position;)te=Un(te);return te&&("html"===sn(te)||"body"===sn(te)&&"static"===dn(te).position)?D:te||function(Be){var tt=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&tn(Be)&&"fixed"===dn(Be).position)return null;for(var lt=jn(Be);tn(lt)&&["html","body"].indexOf(sn(lt))<0;){var Mt=dn(lt);if("none"!==Mt.transform||"none"!==Mt.perspective||"paint"===Mt.contain||-1!==["transform","perspective"].indexOf(Mt.willChange)||tt&&"filter"===Mt.willChange||tt&&Mt.filter&&"none"!==Mt.filter)return lt;lt=lt.parentNode}return null}(Ee)||D}function Wn(Ee){return["top","bottom"].indexOf(Ee)>=0?"x":"y"}var Gn=Math.max,rt=Math.min,le=Math.round;function nt(Ee,D,te){return Gn(Ee,rt(D,te))}function ot(Ee){return Object.assign({},{top:0,right:0,bottom:0,left:0},Ee)}function ye(Ee,D){return D.reduce(function(te,Be){return te[Be]=Ee,te},{})}const ut={name:"arrow",enabled:!0,phase:"main",fn:function(Ee){var D,Tr,Dr,te=Ee.state,Be=Ee.name,tt=Ee.options,lt=te.elements.arrow,Mt=te.modifiersData.popperOffsets,mn=Dt(te.placement),Tn=Wn(mn),Hn=[Ye,pe].indexOf(mn)>=0?"height":"width";if(lt&&Mt){var Vn=(Dr=te,ot("number"!=typeof(Tr="function"==typeof(Tr=tt.padding)?Tr(Object.assign({},Dr.rects,{placement:Dr.placement})):Tr)?Tr:ye(Tr,gt))),Rn=Gt(lt),pr="y"===Tn?et:Ye,nr="y"===Tn?ie:pe,rr=te.rects.reference[Hn]+te.rects.reference[Tn]-Mt[Tn]-te.rects.popper[Hn],er=Mt[Tn]-te.rects.reference[Tn],ar=Yn(lt),Lr=ar?"y"===Tn?ar.clientHeight||0:ar.clientWidth||0:0,br=Lr/2-Rn[Hn]/2+(rr/2-er/2),wr=nt(Vn[pr],br,Lr-Rn[Hn]-Vn[nr]);te.modifiersData[Be]=((D={})[Tn]=wr,D.centerOffset=wr-br,D)}},effect:function(Ee){var D=Ee.state,te=Ee.options.element,Be=void 0===te?"[data-popper-arrow]":te;null!=Be&&("string"!=typeof Be||(Be=D.elements.popper.querySelector(Be)))&&Nn(D.elements.popper,Be)&&(D.elements.arrow=Be)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Qr(Ee){return Ee.split("-")[1]}var Ri={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jr(Ee){var D,Zr,vi,Fr,te=Ee.popper,Be=Ee.popperRect,tt=Ee.placement,lt=Ee.variation,Mt=Ee.offsets,mn=Ee.position,Tn=Ee.gpuAcceleration,Hn=Ee.adaptive,Vn=Ee.roundOffsets,Rn=!0===Vn?(vi=(Zr=Mt).y,Fr=window.devicePixelRatio||1,{x:le(le(Zr.x*Fr)/Fr)||0,y:le(le(vi*Fr)/Fr)||0}):"function"==typeof Vn?Vn(Mt):Mt,pr=Rn.x,nr=void 0===pr?0:pr,rr=Rn.y,er=void 0===rr?0:rr,ar=Mt.hasOwnProperty("x"),Lr=Mt.hasOwnProperty("y"),mr=Ye,fr=et,_r=window;if(Hn){var br=Yn(te),wr="clientHeight",Ir="clientWidth";br===Ot(te)&&"static"!==dn(br=Dn(te)).position&&"absolute"===mn&&(wr="scrollHeight",Ir="scrollWidth"),br=br,tt!==et&&(tt!==Ye&&tt!==pe||lt!==Zt)||(fr=ie,er-=br[wr]-Be.height,er*=Tn?1:-1),tt!==Ye&&(tt!==et&&tt!==ie||lt!==Zt)||(mr=pe,nr-=br[Ir]-Be.width,nr*=Tn?1:-1)}var Tr,Dr=Object.assign({position:mn},Hn&&Ri);return Object.assign({},Dr,Tn?((Tr={})[fr]=Lr?"0":"",Tr[mr]=ar?"0":"",Tr.transform=(_r.devicePixelRatio||1)<=1?"translate("+nr+"px, "+er+"px)":"translate3d("+nr+"px, "+er+"px, 0)",Tr):((D={})[fr]=Lr?er+"px":"",D[mr]=ar?nr+"px":"",D.transform="",D))}const ci={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(Ee){var D=Ee.state,te=Ee.options,Be=te.gpuAcceleration,tt=void 0===Be||Be,lt=te.adaptive,Mt=void 0===lt||lt,mn=te.roundOffsets,Tn=void 0===mn||mn,Hn={placement:Dt(D.placement),variation:Qr(D.placement),popper:D.elements.popper,popperRect:D.rects.popper,gpuAcceleration:tt};null!=D.modifiersData.popperOffsets&&(D.styles.popper=Object.assign({},D.styles.popper,jr(Object.assign({},Hn,{offsets:D.modifiersData.popperOffsets,position:D.options.strategy,adaptive:Mt,roundOffsets:Tn})))),null!=D.modifiersData.arrow&&(D.styles.arrow=Object.assign({},D.styles.arrow,jr(Object.assign({},Hn,{offsets:D.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Tn})))),D.attributes.popper=Object.assign({},D.attributes.popper,{"data-popper-placement":D.placement})},data:{}};var ri={passive:!0};const ur={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(Ee){var D=Ee.state,te=Ee.instance,Be=Ee.options,tt=Be.scroll,lt=void 0===tt||tt,Mt=Be.resize,mn=void 0===Mt||Mt,Tn=Ot(D.elements.popper),Hn=[].concat(D.scrollParents.reference,D.scrollParents.popper);return lt&&Hn.forEach(function(Vn){Vn.addEventListener("scroll",te.update,ri)}),mn&&Tn.addEventListener("resize",te.update,ri),function(){lt&&Hn.forEach(function(Vn){Vn.removeEventListener("scroll",te.update,ri)}),mn&&Tn.removeEventListener("resize",te.update,ri)}},data:{}};var yi={left:"right",right:"left",bottom:"top",top:"bottom"};function Mr(Ee){return Ee.replace(/left|right|bottom|top/g,function(D){return yi[D]})}var Or={start:"end",end:"start"};function ei(Ee){return Ee.replace(/start|end/g,function(D){return Or[D]})}function xr(Ee){var D=Ot(Ee);return{scrollLeft:D.pageXOffset,scrollTop:D.pageYOffset}}function di(Ee){return ke(Dn(Ee)).left+xr(Ee).scrollLeft}function Xr(Ee){var D=dn(Ee);return/auto|scroll|overlay|hidden/.test(D.overflow+D.overflowY+D.overflowX)}function qr(Ee){return["html","body","#document"].indexOf(sn(Ee))>=0?Ee.ownerDocument.body:tn(Ee)&&Xr(Ee)?Ee:qr(jn(Ee))}function Vr(Ee,D){var te;void 0===D&&(D=[]);var Be=qr(Ee),tt=Be===(null==(te=Ee.ownerDocument)?void 0:te.body),lt=Ot(Be),Mt=tt?[lt].concat(lt.visualViewport||[],Xr(Be)?Be:[]):Be,mn=D.concat(Mt);return tt?mn:mn.concat(Vr(jn(Mt)))}function hi(Ee){return Object.assign({},Ee,{left:Ee.x,top:Ee.y,right:Ee.x+Ee.width,bottom:Ee.y+Ee.height})}function pi(Ee,D){return D===kn?hi((Be=Ot(te=Ee),Mt=(tt=Dn(te)).clientWidth,mn=tt.clientHeight,Tn=0,Hn=0,(lt=Be.visualViewport)&&(Mt=lt.width,mn=lt.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(Tn=lt.offsetLeft,Hn=lt.offsetTop)),{width:Mt,height:mn,x:Tn+di(te),y:Hn})):tn(D)?function(te){var Be=ke(te);return Be.top=Be.top+te.clientTop,Be.left=Be.left+te.clientLeft,Be.bottom=Be.top+te.clientHeight,Be.right=Be.left+te.clientWidth,Be.width=te.clientWidth,Be.height=te.clientHeight,Be.x=Be.left,Be.y=Be.top,Be}(D):hi(function(te){var Be,tt=Dn(te),lt=xr(te),Mt=null==(Be=te.ownerDocument)?void 0:Be.body,mn=Gn(tt.scrollWidth,tt.clientWidth,Mt?Mt.scrollWidth:0,Mt?Mt.clientWidth:0),Tn=Gn(tt.scrollHeight,tt.clientHeight,Mt?Mt.scrollHeight:0,Mt?Mt.clientHeight:0),Hn=-lt.scrollLeft+di(te),Vn=-lt.scrollTop;return"rtl"===dn(Mt||tt).direction&&(Hn+=Gn(tt.clientWidth,Mt?Mt.clientWidth:0)-mn),{width:mn,height:Tn,x:Hn,y:Vn}}(Dn(Ee)));var te,Be,tt,lt,Mt,mn,Tn,Hn}function Hr(Ee){var D,te=Ee.reference,Be=Ee.element,tt=Ee.placement,lt=tt?Dt(tt):null,Mt=tt?Qr(tt):null,mn=te.x+te.width/2-Be.width/2,Tn=te.y+te.height/2-Be.height/2;switch(lt){case et:D={x:mn,y:te.y-Be.height};break;case ie:D={x:mn,y:te.y+te.height};break;case pe:D={x:te.x+te.width,y:Tn};break;case Ye:D={x:te.x-Be.width,y:Tn};break;default:D={x:te.x,y:te.y}}var Hn=lt?Wn(lt):null;if(null!=Hn){var Vn="y"===Hn?"height":"width";switch(Mt){case $t:D[Hn]=D[Hn]-(te[Vn]/2-Be[Vn]/2);break;case Zt:D[Hn]=D[Hn]+(te[Vn]/2-Be[Vn]/2)}}return D}function Qn(Ee,D){void 0===D&&(D={});var oi,vi,Fr,Nr,ao,be,so,Ni,si,Be=D.placement,tt=void 0===Be?Ee.placement:Be,lt=D.boundary,Mt=void 0===lt?rn:lt,mn=D.rootBoundary,Tn=void 0===mn?kn:mn,Hn=D.elementContext,Vn=void 0===Hn?an:Hn,Rn=D.altBoundary,pr=void 0!==Rn&&Rn,nr=D.padding,rr=void 0===nr?0:nr,er=ot("number"!=typeof rr?rr:ye(rr,gt)),Lr=Ee.rects.popper,mr=Ee.elements[pr?Vn===an?xn:an:Vn],fr=(oi=Vt(mr)?mr:mr.contextElement||Dn(Ee.elements.popper),Fr=Tn,so="clippingParents"===(vi=Mt)?(ao=Vr(jn(Nr=oi)),Vt(be=["absolute","fixed"].indexOf(dn(Nr).position)>=0&&tn(Nr)?Yn(Nr):Nr)?ao.filter(function(Oe){return Vt(Oe)&&Nn(Oe,be)&&"body"!==sn(Oe)}):[]):[].concat(vi),si=(Ni=[].concat(so,[Fr])).reduce(function(Nr,ao){var be=pi(oi,ao);return Nr.top=Gn(be.top,Nr.top),Nr.right=rt(be.right,Nr.right),Nr.bottom=rt(be.bottom,Nr.bottom),Nr.left=Gn(be.left,Nr.left),Nr},pi(oi,Ni[0])),si.width=si.right-si.left,si.height=si.bottom-si.top,si.x=si.left,si.y=si.top,si),_r=ke(Ee.elements.reference),br=Hr({reference:_r,element:Lr,strategy:"absolute",placement:tt}),wr=hi(Object.assign({},Lr,br)),Ir=Vn===an?wr:_r,Tr={top:fr.top-Ir.top+er.top,bottom:Ir.bottom-fr.bottom+er.bottom,left:fr.left-Ir.left+er.left,right:Ir.right-fr.right+er.right},Dr=Ee.modifiersData.offset;if(Vn===an&&Dr){var Zr=Dr[tt];Object.keys(Tr).forEach(function(oi){var vi=[pe,ie].indexOf(oi)>=0?1:-1,Fr=[et,ie].indexOf(oi)>=0?"y":"x";Tr[oi]+=Zr[Fr]*vi})}return Tr}const Vi={name:"flip",enabled:!0,phase:"main",fn:function(Ee){var D=Ee.state,te=Ee.options,Be=Ee.name;if(!D.modifiersData[Be]._skip){for(var tt=te.mainAxis,lt=void 0===tt||tt,Mt=te.altAxis,mn=void 0===Mt||Mt,Tn=te.fallbackPlacements,Hn=te.padding,Vn=te.boundary,Rn=te.rootBoundary,pr=te.altBoundary,nr=te.flipVariations,rr=void 0===nr||nr,er=te.allowedAutoPlacements,ar=D.options.placement,Lr=Dt(ar),mr=Tn||(Lr!==ar&&rr?function(Oe){if(Dt(Oe)===ct)return[];var Ze=Mr(Oe);return[ei(Oe),Ze,ei(Ze)]}(ar):[Mr(ar)]),fr=[ar].concat(mr).reduce(function(Oe,Ze){return Oe.concat(Dt(Ze)===ct?function vr(Ee,D){void 0===D&&(D={});var tt=D.boundary,lt=D.rootBoundary,Mt=D.padding,mn=D.flipVariations,Tn=D.allowedAutoPlacements,Hn=void 0===Tn?Cn:Tn,Vn=Qr(D.placement),Rn=Vn?mn?$n:$n.filter(function(rr){return Qr(rr)===Vn}):gt,pr=Rn.filter(function(rr){return Hn.indexOf(rr)>=0});0===pr.length&&(pr=Rn);var nr=pr.reduce(function(rr,er){return rr[er]=Qn(Ee,{placement:er,boundary:tt,rootBoundary:lt,padding:Mt})[Dt(er)],rr},{});return Object.keys(nr).sort(function(rr,er){return nr[rr]-nr[er]})}(D,{placement:Ze,boundary:Vn,rootBoundary:Rn,padding:Hn,flipVariations:rr,allowedAutoPlacements:er}):Ze)},[]),_r=D.rects.reference,br=D.rects.popper,wr=new Map,Ir=!0,Tr=fr[0],Dr=0;Dr<fr.length;Dr++){var Zr=fr[Dr],oi=Dt(Zr),vi=Qr(Zr)===$t,Fr=[et,ie].indexOf(oi)>=0,so=Fr?"width":"height",Ni=Qn(D,{placement:Zr,boundary:Vn,rootBoundary:Rn,altBoundary:pr,padding:Hn}),li=Fr?vi?pe:Ye:vi?ie:et;_r[so]>br[so]&&(li=Mr(li));var si=Mr(li),Nr=[];if(lt&&Nr.push(Ni[oi]<=0),mn&&Nr.push(Ni[li]<=0,Ni[si]<=0),Nr.every(function(Oe){return Oe})){Tr=Zr,Ir=!1;break}wr.set(Zr,Nr)}if(Ir)for(var ao=function(Oe){var Ze=fr.find(function(ft){var Lt=wr.get(ft);if(Lt)return Lt.slice(0,Oe).every(function(Bt){return Bt})});if(Ze)return Tr=Ze,"break"},be=rr?3:1;be>0&&"break"!==ao(be);be--);D.placement!==Tr&&(D.modifiersData[Be]._skip=!0,D.placement=Tr,D.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Gi(Ee,D,te){return void 0===te&&(te={x:0,y:0}),{top:Ee.top-D.height-te.y,right:Ee.right-D.width+te.x,bottom:Ee.bottom-D.height+te.y,left:Ee.left-D.width-te.x}}function lo(Ee){return[et,pe,ie,Ye].some(function(D){return Ee[D]>=0})}const Mi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(Ee){var D=Ee.state,te=Ee.name,Be=D.rects.reference,tt=D.rects.popper,lt=D.modifiersData.preventOverflow,Mt=Qn(D,{elementContext:"reference"}),mn=Qn(D,{altBoundary:!0}),Tn=Gi(Mt,Be),Hn=Gi(mn,tt,lt),Vn=lo(Tn),Rn=lo(Hn);D.modifiersData[te]={referenceClippingOffsets:Tn,popperEscapeOffsets:Hn,isReferenceHidden:Vn,hasPopperEscaped:Rn},D.attributes.popper=Object.assign({},D.attributes.popper,{"data-popper-reference-hidden":Vn,"data-popper-escaped":Rn})}},Fi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(Ee){var D=Ee.state,Be=Ee.name,tt=Ee.options.offset,lt=void 0===tt?[0,0]:tt,Mt=Cn.reduce(function(Vn,Rn){return Vn[Rn]=(nr=D.rects,rr=lt,er=Dt(pr=Rn),ar=[Ye,et].indexOf(er)>=0?-1:1,mr=(mr=(Lr="function"==typeof rr?rr(Object.assign({},nr,{placement:pr})):rr)[0])||0,fr=((fr=Lr[1])||0)*ar,[Ye,pe].indexOf(er)>=0?{x:fr,y:mr}:{x:mr,y:fr}),Vn;var pr,nr,rr,er,ar,Lr,mr,fr},{}),mn=Mt[D.placement],Hn=mn.y;null!=D.modifiersData.popperOffsets&&(D.modifiersData.popperOffsets.x+=mn.x,D.modifiersData.popperOffsets.y+=Hn),D.modifiersData[Be]=Mt}},Si={name:"popperOffsets",enabled:!0,phase:"read",fn:function(Ee){var D=Ee.state;D.modifiersData[Ee.name]=Hr({reference:D.rects.reference,element:D.rects.popper,strategy:"absolute",placement:D.placement})},data:{}},ji={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Ee){var D=Ee.state,te=Ee.options,Be=Ee.name,tt=te.mainAxis,lt=void 0===tt||tt,Mt=te.altAxis,mn=void 0!==Mt&&Mt,pr=te.tether,nr=void 0===pr||pr,rr=te.tetherOffset,er=void 0===rr?0:rr,ar=Qn(D,{boundary:te.boundary,rootBoundary:te.rootBoundary,padding:te.padding,altBoundary:te.altBoundary}),Lr=Dt(D.placement),mr=Qr(D.placement),fr=!mr,_r=Wn(Lr),br="x"===_r?"y":"x",wr=D.modifiersData.popperOffsets,Ir=D.rects.reference,Tr=D.rects.popper,Dr="function"==typeof er?er(Object.assign({},D.rects,{placement:D.placement})):er,Zr={x:0,y:0};if(wr){if(lt||mn){var oi="y"===_r?et:Ye,vi="y"===_r?ie:pe,Fr="y"===_r?"height":"width",so=wr[_r],Ni=wr[_r]+ar[oi],li=wr[_r]-ar[vi],si=nr?-Tr[Fr]/2:0,Nr=mr===$t?Ir[Fr]:Tr[Fr],ao=mr===$t?-Tr[Fr]:-Ir[Fr],be=D.elements.arrow,Oe=nr&&be?Gt(be):{width:0,height:0},Ze=D.modifiersData["arrow#persistent"]?D.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ft=Ze[oi],Lt=Ze[vi],Bt=nt(0,Ir[Fr],Oe[Fr]),un=fr?Ir[Fr]/2-si-Bt-ft-Dr:Nr-Bt-ft-Dr,yn=fr?-Ir[Fr]/2+si+Bt+Lt+Dr:ao+Bt+Lt+Dr,Mn=D.elements.arrow&&Yn(D.elements.arrow),Ln=D.modifiersData.offset?D.modifiersData.offset[D.placement][_r]:0,or=wr[_r]+un-Ln-(Mn?"y"===_r?Mn.clientTop||0:Mn.clientLeft||0:0),zr=wr[_r]+yn-Ln;if(lt){var Jr=nt(nr?rt(Ni,or):Ni,so,nr?Gn(li,zr):li);wr[_r]=Jr,Zr[_r]=Jr-so}if(mn){var Ei=wr[br],yo=Ei+ar["x"===_r?et:Ye],co=Ei-ar["x"===_r?ie:pe],Br=nt(nr?rt(yo,or):yo,Ei,nr?Gn(co,zr):co);wr[br]=Br,Zr[br]=Br-Ei}}D.modifiersData[Be]=Zr}},requiresIfExists:["offset"]};function $r(Ee,D,te){void 0===te&&(te=!1);var Be=tn(D);tn(D)&&D.getBoundingClientRect();var tt,lt,Mt=Dn(D),mn=ke(Ee),Tn={scrollLeft:0,scrollTop:0},Hn={x:0,y:0};return(Be||!Be&&!te)&&(("body"!==sn(D)||Xr(Mt))&&(Tn=(tt=D)!==Ot(tt)&&tn(tt)?{scrollLeft:(lt=tt).scrollLeft,scrollTop:lt.scrollTop}:xr(tt)),tn(D)?((Hn=ke(D)).x+=D.clientLeft,Hn.y+=D.clientTop):Mt&&(Hn.x=di(Mt))),{x:mn.left+Tn.scrollLeft-Hn.x,y:mn.top+Tn.scrollTop-Hn.y,width:mn.width,height:mn.height}}function wo(Ee){var D=new Map,te=new Set,Be=[];function tt(lt){te.add(lt.name),[].concat(lt.requires||[],lt.requiresIfExists||[]).forEach(function(Mt){if(!te.has(Mt)){var mn=D.get(Mt);mn&&tt(mn)}}),Be.push(lt)}return Ee.forEach(function(lt){D.set(lt.name,lt)}),Ee.forEach(function(lt){te.has(lt.name)||tt(lt)}),Be}var B={placement:"bottom",modifiers:[],strategy:"absolute"};function W(){for(var Ee=arguments.length,D=new Array(Ee),te=0;te<Ee;te++)D[te]=arguments[te];return!D.some(function(Be){return!(Be&&"function"==typeof Be.getBoundingClientRect)})}function J(Ee){void 0===Ee&&(Ee={});var te=Ee.defaultModifiers,Be=void 0===te?[]:te,tt=Ee.defaultOptions,lt=void 0===tt?B:tt;return function(Mt,mn,Tn){void 0===Tn&&(Tn=lt);var Hn,Vn,Rn={placement:"bottom",orderedModifiers:[],options:Object.assign({},B,lt),modifiersData:{},elements:{reference:Mt,popper:mn},attributes:{},styles:{}},pr=[],nr=!1,rr={state:Rn,setOptions:function(ar){var Lr="function"==typeof ar?ar(Rn.options):ar;er(),Rn.options=Object.assign({},lt,Rn.options,Lr),Rn.scrollParents={reference:Vt(Mt)?Vr(Mt):Mt.contextElement?Vr(Mt.contextElement):[],popper:Vr(mn)};var mr,fr,br,wr,_r=(mr=[].concat(Be,Rn.options.modifiers),fr=mr.reduce(function(br,wr){var Ir=br[wr.name];return br[wr.name]=Ir?Object.assign({},Ir,wr,{options:Object.assign({},Ir.options,wr.options),data:Object.assign({},Ir.data,wr.data)}):wr,br},{}),br=Object.keys(fr).map(function(br){return fr[br]}),wr=wo(br),ht.reduce(function(Ir,Tr){return Ir.concat(wr.filter(function(Dr){return Dr.phase===Tr}))},[]));return Rn.orderedModifiers=_r.filter(function(br){return br.enabled}),Rn.orderedModifiers.forEach(function(br){var Ir=br.options,Dr=br.effect;if("function"==typeof Dr){var Zr=Dr({state:Rn,name:br.name,instance:rr,options:void 0===Ir?{}:Ir});pr.push(Zr||function(){})}}),rr.update()},forceUpdate:function(){if(!nr){var ar=Rn.elements,Lr=ar.reference,mr=ar.popper;if(W(Lr,mr)){Rn.rects={reference:$r(Lr,Yn(mr),"fixed"===Rn.options.strategy),popper:Gt(mr)},Rn.reset=!1,Rn.placement=Rn.options.placement,Rn.orderedModifiers.forEach(function(Dr){return Rn.modifiersData[Dr.name]=Object.assign({},Dr.data)});for(var fr=0;fr<Rn.orderedModifiers.length;fr++)if(!0!==Rn.reset){var _r=Rn.orderedModifiers[fr],br=_r.fn,wr=_r.options;"function"==typeof br&&(Rn=br({state:Rn,options:void 0===wr?{}:wr,name:_r.name,instance:rr})||Rn)}else Rn.reset=!1,fr=-1}}},update:(Hn=function(){return new Promise(function(ar){rr.forceUpdate(),ar(Rn)})},function(){return Vn||(Vn=new Promise(function(ar){Promise.resolve().then(function(){Vn=void 0,ar(Hn())})})),Vn}),destroy:function(){er(),nr=!0}};if(!W(Mt,mn))return rr;function er(){pr.forEach(function(ar){return ar()}),pr=[]}return rr.setOptions(Tn).then(function(ar){!nr&&Tn.onFirstUpdate&&Tn.onFirstUpdate(ar)}),rr}}var he=J(),ve=J({defaultModifiers:[ur,Si,ci,on]}),Te=J({defaultModifiers:[ur,Si,ci,on,Fi,Vi,ji,ut,Mi]});const Ae=Object.freeze({__proto__:null,popperGenerator:J,detectOverflow:Qn,createPopperBase:he,createPopper:Te,createPopperLite:ve,top:et,bottom:ie,right:pe,left:Ye,auto:ct,basePlacements:gt,start:$t,end:Zt,clippingParents:rn,viewport:kn,popper:an,reference:xn,variationPlacements:$n,placements:Cn,beforeRead:On,read:"read",afterRead:jt,beforeMain:Kn,main:"main",afterMain:Le,beforeWrite:je,write:"write",afterWrite:Qe,modifierPhases:ht,applyStyles:on,arrow:ut,computeStyles:ci,eventListeners:ur,flip:Vi,hide:Mi,offset:Fi,popperOffsets:Si,preventOverflow:ji}),De="dropdown",qe="Escape",Ut="ArrowUp",st="ArrowDown",pt=new RegExp("ArrowUp|ArrowDown|Escape"),zt="click.bs.dropdown.data-api",Yt="keydown.bs.dropdown.data-api",It="show",Ft='[data-bs-toggle="dropdown"]',Nt=".dropdown-menu",ln=me()?"top-end":"top-start",Qt=me()?"top-start":"top-end",cn=me()?"bottom-end":"bottom-start",Fn=me()?"bottom-start":"bottom-end",Er=me()?"left-start":"right-start",kr=me()?"right-start":"left-start",sr={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},ir={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class cr extends F{constructor(D,te){super(D),this._popper=null,this._config=this._getConfig(te),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return sr}static get DefaultType(){return ir}static get NAME(){return De}toggle(){return this._isShown()?this.hide():this.show()}show(){if(_(this._element)||this._isShown(this._menu))return;const D={relatedTarget:this._element};if(I.trigger(this._element,"show.bs.dropdown",D).defaultPrevented)return;const te=cr.getParentFromElement(this._element);this._inNavbar?P.setDataAttribute(this._menu,"popper","none"):this._createPopper(te),"ontouchstart"in document.documentElement&&!te.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(Be=>I.on(Be,"mouseover",Z)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(It),this._element.classList.add(It),I.trigger(this._element,"shown.bs.dropdown",D)}hide(){!_(this._element)&&this._isShown(this._menu)&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(D){I.trigger(this._element,"hide.bs.dropdown",D).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(te=>I.off(te,"mouseover",Z)),this._popper&&this._popper.destroy(),this._menu.classList.remove(It),this._element.classList.remove(It),this._element.setAttribute("aria-expanded","false"),P.removeDataAttribute(this._menu,"popper"),I.trigger(this._element,"hidden.bs.dropdown",D))}_getConfig(D){if(D={...this.constructor.Default,...P.getDataAttributes(this._element),...D},Ue(De,D,this.constructor.DefaultType),"object"==typeof D.reference&&!kt(D.reference)&&"function"!=typeof D.reference.getBoundingClientRect)throw new TypeError(`${De.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return D}_createPopper(D){if(void 0===Ae)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let te=this._element;"parent"===this._config.reference?te=D:kt(this._config.reference)?te=V(this._config.reference):"object"==typeof this._config.reference&&(te=this._config.reference);const Be=this._getPopperConfig(),tt=Be.modifiers.find(lt=>"applyStyles"===lt.name&&!1===lt.enabled);this._popper=Te(te,this._menu,Be),tt&&P.setDataAttribute(this._menu,"popper","static")}_isShown(D=this._element){return D.classList.contains(It)}_getMenuElement(){return U.next(this._element,Nt)[0]}_getPlacement(){const D=this._element.parentNode;if(D.classList.contains("dropend"))return Er;if(D.classList.contains("dropstart"))return kr;const te="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return D.classList.contains("dropup")?te?Qt:ln:te?Fn:cn}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:D}=this._config;return"string"==typeof D?D.split(",").map(te=>Number.parseInt(te,10)):"function"==typeof D?te=>D(te,this._element):D}_getPopperConfig(){const D={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(D.modifiers=[{name:"applyStyles",enabled:!1}]),{...D,..."function"==typeof this._config.popperConfig?this._config.popperConfig(D):this._config.popperConfig}}_selectMenuItem({key:D,target:te}){const Be=U.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Pe);Be.length&&g(Be,te,D===st,!Be.includes(te)).focus()}static jQueryInterface(D){return this.each(function(){const te=cr.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===te[D])throw new TypeError(`No method named "${D}"`);te[D]()}})}static clearMenus(D){if(D&&(2===D.button||"keyup"===D.type&&"Tab"!==D.key))return;const te=U.find(Ft);for(let Be=0,tt=te.length;Be<tt;Be++){const lt=cr.getInstance(te[Be]);if(!lt||!1===lt._config.autoClose||!lt._isShown())continue;const Mt={relatedTarget:lt._element};if(D){const mn=D.composedPath(),Tn=mn.includes(lt._menu);if(mn.includes(lt._element)||"inside"===lt._config.autoClose&&!Tn||"outside"===lt._config.autoClose&&Tn||lt._menu.contains(D.target)&&("keyup"===D.type&&"Tab"===D.key||/input|select|option|textarea|form/i.test(D.target.tagName)))continue;"click"===D.type&&(Mt.clickEvent=D)}lt._completeHide(Mt)}}static getParentFromElement(D){return At(D)||D.parentNode}static dataApiKeydownHandler(D){if(/input|textarea/i.test(D.target.tagName)?"Space"===D.key||D.key!==qe&&(D.key!==st&&D.key!==Ut||D.target.closest(Nt)):!pt.test(D.key))return;const te=this.classList.contains(It);if(!te&&D.key===qe||(D.preventDefault(),D.stopPropagation(),_(this)))return;const Be=this.matches(Ft)?this:U.prev(this,Ft)[0],tt=cr.getOrCreateInstance(Be);if(D.key!==qe)return D.key===Ut||D.key===st?(te||tt.show(),void tt._selectMenuItem(D)):void(te&&"Space"!==D.key||cr.clearMenus());tt.hide()}}I.on(document,Yt,Ft,cr.dataApiKeydownHandler),I.on(document,Yt,Nt,cr.dataApiKeydownHandler),I.on(document,zt,cr.clearMenus),I.on(document,"keyup.bs.dropdown.data-api",cr.clearMenus),I.on(document,zt,Ft,function(Ee){Ee.preventDefault(),cr.getOrCreateInstance(this).toggle()}),v(cr);const ii=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ze=".sticky-top";class St{constructor(){this._element=document.body}getWidth(){const D=document.documentElement.clientWidth;return Math.abs(window.innerWidth-D)}hide(){const D=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",te=>te+D),this._setElementAttributes(ii,"paddingRight",te=>te+D),this._setElementAttributes(ze,"marginRight",te=>te-D)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(D,te,Be){const tt=this.getWidth();this._applyManipulationCallback(D,lt=>{if(lt!==this._element&&window.innerWidth>lt.clientWidth+tt)return;this._saveInitialAttribute(lt,te);const Mt=window.getComputedStyle(lt)[te];lt.style[te]=`${Be(Number.parseFloat(Mt))}px`})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(ii,"paddingRight"),this._resetElementAttributes(ze,"marginRight")}_saveInitialAttribute(D,te){const Be=D.style[te];Be&&P.setDataAttribute(D,te,Be)}_resetElementAttributes(D,te){this._applyManipulationCallback(D,Be=>{const tt=P.getDataAttribute(Be,te);void 0===tt?Be.style.removeProperty(te):(P.removeDataAttribute(Be,te),Be.style[te]=tt)})}_applyManipulationCallback(D,te){kt(D)?te(D):U.find(D,this._element).forEach(te)}isOverflowing(){return this.getWidth()>0}}const Wt={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},hn={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},We="mousedown.bs.backdrop";class Ce{constructor(D){this._config=this._getConfig(D),this._isAppended=!1,this._element=null}show(D){this._config.isVisible?(this._append(),this._config.isAnimated&&this._getElement(),this._getElement().classList.add("show"),this._emulateAnimation(()=>{L(D)})):L(D)}hide(D){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),L(D)})):L(D)}_getElement(){if(!this._element){const D=document.createElement("div");D.className=this._config.className,this._config.isAnimated&&D.classList.add("fade"),this._element=D}return this._element}_getConfig(D){return(D={...Wt,..."object"==typeof D?D:{}}).rootElement=V(D.rootElement),Ue("backdrop",D,hn),D}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),I.on(this._getElement(),We,()=>{L(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(I.off(this._element,We),this._element.remove(),this._isAppended=!1)}_emulateAnimation(D){h(D,this._getElement(),this._config.isAnimated)}}const bt={trapElement:null,autofocus:!0},xt={trapElement:"element",autofocus:"boolean"},en=".bs.focustrap",En="backward";class gn{constructor(D){this._config=this._getConfig(D),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:D,autofocus:te}=this._config;this._isActive||(te&&D.focus(),I.off(document,en),I.on(document,"focusin.bs.focustrap",Be=>this._handleFocusin(Be)),I.on(document,"keydown.tab.bs.focustrap",Be=>this._handleKeydown(Be)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,I.off(document,en))}_handleFocusin(D){const{target:te}=D,{trapElement:Be}=this._config;if(te===document||te===Be||Be.contains(te))return;const tt=U.focusableChildren(Be);0===tt.length?Be.focus():this._lastTabNavDirection===En?tt[tt.length-1].focus():tt[0].focus()}_handleKeydown(D){"Tab"===D.key&&(this._lastTabNavDirection=D.shiftKey?En:"forward")}_getConfig(D){return D={...bt,..."object"==typeof D?D:{}},Ue("focustrap",D,xt),D}}const Bn={backdrop:!0,keyboard:!0,focus:!0},qn={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},gr="hidden.bs.modal",tr="show.bs.modal",Ar="resize.bs.modal",lr="click.dismiss.bs.modal",Cr="keydown.dismiss.bs.modal",yr="mousedown.dismiss.bs.modal",Pr="modal-open",Yr="modal-static";class Li extends F{constructor(D,te){super(D),this._config=this._getConfig(te),this._dialog=U.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new St}static get Default(){return Bn}static get NAME(){return"modal"}toggle(D){return this._isShown?this.hide():this.show(D)}show(D){this._isShown||this._isTransitioning||I.trigger(this._element,tr,{relatedTarget:D}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Pr),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),I.on(this._dialog,yr,()=>{I.one(this._element,"mouseup.dismiss.bs.modal",te=>{te.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(D)))}hide(){if(!this._isShown||this._isTransitioning||I.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const D=this._isAnimated();D&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),I.off(this._element,lr),I.off(this._dialog,yr),this._queueCallback(()=>this._hideModal(),this._element,D)}dispose(){[window,this._dialog].forEach(D=>I.off(D,".bs.modal")),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ce({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new gn({trapElement:this._element})}_getConfig(D){return D={...Bn,...P.getDataAttributes(this._element),..."object"==typeof D?D:{}},Ue("modal",D,qn),D}_showElement(D){const te=this._isAnimated(),Be=U.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,Be&&(Be.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,I.trigger(this._element,"shown.bs.modal",{relatedTarget:D})},this._dialog,te)}_setEscapeEvent(){this._isShown?I.on(this._element,Cr,D=>{this._config.keyboard&&"Escape"===D.key?(D.preventDefault(),this.hide()):this._config.keyboard||"Escape"!==D.key||this._triggerBackdropTransition()}):I.off(this._element,Cr)}_setResizeEvent(){this._isShown?I.on(window,Ar,()=>this._adjustDialog()):I.off(window,Ar)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Pr),this._resetAdjustments(),this._scrollBar.reset(),I.trigger(this._element,gr)})}_showBackdrop(D){I.on(this._element,lr,te=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:te.target===te.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())}),this._backdrop.show(D)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(I.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:D,scrollHeight:te,style:Be}=this._element,tt=te>document.documentElement.clientHeight;!tt&&"hidden"===Be.overflowY||D.contains(Yr)||(tt||(Be.overflowY="hidden"),D.add(Yr),this._queueCallback(()=>{D.remove(Yr),tt||this._queueCallback(()=>{Be.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const D=this._element.scrollHeight>document.documentElement.clientHeight,te=this._scrollBar.getWidth(),Be=te>0;(!Be&&D&&!me()||Be&&!D&&me())&&(this._element.style.paddingLeft=`${te}px`),(Be&&!D&&!me()||!Be&&D&&me())&&(this._element.style.paddingRight=`${te}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(D,te){return this.each(function(){const Be=Li.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===Be[D])throw new TypeError(`No method named "${D}"`);Be[D](te)}})}}I.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(Ee){const D=At(this);["A","AREA"].includes(this.tagName)&&Ee.preventDefault(),I.one(D,tr,Be=>{Be.defaultPrevented||I.one(D,gr,()=>{Pe(this)&&this.focus()})});const te=U.findOne(".modal.show");te&&Li.getInstance(te).hide(),Li.getOrCreateInstance(D).toggle(this)}),q(Li),v(Li);const Wr="offcanvas",gi={backdrop:!0,keyboard:!0,scroll:!1},Kr={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},ki=".offcanvas.show",ti="hidden.bs.offcanvas";class ui extends F{constructor(D,te){super(D),this._config=this._getConfig(te),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return Wr}static get Default(){return gi}toggle(D){return this._isShown?this.hide():this.show(D)}show(D){this._isShown||I.trigger(this._element,"show.bs.offcanvas",{relatedTarget:D}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new St).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),I.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:D})},this._element,!0))}hide(){this._isShown&&(I.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new St).reset(),I.trigger(this._element,ti)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(D){return D={...gi,...P.getDataAttributes(this._element),..."object"==typeof D?D:{}},Ue(Wr,D,Kr),D}_initializeBackDrop(){return new Ce({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new gn({trapElement:this._element})}_addEventListeners(){I.on(this._element,"keydown.dismiss.bs.offcanvas",D=>{this._config.keyboard&&"Escape"===D.key&&this.hide()})}static jQueryInterface(D){return this.each(function(){const te=ui.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===te[D]||D.startsWith("_")||"constructor"===D)throw new TypeError(`No method named "${D}"`);te[D](this)}})}}I.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(Ee){const D=At(this);if(["A","AREA"].includes(this.tagName)&&Ee.preventDefault(),_(this))return;I.one(D,ti,()=>{Pe(this)&&this.focus()});const te=U.findOne(ki);te&&te!==D&&ui.getInstance(te).hide(),ui.getOrCreateInstance(D).toggle(this)}),I.on(window,"load.bs.offcanvas.data-api",()=>U.find(ki).forEach(Ee=>ui.getOrCreateInstance(Ee).show())),q(ui),v(ui);const Zi=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ji=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Bi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Ai=(Ee,D)=>{const te=Ee.nodeName.toLowerCase();if(D.includes(te))return!Zi.has(te)||Boolean(Ji.test(Ee.nodeValue)||Bi.test(Ee.nodeValue));const Be=D.filter(tt=>tt instanceof RegExp);for(let tt=0,lt=Be.length;tt<lt;tt++)if(Be[tt].test(te))return!0;return!1};function Pi(Ee,D,te){if(!Ee.length)return Ee;if(te&&"function"==typeof te)return te(Ee);const Be=(new window.DOMParser).parseFromString(Ee,"text/html"),tt=[].concat(...Be.body.querySelectorAll("*"));for(let lt=0,Mt=tt.length;lt<Mt;lt++){const mn=tt[lt],Tn=mn.nodeName.toLowerCase();if(!Object.keys(D).includes(Tn)){mn.remove();continue}const Hn=[].concat(...mn.attributes),Vn=[].concat(D["*"]||[],D[Tn]||[]);Hn.forEach(Rn=>{Ai(Rn,Vn)||mn.removeAttribute(Rn.nodeName)})}return Be.body.innerHTML}const mi="tooltip",_i=new Set(["sanitize","allowList","sanitizeFn"]),Ci={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Hi={AUTO:"auto",TOP:"top",RIGHT:me()?"left":"right",BOTTOM:"bottom",LEFT:me()?"right":"left"},Qi={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},$i={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},bi="fade",fi="show",ro="show",Lo=".tooltip-inner",qo="hide.bs.modal",Eo="hover";class Oi extends F{constructor(D,te){if(void 0===Ae)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(D),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(te),this.tip=null,this._setListeners()}static get Default(){return Qi}static get NAME(){return mi}static get Event(){return $i}static get DefaultType(){return Ci}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(D){if(this._isEnabled)if(D){const te=this._initializeOnDelegatedTarget(D);te._activeTrigger.click=!te._activeTrigger.click,te._isWithActiveTrigger()?te._enter(null,te):te._leave(null,te)}else{if(this.getTipElement().classList.contains(fi))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),I.off(this._element.closest(".modal"),qo,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const D=I.trigger(this._element,this.constructor.Event.SHOW),te=Q(this._element),Be=null===te?this._element.ownerDocument.documentElement.contains(this._element):te.contains(this._element);if(D.defaultPrevented||!Be)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(Lo).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const tt=this.getTipElement(),lt=(Rn=>{do{Rn+=Math.floor(1e6*Math.random())}while(document.getElementById(Rn));return Rn})(this.constructor.NAME);tt.setAttribute("id",lt),this._element.setAttribute("aria-describedby",lt),this._config.animation&&tt.classList.add(bi);const Mt="function"==typeof this._config.placement?this._config.placement.call(this,tt,this._element):this._config.placement,mn=this._getAttachment(Mt);this._addAttachmentClass(mn);const{container:Tn}=this._config;R.set(tt,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(Tn.append(tt),I.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Te(this._element,tt,this._getPopperConfig(mn)),tt.classList.add(fi);const Hn=this._resolvePossibleFunction(this._config.customClass);Hn&&tt.classList.add(...Hn.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(Rn=>{I.on(Rn,"mouseover",Z)});const Vn=this.tip.classList.contains(bi);this._queueCallback(()=>{const Rn=this._hoverState;this._hoverState=null,I.trigger(this._element,this.constructor.Event.SHOWN),"out"===Rn&&this._leave(null,this)},this.tip,Vn)}hide(){if(!this._popper)return;const D=this.getTipElement();if(I.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;D.classList.remove(fi),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(Be=>I.off(Be,"mouseover",Z)),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const te=this.tip.classList.contains(bi);this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!==ro&&D.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),I.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,te),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const D=document.createElement("div");D.innerHTML=this._config.template;const te=D.children[0];return this.setContent(te),te.classList.remove(bi,fi),this.tip=te,this.tip}setContent(D){this._sanitizeAndSetContent(D,this.getTitle(),Lo)}_sanitizeAndSetContent(D,te,Be){const tt=U.findOne(Be,D);te||!tt?this.setElementContent(tt,te):tt.remove()}setElementContent(D,te){if(null!==D)return kt(te)?(te=V(te),void(this._config.html?te.parentNode!==D&&(D.innerHTML="",D.append(te)):D.textContent=te.textContent)):void(this._config.html?(this._config.sanitize&&(te=Pi(te,this._config.allowList,this._config.sanitizeFn)),D.innerHTML=te):D.textContent=te)}getTitle(){const D=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(D)}updateAttachment(D){return"right"===D?"end":"left"===D?"start":D}_initializeOnDelegatedTarget(D,te){return te||this.constructor.getOrCreateInstance(D.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:D}=this._config;return"string"==typeof D?D.split(",").map(te=>Number.parseInt(te,10)):"function"==typeof D?te=>D(te,this._element):D}_resolvePossibleFunction(D){return"function"==typeof D?D.call(this._element):D}_getPopperConfig(D){const te={placement:D,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:Be=>this._handlePopperPlacementChange(Be)}],onFirstUpdate:Be=>{Be.options.placement!==Be.placement&&this._handlePopperPlacementChange(Be)}};return{...te,..."function"==typeof this._config.popperConfig?this._config.popperConfig(te):this._config.popperConfig}}_addAttachmentClass(D){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(D)}`)}_getAttachment(D){return Hi[D.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(D=>{if("click"===D)I.on(this._element,this.constructor.Event.CLICK,this._config.selector,te=>this.toggle(te));else if("manual"!==D){const Be=D===Eo?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;I.on(this._element,D===Eo?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,this._config.selector,tt=>this._enter(tt)),I.on(this._element,Be,this._config.selector,tt=>this._leave(tt))}}),this._hideModalHandler=()=>{this._element&&this.hide()},I.on(this._element.closest(".modal"),qo,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const D=this._element.getAttribute("title"),te=typeof this._element.getAttribute("data-bs-original-title");(D||"string"!==te)&&(this._element.setAttribute("data-bs-original-title",D||""),!D||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",D),this._element.setAttribute("title",""))}_enter(D,te){te=this._initializeOnDelegatedTarget(D,te),D&&(te._activeTrigger["focusin"===D.type?"focus":Eo]=!0),te.getTipElement().classList.contains(fi)||te._hoverState===ro?te._hoverState=ro:(clearTimeout(te._timeout),te._hoverState=ro,te._config.delay&&te._config.delay.show?te._timeout=setTimeout(()=>{te._hoverState===ro&&te.show()},te._config.delay.show):te.show())}_leave(D,te){te=this._initializeOnDelegatedTarget(D,te),D&&(te._activeTrigger["focusout"===D.type?"focus":Eo]=te._element.contains(D.relatedTarget)),te._isWithActiveTrigger()||(clearTimeout(te._timeout),te._hoverState="out",te._config.delay&&te._config.delay.hide?te._timeout=setTimeout(()=>{"out"===te._hoverState&&te.hide()},te._config.delay.hide):te.hide())}_isWithActiveTrigger(){for(const D in this._activeTrigger)if(this._activeTrigger[D])return!0;return!1}_getConfig(D){const te=P.getDataAttributes(this._element);return Object.keys(te).forEach(Be=>{_i.has(Be)&&delete te[Be]}),(D={...this.constructor.Default,...te,..."object"==typeof D&&D?D:{}}).container=!1===D.container?document.body:V(D.container),"number"==typeof D.delay&&(D.delay={show:D.delay,hide:D.delay}),"number"==typeof D.title&&(D.title=D.title.toString()),"number"==typeof D.content&&(D.content=D.content.toString()),Ue(mi,D,this.constructor.DefaultType),D.sanitize&&(D.template=Pi(D.template,D.allowList,D.sanitizeFn)),D}_getDelegateConfig(){const D={};for(const te in this._config)this.constructor.Default[te]!==this._config[te]&&(D[te]=this._config[te]);return D}_cleanTipClass(){const D=this.getTipElement(),te=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),Be=D.getAttribute("class").match(te);null!==Be&&Be.length>0&&Be.map(tt=>tt.trim()).forEach(tt=>D.classList.remove(tt))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(D){const{state:te}=D;te&&(this.tip=te.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(te.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(D){return this.each(function(){const te=Oi.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===te[D])throw new TypeError(`No method named "${D}"`);te[D]()}})}}v(Oi);const xo={...Oi.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},So={...Oi.DefaultType,content:"(string|element|function)"},Bo={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class po extends Oi{static get Default(){return xo}static get NAME(){return"popover"}static get Event(){return Bo}static get DefaultType(){return So}isWithContent(){return this.getTitle()||this._getContent()}setContent(D){this._sanitizeAndSetContent(D,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(D,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(D){return this.each(function(){const te=po.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===te[D])throw new TypeError(`No method named "${D}"`);te[D]()}})}}v(po);const go="scrollspy",Po={offset:10,method:"auto",target:""},Vo={offset:"number",method:"string",target:"(string|element)"},ko="active",Go=".nav-link, .list-group-item, .dropdown-item",Ho="position";class oo extends F{constructor(D,te){super(D),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(te),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,I.on(this._scrollElement,"scroll.bs.scrollspy",()=>this._process()),this.refresh(),this._process()}static get Default(){return Po}static get NAME(){return go}refresh(){const te="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":Ho:this._config.method,Be=te===Ho?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),U.find(Go,this._config.target).map(tt=>{const lt=z(tt),Mt=lt?U.findOne(lt):null;if(Mt){const mn=Mt.getBoundingClientRect();if(mn.width||mn.height)return[P[te](Mt).top+Be,lt]}return null}).filter(tt=>tt).sort((tt,lt)=>tt[0]-lt[0]).forEach(tt=>{this._offsets.push(tt[0]),this._targets.push(tt[1])})}dispose(){I.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(D){return(D={...Po,...P.getDataAttributes(this._element),..."object"==typeof D&&D?D:{}}).target=V(D.target)||document.documentElement,Ue(go,D,Vo),D}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const D=this._getScrollTop()+this._config.offset,te=this._getScrollHeight(),Be=this._config.offset+te-this._getOffsetHeight();if(this._scrollHeight!==te&&this.refresh(),D>=Be){const tt=this._targets[this._targets.length-1];this._activeTarget!==tt&&this._activate(tt)}else{if(this._activeTarget&&D<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let tt=this._offsets.length;tt--;)this._activeTarget!==this._targets[tt]&&D>=this._offsets[tt]&&(void 0===this._offsets[tt+1]||D<this._offsets[tt+1])&&this._activate(this._targets[tt])}}_activate(D){this._activeTarget=D,this._clear();const te=Go.split(",").map(tt=>`${tt}[data-bs-target="${D}"],${tt}[href="${D}"]`),Be=U.findOne(te.join(","),this._config.target);Be.classList.add(ko),Be.classList.contains("dropdown-item")?U.findOne(".dropdown-toggle",Be.closest(".dropdown")).classList.add(ko):U.parents(Be,".nav, .list-group").forEach(tt=>{U.prev(tt,".nav-link, .list-group-item").forEach(lt=>lt.classList.add(ko)),U.prev(tt,".nav-item").forEach(lt=>{U.children(lt,".nav-link").forEach(Mt=>Mt.classList.add(ko))})}),I.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:D})}_clear(){U.find(Go,this._config.target).filter(D=>D.classList.contains(ko)).forEach(D=>D.classList.remove(ko))}static jQueryInterface(D){return this.each(function(){const te=oo.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===te[D])throw new TypeError(`No method named "${D}"`);te[D]()}})}}I.on(window,"load.bs.scrollspy.data-api",()=>{U.find('[data-bs-spy="scroll"]').forEach(Ee=>new oo(Ee))}),v(oo);const to="active",To=".active",Oo=":scope > li > .active";class mo extends F{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(to))return;let D;const te=At(this._element),Be=this._element.closest(".nav, .list-group");Be&&(D=U.find("UL"===Be.nodeName||"OL"===Be.nodeName?Oo:To,Be),D=D[D.length-1]);const tt=D?I.trigger(D,"hide.bs.tab",{relatedTarget:this._element}):null;if(I.trigger(this._element,"show.bs.tab",{relatedTarget:D}).defaultPrevented||null!==tt&&tt.defaultPrevented)return;this._activate(this._element,Be);const lt=()=>{I.trigger(D,"hidden.bs.tab",{relatedTarget:this._element}),I.trigger(this._element,"shown.bs.tab",{relatedTarget:D})};te?this._activate(te,te.parentNode,lt):lt()}_activate(D,te,Be){const tt=(!te||"UL"!==te.nodeName&&"OL"!==te.nodeName?U.children(te,To):U.find(Oo,te))[0],lt=Be&&tt&&tt.classList.contains("fade"),Mt=()=>this._transitionComplete(D,tt,Be);tt&&lt?(tt.classList.remove("show"),this._queueCallback(Mt,D,!0)):Mt()}_transitionComplete(D,te,Be){if(te){te.classList.remove(to);const lt=U.findOne(":scope > .dropdown-menu .active",te.parentNode);lt&&lt.classList.remove(to),"tab"===te.getAttribute("role")&&te.setAttribute("aria-selected",!1)}D.classList.add(to),"tab"===D.getAttribute("role")&&D.setAttribute("aria-selected",!0),D.classList.contains("fade")&&D.classList.add("show");let tt=D.parentNode;if(tt&&"LI"===tt.nodeName&&(tt=tt.parentNode),tt&&tt.classList.contains("dropdown-menu")){const lt=D.closest(".dropdown");lt&&U.find(".dropdown-toggle",lt).forEach(Mt=>Mt.classList.add(to)),D.setAttribute("aria-expanded",!0)}Be&&Be()}static jQueryInterface(D){return this.each(function(){const te=mo.getOrCreateInstance(this);if("string"==typeof D){if(void 0===te[D])throw new TypeError(`No method named "${D}"`);te[D]()}})}}I.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(Ee){["A","AREA"].includes(this.tagName)&&Ee.preventDefault(),_(this)||mo.getOrCreateInstance(this).show()}),v(mo);const Ti="show",Do="showing",zo={animation:"boolean",autohide:"boolean",delay:"number"},Io={animation:!0,autohide:!0,delay:5e3};class Wi extends F{constructor(D,te){super(D),this._config=this._getConfig(te),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return zo}static get Default(){return Io}static get NAME(){return"toast"}show(){I.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Ti),this._element.classList.add(Do),this._queueCallback(()=>{this._element.classList.remove(Do),I.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains(Ti)&&(I.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Do),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Do),this._element.classList.remove(Ti),I.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains(Ti)&&this._element.classList.remove(Ti),super.dispose()}_getConfig(D){return D={...Io,...P.getDataAttributes(this._element),..."object"==typeof D&&D?D:{}},Ue("toast",D,this.constructor.DefaultType),D}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(D,te){switch(D.type){case"mouseover":case"mouseout":this._hasMouseInteraction=te;break;case"focusin":case"focusout":this._hasKeyboardInteraction=te}if(te)return void this._clearTimeout();const Be=D.relatedTarget;this._element===Be||this._element.contains(Be)||this._maybeScheduleHide()}_setListeners(){I.on(this._element,"mouseover.bs.toast",D=>this._onInteraction(D,!0)),I.on(this._element,"mouseout.bs.toast",D=>this._onInteraction(D,!1)),I.on(this._element,"focusin.bs.toast",D=>this._onInteraction(D,!0)),I.on(this._element,"focusout.bs.toast",D=>this._onInteraction(D,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(D){return this.each(function(){const te=Wi.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===te[D])throw new TypeError(`No method named "${D}"`);te[D](this)}})}}return q(Wi),v(Wi),{Alert:K,Button:xe,Carousel:at,Collapse:oe,Dropdown:cr,Modal:Li,Offcanvas:ui,Popover:po,ScrollSpy:oo,Tab:mo,Toast:Wi,Tooltip:Oi}}),function(){"use strict";var Kt,vn=document.createElement("style");vn.innerHTML="@keyframes wb-fade-in{0%{opacity:0}to{opacity:.85}}.no-move:not(.min) .wb-title,.winbox.max .wb-body~div,.winbox.min .wb-body~div,.winbox.modal .wb-body~div,.winbox.modal .wb-title,body.wb-drag iframe{pointer-events:none}.winbox{position:fixed;left:0;top:0;background:#0050ff;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);transition:width .3s,height .3s,transform .3s;transition-timing-function:cubic-bezier(.3,1,.3,1);will-change:transform,width,height;contain:layout size;text-align:left;touch-action:none;min-height:35px}.wb-header,.wb-icon{height:35px}.wb-n,.wb-s{left:0;height:10px;position:absolute}.wb-body{top:35px}.wb-header,.winbox iframe{position:absolute;width:100%}.wb-header{left:0;top:0;color:#fff;overflow:hidden;z-index:1}.wb-body{position:absolute;left:0;right:0;bottom:0;overflow:auto;-webkit-overflow-scrolling:touch;overflow-scrolling:touch;will-change:contents;background:#fff;margin-top:0!important;contain:strict}.wb-title{line-height:35px;font-family:Arial,sans-serif;font-size:14px;padding-left:10px;cursor:move;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.wb-n{top:-5px;right:0;cursor:n-resize}.wb-e{position:absolute;top:0;right:-5px;bottom:0;width:10px;cursor:w-resize}.wb-s,.wb-se,.wb-sw{bottom:-5px}.wb-s{right:0;cursor:n-resize}.wb-w{position:absolute;top:0;left:-5px;bottom:0;width:10px;cursor:w-resize}.wb-ne,.wb-nw,.wb-sw{width:15px;height:15px;position:absolute}.wb-nw{top:-5px;left:-5px;cursor:nw-resize}.wb-ne,.wb-sw{cursor:ne-resize}.wb-ne{top:-5px;right:-5px}.wb-sw{left:-5px}.wb-se{position:absolute;right:-5px;width:15px;height:15px;cursor:nw-resize}.wb-icon{float:right;max-width:100%;text-align:center}.wb-icon *{display:inline-block;width:30px;height:100%;background-position:center;background-repeat:no-repeat;cursor:pointer;max-width:100%}.no-close .wb-close,.no-full .wb-full,.no-header .wb-header,.no-max .wb-max,.no-min .wb-min,.no-resize .wb-body~div,.winbox.hide,.winbox.min .wb-body>*,.winbox.min .wb-full,.winbox.min .wb-min,.winbox.modal .wb-full,.winbox.modal .wb-max,.winbox.modal .wb-min{display:none}.winbox.max .wb-title,.winbox.min .wb-title{cursor:default}.wb-min{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNOCAwaDdhMSAxIDAgMCAxIDAgMkgxYTEgMSAwIDAgMSAwLTJoN3oiLz48L3N2Zz4=);background-size:14px auto;background-position:center bottom 11px}.wb-max{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCA5NiA5NiI+PHBhdGggZD0iTTIwIDcxLjMxMUMxNS4zNCA2OS42NyAxMiA2NS4yMyAxMiA2MFYyMGMwLTYuNjMgNS4zNy0xMiAxMi0xMmg0MGM1LjIzIDAgOS42NyAzLjM0IDExLjMxMSA4SDI0Yy0yLjIxIDAtNCAxLjc5LTQgNHY1MS4zMTF6Ii8+PHBhdGggZD0iTTkyIDc2VjM2YzAtNi42My01LjM3LTEyLTEyLTEySDQwYy02LjYzIDAtMTIgNS4zNy0xMiAxMnY0MGMwIDYuNjMgNS4zNyAxMiAxMiAxMmg0MGM2LjYzIDAgMTItNS4zNyAxMi0xMnptLTUyIDRjLTIuMjEgMC00LTEuNzktNC00VjM2YzAtMi4yMSAxLjc5LTQgNC00aDQwYzIuMjEgMCA0IDEuNzkgNCA0djQwYzAgMi4yMS0xLjc5IDQtNCA0SDQweiIvPjwvc3ZnPg==);background-size:17px auto}.wb-close{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xIC0xIDE4IDE4Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMS42MTMuMjEuMDk0LjA4M0w4IDYuNTg1IDE0LjI5My4yOTNsLjA5NC0uMDgzYTEgMSAwIDAgMSAxLjQwMyAxLjQwM2wtLjA4My4wOTRMOS40MTUgOGw2LjI5MiA2LjI5M2ExIDEgMCAwIDEtMS4zMiAxLjQ5N2wtLjA5NC0uMDgzTDggOS40MTVsLTYuMjkzIDYuMjkyLS4wOTQuMDgzQTEgMSAwIDAgMSAuMjEgMTQuMzg3bC4wODMtLjA5NEw2LjU4NSA4IC4yOTMgMS43MDdBMSAxIDAgMCAxIDEuNjEzLjIxeiIvPjwvc3ZnPg==);background-size:15px auto}.wb-full{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIuNSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOCAzSDVhMiAyIDAgMCAwLTIgMnYzbTE4IDBWNWEyIDIgMCAwIDAtMi0yaC0zbTAgMThoM2EyIDIgMCAwIDAgMi0ydi0zTTMgMTZ2M2EyIDIgMCAwIDAgMiAyaDMiLz48L3N2Zz4=);background-size:16px auto}.winbox.hide{visibility:hidden}.max{box-shadow:none}.max .wb-body{margin:0!important}.winbox iframe{height:100%;border:0}.no-animation,body.wb-drag .winbox{transition:none}.winbox.modal:before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:inherit;border-radius:inherit}.winbox.modal:after{content:'';position:absolute;top:-100vh;left:-100vw;right:-100vw;bottom:-100vh;background:#0d1117;animation:wb-fade-in .2s ease-out forwards;z-index:-1}.no-shadow{box-shadow:none}.no-header .wb-body{top:0}";var z=document.getElementsByTagName("head")[0];z.firstChild?z.insertBefore(vn,z.firstChild):z.appendChild(vn);var At=document.createElement("div");function Et(t,i,s,u){t.addEventListener(i,s,!u&&!1!==u||u)}function kt(t){t.stopPropagation(),t.cancelable&&t.preventDefault()}function V(t,i,s){t["_s_"+i]!==(s=""+s)&&(t.style.setProperty(i,s),t["_s_"+i]=s)}At.innerHTML="<div class=wb-header><div class=wb-icon><span class=wb-min></span><span class=wb-max></span><span class=wb-full></span><span class=wb-close></span></div><div class=wb-title> </div></div><div class=wb-body></div><div class=wb-n></div><div class=wb-s></div><div class=wb-w></div><div class=wb-e></div><div class=wb-nw></div><div class=wb-ne></div><div class=wb-se></div><div class=wb-sw></div>";var Pe,Z,ce,de,ne,me,v,L,Ue=[],_=0,Q=0;function h(t,i){if(!(this instanceof h))return new h(t);var s,u;if(Z||function p(){(Pe=document.body)[ne="requestFullscreen"]||Pe[ne="msRequestFullscreen"]||Pe[ne="webkitRequestFullscreen"]||Pe[ne="mozRequestFullscreen"]||(ne=""),me=ne&&ne.replace("request","exit").replace("mozRequest","mozCancel").replace("Request","Exit"),Et(window,"resize",function(){v=Pe.clientWidth,L=Pe.clientHeight,c()}),v=Pe.clientWidth,L=Pe.clientHeight}(),t){if(i){var o=t;t=i}if("string"==typeof t)o=t;else{if(u=t.modal)var d=s="center";var f=t.id,E=t.root,b=t.template;o=o||t.title;var I=t.mount,S=t.html,R=t.url,F=t.width,q=t.height,K=t.minwidth,se=t.minheight;d=t.x||d,s=t.y||s;var xe=t.max,we=t.hidden,A=t.top,P=t.left,U=t.bottom,y=t.right;Z=t.index||Z;var C=t.onclose,M=t.onfocus,O=t.onblur,ee=t.onmove,$=t.onresize,ae=t.background,Fe=t.border,He=t.class,Ve=t.splitscreen}}this.g=b||At.cloneNode(!0),this.body=this.g.getElementsByClassName("wb-body")[0],ae&&this.setBackground(ae),Fe&&V(this.body,"margin",Fe+(isNaN(Fe)?"":"px")),this.setTitle(o||""),t=v,i=L,A=A?g(A,i):0,U=U?g(U,i):0,t-=(P=P?g(P,t):0)+(y=y?g(y,t):0),i-=A+U,F=F?g(F,t):t/2|0,q=q?g(q,i):i/2|0,K=K?g(K,t):0,se=se?g(se,i):0,d=d?g(d,t,F):P,s=s?g(s,i,q):A,Z=Z||10,this.g.id=this.id=f||"winbox-"+ ++_,this.g.className="winbox"+(He?" "+("string"==typeof He?He:He.join(" ")):"")+(u?" modal":""),this.x=d,this.y=s,this.width=F,this.height=q,this.j=K,this.i=se,this.top=A,this.right=y,this.bottom=U,this.left=P,this.max=this.min=!1,this.onclose=C,this.onfocus=M,this.onblur=O,this.onmove=ee,this.onresize=$,this.l=Ve,xe?this.maximize():this.move().resize(),I?this.mount(I):S?this.body.innerHTML=S:R&&this.setUrl(R),we?this.hide():this.focus(),this.g.winbox=this,function x(t){l(t,"title"),l(t,"n"),l(t,"s"),l(t,"w"),l(t,"e"),l(t,"nw"),l(t,"ne"),l(t,"se"),l(t,"sw"),Et(t.g.getElementsByClassName("wb-min")[0],"click",function(i){kt(i),t.minimize()}),Et(t.g.getElementsByClassName("wb-max")[0],"click",function(i){kt(i),t.focus().maximize()}),ne?Et(t.g.getElementsByClassName("wb-full")[0],"click",function(i){kt(i),t.focus().fullscreen()}):t.addClass("no-full"),Et(t.g.getElementsByClassName("wb-close")[0],"click",function(i){kt(i),t.close()||(t=null)}),Et(t.g,"click",function(){t.focus()},!1)}(this),(E||Pe).appendChild(this.g)}function g(t,i,s){return"string"==typeof t&&(t="center"===t?(i-s)/2|0:"right"===t||"bottom"===t?i-s:"%"===(""+(s=parseFloat(t))!==t&&t.substring((""+s).length))?i/100*s|0:s),t}function r(t){Ue.splice(Ue.indexOf(t),1),c(),t.removeClass("min"),t.min=!1,t.g.title=""}function c(){for(var o,t=Ue.length,i={},s={},u=0;u<t;u++)s[o=(o=Ue[u]).left+":"+o.top]?s[o]++:s[o]=1;u=0;for(var d,f,E;u<t;u++)d=(o=Ue[u]).left+":"+o.top,f=Math.min((v-o.left-o.right)/s[d],250),E=(E=o.g.getElementsByClassName("wb-title")[0]).clientHeight,i[d]||(i[d]=0),o.resize(f+1|0,0,!0).move(o.left+i[d]*f|0,L-o.bottom-E,!0),i[d]++}function l(t,i){function s(I){if(kt(I),t.min)t.minimize();else{var S;if((S="title"===i)&&(S=!t.g.classList.contains("no-max")),S){var R=(S=Date.now())-Q;if(Q=S,250>R)return void t.maximize()}t.max||(Pe.classList.add("wb-drag"),(f=I.touches)&&(f=f[0])?(I=f,Et(window,"touchmove",u),Et(window,"touchend",o)):(Et(window,"mousemove",u),Et(window,"mouseup",o)),E=I.pageX,b=I.pageY,t.focus())}}function u(I){kt(I),f&&(I=I.touches[0]);var q,S=I.pageX,R=S-E,F=(I=I.pageY)-b;if("title"===i){t.x+=R,t.y+=F;var K=q=1}else{if("e"===i||"se"===i||"ne"===i){t.width+=R;var se=1}else("w"===i||"sw"===i||"nw"===i)&&(t.x+=R,t.width-=R,K=se=1);if("s"===i||"se"===i||"sw"===i){t.height+=F;var xe=1}else("n"===i||"ne"===i||"nw"===i)&&(t.y+=F,t.height-=F,q=xe=1)}(se||xe)&&(se&&(t.width=Math.max(Math.min(t.width,v-t.x-t.right),150)),xe&&(t.height=Math.max(Math.min(t.height,L-t.y-t.bottom),0)),t.resize()),(K||q)&&(K&&(t.x=Math.max(Math.min(t.x,v-t.width-t.right),t.left)),q&&(t.y=Math.max(Math.min(t.y,L-t.height-t.bottom),t.top)),t.move()),E=S,b=I}function o(I){kt(I),Pe.classList.remove("wb-drag"),f?(window.removeEventListener("touchmove",u,!0),window.removeEventListener("touchend",o,!0)):(window.removeEventListener("mousemove",u,!0),window.removeEventListener("mouseup",o,!0))}var f,E,b,d=t.g.getElementsByClassName("wb-"+i)[0];Et(d,"mousedown",s),Et(d,"touchstart",s,{passive:!1})}function n(){if(ce=!1,document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)return document[me](),!0}h.new=function(t){return new h(t)},(Kt=h.prototype).mount=function(t){return this.unmount(),t.h||(t.h=t.parentNode),this.body.textContent="",this.body.appendChild(t),this},Kt.unmount=function(t){var i=this.body.firstChild;if(i){var s=t||i.h;s&&s.appendChild(i),i.h=t}return this},Kt.setTitle=function(t){return t=this.title=t,this.g.getElementsByClassName("wb-title")[0].firstChild.nodeValue=t,this},Kt.setBackground=function(t){return V(this.g,"background",t),this},Kt.setUrl=function(t){return this.body.innerHTML='<iframe src="'+t+'"></iframe>',this},Kt.focus=function(){return de!==this&&(V(this.g,"z-index",Z++),this.addClass("focus"),de&&(de.removeClass("focus"),de.onblur&&de.onblur()),de=this,this.onfocus&&this.onfocus()),this},Kt.hide=function(){return this.addClass("hide")},Kt.show=function(){return this.removeClass("hide")},Kt.minimize=function(t){return ce&&n(),!t&&this.min?(r(this),this.resize().move().focus()):!1===t||this.min||(Ue.push(this),c(),this.g.title=this.title,this.addClass("min"),this.min=!0),this.max&&(this.removeClass("max"),this.max=!1),this},Kt.maximize=function(t){return(void 0===t||t!==this.max)&&(this.min&&r(this),(this.max=!this.max)?this.addClass("max").resize(v-this.left-this.right,L-this.top-this.bottom,!0).move(this.left,this.top,!0):this.resize().move().removeClass("max")),this},Kt.fullscreen=function(t){return(void 0===t||t!==ce)&&(this.min&&(this.resize().move(),r(this)),ce&&n()||(this.body[ne](),ce=!0)),this},Kt.close=function(t){if(this.onclose&&this.onclose(t))return!0;this.min&&r(this),this.unmount(),this.g.parentNode.removeChild(this.g),de===this&&(de=null)},Kt.move=function(t,i,s){return t||0===t?s||(this.x=t?t=g(t,v-this.left-this.right,this.width):0,this.y=i?i=g(i,L-this.top-this.bottom,this.height):0):(t=this.x,i=this.y,this.l&&(0===t||t===v-this.width)&&this.resize(v/2,L)),V(this.g,"transform","translate("+t+"px,"+i+"px)"),this.onmove&&this.onmove(t,i),this},Kt.resize=function(t,i,s){return t||0===t?s||(this.width=t?t=g(t,v-this.left-this.right):0,this.height=i?i=g(i,L-this.top-this.bottom):0):(t=this.width,i=this.height),t=Math.max(t,this.j),i=Math.max(i,this.i),V(this.g,"width",t+"px"),V(this.g,"height",i+"px"),this.onresize&&this.onresize(t,i),this},Kt.addClass=function(t){return this.g.classList.add(t),this},Kt.removeClass=function(t){return this.g.classList.remove(t),this},window.WinBox=h}.call(this),function(Kt){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Kt():"function"==typeof define&&define.amd?define([],Kt):("undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window).WebTorrent=Kt()}(function(){var Kt=Math.LN2,vn=Math.log,z=Math.pow,At=Math.abs,Et=Math.floor,kt=Math.round,V=Math.sin,Ue=Math.cos,Pe=Math.PI,_=Math.imul,Q=Math.clz32,Z=String.fromCharCode,ce=Math.max,de=Math.ceil,ne=Math.min;return function v(L,h,g){function p(c,l){if(!h[c]){if(!L[c]){var n="function"==typeof require&&require;if(!l&&n)return n(c,!0);if(x)return x(c,!0);var t=new Error("Cannot find module '"+c+"'");throw t.code="MODULE_NOT_FOUND",t}var i=h[c]={exports:{}};L[c][0].call(i.exports,function(s){return p(L[c][1][s]||s)},i,i.exports,v,L,h,g)}return h[c].exports}for(var x="function"==typeof require&&require,r=0;r<g.length;r++)p(g[r]);return p}({1:[function(v,L){const h=v("stream"),g=v("debug"),p=v("end-of-stream"),x=g("webtorrent:file-stream");L.exports=class r extends h.Readable{constructor(l,n){super(n),this._torrent=l._torrent;const t=n&&n.start||0,i=n&&n.end&&n.end<l.length?n.end:l.length-1,s=l._torrent.pieceLength;this._startPiece=0|(t+l.offset)/s,this._endPiece=0|(i+l.offset)/s,this._piece=this._startPiece,this._offset=t+l.offset-this._startPiece*s,this._missing=i-t+1,this._reading=!1,this._notifying=!1,this._criticalLength=ne(0|1048576/s,2),this._torrent.select(this._startPiece,this._endPiece,!0,()=>{this._notify()}),p(this,u=>{this.destroy(u)})}_read(){this._reading||(this._reading=!0,this._notify())}_notify(){if(!this._reading||0===this._missing)return;if(!this._torrent.bitfield.get(this._piece))return this._torrent.critical(this._piece,this._piece+this._criticalLength);if(this._notifying)return;if(this._notifying=!0,this._torrent.destroyed)return this.destroy(new Error("Torrent removed"));const l=this._piece,n={};l===this._torrent.pieces.length-1&&(n.length=this._torrent.lastPieceLength),this._torrent.store.get(l,n,(t,i)=>{if(this._notifying=!1,!this.destroyed)return x("read %s (length %s) (err %s)",l,i&&i.length,t&&t.message),t?this.destroy(t):(this._offset&&(i=i.slice(this._offset),this._offset=0),this._missing<i.length&&(i=i.slice(0,this._missing)),this._missing-=i.length,x("pushing buffer of length %s",i.length),this._reading=!1,this.push(i),void(0===this._missing&&this.push(null)))}),this._piece+=1}_destroy(l,n){this._torrent.destroyed||this._torrent.deselect(this._startPiece,this._endPiece,!0),n(l)}}},{debug:105,"end-of-stream":135,stream:72}],2:[function(v,L){const h=v("events"),{PassThrough:g}=v("stream"),p=v("path"),x=v("render-media"),r=v("stream-to-blob"),c=v("stream-to-blob-url"),l=v("stream-with-known-length-to-buffer"),n=v("queue-microtask"),t=v("range-parser"),i=v("mime"),s=v("end-of-stream"),u=v("./file-stream.js");L.exports=class o extends h{constructor(f,E){super(),this._torrent=f,this._destroyed=!1,this._fileStreams=new Set,this.name=E.name,this.path=E.path,this.length=E.length,this.offset=E.offset,this.done=!1;const b=E.offset,I=b+E.length-1;this._startPiece=0|b/this._torrent.pieceLength,this._endPiece=0|I/this._torrent.pieceLength,0===this.length&&(this.done=!0,this.emit("done")),this._serviceWorker=f.client.serviceWorker}get downloaded(){if(this._destroyed||!this._torrent.bitfield)return 0;const{pieces:f,bitfield:E,pieceLength:b,lastPieceLength:I}=this._torrent,{_startPiece:S,_endPiece:R}=this,F=se=>se===f.length-1?I:b,q=se=>{const xe=se===f.length-1?I:b;return E.get(se)?xe:xe-f[se].missing};let K=0;for(let se=S;se<=R;se+=1){const xe=q(se);if(K+=xe,se===S&&(K-=ne(this.offset%b,xe)),se===R){const we=F(R)-(this.offset+this.length)%b;K-=ne(we,xe)}}return K}get progress(){return this.length?this.downloaded/this.length:0}select(f){0===this.length||this._torrent.select(this._startPiece,this._endPiece,f)}deselect(){0===this.length||this._torrent.deselect(this._startPiece,this._endPiece,!1)}createReadStream(f){if(0===this.length){const b=new g;return n(()=>{b.end()}),b}const E=new u(this,f);return this._fileStreams.add(E),E.once("close",()=>{this._fileStreams.delete(E)}),E}getBuffer(f){l(this.createReadStream(),this.length,f)}getBlob(f){if("undefined"==typeof window)throw new Error("browser-only method");r(this.createReadStream(),this._getMimeType()).then(E=>f(null,E),E=>f(E))}getBlobURL(f){if("undefined"==typeof window)throw new Error("browser-only method");c(this.createReadStream(),this._getMimeType()).then(E=>f(null,E),E=>f(E))}appendTo(f,E,b){if("undefined"==typeof window)throw new Error("browser-only method");x.append(this,f,E,b)}renderTo(f,E,b){if("undefined"==typeof window)throw new Error("browser-only method");x.render(this,f,E,b)}_serve(f){const E={status:200,headers:{"Accept-Ranges":"bytes","Content-Type":i.getType(this.name),"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0",Expires:"0"},body:"HEAD"===f.method?"":"STREAM"};"document"===f.destination&&(E.headers["Content-Type"]="application/octet-stream",E.headers["Content-Disposition"]="attachment",E.body="DOWNLOAD");let b=t(this.length,f.headers.range||"");b.constructor===Array?(E.status=206,b=b[0],E.headers["Content-Range"]=`bytes ${b.start}-${b.end}/${this.length}`,E.headers["Content-Length"]=""+(b.end-b.start+1)):E.headers["Content-Length"]=this.length;const I="GET"===f.method&&this.createReadStream(b);let S=null;return I&&this.emit("stream",{stream:I,req:f,file:this},R=>{S=R,s(R,()=>{R&&R.destroy(),I.destroy()})}),[E,S||I,S&&I]}getStreamURL(f=(()=>{})){if("undefined"==typeof window)throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if("activated"!==this._serviceWorker.state)throw new Error("Worker isn't activated");f(null,`${this._serviceWorker.scriptURL.substr(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`)}streamTo(f,E=(()=>{})){if("undefined"==typeof window)throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if("activated"!==this._serviceWorker.state)throw new Error("Worker isn't activated");const b=this._serviceWorker.scriptURL.substr(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length);f.src=`${b}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`,E(null,f)}_getMimeType(){return x.mime[p.extname(this.name).toLowerCase()]}_destroy(){this._destroyed=!0,this._torrent=null;for(const f of this._fileStreams)f.destroy();this._fileStreams.clear()}}},{"./file-stream.js":1,"end-of-stream":135,events:70,mime:177,path:71,"queue-microtask":218,"range-parser":223,"render-media":241,stream:72,"stream-to-blob":273,"stream-to-blob-url":272,"stream-with-known-length-to-buffer":274}],3:[function(v,L,h){const g=v("events"),{Transform:p}=v("stream"),x=v("unordered-array-remove"),r=v("debug"),c=v("bittorrent-protocol"),l=r("webtorrent:peer");let n=!1;h.enableSecure=()=>{n=!0},h.createWebRTCPeer=(u,o,d)=>{const f=new s(u.id,"webrtc");if(f.conn=u,f.swarm=o,f.throttleGroups=d,f.conn.connected)f.onConnect();else{const E=()=>{f.conn.removeListener("connect",b),f.conn.removeListener("error",I)},b=()=>{E(),f.onConnect()},I=S=>{E(),f.destroy(S)};f.conn.once("connect",b),f.conn.once("error",I),f.startConnectTimeout()}return f},h.createTCPIncomingPeer=(u,o)=>t(u,"tcpIncoming",o),h.createUTPIncomingPeer=(u,o)=>t(u,"utpIncoming",o),h.createTCPOutgoingPeer=(u,o,d)=>i(u,o,"tcpOutgoing",d),h.createUTPOutgoingPeer=(u,o,d)=>i(u,o,"utpOutgoing",d);const t=(u,o,d)=>{const f=`${u.remoteAddress}:${u.remotePort}`,E=new s(f,o);return E.conn=u,E.addr=f,E.throttleGroups=d,E.onConnect(),E},i=(u,o,d,f)=>{const E=new s(u,d);return E.addr=u,E.swarm=o,E.throttleGroups=f,E};h.createWebSeedPeer=(u,o,d,f)=>{const E=new s(o,"webSeed");return E.swarm=d,E.conn=u,E.throttleGroups=f,E.onConnect(),E};class s extends g{constructor(o,d){super(),this.id=o,this.type=d,l("new %s Peer %s",d,o),this.addr=null,this.conn=null,this.swarm=null,this.wire=null,this.connected=!1,this.destroyed=!1,this.timeout=null,this.retries=0,this.sentPe1=!1,this.sentPe2=!1,this.sentPe3=!1,this.sentPe4=!1,this.sentHandshake=!1}onConnect(){if(!this.destroyed){this.connected=!0,l("Peer %s connected",this.id),clearTimeout(this.connectTimeout);const o=this.conn;o.once("end",()=>{this.destroy()}),o.once("close",()=>{this.destroy()}),o.once("finish",()=>{this.destroy()}),o.once("error",f=>{this.destroy(f)});const d=this.wire=new c(this.type,this.retries,n);d.once("end",()=>{this.destroy()}),d.once("close",()=>{this.destroy()}),d.once("finish",()=>{this.destroy()}),d.once("error",f=>{this.destroy(f)}),d.once("pe1",()=>{this.onPe1()}),d.once("pe2",()=>{this.onPe2()}),d.once("pe3",()=>{this.onPe3()}),d.once("pe4",()=>{this.onPe4()}),d.once("handshake",(f,E)=>{this.onHandshake(f,E)}),this.startHandshakeTimeout(),this.setThrottlePipes(),this.swarm&&("tcpOutgoing"===this.type?n&&0===this.retries&&!this.sentPe1?this.sendPe1():!this.sentHandshake&&this.handshake():"tcpIncoming"!==this.type&&!this.sentHandshake&&this.handshake())}}sendPe1(){this.wire.sendPe1(),this.sentPe1=!0}onPe1(){this.sendPe2()}sendPe2(){this.wire.sendPe2(),this.sentPe2=!0}onPe2(){this.sendPe3()}sendPe3(){this.wire.sendPe3(this.swarm.infoHash),this.sentPe3=!0}onPe3(o){this.swarm&&(this.swarm.infoHashHash!==o&&this.destroy(new Error("unexpected crypto handshake info hash for this swarm")),this.sendPe4())}sendPe4(){this.wire.sendPe4(this.swarm.infoHash),this.sentPe4=!0}onPe4(){this.sentHandshake||this.handshake()}clearPipes(){this.conn.unpipe(),this.wire.unpipe()}setThrottlePipes(){const o=this;this.conn.pipe(this.throttleGroups.down.throttle()).pipe(new p({transform(d,f,E){o.emit("download",d.length),o.destroyed||E(null,d)}})).pipe(this.wire).pipe(this.throttleGroups.up.throttle()).pipe(new p({transform(d,f,E){o.emit("upload",d.length),o.destroyed||E(null,d)}})).pipe(this.conn)}onHandshake(o,d){if(!this.swarm||this.destroyed)return;if(this.swarm.destroyed)return this.destroy(new Error("swarm already destroyed"));if(o!==this.swarm.infoHash)return this.destroy(new Error("unexpected handshake info hash for this swarm"));if(d===this.swarm.peerId)return this.destroy(new Error("refusing to connect to ourselves"));l("Peer %s got handshake %s",this.id,o),clearTimeout(this.handshakeTimeout),this.retries=0;let f=this.addr;!f&&this.conn.remoteAddress&&this.conn.remotePort&&(f=`${this.conn.remoteAddress}:${this.conn.remotePort}`),this.swarm._onWire(this.wire,f),this.swarm&&!this.swarm.destroyed&&(this.sentHandshake||this.handshake())}handshake(){this.wire.handshake(this.swarm.infoHash,this.swarm.client.peerId,{dht:!this.swarm.private&&!!this.swarm.client.dht}),this.sentHandshake=!0}startConnectTimeout(){clearTimeout(this.connectTimeout),this.connectTimeout=setTimeout(()=>{this.destroy(new Error("connect timeout"))},{webrtc:25e3,tcpOutgoing:5e3,utpOutgoing:5e3}[this.type]),this.connectTimeout.unref&&this.connectTimeout.unref()}startHandshakeTimeout(){clearTimeout(this.handshakeTimeout),this.handshakeTimeout=setTimeout(()=>{this.destroy(new Error("handshake timeout"))},25e3),this.handshakeTimeout.unref&&this.handshakeTimeout.unref()}destroy(o){if(this.destroyed)return;this.destroyed=!0,this.connected=!1,l("destroy %s %s (error: %s)",this.type,this.id,o&&(o.message||o)),clearTimeout(this.connectTimeout),clearTimeout(this.handshakeTimeout);const d=this.swarm,f=this.conn,E=this.wire;this.swarm=null,this.conn=null,this.wire=null,d&&E&&x(d.wires,d.wires.indexOf(E)),f&&(f.on("error",()=>{}),f.destroy()),E&&E.destroy(),d&&d.removePeer(this.id)}}},{"bittorrent-protocol":32,debug:105,events:70,stream:72,"unordered-array-remove":284}],4:[function(v,L){L.exports=class{constructor(h){this._torrent=h,this._numPieces=h.pieces.length,this._pieces=Array(this._numPieces),this._onWire=g=>{this.recalculate(),this._initWire(g)},this._onWireHave=g=>{this._pieces[g]+=1},this._onWireBitfield=()=>{this.recalculate()},this._torrent.wires.forEach(g=>{this._initWire(g)}),this._torrent.on("wire",this._onWire),this.recalculate()}getRarestPiece(h){let g=[],p=1/0;for(let x=0;x<this._numPieces;++x){if(h&&!h(x))continue;const r=this._pieces[x];r===p?g.push(x):r<p&&(g=[x],p=r)}return g.length?g[0|Math.random()*g.length]:-1}destroy(){this._torrent.removeListener("wire",this._onWire),this._torrent.wires.forEach(h=>{this._cleanupWireEvents(h)}),this._torrent=null,this._pieces=null,this._onWire=null,this._onWireHave=null,this._onWireBitfield=null}_initWire(h){h._onClose=()=>{this._cleanupWireEvents(h);for(let g=0;g<this._numPieces;++g)this._pieces[g]-=h.peerPieces.get(g)},h.on("have",this._onWireHave),h.on("bitfield",this._onWireBitfield),h.once("close",h._onClose)}recalculate(){this._pieces.fill(0);for(const h of this._torrent.wires)for(let g=0;g<this._numPieces;++g)this._pieces[g]+=h.peerPieces.get(g)}_cleanupWireEvents(h){h.removeListener("have",this._onWireHave),h.removeListener("bitfield",this._onWireBitfield),h._onClose&&h.removeListener("close",h._onClose),h._onClose=null}}},{}],5:[function(v,L){(function(h,g){(function(){function p(et,ie){return 2+de(ie*et.downloadSpeed()/P.BLOCK_LENGTH)}function c(){}const l=v("events"),n=v("fs"),t=v("net"),i=v("os"),s=v("path"),u=v("addr-to-ip-port"),{default:o}=v("bitfield"),d=v("cache-chunk-store"),f=v("chunk-store-stream/write"),E=v("cpus"),b=v("debug"),I=v("torrent-discovery"),S=v("fs-chunk-store"),R=v("simple-get"),F=v("immediate-chunk-store"),q=v("lt_donthave"),K=v("memory-chunk-store"),se=v("multistream"),xe=v("run-parallel"),we=v("run-parallel-limit"),A=v("parse-torrent"),P=v("torrent-piece"),U=v("pump"),y=v("queue-microtask"),C=v("random-iterate"),M=v("simple-sha1"),O=v("speedometer"),ee=v("ut_metadata"),$=v("ut_pex"),ae=v("./file.js"),Fe=v("./peer.js"),He=v("./rarity-map.js"),Ve=v("./server.js"),it=v("./utp.js"),at=v("./webconn.js"),qt=b("webtorrent:torrent"),Ht=3*P.BLOCK_LENGTH,dt=h.browser?E().length:2,vt=[1e3,5e3,15e3],ue=`WebTorrent/${v("../package.json").version} (https://webtorrent.io)`;let Y;try{Y=s.join(n.statSync("/tmp")&&"/tmp","webtorrent")}catch(et){Y=s.join("function"==typeof i.tmpdir?i.tmpdir():"/","webtorrent")}L.exports=class oe extends l{constructor(ie,pe,Ye){super(),this._debugId="unknown infohash",this.client=pe,this.announce=Ye.announce,this.urlList=Ye.urlList,this.path=Ye.path||Y,this.addUID=Ye.addUID||!1,this.skipVerify=!!Ye.skipVerify,this._store=Ye.store||S,this._preloadedStore=Ye.preloadedStore||null,this._storeCacheSlots=void 0===Ye.storeCacheSlots?20:Ye.storeCacheSlots,this._destroyStoreOnDestroy=Ye.destroyStoreOnDestroy||!1,this._getAnnounceOpts=Ye.getAnnounceOpts,"boolean"==typeof Ye.private&&(this.private=Ye.private),this.strategy=Ye.strategy||"sequential",this.maxWebConns=Ye.maxWebConns||4,this._rechokeNumSlots=!1===Ye.uploads||0===Ye.uploads?0:+Ye.uploads||10,this._rechokeOptimisticWire=null,this._rechokeOptimisticTime=0,this._rechokeIntervalId=null,this.ready=!1,this.destroyed=!1,this.paused=Ye.paused||!1,this.done=!1,this.metadata=null,this.store=null,this.storeOpts=Ye.storeOpts,this.files=[],this.pieces=[],this._amInterested=!1,this._selections=[],this._critical=[],this.wires=[],this._queue=[],this._peers={},this._peersLength=0,this.received=0,this.uploaded=0,this._downloadSpeed=O(),this._uploadSpeed=O(),this._servers=[],this._xsRequests=[],this._fileModtimes=Ye.fileModtimes,null!==ie&&this._onTorrentId(ie),this._debug("new torrent")}get timeRemaining(){return this.done?0:0===this.downloadSpeed?1/0:(this.length-this.downloaded)/this.downloadSpeed*1e3}get downloaded(){if(!this.bitfield)return 0;let ie=0;for(let pe=0,Ye=this.pieces.length;pe<Ye;++pe)if(this.bitfield.get(pe))ie+=pe===Ye-1?this.lastPieceLength:this.pieceLength;else{const ct=this.pieces[pe];ie+=ct.length-ct.missing}return ie}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){return this.length?this.downloaded/this.length:0}get ratio(){return this.uploaded/(this.received||this.length)}get numPeers(){return this.wires.length}get torrentFileBlobURL(){if("undefined"==typeof window)throw new Error("browser-only property");return this.torrentFile?URL.createObjectURL(new Blob([this.torrentFile],{type:"application/x-bittorrent"})):null}get _numQueued(){return this._queue.length+(this._peersLength-this._numConns)}get _numConns(){let ie=0;for(const pe in this._peers)this._peers[pe].connected&&(ie+=1);return ie}_onTorrentId(ie){if(this.destroyed)return;let pe;try{pe=A(ie)}catch(Ye){}pe?(this.infoHash=pe.infoHash,this._debugId=pe.infoHash.toString("hex").substring(0,7),y(()=>{this.destroyed||this._onParsedTorrent(pe)})):A.remote(ie,(Ye,ct)=>this.destroyed?void 0:Ye?this._destroy(Ye):void this._onParsedTorrent(ct))}_onParsedTorrent(ie){if(!this.destroyed){if(this._processParsedTorrent(ie),!this.infoHash)return this._destroy(new Error("Malformed torrent data: No info hash"));this._rechokeIntervalId=setInterval(()=>{this._rechoke()},1e4),this._rechokeIntervalId.unref&&this._rechokeIntervalId.unref(),this.emit("_infoHash",this.infoHash),!this.destroyed&&(this.emit("infoHash",this.infoHash),this.destroyed||(this.client.listening?this._onListening():this.client.once("listening",()=>{this._onListening()})))}}_processParsedTorrent(ie){this._debugId=ie.infoHash.toString("hex").substring(0,7),void 0!==this.private&&(ie.private=this.private),this.announce&&(ie.announce=ie.announce.concat(this.announce)),this.client.tracker&&g.WEBTORRENT_ANNOUNCE&&!ie.private&&(ie.announce=ie.announce.concat(g.WEBTORRENT_ANNOUNCE)),this.urlList&&(ie.urlList=ie.urlList.concat(this.urlList)),ie.announce=Array.from(new Set(ie.announce)),ie.urlList=Array.from(new Set(ie.urlList)),Object.assign(this,ie),this.magnetURI=A.toMagnetURI(ie),this.torrentFile=A.toTorrentFile(ie)}_onListening(){this.destroyed||(this.info?this._onMetadata(this):(this.xs&&this._getMetadataFromServer(),this._startDiscovery()))}_startDiscovery(){if(this.discovery||this.destroyed)return;let ie=this.client.tracker;ie&&(ie=Object.assign({},this.client.tracker,{getAnnounceOpts:()=>{if(!this.destroyed){const pe={uploaded:this.uploaded,downloaded:this.downloaded,left:ce(this.length-this.downloaded,0)};return this.client.tracker.getAnnounceOpts&&Object.assign(pe,this.client.tracker.getAnnounceOpts()),this._getAnnounceOpts&&Object.assign(pe,this._getAnnounceOpts()),pe}}})),this.peerAddresses&&this.peerAddresses.forEach(pe=>this.addPeer(pe)),this.discovery=new I({infoHash:this.infoHash,announce:this.announce,peerId:this.client.peerId,dht:!this.private&&this.client.dht,tracker:ie,port:this.client.torrentPort,userAgent:ue,lsd:this.client.lsd}),this.discovery.on("error",pe=>{this._destroy(pe)}),this.discovery.on("peer",(pe,Ye)=>{this._debug("peer %s discovered via %s",pe,Ye),"string"==typeof pe&&this.done||this.addPeer(pe)}),this.discovery.on("trackerAnnounce",()=>{this.emit("trackerAnnounce"),0===this.numPeers&&this.emit("noPeers","tracker")}),this.discovery.on("dhtAnnounce",()=>{this.emit("dhtAnnounce"),0===this.numPeers&&this.emit("noPeers","dht")}),this.discovery.on("warning",pe=>{this.emit("warning",pe)})}_getMetadataFromServer(){const pe=this,ct=(Array.isArray(this.xs)?this.xs:[this.xs]).map(gt=>$t=>{!function ie(gt,$t){if(0!==gt.indexOf("http://")&&0!==gt.indexOf("https://"))return pe.emit("warning",new Error(`skipping non-http xs param: ${gt}`)),$t(null);let rn;try{rn=R.concat({url:gt,method:"GET",headers:{"user-agent":ue}},function Zt(kn,an,xn){if(pe.destroyed||pe.metadata)return $t(null);if(kn)return pe.emit("warning",new Error(`http error from xs param: ${gt}`)),$t(null);if(200!==an.statusCode)return pe.emit("warning",new Error(`non-200 status code ${an.statusCode} from xs param: ${gt}`)),$t(null);let $n;try{$n=A(xn)}catch(Cn){}return $n?$n.infoHash===pe.infoHash?(pe._onMetadata($n),void $t(null)):(pe.emit("warning",new Error(`got torrent file with incorrect info hash from xs param: ${gt}`)),$t(null)):(pe.emit("warning",new Error(`got invalid torrent file from xs param: ${gt}`)),$t(null))})}catch(kn){return pe.emit("warning",new Error(`skipping invalid url xs param: ${gt}`)),$t(null)}pe._xsRequests.push(rn)}(gt,$t)});xe(ct)}_onMetadata(ie){if(this.metadata||this.destroyed)return;let pe;if(this._debug("got metadata"),this._xsRequests.forEach(ct=>{ct.abort()}),this._xsRequests=[],ie&&ie.infoHash)pe=ie;else try{pe=A(ie)}catch(ct){return this._destroy(ct)}this._processParsedTorrent(pe),this.metadata=this.torrentFile,this.client.enableWebSeeds&&this.urlList.forEach(ct=>{this.addWebSeed(ct)}),this._rarityMap=new He(this),this.files=this.files.map(ct=>new ae(this,ct));let Ye=this._preloadedStore;if(Ye||(Ye=new this._store(this.pieceLength,{...this.storeOpts,torrent:this,path:this.path,files:this.files,length:this.length,name:this.name+" - "+this.infoHash.slice(0,8),addUID:this.addUID})),0<this._storeCacheSlots&&!(Ye instanceof K)&&(Ye=new d(Ye,{max:this._storeCacheSlots})),this.store=new F(Ye),this.so?this.files.forEach((ct,gt)=>{this.so.includes(gt)?this.files[gt].select():this.files[gt].deselect()}):0!==this.pieces.length&&this.select(0,this.pieces.length-1,!1),this._hashes=this.pieces,this.pieces=this.pieces.map((ct,gt)=>new P(gt===this.pieces.length-1?this.lastPieceLength:this.pieceLength)),this._reservations=this.pieces.map(()=>[]),this.bitfield=new o(this.pieces.length),this.wires.forEach(ct=>{ct.ut_metadata&&ct.ut_metadata.setMetadata(this.metadata),this._onWireWithMetadata(ct)}),this.emit("metadata"),!this.destroyed)if(this.skipVerify)this._markAllVerified(),this._onStore();else{const ct=gt=>gt?this._destroy(gt):(this._debug("done verifying"),void this._onStore());this._debug("verifying existing torrent data"),this._fileModtimes&&this._store===S?this.getFileModtimes((gt,$t)=>{if(gt)return this._destroy(gt);this.files.map((rn,kn)=>$t[kn]===this._fileModtimes[kn]).every(rn=>rn)?(this._markAllVerified(),this._onStore()):this._verifyPieces(ct)}):this._verifyPieces(ct)}}getFileModtimes(ie){const pe=[];we(this.files.map((Ye,ct)=>gt=>{const $t=this.addUID?s.join(this.name+" - "+this.infoHash.slice(0,8)):s.join(this.path,Ye.path);n.stat($t,(Zt,rn)=>Zt&&"ENOENT"!==Zt.code?gt(Zt):(pe[ct]=rn&&rn.mtime.getTime(),void gt(null)))}),dt,Ye=>{this._debug("done getting file modtimes"),ie(Ye,pe)})}_verifyPieces(ie){we(this.pieces.map((pe,Ye)=>ct=>{if(this.destroyed)return ct(new Error("torrent is destroyed"));const gt={};Ye===this.pieces.length-1&&(gt.length=this.lastPieceLength),this.store.get(Ye,gt,($t,Zt)=>this.destroyed?ct(new Error("torrent is destroyed")):$t?y(()=>ct(null)):void M(Zt,rn=>this.destroyed?ct(new Error("torrent is destroyed")):(rn===this._hashes[Ye]?(this._debug("piece verified %s",Ye),this._markVerified(Ye)):this._debug("piece invalid %s",Ye),void ct(null))))}),dt,ie)}rescanFiles(ie){if(this.destroyed)throw new Error("torrent is destroyed");ie||(ie=c),this._verifyPieces(pe=>pe?(this._destroy(pe),ie(pe)):(this._checkDone(),void ie(null)))}_markAllVerified(){for(let ie=0;ie<this.pieces.length;ie++)this._markVerified(ie)}_markVerified(ie){this.pieces[ie]=null,this._reservations[ie]=null,this.bitfield.set(ie,!0)}_onStore(){this.destroyed||(this._debug("on store"),this._startDiscovery(),this.ready=!0,this.emit("ready"),this._checkDone(),this._updateSelections())}destroy(ie,pe){return"function"==typeof ie?this.destroy(null,ie):void this._destroy(null,ie,pe)}_destroy(ie,pe,Ye){if("function"==typeof pe)return this._destroy(ie,null,pe);if(!this.destroyed){for(const gt in this.destroyed=!0,this._debug("destroy"),this.client._remove(this),clearInterval(this._rechokeIntervalId),this._xsRequests.forEach($t=>{$t.abort()}),this._rarityMap&&this._rarityMap.destroy(),this._peers)this.removePeer(gt);this.files.forEach(gt=>{gt instanceof ae&&gt._destroy()});const ct=this._servers.map(gt=>$t=>{gt.destroy($t)});if(this.discovery&&ct.push(gt=>{this.discovery.destroy(gt)}),this.store){let gt=this._destroyStoreOnDestroy;pe&&void 0!==pe.destroyStore&&(gt=pe.destroyStore),ct.push($t=>{gt?this.store.destroy($t):this.store.close($t)})}xe(ct,Ye),ie&&(0===this.listenerCount("error")?this.client.emit("error",ie):this.emit("error",ie)),this.emit("close"),this.client=null,this.files=[],this.discovery=null,this.store=null,this._rarityMap=null,this._peers=null,this._servers=null,this._xsRequests=null}}addPeer(ie){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.infoHash)throw new Error("addPeer() must not be called before the `infoHash` event");let pe;if(this.client.blocked){if("string"==typeof ie){let gt;try{gt=u(ie)}catch($t){return this._debug("ignoring peer: invalid %s",ie),this.emit("invalidPeer",ie),!1}pe=gt[0]}else"string"==typeof ie.remoteAddress&&(pe=ie.remoteAddress);if(pe&&this.client.blocked.contains(pe))return this._debug("ignoring peer: blocked %s",ie),"string"!=typeof ie&&ie.destroy(),this.emit("blockedPeer",ie),!1}const Ye=this.client.utp&&this._isIPv4(pe)?"utp":"tcp",ct=!!this._addPeer(ie,Ye);return this.emit(ct?"peer":"invalidPeer",ie),ct}_addPeer(ie,pe){if(this.destroyed)return"string"!=typeof ie&&ie.destroy(),null;if("string"==typeof ie&&!this._validAddr(ie))return this._debug("ignoring peer: invalid %s",ie),null;const Ye=ie&&ie.id||ie;if(this._peers[Ye])return this._debug("ignoring peer: duplicate (%s)",Ye),"string"!=typeof ie&&ie.destroy(),null;if(this.paused)return this._debug("ignoring peer: torrent is paused"),"string"!=typeof ie&&ie.destroy(),null;let ct;return this._debug("add peer %s",Ye),ct="string"==typeof ie?"utp"===pe?Fe.createUTPOutgoingPeer(ie,this,this.client.throttleGroups):Fe.createTCPOutgoingPeer(ie,this,this.client.throttleGroups):Fe.createWebRTCPeer(ie,this,this.client.throttleGroups),this._registerPeer(ct),"string"==typeof ie&&(this._queue.push(ct),this._drain()),ct}addWebSeed(ie){if(this.destroyed)throw new Error("torrent is destroyed");let pe,Ye;if("string"==typeof ie){if(pe=ie,!/^https?:\/\/.+/.test(pe))return this.emit("warning",new Error(`ignoring invalid web seed: ${pe}`)),void this.emit("invalidPeer",pe);if(this._peers[pe])return this.emit("warning",new Error(`ignoring duplicate web seed: ${pe}`)),void this.emit("invalidPeer",pe);Ye=new at(pe,this)}else{if(!ie||"string"!=typeof ie.connId)return void this.emit("warning",new Error("addWebSeed must be passed a string or connection object with id property"));if(Ye=ie,pe=Ye.connId,this._peers[pe])return this.emit("warning",new Error(`ignoring duplicate web seed: ${pe}`)),void this.emit("invalidPeer",pe)}this._debug("add web seed %s",pe);const ct=Fe.createWebSeedPeer(Ye,pe,this,this.client.throttleGroups);this._registerPeer(ct),this.emit("peer",pe)}_addIncomingPeer(ie){return this.destroyed?ie.destroy(new Error("torrent is destroyed")):this.paused?ie.destroy(new Error("torrent is paused")):(this._debug("add incoming peer %s",ie.id),void this._registerPeer(ie))}_registerPeer(ie){ie.on("download",pe=>{this.destroyed||(this.received+=pe,this._downloadSpeed(pe),this.client._downloadSpeed(pe),this.emit("download",pe),this.destroyed||this.client.emit("download",pe))}),ie.on("upload",pe=>{this.destroyed||(this.uploaded+=pe,this._uploadSpeed(pe),this.client._uploadSpeed(pe),this.emit("upload",pe),this.destroyed||this.client.emit("upload",pe))}),this._peers[ie.id]=ie,this._peersLength+=1}removePeer(ie){const pe=ie&&ie.id||ie;(ie=this._peers[pe])&&(this._debug("removePeer %s",pe),delete this._peers[pe],this._peersLength-=1,ie.destroy(),this._drain())}select(ie,pe,Ye,ct){if(this.destroyed)throw new Error("torrent is destroyed");if(0>ie||pe<ie||this.pieces.length<=pe)throw new Error(`invalid selection ${ie} : ${pe}`);this._debug("select %s-%s (priority %s)",ie,pe,Ye=+Ye||0),this._selections.push({from:ie,to:pe,offset:0,priority:Ye,notify:ct||c}),this._selections.sort((gt,$t)=>$t.priority-gt.priority),this._updateSelections()}deselect(ie,pe,Ye){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("deselect %s-%s (priority %s)",ie,pe,Ye=+Ye||0);for(let ct=0;ct<this._selections.length;++ct){const gt=this._selections[ct];if(gt.from===ie&&gt.to===pe&&gt.priority===Ye){this._selections.splice(ct,1);break}}this._updateSelections()}critical(ie,pe){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("critical %s-%s",ie,pe);for(let Ye=ie;Ye<=pe;++Ye)this._critical[Ye]=!0;this._updateSelections()}_onWire(ie,pe){if(this._debug("got wire %s (%s)",ie._debugId,pe||"Unknown"),this.wires.push(ie),pe){const Ye=u(pe);ie.remoteAddress=Ye[0],ie.remotePort=Ye[1]}this.client.dht&&this.client.dht.listening&&ie.on("port",Ye=>this.destroyed||this.client.dht.destroyed?void 0:ie.remoteAddress?0===Ye||65536<Ye?this._debug("ignoring invalid PORT from peer"):(this._debug("port: %s (from %s)",Ye,pe),void this.client.dht.addNode({host:ie.remoteAddress,port:Ye})):this._debug("ignoring PORT from peer with no address")),ie.on("timeout",()=>{this._debug("wire timeout (%s)",pe),ie.destroy()}),"webSeed"!==ie.type&&ie.setTimeout(3e4,!0),ie.setKeepAlive(!0),ie.use(ee(this.metadata)),ie.ut_metadata.on("warning",Ye=>{this._debug("ut_metadata warning: %s",Ye.message)}),this.metadata||(ie.ut_metadata.on("metadata",Ye=>{this._debug("got metadata via ut_metadata"),this._onMetadata(Ye)}),ie.ut_metadata.fetch()),"function"!=typeof $||this.private||(ie.use($()),ie.ut_pex.on("peer",Ye=>{this.done||(this._debug("ut_pex: got peer: %s (from %s)",Ye,pe),this.addPeer(Ye))}),ie.ut_pex.on("dropped",Ye=>{const ct=this._peers[Ye];ct&&!ct.connected&&(this._debug("ut_pex: dropped peer: %s (from %s)",Ye,pe),this.removePeer(Ye))}),ie.once("close",()=>{ie.ut_pex.reset()})),ie.use(q()),this.emit("wire",ie,pe),this.metadata&&y(()=>{this._onWireWithMetadata(ie)})}_onWireWithMetadata(ie){let pe=null;const Ye=()=>{this.destroyed||ie.destroyed||(this._numQueued>2*(this._numConns-this.numPeers)&&ie.amInterested?ie.destroy():(pe=setTimeout(Ye,5e3),pe.unref&&pe.unref()))};let ct;const gt=()=>{if(ie.peerPieces.buffer.length===this.bitfield.buffer.length){for(ct=0;ct<this.pieces.length;++ct)if(!ie.peerPieces.get(ct))return;ie.isSeeder=!0,ie.choke()}};ie.on("bitfield",()=>{gt(),this._update(),this._updateWireInterest(ie)}),ie.on("have",()=>{gt(),this._update(),this._updateWireInterest(ie)}),ie.lt_donthave.on("donthave",()=>{gt(),this._update(),this._updateWireInterest(ie)}),ie.once("interested",()=>{ie.unchoke()}),ie.once("close",()=>{clearTimeout(pe)}),ie.on("choke",()=>{clearTimeout(pe),pe=setTimeout(Ye,5e3),pe.unref&&pe.unref()}),ie.on("unchoke",()=>{clearTimeout(pe),this._update()}),ie.on("request",($t,Zt,rn,kn)=>rn>131072?ie.destroy():void(this.pieces[$t]||this.store.get($t,{offset:Zt,length:rn},kn))),ie.bitfield(this.bitfield),this._updateWireInterest(ie),ie.peerExtensions.dht&&this.client.dht&&this.client.dht.listening&&ie.port(this.client.dht.address().port),"webSeed"!==ie.type&&(pe=setTimeout(Ye,5e3),pe.unref&&pe.unref()),ie.isSeeder=!1,gt()}_updateSelections(){!this.ready||this.destroyed||(y(()=>{this._gcSelections()}),this._updateInterest(),this._update())}_gcSelections(){for(let ie=0;ie<this._selections.length;++ie){const pe=this._selections[ie],Ye=pe.offset;for(;this.bitfield.get(pe.from+pe.offset)&&pe.from+pe.offset<pe.to;)pe.offset+=1;Ye!==pe.offset&&pe.notify(),pe.to===pe.from+pe.offset&&this.bitfield.get(pe.from+pe.offset)&&(this._selections.splice(ie,1),ie-=1,pe.notify(),this._updateInterest())}this._selections.length||this.emit("idle")}_updateInterest(){const ie=this._amInterested;this._amInterested=!!this._selections.length,this.wires.forEach(pe=>this._updateWireInterest(pe)),ie===this._amInterested||this.emit(this._amInterested?"interested":"uninterested")}_updateWireInterest(ie){let pe=!1;for(let Ye=0;Ye<this.pieces.length;++Ye)if(this.pieces[Ye]&&ie.peerPieces.get(Ye)){pe=!0;break}pe?ie.interested():ie.uninterested()}_update(){if(!this.destroyed){const ie=C(this.wires);for(let pe;pe=ie();)this._updateWireWrapper(pe)}}_updateWireWrapper(ie){const pe=this;"undefined"!=typeof window&&"function"==typeof window.requestIdleCallback?window.requestIdleCallback(()=>{pe._updateWire(ie)},{timeout:250}):pe._updateWire(ie)}_updateWire(ie){function pe(kn,an,xn,$n){return Cn=>Cn>=kn&&Cn<=an&&!(Cn in xn)&&ie.peerPieces.get(Cn)&&(!$n||$n(Cn))}function ct(kn){let an=kn;for(let $n=kn;$n<$t._selections.length&&$t._selections[$n].priority;$n++)an=$n;const xn=$t._selections[kn];$t._selections[kn]=$t._selections[an],$t._selections[an]=xn}function gt(kn){if(ie.requests.length>=rn)return!0;const an=function Ye(){const kn=ie.downloadSpeed()||1;if(kn>Ht)return()=>!0;const an=ce(1,ie.requests.length)*P.BLOCK_LENGTH/kn;let xn=10,$n=0;return Cn=>{if(!xn||$t.bitfield.get(Cn))return!0;for(let On=$t.pieces[Cn].missing;$n<$t.wires.length;$n++){const Sr=$t.wires[$n],jt=Sr.downloadSpeed();if(!(jt<Ht)&&!(jt<=kn)&&Sr.peerPieces.get(Cn)&&!(0<(On-=jt*an)))return xn--,!1}return!0}}();for(let xn=0;xn<$t._selections.length;xn++){const $n=$t._selections[xn];let Cn;if("rarest"===$t.strategy){const On=$n.from+$n.offset,Sr=$n.to,jt={};let Kn=0;for(const ge=pe(On,Sr,jt,an);Kn<Sr-On+1&&(Cn=$t._rarityMap.getRarestPiece(ge),!(0>Cn));){for(;$t._request(ie,Cn,$t._critical[Cn]||kn););if(!(ie.requests.length<rn))return $n.priority&&ct(xn),!0;jt[Cn]=!0,Kn++}}else for(Cn=$n.from+$n.offset;Cn<=$n.to;Cn++)if(ie.peerPieces.get(Cn)&&an(Cn)){for(;$t._request(ie,Cn,$t._critical[Cn]||kn););if(!(ie.requests.length<rn))return $n.priority&&ct(xn),!0}}return!1}const $t=this;if(ie.peerChoking)return;if(!ie.downloaded)return function(){if(!ie.requests.length)for(let kn=$t._selections.length;kn--;){const an=$t._selections[kn];let xn;if("rarest"===$t.strategy){const $n=an.from+an.offset,Cn=an.to,On={};let Sr=0;for(const jt=pe($n,Cn,On);Sr<Cn-$n+1&&(xn=$t._rarityMap.getRarestPiece(jt),!(0>xn));){if($t._request(ie,xn,!1))return;On[xn]=!0,Sr+=1}}else for(xn=an.to;xn>=an.from+an.offset;--xn)if(ie.peerPieces.get(xn)&&$t._request(ie,xn,!1))return}}();const Zt=p(ie,.5);if(ie.requests.length>=Zt)return;const rn=p(ie,1);gt(!1)||gt(!0)}_rechoke(){if(this.ready){const ie=this.wires.map(pe=>({wire:pe,random:Math.random()})).sort((pe,Ye)=>{const ct=pe.wire,gt=Ye.wire;return ct.downloadSpeed()===gt.downloadSpeed()?ct.uploadSpeed()===gt.uploadSpeed()?ct.amChoking===gt.amChoking?pe.random-Ye.random:ct.amChoking?-1:1:ct.uploadSpeed()-gt.uploadSpeed():ct.downloadSpeed()-gt.downloadSpeed()}).map(pe=>pe.wire);0>=this._rechokeOptimisticTime?this._rechokeOptimisticWire=null:this._rechokeOptimisticTime-=1;for(let pe=0;0<ie.length&&pe<this._rechokeNumSlots-1;){const Ye=ie.pop();Ye.isSeeder||Ye===this._rechokeOptimisticWire||(Ye.unchoke(),Ye.peerInterested&&pe++)}if(null===this._rechokeOptimisticWire&&0<this._rechokeNumSlots){const pe=ie.filter(Ye=>Ye.peerInterested);if(0<pe.length){const Ye=pe[function r(et){return 0|Math.random()*et}(pe.length)];Ye.unchoke(),this._rechokeOptimisticWire=Ye,this._rechokeOptimisticTime=2}}ie.filter(pe=>pe!==this._rechokeOptimisticWire).forEach(pe=>pe.choke())}}_hotswap(ie,pe){const Ye=ie.downloadSpeed();if(Ye<P.BLOCK_LENGTH||!this._reservations[pe])return!1;const ct=this._reservations[pe];if(!ct)return!1;let $t,Zt,gt=1/0;for(Zt=0;Zt<ct.length;Zt++){const rn=ct[Zt];if(!rn||rn===ie)continue;const kn=rn.downloadSpeed();kn>=Ht||2*kn>Ye||kn>gt||($t=rn,gt=kn)}if(!$t)return!1;for(Zt=0;Zt<ct.length;Zt++)ct[Zt]===$t&&(ct[Zt]=null);for(Zt=0;Zt<$t.requests.length;Zt++){const rn=$t.requests[Zt];rn.piece===pe&&this.pieces[pe].cancel(0|rn.offset/P.BLOCK_LENGTH)}return this.emit("hotswap",$t,ie,pe),!0}_request(ie,pe,Ye){function ct(){y(()=>{gt._update()})}const gt=this,$t=ie.requests.length,Zt="webSeed"===ie.type;if(gt.bitfield.get(pe))return!1;const rn=Zt?ne(function x(et,ie,pe){return 1+de(ie*et.downloadSpeed()/pe)}(ie,1,gt.pieceLength),gt.maxWebConns):p(ie,1);if($t>=rn)return!1;const kn=gt.pieces[pe];let an=Zt?kn.reserveRemaining():kn.reserve();if(-1===an&&Ye&&gt._hotswap(ie,pe)&&(an=Zt?kn.reserveRemaining():kn.reserve()),-1===an)return!1;let xn=gt._reservations[pe];xn||(xn=gt._reservations[pe]=[]);let $n=xn.indexOf(null);-1===$n&&($n=xn.length),xn[$n]=ie;const Cn=kn.chunkOffset(an),On=Zt?kn.chunkLengthRemaining(an):kn.chunkLength(an);return ie.request(pe,Cn,On,function Sr(jt,Kn){if(gt.destroyed)return;if(!gt.ready)return gt.once("ready",()=>{Sr(jt,Kn)});if(xn[$n]===ie&&(xn[$n]=null),kn!==gt.pieces[pe])return ct();if(jt)return gt._debug("error getting piece %s (offset: %s length: %s) from %s: %s",pe,Cn,On,`${ie.remoteAddress}:${ie.remotePort}`,jt.message),Zt?kn.cancelRemaining(an):kn.cancel(an),void ct();if(gt._debug("got piece %s (offset: %s length: %s) from %s",pe,Cn,On,`${ie.remoteAddress}:${ie.remotePort}`),!kn.set(an,Kn,ie))return ct();const ge=kn.flush();M(ge,Le=>{gt.destroyed||(Le===gt._hashes[pe]?(gt._debug("piece verified %s",pe),gt.store.put(pe,ge,je=>je?void gt._destroy(je):(gt.pieces[pe]=null,gt._markVerified(pe),gt.wires.forEach(Je=>{Je.have(pe)}),gt._checkDone()&&!gt.destroyed&&gt.discovery.complete(),void ct()))):(gt.pieces[pe]=new P(kn.length),gt.emit("warning",new Error(`Piece ${pe} failed verification`)),ct()))})}),!0}_checkDone(){if(this.destroyed)return;this.files.forEach(pe=>{if(!pe.done){for(let Ye=pe._startPiece;Ye<=pe._endPiece;++Ye)if(!this.bitfield.get(Ye))return;pe.done=!0,pe.emit("done"),this._debug(`file done: ${pe.name}`)}});let ie=!0;for(const pe of this._selections){for(let Ye=pe.from;Ye<=pe.to;Ye++)if(!this.bitfield.get(Ye)){ie=!1;break}if(!ie)break}return!this.done&&ie?(this.done=!0,this._debug(`torrent done: ${this.infoHash}`),this.emit("done")):this.done=!1,this._gcSelections(),ie}load(ie,pe){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.ready)return this.once("ready",()=>{this.load(ie,pe)});Array.isArray(ie)||(ie=[ie]),pe||(pe=c);const Ye=new se(ie),ct=new f(this.store,this.pieceLength);U(Ye,ct,gt=>gt?pe(gt):(this._markAllVerified(),this._checkDone(),void pe(null)))}createServer(ie){if("function"!=typeof Ve)throw new Error("node.js-only method");if(this.destroyed)throw new Error("torrent is destroyed");const pe=new Ve(this,ie);return this._servers.push(pe),pe}pause(){this.destroyed||(this._debug("pause"),this.paused=!0)}resume(){this.destroyed||(this._debug("resume"),this.paused=!1,this._drain())}_debug(){const ie=[].slice.call(arguments);ie[0]=`[${this.client?this.client._debugId:"No Client"}] [${this._debugId}] ${ie[0]}`,qt(...ie)}_drain(){if(this._debug("_drain numConns %s maxConns %s",this._numConns,this.client.maxConns),"function"!=typeof t.connect||this.destroyed||this.paused||this._numConns>=this.client.maxConns)return;this._debug("drain (%s queued, %s/%s peers)",this._numQueued,this.numPeers,this.client.maxConns);const ie=this._queue.shift();if(!ie)return;this._debug("%s connect attempt to %s",ie.type,ie.addr);const pe=u(ie.addr),Ye={host:pe[0],port:pe[1]};ie.conn=this.client.utp&&"utpOutgoing"===ie.type?it.connect(Ye.port,Ye.host):t.connect(Ye);const ct=ie.conn;ct.once("connect",()=>{ie.onConnect()}),ct.once("error",gt=>{ie.destroy(gt)}),ie.startConnectTimeout(),ct.on("close",()=>{if(!this.destroyed){if(ie.retries>=vt.length){if(this.client.utp){const Zt=this._addPeer(ie.addr,"tcp");Zt&&(Zt.retries=0)}else this._debug("conn %s closed: will not re-add (max %s attempts)",ie.addr,vt.length);return}const gt=vt[ie.retries];this._debug("conn %s closed: will re-add to queue in %sms (attempt %s)",ie.addr,gt,ie.retries+1);const $t=setTimeout(()=>{if(!this.destroyed){const Zt=u(ie.addr)[0],rn=this.client.utp&&this._isIPv4(Zt)?"utp":"tcp",kn=this._addPeer(ie.addr,rn);kn&&(kn.retries=ie.retries+1)}},gt);$t.unref&&$t.unref()}})}_validAddr(ie){let pe;try{pe=u(ie)}catch(gt){return!1}const ct=pe[1];return 0<ct&&65535>ct&&("127.0.0.1"!==pe[0]||ct!==this.client.torrentPort)}_isIPv4(ie){return/^((?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])[.]){3}(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/.test(ie)}}}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"../package.json":293,"./file.js":2,"./peer.js":3,"./rarity-map.js":4,"./server.js":41,"./utp.js":41,"./webconn.js":6,_process:205,"addr-to-ip-port":7,bitfield:31,"cache-chunk-store":92,"chunk-store-stream/write":93,cpus:96,debug:105,events:70,fs:41,"fs-chunk-store":173,"immediate-chunk-store":158,lt_donthave:169,"memory-chunk-store":173,multistream:189,net:41,os:41,"parse-torrent":197,path:71,pump:213,"queue-microtask":218,"random-iterate":220,"run-parallel":245,"run-parallel-limit":244,"simple-get":258,"simple-sha1":260,speedometer:267,"torrent-discovery":280,"torrent-piece":281,ut_metadata:287,ut_pex:41}],6:[function(v,L){(function(h){(function(){const{default:g}=v("bitfield"),p=v("debug"),x=v("simple-get"),r=v("lt_donthave"),c=v("simple-sha1"),l=v("bittorrent-protocol"),n=p("webtorrent:webconn"),t=v("../package.json").version;L.exports=class extends l{constructor(i,s){super(),this.url=i,this.connId=i,this.webPeerId=c.sync(i),this._torrent=s,this._init()}_init(){this.setKeepAlive(!0),this.use(r()),this.once("handshake",i=>{if(this.destroyed)return;this.handshake(i,this.webPeerId);const s=this._torrent.pieces.length,u=new g(s);for(let o=0;o<=s;o++)u.set(o,!0);this.bitfield(u)}),this.once("interested",()=>{n("interested"),this.unchoke()}),this.on("uninterested",()=>{n("uninterested")}),this.on("choke",()=>{n("choke")}),this.on("unchoke",()=>{n("unchoke")}),this.on("bitfield",()=>{n("bitfield")}),this.lt_donthave.on("donthave",()=>{n("donthave")}),this.on("request",(i,s,u,o)=>{n("request pieceIndex=%d offset=%d length=%d",i,s,u),this.httpRequest(i,s,u,(d,f)=>{if(d){this.lt_donthave.donthave(i);const E=setTimeout(()=>{this.destroyed||this.have(i)},1e4);E.unref&&E.unref()}o(d,f)})})}httpRequest(i,s,u,o){const f=i*this._torrent.pieceLength+s,E=f+u-1,b=this._torrent.files;let I;if(1>=b.length)I=[{url:this.url,start:f,end:E}];else{const q=b.filter(K=>K.offset<=E&&K.offset+K.length>f);if(1>q.length)return o(new Error("Could not find file corresponding to web seed range request"));I=q.map(K=>{const se=K.offset+K.length-1;return{url:this.url+("/"===this.url[this.url.length-1]?"":"/")+K.path,fileOffsetInRange:ce(K.offset-f,0),start:ce(f-K.offset,0),end:ne(se,E-K.offset)}})}let F,S=0,R=!1;1<I.length&&(F=h.alloc(u)),I.forEach(q=>{function K(P,U){return 200>P.statusCode||300<=P.statusCode?R?void 0:(R=!0,o(new Error(`Unexpected HTTP status code ${P.statusCode}`))):(n("Got data of length %d",U.length),void(1===I.length?o(null,U):(U.copy(F,q.fileOffsetInRange),++S===I.length&&o(null,F))))}const se=q.url,xe=q.start,we=q.end;n("Requesting url=%s pieceIndex=%d offset=%d length=%d start=%d end=%d",se,i,s,u,xe,we);const A={url:se,method:"GET",headers:{"user-agent":`WebTorrent/${t} (https://webtorrent.io)`,range:`bytes=${xe}-${we}`},timeout:6e4};x.concat(A,(P,U,y)=>R?void 0:P?"undefined"==typeof window||se.startsWith(`${window.location.origin}/`)?(R=!0,o(P)):x.head(se,(C,M)=>R?void 0:C?(R=!0,o(C)):200>M.statusCode||300<=M.statusCode?(R=!0,o(new Error(`Unexpected HTTP status code ${M.statusCode}`))):M.url===se?(R=!0,o(P)):(A.url=M.url,void x.concat(A,(O,ee,$)=>R?void 0:O?(R=!0,o(O)):void K(ee,$)))):void K(U,y))})}destroy(){super.destroy(),this._torrent=null}}}).call(this)}).call(this,v("buffer").Buffer)},{"../package.json":293,bitfield:31,"bittorrent-protocol":32,buffer:69,debug:105,lt_donthave:169,"simple-get":258,"simple-sha1":260}],7:[function(v,L){let h=new Map;L.exports=function(g){if(1e5===h.size&&h.clear(),!h.has(g)){const p=/^\[?([^\]]+)]?:(\d+)$/.exec(g);if(!p)throw new Error(`invalid addr: ${g}`);h.set(g,[p[1],+p[2]])}return h.get(g)}},{}],8:[function(v,L,h){"use strict";const g=h;g.bignum=v("bn.js"),g.define=v("./asn1/api").define,g.base=v("./asn1/base"),g.constants=v("./asn1/constants"),g.decoders=v("./asn1/decoders"),g.encoders=v("./asn1/encoders")},{"./asn1/api":9,"./asn1/base":11,"./asn1/constants":15,"./asn1/decoders":17,"./asn1/encoders":20,"bn.js":22}],9:[function(v,L,h){"use strict";function g(c,l){this.name=c,this.body=l,this.decoders={},this.encoders={}}const p=v("./encoders"),x=v("./decoders"),r=v("inherits");h.define=function(c,l){return new g(c,l)},g.prototype._createNamed=function(c){function l(t){this._initNamed(t,n)}const n=this.name;return r(l,c),l.prototype._initNamed=function(t,i){c.call(this,t,i)},new l(this)},g.prototype._getDecoder=function(c){return this.decoders.hasOwnProperty(c=c||"der")||(this.decoders[c]=this._createNamed(x[c])),this.decoders[c]},g.prototype.decode=function(c,l,n){return this._getDecoder(l).decode(c,n)},g.prototype._getEncoder=function(c){return this.encoders.hasOwnProperty(c=c||"der")||(this.encoders[c]=this._createNamed(p[c])),this.encoders[c]},g.prototype.encode=function(c,l,n){return this._getEncoder(l).encode(c,n)}},{"./decoders":17,"./encoders":20,inherits:159}],10:[function(v,L,h){"use strict";function g(l,n){return r.call(this,n),c.isBuffer(l)?(this.base=l,this.offset=0,void(this.length=l.length)):void this.error("Input not Buffer")}function p(l,n){if(Array.isArray(l))this.length=0,this.value=l.map(function(t){return p.isEncoderBuffer(t)||(t=new p(t,n)),this.length+=t.length,t},this);else if("number"==typeof l){if(!(0<=l&&255>=l))return n.error("non-byte EncoderBuffer value");this.value=l,this.length=1}else if("string"==typeof l)this.value=l,this.length=c.byteLength(l);else{if(!c.isBuffer(l))return n.error("Unsupported type: "+typeof l);this.value=l,this.length=l.length}}const x=v("inherits"),r=v("../base/reporter").Reporter,c=v("safer-buffer").Buffer;x(g,r),h.DecoderBuffer=g,g.isDecoderBuffer=function(l){return l instanceof g||"object"==typeof l&&c.isBuffer(l.base)&&"DecoderBuffer"===l.constructor.name&&"number"==typeof l.offset&&"number"==typeof l.length&&"function"==typeof l.save&&"function"==typeof l.restore&&"function"==typeof l.isEmpty&&"function"==typeof l.readUInt8&&"function"==typeof l.skip&&"function"==typeof l.raw},g.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},g.prototype.restore=function(l){const n=new g(this.base);return n.offset=l.offset,n.length=this.offset,this.offset=l.offset,r.prototype.restore.call(this,l.reporter),n},g.prototype.isEmpty=function(){return this.offset===this.length},g.prototype.readUInt8=function(l){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(l||"DecoderBuffer overrun")},g.prototype.skip=function(l,n){if(!(this.offset+l<=this.length))return this.error(n||"DecoderBuffer overrun");const t=new g(this.base);return t._reporterState=this._reporterState,t.offset=this.offset,t.length=this.offset+l,this.offset+=l,t},g.prototype.raw=function(l){return this.base.slice(l?l.offset:this.offset,this.length)},h.EncoderBuffer=p,p.isEncoderBuffer=function(l){return l instanceof p||"object"==typeof l&&"EncoderBuffer"===l.constructor.name&&"number"==typeof l.length&&"function"==typeof l.join},p.prototype.join=function(l,n){return l||(l=c.alloc(this.length)),n||(n=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(t){t.join(l,n),n+=t.length}):("number"==typeof this.value?l[n]=this.value:"string"==typeof this.value?l.write(this.value,n):c.isBuffer(this.value)&&this.value.copy(l,n),n+=this.length)),l}},{"../base/reporter":13,inherits:159,"safer-buffer":248}],11:[function(v,L,h){"use strict";const g=h;g.Reporter=v("./reporter").Reporter,g.DecoderBuffer=v("./buffer").DecoderBuffer,g.EncoderBuffer=v("./buffer").EncoderBuffer,g.Node=v("./node")},{"./buffer":10,"./node":12,"./reporter":13}],12:[function(v,L){"use strict";function h(t,i,s){const u={};this._baseState=u,u.name=s,u.enc=t,u.parent=i||null,u.children=null,u.tag=null,u.args=null,u.reverseArgs=null,u.choice=null,u.optional=!1,u.any=!1,u.obj=!1,u.use=null,u.useDecoder=null,u.key=null,u.default=null,u.explicit=null,u.implicit=null,u.contains=null,u.parent||(u.children=[],this._wrap())}const g=v("../base/reporter").Reporter,p=v("../base/buffer").EncoderBuffer,x=v("../base/buffer").DecoderBuffer,r=v("minimalistic-assert"),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],l=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c);L.exports=h;const n=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const t=this._baseState,i={};n.forEach(function(u){i[u]=t[u]});const s=new this.constructor(i.parent);return s._baseState=i,s},h.prototype._wrap=function(){const t=this._baseState;l.forEach(function(i){this[i]=function(){const s=new this.constructor(this);return t.children.push(s),s[i].apply(s,arguments)}},this)},h.prototype._init=function(t){const i=this._baseState;r(null===i.parent),t.call(this),i.children=i.children.filter(function(s){return s._baseState.parent===this},this),r.equal(i.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(t){const i=this._baseState,s=t.filter(function(u){return u instanceof this.constructor},this);t=t.filter(function(u){return!(u instanceof this.constructor)},this),0!==s.length&&(r(null===i.children),i.children=s,s.forEach(function(u){u._baseState.parent=this},this)),0!==t.length&&(r(null===i.args),i.args=t,i.reverseArgs=t.map(function(u){if("object"!=typeof u||u.constructor!==Object)return u;const o={};return Object.keys(u).forEach(function(d){d==(0|d)&&(d|=0),o[u[d]]=d}),o}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){h.prototype[t]=function(){throw new Error(t+" not implemented for encoding: "+this._baseState.enc)}}),c.forEach(function(t){h.prototype[t]=function(){const i=this._baseState,s=Array.prototype.slice.call(arguments);return r(null===i.tag),i.tag=t,this._useArgs(s),this}}),h.prototype.use=function(t){r(t);const i=this._baseState;return r(null===i.use),i.use=t,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(t){const i=this._baseState;return r(null===i.default),i.default=t,i.optional=!0,this},h.prototype.explicit=function(t){const i=this._baseState;return r(null===i.explicit&&null===i.implicit),i.explicit=t,this},h.prototype.implicit=function(t){const i=this._baseState;return r(null===i.explicit&&null===i.implicit),i.implicit=t,this},h.prototype.obj=function(){const t=this._baseState,i=Array.prototype.slice.call(arguments);return t.obj=!0,0!==i.length&&this._useArgs(i),this},h.prototype.key=function(t){const i=this._baseState;return r(null===i.key),i.key=t,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(t){const i=this._baseState;return r(null===i.choice),i.choice=t,this._useArgs(Object.keys(t).map(function(s){return t[s]})),this},h.prototype.contains=function(t){const i=this._baseState;return r(null===i.use),i.contains=t,this},h.prototype._decode=function(t,i){const s=this._baseState;if(null===s.parent)return t.wrapResult(s.children[0]._decode(t,i));let f,u=s.default,o=!0,d=null;if(null!==s.key&&(d=t.enterKey(s.key)),s.optional){let E=null;if(null===s.explicit?null===s.implicit?null!==s.tag&&(E=s.tag):E=s.implicit:E=s.explicit,null!==E||s.any){if(o=this._peekTag(t,E,s.any),t.isError(o))return o}else{const b=t.save();try{null===s.choice?this._decodeGeneric(s.tag,t,i):this._decodeChoice(t,i),o=!0}catch(I){o=!1}t.restore(b)}}if(s.obj&&o&&(f=t.enterObject()),o){if(null!==s.explicit){const b=this._decodeTag(t,s.explicit);if(t.isError(b))return b;t=b}const E=t.offset;if(null===s.use&&null===s.choice){let b;s.any&&(b=t.save());const I=this._decodeTag(t,null===s.implicit?s.tag:s.implicit,s.any);if(t.isError(I))return I;s.any?u=t.raw(b):t=I}if(i&&i.track&&null!==s.tag&&i.track(t.path(),E,t.length,"tagged"),i&&i.track&&null!==s.tag&&i.track(t.path(),t.offset,t.length,"content"),s.any||(u=null===s.choice?this._decodeGeneric(s.tag,t,i):this._decodeChoice(t,i)),t.isError(u))return u;if(s.any||null!==s.choice||null===s.children||s.children.forEach(function(b){b._decode(t,i)}),s.contains&&("octstr"===s.tag||"bitstr"===s.tag)){const b=new x(u);u=this._getUse(s.contains,t._reporterState.obj)._decode(b,i)}}return s.obj&&o&&(u=t.leaveObject(f)),null===s.key||null===u&&!0!==o?null!==d&&t.exitKey(d):t.leaveKey(d,s.key,u),u},h.prototype._decodeGeneric=function(t,i,s){const u=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(i,t,u.args[0],s):/str$/.test(t)?this._decodeStr(i,t,s):"objid"===t&&u.args?this._decodeObjid(i,u.args[0],u.args[1],s):"objid"===t?this._decodeObjid(i,null,null,s):"gentime"===t||"utctime"===t?this._decodeTime(i,t,s):"null_"===t?this._decodeNull(i,s):"bool"===t?this._decodeBool(i,s):"objDesc"===t?this._decodeStr(i,t,s):"int"===t||"enum"===t?this._decodeInt(i,u.args&&u.args[0],s):null===u.use?i.error("unknown tag: "+t):this._getUse(u.use,i._reporterState.obj)._decode(i,s)},h.prototype._getUse=function(t,i){const s=this._baseState;return s.useDecoder=this._use(t,i),r(null===s.useDecoder._baseState.parent),s.useDecoder=s.useDecoder._baseState.children[0],s.implicit!==s.useDecoder._baseState.implicit&&(s.useDecoder=s.useDecoder.clone(),s.useDecoder._baseState.implicit=s.implicit),s.useDecoder},h.prototype._decodeChoice=function(t,i){const s=this._baseState;let u=null,o=!1;return Object.keys(s.choice).some(function(d){const f=t.save(),E=s.choice[d];try{const b=E._decode(t,i);if(t.isError(b))return!1;u={type:d,value:b},o=!0}catch(b){return t.restore(f),!1}return!0},this),o?u:t.error("Choice not matched")},h.prototype._createEncoderBuffer=function(t){return new p(t,this.reporter)},h.prototype._encode=function(t,i,s){const u=this._baseState;if(null===u.default||u.default!==t){const o=this._encodeValue(t,i,s);return void 0===o||this._skipDefault(o,i,s)?void 0:o}},h.prototype._encodeValue=function(t,i,s){const u=this._baseState;if(null===u.parent)return u.children[0]._encode(t,i||new g);let o=null;if(this.reporter=i,u.optional&&void 0===t){if(null===u.default)return;t=u.default}let d=null,f=!1;if(u.any)o=this._createEncoderBuffer(t);else if(u.choice)o=this._encodeChoice(t,i);else if(u.contains)d=this._getUse(u.contains,s)._encode(t,i),f=!0;else if(u.children)d=u.children.map(function(E){if("null_"===E._baseState.tag)return E._encode(null,i,t);if(null===E._baseState.key)return i.error("Child should have a key");const b=i.enterKey(E._baseState.key);if("object"!=typeof t)return i.error("Child expected, but input is not object");const I=E._encode(t[E._baseState.key],i,t);return i.leaveKey(b),I},this).filter(function(E){return E}),d=this._createEncoderBuffer(d);else if("seqof"===u.tag||"setof"===u.tag){if(!u.args||1!==u.args.length)return i.error("Too many args for : "+u.tag);if(!Array.isArray(t))return i.error("seqof/setof, but data is not Array");const E=this.clone();E._baseState.implicit=null,d=this._createEncoderBuffer(t.map(function(b){return this._getUse(this._baseState.args[0],t)._encode(b,i)},E))}else null===u.use?(d=this._encodePrimitive(u.tag,t),f=!0):o=this._getUse(u.use,s)._encode(t,i);if(!u.any&&null===u.choice){const E=null===u.implicit?u.tag:u.implicit,b=null===u.implicit?"universal":"context";null===E?null===u.use&&i.error("Tag could be omitted only for .use()"):null===u.use&&(o=this._encodeComposite(E,f,b,d))}return null!==u.explicit&&(o=this._encodeComposite(u.explicit,!1,"context",o)),o},h.prototype._encodeChoice=function(t,i){const s=this._baseState,u=s.choice[t.type];return u||r(!1,t.type+" not found in "+JSON.stringify(Object.keys(s.choice))),u._encode(t.value,i)},h.prototype._encodePrimitive=function(t,i){const s=this._baseState;if(/str$/.test(t))return this._encodeStr(i,t);if("objid"===t&&s.args)return this._encodeObjid(i,s.reverseArgs[0],s.args[1]);if("objid"===t)return this._encodeObjid(i,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(i,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(i,s.args&&s.reverseArgs[0]);if("bool"===t)return this._encodeBool(i);if("objDesc"===t)return this._encodeStr(i,t);throw new Error("Unsupported tag: "+t)},h.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},h.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},{"../base/buffer":10,"../base/reporter":13,"minimalistic-assert":180}],13:[function(v,L,h){"use strict";function g(r){this._reporterState={obj:null,path:[],options:r||{},errors:[]}}function p(r,c){this.path=r,this.rethrow(c)}const x=v("inherits");h.Reporter=g,g.prototype.isError=function(r){return r instanceof p},g.prototype.save=function(){const r=this._reporterState;return{obj:r.obj,pathLen:r.path.length}},g.prototype.restore=function(r){const c=this._reporterState;c.obj=r.obj,c.path=c.path.slice(0,r.pathLen)},g.prototype.enterKey=function(r){return this._reporterState.path.push(r)},g.prototype.exitKey=function(r){const c=this._reporterState;c.path=c.path.slice(0,r-1)},g.prototype.leaveKey=function(r,c,l){const n=this._reporterState;this.exitKey(r),null!==n.obj&&(n.obj[c]=l)},g.prototype.path=function(){return this._reporterState.path.join("/")},g.prototype.enterObject=function(){const r=this._reporterState,c=r.obj;return r.obj={},c},g.prototype.leaveObject=function(r){const c=this._reporterState,l=c.obj;return c.obj=r,l},g.prototype.error=function(r){let c;const l=this._reporterState,n=r instanceof p;if(c=n?r:new p(l.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),r.message||r,r.stack),!l.options.partial)throw c;return n||l.errors.push(c),c},g.prototype.wrapResult=function(r){const c=this._reporterState;return c.options.partial?{result:this.isError(r)?null:r,errors:c.errors}:r},x(p,Error),p.prototype.rethrow=function(r){if(this.message=r+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,p),!this.stack)try{throw new Error(this.message)}catch(c){this.stack=c.stack}return this}},{inherits:159}],14:[function(v,L,h){"use strict";function g(p){const x={};return Object.keys(p).forEach(function(r){(0|r)==r&&(r|=0),x[p[r]]=r}),x}h.tagClass={0:"universal",1:"application",2:"context",3:"private"},h.tagClassByName=g(h.tagClass),h.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},h.tagByName=g(h.tag)},{}],15:[function(v,L,h){"use strict";const g=h;g._reverse=function(p){const x={};return Object.keys(p).forEach(function(r){(0|r)==r&&(r|=0),x[p[r]]=r}),x},g.der=v("./der")},{"./der":14}],16:[function(v,L){"use strict";function h(i){this.enc="der",this.name=i.name,this.entity=i,this.tree=new g,this.tree._init(i.body)}function g(i){n.call(this,"der",i)}function p(i,s){let u=i.readUInt8(s);if(i.isError(u))return u;const o=t.tagClass[u>>6],d=0==(32&u);if(31==(31&u)){let E=u;for(u=0;128==(128&E);){if(E=i.readUInt8(s),i.isError(E))return E;u<<=7,u|=127&E}}else u&=31;return{cls:o,primitive:d,tag:u,tagStr:t.tag[u]}}function x(i,s,u){let o=i.readUInt8(u);if(i.isError(o))return o;if(!s&&128===o)return null;if(0==(128&o))return o;const d=127&o;if(4<d)return i.error("length octect is too long");o=0;for(let f=0;f<d;f++){o<<=8;const E=i.readUInt8(u);if(i.isError(E))return E;o|=E}return o}const r=v("inherits"),c=v("bn.js"),l=v("../base/buffer").DecoderBuffer,n=v("../base/node"),t=v("../constants/der");L.exports=h,h.prototype.decode=function(i,s){return l.isDecoderBuffer(i)||(i=new l(i,s)),this.tree._decode(i,s)},r(g,n),g.prototype._peekTag=function(i,s,u){if(i.isEmpty())return!1;const o=i.save(),d=p(i,'Failed to peek tag: "'+s+'"');return i.isError(d)?d:(i.restore(o),d.tag===s||d.tagStr===s||d.tagStr+"of"===s||u)},g.prototype._decodeTag=function(i,s,u){const o=p(i,'Failed to decode tag of "'+s+'"');if(i.isError(o))return o;let d=x(i,o.primitive,'Failed to get length of "'+s+'"');if(i.isError(d))return d;if(!u&&o.tag!==s&&o.tagStr!==s&&o.tagStr+"of"!==s)return i.error('Failed to match tag: "'+s+'"');if(o.primitive||null!==d)return i.skip(d,'Failed to match body of: "'+s+'"');const f=i.save(),E=this._skipUntilEnd(i,'Failed to skip indefinite length body: "'+this.tag+'"');return i.isError(E)?E:(d=i.offset-f.offset,i.restore(f),i.skip(d,'Failed to match body of: "'+s+'"'))},g.prototype._skipUntilEnd=function(i,s){for(;;){const u=p(i,s);if(i.isError(u))return u;const o=x(i,u.primitive,s);if(i.isError(o))return o;let d;if(d=u.primitive||null!==o?i.skip(o):this._skipUntilEnd(i,s),i.isError(d))return d;if("end"===u.tagStr)break}},g.prototype._decodeList=function(i,s,u,o){const d=[];for(;!i.isEmpty();){const f=this._peekTag(i,"end");if(i.isError(f))return f;const E=u.decode(i,"der",o);if(i.isError(E)&&f)break;d.push(E)}return d},g.prototype._decodeStr=function(i,s){if("bitstr"===s){const u=i.readUInt8();return i.isError(u)?u:{unused:u,data:i.raw()}}if("bmpstr"===s){const u=i.raw();if(u.length%2==1)return i.error("Decoding of string type: bmpstr length mismatch");let o="";for(let d=0;d<u.length/2;d++)o+=Z(u.readUInt16BE(2*d));return o}if("numstr"===s){const u=i.raw().toString("ascii");return this._isNumstr(u)?u:i.error("Decoding of string type: numstr unsupported characters")}if("octstr"===s||"objDesc"===s)return i.raw();if("printstr"===s){const u=i.raw().toString("ascii");return this._isPrintstr(u)?u:i.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(s)?i.raw().toString():i.error("Decoding of string type: "+s+" unsupported")},g.prototype._decodeObjid=function(i,s,u){let o;const d=[];let f=0,E=0;for(;!i.isEmpty();)E=i.readUInt8(),f<<=7,f|=127&E,0==(128&E)&&(d.push(f),f=0);if(128&E&&d.push(f),o=u?d:[0|d[0]/40,d[0]%40].concat(d.slice(1)),s){let S=s[o.join(" ")];void 0===S&&(S=s[o.join(".")]),void 0!==S&&(o=S)}return o},g.prototype._decodeTime=function(i,s){const u=i.raw().toString();let o,d,f,E,b,I;if("gentime"===s)o=0|u.slice(0,4),d=0|u.slice(4,6),f=0|u.slice(6,8),E=0|u.slice(8,10),b=0|u.slice(10,12),I=0|u.slice(12,14);else{if("utctime"!==s)return i.error("Decoding "+s+" time is not supported yet");o=0|u.slice(0,2),d=0|u.slice(2,4),f=0|u.slice(4,6),E=0|u.slice(6,8),b=0|u.slice(8,10),I=0|u.slice(10,12),o=70>o?2e3+o:1900+o}return Date.UTC(o,d-1,f,E,b,I,0)},g.prototype._decodeNull=function(){return null},g.prototype._decodeBool=function(i){const s=i.readUInt8();return i.isError(s)?s:0!==s},g.prototype._decodeInt=function(i,s){const u=i.raw();let o=new c(u);return s&&(o=s[o.toString(10)]||o),o},g.prototype._use=function(i,s){return"function"==typeof i&&(i=i(s)),i._getDecoder("der").tree}},{"../base/buffer":10,"../base/node":12,"../constants/der":14,"bn.js":22,inherits:159}],17:[function(v,L,h){"use strict";const g=h;g.der=v("./der"),g.pem=v("./pem")},{"./der":16,"./pem":18}],18:[function(v,L){"use strict";function h(r){x.call(this,r),this.enc="pem"}const g=v("inherits"),p=v("safer-buffer").Buffer,x=v("./der");g(h,x),L.exports=h,h.prototype.decode=function(r,c){const l=r.toString().split(/[\r\n]+/g),n=c.label.toUpperCase();let t=-1,i=-1;for(let o=0;o<l.length;o++){const d=l[o].match(/^-----(BEGIN|END) ([^-]+)-----$/);if(null!==d&&d[2]===n){if(-1!==t){if("END"!==d[1])break;i=o;break}if("BEGIN"!==d[1])break;t=o}}if(-1===t||-1===i)throw new Error("PEM section not found for: "+n);const s=l.slice(t+1,i).join("");s.replace(/[^a-z0-9+/=]+/gi,"");const u=p.from(s,"base64");return x.prototype.decode.call(this,u,c)}},{"./der":16,inherits:159,"safer-buffer":248}],19:[function(v,L){"use strict";function h(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new g,this.tree._init(t.body)}function g(t){l.call(this,"der",t)}function p(t){return 10>t?"0"+t:t}const r=v("inherits"),c=v("safer-buffer").Buffer,l=v("../base/node"),n=v("../constants/der");L.exports=h,h.prototype.encode=function(t,i){return this.tree._encode(t,i).join()},r(g,l),g.prototype._encodeComposite=function(t,i,s,u){const o=function x(t,i,s,u){let o;if("seqof"===t?t="seq":"setof"==t&&(t="set"),n.tagByName.hasOwnProperty(t))o=n.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return u.error("Unknown tag: "+t);o=t}return 31<=o?u.error("Multi-octet tag encoding unsupported"):(i||(o|=32),o|=n.tagClassByName[s||"universal"]<<6,o)}(t,i,s,this.reporter);if(128>u.length){const E=c.alloc(2);return E[0]=o,E[1]=u.length,this._createEncoderBuffer([E,u])}let d=1;for(let E=u.length;256<=E;E>>=8)d++;const f=c.alloc(2+d);f[0]=o,f[1]=128|d;for(let E=1+d,b=u.length;0<b;E--,b>>=8)f[E]=255&b;return this._createEncoderBuffer([f,u])},g.prototype._encodeStr=function(t,i){if("bitstr"===i)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===i){const s=c.alloc(2*t.length);for(let u=0;u<t.length;u++)s.writeUInt16BE(t.charCodeAt(u),2*u);return this._createEncoderBuffer(s)}return"numstr"===i?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===i?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(i)||"objDesc"===i?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+i+" unsupported")},g.prototype._encodeObjid=function(t,i,s){if("string"==typeof t){if(!i)return this.reporter.error("string objid given, but no values map found");if(!i.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=i[t].split(/[\s.]+/g);for(let f=0;f<t.length;f++)t[f]|=0}else if(Array.isArray(t)){t=t.slice();for(let f=0;f<t.length;f++)t[f]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!s){if(40<=t[1])return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let u=0;for(let E,f=0;f<t.length;f++)for(E=t[f],u++;128<=E;E>>=7)u++;const o=c.alloc(u);let d=o.length-1;for(let E,f=t.length-1;0<=f;f--)for(E=t[f],o[d--]=127&E;0<(E>>=7);)o[d--]=128|127&E;return this._createEncoderBuffer(o)},g.prototype._encodeTime=function(t,i){let s;const u=new Date(t);return"gentime"===i?s=[p(u.getUTCFullYear()),p(u.getUTCMonth()+1),p(u.getUTCDate()),p(u.getUTCHours()),p(u.getUTCMinutes()),p(u.getUTCSeconds()),"Z"].join(""):"utctime"===i?s=[p(u.getUTCFullYear()%100),p(u.getUTCMonth()+1),p(u.getUTCDate()),p(u.getUTCHours()),p(u.getUTCMinutes()),p(u.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+i+" time is not supported yet"),this._encodeStr(s,"octstr")},g.prototype._encodeNull=function(){return this._createEncoderBuffer("")},g.prototype._encodeInt=function(t,i){if("string"==typeof t){if(!i)return this.reporter.error("String int or enum given, but no values map");if(!i.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=i[t]}if("number"!=typeof t&&!c.isBuffer(t)){const o=t.toArray();!t.sign&&128&o[0]&&o.unshift(0),t=c.from(o)}if(c.isBuffer(t)){let o=t.length;0===t.length&&o++;const d=c.alloc(o);return t.copy(d),0===t.length&&(d[0]=0),this._createEncoderBuffer(d)}if(128>t)return this._createEncoderBuffer(t);if(256>t)return this._createEncoderBuffer([0,t]);let s=1;for(let o=t;256<=o;o>>=8)s++;const u=Array(s);for(let o=u.length-1;0<=o;o--)u[o]=255&t,t>>=8;return 128&u[0]&&u.unshift(0),this._createEncoderBuffer(c.from(u))},g.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},g.prototype._use=function(t,i){return"function"==typeof t&&(t=t(i)),t._getEncoder("der").tree},g.prototype._skipDefault=function(t,i,s){const u=this._baseState;let o;if(null===u.default)return!1;const d=t.join();if(void 0===u.defaultBuffer&&(u.defaultBuffer=this._encodeValue(u.default,i,s).join()),d.length!==u.defaultBuffer.length)return!1;for(o=0;o<d.length;o++)if(d[o]!==u.defaultBuffer[o])return!1;return!0}},{"../base/node":12,"../constants/der":14,inherits:159,"safer-buffer":248}],20:[function(v,L,h){"use strict";const g=h;g.der=v("./der"),g.pem=v("./pem")},{"./der":19,"./pem":21}],21:[function(v,L){"use strict";function h(x){p.call(this,x),this.enc="pem"}const g=v("inherits"),p=v("./der");g(h,p),L.exports=h,h.prototype.encode=function(x,r){const l=p.prototype.encode.call(this,x).toString("base64"),n=["-----BEGIN "+r.label+"-----"];for(let t=0;t<l.length;t+=64)n.push(l.slice(t,t+64));return n.push("-----END "+r.label+"-----"),n.join("\n")}},{"./der":19,inherits:159}],22:[function(v,L){!function(h,g){"use strict";function p(A,P){if(!A)throw new Error(P||"Assertion failed")}function x(A,P){A.super_=P;var U=function(){};U.prototype=P.prototype,A.prototype=new U,A.prototype.constructor=A}function r(A,P,U){return r.isBN(A)?A:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==A&&(("le"===P||"be"===P)&&(U=P,P=10),this._init(A||0,P||10,U||"be"))))}function c(A,P){var U=A.charCodeAt(P);return 65<=U&&70>=U?U-55:97<=U&&102>=U?U-87:15&U-48}function l(A,P,U){var y=c(A,U);return U-1>=P&&(y|=c(A,U-1)<<4),y}function n(A,P,U,y){for(var ee,C=0,M=ne(A.length,U),O=P;O<M;O++)C*=y,C+=49<=(ee=A.charCodeAt(O)-48)?ee-49+10:17<=ee?ee-17+10:ee;return C}function i(A,P,U){U.negative=P.negative^A.negative;var y=0|A.length+P.length;U.length=y,y=0|y-1;var C=0|A.words[0],M=0|P.words[0],O=C*M,$=0|O/67108864;U.words[0]=67108863&O;for(var ae=1;ae<y;ae++){for(var Fe=$>>>26,He=67108863&$,Ve=ne(ae,P.length-1),it=ce(0,ae-A.length+1);it<=Ve;it++)Fe+=0|(O=(C=0|A.words[0|ae-it])*(M=0|P.words[it])+He)/67108864,He=67108863&O;U.words[ae]=0|He,$=0|Fe}return 0===$?U.length--:U.words[ae]=0|$,U.strip()}function u(A,P,U){return(new o).mulp(A,P,U)}function o(A,P){this.x=A,this.y=P}function d(A,P){this.name=A,this.p=new r(P,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function f(){d.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){d.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){d.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){d.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(A){if("string"==typeof A){var P=r._prime(A);this.m=P.p,this.prime=P}else p(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function R(A){S.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}var F;"object"==typeof h?h.exports=r:g.BN=r,r.BN=r,r.wordSize=26;try{F="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:v("buffer").Buffer}catch(A){}r.isBN=function(A){return A instanceof r||null!==A&&"object"==typeof A&&A.constructor.wordSize===r.wordSize&&Array.isArray(A.words)},r.max=function(A,P){return 0<A.cmp(P)?A:P},r.min=function(A,P){return 0>A.cmp(P)?A:P},r.prototype._init=function(A,P,U){if("number"==typeof A)return this._initNumber(A,P,U);if("object"==typeof A)return this._initArray(A,P,U);"hex"===P&&(P=16),p(P===(0|P)&&2<=P&&36>=P);var y=0;"-"===(A=A.toString().replace(/\s+/g,""))[0]&&(y++,this.negative=1),y<A.length&&(16===P?this._parseHex(A,y,U):(this._parseBase(A,P,y),"le"===U&&this._initArray(this.toArray(),P,U)))},r.prototype._initNumber=function(A,P,U){0>A&&(this.negative=1,A=-A),67108864>A?(this.words=[67108863&A],this.length=1):4503599627370496>A?(this.words=[67108863&A,67108863&A/67108864],this.length=2):(p(9007199254740992>A),this.words=[67108863&A,67108863&A/67108864,1],this.length=3),"le"!==U||this._initArray(this.toArray(),P,U)},r.prototype._initArray=function(A,P,U){if(p("number"==typeof A.length),0>=A.length)return this.words=[0],this.length=1,this;this.length=de(A.length/3),this.words=Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var M,O,C=0;if("be"===U)for(y=A.length-1,M=0;0<=y;y-=3)this.words[M]|=67108863&(O=A[y]|A[y-1]<<8|A[y-2]<<16)<<C,this.words[M+1]=67108863&O>>>26-C,26<=(C+=24)&&(C-=26,M++);else if("le"===U)for(y=0,M=0;y<A.length;y+=3)this.words[M]|=67108863&(O=A[y]|A[y+1]<<8|A[y+2]<<16)<<C,this.words[M+1]=67108863&O>>>26-C,26<=(C+=24)&&(C-=26,M++);return this.strip()},r.prototype._parseHex=function(A,P,U){this.length=de((A.length-P)/6),this.words=Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var O,C=0,M=0;if("be"===U)for(y=A.length-1;y>=P;y-=2)O=l(A,P,y)<<C,this.words[M]|=67108863&O,18<=C?(C-=18,this.words[M+=1]|=O>>>26):C+=8;else for(y=(A.length-P)%2==0?P+1:P;y<A.length;y+=2)O=l(A,P,y)<<C,this.words[M]|=67108863&O,18<=C?(C-=18,this.words[M+=1]|=O>>>26):C+=8;this.strip()},r.prototype._parseBase=function(A,P,U){this.words=[0],this.length=1;for(var y=0,C=1;67108863>=C;C*=P)y++;y--,C=0|C/P;for(var M=A.length-U,O=M%y,ee=ne(M,M-O)+U,$=0,ae=U;ae<ee;ae+=y)$=n(A,ae,ae+y,P),this.imuln(C),67108864>this.words[0]+$?this.words[0]+=$:this._iaddn($);if(0!==O){var Fe=1;for($=n(A,ae,A.length,P),ae=0;ae<O;ae++)Fe*=P;this.imuln(Fe),67108864>this.words[0]+$?this.words[0]+=$:this._iaddn($)}this.strip()},r.prototype.copy=function(A){A.words=Array(this.length);for(var P=0;P<this.length;P++)A.words[P]=this.words[P];A.length=this.length,A.negative=this.negative,A.red=this.red},r.prototype.clone=function(){var A=new r(null);return this.copy(A),A},r.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var q=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],K=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],se=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];r.prototype.toString=function(A,P){var U;if(P=0|P||1,16===(A=A||10)||"hex"===A){U="";for(var y=0,C=0,M=0;M<this.length;M++){var O=this.words[M],ee=(16777215&(O<<y|C)).toString(16);U=0!=(C=16777215&O>>>24-y)||M!==this.length-1?q[6-ee.length]+ee+U:ee+U,26<=(y+=2)&&(y-=26,M--)}for(0!==C&&(U=C.toString(16)+U);U.length%P!=0;)U="0"+U;return 0!==this.negative&&(U="-"+U),U}if(A===(0|A)&&2<=A&&36>=A){var $=K[A],ae=se[A];U="";var Fe=this.clone();for(Fe.negative=0;!Fe.isZero();){var He=Fe.modn(ae).toString(A);U=(Fe=Fe.idivn(ae)).isZero()?He+U:q[$-He.length]+He+U}for(this.isZero()&&(U="0"+U);U.length%P!=0;)U="0"+U;return 0!==this.negative&&(U="-"+U),U}p(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var A=this.words[0];return 2===this.length?A+=67108864*this.words[1]:3===this.length&&1===this.words[2]?A+=4503599627370496+67108864*this.words[1]:2<this.length&&p(!1,"Number can only safely store up to 53 bits"),0===this.negative?A:-A},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(A,P){return p(void 0!==F),this.toArrayLike(F,A,P)},r.prototype.toArray=function(A,P){return this.toArrayLike(Array,A,P)},r.prototype.toArrayLike=function(A,P,U){var y=this.byteLength(),C=U||ce(1,y);p(y<=C,"byte array longer than desired length"),p(0<C,"Requested array length <= 0"),this.strip();var ee,$,M=new A(C),O=this.clone();if("le"!==P){for($=0;$<C-y;$++)M[$]=0;for($=0;!O.isZero();$++)ee=O.andln(255),O.iushrn(8),M[C-$-1]=ee}else{for($=0;!O.isZero();$++)ee=O.andln(255),O.iushrn(8),M[$]=ee;for(;$<C;$++)M[$]=0}return M},r.prototype._countBits=Q?function(A){return 32-Q(A)}:function(A){var P=A,U=0;return 4096<=P&&(U+=13,P>>>=13),64<=P&&(U+=7,P>>>=7),8<=P&&(U+=4,P>>>=4),2<=P&&(U+=2,P>>>=2),U+P},r.prototype._zeroBits=function(A){if(0===A)return 26;var P=A,U=0;return 0==(8191&P)&&(U+=13,P>>>=13),0==(127&P)&&(U+=7,P>>>=7),0==(15&P)&&(U+=4,P>>>=4),0==(3&P)&&(U+=2,P>>>=2),0==(1&P)&&U++,U},r.prototype.bitLength=function(){var P=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+P},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var U,A=0,P=0;P<this.length&&(A+=U=this._zeroBits(this.words[P]),26===U);P++);return A},r.prototype.byteLength=function(){return de(this.bitLength()/8)},r.prototype.toTwos=function(A){return 0===this.negative?this.clone():this.abs().inotn(A).iaddn(1)},r.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var P=0;P<A.length;P++)this.words[P]|=A.words[P];return this.strip()},r.prototype.ior=function(A){return p(0==(this.negative|A.negative)),this.iuor(A)},r.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},r.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},r.prototype.iuand=function(A){for(var P=this.length>A.length?A:this,U=0;U<P.length;U++)this.words[U]&=A.words[U];return this.length=P.length,this.strip()},r.prototype.iand=function(A){return p(0==(this.negative|A.negative)),this.iuand(A)},r.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},r.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},r.prototype.iuxor=function(A){var P,U;this.length>A.length?(P=this,U=A):(P=A,U=this);for(var y=0;y<U.length;y++)this.words[y]=P.words[y]^U.words[y];if(this!==P)for(;y<P.length;y++)this.words[y]=P.words[y];return this.length=P.length,this.strip()},r.prototype.ixor=function(A){return p(0==(this.negative|A.negative)),this.iuxor(A)},r.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},r.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},r.prototype.inotn=function(A){p("number"==typeof A&&0<=A);var P=0|de(A/26),U=A%26;this._expand(P),0<U&&P--;for(var y=0;y<P;y++)this.words[y]=67108863&~this.words[y];return 0<U&&(this.words[y]=~this.words[y]&67108863>>26-U),this.strip()},r.prototype.notn=function(A){return this.clone().inotn(A)},r.prototype.setn=function(A,P){p("number"==typeof A&&0<=A);var U=0|A/26,y=A%26;return this._expand(U+1),P?this.words[U]|=1<<y:this.words[U]&=~(1<<y),this.strip()},r.prototype.iadd=function(A){var P,U,y;if(0!==this.negative&&0===A.negative)return this.negative=0,P=this.isub(A),this.negative^=1,this._normSign();if(0===this.negative&&0!==A.negative)return A.negative=0,P=this.isub(A),A.negative=1,P._normSign();this.length>A.length?(U=this,y=A):(U=A,y=this);for(var C=0,M=0;M<y.length;M++)this.words[M]=67108863&(P=(0|U.words[M])+(0|y.words[M])+C),C=P>>>26;for(;0!==C&&M<U.length;M++)this.words[M]=67108863&(P=(0|U.words[M])+C),C=P>>>26;if(this.length=U.length,0!==C)this.words[this.length]=C,this.length++;else if(U!==this)for(;M<U.length;M++)this.words[M]=U.words[M];return this},r.prototype.add=function(A){var P;return 0!==A.negative&&0===this.negative?(A.negative=0,P=this.sub(A),A.negative^=1,P):0===A.negative&&0!==this.negative?(this.negative=0,P=A.sub(this),this.negative=1,P):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},r.prototype.isub=function(A){if(0!==A.negative){A.negative=0;var P=this.iadd(A);return A.negative=1,P._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var y,C,U=this.cmp(A);if(0===U)return this.negative=0,this.length=1,this.words[0]=0,this;0<U?(y=this,C=A):(y=A,C=this);for(var M=0,O=0;O<C.length;O++)M=(P=(0|y.words[O])-(0|C.words[O])+M)>>26,this.words[O]=67108863&P;for(;0!==M&&O<y.length;O++)M=(P=(0|y.words[O])+M)>>26,this.words[O]=67108863&P;if(0===M&&O<y.length&&y!==this)for(;O<y.length;O++)this.words[O]=y.words[O];return this.length=ce(this.length,O),y!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(A){return this.clone().isub(A)};var xe=function(A,P,U){var rt,le,nt,y=A.words,C=P.words,M=U.words,O=0,ee=0|y[0],$=8191&ee,ae=ee>>>13,Fe=0|y[1],He=8191&Fe,Ve=Fe>>>13,it=0|y[2],at=8191&it,qt=it>>>13,Ct=0|y[3],Ht=8191&Ct,Ge=Ct>>>13,dt=0|y[4],vt=8191&dt,G=dt>>>13,ue=0|y[5],Y=8191&ue,oe=ue>>>13,et=0|y[6],ie=8191&et,pe=et>>>13,Ye=0|y[7],ct=8191&Ye,gt=Ye>>>13,$t=0|y[8],Zt=8191&$t,rn=$t>>>13,kn=0|y[9],an=8191&kn,xn=kn>>>13,$n=0|C[0],Cn=8191&$n,On=$n>>>13,Sr=0|C[1],jt=8191&Sr,Kn=Sr>>>13,ge=0|C[2],Le=8191&ge,je=ge>>>13,Je=0|C[3],Qe=8191&Je,ht=Je>>>13,sn=0|C[4],Ot=8191&sn,Vt=sn>>>13,tn=0|C[5],wn=8191&tn,on=tn>>>13,Dt=0|C[6],ke=8191&Dt,Gt=Dt>>>13,Nn=0|C[7],dn=8191&Nn,Pn=Nn>>>13,Dn=0|C[8],jn=8191&Dn,Un=Dn>>>13,Yn=0|C[9],Wn=8191&Yn,Gn=Yn>>>13;U.negative=A.negative^P.negative,U.length=19;var ot=0|(0|O+(rt=_($,Cn)))+((8191&(le=0|(le=_($,On))+_(ae,Cn)))<<13);O=0|(0|(nt=_(ae,On))+(le>>>13))+(ot>>>26),ot&=67108863,rt=_(He,Cn),le=0|(le=_(He,On))+_(Ve,Cn),nt=_(Ve,On);var ye=0|(0|O+(rt=0|rt+_($,jt)))+((8191&(le=0|(le=0|le+_($,Kn))+_(ae,jt)))<<13);O=0|(0|(nt=0|nt+_(ae,Kn))+(le>>>13))+(ye>>>26),ye&=67108863,rt=_(at,Cn),le=0|(le=_(at,On))+_(qt,Cn),nt=_(qt,On),rt=0|rt+_(He,jt),le=0|(le=0|le+_(He,Kn))+_(Ve,jt),nt=0|nt+_(Ve,Kn);var ut=0|(0|O+(rt=0|rt+_($,Le)))+((8191&(le=0|(le=0|le+_($,je))+_(ae,Le)))<<13);O=0|(0|(nt=0|nt+_(ae,je))+(le>>>13))+(ut>>>26),ut&=67108863,rt=_(Ht,Cn),le=0|(le=_(Ht,On))+_(Ge,Cn),nt=_(Ge,On),rt=0|rt+_(at,jt),le=0|(le=0|le+_(at,Kn))+_(qt,jt),nt=0|nt+_(qt,Kn),rt=0|rt+_(He,Le),le=0|(le=0|le+_(He,je))+_(Ve,Le),nt=0|nt+_(Ve,je);var Qr=0|(0|O+(rt=0|rt+_($,Qe)))+((8191&(le=0|(le=0|le+_($,ht))+_(ae,Qe)))<<13);O=0|(0|(nt=0|nt+_(ae,ht))+(le>>>13))+(Qr>>>26),Qr&=67108863,rt=_(vt,Cn),le=0|(le=_(vt,On))+_(G,Cn),nt=_(G,On),rt=0|rt+_(Ht,jt),le=0|(le=0|le+_(Ht,Kn))+_(Ge,jt),nt=0|nt+_(Ge,Kn),rt=0|rt+_(at,Le),le=0|(le=0|le+_(at,je))+_(qt,Le),nt=0|nt+_(qt,je),rt=0|rt+_(He,Qe),le=0|(le=0|le+_(He,ht))+_(Ve,Qe),nt=0|nt+_(Ve,ht);var Ri=0|(0|O+(rt=0|rt+_($,Ot)))+((8191&(le=0|(le=0|le+_($,Vt))+_(ae,Ot)))<<13);O=0|(0|(nt=0|nt+_(ae,Vt))+(le>>>13))+(Ri>>>26),Ri&=67108863,rt=_(Y,Cn),le=0|(le=_(Y,On))+_(oe,Cn),nt=_(oe,On),rt=0|rt+_(vt,jt),le=0|(le=0|le+_(vt,Kn))+_(G,jt),nt=0|nt+_(G,Kn),rt=0|rt+_(Ht,Le),le=0|(le=0|le+_(Ht,je))+_(Ge,Le),nt=0|nt+_(Ge,je),rt=0|rt+_(at,Qe),le=0|(le=0|le+_(at,ht))+_(qt,Qe),nt=0|nt+_(qt,ht),rt=0|rt+_(He,Ot),le=0|(le=0|le+_(He,Vt))+_(Ve,Ot),nt=0|nt+_(Ve,Vt);var jr=0|(0|O+(rt=0|rt+_($,wn)))+((8191&(le=0|(le=0|le+_($,on))+_(ae,wn)))<<13);O=0|(0|(nt=0|nt+_(ae,on))+(le>>>13))+(jr>>>26),jr&=67108863,rt=_(ie,Cn),le=0|(le=_(ie,On))+_(pe,Cn),nt=_(pe,On),rt=0|rt+_(Y,jt),le=0|(le=0|le+_(Y,Kn))+_(oe,jt),nt=0|nt+_(oe,Kn),rt=0|rt+_(vt,Le),le=0|(le=0|le+_(vt,je))+_(G,Le),nt=0|nt+_(G,je),rt=0|rt+_(Ht,Qe),le=0|(le=0|le+_(Ht,ht))+_(Ge,Qe),nt=0|nt+_(Ge,ht),rt=0|rt+_(at,Ot),le=0|(le=0|le+_(at,Vt))+_(qt,Ot),nt=0|nt+_(qt,Vt),rt=0|rt+_(He,wn),le=0|(le=0|le+_(He,on))+_(Ve,wn),nt=0|nt+_(Ve,on);var ci=0|(0|O+(rt=0|rt+_($,ke)))+((8191&(le=0|(le=0|le+_($,Gt))+_(ae,ke)))<<13);O=0|(0|(nt=0|nt+_(ae,Gt))+(le>>>13))+(ci>>>26),ci&=67108863,rt=_(ct,Cn),le=0|(le=_(ct,On))+_(gt,Cn),nt=_(gt,On),rt=0|rt+_(ie,jt),le=0|(le=0|le+_(ie,Kn))+_(pe,jt),nt=0|nt+_(pe,Kn),rt=0|rt+_(Y,Le),le=0|(le=0|le+_(Y,je))+_(oe,Le),nt=0|nt+_(oe,je),rt=0|rt+_(vt,Qe),le=0|(le=0|le+_(vt,ht))+_(G,Qe),nt=0|nt+_(G,ht),rt=0|rt+_(Ht,Ot),le=0|(le=0|le+_(Ht,Vt))+_(Ge,Ot),nt=0|nt+_(Ge,Vt),rt=0|rt+_(at,wn),le=0|(le=0|le+_(at,on))+_(qt,wn),nt=0|nt+_(qt,on),rt=0|rt+_(He,ke),le=0|(le=0|le+_(He,Gt))+_(Ve,ke),nt=0|nt+_(Ve,Gt);var ri=0|(0|O+(rt=0|rt+_($,dn)))+((8191&(le=0|(le=0|le+_($,Pn))+_(ae,dn)))<<13);O=0|(0|(nt=0|nt+_(ae,Pn))+(le>>>13))+(ri>>>26),ri&=67108863,rt=_(Zt,Cn),le=0|(le=_(Zt,On))+_(rn,Cn),nt=_(rn,On),rt=0|rt+_(ct,jt),le=0|(le=0|le+_(ct,Kn))+_(gt,jt),nt=0|nt+_(gt,Kn),rt=0|rt+_(ie,Le),le=0|(le=0|le+_(ie,je))+_(pe,Le),nt=0|nt+_(pe,je),rt=0|rt+_(Y,Qe),le=0|(le=0|le+_(Y,ht))+_(oe,Qe),nt=0|nt+_(oe,ht),rt=0|rt+_(vt,Ot),le=0|(le=0|le+_(vt,Vt))+_(G,Ot),nt=0|nt+_(G,Vt),rt=0|rt+_(Ht,wn),le=0|(le=0|le+_(Ht,on))+_(Ge,wn),nt=0|nt+_(Ge,on),rt=0|rt+_(at,ke),le=0|(le=0|le+_(at,Gt))+_(qt,ke),nt=0|nt+_(qt,Gt),rt=0|rt+_(He,dn),le=0|(le=0|le+_(He,Pn))+_(Ve,dn),nt=0|nt+_(Ve,Pn);var ur=0|(0|O+(rt=0|rt+_($,jn)))+((8191&(le=0|(le=0|le+_($,Un))+_(ae,jn)))<<13);O=0|(0|(nt=0|nt+_(ae,Un))+(le>>>13))+(ur>>>26),ur&=67108863,rt=_(an,Cn),le=0|(le=_(an,On))+_(xn,Cn),nt=_(xn,On),rt=0|rt+_(Zt,jt),le=0|(le=0|le+_(Zt,Kn))+_(rn,jt),nt=0|nt+_(rn,Kn),rt=0|rt+_(ct,Le),le=0|(le=0|le+_(ct,je))+_(gt,Le),nt=0|nt+_(gt,je),rt=0|rt+_(ie,Qe),le=0|(le=0|le+_(ie,ht))+_(pe,Qe),nt=0|nt+_(pe,ht),rt=0|rt+_(Y,Ot),le=0|(le=0|le+_(Y,Vt))+_(oe,Ot),nt=0|nt+_(oe,Vt),rt=0|rt+_(vt,wn),le=0|(le=0|le+_(vt,on))+_(G,wn),nt=0|nt+_(G,on),rt=0|rt+_(Ht,ke),le=0|(le=0|le+_(Ht,Gt))+_(Ge,ke),nt=0|nt+_(Ge,Gt),rt=0|rt+_(at,dn),le=0|(le=0|le+_(at,Pn))+_(qt,dn),nt=0|nt+_(qt,Pn),rt=0|rt+_(He,jn),le=0|(le=0|le+_(He,Un))+_(Ve,jn),nt=0|nt+_(Ve,Un);var yi=0|(0|O+(rt=0|rt+_($,Wn)))+((8191&(le=0|(le=0|le+_($,Gn))+_(ae,Wn)))<<13);O=0|(0|(nt=0|nt+_(ae,Gn))+(le>>>13))+(yi>>>26),yi&=67108863,rt=_(an,jt),le=0|(le=_(an,Kn))+_(xn,jt),nt=_(xn,Kn),rt=0|rt+_(Zt,Le),le=0|(le=0|le+_(Zt,je))+_(rn,Le),nt=0|nt+_(rn,je),rt=0|rt+_(ct,Qe),le=0|(le=0|le+_(ct,ht))+_(gt,Qe),nt=0|nt+_(gt,ht),rt=0|rt+_(ie,Ot),le=0|(le=0|le+_(ie,Vt))+_(pe,Ot),nt=0|nt+_(pe,Vt),rt=0|rt+_(Y,wn),le=0|(le=0|le+_(Y,on))+_(oe,wn),nt=0|nt+_(oe,on),rt=0|rt+_(vt,ke),le=0|(le=0|le+_(vt,Gt))+_(G,ke),nt=0|nt+_(G,Gt),rt=0|rt+_(Ht,dn),le=0|(le=0|le+_(Ht,Pn))+_(Ge,dn),nt=0|nt+_(Ge,Pn),rt=0|rt+_(at,jn),le=0|(le=0|le+_(at,Un))+_(qt,jn),nt=0|nt+_(qt,Un);var Mr=0|(0|O+(rt=0|rt+_(He,Wn)))+((8191&(le=0|(le=0|le+_(He,Gn))+_(Ve,Wn)))<<13);O=0|(0|(nt=0|nt+_(Ve,Gn))+(le>>>13))+(Mr>>>26),Mr&=67108863,rt=_(an,Le),le=0|(le=_(an,je))+_(xn,Le),nt=_(xn,je),rt=0|rt+_(Zt,Qe),le=0|(le=0|le+_(Zt,ht))+_(rn,Qe),nt=0|nt+_(rn,ht),rt=0|rt+_(ct,Ot),le=0|(le=0|le+_(ct,Vt))+_(gt,Ot),nt=0|nt+_(gt,Vt),rt=0|rt+_(ie,wn),le=0|(le=0|le+_(ie,on))+_(pe,wn),nt=0|nt+_(pe,on),rt=0|rt+_(Y,ke),le=0|(le=0|le+_(Y,Gt))+_(oe,ke),nt=0|nt+_(oe,Gt),rt=0|rt+_(vt,dn),le=0|(le=0|le+_(vt,Pn))+_(G,dn),nt=0|nt+_(G,Pn),rt=0|rt+_(Ht,jn),le=0|(le=0|le+_(Ht,Un))+_(Ge,jn),nt=0|nt+_(Ge,Un);var Or=0|(0|O+(rt=0|rt+_(at,Wn)))+((8191&(le=0|(le=0|le+_(at,Gn))+_(qt,Wn)))<<13);O=0|(0|(nt=0|nt+_(qt,Gn))+(le>>>13))+(Or>>>26),Or&=67108863,rt=_(an,Qe),le=0|(le=_(an,ht))+_(xn,Qe),nt=_(xn,ht),rt=0|rt+_(Zt,Ot),le=0|(le=0|le+_(Zt,Vt))+_(rn,Ot),nt=0|nt+_(rn,Vt),rt=0|rt+_(ct,wn),le=0|(le=0|le+_(ct,on))+_(gt,wn),nt=0|nt+_(gt,on),rt=0|rt+_(ie,ke),le=0|(le=0|le+_(ie,Gt))+_(pe,ke),nt=0|nt+_(pe,Gt),rt=0|rt+_(Y,dn),le=0|(le=0|le+_(Y,Pn))+_(oe,dn),nt=0|nt+_(oe,Pn),rt=0|rt+_(vt,jn),le=0|(le=0|le+_(vt,Un))+_(G,jn),nt=0|nt+_(G,Un);var ei=0|(0|O+(rt=0|rt+_(Ht,Wn)))+((8191&(le=0|(le=0|le+_(Ht,Gn))+_(Ge,Wn)))<<13);O=0|(0|(nt=0|nt+_(Ge,Gn))+(le>>>13))+(ei>>>26),ei&=67108863,rt=_(an,Ot),le=0|(le=_(an,Vt))+_(xn,Ot),nt=_(xn,Vt),rt=0|rt+_(Zt,wn),le=0|(le=0|le+_(Zt,on))+_(rn,wn),nt=0|nt+_(rn,on),rt=0|rt+_(ct,ke),le=0|(le=0|le+_(ct,Gt))+_(gt,ke),nt=0|nt+_(gt,Gt),rt=0|rt+_(ie,dn),le=0|(le=0|le+_(ie,Pn))+_(pe,dn),nt=0|nt+_(pe,Pn),rt=0|rt+_(Y,jn),le=0|(le=0|le+_(Y,Un))+_(oe,jn),nt=0|nt+_(oe,Un);var xr=0|(0|O+(rt=0|rt+_(vt,Wn)))+((8191&(le=0|(le=0|le+_(vt,Gn))+_(G,Wn)))<<13);O=0|(0|(nt=0|nt+_(G,Gn))+(le>>>13))+(xr>>>26),xr&=67108863,rt=_(an,wn),le=0|(le=_(an,on))+_(xn,wn),nt=_(xn,on),rt=0|rt+_(Zt,ke),le=0|(le=0|le+_(Zt,Gt))+_(rn,ke),nt=0|nt+_(rn,Gt),rt=0|rt+_(ct,dn),le=0|(le=0|le+_(ct,Pn))+_(gt,dn),nt=0|nt+_(gt,Pn),rt=0|rt+_(ie,jn),le=0|(le=0|le+_(ie,Un))+_(pe,jn),nt=0|nt+_(pe,Un);var di=0|(0|O+(rt=0|rt+_(Y,Wn)))+((8191&(le=0|(le=0|le+_(Y,Gn))+_(oe,Wn)))<<13);O=0|(0|(nt=0|nt+_(oe,Gn))+(le>>>13))+(di>>>26),di&=67108863,rt=_(an,ke),le=0|(le=_(an,Gt))+_(xn,ke),nt=_(xn,Gt),rt=0|rt+_(Zt,dn),le=0|(le=0|le+_(Zt,Pn))+_(rn,dn),nt=0|nt+_(rn,Pn),rt=0|rt+_(ct,jn),le=0|(le=0|le+_(ct,Un))+_(gt,jn),nt=0|nt+_(gt,Un);var Xr=0|(0|O+(rt=0|rt+_(ie,Wn)))+((8191&(le=0|(le=0|le+_(ie,Gn))+_(pe,Wn)))<<13);O=0|(0|(nt=0|nt+_(pe,Gn))+(le>>>13))+(Xr>>>26),Xr&=67108863,rt=_(an,dn),le=0|(le=_(an,Pn))+_(xn,dn),nt=_(xn,Pn),rt=0|rt+_(Zt,jn),le=0|(le=0|le+_(Zt,Un))+_(rn,jn),nt=0|nt+_(rn,Un);var qr=0|(0|O+(rt=0|rt+_(ct,Wn)))+((8191&(le=0|(le=0|le+_(ct,Gn))+_(gt,Wn)))<<13);O=0|(0|(nt=0|nt+_(gt,Gn))+(le>>>13))+(qr>>>26),qr&=67108863,rt=_(an,jn),le=0|(le=_(an,Un))+_(xn,jn),nt=_(xn,Un);var Vr=0|(0|O+(rt=0|rt+_(Zt,Wn)))+((8191&(le=0|(le=0|le+_(Zt,Gn))+_(rn,Wn)))<<13);O=0|(0|(nt=0|nt+_(rn,Gn))+(le>>>13))+(Vr>>>26),Vr&=67108863;var hi=0|(0|O+(rt=_(an,Wn)))+((8191&(le=0|(le=_(an,Gn))+_(xn,Wn)))<<13);return O=0|(0|(nt=_(xn,Gn))+(le>>>13))+(hi>>>26),hi&=67108863,M[0]=ot,M[1]=ye,M[2]=ut,M[3]=Qr,M[4]=Ri,M[5]=jr,M[6]=ci,M[7]=ri,M[8]=ur,M[9]=yi,M[10]=Mr,M[11]=Or,M[12]=ei,M[13]=xr,M[14]=di,M[15]=Xr,M[16]=qr,M[17]=Vr,M[18]=hi,0!==O&&(M[19]=O,U.length++),U};_||(xe=i),r.prototype.mulTo=function(A,P){var y,U=this.length+A.length;return y=10===this.length&&10===A.length?xe(this,A,P):63>U?i(this,A,P):1024>U?function s(A,P,U){U.negative=P.negative^A.negative,U.length=A.length+P.length;for(var O,y=0,C=0,M=0;M<U.length-1;M++){O=C,C=0;for(var ee=67108863&y,$=ne(M,P.length-1),ae=ce(0,M-A.length+1);ae<=$;ae++){var it=(0|A.words[M-ae])*(0|P.words[ae]),at=67108863&it;ee=67108863&(at=0|at+ee),C+=(O=0|(O=0|O+(0|it/67108864))+(at>>>26))>>>26,O&=67108863}U.words[M]=ee,y=O,O=C}return 0===y?U.length--:U.words[M]=y,U.strip()}(this,A,P):u(this,A,P),y},o.prototype.makeRBT=function(A){for(var P=Array(A),U=r.prototype._countBits(A)-1,y=0;y<A;y++)P[y]=this.revBin(y,U,A);return P},o.prototype.revBin=function(A,P,U){if(0===A||A===U-1)return A;for(var y=0,C=0;C<P;C++)y|=(1&A)<<P-C-1,A>>=1;return y},o.prototype.permute=function(A,P,U,y,C,M){for(var O=0;O<M;O++)y[O]=P[A[O]],C[O]=U[A[O]]},o.prototype.transform=function(A,P,U,y,C,M){this.permute(M,A,P,U,y,C);for(var O=1;O<C;O<<=1)for(var ee=O<<1,$=Ue(2*Pe/ee),ae=V(2*Pe/ee),Fe=0;Fe<C;Fe+=ee)for(var He=$,Ve=ae,it=0;it<O;it++){var at=U[Fe+it],qt=y[Fe+it],Ct=U[Fe+it+O],Ht=y[Fe+it+O],Ge=He*Ct-Ve*Ht;Ht=He*Ht+Ve*Ct,U[Fe+it]=at+(Ct=Ge),y[Fe+it]=qt+Ht,U[Fe+it+O]=at-Ct,y[Fe+it+O]=qt-Ht,it!==ee&&(Ge=$*He-ae*Ve,Ve=$*Ve+ae*He,He=Ge)}},o.prototype.guessLen13b=function(A,P){var U=1|ce(P,A),y=1&U,C=0;for(U=0|U/2;U;U>>>=1)C++;return 1<<C+1+y},o.prototype.conjugate=function(A,P,U){if(!(1>=U))for(var C,y=0;y<U/2;y++)C=A[y],A[y]=A[U-y-1],A[U-y-1]=C,C=P[y],P[y]=-P[U-y-1],P[U-y-1]=-C},o.prototype.normalize13b=function(A,P){for(var C,U=0,y=0;y<P/2;y++)C=8192*kt(A[2*y+1]/P)+kt(A[2*y]/P)+U,A[y]=67108863&C,U=67108864>C?0:0|C/67108864;return A},o.prototype.convert13b=function(A,P,U,y){for(var C=0,M=0;M<P;M++)U[2*M]=8191&(C+=0|A[M]),U[2*M+1]=8191&(C>>>=13),C>>>=13;for(M=2*P;M<y;++M)U[M]=0;p(0===C),p(0==(-8192&C))},o.prototype.stub=function(A){for(var P=Array(A),U=0;U<A;U++)P[U]=0;return P},o.prototype.mulp=function(A,P,U){var y=2*this.guessLen13b(A.length,P.length),C=this.makeRBT(y),M=this.stub(y),O=Array(y),ee=Array(y),$=Array(y),ae=Array(y),Fe=Array(y),He=Array(y),Ve=U.words;Ve.length=y,this.convert13b(A.words,A.length,O,y),this.convert13b(P.words,P.length,ae,y),this.transform(O,M,ee,$,y,C),this.transform(ae,M,Fe,He,y,C);for(var at,it=0;it<y;it++)at=ee[it]*Fe[it]-$[it]*He[it],$[it]=ee[it]*He[it]+$[it]*Fe[it],ee[it]=at;return this.conjugate(ee,$,y),this.transform(ee,$,Ve,M,y,C),this.conjugate(Ve,M,y),this.normalize13b(Ve,y),U.negative=A.negative^P.negative,U.length=A.length+P.length,U.strip()},r.prototype.mul=function(A){var P=new r(null);return P.words=Array(this.length+A.length),this.mulTo(A,P)},r.prototype.mulf=function(A){var P=new r(null);return P.words=Array(this.length+A.length),u(this,A,P)},r.prototype.imul=function(A){return this.clone().mulTo(A,this)},r.prototype.imuln=function(A){p("number"==typeof A),p(67108864>A);for(var P=0,U=0;U<this.length;U++){var y=(0|this.words[U])*A,C=(67108863&y)+(67108863&P);P>>=26,P+=0|y/67108864,P+=C>>>26,this.words[U]=67108863&C}return 0!==P&&(this.words[U]=P,this.length++),this},r.prototype.muln=function(A){return this.clone().imuln(A)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(A){var P=function t(A){for(var P=Array(A.bitLength()),U=0;U<P.length;U++){var C=U%26;P[U]=(A.words[0|U/26]&1<<C)>>>C}return P}(A);if(0===P.length)return new r(1);for(var U=this,y=0;y<P.length&&0===P[y];y++,U=U.sqr());if(++y<P.length)for(var C=U.sqr();y<P.length;y++,C=C.sqr())0!==P[y]&&(U=U.mul(C));return U},r.prototype.iushln=function(A){p("number"==typeof A&&0<=A);var y,P=A%26,U=(A-P)/26;if(0!=P){var C=0;for(y=0;y<this.length;y++){var M=this.words[y]&67108863>>>26-P<<26-P;this.words[y]=(0|this.words[y])-M<<P|C,C=M>>>26-P}C&&(this.words[y]=C,this.length++)}if(0!==U){for(y=this.length-1;0<=y;y--)this.words[y+U]=this.words[y];for(y=0;y<U;y++)this.words[y]=0;this.length+=U}return this.strip()},r.prototype.ishln=function(A){return p(0===this.negative),this.iushln(A)},r.prototype.iushrn=function(A,P,U){p("number"==typeof A&&0<=A);var y=P?(P-P%26)/26:0,C=A%26,M=ne((A-C)/26,this.length),O=U;if(y=ce(0,y-=M),O){for(var ee=0;ee<M;ee++)O.words[ee]=this.words[ee];O.length=M}if(0!==M)if(this.length>M)for(this.length-=M,ee=0;ee<this.length;ee++)this.words[ee]=this.words[ee+M];else this.words[0]=0,this.length=1;var $=0;for(ee=this.length-1;0<=ee&&(0!==$||ee>=y);ee--){var ae=0|this.words[ee];this.words[ee]=$<<26-C|ae>>>C,$=ae&(67108863^67108863>>>C<<C)}return O&&0!==$&&(O.words[O.length++]=$),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(A,P,U){return p(0===this.negative),this.iushrn(A,P,U)},r.prototype.shln=function(A){return this.clone().ishln(A)},r.prototype.ushln=function(A){return this.clone().iushln(A)},r.prototype.shrn=function(A){return this.clone().ishrn(A)},r.prototype.ushrn=function(A){return this.clone().iushrn(A)},r.prototype.testn=function(A){p("number"==typeof A&&0<=A);var P=A%26,U=(A-P)/26;return!(this.length<=U||!(this.words[U]&1<<P))},r.prototype.imaskn=function(A){p("number"==typeof A&&0<=A);var P=A%26,U=(A-P)/26;return p(0===this.negative,"imaskn works only with positive numbers"),this.length<=U?this:(0!=P&&U++,this.length=ne(U,this.length),0!=P&&(this.words[this.length-1]&=67108863^67108863>>>P<<P),this.strip())},r.prototype.maskn=function(A){return this.clone().imaskn(A)},r.prototype.iaddn=function(A){return p("number"==typeof A),p(67108864>A),0>A?this.isubn(-A):0===this.negative?this._iaddn(A):1===this.length&&(0|this.words[0])<A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this)},r.prototype._iaddn=function(A){this.words[0]+=A;for(var P=0;P<this.length&&67108864<=this.words[P];P++)this.words[P]-=67108864,P==this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=ce(this.length,P+1),this},r.prototype.isubn=function(A){if(p("number"==typeof A),p(67108864>A),0>A)return this.iaddn(-A);if(0!==this.negative)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&0>this.words[P];P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},r.prototype.addn=function(A){return this.clone().iaddn(A)},r.prototype.subn=function(A){return this.clone().isubn(A)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(A,P,U){var C;this._expand(A.length+U);var O,M=0;for(C=0;C<A.length;C++){O=(0|this.words[C+U])+M;var ee=(0|A.words[C])*P;M=((O-=67108863&ee)>>26)-(0|ee/67108864),this.words[C+U]=67108863&O}for(;C<this.length-U;C++)M=(O=(0|this.words[C+U])+M)>>26,this.words[C+U]=67108863&O;if(0===M)return this.strip();for(p(-1===M),M=0,C=0;C<this.length;C++)M=(O=-(0|this.words[C])+M)>>26,this.words[C]=67108863&O;return this.negative=1,this.strip()},r.prototype._wordDiv=function(A,P){var U,y=this.clone(),C=A,M=0|C.words[C.length-1];0!=(U=26-this._countBits(M))&&(C=C.ushln(U),y.iushln(U),M=0|C.words[C.length-1]);var $,ee=y.length-C.length;if("mod"!==P){($=new r(null)).length=ee+1,$.words=Array($.length);for(var ae=0;ae<$.length;ae++)$.words[ae]=0}var Fe=y.clone()._ishlnsubmul(C,1,ee);0===Fe.negative&&(y=Fe,$&&($.words[ee]=1));for(var Ve,He=ee-1;0<=He;He--){for(Ve=ne(0|(Ve=67108864*(0|y.words[C.length+He])+(0|y.words[C.length+He-1]))/M,67108863),y._ishlnsubmul(C,Ve,He);0!==y.negative;)Ve--,y.negative=0,y._ishlnsubmul(C,1,He),y.isZero()||(y.negative^=1);$&&($.words[He]=Ve)}return $&&$.strip(),y.strip(),"div"!==P&&0!==U&&y.iushrn(U),{div:$||null,mod:y}},r.prototype.divmod=function(A,P,U){return p(!A.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===A.negative?(M=this.neg().divmod(A,P),"mod"!==P&&(y=M.div.neg()),"div"!==P&&(C=M.mod.neg(),U&&0!==C.negative&&C.iadd(A)),{div:y,mod:C}):0===this.negative&&0!==A.negative?(M=this.divmod(A.neg(),P),"mod"!==P&&(y=M.div.neg()),{div:y,mod:M.mod}):0==(this.negative&A.negative)?A.length>this.length||0>this.cmp(A)?{div:new r(0),mod:this}:1===A.length?"div"===P?{div:this.divn(A.words[0]),mod:null}:"mod"===P?{div:null,mod:new r(this.modn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new r(this.modn(A.words[0]))}:this._wordDiv(A,P):(M=this.neg().divmod(A.neg(),P),"div"!==P&&(C=M.mod.neg(),U&&0!==C.negative&&C.isub(A)),{div:M.div,mod:C});var y,C,M},r.prototype.div=function(A){return this.divmod(A,"div",!1).div},r.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},r.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},r.prototype.divRound=function(A){var P=this.divmod(A);if(P.mod.isZero())return P.div;var U=0===P.div.negative?P.mod:P.mod.isub(A),y=A.ushrn(1),C=A.andln(1),M=U.cmp(y);return 0>M||1===C&&0===M?P.div:0===P.div.negative?P.div.iaddn(1):P.div.isubn(1)},r.prototype.modn=function(A){p(67108863>=A);for(var P=0,U=this.length-1;0<=U;U--)P=(67108864%A*P+(0|this.words[U]))%A;return P},r.prototype.idivn=function(A){p(67108863>=A);for(var y,P=0,U=this.length-1;0<=U;U--)this.words[U]=0|(y=(0|this.words[U])+67108864*P)/A,P=y%A;return this.strip()},r.prototype.divn=function(A){return this.clone().idivn(A)},r.prototype.egcd=function(A){p(0===A.negative),p(!A.isZero());var P=this,U=A.clone();P=0===P.negative?P.clone():P.umod(A);for(var y=new r(1),C=new r(0),M=new r(0),O=new r(1),ee=0;P.isEven()&&U.isEven();)P.iushrn(1),U.iushrn(1),++ee;for(var $=U.clone(),ae=P.clone();!P.isZero();){for(var Fe=0,He=1;0==(P.words[0]&He)&&26>Fe;++Fe,He<<=1);if(0<Fe)for(P.iushrn(Fe);0<Fe--;)(y.isOdd()||C.isOdd())&&(y.iadd($),C.isub(ae)),y.iushrn(1),C.iushrn(1);for(var Ve=0,it=1;0==(U.words[0]&it)&&26>Ve;++Ve,it<<=1);if(0<Ve)for(U.iushrn(Ve);0<Ve--;)(M.isOdd()||O.isOdd())&&(M.iadd($),O.isub(ae)),M.iushrn(1),O.iushrn(1);0<=P.cmp(U)?(P.isub(U),y.isub(M),C.isub(O)):(U.isub(P),M.isub(y),O.isub(C))}return{a:M,b:O,gcd:U.iushln(ee)}},r.prototype._invmp=function(A){p(0===A.negative),p(!A.isZero());var Fe,P=this,U=A.clone();P=0===P.negative?P.clone():P.umod(A);for(var y=new r(1),C=new r(0),M=U.clone();0<P.cmpn(1)&&0<U.cmpn(1);){for(var O=0,ee=1;0==(P.words[0]&ee)&&26>O;++O,ee<<=1);if(0<O)for(P.iushrn(O);0<O--;)y.isOdd()&&y.iadd(M),y.iushrn(1);for(var $=0,ae=1;0==(U.words[0]&ae)&&26>$;++$,ae<<=1);if(0<$)for(U.iushrn($);0<$--;)C.isOdd()&&C.iadd(M),C.iushrn(1);0<=P.cmp(U)?(P.isub(U),y.isub(C)):(U.isub(P),C.isub(y))}return 0>(Fe=0===P.cmpn(1)?y:C).cmpn(0)&&Fe.iadd(A),Fe},r.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var P=this.clone(),U=A.clone();P.negative=0,U.negative=0;for(var y=0;P.isEven()&&U.isEven();y++)P.iushrn(1),U.iushrn(1);for(;;){for(;P.isEven();)P.iushrn(1);for(;U.isEven();)U.iushrn(1);var C=P.cmp(U);if(0>C){var M=P;P=U,U=M}else if(0===C||0===U.cmpn(1))break;P.isub(U)}return U.iushln(y)},r.prototype.invm=function(A){return this.egcd(A).a.umod(A)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(A){return this.words[0]&A},r.prototype.bincn=function(A){p("number"==typeof A);var P=A%26,U=(A-P)/26,y=1<<P;if(this.length<=U)return this._expand(U+1),this.words[U]|=y,this;for(var O,C=y,M=U;0!==C&&M<this.length;M++)O=0|this.words[M],C=(O+=C)>>>26,this.words[M]=O&=67108863;return 0!==C&&(this.words[M]=C,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(A){var U,P=0>A;if(0!==this.negative&&!P)return-1;if(0===this.negative&&P)return 1;if(this.strip(),1<this.length)U=1;else{P&&(A=-A),p(67108863>=A,"Number is too big");var y=0|this.words[0];U=y===A?0:y<A?-1:1}return 0===this.negative?U:0|-U},r.prototype.cmp=function(A){if(0!==this.negative&&0===A.negative)return-1;if(0===this.negative&&0!==A.negative)return 1;var P=this.ucmp(A);return 0===this.negative?P:0|-P},r.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var P=0,U=this.length-1;0<=U;U--){var y=0|this.words[U],C=0|A.words[U];if(y!=C){y<C?P=-1:y>C&&(P=1);break}}return P},r.prototype.gtn=function(A){return 1===this.cmpn(A)},r.prototype.gt=function(A){return 1===this.cmp(A)},r.prototype.gten=function(A){return 0<=this.cmpn(A)},r.prototype.gte=function(A){return 0<=this.cmp(A)},r.prototype.ltn=function(A){return-1===this.cmpn(A)},r.prototype.lt=function(A){return-1===this.cmp(A)},r.prototype.lten=function(A){return 0>=this.cmpn(A)},r.prototype.lte=function(A){return 0>=this.cmp(A)},r.prototype.eqn=function(A){return 0===this.cmpn(A)},r.prototype.eq=function(A){return 0===this.cmp(A)},r.red=function(A){return new S(A)},r.prototype.toRed=function(A){return p(!this.red,"Already a number in reduction context"),p(0===this.negative,"red works only with positives"),A.convertTo(this)._forceRed(A)},r.prototype.fromRed=function(){return p(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(A){return this.red=A,this},r.prototype.forceRed=function(A){return p(!this.red,"Already a number in reduction context"),this._forceRed(A)},r.prototype.redAdd=function(A){return p(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},r.prototype.redIAdd=function(A){return p(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},r.prototype.redSub=function(A){return p(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},r.prototype.redISub=function(A){return p(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},r.prototype.redShl=function(A){return p(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},r.prototype.redMul=function(A){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},r.prototype.redIMul=function(A){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},r.prototype.redSqr=function(){return p(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return p(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return p(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return p(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return p(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(A){return p(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var we={k256:null,p224:null,p192:null,p25519:null};d.prototype._tmp=function(){var A=new r(null);return A.words=Array(de(this.n/13)),A},d.prototype.ireduce=function(A){var U,P=A;do{this.split(P,this.tmp),U=(P=(P=this.imulK(P)).iadd(this.tmp)).bitLength()}while(U>this.n);var y=U<this.n?-1:P.ucmp(this.p);return 0===y?(P.words[0]=0,P.length=1):0<y?P.isub(this.p):void 0===P.strip?P._strip():P.strip(),P},d.prototype.split=function(A,P){A.iushrn(this.n,0,P)},d.prototype.imulK=function(A){return A.imul(this.k)},x(f,d),f.prototype.split=function(A,P){for(var U=4194303,y=ne(A.length,9),C=0;C<y;C++)P.words[C]=A.words[C];if(P.length=y,9>=A.length)return A.words[0]=0,void(A.length=1);var M=A.words[9];for(P.words[P.length++]=M&U,C=10;C<A.length;C++){var O=0|A.words[C];A.words[C-10]=(O&U)<<4|M>>>22,M=O}A.words[C-10]=M>>>=22,A.length-=0===M&&10<A.length?10:9},f.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var y,P=0,U=0;U<A.length;U++)A.words[U]=67108863&(P+=977*(y=0|A.words[U])),P=64*y+(0|P/67108864);return 0===A.words[A.length-1]&&(A.length--,0===A.words[A.length-1]&&A.length--),A},x(E,d),x(b,d),x(I,d),I.prototype.imulK=function(A){for(var P=0,U=0;U<A.length;U++){var y=19*(0|A.words[U])+P,C=67108863&y;y>>>=26,A.words[U]=C,P=y}return 0!==P&&(A.words[A.length++]=P),A},r._prime=function(P){if(we[P])return we[P];var U;if("k256"===P)U=new f;else if("p224"===P)U=new E;else if("p192"===P)U=new b;else{if("p25519"!==P)throw new Error("Unknown prime "+P);U=new I}return we[P]=U,U},S.prototype._verify1=function(A){p(0===A.negative,"red works only with positives"),p(A.red,"red works only with red numbers")},S.prototype._verify2=function(A,P){p(0==(A.negative|P.negative),"red works only with positives"),p(A.red&&A.red===P.red,"red works only with red numbers")},S.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):A.umod(this.m)._forceRed(this)},S.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},S.prototype.add=function(A,P){this._verify2(A,P);var U=A.add(P);return 0<=U.cmp(this.m)&&U.isub(this.m),U._forceRed(this)},S.prototype.iadd=function(A,P){this._verify2(A,P);var U=A.iadd(P);return 0<=U.cmp(this.m)&&U.isub(this.m),U},S.prototype.sub=function(A,P){this._verify2(A,P);var U=A.sub(P);return 0>U.cmpn(0)&&U.iadd(this.m),U._forceRed(this)},S.prototype.isub=function(A,P){this._verify2(A,P);var U=A.isub(P);return 0>U.cmpn(0)&&U.iadd(this.m),U},S.prototype.shl=function(A,P){return this._verify1(A),this.imod(A.ushln(P))},S.prototype.imul=function(A,P){return this._verify2(A,P),this.imod(A.imul(P))},S.prototype.mul=function(A,P){return this._verify2(A,P),this.imod(A.mul(P))},S.prototype.isqr=function(A){return this.imul(A,A.clone())},S.prototype.sqr=function(A){return this.mul(A,A)},S.prototype.sqrt=function(A){if(A.isZero())return A.clone();var P=this.m.andln(3);if(p(P%2==1),3===P){var U=this.m.add(new r(1)).iushrn(2);return this.pow(A,U)}for(var y=this.m.subn(1),C=0;!y.isZero()&&0===y.andln(1);)C++,y.iushrn(1);p(!y.isZero());var M=new r(1).toRed(this),O=M.redNeg(),ee=this.m.subn(1).iushrn(1),$=this.m.bitLength();for($=new r(2*$*$).toRed(this);0!==this.pow($,ee).cmp(O);)$.redIAdd(O);for(var ae=this.pow($,y),Fe=this.pow(A,y.addn(1).iushrn(1)),He=this.pow(A,y),Ve=C;0!==He.cmp(M);){for(var it=He,at=0;0!==it.cmp(M);at++)it=it.redSqr();p(at<Ve);var qt=this.pow(ae,new r(1).iushln(Ve-at-1));Fe=Fe.redMul(qt),ae=qt.redSqr(),He=He.redMul(ae),Ve=at}return Fe},S.prototype.invm=function(A){var P=A._invmp(this.m);return 0===P.negative?this.imod(P):(P.negative=0,this.imod(P).redNeg())},S.prototype.pow=function(A,P){if(P.isZero())return new r(1).toRed(this);if(0===P.cmpn(1))return A.clone();var U=Array(16);U[0]=new r(1).toRed(this),U[1]=A;for(var y=2;y<U.length;y++)U[y]=this.mul(U[y-1],A);var C=U[0],M=0,O=0,ee=P.bitLength()%26;for(0===ee&&(ee=26),y=P.length-1;0<=y;y--){for(var Fe,$=P.words[y],ae=ee-1;0<=ae;ae--)Fe=1&$>>ae,C!==U[0]&&(C=this.sqr(C)),0!==Fe||0!==M?(M<<=1,M|=Fe,(4==++O||0===y&&0===ae)&&(C=this.mul(C,U[M]),O=0,M=0)):O=0;ee=26}return C},S.prototype.convertTo=function(A){var P=A.umod(this.m);return P===A?P.clone():P},S.prototype.convertFrom=function(A){var P=A.clone();return P.red=null,P},r.mont=function(A){return new R(A)},x(R,S),R.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},R.prototype.convertFrom=function(A){var P=this.imod(A.mul(this.rinv));return P.red=null,P},R.prototype.imul=function(A,P){if(A.isZero()||P.isZero())return A.words[0]=0,A.length=1,A;var U=A.imul(P),y=U.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=U.isub(y).iushrn(this.shift),M=C;return 0<=C.cmp(this.m)?M=C.isub(this.m):0>C.cmpn(0)&&(M=C.iadd(this.m)),M._forceRed(this)},R.prototype.mul=function(A,P){if(A.isZero()||P.isZero())return new r(0)._forceRed(this);var U=A.mul(P),y=U.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=U.isub(y).iushrn(this.shift),M=C;return 0<=C.cmp(this.m)?M=C.isub(this.m):0>C.cmpn(0)&&(M=C.iadd(this.m)),M._forceRed(this)},R.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===L||L,this)},{buffer:41}],23:[function(v,L,h){"use strict";function g(d){var f=d.length;if(0<f%4)throw new Error("Invalid string. Length must be a multiple of 4");var E=d.indexOf("=");return-1===E&&(E=f),[E,E===f?0:4-E%4]}function r(d){return n[63&d>>18]+n[63&d>>12]+n[63&d>>6]+n[63&d]}function c(d,f,E){for(var b=[],I=f;I<E;I+=3)b.push(r((16711680&d[I]<<16)+(65280&d[I+1]<<8)+(255&d[I+2])));return b.join("")}h.byteLength=function(d){var f=g(d),b=f[1];return 3*(f[0]+b)/4-b},h.toByteArray=function x(d){var F,q,f=g(d),E=f[0],b=f[1],I=new i(function p(d,f,E){return 3*(f+E)/4-E}(0,E,b)),S=0,R=0<b?E-4:E;for(q=0;q<R;q+=4)F=t[d.charCodeAt(q)]<<18|t[d.charCodeAt(q+1)]<<12|t[d.charCodeAt(q+2)]<<6|t[d.charCodeAt(q+3)],I[S++]=255&F>>16,I[S++]=255&F>>8,I[S++]=255&F;return 2===b&&(F=t[d.charCodeAt(q)]<<2|t[d.charCodeAt(q+1)]>>4,I[S++]=255&F),1===b&&(F=t[d.charCodeAt(q)]<<10|t[d.charCodeAt(q+1)]<<4|t[d.charCodeAt(q+2)]>>2,I[S++]=255&F>>8,I[S++]=255&F),I},h.fromByteArray=function l(d){for(var F,f=d.length,E=f%3,b=[],I=16383,S=0,R=f-E;S<R;S+=I)b.push(c(d,S,S+I>R?R:S+I));return 1===E?b.push(n[(F=d[f-1])>>2]+n[63&F<<4]+"=="):2===E&&b.push(n[(F=(d[f-2]<<8)+d[f-1])>>10]+n[63&F>>4]+n[63&F<<2]+"="),b.join("")};for(var n=[],t=[],i="undefined"==typeof Uint8Array?Array:Uint8Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,o=s.length;u<o;++u)n[u]=s[u],t[s.charCodeAt(u)]=u;t[45]=62,t[95]=63},{}],24:[function(v,L){(function(h){(function(){function g(r,c,l){let n=0,t=1;for(let i=c;i<l;i++){const s=r[i];if(58>s&&48<=s)n=10*n+(s-48);else if(i!==c||43!==s){if(i===c&&45===s){t=-1;continue}if(46===s)break;throw new Error("not a number: buffer["+i+"] = "+s)}}return n*t}function p(r,c,l,n){return null==r||0===r.length?null:("number"!=typeof c&&null==n&&(n=c,c=void 0),"number"!=typeof l&&null==n&&(n=l,l=void 0),p.position=0,p.encoding=n||null,p.data=h.isBuffer(r)?r.slice(c,l):h.from(r),p.bytes=p.data.length,p.next())}p.bytes=0,p.position=0,p.data=null,p.encoding=null,p.next=function(){switch(p.data[p.position]){case 100:return p.dictionary();case 108:return p.list();case 105:return p.integer();default:return p.buffer()}},p.find=function(r){let c=p.position;const l=p.data.length,n=p.data;for(;c<l;){if(n[c]===r)return c;c++}throw new Error('Invalid data: Missing delimiter "'+Z(r)+'" [0x'+r.toString(16)+"]")},p.dictionary=function(){p.position++;const r={};for(;101!==p.data[p.position];)r[p.buffer()]=p.next();return p.position++,r},p.list=function(){p.position++;const r=[];for(;101!==p.data[p.position];)r.push(p.next());return p.position++,r},p.integer=function(){const r=p.find(101),c=g(p.data,p.position+1,r);return p.position+=r+1-p.position,c},p.buffer=function(){let r=p.find(58);const c=g(p.data,p.position,r),l=++r+c;return p.position=l,p.encoding?p.data.toString(p.encoding,r,l):p.data.slice(r,l)},L.exports=p}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],25:[function(v,L){(function(h){(function(){function g(l,n,t){const i=[];let s=null;return g._encode(i,l),s=h.concat(i),g.bytes=s.length,h.isBuffer(n)?(s.copy(n,t),n):s}const{getType:p}=v("./util.js");g.bytes=-1,g._floatConversionDetected=!1,g._encode=function(l,n){if(null!=n)switch(p(n)){case"buffer":g.buffer(l,n);break;case"object":g.dict(l,n);break;case"map":g.dictMap(l,n);break;case"array":g.list(l,n);break;case"set":g.listSet(l,n);break;case"string":g.string(l,n);break;case"number":case"boolean":g.number(l,n);break;case"arraybufferview":g.buffer(l,h.from(n.buffer,n.byteOffset,n.byteLength));break;case"arraybuffer":g.buffer(l,h.from(n))}};const x=h.from("e"),r=h.from("d"),c=h.from("l");g.buffer=function(l,n){l.push(h.from(n.length+":"),n)},g.string=function(l,n){l.push(h.from(h.byteLength(n)+":"+n))},g.number=function(l,n){const t=2147483648*(n/2147483648<<0)+(n%2147483648<<0);l.push(h.from("i"+t+"e")),t===n||g._floatConversionDetected||(g._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+n+'":','Bencoding only defines support for integers, value was converted to "'+t+'"'),console.trace())},g.dict=function(l,n){l.push(r);let i,t=0;const s=Object.keys(n).sort(),u=s.length;for(;t<u;t++)i=s[t],null!=n[i]&&(g.string(l,i),g._encode(l,n[i]));l.push(x)},g.dictMap=function(l,n){l.push(r);const t=Array.from(n.keys()).sort();for(const i of t)null!=n.get(i)&&(h.isBuffer(i)?g._encode(l,i):g.string(l,i+""),g._encode(l,n.get(i)));l.push(x)},g.list=function(l,n){let t=0;const i=n.length;for(l.push(c);t<i;t++)null!=n[t]&&g._encode(l,n[t]);l.push(x)},g.listSet=function(l,n){l.push(c);for(const t of n)null!=t&&g._encode(l,t);l.push(x)},L.exports=g}).call(this)}).call(this,v("buffer").Buffer)},{"./util.js":28,buffer:69}],26:[function(v,L){(function(h){(function(){const{digitCount:n,getType:t}=v("./util.js");L.exports=function l(i){if(null==i)return 0;const s=t(i);switch(s){case"buffer":return n(i.length)+1+i.length;case"arraybufferview":return function c(i){const s=i.byteLength-i.byteOffset;return n(s)+1+s}(i);case"string":return function r(i){const s=h.byteLength(i);return n(s)+1+s}(i);case"array":case"set":return function g(i){let s=2;for(const u of i)s+=l(u);return s}(i);case"number":return 1+n(Et(i))+1;case"bigint":return 1+i.toString().length+1;case"object":return function x(i){let s=2;const u=Object.keys(i);for(let o=0;o<u.length;o++){const d=h.byteLength(u[o]);s+=n(d)+1+d,s+=l(i[u[o]])}return s}(i);case"map":return function p(i){let s=2;for(const[u,o]of i){const d=h.byteLength(u);s+=n(d)+1+d,s+=l(o)}return s}(i);default:throw new TypeError(`Unsupported value of type "${s}"`)}}}).call(this)}).call(this,v("buffer").Buffer)},{"./util.js":28,buffer:69}],27:[function(v,L){const h=L.exports;h.encode=v("./encode.js"),h.decode=v("./decode.js"),h.byteLength=h.encodingLength=v("./encoding-length.js")},{"./decode.js":24,"./encode.js":25,"./encoding-length.js":26}],28:[function(v,L){(function(h){(function(){const g=L.exports;g.digitCount=function(p){var x=Math.log10;const r=0>p?1:0;return p=At(+(p||1)),Et(x(p))+1+r},g.getType=function(p){return h.isBuffer(p)?"buffer":ArrayBuffer.isView(p)?"arraybufferview":Array.isArray(p)?"array":p instanceof Number?"number":p instanceof Boolean?"boolean":p instanceof Set?"set":p instanceof Map?"map":p instanceof String?"string":p instanceof ArrayBuffer?"arraybuffer":typeof p}}).call(this)}).call(this,{isBuffer:v("../../is-buffer/index.js")})},{"../../is-buffer/index.js":161}],29:[function(v,L){function h(g){return g.reduce((x,r)=>{const c=r.split("-").map(l=>parseInt(l));return x.concat(((x,r=x)=>Array.from({length:r-x+1},(c,l)=>l+x))(...c))},[])}L.exports=h,L.exports.parse=h,L.exports.compose=function(g){return g.reduce((p,x,r,c)=>((0===r||x!==c[r-1]+1)&&p.push([]),p[p.length-1].push(x),p),[]).map(p=>1<p.length?`${p[0]}-${p[p.length-1]}`:`${p[0]}`)}},{}],30:[function(v,L){L.exports=function(h,g,p,x,r){var c,l;if(void 0===x)x=0;else if(0>(x|=0)||x>=h.length)throw new RangeError("invalid lower bound");if(void 0===r)r=h.length-1;else if((r|=0)<x||r>=h.length)throw new RangeError("invalid upper bound");for(;x<=r;)if(0>(l=+p(h[c=x+(r-x>>>1)],g,c,h)))x=c+1;else{if(!(0<l))return c;r=c-1}return~x}},{}],31:[function(v,L,h){"use strict";function g(x){var r=x>>3;return x%8!=0&&r++,r}Object.defineProperty(h,"__esModule",{value:!0});var p=function(){function x(r,c){void 0===r&&(r=0);var l=null==c?void 0:c.grow;this.grow=l&&isFinite(l)&&g(l)||l||0,this.buffer="number"==typeof r?new Uint8Array(g(r)):r}return x.prototype.get=function(r){var c=r>>3;return c<this.buffer.length&&!!(this.buffer[c]&128>>r%8)},x.prototype.set=function(r,c){void 0===c&&(c=!0);var l=r>>3;if(c){if(this.buffer.length<l+1){var n=ce(l+1,ne(2*this.buffer.length,this.grow));if(n<=this.grow){var t=new Uint8Array(n);t.set(this.buffer),this.buffer=t}}this.buffer[l]|=128>>r%8}else l<this.buffer.length&&(this.buffer[l]&=~(128>>r%8))},x.prototype.forEach=function(r,c,l){void 0===c&&(c=0),void 0===l&&(l=8*this.buffer.length);for(var n=c,t=n>>3,i=128>>n%8,s=this.buffer[t];n<l;n++)r(!!(s&i),n),i=1==i?(s=this.buffer[++t],128):i>>1},x}();h.default=p},{}],32:[function(v,L){(function(h){(function(){function g(we,A){for(let P=we.length;P--;)we[P]^=A[P];return we}const p=v("unordered-array-remove"),x=v("bencode"),r=v("bitfield").default,c=v("crypto"),l=v("debug")("bittorrent-protocol"),n=v("randombytes"),t=v("simple-sha1"),i=v("speedometer"),s=v("readable-stream"),u=v("rc4"),o=h.from("\x13BitTorrent protocol"),d=h.from([0,0,0,0]),f=h.from([0,0,0,1,0]),E=h.from([0,0,0,1,1]),b=h.from([0,0,0,1,2]),I=h.from([0,0,0,1,3]),S=[0,0,0,0,0,0,0,0],R=[0,0,0,3,9,0,0],F=h.from([0,0,0,0,0,0,0,0]),q=h.from([0,0,1,2]),K=h.from([0,0,0,2]);class se{constructor(A,P,U,y){this.piece=A,this.offset=P,this.length=U,this.callback=y}}L.exports=class xe extends s.Duplex{constructor(A=null,P=0,U=!1){super(),this._debugId=n(4).toString("hex"),this._debug("new wire"),this.peerId=null,this.peerIdBuffer=null,this.type=A,this.amChoking=!0,this.amInterested=!1,this.peerChoking=!0,this.peerInterested=!1,this.peerPieces=new r(0,{grow:4e5}),this.peerExtensions={},this.requests=[],this.peerRequests=[],this.extendedMapping={},this.peerExtendedMapping={},this.extendedHandshake={},this.peerExtendedHandshake={},this._ext={},this._nextExt=1,this.uploaded=0,this.downloaded=0,this.uploadSpeed=i(),this.downloadSpeed=i(),this._keepAliveInterval=null,this._timeout=null,this._timeoutMs=0,this._timeoutExpiresAt=null,this.destroyed=!1,this._finished=!1,this._parserSize=0,this._parser=null,this._buffer=[],this._bufferSize=0,this._peEnabled=U,U?(this._dh=c.createDiffieHellman("ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a36210000000000090563","hex",2),this._myPubKey=this._dh.generateKeys("hex")):this._myPubKey=null,this._peerPubKey=null,this._sharedSecret=null,this._peerCryptoProvide=[],this._cryptoHandshakeDone=!1,this._cryptoSyncPattern=null,this._waitMaxBytes=null,this._encryptionMethod=null,this._encryptGenerator=null,this._decryptGenerator=null,this._setGenerators=!1,this.once("finish",()=>this._onFinish()),this.on("finish",this._onFinish),this._debug("type:",this.type),"tcpIncoming"===this.type&&this._peEnabled?this._determineHandshakeType():"tcpOutgoing"===this.type&&this._peEnabled&&0===P?this._parsePe2():this._parseHandshake(null)}setKeepAlive(A){this._debug("setKeepAlive %s",A),clearInterval(this._keepAliveInterval),!1===A||(this._keepAliveInterval=setInterval(()=>{this.keepAlive()},55e3))}setTimeout(A,P){this._debug("setTimeout ms=%d unref=%s",A,P),this._timeoutMs=A,this._timeoutUnref=!!P,this._resetTimeout(!0)}destroy(){this.destroyed||(this.destroyed=!0,this._debug("destroy"),this.emit("close"),this.end())}end(...A){this._debug("end"),this._onUninterested(),this._onChoke(),super.end(...A)}use(A){function P(){}const U=A.prototype.name;if(!U)throw new Error('Extension class requires a "name" property on the prototype');this._debug("use extension.name=%s",U);const y=this._nextExt,C=new A(this);"function"!=typeof C.onHandshake&&(C.onHandshake=P),"function"!=typeof C.onExtendedHandshake&&(C.onExtendedHandshake=P),"function"!=typeof C.onMessage&&(C.onMessage=P),this.extendedMapping[y]=U,this._ext[U]=C,this[U]=C,this._nextExt+=1}keepAlive(){this._debug("keep-alive"),this._push(d)}sendPe1(){if(this._peEnabled){const A=Et(513*Math.random()),P=n(A);this._push(h.concat([h.from(this._myPubKey,"hex"),P]))}}sendPe2(){const A=Et(513*Math.random()),P=n(A);this._push(h.concat([h.from(this._myPubKey,"hex"),P]))}sendPe3(A){this.setEncrypt(this._sharedSecret,A);const P=h.from(t.sync(h.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex"),C=g(h.from(t.sync(h.from(this._utfToHex("req2")+A,"hex")),"hex"),h.from(t.sync(h.from(this._utfToHex("req3")+this._sharedSecret,"hex")),"hex")),M=n(2).readUInt16BE(0)%512,O=n(M);let ee=h.alloc(14+M+2);F.copy(ee),q.copy(ee,8),ee.writeInt16BE(M,12),O.copy(ee,14),ee.writeInt16BE(0,14+M),ee=this._encryptHandshake(ee),this._push(h.concat([P,C,ee]))}sendPe4(A){this.setEncrypt(this._sharedSecret,A);const P=n(2).readUInt16BE(0)%512,U=n(P);let y=h.alloc(14+P);F.copy(y),K.copy(y,8),y.writeInt16BE(P,12),U.copy(y,14),y=this._encryptHandshake(y),this._push(y),this._cryptoHandshakeDone=!0,this._debug("completed crypto handshake")}handshake(A,P,U){let y,C;if("string"==typeof A?(A=A.toLowerCase(),y=h.from(A,"hex")):(y=A,A=y.toString("hex")),"string"==typeof P?C=h.from(P,"hex"):(C=P,P=C.toString("hex")),this._infoHash=y,20!==y.length||20!==C.length)throw new Error("infoHash and peerId MUST have length 20");this._debug("handshake i=%s p=%s exts=%o",A,P,U);const M=h.from(S);M[5]|=16,U&&U.dht&&(M[7]|=1),this._push(h.concat([o,M,y,C])),this._handshakeSent=!0,this.peerExtensions.extended&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_sendExtendedHandshake(){const A=Object.assign({},this.extendedHandshake);for(const P in A.m={},this.extendedMapping)A.m[this.extendedMapping[P]]=+P;this.extended(0,x.encode(A)),this._extendedHandshakeSent=!0}choke(){if(!this.amChoking){for(this.amChoking=!0,this._debug("choke");this.peerRequests.length;)this.peerRequests.pop();this._push(f)}}unchoke(){this.amChoking&&(this.amChoking=!1,this._debug("unchoke"),this._push(E))}interested(){this.amInterested||(this.amInterested=!0,this._debug("interested"),this._push(b))}uninterested(){this.amInterested&&(this.amInterested=!1,this._debug("uninterested"),this._push(I))}have(A){this._debug("have %d",A),this._message(4,[A],null)}bitfield(A){this._debug("bitfield"),h.isBuffer(A)||(A=A.buffer),this._message(5,[],A)}request(A,P,U,y){return y||(y=()=>{}),this._finished?y(new Error("wire is closed")):this.peerChoking?y(new Error("peer is choking")):(this._debug("request index=%d offset=%d length=%d",A,P,U),this.requests.push(new se(A,P,U,y)),!this._timeout&&this._resetTimeout(!0),void this._message(6,[A,P,U],null))}piece(A,P,U){this._debug("piece index=%d offset=%d",A,P),this._message(7,[A,P],U),this.uploaded+=U.length,this.uploadSpeed(U.length),this.emit("upload",U.length)}cancel(A,P,U){this._debug("cancel index=%d offset=%d length=%d",A,P,U),this._callback(this._pull(this.requests,A,P,U),new Error("request was cancelled"),null),this._message(8,[A,P,U],null)}port(A){this._debug("port %d",A);const P=h.from(R);P.writeUInt16BE(A,5),this._push(P)}extended(A,P){if(this._debug("extended ext=%s",A),"string"==typeof A&&this.peerExtendedMapping[A]&&(A=this.peerExtendedMapping[A]),"number"!=typeof A)throw new Error(`Unrecognized extension: ${A}`);{const U=h.from([A]),y=h.isBuffer(P)?P:x.encode(P);this._message(20,[],h.concat([U,y]))}}setEncrypt(A,P){let U,y,C,M,O,ee;switch(this.type){case"tcpIncoming":U=t.sync(h.from(this._utfToHex("keyB")+A+P,"hex")),y=t.sync(h.from(this._utfToHex("keyA")+A+P,"hex")),C=h.from(U,"hex"),M=[];for(const $ of C.values())M.push($);O=h.from(y,"hex"),ee=[];for(const $ of O.values())ee.push($);this._encryptGenerator=new u(M),this._decryptGenerator=new u(ee);break;case"tcpOutgoing":U=t.sync(h.from(this._utfToHex("keyA")+A+P,"hex")),y=t.sync(h.from(this._utfToHex("keyB")+A+P,"hex")),C=h.from(U,"hex"),M=[];for(const $ of C.values())M.push($);O=h.from(y,"hex"),ee=[];for(const $ of O.values())ee.push($);this._encryptGenerator=new u(M),this._decryptGenerator=new u(ee);break;default:return!1}for(let $=0;1024>$;$++)this._encryptGenerator.randomByte(),this._decryptGenerator.randomByte();return this._setGenerators=!0,!0}_read(){}_message(A,P,U){const y=U?U.length:0,C=h.allocUnsafe(5+4*P.length);C.writeUInt32BE(C.length+y-4,0),C[4]=A;for(let M=0;M<P.length;M++)C.writeUInt32BE(P[M],5+4*M);this._push(C),U&&this._push(U)}_push(A){if(!this._finished)return 2===this._encryptionMethod&&this._cryptoHandshakeDone&&(A=this._encrypt(A)),this.push(A)}_onKeepAlive(){this._debug("got keep-alive"),this.emit("keep-alive")}_onPe1(A){this._peerPubKey=A.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe1")}_onPe2(A){this._peerPubKey=A.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe2")}_onPe3(A){const P=t.sync(h.from(this._utfToHex("req3")+this._sharedSecret,"hex")),U=g(h.from(P,"hex"),A).toString("hex");this.emit("pe3",U)}_onPe3Encrypted(A,P){if(!A.equals(F))return this._debug("Error: verification constant did not match"),void this.destroy();for(const U of P.values())0!==U&&this._peerCryptoProvide.push(U);this._peerCryptoProvide.includes(2)?this._encryptionMethod=2:(this._debug("Error: RC4 encryption method not provided by peer"),this.destroy())}_onPe4(A){this._encryptionMethod=A.readUInt8(3),q.includes(this._encryptionMethod)||(this._debug("Error: peer selected invalid crypto method"),this.destroy()),this._cryptoHandshakeDone=!0,this._debug("crypto handshake done"),this.emit("pe4")}_onHandshake(A,P,U){const y=A.toString("hex"),C=P.toString("hex");for(const M in this._debug("got handshake i=%s p=%s exts=%o",y,C,U),this.peerId=C,this.peerIdBuffer=P,this.peerExtensions=U,this.emit("handshake",y,C,U),this._ext)this._ext[M].onHandshake(y,C,U);U.extended&&this._handshakeSent&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_onChoke(){for(this.peerChoking=!0,this._debug("got choke"),this.emit("choke");this.requests.length;)this._callback(this.requests.pop(),new Error("peer is choking"),null)}_onUnchoke(){this.peerChoking=!1,this._debug("got unchoke"),this.emit("unchoke")}_onInterested(){this.peerInterested=!0,this._debug("got interested"),this.emit("interested")}_onUninterested(){this.peerInterested=!1,this._debug("got uninterested"),this.emit("uninterested")}_onHave(A){this.peerPieces.get(A)||(this._debug("got have %d",A),this.peerPieces.set(A,!0),this.emit("have",A))}_onBitField(A){this.peerPieces=new r(A),this._debug("got bitfield"),this.emit("bitfield",this.peerPieces)}_onRequest(A,P,U){if(this.amChoking)return;this._debug("got request index=%d offset=%d length=%d",A,P,U);const y=(M,O)=>C===this._pull(this.peerRequests,A,P,U)?M?this._debug("error satisfying request index=%d offset=%d length=%d (%s)",A,P,U,M.message):void this.piece(A,P,O):void 0,C=new se(A,P,U,y);this.peerRequests.push(C),this.emit("request",A,P,U,y)}_onPiece(A,P,U){this._debug("got piece index=%d offset=%d",A,P),this._callback(this._pull(this.requests,A,P,U.length),null,U),this.downloaded+=U.length,this.downloadSpeed(U.length),this.emit("download",U.length),this.emit("piece",A,P,U)}_onCancel(A,P,U){this._debug("got cancel index=%d offset=%d length=%d",A,P,U),this._pull(this.peerRequests,A,P,U),this.emit("cancel",A,P,U)}_onPort(A){this._debug("got port %d",A),this.emit("port",A)}_onExtended(A,P){if(0===A){let U;try{U=x.decode(P)}catch(y){this._debug("ignoring invalid extended handshake: %s",y.message||y)}if(!U)return;if(this.peerExtendedHandshake=U,"object"==typeof U.m)for(const y in U.m)this.peerExtendedMapping[y]=+U.m[y].toString();for(const y in this._ext)this.peerExtendedMapping[y]&&this._ext[y].onExtendedHandshake(this.peerExtendedHandshake);this._debug("got extended handshake"),this.emit("extended","handshake",this.peerExtendedHandshake)}else this.extendedMapping[A]&&this._ext[A=this.extendedMapping[A]]&&this._ext[A].onMessage(P),this._debug("got extended message ext=%s",A),this.emit("extended",A,P)}_onTimeout(){this._debug("request timed out"),this._callback(this.requests.shift(),new Error("request has timed out"),null),this.emit("timeout")}_write(A,P,U){if(2===this._encryptionMethod&&this._cryptoHandshakeDone&&(A=this._decrypt(A)),this._bufferSize+=A.length,this._buffer.push(A),1<this._buffer.length&&(this._buffer=[h.concat(this._buffer,this._bufferSize)]),this._cryptoSyncPattern){const y=this._buffer[0].indexOf(this._cryptoSyncPattern);if(-1!==y)this._buffer[0]=this._buffer[0].slice(y+this._cryptoSyncPattern.length),this._bufferSize-=y+this._cryptoSyncPattern.length,this._cryptoSyncPattern=null;else if(this._bufferSize+A.length>this._waitMaxBytes+this._cryptoSyncPattern.length)return this._debug("Error: could not resynchronize"),void this.destroy()}for(;this._bufferSize>=this._parserSize&&!this._cryptoSyncPattern;)if(0===this._parserSize)this._parser(h.from([]));else{const y=this._buffer[0];this._bufferSize-=this._parserSize,this._buffer=this._bufferSize?[y.slice(this._parserSize)]:[],this._parser(y.slice(0,this._parserSize))}U(null)}_callback(A,P,U){A&&(this._resetTimeout(!this.peerChoking&&!this._finished),A.callback(P,U))}_resetTimeout(A){if(!A||!this._timeoutMs||!this.requests.length)return clearTimeout(this._timeout),this._timeout=null,void(this._timeoutExpiresAt=null);const P=Date.now()+this._timeoutMs;if(this._timeout){if(P-this._timeoutExpiresAt<.05*this._timeoutMs)return;clearTimeout(this._timeout)}this._timeoutExpiresAt=P,this._timeout=setTimeout(()=>this._onTimeout(),this._timeoutMs),this._timeoutUnref&&this._timeout.unref&&this._timeout.unref()}_parse(A,P){this._parserSize=A,this._parser=P}_parseUntil(A,P){this._cryptoSyncPattern=A,this._waitMaxBytes=P}_onMessageLength(A){const P=A.readUInt32BE(0);0<P?this._parse(P,this._onMessage):(this._onKeepAlive(),this._parse(4,this._onMessageLength))}_onMessage(A){switch(this._parse(4,this._onMessageLength),A[0]){case 0:return this._onChoke();case 1:return this._onUnchoke();case 2:return this._onInterested();case 3:return this._onUninterested();case 4:return this._onHave(A.readUInt32BE(1));case 5:return this._onBitField(A.slice(1));case 6:return this._onRequest(A.readUInt32BE(1),A.readUInt32BE(5),A.readUInt32BE(9));case 7:return this._onPiece(A.readUInt32BE(1),A.readUInt32BE(5),A.slice(9));case 8:return this._onCancel(A.readUInt32BE(1),A.readUInt32BE(5),A.readUInt32BE(9));case 9:return this._onPort(A.readUInt16BE(1));case 20:return this._onExtended(A.readUInt8(1),A.slice(2));default:return this._debug("got unknown message"),this.emit("unknownmessage",A)}}_determineHandshakeType(){this._parse(1,A=>{const P=A.readUInt8(0);19===P?this._parse(P+48,this._onHandshakeBuffer):this._parsePe1(A)})}_parsePe1(A){this._parse(95,P=>{this._onPe1(h.concat([A,P])),this._parsePe3()})}_parsePe2(){this._parse(96,A=>{for(this._onPe2(A);!this._setGenerators;);this._parsePe4()})}_parsePe3(){const A=h.from(t.sync(h.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex");this._parseUntil(A,512),this._parse(20,P=>{for(this._onPe3(P);!this._setGenerators;);this._parsePe3Encrypted()})}_parsePe3Encrypted(){this._parse(14,A=>{const P=this._decryptHandshake(A.slice(0,8)),U=this._decryptHandshake(A.slice(8,12)),y=this._decryptHandshake(A.slice(12,14)).readUInt16BE(0);this._parse(y,C=>{C=this._decryptHandshake(C),this._parse(2,M=>{const O=this._decryptHandshake(M).readUInt16BE(0);this._parse(O,ee=>{ee=this._decryptHandshake(ee),this._onPe3Encrypted(P,U,C,ee);const $=O?ee.readUInt8(0):null,ae=O?ee.slice(1,20):null;19===$&&"BitTorrent protocol"===ae.toString()?this._onHandshakeBuffer(ee.slice(1)):this._parseHandshake()})})})})}_parsePe4(){const A=this._decryptHandshake(F);this._parseUntil(A,512),this._parse(6,P=>{const U=this._decryptHandshake(P.slice(0,4)),y=this._decryptHandshake(P.slice(4,6)).readUInt16BE(0);this._parse(y,C=>{this._decryptHandshake(C),this._onPe4(U),this._parseHandshake(null)})})}_parseHandshake(){this._parse(1,A=>{const P=A.readUInt8(0);return 19===P?void this._parse(P+48,this._onHandshakeBuffer):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",P.toString()),void this.end())})}_onHandshakeBuffer(A){const P=A.slice(0,19);return"BitTorrent protocol"===P.toString()?(A=A.slice(19),this._onHandshake(A.slice(8,28),A.slice(28,48),{dht:!!(1&A[7]),extended:!!(16&A[5])}),void this._parse(4,this._onMessageLength)):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",P.toString()),void this.end())}_onFinish(){for(this._finished=!0,this.push(null);this.read(););for(clearInterval(this._keepAliveInterval),this._parse(Number.MAX_VALUE,()=>{});this.peerRequests.length;)this.peerRequests.pop();for(;this.requests.length;)this._callback(this.requests.pop(),new Error("wire was closed"),null)}_debug(...A){A[0]=`[${this._debugId}] ${A[0]}`,l(...A)}_pull(A,P,U,y){for(let C=0;C<A.length;C++){const M=A[C];if(M.piece===P&&M.offset===U&&M.length===y)return p(A,C),M}return null}_encryptHandshake(A){const P=h.from(A);if(!this._encryptGenerator)return this._debug("Warning: Encrypting without any generator"),P;for(let U=0;U<A.length;U++){const y=this._encryptGenerator.randomByte();P[U]^=y}return P}_encrypt(A){const P=h.from(A);if(!this._encryptGenerator||2!==this._encryptionMethod)return P;for(let U=0;U<A.length;U++){const y=this._encryptGenerator.randomByte();P[U]^=y}return P}_decryptHandshake(A){const P=h.from(A);if(!this._decryptGenerator)return this._debug("Warning: Decrypting without any generator"),P;for(let U=0;U<A.length;U++){const y=this._decryptGenerator.randomByte();P[U]^=y}return P}_decrypt(A){const P=h.from(A);if(!this._decryptGenerator||2!==this._encryptionMethod)return P;for(let U=0;U<A.length;U++){const y=this._decryptGenerator.randomByte();P[U]^=y}return P}_utfToHex(A){return h.from(A,"utf8").toString("hex")}}}).call(this)}).call(this,v("buffer").Buffer)},{bencode:27,bitfield:31,buffer:69,crypto:104,debug:105,randombytes:221,rc4:225,"readable-stream":240,"simple-sha1":260,speedometer:267,"unordered-array-remove":284}],33:[function(v,L){(function(h,g){(function(){const p=v("debug")("bittorrent-tracker:client"),x=v("events"),r=v("once"),c=v("run-parallel"),l=v("simple-peer"),n=v("queue-microtask"),t=v("./lib/common"),i=v("./lib/client/http-tracker"),s=v("./lib/client/udp-tracker"),u=v("./lib/client/websocket-tracker");class o extends x{constructor(f={}){if(super(),!f.peerId)throw new Error("Option `peerId` is required");if(!f.infoHash)throw new Error("Option `infoHash` is required");if(!f.announce)throw new Error("Option `announce` is required");if(!h.browser&&!f.port)throw new Error("Option `port` is required");this.peerId="string"==typeof f.peerId?f.peerId:f.peerId.toString("hex"),this._peerIdBuffer=g.from(this.peerId,"hex"),this._peerIdBinary=this._peerIdBuffer.toString("binary"),this.infoHash="string"==typeof f.infoHash?f.infoHash.toLowerCase():f.infoHash.toString("hex"),this._infoHashBuffer=g.from(this.infoHash,"hex"),this._infoHashBinary=this._infoHashBuffer.toString("binary"),p("new client %s",this.infoHash),this.destroyed=!1,this._port=f.port,this._getAnnounceOpts=f.getAnnounceOpts,this._rtcConfig=f.rtcConfig,this._userAgent=f.userAgent,this._proxyOpts=f.proxyOpts,this._wrtc="function"==typeof f.wrtc?f.wrtc():f.wrtc;let E="string"==typeof f.announce?[f.announce]:null==f.announce?[]:f.announce;E=E.map(S=>("/"===(S=S.toString())[S.length-1]&&(S=S.substring(0,S.length-1)),S)),E=Array.from(new Set(E));const b=!1!==this._wrtc&&(!!this._wrtc||l.WEBRTC_SUPPORT),I=S=>{n(()=>{this.emit("warning",S)})};this._trackers=E.map(S=>{let R;try{R=t.parseUrl(S)}catch(K){return I(new Error(`Invalid tracker URL: ${S}`)),null}const F=R.port;if(0>F||65535<F)return I(new Error(`Invalid tracker port: ${S}`)),null;const q=R.protocol;return"http:"!==q&&"https:"!==q||"function"!=typeof i?"udp:"===q&&"function"==typeof s?new s(this,S):"ws:"!==q&&"wss:"!==q||!b||"ws:"===q&&"undefined"!=typeof window&&"https:"===window.location.protocol?(I(new Error(`Unsupported tracker protocol: ${S}`)),null):new u(this,S):new i(this,S)}).filter(Boolean)}start(f){(f=this._defaultAnnounceOpts(f)).event="started",p("send `start` %o",f),this._announce(f),this._trackers.forEach(E=>{E.setInterval()})}stop(f){(f=this._defaultAnnounceOpts(f)).event="stopped",p("send `stop` %o",f),this._announce(f)}complete(f){f||(f={}),(f=this._defaultAnnounceOpts(f)).event="completed",p("send `complete` %o",f),this._announce(f)}update(f){(f=this._defaultAnnounceOpts(f)).event&&delete f.event,p("send `update` %o",f),this._announce(f)}_announce(f){this._trackers.forEach(E=>{E.announce(f)})}scrape(f){p("send `scrape`"),f||(f={}),this._trackers.forEach(E=>{E.scrape(f)})}setInterval(f){p("setInterval %d",f),this._trackers.forEach(E=>{E.setInterval(f)})}destroy(f){if(!this.destroyed){this.destroyed=!0,p("destroy");const E=this._trackers.map(b=>I=>{b.destroy(I)});c(E,f),this._trackers=[],this._getAnnounceOpts=null}}_defaultAnnounceOpts(f={}){return null==f.numwant&&(f.numwant=t.DEFAULT_ANNOUNCE_PEERS),null==f.uploaded&&(f.uploaded=0),null==f.downloaded&&(f.downloaded=0),this._getAnnounceOpts&&(f=Object.assign({},f,this._getAnnounceOpts())),f}}o.scrape=(d,f)=>{if(f=r(f),!d.infoHash)throw new Error("Option `infoHash` is required");if(!d.announce)throw new Error("Option `announce` is required");const E=Object.assign({},d,{infoHash:Array.isArray(d.infoHash)?d.infoHash[0]:d.infoHash,peerId:g.from("01234567890123456789"),port:6881}),b=new o(E);b.once("error",f),b.once("warning",f);let I=Array.isArray(d.infoHash)?d.infoHash.length:1;const S={};return b.on("scrape",R=>{if(I-=1,S[R.infoHash]=R,0===I){b.destroy();const F=Object.keys(S);f(null,1===F.length?S[F[0]]:S)}}),d.infoHash=Array.isArray(d.infoHash)?d.infoHash.map(R=>g.from(R,"hex")):g.from(d.infoHash,"hex"),b.scrape({infoHash:d.infoHash}),b},L.exports=o}).call(this)}).call(this,v("_process"),v("buffer").Buffer)},{"./lib/client/http-tracker":41,"./lib/client/udp-tracker":41,"./lib/client/websocket-tracker":35,"./lib/common":36,_process:205,buffer:69,debug:105,events:70,once:191,"queue-microtask":218,"run-parallel":245,"simple-peer":259}],34:[function(v,L){const h=v("events");L.exports=class extends h{constructor(g,p){super(),this.client=g,this.announceUrl=p,this.interval=null,this.destroyed=!1}setInterval(g){null==g&&(g=this.DEFAULT_ANNOUNCE_INTERVAL),clearInterval(this.interval),g&&(this.interval=setInterval(()=>{this.announce(this.client._defaultAnnounceOpts())},g),this.interval.unref&&this.interval.unref())}}},{events:70}],35:[function(v,L){function h(){}const g=v("clone"),p=v("debug")("bittorrent-tracker:websocket-tracker"),x=v("simple-peer"),r=v("randombytes"),c=v("simple-websocket"),l=v("socks"),n=v("../common"),t=v("./tracker"),i={};class s extends t{constructor(o,d){super(o,d),p("new websocket tracker %s",d),this.peers={},this.socket=null,this.reconnecting=!1,this.retries=0,this.reconnectTimer=null,this.expectingResponse=!1,this._openSocket()}announce(o){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.announce(o)});const d=Object.assign({},o,{action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary});if(this._trackerId&&(d.trackerid=this._trackerId),"stopped"===o.event||"completed"===o.event)this._send(d);else{const f=ne(o.numwant,5);this._generateOffers(f,E=>{d.numwant=f,d.offers=E,this._send(d)})}}scrape(o){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.scrape(o)});const d=Array.isArray(o.infoHash)&&0<o.infoHash.length?o.infoHash.map(f=>f.toString("binary")):o.infoHash&&o.infoHash.toString("binary")||this.client._infoHashBinary;this._send({action:"scrape",info_hash:d})}destroy(o=h){function d(){E&&(clearTimeout(E),E=null),f.removeListener("data",d),f.destroy(),f=null}if(this.destroyed)return o(null);for(const b in this.destroyed=!0,clearInterval(this.interval),clearTimeout(this.reconnectTimer),this.peers){const I=this.peers[b];clearTimeout(I.trackerTimeout),I.destroy()}if(this.peers=null,this.socket&&(this.socket.removeListener("connect",this._onSocketConnectBound),this.socket.removeListener("data",this._onSocketDataBound),this.socket.removeListener("close",this._onSocketCloseBound),this.socket.removeListener("error",this._onSocketErrorBound),this.socket=null),this._onSocketConnectBound=null,this._onSocketErrorBound=null,this._onSocketDataBound=null,this._onSocketCloseBound=null,i[this.announceUrl]&&(i[this.announceUrl].consumers-=1),0<i[this.announceUrl].consumers)return o();let E,f=i[this.announceUrl];return delete i[this.announceUrl],f.on("error",h),f.once("close",o),this.expectingResponse?(E=setTimeout(d,n.DESTROY_TIMEOUT),void f.once("data",d)):d()}_openSocket(){if(this.destroyed=!1,this.peers||(this.peers={}),this._onSocketConnectBound=()=>{this._onSocketConnect()},this._onSocketErrorBound=o=>{this._onSocketError(o)},this._onSocketDataBound=o=>{this._onSocketData(o)},this._onSocketCloseBound=()=>{this._onSocketClose()},this.socket=i[this.announceUrl],this.socket)i[this.announceUrl].consumers+=1,this.socket.connected&&this._onSocketConnectBound();else{const o=new URL(this.announceUrl);let d;this.client._proxyOpts&&(d="wss:"===o.protocol?this.client._proxyOpts.httpsAgent:this.client._proxyOpts.httpAgent,!d&&this.client._proxyOpts.socksProxy&&(d=new l.Agent(g(this.client._proxyOpts.socksProxy),"wss:"===o.protocol))),this.socket=i[this.announceUrl]=new c({url:this.announceUrl,agent:d}),this.socket.consumers=1,this.socket.once("connect",this._onSocketConnectBound)}this.socket.on("data",this._onSocketDataBound),this.socket.once("close",this._onSocketCloseBound),this.socket.once("error",this._onSocketErrorBound)}_onSocketConnect(){this.destroyed||this.reconnecting&&(this.reconnecting=!1,this.retries=0,this.announce(this.client._defaultAnnounceOpts()))}_onSocketData(o){if(!this.destroyed){this.expectingResponse=!1;try{o=JSON.parse(o)}catch(d){return void this.client.emit("warning",new Error("Invalid tracker response"))}"announce"===o.action?this._onAnnounceResponse(o):"scrape"===o.action?this._onScrapeResponse(o):this._onSocketError(new Error(`invalid action in WS response: ${o.action}`))}}_onAnnounceResponse(o){if(o.info_hash!==this.client._infoHashBinary)return void p("ignoring websocket data from %s for %s (looking for %s: reused socket)",this.announceUrl,n.binaryToHex(o.info_hash),this.client.infoHash);if(o.peer_id&&o.peer_id===this.client._peerIdBinary)return;p("received %s from %s for %s",JSON.stringify(o),this.announceUrl,this.client.infoHash);const d=o["failure reason"];if(d)return this.client.emit("warning",new Error(d));const f=o["warning message"];f&&this.client.emit("warning",new Error(f));const E=o.interval||o["min interval"];E&&this.setInterval(1e3*E);const b=o["tracker id"];if(b&&(this._trackerId=b),null!=o.complete){const S=Object.assign({},o,{announce:this.announceUrl,infoHash:n.binaryToHex(o.info_hash)});this.client.emit("update",S)}let I;if(o.offer&&o.peer_id&&(p("creating peer (from remote offer)"),I=this._createPeer(),I.id=n.binaryToHex(o.peer_id),I.once("signal",S=>{const R={action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary,to_peer_id:o.peer_id,answer:S,offer_id:o.offer_id};this._trackerId&&(R.trackerid=this._trackerId),this._send(R)}),this.client.emit("peer",I),I.signal(o.offer)),o.answer&&o.peer_id){const S=n.binaryToHex(o.offer_id);I=this.peers[S],I?(I.id=n.binaryToHex(o.peer_id),this.client.emit("peer",I),I.signal(o.answer),clearTimeout(I.trackerTimeout),I.trackerTimeout=null,delete this.peers[S]):p(`got unexpected answer: ${JSON.stringify(o.answer)}`)}}_onScrapeResponse(o){o=o.files||{};const d=Object.keys(o);return 0===d.length?void this.client.emit("warning",new Error("invalid scrape response")):void d.forEach(f=>{const E=Object.assign(o[f],{announce:this.announceUrl,infoHash:n.binaryToHex(f)});this.client.emit("scrape",E)})}_onSocketClose(){this.destroyed||(this.destroy(),this._startReconnectTimer())}_onSocketError(o){this.destroyed||(this.destroy(),this.client.emit("warning",o),this._startReconnectTimer())}_startReconnectTimer(){const o=Et(3e5*Math.random())+ne(1e4*z(2,this.retries),36e5);this.reconnecting=!0,clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>{this.retries++,this._openSocket()},o),this.reconnectTimer.unref&&this.reconnectTimer.unref(),p("reconnecting socket in %s ms",o)}_send(o){if(!this.destroyed){this.expectingResponse=!0;const d=JSON.stringify(o);p("send %s",d),this.socket.send(d)}}_generateOffers(o,d){function f(){const S=r(20).toString("hex");p("creating peer (from _generateOffers)");const R=b.peers[S]=b._createPeer({initiator:!0});R.once("signal",F=>{I.push({offer:F,offer_id:n.hexToBinary(S)}),E()}),R.trackerTimeout=setTimeout(()=>{p("tracker timeout: destroying peer"),R.trackerTimeout=null,delete b.peers[S],R.destroy()},5e4),R.trackerTimeout.unref&&R.trackerTimeout.unref()}function E(){I.length===o&&(p("generated %s offers",o),d(I))}const b=this,I=[];p("generating %s offers",o);for(let S=0;S<o;++S)f();E()}_createPeer(o){function d(I){E.client.emit("warning",new Error(`Connection error: ${I.message}`)),b.destroy()}const E=this;o=Object.assign({trickle:!1,config:E.client._rtcConfig,wrtc:E.client._wrtc},o);const b=new x(o);return b.once("error",d),b.once("connect",function f(){b.removeListener("error",d),b.removeListener("connect",f)}),b}}s.prototype.DEFAULT_ANNOUNCE_INTERVAL=3e4,s._socketPool=i,L.exports=s},{"../common":36,"./tracker":34,clone:95,debug:105,randombytes:221,"simple-peer":259,"simple-websocket":262,socks:41}],36:[function(v,L,h){(function(g){(function(){h.DEFAULT_ANNOUNCE_PEERS=50,h.MAX_ANNOUNCE_PEERS=82,h.binaryToHex=x=>("string"!=typeof x&&(x+=""),g.from(x,"binary").toString("hex")),h.hexToBinary=x=>("string"!=typeof x&&(x+=""),g.from(x,"hex").toString("binary")),h.parseUrl=x=>{const r=new URL(x.replace(/^udp:/,"http:"));return x.match(/^udp:/)&&Object.defineProperties(r,{href:{value:r.href.replace(/^http/,"udp")},protocol:{value:r.protocol.replace(/^http/,"udp")},origin:{value:r.origin.replace(/^http/,"udp")}}),r};const p=v("./common-node");Object.assign(h,p)}).call(this)}).call(this,v("buffer").Buffer)},{"./common-node":41,buffer:69}],37:[function(v,L){(function(h){(function(){L.exports=function(g,p){if("undefined"==typeof Blob||!(g instanceof Blob))throw new Error("first argument must be a Blob");if("function"!=typeof p)throw new Error("second argument must be a function");const r=new FileReader;r.addEventListener("loadend",function x(c){r.removeEventListener("loadend",x,!1),c.error?p(c.error):p(null,h.from(r.result))},!1),r.readAsArrayBuffer(g)}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],38:[function(v,L){(function(h){(function(){const{Transform:g}=v("readable-stream");L.exports=class extends g{constructor(p,x={}){super(x),"object"==typeof p&&(p=(x=p).size),this.size=p||512;const{nopad:r,zeroPadding:c=!0}=x;this._zeroPadding=!r&&!!c,this._buffered=[],this._bufferedBytes=0}_transform(p,x,r){for(this._bufferedBytes+=p.length,this._buffered.push(p);this._bufferedBytes>=this.size;){this._bufferedBytes-=this.size;const c=[];for(let l=0;l<this.size;){const n=this._buffered.shift();if(l+n.length<=this.size)c.push(n),l+=n.length;else{const t=this.size-l;c.push(n.slice(0,t)),l+=t,this._buffered.unshift(n.slice(t))}}this.push(h.concat(c,this.size))}r()}_flush(){if(this._bufferedBytes&&this._zeroPadding){const p=h.alloc(this.size-this._bufferedBytes);this._buffered.push(p),this.push(h.concat(this._buffered)),this._buffered=null}else this._bufferedBytes&&(this.push(h.concat(this._buffered)),this._buffered=null);this.push(null)}}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,"readable-stream":240}],39:[function(v,L){!function(h,g){"use strict";function p(y,C){if(!y)throw new Error(C||"Assertion failed")}function x(y,C){y.super_=C;var M=function(){};M.prototype=C.prototype,y.prototype=new M,y.prototype.constructor=y}function r(y,C,M){return r.isBN(y)?y:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==y&&(("le"===C||"be"===C)&&(M=C,C=10),this._init(y||0,C||10,M||"be"))))}function c(y,C){var M=y.charCodeAt(C);return 48<=M&&57>=M?M-48:65<=M&&70>=M?M-55:97<=M&&102>=M?M-87:void p(!1,"Invalid character in "+y)}function l(y,C,M){var O=c(y,M);return M-1>=C&&(O|=c(y,M-1)<<4),O}function n(y,C,M,O){for(var He,ee=0,$=0,ae=ne(y.length,M),Fe=C;Fe<ae;Fe++)ee*=O,$=49<=(He=y.charCodeAt(Fe)-48)?He-49+10:17<=He?He-17+10:He,p(0<=He&&$<O,"Invalid character"),ee+=$;return ee}function t(y,C){y.words=C.words,y.length=C.length,y.negative=C.negative,y.red=C.red}function i(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}function u(y,C,M){M.negative=C.negative^y.negative;var O=0|y.length+C.length;M.length=O,O=0|O-1;var ee=0|y.words[0],$=0|C.words[0],ae=ee*$,He=0|ae/67108864;M.words[0]=67108863&ae;for(var Ve=1;Ve<O;Ve++){for(var it=He>>>26,at=67108863&He,qt=ne(Ve,C.length-1),Ct=ce(0,Ve-y.length+1);Ct<=qt;Ct++)it+=0|(ae=(ee=0|y.words[0|Ve-Ct])*($=0|C.words[Ct])+at)/67108864,at=67108863&ae;M.words[Ve]=0|at,He=0|it}return 0===He?M.length--:M.words[Ve]=0|He,M._strip()}function o(y,C,M){M.negative=C.negative^y.negative,M.length=y.length+C.length;for(var ae,O=0,ee=0,$=0;$<M.length-1;$++){ae=ee,ee=0;for(var Fe=67108863&O,He=ne($,C.length-1),Ve=ce(0,$-y.length+1);Ve<=He;Ve++){var Ct=(0|y.words[$-Ve])*(0|C.words[Ve]),Ht=67108863&Ct;Fe=67108863&(Ht=0|Ht+Fe),ee+=(ae=0|(ae=0|ae+(0|Ct/67108864))+(Ht>>>26))>>>26,ae&=67108863}M.words[$]=Fe,O=ae,ae=ee}return 0===O?M.length--:M.words[$]=O,M._strip()}function d(y,C,M){return o(y,C,M)}function f(y,C){this.x=y,this.y=C}function E(y,C){this.name=y,this.p=new r(C,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function I(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function F(y){if("string"==typeof y){var C=r._prime(y);this.m=C.p,this.prime=C}else p(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}function q(y){F.call(this,y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}var K;"object"==typeof h?h.exports=r:g.BN=r,r.BN=r,r.wordSize=26;try{K="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:v("buffer").Buffer}catch(y){}if(r.isBN=function(y){return y instanceof r||null!==y&&"object"==typeof y&&y.constructor.wordSize===r.wordSize&&Array.isArray(y.words)},r.max=function(y,C){return 0<y.cmp(C)?y:C},r.min=function(y,C){return 0>y.cmp(C)?y:C},r.prototype._init=function(y,C,M){if("number"==typeof y)return this._initNumber(y,C,M);if("object"==typeof y)return this._initArray(y,C,M);"hex"===C&&(C=16),p(C===(0|C)&&2<=C&&36>=C);var O=0;"-"===(y=y.toString().replace(/\s+/g,""))[0]&&(O++,this.negative=1),O<y.length&&(16===C?this._parseHex(y,O,M):(this._parseBase(y,C,O),"le"===M&&this._initArray(this.toArray(),C,M)))},r.prototype._initNumber=function(y,C,M){0>y&&(this.negative=1,y=-y),67108864>y?(this.words=[67108863&y],this.length=1):4503599627370496>y?(this.words=[67108863&y,67108863&y/67108864],this.length=2):(p(9007199254740992>y),this.words=[67108863&y,67108863&y/67108864,1],this.length=3),"le"!==M||this._initArray(this.toArray(),C,M)},r.prototype._initArray=function(y,C,M){if(p("number"==typeof y.length),0>=y.length)return this.words=[0],this.length=1,this;this.length=de(y.length/3),this.words=Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var $,ae,ee=0;if("be"===M)for(O=y.length-1,$=0;0<=O;O-=3)this.words[$]|=67108863&(ae=y[O]|y[O-1]<<8|y[O-2]<<16)<<ee,this.words[$+1]=67108863&ae>>>26-ee,26<=(ee+=24)&&(ee-=26,$++);else if("le"===M)for(O=0,$=0;O<y.length;O+=3)this.words[$]|=67108863&(ae=y[O]|y[O+1]<<8|y[O+2]<<16)<<ee,this.words[$+1]=67108863&ae>>>26-ee,26<=(ee+=24)&&(ee-=26,$++);return this._strip()},r.prototype._parseHex=function(y,C,M){this.length=de((y.length-C)/6),this.words=Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var ae,ee=0,$=0;if("be"===M)for(O=y.length-1;O>=C;O-=2)ae=l(y,C,O)<<ee,this.words[$]|=67108863&ae,18<=ee?(ee-=18,this.words[$+=1]|=ae>>>26):ee+=8;else for(O=(y.length-C)%2==0?C+1:C;O<y.length;O+=2)ae=l(y,C,O)<<ee,this.words[$]|=67108863&ae,18<=ee?(ee-=18,this.words[$+=1]|=ae>>>26):ee+=8;this._strip()},r.prototype._parseBase=function(y,C,M){this.words=[0],this.length=1;for(var O=0,ee=1;67108863>=ee;ee*=C)O++;O--,ee=0|ee/C;for(var $=y.length-M,ae=$%O,Fe=ne($,$-ae)+M,He=0,Ve=M;Ve<Fe;Ve+=O)He=n(y,Ve,Ve+O,C),this.imuln(ee),67108864>this.words[0]+He?this.words[0]+=He:this._iaddn(He);if(0!==ae){var it=1;for(He=n(y,Ve,y.length,C),Ve=0;Ve<ae;Ve++)it*=C;this.imuln(it),67108864>this.words[0]+He?this.words[0]+=He:this._iaddn(He)}this._strip()},r.prototype.copy=function(y){y.words=Array(this.length);for(var C=0;C<this.length;C++)y.words[C]=this.words[C];y.length=this.length,y.negative=this.negative,y.red=this.red},r.prototype._move=function(y){t(y,this)},r.prototype.clone=function(){var y=new r(null);return this.copy(y),y},r.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},r.prototype._strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{r.prototype[Symbol.for("nodejs.util.inspect.custom")]=i}catch(y){r.prototype.inspect=i}else r.prototype.inspect=i;var se=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],xe=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],we=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];r.prototype.toString=function(y,C){var M;if(C=0|C||1,16===(y=y||10)||"hex"===y){M="";for(var O=0,ee=0,$=0;$<this.length;$++){var ae=this.words[$],Fe=(16777215&(ae<<O|ee)).toString(16);M=0!=(ee=16777215&ae>>>24-O)||$!==this.length-1?se[6-Fe.length]+Fe+M:Fe+M,26<=(O+=2)&&(O-=26,$--)}for(0!==ee&&(M=ee.toString(16)+M);M.length%C!=0;)M="0"+M;return 0!==this.negative&&(M="-"+M),M}if(y===(0|y)&&2<=y&&36>=y){var He=xe[y],Ve=we[y];M="";var it=this.clone();for(it.negative=0;!it.isZero();){var at=it.modrn(Ve).toString(y);M=(it=it.idivn(Ve)).isZero()?at+M:se[He-at.length]+at+M}for(this.isZero()&&(M="0"+M);M.length%C!=0;)M="0"+M;return 0!==this.negative&&(M="-"+M),M}p(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var y=this.words[0];return 2===this.length?y+=67108864*this.words[1]:3===this.length&&1===this.words[2]?y+=4503599627370496+67108864*this.words[1]:2<this.length&&p(!1,"Number can only safely store up to 53 bits"),0===this.negative?y:-y},r.prototype.toJSON=function(){return this.toString(16,2)},K&&(r.prototype.toBuffer=function(y,C){return this.toArrayLike(K,y,C)}),r.prototype.toArray=function(y,C){return this.toArrayLike(Array,y,C)},r.prototype.toArrayLike=function(y,C,M){this._strip();var O=this.byteLength(),ee=M||ce(1,O);p(O<=ee,"byte array longer than desired length"),p(0<ee,"Requested array length <= 0");var $=function(y,C){return y.allocUnsafe?y.allocUnsafe(C):new y(C)}(y,ee);return this["_toArrayLike"+("le"===C?"LE":"BE")]($,O),$},r.prototype._toArrayLikeLE=function(y){for(var $,C=0,M=0,O=0,ee=0;O<this.length;O++)y[C++]=255&($=this.words[O]<<ee|M),C<y.length&&(y[C++]=255&$>>8),C<y.length&&(y[C++]=255&$>>16),6==ee?(C<y.length&&(y[C++]=255&$>>24),M=0,ee=0):(M=$>>>24,ee+=2);if(C<y.length)for(y[C++]=M;C<y.length;)y[C++]=0},r.prototype._toArrayLikeBE=function(y){for(var $,C=y.length-1,M=0,O=0,ee=0;O<this.length;O++)y[C--]=255&($=this.words[O]<<ee|M),0<=C&&(y[C--]=255&$>>8),0<=C&&(y[C--]=255&$>>16),6==ee?(0<=C&&(y[C--]=255&$>>24),M=0,ee=0):(M=$>>>24,ee+=2);if(0<=C)for(y[C--]=M;0<=C;)y[C--]=0},r.prototype._countBits=Q?function(y){return 32-Q(y)}:function(y){var C=y,M=0;return 4096<=C&&(M+=13,C>>>=13),64<=C&&(M+=7,C>>>=7),8<=C&&(M+=4,C>>>=4),2<=C&&(M+=2,C>>>=2),M+C},r.prototype._zeroBits=function(y){if(0===y)return 26;var C=y,M=0;return 0==(8191&C)&&(M+=13,C>>>=13),0==(127&C)&&(M+=7,C>>>=7),0==(15&C)&&(M+=4,C>>>=4),0==(3&C)&&(M+=2,C>>>=2),0==(1&C)&&M++,M},r.prototype.bitLength=function(){var C=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+C},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var M,y=0,C=0;C<this.length&&(y+=M=this._zeroBits(this.words[C]),26===M);C++);return y},r.prototype.byteLength=function(){return de(this.bitLength()/8)},r.prototype.toTwos=function(y){return 0===this.negative?this.clone():this.abs().inotn(y).iaddn(1)},r.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var C=0;C<y.length;C++)this.words[C]|=y.words[C];return this._strip()},r.prototype.ior=function(y){return p(0==(this.negative|y.negative)),this.iuor(y)},r.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},r.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},r.prototype.iuand=function(y){for(var C=this.length>y.length?y:this,M=0;M<C.length;M++)this.words[M]&=y.words[M];return this.length=C.length,this._strip()},r.prototype.iand=function(y){return p(0==(this.negative|y.negative)),this.iuand(y)},r.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},r.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},r.prototype.iuxor=function(y){var C,M;this.length>y.length?(C=this,M=y):(C=y,M=this);for(var O=0;O<M.length;O++)this.words[O]=C.words[O]^M.words[O];if(this!==C)for(;O<C.length;O++)this.words[O]=C.words[O];return this.length=C.length,this._strip()},r.prototype.ixor=function(y){return p(0==(this.negative|y.negative)),this.iuxor(y)},r.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},r.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},r.prototype.inotn=function(y){p("number"==typeof y&&0<=y);var C=0|de(y/26),M=y%26;this._expand(C),0<M&&C--;for(var O=0;O<C;O++)this.words[O]=67108863&~this.words[O];return 0<M&&(this.words[O]=~this.words[O]&67108863>>26-M),this._strip()},r.prototype.notn=function(y){return this.clone().inotn(y)},r.prototype.setn=function(y,C){p("number"==typeof y&&0<=y);var M=0|y/26,O=y%26;return this._expand(M+1),C?this.words[M]|=1<<O:this.words[M]&=~(1<<O),this._strip()},r.prototype.iadd=function(y){var C,M,O;if(0!==this.negative&&0===y.negative)return this.negative=0,C=this.isub(y),this.negative^=1,this._normSign();if(0===this.negative&&0!==y.negative)return y.negative=0,C=this.isub(y),y.negative=1,C._normSign();this.length>y.length?(M=this,O=y):(M=y,O=this);for(var ee=0,$=0;$<O.length;$++)this.words[$]=67108863&(C=(0|M.words[$])+(0|O.words[$])+ee),ee=C>>>26;for(;0!==ee&&$<M.length;$++)this.words[$]=67108863&(C=(0|M.words[$])+ee),ee=C>>>26;if(this.length=M.length,0!==ee)this.words[this.length]=ee,this.length++;else if(M!==this)for(;$<M.length;$++)this.words[$]=M.words[$];return this},r.prototype.add=function(y){var C;return 0!==y.negative&&0===this.negative?(y.negative=0,C=this.sub(y),y.negative^=1,C):0===y.negative&&0!==this.negative?(this.negative=0,C=y.sub(this),this.negative=1,C):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},r.prototype.isub=function(y){if(0!==y.negative){y.negative=0;var C=this.iadd(y);return y.negative=1,C._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var O,ee,M=this.cmp(y);if(0===M)return this.negative=0,this.length=1,this.words[0]=0,this;0<M?(O=this,ee=y):(O=y,ee=this);for(var $=0,ae=0;ae<ee.length;ae++)$=(C=(0|O.words[ae])-(0|ee.words[ae])+$)>>26,this.words[ae]=67108863&C;for(;0!==$&&ae<O.length;ae++)$=(C=(0|O.words[ae])+$)>>26,this.words[ae]=67108863&C;if(0===$&&ae<O.length&&O!==this)for(;ae<O.length;ae++)this.words[ae]=O.words[ae];return this.length=ce(this.length,ae),O!==this&&(this.negative=1),this._strip()},r.prototype.sub=function(y){return this.clone().isub(y)};var P=function(y,C,M){var ot,ye,ut,O=y.words,ee=C.words,$=M.words,ae=0,Fe=0|O[0],He=8191&Fe,Ve=Fe>>>13,it=0|O[1],at=8191&it,qt=it>>>13,Ct=0|O[2],Ht=8191&Ct,Ge=Ct>>>13,dt=0|O[3],vt=8191&dt,G=dt>>>13,ue=0|O[4],Y=8191&ue,oe=ue>>>13,et=0|O[5],ie=8191&et,pe=et>>>13,Ye=0|O[6],ct=8191&Ye,gt=Ye>>>13,$t=0|O[7],Zt=8191&$t,rn=$t>>>13,kn=0|O[8],an=8191&kn,xn=kn>>>13,$n=0|O[9],Cn=8191&$n,On=$n>>>13,Sr=0|ee[0],jt=8191&Sr,Kn=Sr>>>13,ge=0|ee[1],Le=8191&ge,je=ge>>>13,Je=0|ee[2],Qe=8191&Je,ht=Je>>>13,sn=0|ee[3],Ot=8191&sn,Vt=sn>>>13,tn=0|ee[4],wn=8191&tn,on=tn>>>13,Dt=0|ee[5],ke=8191&Dt,Gt=Dt>>>13,Nn=0|ee[6],dn=8191&Nn,Pn=Nn>>>13,Dn=0|ee[7],jn=8191&Dn,Un=Dn>>>13,Yn=0|ee[8],Wn=8191&Yn,Gn=Yn>>>13,rt=0|ee[9],le=8191&rt,nt=rt>>>13;M.negative=y.negative^C.negative,M.length=19;var Qr=0|(0|ae+(ot=_(He,jt)))+((8191&(ye=0|(ye=_(He,Kn))+_(Ve,jt)))<<13);ae=0|(0|(ut=_(Ve,Kn))+(ye>>>13))+(Qr>>>26),Qr&=67108863,ot=_(at,jt),ye=0|(ye=_(at,Kn))+_(qt,jt),ut=_(qt,Kn);var Ri=0|(0|ae+(ot=0|ot+_(He,Le)))+((8191&(ye=0|(ye=0|ye+_(He,je))+_(Ve,Le)))<<13);ae=0|(0|(ut=0|ut+_(Ve,je))+(ye>>>13))+(Ri>>>26),Ri&=67108863,ot=_(Ht,jt),ye=0|(ye=_(Ht,Kn))+_(Ge,jt),ut=_(Ge,Kn),ot=0|ot+_(at,Le),ye=0|(ye=0|ye+_(at,je))+_(qt,Le),ut=0|ut+_(qt,je);var jr=0|(0|ae+(ot=0|ot+_(He,Qe)))+((8191&(ye=0|(ye=0|ye+_(He,ht))+_(Ve,Qe)))<<13);ae=0|(0|(ut=0|ut+_(Ve,ht))+(ye>>>13))+(jr>>>26),jr&=67108863,ot=_(vt,jt),ye=0|(ye=_(vt,Kn))+_(G,jt),ut=_(G,Kn),ot=0|ot+_(Ht,Le),ye=0|(ye=0|ye+_(Ht,je))+_(Ge,Le),ut=0|ut+_(Ge,je),ot=0|ot+_(at,Qe),ye=0|(ye=0|ye+_(at,ht))+_(qt,Qe),ut=0|ut+_(qt,ht);var ci=0|(0|ae+(ot=0|ot+_(He,Ot)))+((8191&(ye=0|(ye=0|ye+_(He,Vt))+_(Ve,Ot)))<<13);ae=0|(0|(ut=0|ut+_(Ve,Vt))+(ye>>>13))+(ci>>>26),ci&=67108863,ot=_(Y,jt),ye=0|(ye=_(Y,Kn))+_(oe,jt),ut=_(oe,Kn),ot=0|ot+_(vt,Le),ye=0|(ye=0|ye+_(vt,je))+_(G,Le),ut=0|ut+_(G,je),ot=0|ot+_(Ht,Qe),ye=0|(ye=0|ye+_(Ht,ht))+_(Ge,Qe),ut=0|ut+_(Ge,ht),ot=0|ot+_(at,Ot),ye=0|(ye=0|ye+_(at,Vt))+_(qt,Ot),ut=0|ut+_(qt,Vt);var ri=0|(0|ae+(ot=0|ot+_(He,wn)))+((8191&(ye=0|(ye=0|ye+_(He,on))+_(Ve,wn)))<<13);ae=0|(0|(ut=0|ut+_(Ve,on))+(ye>>>13))+(ri>>>26),ri&=67108863,ot=_(ie,jt),ye=0|(ye=_(ie,Kn))+_(pe,jt),ut=_(pe,Kn),ot=0|ot+_(Y,Le),ye=0|(ye=0|ye+_(Y,je))+_(oe,Le),ut=0|ut+_(oe,je),ot=0|ot+_(vt,Qe),ye=0|(ye=0|ye+_(vt,ht))+_(G,Qe),ut=0|ut+_(G,ht),ot=0|ot+_(Ht,Ot),ye=0|(ye=0|ye+_(Ht,Vt))+_(Ge,Ot),ut=0|ut+_(Ge,Vt),ot=0|ot+_(at,wn),ye=0|(ye=0|ye+_(at,on))+_(qt,wn),ut=0|ut+_(qt,on);var ur=0|(0|ae+(ot=0|ot+_(He,ke)))+((8191&(ye=0|(ye=0|ye+_(He,Gt))+_(Ve,ke)))<<13);ae=0|(0|(ut=0|ut+_(Ve,Gt))+(ye>>>13))+(ur>>>26),ur&=67108863,ot=_(ct,jt),ye=0|(ye=_(ct,Kn))+_(gt,jt),ut=_(gt,Kn),ot=0|ot+_(ie,Le),ye=0|(ye=0|ye+_(ie,je))+_(pe,Le),ut=0|ut+_(pe,je),ot=0|ot+_(Y,Qe),ye=0|(ye=0|ye+_(Y,ht))+_(oe,Qe),ut=0|ut+_(oe,ht),ot=0|ot+_(vt,Ot),ye=0|(ye=0|ye+_(vt,Vt))+_(G,Ot),ut=0|ut+_(G,Vt),ot=0|ot+_(Ht,wn),ye=0|(ye=0|ye+_(Ht,on))+_(Ge,wn),ut=0|ut+_(Ge,on),ot=0|ot+_(at,ke),ye=0|(ye=0|ye+_(at,Gt))+_(qt,ke),ut=0|ut+_(qt,Gt);var yi=0|(0|ae+(ot=0|ot+_(He,dn)))+((8191&(ye=0|(ye=0|ye+_(He,Pn))+_(Ve,dn)))<<13);ae=0|(0|(ut=0|ut+_(Ve,Pn))+(ye>>>13))+(yi>>>26),yi&=67108863,ot=_(Zt,jt),ye=0|(ye=_(Zt,Kn))+_(rn,jt),ut=_(rn,Kn),ot=0|ot+_(ct,Le),ye=0|(ye=0|ye+_(ct,je))+_(gt,Le),ut=0|ut+_(gt,je),ot=0|ot+_(ie,Qe),ye=0|(ye=0|ye+_(ie,ht))+_(pe,Qe),ut=0|ut+_(pe,ht),ot=0|ot+_(Y,Ot),ye=0|(ye=0|ye+_(Y,Vt))+_(oe,Ot),ut=0|ut+_(oe,Vt),ot=0|ot+_(vt,wn),ye=0|(ye=0|ye+_(vt,on))+_(G,wn),ut=0|ut+_(G,on),ot=0|ot+_(Ht,ke),ye=0|(ye=0|ye+_(Ht,Gt))+_(Ge,ke),ut=0|ut+_(Ge,Gt),ot=0|ot+_(at,dn),ye=0|(ye=0|ye+_(at,Pn))+_(qt,dn),ut=0|ut+_(qt,Pn);var Mr=0|(0|ae+(ot=0|ot+_(He,jn)))+((8191&(ye=0|(ye=0|ye+_(He,Un))+_(Ve,jn)))<<13);ae=0|(0|(ut=0|ut+_(Ve,Un))+(ye>>>13))+(Mr>>>26),Mr&=67108863,ot=_(an,jt),ye=0|(ye=_(an,Kn))+_(xn,jt),ut=_(xn,Kn),ot=0|ot+_(Zt,Le),ye=0|(ye=0|ye+_(Zt,je))+_(rn,Le),ut=0|ut+_(rn,je),ot=0|ot+_(ct,Qe),ye=0|(ye=0|ye+_(ct,ht))+_(gt,Qe),ut=0|ut+_(gt,ht),ot=0|ot+_(ie,Ot),ye=0|(ye=0|ye+_(ie,Vt))+_(pe,Ot),ut=0|ut+_(pe,Vt),ot=0|ot+_(Y,wn),ye=0|(ye=0|ye+_(Y,on))+_(oe,wn),ut=0|ut+_(oe,on),ot=0|ot+_(vt,ke),ye=0|(ye=0|ye+_(vt,Gt))+_(G,ke),ut=0|ut+_(G,Gt),ot=0|ot+_(Ht,dn),ye=0|(ye=0|ye+_(Ht,Pn))+_(Ge,dn),ut=0|ut+_(Ge,Pn),ot=0|ot+_(at,jn),ye=0|(ye=0|ye+_(at,Un))+_(qt,jn),ut=0|ut+_(qt,Un);var Or=0|(0|ae+(ot=0|ot+_(He,Wn)))+((8191&(ye=0|(ye=0|ye+_(He,Gn))+_(Ve,Wn)))<<13);ae=0|(0|(ut=0|ut+_(Ve,Gn))+(ye>>>13))+(Or>>>26),Or&=67108863,ot=_(Cn,jt),ye=0|(ye=_(Cn,Kn))+_(On,jt),ut=_(On,Kn),ot=0|ot+_(an,Le),ye=0|(ye=0|ye+_(an,je))+_(xn,Le),ut=0|ut+_(xn,je),ot=0|ot+_(Zt,Qe),ye=0|(ye=0|ye+_(Zt,ht))+_(rn,Qe),ut=0|ut+_(rn,ht),ot=0|ot+_(ct,Ot),ye=0|(ye=0|ye+_(ct,Vt))+_(gt,Ot),ut=0|ut+_(gt,Vt),ot=0|ot+_(ie,wn),ye=0|(ye=0|ye+_(ie,on))+_(pe,wn),ut=0|ut+_(pe,on),ot=0|ot+_(Y,ke),ye=0|(ye=0|ye+_(Y,Gt))+_(oe,ke),ut=0|ut+_(oe,Gt),ot=0|ot+_(vt,dn),ye=0|(ye=0|ye+_(vt,Pn))+_(G,dn),ut=0|ut+_(G,Pn),ot=0|ot+_(Ht,jn),ye=0|(ye=0|ye+_(Ht,Un))+_(Ge,jn),ut=0|ut+_(Ge,Un),ot=0|ot+_(at,Wn),ye=0|(ye=0|ye+_(at,Gn))+_(qt,Wn),ut=0|ut+_(qt,Gn);var ei=0|(0|ae+(ot=0|ot+_(He,le)))+((8191&(ye=0|(ye=0|ye+_(He,nt))+_(Ve,le)))<<13);ae=0|(0|(ut=0|ut+_(Ve,nt))+(ye>>>13))+(ei>>>26),ei&=67108863,ot=_(Cn,Le),ye=0|(ye=_(Cn,je))+_(On,Le),ut=_(On,je),ot=0|ot+_(an,Qe),ye=0|(ye=0|ye+_(an,ht))+_(xn,Qe),ut=0|ut+_(xn,ht),ot=0|ot+_(Zt,Ot),ye=0|(ye=0|ye+_(Zt,Vt))+_(rn,Ot),ut=0|ut+_(rn,Vt),ot=0|ot+_(ct,wn),ye=0|(ye=0|ye+_(ct,on))+_(gt,wn),ut=0|ut+_(gt,on),ot=0|ot+_(ie,ke),ye=0|(ye=0|ye+_(ie,Gt))+_(pe,ke),ut=0|ut+_(pe,Gt),ot=0|ot+_(Y,dn),ye=0|(ye=0|ye+_(Y,Pn))+_(oe,dn),ut=0|ut+_(oe,Pn),ot=0|ot+_(vt,jn),ye=0|(ye=0|ye+_(vt,Un))+_(G,jn),ut=0|ut+_(G,Un),ot=0|ot+_(Ht,Wn),ye=0|(ye=0|ye+_(Ht,Gn))+_(Ge,Wn),ut=0|ut+_(Ge,Gn);var xr=0|(0|ae+(ot=0|ot+_(at,le)))+((8191&(ye=0|(ye=0|ye+_(at,nt))+_(qt,le)))<<13);ae=0|(0|(ut=0|ut+_(qt,nt))+(ye>>>13))+(xr>>>26),xr&=67108863,ot=_(Cn,Qe),ye=0|(ye=_(Cn,ht))+_(On,Qe),ut=_(On,ht),ot=0|ot+_(an,Ot),ye=0|(ye=0|ye+_(an,Vt))+_(xn,Ot),ut=0|ut+_(xn,Vt),ot=0|ot+_(Zt,wn),ye=0|(ye=0|ye+_(Zt,on))+_(rn,wn),ut=0|ut+_(rn,on),ot=0|ot+_(ct,ke),ye=0|(ye=0|ye+_(ct,Gt))+_(gt,ke),ut=0|ut+_(gt,Gt),ot=0|ot+_(ie,dn),ye=0|(ye=0|ye+_(ie,Pn))+_(pe,dn),ut=0|ut+_(pe,Pn),ot=0|ot+_(Y,jn),ye=0|(ye=0|ye+_(Y,Un))+_(oe,jn),ut=0|ut+_(oe,Un),ot=0|ot+_(vt,Wn),ye=0|(ye=0|ye+_(vt,Gn))+_(G,Wn),ut=0|ut+_(G,Gn);var di=0|(0|ae+(ot=0|ot+_(Ht,le)))+((8191&(ye=0|(ye=0|ye+_(Ht,nt))+_(Ge,le)))<<13);ae=0|(0|(ut=0|ut+_(Ge,nt))+(ye>>>13))+(di>>>26),di&=67108863,ot=_(Cn,Ot),ye=0|(ye=_(Cn,Vt))+_(On,Ot),ut=_(On,Vt),ot=0|ot+_(an,wn),ye=0|(ye=0|ye+_(an,on))+_(xn,wn),ut=0|ut+_(xn,on),ot=0|ot+_(Zt,ke),ye=0|(ye=0|ye+_(Zt,Gt))+_(rn,ke),ut=0|ut+_(rn,Gt),ot=0|ot+_(ct,dn),ye=0|(ye=0|ye+_(ct,Pn))+_(gt,dn),ut=0|ut+_(gt,Pn),ot=0|ot+_(ie,jn),ye=0|(ye=0|ye+_(ie,Un))+_(pe,jn),ut=0|ut+_(pe,Un),ot=0|ot+_(Y,Wn),ye=0|(ye=0|ye+_(Y,Gn))+_(oe,Wn),ut=0|ut+_(oe,Gn);var Xr=0|(0|ae+(ot=0|ot+_(vt,le)))+((8191&(ye=0|(ye=0|ye+_(vt,nt))+_(G,le)))<<13);ae=0|(0|(ut=0|ut+_(G,nt))+(ye>>>13))+(Xr>>>26),Xr&=67108863,ot=_(Cn,wn),ye=0|(ye=_(Cn,on))+_(On,wn),ut=_(On,on),ot=0|ot+_(an,ke),ye=0|(ye=0|ye+_(an,Gt))+_(xn,ke),ut=0|ut+_(xn,Gt),ot=0|ot+_(Zt,dn),ye=0|(ye=0|ye+_(Zt,Pn))+_(rn,dn),ut=0|ut+_(rn,Pn),ot=0|ot+_(ct,jn),ye=0|(ye=0|ye+_(ct,Un))+_(gt,jn),ut=0|ut+_(gt,Un),ot=0|ot+_(ie,Wn),ye=0|(ye=0|ye+_(ie,Gn))+_(pe,Wn),ut=0|ut+_(pe,Gn);var qr=0|(0|ae+(ot=0|ot+_(Y,le)))+((8191&(ye=0|(ye=0|ye+_(Y,nt))+_(oe,le)))<<13);ae=0|(0|(ut=0|ut+_(oe,nt))+(ye>>>13))+(qr>>>26),qr&=67108863,ot=_(Cn,ke),ye=0|(ye=_(Cn,Gt))+_(On,ke),ut=_(On,Gt),ot=0|ot+_(an,dn),ye=0|(ye=0|ye+_(an,Pn))+_(xn,dn),ut=0|ut+_(xn,Pn),ot=0|ot+_(Zt,jn),ye=0|(ye=0|ye+_(Zt,Un))+_(rn,jn),ut=0|ut+_(rn,Un),ot=0|ot+_(ct,Wn),ye=0|(ye=0|ye+_(ct,Gn))+_(gt,Wn),ut=0|ut+_(gt,Gn);var Vr=0|(0|ae+(ot=0|ot+_(ie,le)))+((8191&(ye=0|(ye=0|ye+_(ie,nt))+_(pe,le)))<<13);ae=0|(0|(ut=0|ut+_(pe,nt))+(ye>>>13))+(Vr>>>26),Vr&=67108863,ot=_(Cn,dn),ye=0|(ye=_(Cn,Pn))+_(On,dn),ut=_(On,Pn),ot=0|ot+_(an,jn),ye=0|(ye=0|ye+_(an,Un))+_(xn,jn),ut=0|ut+_(xn,Un),ot=0|ot+_(Zt,Wn),ye=0|(ye=0|ye+_(Zt,Gn))+_(rn,Wn),ut=0|ut+_(rn,Gn);var hi=0|(0|ae+(ot=0|ot+_(ct,le)))+((8191&(ye=0|(ye=0|ye+_(ct,nt))+_(gt,le)))<<13);ae=0|(0|(ut=0|ut+_(gt,nt))+(ye>>>13))+(hi>>>26),hi&=67108863,ot=_(Cn,jn),ye=0|(ye=_(Cn,Un))+_(On,jn),ut=_(On,Un),ot=0|ot+_(an,Wn),ye=0|(ye=0|ye+_(an,Gn))+_(xn,Wn),ut=0|ut+_(xn,Gn);var pi=0|(0|ae+(ot=0|ot+_(Zt,le)))+((8191&(ye=0|(ye=0|ye+_(Zt,nt))+_(rn,le)))<<13);ae=0|(0|(ut=0|ut+_(rn,nt))+(ye>>>13))+(pi>>>26),pi&=67108863,ot=_(Cn,Wn),ye=0|(ye=_(Cn,Gn))+_(On,Wn),ut=_(On,Gn);var Hr=0|(0|ae+(ot=0|ot+_(an,le)))+((8191&(ye=0|(ye=0|ye+_(an,nt))+_(xn,le)))<<13);ae=0|(0|(ut=0|ut+_(xn,nt))+(ye>>>13))+(Hr>>>26),Hr&=67108863;var Qn=0|(0|ae+(ot=_(Cn,le)))+((8191&(ye=0|(ye=_(Cn,nt))+_(On,le)))<<13);return ae=0|(0|(ut=_(On,nt))+(ye>>>13))+(Qn>>>26),Qn&=67108863,$[0]=Qr,$[1]=Ri,$[2]=jr,$[3]=ci,$[4]=ri,$[5]=ur,$[6]=yi,$[7]=Mr,$[8]=Or,$[9]=ei,$[10]=xr,$[11]=di,$[12]=Xr,$[13]=qr,$[14]=Vr,$[15]=hi,$[16]=pi,$[17]=Hr,$[18]=Qn,0!==ae&&($[19]=ae,M.length++),M};_||(P=u),r.prototype.mulTo=function(y,C){var M=this.length+y.length;return 10===this.length&&10===y.length?P(this,y,C):63>M?u(this,y,C):1024>M?o(this,y,C):d(this,y,C)},f.prototype.makeRBT=function(y){for(var C=Array(y),M=r.prototype._countBits(y)-1,O=0;O<y;O++)C[O]=this.revBin(O,M,y);return C},f.prototype.revBin=function(y,C,M){if(0===y||y===M-1)return y;for(var O=0,ee=0;ee<C;ee++)O|=(1&y)<<C-ee-1,y>>=1;return O},f.prototype.permute=function(y,C,M,O,ee,$){for(var ae=0;ae<$;ae++)O[ae]=C[y[ae]],ee[ae]=M[y[ae]]},f.prototype.transform=function(y,C,M,O,ee,$){this.permute($,y,C,M,O,ee);for(var ae=1;ae<ee;ae<<=1)for(var Fe=ae<<1,He=Ue(2*Pe/Fe),Ve=V(2*Pe/Fe),it=0;it<ee;it+=Fe)for(var at=He,qt=Ve,Ct=0;Ct<ae;Ct++){var Ht=M[it+Ct],Ge=O[it+Ct],dt=M[it+Ct+ae],vt=O[it+Ct+ae],G=at*dt-qt*vt;vt=at*vt+qt*dt,M[it+Ct]=Ht+(dt=G),O[it+Ct]=Ge+vt,M[it+Ct+ae]=Ht-dt,O[it+Ct+ae]=Ge-vt,Ct!==Fe&&(G=He*at-Ve*qt,qt=He*qt+Ve*at,at=G)}},f.prototype.guessLen13b=function(y,C){var M=1|ce(C,y),O=1&M,ee=0;for(M=0|M/2;M;M>>>=1)ee++;return 1<<ee+1+O},f.prototype.conjugate=function(y,C,M){if(!(1>=M))for(var ee,O=0;O<M/2;O++)ee=y[O],y[O]=y[M-O-1],y[M-O-1]=ee,ee=C[O],C[O]=-C[M-O-1],C[M-O-1]=-ee},f.prototype.normalize13b=function(y,C){for(var ee,M=0,O=0;O<C/2;O++)ee=8192*kt(y[2*O+1]/C)+kt(y[2*O]/C)+M,y[O]=67108863&ee,M=67108864>ee?0:0|ee/67108864;return y},f.prototype.convert13b=function(y,C,M,O){for(var ee=0,$=0;$<C;$++)M[2*$]=8191&(ee+=0|y[$]),M[2*$+1]=8191&(ee>>>=13),ee>>>=13;for($=2*C;$<O;++$)M[$]=0;p(0===ee),p(0==(-8192&ee))},f.prototype.stub=function(y){for(var C=Array(y),M=0;M<y;M++)C[M]=0;return C},f.prototype.mulp=function(y,C,M){var O=2*this.guessLen13b(y.length,C.length),ee=this.makeRBT(O),$=this.stub(O),ae=Array(O),Fe=Array(O),He=Array(O),Ve=Array(O),it=Array(O),at=Array(O),qt=M.words;qt.length=O,this.convert13b(y.words,y.length,ae,O),this.convert13b(C.words,C.length,Ve,O),this.transform(ae,$,Fe,He,O,ee),this.transform(Ve,$,it,at,O,ee);for(var Ht,Ct=0;Ct<O;Ct++)Ht=Fe[Ct]*it[Ct]-He[Ct]*at[Ct],He[Ct]=Fe[Ct]*at[Ct]+He[Ct]*it[Ct],Fe[Ct]=Ht;return this.conjugate(Fe,He,O),this.transform(Fe,He,qt,$,O,ee),this.conjugate(qt,$,O),this.normalize13b(qt,O),M.negative=y.negative^C.negative,M.length=y.length+C.length,M._strip()},r.prototype.mul=function(y){var C=new r(null);return C.words=Array(this.length+y.length),this.mulTo(y,C)},r.prototype.mulf=function(y){var C=new r(null);return C.words=Array(this.length+y.length),d(this,y,C)},r.prototype.imul=function(y){return this.clone().mulTo(y,this)},r.prototype.imuln=function(y){var C=0>y;C&&(y=-y),p("number"==typeof y),p(67108864>y);for(var M=0,O=0;O<this.length;O++){var ee=(0|this.words[O])*y,$=(67108863&ee)+(67108863&M);M>>=26,M+=0|ee/67108864,M+=$>>>26,this.words[O]=67108863&$}return 0!==M&&(this.words[O]=M,this.length++),C?this.ineg():this},r.prototype.muln=function(y){return this.clone().imuln(y)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(y){var C=function s(y){for(var C=Array(y.bitLength()),M=0;M<C.length;M++)C[M]=1&y.words[0|M/26]>>>M%26;return C}(y);if(0===C.length)return new r(1);for(var M=this,O=0;O<C.length&&0===C[O];O++,M=M.sqr());if(++O<C.length)for(var ee=M.sqr();O<C.length;O++,ee=ee.sqr())0!==C[O]&&(M=M.mul(ee));return M},r.prototype.iushln=function(y){p("number"==typeof y&&0<=y);var O,C=y%26,M=(y-C)/26;if(0!=C){var ee=0;for(O=0;O<this.length;O++){var $=this.words[O]&67108863>>>26-C<<26-C;this.words[O]=(0|this.words[O])-$<<C|ee,ee=$>>>26-C}ee&&(this.words[O]=ee,this.length++)}if(0!==M){for(O=this.length-1;0<=O;O--)this.words[O+M]=this.words[O];for(O=0;O<M;O++)this.words[O]=0;this.length+=M}return this._strip()},r.prototype.ishln=function(y){return p(0===this.negative),this.iushln(y)},r.prototype.iushrn=function(y,C,M){p("number"==typeof y&&0<=y);var O=C?(C-C%26)/26:0,ee=y%26,$=ne((y-ee)/26,this.length),ae=M;if(O=ce(0,O-=$),ae){for(var Fe=0;Fe<$;Fe++)ae.words[Fe]=this.words[Fe];ae.length=$}if(0!==$)if(this.length>$)for(this.length-=$,Fe=0;Fe<this.length;Fe++)this.words[Fe]=this.words[Fe+$];else this.words[0]=0,this.length=1;var He=0;for(Fe=this.length-1;0<=Fe&&(0!==He||Fe>=O);Fe--){var Ve=0|this.words[Fe];this.words[Fe]=He<<26-ee|Ve>>>ee,He=Ve&(67108863^67108863>>>ee<<ee)}return ae&&0!==He&&(ae.words[ae.length++]=He),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},r.prototype.ishrn=function(y,C,M){return p(0===this.negative),this.iushrn(y,C,M)},r.prototype.shln=function(y){return this.clone().ishln(y)},r.prototype.ushln=function(y){return this.clone().iushln(y)},r.prototype.shrn=function(y){return this.clone().ishrn(y)},r.prototype.ushrn=function(y){return this.clone().iushrn(y)},r.prototype.testn=function(y){p("number"==typeof y&&0<=y);var C=y%26,M=(y-C)/26;return!(this.length<=M||!(this.words[M]&1<<C))},r.prototype.imaskn=function(y){p("number"==typeof y&&0<=y);var C=y%26,M=(y-C)/26;return p(0===this.negative,"imaskn works only with positive numbers"),this.length<=M?this:(0!=C&&M++,this.length=ne(M,this.length),0!=C&&(this.words[this.length-1]&=67108863^67108863>>>C<<C),this._strip())},r.prototype.maskn=function(y){return this.clone().imaskn(y)},r.prototype.iaddn=function(y){return p("number"==typeof y),p(67108864>y),0>y?this.isubn(-y):0===this.negative?this._iaddn(y):1===this.length&&(0|this.words[0])<=y?(this.words[0]=y-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this)},r.prototype._iaddn=function(y){this.words[0]+=y;for(var C=0;C<this.length&&67108864<=this.words[C];C++)this.words[C]-=67108864,C==this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=ce(this.length,C+1),this},r.prototype.isubn=function(y){if(p("number"==typeof y),p(67108864>y),0>y)return this.iaddn(-y);if(0!==this.negative)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&0>this.words[C];C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},r.prototype.addn=function(y){return this.clone().iaddn(y)},r.prototype.subn=function(y){return this.clone().isubn(y)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(y,C,M){var ee;this._expand(y.length+M);var ae,$=0;for(ee=0;ee<y.length;ee++){ae=(0|this.words[ee+M])+$;var Fe=(0|y.words[ee])*C;$=((ae-=67108863&Fe)>>26)-(0|Fe/67108864),this.words[ee+M]=67108863&ae}for(;ee<this.length-M;ee++)$=(ae=(0|this.words[ee+M])+$)>>26,this.words[ee+M]=67108863&ae;if(0===$)return this._strip();for(p(-1===$),$=0,ee=0;ee<this.length;ee++)$=(ae=-(0|this.words[ee])+$)>>26,this.words[ee]=67108863&ae;return this.negative=1,this._strip()},r.prototype._wordDiv=function(y,C){var M,O=this.clone(),ee=y,$=0|ee.words[ee.length-1];0!=(M=26-this._countBits($))&&(ee=ee.ushln(M),O.iushln(M),$=0|ee.words[ee.length-1]);var He,Fe=O.length-ee.length;if("mod"!==C){(He=new r(null)).length=Fe+1,He.words=Array(He.length);for(var Ve=0;Ve<He.length;Ve++)He.words[Ve]=0}var it=O.clone()._ishlnsubmul(ee,1,Fe);0===it.negative&&(O=it,He&&(He.words[Fe]=1));for(var qt,at=Fe-1;0<=at;at--){for(qt=ne(0|(qt=67108864*(0|O.words[ee.length+at])+(0|O.words[ee.length+at-1]))/$,67108863),O._ishlnsubmul(ee,qt,at);0!==O.negative;)qt--,O.negative=0,O._ishlnsubmul(ee,1,at),O.isZero()||(O.negative^=1);He&&(He.words[at]=qt)}return He&&He._strip(),O._strip(),"div"!==C&&0!==M&&O.iushrn(M),{div:He||null,mod:O}},r.prototype.divmod=function(y,C,M){return p(!y.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===y.negative?($=this.neg().divmod(y,C),"mod"!==C&&(O=$.div.neg()),"div"!==C&&(ee=$.mod.neg(),M&&0!==ee.negative&&ee.iadd(y)),{div:O,mod:ee}):0===this.negative&&0!==y.negative?($=this.divmod(y.neg(),C),"mod"!==C&&(O=$.div.neg()),{div:O,mod:$.mod}):0==(this.negative&y.negative)?y.length>this.length||0>this.cmp(y)?{div:new r(0),mod:this}:1===y.length?"div"===C?{div:this.divn(y.words[0]),mod:null}:"mod"===C?{div:null,mod:new r(this.modrn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new r(this.modrn(y.words[0]))}:this._wordDiv(y,C):($=this.neg().divmod(y.neg(),C),"div"!==C&&(ee=$.mod.neg(),M&&0!==ee.negative&&ee.isub(y)),{div:$.div,mod:ee});var O,ee,$},r.prototype.div=function(y){return this.divmod(y,"div",!1).div},r.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},r.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},r.prototype.divRound=function(y){var C=this.divmod(y);if(C.mod.isZero())return C.div;var M=0===C.div.negative?C.mod:C.mod.isub(y),O=y.ushrn(1),ee=y.andln(1),$=M.cmp(O);return 0>$||1===ee&&0===$?C.div:0===C.div.negative?C.div.iaddn(1):C.div.isubn(1)},r.prototype.modrn=function(y){var C=0>y;C&&(y=-y),p(67108863>=y);for(var M=67108864%y,O=0,ee=this.length-1;0<=ee;ee--)O=(M*O+(0|this.words[ee]))%y;return C?-O:O},r.prototype.modn=function(y){return this.modrn(y)},r.prototype.idivn=function(y){var C=0>y;C&&(y=-y),p(67108863>=y);for(var ee,M=0,O=this.length-1;0<=O;O--)this.words[O]=0|(ee=(0|this.words[O])+67108864*M)/y,M=ee%y;return this._strip(),C?this.ineg():this},r.prototype.divn=function(y){return this.clone().idivn(y)},r.prototype.egcd=function(y){p(0===y.negative),p(!y.isZero());var C=this,M=y.clone();C=0===C.negative?C.clone():C.umod(y);for(var O=new r(1),ee=new r(0),$=new r(0),ae=new r(1),Fe=0;C.isEven()&&M.isEven();)C.iushrn(1),M.iushrn(1),++Fe;for(var He=M.clone(),Ve=C.clone();!C.isZero();){for(var it=0,at=1;0==(C.words[0]&at)&&26>it;++it,at<<=1);if(0<it)for(C.iushrn(it);0<it--;)(O.isOdd()||ee.isOdd())&&(O.iadd(He),ee.isub(Ve)),O.iushrn(1),ee.iushrn(1);for(var qt=0,Ct=1;0==(M.words[0]&Ct)&&26>qt;++qt,Ct<<=1);if(0<qt)for(M.iushrn(qt);0<qt--;)($.isOdd()||ae.isOdd())&&($.iadd(He),ae.isub(Ve)),$.iushrn(1),ae.iushrn(1);0<=C.cmp(M)?(C.isub(M),O.isub($),ee.isub(ae)):(M.isub(C),$.isub(O),ae.isub(ee))}return{a:$,b:ae,gcd:M.iushln(Fe)}},r.prototype._invmp=function(y){p(0===y.negative),p(!y.isZero());var it,C=this,M=y.clone();C=0===C.negative?C.clone():C.umod(y);for(var O=new r(1),ee=new r(0),$=M.clone();0<C.cmpn(1)&&0<M.cmpn(1);){for(var ae=0,Fe=1;0==(C.words[0]&Fe)&&26>ae;++ae,Fe<<=1);if(0<ae)for(C.iushrn(ae);0<ae--;)O.isOdd()&&O.iadd($),O.iushrn(1);for(var He=0,Ve=1;0==(M.words[0]&Ve)&&26>He;++He,Ve<<=1);if(0<He)for(M.iushrn(He);0<He--;)ee.isOdd()&&ee.iadd($),ee.iushrn(1);0<=C.cmp(M)?(C.isub(M),O.isub(ee)):(M.isub(C),ee.isub(O))}return 0>(it=0===C.cmpn(1)?O:ee).cmpn(0)&&it.iadd(y),it},r.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var C=this.clone(),M=y.clone();C.negative=0,M.negative=0;for(var O=0;C.isEven()&&M.isEven();O++)C.iushrn(1),M.iushrn(1);for(;;){for(;C.isEven();)C.iushrn(1);for(;M.isEven();)M.iushrn(1);var ee=C.cmp(M);if(0>ee){var $=C;C=M,M=$}else if(0===ee||0===M.cmpn(1))break;C.isub(M)}return M.iushln(O)},r.prototype.invm=function(y){return this.egcd(y).a.umod(y)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(y){return this.words[0]&y},r.prototype.bincn=function(y){p("number"==typeof y);var C=y%26,M=(y-C)/26,O=1<<C;if(this.length<=M)return this._expand(M+1),this.words[M]|=O,this;for(var ae,ee=O,$=M;0!==ee&&$<this.length;$++)ae=0|this.words[$],ee=(ae+=ee)>>>26,this.words[$]=ae&=67108863;return 0!==ee&&(this.words[$]=ee,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(y){var M,C=0>y;if(0!==this.negative&&!C)return-1;if(0===this.negative&&C)return 1;if(this._strip(),1<this.length)M=1;else{C&&(y=-y),p(67108863>=y,"Number is too big");var O=0|this.words[0];M=O===y?0:O<y?-1:1}return 0===this.negative?M:0|-M},r.prototype.cmp=function(y){if(0!==this.negative&&0===y.negative)return-1;if(0===this.negative&&0!==y.negative)return 1;var C=this.ucmp(y);return 0===this.negative?C:0|-C},r.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var C=0,M=this.length-1;0<=M;M--){var O=0|this.words[M],ee=0|y.words[M];if(O!=ee){O<ee?C=-1:O>ee&&(C=1);break}}return C},r.prototype.gtn=function(y){return 1===this.cmpn(y)},r.prototype.gt=function(y){return 1===this.cmp(y)},r.prototype.gten=function(y){return 0<=this.cmpn(y)},r.prototype.gte=function(y){return 0<=this.cmp(y)},r.prototype.ltn=function(y){return-1===this.cmpn(y)},r.prototype.lt=function(y){return-1===this.cmp(y)},r.prototype.lten=function(y){return 0>=this.cmpn(y)},r.prototype.lte=function(y){return 0>=this.cmp(y)},r.prototype.eqn=function(y){return 0===this.cmpn(y)},r.prototype.eq=function(y){return 0===this.cmp(y)},r.red=function(y){return new F(y)},r.prototype.toRed=function(y){return p(!this.red,"Already a number in reduction context"),p(0===this.negative,"red works only with positives"),y.convertTo(this)._forceRed(y)},r.prototype.fromRed=function(){return p(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(y){return this.red=y,this},r.prototype.forceRed=function(y){return p(!this.red,"Already a number in reduction context"),this._forceRed(y)},r.prototype.redAdd=function(y){return p(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},r.prototype.redIAdd=function(y){return p(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},r.prototype.redSub=function(y){return p(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},r.prototype.redISub=function(y){return p(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},r.prototype.redShl=function(y){return p(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},r.prototype.redMul=function(y){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},r.prototype.redIMul=function(y){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},r.prototype.redSqr=function(){return p(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return p(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return p(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return p(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return p(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(y){return p(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var U={k256:null,p224:null,p192:null,p25519:null};E.prototype._tmp=function(){var y=new r(null);return y.words=Array(de(this.n/13)),y},E.prototype.ireduce=function(y){var M,C=y;do{this.split(C,this.tmp),M=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength()}while(M>this.n);var O=M<this.n?-1:C.ucmp(this.p);return 0===O?(C.words[0]=0,C.length=1):0<O?C.isub(this.p):void 0===C.strip?C._strip():C.strip(),C},E.prototype.split=function(y,C){y.iushrn(this.n,0,C)},E.prototype.imulK=function(y){return y.imul(this.k)},x(b,E),b.prototype.split=function(y,C){for(var M=4194303,O=ne(y.length,9),ee=0;ee<O;ee++)C.words[ee]=y.words[ee];if(C.length=O,9>=y.length)return y.words[0]=0,void(y.length=1);var $=y.words[9];for(C.words[C.length++]=$&M,ee=10;ee<y.length;ee++){var ae=0|y.words[ee];y.words[ee-10]=(ae&M)<<4|$>>>22,$=ae}y.words[ee-10]=$>>>=22,y.length-=0===$&&10<y.length?10:9},b.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var O,C=0,M=0;M<y.length;M++)y.words[M]=67108863&(C+=977*(O=0|y.words[M])),C=64*O+(0|C/67108864);return 0===y.words[y.length-1]&&(y.length--,0===y.words[y.length-1]&&y.length--),y},x(I,E),x(S,E),x(R,E),R.prototype.imulK=function(y){for(var C=0,M=0;M<y.length;M++){var O=19*(0|y.words[M])+C,ee=67108863&O;O>>>=26,y.words[M]=ee,C=O}return 0!==C&&(y.words[y.length++]=C),y},r._prime=function(C){if(U[C])return U[C];var M;if("k256"===C)M=new b;else if("p224"===C)M=new I;else if("p192"===C)M=new S;else{if("p25519"!==C)throw new Error("Unknown prime "+C);M=new R}return U[C]=M,M},F.prototype._verify1=function(y){p(0===y.negative,"red works only with positives"),p(y.red,"red works only with red numbers")},F.prototype._verify2=function(y,C){p(0==(y.negative|C.negative),"red works only with positives"),p(y.red&&y.red===C.red,"red works only with red numbers")},F.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):(t(y,y.umod(this.m)._forceRed(this)),y)},F.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},F.prototype.add=function(y,C){this._verify2(y,C);var M=y.add(C);return 0<=M.cmp(this.m)&&M.isub(this.m),M._forceRed(this)},F.prototype.iadd=function(y,C){this._verify2(y,C);var M=y.iadd(C);return 0<=M.cmp(this.m)&&M.isub(this.m),M},F.prototype.sub=function(y,C){this._verify2(y,C);var M=y.sub(C);return 0>M.cmpn(0)&&M.iadd(this.m),M._forceRed(this)},F.prototype.isub=function(y,C){this._verify2(y,C);var M=y.isub(C);return 0>M.cmpn(0)&&M.iadd(this.m),M},F.prototype.shl=function(y,C){return this._verify1(y),this.imod(y.ushln(C))},F.prototype.imul=function(y,C){return this._verify2(y,C),this.imod(y.imul(C))},F.prototype.mul=function(y,C){return this._verify2(y,C),this.imod(y.mul(C))},F.prototype.isqr=function(y){return this.imul(y,y.clone())},F.prototype.sqr=function(y){return this.mul(y,y)},F.prototype.sqrt=function(y){if(y.isZero())return y.clone();var C=this.m.andln(3);if(p(C%2==1),3===C){var M=this.m.add(new r(1)).iushrn(2);return this.pow(y,M)}for(var O=this.m.subn(1),ee=0;!O.isZero()&&0===O.andln(1);)ee++,O.iushrn(1);p(!O.isZero());var $=new r(1).toRed(this),ae=$.redNeg(),Fe=this.m.subn(1).iushrn(1),He=this.m.bitLength();for(He=new r(2*He*He).toRed(this);0!==this.pow(He,Fe).cmp(ae);)He.redIAdd(ae);for(var Ve=this.pow(He,O),it=this.pow(y,O.addn(1).iushrn(1)),at=this.pow(y,O),qt=ee;0!==at.cmp($);){for(var Ct=at,Ht=0;0!==Ct.cmp($);Ht++)Ct=Ct.redSqr();p(Ht<qt);var Ge=this.pow(Ve,new r(1).iushln(qt-Ht-1));it=it.redMul(Ge),Ve=Ge.redSqr(),at=at.redMul(Ve),qt=Ht}return it},F.prototype.invm=function(y){var C=y._invmp(this.m);return 0===C.negative?this.imod(C):(C.negative=0,this.imod(C).redNeg())},F.prototype.pow=function(y,C){if(C.isZero())return new r(1).toRed(this);if(0===C.cmpn(1))return y.clone();var M=Array(16);M[0]=new r(1).toRed(this),M[1]=y;for(var O=2;O<M.length;O++)M[O]=this.mul(M[O-1],y);var ee=M[0],$=0,ae=0,Fe=C.bitLength()%26;for(0===Fe&&(Fe=26),O=C.length-1;0<=O;O--){for(var it,He=C.words[O],Ve=Fe-1;0<=Ve;Ve--)it=1&He>>Ve,ee!==M[0]&&(ee=this.sqr(ee)),0!==it||0!==$?($<<=1,$|=it,(4==++ae||0===O&&0===Ve)&&(ee=this.mul(ee,M[$]),ae=0,$=0)):ae=0;Fe=26}return ee},F.prototype.convertTo=function(y){var C=y.umod(this.m);return C===y?C.clone():C},F.prototype.convertFrom=function(y){var C=y.clone();return C.red=null,C},r.mont=function(y){return new q(y)},x(q,F),q.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},q.prototype.convertFrom=function(y){var C=this.imod(y.mul(this.rinv));return C.red=null,C},q.prototype.imul=function(y,C){if(y.isZero()||C.isZero())return y.words[0]=0,y.length=1,y;var M=y.imul(C),O=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ee=M.isub(O).iushrn(this.shift),$=ee;return 0<=ee.cmp(this.m)?$=ee.isub(this.m):0>ee.cmpn(0)&&($=ee.iadd(this.m)),$._forceRed(this)},q.prototype.mul=function(y,C){if(y.isZero()||C.isZero())return new r(0)._forceRed(this);var M=y.mul(C),O=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ee=M.isub(O).iushrn(this.shift),$=ee;return 0<=ee.cmp(this.m)?$=ee.isub(this.m):0>ee.cmpn(0)&&($=ee.iadd(this.m)),$._forceRed(this)},q.prototype.invm=function(y){return this.imod(y._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===L||L,this)},{buffer:41}],40:[function(v,L){function h(x){this.rand=x}var g;if(L.exports=function(x){return g||(g=new h(null)),g.generate(x)},L.exports.Rand=h,h.prototype.generate=function(x){return this._rand(x)},h.prototype._rand=function(x){if(this.rand.getBytes)return this.rand.getBytes(x);for(var r=new Uint8Array(x),c=0;c<r.length;c++)r[c]=this.rand.getByte();return r},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?h.prototype._rand=function(x){var r=new Uint8Array(x);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?h.prototype._rand=function(x){var r=new Uint8Array(x);return self.msCrypto.getRandomValues(r),r}:"object"==typeof window&&(h.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var p=v("crypto");if("function"!=typeof p.randomBytes)throw new Error("Not supported");h.prototype._rand=function(x){return p.randomBytes(x)}}catch(x){}},{crypto:41}],41:[function(){},{}],42:[function(v,L){function h(n){r.isBuffer(n)||(n=r.from(n));for(var t=0|n.length/4,i=Array(t),s=0;s<t;s++)i[s]=n.readUInt32BE(4*s);return i}function g(n){for(;0<n.length;n++)n[0]=0}function p(n,t,i,s,u){for(var K,se,xe,we,o=i[0],d=i[1],f=i[2],E=i[3],b=n[0]^t[0],I=n[1]^t[1],S=n[2]^t[2],R=n[3]^t[3],F=4,q=1;q<u;q++)K=o[b>>>24]^d[255&I>>>16]^f[255&S>>>8]^E[255&R]^t[F++],se=o[I>>>24]^d[255&S>>>16]^f[255&R>>>8]^E[255&b]^t[F++],xe=o[S>>>24]^d[255&R>>>16]^f[255&b>>>8]^E[255&I]^t[F++],we=o[R>>>24]^d[255&b>>>16]^f[255&I>>>8]^E[255&S]^t[F++],b=K,I=se,S=xe,R=we;return K=(s[b>>>24]<<24|s[255&I>>>16]<<16|s[255&S>>>8]<<8|s[255&R])^t[F++],se=(s[I>>>24]<<24|s[255&S>>>16]<<16|s[255&R>>>8]<<8|s[255&b])^t[F++],xe=(s[S>>>24]<<24|s[255&R>>>16]<<16|s[255&b>>>8]<<8|s[255&I])^t[F++],we=(s[R>>>24]<<24|s[255&b>>>16]<<16|s[255&I>>>8]<<8|s[255&S])^t[F++],[K>>>=0,se>>>=0,xe>>>=0,we>>>=0]}function x(n){this._key=h(n),this._reset()}var r=v("safe-buffer").Buffer,c=[0,1,2,4,8,16,32,64,128,27,54],l=function(){for(var n=Array(256),t=0;256>t;t++)n[t]=128>t?t<<1:283^t<<1;for(var b,i=[],s=[],u=[[],[],[],[]],o=[[],[],[],[]],d=0,f=0,E=0;256>E;++E){i[d]=b=(b=f^f<<1^f<<2^f<<3^f<<4)>>>8^255&b^99,s[b]=d;var I=n[d],S=n[I],R=n[S],F=257*n[b]^16843008*b;u[0][d]=F<<24|F>>>8,u[1][d]=F<<16|F>>>16,u[2][d]=F<<8|F>>>24,u[3][d]=F,o[0][b]=(F=16843009*R^65537*S^257*I^16843008*d)<<24|F>>>8,o[1][b]=F<<16|F>>>16,o[2][b]=F<<8|F>>>24,o[3][b]=F,0===d?d=f=1:(d=I^n[n[n[R^I]]],f^=n[n[f]])}return{SBOX:i,INV_SBOX:s,SUB_MIX:u,INV_SUB_MIX:o}}();x.blockSize=16,x.keySize=32,x.prototype.blockSize=x.blockSize,x.prototype.keySize=x.keySize,x.prototype._reset=function(){for(var n=this._key,t=n.length,i=t+6,s=4*(i+1),u=[],o=0;o<t;o++)u[o]=n[o];for(o=t;o<s;o++){var d=u[o-1];o%t==0?(d=l.SBOX[(d=d<<8|d>>>24)>>>24]<<24|l.SBOX[255&d>>>16]<<16|l.SBOX[255&d>>>8]<<8|l.SBOX[255&d],d^=c[0|o/t]<<24):6<t&&o%t==4&&(d=l.SBOX[d>>>24]<<24|l.SBOX[255&d>>>16]<<16|l.SBOX[255&d>>>8]<<8|l.SBOX[255&d]),u[o]=u[o-t]^d}for(var f=[],E=0;E<s;E++){var b=s-E,I=u[b-(E%4?0:4)];f[E]=4>E||4>=b?I:l.INV_SUB_MIX[0][l.SBOX[I>>>24]]^l.INV_SUB_MIX[1][l.SBOX[255&I>>>16]]^l.INV_SUB_MIX[2][l.SBOX[255&I>>>8]]^l.INV_SUB_MIX[3][l.SBOX[255&I]]}this._nRounds=i,this._keySchedule=u,this._invKeySchedule=f},x.prototype.encryptBlockRaw=function(n){return p(n=h(n),this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)},x.prototype.encryptBlock=function(n){var t=this.encryptBlockRaw(n),i=r.allocUnsafe(16);return i.writeUInt32BE(t[0],0),i.writeUInt32BE(t[1],4),i.writeUInt32BE(t[2],8),i.writeUInt32BE(t[3],12),i},x.prototype.decryptBlock=function(n){var t=(n=h(n))[1];n[1]=n[3],n[3]=t;var i=p(n,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds),s=r.allocUnsafe(16);return s.writeUInt32BE(i[0],0),s.writeUInt32BE(i[3],4),s.writeUInt32BE(i[2],8),s.writeUInt32BE(i[1],12),s},x.prototype.scrub=function(){g(this._keySchedule),g(this._invKeySchedule),g(this._key)},L.exports.AES=x},{"safe-buffer":247}],43:[function(v,L){function p(s,u,o,d){c.call(this);var f=r.alloc(4,0);this._cipher=new x.AES(u);var E=this._cipher.encryptBlock(f);this._ghash=new n(E),o=function g(s,u,o){if(12===u.length)return s._finID=r.concat([u,r.from([0,0,0,1])]),r.concat([u,r.from([0,0,0,2])]);var d=new n(o),f=u.length,E=f%16;d.update(u),E&&d.update(r.alloc(E=16-E,0)),d.update(r.alloc(8,0));var b=r.alloc(8);b.writeUIntBE(8*f,0,8),d.update(b),s._finID=d.state;var I=r.from(s._finID);return i(I),I}(this,o,E),this._prev=r.from(o),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=d,this._alen=0,this._len=0,this._mode=s,this._authTag=null,this._called=!1}var x=v("./aes"),r=v("safe-buffer").Buffer,c=v("cipher-base"),l=v("inherits"),n=v("./ghash"),t=v("buffer-xor"),i=v("./incr32");l(p,c),p.prototype._update=function(s){if(!this._called&&this._alen){var u=16-this._alen%16;16>u&&(u=r.alloc(u,0),this._ghash.update(u))}this._called=!0;var o=this._mode.encrypt(this,s);return this._ghash.update(this._decrypt?s:o),this._len+=s.length,o},p.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var s=t(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function h(s,u){var o=0;s.length!==u.length&&o++;for(var d=ne(s.length,u.length),f=0;f<d;++f)o+=s[f]^u[f];return o}(s,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=s,this._cipher.scrub()},p.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},p.prototype.setAuthTag=function(s){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=s},p.prototype.setAAD=function(s){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(s),this._alen+=s.length},L.exports=p},{"./aes":42,"./ghash":47,"./incr32":48,"buffer-xor":90,"cipher-base":94,inherits:159,"safe-buffer":247}],44:[function(v,L,h){var g=v("./encrypter"),p=v("./decrypter"),x=v("./modes/list.json");h.createCipher=h.Cipher=g.createCipher,h.createCipheriv=h.Cipheriv=g.createCipheriv,h.createDecipher=h.Decipher=p.createDecipher,h.createDecipheriv=h.Decipheriv=p.createDecipheriv,h.listCiphers=h.getCiphers=function(){return Object.keys(x)}},{"./decrypter":45,"./encrypter":46,"./modes/list.json":56}],45:[function(v,L,h){function g(d,f,E){i.call(this),this._cache=new p,this._last=void 0,this._cipher=new s.AES(f),this._prev=l.from(E),this._mode=d,this._autopadding=!0}function p(){this.cache=l.allocUnsafe(0)}function r(d,f,E){var b=n[d.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if("string"==typeof E&&(E=l.from(E)),"GCM"!==b.mode&&E.length!==b.iv)throw new TypeError("invalid iv length "+E.length);if("string"==typeof f&&(f=l.from(f)),f.length!==b.key/8)throw new TypeError("invalid key length "+f.length);return"stream"===b.type?new t(b.module,f,E,!0):"auth"===b.type?new c(b.module,f,E,!0):new g(b.module,f,E)}var c=v("./authCipher"),l=v("safe-buffer").Buffer,n=v("./modes"),t=v("./streamCipher"),i=v("cipher-base"),s=v("./aes"),u=v("evp_bytestokey");v("inherits")(g,i),g.prototype._update=function(d){this._cache.add(d);for(var E,b,f=[];E=this._cache.get(this._autopadding);)b=this._mode.decrypt(this,E),f.push(b);return l.concat(f)},g.prototype._final=function(){var d=this._cache.flush();if(this._autopadding)return function x(d){var f=d[15];if(1>f||16<f)throw new Error("unable to decrypt data");for(var E=-1;++E<f;)if(d[E+(16-f)]!==f)throw new Error("unable to decrypt data");return 16===f?void 0:d.slice(0,16-f)}(this._mode.decrypt(this,d));if(d)throw new Error("data not multiple of block length")},g.prototype.setAutoPadding=function(d){return this._autopadding=!!d,this},p.prototype.add=function(d){this.cache=l.concat([this.cache,d])},p.prototype.get=function(d){var f;if(d){if(16<this.cache.length)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f}else if(16<=this.cache.length)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f;return null},p.prototype.flush=function(){if(this.cache.length)return this.cache},h.createDecipher=function(d,f){var E=n[d.toLowerCase()];if(!E)throw new TypeError("invalid suite type");var b=u(f,!1,E.key,E.iv);return r(d,b.key,b.iv)},h.createDecipheriv=r},{"./aes":42,"./authCipher":43,"./modes":55,"./streamCipher":58,"cipher-base":94,evp_bytestokey:137,inherits:159,"safe-buffer":247}],46:[function(v,L,h){function g(d,f,E){t.call(this),this._cache=new p,this._cipher=new i.AES(f),this._prev=l.from(E),this._mode=d,this._autopadding=!0}function p(){this.cache=l.allocUnsafe(0)}function x(d,f,E){var b=r[d.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if("string"==typeof f&&(f=l.from(f)),f.length!==b.key/8)throw new TypeError("invalid key length "+f.length);if("string"==typeof E&&(E=l.from(E)),"GCM"!==b.mode&&E.length!==b.iv)throw new TypeError("invalid iv length "+E.length);return"stream"===b.type?new n(b.module,f,E):"auth"===b.type?new c(b.module,f,E):new g(b.module,f,E)}var r=v("./modes"),c=v("./authCipher"),l=v("safe-buffer").Buffer,n=v("./streamCipher"),t=v("cipher-base"),i=v("./aes"),s=v("evp_bytestokey");v("inherits")(g,t),g.prototype._update=function(d){this._cache.add(d);for(var E,b,f=[];E=this._cache.get();)b=this._mode.encrypt(this,E),f.push(b);return l.concat(f)};var o=l.alloc(16,16);g.prototype._final=function(){var d=this._cache.flush();if(this._autopadding)return d=this._mode.encrypt(this,d),this._cipher.scrub(),d;if(!d.equals(o))throw this._cipher.scrub(),new Error("data not multiple of block length")},g.prototype.setAutoPadding=function(d){return this._autopadding=!!d,this},p.prototype.add=function(d){this.cache=l.concat([this.cache,d])},p.prototype.get=function(){if(15<this.cache.length){var d=this.cache.slice(0,16);return this.cache=this.cache.slice(16),d}return null},p.prototype.flush=function(){for(var d=16-this.cache.length,f=l.allocUnsafe(d),E=-1;++E<d;)f.writeUInt8(d,E);return l.concat([this.cache,f])},h.createCipheriv=x,h.createCipher=function(d,f){var E=r[d.toLowerCase()];if(!E)throw new TypeError("invalid suite type");var b=s(f,!1,E.key,E.iv);return x(d,b.key,b.iv)}},{"./aes":42,"./authCipher":43,"./modes":55,"./streamCipher":58,"cipher-base":94,evp_bytestokey:137,inherits:159,"safe-buffer":247}],47:[function(v,L){function g(c){var l=x.allocUnsafe(16);return l.writeUInt32BE(c[0]>>>0,0),l.writeUInt32BE(c[1]>>>0,4),l.writeUInt32BE(c[2]>>>0,8),l.writeUInt32BE(c[3]>>>0,12),l}function p(c){this.h=c,this.state=x.alloc(16,0),this.cache=x.allocUnsafe(0)}var x=v("safe-buffer").Buffer,r=x.alloc(16,0);p.prototype.ghash=function(c){for(var l=-1;++l<c.length;)this.state[l]^=c[l];this._multiply()},p.prototype._multiply=function(){for(var t,s,c=function h(c){return[c.readUInt32BE(0),c.readUInt32BE(4),c.readUInt32BE(8),c.readUInt32BE(12)]}(this.h),l=[0,0,0,0],n=-1;128>++n;){for(0!=(this.state[~~(n/8)]&1<<7-n%8)&&(l[0]^=c[0],l[1]^=c[1],l[2]^=c[2],l[3]^=c[3]),s=0!=(1&c[3]),t=3;0<t;t--)c[t]=c[t]>>>1|(1&c[t-1])<<31;c[0]>>>=1,s&&(c[0]^=-520093696)}this.state=g(l)},p.prototype.update=function(c){this.cache=x.concat([this.cache,c]);for(var l;16<=this.cache.length;)l=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(l)},p.prototype.final=function(c,l){return this.cache.length&&this.ghash(x.concat([this.cache,r],16)),this.ghash(g([0,c,0,l])),this.state},L.exports=p},{"safe-buffer":247}],48:[function(v,L){L.exports=function(h){for(var p,g=h.length;g--;){if(255!==(p=h.readUInt8(g))){p++,h.writeUInt8(p,g);break}h.writeUInt8(0,g)}}},{}],49:[function(v,L,h){var g=v("buffer-xor");h.encrypt=function(p,x){var r=g(x,p._prev);return p._prev=p._cipher.encryptBlock(r),p._prev},h.decrypt=function(p,x){var r=p._prev;p._prev=x;var c=p._cipher.decryptBlock(x);return g(c,r)}},{"buffer-xor":90}],50:[function(v,L,h){function g(r,c,l){var n=c.length,t=x(c,r._cache);return r._cache=r._cache.slice(n),r._prev=p.concat([r._prev,l?c:t]),t}var p=v("safe-buffer").Buffer,x=v("buffer-xor");h.encrypt=function(r,c,l){for(var t,n=p.allocUnsafe(0);c.length;){if(0===r._cache.length&&(r._cache=r._cipher.encryptBlock(r._prev),r._prev=p.allocUnsafe(0)),!(r._cache.length<=c.length)){n=p.concat([n,g(r,c,l)]);break}n=p.concat([n,g(r,c.slice(0,t=r._cache.length),l)]),c=c.slice(t)}return n}},{"buffer-xor":90,"safe-buffer":247}],51:[function(v,L,h){function g(r,c,l){for(var s,u,n=-1,t=0;++n<8;)t+=(128&(u=r._cipher.encryptBlock(r._prev)[0]^(s=c&1<<7-n?128:0)))>>n%8,r._prev=p(r._prev,l?s:u);return t}function p(r,c){var l=r.length,n=-1,t=x.allocUnsafe(r.length);for(r=x.concat([r,x.from([c])]);++n<l;)t[n]=r[n]<<1|r[n+1]>>7;return t}var x=v("safe-buffer").Buffer;h.encrypt=function(r,c,l){for(var n=c.length,t=x.allocUnsafe(n),i=-1;++i<n;)t[i]=g(r,c[i],l);return t}},{"safe-buffer":247}],52:[function(v,L,h){function g(x,r,c){var n=x._cipher.encryptBlock(x._prev)[0]^r;return x._prev=p.concat([x._prev.slice(1),p.from([c?r:n])]),n}var p=v("safe-buffer").Buffer;h.encrypt=function(x,r,c){for(var l=r.length,n=p.allocUnsafe(l),t=-1;++t<l;)n[t]=g(x,r[t],c);return n}},{"safe-buffer":247}],53:[function(v,L,h){function g(l){var n=l._cipher.encryptBlockRaw(l._prev);return r(l._prev),n}var p=v("buffer-xor"),x=v("safe-buffer").Buffer,r=v("../incr32");h.encrypt=function(l,n){var t=de(n.length/16),i=l._cache.length;l._cache=x.concat([l._cache,x.allocUnsafe(16*t)]);for(var s=0;s<t;s++){var u=g(l),o=i+16*s;l._cache.writeUInt32BE(u[0],o+0),l._cache.writeUInt32BE(u[1],o+4),l._cache.writeUInt32BE(u[2],o+8),l._cache.writeUInt32BE(u[3],o+12)}var d=l._cache.slice(0,n.length);return l._cache=l._cache.slice(n.length),p(n,d)}},{"../incr32":48,"buffer-xor":90,"safe-buffer":247}],54:[function(v,L,h){h.encrypt=function(g,p){return g._cipher.encryptBlock(p)},h.decrypt=function(g,p){return g._cipher.decryptBlock(p)}},{}],55:[function(v,L){var h={ECB:v("./ecb"),CBC:v("./cbc"),CFB:v("./cfb"),CFB8:v("./cfb8"),CFB1:v("./cfb1"),OFB:v("./ofb"),CTR:v("./ctr"),GCM:v("./ctr")},g=v("./list.json");for(var p in g)g[p].module=h[g[p].mode];L.exports=g},{"./cbc":49,"./cfb":50,"./cfb1":51,"./cfb8":52,"./ctr":53,"./ecb":54,"./list.json":56,"./ofb":57}],56:[function(v,L){L.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],57:[function(v,L,h){(function(g){(function(){function p(r){return r._prev=r._cipher.encryptBlock(r._prev),r._prev}var x=v("buffer-xor");h.encrypt=function(r,c){for(;r._cache.length<c.length;)r._cache=g.concat([r._cache,p(r)]);var l=r._cache.slice(0,c.length);return r._cache=r._cache.slice(c.length),x(c,l)}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,"buffer-xor":90}],58:[function(v,L){function h(c,l,n,t){x.call(this),this._cipher=new g.AES(l),this._prev=p.from(n),this._cache=p.allocUnsafe(0),this._secCache=p.allocUnsafe(0),this._decrypt=t,this._mode=c}var g=v("./aes"),p=v("safe-buffer").Buffer,x=v("cipher-base");v("inherits")(h,x),h.prototype._update=function(c){return this._mode.encrypt(this,c,this._decrypt)},h.prototype._final=function(){this._cipher.scrub()},L.exports=h},{"./aes":42,"cipher-base":94,inherits:159,"safe-buffer":247}],59:[function(v,L,h){function g(t,i,s){if(t=t.toLowerCase(),c[t])return r.createCipheriv(t,i,s);if(l[t])return new x({key:i,iv:s,mode:t});throw new TypeError("invalid suite type")}function p(t,i,s){if(t=t.toLowerCase(),c[t])return r.createDecipheriv(t,i,s);if(l[t])return new x({key:i,iv:s,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}var x=v("browserify-des"),r=v("browserify-aes/browser"),c=v("browserify-aes/modes"),l=v("browserify-des/modes"),n=v("evp_bytestokey");h.createCipher=h.Cipher=function(t,i){var s,u;if(t=t.toLowerCase(),c[t])s=c[t].key,u=c[t].iv;else{if(!l[t])throw new TypeError("invalid suite type");s=8*l[t].key,u=l[t].iv}var o=n(i,!1,s,u);return g(t,o.key,o.iv)},h.createCipheriv=h.Cipheriv=g,h.createDecipher=h.Decipher=function(t,i){var s,u;if(t=t.toLowerCase(),c[t])s=c[t].key,u=c[t].iv;else{if(!l[t])throw new TypeError("invalid suite type");s=8*l[t].key,u=l[t].iv}var o=n(i,!1,s,u);return p(t,o.key,o.iv)},h.createDecipheriv=h.Decipheriv=p,h.listCiphers=h.getCiphers=function(){return Object.keys(l).concat(r.getCiphers())}},{"browserify-aes/browser":44,"browserify-aes/modes":55,"browserify-des":60,"browserify-des/modes":61,evp_bytestokey:137}],60:[function(v,L){function h(l){g.call(this);var i,n=l.mode.toLowerCase(),t=c[n];i=l.decrypt?"decrypt":"encrypt";var s=l.key;r.isBuffer(s)||(s=r.from(s)),("des-ede"===n||"des-ede-cbc"===n)&&(s=r.concat([s,s.slice(0,8)]));var u=l.iv;r.isBuffer(u)||(u=r.from(u)),this._des=t.create({key:s,iv:u,type:i})}var g=v("cipher-base"),p=v("des.js"),x=v("inherits"),r=v("safe-buffer").Buffer,c={"des-ede3-cbc":p.CBC.instantiate(p.EDE),"des-ede3":p.EDE,"des-ede-cbc":p.CBC.instantiate(p.EDE),"des-ede":p.EDE,"des-cbc":p.CBC.instantiate(p.DES),"des-ecb":p.DES};c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],L.exports=h,x(h,g),h.prototype._update=function(l){return r.from(this._des.update(l))},h.prototype._final=function(){return r.from(this._des.final())}},{"cipher-base":94,"des.js":107,inherits:159,"safe-buffer":247}],61:[function(v,L,h){h["des-ecb"]={key:8,iv:0},h["des-cbc"]=h.des={key:8,iv:8},h["des-ede3-cbc"]=h.des3={key:24,iv:8},h["des-ede3"]={key:24,iv:0},h["des-ede-cbc"]={key:16,iv:8},h["des-ede"]={key:16,iv:0}},{}],62:[function(v,L){(function(h){(function(){function p(l){var t,n=l.modulus.byteLength();do{t=new r(c(n))}while(0<=t.cmp(l.modulus)||!t.umod(l.prime1)||!t.umod(l.prime2));return t}function x(l,n){var t=function g(l){var n=p(l);return{blinder:n.toRed(r.mont(l.modulus)).redPow(new r(l.publicExponent)).fromRed(),unblinder:n.invm(l.modulus)}}(n),i=n.modulus.byteLength(),s=new r(l).mul(t.blinder).umod(n.modulus),u=s.toRed(r.mont(n.prime1)),o=s.toRed(r.mont(n.prime2)),d=n.coefficient,f=n.prime1,E=n.prime2,b=u.redPow(n.exponent1).fromRed(),I=o.redPow(n.exponent2).fromRed(),S=b.isub(I).imul(d).umod(f).imul(E);return I.iadd(S).imul(t.unblinder).umod(n.modulus).toArrayLike(h,"be",i)}var r=v("bn.js"),c=v("randombytes");x.getr=p,L.exports=x}).call(this)}).call(this,v("buffer").Buffer)},{"bn.js":39,buffer:69,randombytes:221}],63:[function(v,L){L.exports=v("./browser/algorithms.json")},{"./browser/algorithms.json":64}],64:[function(v,L){L.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],65:[function(v,L){L.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],66:[function(v,L){function h(u){l.Writable.call(this);var o=s[u];if(!o)throw new Error("Unknown message digest");this._hashType=o.hash,this._hash=c(o.hash),this._tag=o.id,this._signType=o.sign}function g(u){l.Writable.call(this);var o=s[u];if(!o)throw new Error("Unknown message digest");this._hash=c(o.hash),this._tag=o.id,this._signType=o.sign}function p(u){return new h(u)}function x(u){return new g(u)}var r=v("safe-buffer").Buffer,c=v("create-hash"),l=v("readable-stream"),n=v("inherits"),t=v("./sign"),i=v("./verify"),s=v("./algorithms.json");Object.keys(s).forEach(function(u){s[u].id=r.from(s[u].id,"hex"),s[u.toLowerCase()]=s[u]}),n(h,l.Writable),h.prototype._write=function(u,o,d){this._hash.update(u),d()},h.prototype.update=function(u,o){return"string"==typeof u&&(u=r.from(u,o)),this._hash.update(u),this},h.prototype.sign=function(u,o){this.end();var d=this._hash.digest(),f=t(d,u,this._hashType,this._signType,this._tag);return o?f.toString(o):f},n(g,l.Writable),g.prototype._write=function(u,o,d){this._hash.update(u),d()},g.prototype.update=function(u,o){return"string"==typeof u&&(u=r.from(u,o)),this._hash.update(u),this},g.prototype.verify=function(u,o,d){"string"==typeof o&&(o=r.from(o,d)),this.end();var f=this._hash.digest();return i(o,f,u,this._signType,this._tag)},L.exports={Sign:p,Verify:x,createSign:p,createVerify:x}},{"./algorithms.json":64,"./sign":67,"./verify":68,"create-hash":99,inherits:159,"readable-stream":240,"safe-buffer":247}],67:[function(v,L){function x(E,b,I,S){if((E=t.from(E.toArray())).length<b.byteLength()){var R=t.alloc(b.byteLength()-E.length);E=t.concat([R,E])}var F=I.length,q=function c(E,b){E=(E=r(E,b)).mod(b);var I=t.from(E.toArray());if(I.length<b.byteLength()){var S=t.alloc(b.byteLength()-I.length);I=t.concat([S,I])}return I}(I,b),K=t.alloc(F);K.fill(1);var se=t.alloc(F);return se=i(S,se).update(K).update(t.from([0])).update(E).update(q).digest(),K=i(S,se).update(K).digest(),{k:se=i(S,se).update(K).update(t.from([1])).update(E).update(q).digest(),v:K=i(S,se).update(K).digest()}}function r(E,b){var I=new o(E),S=(E.length<<3)-b.bitLength();return 0<S&&I.ishrn(S),I}function l(E,b,I){var S,R;do{for(S=t.alloc(0);8*S.length<E.bitLength();)b.v=i(I,b.k).update(b.v).digest(),S=t.concat([S,b.v]);R=r(S,E),b.k=i(I,b.k).update(b.v).update(t.from([0])).digest(),b.v=i(I,b.k).update(b.v).digest()}while(-1!==R.cmp(E));return R}function n(E,b,I,S){return E.toRed(o.mont(I)).redPow(b).fromRed().mod(S)}var t=v("safe-buffer").Buffer,i=v("create-hmac"),s=v("browserify-rsa"),u=v("elliptic").ec,o=v("bn.js"),d=v("parse-asn1"),f=v("./curves.json");L.exports=function(E,b,I,S,R){var F=d(b);if(F.curve){if("ecdsa"!==S&&"ecdsa/rsa"!==S)throw new Error("wrong private key type");return function h(E,b){var I=f[b.curve.join(".")];if(!I)throw new Error("unknown curve "+b.curve.join("."));var F=new u(I).keyFromPrivate(b.privateKey).sign(E);return t.from(F.toDER())}(E,F)}if("dsa"===F.type){if("dsa"!==S)throw new Error("wrong private key type");return function g(E,b,I){for(var A,S=b.params.priv_key,R=b.params.p,F=b.params.q,q=b.params.g,K=new o(0),se=r(E,F).mod(F),xe=!1,we=x(S,F,E,I);!1===xe;)K=n(q,A=l(F,we,I),R,F),0===(xe=A.invm(F).imul(se.add(S.mul(K))).mod(F)).cmpn(0)&&(xe=!1,K=new o(0));return function p(E,b){E=E.toArray(),b=b.toArray(),128&E[0]&&(E=[0].concat(E)),128&b[0]&&(b=[0].concat(b));var S=[48,E.length+b.length+4,2,E.length];return S=S.concat(E,[2,b.length],b),t.from(S)}(K,xe)}(E,F,I)}if("rsa"!==S&&"ecdsa/rsa"!==S)throw new Error("wrong private key type");E=t.concat([R,E]);for(var q=F.modulus.byteLength(),K=[0,1];E.length+K.length+1<q;)K.push(255);K.push(0);for(var se=-1;++se<E.length;)K.push(E[se]);return s(K,F)},L.exports.getKey=x,L.exports.makeKey=l},{"./curves.json":65,"bn.js":39,"browserify-rsa":62,"create-hmac":101,elliptic:118,"parse-asn1":196,"safe-buffer":247}],68:[function(v,L){function p(t,i){if(0>=t.cmpn(0))throw new Error("invalid sig");if(t.cmp(i)>=i)throw new Error("invalid sig")}var x=v("safe-buffer").Buffer,r=v("bn.js"),c=v("elliptic").ec,l=v("parse-asn1"),n=v("./curves.json");L.exports=function(t,i,s,u,o){var d=l(s);if("ec"===d.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function h(t,i,s){var u=n[s.data.algorithm.curve.join(".")];if(!u)throw new Error("unknown curve "+s.data.algorithm.curve.join("."));return new c(u).verify(i,t,s.data.subjectPrivateKey.data)}(t,i,d)}if("dsa"===d.type){if("dsa"!==u)throw new Error("wrong public key type");return function g(t,i,s){var u=s.data.p,o=s.data.q,d=s.data.g,f=s.data.pub_key,E=l.signature.decode(t,"der"),b=E.s,I=E.r;p(b,o),p(I,o);var S=r.mont(u),R=b.invm(o);return 0===d.toRed(S).redPow(new r(i).mul(R).mod(o)).fromRed().mul(f.toRed(S).redPow(I.mul(R).mod(o)).fromRed()).mod(u).mod(o).cmp(I)}(t,i,d)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");i=x.concat([o,i]);for(var f=d.modulus.byteLength(),E=[1],b=0;i.length+E.length+2<f;)E.push(255),b++;E.push(0);for(var I=-1;++I<i.length;)E.push(i[I]);E=x.from(E);var S=r.mont(d.modulus);t=(t=new r(t).toRed(S)).redPow(new r(d.publicExponent)),t=x.from(t.fromRed().toArray());var R=8>b?1:0;for(f=ne(t.length,E.length),t.length!==E.length&&(R=1),I=-1;++I<f;)R|=t[I]^E[I];return 0==R}},{"./curves.json":65,"bn.js":39,elliptic:118,"parse-asn1":196,"safe-buffer":247}],69:[function(v,L,h){(function(){(function(){"use strict";function g(G){if(2147483647<G)throw new RangeError('The value "'+G+'" is invalid for option "size"');var ue=new Uint8Array(G);return ue.__proto__=p.prototype,ue}function p(G,ue,Y){if("number"==typeof G){if("string"==typeof ue)throw new TypeError('The "string" argument must be of type string. Received type number');return l(G)}return x(G,ue,Y)}function x(G,ue,Y){if("string"==typeof G)return function n(G,ue){if(("string"!=typeof ue||""===ue)&&(ue="utf8"),!p.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);var Y=0|o(G,ue),oe=g(Y),et=oe.write(G,ue);return et!==Y&&(oe=oe.slice(0,et)),oe}(G,ue);if(ArrayBuffer.isView(G))return t(G);if(null==G)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(Ct(G,ArrayBuffer)||G&&Ct(G.buffer,ArrayBuffer))return function i(G,ue,Y){if(0>ue||G.byteLength<ue)throw new RangeError('"offset" is outside of buffer bounds');if(G.byteLength<ue+(Y||0))throw new RangeError('"length" is outside of buffer bounds');var oe;return(oe=void 0===ue&&void 0===Y?new Uint8Array(G):void 0===Y?new Uint8Array(G,ue):new Uint8Array(G,ue,Y)).__proto__=p.prototype,oe}(G,ue,Y);if("number"==typeof G)throw new TypeError('The "value" argument must not be of type number. Received type number');var oe=G.valueOf&&G.valueOf();if(null!=oe&&oe!==G)return p.from(oe,ue,Y);var et=function s(G){if(p.isBuffer(G)){var ue=0|u(G.length),Y=g(ue);return 0===Y.length||G.copy(Y,0,0,ue),Y}return void 0===G.length?"Buffer"===G.type&&Array.isArray(G.data)?t(G.data):void 0:"number"!=typeof G.length||Ht(G.length)?g(0):t(G)}(G);if(et)return et;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof G[Symbol.toPrimitive])return p.from(G[Symbol.toPrimitive]("string"),ue,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}function r(G){if("number"!=typeof G)throw new TypeError('"size" argument must be of type number');if(0>G)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function l(G){return r(G),g(0>G?0:0|u(G))}function t(G){for(var ue=0>G.length?0:0|u(G.length),Y=g(ue),oe=0;oe<ue;oe+=1)Y[oe]=255&G[oe];return Y}function u(G){if(G>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|G}function o(G,ue){if(p.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||Ct(G,ArrayBuffer))return G.byteLength;if("string"!=typeof G)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);var Y=G.length,oe=2<arguments.length&&!0===arguments[2];if(!oe&&0===Y)return 0;for(var et=!1;;)switch(ue){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return He(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Y;case"hex":return Y>>>1;case"base64":return at(G).length;default:if(et)return oe?-1:He(G).length;ue=(""+ue).toLowerCase(),et=!0}}function d(G,ue,Y){var oe=!1;if((void 0===ue||0>ue)&&(ue=0),ue>this.length||((void 0===Y||Y>this.length)&&(Y=this.length),0>=Y)||(Y>>>=0)<=(ue>>>=0))return"";for(G||(G="utf8");;)switch(G){case"hex":return U(this,ue,Y);case"utf8":case"utf-8":return xe(this,ue,Y);case"ascii":return A(this,ue,Y);case"latin1":case"binary":return P(this,ue,Y);case"base64":return se(this,ue,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,ue,Y);default:if(oe)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),oe=!0}}function f(G,ue,Y){var oe=G[ue];G[ue]=G[Y],G[Y]=oe}function E(G,ue,Y,oe,et){if(0===G.length)return-1;if("string"==typeof Y?(oe=Y,Y=0):2147483647<Y?Y=2147483647:-2147483648>Y&&(Y=-2147483648),Ht(Y=+Y)&&(Y=et?0:G.length-1),0>Y&&(Y=G.length+Y),Y>=G.length){if(et)return-1;Y=G.length-1}else if(0>Y){if(!et)return-1;Y=0}if("string"==typeof ue&&(ue=p.from(ue,oe)),p.isBuffer(ue))return 0===ue.length?-1:b(G,ue,Y,oe,et);if("number"==typeof ue)return ue&=255,"function"==typeof Uint8Array.prototype.indexOf?et?Uint8Array.prototype.indexOf.call(G,ue,Y):Uint8Array.prototype.lastIndexOf.call(G,ue,Y):b(G,[ue],Y,oe,et);throw new TypeError("val must be string, number or Buffer")}function b(G,ue,Y,oe,et){function ie(kn,an){return 1===pe?kn[an]:kn.readUInt16BE(an*pe)}var gt,pe=1,Ye=G.length,ct=ue.length;if(void 0!==oe&&("ucs2"===(oe=(oe+"").toLowerCase())||"ucs-2"===oe||"utf16le"===oe||"utf-16le"===oe)){if(2>G.length||2>ue.length)return-1;pe=2,Ye/=2,ct/=2,Y/=2}if(et){var $t=-1;for(gt=Y;gt<Ye;gt++)if(ie(G,gt)!==ie(ue,-1===$t?0:gt-$t))-1!==$t&&(gt-=gt-$t),$t=-1;else if(-1===$t&&($t=gt),gt-$t+1===ct)return $t*pe}else for(Y+ct>Ye&&(Y=Ye-ct),gt=Y;0<=gt;gt--){for(var Zt=!0,rn=0;rn<ct;rn++)if(ie(G,gt+rn)!==ie(ue,rn)){Zt=!1;break}if(Zt)return gt}return-1}function I(G,ue,Y,oe){var et=G.length-(Y=+Y||0);oe?(oe=+oe)>et&&(oe=et):oe=et;var ie=ue.length;oe>ie/2&&(oe=ie/2);for(var Ye,pe=0;pe<oe;++pe){if(Ht(Ye=parseInt(ue.substr(2*pe,2),16)))return pe;G[Y+pe]=Ye}return pe}function S(G,ue,Y,oe){return qt(He(ue,G.length-Y),G,Y,oe)}function R(G,ue,Y,oe){return qt(function Ve(G){for(var ue=[],Y=0;Y<G.length;++Y)ue.push(255&G.charCodeAt(Y));return ue}(ue),G,Y,oe)}function F(G,ue,Y,oe){return R(G,ue,Y,oe)}function q(G,ue,Y,oe){return qt(at(ue),G,Y,oe)}function K(G,ue,Y,oe){return qt(function it(G,ue){for(var et,ie,Y=[],oe=0;oe<G.length&&!(0>(ue-=2));++oe)ie=(et=G.charCodeAt(oe))>>8,Y.push(et%256),Y.push(ie);return Y}(ue,G.length-Y),G,Y,oe)}function se(G,ue,Y){return Ge.fromByteArray(0===ue&&Y===G.length?G:G.slice(ue,Y))}function xe(G,ue,Y){Y=ne(G.length,Y);for(var oe=[],et=ue;et<Y;){var ct,gt,$t,Zt,ie=G[et],pe=null,Ye=239<ie?4:223<ie?3:191<ie?2:1;et+Ye<=Y&&(1===Ye?128>ie&&(pe=ie):2===Ye?128==(192&(ct=G[et+1]))&&127<(Zt=(31&ie)<<6|63&ct)&&(pe=Zt):3===Ye?(gt=G[et+2],128==(192&(ct=G[et+1]))&&128==(192&gt)&&2047<(Zt=(15&ie)<<12|(63&ct)<<6|63&gt)&&(55296>Zt||57343<Zt)&&(pe=Zt)):4===Ye&&(gt=G[et+2],$t=G[et+3],128==(192&(ct=G[et+1]))&&128==(192&gt)&&128==(192&$t)&&65535<(Zt=(15&ie)<<18|(63&ct)<<12|(63&gt)<<6|63&$t)&&1114112>Zt&&(pe=Zt))),null===pe?(pe=65533,Ye=1):65535<pe&&(oe.push(55296|1023&(pe-=65536)>>>10),pe=56320|1023&pe),oe.push(pe),et+=Ye}return function we(G){var ue=G.length;if(ue<=4096)return Z.apply(String,G);for(var Y="",oe=0;oe<ue;)Y+=Z.apply(String,G.slice(oe,oe+=4096));return Y}(oe)}function A(G,ue,Y){var oe="";Y=ne(G.length,Y);for(var et=ue;et<Y;++et)oe+=Z(127&G[et]);return oe}function P(G,ue,Y){var oe="";Y=ne(G.length,Y);for(var et=ue;et<Y;++et)oe+=Z(G[et]);return oe}function U(G,ue,Y){var oe=G.length;(!ue||0>ue)&&(ue=0),(!Y||0>Y||Y>oe)&&(Y=oe);for(var et="",ie=ue;ie<Y;++ie)et+=Fe(G[ie]);return et}function y(G,ue,Y){for(var oe=G.slice(ue,Y),et="",ie=0;ie<oe.length;ie+=2)et+=Z(oe[ie]+256*oe[ie+1]);return et}function C(G,ue,Y){if(G%1!=0||0>G)throw new RangeError("offset is not uint");if(G+ue>Y)throw new RangeError("Trying to access beyond buffer length")}function M(G,ue,Y,oe,et,ie){if(!p.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(ue>et||ue<ie)throw new RangeError('"value" argument is out of bounds');if(Y+oe>G.length)throw new RangeError("Index out of range")}function O(G,ue,Y,oe){if(Y+oe>G.length)throw new RangeError("Index out of range");if(0>Y)throw new RangeError("Index out of range")}function ee(G,ue,Y,oe,et){return ue=+ue,Y>>>=0,et||O(G,0,Y,4),dt.write(G,ue,Y,oe,23,4),Y+4}function $(G,ue,Y,oe,et){return ue=+ue,Y>>>=0,et||O(G,0,Y,8),dt.write(G,ue,Y,oe,52,8),Y+8}function Fe(G){return 16>G?"0"+G.toString(16):G.toString(16)}function He(G,ue){ue=ue||1/0;for(var pe,Y=G.length,oe=null,et=[],ie=0;ie<Y;++ie){if(55295<(pe=G.charCodeAt(ie))&&57344>pe){if(!oe){if(56319<pe){-1<(ue-=3)&&et.push(239,191,189);continue}if(ie+1===Y){-1<(ue-=3)&&et.push(239,191,189);continue}oe=pe;continue}if(56320>pe){-1<(ue-=3)&&et.push(239,191,189),oe=pe;continue}pe=65536+(oe-55296<<10|pe-56320)}else oe&&-1<(ue-=3)&&et.push(239,191,189);if(oe=null,128>pe){if(0>(ue-=1))break;et.push(pe)}else if(2048>pe){if(0>(ue-=2))break;et.push(192|pe>>6,128|63&pe)}else if(65536>pe){if(0>(ue-=3))break;et.push(224|pe>>12,128|63&pe>>6,128|63&pe)}else{if(!(1114112>pe))throw new Error("Invalid code point");if(0>(ue-=4))break;et.push(240|pe>>18,128|63&pe>>12,128|63&pe>>6,128|63&pe)}}return et}function at(G){return Ge.toByteArray(function ae(G){if(2>(G=(G=G.split("=")[0]).trim().replace(vt,"")).length)return"";for(;G.length%4!=0;)G+="=";return G}(G))}function qt(G,ue,Y,oe){for(var et=0;et<oe&&!(et+Y>=ue.length||et>=G.length);++et)ue[et+Y]=G[et];return et}function Ct(G,ue){return G instanceof ue||null!=G&&null!=G.constructor&&null!=G.constructor.name&&G.constructor.name===ue.name}function Ht(G){return G!=G}var Ge=v("base64-js"),dt=v("ieee754");h.Buffer=p,h.SlowBuffer=function(G){return+G!=G&&(G=0),p.alloc(+G)},h.INSPECT_MAX_BYTES=50,h.kMaxLength=2147483647,(p.TYPED_ARRAY_SUPPORT=function(){try{var G=new Uint8Array(1);return G.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===G.foo()}catch(ue){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){return p.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){return p.isBuffer(this)?this.byteOffset:void 0}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),p.poolSize=8192,p.from=function(G,ue,Y){return x(G,ue,Y)},p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,p.alloc=function(G,ue,Y){return function c(G,ue,Y){return r(G),0>=G||void 0===ue?g(G):"string"==typeof Y?g(G).fill(ue,Y):g(G).fill(ue)}(G,ue,Y)},p.allocUnsafe=function(G){return l(G)},p.allocUnsafeSlow=function(G){return l(G)},p.isBuffer=function(G){return null!=G&&!0===G._isBuffer&&G!==p.prototype},p.compare=function(G,ue){if(Ct(G,Uint8Array)&&(G=p.from(G,G.offset,G.byteLength)),Ct(ue,Uint8Array)&&(ue=p.from(ue,ue.offset,ue.byteLength)),!p.isBuffer(G)||!p.isBuffer(ue))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(G===ue)return 0;for(var Y=G.length,oe=ue.length,et=0,ie=ne(Y,oe);et<ie;++et)if(G[et]!==ue[et]){Y=G[et],oe=ue[et];break}return Y<oe?-1:oe<Y?1:0},p.isEncoding=function(G){switch((G+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(G,ue){if(!Array.isArray(G))throw new TypeError('"list" argument must be an Array of Buffers');if(0===G.length)return p.alloc(0);var Y;if(void 0===ue)for(ue=0,Y=0;Y<G.length;++Y)ue+=G[Y].length;var oe=p.allocUnsafe(ue),et=0;for(Y=0;Y<G.length;++Y){var ie=G[Y];if(Ct(ie,Uint8Array)&&(ie=p.from(ie)),!p.isBuffer(ie))throw new TypeError('"list" argument must be an Array of Buffers');ie.copy(oe,et),et+=ie.length}return oe},p.byteLength=o,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var G=this.length;if(G%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ue=0;ue<G;ue+=2)f(this,ue,ue+1);return this},p.prototype.swap32=function(){var G=this.length;if(G%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ue=0;ue<G;ue+=4)f(this,ue,ue+3),f(this,ue+1,ue+2);return this},p.prototype.swap64=function(){var G=this.length;if(G%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ue=0;ue<G;ue+=8)f(this,ue,ue+7),f(this,ue+1,ue+6),f(this,ue+2,ue+5),f(this,ue+3,ue+4);return this},p.prototype.toLocaleString=p.prototype.toString=function(){var G=this.length;return 0===G?"":0===arguments.length?xe(this,0,G):d.apply(this,arguments)},p.prototype.equals=function(G){if(!p.isBuffer(G))throw new TypeError("Argument must be a Buffer");return this===G||0===p.compare(this,G)},p.prototype.inspect=function(){var G="",ue=h.INSPECT_MAX_BYTES;return G=this.toString("hex",0,ue).replace(/(.{2})/g,"$1 ").trim(),this.length>ue&&(G+=" ... "),"<Buffer "+G+">"},p.prototype.compare=function(G,ue,Y,oe,et){if(Ct(G,Uint8Array)&&(G=p.from(G,G.offset,G.byteLength)),!p.isBuffer(G))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof G);if(void 0===ue&&(ue=0),void 0===Y&&(Y=G?G.length:0),void 0===oe&&(oe=0),void 0===et&&(et=this.length),0>ue||Y>G.length||0>oe||et>this.length)throw new RangeError("out of range index");if(oe>=et&&ue>=Y)return 0;if(oe>=et)return-1;if(ue>=Y)return 1;if(this===G)return 0;for(var ie=(et>>>=0)-(oe>>>=0),pe=(Y>>>=0)-(ue>>>=0),Ye=ne(ie,pe),ct=this.slice(oe,et),gt=G.slice(ue,Y),$t=0;$t<Ye;++$t)if(ct[$t]!==gt[$t]){ie=ct[$t],pe=gt[$t];break}return ie<pe?-1:pe<ie?1:0},p.prototype.includes=function(G,ue,Y){return-1!==this.indexOf(G,ue,Y)},p.prototype.indexOf=function(G,ue,Y){return E(this,G,ue,Y,!0)},p.prototype.lastIndexOf=function(G,ue,Y){return E(this,G,ue,Y,!1)},p.prototype.write=function(G,ue,Y,oe){if(void 0===ue)oe="utf8",Y=this.length,ue=0;else if(void 0===Y&&"string"==typeof ue)oe=ue,Y=this.length,ue=0;else{if(!isFinite(ue))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ue>>>=0,isFinite(Y)?(Y>>>=0,void 0===oe&&(oe="utf8")):(oe=Y,Y=void 0)}var et=this.length-ue;if((void 0===Y||Y>et)&&(Y=et),0<G.length&&(0>Y||0>ue)||ue>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");for(var ie=!1;;)switch(oe){case"hex":return I(this,G,ue,Y);case"utf8":case"utf-8":return S(this,G,ue,Y);case"ascii":return R(this,G,ue,Y);case"latin1":case"binary":return F(this,G,ue,Y);case"base64":return q(this,G,ue,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,G,ue,Y);default:if(ie)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),ie=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},p.prototype.slice=function(G,ue){var Y=this.length;0>(G=~~G)?0>(G+=Y)&&(G=0):G>Y&&(G=Y),0>(ue=void 0===ue?Y:~~ue)?0>(ue+=Y)&&(ue=0):ue>Y&&(ue=Y),ue<G&&(ue=G);var oe=this.subarray(G,ue);return oe.__proto__=p.prototype,oe},p.prototype.readUIntLE=function(G,ue,Y){G>>>=0,ue>>>=0,Y||C(G,ue,this.length);for(var oe=this[G],et=1,ie=0;++ie<ue&&(et*=256);)oe+=this[G+ie]*et;return oe},p.prototype.readUIntBE=function(G,ue,Y){G>>>=0,ue>>>=0,Y||C(G,ue,this.length);for(var oe=this[G+--ue],et=1;0<ue&&(et*=256);)oe+=this[G+--ue]*et;return oe},p.prototype.readUInt8=function(G,ue){return G>>>=0,ue||C(G,1,this.length),this[G]},p.prototype.readUInt16LE=function(G,ue){return G>>>=0,ue||C(G,2,this.length),this[G]|this[G+1]<<8},p.prototype.readUInt16BE=function(G,ue){return G>>>=0,ue||C(G,2,this.length),this[G]<<8|this[G+1]},p.prototype.readUInt32LE=function(G,ue){return G>>>=0,ue||C(G,4,this.length),(this[G]|this[G+1]<<8|this[G+2]<<16)+16777216*this[G+3]},p.prototype.readUInt32BE=function(G,ue){return G>>>=0,ue||C(G,4,this.length),16777216*this[G]+(this[G+1]<<16|this[G+2]<<8|this[G+3])},p.prototype.readIntLE=function(G,ue,Y){G>>>=0,ue>>>=0,Y||C(G,ue,this.length);for(var oe=this[G],et=1,ie=0;++ie<ue&&(et*=256);)oe+=this[G+ie]*et;return oe>=(et*=128)&&(oe-=z(2,8*ue)),oe},p.prototype.readIntBE=function(G,ue,Y){G>>>=0,ue>>>=0,Y||C(G,ue,this.length);for(var oe=ue,et=1,ie=this[G+--oe];0<oe&&(et*=256);)ie+=this[G+--oe]*et;return ie>=(et*=128)&&(ie-=z(2,8*ue)),ie},p.prototype.readInt8=function(G,ue){return G>>>=0,ue||C(G,1,this.length),128&this[G]?-1*(255-this[G]+1):this[G]},p.prototype.readInt16LE=function(G,ue){G>>>=0,ue||C(G,2,this.length);var Y=this[G]|this[G+1]<<8;return 32768&Y?4294901760|Y:Y},p.prototype.readInt16BE=function(G,ue){G>>>=0,ue||C(G,2,this.length);var Y=this[G+1]|this[G]<<8;return 32768&Y?4294901760|Y:Y},p.prototype.readInt32LE=function(G,ue){return G>>>=0,ue||C(G,4,this.length),this[G]|this[G+1]<<8|this[G+2]<<16|this[G+3]<<24},p.prototype.readInt32BE=function(G,ue){return G>>>=0,ue||C(G,4,this.length),this[G]<<24|this[G+1]<<16|this[G+2]<<8|this[G+3]},p.prototype.readFloatLE=function(G,ue){return G>>>=0,ue||C(G,4,this.length),dt.read(this,G,!0,23,4)},p.prototype.readFloatBE=function(G,ue){return G>>>=0,ue||C(G,4,this.length),dt.read(this,G,!1,23,4)},p.prototype.readDoubleLE=function(G,ue){return G>>>=0,ue||C(G,8,this.length),dt.read(this,G,!0,52,8)},p.prototype.readDoubleBE=function(G,ue){return G>>>=0,ue||C(G,8,this.length),dt.read(this,G,!1,52,8)},p.prototype.writeUIntLE=function(G,ue,Y,oe){G=+G,ue>>>=0,Y>>>=0,oe||M(this,G,ue,Y,z(2,8*Y)-1,0);var ie=1,pe=0;for(this[ue]=255&G;++pe<Y&&(ie*=256);)this[ue+pe]=255&G/ie;return ue+Y},p.prototype.writeUIntBE=function(G,ue,Y,oe){G=+G,ue>>>=0,Y>>>=0,oe||M(this,G,ue,Y,z(2,8*Y)-1,0);var ie=Y-1,pe=1;for(this[ue+ie]=255&G;0<=--ie&&(pe*=256);)this[ue+ie]=255&G/pe;return ue+Y},p.prototype.writeUInt8=function(G,ue,Y){return G=+G,ue>>>=0,Y||M(this,G,ue,1,255,0),this[ue]=255&G,ue+1},p.prototype.writeUInt16LE=function(G,ue,Y){return G=+G,ue>>>=0,Y||M(this,G,ue,2,65535,0),this[ue]=255&G,this[ue+1]=G>>>8,ue+2},p.prototype.writeUInt16BE=function(G,ue,Y){return G=+G,ue>>>=0,Y||M(this,G,ue,2,65535,0),this[ue]=G>>>8,this[ue+1]=255&G,ue+2},p.prototype.writeUInt32LE=function(G,ue,Y){return G=+G,ue>>>=0,Y||M(this,G,ue,4,4294967295,0),this[ue+3]=G>>>24,this[ue+2]=G>>>16,this[ue+1]=G>>>8,this[ue]=255&G,ue+4},p.prototype.writeUInt32BE=function(G,ue,Y){return G=+G,ue>>>=0,Y||M(this,G,ue,4,4294967295,0),this[ue]=G>>>24,this[ue+1]=G>>>16,this[ue+2]=G>>>8,this[ue+3]=255&G,ue+4},p.prototype.writeIntLE=function(G,ue,Y,oe){if(G=+G,ue>>>=0,!oe){var et=z(2,8*Y-1);M(this,G,ue,Y,et-1,-et)}var ie=0,pe=1,Ye=0;for(this[ue]=255&G;++ie<Y&&(pe*=256);)0>G&&0===Ye&&0!==this[ue+ie-1]&&(Ye=1),this[ue+ie]=255&(G/pe>>0)-Ye;return ue+Y},p.prototype.writeIntBE=function(G,ue,Y,oe){if(G=+G,ue>>>=0,!oe){var et=z(2,8*Y-1);M(this,G,ue,Y,et-1,-et)}var ie=Y-1,pe=1,Ye=0;for(this[ue+ie]=255&G;0<=--ie&&(pe*=256);)0>G&&0===Ye&&0!==this[ue+ie+1]&&(Ye=1),this[ue+ie]=255&(G/pe>>0)-Ye;return ue+Y},p.prototype.writeInt8=function(G,ue,Y){return G=+G,ue>>>=0,Y||M(this,G,ue,1,127,-128),0>G&&(G=255+G+1),this[ue]=255&G,ue+1},p.prototype.writeInt16LE=function(G,ue,Y){return G=+G,ue>>>=0,Y||M(this,G,ue,2,32767,-32768),this[ue]=255&G,this[ue+1]=G>>>8,ue+2},p.prototype.writeInt16BE=function(G,ue,Y){return G=+G,ue>>>=0,Y||M(this,G,ue,2,32767,-32768),this[ue]=G>>>8,this[ue+1]=255&G,ue+2},p.prototype.writeInt32LE=function(G,ue,Y){return G=+G,ue>>>=0,Y||M(this,G,ue,4,2147483647,-2147483648),this[ue]=255&G,this[ue+1]=G>>>8,this[ue+2]=G>>>16,this[ue+3]=G>>>24,ue+4},p.prototype.writeInt32BE=function(G,ue,Y){return G=+G,ue>>>=0,Y||M(this,G,ue,4,2147483647,-2147483648),0>G&&(G=4294967295+G+1),this[ue]=G>>>24,this[ue+1]=G>>>16,this[ue+2]=G>>>8,this[ue+3]=255&G,ue+4},p.prototype.writeFloatLE=function(G,ue,Y){return ee(this,G,ue,!0,Y)},p.prototype.writeFloatBE=function(G,ue,Y){return ee(this,G,ue,!1,Y)},p.prototype.writeDoubleLE=function(G,ue,Y){return $(this,G,ue,!0,Y)},p.prototype.writeDoubleBE=function(G,ue,Y){return $(this,G,ue,!1,Y)},p.prototype.copy=function(G,ue,Y,oe){if(!p.isBuffer(G))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),oe||0===oe||(oe=this.length),ue>=G.length&&(ue=G.length),ue||(ue=0),0<oe&&oe<Y&&(oe=Y),oe===Y||0===G.length||0===this.length)return 0;if(0>ue)throw new RangeError("targetStart out of bounds");if(0>Y||Y>=this.length)throw new RangeError("Index out of range");if(0>oe)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),G.length-ue<oe-Y&&(oe=G.length-ue+Y);var et=oe-Y;if(this===G&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(ue,Y,oe);else if(this===G&&Y<ue&&ue<oe)for(var ie=et-1;0<=ie;--ie)G[ie+ue]=this[ie+Y];else Uint8Array.prototype.set.call(G,this.subarray(Y,oe),ue);return et},p.prototype.fill=function(G,ue,Y,oe){if("string"==typeof G){if("string"==typeof ue?(oe=ue,ue=0,Y=this.length):"string"==typeof Y&&(oe=Y,Y=this.length),void 0!==oe&&"string"!=typeof oe)throw new TypeError("encoding must be a string");if("string"==typeof oe&&!p.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(1===G.length){var et=G.charCodeAt(0);("utf8"===oe&&128>et||"latin1"===oe)&&(G=et)}}else"number"==typeof G&&(G&=255);if(0>ue||this.length<ue||this.length<Y)throw new RangeError("Out of range index");if(Y<=ue)return this;var ie;if(ue>>>=0,Y=void 0===Y?this.length:Y>>>0,G||(G=0),"number"==typeof G)for(ie=ue;ie<Y;++ie)this[ie]=G;else{var pe=p.isBuffer(G)?G:p.from(G,oe),Ye=pe.length;if(0===Ye)throw new TypeError('The value "'+G+'" is invalid for argument "value"');for(ie=0;ie<Y-ue;++ie)this[ie+ue]=pe[ie%Ye]}return this};var vt=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,v("buffer").Buffer)},{"base64-js":23,buffer:69,ieee754:157}],70:[function(v,L){"use strict";function g(){g.init.call(this)}function p(R){if("function"!=typeof R)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}function x(R){return void 0===R._maxListeners?g.defaultMaxListeners:R._maxListeners}function r(R,F,q,K){var se,xe,we;if(p(q),void 0===(xe=R._events)?(xe=R._events=Object.create(null),R._eventsCount=0):(void 0!==xe.newListener&&(R.emit("newListener",F,q.listener?q.listener:q),xe=R._events),we=xe[F]),void 0===we)we=xe[F]=q,++R._eventsCount;else if("function"==typeof we?we=xe[F]=K?[q,we]:[we,q]:K?we.unshift(q):we.push(q),0<(se=x(R))&&we.length>se&&!we.warned){we.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+we.length+" "+F+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=R,A.type=F,A.count=we.length,function h(R){console&&console.warn&&console.warn(R)}(A)}return R}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(R,F,q){var K={fired:!1,wrapFn:void 0,target:R,type:F,listener:q},se=c.bind(K);return se.listener=q,K.wrapFn=se,se}function n(R,F,q){var K=R._events;if(void 0===K)return[];var se=K[F];return void 0===se?[]:"function"==typeof se?q?[se.listener||se]:[se]:q?function u(R){for(var F=Array(R.length),q=0;q<F.length;++q)F[q]=R[q].listener||R[q];return F}(se):i(se,se.length)}function t(R){var F=this._events;if(void 0!==F){var q=F[R];if("function"==typeof q)return 1;if(void 0!==q)return q.length}return 0}function i(R,F){for(var q=Array(F),K=0;K<F;++K)q[K]=R[K];return q}function d(R,F,q,K){if("function"==typeof R.on)K.once?R.once(F,q):R.on(F,q);else{if("function"!=typeof R.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R);R.addEventListener(F,function se(xe){K.once&&R.removeEventListener(F,se),q(xe)})}}var b,f="object"==typeof Reflect?Reflect:null,E=f&&"function"==typeof f.apply?f.apply:function(R,F,q){return Function.prototype.apply.call(R,F,q)};b=f&&"function"==typeof f.ownKeys?f.ownKeys:Object.getOwnPropertySymbols?function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:function(R){return Object.getOwnPropertyNames(R)};var I=Number.isNaN||function(R){return R!=R};L.exports=g,L.exports.once=function(R,F){return new Promise(function(q,K){function se(we){R.removeListener(F,xe),K(we)}function xe(){"function"==typeof R.removeListener&&R.removeListener("error",se),q([].slice.call(arguments))}d(R,F,xe,{once:!0}),"error"!==F&&function o(R,F,q){"function"==typeof R.on&&d(R,"error",F,q)}(R,se,{once:!0})})},g.EventEmitter=g,g.prototype._events=void 0,g.prototype._eventsCount=0,g.prototype._maxListeners=void 0;var S=10;Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(R){if("number"!=typeof R||0>R||I(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");S=R}}),g.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},g.prototype.setMaxListeners=function(R){if("number"!=typeof R||0>R||I(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this},g.prototype.getMaxListeners=function(){return x(this)},g.prototype.emit=function(R){for(var F=[],q=1;q<arguments.length;q++)F.push(arguments[q]);var K="error"===R,se=this._events;if(void 0!==se)K=K&&void 0===se.error;else if(!K)return!1;if(K){var xe;if(0<F.length&&(xe=F[0]),xe instanceof Error)throw xe;var we=new Error("Unhandled error."+(xe?" ("+xe.message+")":""));throw we.context=xe,we}var A=se[R];if(void 0===A)return!1;if("function"==typeof A)E(A,this,F);else{var P=A.length,U=i(A,P);for(q=0;q<P;++q)E(U[q],this,F)}return!0},g.prototype.on=g.prototype.addListener=function(R,F){return r(this,R,F,!1)},g.prototype.prependListener=function(R,F){return r(this,R,F,!0)},g.prototype.once=function(R,F){return p(F),this.on(R,l(this,R,F)),this},g.prototype.prependOnceListener=function(R,F){return p(F),this.prependListener(R,l(this,R,F)),this},g.prototype.off=g.prototype.removeListener=function(R,F){var q,K,se,xe,we;if(p(F),void 0===(K=this._events))return this;if(void 0===(q=K[R]))return this;if(q===F||q.listener===F)0==--this._eventsCount?this._events=Object.create(null):(delete K[R],K.removeListener&&this.emit("removeListener",R,q.listener||F));else if("function"!=typeof q){for(se=-1,xe=q.length-1;0<=xe;xe--)if(q[xe]===F||q[xe].listener===F){we=q[xe].listener,se=xe;break}if(0>se)return this;0===se?q.shift():function s(R,F){for(;F+1<R.length;F++)R[F]=R[F+1];R.pop()}(q,se),1===q.length&&(K[R]=q[0]),void 0!==K.removeListener&&this.emit("removeListener",R,we||F)}return this},g.prototype.removeAllListeners=function(R){var F,q,K;if(void 0===(q=this._events))return this;if(void 0===q.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==q[R]&&(0==--this._eventsCount?this._events=Object.create(null):delete q[R]),this;if(0===arguments.length){var xe,se=Object.keys(q);for(K=0;K<se.length;++K)"removeListener"!==(xe=se[K])&&this.removeAllListeners(xe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(F=q[R]))this.removeListener(R,F);else if(void 0!==F)for(K=F.length-1;0<=K;K--)this.removeListener(R,F[K]);return this},g.prototype.listeners=function(R){return n(this,R,!0)},g.prototype.rawListeners=function(R){return n(this,R,!1)},g.listenerCount=function(R,F){return"function"==typeof R.listenerCount?R.listenerCount(F):t.call(R,F)},g.prototype.listenerCount=t,g.prototype.eventNames=function(){return 0<this._eventsCount?b(this._events):[]}},{}],71:[function(v,L){(function(h){(function(){"use strict";function g(c){if("string"!=typeof c)throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function p(c,l){for(var o,n="",t=0,i=-1,s=0,u=0;u<=c.length;++u){if(u<c.length)o=c.charCodeAt(u);else{if(47===o)break;o=47}if(47===o){if(i!==u-1&&1!==s)if(i!==u-1&&2===s){if(2>n.length||2!==t||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(2<n.length){var d=n.lastIndexOf("/");if(d!==n.length-1){-1===d?(n="",t=0):t=(n=n.slice(0,d)).length-1-n.lastIndexOf("/"),i=u,s=0;continue}}else if(2===n.length||1===n.length){n="",t=0,i=u,s=0;continue}l&&(0<n.length?n+="/..":n="..",t=2)}else 0<n.length?n+="/"+c.slice(i+1,u):n=c.slice(i+1,u),t=u-i-1;i=u,s=0}else 46===o&&-1!==s?++s:s=-1}return n}var r={resolve:function(){for(var t,c="",l=!1,n=arguments.length-1;-1<=n&&!l;n--){var i;0<=n?i=arguments[n]:(void 0===t&&(t=h.cwd()),i=t),g(i),0!==i.length&&(c=i+"/"+c,l=47===i.charCodeAt(0))}return c=p(c,!l),l?0<c.length?"/"+c:"/":0<c.length?c:"."},normalize:function(c){if(g(c),0===c.length)return".";var l=47===c.charCodeAt(0),n=47===c.charCodeAt(c.length-1);return 0!==(c=p(c,!l)).length||l||(c="."),0<c.length&&n&&(c+="/"),l?"/"+c:c},isAbsolute:function(c){return g(c),0<c.length&&47===c.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var l,n,c=0;c<arguments.length;++c)g(n=arguments[c]),0<n.length&&(void 0===l?l=n:l+="/"+n);return void 0===l?".":r.normalize(l)},relative:function(c,l){if(g(c),g(l),c===l||(c=r.resolve(c))===(l=r.resolve(l)))return"";for(var n=1;n<c.length&&47===c.charCodeAt(n);++n);for(var t=c.length,i=t-n,s=1;s<l.length&&47===l.charCodeAt(s);++s);for(var o=l.length-s,d=i<o?i:o,f=-1,E=0;E<=d;++E){if(E===d){if(o>d){if(47===l.charCodeAt(s+E))return l.slice(s+E+1);if(0===E)return l.slice(s+E)}else i>d&&(47===c.charCodeAt(n+E)?f=E:0===E&&(f=0));break}var b=c.charCodeAt(n+E);if(b!==l.charCodeAt(s+E))break;47===b&&(f=E)}var S="";for(E=n+f+1;E<=t;++E)(E===t||47===c.charCodeAt(E))&&(S+=0===S.length?"..":"/..");return 0<S.length?S+l.slice(s+f):(47===l.charCodeAt(s+=f)&&++s,l.slice(s))},_makeLong:function(c){return c},dirname:function(c){if(g(c),0===c.length)return".";for(var l=c.charCodeAt(0),n=47===l,t=-1,i=!0,s=c.length-1;1<=s;--s)if(47!==(l=c.charCodeAt(s)))i=!1;else if(!i){t=s;break}return-1===t?n?"/":".":n&&1===t?"//":c.slice(0,t)},basename:function(c,l){if(void 0!==l&&"string"!=typeof l)throw new TypeError('"ext" argument must be a string');g(c);var s,n=0,t=-1,i=!0;if(void 0!==l&&0<l.length&&l.length<=c.length){if(l.length===c.length&&l===c)return"";var u=l.length-1,o=-1;for(s=c.length-1;0<=s;--s){var d=c.charCodeAt(s);if(47!==d)-1===o&&(i=!1,o=s+1),0<=u&&(d===l.charCodeAt(u)?-1==--u&&(t=s):(u=-1,t=o));else if(!i){n=s+1;break}}return n===t?t=o:-1===t&&(t=c.length),c.slice(n,t)}for(s=c.length-1;0<=s;--s)if(47!==c.charCodeAt(s))-1===t&&(i=!1,t=s+1);else if(!i){n=s+1;break}return-1===t?"":c.slice(n,t)},extname:function(c){g(c);for(var o,l=-1,n=0,t=-1,i=!0,s=0,u=c.length-1;0<=u;--u)if(47!==(o=c.charCodeAt(u)))-1===t&&(i=!1,t=u+1),46===o?-1===l?l=u:1!==s&&(s=1):-1!==l&&(s=-1);else if(!i){n=u+1;break}return-1===l||-1===t||0===s||1===s&&l===t-1&&l===n+1?"":c.slice(l,t)},format:function(c){if(null===c||"object"!=typeof c)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function x(c,l){var n=l.dir||l.root,t=l.base||(l.name||"")+(l.ext||"");return n?n===l.root?n+t:n+c+t:t}("/",c)},parse:function(c){g(c);var l={root:"",dir:"",base:"",ext:"",name:""};if(0===c.length)return l;var i,n=c.charCodeAt(0),t=47===n;t?(l.root="/",i=1):i=0;for(var s=-1,u=0,o=-1,d=!0,f=c.length-1,E=0;f>=i;--f)if(47!==(n=c.charCodeAt(f)))-1===o&&(d=!1,o=f+1),46===n?-1===s?s=f:1!==E&&(E=1):-1!==s&&(E=-1);else if(!d){u=f+1;break}return-1===s||-1===o||0===E||1===E&&s===o-1&&s===u+1?-1!==o&&(l.base=l.name=c.slice(0===u&&t?1:u,o)):(0===u&&t?(l.name=c.slice(1,s),l.base=c.slice(1,o)):(l.name=c.slice(u,s),l.base=c.slice(u,o)),l.ext=c.slice(s,o)),0<u?l.dir=c.slice(0,u-1):t&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,L.exports=r}).call(this)}).call(this,v("_process"))},{_process:205}],72:[function(v,L){function h(){g.call(this)}L.exports=h;var g=v("events").EventEmitter;v("inherits")(h,g),h.Readable=v("readable-stream/lib/_stream_readable.js"),h.Writable=v("readable-stream/lib/_stream_writable.js"),h.Duplex=v("readable-stream/lib/_stream_duplex.js"),h.Transform=v("readable-stream/lib/_stream_transform.js"),h.PassThrough=v("readable-stream/lib/_stream_passthrough.js"),h.finished=v("readable-stream/lib/internal/streams/end-of-stream.js"),h.pipeline=v("readable-stream/lib/internal/streams/pipeline.js"),h.Stream=h,h.prototype.pipe=function(x,r){function c(d){x.writable&&!1===x.write(d)&&u.pause&&u.pause()}function l(){u.readable&&u.resume&&u.resume()}function n(){o||(o=!0,x.end())}function t(){o||(o=!0,"function"==typeof x.destroy&&x.destroy())}function i(d){if(s(),0===g.listenerCount(this,"error"))throw d}function s(){u.removeListener("data",c),x.removeListener("drain",l),u.removeListener("end",n),u.removeListener("close",t),u.removeListener("error",i),x.removeListener("error",i),u.removeListener("end",s),u.removeListener("close",s),x.removeListener("close",s)}var u=this;u.on("data",c),x.on("drain",l),x._isStdio||r&&!1===r.end||(u.on("end",n),u.on("close",t));var o=!1;return u.on("error",i),x.on("error",i),u.on("end",s),u.on("close",s),x.on("close",s),x.emit("pipe",u),x}},{events:70,inherits:159,"readable-stream/lib/_stream_duplex.js":74,"readable-stream/lib/_stream_passthrough.js":75,"readable-stream/lib/_stream_readable.js":76,"readable-stream/lib/_stream_transform.js":77,"readable-stream/lib/_stream_writable.js":78,"readable-stream/lib/internal/streams/end-of-stream.js":82,"readable-stream/lib/internal/streams/pipeline.js":84}],73:[function(v,L){"use strict";function g(n,t,i){i||(i=Error);var u=function(o){function d(f,E,b){return o.call(this,function s(o,d,f){return"string"==typeof t?t:t(o,d,f)}(f,E,b))||this}return function h(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}(d,o),d}(i);u.prototype.name=i.name,u.prototype.code=n,l[n]=u}function p(n,t){if(Array.isArray(n)){var i=n.length;return n=n.map(function(s){return s+""}),2<i?"one of ".concat(t," ").concat(n.slice(0,i-1).join(", "),", or ")+n[i-1]:2===i?"one of ".concat(t," ").concat(n[0]," or ").concat(n[1]):"of ".concat(t," ").concat(n[0])}return"of ".concat(t," ").concat(n+"")}var l={};g("ERR_INVALID_OPT_VALUE",function(n,t){return'The value "'+t+'" is invalid for option "'+n+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(n,t,i){var s,u;if("string"==typeof t&&function x(n,t,i){return n.substr(!i||0>i?0:+i,t.length)===t}(t,"not ")?(s="must not be",t=t.replace(/^not /,"")):s="must be",function r(n,t,i){return(void 0===i||i>n.length)&&(i=n.length),n.substring(i-t.length,i)===t}(n," argument"))u="The ".concat(n," ").concat(s," ").concat(p(t,"type"));else{var o=function c(n,t,i){return"number"!=typeof i&&(i=0),!(i+t.length>n.length)&&-1!==n.indexOf(t,i)}(n,".")?"property":"argument";u='The "'.concat(n,'" ').concat(o," ").concat(s," ").concat(p(t,"type"))}return u+". Received type ".concat(typeof i)},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(n){return"The "+n+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(n){return"Cannot call "+n+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(n){return"Unknown encoding: "+n},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),L.exports.codes=l},{}],74:[function(v,L){(function(h){(function(){"use strict";function g(s){return this instanceof g?(c.call(this,s),l.call(this,s),this.allowHalfOpen=!0,void(s&&(!1===s.readable&&(this.readable=!1),!1===s.writable&&(this.writable=!1),!1===s.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",p))))):new g(s)}function p(){this._writableState.ended||h.nextTick(x,this)}function x(s){s.end()}var r=Object.keys||function(s){var u=[];for(var o in s)u.push(o);return u};L.exports=g;var c=v("./_stream_readable"),l=v("./_stream_writable");v("inherits")(g,c);for(var i,n=r(l.prototype),t=0;t<n.length;t++)g.prototype[i=n[t]]||(g.prototype[i]=l.prototype[i]);Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(s){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=s,this._writableState.destroyed=s)}})}).call(this)}).call(this,v("_process"))},{"./_stream_readable":76,"./_stream_writable":78,_process:205,inherits:159}],75:[function(v,L){"use strict";function h(p){return this instanceof h?void g.call(this,p):new h(p)}L.exports=h;var g=v("./_stream_transform");v("inherits")(h,g),h.prototype._transform=function(p,x,r){r(null,p)}},{"./_stream_transform":77,inherits:159}],76:[function(v,L){(function(h,g){(function(){"use strict";function c(Y,oe,et){P=P||v("./_stream_duplex"),"boolean"!=typeof et&&(et=oe instanceof P),this.objectMode=!!(Y=Y||{}).objectMode,et&&(this.objectMode=this.objectMode||!!Y.readableObjectMode),this.highWaterMark=Ve(this,Y,"readableHighWaterMark",et),this.buffer=new ae,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==Y.emitClose,this.autoDestroy=!!Y.autoDestroy,this.destroyed=!1,this.defaultEncoding=Y.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Y.encoding&&(!Ge&&(Ge=v("string_decoder/").StringDecoder),this.decoder=new Ge(Y.encoding),this.encoding=Y.encoding)}function l(Y){if(P=P||v("./_stream_duplex"),!(this instanceof l))return new l(Y);this._readableState=new c(Y,this,this instanceof P),this.readable=!0,Y&&("function"==typeof Y.read&&(this._read=Y.read),"function"==typeof Y.destroy&&(this._destroy=Y.destroy)),C.call(this)}function n(Y,oe,et,ie,pe){$("readableAddChunk",oe);var ct,Ye=Y._readableState;if(null===oe)Ye.reading=!1,function o(Y,oe){if($("onEofChunk"),!oe.ended){if(oe.decoder){var et=oe.decoder.end();et&&et.length&&(oe.buffer.push(et),oe.length+=oe.objectMode?1:et.length)}oe.ended=!0,oe.sync?d(Y):(oe.needReadable=!1,!oe.emittedReadable&&(oe.emittedReadable=!0,f(Y)))}}(Y,Ye);else if(pe||(ct=function i(Y,oe){var et;return function x(Y){return M.isBuffer(Y)||Y instanceof O}(oe)||"string"==typeof oe||void 0===oe||Y.objectMode||(et=new at("chunk",["string","Buffer","Uint8Array"],oe)),et}(Ye,oe)),ct)G(Y,ct);else if(Ye.objectMode||oe&&0<oe.length)if("string"==typeof oe||Ye.objectMode||Object.getPrototypeOf(oe)===M.prototype||(oe=function p(Y){return M.from(Y)}(oe)),ie)Ye.endEmitted?G(Y,new Ht):t(Y,Ye,oe,!0);else if(Ye.ended)G(Y,new qt);else{if(Ye.destroyed)return!1;Ye.reading=!1,Ye.decoder&&!et?(oe=Ye.decoder.write(oe),Ye.objectMode||0!==oe.length?t(Y,Ye,oe,!1):E(Y,Ye)):t(Y,Ye,oe,!1)}else ie||(Ye.reading=!1,E(Y,Ye));return!Ye.ended&&(Ye.length<Ye.highWaterMark||0===Ye.length)}function t(Y,oe,et,ie){oe.flowing&&0===oe.length&&!oe.sync?(oe.awaitDrain=0,Y.emit("data",et)):(oe.length+=oe.objectMode?1:et.length,ie?oe.buffer.unshift(et):oe.buffer.push(et),oe.needReadable&&d(Y)),E(Y,oe)}function u(Y,oe){return 0>=Y||0===oe.length&&oe.ended?0:oe.objectMode?1:Y==Y?(Y>oe.highWaterMark&&(oe.highWaterMark=function s(Y){return 1073741824<=Y?Y=1073741824:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y}(Y)),Y<=oe.length?Y:oe.ended?oe.length:(oe.needReadable=!0,0)):oe.flowing&&oe.length?oe.buffer.head.data.length:oe.length}function d(Y){var oe=Y._readableState;$("emitReadable",oe.needReadable,oe.emittedReadable),oe.needReadable=!1,oe.emittedReadable||($("emitReadable",oe.flowing),oe.emittedReadable=!0,h.nextTick(f,Y))}function f(Y){var oe=Y._readableState;$("emitReadable_",oe.destroyed,oe.length,oe.ended),!oe.destroyed&&(oe.length||oe.ended)&&(Y.emit("readable"),oe.emittedReadable=!1),oe.needReadable=!oe.flowing&&!oe.ended&&oe.length<=oe.highWaterMark,K(Y)}function E(Y,oe){oe.readingMore||(oe.readingMore=!0,h.nextTick(b,Y,oe))}function b(Y,oe){for(;!oe.reading&&!oe.ended&&(oe.length<oe.highWaterMark||oe.flowing&&0===oe.length);){var et=oe.length;if($("maybeReadMore read 0"),Y.read(0),et===oe.length)break}oe.readingMore=!1}function S(Y){var oe=Y._readableState;oe.readableListening=0<Y.listenerCount("readable"),oe.resumeScheduled&&!oe.paused?oe.flowing=!0:0<Y.listenerCount("data")&&Y.resume()}function R(Y){$("readable nexttick read 0"),Y.read(0)}function q(Y,oe){$("resume",oe.reading),oe.reading||Y.read(0),oe.resumeScheduled=!1,Y.emit("resume"),K(Y),oe.flowing&&!oe.reading&&Y.read(0)}function K(Y){var oe=Y._readableState;for($("flow",oe.flowing);oe.flowing&&null!==Y.read(););}function se(Y,oe){return 0===oe.length?null:(oe.objectMode?et=oe.buffer.shift():!Y||Y>=oe.length?(et=oe.decoder?oe.buffer.join(""):1===oe.buffer.length?oe.buffer.first():oe.buffer.concat(oe.length),oe.buffer.clear()):et=oe.buffer.consume(Y,oe.decoder),et);var et}function xe(Y){var oe=Y._readableState;$("endReadable",oe.endEmitted),oe.endEmitted||(oe.ended=!0,h.nextTick(we,oe,Y))}function we(Y,oe){if($("endReadableNT",Y.endEmitted,Y.length),!Y.endEmitted&&0===Y.length&&(Y.endEmitted=!0,oe.readable=!1,oe.emit("end"),Y.autoDestroy)){var et=oe._writableState;(!et||et.autoDestroy&&et.finished)&&oe.destroy()}}function A(Y,oe){for(var et=0,ie=Y.length;et<ie;et++)if(Y[et]===oe)return et;return-1}var P;L.exports=l,l.ReadableState=c,v("events");var $,y=function(Y,oe){return Y.listeners(oe).length},C=v("./internal/streams/stream"),M=v("buffer").Buffer,O=g.Uint8Array||function(){},ee=v("util");$=ee&&ee.debuglog?ee.debuglog("stream"):function(){};var Ge,dt,vt,ae=v("./internal/streams/buffer_list"),Fe=v("./internal/streams/destroy"),Ve=v("./internal/streams/state").getHighWaterMark,it=v("../errors").codes,at=it.ERR_INVALID_ARG_TYPE,qt=it.ERR_STREAM_PUSH_AFTER_EOF,Ct=it.ERR_METHOD_NOT_IMPLEMENTED,Ht=it.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;v("inherits")(l,C);var G=Fe.errorOrDestroy,ue=["error","close","destroy","pause","resume"];Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Y){this._readableState&&(this._readableState.destroyed=Y)}}),l.prototype.destroy=Fe.destroy,l.prototype._undestroy=Fe.undestroy,l.prototype._destroy=function(Y,oe){oe(Y)},l.prototype.push=function(Y,oe){var ie,et=this._readableState;return et.objectMode?ie=!0:"string"==typeof Y&&((oe=oe||et.defaultEncoding)!==et.encoding&&(Y=M.from(Y,oe),oe=""),ie=!0),n(this,Y,oe,!1,ie)},l.prototype.unshift=function(Y){return n(this,Y,null,!0,!1)},l.prototype.isPaused=function(){return!1===this._readableState.flowing},l.prototype.setEncoding=function(Y){Ge||(Ge=v("string_decoder/").StringDecoder);var oe=new Ge(Y);this._readableState.decoder=oe,this._readableState.encoding=this._readableState.decoder.encoding;for(var et=this._readableState.buffer.head,ie="";null!==et;)ie+=oe.write(et.data),et=et.next;return this._readableState.buffer.clear(),""!==ie&&this._readableState.buffer.push(ie),this._readableState.length=ie.length,this},l.prototype.read=function(Y){$("read",Y),Y=parseInt(Y,10);var oe=this._readableState,et=Y;if(0!==Y&&(oe.emittedReadable=!1),0===Y&&oe.needReadable&&((0===oe.highWaterMark?0<oe.length:oe.length>=oe.highWaterMark)||oe.ended))return $("read: emitReadable",oe.length,oe.ended),0===oe.length&&oe.ended?xe(this):d(this),null;if(0===(Y=u(Y,oe))&&oe.ended)return 0===oe.length&&xe(this),null;var pe,ie=oe.needReadable;return $("need readable",ie),(0===oe.length||oe.length-Y<oe.highWaterMark)&&$("length less than watermark",ie=!0),oe.ended||oe.reading?$("reading or ended",ie=!1):ie&&($("do read"),oe.reading=!0,oe.sync=!0,0===oe.length&&(oe.needReadable=!0),this._read(oe.highWaterMark),oe.sync=!1,!oe.reading&&(Y=u(et,oe))),null===(pe=0<Y?se(Y,oe):null)?(oe.needReadable=oe.length<=oe.highWaterMark,Y=0):(oe.length-=Y,oe.awaitDrain=0),0===oe.length&&(!oe.ended&&(oe.needReadable=!0),et!==Y&&oe.ended&&xe(this)),null!==pe&&this.emit("data",pe),pe},l.prototype._read=function(){G(this,new Ct("_read()"))},l.prototype.pipe=function(Y,oe){function ie(){$("onend"),Y.end()}function Ye(On){$("ondata");var Sr=Y.write(On);$("dest.write",Sr),!1===Sr&&((1===kn.pipesCount&&kn.pipes===Y||1<kn.pipesCount&&-1!==A(kn.pipes,Y))&&!Cn&&($("false write response, pause",kn.awaitDrain),kn.awaitDrain++),rn.pause())}function ct(On){$("onerror",On),Zt(),Y.removeListener("error",ct),0===y(Y,"error")&&G(Y,On)}function gt(){Y.removeListener("finish",$t),Zt()}function $t(){$("onfinish"),Y.removeListener("close",gt),Zt()}function Zt(){$("unpipe"),rn.unpipe(Y)}var rn=this,kn=this._readableState;switch(kn.pipesCount){case 0:kn.pipes=Y;break;case 1:kn.pipes=[kn.pipes,Y];break;default:kn.pipes.push(Y)}kn.pipesCount+=1,$("pipe count=%d opts=%j",kn.pipesCount,oe);var xn=oe&&!1===oe.end||Y===h.stdout||Y===h.stderr?Zt:ie;kn.endEmitted?h.nextTick(xn):rn.once("end",xn),Y.on("unpipe",function et(On,Sr){$("onunpipe"),On===rn&&Sr&&!1===Sr.hasUnpiped&&(Sr.hasUnpiped=!0,function pe(){$("cleanup"),Y.removeListener("close",gt),Y.removeListener("finish",$t),Y.removeListener("drain",$n),Y.removeListener("error",ct),Y.removeListener("unpipe",et),rn.removeListener("end",ie),rn.removeListener("end",Zt),rn.removeListener("data",Ye),Cn=!0,kn.awaitDrain&&(!Y._writableState||Y._writableState.needDrain)&&$n()}())});var $n=function I(Y){return function(){var oe=Y._readableState;$("pipeOnDrain",oe.awaitDrain),oe.awaitDrain&&oe.awaitDrain--,0===oe.awaitDrain&&y(Y,"data")&&(oe.flowing=!0,K(Y))}}(rn);Y.on("drain",$n);var Cn=!1;return rn.on("data",Ye),function r(Y,oe,et){"function"==typeof Y.prependListener?Y.prependListener(oe,et):Y._events&&Y._events[oe]?Array.isArray(Y._events[oe])?Y._events[oe].unshift(et):Y._events[oe]=[et,Y._events[oe]]:Y.on(oe,et)}(Y,"error",ct),Y.once("close",gt),Y.once("finish",$t),Y.emit("pipe",rn),kn.flowing||($("pipe resume"),rn.resume()),Y},l.prototype.unpipe=function(Y){var oe=this._readableState,et={hasUnpiped:!1};if(0===oe.pipesCount)return this;if(1===oe.pipesCount)return Y&&Y!==oe.pipes||(Y||(Y=oe.pipes),oe.pipes=null,oe.pipesCount=0,oe.flowing=!1,Y&&Y.emit("unpipe",this,et)),this;if(!Y){var ie=oe.pipes,pe=oe.pipesCount;oe.pipes=null,oe.pipesCount=0,oe.flowing=!1;for(var Ye=0;Ye<pe;Ye++)ie[Ye].emit("unpipe",this,{hasUnpiped:!1});return this}var ct=A(oe.pipes,Y);return-1===ct||(oe.pipes.splice(ct,1),oe.pipesCount-=1,1===oe.pipesCount&&(oe.pipes=oe.pipes[0]),Y.emit("unpipe",this,et)),this},l.prototype.addListener=l.prototype.on=function(Y,oe){var et=C.prototype.on.call(this,Y,oe),ie=this._readableState;return"data"===Y?(ie.readableListening=0<this.listenerCount("readable"),!1!==ie.flowing&&this.resume()):"readable"==Y&&!ie.endEmitted&&!ie.readableListening&&(ie.readableListening=ie.needReadable=!0,ie.flowing=!1,ie.emittedReadable=!1,$("on readable",ie.length,ie.reading),ie.length?d(this):!ie.reading&&h.nextTick(R,this)),et},l.prototype.removeListener=function(Y,oe){var et=C.prototype.removeListener.call(this,Y,oe);return"readable"===Y&&h.nextTick(S,this),et},l.prototype.removeAllListeners=function(Y){var oe=C.prototype.removeAllListeners.apply(this,arguments);return("readable"===Y||void 0===Y)&&h.nextTick(S,this),oe},l.prototype.resume=function(){var Y=this._readableState;return Y.flowing||($("resume"),Y.flowing=!Y.readableListening,function F(Y,oe){oe.resumeScheduled||(oe.resumeScheduled=!0,h.nextTick(q,Y,oe))}(this,Y)),Y.paused=!1,this},l.prototype.pause=function(){return $("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&($("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},l.prototype.wrap=function(Y){var oe=this,et=this._readableState,ie=!1;for(var pe in Y.on("end",function(){if($("wrapped end"),et.decoder&&!et.ended){var ct=et.decoder.end();ct&&ct.length&&oe.push(ct)}oe.push(null)}),Y.on("data",function(ct){$("wrapped data"),et.decoder&&(ct=et.decoder.write(ct)),et.objectMode&&null==ct||!(et.objectMode||ct&&ct.length)||oe.push(ct)||(ie=!0,Y.pause())}),Y)void 0===this[pe]&&"function"==typeof Y[pe]&&(this[pe]=function(ct){return function(){return Y[ct].apply(Y,arguments)}}(pe));for(var Ye=0;Ye<ue.length;Ye++)Y.on(ue[Ye],this.emit.bind(this,ue[Ye]));return this._read=function(ct){$("wrapped _read",ct),ie&&(ie=!1,Y.resume())},this},"function"==typeof Symbol&&(l.prototype[Symbol.asyncIterator]=function(){return void 0===dt&&(dt=v("./internal/streams/async_iterator")),dt(this)}),Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(l.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(l.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Y){this._readableState&&(this._readableState.flowing=Y)}}),l._fromList=se,Object.defineProperty(l.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(l.from=function(Y,oe){return void 0===vt&&(vt=v("./internal/streams/from")),vt(l,Y,oe)})}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"../errors":73,"./_stream_duplex":74,"./internal/streams/async_iterator":79,"./internal/streams/buffer_list":80,"./internal/streams/destroy":81,"./internal/streams/from":83,"./internal/streams/state":85,"./internal/streams/stream":86,_process:205,buffer:69,events:70,inherits:159,"string_decoder/":276,util:41}],77:[function(v,L){"use strict";function h(s,u){var o=this._transformState;o.transforming=!1;var d=o.writecb;if(null===d)return this.emit("error",new l);o.writechunk=null,o.writecb=null,null!=u&&this.push(u),d(s);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function g(s){return this instanceof g?(i.call(this,s),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,s&&("function"==typeof s.transform&&(this._transform=s.transform),"function"==typeof s.flush&&(this._flush=s.flush)),void this.on("prefinish",p)):new g(s)}function p(){var s=this;"function"!=typeof this._flush||this._readableState.destroyed?x(this,null,null):this._flush(function(u,o){x(s,u,o)})}function x(s,u,o){if(u)return s.emit("error",u);if(null!=o&&s.push(o),s._writableState.length)throw new t;if(s._transformState.transforming)throw new n;return s.push(null)}L.exports=g;var r=v("../errors").codes,c=r.ERR_METHOD_NOT_IMPLEMENTED,l=r.ERR_MULTIPLE_CALLBACK,n=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,t=r.ERR_TRANSFORM_WITH_LENGTH_0,i=v("./_stream_duplex");v("inherits")(g,i),g.prototype.push=function(s,u){return this._transformState.needTransform=!1,i.prototype.push.call(this,s,u)},g.prototype._transform=function(s,u,o){o(new c("_transform()"))},g.prototype._write=function(s,u,o){var d=this._transformState;if(d.writecb=o,d.writechunk=s,d.writeencoding=u,!d.transforming){var f=this._readableState;(d.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},g.prototype._read=function(){var s=this._transformState;null===s.writechunk||s.transforming?s.needTransform=!0:(s.transforming=!0,this._transform(s.writechunk,s.writeencoding,s.afterTransform))},g.prototype._destroy=function(s,u){i.prototype._destroy.call(this,s,function(o){u(o)})}},{"../errors":73,"./_stream_duplex":74,inherits:159}],78:[function(v,L){(function(h,g){(function(){"use strict";function p(Ge){var dt=this;this.next=null,this.entry=null,this.finish=function(){!function xe(Ge,dt,vt){var G=Ge.entry;for(Ge.entry=null;G;){var ue=G.callback;dt.pendingcb--,ue(vt),G=G.next}dt.corkedRequestsFree.next=Ge}(dt,Ge)}}function c(){}function l(Ge,dt,vt){we=we||v("./_stream_duplex"),"boolean"!=typeof vt&&(vt=dt instanceof we),this.objectMode=!!(Ge=Ge||{}).objectMode,vt&&(this.objectMode=this.objectMode||!!Ge.writableObjectMode),this.highWaterMark=O(this,Ge,"writableHighWaterMark",vt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ge.decodeStrings),this.defaultEncoding=Ge.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ue){!function E(Ge,dt){var vt=Ge._writableState,G=vt.sync,ue=vt.writecb;if("function"!=typeof ue)throw new Fe;if(function f(Ge){Ge.writing=!1,Ge.writecb=null,Ge.length-=Ge.writelen,Ge.writelen=0}(vt),dt)!function d(Ge,dt,vt,G,ue){--dt.pendingcb,vt?(h.nextTick(ue,G),h.nextTick(K,Ge,dt),Ge._writableState.errorEmitted=!0,Ct(Ge,G)):(ue(G),Ge._writableState.errorEmitted=!0,Ct(Ge,G),K(Ge,dt))}(Ge,vt,G,dt,ue);else{var Y=R(vt)||Ge.destroyed;Y||vt.corked||vt.bufferProcessing||!vt.bufferedRequest||S(Ge,vt),G?h.nextTick(b,Ge,vt,Y,ue):b(Ge,vt,Y,ue)}}(dt,ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Ge.emitClose,this.autoDestroy=!!Ge.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new p(this)}function n(Ge){var dt=this instanceof(we=we||v("./_stream_duplex"));return dt||Ht.call(n,this)?(this._writableState=new l(Ge,this,dt),this.writable=!0,Ge&&("function"==typeof Ge.write&&(this._write=Ge.write),"function"==typeof Ge.writev&&(this._writev=Ge.writev),"function"==typeof Ge.destroy&&(this._destroy=Ge.destroy),"function"==typeof Ge.final&&(this._final=Ge.final)),void P.call(this)):new n(Ge)}function o(Ge,dt,vt,G,ue,Y,oe){dt.writelen=G,dt.writecb=oe,dt.writing=!0,dt.sync=!0,dt.destroyed?dt.onwrite(new Ve("write")):vt?Ge._writev(ue,dt.onwrite):Ge._write(ue,Y,dt.onwrite),dt.sync=!1}function b(Ge,dt,vt,G){vt||function I(Ge,dt){0===dt.length&&dt.needDrain&&(dt.needDrain=!1,Ge.emit("drain"))}(Ge,dt),dt.pendingcb--,G(),K(Ge,dt)}function S(Ge,dt){dt.bufferProcessing=!0;var vt=dt.bufferedRequest;if(Ge._writev&&vt&&vt.next){var ue=Array(dt.bufferedRequestCount),Y=dt.corkedRequestsFree;Y.entry=vt;for(var oe=0,et=!0;vt;)ue[oe]=vt,vt.isBuf||(et=!1),vt=vt.next,oe+=1;ue.allBuffers=et,o(Ge,dt,!0,dt.length,ue,"",Y.finish),dt.pendingcb++,dt.lastBufferedRequest=null,Y.next?(dt.corkedRequestsFree=Y.next,Y.next=null):dt.corkedRequestsFree=new p(dt),dt.bufferedRequestCount=0}else{for(;vt;){var ie=vt.chunk;if(o(Ge,dt,!1,dt.objectMode?1:ie.length,ie,vt.encoding,vt.callback),vt=vt.next,dt.bufferedRequestCount--,dt.writing)break}null===vt&&(dt.lastBufferedRequest=null)}dt.bufferedRequest=vt,dt.bufferProcessing=!1}function R(Ge){return Ge.ending&&0===Ge.length&&null===Ge.bufferedRequest&&!Ge.finished&&!Ge.writing}function F(Ge,dt){Ge._final(function(vt){dt.pendingcb--,vt&&Ct(Ge,vt),dt.prefinished=!0,Ge.emit("prefinish"),K(Ge,dt)})}function K(Ge,dt){var vt=R(dt);if(vt&&(function q(Ge,dt){dt.prefinished||dt.finalCalled||("function"!=typeof Ge._final||dt.destroyed?(dt.prefinished=!0,Ge.emit("prefinish")):(dt.pendingcb++,dt.finalCalled=!0,h.nextTick(F,Ge,dt)))}(Ge,dt),0===dt.pendingcb&&(dt.finished=!0,Ge.emit("finish"),dt.autoDestroy))){var G=Ge._readableState;(!G||G.autoDestroy&&G.endEmitted)&&Ge.destroy()}return vt}var we;L.exports=n,n.WritableState=l;var Ht,A={deprecate:v("util-deprecate")},P=v("./internal/streams/stream"),U=v("buffer").Buffer,y=g.Uint8Array||function(){},C=v("./internal/streams/destroy"),O=v("./internal/streams/state").getHighWaterMark,ee=v("../errors").codes,$=ee.ERR_INVALID_ARG_TYPE,ae=ee.ERR_METHOD_NOT_IMPLEMENTED,Fe=ee.ERR_MULTIPLE_CALLBACK,He=ee.ERR_STREAM_CANNOT_PIPE,Ve=ee.ERR_STREAM_DESTROYED,it=ee.ERR_STREAM_NULL_VALUES,at=ee.ERR_STREAM_WRITE_AFTER_END,qt=ee.ERR_UNKNOWN_ENCODING,Ct=C.errorOrDestroy;v("inherits")(n,P),l.prototype.getBuffer=function(){for(var Ge=this.bufferedRequest,dt=[];Ge;)dt.push(Ge),Ge=Ge.next;return dt},function(){try{Object.defineProperty(l.prototype,"buffer",{get:A.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(Ge){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Ht=Function.prototype[Symbol.hasInstance],Object.defineProperty(n,Symbol.hasInstance,{value:function(Ge){return!!Ht.call(this,Ge)||this===n&&Ge&&Ge._writableState instanceof l}})):Ht=function(Ge){return Ge instanceof this},n.prototype.pipe=function(){Ct(this,new He)},n.prototype.write=function(Ge,dt,vt){var G=this._writableState,ue=!1,Y=!G.objectMode&&function r(Ge){return U.isBuffer(Ge)||Ge instanceof y}(Ge);return Y&&!U.isBuffer(Ge)&&(Ge=function x(Ge){return U.from(Ge)}(Ge)),"function"==typeof dt&&(vt=dt,dt=null),Y?dt="buffer":!dt&&(dt=G.defaultEncoding),"function"!=typeof vt&&(vt=c),G.ending?function t(Ge,dt){var vt=new at;Ct(Ge,vt),h.nextTick(dt,vt)}(this,vt):(Y||function i(Ge,dt,vt,G){var ue;return null===vt?ue=new it:"string"!=typeof vt&&!dt.objectMode&&(ue=new $("chunk",["string","Buffer"],vt)),!ue||(Ct(Ge,ue),h.nextTick(G,ue),!1)}(this,G,Ge,vt))&&(G.pendingcb++,ue=function u(Ge,dt,vt,G,ue,Y){if(!vt){var oe=function s(Ge,dt,vt){return Ge.objectMode||!1===Ge.decodeStrings||"string"!=typeof dt||(dt=U.from(dt,vt)),dt}(dt,G,ue);G!==oe&&(vt=!0,ue="buffer",G=oe)}var et=dt.objectMode?1:G.length;dt.length+=et;var ie=dt.length<dt.highWaterMark;if(ie||(dt.needDrain=!0),dt.writing||dt.corked){var pe=dt.lastBufferedRequest;dt.lastBufferedRequest={chunk:G,encoding:ue,isBuf:vt,callback:Y,next:null},pe?pe.next=dt.lastBufferedRequest:dt.bufferedRequest=dt.lastBufferedRequest,dt.bufferedRequestCount+=1}else o(Ge,dt,!1,et,G,ue,Y);return ie}(this,G,Y,Ge,dt,vt)),ue},n.prototype.cork=function(){this._writableState.corked++},n.prototype.uncork=function(){var Ge=this._writableState;Ge.corked&&(Ge.corked--,!Ge.writing&&!Ge.corked&&!Ge.bufferProcessing&&Ge.bufferedRequest&&S(this,Ge))},n.prototype.setDefaultEncoding=function(Ge){if("string"==typeof Ge&&(Ge=Ge.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ge+"").toLowerCase())))throw new qt(Ge);return this._writableState.defaultEncoding=Ge,this},Object.defineProperty(n.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),n.prototype._write=function(Ge,dt,vt){vt(new ae("_write()"))},n.prototype._writev=null,n.prototype.end=function(Ge,dt,vt){var G=this._writableState;return"function"==typeof Ge?(vt=Ge,Ge=null,dt=null):"function"==typeof dt&&(vt=dt,dt=null),null!=Ge&&this.write(Ge,dt),G.corked&&(G.corked=1,this.uncork()),G.ending||function se(Ge,dt,vt){dt.ending=!0,K(Ge,dt),vt&&(dt.finished?h.nextTick(vt):Ge.once("finish",vt)),dt.ended=!0,Ge.writable=!1}(this,G,vt),this},Object.defineProperty(n.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(n.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Ge){this._writableState&&(this._writableState.destroyed=Ge)}}),n.prototype.destroy=C.destroy,n.prototype._undestroy=C.undestroy,n.prototype._destroy=function(Ge,dt){dt(Ge)}}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"../errors":73,"./_stream_duplex":74,"./internal/streams/destroy":81,"./internal/streams/state":85,"./internal/streams/stream":86,_process:205,buffer:69,inherits:159,"util-deprecate":288}],79:[function(v,L){(function(h){(function(){"use strict";function g(I,S,R){return S in I?Object.defineProperty(I,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):I[S]=R,I}function p(I,S){return{value:I,done:S}}function x(I){var S=I[n];if(null!==S){var R=I[d].read();null!==R&&(I[u]=null,I[n]=null,I[t]=null,S(p(R,!1)))}}function r(I){h.nextTick(x,I)}var b,l=v("./end-of-stream"),n=Symbol("lastResolve"),t=Symbol("lastReject"),i=Symbol("error"),s=Symbol("ended"),u=Symbol("lastPromise"),o=Symbol("handlePromise"),d=Symbol("stream"),f=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((g(b={get stream(){return this[d]},next:function(){var I=this,S=this[i];if(null!==S)return Promise.reject(S);if(this[s])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise(function(K,se){h.nextTick(function(){I[i]?se(I[i]):K(p(void 0,!0))})});var F,R=this[u];if(R)F=new Promise(function c(I,S){return function(R,F){I.then(function(){return S[s]?void R(p(void 0,!0)):void S[o](R,F)},F)}}(R,this));else{var q=this[d].read();if(null!==q)return Promise.resolve(p(q,!1));F=new Promise(this[o])}return this[u]=F,F}},Symbol.asyncIterator,function(){return this}),g(b,"return",function(){var I=this;return new Promise(function(S,R){I[d].destroy(null,function(F){return F?void R(F):void S(p(void 0,!0))})})}),b),f);L.exports=function(I){var R,S=Object.create(E,(g(R={},d,{value:I,writable:!0}),g(R,n,{value:null,writable:!0}),g(R,t,{value:null,writable:!0}),g(R,i,{value:null,writable:!0}),g(R,s,{value:I._readableState.endEmitted,writable:!0}),g(R,o,{value:function(F,q){var K=S[d].read();K?(S[u]=null,S[n]=null,S[t]=null,F(p(K,!1))):(S[n]=F,S[t]=q)},writable:!0}),R));return S[u]=null,l(I,function(F){if(F&&"ERR_STREAM_PREMATURE_CLOSE"!==F.code){var q=S[t];return null!==q&&(S[u]=null,S[n]=null,S[t]=null,q(F)),void(S[i]=F)}var K=S[n];null!==K&&(S[u]=null,S[n]=null,S[t]=null,K(p(void 0,!0))),S[s]=!0}),I.on("readable",r.bind(null,S)),S}}).call(this)}).call(this,v("_process"))},{"./end-of-stream":82,_process:205}],80:[function(v,L){"use strict";function h(o,d){var f=Object.keys(o);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(o);d&&(E=E.filter(function(b){return Object.getOwnPropertyDescriptor(o,b).enumerable})),f.push.apply(f,E)}return f}function p(o,d,f){return d in o?Object.defineProperty(o,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):o[d]=f,o}function r(o,d){for(var E,f=0;f<d.length;f++)(E=d[f]).enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(o,E.key,E)}function l(o,d,f){t.prototype.copy.call(o,d,f)}var t=v("buffer").Buffer,s=v("util").inspect,u=s&&s.custom||"inspect";L.exports=function(){function o(){(function x(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return function c(o,d,f){d&&r(o.prototype,d),f&&r(o,f)}(o,[{key:"push",value:function(d){var f={data:d,next:null};0<this.length?this.tail.next=f:this.head=f,this.tail=f,++this.length}},{key:"unshift",value:function(d){var f={data:d,next:this.head};0===this.length&&(this.tail=f),this.head=f,++this.length}},{key:"shift",value:function(){if(0!==this.length){var d=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,d}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(d){if(0===this.length)return"";for(var f=this.head,E=""+f.data;f=f.next;)E+=d+f.data;return E}},{key:"concat",value:function(d){if(0===this.length)return t.alloc(0);for(var f=t.allocUnsafe(d>>>0),E=this.head,b=0;E;)l(E.data,f,b),b+=E.data.length,E=E.next;return f}},{key:"consume",value:function(d,f){var E;return d<this.head.data.length?(E=this.head.data.slice(0,d),this.head.data=this.head.data.slice(d)):E=d===this.head.data.length?this.shift():f?this._getString(d):this._getBuffer(d),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(d){var f=this.head,E=1,b=f.data;for(d-=b.length;f=f.next;){var I=f.data,S=d>I.length?I.length:d;if(b+=S===I.length?I:I.slice(0,d),0==(d-=S)){S===I.length?(++E,this.head=f.next?f.next:this.tail=null):(this.head=f,f.data=I.slice(S));break}++E}return this.length-=E,b}},{key:"_getBuffer",value:function(d){var f=t.allocUnsafe(d),E=this.head,b=1;for(E.data.copy(f),d-=E.data.length;E=E.next;){var I=E.data,S=d>I.length?I.length:d;if(I.copy(f,f.length-d,0,S),0==(d-=S)){S===I.length?(++b,this.head=E.next?E.next:this.tail=null):(this.head=E,E.data=I.slice(S));break}++b}return this.length-=b,f}},{key:u,value:function(d,f){return s(this,function g(o){for(var f,d=1;d<arguments.length;d++)f=null==arguments[d]?{}:arguments[d],d%2?h(Object(f),!0).forEach(function(E){p(o,E,f[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(f)):h(Object(f)).forEach(function(E){Object.defineProperty(o,E,Object.getOwnPropertyDescriptor(f,E))});return o}({},f,{depth:0,customInspect:!1}))}}]),o}()},{buffer:69,util:41}],81:[function(v,L){(function(h){(function(){"use strict";function g(r,c){x(r,c),p(r)}function p(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function x(r,c){r.emit("error",c)}L.exports={destroy:function(r,c){var l=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(c?c(r):r&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,h.nextTick(x,this,r)):h.nextTick(x,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(i){!c&&i?l._writableState?l._writableState.errorEmitted?h.nextTick(p,l):(l._writableState.errorEmitted=!0,h.nextTick(g,l,i)):h.nextTick(g,l,i):c?(h.nextTick(p,l),c(i)):h.nextTick(p,l)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,c){var l=r._readableState,n=r._writableState;l&&l.autoDestroy||n&&n.autoDestroy?r.destroy(c):r.emit("error",c)}}}).call(this)}).call(this,v("_process"))},{_process:205}],82:[function(v,L){"use strict";function g(){}var r=v("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;L.exports=function x(c,l,n){if("function"==typeof l)return x(c,null,l);l||(l={}),n=function h(c){var l=!1;return function(){if(!l){l=!0;for(var n=arguments.length,t=Array(n),i=0;i<n;i++)t[i]=arguments[i];c.apply(this,t)}}}(n||g);var t=l.readable||!1!==l.readable&&c.readable,i=l.writable||!1!==l.writable&&c.writable,s=function(){c.writable||o()},u=c._writableState&&c._writableState.finished,o=function(){i=!1,u=!0,t||n.call(c)},d=c._readableState&&c._readableState.endEmitted,f=function(){t=!1,d=!0,i||n.call(c)},E=function(S){n.call(c,S)},b=function(){var S;return t&&!d?(c._readableState&&c._readableState.ended||(S=new r),n.call(c,S)):i&&!u?(c._writableState&&c._writableState.ended||(S=new r),n.call(c,S)):void 0},I=function(){c.req.on("finish",o)};return function p(c){return c.setHeader&&"function"==typeof c.abort}(c)?(c.on("complete",o),c.on("abort",b),c.req?I():c.on("request",I)):i&&!c._writableState&&(c.on("end",s),c.on("close",s)),c.on("end",f),c.on("finish",o),!1!==l.error&&c.on("error",E),c.on("close",b),function(){c.removeListener("complete",o),c.removeListener("abort",b),c.removeListener("request",I),c.req&&c.req.removeListener("finish",o),c.removeListener("end",s),c.removeListener("close",s),c.removeListener("finish",o),c.removeListener("end",f),c.removeListener("error",E),c.removeListener("close",b)}}},{"../../../errors":73}],83:[function(v,L){L.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],84:[function(v,L){"use strict";function g(u){if(u)throw u}function x(u,o,d,f){f=function h(u){var o=!1;return function(){o||(o=!0,u.apply(void 0,arguments))}}(f);var E=!1;u.on("close",function(){E=!0}),void 0===s&&(s=v("./end-of-stream")),s(u,{readable:o,writable:d},function(I){return I?f(I):(E=!0,void f())});var b=!1;return function(I){if(!E)return b?void 0:(b=!0,function p(u){return u.setHeader&&"function"==typeof u.abort}(u)?u.abort():"function"==typeof u.destroy?u.destroy():void f(I||new i("pipe")))}}function r(u){u()}function c(u,o){return u.pipe(o)}function l(u){return u.length&&"function"==typeof u[u.length-1]?u.pop():g}var s,n=v("../../../errors").codes,t=n.ERR_MISSING_ARGS,i=n.ERR_STREAM_DESTROYED;L.exports=function(){for(var u=arguments.length,o=Array(u),d=0;d<u;d++)o[d]=arguments[d];var f=l(o);if(Array.isArray(o[0])&&(o=o[0]),2>o.length)throw new t("streams");var b,E=o.map(function(I,S){var R=S<o.length-1;return x(I,R,0<S,function(F){b||(b=F),F&&E.forEach(r),R||(E.forEach(r),f(b))})});return o.reduce(c)}},{"../../../errors":73,"./end-of-stream":82}],85:[function(v,L){"use strict";var g=v("../../../errors").codes.ERR_INVALID_OPT_VALUE;L.exports={getHighWaterMark:function(p,x,r,c){var l=function h(p,x,r){return null==p.highWaterMark?x?p[r]:null:p.highWaterMark}(x,c,r);if(null!=l){if(!isFinite(l)||Et(l)!==l||0>l)throw new g(c?r:"highWaterMark",l);return Et(l)}return p.objectMode?16:16384}}},{"../../../errors":73}],86:[function(v,L){L.exports=v("events").EventEmitter},{events:70}],87:[function(v,L){(function(h){(function(){L.exports=function(g){if("number"!=typeof g)throw new TypeError('"size" argument must be a number');if(0>g)throw new RangeError('"size" argument must not be negative');return h.allocUnsafe?h.allocUnsafe(g):new h(g)}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],88:[function(v,L){(function(h){(function(){var g=v("buffer-fill"),p=v("buffer-alloc-unsafe");L.exports=function(x,r,c){if("number"!=typeof x)throw new TypeError('"size" argument must be a number');if(0>x)throw new RangeError('"size" argument must not be negative');if(h.alloc)return h.alloc(x,r,c);var l=p(x);return 0===x?l:void 0===r?g(l,0):("string"!=typeof c&&(c=void 0),g(l,r,c))}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,"buffer-alloc-unsafe":87,"buffer-fill":89}],89:[function(v,L){(function(h){(function(){function p(c,l,n,t){if(0>n||t>c.length)throw new RangeError("Out of range index");return(t=void 0===t?c.length:t>>>0)>(n>>>=0)&&c.fill(l,n,t),c}var r=function(){try{if(!h.isEncoding("latin1"))return!1;var c=h.alloc?h.alloc(4):new h(4);return c.fill("ab","ucs2"),"61006200"===c.toString("hex")}catch(l){return!1}}();L.exports=function(c,l,n,t,i){if(r)return c.fill(l,n,t,i);if("number"==typeof l)return p(c,l,n,t);if("string"==typeof l){if("string"==typeof n?(i=n,n=0,t=c.length):"string"==typeof t&&(i=t,t=c.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("latin1"===i&&(i="binary"),"string"==typeof i&&!h.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(""===l)return p(c,0,n,t);if(function g(c){return 1===c.length&&256>c.charCodeAt(0)}(l))return p(c,l.charCodeAt(0),n,t);l=new h(l,i)}return h.isBuffer(l)?function x(c,l,n,t){if(0>n||t>c.length)throw new RangeError("Out of range index");if(t<=n)return c;t=void 0===t?c.length:t>>>0;for(var i=n>>>=0,s=l.length;i<=t-s;)l.copy(c,i),i+=s;return i!==t&&l.copy(c,i,0,t-i),c}(c,l,n,t):p(c,0,n,t)}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],90:[function(v,L){(function(h){(function(){L.exports=function(g,p){for(var x=ne(g.length,p.length),r=new h(x),c=0;c<x;++c)r[c]=g[c]^p[c];return r}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],91:[function(v,L){L.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],92:[function(v,L){const h=v("lru"),g=v("queue-microtask");L.exports=class{constructor(p,x){if(this.store=p,this.chunkLength=p.chunkLength,this.inProgressGets=new Map,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.cache=new h(x)}put(p,x,r=(()=>{})){return this.cache?(this.cache.remove(p),void this.store.put(p,x,r)):g(()=>r(new Error("CacheStore closed")))}get(p,x,r=(()=>{})){if("function"==typeof x)return this.get(p,null,x);if(!this.cache)return g(()=>r(new Error("CacheStore closed")));x||(x={});let c=this.cache.get(p);if(c){const t=x.offset||0,i=x.length||c.length-t;return(0!==t||i!==c.length)&&(c=c.slice(t,i+t)),g(()=>r(null,c))}let l=this.inProgressGets.get(p);const n=!!l;l||(l=[],this.inProgressGets.set(p,l)),l.push({opts:x,cb:r}),n||this.store.get(p,(t,i)=>{t||null==this.cache||this.cache.set(p,i);const s=this.inProgressGets.get(p);this.inProgressGets.delete(p);for(const{opts:u,cb:o}of s)if(t)o(t);else{const d=u.offset||0,f=u.length||i.length-d;let E=i;(0!==d||f!==i.length)&&(E=i.slice(d,f+d)),o(null,E)}})}close(p=(()=>{})){return this.cache?(this.cache=null,void this.store.close(p)):g(()=>p(new Error("CacheStore closed")))}destroy(p=(()=>{})){return this.cache?(this.cache=null,void this.store.destroy(p)):g(()=>p(new Error("CacheStore closed")))}}},{lru:168,"queue-microtask":218}],93:[function(v,L){const h=v("block-stream2"),g=v("readable-stream");L.exports=class p extends g.Writable{constructor(r,c,l={}){if(super(l),!r||!r.put||!r.get)throw new Error("First argument must be an abstract-chunk-store compliant store");if(!(c=+c))throw new Error("Second argument must be a chunk length");const n=void 0!==l.zeroPadding&&l.zeroPadding;this._blockstream=new h(c,{...l,zeroPadding:n}),this._outstandingPuts=0,this._storeMaxOutstandingPuts=l.storeMaxOutstandingPuts||16;let t=0;this._blockstream.on("data",s=>{this.destroyed||(this._outstandingPuts+=1,this._outstandingPuts>=this._storeMaxOutstandingPuts&&this._blockstream.pause(),r.put(t,s,u=>u?this.destroy(u):(this._outstandingPuts-=1,this._outstandingPuts<this._storeMaxOutstandingPuts&&this._blockstream.resume(),void(0===this._outstandingPuts&&"function"==typeof this._finalCb&&(this._finalCb(null),this._finalCb=null)))),t+=1)}).on("error",s=>{this.destroy(s)})}_write(r,c,l){this._blockstream.write(r,c,l)}_final(r){this._blockstream.end(),this._blockstream.once("end",()=>{0===this._outstandingPuts?r(null):this._finalCb=r})}destroy(r){this.destroyed||(this.destroyed=!0,r&&this.emit("error",r),this.emit("close"))}}},{"block-stream2":38,"readable-stream":240}],94:[function(v,L){function h(c){p.call(this),this.hashMode="string"==typeof c,this.hashMode?this[c]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var g=v("safe-buffer").Buffer,p=v("stream").Transform,x=v("string_decoder").StringDecoder;v("inherits")(h,p),h.prototype.update=function(c,l,n){"string"==typeof c&&(c=g.from(c,l));var t=this._update(c);return this.hashMode?this:(n&&(t=this._toString(t,n)),t)},h.prototype.setAutoPadding=function(){},h.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},h.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},h.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},h.prototype._transform=function(c,l,n){var t;try{this.hashMode?this._update(c):this.push(this._update(c))}catch(i){t=i}finally{n(t)}},h.prototype._flush=function(c){var l;try{this.push(this.__final())}catch(n){l=n}c(l)},h.prototype._finalOrDigest=function(c){var l=this.__final()||g.alloc(0);return c&&(l=this._toString(l,c,!0)),l},h.prototype._toString=function(c,l,n){if(this._decoder||(this._decoder=new x(l),this._encoding=l),this._encoding!==l)throw new Error("can't switch encodings");var t=this._decoder.write(c);return n&&(t+=this._decoder.end()),t},L.exports=h},{inherits:159,"safe-buffer":247,stream:72,string_decoder:276}],95:[function(v,L){(function(h){(function(){var g=function(){"use strict";function p(c,l,n,t){"object"==typeof l&&(n=l.depth,t=l.prototype,l=l.circular);var u=[],o=[],d=void 0!==h;return void 0===l&&(l=!0),void 0===n&&(n=1/0),function i(f,E){if(null===f)return null;if(0==E)return f;var b,I;if("object"!=typeof f)return f;if(p.__isArray(f))b=[];else if(p.__isRegExp(f))b=new RegExp(f.source,r(f)),f.lastIndex&&(b.lastIndex=f.lastIndex);else if(p.__isDate(f))b=new Date(f.getTime());else{if(d&&h.isBuffer(f))return b=h.allocUnsafe?h.allocUnsafe(f.length):new h(f.length),f.copy(b),b;void 0===t?(I=Object.getPrototypeOf(f),b=Object.create(I)):(b=Object.create(t),I=t)}if(l){var S=u.indexOf(f);if(-1!=S)return o[S];u.push(f),o.push(b)}for(var R in f){var F;I&&(F=Object.getOwnPropertyDescriptor(I,R)),(!F||null!=F.set)&&(b[R]=i(f[R],E-1))}return b}(c,n)}function x(c){return Object.prototype.toString.call(c)}function r(c){var l="";return c.global&&(l+="g"),c.ignoreCase&&(l+="i"),c.multiline&&(l+="m"),l}return p.clonePrototype=function(c){if(null===c)return null;var l=function(){};return l.prototype=c,new l},p.__objToStr=x,p.__isDate=function(c){return"object"==typeof c&&"[object Date]"===x(c)},p.__isArray=function(c){return"object"==typeof c&&"[object Array]"===x(c)},p.__isRegExp=function(c){return"object"==typeof c&&"[object RegExp]"===x(c)},p.__getRegExpFlags=r,p}();"object"==typeof L&&L.exports&&(L.exports=g)}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],96:[function(v,L){L.exports=function(){for(var g=navigator.hardwareConcurrency||1,p=[],x=0;x<g;x++)p.push({model:"",speed:0,times:{user:0,nice:0,sys:0,idle:0,irq:0}});return p}},{}],97:[function(v,L){(function(h){(function(){function g(l){this.curveType=c[l],this.curveType||(this.curveType={name:l}),this.curve=new x.ec(this.curveType.name),this.keys=void 0}function p(l,n,t){Array.isArray(l)||(l=l.toArray());var i=new h(l);if(t&&i.length<t){var s=new h(t-i.length);s.fill(0),i=h.concat([s,i])}return n?i.toString(n):i}var x=v("elliptic"),r=v("bn.js");L.exports=function(l){return new g(l)};var c={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};c.p224=c.secp224r1,c.p256=c.secp256r1=c.prime256v1,c.p192=c.secp192r1=c.prime192v1,c.p384=c.secp384r1,c.p521=c.secp521r1,g.prototype.generateKeys=function(l,n){return this.keys=this.curve.genKeyPair(),this.getPublicKey(l,n)},g.prototype.computeSecret=function(l,n,t){return n=n||"utf8",h.isBuffer(l)||(l=new h(l,n)),p(this.curve.keyFromPublic(l).getPublic().mul(this.keys.getPrivate()).getX(),t,this.curveType.byteLength)},g.prototype.getPublicKey=function(l,n){var t=this.keys.getPublic("compressed"===n,!0);return"hybrid"===n&&(t[0]=t[t.length-1]%2?7:6),p(t,l)},g.prototype.getPrivateKey=function(l){return p(this.keys.getPrivate(),l)},g.prototype.setPublicKey=function(l,n){return n=n||"utf8",h.isBuffer(l)||(l=new h(l,n)),this.keys._importPublic(l),this},g.prototype.setPrivateKey=function(l,n){n=n||"utf8",h.isBuffer(l)||(l=new h(l,n));var t=new r(l);return t=t.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(t),this}}).call(this)}).call(this,v("buffer").Buffer)},{"bn.js":98,buffer:69,elliptic:118}],98:[function(v,L,h){arguments[4][22][0].apply(h,arguments)},{buffer:41,dup:22}],99:[function(v,L){"use strict";function h(l){c.call(this,"digest"),this._hash=l}var g=v("inherits"),p=v("md5.js"),x=v("ripemd160"),r=v("sha.js"),c=v("cipher-base");g(h,c),h.prototype._update=function(l){this._hash.update(l)},h.prototype._final=function(){return this._hash.digest()},L.exports=function(l){return"md5"===(l=l.toLowerCase())?new p:"rmd160"===l||"ripemd160"===l?new x:new h(r(l))}},{"cipher-base":94,inherits:159,"md5.js":171,ripemd160:243,"sha.js":250}],100:[function(v,L){var h=v("md5.js");L.exports=function(g){return(new h).update(g).digest()}},{"md5.js":171}],101:[function(v,L){"use strict";function h(i,s){x.call(this,"digest"),"string"==typeof s&&(s=r.from(s));var u="sha512"===i||"sha384"===i?128:64;this._alg=i,this._key=s,s.length>u?s=("rmd160"===i?new l:n(i)).update(s).digest():s.length<u&&(s=r.concat([s,t],u));for(var d=this._ipad=r.allocUnsafe(u),f=this._opad=r.allocUnsafe(u),E=0;E<u;E++)d[E]=54^s[E],f[E]=92^s[E];this._hash="rmd160"===i?new l:n(i),this._hash.update(d)}var g=v("inherits"),p=v("./legacy"),x=v("cipher-base"),r=v("safe-buffer").Buffer,c=v("create-hash/md5"),l=v("ripemd160"),n=v("sha.js"),t=r.alloc(128);g(h,x),h.prototype._update=function(i){this._hash.update(i)},h.prototype._final=function(){var i=this._hash.digest();return("rmd160"===this._alg?new l:n(this._alg)).update(this._opad).update(i).digest()},L.exports=function(i,s){return"rmd160"===(i=i.toLowerCase())||"ripemd160"===i?new h("rmd160",s):"md5"===i?new p(c,s):new h(i,s)}},{"./legacy":102,"cipher-base":94,"create-hash/md5":100,inherits:159,ripemd160:243,"safe-buffer":247,"sha.js":250}],102:[function(v,L){"use strict";function h(c,l){x.call(this,"digest"),"string"==typeof l&&(l=p.from(l)),this._alg=c,this._key=l,l.length>64?l=c(l):l.length<64&&(l=p.concat([l,r],64));for(var n=this._ipad=p.allocUnsafe(64),t=this._opad=p.allocUnsafe(64),i=0;i<64;i++)n[i]=54^l[i],t[i]=92^l[i];this._hash=[n]}var g=v("inherits"),p=v("safe-buffer").Buffer,x=v("cipher-base"),r=p.alloc(128);g(h,x),h.prototype._update=function(c){this._hash.push(c)},h.prototype._final=function(){var c=this._alg(p.concat(this._hash));return this._alg(p.concat([this._opad,c]))},L.exports=h},{"cipher-base":94,inherits:159,"safe-buffer":247}],103:[function(v,L){(function(h){(function(){function g(P,U,y){function C(){q(P.map(ae=>Fe=>{const He={};if(l(ae))He.getStream=function i(P){return()=>new b(P)}(ae),He.length=ae.size;else if(h.isBuffer(ae))He.getStream=function s(P){return()=>{const U=new xe.PassThrough;return U.end(P),U}}(ae),He.length=ae.length;else{if(!t(ae)){if("string"==typeof ae){if("function"!=typeof we)throw new Error("filesystem paths do not work in the browser");return void we(ae,1<ee||$,Fe)}throw new Error("invalid input type")}He.getStream=function u(P,U){return()=>{const y=new xe.Transform;return y._transform=function(C,M,O){U.length+=C.length,this.push(C),O()},P.pipe(y),y}}(ae,He),He.length=0}He.path=ae.path,Fe(null,He)}),(ae,Fe)=>ae?y(ae):(Fe=Fe.flat(),void y(null,Fe,$)))}if(function n(P){return"undefined"!=typeof FileList&&P instanceof FileList}(P)&&(P=Array.from(P)),Array.isArray(P)||(P=[P]),0===P.length)throw new Error("invalid input type");P.forEach(ae=>{if(null==ae)throw new Error(`invalid input type: ${ae}`)}),1!==(P=P.map(ae=>l(ae)&&"string"==typeof ae.path&&"function"==typeof we?ae.path:ae)).length||"string"==typeof P[0]||P[0].name||(P[0].name=U.name);let M=null;P.forEach((ae,Fe)=>{if("string"==typeof ae)return;let He=ae.fullPath||ae.name;He||(He=`Unknown File ${Fe+1}`,ae.unknownName=!0),ae.path=He.split("/"),ae.path[0]||ae.path.shift(),2>ae.path.length?M=null:0===Fe&&1<P.length?M=ae.path[0]:ae.path[0]!==M&&(M=null)}),(void 0===U.filterJunkFiles||U.filterJunkFiles)&&(P=P.filter(ae=>"string"==typeof ae||!r(ae.path))),M&&P.forEach(ae=>{const Fe=(h.isBuffer(ae)||t(ae))&&!ae.path;"string"==typeof ae||Fe||ae.path.shift()}),!U.name&&M&&(U.name=M),U.name||P.some(ae=>"string"==typeof ae?(U.name=E.basename(ae),!0):!ae.unknownName&&(U.name=ae.path[ae.path.length-1],!0)),U.name||(U.name=`Unnamed Torrent ${Date.now()}`);const ee=P.reduce((ae,Fe)=>ae+ +("string"==typeof Fe),0);let $=1===P.length;if(1===P.length&&"string"==typeof P[0]){if("function"!=typeof we)throw new Error("filesystem paths do not work in the browser");I(P[0],(ae,Fe)=>ae?y(ae):($=Fe,void C()))}else K(C)}function r(P){const U=P[P.length-1];return"."===U[0]&&S.is(U)}function c(P,U){return P+U.length}function l(P){return"undefined"!=typeof Blob&&P instanceof Blob}function t(P){return"object"==typeof P&&null!=P&&"function"==typeof P.pipe}const o=v("bencode"),d=v("block-stream2"),f=v("piece-length"),E=v("path"),b=v("filestream/read"),I=v("is-file"),S=v("junk"),R=v("multistream"),F=v("once"),q=v("run-parallel"),K=v("queue-microtask"),se=v("simple-sha1"),xe=v("readable-stream"),we=v("./get-files"),A=5;L.exports=function(P,U,y){"function"==typeof U&&([U,y]=[y,U]),g(P,U=U?Object.assign({},U):{},(C,M,O)=>C?y(C):(U.singleFileTorrent=O,void function x(P,U,y){let C=U.announceList;C||("string"==typeof U.announce?C=[[U.announce]]:Array.isArray(U.announce)&&(C=U.announce.map($=>[$]))),C||(C=[]),globalThis.WEBTORRENT_ANNOUNCE&&("string"==typeof globalThis.WEBTORRENT_ANNOUNCE?C.push([[globalThis.WEBTORRENT_ANNOUNCE]]):Array.isArray(globalThis.WEBTORRENT_ANNOUNCE)&&(C=C.concat(globalThis.WEBTORRENT_ANNOUNCE.map($=>[$])))),void 0===U.announce&&void 0===U.announceList&&(C=C.concat(L.exports.announceList)),"string"==typeof U.urlList&&(U.urlList=[U.urlList]);const M={info:{name:U.name},"creation date":de((+U.creationDate||Date.now())/1e3),encoding:"UTF-8"};0!==C.length&&(M.announce=C[0][0],M["announce-list"]=C),void 0!==U.comment&&(M.comment=U.comment),void 0!==U.createdBy&&(M["created by"]=U.createdBy),void 0!==U.private&&(M.info.private=+U.private),void 0!==U.info&&Object.assign(M.info,U.info),void 0!==U.sslCert&&(M.info["ssl-cert"]=U.sslCert),void 0!==U.urlList&&(M["url-list"]=U.urlList);const O=P.reduce(c,0),ee=U.pieceLength||f(O);M.info["piece length"]=ee,function p(P,U,y,C,M){function O(vt){Ve+=vt.length;const G=Ct;se(vt,ue=>{He[G]=ue,qt-=1,qt<A&&dt.resume(),it+=vt.length,C.onProgress&&C.onProgress(it,y),Fe()}),qt+=1,qt>=A&&dt.pause(),Ct+=1}function ee(){Ht=!0,Fe()}function $(vt){ae(),M(vt)}function ae(){Ge.removeListener("error",$),dt.removeListener("data",O),dt.removeListener("end",ee),dt.removeListener("error",$)}function Fe(){Ht&&0===qt&&(ae(),M(null,h.from(He.join(""),"hex"),Ve))}M=F(M);const He=[];let Ve=0,it=0;const at=P.map(vt=>vt.getStream);let qt=0,Ct=0,Ht=!1;const Ge=new R(at),dt=new d(U,{zeroPadding:!1});Ge.on("error",$),Ge.pipe(dt).on("data",O).on("end",ee).on("error",$)}(P,ee,O,U,($,ae,Fe)=>$?y($):(M.info.pieces=ae,P.forEach(He=>{delete He.getStream}),U.singleFileTorrent?M.info.length=Fe:M.info.files=P,void y(null,o.encode(M))))}(M,U,y)))},L.exports.parseInput=function(P,U,y){"function"==typeof U&&([U,y]=[y,U]),g(P,U=U?Object.assign({},U):{},y)},L.exports.announceList=[["udp://tracker.leechers-paradise.org:6969"],["udp://tracker.coppersurfer.tk:6969"],["udp://tracker.opentrackr.org:1337"],["udp://explodie.org:6969"],["udp://tracker.empire-js.us:1337"],["wss://tracker.btorrent.xyz"],["wss://tracker.openwebtorrent.com"]],L.exports.isJunkPath=r}).call(this)}).call(this,v("buffer").Buffer)},{"./get-files":41,bencode:27,"block-stream2":38,buffer:69,"filestream/read":140,"is-file":41,junk:163,multistream:189,once:191,path:71,"piece-length":204,"queue-microtask":218,"readable-stream":240,"run-parallel":245,"simple-sha1":260}],104:[function(v,L,h){"use strict";h.randomBytes=h.rng=h.pseudoRandomBytes=h.prng=v("randombytes"),h.createHash=h.Hash=v("create-hash"),h.createHmac=h.Hmac=v("create-hmac");var g=v("browserify-sign/algos"),p=Object.keys(g),x=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(p);h.getHashes=function(){return x};var r=v("pbkdf2");h.pbkdf2=r.pbkdf2,h.pbkdf2Sync=r.pbkdf2Sync;var c=v("browserify-cipher");h.Cipher=c.Cipher,h.createCipher=c.createCipher,h.Cipheriv=c.Cipheriv,h.createCipheriv=c.createCipheriv,h.Decipher=c.Decipher,h.createDecipher=c.createDecipher,h.Decipheriv=c.Decipheriv,h.createDecipheriv=c.createDecipheriv,h.getCiphers=c.getCiphers,h.listCiphers=c.listCiphers;var l=v("diffie-hellman");h.DiffieHellmanGroup=l.DiffieHellmanGroup,h.createDiffieHellmanGroup=l.createDiffieHellmanGroup,h.getDiffieHellman=l.getDiffieHellman,h.createDiffieHellman=l.createDiffieHellman,h.DiffieHellman=l.DiffieHellman;var n=v("browserify-sign");h.createSign=n.createSign,h.Sign=n.Sign,h.createVerify=n.createVerify,h.Verify=n.Verify,h.createECDH=v("create-ecdh");var t=v("public-encrypt");h.publicEncrypt=t.publicEncrypt,h.privateEncrypt=t.privateEncrypt,h.publicDecrypt=t.publicDecrypt,h.privateDecrypt=t.privateDecrypt;var i=v("randomfill");h.randomFill=i.randomFill,h.randomFillSync=i.randomFillSync,h.createCredentials=function(){throw new Error("sorry, createCredentials is not implemented yet\nwe accept pull requests\nhttps://github.com/crypto-browserify/crypto-browserify")},h.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":59,"browserify-sign":66,"browserify-sign/algos":63,"create-ecdh":97,"create-hash":99,"create-hmac":101,"diffie-hellman":113,pbkdf2:198,"public-encrypt":206,randombytes:221,randomfill:222}],105:[function(v,L,h){(function(g){(function(){h.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+L.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;r.splice(1,0,c,"color: inherit");let l=0,n=0;r[0].replace(/%[a-zA-Z%]/g,t=>{"%%"===t||(l++,"%c"===t&&(n=l))}),r.splice(n,0,c)},h.save=function(r){try{r?h.storage.setItem("debug",r):h.storage.removeItem("debug")}catch(c){}},h.load=function p(){let r;try{r=h.storage.getItem("debug")}catch(c){}return!r&&void 0!==g&&"env"in g&&(r=g.env.DEBUG),r},h.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},h.storage=function(){try{return localStorage}catch(r){}}(),h.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),h.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],h.log=console.debug||console.log||(()=>{}),L.exports=v("./common")(h);const{formatters:x}=L.exports;x.j=function(r){try{return JSON.stringify(r)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}).call(this)}).call(this,v("_process"))},{"./common":106,_process:205}],106:[function(v,L){L.exports=function(h){function g(r){function c(...s){if(!c.enabled)return;const u=c,o=+new Date;u.diff=o-(n||o),u.prev=n,u.curr=o,n=o,s[0]=g.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");let f=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(b,I)=>{if("%%"===b)return"%";f++;const S=g.formatters[I];return"function"==typeof S&&(b=S.call(u,s[f]),s.splice(f,1),f--),b}),g.formatArgs.call(u,s),(u.log||g.log).apply(u,s)}let n,t,i,l=null;return c.namespace=r,c.useColors=g.useColors(),c.color=g.selectColor(r),c.extend=p,c.destroy=g.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>null===l?(t!==g.namespaces&&(t=g.namespaces,i=g.enabled(r)),i):l,set:s=>{l=s}}),"function"==typeof g.init&&g.init(c),c}function p(r,c){const l=g(this.namespace+(void 0===c?":":c)+r);return l.log=this.log,l}function x(r){return r.toString().substring(2,r.toString().length-2).replace(/\.\*\?$/,"*")}return g.debug=g,g.default=g,g.coerce=function(r){return r instanceof Error?r.stack||r.message:r},g.disable=function(){const r=[...g.names.map(x),...g.skips.map(x).map(c=>"-"+c)].join(",");return g.enable(""),r},g.enable=function(r){let c;g.save(r),g.namespaces=r,g.names=[],g.skips=[];const l=("string"==typeof r?r:"").split(/[\s,]+/),n=l.length;for(c=0;c<n;c++)l[c]&&("-"===(r=l[c].replace(/\*/g,".*?"))[0]?g.skips.push(new RegExp("^"+r.substr(1)+"$")):g.names.push(new RegExp("^"+r+"$")))},g.enabled=function(r){if("*"===r[r.length-1])return!0;let c,l;for(c=0,l=g.skips.length;c<l;c++)if(g.skips[c].test(r))return!1;for(c=0,l=g.names.length;c<l;c++)if(g.names[c].test(r))return!0;return!1},g.humanize=v("ms"),g.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(h).forEach(r=>{g[r]=h[r]}),g.names=[],g.skips=[],g.formatters={},g.selectColor=function(r){let c=0;for(let l=0;l<r.length;l++)c=(c<<5)-c+r.charCodeAt(l),c|=0;return g.colors[At(c)%g.colors.length]},g.enable(g.load()),g}},{ms:188}],107:[function(v,L,h){"use strict";h.utils=v("./des/utils"),h.Cipher=v("./des/cipher"),h.DES=v("./des/des"),h.CBC=v("./des/cbc"),h.EDE=v("./des/ede")},{"./des/cbc":108,"./des/cipher":109,"./des/des":110,"./des/ede":111,"./des/utils":112}],108:[function(v,L,h){"use strict";function g(c){p.equal(c.length,8,"Invalid IV length"),this.iv=Array(8);for(var l=0;l<this.iv.length;l++)this.iv[l]=c[l]}var p=v("minimalistic-assert"),x=v("inherits"),r={};h.instantiate=function(c){function l(s){c.call(this,s),this._cbcInit()}x(l,c);for(var i,n=Object.keys(r),t=0;t<n.length;t++)l.prototype[i=n[t]]=r[i];return l.create=function(s){return new l(s)},l},r._cbcInit=function(){var c=new g(this.options.iv);this._cbcState=c},r._update=function(c,l,n,t){var s=this.constructor.super_.prototype,u=this._cbcState.iv;if("encrypt"===this.type){for(var o=0;o<this.blockSize;o++)u[o]^=c[l+o];for(s._update.call(this,u,0,n,t),o=0;o<this.blockSize;o++)u[o]=n[t+o]}else{for(s._update.call(this,c,l,n,t),o=0;o<this.blockSize;o++)n[t+o]^=u[o];for(o=0;o<this.blockSize;o++)u[o]=c[l+o]}}},{inherits:159,"minimalistic-assert":180}],109:[function(v,L){"use strict";function h(p){this.options=p,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=Array(this.blockSize),this.bufferOff=0}var g=v("minimalistic-assert");L.exports=h,h.prototype._init=function(){},h.prototype.update=function(p){return 0===p.length?[]:"decrypt"===this.type?this._updateDecrypt(p):this._updateEncrypt(p)},h.prototype._buffer=function(p,x){for(var r=ne(this.buffer.length-this.bufferOff,p.length-x),c=0;c<r;c++)this.buffer[this.bufferOff+c]=p[x+c];return this.bufferOff+=r,r},h.prototype._flushBuffer=function(p,x){return this._update(this.buffer,0,p,x),this.bufferOff=0,this.blockSize},h.prototype._updateEncrypt=function(p){var x=0,r=0,l=Array((0|(this.bufferOff+p.length)/this.blockSize)*this.blockSize);0!==this.bufferOff&&(x+=this._buffer(p,x),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(l,r)));for(var n=p.length-(p.length-x)%this.blockSize;x<n;x+=this.blockSize)this._update(p,x,l,r),r+=this.blockSize;for(;x<p.length;x++,this.bufferOff++)this.buffer[this.bufferOff]=p[x];return l},h.prototype._updateDecrypt=function(p){for(var x=0,r=0,c=de((this.bufferOff+p.length)/this.blockSize)-1,l=Array(c*this.blockSize);0<c;c--)x+=this._buffer(p,x),r+=this._flushBuffer(l,r);return x+=this._buffer(p,x),l},h.prototype.final=function(p){var x,r;return p&&(x=this.update(p)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),x?x.concat(r):r},h.prototype._pad=function(p,x){if(0===x)return!1;for(;x<p.length;)p[x++]=0;return!0},h.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var p=Array(this.blockSize);return this._update(this.buffer,0,p,0),p},h.prototype._unpad=function(p){return p},h.prototype._finalDecrypt=function(){g.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var p=Array(this.blockSize);return this._flushBuffer(p,0),this._unpad(p)}},{"minimalistic-assert":180}],110:[function(v,L){"use strict";function h(){this.tmp=[,,],this.keys=null}function g(n){c.call(this,n);var t=new h;this._desState=t,this.deriveKeys(t,n.key)}var p=v("minimalistic-assert"),x=v("inherits"),r=v("./utils"),c=v("./cipher");x(g,c),L.exports=g,g.create=function(n){return new g(n)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];g.prototype.deriveKeys=function(n,t){n.keys=Array(32),p.equal(t.length,this.blockSize,"Invalid key length");var i=r.readUInt32BE(t,0),s=r.readUInt32BE(t,4);r.pc1(i,s,n.tmp,0),i=n.tmp[0],s=n.tmp[1];for(var o,u=0;u<n.keys.length;u+=2)i=r.r28shl(i,o=l[u>>>1]),s=r.r28shl(s,o),r.pc2(i,s,n.keys,u)},g.prototype._update=function(n,t,i,s){var u=this._desState,o=r.readUInt32BE(n,t),d=r.readUInt32BE(n,t+4);r.ip(o,d,u.tmp,0),o=u.tmp[0],d=u.tmp[1],"encrypt"===this.type?this._encrypt(u,o,d,u.tmp,0):this._decrypt(u,o,d,u.tmp,0),d=u.tmp[1],r.writeUInt32BE(i,o=u.tmp[0],s),r.writeUInt32BE(i,d,s+4)},g.prototype._pad=function(n,t){for(var i=n.length-t,s=t;s<n.length;s++)n[s]=i;return!0},g.prototype._unpad=function(n){for(var t=n[n.length-1],i=n.length-t;i<n.length;i++)p.equal(n[i],t);return n.slice(0,n.length-t)},g.prototype._encrypt=function(n,t,i,s,u){for(var o=t,d=i,f=0;f<n.keys.length;f+=2){var E=n.keys[f],b=n.keys[f+1];r.expand(d,n.tmp,0);var I=r.substitute(E^=n.tmp[0],b^=n.tmp[1]),R=d;d=(o^r.permute(I))>>>0,o=R}r.rip(d,o,s,u)},g.prototype._decrypt=function(n,t,i,s,u){for(var o=i,d=t,f=n.keys.length-2;0<=f;f-=2){var E=n.keys[f],b=n.keys[f+1];r.expand(o,n.tmp,0);var I=r.substitute(E^=n.tmp[0],b^=n.tmp[1]),R=o;o=(d^r.permute(I))>>>0,d=R}r.rip(o,d,s,u)}},{"./cipher":109,"./utils":112,inherits:159,"minimalistic-assert":180}],111:[function(v,L){"use strict";function h(l,n){p.equal(n.length,24,"Invalid key length");var t=n.slice(0,8),i=n.slice(8,16),s=n.slice(16,24);this.ciphers="encrypt"===l?[c.create({type:"encrypt",key:t}),c.create({type:"decrypt",key:i}),c.create({type:"encrypt",key:s})]:[c.create({type:"decrypt",key:s}),c.create({type:"encrypt",key:i}),c.create({type:"decrypt",key:t})]}function g(l){r.call(this,l);var n=new h(this.type,this.options.key);this._edeState=n}var p=v("minimalistic-assert"),x=v("inherits"),r=v("./cipher"),c=v("./des");x(g,r),L.exports=g,g.create=function(l){return new g(l)},g.prototype._update=function(l,n,t,i){var s=this._edeState;s.ciphers[0]._update(l,n,t,i),s.ciphers[1]._update(t,i,t,i),s.ciphers[2]._update(t,i,t,i)},g.prototype._pad=c.prototype._pad,g.prototype._unpad=c.prototype._unpad},{"./cipher":109,"./des":110,inherits:159,"minimalistic-assert":180}],112:[function(v,L,h){"use strict";h.readUInt32BE=function(r,c){return(r[0+c]<<24|r[1+c]<<16|r[2+c]<<8|r[3+c])>>>0},h.writeUInt32BE=function(r,c,l){r[0+l]=c>>>24,r[1+l]=255&c>>>16,r[2+l]=255&c>>>8,r[3+l]=255&c},h.ip=function(r,c,l,n){for(var t=0,i=0,s=6;0<=s;s-=2){for(var u=0;24>=u;u+=8)t<<=1,t|=1&c>>>u+s;for(u=0;24>=u;u+=8)t<<=1,t|=1&r>>>u+s}for(s=6;0<=s;s-=2){for(u=1;25>=u;u+=8)i<<=1,i|=1&c>>>u+s;for(u=1;25>=u;u+=8)i<<=1,i|=1&r>>>u+s}l[n+0]=t>>>0,l[n+1]=i>>>0},h.rip=function(r,c,l,n){for(var t=0,i=0,s=0;4>s;s++)for(var u=24;0<=u;u-=8)t<<=1,t|=1&c>>>u+s,t<<=1,t|=1&r>>>u+s;for(s=4;8>s;s++)for(u=24;0<=u;u-=8)i<<=1,i|=1&c>>>u+s,i<<=1,i|=1&r>>>u+s;l[n+0]=t>>>0,l[n+1]=i>>>0},h.pc1=function(r,c,l,n){for(var t=0,i=0,s=7;5<=s;s--){for(var u=0;24>=u;u+=8)t<<=1,t|=1&c>>u+s;for(u=0;24>=u;u+=8)t<<=1,t|=1&r>>u+s}for(u=0;24>=u;u+=8)t<<=1,t|=1&c>>u+s;for(s=1;3>=s;s++){for(u=0;24>=u;u+=8)i<<=1,i|=1&c>>u+s;for(u=0;24>=u;u+=8)i<<=1,i|=1&r>>u+s}for(u=0;24>=u;u+=8)i<<=1,i|=1&r>>u+s;l[n+0]=t>>>0,l[n+1]=i>>>0},h.r28shl=function(r,c){return 268435455&r<<c|r>>>28-c};var g=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];h.pc2=function(r,c,l,n){for(var t=0,i=0,s=g.length>>>1,u=0;u<s;u++)t<<=1,t|=1&r>>>g[u];for(u=s;u<g.length;u++)i<<=1,i|=1&c>>>g[u];l[n+0]=t>>>0,l[n+1]=i>>>0},h.expand=function(r,c,l){var n=0,t=0;n=(1&r)<<5|r>>>27;for(var i=23;15<=i;i-=4)n<<=6,n|=63&r>>>i;for(i=11;3<=i;i-=4)t|=63&r>>>i,t<<=6;t|=(31&r)<<1|r>>>31,c[l+0]=n>>>0,c[l+1]=t>>>0};var p=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];h.substitute=function(r,c){for(var l=0,n=0;4>n;n++)l<<=4,l|=p[64*n+(63&r>>>18-6*n)];for(n=0;4>n;n++)l<<=4,l|=p[256+64*n+(63&c>>>18-6*n)];return l>>>0};var x=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];h.permute=function(r){for(var c=0,l=0;l<x.length;l++)c<<=1,c|=1&r>>>x[l];return c>>>0},h.padSplit=function(r,c,l){for(var n=r.toString(2);n.length<c;)n="0"+n;for(var t=[],i=0;i<c;i+=l)t.push(n.slice(i,i+l));return t.join(" ")}},{}],113:[function(v,L,h){(function(g){(function(){var x=v("./lib/generatePrime"),r=v("./lib/primes.json"),c=v("./lib/dh"),l={binary:!0,hex:!0,base64:!0};h.DiffieHellmanGroup=h.createDiffieHellmanGroup=h.getDiffieHellman=function(n){var t=new g(r[n].prime,"hex"),i=new g(r[n].gen,"hex");return new c(t,i)},h.createDiffieHellman=h.DiffieHellman=function p(n,t,i,s){return g.isBuffer(t)||void 0===l[t]?p(n,"binary",t,i):(t=t||"binary",s=s||"binary",i=i||new g([2]),g.isBuffer(i)||(i=new g(i,s)),"number"==typeof n?new c(x(n,i),i,!0):(g.isBuffer(n)||(n=new g(n,t)),new c(n,i,!0)))}}).call(this)}).call(this,v("buffer").Buffer)},{"./lib/dh":114,"./lib/generatePrime":115,"./lib/primes.json":116,buffer:69}],114:[function(v,L){(function(h){(function(){function g(I,S){return S=S||"utf8",h.isBuffer(I)||(I=new h(I,S)),this._pub=new l(I),this}function p(I,S){return S=S||"utf8",h.isBuffer(I)||(I=new h(I,S)),this._priv=new l(I),this}function r(I,S,R){this.setGenerator(S),this.__prime=new l(I),this._prime=l.mont(this.__prime),this._primeLen=I.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,R?(this.setPublicKey=g,this.setPrivateKey=p):this._primeCode=8}function c(I,S){var R=new h(I.toArray());return S?R.toString(S):R}var l=v("bn.js"),t=new(v("miller-rabin")),i=new l(24),s=new l(11),u=new l(10),o=new l(3),d=new l(7),f=v("./generatePrime"),E=v("randombytes");L.exports=r;var b={};Object.defineProperty(r.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function x(I,S){var R=S.toString("hex"),F=[R,I.toString(16)].join("_");if(F in b)return b[F];var K,q=0;return!I.isEven()&&f.simpleSieve&&f.fermatTest(I)&&t.test(I)?(t.test(I.shrn(1))||(q+=2),"02"===R?I.mod(i).cmp(s)&&(q+=8):"05"===R?(K=I.mod(u)).cmp(o)&&K.cmp(d)&&(q+=8):q+=4,b[F]=q,q):(q+=1,b[F]=q+="02"===R||"05"===R?8:4,q)}(this.__prime,this.__gen)),this._primeCode}}),r.prototype.generateKeys=function(){return this._priv||(this._priv=new l(E(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},r.prototype.computeSecret=function(I){var S=(I=(I=new l(I)).toRed(this._prime)).redPow(this._priv).fromRed(),R=new h(S.toArray()),F=this.getPrime();if(R.length<F.length){var q=new h(F.length-R.length);q.fill(0),R=h.concat([q,R])}return R},r.prototype.getPublicKey=function(I){return c(this._pub,I)},r.prototype.getPrivateKey=function(I){return c(this._priv,I)},r.prototype.getPrime=function(I){return c(this.__prime,I)},r.prototype.getGenerator=function(I){return c(this._gen,I)},r.prototype.setGenerator=function(I,S){return S=S||"utf8",h.isBuffer(I)||(I=new h(I,S)),this.__gen=I,this._gen=new l(I),this}}).call(this)}).call(this,v("buffer").Buffer)},{"./generatePrime":115,"bn.js":117,buffer:69,"miller-rabin":174,randombytes:221}],115:[function(v,L){function g(q){for(var K=function h(){var q=Math.sqrt;if(null!==F)return F;var K=[];K[0]=2;for(var we,se=1,xe=3;1048576>xe;xe+=2){we=de(q(xe));for(var A=0;A<se&&K[A]<=we&&xe%K[A]!=0;A++);se!=A&&K[A]<=we||(K[se++]=xe)}return F=K,K}(),se=0;se<K.length;se++)if(0===q.modn(K[se]))return 0===q.cmpn(K[se]);return!0}function p(q){var K=c.mont(q);return 0===s.toRed(K).redPow(q.subn(1)).fromRed().cmpn(1)}function x(q,K){if(16>q)return new c(2===K||5===K?[140,123]:[140,39]);K=new c(K);for(var se,xe;;){for(se=new c(r(de(q/8)));se.bitLength()>q;)se.ishrn(1);if(se.isEven()&&se.iadd(i),se.testn(1)||se.iadd(s),K.cmp(s)){if(!K.cmp(u))for(;se.mod(f).cmp(E);)se.iadd(S)}else for(;se.mod(l).cmp(I);)se.iadd(S);if(g(xe=se.shrn(1))&&g(se)&&p(xe)&&p(se)&&t.test(xe)&&t.test(se))return se}}var r=v("randombytes");L.exports=x,x.simpleSieve=g,x.fermatTest=p;var c=v("bn.js"),l=new c(24),t=new(v("miller-rabin")),i=new c(1),s=new c(2),u=new c(5),f=(new c(16),new c(8),new c(10)),E=new c(3),I=(new c(7),new c(11)),S=new c(4),F=(new c(12),null)},{"bn.js":117,"miller-rabin":174,randombytes:221}],116:[function(v,L){L.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],117:[function(v,L,h){arguments[4][22][0].apply(h,arguments)},{buffer:41,dup:22}],118:[function(v,L,h){"use strict";var g=h;g.version=v("../package.json").version,g.utils=v("./elliptic/utils"),g.rand=v("brorand"),g.curve=v("./elliptic/curve"),g.curves=v("./elliptic/curves"),g.ec=v("./elliptic/ec"),g.eddsa=v("./elliptic/eddsa")},{"../package.json":134,"./elliptic/curve":121,"./elliptic/curves":124,"./elliptic/ec":125,"./elliptic/eddsa":128,"./elliptic/utils":132,brorand:40}],119:[function(v,L){"use strict";function h(n,t){this.type=n,this.p=new p(t.p,16),this.red=t.prime?p.red(t.prime):p.mont(this.p),this.zero=new p(0).toRed(this.red),this.one=new p(1).toRed(this.red),this.two=new p(2).toRed(this.red),this.n=t.n&&new p(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||0<i.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function g(n,t){this.curve=n,this.type=t,this.precomputed=null}var p=v("bn.js"),x=v("../utils"),r=x.getNAF,c=x.getJSF,l=x.assert;L.exports=h,h.prototype.point=function(){throw new Error("Not implemented")},h.prototype.validate=function(){throw new Error("Not implemented")},h.prototype._fixedNafMul=function(n,t){l(n.precomputed);var i=n._getDoubles(),s=r(t,1,this._bitLength),u=(1<<i.step+1)-(i.step%2==0?2:1);u/=3;var d,f,o=[];for(d=0;d<s.length;d+=i.step){f=0;for(var E=d+i.step-1;E>=d;E--)f=(f<<1)+s[E];o.push(f)}for(var b=this.jpoint(null,null,null),I=this.jpoint(null,null,null),S=u;0<S;S--){for(d=0;d<o.length;d++)(f=o[d])===S?I=I.mixedAdd(i.points[d]):f===-S&&(I=I.mixedAdd(i.points[d].neg()));b=b.add(I)}return b.toP()},h.prototype._wnafMul=function(n,t){for(var i=4,s=n._getNAFPoints(i),u=s.points,o=r(t,i=s.wnd,this._bitLength),d=this.jpoint(null,null,null),f=o.length-1;0<=f;f--){for(var E=0;0<=f&&0===o[f];f--)E++;if(0<=f&&E++,d=d.dblp(E),0>f)break;var b=o[f];l(0!==b),d="affine"===n.type?d.mixedAdd(0<b?u[b-1>>1]:u[-b-1>>1].neg()):d.add(0<b?u[b-1>>1]:u[-b-1>>1].neg())}return"affine"===n.type?d.toP():d},h.prototype._wnafMulAdd=function(n,t,i,s,u){var b,I,S,o=this._wnafT1,d=this._wnafT2,f=this._wnafT3,E=0;for(b=0;b<s;b++){var R=(S=t[b])._getNAFPoints(n);o[b]=R.wnd,d[b]=R.points}for(b=s-1;1<=b;b-=2){var F=b-1,q=b;if(1===o[F]&&1===o[q]){var K=[t[F],null,null,t[q]];0===t[F].y.cmp(t[q].y)?(K[1]=t[F].add(t[q]),K[2]=t[F].toJ().mixedAdd(t[q].neg())):0===t[F].y.cmp(t[q].y.redNeg())?(K[1]=t[F].toJ().mixedAdd(t[q]),K[2]=t[F].add(t[q].neg())):(K[1]=t[F].toJ().mixedAdd(t[q]),K[2]=t[F].toJ().mixedAdd(t[q].neg()));var se=[-3,-1,-5,-7,0,7,5,1,3],xe=c(i[F],i[q]);for(E=ce(xe[0].length,E),f[F]=Array(E),f[q]=Array(E),I=0;I<E;I++)f[F][I]=se[3*(1+(0|xe[0][I]))+(1+(0|xe[1][I]))],f[q][I]=0,d[F]=K}else f[F]=r(i[F],o[F],this._bitLength),f[q]=r(i[q],o[q],this._bitLength),E=ce(f[F].length,E),E=ce(f[q].length,E)}var P=this.jpoint(null,null,null),U=this._wnafT4;for(b=E;0<=b;b--){for(var C,y=0;0<=b;){for(C=!0,I=0;I<s;I++)U[I]=0|f[I][b],0!==U[I]&&(C=!1);if(!C)break;y++,b--}if(0<=b&&y++,P=P.dblp(y),0>b)break;for(I=0;I<s;I++){var M=U[I];0!==M&&(0<M?S=d[I][M-1>>1]:0>M&&(S=d[I][-M-1>>1].neg()),P="affine"===S.type?P.mixedAdd(S):P.add(S))}}for(b=0;b<s;b++)d[b]=null;return u?P:P.toP()},h.BasePoint=g,g.prototype.eq=function(){throw new Error("Not implemented")},g.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(n,t){n=x.toArray(n,t);var i=this.p.byteLength();if((4===n[0]||6===n[0]||7===n[0])&&n.length-1==2*i)return 6===n[0]?l(n[n.length-1]%2==0):7===n[0]&&l(n[n.length-1]%2==1),this.point(n.slice(1,1+i),n.slice(1+i,1+2*i));if((2===n[0]||3===n[0])&&n.length-1===i)return this.pointFromX(n.slice(1,1+i),3===n[0]);throw new Error("Unknown point format")},g.prototype.encodeCompressed=function(n){return this.encode(n,!0)},g.prototype._encode=function(n){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return n?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},g.prototype.encode=function(n,t){return x.encode(this._encode(t),n)},g.prototype.precompute=function(n){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,n),t.beta=this._getBeta(),this.precomputed=t,this},g.prototype._hasDoubles=function(n){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=de((n.bitLength()+1)/t.step)},g.prototype._getDoubles=function(n,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],s=this,u=0;u<t;u+=n){for(var o=0;o<n;o++)s=s.dbl();i.push(s)}return{step:n,points:i}},g.prototype._getNAFPoints=function(n){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<n)-1,s=1===i?null:this.dbl(),u=1;u<i;u++)t[u]=t[u-1].add(s);return{wnd:n,points:t}},g.prototype._getBeta=function(){return null},g.prototype.dblp=function(n){for(var t=this,i=0;i<n;i++)t=t.dbl();return t}},{"../utils":132,"bn.js":133}],120:[function(v,L){"use strict";function h(n){this.twisted=1!=(0|n.a),this.mOneA=this.twisted&&-1==(0|n.a),this.extended=this.mOneA,c.call(this,"edwards",n),this.a=new x(n.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new x(n.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new x(n.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|n.c)}function g(n,t,i,s,u){c.BasePoint.call(this,n,"projective"),null===t&&null===i&&null===s?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new x(t,16),this.y=new x(i,16),this.z=s?new x(s,16):this.curve.one,this.t=u&&new x(u,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),!this.zOne&&(this.t=this.t.redMul(this.z.redInvm()))))}var p=v("../utils"),x=v("bn.js"),r=v("inherits"),c=v("./base"),l=p.assert;r(h,c),L.exports=h,h.prototype._mulA=function(n){return this.mOneA?n.redNeg():this.a.redMul(n)},h.prototype._mulC=function(n){return this.oneC?n:this.c.redMul(n)},h.prototype.jpoint=function(n,t,i,s){return this.point(n,t,i,s)},h.prototype.pointFromX=function(n,t){(n=new x(n,16)).red||(n=n.toRed(this.red));var i=n.redSqr(),s=this.c2.redSub(this.a.redMul(i)),u=this.one.redSub(this.c2.redMul(this.d).redMul(i)),o=s.redMul(u.redInvm()),d=o.redSqrt();if(0!==d.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var f=d.fromRed().isOdd();return(t&&!f||!t&&f)&&(d=d.redNeg()),this.point(n,d)},h.prototype.pointFromY=function(n,t){(n=new x(n,16)).red||(n=n.toRed(this.red));var i=n.redSqr(),s=i.redSub(this.c2),u=i.redMul(this.d).redMul(this.c2).redSub(this.a),o=s.redMul(u.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,n)}var d=o.redSqrt();if(0!==d.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return d.fromRed().isOdd()!==t&&(d=d.redNeg()),this.point(d,n)},h.prototype.validate=function(n){if(n.isInfinity())return!0;n.normalize();var t=n.x.redSqr(),i=n.y.redSqr(),s=t.redMul(this.a).redAdd(i),u=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return 0===s.cmp(u)},r(g,c.BasePoint),h.prototype.pointFromJSON=function(n){return g.fromJSON(this,n)},h.prototype.point=function(n,t,i,s){return new g(this,n,t,i,s)},g.fromJSON=function(n,t){return new g(n,t[0],t[1],t[2])},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},g.prototype._extDbl=function(){var n=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var s=this.curve._mulA(n),u=this.x.redAdd(this.y).redSqr().redISub(n).redISub(t),o=s.redAdd(t),d=o.redSub(i),f=s.redSub(t),E=u.redMul(d),b=o.redMul(f),I=u.redMul(f),S=d.redMul(o);return this.curve.point(E,b,S,I)},g.prototype._projDbl=function(){var s,u,o,d,f,E,n=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),i=this.y.redSqr();if(this.curve.twisted){var b=(d=this.curve._mulA(t)).redAdd(i);this.zOne?(s=n.redSub(t).redSub(i).redMul(b.redSub(this.curve.two)),u=b.redMul(d.redSub(i)),o=b.redSqr().redSub(b).redSub(b)):(f=this.z.redSqr(),E=b.redSub(f).redISub(f),s=n.redSub(t).redISub(i).redMul(E),u=b.redMul(d.redSub(i)),o=b.redMul(E))}else d=t.redAdd(i),f=this.curve._mulC(this.z).redSqr(),E=d.redSub(f).redSub(f),s=this.curve._mulC(n.redISub(d)).redMul(E),u=this.curve._mulC(d).redMul(t.redISub(i)),o=d.redMul(E);return this.curve.point(s,u,o)},g.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},g.prototype._extAdd=function(n){var t=this.y.redSub(this.x).redMul(n.y.redSub(n.x)),i=this.y.redAdd(this.x).redMul(n.y.redAdd(n.x)),s=this.t.redMul(this.curve.dd).redMul(n.t),u=this.z.redMul(n.z.redAdd(n.z)),o=i.redSub(t),d=u.redSub(s),f=u.redAdd(s),E=i.redAdd(t),b=o.redMul(d),I=f.redMul(E),S=o.redMul(E),R=d.redMul(f);return this.curve.point(b,I,R,S)},g.prototype._projAdd=function(n){var I,S,t=this.z.redMul(n.z),i=t.redSqr(),s=this.x.redMul(n.x),u=this.y.redMul(n.y),o=this.curve.d.redMul(s).redMul(u),d=i.redSub(o),f=i.redAdd(o),E=this.x.redAdd(this.y).redMul(n.x.redAdd(n.y)).redISub(s).redISub(u),b=t.redMul(d).redMul(E);return this.curve.twisted?(I=t.redMul(f).redMul(u.redSub(this.curve._mulA(s))),S=d.redMul(f)):(I=t.redMul(f).redMul(u.redSub(s)),S=this.curve._mulC(d).redMul(f)),this.curve.point(b,I,S)},g.prototype.add=function(n){return this.isInfinity()?n:n.isInfinity()?this:this.curve.extended?this._extAdd(n):this._projAdd(n)},g.prototype.mul=function(n){return this._hasDoubles(n)?this.curve._fixedNafMul(this,n):this.curve._wnafMul(this,n)},g.prototype.mulAdd=function(n,t,i){return this.curve._wnafMulAdd(1,[this,t],[n,i],2,!1)},g.prototype.jmulAdd=function(n,t,i){return this.curve._wnafMulAdd(1,[this,t],[n,i],2,!0)},g.prototype.normalize=function(){if(this.zOne)return this;var n=this.z.redInvm();return this.x=this.x.redMul(n),this.y=this.y.redMul(n),this.t&&(this.t=this.t.redMul(n)),this.z=this.curve.one,this.zOne=!0,this},g.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},g.prototype.getX=function(){return this.normalize(),this.x.fromRed()},g.prototype.getY=function(){return this.normalize(),this.y.fromRed()},g.prototype.eq=function(n){return this===n||0===this.getX().cmp(n.getX())&&0===this.getY().cmp(n.getY())},g.prototype.eqXToP=function(n){var t=n.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var i=n.clone(),s=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),0<=i.cmp(this.curve.p))return!1;if(t.redIAdd(s),0===this.x.cmp(t))return!0}},g.prototype.toP=g.prototype.normalize,g.prototype.mixedAdd=g.prototype.add},{"../utils":132,"./base":119,"bn.js":133,inherits:159}],121:[function(v,L,h){"use strict";var g=h;g.base=v("./base"),g.short=v("./short"),g.mont=v("./mont"),g.edwards=v("./edwards")},{"./base":119,"./edwards":120,"./mont":122,"./short":123}],122:[function(v,L){"use strict";function h(l){r.call(this,"mont",l),this.a=new p(l.a,16).toRed(this.red),this.b=new p(l.b,16).toRed(this.red),this.i4=new p(4).toRed(this.red).redInvm(),this.two=new p(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function g(l,n,t){r.BasePoint.call(this,l,"projective"),null===n&&null===t?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new p(n,16),this.z=new p(t,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)))}var p=v("bn.js"),x=v("inherits"),r=v("./base"),c=v("../utils");x(h,r),L.exports=h,h.prototype.validate=function(l){var n=l.normalize().x,t=n.redSqr(),i=t.redMul(n).redAdd(t.redMul(this.a)).redAdd(n);return 0===i.redSqrt().redSqr().cmp(i)},x(g,r.BasePoint),h.prototype.decodePoint=function(l,n){return this.point(c.toArray(l,n),1)},h.prototype.point=function(l,n){return new g(this,l,n)},h.prototype.pointFromJSON=function(l){return g.fromJSON(this,l)},g.prototype.precompute=function(){},g.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},g.fromJSON=function(l,n){return new g(l,n[0],n[1]||l.one)},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},g.prototype.dbl=function(){var n=this.x.redAdd(this.z).redSqr(),i=this.x.redSub(this.z).redSqr(),s=n.redSub(i),u=n.redMul(i),o=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(u,o)},g.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},g.prototype.diffAdd=function(l,n){var t=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=l.x.redAdd(l.z),o=l.x.redSub(l.z).redMul(t),d=s.redMul(i),f=n.z.redMul(o.redAdd(d).redSqr()),E=n.x.redMul(o.redISub(d).redSqr());return this.curve.point(f,E)},g.prototype.mul=function(l){for(var n=l.clone(),t=this,i=this.curve.point(null,null),u=[];0!==n.cmpn(0);n.iushrn(1))u.push(n.andln(1));for(var o=u.length-1;0<=o;o--)0===u[o]?(t=t.diffAdd(i,this),i=i.dbl()):(i=t.diffAdd(i,this),t=t.dbl());return i},g.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},g.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},g.prototype.eq=function(l){return 0===this.getX().cmp(l.getX())},g.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},g.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":132,"./base":119,"bn.js":133,inherits:159}],123:[function(v,L){"use strict";function h(t){l.call(this,"short",t),this.a=new r(t.a,16).toRed(this.red),this.b=new r(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function g(t,i,s,u){l.BasePoint.call(this,t,"affine"),null===i&&null===s?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(i,16),this.y=new r(s,16),u&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function p(t,i,s,u){l.BasePoint.call(this,t,"jacobian"),null===i&&null===s&&null===u?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(i,16),this.y=new r(s,16),this.z=new r(u,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var x=v("../utils"),r=v("bn.js"),c=v("inherits"),l=v("./base"),n=x.assert;c(h,l),L.exports=h,h.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var i,s;if(t.beta)i=new r(t.beta,16).toRed(this.red);else{var u=this._getEndoRoots(this.p);i=(i=0>u[0].cmp(u[1])?u[0]:u[1]).toRed(this.red)}if(t.lambda)s=new r(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(i))?s=o[0]:n(0===this.g.mul(s=o[1]).x.cmp(this.g.x.redMul(i)))}return{beta:i,lambda:s,basis:t.basis?t.basis.map(function(f){return{a:new r(f.a,16),b:new r(f.b,16)}}):this._getEndoBasis(s)}}},h.prototype._getEndoRoots=function(t){var i=t===this.p?this.red:r.mont(t),s=new r(2).toRed(i).redInvm(),u=s.redNeg(),o=new r(3).toRed(i).redNeg().redSqrt().redMul(s);return[u.redAdd(o).fromRed(),u.redSub(o).fromRed()]},h.prototype._getEndoBasis=function(t){for(var I,S,R,F,q,K,se,xe,we,A,i=this.n.ushrn(Et(this.n.bitLength()/2)),s=t,u=this.n.clone(),o=new r(1),d=new r(0),f=new r(0),E=new r(1),b=0;0!==s.cmpn(0);){A=u.div(s),xe=u.sub(A.mul(s)),we=f.sub(A.mul(o));var P=E.sub(A.mul(d));if(!R&&0>xe.cmp(i))I=se.neg(),S=o,R=xe.neg(),F=we;else if(R&&2==++b)break;se=xe,u=s,s=xe,f=o,o=we,E=d,d=P}q=xe.neg(),K=we;var U=R.sqr().add(F.sqr());return 0<=q.sqr().add(K.sqr()).cmp(U)&&(q=I,K=S),R.negative&&(R=R.neg(),F=F.neg()),q.negative&&(q=q.neg(),K=K.neg()),[{a:R,b:F},{a:q,b:K}]},h.prototype._endoSplit=function(t){var i=this.endo.basis,s=i[0],u=i[1],o=u.b.mul(t).divRound(this.n),d=s.b.neg().mul(t).divRound(this.n),f=o.mul(s.a),E=d.mul(u.a),b=o.mul(s.b),I=d.mul(u.b);return{k1:t.sub(f).sub(E),k2:b.add(I).neg()}},h.prototype.pointFromX=function(t,i){(t=new r(t,16)).red||(t=t.toRed(this.red));var s=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),u=s.redSqrt();if(0!==u.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var o=u.fromRed().isOdd();return(i&&!o||!i&&o)&&(u=u.redNeg()),this.point(t,u)},h.prototype.validate=function(t){if(t.inf)return!0;var i=t.x,s=t.y,u=this.a.redMul(i),o=i.redSqr().redMul(i).redIAdd(u).redIAdd(this.b);return 0===s.redSqr().redISub(o).cmpn(0)},h.prototype._endoWnafMulAdd=function(t,i,s){for(var u=this._endoWnafT1,o=this._endoWnafT2,d=0;d<t.length;d++){var f=this._endoSplit(i[d]),E=t[d],b=E._getBeta();f.k1.negative&&(f.k1.ineg(),E=E.neg(!0)),f.k2.negative&&(f.k2.ineg(),b=b.neg(!0)),u[2*d]=E,u[2*d+1]=b,o[2*d]=f.k1,o[2*d+1]=f.k2}for(var I=this._wnafMulAdd(1,u,o,2*d,s),S=0;S<2*d;S++)u[S]=null,o[S]=null;return I},c(g,l.BasePoint),h.prototype.point=function(t,i,s){return new g(this,t,i,s)},h.prototype.pointFromJSON=function(t,i){return g.fromJSON(this,t,i)},g.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var i=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var s=this.curve,u=function(o){return s.point(o.x.redMul(s.endo.beta),o.y)};t.beta=i,i.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(u)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(u)}}}return i}},g.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},g.fromJSON=function(t,i,s){function u(f){return t.point(f[0],f[1],s)}"string"==typeof i&&(i=JSON.parse(i));var o=t.point(i[0],i[1],s);if(!i[2])return o;var d=i[2];return o.precomputed={beta:null,doubles:d.doubles&&{step:d.doubles.step,points:[o].concat(d.doubles.points.map(u))},naf:d.naf&&{wnd:d.naf.wnd,points:[o].concat(d.naf.points.map(u))}},o},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return this.inf},g.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var i=this.y.redSub(t.y);0!==i.cmpn(0)&&(i=i.redMul(this.x.redSub(t.x).redInvm()));var s=i.redSqr().redISub(this.x).redISub(t.x),u=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,u)},g.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var i=this.curve.a,s=this.x.redSqr(),u=t.redInvm(),o=s.redAdd(s).redIAdd(s).redIAdd(i).redMul(u),d=o.redSqr().redISub(this.x.redAdd(this.x)),f=o.redMul(this.x.redSub(d)).redISub(this.y);return this.curve.point(d,f)},g.prototype.getX=function(){return this.x.fromRed()},g.prototype.getY=function(){return this.y.fromRed()},g.prototype.mul=function(t){return t=new r(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},g.prototype.mulAdd=function(t,i,s){var u=[this,i],o=[t,s];return this.curve.endo?this.curve._endoWnafMulAdd(u,o):this.curve._wnafMulAdd(1,u,o,2)},g.prototype.jmulAdd=function(t,i,s){var u=[this,i],o=[t,s];return this.curve.endo?this.curve._endoWnafMulAdd(u,o,!0):this.curve._wnafMulAdd(1,u,o,2,!0)},g.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},g.prototype.neg=function(t){if(this.inf)return this;var i=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var s=this.precomputed,u=function(o){return o.neg()};i.precomputed={naf:s.naf&&{wnd:s.naf.wnd,points:s.naf.points.map(u)},doubles:s.doubles&&{step:s.doubles.step,points:s.doubles.points.map(u)}}}return i},g.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(p,l.BasePoint),h.prototype.jpoint=function(t,i,s){return new p(this,t,i,s)},p.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),i=t.redSqr(),s=this.x.redMul(i),u=this.y.redMul(i).redMul(t);return this.curve.point(s,u)},p.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},p.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var i=t.z.redSqr(),s=this.z.redSqr(),u=this.x.redMul(i),o=t.x.redMul(s),d=this.y.redMul(i.redMul(t.z)),f=t.y.redMul(s.redMul(this.z)),E=u.redSub(o),b=d.redSub(f);if(0===E.cmpn(0))return 0===b.cmpn(0)?this.dbl():this.curve.jpoint(null,null,null);var I=E.redSqr(),S=I.redMul(E),R=u.redMul(I),F=b.redSqr().redIAdd(S).redISub(R).redISub(R),q=b.redMul(R.redISub(F)).redISub(d.redMul(S)),K=this.z.redMul(t.z).redMul(E);return this.curve.jpoint(F,q,K)},p.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var i=this.z.redSqr(),s=this.x,u=t.x.redMul(i),o=this.y,d=t.y.redMul(i).redMul(this.z),f=s.redSub(u),E=o.redSub(d);if(0===f.cmpn(0))return 0===E.cmpn(0)?this.dbl():this.curve.jpoint(null,null,null);var b=f.redSqr(),I=b.redMul(f),S=s.redMul(b),R=E.redSqr().redIAdd(I).redISub(S).redISub(S),F=E.redMul(S.redISub(R)).redISub(o.redMul(I)),q=this.z.redMul(f);return this.curve.jpoint(R,F,q)},p.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var i;if(this.curve.zeroA||this.curve.threeA){var s=this;for(i=0;i<t;i++)s=s.dbl();return s}var u=this.curve.a,o=this.curve.tinv,d=this.x,f=this.y,E=this.z,b=E.redSqr().redSqr(),I=f.redAdd(f);for(i=0;i<t;i++){var S=d.redSqr(),R=I.redSqr(),F=R.redSqr(),q=S.redAdd(S).redIAdd(S).redIAdd(u.redMul(b)),K=d.redMul(R),se=q.redSqr().redISub(K.redAdd(K)),xe=K.redISub(se),we=q.redMul(xe);we=we.redIAdd(we).redISub(F);var A=I.redMul(E);i+1<t&&(b=b.redMul(F)),d=se,E=A,I=we}return this.curve.jpoint(d,I.redMul(o),E)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},p.prototype._zeroDbl=function(){var t,i,s;if(this.zOne){var u=this.x.redSqr(),o=this.y.redSqr(),d=o.redSqr(),f=this.x.redAdd(o).redSqr().redISub(u).redISub(d);f=f.redIAdd(f);var E=u.redAdd(u).redIAdd(u),b=E.redSqr().redISub(f).redISub(f),I=d.redIAdd(d);I=(I=I.redIAdd(I)).redIAdd(I),t=b,i=E.redMul(f.redISub(b)).redISub(I),s=this.y.redAdd(this.y)}else{var S=this.x.redSqr(),R=this.y.redSqr(),F=R.redSqr(),q=this.x.redAdd(R).redSqr().redISub(S).redISub(F);q=q.redIAdd(q);var K=S.redAdd(S).redIAdd(S),se=K.redSqr(),xe=F.redIAdd(F);xe=(xe=xe.redIAdd(xe)).redIAdd(xe),t=se.redISub(q).redISub(q),i=K.redMul(q.redISub(t)).redISub(xe),s=(s=this.y.redMul(this.z)).redIAdd(s)}return this.curve.jpoint(t,i,s)},p.prototype._threeDbl=function(){var t,i,s;if(this.zOne){var u=this.x.redSqr(),o=this.y.redSqr(),d=o.redSqr(),f=this.x.redAdd(o).redSqr().redISub(u).redISub(d);f=f.redIAdd(f);var E=u.redAdd(u).redIAdd(u).redIAdd(this.curve.a),b=E.redSqr().redISub(f).redISub(f);t=b;var I=d.redIAdd(d);I=(I=I.redIAdd(I)).redIAdd(I),i=E.redMul(f.redISub(b)).redISub(I),s=this.y.redAdd(this.y)}else{var S=this.z.redSqr(),R=this.y.redSqr(),F=this.x.redMul(R),q=this.x.redSub(S).redMul(this.x.redAdd(S));q=q.redAdd(q).redIAdd(q);var K=F.redIAdd(F),se=(K=K.redIAdd(K)).redAdd(K);t=q.redSqr().redISub(se),s=this.y.redAdd(this.z).redSqr().redISub(R).redISub(S);var xe=R.redSqr();xe=(xe=(xe=xe.redIAdd(xe)).redIAdd(xe)).redIAdd(xe),i=q.redMul(K.redISub(t)).redISub(xe)}return this.curve.jpoint(t,i,s)},p.prototype._dbl=function(){var t=this.curve.a,i=this.x,s=this.y,u=this.z,o=u.redSqr().redSqr(),d=i.redSqr(),f=s.redSqr(),E=d.redAdd(d).redIAdd(d).redIAdd(t.redMul(o)),b=i.redAdd(i),I=(b=b.redIAdd(b)).redMul(f),S=E.redSqr().redISub(I.redAdd(I)),R=I.redISub(S),F=f.redSqr();F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var q=E.redMul(R).redISub(F),K=s.redAdd(s).redMul(u);return this.curve.jpoint(S,q,K)},p.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),i=this.y.redSqr(),s=this.z.redSqr(),u=i.redSqr(),o=t.redAdd(t).redIAdd(t),d=o.redSqr(),f=this.x.redAdd(i).redSqr().redISub(t).redISub(u),E=(f=(f=(f=f.redIAdd(f)).redAdd(f).redIAdd(f)).redISub(d)).redSqr(),b=u.redIAdd(u);b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b);var I=o.redIAdd(f).redSqr().redISub(d).redISub(E).redISub(b),S=i.redMul(I);S=(S=S.redIAdd(S)).redIAdd(S);var R=this.x.redMul(E).redISub(S);R=(R=R.redIAdd(R)).redIAdd(R);var F=this.y.redMul(I.redMul(b.redISub(I)).redISub(f.redMul(E)));F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var q=this.z.redAdd(f).redSqr().redISub(s).redISub(E);return this.curve.jpoint(R,F,q)},p.prototype.mul=function(t,i){return t=new r(t,i),this.curve._wnafMul(this,t)},p.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var i=this.z.redSqr(),s=t.z.redSqr();if(0!==this.x.redMul(s).redISub(t.x.redMul(i)).cmpn(0))return!1;var u=i.redMul(this.z),o=s.redMul(t.z);return 0===this.y.redMul(o).redISub(t.y.redMul(u)).cmpn(0)},p.prototype.eqXToP=function(t){var i=this.z.redSqr(),s=t.toRed(this.curve.red).redMul(i);if(0===this.x.cmp(s))return!0;for(var u=t.clone(),o=this.curve.redN.redMul(i);;){if(u.iadd(this.curve.n),0<=u.cmp(this.curve.p))return!1;if(s.redIAdd(o),0===this.x.cmp(s))return!0}},p.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},p.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":132,"./base":119,"bn.js":133,inherits:159}],124:[function(v,L,h){"use strict";function g(i){this.curve="short"===i.type?new c.short(i):"edwards"===i.type?new c.edwards(i):new c.mont(i),this.g=this.curve.g,this.n=this.curve.n,this.hash=i.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function p(i,s){Object.defineProperty(x,i,{configurable:!0,enumerable:!0,get:function(){var u=new g(s);return Object.defineProperty(x,i,{configurable:!0,enumerable:!0,value:u}),u}})}var t,x=h,r=v("hash.js"),c=v("./curve"),n=v("./utils").assert;x.PresetCurve=g,p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=v("./precomputed/secp256k1")}catch(i){t=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})},{"./curve":121,"./precomputed/secp256k1":131,"./utils":132,"hash.js":143}],125:[function(v,L){"use strict";function h(i){return this instanceof h?("string"==typeof i&&(l(Object.prototype.hasOwnProperty.call(r,i),"Unknown curve "+i),i=r[i]),i instanceof r.PresetCurve&&(i={curve:i}),this.curve=i.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=i.curve.g,this.g.precompute(i.curve.n.bitLength()+1),void(this.hash=i.hash||i.curve.hash)):new h(i)}var g=v("bn.js"),p=v("hmac-drbg"),x=v("../utils"),r=v("../curves"),c=v("brorand"),l=x.assert,n=v("./key"),t=v("./signature");L.exports=h,h.prototype.keyPair=function(i){return new n(this,i)},h.prototype.keyFromPrivate=function(i,s){return n.fromPrivate(this,i,s)},h.prototype.keyFromPublic=function(i,s){return n.fromPublic(this,i,s)},h.prototype.genKeyPair=function(i){i||(i={});for(var s=new p({hash:this.hash,pers:i.pers,persEnc:i.persEnc||"utf8",entropy:i.entropy||c(this.hash.hmacStrength),entropyEnc:i.entropy&&i.entropyEnc||"utf8",nonce:this.n.toArray()}),u=this.n.byteLength(),o=this.n.sub(new g(2));;){var d=new g(s.generate(u));if(!(0<d.cmp(o)))return d.iaddn(1),this.keyFromPrivate(d)}},h.prototype._truncateToN=function(i,s){var u=8*i.byteLength()-this.n.bitLength();return 0<u&&(i=i.ushrn(u)),!s&&0<=i.cmp(this.n)?i.sub(this.n):i},h.prototype.sign=function(i,s,u,o){"object"==typeof u&&(o=u,u=null),o||(o={}),s=this.keyFromPrivate(s,u),i=this._truncateToN(new g(i,16));for(var R,d=this.n.byteLength(),f=s.getPrivate().toArray("be",d),E=i.toArray("be",d),b=new p({hash:this.hash,entropy:f,nonce:E,pers:o.pers,persEnc:o.persEnc||"utf8"}),I=this.n.sub(new g(1)),S=0;;S++)if(R=o.k?o.k(S):new g(b.generate(this.n.byteLength())),!(0>=(R=this._truncateToN(R,!0)).cmpn(1)||0<=R.cmp(I))){var F=this.g.mul(R);if(!F.isInfinity()){var q=F.getX(),K=q.umod(this.n);if(0!==K.cmpn(0)){var se=R.invm(this.n).mul(K.mul(s.getPrivate()).iadd(i));if(0!==(se=se.umod(this.n)).cmpn(0)){var xe=(F.getY().isOdd()?1:0)|(0===q.cmp(K)?0:2);return o.canonical&&0<se.cmp(this.nh)&&(se=this.n.sub(se),xe^=1),new t({r:K,s:se,recoveryParam:xe})}}}}},h.prototype.verify=function(i,s,u,o){i=this._truncateToN(new g(i,16)),u=this.keyFromPublic(u,o);var d=(s=new t(s,"hex")).r,f=s.s;if(0>d.cmpn(1)||0<=d.cmp(this.n)||0>f.cmpn(1)||0<=f.cmp(this.n))return!1;var S,E=f.invm(this.n),b=E.mul(i).umod(this.n),I=E.mul(d).umod(this.n);return this.curve._maxwellTrick?!(S=this.g.jmulAdd(b,u.getPublic(),I)).isInfinity()&&S.eqXToP(d):!(S=this.g.mulAdd(b,u.getPublic(),I)).isInfinity()&&0===S.getX().umod(this.n).cmp(d)},h.prototype.recoverPubKey=function(i,s,u,o){l((3&u)===u,"The recovery param is more than two bits"),s=new t(s,o);var d=this.n,f=new g(i),E=s.r,b=s.s,I=1&u,S=u>>1;if(0<=E.cmp(this.curve.p.umod(this.curve.n))&&S)throw new Error("Unable to find sencond key candinate");E=this.curve.pointFromX(S?E.add(this.curve.n):E,I);var R=s.r.invm(d),F=d.sub(f).mul(R).umod(d),q=b.mul(R).umod(d);return this.g.mulAdd(F,E,q)},h.prototype.getKeyRecoveryParam=function(i,s,u,o){if(null!==(s=new t(s,o)).recoveryParam)return s.recoveryParam;for(var d=0;4>d;d++){var f;try{f=this.recoverPubKey(i,s,d)}catch(E){continue}if(f.eq(u))return d}throw new Error("Unable to find valid recovery factor")}},{"../curves":124,"../utils":132,"./key":126,"./signature":127,"bn.js":133,brorand:40,"hmac-drbg":155}],126:[function(v,L){"use strict";function h(r,c){this.ec=r,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}var g=v("bn.js"),x=v("../utils").assert;L.exports=h,h.fromPublic=function(r,c,l){return c instanceof h?c:new h(r,{pub:c,pubEnc:l})},h.fromPrivate=function(r,c,l){return c instanceof h?c:new h(r,{priv:c,privEnc:l})},h.prototype.validate=function(){var r=this.getPublic();return r.isInfinity()?{result:!1,reason:"Invalid public key"}:r.validate()?r.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},h.prototype.getPublic=function(r,c){return"string"==typeof r&&(c=r,r=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,r):this.pub},h.prototype.getPrivate=function(r){return"hex"===r?this.priv.toString(16,2):this.priv},h.prototype._importPrivate=function(r,c){this.priv=new g(r,c||16),this.priv=this.priv.umod(this.ec.curve.n)},h.prototype._importPublic=function(r,c){return r.x||r.y?("mont"===this.ec.curve.type?x(r.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&x(r.x&&r.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(r.x,r.y))):void(this.pub=this.ec.curve.decodePoint(r,c))},h.prototype.derive=function(r){return r.validate()||x(r.validate(),"public point not validated"),r.mul(this.priv).getX()},h.prototype.sign=function(r,c,l){return this.ec.sign(r,this,c,l)},h.prototype.verify=function(r,c){return this.ec.verify(r,c,this)},h.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":132,"bn.js":133}],127:[function(v,L){"use strict";function h(t,i){return t instanceof h?t:void(this._importDER(t,i)||(n(t.r&&t.s,"Signature without r or s"),this.r=new c(t.r,16),this.s=new c(t.s,16),this.recoveryParam=void 0===t.recoveryParam?null:t.recoveryParam))}function g(){this.place=0}function p(t,i){var s=t[i.place++];if(!(128&s))return s;var u=15&s;if(0==u||4<u)return!1;for(var o=0,d=0,f=i.place;d<u;d++,f++)o<<=8,o|=t[f],o>>>=0;return!(127>=o)&&(i.place=f,o)}function x(t){for(var i=0,s=t.length-1;!t[i]&&!(128&t[i+1])&&i<s;)i++;return 0===i?t:t.slice(i)}function r(t,i){if(128>i)t.push(i);else{var s=1+(vn(i)/Kt>>>3);for(t.push(128|s);--s;)t.push(255&i>>>(s<<3));t.push(i)}}var c=v("bn.js"),l=v("../utils"),n=l.assert;L.exports=h,h.prototype._importDER=function(t,i){t=l.toArray(t,i);var s=new g;if(48!==t[s.place++])return!1;var u=p(t,s);if(!1===u||u+s.place!==t.length||2!==t[s.place++])return!1;var o=p(t,s);if(!1===o)return!1;var d=t.slice(s.place,o+s.place);if(s.place+=o,2!==t[s.place++])return!1;var f=p(t,s);if(!1===f||t.length!==f+s.place)return!1;var E=t.slice(s.place,f+s.place);if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}if(0===E[0]){if(!(128&E[1]))return!1;E=E.slice(1)}return this.r=new c(d),this.s=new c(E),this.recoveryParam=null,!0},h.prototype.toDER=function(t){var i=this.r.toArray(),s=this.s.toArray();for(128&i[0]&&(i=[0].concat(i)),128&s[0]&&(s=[0].concat(s)),i=x(i),s=x(s);!(s[0]||128&s[1]);)s=s.slice(1);var u=[2];r(u,i.length),(u=u.concat(i)).push(2),r(u,s.length);var o=u.concat(s),d=[48];return r(d,o.length),d=d.concat(o),l.encode(d,t)}},{"../utils":132,"bn.js":133}],128:[function(v,L){"use strict";function h(t){return r("ed25519"===t,"only tested with ed25519 so far"),this instanceof h?(this.curve=t=p[t].curve,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=de(t.n.bitLength()/8),void(this.hash=g.sha512)):new h(t)}var g=v("hash.js"),p=v("../curves"),x=v("../utils"),r=x.assert,c=x.parseBytes,l=v("./key"),n=v("./signature");L.exports=h,h.prototype.sign=function(t,i){t=c(t);var s=this.keyFromSecret(i),u=this.hashInt(s.messagePrefix(),t),o=this.g.mul(u),d=this.encodePoint(o),f=this.hashInt(d,s.pubBytes(),t).mul(s.priv()),E=u.add(f).umod(this.curve.n);return this.makeSignature({R:o,S:E,Rencoded:d})},h.prototype.verify=function(t,i,s){t=c(t),i=this.makeSignature(i);var u=this.keyFromPublic(s),o=this.hashInt(i.Rencoded(),u.pubBytes(),t),d=this.g.mul(i.S());return i.R().add(u.pub().mul(o)).eq(d)},h.prototype.hashInt=function(){for(var t=this.hash(),i=0;i<arguments.length;i++)t.update(arguments[i]);return x.intFromLE(t.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(t){return l.fromPublic(this,t)},h.prototype.keyFromSecret=function(t){return l.fromSecret(this,t)},h.prototype.makeSignature=function(t){return t instanceof n?t:new n(this,t)},h.prototype.encodePoint=function(t){var i=t.getY().toArray("le",this.encodingLength);return i[this.encodingLength-1]|=t.getX().isOdd()?128:0,i},h.prototype.decodePoint=function(t){var i=(t=x.parseBytes(t)).length-1,s=t.slice(0,i).concat(-129&t[i]),u=0!=(128&t[i]),o=x.intFromLE(s);return this.curve.pointFromY(o,u)},h.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(t){return x.intFromLE(t)},h.prototype.isPoint=function(t){return t instanceof this.pointClass}},{"../curves":124,"../utils":132,"./key":129,"./signature":130,"hash.js":143}],129:[function(v,L){"use strict";function h(c,l){this.eddsa=c,this._secret=x(l.secret),c.isPoint(l.pub)?this._pub=l.pub:this._pubBytes=x(l.pub)}var g=v("../utils"),p=g.assert,x=g.parseBytes,r=g.cachedProperty;h.fromPublic=function(c,l){return l instanceof h?l:new h(c,{pub:l})},h.fromSecret=function(c,l){return l instanceof h?l:new h(c,{secret:l})},h.prototype.secret=function(){return this._secret},r(h,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),r(h,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),r(h,"privBytes",function(){var c=this.eddsa,l=this.hash(),n=c.encodingLength-1,t=l.slice(0,c.encodingLength);return t[0]&=248,t[n]&=127,t[n]|=64,t}),r(h,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),r(h,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),r(h,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),h.prototype.sign=function(c){return p(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},h.prototype.verify=function(c,l){return this.eddsa.verify(c,l,this)},h.prototype.getSecret=function(c){return p(this._secret,"KeyPair is public only"),g.encode(this.secret(),c)},h.prototype.getPublic=function(c){return g.encode(this.pubBytes(),c)},L.exports=h},{"../utils":132}],130:[function(v,L){"use strict";function h(l,n){this.eddsa=l,"object"!=typeof n&&(n=c(n)),Array.isArray(n)&&(n={R:n.slice(0,l.encodingLength),S:n.slice(l.encodingLength)}),x(n.R&&n.S,"Signature without R or S"),l.isPoint(n.R)&&(this._R=n.R),n.S instanceof g&&(this._S=n.S),this._Rencoded=Array.isArray(n.R)?n.R:n.Rencoded,this._Sencoded=Array.isArray(n.S)?n.S:n.Sencoded}var g=v("bn.js"),p=v("../utils"),x=p.assert,r=p.cachedProperty,c=p.parseBytes;r(h,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),r(h,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),r(h,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),r(h,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),h.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},h.prototype.toHex=function(){return p.encode(this.toBytes(),"hex").toUpperCase()},L.exports=h},{"../utils":132,"bn.js":133}],131:[function(v,L){L.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],132:[function(v,L,h){"use strict";var g=h,p=v("bn.js"),x=v("minimalistic-assert"),r=v("minimalistic-crypto-utils");g.assert=x,g.toArray=r.toArray,g.zero2=r.zero2,g.toHex=r.toHex,g.encode=r.encode,g.getNAF=function(c,l,n){var t=Array(ce(c.bitLength(),n)+1);t.fill(0);for(var i=1<<l+1,s=c.clone(),u=0;u<t.length;u++){var d,o=s.andln(i-1);s.isOdd()?s.isubn(d=o>(i>>1)-1?(i>>1)-o:o):d=0,t[u]=d,s.iushrn(1)}return t},g.getJSF=function(c,l){var n=[[],[]];c=c.clone(),l=l.clone();for(var s,t=0,i=0;0<c.cmpn(-t)||0<l.cmpn(-i);){var d,f,u=3&c.andln(3)+t,o=3&l.andln(3)+i;3==u&&(u=-1),3===o&&(o=-1),d=0==(1&u)?0:3!=(s=7&c.andln(7)+t)&&5!==s||2!==o?u:-u,n[0].push(d),f=0==(1&o)?0:3!=(s=7&l.andln(7)+i)&&5!==s||2!==u?o:-o,n[1].push(f),2*t===d+1&&(t=1-t),2*i===f+1&&(i=1-i),c.iushrn(1),l.iushrn(1)}return n},g.cachedProperty=function(c,l,n){var t="_"+l;c.prototype[l]=function(){return void 0===this[t]?this[t]=n.call(this):this[t]}},g.parseBytes=function(c){return"string"==typeof c?g.toArray(c,"hex"):c},g.intFromLE=function(c){return new p(c,"hex","le")}},{"bn.js":133,"minimalistic-assert":180,"minimalistic-crypto-utils":181}],133:[function(v,L,h){arguments[4][22][0].apply(h,arguments)},{buffer:41,dup:22}],134:[function(v,L){L.exports={_from:"elliptic@^6.5.3",_id:"elliptic@6.5.4",_inBundle:!1,_integrity:"sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.5.3",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.5.3",saveSpec:null,fetchSpec:"^6.5.3"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz",_shasum:"da37cebd31e79a1367e941b592ed1fbebd58abbb",_spec:"elliptic@^6.5.3",_where:"/home/runner/work/webtorrent/webtorrent/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.4"}},{}],135:[function(v,L){(function(h){(function(){var g=v("once"),p=function(){},c=function(l,n,t){if("function"==typeof n)return c(l,null,n);n||(n={}),t=g(t||p);var i=l._writableState,s=l._readableState,u=n.readable||!1!==n.readable&&l.readable,o=n.writable||!1!==n.writable&&l.writable,d=!1,f=function(){l.writable||E()},E=function(){o=!1,u||t.call(l)},b=function(){u=!1,o||t.call(l)},I=function(K){t.call(l,K?new Error("exited with error code: "+K):null)},S=function(K){t.call(l,K)},R=function(){h.nextTick(F)},F=function(){return d||(!u||s&&s.ended&&!s.destroyed)&&(!o||i&&i.ended&&!i.destroyed)?void 0:t.call(l,new Error("premature close"))},q=function(){l.req.on("finish",E)};return function(l){return l.setHeader&&"function"==typeof l.abort}(l)?(l.on("complete",E),l.on("abort",R),l.req?q():l.on("request",q)):o&&!i&&(l.on("end",f),l.on("close",f)),function(l){return l.stdio&&Array.isArray(l.stdio)&&3===l.stdio.length}(l)&&l.on("exit",I),l.on("end",b),l.on("finish",E),!1!==n.error&&l.on("error",S),l.on("close",R),function(){d=!0,l.removeListener("complete",E),l.removeListener("abort",R),l.removeListener("request",q),l.req&&l.req.removeListener("finish",E),l.removeListener("end",f),l.removeListener("close",f),l.removeListener("finish",E),l.removeListener("exit",I),l.removeListener("end",b),l.removeListener("error",S),l.removeListener("close",R)}};L.exports=c}).call(this)}).call(this,v("_process"))},{_process:205,once:191}],136:[function(v,L){"use strict";function h(g,p){for(const x in p)Object.defineProperty(g,x,{value:p[x],enumerable:!0,configurable:!0});return g}L.exports=function(g,p,x){if(!g||"string"==typeof g)throw new TypeError("Please pass an Error to err-code");x||(x={}),"object"==typeof p&&(x=p,p=""),p&&(x.code=p);try{return h(g,x)}catch(r){x.message=g.message,x.stack=g.stack;const c=function(){};return c.prototype=Object.create(Object.getPrototypeOf(g)),h(new c,x)}}},{}],137:[function(v,L){var h=v("safe-buffer").Buffer,g=v("md5.js");L.exports=function(p,x,r,c){if(h.isBuffer(p)||(p=h.from(p,"binary")),x&&(h.isBuffer(x)||(x=h.from(x,"binary")),8!==x.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s,l=r/8,n=h.alloc(l),t=h.alloc(c||0),i=h.alloc(0);0<l||0<c;){(s=new g).update(i),s.update(p),x&&s.update(x),i=s.digest();var u=0;if(0<l){var o=n.length-l;u=ne(l,i.length),i.copy(n,o,0,u),l-=u}if(u<i.length&&0<c){var d=t.length-c,f=ne(c,i.length-u);i.copy(t,d,u,u+f),c-=f}}return i.fill(0),{key:n,iv:t}}},{"md5.js":171,"safe-buffer":247}],138:[function(v,L){L.exports=class{constructor(h){if(!(0<h)||0!=(h-1&h))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=Array(h),this.mask=h-1,this.top=0,this.btm=0,this.next=null}push(h){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=h,this.top=this.top+1&this.mask,!0)}shift(){const h=this.buffer[this.btm];if(void 0!==h)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,h}isEmpty(){return void 0===this.buffer[this.btm]}}},{}],139:[function(v,L){const h=v("./fixed-size");L.exports=class{constructor(g){this.hwm=g||16,this.head=new h(this.hwm),this.tail=this.head}push(g){this.head.push(g)||(this.head=this.head.next=new h(2*this.head.buffer.length),this.head.push(g))}shift(){const g=this.tail.shift();if(void 0===g&&this.tail.next){const p=this.tail.next;return this.tail.next=null,this.tail=p,this.tail.shift()}return g}isEmpty(){return this.head.isEmpty()}}},{"./fixed-size":138}],140:[function(v,L){const{Readable:h}=v("readable-stream"),g=v("typedarray-to-buffer");L.exports=class extends h{constructor(p,x={}){super(x),this._offset=0,this._ready=!1,this._file=p,this._size=p.size,this._chunkSize=x.chunkSize||ce(this._size/1e3,204800);const r=new FileReader;r.onload=()=>{this.push(g(r.result))},r.onerror=()=>{this.emit("error",r.error)},this.reader=r,this._generateHeaderBlocks(p,x,(c,l)=>c?this.emit("error",c):(Array.isArray(l)&&l.forEach(n=>this.push(n)),this._ready=!0,void this.emit("_ready")))}_generateHeaderBlocks(p,x,r){r(null,[])}_read(){if(!this._ready)return void this.once("_ready",this._read.bind(this));const p=this._offset;let x=this._offset+this._chunkSize;return x>this._size&&(x=this._size),p===this._size?(this.destroy(),void this.push(null)):(this.reader.readAsArrayBuffer(this._file.slice(p,x)),void(this._offset=x))}destroy(){if(this._file=null,this.reader){this.reader.onload=null,this.reader.onerror=null;try{this.reader.abort()}catch(p){}}this.reader=null}}},{"readable-stream":240,"typedarray-to-buffer":282}],141:[function(v,L){L.exports=function(){if("undefined"==typeof globalThis)return null;var h={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return h.RTCPeerConnection?h:null}},{}],142:[function(v,L){"use strict";function g(c){x.call(this),this._block=p.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var p=v("safe-buffer").Buffer,x=v("readable-stream").Transform;v("inherits")(g,x),g.prototype._transform=function(c,l,n){var t=null;try{this.update(c,l)}catch(i){t=i}n(t)},g.prototype._flush=function(c){var l=null;try{this.push(this.digest())}catch(n){l=n}c(l)},g.prototype.update=function(c,l){if(function h(c,l){if(!p.isBuffer(c)&&"string"!=typeof c)throw new TypeError(l+" must be a string or a buffer")}(c,"Data"),this._finalized)throw new Error("Digest already called");p.isBuffer(c)||(c=p.from(c,l));for(var n=this._block,t=0;this._blockOffset+c.length-t>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)n[i++]=c[t++];this._update(),this._blockOffset=0}for(;t<c.length;)n[this._blockOffset++]=c[t++];for(var s=0,u=8*c.length;0<u;++s)this._length[s]+=u,0<(u=0|this._length[s]/4294967296)&&(this._length[s]-=4294967296*u);return this},g.prototype._update=function(){throw new Error("_update is not implemented")},g.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var l=this._digest();void 0!==c&&(l=l.toString(c)),this._block.fill(0),this._blockOffset=0;for(var n=0;4>n;++n)this._length[n]=0;return l},g.prototype._digest=function(){throw new Error("_digest is not implemented")},L.exports=g},{inherits:159,"readable-stream":240,"safe-buffer":247}],143:[function(v,L,h){var g=h;g.utils=v("./hash/utils"),g.common=v("./hash/common"),g.sha=v("./hash/sha"),g.ripemd=v("./hash/ripemd"),g.hmac=v("./hash/hmac"),g.sha1=g.sha.sha1,g.sha256=g.sha.sha256,g.sha224=g.sha.sha224,g.sha384=g.sha.sha384,g.sha512=g.sha.sha512,g.ripemd160=g.ripemd.ripemd160},{"./hash/common":144,"./hash/hmac":145,"./hash/ripemd":146,"./hash/sha":147,"./hash/utils":154}],144:[function(v,L,h){"use strict";function g(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var p=v("./utils"),x=v("minimalistic-assert");h.BlockHash=g,g.prototype.update=function(r,c){if(r=p.toArray(r,c),this.pending=this.pending?this.pending.concat(r):r,this.pendingTotal+=r.length,this.pending.length>=this._delta8){var l=(r=this.pending).length%this._delta8;this.pending=r.slice(r.length-l,r.length),0===this.pending.length&&(this.pending=null),r=p.join32(r,0,r.length-l,this.endian);for(var n=0;n<r.length;n+=this._delta32)this._update(r,n,n+this._delta32)}return this},g.prototype.digest=function(r){return this.update(this._pad()),x(null===this.pending),this._digest(r)},g.prototype._pad=function(){var r=this.pendingTotal,c=this._delta8,l=c-(r+this.padLength)%c,n=Array(l+this.padLength);n[0]=128;for(var t=1;t<l;t++)n[t]=0;if(r<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)n[t++]=0;n[t++]=0,n[t++]=0,n[t++]=0,n[t++]=0,n[t++]=255&r>>>24,n[t++]=255&r>>>16,n[t++]=255&r>>>8,n[t++]=255&r}else for(n[t++]=255&r,n[t++]=255&r>>>8,n[t++]=255&r>>>16,n[t++]=255&r>>>24,n[t++]=0,n[t++]=0,n[t++]=0,n[t++]=0,i=8;i<this.padLength;i++)n[t++]=0;return n}},{"./utils":154,"minimalistic-assert":180}],145:[function(v,L){"use strict";function h(x,r,c){return this instanceof h?(this.Hash=x,this.blockSize=x.blockSize/8,this.outSize=x.outSize/8,this.inner=null,this.outer=null,void this._init(g.toArray(r,c))):new h(x,r,c)}var g=v("./utils"),p=v("minimalistic-assert");L.exports=h,h.prototype._init=function(x){x.length>this.blockSize&&(x=(new this.Hash).update(x).digest()),p(x.length<=this.blockSize);for(var r=x.length;r<this.blockSize;r++)x.push(0);for(r=0;r<x.length;r++)x[r]^=54;for(this.inner=(new this.Hash).update(x),r=0;r<x.length;r++)x[r]^=106;this.outer=(new this.Hash).update(x)},h.prototype.update=function(x,r){return this.inner.update(x,r),this},h.prototype.digest=function(x){return this.outer.update(this.inner.digest()),this.outer.digest(x)}},{"./utils":154,"minimalistic-assert":180}],146:[function(v,L,h){"use strict";function g(){return this instanceof g?(u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new g}function p(b,I,S,R){return 15>=b?I^S^R:31>=b?I&S|~I&R:47>=b?(I|~S)^R:63>=b?I&R|S&~R:I^(S|~R)}function x(b){return 15>=b?0:31>=b?1518500249:47>=b?1859775393:63>=b?2400959708:2840853838}function r(b){return 15>=b?1352829926:31>=b?1548603684:47>=b?1836072691:63>=b?2053994217:0}var c=v("./utils"),l=v("./common"),n=c.rotl32,t=c.sum32,i=c.sum32_3,s=c.sum32_4,u=l.BlockHash;c.inherits(g,u),h.ripemd160=g,g.blockSize=512,g.outSize=160,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(b,I){for(var y,S=this.h[0],R=this.h[1],F=this.h[2],q=this.h[3],K=this.h[4],se=S,xe=R,we=F,A=q,P=K,U=0;80>U;U++)y=t(n(s(S,p(U,R,F,q),b[o[U]+I],x(U)),f[U]),K),S=K,K=q,q=n(F,10),F=R,R=y,y=t(n(s(se,p(79-U,xe,we,A),b[d[U]+I],r(U)),E[U]),P),se=P,P=A,A=n(we,10),we=xe,xe=y;y=i(this.h[1],F,A),this.h[1]=i(this.h[2],q,P),this.h[2]=i(this.h[3],K,se),this.h[3]=i(this.h[4],S,xe),this.h[4]=i(this.h[0],R,we),this.h[0]=y},g.prototype._digest=function(b){return"hex"===b?c.toHex32(this.h,"little"):c.split32(this.h,"little")};var o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],E=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":144,"./utils":154}],147:[function(v,L,h){"use strict";h.sha1=v("./sha/1"),h.sha224=v("./sha/224"),h.sha256=v("./sha/256"),h.sha384=v("./sha/384"),h.sha512=v("./sha/512")},{"./sha/1":148,"./sha/224":149,"./sha/256":150,"./sha/384":151,"./sha/512":152}],148:[function(v,L){"use strict";function h(){return this instanceof h?(t.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=Array(80))):new h}var g=v("../utils"),p=v("../common"),x=v("./common"),r=g.rotl32,c=g.sum32,l=g.sum32_5,n=x.ft_1,t=p.BlockHash,i=[1518500249,1859775393,2400959708,3395469782];g.inherits(h,t),L.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(s,u){for(var o=this.W,d=0;16>d;d++)o[d]=s[u+d];for(;d<o.length;d++)o[d]=r(o[d-3]^o[d-8]^o[d-14]^o[d-16],1);var f=this.h[0],E=this.h[1],b=this.h[2],I=this.h[3],S=this.h[4];for(d=0;d<o.length;d++){var R=~~(d/20),F=l(r(f,5),n(R,E,b,I),S,o[d],i[R]);S=I,I=b,b=r(E,30),E=f,f=F}this.h[0]=c(this.h[0],f),this.h[1]=c(this.h[1],E),this.h[2]=c(this.h[2],b),this.h[3]=c(this.h[3],I),this.h[4]=c(this.h[4],S)},h.prototype._digest=function(s){return"hex"===s?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},{"../common":144,"../utils":154,"./common":153}],149:[function(v,L){"use strict";function h(){return this instanceof h?(p.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new h}var g=v("../utils"),p=v("./256");g.inherits(h,p),L.exports=h,h.blockSize=512,h.outSize=224,h.hmacStrength=192,h.padLength=64,h.prototype._digest=function(x){return"hex"===x?g.toHex32(this.h.slice(0,7),"big"):g.split32(this.h.slice(0,7),"big")}},{"../utils":154,"./256":150}],150:[function(v,L){"use strict";function h(){return this instanceof h?(f.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=E,void(this.W=Array(64))):new h}var g=v("../utils"),p=v("../common"),x=v("./common"),r=v("minimalistic-assert"),c=g.sum32,l=g.sum32_4,n=g.sum32_5,t=x.ch32,i=x.maj32,s=x.s0_256,u=x.s1_256,o=x.g0_256,d=x.g1_256,f=p.BlockHash,E=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];g.inherits(h,f),L.exports=h,h.blockSize=512,h.outSize=256,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(b,I){for(var S=this.W,R=0;16>R;R++)S[R]=b[I+R];for(;R<S.length;R++)S[R]=l(d(S[R-2]),S[R-7],o(S[R-15]),S[R-16]);var F=this.h[0],q=this.h[1],K=this.h[2],se=this.h[3],xe=this.h[4],we=this.h[5],A=this.h[6],P=this.h[7];for(r(this.k.length===S.length),R=0;R<S.length;R++){var U=n(P,u(xe),t(xe,we,A),this.k[R],S[R]),y=c(s(F),i(F,q,K));P=A,A=we,we=xe,xe=c(se,U),se=K,K=q,q=F,F=c(U,y)}this.h[0]=c(this.h[0],F),this.h[1]=c(this.h[1],q),this.h[2]=c(this.h[2],K),this.h[3]=c(this.h[3],se),this.h[4]=c(this.h[4],xe),this.h[5]=c(this.h[5],we),this.h[6]=c(this.h[6],A),this.h[7]=c(this.h[7],P)},h.prototype._digest=function(b){return"hex"===b?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},{"../common":144,"../utils":154,"./common":153,"minimalistic-assert":180}],151:[function(v,L){"use strict";function h(){return this instanceof h?(p.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new h}var g=v("../utils"),p=v("./512");g.inherits(h,p),L.exports=h,h.blockSize=1024,h.outSize=384,h.hmacStrength=192,h.padLength=128,h.prototype._digest=function(x){return"hex"===x?g.toHex32(this.h.slice(0,12),"big"):g.split32(this.h.slice(0,12),"big")}},{"../utils":154,"./512":152}],152:[function(v,L){"use strict";function h(){return this instanceof h?(P.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=U,void(this.W=Array(160))):new h}function g(y,C,M,O,ee){var $=y&M^~y&ee;return 0>$&&($+=4294967296),$}function p(y,C,M,O,ee,$){var ae=C&O^~C&$;return 0>ae&&(ae+=4294967296),ae}function x(y,C,M,O,ee){var $=y&M^y&ee^M&ee;return 0>$&&($+=4294967296),$}function r(y,C,M,O,ee,$){var ae=C&O^C&$^O&$;return 0>ae&&(ae+=4294967296),ae}function c(y,C){var $=b(y,C,28)^b(C,y,2)^b(C,y,7);return 0>$&&($+=4294967296),$}function l(y,C){var $=I(y,C,28)^I(C,y,2)^I(C,y,7);return 0>$&&($+=4294967296),$}function n(y,C){var $=b(y,C,14)^b(y,C,18)^b(C,y,9);return 0>$&&($+=4294967296),$}function t(y,C){var $=I(y,C,14)^I(y,C,18)^I(C,y,9);return 0>$&&($+=4294967296),$}function i(y,C){var $=b(y,C,1)^b(y,C,8)^S(y,C,7);return 0>$&&($+=4294967296),$}function s(y,C){var $=I(y,C,1)^I(y,C,8)^R(y,C,7);return 0>$&&($+=4294967296),$}function u(y,C){var $=b(y,C,19)^b(C,y,29)^S(y,C,6);return 0>$&&($+=4294967296),$}function o(y,C){var $=I(y,C,19)^I(C,y,29)^R(y,C,6);return 0>$&&($+=4294967296),$}var d=v("../utils"),f=v("../common"),E=v("minimalistic-assert"),b=d.rotr64_hi,I=d.rotr64_lo,S=d.shr64_hi,R=d.shr64_lo,F=d.sum64,q=d.sum64_hi,K=d.sum64_lo,se=d.sum64_4_hi,xe=d.sum64_4_lo,we=d.sum64_5_hi,A=d.sum64_5_lo,P=f.BlockHash,U=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];d.inherits(h,P),L.exports=h,h.blockSize=1024,h.outSize=512,h.hmacStrength=192,h.padLength=128,h.prototype._prepareBlock=function(y,C){for(var M=this.W,O=0;32>O;O++)M[O]=y[C+O];for(;O<M.length;O+=2){var ee=u(M[O-4],M[O-3]),$=o(M[O-4],M[O-3]),ae=M[O-14],Fe=M[O-13],He=i(M[O-30],M[O-29]),Ve=s(M[O-30],M[O-29]),it=M[O-32],at=M[O-31];M[O]=se(ee,$,ae,Fe,He,Ve,it,at),M[O+1]=xe(ee,$,ae,Fe,He,Ve,it,at)}},h.prototype._update=function(y,C){this._prepareBlock(y,C);var M=this.W,O=this.h[0],ee=this.h[1],$=this.h[2],ae=this.h[3],Fe=this.h[4],He=this.h[5],Ve=this.h[6],it=this.h[7],at=this.h[8],qt=this.h[9],Ct=this.h[10],Ht=this.h[11],Ge=this.h[12],dt=this.h[13],vt=this.h[14],G=this.h[15];E(this.k.length===M.length);for(var ue=0;ue<M.length;ue+=2){var Y=vt,oe=G,et=n(at,qt),ie=t(at,qt),pe=g(at,0,Ct,0,Ge),Ye=p(0,qt,0,Ht,0,dt),ct=this.k[ue],gt=this.k[ue+1],$t=M[ue],Zt=M[ue+1],rn=we(Y,oe,et,ie,pe,Ye,ct,gt,$t,Zt),kn=A(Y,oe,et,ie,pe,Ye,ct,gt,$t,Zt);Y=c(O,ee),oe=l(O,ee),et=x(O,0,$,0,Fe),ie=r(0,ee,0,ae,0,He);var an=q(Y,oe,et,ie),xn=K(Y,oe,et,ie);vt=Ge,G=dt,Ge=Ct,dt=Ht,Ct=at,Ht=qt,at=q(Ve,it,rn,kn),qt=K(it,it,rn,kn),Ve=Fe,it=He,Fe=$,He=ae,$=O,ae=ee,O=q(rn,kn,an,xn),ee=K(rn,kn,an,xn)}F(this.h,0,O,ee),F(this.h,2,$,ae),F(this.h,4,Fe,He),F(this.h,6,Ve,it),F(this.h,8,at,qt),F(this.h,10,Ct,Ht),F(this.h,12,Ge,dt),F(this.h,14,vt,G)},h.prototype._digest=function(y){return"hex"===y?d.toHex32(this.h,"big"):d.split32(this.h,"big")}},{"../common":144,"../utils":154,"minimalistic-assert":180}],153:[function(v,L,h){"use strict";function g(l,n,t){return l&n^~l&t}function p(l,n,t){return l&n^l&t^n&t}function x(l,n,t){return l^n^t}var c=v("../utils").rotr32;h.ft_1=function(l,n,t,i){return 0===l?g(n,t,i):1===l||3===l?x(n,t,i):2===l?p(n,t,i):void 0},h.ch32=g,h.maj32=p,h.p32=x,h.s0_256=function(l){return c(l,2)^c(l,13)^c(l,22)},h.s1_256=function(l){return c(l,6)^c(l,11)^c(l,25)},h.g0_256=function(l){return c(l,7)^c(l,18)^l>>>3},h.g1_256=function(l){return c(l,17)^c(l,19)^l>>>10}},{"../utils":154}],154:[function(v,L,h){"use strict";function g(n,t){return 55296==(64512&n.charCodeAt(t))&&!(0>t||t+1>=n.length)&&56320==(64512&n.charCodeAt(t+1))}function p(n){return(n>>>24|65280&n>>>8|16711680&n<<8|(255&n)<<24)>>>0}function x(n){return 1===n.length?"0"+n:n}function r(n){return 7===n.length?"0"+n:6===n.length?"00"+n:5===n.length?"000"+n:4===n.length?"0000"+n:3===n.length?"00000"+n:2===n.length?"000000"+n:1===n.length?"0000000"+n:n}var c=v("minimalistic-assert"),l=v("inherits");h.inherits=l,h.toArray=function(n,t){if(Array.isArray(n))return n.slice();if(!n)return[];var i=[];if("string"!=typeof n)for(u=0;u<n.length;u++)i[u]=0|n[u];else if(t){if("hex"===t)for((n=n.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(n="0"+n),u=0;u<n.length;u+=2)i.push(parseInt(n[u]+n[u+1],16))}else for(var o,s=0,u=0;u<n.length;u++)128>(o=n.charCodeAt(u))?i[s++]=o:2048>o?(i[s++]=192|o>>6,i[s++]=128|63&o):g(n,u)?(o=65536+((1023&o)<<10)+(1023&n.charCodeAt(++u)),i[s++]=240|o>>18,i[s++]=128|63&o>>12,i[s++]=128|63&o>>6,i[s++]=128|63&o):(i[s++]=224|o>>12,i[s++]=128|63&o>>6,i[s++]=128|63&o);return i},h.toHex=function(n){for(var t="",i=0;i<n.length;i++)t+=x(n[i].toString(16));return t},h.htonl=p,h.toHex32=function(n,t){for(var u,i="",s=0;s<n.length;s++)u=n[s],"little"===t&&(u=p(u)),i+=r(u.toString(16));return i},h.zero2=x,h.zero8=r,h.join32=function(n,t,i,s){var u=i-t;c(u%4==0);for(var o=Array(u/4),d=0,f=t;d<o.length;d++,f+=4)o[d]=("big"===s?n[f]<<24|n[f+1]<<16|n[f+2]<<8|n[f+3]:n[f+3]<<24|n[f+2]<<16|n[f+1]<<8|n[f])>>>0;return o},h.split32=function(n,t){for(var o,i=Array(4*n.length),s=0,u=0;s<n.length;s++,u+=4)o=n[s],"big"===t?(i[u]=o>>>24,i[u+1]=255&o>>>16,i[u+2]=255&o>>>8,i[u+3]=255&o):(i[u+3]=o>>>24,i[u+2]=255&o>>>16,i[u+1]=255&o>>>8,i[u]=255&o);return i},h.rotr32=function(n,t){return n>>>t|n<<32-t},h.rotl32=function(n,t){return n<<t|n>>>32-t},h.sum32=function(n,t){return n+t>>>0},h.sum32_3=function(n,t,i){return n+t+i>>>0},h.sum32_4=function(n,t,i,s){return n+t+i+s>>>0},h.sum32_5=function(n,t,i,s,u){return n+t+i+s+u>>>0},h.sum64=function(n,t,i,s){var d=s+n[t+1]>>>0;n[t]=(d<s?1:0)+i+n[t]>>>0,n[t+1]=d},h.sum64_hi=function(n,t,i,s){return(t+s>>>0<t?1:0)+n+i>>>0},h.sum64_lo=function(n,t,i,s){return t+s>>>0},h.sum64_4_hi=function(n,t,i,s,u,o,d,f){var E=0,b=t;return E+=(b=b+s>>>0)<t?1:0,E+=(b=b+o>>>0)<o?1:0,n+i+u+d+(E+=(b=b+f>>>0)<f?1:0)>>>0},h.sum64_4_lo=function(n,t,i,s,u,o,d,f){return t+s+o+f>>>0},h.sum64_5_hi=function(n,t,i,s,u,o,d,f,E,b){var I=0,S=t;return I+=(S=S+s>>>0)<t?1:0,I+=(S=S+o>>>0)<o?1:0,I+=(S=S+f>>>0)<f?1:0,n+i+u+d+E+(I+=(S=S+b>>>0)<b?1:0)>>>0},h.sum64_5_lo=function(n,t,i,s,u,o,d,f,E,b){return t+s+o+f+b>>>0},h.rotr64_hi=function(n,t,i){return(t<<32-i|n>>>i)>>>0},h.rotr64_lo=function(n,t,i){return(n<<32-i|t>>>i)>>>0},h.shr64_hi=function(n,t,i){return n>>>i},h.shr64_lo=function(n,t,i){return(n<<32-i|t>>>i)>>>0}},{inherits:159,"minimalistic-assert":180}],155:[function(v,L){"use strict";function h(r){if(!(this instanceof h))return new h(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=p.toArray(r.entropy,r.entropyEnc||"hex"),l=p.toArray(r.nonce,r.nonceEnc||"hex"),n=p.toArray(r.pers,r.persEnc||"hex");x(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,l,n)}var g=v("hash.js"),p=v("minimalistic-crypto-utils"),x=v("minimalistic-assert");L.exports=h,h.prototype._init=function(r,c,l){var n=r.concat(c).concat(l);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var t=0;t<this.V.length;t++)this.K[t]=0,this.V[t]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},h.prototype._hmac=function(){return new g.hmac(this.hash,this.K)},h.prototype._update=function(r){var c=this._hmac().update(this.V).update([0]);r&&(c=c.update(r)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),r&&(this.K=this._hmac().update(this.V).update([1]).update(r).digest(),this.V=this._hmac().update(this.V).digest())},h.prototype.reseed=function(r,c,l,n){"string"!=typeof c&&(n=l,l=c,c=null),r=p.toArray(r,c),l=p.toArray(l,n),x(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(r.concat(l||[])),this._reseed=1},h.prototype.generate=function(r,c,l,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof c&&(n=l,l=c,c=null),l&&(l=p.toArray(l,n||"hex"),this._update(l));for(var t=[];t.length<r;)this.V=this._hmac().update(this.V).digest(),t=t.concat(this.V);var i=t.slice(0,r);return this._update(l),this._reseed++,p.encode(i,c)}},{"hash.js":143,"minimalistic-assert":180,"minimalistic-crypto-utils":181}],156:[function(v,L){function h(c){if("string"==typeof c&&(c=p.parse(c)),c.protocol||(c.protocol="https:"),"https:"!==c.protocol)throw new Error('Protocol "'+c.protocol+'" not supported. Expected "https:"');return c}var g=v("http"),p=v("url"),x=L.exports;for(var r in g)g.hasOwnProperty(r)&&(x[r]=g[r]);x.request=function(c,l){return c=h(c),g.request.call(this,c,l)},x.get=function(c,l){return c=h(c),g.get.call(this,c,l)}},{http:268,url:285}],157:[function(v,L,h){h.read=function(g,p,x,r,c){var d,f,l=8*c-r-1,n=(1<<l)-1,t=n>>1,i=-7,s=x?c-1:0,u=x?-1:1,o=g[p+s];for(s+=u,d=o&(1<<-i)-1,o>>=-i,i+=l;0<i;d=256*d+g[p+s],s+=u,i-=8);for(f=d&(1<<-i)-1,d>>=-i,i+=r;0<i;f=256*f+g[p+s],s+=u,i-=8);if(0===d)d=1-t;else{if(d===n)return f?NaN:1/0*(o?-1:1);f+=z(2,r),d-=t}return(o?-1:1)*f*z(2,d-r)},h.write=function(g,p,x,r,c,l){var f,E,b,n=8*l-c-1,t=(1<<n)-1,i=t>>1,s=23===c?z(2,-24)-z(2,-77):0,u=r?0:l-1,o=r?1:-1,d=0>p||0===p&&0>1/p?1:0;for(p=At(p),isNaN(p)||p===1/0?(E=isNaN(p)?1:0,f=t):(f=Et(vn(p)/Kt),1>p*(b=z(2,-f))&&(f--,b*=2),2<=(p+=1<=f+i?s/b:s*z(2,1-i))*b&&(f++,b/=2),f+i>=t?(E=0,f=t):1<=f+i?(E=(p*b-1)*z(2,c),f+=i):(E=p*z(2,i-1)*z(2,c),f=0));8<=c;g[x+u]=255&E,u+=o,E/=256,c-=8);for(f=f<<c|E,n+=c;0<n;g[x+u]=255&f,u+=o,f/=256,n-=8);g[x+u-o]|=128*d}},{}],158:[function(v,L){const h=v("queue-microtask");L.exports=class{constructor(g){if(this.store=g,this.chunkLength=g.chunkLength,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.mem=[]}put(g,p,x=(()=>{})){this.mem[g]=p,this.store.put(g,p,r=>{this.mem[g]=null,x(r)})}get(g,p,x=(()=>{})){if("function"==typeof p)return this.get(g,null,p);let r=this.mem[g];if(!r)return this.store.get(g,p,x);p||(p={});const c=p.offset||0,l=p.length||r.length-c;(0!==c||l!==r.length)&&(r=r.slice(c,l+c)),h(()=>x(null,r))}close(g=(()=>{})){this.store.close(g)}destroy(g=(()=>{})){this.store.destroy(g)}}},{"queue-microtask":218}],159:[function(v,L){L.exports="function"==typeof Object.create?function(h,g){g&&(h.super_=g,h.prototype=Object.create(g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}))}:function(h,g){if(g){h.super_=g;var p=function(){};p.prototype=g.prototype,h.prototype=new p,h.prototype.constructor=h}}},{}],160:[function(v,L){L.exports=function(h){for(var g=0,p=h.length;g<p;++g)if(h.charCodeAt(g)>127)return!1;return!0}},{}],161:[function(v,L){function h(p){return!!p.constructor&&"function"==typeof p.constructor.isBuffer&&p.constructor.isBuffer(p)}L.exports=function(p){return null!=p&&(h(p)||function g(p){return"function"==typeof p.readFloatLE&&"function"==typeof p.slice&&h(p.slice(0,0))}(p)||!!p._isBuffer)}},{}],162:[function(v,L){function h(c){return g(c)||p(c)}function g(c){return c instanceof Int8Array||c instanceof Int16Array||c instanceof Int32Array||c instanceof Uint8Array||c instanceof Uint8ClampedArray||c instanceof Uint16Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array}function p(c){return r[x.call(c)]}L.exports=h,h.strict=g,h.loose=p;var x=Object.prototype.toString,r={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0}},{}],163:[function(v,L,h){"use strict";h.re=()=>{throw new Error("`junk.re` was renamed to `junk.regex`")},h.regex=new RegExp(["^npm-debug\\.log$","^\\..*\\.swp$","^\\.DS_Store$","^\\.AppleDouble$","^\\.LSOverride$","^Icon\\r$","^\\._.*","^\\.Spotlight-V100(?:$|\\/)","\\.Trashes","^__MACOSX$","~$","^Thumbs\\.db$","^ehthumbs\\.db$","^Desktop\\.ini$","@eaDir$"].join("|")),h.is=g=>h.regex.test(g),h.not=g=>!h.is(g),h.default=L.exports},{}],164:[function(v,L,h){h.RateLimiter=v("./lib/rateLimiter"),h.TokenBucket=v("./lib/tokenBucket")},{"./lib/rateLimiter":166,"./lib/tokenBucket":167}],165:[function(v,L){(function(h){(function(){L.exports=function(){if(void 0!==h&&h.hrtime){var g=h.hrtime();return 1e3*g[0]+Et(g[1]/1e6)}return(new Date).getTime()}}).call(this)}).call(this,v("_process"))},{_process:205}],166:[function(v,L){(function(h){(function(){var g=v("./tokenBucket"),p=v("./clock"),x=function(r,c,l){this.tokenBucket=new g(r,r,c,null),this.tokenBucket.content=r,this.curIntervalStart=p(),this.tokensThisInterval=0,this.fireImmediately=l};x.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(r,c){function l(s,u){return s?c(s,null):(n.tokensThisInterval+=r,void c(null,u))}if(r>this.tokenBucket.bucketSize)return h.nextTick(c.bind(null,"Requested tokens "+r+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var n=this,t=p();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),r>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)h.nextTick(c.bind(null,null,-1));else{var i=de(this.curIntervalStart+this.tokenBucket.interval-t);setTimeout(function(){n.tokenBucket.removeTokens(r,l)},i)}return!1}return this.tokenBucket.removeTokens(r,l)},tryRemoveTokens:function(r){if(r>this.tokenBucket.bucketSize)return!1;var c=p();if((c<this.curIntervalStart||c-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=c,this.tokensThisInterval=0),r>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var l=this.tokenBucket.tryRemoveTokens(r);return l&&(this.tokensThisInterval+=r),l},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},L.exports=x}).call(this)}).call(this,v("_process"))},{"./clock":165,"./tokenBucket":167,_process:205}],167:[function(v,L){(function(h){(function(){var g=function(p,x,r,c){if(this.bucketSize=p,this.tokensPerInterval=x,"string"==typeof r)switch(r){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+r)}else this.interval=r;this.parentBucket=c,this.content=0,this.lastDrip=+new Date};g.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(p,x){function r(){var l=de(c.interval/c.tokensPerInterval*(p-c.content));return setTimeout(function(){c.removeTokens(p,x)},l),!1}var c=this;return this.bucketSize?p>this.bucketSize?(h.nextTick(x.bind(null,"Requested tokens "+p+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),p>this.content?r():this.parentBucket?this.parentBucket.removeTokens(p,function(l,n){return l?x(l,null):p>c.content?r():(c.content-=p,void x(null,ne(n,c.content)))}):(this.content-=p,h.nextTick(x.bind(null,null,this.content)),!0)):(h.nextTick(x.bind(null,null,p,Number.POSITIVE_INFINITY)),!0)},tryRemoveTokens:function(p){return!this.bucketSize||!(p>this.bucketSize)&&(this.drip(),!(p>this.content))&&(!this.parentBucket||this.parentBucket.tryRemoveTokens(p))&&(this.content-=p,!0)},drip:function(){if(this.tokensPerInterval){var p=+new Date,x=ce(p-this.lastDrip,0);this.lastDrip=p,this.content=ne(this.content+x*(this.tokensPerInterval/this.interval),this.bucketSize)}else this.content=this.bucketSize}},L.exports=g}).call(this)}).call(this,v("_process"))},{_process:205}],168:[function(v,L){function h(x){return this instanceof h?("number"==typeof x&&(x={max:x}),!x&&(x={}),g.EventEmitter.call(this),this.cache={},this.head=this.tail=null,this.length=0,this.max=x.max||1e3,void(this.maxAge=x.maxAge||0)):new h(x)}var g=v("events"),p=v("inherits");L.exports=h,p(h,g.EventEmitter),Object.defineProperty(h.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),h.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},h.prototype.remove=function(x){if("string"!=typeof x&&(x=""+x),this.cache.hasOwnProperty(x)){var r=this.cache[x];return delete this.cache[x],this._unlink(x,r.prev,r.next),r.value}},h.prototype._unlink=function(x,r,c){this.length--,0===this.length?this.head=this.tail=null:this.head===x?(this.head=r,this.cache[this.head].next=null):this.tail===x?(this.tail=c,this.cache[this.tail].prev=null):(this.cache[r].next=c,this.cache[c].prev=r)},h.prototype.peek=function(x){if(this.cache.hasOwnProperty(x)){var r=this.cache[x];return this._checkAge(x,r)?r.value:void 0}},h.prototype.set=function(x,r){var c;if("string"!=typeof x&&(x=""+x),this.cache.hasOwnProperty(x)){if((c=this.cache[x]).value=r,this.maxAge&&(c.modified=Date.now()),x===this.head)return r;this._unlink(x,c.prev,c.next)}else c={value:r,modified:0,next:null,prev:null},this.maxAge&&(c.modified=Date.now()),this.cache[x]=c,this.length===this.max&&this.evict();return this.length++,c.next=null,c.prev=this.head,this.head&&(this.cache[this.head].next=x),this.head=x,this.tail||(this.tail=x),r},h.prototype._checkAge=function(x,r){return!(this.maxAge&&Date.now()-r.modified>this.maxAge&&(this.remove(x),this.emit("evict",{key:x,value:r.value}),1))},h.prototype.get=function(x){if("string"!=typeof x&&(x=""+x),this.cache.hasOwnProperty(x)){var r=this.cache[x];if(this._checkAge(x,r))return this.head!==x&&(x===this.tail?(this.tail=r.next,this.cache[this.tail].prev=null):this.cache[r.prev].next=r.next,this.cache[r.next].prev=r.prev,this.cache[this.head].next=x,r.prev=this.head,r.next=null,this.head=x),r.value}},h.prototype.evict=function(){if(this.tail){var x=this.tail,r=this.remove(this.tail);this.emit("evict",{key:x,value:r})}}},{events:70,inherits:159}],169:[function(v,L){(function(h){(function(){const g=v("unordered-array-remove"),{EventEmitter:p}=v("events"),x=v("debug")("lt_donthave");L.exports=()=>{class r extends p{constructor(l){super(),this._peerSupports=!1,this._wire=l}onExtendedHandshake(){this._peerSupports=!0}onMessage(l){let n;try{n=l.readUInt32BE()}catch(t){return}this._wire.peerPieces.get(n)&&(x("got donthave %d",n),this._wire.peerPieces.set(n,!1),this.emit("donthave",n),this._failRequests(n))}donthave(l){if(this._peerSupports){x("donthave %d",l);const n=h.alloc(4);n.writeUInt32BE(l),this._wire.extended("lt_donthave",n)}}_failRequests(l){const n=this._wire.requests;for(let t=0;t<n.length;t++){const i=n[t];i.piece===l&&(g(n,t),t-=1,this._wire._callback(i,new Error("peer sent donthave"),null))}}}return r.prototype.name="lt_donthave",r}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,debug:105,events:70,"unordered-array-remove":284}],170:[function(v,L){(function(h){(function(){function g(r){const c={},l=r.split("magnet:?")[1];let t;return(l&&0<=l.length?l.split("&"):[]).forEach(i=>{const s=i.split("=");if(2!==s.length)return;const u=s[0];let o=s[1];"dn"===u&&(o=decodeURIComponent(o).replace(/\+/g," ")),("tr"===u||"xs"===u||"as"===u||"ws"===u)&&(o=decodeURIComponent(o)),"kt"===u&&(o=decodeURIComponent(o).split("+")),"ix"===u&&(o=+o),"so"===u&&(o=x.parse(decodeURIComponent(o).split(","))),c[u]?(!Array.isArray(c[u])&&(c[u]=[c[u]]),c[u].push(o)):c[u]=o}),c.xt&&(Array.isArray(c.xt)?c.xt:[c.xt]).forEach(s=>{if(t=s.match(/^urn:btih:(.{40})/))c.infoHash=t[1].toLowerCase();else if(t=s.match(/^urn:btih:(.{32})/)){const u=p.decode(t[1]);c.infoHash=h.from(u,"binary").toString("hex")}else(t=s.match(/^urn:btmh:1220(.{64})/))&&(c.infoHashV2=t[1].toLowerCase())}),c.xs&&(Array.isArray(c.xs)?c.xs:[c.xs]).forEach(s=>{(t=s.match(/^urn:btpk:(.{64})/))&&(c.publicKey=t[1].toLowerCase())}),c.infoHash&&(c.infoHashBuffer=h.from(c.infoHash,"hex")),c.infoHashV2&&(c.infoHashV2Buffer=h.from(c.infoHashV2,"hex")),c.publicKey&&(c.publicKeyBuffer=h.from(c.publicKey,"hex")),c.dn&&(c.name=c.dn),c.kt&&(c.keywords=c.kt),c.announce=[],("string"==typeof c.tr||Array.isArray(c.tr))&&(c.announce=c.announce.concat(c.tr)),c.urlList=[],("string"==typeof c.as||Array.isArray(c.as))&&(c.urlList=c.urlList.concat(c.as)),("string"==typeof c.ws||Array.isArray(c.ws))&&(c.urlList=c.urlList.concat(c.ws)),c.peerAddresses=[],("string"==typeof c["x.pe"]||Array.isArray(c["x.pe"]))&&(c.peerAddresses=c.peerAddresses.concat(c["x.pe"])),c.announce=Array.from(new Set(c.announce)),c.urlList=Array.from(new Set(c.urlList)),c.peerAddresses=Array.from(new Set(c.peerAddresses)),c}L.exports=g,L.exports.decode=g,L.exports.encode=function(r){r=Object.assign({},r);let c=new Set;r.xt&&"string"==typeof r.xt&&c.add(r.xt),r.xt&&Array.isArray(r.xt)&&(c=new Set(r.xt)),r.infoHashBuffer&&c.add(`urn:btih:${r.infoHashBuffer.toString("hex")}`),r.infoHash&&c.add(`urn:btih:${r.infoHash}`),r.infoHashV2Buffer&&c.add(r.xt=`urn:btmh:1220${r.infoHashV2Buffer.toString("hex")}`),r.infoHashV2&&c.add(`urn:btmh:1220${r.infoHashV2}`);const l=Array.from(c);1===l.length&&(r.xt=l[0]),1<l.length&&(r.xt=l),r.publicKeyBuffer&&(r.xs=`urn:btpk:${r.publicKeyBuffer.toString("hex")}`),r.publicKey&&(r.xs=`urn:btpk:${r.publicKey}`),r.name&&(r.dn=r.name),r.keywords&&(r.kt=r.keywords),r.announce&&(r.tr=r.announce),r.urlList&&(r.ws=r.urlList,delete r.as),r.peerAddresses&&(r["x.pe"]=r.peerAddresses);let n="magnet:?";return Object.keys(r).filter(t=>2===t.length||"x.pe"===t).forEach((t,i)=>{const s=Array.isArray(r[t])?r[t]:[r[t]];s.forEach((u,o)=>{(0<i||0<o)&&("kt"!==t&&"so"!==t||0===o)&&(n+="&"),"dn"===t&&(u=encodeURIComponent(u).replace(/%20/g,"+")),("tr"===t||"as"===t||"ws"===t)&&(u=encodeURIComponent(u)),"xs"!==t||u.startsWith("urn:btpk:")||(u=encodeURIComponent(u)),"kt"===t&&(u=encodeURIComponent(u)),"so"===t||(n+="kt"===t&&0<o?`+${u}`:`${t}=${u}`)}),"so"===t&&(n+=`${t}=${x.compose(s)}`)}),n};const p=v("thirty-two"),x=v("bep53-range")}).call(this)}).call(this,v("buffer").Buffer)},{"bep53-range":29,buffer:69,"thirty-two":277}],171:[function(v,L){"use strict";function h(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function g(s,u){return s<<u|s>>>32-u}function p(s,u,o,d,f,E,b){return 0|g(0|s+(u&o|~u&d)+f+E,b)+u}function x(s,u,o,d,f,E,b){return 0|g(0|s+(u&d|o&~d)+f+E,b)+u}function r(s,u,o,d,f,E,b){return 0|g(0|s+(u^o^d)+f+E,b)+u}function c(s,u,o,d,f,E,b){return 0|g(0|s+(o^(u|~d))+f+E,b)+u}var l=v("inherits"),n=v("hash-base"),t=v("safe-buffer").Buffer,i=Array(16);l(h,n),h.prototype._update=function(){for(var s=i,u=0;16>u;++u)s[u]=this._block.readInt32LE(4*u);var o=this._a,d=this._b,f=this._c,E=this._d;o=p(o,d,f,E,s[0],3614090360,7),E=p(E,o,d,f,s[1],3905402710,12),f=p(f,E,o,d,s[2],606105819,17),d=p(d,f,E,o,s[3],3250441966,22),o=p(o,d,f,E,s[4],4118548399,7),E=p(E,o,d,f,s[5],1200080426,12),f=p(f,E,o,d,s[6],2821735955,17),d=p(d,f,E,o,s[7],4249261313,22),o=p(o,d,f,E,s[8],1770035416,7),E=p(E,o,d,f,s[9],2336552879,12),f=p(f,E,o,d,s[10],4294925233,17),d=p(d,f,E,o,s[11],2304563134,22),o=p(o,d,f,E,s[12],1804603682,7),E=p(E,o,d,f,s[13],4254626195,12),f=p(f,E,o,d,s[14],2792965006,17),o=x(o,d=p(d,f,E,o,s[15],1236535329,22),f,E,s[1],4129170786,5),E=x(E,o,d,f,s[6],3225465664,9),f=x(f,E,o,d,s[11],643717713,14),d=x(d,f,E,o,s[0],3921069994,20),o=x(o,d,f,E,s[5],3593408605,5),E=x(E,o,d,f,s[10],38016083,9),f=x(f,E,o,d,s[15],3634488961,14),d=x(d,f,E,o,s[4],3889429448,20),o=x(o,d,f,E,s[9],568446438,5),E=x(E,o,d,f,s[14],3275163606,9),f=x(f,E,o,d,s[3],4107603335,14),d=x(d,f,E,o,s[8],1163531501,20),o=x(o,d,f,E,s[13],2850285829,5),E=x(E,o,d,f,s[2],4243563512,9),f=x(f,E,o,d,s[7],1735328473,14),o=r(o,d=x(d,f,E,o,s[12],2368359562,20),f,E,s[5],4294588738,4),E=r(E,o,d,f,s[8],2272392833,11),f=r(f,E,o,d,s[11],1839030562,16),d=r(d,f,E,o,s[14],4259657740,23),o=r(o,d,f,E,s[1],2763975236,4),E=r(E,o,d,f,s[4],1272893353,11),f=r(f,E,o,d,s[7],4139469664,16),d=r(d,f,E,o,s[10],3200236656,23),o=r(o,d,f,E,s[13],681279174,4),E=r(E,o,d,f,s[0],3936430074,11),f=r(f,E,o,d,s[3],3572445317,16),d=r(d,f,E,o,s[6],76029189,23),o=r(o,d,f,E,s[9],3654602809,4),E=r(E,o,d,f,s[12],3873151461,11),f=r(f,E,o,d,s[15],530742520,16),o=c(o,d=r(d,f,E,o,s[2],3299628645,23),f,E,s[0],4096336452,6),E=c(E,o,d,f,s[7],1126891415,10),f=c(f,E,o,d,s[14],2878612391,15),d=c(d,f,E,o,s[5],4237533241,21),o=c(o,d,f,E,s[12],1700485571,6),E=c(E,o,d,f,s[3],2399980690,10),f=c(f,E,o,d,s[10],4293915773,15),d=c(d,f,E,o,s[1],2240044497,21),o=c(o,d,f,E,s[8],1873313359,6),E=c(E,o,d,f,s[15],4264355552,10),f=c(f,E,o,d,s[6],2734768916,15),d=c(d,f,E,o,s[13],1309151649,21),o=c(o,d,f,E,s[4],4149444226,6),E=c(E,o,d,f,s[11],3174756917,10),f=c(f,E,o,d,s[2],718787259,15),d=c(d,f,E,o,s[9],3951481745,21),this._a=0|this._a+o,this._b=0|this._b+d,this._c=0|this._c+f,this._d=0|this._d+E},h.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var s=t.allocUnsafe(16);return s.writeInt32LE(this._a,0),s.writeInt32LE(this._b,4),s.writeInt32LE(this._c,8),s.writeInt32LE(this._d,12),s},L.exports=h},{"hash-base":142,inherits:159,"safe-buffer":247}],172:[function(v,L){function h(n,t){var i=this;if(!(i instanceof h))return new h(n,t);if(!l)throw new Error("web browser lacks MediaSource support");t||(t={}),i._debug=t.debug,i._bufferDuration=t.bufferDuration||60,i._elem=n,i._mediaSource=new l,i._streams=[],i.detailedError=null,i._errorHandler=function(){i._elem.removeEventListener("error",i._errorHandler),i._streams.slice().forEach(function(u){u.destroy(i._elem.error)})},i._elem.addEventListener("error",i._errorHandler),i._elem.src=window.URL.createObjectURL(i._mediaSource)}function g(n,t){var i=this;if(r.Writable.call(i),i._wrapper=n,i._elem=n._elem,i._mediaSource=n._mediaSource,i._allStreams=n._streams,i._allStreams.push(i),i._bufferDuration=n._bufferDuration,i._sourceBuffer=null,i._debugBuffers=[],i._openHandler=function(){i._onSourceOpen()},i._flowHandler=function(){i._flow()},i._errorHandler=function(s){i.destroyed||i.emit("error",s)},"string"==typeof t)i._type=t,"open"===i._mediaSource.readyState?i._createSourceBuffer():i._mediaSource.addEventListener("sourceopen",i._openHandler);else if(null===t._sourceBuffer)t.destroy(),i._type=t._type,i._mediaSource.addEventListener("sourceopen",i._openHandler);else{if(!t._sourceBuffer)throw new Error("The argument to MediaElementWrapper.createWriteStream must be a string or a previous stream returned from that function");t.destroy(),i._type=t._type,i._sourceBuffer=t._sourceBuffer,i._debugBuffers=t._debugBuffers,i._sourceBuffer.addEventListener("updateend",i._flowHandler),i._sourceBuffer.addEventListener("error",i._errorHandler)}i._elem.addEventListener("timeupdate",i._flowHandler),i.on("error",function(s){i._wrapper.error(s)}),i.on("finish",function(){if(!i.destroyed&&(i._finished=!0,i._allStreams.every(function(s){return s._finished}))){i._wrapper._dumpDebugData();try{i._mediaSource.endOfStream()}catch(s){}}})}L.exports=h;var x=v("inherits"),r=v("readable-stream"),c=v("to-arraybuffer"),l="undefined"!=typeof window&&window.MediaSource;h.prototype.createWriteStream=function(n){return new g(this,n)},h.prototype.error=function(n){var t=this;t.detailedError||(t.detailedError=n),t._dumpDebugData();try{t._mediaSource.endOfStream("decode")}catch(i){}try{window.URL.revokeObjectURL(t._elem.src)}catch(i){}},h.prototype._dumpDebugData=function(){var n=this;n._debug&&(n._debug=!1,n._streams.forEach(function(t,i){!function p(n,t){var i=document.createElement("a");i.href=window.URL.createObjectURL(new window.Blob(n)),i.download=t,i.click()}(t._debugBuffers,"mediasource-stream-"+i)}))},x(g,r.Writable),g.prototype._onSourceOpen=function(){var n=this;n.destroyed||(n._mediaSource.removeEventListener("sourceopen",n._openHandler),n._createSourceBuffer())},g.prototype.destroy=function(n){var t=this;t.destroyed||(t.destroyed=!0,t._allStreams.splice(t._allStreams.indexOf(t),1),t._mediaSource.removeEventListener("sourceopen",t._openHandler),t._elem.removeEventListener("timeupdate",t._flowHandler),t._sourceBuffer&&(t._sourceBuffer.removeEventListener("updateend",t._flowHandler),t._sourceBuffer.removeEventListener("error",t._errorHandler),"open"===t._mediaSource.readyState&&t._sourceBuffer.abort()),n&&t.emit("error",n),t.emit("close"))},g.prototype._createSourceBuffer=function(){var n=this;if(!n.destroyed)if(l.isTypeSupported(n._type)){if(n._sourceBuffer=n._mediaSource.addSourceBuffer(n._type),n._sourceBuffer.addEventListener("updateend",n._flowHandler),n._sourceBuffer.addEventListener("error",n._errorHandler),n._cb){var t=n._cb;n._cb=null,t()}}else n.destroy(new Error("The provided type is not supported"))},g.prototype._write=function(n,t,i){var s=this;if(!s.destroyed){if(!s._sourceBuffer)return void(s._cb=function(o){return o?i(o):void s._write(n,t,i)});if(s._sourceBuffer.updating)return i(new Error("Cannot append buffer while source buffer updating"));var u=c(n);s._wrapper._debug&&s._debugBuffers.push(u);try{s._sourceBuffer.appendBuffer(u)}catch(o){return void s.destroy(o)}s._cb=i}},g.prototype._flow=function(){var n=this;if(!n.destroyed&&n._sourceBuffer&&!n._sourceBuffer.updating&&!("open"===n._mediaSource.readyState&&n._getBufferDuration()>n._bufferDuration)&&n._cb){var t=n._cb;n._cb=null,t()}},g.prototype._getBufferDuration=function(){for(var t=this._sourceBuffer.buffered,i=this._elem.currentTime,s=-1,u=0;u<t.length;u++){var o=t.start(u),d=t.end(u)+0;if(o>i)break;(0<=s||i<=d)&&(s=d)}var f=s-i;return 0>f&&(f=0),f}},{inherits:159,"readable-stream":240,"to-arraybuffer":279}],173:[function(v,L){function h(p,x){if(!(this instanceof h))return new h(p,x);if(x||(x={}),this.chunkLength=+p,!this.chunkLength)throw new Error("First argument must be a chunk length");this.chunks=[],this.closed=!1,this.length=+x.length||1/0,this.length!==1/0&&(this.lastChunkLength=this.length%this.chunkLength||this.chunkLength,this.lastChunkIndex=de(this.length/this.chunkLength)-1)}L.exports=h;const g=v("queue-microtask");h.prototype.put=function(p,x,r=(()=>{})){if(this.closed)return g(()=>r(new Error("Storage is closed")));const c=p===this.lastChunkIndex;return c&&x.length!==this.lastChunkLength?g(()=>r(new Error("Last chunk length must be "+this.lastChunkLength))):c||x.length===this.chunkLength?(this.chunks[p]=x,void g(()=>r(null))):g(()=>r(new Error("Chunk length must be "+this.chunkLength)))},h.prototype.get=function(p,x,r=(()=>{})){if("function"==typeof x)return this.get(p,null,x);if(this.closed)return g(()=>r(new Error("Storage is closed")));let c=this.chunks[p];if(!c){const t=new Error("Chunk not found");return t.notFound=!0,g(()=>r(t))}x||(x={});const l=x.offset||0,n=x.length||c.length-l;(0!==l||n!==c.length)&&(c=c.slice(l,n+l)),g(()=>r(null,c))},h.prototype.close=h.prototype.destroy=function(p=(()=>{})){return this.closed?g(()=>p(new Error("Storage is closed"))):(this.closed=!0,this.chunks=null,void g(()=>p(null)))}},{"queue-microtask":218}],174:[function(v,L){function h(x){this.rand=x||new p.Rand}var g=v("bn.js"),p=v("brorand");L.exports=h,h.create=function(x){return new h(x)},h.prototype._randbelow=function(x){var r=x.bitLength(),c=de(r/8);do{var l=new g(this.rand.generate(c))}while(0<=l.cmp(x));return l},h.prototype._randrange=function(x,r){var c=r.sub(x);return x.add(this._randbelow(c))},h.prototype.test=function(x,r,c){var l=x.bitLength(),n=g.mont(x),t=new g(1).toRed(n);r||(r=ce(1,0|l/48));for(var i=x.subn(1),s=0;!i.testn(s);s++);for(var u=x.shrn(s),o=i.toRed(n);0<r;r--){var f=this._randrange(new g(2),i);c&&c(f);var E=f.toRed(n).redPow(u);if(0!==E.cmp(t)&&0!==E.cmp(o)){for(var b=1;b<s;b++){if(0===(E=E.redSqr()).cmp(t))return!1;if(0===E.cmp(o))break}if(b===s)return!1}}return!0},h.prototype.getDivisor=function(x,r){var c=x.bitLength(),l=g.mont(x),n=new g(1).toRed(l);r||(r=ce(1,0|c/48));for(var t=x.subn(1),i=0;!t.testn(i);i++);for(var s=x.shrn(i),u=t.toRed(l);0<r;r--){var o=this._randrange(new g(2),t),d=x.gcd(o);if(0!==d.cmpn(1))return d;var f=o.toRed(l).redPow(s);if(0!==f.cmp(n)&&0!==f.cmp(u)){for(var E=1;E<i;E++){if(0===(f=f.redSqr()).cmp(n))return f.fromRed().subn(1).gcd(x);if(0===f.cmp(u))break}if(E===i)return(f=f.redSqr()).fromRed().subn(1).gcd(x)}}return!1}},{"bn.js":175,brorand:40}],175:[function(v,L,h){arguments[4][22][0].apply(h,arguments)},{buffer:41,dup:22}],176:[function(v,L){"use strict";function h(){this._types=Object.create(null),this._extensions=Object.create(null);for(let g=0;g<arguments.length;g++)this.define(arguments[g]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}h.prototype.define=function(g,p){for(let x in g){let r=g[x].map(function(c){return c.toLowerCase()});x=x.toLowerCase();for(let c=0;c<r.length;c++){const l=r[c];if("*"!==l[0]){if(!p&&l in this._types)throw new Error('Attempt to change mapping for "'+l+'" extension from "'+this._types[l]+'" to "'+x+'". Pass `force=true` to allow this, otherwise remove "'+l+'" from the list of extensions for "'+x+'".');this._types[l]=x}}if(p||!this._extensions[x]){const c=r[0];this._extensions[x]="*"===c[0]?c.substr(1):c}}},h.prototype.getType=function(g){let p=(g+="").replace(/^.*[/\\]/,"").toLowerCase(),x=p.replace(/^.*\./,"").toLowerCase();return(x.length<p.length-1||!(p.length<g.length))&&this._types[x]||null},h.prototype.getExtension=function(g){return(g=/^\s*([^;\s]*)/.test(g)&&RegExp.$1)&&this._extensions[g.toLowerCase()]||null},L.exports=h},{}],177:[function(v,L){"use strict";let h=v("./Mime");L.exports=new h(v("./types/standard"),v("./types/other"))},{"./Mime":176,"./types/other":178,"./types/standard":179}],178:[function(v,L){L.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},{}],179:[function(v,L){L.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/mrb-consumer+xml":["*xdf"],"application/mrb-publish+xml":["*xdf"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["*xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-error+xml":["xer"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},{}],180:[function(v,L){function h(g,p){if(!g)throw new Error(p||"Assertion failed")}L.exports=h,h.equal=function(g,p,x){if(g!=p)throw new Error(x||"Assertion failed: "+g+" != "+p)}},{}],181:[function(v,L,h){"use strict";function g(r){return 1===r.length?"0"+r:r}function p(r){for(var c="",l=0;l<r.length;l++)c+=g(r[l].toString(16));return c}var x=h;x.toArray=function(r,c){if(Array.isArray(r))return r.slice();if(!r)return[];var l=[];if("string"!=typeof r){for(var n=0;n<r.length;n++)l[n]=0|r[n];return l}if("hex"===c)for((r=r.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(r="0"+r),n=0;n<r.length;n+=2)l.push(parseInt(r[n]+r[n+1],16));else for(n=0;n<r.length;n++){var t=r.charCodeAt(n),i=t>>8,s=255&t;i?l.push(i,s):l.push(s)}return l},x.zero2=g,x.toHex=p,x.encode=function(r,c){return"hex"===c?p(r):r}},{}],182:[function(v,L,h){(function(g){(function(){function p(S,R,F){for(var q=R;q<F;q++)S[q]=0}function x(S,R,F){R.writeUInt32BE(Et((S.getTime()+20828448e5)/1e3),F)}function r(S,R,F){R.writeUIntBE(Et((S.getTime()+20828448e5)/1e3),F,6)}function c(S,R,F){R.writeUInt16BE(Et(S)%65536,F),R.writeUInt16BE(Et(256*S*256)%65536,F+2)}function n(S,R,F){S||(S=[0,0,0,0,0,0,0,0,0]);for(var q=0;q<S.length;q++)c(S[q],R,F+4*q)}function i(S){for(var R=Array(S.length/4),F=0;F<R.length;F++)R[F]=o(S,4*F);return R}function s(S,R){return new Date(1e3*S.readUIntBE(R,6)-20828448e5)}function u(S,R){return new Date(1e3*S.readUInt32BE(R)-20828448e5)}function o(S,R){return S.readUInt16BE(R)+S.readUInt16BE(R+2)/65536}function d(S,R){return S[R]+S[R+1]/256}function f(S,R,F){var q;for(q=0;q<F&&0!==S[R+q];q++);return S.toString("utf8",R,R+q)}var E=v("./index"),b=v("./descriptor"),I=v("uint64be");h.fullBoxes={},["mvhd","tkhd","mdhd","vmhd","smhd","stsd","esds","stsz","stco","co64","stss","stts","ctts","stsc","dref","elst","hdlr","mehd","trex","mfhd","tfhd","tfdt","trun"].forEach(function(S){h.fullBoxes[S]=!0}),h.ftyp={},h.ftyp.encode=function(S,R,F){R=R?R.slice(F):g.alloc(h.ftyp.encodingLength(S));var q=S.compatibleBrands||[];R.write(S.brand,0,4,"ascii"),R.writeUInt32BE(S.brandVersion,4);for(var K=0;K<q.length;K++)R.write(q[K],8+4*K,4,"ascii");return h.ftyp.encode.bytes=8+4*q.length,R},h.ftyp.decode=function(S,R){for(var F=(S=S.slice(R)).toString("ascii",0,4),q=S.readUInt32BE(4),K=[],se=8;se<S.length;se+=4)K.push(S.toString("ascii",se,se+4));return{brand:F,brandVersion:q,compatibleBrands:K}},h.ftyp.encodingLength=function(S){return 8+4*(S.compatibleBrands||[]).length},h.mvhd={},h.mvhd.encode=function(S,R,F){return R=R?R.slice(F):g.alloc(96),x(S.ctime||new Date,R,0),x(S.mtime||new Date,R,4),R.writeUInt32BE(S.timeScale||0,8),R.writeUInt32BE(S.duration||0,12),c(S.preferredRate||0,R,16),function l(S,R,F){R[F]=Et(S)%256,R[F+1]=Et(256*S)%256}(S.preferredVolume||0,R,20),p(R,22,32),n(S.matrix,R,32),R.writeUInt32BE(S.previewTime||0,68),R.writeUInt32BE(S.previewDuration||0,72),R.writeUInt32BE(S.posterTime||0,76),R.writeUInt32BE(S.selectionTime||0,80),R.writeUInt32BE(S.selectionDuration||0,84),R.writeUInt32BE(S.currentTime||0,88),R.writeUInt32BE(S.nextTrackId||0,92),h.mvhd.encode.bytes=96,R},h.mvhd.decode=function(S,R){return{ctime:u(S=S.slice(R),0),mtime:u(S,4),timeScale:S.readUInt32BE(8),duration:S.readUInt32BE(12),preferredRate:o(S,16),preferredVolume:d(S,20),matrix:i(S.slice(32,68)),previewTime:S.readUInt32BE(68),previewDuration:S.readUInt32BE(72),posterTime:S.readUInt32BE(76),selectionTime:S.readUInt32BE(80),selectionDuration:S.readUInt32BE(84),currentTime:S.readUInt32BE(88),nextTrackId:S.readUInt32BE(92)}},h.mvhd.encodingLength=function(){return 96},h.tkhd={},h.tkhd.encode=function(S,R,F){return R=R?R.slice(F):g.alloc(80),x(S.ctime||new Date,R,0),x(S.mtime||new Date,R,4),R.writeUInt32BE(S.trackId||0,8),p(R,12,16),R.writeUInt32BE(S.duration||0,16),p(R,20,28),R.writeUInt16BE(S.layer||0,28),R.writeUInt16BE(S.alternateGroup||0,30),R.writeUInt16BE(S.volume||0,32),n(S.matrix,R,36),R.writeUInt32BE(S.trackWidth||0,72),R.writeUInt32BE(S.trackHeight||0,76),h.tkhd.encode.bytes=80,R},h.tkhd.decode=function(S,R){return{ctime:u(S=S.slice(R),0),mtime:u(S,4),trackId:S.readUInt32BE(8),duration:S.readUInt32BE(16),layer:S.readUInt16BE(28),alternateGroup:S.readUInt16BE(30),volume:S.readUInt16BE(32),matrix:i(S.slice(36,72)),trackWidth:S.readUInt32BE(72),trackHeight:S.readUInt32BE(76)}},h.tkhd.encodingLength=function(){return 80},h.mdhd={},h.mdhd.encode=function(S,R,F){return 1===S.version?(R=R?R.slice(F):g.alloc(32),r(S.ctime||new Date,R,0),r(S.mtime||new Date,R,8),R.writeUInt32BE(S.timeScale||0,16),R.writeUIntBE(S.duration||0,20,6),R.writeUInt16BE(S.language||0,28),R.writeUInt16BE(S.quality||0,30),h.mdhd.encode.bytes=32,R):(R=R?R.slice(F):g.alloc(20),x(S.ctime||new Date,R,0),x(S.mtime||new Date,R,4),R.writeUInt32BE(S.timeScale||0,8),R.writeUInt32BE(S.duration||0,12),R.writeUInt16BE(S.language||0,16),R.writeUInt16BE(S.quality||0,18),h.mdhd.encode.bytes=20,R)},h.mdhd.decode=function(S,R,F){return S=S.slice(R),F-R!=20?{ctime:s(S,0),mtime:s(S,8),timeScale:S.readUInt32BE(16),duration:S.readUIntBE(20,6),language:S.readUInt16BE(28),quality:S.readUInt16BE(30)}:{ctime:u(S,0),mtime:u(S,4),timeScale:S.readUInt32BE(8),duration:S.readUInt32BE(12),language:S.readUInt16BE(16),quality:S.readUInt16BE(18)}},h.mdhd.encodingLength=function(S){return 1===S.version?32:20},h.vmhd={},h.vmhd.encode=function(S,R,F){(R=R?R.slice(F):g.alloc(8)).writeUInt16BE(S.graphicsMode||0,0);var q=S.opcolor||[0,0,0];return R.writeUInt16BE(q[0],2),R.writeUInt16BE(q[1],4),R.writeUInt16BE(q[2],6),h.vmhd.encode.bytes=8,R},h.vmhd.decode=function(S,R){return{graphicsMode:(S=S.slice(R)).readUInt16BE(0),opcolor:[S.readUInt16BE(2),S.readUInt16BE(4),S.readUInt16BE(6)]}},h.vmhd.encodingLength=function(){return 8},h.smhd={},h.smhd.encode=function(S,R,F){return(R=R?R.slice(F):g.alloc(4)).writeUInt16BE(S.balance||0,0),p(R,2,4),h.smhd.encode.bytes=4,R},h.smhd.decode=function(S,R){return{balance:(S=S.slice(R)).readUInt16BE(0)}},h.smhd.encodingLength=function(){return 4},h.stsd={},h.stsd.encode=function(S,R,F){R=R?R.slice(F):g.alloc(h.stsd.encodingLength(S));var q=S.entries||[];R.writeUInt32BE(q.length,0);for(var K=4,se=0;se<q.length;se++)E.encode(q[se],R,K),K+=E.encode.bytes;return h.stsd.encode.bytes=K,R},h.stsd.decode=function(S,R,F){for(var we,q=(S=S.slice(R)).readUInt32BE(0),K=Array(q),se=4,xe=0;xe<q;xe++)we=E.decode(S,se,F),K[xe]=we,se+=we.length;return{entries:K}},h.stsd.encodingLength=function(S){var R=4;if(!S.entries)return R;for(var F=0;F<S.entries.length;F++)R+=E.encodingLength(S.entries[F]);return R},h.avc1=h.VisualSampleEntry={},h.VisualSampleEntry.encode=function(S,R,F){p(R=R?R.slice(F):g.alloc(h.VisualSampleEntry.encodingLength(S)),0,6),R.writeUInt16BE(S.dataReferenceIndex||0,6),p(R,8,24),R.writeUInt16BE(S.width||0,24),R.writeUInt16BE(S.height||0,26),R.writeUInt32BE(S.hResolution||4718592,28),R.writeUInt32BE(S.vResolution||4718592,32),p(R,36,40),R.writeUInt16BE(S.frameCount||1,40);var q=S.compressorName||"",K=ne(q.length,31);R.writeUInt8(K,42),R.write(q,43,K,"utf8"),R.writeUInt16BE(S.depth||24,74),R.writeInt16BE(-1,76);var se=78;(S.children||[]).forEach(function(we){E.encode(we,R,se),se+=E.encode.bytes}),h.VisualSampleEntry.encode.bytes=se},h.VisualSampleEntry.decode=function(S,R,F){S=S.slice(R);for(var q=F-R,K=ne(S.readUInt8(42),31),se={dataReferenceIndex:S.readUInt16BE(6),width:S.readUInt16BE(24),height:S.readUInt16BE(26),hResolution:S.readUInt32BE(28),vResolution:S.readUInt32BE(32),frameCount:S.readUInt16BE(40),compressorName:S.toString("utf8",43,43+K),depth:S.readUInt16BE(74),children:[]},xe=78;8<=q-xe;){var we=E.decode(S,xe,q);se.children.push(we),se[we.type]=we,xe+=we.length}return se},h.VisualSampleEntry.encodingLength=function(S){var R=78;return(S.children||[]).forEach(function(q){R+=E.encodingLength(q)}),R},h.avcC={},h.avcC.encode=function(S,R,F){R=R?R.slice(F):g.alloc(S.buffer.length),S.buffer.copy(R),h.avcC.encode.bytes=S.buffer.length},h.avcC.decode=function(S,R,F){return{mimeCodec:(S=S.slice(R,F)).toString("hex",1,4),buffer:g.from(S)}},h.avcC.encodingLength=function(S){return S.buffer.length},h.mp4a=h.AudioSampleEntry={},h.AudioSampleEntry.encode=function(S,R,F){p(R=R?R.slice(F):g.alloc(h.AudioSampleEntry.encodingLength(S)),0,6),R.writeUInt16BE(S.dataReferenceIndex||0,6),p(R,8,16),R.writeUInt16BE(S.channelCount||2,16),R.writeUInt16BE(S.sampleSize||16,18),p(R,20,24),R.writeUInt32BE(S.sampleRate||0,24);var q=28;(S.children||[]).forEach(function(se){E.encode(se,R,q),q+=E.encode.bytes}),h.AudioSampleEntry.encode.bytes=q},h.AudioSampleEntry.decode=function(S,R,F){for(var q=F-R,K={dataReferenceIndex:(S=S.slice(R,F)).readUInt16BE(6),channelCount:S.readUInt16BE(16),sampleSize:S.readUInt16BE(18),sampleRate:S.readUInt32BE(24),children:[]},se=28;8<=q-se;){var xe=E.decode(S,se,q);K.children.push(xe),K[xe.type]=xe,se+=xe.length}return K},h.AudioSampleEntry.encodingLength=function(S){var R=28;return(S.children||[]).forEach(function(q){R+=E.encodingLength(q)}),R},h.esds={},h.esds.encode=function(S,R,F){R=R?R.slice(F):g.alloc(S.buffer.length),S.buffer.copy(R,0),h.esds.encode.bytes=S.buffer.length},h.esds.decode=function(S,R,F){S=S.slice(R,F);var q=b.Descriptor.decode(S,0,S.length),se=("ESDescriptor"===q.tagName?q:{}).DecoderConfigDescriptor||{},xe=se.oti||0,we=se.DecoderSpecificInfo,A=we?(248&we.buffer.readUInt8(0))>>3:0,P=null;return xe&&(P=xe.toString(16),A&&(P+="."+A)),{mimeCodec:P,buffer:g.from(S.slice(0))}},h.esds.encodingLength=function(S){return S.buffer.length},h.stsz={},h.stsz.encode=function(S,R,F){var q=S.entries||[];(R=R?R.slice(F):g.alloc(h.stsz.encodingLength(S))).writeUInt32BE(0,0),R.writeUInt32BE(q.length,4);for(var K=0;K<q.length;K++)R.writeUInt32BE(q[K],4*K+8);return h.stsz.encode.bytes=8+4*q.length,R},h.stsz.decode=function(S,R){for(var F=(S=S.slice(R)).readUInt32BE(0),q=S.readUInt32BE(4),K=Array(q),se=0;se<q;se++)K[se]=0===F?S.readUInt32BE(4*se+8):F;return{entries:K}},h.stsz.encodingLength=function(S){return 8+4*S.entries.length},h.stss=h.stco={},h.stco.encode=function(S,R,F){var q=S.entries||[];(R=R?R.slice(F):g.alloc(h.stco.encodingLength(S))).writeUInt32BE(q.length,0);for(var K=0;K<q.length;K++)R.writeUInt32BE(q[K],4*K+4);return h.stco.encode.bytes=4+4*q.length,R},h.stco.decode=function(S,R){for(var F=(S=S.slice(R)).readUInt32BE(0),q=Array(F),K=0;K<F;K++)q[K]=S.readUInt32BE(4*K+4);return{entries:q}},h.stco.encodingLength=function(S){return 4+4*S.entries.length},h.co64={},h.co64.encode=function(S,R,F){var q=S.entries||[];(R=R?R.slice(F):g.alloc(h.co64.encodingLength(S))).writeUInt32BE(q.length,0);for(var K=0;K<q.length;K++)I.encode(q[K],R,8*K+4);return h.co64.encode.bytes=4+8*q.length,R},h.co64.decode=function(S,R){for(var F=(S=S.slice(R)).readUInt32BE(0),q=Array(F),K=0;K<F;K++)q[K]=I.decode(S,8*K+4);return{entries:q}},h.co64.encodingLength=function(S){return 4+8*S.entries.length},h.stts={},h.stts.encode=function(S,R,F){var q=S.entries||[];(R=R?R.slice(F):g.alloc(h.stts.encodingLength(S))).writeUInt32BE(q.length,0);for(var se,K=0;K<q.length;K++)R.writeUInt32BE(q[K].count||0,se=8*K+4),R.writeUInt32BE(q[K].duration||0,se+4);return h.stts.encode.bytes=4+8*S.entries.length,R},h.stts.decode=function(S,R){for(var se,F=(S=S.slice(R)).readUInt32BE(0),q=Array(F),K=0;K<F;K++)q[K]={count:S.readUInt32BE(se=8*K+4),duration:S.readUInt32BE(se+4)};return{entries:q}},h.stts.encodingLength=function(S){return 4+8*S.entries.length},h.ctts={},h.ctts.encode=function(S,R,F){var q=S.entries||[];(R=R?R.slice(F):g.alloc(h.ctts.encodingLength(S))).writeUInt32BE(q.length,0);for(var se,K=0;K<q.length;K++)R.writeUInt32BE(q[K].count||0,se=8*K+4),R.writeUInt32BE(q[K].compositionOffset||0,se+4);return h.ctts.encode.bytes=4+8*q.length,R},h.ctts.decode=function(S,R){for(var se,F=(S=S.slice(R)).readUInt32BE(0),q=Array(F),K=0;K<F;K++)q[K]={count:S.readUInt32BE(se=8*K+4),compositionOffset:S.readInt32BE(se+4)};return{entries:q}},h.ctts.encodingLength=function(S){return 4+8*S.entries.length},h.stsc={},h.stsc.encode=function(S,R,F){var q=S.entries||[];(R=R?R.slice(F):g.alloc(h.stsc.encodingLength(S))).writeUInt32BE(q.length,0);for(var se,K=0;K<q.length;K++)R.writeUInt32BE(q[K].firstChunk||0,se=12*K+4),R.writeUInt32BE(q[K].samplesPerChunk||0,se+4),R.writeUInt32BE(q[K].sampleDescriptionId||0,se+8);return h.stsc.encode.bytes=4+12*q.length,R},h.stsc.decode=function(S,R){for(var se,F=(S=S.slice(R)).readUInt32BE(0),q=Array(F),K=0;K<F;K++)q[K]={firstChunk:S.readUInt32BE(se=12*K+4),samplesPerChunk:S.readUInt32BE(se+4),sampleDescriptionId:S.readUInt32BE(se+8)};return{entries:q}},h.stsc.encodingLength=function(S){return 4+12*S.entries.length},h.dref={},h.dref.encode=function(S,R,F){R=R?R.slice(F):g.alloc(h.dref.encodingLength(S));var q=S.entries||[];R.writeUInt32BE(q.length,0);for(var K=4,se=0;se<q.length;se++){var xe=q[se];R.writeUInt32BE((xe.buf?xe.buf.length:0)+4+4,K),R.write(xe.type,K+=4,4,"ascii"),K+=4,xe.buf&&(xe.buf.copy(R,K),K+=xe.buf.length)}return h.dref.encode.bytes=K,R},h.dref.decode=function(S,R){for(var F=(S=S.slice(R)).readUInt32BE(0),q=Array(F),K=4,se=0;se<F;se++){var xe=S.readUInt32BE(K),we=S.toString("ascii",K+4,K+8),A=S.slice(K+8,K+xe);K+=xe,q[se]={type:we,buf:A}}return{entries:q}},h.dref.encodingLength=function(S){var R=4;if(!S.entries)return R;for(var q,F=0;F<S.entries.length;F++)R+=((q=S.entries[F].buf)?q.length:0)+4+4;return R},h.elst={},h.elst.encode=function(S,R,F){var q=S.entries||[];(R=R?R.slice(F):g.alloc(h.elst.encodingLength(S))).writeUInt32BE(q.length,0);for(var se,K=0;K<q.length;K++)R.writeUInt32BE(q[K].trackDuration||0,se=12*K+4),R.writeUInt32BE(q[K].mediaTime||0,se+4),c(q[K].mediaRate||0,R,se+8);return h.elst.encode.bytes=4+12*q.length,R},h.elst.decode=function(S,R){for(var se,F=(S=S.slice(R)).readUInt32BE(0),q=Array(F),K=0;K<F;K++)q[K]={trackDuration:S.readUInt32BE(se=12*K+4),mediaTime:S.readInt32BE(se+4),mediaRate:o(S,se+8)};return{entries:q}},h.elst.encodingLength=function(S){return 4+12*S.entries.length},h.hdlr={},h.hdlr.encode=function(S,R,F){R=R?R.slice(F):g.alloc(h.hdlr.encodingLength(S));var q=21+(S.name||"").length;return R.fill(0,0,q),R.write(S.handlerType||"",4,4,"ascii"),function t(S,R,F){var q=g.from(S,"utf8");q.copy(R,F),R[F+q.length]=0}(S.name||"",R,20),h.hdlr.encode.bytes=q,R},h.hdlr.decode=function(S,R,F){return{handlerType:(S=S.slice(R)).toString("ascii",4,8),name:f(S,20,F)}},h.hdlr.encodingLength=function(S){return 21+(S.name||"").length},h.mehd={},h.mehd.encode=function(S,R,F){return(R=R?R.slice(F):g.alloc(4)).writeUInt32BE(S.fragmentDuration||0,0),h.mehd.encode.bytes=4,R},h.mehd.decode=function(S,R){return{fragmentDuration:(S=S.slice(R)).readUInt32BE(0)}},h.mehd.encodingLength=function(){return 4},h.trex={},h.trex.encode=function(S,R,F){return(R=R?R.slice(F):g.alloc(20)).writeUInt32BE(S.trackId||0,0),R.writeUInt32BE(S.defaultSampleDescriptionIndex||0,4),R.writeUInt32BE(S.defaultSampleDuration||0,8),R.writeUInt32BE(S.defaultSampleSize||0,12),R.writeUInt32BE(S.defaultSampleFlags||0,16),h.trex.encode.bytes=20,R},h.trex.decode=function(S,R){return{trackId:(S=S.slice(R)).readUInt32BE(0),defaultSampleDescriptionIndex:S.readUInt32BE(4),defaultSampleDuration:S.readUInt32BE(8),defaultSampleSize:S.readUInt32BE(12),defaultSampleFlags:S.readUInt32BE(16)}},h.trex.encodingLength=function(){return 20},h.mfhd={},h.mfhd.encode=function(S,R,F){return(R=R?R.slice(F):g.alloc(4)).writeUInt32BE(S.sequenceNumber||0,0),h.mfhd.encode.bytes=4,R},h.mfhd.decode=function(S){return{sequenceNumber:S.readUInt32BE(0)}},h.mfhd.encodingLength=function(){return 4},h.tfhd={},h.tfhd.encode=function(S,R,F){return(R=R?R.slice(F):g.alloc(4)).writeUInt32BE(S.trackId,0),h.tfhd.encode.bytes=4,R},h.tfhd.decode=function(){},h.tfhd.encodingLength=function(){return 4},h.tfdt={},h.tfdt.encode=function(S,R,F){return(R=R?R.slice(F):g.alloc(4)).writeUInt32BE(S.baseMediaDecodeTime||0,0),h.tfdt.encode.bytes=4,R},h.tfdt.decode=function(){},h.tfdt.encodingLength=function(){return 4},h.trun={},h.trun.encode=function(S,R,F){(R=R?R.slice(F):g.alloc(8+16*S.entries.length)).writeUInt32BE(S.entries.length,0),R.writeInt32BE(S.dataOffset,4);for(var se,q=8,K=0;K<S.entries.length;K++)R.writeUInt32BE((se=S.entries[K]).sampleDuration,q),R.writeUInt32BE(se.sampleSize,q+=4),R.writeUInt32BE(se.sampleFlags,q+=4),q+=4,0===(S.version||0)?R.writeUInt32BE(se.sampleCompositionTimeOffset,q):R.writeInt32BE(se.sampleCompositionTimeOffset,q),q+=4;h.trun.encode.bytes=q},h.trun.decode=function(){},h.trun.encodingLength=function(S){return 8+16*S.entries.length},h.mdat={},h.mdat.encode=function(S,R,F){S.buffer?(S.buffer.copy(R,F),h.mdat.encode.bytes=S.buffer.length):h.mdat.encode.bytes=h.mdat.encodingLength(S)},h.mdat.decode=function(S,R,F){return{buffer:g.from(S.slice(R,F))}},h.mdat.encodingLength=function(S){return S.buffer?S.buffer.length:S.contentLength}}).call(this)}).call(this,v("buffer").Buffer)},{"./descriptor":183,"./index":184,buffer:69,uint64be:283}],183:[function(v,L,h){(function(g){(function(){var p={3:"ESDescriptor",4:"DecoderConfigDescriptor",5:"DecoderSpecificInfo",6:"SLConfigDescriptor"};h.Descriptor={},h.Descriptor.decode=function(x,r,c){var i,l=x.readUInt8(r),n=r+1,t=0;do{t=t<<7|127&(i=x.readUInt8(n++))}while(128&i);var u,s=p[l];return(u=h[s]?h[s].decode(x,n,c):{buffer:g.from(x.slice(n,n+t))}).tag=l,u.tagName=s,u.length=n-r+t,u.contentsLen=t,u},h.DescriptorArray={},h.DescriptorArray.decode=function(x,r,c){for(var l=r,n={};l+2<=c;){var t=h.Descriptor.decode(x,l,c);l+=t.length,n[p[t.tag]||"Descriptor"+t.tag]=t}return n},h.ESDescriptor={},h.ESDescriptor.decode=function(x,r,c){var l=x.readUInt8(r+2),n=r+3;return 128&l&&(n+=2),64&l&&(n+=x.readUInt8(n)+1),32&l&&(n+=2),h.DescriptorArray.decode(x,n,c)},h.DecoderConfigDescriptor={},h.DecoderConfigDescriptor.decode=function(x,r,c){var l=x.readUInt8(r),n=h.DescriptorArray.decode(x,r+13,c);return n.oti=l,n}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],184:[function(v,L,h){(function(g){(function(){var p=v("uint64be"),x=v("./boxes"),r=4294967295,c=h,l=h.containers={moov:["mvhd","meta","traks","mvex"],trak:["tkhd","tref","trgr","edts","meta","mdia","udta"],edts:["elst"],mdia:["mdhd","hdlr","elng","minf"],minf:["vmhd","smhd","hmhd","sthd","nmhd","dinf","stbl"],dinf:["dref"],stbl:["stsd","stts","ctts","cslg","stsc","stsz","stz2","stco","co64","stss","stsh","padb","stdp","sdtp","sbgps","sgpds","subss","saizs","saios"],mvex:["mehd","trexs","leva"],moof:["mfhd","meta","trafs"],traf:["tfhd","tfdt","trun","sbgps","sgpds","subss","saizs","saios","meta"]};c.encode=function(n,t,i){return c.encodingLength(n),i=i||0,t=t||g.alloc(n.length),c._encode(n,t,i)},c._encode=function(n,t,i){var s=n.type,u=n.length;u>r&&(u=1),t.writeUInt32BE(u,i),t.write(n.type,i+4,4,"ascii");var o=i+8;if(1===u&&(p.encode(n.length,t,o),o+=8),x.fullBoxes[s]&&(t.writeUInt32BE(n.flags||0,o),t.writeUInt8(n.version||0,o),o+=4),l[s])l[s].forEach(function(b){if(5===b.length){var I=n[b]||[];b=b.substr(0,4),I.forEach(function(S){c._encode(S,t,o),o+=c.encode.bytes})}else n[b]&&(c._encode(n[b],t,o),o+=c.encode.bytes)}),n.otherBoxes&&n.otherBoxes.forEach(function(b){c._encode(b,t,o),o+=c.encode.bytes});else if(x[s]){var f=x[s].encode;f(n,t,o),o+=f.bytes}else{if(!n.buffer)throw new Error("Either `type` must be set to a known type (not'"+s+"') or `buffer` must be set");n.buffer.copy(t,o),o+=n.buffer.length}return c.encode.bytes=o-i,t},c.readHeaders=function(n,t,i){if(8>(i=i||n.length)-(t=t||0))return 8;var d,f,s=n.readUInt32BE(t),u=n.toString("ascii",t+4,t+8),o=t+8;if(1===s){if(16>i-t)return 16;s=p.decode(n,o),o+=8}return x.fullBoxes[u]&&(d=n.readUInt8(o),f=16777215&n.readUInt32BE(o),o+=4),{length:s,headersLen:o-t,contentLen:s-(o-t),type:u,version:d,flags:f}},c.decode=function(n,t,i){var s=c.readHeaders(n,t=t||0,i=i||n.length);if(!s||s.length>i-t)throw new Error("Data too short");return c.decodeWithoutHeaders(s,n,t+s.headersLen,t+s.length)},c.decodeWithoutHeaders=function(n,t,i,s){i=i||0,s=s||t.length;var u=n.type,o={};if(l[u]){o.otherBoxes=[];for(var E,d=l[u],f=i;8<=s-f;)if(f+=(E=c.decode(t,f,s)).length,0<=d.indexOf(E.type))o[E.type]=E;else if(0<=d.indexOf(E.type+"s")){var b=E.type+"s";(o[b]=o[b]||[]).push(E)}else o.otherBoxes.push(E)}else x[u]?o=(0,x[u].decode)(t,i,s):o.buffer=g.from(t.slice(i,s));return o.length=n.length,o.contentLen=n.contentLen,o.type=n.type,o.version=n.version,o.flags=n.flags,o},c.encodingLength=function(n){var t=n.type,i=8;if(x.fullBoxes[t]&&(i+=4),l[t])l[t].forEach(function(u){if(5===u.length){var o=n[u]||[];u=u.substr(0,4),o.forEach(function(f){f.type=u,i+=c.encodingLength(f)})}else if(n[u]){var d=n[u];d.type=u,i+=c.encodingLength(d)}}),n.otherBoxes&&n.otherBoxes.forEach(function(u){i+=c.encodingLength(u)});else if(x[t])i+=x[t].encodingLength(n);else{if(!n.buffer)throw new Error("Either `type` must be set to a known type (not'"+t+"') or `buffer` must be set");i+=n.buffer.length}return i>r&&(i+=8),n.length=i,i}}).call(this)}).call(this,v("buffer").Buffer)},{"./boxes":182,buffer:69,uint64be:283}],185:[function(v,L){(function(h){(function(){var g=v("readable-stream"),p=v("next-event"),x=v("mp4-box-encoding"),r=h.alloc(0);class l extends g.PassThrough{constructor(t){super(),this._parent=t,this.destroyed=!1}destroy(t){this.destroyed||(this.destroyed=!0,this._parent.destroy(t),t&&this.emit("error",t),this.emit("close"))}}L.exports=class c extends g.Writable{constructor(t){super(t),this.destroyed=!1,this._pending=0,this._missing=0,this._ignoreEmpty=!1,this._buf=null,this._str=null,this._cb=null,this._ondrain=null,this._writeBuffer=null,this._writeCb=null,this._ondrain=null,this._kick()}destroy(t){this.destroyed||(this.destroyed=!0,t&&this.emit("error",t),this.emit("close"))}_write(t,i,s){if(!this.destroyed){for(var u=!this._str||!this._str._writableState.needDrain;t.length&&!this.destroyed;){if(!this._missing&&!this._ignoreEmpty)return this._writeBuffer=t,void(this._writeCb=s);var o=t.length<this._missing?t.length:this._missing;if(this._buf?t.copy(this._buf,this._buf.length-this._missing):this._str&&(u=this._str.write(o===t.length?t:t.slice(0,o))),this._missing-=o,!this._missing){var d=this._buf,f=this._cb,E=this._str;this._buf=this._cb=this._str=this._ondrain=null,u=!0,this._ignoreEmpty=!1,E&&E.end(),f&&f(d)}t=o===t.length?r:t.slice(o)}return this._pending&&!this._missing?(this._writeBuffer=t,void(this._writeCb=s)):void(u?s():this._ondrain(s))}}_buffer(t,i){this._missing=t,this._buf=h.alloc(t),this._cb=i}_stream(t,i){return this._missing=t,this._str=new l(this),this._ondrain=p(this._str,"drain"),this._pending++,this._str.on("end",()=>{this._pending--,this._kick()}),this._cb=i,this._str}_readBox(){const t=(i,s)=>{this._buffer(i,u=>{s=s?h.concat([s,u]):u;var o=x.readHeaders(s);"number"==typeof o?t(o-s.length,s):(this._pending++,this._headers=o,this.emit("box",o))})};t(8)}stream(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var t=this._headers;return this._headers=null,this._stream(t.contentLen,()=>{this._pending--,this._kick()})}decode(t){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var i=this._headers;this._headers=null,this._buffer(i.contentLen,s=>{var u=x.decodeWithoutHeaders(i,s);t(u),this._pending--,this._kick()})}ignore(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var t=this._headers;this._headers=null,this._missing=t.contentLen,0===this._missing&&(this._ignoreEmpty=!0),this._cb=()=>{this._pending--,this._kick()}}_kick(){if(!this._pending&&(this._buf||this._str||this._readBox(),this._writeBuffer)){var t=this._writeCb,i=this._writeBuffer;this._writeBuffer=null,this._writeCb=null,this._write(i,null,t)}}}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,"mp4-box-encoding":184,"next-event":190,"readable-stream":240}],186:[function(v,L){(function(h){(function(){function g(){}var p=v("readable-stream"),x=v("mp4-box-encoding"),r=v("queue-microtask");class l extends p.PassThrough{constructor(t){super(),this._parent=t,this.destroyed=!1}destroy(t){this.destroyed||(this.destroyed=!0,this._parent.destroy(t),t&&this.emit("error",t),this.emit("close"))}}L.exports=class c extends p.Readable{constructor(t){super(t),this.destroyed=!1,this._finalized=!1,this._reading=!1,this._stream=null,this._drain=null,this._want=!1,this._onreadable=()=>{this._want&&(this._want=!1,this._read())},this._onend=()=>{this._stream=null}}mdat(t,i){this.mediaData(t,i)}mediaData(t,i){var s=new l(this);return this.box({type:"mdat",contentLength:t,encodeBufferLen:8,stream:s},i),s}box(t,i){if(i||(i=g),this.destroyed)return i(new Error("Encoder is destroyed"));var s;if(t.encodeBufferLen&&(s=h.alloc(t.encodeBufferLen)),t.stream)t.buffer=null,s=x.encode(t,s),this.push(s),this._stream=t.stream,this._stream.on("readable",this._onreadable),this._stream.on("end",this._onend),this._stream.on("end",i),this._forward();else{if(s=x.encode(t,s),this.push(s))return r(i);this._drain=i}}destroy(t){if(!this.destroyed){if(this.destroyed=!0,this._stream&&this._stream.destroy&&this._stream.destroy(),this._stream=null,this._drain){var i=this._drain;this._drain=null,i(t)}t&&this.emit("error",t),this.emit("close")}}finalize(){this._finalized=!0,this._stream||this._drain||this.push(null)}_forward(){if(this._stream)for(;!this.destroyed;){var t=this._stream.read();if(!t)return void(this._want=!!this._stream);if(!this.push(t))return}}_read(){if(!this._reading&&!this.destroyed){if(this._reading=!0,this._stream&&this._forward(),this._drain){var t=this._drain;this._drain=null,t()}this._reading=!1,this._finalized&&this.push(null)}}}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,"mp4-box-encoding":184,"queue-microtask":218,"readable-stream":240}],187:[function(v,L,h){const g=v("./decode"),p=v("./encode");h.decode=x=>new g(x),h.encode=x=>new p(x)},{"./decode":185,"./encode":186}],188:[function(v,L){function x(c,l,n,t){return kt(c/n)+" "+t+(l>=1.5*n?"s":"")}L.exports=function(c,l){l=l||{};var n=typeof c;if("string"==n&&0<c.length)return function h(c){if(!(100<(c+="").length)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(l){var n=parseFloat(l[1]),t=(l[2]||"ms").toLowerCase();return"years"===t||"year"===t||"yrs"===t||"yr"===t||"y"===t?315576e5*n:"weeks"===t||"week"===t||"w"===t?6048e5*n:"days"===t||"day"===t||"d"===t?864e5*n:"hours"===t||"hour"===t||"hrs"===t||"hr"===t||"h"===t?36e5*n:"minutes"===t||"minute"===t||"mins"===t||"min"===t||"m"===t?6e4*n:"seconds"===t||"second"===t||"secs"===t||"sec"===t||"s"===t?1e3*n:"milliseconds"===t||"millisecond"===t||"msecs"===t||"msec"===t||"ms"===t?n:void 0}}}(c);if("number"===n&&isFinite(c))return l.long?function p(c){var l=At(c);return 864e5<=l?x(c,l,864e5,"day"):36e5<=l?x(c,l,36e5,"hour"):6e4<=l?x(c,l,6e4,"minute"):1e3<=l?x(c,l,1e3,"second"):c+" ms"}(c):function g(c){var l=At(c);return 864e5<=l?kt(c/864e5)+"d":36e5<=l?kt(c/36e5)+"h":6e4<=l?kt(c/6e4)+"m":1e3<=l?kt(c/1e3)+"s":c+"ms"}(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))}},{}],189:[function(v,L){function h(n){return p(n,{objectMode:!0,highWaterMark:16})}function g(n){return p(n)}function p(n,t){if(!n||"function"==typeof n||n._readableState)return n;const i=new r.Readable(t).wrap(n);return n.destroy&&(i.destroy=n.destroy.bind(n)),i}const r=v("readable-stream"),c=v("once");class l extends r.Readable{constructor(t,i){super({...i,autoDestroy:!0}),this._drained=!1,this._forwarding=!1,this._current=null,this._toStreams2=i&&i.objectMode?h:g,"function"==typeof t?this._queue=t:(this._queue=t.map(this._toStreams2),this._queue.forEach(s=>{"function"!=typeof s&&this._attachErrorListener(s)})),this._next()}_read(){this._drained=!0,this._forward()}_forward(){if(!this._forwarding&&this._drained&&this._current){this._forwarding=!0;for(let t;this._drained&&null!==(t=this._current.read());)this._drained=this.push(t);this._forwarding=!1}}_destroy(t,i){let s=[];if(this._current&&s.push(this._current),"function"!=typeof this._queue&&(s=s.concat(this._queue)),0===s.length)i(t);else{let u=s.length,o=t;s.forEach(d=>{!function x(n,t,i){if(!n.destroy||n.destroyed)i(t);else{const s=c(u=>i(u||t));n.on("error",s).on("close",()=>s()).destroy(t,s)}}(d,t,f=>{o=o||f,0==--u&&i(o)})})}}_next(){if(this._current=null,"function"==typeof this._queue)this._queue((t,i)=>t?this.destroy(t):(i=this._toStreams2(i),this._attachErrorListener(i),void this._gotNextStream(i)));else{let t=this._queue.shift();"function"==typeof t&&(t=this._toStreams2(t()),this._attachErrorListener(t)),this._gotNextStream(t)}}_gotNextStream(t){if(!t)return void this.push(null);this._current=t,this._forward();const i=()=>{this._forward()},s=()=>{if(!t._readableState.ended&&!t.destroyed){const o=new Error("ERR_STREAM_PREMATURE_CLOSE");o.code="ERR_STREAM_PREMATURE_CLOSE",this.destroy(o)}},u=()=>{this._current=null,t.removeListener("readable",i),t.removeListener("end",u),t.removeListener("close",s),t.destroy(),this._next()};t.on("readable",i),t.once("end",u),t.once("close",s)}_attachErrorListener(t){if(!t)return;const i=s=>{t.removeListener("error",i),this.destroy(s)};t.once("error",i)}}l.obj=n=>new l(n,{objectMode:!0,highWaterMark:16}),L.exports=l},{once:191,"readable-stream":240}],190:[function(v,L){L.exports=function(h,g){var p=null;return h.on(g,function(x){if(p){var r=p;p=null,r(x)}}),function(x){p=x}}},{}],191:[function(v,L){function h(x){var r=function(){return r.called?r.value:(r.called=!0,r.value=x.apply(this,arguments))};return r.called=!1,r}function g(x){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=x.apply(this,arguments)};return r.onceError=(x.name||"Function wrapped with `once`")+" shouldn't be called more than once",r.called=!1,r}var p=v("wrappy");L.exports=p(h),L.exports.strict=p(g),h.proto=h(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return h(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return g(this)},configurable:!0})})},{wrappy:291}],192:[function(v,L){L.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],193:[function(v,L,h){"use strict";var g=v("asn1.js");h.certificate=v("./certificate");var p=g.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});h.RSAPrivateKey=p;var x=g.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});h.RSAPublicKey=x;var r=g.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())});h.PublicKey=r;var c=g.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),l=g.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(c),this.key("subjectPrivateKey").octstr())});h.PrivateKey=l;var n=g.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});h.EncryptedPrivateKey=n;var t=g.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});h.DSAPrivateKey=t,h.DSAparam=g.define("DSAparam",function(){this.int()});var i=g.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(s),this.key("publicKey").optional().explicit(1).bitstr())});h.ECPrivateKey=i;var s=g.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});h.signature=g.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":194,"asn1.js":8}],194:[function(v,L){"use strict";var h=v("asn1.js"),g=h.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),p=h.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),x=h.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),r=h.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(x),this.key("subjectPublicKey").bitstr())}),c=h.define("RelativeDistinguishedName",function(){this.setof(p)}),l=h.define("RDNSequence",function(){this.seqof(c)}),n=h.define("Name",function(){this.choice({rdnSequence:this.use(l)})}),t=h.define("Validity",function(){this.seq().obj(this.key("notBefore").use(g),this.key("notAfter").use(g))}),i=h.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),s=h.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(x),this.key("issuer").use(n),this.key("validity").use(t),this.key("subject").use(n),this.key("subjectPublicKeyInfo").use(r),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(i).optional())}),u=h.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(s),this.key("signatureAlgorithm").use(x),this.key("signatureValue").bitstr())});L.exports=u},{"asn1.js":8}],195:[function(v,L){var h=v("evp_bytestokey"),g=v("browserify-aes"),p=v("safe-buffer").Buffer;L.exports=function(x,r){var n,c=x.toString(),l=c.match(/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m);if(l){var i="aes"+l[1],s=p.from(l[2],"hex"),u=p.from(l[3].replace(/[\r\n]/g,""),"base64"),o=h(r,s.slice(0,8),parseInt(l[1],10)).key,d=[],f=g.createDecipheriv(i,o,s);d.push(f.update(u)),d.push(f.final()),n=p.concat(d)}else{var t=c.match(/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m);n=p.from(t[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m)[1],data:n}}},{"browserify-aes":44,evp_bytestokey:137,"safe-buffer":247}],196:[function(v,L){function h(t){var i;"object"!=typeof t||n.isBuffer(t)||(i=t.passphrase,t=t.key),"string"==typeof t&&(t=n.from(t));var d,f,s=r(t,i),u=s.tag,o=s.data;switch(u){case"CERTIFICATE":f=p.certificate.decode(o,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(f||(f=p.PublicKey.decode(o,"der")),d=f.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return p.RSAPublicKey.decode(f.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return f.subjectPrivateKey=f.subjectPublicKey,{type:"ec",data:f};case"1.2.840.10040.4.1":return f.algorithm.params.pub_key=p.DSAparam.decode(f.subjectPublicKey.data,"der"),{type:"dsa",data:f.algorithm.params};default:throw new Error("unknown key id "+d)}case"ENCRYPTED PRIVATE KEY":o=function g(t,i){var s=t.algorithm.decrypt.kde.kdeparams.salt,u=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=x[t.algorithm.decrypt.cipher.algo.join(".")],d=t.algorithm.decrypt.cipher.iv,f=t.subjectPrivateKey,E=parseInt(o.split("-")[1],10)/8,b=l.pbkdf2Sync(i,s,u,E,"sha1"),I=c.createDecipheriv(o,b,d),S=[];return S.push(I.update(f)),S.push(I.final()),n.concat(S)}(o=p.EncryptedPrivateKey.decode(o,"der"),i);case"PRIVATE KEY":switch(d=(f=p.PrivateKey.decode(o,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return p.RSAPrivateKey.decode(f.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:f.algorithm.curve,privateKey:p.ECPrivateKey.decode(f.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return f.algorithm.params.priv_key=p.DSAparam.decode(f.subjectPrivateKey,"der"),{type:"dsa",params:f.algorithm.params};default:throw new Error("unknown key id "+d)}case"RSA PUBLIC KEY":return p.RSAPublicKey.decode(o,"der");case"RSA PRIVATE KEY":return p.RSAPrivateKey.decode(o,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:p.DSAPrivateKey.decode(o,"der")};case"EC PRIVATE KEY":return{curve:(o=p.ECPrivateKey.decode(o,"der")).parameters.value,privateKey:o.privateKey};default:throw new Error("unknown key type "+u)}}var p=v("./asn1"),x=v("./aesid.json"),r=v("./fixProc"),c=v("browserify-aes"),l=v("pbkdf2"),n=v("safe-buffer").Buffer;L.exports=h,h.signature=p.signature},{"./aesid.json":192,"./asn1":193,"./fixProc":195,"browserify-aes":44,pbkdf2:198,"safe-buffer":247}],197:[function(v,L){(function(h){(function(){function g(b){if("string"==typeof b&&/^(stream-)?magnet:/.test(b)){const I=o(b);if(!I.infoHash)throw new Error("Invalid torrent identifier");return I}if("string"==typeof b&&(/^[a-f0-9]{40}$/i.test(b)||/^[a-z2-7]{32}$/i.test(b)))return o(`magnet:?xt=urn:btih:${b}`);if(h.isBuffer(b)&&20===b.length)return o(`magnet:?xt=urn:btih:${b.toString("hex")}`);if(h.isBuffer(b))return function x(b){h.isBuffer(b)&&(b=t.decode(b)),n(b.info,"info"),n(b.info["name.utf-8"]||b.info.name,"info.name"),n(b.info["piece length"],"info['piece length']"),n(b.info.pieces,"info.pieces"),b.info.files?b.info.files.forEach(F=>{n("number"==typeof F.length,"info.files[0].length"),n(F["path.utf-8"]||F.path,"info.files[0].path")}):n("number"==typeof b.info.length,"info.length");const I={info:b.info,infoBuffer:t.encode(b.info),name:(b.info["name.utf-8"]||b.info.name).toString(),announce:[]};I.infoHash=f.sync(I.infoBuffer),I.infoHashBuffer=h.from(I.infoHash,"hex"),void 0!==b.info.private&&(I.private=!!b.info.private),b["creation date"]&&(I.created=new Date(1e3*b["creation date"])),b["created by"]&&(I.createdBy=b["created by"].toString()),h.isBuffer(b.comment)&&(I.comment=b.comment.toString()),Array.isArray(b["announce-list"])&&0<b["announce-list"].length?b["announce-list"].forEach(F=>{F.forEach(q=>{I.announce.push(q.toString())})}):b.announce&&I.announce.push(b.announce.toString()),h.isBuffer(b["url-list"])&&(b["url-list"]=0<b["url-list"].length?[b["url-list"]]:[]),I.urlList=(b["url-list"]||[]).map(F=>F.toString()),I.announce=Array.from(new Set(I.announce)),I.urlList=Array.from(new Set(I.urlList));const S=b.info.files||[b.info];I.files=S.map((F,q)=>{const K=[].concat(I.name,F["path.utf-8"]||F.path||[]).map(se=>se.toString());return{path:d.join.apply(null,[d.sep].concat(K)).slice(1),name:K[K.length-1],length:F.length,offset:S.slice(0,q).reduce(c,0)}}),I.length=S.reduce(c,0);const R=I.files[I.files.length-1];return I.pieceLength=b.info["piece length"],I.lastPieceLength=(R.offset+R.length)%I.pieceLength||I.pieceLength,I.pieces=function l(b){const I=[];for(let S=0;S<b.length;S+=20)I.push(b.slice(S,S+20).toString("hex"));return I}(b.info.pieces),I}(b);if(b&&b.infoHash)return b.infoHash=b.infoHash.toLowerCase(),b.announce||(b.announce=[]),"string"==typeof b.announce&&(b.announce=[b.announce]),b.urlList||(b.urlList=[]),b;throw new Error("Invalid torrent identifier")}function c(b,I){return b+I.length}function n(b,I){if(!b)throw new Error(`Torrent is missing required field: ${I}`)}const t=v("bencode"),i=v("blob-to-buffer"),s=v("fs"),u=v("simple-get"),o=v("magnet-uri"),d=v("path"),f=v("simple-sha1"),E=v("queue-microtask");L.exports=g,L.exports.remote=function p(b,I,S){function R(q){try{F=g(q)}catch(K){return S(K)}F&&F.infoHash?S(null,F):S(new Error("Invalid torrent identifier"))}if("function"==typeof I)return p(b,{},I);if("function"!=typeof S)throw new Error("second argument must be a Function");let F;try{F=g(b)}catch(q){}F&&F.infoHash?E(()=>{S(null,F)}):function r(b){return"undefined"!=typeof Blob&&b instanceof Blob}(b)?i(b,(q,K)=>q?S(new Error(`Error converting Blob: ${q.message}`)):void R(K)):"function"==typeof u&&/^https?:/.test(b)?(I=Object.assign({url:b,timeout:3e4,headers:{"user-agent":"WebTorrent (https://webtorrent.io)"}},I),u.concat(I,(q,K,se)=>q?S(new Error(`Error downloading torrent: ${q.message}`)):void R(se))):"function"==typeof s.readFile&&"string"==typeof b?s.readFile(b,(q,K)=>q?S(new Error("Invalid torrent identifier")):void R(K)):E(()=>{S(new Error("Invalid torrent identifier"))})},L.exports.toMagnetURI=o.encode,L.exports.toTorrentFile=function(b){const I={info:b.info};return I["announce-list"]=(b.announce||[]).map(S=>(I.announce||(I.announce=S),[S=h.from(S,"utf8")])),I["url-list"]=b.urlList||[],void 0!==b.private&&(I.private=+b.private),b.created&&(I["creation date"]=0|b.created.getTime()/1e3),b.createdBy&&(I["created by"]=b.createdBy),b.comment&&(I.comment=b.comment),t.encode(I)},h.alloc(0)}).call(this)}).call(this,v("buffer").Buffer)},{bencode:27,"blob-to-buffer":37,buffer:69,fs:41,"magnet-uri":170,path:71,"queue-microtask":218,"simple-get":258,"simple-sha1":260}],198:[function(v,L,h){h.pbkdf2=v("./lib/async"),h.pbkdf2Sync=v("./lib/sync")},{"./lib/async":199,"./lib/sync":202}],199:[function(v,L){(function(h){(function(){function p(){return f||(f=h.process&&h.process.nextTick?h.process.nextTick:h.queueMicrotask?h.queueMicrotask:h.setImmediate?h.setImmediate:h.setTimeout)}function x(E,b,I,S,R){return s.importKey("raw",E,{name:"PBKDF2"},!1,["deriveBits"]).then(function(F){return s.deriveBits({name:"PBKDF2",salt:b,iterations:I,hash:{name:R}},F,S<<3)}).then(function(F){return c.from(F)})}var d,f,c=v("safe-buffer").Buffer,l=v("./precondition"),n=v("./default-encoding"),t=v("./sync"),i=v("./to-buffer"),s=h.crypto&&h.crypto.subtle,u={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},o=[];L.exports=function(E,b,I,S,R,F){"function"==typeof R&&(F=R,R=void 0);var q=u[(R=R||"sha1").toLowerCase()];if(q&&"function"==typeof h.Promise){if(l(I,S),E=i(E,n,"Password"),b=i(b,n,"Salt"),"function"!=typeof F)throw new Error("No callback provided to pbkdf2");!function r(E,b){E.then(function(I){p()(function(){b(null,I)})},function(I){p()(function(){b(I)})})}(function g(E){if(h.process&&!h.process.browser||!s||!s.importKey||!s.deriveBits)return Promise.resolve(!1);if(void 0!==o[E])return o[E];var b=x(d=d||c.alloc(8),d,10,128,E).then(function(){return!0}).catch(function(){return!1});return o[E]=b,b}(q).then(function(K){return K?x(E,b,I,S,q):t(E,b,I,S,R)}),F)}else p()(function(){var K;try{K=t(E,b,I,S,R)}catch(se){return F(se)}F(null,K)})}}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"./default-encoding":200,"./precondition":201,"./sync":202,"./to-buffer":203,"safe-buffer":247}],200:[function(v,L){(function(h,g){(function(){var p;p=g.process&&g.process.browser?"utf-8":g.process&&g.process.version?6<=parseInt(h.version.split(".")[0].slice(1),10)?"utf-8":"binary":"utf-8",L.exports=p}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{_process:205}],201:[function(v,L){z(2,30),L.exports=function(h,g){if("number"!=typeof h)throw new TypeError("Iterations not a number");if(0>h)throw new TypeError("Bad iterations");if("number"!=typeof g)throw new TypeError("Key length not a number");if(0>g||1073741823<g||g!=g)throw new TypeError("Bad key length")}},{}],202:[function(v,L){function h(u,o,d){var f=function g(u){return"rmd160"===u||"ripemd160"===u?function(o){return(new x).update(o).digest()}:"md5"===u?p:function(o){return r(u).update(o).digest()}}(u),E="sha512"===u||"sha384"===u?128:64;o.length>E?o=f(o):o.length<E&&(o=c.concat([o,i],E));for(var b=c.allocUnsafe(E+s[u]),I=c.allocUnsafe(E+s[u]),S=0;S<E;S++)b[S]=54^o[S],I[S]=92^o[S];var R=c.allocUnsafe(E+d+4);b.copy(R,0,0,E),this.ipad1=R,this.ipad2=b,this.opad=I,this.alg=u,this.blocksize=E,this.hash=f,this.size=s[u]}var p=v("create-hash/md5"),x=v("ripemd160"),r=v("sha.js"),c=v("safe-buffer").Buffer,l=v("./precondition"),n=v("./default-encoding"),t=v("./to-buffer"),i=c.alloc(128),s={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};h.prototype.run=function(u,o){return u.copy(o,this.blocksize),this.hash(o).copy(this.opad,this.blocksize),this.hash(this.opad)},L.exports=function(u,o,d,f,E){l(d,f);var b=new h(E=E||"sha1",u=t(u,n,"Password"),(o=t(o,n,"Salt")).length),I=c.allocUnsafe(f),S=c.allocUnsafe(o.length+4);o.copy(S,0,0,o.length);for(var R=0,F=s[E],q=de(f/F),K=1;K<=q;K++){S.writeUInt32BE(K,o.length);for(var se=b.run(S,b.ipad1),xe=se,we=1;we<d;we++){xe=b.run(xe,b.ipad2);for(var A=0;A<F;A++)se[A]^=xe[A]}se.copy(I,R),R+=F}return I}},{"./default-encoding":200,"./precondition":201,"./to-buffer":203,"create-hash/md5":100,ripemd160:243,"safe-buffer":247,"sha.js":250}],203:[function(v,L){var h=v("safe-buffer").Buffer;L.exports=function(g,p,x){if(h.isBuffer(g))return g;if("string"==typeof g)return h.from(g,p);if(ArrayBuffer.isView(g))return h.from(g.buffer);throw new TypeError(x+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":247}],204:[function(v,L){L.exports=function(h){return ce(16384,0|1<<Math.log2(1024>h?1:h/1024)+.5)}},{}],205:[function(v,L){function h(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function p(E){if(i===setTimeout)return setTimeout(E,0);if((i===h||!i)&&setTimeout)return i=setTimeout,setTimeout(E,0);try{return i(E,0)}catch(b){try{return i.call(null,E,0)}catch(I){return i.call(this,E,0)}}}function r(){o&&f&&(o=!1,f.length?u=f.concat(u):d=-1,u.length&&c())}function c(){if(!o){var E=p(r);o=!0;for(var b=u.length;b;){for(f=u,u=[];++d<b;)f&&f[d].run();d=-1,b=u.length}f=null,o=!1,function x(E){if(s===clearTimeout)return clearTimeout(E);if((s===g||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(E);try{s(E)}catch(b){try{return s.call(null,E)}catch(I){return s.call(this,E)}}}(E)}}function l(E,b){this.fun=E,this.array=b}function n(){}var i,s,t=L.exports={};!function(){try{i="function"==typeof setTimeout?setTimeout:h}catch(E){i=h}try{s="function"==typeof clearTimeout?clearTimeout:g}catch(E){s=g}}();var f,u=[],o=!1,d=-1;t.nextTick=function(E){var b=Array(arguments.length-1);if(1<arguments.length)for(var I=1;I<arguments.length;I++)b[I-1]=arguments[I];u.push(new l(E,b)),1!==u.length||o||p(c)},l.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=n,t.addListener=n,t.once=n,t.off=n,t.removeListener=n,t.removeAllListeners=n,t.emit=n,t.prependListener=n,t.prependOnceListener=n,t.listeners=function(){return[]},t.binding=function(){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],206:[function(v,L,h){h.publicEncrypt=v("./publicEncrypt"),h.privateDecrypt=v("./privateDecrypt"),h.privateEncrypt=function(g,p){return h.publicEncrypt(g,p,!0)},h.publicDecrypt=function(g,p){return h.privateDecrypt(g,p,!0)}},{"./privateDecrypt":209,"./publicEncrypt":210}],207:[function(v,L){function h(x){var r=p.allocUnsafe(4);return r.writeUInt32BE(x,0),r}var g=v("create-hash"),p=v("safe-buffer").Buffer;L.exports=function(x,r){for(var n,c=p.alloc(0),l=0;c.length<r;)n=h(l++),c=p.concat([c,g("sha1").update(x).update(n).digest()]);return c.slice(0,r)}},{"create-hash":99,"safe-buffer":247}],208:[function(v,L,h){arguments[4][22][0].apply(h,arguments)},{buffer:41,dup:22}],209:[function(v,L){var x=v("parse-asn1"),r=v("./mgf"),c=v("./xor"),l=v("bn.js"),n=v("browserify-rsa"),t=v("create-hash"),i=v("./withPublic"),s=v("safe-buffer").Buffer;L.exports=function(u,o,d){var f=u.padding?u.padding:d?1:4,E=x(u),b=E.modulus.byteLength();if(o.length>b||0<=new l(o).cmp(E.modulus))throw new Error("decryption error");var I=d?i(new l(o),E):n(o,E),S=s.alloc(b-I.length);if(I=s.concat([S,I],b),4===f)return function h(u,o){var d=u.modulus.byteLength(),f=t("sha1").update(s.alloc(0)).digest(),E=f.length;if(0!==o[0])throw new Error("decryption error");var b=o.slice(1,E+1),I=o.slice(E+1),S=c(b,r(I,E)),R=c(I,r(S,d-E-1));if(function p(u,o){u=s.from(u),o=s.from(o);var d=0,f=u.length;u.length!==o.length&&(d++,f=ne(u.length,o.length));for(var E=-1;++E<f;)d+=u[E]^o[E];return d}(f,R.slice(0,E)))throw new Error("decryption error");for(var F=E;0===R[F];)F++;if(1!==R[F++])throw new Error("decryption error");return R.slice(F)}(E,I);if(1===f)return function g(u,o,d){for(var f=o.slice(0,2),E=2,b=0;0!==o[E++];)if(E>=o.length){b++;break}var I=o.slice(2,E-1);if(("0002"!==f.toString("hex")&&!d||"0001"!==f.toString("hex")&&d)&&b++,8>I.length&&b++,b)throw new Error("decryption error");return o.slice(E)}(0,I,d);if(3===f)return I;throw new Error("unknown padding")}},{"./mgf":207,"./withPublic":211,"./xor":212,"bn.js":208,"browserify-rsa":62,"create-hash":99,"parse-asn1":196,"safe-buffer":247}],210:[function(v,L){var x=v("parse-asn1"),r=v("randombytes"),c=v("create-hash"),l=v("./mgf"),n=v("./xor"),t=v("bn.js"),i=v("./withPublic"),s=v("browserify-rsa"),u=v("safe-buffer").Buffer;L.exports=function(o,d,f){var I,E=o.padding?o.padding:f?1:4,b=x(o);if(4===E)I=function h(o,d){var f=o.modulus.byteLength(),E=d.length,b=c("sha1").update(u.alloc(0)).digest(),I=b.length,S=2*I;if(E>f-S-2)throw new Error("message too long");var R=u.alloc(f-E-S-2),F=f-I-1,q=r(I),K=n(u.concat([b,R,u.alloc(1,1),d],F),l(q,F)),se=n(q,l(K,I));return new t(u.concat([u.alloc(1),se,K],f))}(b,d);else if(1===E)I=function g(o,d,f){var I,E=d.length,b=o.modulus.byteLength();if(E>b-11)throw new Error("message too long");return I=f?u.alloc(b-E-3,255):function p(o){for(var I,d=u.allocUnsafe(o),f=0,E=r(2*o),b=0;f<o;)b===E.length&&(E=r(2*o),b=0),(I=E[b++])&&(d[f++]=I);return d}(b-E-3),new t(u.concat([u.from([0,f?1:2]),I,u.alloc(1),d],b))}(b,d,f);else{if(3!==E)throw new Error("unknown padding");if(0<=(I=new t(d)).cmp(b.modulus))throw new Error("data too long for modulus")}return f?s(I,b):i(I,b)}},{"./mgf":207,"./withPublic":211,"./xor":212,"bn.js":208,"browserify-rsa":62,"create-hash":99,"parse-asn1":196,randombytes:221,"safe-buffer":247}],211:[function(v,L){var h=v("bn.js"),g=v("safe-buffer").Buffer;L.exports=function(p,x){return g.from(p.toRed(h.mont(x.modulus)).redPow(new h(x.publicExponent)).fromRed().toArray())}},{"bn.js":208,"safe-buffer":247}],212:[function(v,L){L.exports=function(h,g){for(var p=h.length,x=-1;++x<p;)h[x]^=g[x];return h}},{}],213:[function(v,L){(function(h){(function(){var g=v("once"),p=v("end-of-stream"),x=v("fs"),r=function(){},c=/^v?\.0/.test(h.version),l=function(o){return"function"==typeof o},i=function(o,d,f,E){E=g(E);var b=!1;o.on("close",function(){b=!0}),p(o,{readable:d,writable:f},function(S){return S?E(S):(b=!0,void E())});var I=!1;return function(S){if(!b)return I?void 0:(I=!0,function(o){return!!c&&!!x&&(o instanceof(x.ReadStream||r)||o instanceof(x.WriteStream||r))&&l(o.close)}(o)?o.close(r):function(o){return o.setHeader&&l(o.abort)}(o)?o.abort():l(o.destroy)?o.destroy():void E(S||new Error("stream was destroyed")))}},s=function(o){o()},u=function(o,d){return o.pipe(d)};L.exports=function(){var o=Array.prototype.slice.call(arguments),d=l(o[o.length-1]||r)&&o.pop()||r;if(Array.isArray(o[0])&&(o=o[0]),2>o.length)throw new Error("pump requires two streams per minimum");var E,f=o.map(function(b,I){var S=I<o.length-1;return i(b,S,0<I,function(R){E||(E=R),R&&f.forEach(s),S||(f.forEach(s),d(E))})});return o.reduce(u)}}).call(this)}).call(this,v("_process"))},{_process:205,"end-of-stream":135,fs:41,once:191}],214:[function(v,L,h){(function(g){(function(){!function(p){function x(K){throw new RangeError(I[K])}function r(K,se){for(var xe=K.length,we=[];xe--;)we[xe]=se(K[xe]);return we}function c(K,se){var xe=K.split("@"),we="";return 1<xe.length&&(we=xe[0]+"@",K=xe[1]),we+r((K=K.replace(b,".")).split("."),se).join(".")}function l(K){for(var A,P,se=[],xe=0,we=K.length;xe<we;)55296<=(A=K.charCodeAt(xe++))&&56319>=A&&xe<we?56320==(64512&(P=K.charCodeAt(xe++)))?se.push(((1023&A)<<10)+(1023&P)+65536):(se.push(A),xe--):se.push(A);return se}function n(K){return r(K,function(se){var xe="";return 65535<se&&(xe+=R(55296|1023&(se-=65536)>>>10),se=56320|1023&se),xe+R(se)}).join("")}function t(K){return 10>K-48?K-22:26>K-65?K-65:26>K-97?K-97:36}function i(K,se){return K+22+75*(26>K)-((0!=se)<<5)}function s(K,se,xe){var we=0;for(K=xe?S(K/700):K>>1,K+=S(K/se);455<K;we+=36)K=S(K/35);return S(we+36*K/(K+38))}function u(K){var U,y,C,M,O,ee,$,ae,Fe,He,se=[],xe=K.length,we=0,A=128,P=72;for(0>(y=K.lastIndexOf("-"))&&(y=0),C=0;C<y;++C)128<=K.charCodeAt(C)&&x("not-basic"),se.push(K.charCodeAt(C));for(M=0<y?y+1:0;M<xe;){for(O=we,ee=1,$=36;M>=xe&&x("invalid-input"),(36<=(ae=t(K.charCodeAt(M++)))||ae>S((2147483647-we)/ee))&&x("overflow"),we+=ae*ee,!(ae<(Fe=$<=P?1:$>=P+26?26:$-P));$+=36)ee>S(2147483647/(He=36-Fe))&&x("overflow"),ee*=He;P=s(we-O,U=se.length+1,0==O),S(we/U)>2147483647-A&&x("overflow"),A+=S(we/U),we%=U,se.splice(we++,0,A)}return n(se)}function o(K){var xe,we,A,P,U,y,C,M,O,ee,$,ae,Fe,He,Ve,se=[];for(ae=(K=l(K)).length,xe=128,we=0,U=72,y=0;y<ae;++y)128>($=K[y])&&se.push(R($));for(A=P=se.length,P&&se.push("-");A<ae;){for(C=2147483647,y=0;y<ae;++y)($=K[y])>=xe&&$<C&&(C=$);for(C-xe>S((2147483647-we)/(Fe=A+1))&&x("overflow"),we+=(C-xe)*Fe,xe=C,y=0;y<ae;++y)if(($=K[y])<xe&&2147483647<++we&&x("overflow"),$==xe){for(M=we,O=36;!(M<(ee=O<=U?1:O>=U+26?26:O-U));O+=36)se.push(R(i(ee+(Ve=M-ee)%(He=36-ee),0))),M=S(Ve/He);se.push(R(i(M,0))),U=s(we,Fe,A==P),we=0,++A}++we,++xe}return se.join("")}var d="object"==typeof h&&h&&!h.nodeType&&h,f="object"==typeof L&&L&&!L.nodeType&&L,E="object"==typeof g&&g;(E.global===E||E.window===E||E.self===E)&&(p=E);var F,q,b=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=Et,R=Z;if(F={version:"1.4.1",ucs2:{decode:l,encode:n},decode:u,encode:o,toASCII:function(K){return c(K,function(se){return/[^\x20-\x7E]/.test(se)?"xn--"+o(se):se})},toUnicode:function(K){return c(K,function(se){return/^xn--/.test(se)?u(se.slice(4).toLowerCase()):se})}},d&&f)if(L.exports==d)f.exports=F;else for(q in F)F.hasOwnProperty(q)&&(d[q]=F[q]);else p.punycode=F}(this)}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],215:[function(v,L){"use strict";function h(p,x){return Object.prototype.hasOwnProperty.call(p,x)}L.exports=function(p,x,r,c){r=r||"=";var l={};if("string"!=typeof p||0===p.length)return l;p=p.split(x=x||"&");var n=1e3;c&&"number"==typeof c.maxKeys&&(n=c.maxKeys);var t=p.length;0<n&&t>n&&(t=n);for(var i=0;i<t;++i){var o,d,f,E,s=p[i].replace(/\+/g,"%20"),u=s.indexOf(r);0<=u?(o=s.substr(0,u),d=s.substr(u+1)):(o=s,d=""),f=decodeURIComponent(o),E=decodeURIComponent(d),h(l,f)?g(l[f])?l[f].push(E):l[f]=[l[f],E]:l[f]=E}return l};var g=Array.isArray||function(p){return"[object Array]"===Object.prototype.toString.call(p)}},{}],216:[function(v,L){"use strict";function h(r,c){if(r.map)return r.map(c);for(var l=[],n=0;n<r.length;n++)l.push(c(r[n],n));return l}var g=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};L.exports=function(r,c,l,n){return c=c||"&",l=l||"=",null===r&&(r=void 0),"object"==typeof r?h(x(r),function(t){var i=encodeURIComponent(g(t))+l;return p(r[t])?h(r[t],function(s){return i+encodeURIComponent(g(s))}).join(c):i+encodeURIComponent(g(r[t]))}).join(c):n?encodeURIComponent(g(n))+l+encodeURIComponent(g(r)):""};var p=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},x=Object.keys||function(r){var c=[];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&c.push(l);return c}},{}],217:[function(v,L,h){"use strict";h.decode=h.parse=v("./decode"),h.encode=h.stringify=v("./encode")},{"./decode":215,"./encode":216}],218:[function(v,L){(function(h){(function(){let g;L.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"==typeof window?h:window):p=>(g||(g=Promise.resolve())).then(p).catch(x=>setTimeout(()=>{throw x},0))}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],219:[function(v,L){L.exports="function"==typeof queueMicrotask?queueMicrotask:h=>Promise.resolve().then(h)},{}],220:[function(v,L){L.exports=function(h){var g=0;return function(){if(g===h.length)return null;var p=h.length-g,x=0|Math.random()*p,r=h[g+x],c=h[g];return h[g]=r,h[g+x]=c,g++,r}}},{}],221:[function(v,L){(function(h,g){(function(){"use strict";var p=v("safe-buffer").Buffer,x=g.crypto||g.msCrypto;L.exports=x&&x.getRandomValues?function(r,c){if(r>4294967295)throw new RangeError("requested too many random bytes");var l=p.allocUnsafe(r);if(0<r)if(65536<r)for(var n=0;n<r;n+=65536)x.getRandomValues(l.slice(n,n+65536));else x.getRandomValues(l);return"function"==typeof c?h.nextTick(function(){c(null,l)}):l}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{_process:205,"safe-buffer":247}],222:[function(v,L,h){(function(g,p){(function(){"use strict";function x(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function r(d,f){if("number"!=typeof d||d!=d)throw new TypeError("offset must be a number");if(4294967295<d||0>d)throw new TypeError("offset must be a uint32");if(d>s||d>f)throw new RangeError("offset out of range")}function c(d,f,E){if("number"!=typeof d||d!=d)throw new TypeError("size must be a number");if(4294967295<d||0>d)throw new TypeError("size must be a uint32");if(d+f>E||d>s)throw new RangeError("buffer too small")}function l(d,f,E,b){if(g.browser){var S=new Uint8Array(d.buffer,f,E);return u.getRandomValues(S),b?void g.nextTick(function(){b(null,d)}):d}if(!b)return t(E).copy(d,f),d;t(E,function(F,q){return F?b(F):(q.copy(d,f),void b(null,d))})}var n=v("safe-buffer"),t=v("randombytes"),i=n.Buffer,s=n.kMaxLength,u=p.crypto||p.msCrypto;z(2,32),u&&u.getRandomValues||!g.browser?(h.randomFill=function(d,f,E,b){if(!(i.isBuffer(d)||d instanceof p.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof f)b=f,f=0,E=d.length;else if("function"==typeof E)b=E,E=d.length-f;else if("function"!=typeof b)throw new TypeError('"cb" argument must be a function');return r(f,d.length),c(E,f,d.length),l(d,f,E,b)},h.randomFillSync=function(d,f,E){if(void 0===f&&(f=0),!(i.isBuffer(d)||d instanceof p.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return r(f,d.length),void 0===E&&(E=d.length-f),c(E,f,d.length),l(d,f,E)}):(h.randomFill=x,h.randomFillSync=x)}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{_process:205,randombytes:221,"safe-buffer":247}],223:[function(v,L){"use strict";function g(c,l){return{start:c.start,end:c.end,index:l}}function p(c){return{start:c.start,end:c.end}}function x(c,l){return c.index-l.index}function r(c,l){return c.start-l.start}L.exports=function(c,l,n){if("string"!=typeof l)throw new TypeError("argument str must be a string");var t=l.indexOf("=");if(-1===t)return-2;var i=l.slice(t+1).split(","),s=[];s.type=l.slice(0,t);for(var u=0;u<i.length;u++){var o=i[u].split("-"),d=parseInt(o[0],10),f=parseInt(o[1],10);isNaN(d)?(d=c-f,f=c-1):isNaN(f)&&(f=c-1),f>c-1&&(f=c-1),!(isNaN(d)||isNaN(f)||d>f||0>d)&&s.push({start:d,end:f})}return 1>s.length?-1:n&&n.combine?function h(c){for(var l=c.map(g).sort(r),n=0,t=1;t<l.length;t++){var i=l[t],s=l[n];i.start>s.end+1?l[++n]=i:i.end>s.end&&(s.end=i.end,s.index=ne(s.index,i.index))}l.length=n+1;var u=l.sort(x).map(p);return u.type=c.type,u}(s):s}},{}],224:[function(v,L){const{Writable:h,PassThrough:g}=v("readable-stream");L.exports=class extends h{constructor(p,x={}){super(x),this.destroyed=!1,this._queue=[],this._position=p||0,this._cb=null,this._buffer=null,this._out=null}_write(p,x,r){let c=!0;for(;;){if(this.destroyed)return;if(0===this._queue.length)return this._buffer=p,void(this._cb=r);this._buffer=null;var l=this._queue[0];const n=ce(l.start-this._position,0),t=l.end-this._position;if(n>=p.length)return this._position+=p.length,r(null);let i;if(t>p.length){this._position+=p.length,i=0===n?p:p.slice(n),c=l.stream.write(i)&&c;break}this._position+=t,i=0===n&&t===p.length?p:p.slice(n,t),c=l.stream.write(i)&&c,l.last&&l.stream.end(),p=p.slice(t),this._queue.shift()}c?r(null):l.stream.once("drain",r.bind(null,null))}slice(p){if(this.destroyed)return null;Array.isArray(p)||(p=[p]);const x=new g;return p.forEach((r,c)=>{this._queue.push({start:r.start,end:r.end,stream:x,last:c===p.length-1})}),this._buffer&&this._write(this._buffer,null,this._cb),x}destroy(p){this.destroyed||(this.destroyed=!0,p&&this.emit("error",p))}}},{"readable-stream":240}],225:[function(v,L){"use strict";function h(l){return parseInt(l,10)===l}function g(l){function i(s){this.s=function t(s){if(void 0===s){s=Array(l);for(var u=0;u<l;u++)s[u]=Et(Math.random()*l)}else if("string"==typeof s)s=(s=""+s).split("").map(function(I){return I.charCodeAt(0)%l});else{if(!Array.isArray(s))throw new TypeError("invalid seed key specified");if(!s.every(function(I){return"number"==typeof I&&I===(0|I)}))throw new TypeError("invalid seed key specified: not array of integers")}for(var o=s.length,d=function n(){for(var s=Array(l),u=0;u<l;u++)s[u]=u;return s}(),f=0,E=0;E<l;E++){var b=d[E];d[E]=d[f=(f+d[E]+s[E%o])%l],d[f]=b}return d}(s),this.i=0,this.j=0}return i.prototype.randomNative=function(){this.i=(this.i+1)%l,this.j=(this.j+this.s[this.i])%l;var s=this.s[this.i];return this.s[this.i]=this.s[this.j],this.s[this.j]=s,this.s[(this.s[this.i]+this.s[this.j])%l]},i.prototype.randomUInt32=function(){return 256*(256*(256*this.randomByte()+this.randomByte())+this.randomByte())+this.randomByte()},i.prototype.randomFloat=function(){return this.randomUInt32()/4294967296},i.prototype.random=function(){var s,u;if(1===arguments.length)s=0,u=arguments[0];else{if(2!==arguments.length)throw new TypeError("random takes one or two integer arguments");s=arguments[0],u=arguments[1]}if(!h(s)||!h(u))throw new TypeError("random takes one or two integer arguments");return s+this.randomUInt32()%(u-s+1)},i.prototype.currentState=function(){return{i:this.i,j:this.j,s:this.s.slice()}},i.prototype.setState=function(s){var u=s.s,o=s.i,d=s.j;if(!(o===(0|o)&&0<=o&&o<l))throw new Error("state.i should be integer [0, "+(l-1)+"]");if(!(d===(0|d)&&0<=d&&d<l))throw new Error("state.j should be integer [0, "+(l-1)+"]");if(!Array.isArray(u)||u.length!==l)throw new Error("state should be array of length "+l);for(var f=0;f<l;f++)if(-1===u.indexOf(f))throw new Error("state should be permutation of 0.."+(l-1)+": "+f+" is missing");this.i=o,this.j=d,this.s=u.slice()},i}function p(l){return Z(10>l?48+l:97+l-10)}function x(l){return parseInt(l,16)}var r=g(256);r.prototype.randomByte=r.prototype.randomNative;var c=g(16);c.prototype.randomByte=function(){return 16*this.randomNative()+this.randomNative()},c.prototype.currentStateString=function(){var l=this.currentState();return p(l.i)+p(l.j)+l.s.map(p).join("")},c.prototype.setStateString=function(l){if(!l.match(/^[0-9a-f]{18}$/))throw new TypeError("RC4small stateString should be 18 hex character string");var n=x(l[0]),t=x(l[1]),i=l.split("").slice(2).map(x);this.setState({i:n,j:t,s:i})},r.RC4small=c,L.exports=r},{}],226:[function(v,L,h){arguments[4][73][0].apply(h,arguments)},{dup:73}],227:[function(v,L,h){arguments[4][74][0].apply(h,arguments)},{"./_stream_readable":229,"./_stream_writable":231,_process:205,dup:74,inherits:159}],228:[function(v,L,h){arguments[4][75][0].apply(h,arguments)},{"./_stream_transform":230,dup:75,inherits:159}],229:[function(v,L,h){arguments[4][76][0].apply(h,arguments)},{"../errors":226,"./_stream_duplex":227,"./internal/streams/async_iterator":232,"./internal/streams/buffer_list":233,"./internal/streams/destroy":234,"./internal/streams/from":236,"./internal/streams/state":238,"./internal/streams/stream":239,_process:205,buffer:69,dup:76,events:70,inherits:159,"string_decoder/":276,util:41}],230:[function(v,L,h){arguments[4][77][0].apply(h,arguments)},{"../errors":226,"./_stream_duplex":227,dup:77,inherits:159}],231:[function(v,L,h){arguments[4][78][0].apply(h,arguments)},{"../errors":226,"./_stream_duplex":227,"./internal/streams/destroy":234,"./internal/streams/state":238,"./internal/streams/stream":239,_process:205,buffer:69,dup:78,inherits:159,"util-deprecate":288}],232:[function(v,L,h){arguments[4][79][0].apply(h,arguments)},{"./end-of-stream":235,_process:205,dup:79}],233:[function(v,L,h){arguments[4][80][0].apply(h,arguments)},{buffer:69,dup:80,util:41}],234:[function(v,L,h){arguments[4][81][0].apply(h,arguments)},{_process:205,dup:81}],235:[function(v,L,h){arguments[4][82][0].apply(h,arguments)},{"../../../errors":226,dup:82}],236:[function(v,L,h){arguments[4][83][0].apply(h,arguments)},{dup:83}],237:[function(v,L,h){arguments[4][84][0].apply(h,arguments)},{"../../../errors":226,"./end-of-stream":235,dup:84}],238:[function(v,L,h){arguments[4][85][0].apply(h,arguments)},{"../../../errors":226,dup:85}],239:[function(v,L,h){arguments[4][86][0].apply(h,arguments)},{dup:86,events:70}],240:[function(v,L,h){(h=L.exports=v("./lib/_stream_readable.js")).Stream=h,h.Readable=h,h.Writable=v("./lib/_stream_writable.js"),h.Duplex=v("./lib/_stream_duplex.js"),h.Transform=v("./lib/_stream_transform.js"),h.PassThrough=v("./lib/_stream_passthrough.js"),h.finished=v("./lib/internal/streams/end-of-stream.js"),h.pipeline=v("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":227,"./lib/_stream_passthrough.js":228,"./lib/_stream_readable.js":229,"./lib/_stream_transform.js":230,"./lib/_stream_writable.js":231,"./lib/internal/streams/end-of-stream.js":235,"./lib/internal/streams/pipeline.js":237}],241:[function(v,L,h){function g(K,se,xe,we){function A(){return!("number"==typeof K.length&&K.length>xe.maxBlobLength&&(n("File length too large for Blob URL approach: %d (max: %d)",K.length,xe.maxBlobLength),M(new Error(`File length too large for Blob URL approach: ${K.length} (max: ${xe.maxBlobLength})`)),1))}function P(ae){A()&&($=se(ae),p(K,(Fe,He)=>Fe?M(Fe):($.addEventListener("error",M),$.addEventListener("loadstart",U),$.addEventListener("loadedmetadata",y),void($.src=He))))}function U(){if($.removeEventListener("loadstart",U),xe.autoplay){const ae=$.play();void 0!==ae&&ae.catch(M)}}function y(){$.removeEventListener("loadedmetadata",y),we(null,$)}function C(){p(K,(ae,Fe)=>ae?M(ae):(".pdf"===O?($=se("object"),$.setAttribute("typemustmatch",!0),$.setAttribute("type","application/pdf"),$.setAttribute("data",Fe)):($=se("iframe"),$.sandbox="allow-forms allow-scripts",$.src=Fe),void we(null,$)))}function M(ae){ae.message=`Error rendering file "${K.name}": ${ae.message}`,n(ae.message),we(ae)}const O=s.extname(K.name).toLowerCase();let $,ee=0;E.includes(O)?function(){function Fe(){n(`Use MediaSource API for ${K.name}`),at(),$.addEventListener("error",it),$.addEventListener("loadstart",U),$.addEventListener("loadedmetadata",y);const Ht=new i($).createWriteStream(function r(K){return{".m4a":'audio/mp4; codecs="mp4a.40.5"',".m4b":'audio/mp4; codecs="mp4a.40.5"',".m4p":'audio/mp4; codecs="mp4a.40.5"',".m4v":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".mkv":'video/webm; codecs="avc1.640029, mp4a.40.5"',".mp3":"audio/mpeg",".mp4":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".webm":'video/webm; codecs="vorbis, vp8"'}[s.extname(K).toLowerCase()]}(K.name));K.createReadStream().pipe(Ht),ee&&($.currentTime=ee)}function He(){n(`Use Blob URL for ${K.name}`),at(),$.addEventListener("error",M),$.addEventListener("loadstart",U),$.addEventListener("loadedmetadata",y),p(K,(Ct,Ht)=>Ct?M(Ct):($.src=Ht,void(ee&&($.currentTime=ee))))}function Ve(Ct){n("videostream error: fallback to MediaSource API: %o",Ct.message||Ct),$.removeEventListener("error",Ve),$.removeEventListener("loadedmetadata",y),Fe()}function it(Ct){n("MediaSource API error: fallback to Blob URL: %o",Ct.message||Ct),A()&&($.removeEventListener("error",it),$.removeEventListener("loadedmetadata",y),He())}function at(){$||($=se(qt),$.addEventListener("progress",()=>{ee=$.currentTime}))}const qt=f.includes(O)?"video":"audio";q?d.includes(O)?function ae(){n(`Use \`videostream\` package for ${K.name}`),at(),$.addEventListener("error",Ve),$.addEventListener("loadstart",U),$.addEventListener("loadedmetadata",y),new o(K,$)}():Fe():He()}():b.includes(O)?P("video"):I.includes(O)?P("audio"):S.includes(O)?($=se("img"),p(K,(ae,Fe)=>ae?M(ae):($.src=Fe,$.alt=K.name,void we(null,$)))):R.includes(O)?C():function(){n('Unknown file extension "%s" - will attempt to render into iframe',O);let Fe="";K.createReadStream({start:0,end:1e3}).setEncoding("utf8").on("data",He=>{Fe+=He}).on("end",function ae(){t(Fe)?(n('File extension "%s" appears ascii, so will render.',O),C()):(n('File extension "%s" appears non-ascii, will not render.',O),we(new Error(`Unsupported file type "${O}": Cannot append to DOM`)))}).on("error",we)}()}function p(K,se){const xe=s.extname(K.name).toLowerCase();u(K.createReadStream(),h.mime[xe]).then(we=>se(null,we),we=>se(we))}function x(K){if(null==K)throw new Error("file cannot be null or undefined");if("string"!=typeof K.name)throw new Error("missing or invalid file.name property");if("function"!=typeof K.createReadStream)throw new Error("missing or invalid file.createReadStream property")}function c(K){null==K.autoplay&&(K.autoplay=!1),null==K.muted&&(K.muted=!1),null==K.controls&&(K.controls=!0),null==K.maxBlobLength&&(K.maxBlobLength=F)}function l(K,se){K.autoplay=!!se.autoplay,K.muted=!!se.muted,K.controls=!!se.controls}h.render=function(K,se,xe,we){"function"==typeof xe&&(we=xe,xe={}),xe||(xe={}),we||(we=()=>{}),x(K),c(xe),"string"==typeof se&&(se=document.querySelector(se)),g(K,A=>{if(se.nodeName!==A.toUpperCase()){const P=s.extname(K.name).toLowerCase();throw new Error(`Cannot render "${P}" inside a "${se.nodeName.toLowerCase()}" element, expected "${A}"`)}return("video"===A||"audio"===A)&&l(se,xe),se},xe,we)},h.append=function(K,se,xe,we){function P(y){const C=document.createElement(y);return se.appendChild(C),C}if("function"==typeof xe&&(we=xe,xe={}),xe||(xe={}),we||(we=()=>{}),x(K),c(xe),"string"==typeof se&&(se=document.querySelector(se)),se&&("VIDEO"===se.nodeName||"AUDIO"===se.nodeName))throw new Error("Invalid video/audio node argument. Argument must be root element that video/audio tag will be appended to.");g(K,function(y){return"video"===y||"audio"===y?function A(y){const C=P(y);return l(C,xe),se.appendChild(C),C}(y):P(y)},xe,function U(y,C){y&&C&&C.remove(),we(y,C)})},h.mime=v("./lib/mime.json");const n=v("debug")("render-media"),t=v("is-ascii"),i=v("mediasource"),s=v("path"),u=v("stream-to-blob-url"),o=v("videostream"),d=[".m4a",".m4b",".m4p",".m4v",".mp4"],f=[".m4v",".mkv",".mp4",".webm"],E=[].concat(f,[".m4a",".m4b",".m4p",".mp3"]),b=[".mov",".ogv"],I=[".aac",".oga",".ogg",".wav",".flac"],S=[".bmp",".gif",".jpeg",".jpg",".png",".svg"],R=[".css",".html",".js",".md",".pdf",".srt",".txt"],F=2e8,q="undefined"!=typeof window&&window.MediaSource},{"./lib/mime.json":242,debug:105,"is-ascii":160,mediasource:172,path:71,"stream-to-blob-url":272,videostream:290}],242:[function(v,L){L.exports={".3gp":"video/3gpp",".aac":"audio/aac",".aif":"audio/x-aiff",".aiff":"audio/x-aiff",".atom":"application/atom+xml",".avi":"video/x-msvideo",".bmp":"image/bmp",".bz2":"application/x-bzip2",".conf":"text/plain",".css":"text/css",".csv":"text/plain",".diff":"text/x-diff",".doc":"application/msword",".flv":"video/x-flv",".gif":"image/gif",".gz":"application/x-gzip",".htm":"text/html",".html":"text/html",".ico":"image/vnd.microsoft.icon",".ics":"text/calendar",".iso":"application/octet-stream",".jar":"application/java-archive",".jpeg":"image/jpeg",".jpg":"image/jpeg",".js":"application/javascript",".json":"application/json",".less":"text/css",".log":"text/plain",".m3u":"audio/x-mpegurl",".m4a":"audio/x-m4a",".m4b":"audio/mp4",".m4p":"audio/mp4",".m4v":"video/x-m4v",".manifest":"text/cache-manifest",".markdown":"text/x-markdown",".mathml":"application/mathml+xml",".md":"text/x-markdown",".mid":"audio/midi",".midi":"audio/midi",".mov":"video/quicktime",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4v":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"application/ogg",".pdf":"application/pdf",".png":"image/png",".pps":"application/vnd.ms-powerpoint",".ppt":"application/vnd.ms-powerpoint",".ps":"application/postscript",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".rar":"application/x-rar-compressed",".rdf":"application/rdf+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tbz":"application/x-bzip-compressed-tar",".text":"text/plain",".tif":"image/tiff",".tiff":"image/tiff",".torrent":"application/x-bittorrent",".ttf":"application/x-font-ttf",".txt":"text/plain",".wav":"audio/wav",".webm":"video/webm",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".xls":"application/vnd.ms-excel",".xml":"application/xml",".yaml":"text/yaml",".yml":"text/yaml",".zip":"application/zip"}},{}],243:[function(v,L){"use strict";function h(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(I,S){return I<<S|I>>>32-S}function p(I,S,R,F,q,K,se,xe){return 0|g(0|I+(S^R^F)+K+se,xe)+q}function x(I,S,R,F,q,K,se,xe){return 0|g(0|I+(S&R|~S&F)+K+se,xe)+q}function r(I,S,R,F,q,K,se,xe){return 0|g(0|I+((S|~R)^F)+K+se,xe)+q}function c(I,S,R,F,q,K,se,xe){return 0|g(0|I+(S&F|R&~F)+K+se,xe)+q}function l(I,S,R,F,q,K,se,xe){return 0|g(0|I+(S^(R|~F))+K+se,xe)+q}var n=v("buffer").Buffer,t=v("inherits"),i=v("hash-base"),s=Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],o=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],E=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];t(h,i),h.prototype._update=function(){for(var I=s,S=0;16>S;++S)I[S]=this._block.readInt32LE(4*S);for(var R=0|this._a,F=0|this._b,q=0|this._c,K=0|this._d,se=0|this._e,xe=0|this._a,we=0|this._b,A=0|this._c,P=0|this._d,U=0|this._e,y=0;80>y;y+=1){var C,M;16>y?(C=p(R,F,q,K,se,I[u[y]],E[0],d[y]),M=l(xe,we,A,P,U,I[o[y]],b[0],f[y])):32>y?(C=x(R,F,q,K,se,I[u[y]],E[1],d[y]),M=c(xe,we,A,P,U,I[o[y]],b[1],f[y])):48>y?(C=r(R,F,q,K,se,I[u[y]],E[2],d[y]),M=r(xe,we,A,P,U,I[o[y]],b[2],f[y])):64>y?(C=c(R,F,q,K,se,I[u[y]],E[3],d[y]),M=x(xe,we,A,P,U,I[o[y]],b[3],f[y])):(C=l(R,F,q,K,se,I[u[y]],E[4],d[y]),M=p(xe,we,A,P,U,I[o[y]],b[4],f[y])),R=se,se=K,K=g(q,10),q=F,F=C,xe=U,U=P,P=g(A,10),A=we,we=M}var O=0|this._b+q+P;this._b=0|this._c+K+U,this._c=0|this._d+se+xe,this._d=0|this._e+R+we,this._e=0|this._a+F+A,this._a=O},h.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var I=n.alloc?n.alloc(20):new n(20);return I.writeInt32LE(this._a,0),I.writeInt32LE(this._b,4),I.writeInt32LE(this._c,8),I.writeInt32LE(this._d,12),I.writeInt32LE(this._e,16),I},L.exports=h},{buffer:69,"hash-base":142,inherits:159}],244:[function(v,L){L.exports=function(g,p,x){function r(d){function f(){x&&x(d,n),x=null}l?h(f):f()}function c(d,f,E){if(n[d]=E,f&&(u=!0),0==--i||f)r(f);else if(!u&&o<t){let b;s?(b=s[o],o+=1,g[b](function(I,S){c(b,I,S)})):(b=o,o+=1,g[b](function(I,S){c(b,I,S)}))}}if("number"!=typeof p)throw new Error("second argument must be a Number");let n,t,i,s,u,o,l=!0;Array.isArray(g)?(n=[],i=t=g.length):(s=Object.keys(g),n={},i=t=s.length),o=p,i?s?s.some(function(d,f){return g[d](function(E,b){c(d,E,b)}),f===p-1}):g.some(function(d,f){return d(function(E,b){c(f,E,b)}),f===p-1}):r(null),l=!1};const h=v("queue-microtask")},{"queue-microtask":218}],245:[function(v,L){L.exports=function(g,p){function x(i){function s(){p&&p(i,l),p=null}c?h(s):s()}function r(i,s,u){l[i]=u,(0==--n||s)&&x(s)}let l,n,t,c=!0;Array.isArray(g)?(l=[],n=g.length):(t=Object.keys(g),l={},n=t.length),n?t?t.forEach(function(i){g[i](function(s,u){r(i,s,u)})}):g.forEach(function(i,s){i(function(u,o){r(s,u,o)})}):x(null),c=!1};const h=v("queue-microtask")},{"queue-microtask":218}],246:[function(v,L,h){var g,p;g="undefined"==typeof self?this:self,p=function(){return function(g){function p(r){if(x[r])return x[r].exports;var c=x[r]={i:r,l:!1,exports:{}};return g[r].call(c.exports,c,c.exports,p),c.l=!0,c.exports}var x={};return p.m=g,p.c=x,p.d=function(r,c,l){p.o(r,c)||Object.defineProperty(r,c,{configurable:!1,enumerable:!0,get:l})},p.n=function(r){var c=r&&r.__esModule?function(){return r.default}:function(){return r};return p.d(c,"a",c),c},p.o=function(r,c){return Object.prototype.hasOwnProperty.call(r,c)},p.p="",p(p.s=3)}([function(g,p,x){var c=x(5),l=x(1),n=l.toHex,t=l.ceilHeapSize,i=x(6),s=function(E){for(E+=9;0<E%64;E+=1);return E},d=function(E,b){var I=new Int32Array(E,b+320,5),S=new Int32Array(5),R=new DataView(S.buffer);return R.setInt32(0,I[0],!1),R.setInt32(4,I[1],!1),R.setInt32(8,I[2],!1),R.setInt32(12,I[3],!1),R.setInt32(16,I[4],!1),S},f=function(){function E(b){if(function r(E,b){if(!(E instanceof b))throw new TypeError("Cannot call a class as a function")}(this,E),0<(b=b||65536)%64)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=b,this._padMaxChunkLen=s(b),this._heap=new ArrayBuffer(t(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new c({Int32Array},{},this._heap)}return E.prototype._initState=function(b,I){this._offset=0;var S=new Int32Array(b,I+320,5);S[0]=1732584193,S[1]=-271733879,S[2]=-1732584194,S[3]=271733878,S[4]=-1009589776},E.prototype._padChunk=function(b,I){var S=s(b),R=new Int32Array(this._heap,0,S>>2);return function(E,b){var I=new Uint8Array(E.buffer),S=b%4,R=b-S;switch(S){case 0:I[R+3]=0;case 1:I[R+2]=0;case 2:I[R+1]=0;case 3:I[R+0]=0}for(var F=1+(b>>2);F<E.length;F++)E[F]=0}(R,b),function(E,b,I){E[b>>2]|=128<<24-(b%4<<3),E[14+(-16&2+(b>>2))]=0|I/536870912,E[15+(-16&2+(b>>2))]=I<<3}(R,b,I),S},E.prototype._write=function(b,I,S,R){i(b,this._h8,this._h32,I,S,R||0)},E.prototype._coreCall=function(b,I,S,R,F){var q=S;this._write(b,I,S),F&&(q=this._padChunk(S,R)),this._core.hash(q,this._padMaxChunkLen)},E.prototype.rawDigest=function(b){var I=b.byteLength||b.length||b.size||0;this._initState(this._heap,this._padMaxChunkLen);var S=0,R=this._maxChunkLen;for(S=0;I>S+R;S+=R)this._coreCall(b,S,R,I,!1);return this._coreCall(b,S,I-S,I,!0),d(this._heap,this._padMaxChunkLen)},E.prototype.digest=function(b){return n(this.rawDigest(b).buffer)},E.prototype.digestFromString=function(b){return this.digest(b)},E.prototype.digestFromBuffer=function(b){return this.digest(b)},E.prototype.digestFromArrayBuffer=function(b){return this.digest(b)},E.prototype.resetState=function(){return this._initState(this._heap,this._padMaxChunkLen),this},E.prototype.append=function(b){var I=0,S=b.byteLength||b.length||b.size||0,R=this._offset%this._maxChunkLen,F=void 0;for(this._offset+=S;I<S;)F=ne(S-I,this._maxChunkLen-R),this._write(b,I,F,R),I+=F,(R+=F)===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),R=0);return this},E.prototype.getState=function(){var I=void 0;if(this._offset%this._maxChunkLen)I=this._heap.slice(0);else{var S=new Int32Array(this._heap,this._padMaxChunkLen+320,5);I=S.buffer.slice(S.byteOffset,S.byteOffset+S.byteLength)}return{offset:this._offset,heap:I}},E.prototype.setState=function(b){return this._offset=b.offset,20===b.heap.byteLength?new Int32Array(this._heap,this._padMaxChunkLen+320,5).set(new Int32Array(b.heap)):this._h32.set(new Int32Array(b.heap)),this},E.prototype.rawEnd=function(){var b=this._offset,S=this._padChunk(b%this._maxChunkLen,b);this._core.hash(S,this._padMaxChunkLen);var R=d(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),R},E.prototype.end=function(){return n(this.rawEnd().buffer)},E}();g.exports=f,g.exports._core=c},function(g){for(var p=Array(256),x=0;256>x;x++)p[x]=(16>x?"0":"")+x.toString(16);g.exports.toHex=function(r){for(var c=new Uint8Array(r),l=Array(r.byteLength),n=0;n<l.length;n++)l[n]=p[c[n]];return l.join("")},g.exports.ceilHeapSize=function(r){var c=0;if(65536>=r)return 65536;if(16777216>r)for(c=1;c<r;c<<=1);else for(c=16777216;c<r;c+=16777216);return c},g.exports.isDedicatedWorkerScope=function(r){return"WorkerGlobalScope"in r&&r instanceof r.WorkerGlobalScope&&!("SharedWorkerGlobalScope"in r&&r instanceof r.SharedWorkerGlobalScope)&&!("ServiceWorkerGlobalScope"in r&&r instanceof r.ServiceWorkerGlobalScope)}},function(g,p,x){g.exports=function(){var r=x(0),l=function(t,i,s,u,o){var d=new self.FileReader;d.onloadend=function(){if(d.error)return o(d.error);var f=d.result;i+=d.result.byteLength;try{t.append(f)}catch(E){return void o(E)}i<u.size?l(t,i,s,u,o):o(null,t.end())},d.readAsArrayBuffer(u.slice(i,i+s))},n=!0;return self.onmessage=function(t){if(n){var i=t.data.data,s=t.data.file,u=t.data.id;if(void 0!==u&&(s||i)){var o=t.data.blockSize||4194304,d=new r(o);d.resetState();var f=function(E,b){E?self.postMessage({id:u,error:E.name}):self.postMessage({id:u,hash:b})};i&&function(t,i,s){try{s(null,t.digest(i))}catch(u){return s(u)}}(d,i,f),s&&l(d,0,o,s,f)}}},function(){n=!1}}},function(g,p,x){var r=x(4),c=x(0),l=x(7),n=x(2),t=x(1),s="undefined"!=typeof self&&(0,t.isDedicatedWorkerScope)(self);c.disableWorkerBehaviour=s?n():function(){},c.createWorker=function(){var u=r(2),o=u.terminate;return u.terminate=function(){URL.revokeObjectURL(u.objectURL),o.call(u)},u},c.createHash=l,g.exports=c},function(g,p,x){function r(i){function s(d){if(u[d])return u[d].exports;var f=u[d]={i:d,l:!1,exports:{}};return i[d].call(f.exports,f,f.exports,s),f.l=!0,f.exports}var u={};s.m=i,s.c=u,s.i=function(d){return d},s.d=function(d,f,E){s.o(d,f)||Object.defineProperty(d,f,{configurable:!1,enumerable:!0,get:E})},s.r=function(d){Object.defineProperty(d,"__esModule",{value:!0})},s.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return s.d(f,"a",f),f},s.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},s.p="/",s.oe=function(d){throw console.error(d),d};var o=s(s.s=ENTRY_MODULE);return o.default||o}function c(i){return(i+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function l(i,s,u){var o={};o[u]=[];var d=s.toString(),f=d.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!f)return o;for(var I,E=f[1],b=new RegExp("(\\\\n|\\W)"+c(E)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");I=b.exec(d);)"dll-reference"!==I[3]&&o[u].push(I[3]);for(b=new RegExp("\\("+c(E)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");I=b.exec(d);)i[I[2]]||(o[u].push(I[1]),i[I[2]]=x(I[1]).m),o[I[2]]=o[I[2]]||[],o[I[2]].push(I[4]);return o}function n(i){return Object.keys(i).reduce(function(u,o){return u||0<i[o].length},!1)}g.exports=function(i,s){var u={main:x.m},o=(s=s||{}).all?{main:Object.keys(u)}:function t(i,s){for(var u={main:[s]},o={main:[]},d={main:{}};n(u);)for(var f=Object.keys(u),E=0;E<f.length;E++){var b=f[E],S=u[b].pop();if(d[b]=d[b]||{},!d[b][S]&&i[b][S]){d[b][S]=!0,o[b]=o[b]||[],o[b].push(S);for(var R=l(i,i[b][S],b),F=Object.keys(R),q=0;q<F.length;q++)u[F[q]]=u[F[q]]||[],u[F[q]]=u[F[q]].concat(R[F[q]])}}return o}(u,i),d="";Object.keys(o).filter(function(S){return"main"!==S}).forEach(function(S){for(var R=0;o[S][R];)R++;o[S].push(R),u[S][R]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",d=d+"var "+S+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(R))+")({"+o[S].map(function(F){return JSON.stringify(F)+": "+u[S][F].toString()}).join(",")+"});\n"}),d=d+"("+r.toString().replace("ENTRY_MODULE",JSON.stringify(i))+")({"+o.main.map(function(S){return JSON.stringify(S)+": "+u.main[S].toString()}).join(",")+"})(self);";var f=new window.Blob([d],{type:"text/javascript"});if(s.bare)return f;var b=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(f),I=new window.Worker(b);return I.objectURL=b,I}},function(g){g.exports=function(p,x,r){var c=new p.Int32Array(r);return{hash:function(l,n){l|=0;var t=0,i=0,s=0,u=0,o=0,d=0,f=0,E=0,b=0,I=0,S=0,R=0,F=0,q=0;for(s=0|c[320+(n|=0)>>2],o=0|c[n+324>>2],f=0|c[n+328>>2],b=0|c[n+332>>2],S=0|c[n+336>>2],t=0;(0|t)<(0|l);t=0|t+64){for(u=s,d=o,E=f,I=b,R=S,i=0;64>(0|i);i=0|i+4)F=0|(0|(s<<5|s>>>27)+(o&f|~o&b))+(0|1518500249+(0|(q=0|c[t+i>>2])+S)),S=b,b=f,f=o<<30|o>>>2,o=s,s=F,c[l+i>>2]=q;for(i=0|l+64;(0|i)<(0|l+80);i=0|i+4)F=0|(0|(s<<5|s>>>27)+(o&f|~o&b))+(0|1518500249+(0|(q=(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])<<1|(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])>>>31)+S)),S=b,b=f,f=o<<30|o>>>2,o=s,s=F,c[i>>2]=q;for(i=0|l+80;(0|i)<(0|l+160);i=0|i+4)F=0|(0|(s<<5|s>>>27)+(o^f^b))+(0|1859775393+(0|(q=(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])<<1|(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])>>>31)+S)),S=b,b=f,f=o<<30|o>>>2,o=s,s=F,c[i>>2]=q;for(i=0|l+160;(0|i)<(0|l+240);i=0|i+4)F=0|(0|(s<<5|s>>>27)+(o&f|o&b|f&b))+(0|(0|(q=(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])<<1|(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])>>>31)+S)-1894007588),S=b,b=f,f=o<<30|o>>>2,o=s,s=F,c[i>>2]=q;for(i=0|l+240;(0|i)<(0|l+320);i=0|i+4)F=0|(0|(s<<5|s>>>27)+(o^f^b))+(0|(0|(q=(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])<<1|(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])>>>31)+S)-899497514),S=b,b=f,f=o<<30|o>>>2,o=s,s=F,c[i>>2]=q;s=0|s+u,o=0|o+d,f=0|f+E,b=0|b+I,S=0|S+R}c[n+320>>2]=s,c[n+324>>2]=o,c[n+328>>2]=f,c[n+332>>2]=b,c[n+336>>2]=S}}}},function(g){var p=this,x=void 0;"undefined"!=typeof self&&void 0!==self.FileReaderSync&&(x=new self.FileReaderSync);var c=function(n,t,i,s,u,o){var b,d=o%4,f=(u+d)%4,E=u-f;switch(d){case 0:t[o]=n[s+3];case 1:t[0|o+1-(d<<1)]=n[s+2];case 2:t[0|o+2-(d<<1)]=n[s+1];case 3:t[0|o+3-(d<<1)]=n[s]}if(!(u<f+(4-d))){for(b=4-d;b<E;b=0|b+4)i[0|o+b>>2]=n[s+b]<<24|n[s+b+1]<<16|n[s+b+2]<<8|n[s+b+3];switch(f){case 3:t[0|o+E+1]=n[s+E+2];case 2:t[0|o+E+2]=n[s+E+1];case 1:t[0|o+E+3]=n[s+E]}}};g.exports=function(n,t,i,s,u,o){if("string"==typeof n)return function(n,t,i,s,u,o){var b,d=o%4,f=(u+d)%4,E=u-f;switch(d){case 0:t[o]=n.charCodeAt(s+3);case 1:t[0|o+1-(d<<1)]=n.charCodeAt(s+2);case 2:t[0|o+2-(d<<1)]=n.charCodeAt(s+1);case 3:t[0|o+3-(d<<1)]=n.charCodeAt(s)}if(!(u<f+(4-d))){for(b=4-d;b<E;b=0|b+4)i[o+b>>2]=n.charCodeAt(s+b)<<24|n.charCodeAt(s+b+1)<<16|n.charCodeAt(s+b+2)<<8|n.charCodeAt(s+b+3);switch(f){case 3:t[0|o+E+1]=n.charCodeAt(s+E+2);case 2:t[0|o+E+2]=n.charCodeAt(s+E+1);case 1:t[0|o+E+3]=n.charCodeAt(s+E)}}}(n,t,i,s,u,o);if(n instanceof Array||p&&p.Buffer&&p.Buffer.isBuffer(n))return c(n,t,i,s,u,o);if(n instanceof ArrayBuffer)return c(new Uint8Array(n),t,i,s,u,o);if(n.buffer instanceof ArrayBuffer)return c(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),t,i,s,u,o);if(n instanceof Blob)return function(n,t,i,s,u,o){var d=void 0,f=o%4,E=(u+f)%4,b=u-E,I=new Uint8Array(x.readAsArrayBuffer(n.slice(s,s+u)));switch(f){case 0:t[o]=I[3];case 1:t[0|o+1-(f<<1)]=I[2];case 2:t[0|o+2-(f<<1)]=I[1];case 3:t[0|o+3-(f<<1)]=I[0]}if(!(u<E+(4-f))){for(d=4-f;d<b;d=0|d+4)i[0|o+d>>2]=I[d]<<24|I[d+1]<<16|I[d+2]<<8|I[d+3];switch(E){case 3:t[0|o+b+1]=I[b+2];case 2:t[0|o+b+2]=I[b+1];case 1:t[0|o+b+3]=I[b]}}}(n,t,i,s,u,o);throw new Error("Unsupported data type.")}},function(g,p,x){var c=function(){function s(u,o){for(var f,d=0;d<o.length;d++)(f=o[d]).enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}return function(u,o,d){return o&&s(u.prototype,o),d&&s(u,d),u}}(),l=x(0),t=x(1).toHex,i=function(){function s(){(function r(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")})(this,s),this._rusha=new l,this._rusha.resetState()}return s.prototype.update=function(u){return this._rusha.append(u),this},s.prototype.digest=function(o){var d=this._rusha.rawEnd().buffer;if(!o)return d;if("hex"===o)return t(d);throw new Error("unsupported digest encoding")},c(s,[{key:"state",get:function(){return this._rusha.getState()},set:function(u){this._rusha.setState(u)}}]),s}();g.exports=function(){return new i}}])},"object"==typeof h&&"object"==typeof L?L.exports=p():"object"==typeof h?h.Rusha=p():g.Rusha=p()},{}],247:[function(v,L,h){function g(c,l){for(var n in c)l[n]=c[n]}function p(c,l,n){return r(c,l,n)}var x=v("buffer"),r=x.Buffer;r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?L.exports=x:(g(x,h),h.Buffer=p),p.prototype=Object.create(r.prototype),g(r,p),p.from=function(c,l,n){if("number"==typeof c)throw new TypeError("Argument must not be a number");return r(c,l,n)},p.alloc=function(c,l,n){if("number"!=typeof c)throw new TypeError("Argument must be a number");var t=r(c);return void 0===l?t.fill(0):"string"==typeof n?t.fill(l,n):t.fill(l),t},p.allocUnsafe=function(c){if("number"!=typeof c)throw new TypeError("Argument must be a number");return r(c)},p.allocUnsafeSlow=function(c){if("number"!=typeof c)throw new TypeError("Argument must be a number");return x.SlowBuffer(c)}},{buffer:69}],248:[function(v,L){(function(h){(function(){"use strict";var r,g=v("buffer"),p=g.Buffer,x={};for(r in g)g.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(x[r]=g[r]);var c=x.Buffer={};for(r in p)p.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(c[r]=p[r]);if(x.Buffer.prototype=p.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(l,n,t){if("number"==typeof l)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof l);if(l&&void 0===l.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);return p(l,n,t)}),c.alloc||(c.alloc=function(l,n,t){if("number"!=typeof l)throw new TypeError('The "size" argument must be of type number. Received type '+typeof l);if(0>l||2147483648<=l)throw new RangeError('The value "'+l+'" is invalid for option "size"');var i=p(l);return n&&0!==n.length?"string"==typeof t?i.fill(n,t):i.fill(n):i.fill(0),i}),!x.kStringMaxLength)try{x.kStringMaxLength=h.binding("buffer").kStringMaxLength}catch(l){}x.constants||(x.constants={MAX_LENGTH:x.kMaxLength},x.kStringMaxLength&&(x.constants.MAX_STRING_LENGTH=x.kStringMaxLength)),L.exports=x}).call(this)}).call(this,v("_process"))},{_process:205,buffer:69}],249:[function(v,L){function h(p,x){this._block=g.alloc(p),this._finalSize=x,this._blockSize=p,this._len=0}var g=v("safe-buffer").Buffer;h.prototype.update=function(p,x){"string"==typeof p&&(p=g.from(p,x=x||"utf8"));for(var r=this._block,c=this._blockSize,l=p.length,n=this._len,t=0;t<l;){for(var i=n%c,s=ne(l-t,c-i),u=0;u<s;u++)r[i+u]=p[t+u];t+=s,(n+=s)%c==0&&this._update(r)}return this._len+=l,this},h.prototype.digest=function(p){var x=this._len%this._blockSize;this._block[x]=128,this._block.fill(0,x+1),x>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(4294967295>=r)this._block.writeUInt32BE(r,this._blockSize-4);else{var c=(4294967295&r)>>>0;this._block.writeUInt32BE((r-c)/4294967296,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var l=this._hash();return p?l.toString(p):l},h.prototype._update=function(){throw new Error("_update must be implemented by subclass")},L.exports=h},{"safe-buffer":247}],250:[function(v,L,g){(g=L.exports=function(p){p=p.toLowerCase();var x=g[p];if(!x)throw new Error(p+" is not supported (we accept pull requests)");return new x}).sha=v("./sha"),g.sha1=v("./sha1"),g.sha224=v("./sha224"),g.sha256=v("./sha256"),g.sha384=v("./sha384"),g.sha512=v("./sha512")},{"./sha":251,"./sha1":252,"./sha224":253,"./sha256":254,"./sha384":255,"./sha512":256}],251:[function(v,L){function h(){this.init(),this._w=t,c.call(this,64,56)}function g(i){return i<<5|i>>>27}function p(i){return i<<30|i>>>2}function x(i,s,u,o){return 0===i?s&u|~s&o:2===i?s&u|s&o|u&o:s^u^o}var r=v("inherits"),c=v("./hash"),l=v("safe-buffer").Buffer,n=[1518500249,1859775393,-1894007588,-899497514],t=Array(80);r(h,c),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(i){for(var s=this._w,u=0|this._a,o=0|this._b,d=0|this._c,f=0|this._d,E=0|this._e,b=0;16>b;++b)s[b]=i.readInt32BE(4*b);for(;80>b;++b)s[b]=s[b-3]^s[b-8]^s[b-14]^s[b-16];for(var I=0;80>I;++I){var S=~~(I/20),R=0|g(u)+x(S,o,d,f)+E+s[I]+n[S];E=f,f=d,d=p(o),o=u,u=R}this._a=0|u+this._a,this._b=0|o+this._b,this._c=0|d+this._c,this._d=0|f+this._d,this._e=0|E+this._e},h.prototype._hash=function(){var i=l.allocUnsafe(20);return i.writeInt32BE(0|this._a,0),i.writeInt32BE(0|this._b,4),i.writeInt32BE(0|this._c,8),i.writeInt32BE(0|this._d,12),i.writeInt32BE(0|this._e,16),i},L.exports=h},{"./hash":249,inherits:159,"safe-buffer":247}],252:[function(v,L){function h(){this.init(),this._w=i,l.call(this,64,56)}function g(s){return s<<1|s>>>31}function p(s){return s<<5|s>>>27}function x(s){return s<<30|s>>>2}function r(s,u,o,d){return 0===s?u&o|~u&d:2===s?u&o|u&d|o&d:u^o^d}var c=v("inherits"),l=v("./hash"),n=v("safe-buffer").Buffer,t=[1518500249,1859775393,-1894007588,-899497514],i=Array(80);c(h,l),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(s){for(var u=this._w,o=0|this._a,d=0|this._b,f=0|this._c,E=0|this._d,b=0|this._e,I=0;16>I;++I)u[I]=s.readInt32BE(4*I);for(;80>I;++I)u[I]=g(u[I-3]^u[I-8]^u[I-14]^u[I-16]);for(var S=0;80>S;++S){var R=~~(S/20),F=0|p(o)+r(R,d,f,E)+b+u[S]+t[R];b=E,E=f,f=x(d),d=o,o=F}this._a=0|o+this._a,this._b=0|d+this._b,this._c=0|f+this._c,this._d=0|E+this._d,this._e=0|b+this._e},h.prototype._hash=function(){var s=n.allocUnsafe(20);return s.writeInt32BE(0|this._a,0),s.writeInt32BE(0|this._b,4),s.writeInt32BE(0|this._c,8),s.writeInt32BE(0|this._d,12),s.writeInt32BE(0|this._e,16),s},L.exports=h},{"./hash":249,inherits:159,"safe-buffer":247}],253:[function(v,L){function h(){this.init(),this._w=c,x.call(this,64,56)}var g=v("inherits"),p=v("./sha256"),x=v("./hash"),r=v("safe-buffer").Buffer,c=Array(64);g(h,p),h.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},h.prototype._hash=function(){var l=r.allocUnsafe(28);return l.writeInt32BE(this._a,0),l.writeInt32BE(this._b,4),l.writeInt32BE(this._c,8),l.writeInt32BE(this._d,12),l.writeInt32BE(this._e,16),l.writeInt32BE(this._f,20),l.writeInt32BE(this._g,24),l},L.exports=h},{"./hash":249,"./sha256":254,inherits:159,"safe-buffer":247}],254:[function(v,L){function h(){this.init(),this._w=u,t.call(this,64,56)}function g(o,d,f){return f^o&(d^f)}function p(o,d,f){return o&d|f&(o|d)}function x(o){return(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10)}function r(o){return(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7)}function c(o){return(o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3}function l(o){return(o>>>17|o<<15)^(o>>>19|o<<13)^o>>>10}var n=v("inherits"),t=v("./hash"),i=v("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=Array(64);n(h,t),h.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},h.prototype._update=function(o){for(var d=this._w,f=0|this._a,E=0|this._b,b=0|this._c,I=0|this._d,S=0|this._e,R=0|this._f,F=0|this._g,q=0|this._h,K=0;16>K;++K)d[K]=o.readInt32BE(4*K);for(;64>K;++K)d[K]=0|l(d[K-2])+d[K-7]+c(d[K-15])+d[K-16];for(var se=0;64>se;++se){var xe=0|q+r(S)+g(S,R,F)+s[se]+d[se],we=0|x(f)+p(f,E,b);q=F,F=R,R=S,S=0|I+xe,I=b,b=E,E=f,f=0|xe+we}this._a=0|f+this._a,this._b=0|E+this._b,this._c=0|b+this._c,this._d=0|I+this._d,this._e=0|S+this._e,this._f=0|R+this._f,this._g=0|F+this._g,this._h=0|q+this._h},h.prototype._hash=function(){var o=i.allocUnsafe(32);return o.writeInt32BE(this._a,0),o.writeInt32BE(this._b,4),o.writeInt32BE(this._c,8),o.writeInt32BE(this._d,12),o.writeInt32BE(this._e,16),o.writeInt32BE(this._f,20),o.writeInt32BE(this._g,24),o.writeInt32BE(this._h,28),o},L.exports=h},{"./hash":249,inherits:159,"safe-buffer":247}],255:[function(v,L){function h(){this.init(),this._w=c,x.call(this,128,112)}var g=v("inherits"),p=v("./sha512"),x=v("./hash"),r=v("safe-buffer").Buffer,c=Array(160);g(h,p),h.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},h.prototype._hash=function(){function l(t,i,s){n.writeInt32BE(t,s),n.writeInt32BE(i,s+4)}var n=r.allocUnsafe(48);return l(this._ah,this._al,0),l(this._bh,this._bl,8),l(this._ch,this._cl,16),l(this._dh,this._dl,24),l(this._eh,this._el,32),l(this._fh,this._fl,40),n},L.exports=h},{"./hash":249,"./sha512":256,inherits:159,"safe-buffer":247}],256:[function(v,L){function h(){this.init(),this._w=f,u.call(this,128,112)}function g(E,b,I){return I^E&(b^I)}function p(E,b,I){return E&b|I&(E|b)}function x(E,b){return(E>>>28|b<<4)^(b>>>2|E<<30)^(b>>>7|E<<25)}function r(E,b){return(E>>>14|b<<18)^(E>>>18|b<<14)^(b>>>9|E<<23)}function c(E,b){return(E>>>1|b<<31)^(E>>>8|b<<24)^E>>>7}function l(E,b){return(E>>>1|b<<31)^(E>>>8|b<<24)^(E>>>7|b<<25)}function n(E,b){return(E>>>19|b<<13)^(b>>>29|E<<3)^E>>>6}function t(E,b){return(E>>>19|b<<13)^(b>>>29|E<<3)^(E>>>6|b<<26)}function i(E,b){return E>>>0<b>>>0?1:0}var s=v("inherits"),u=v("./hash"),o=v("safe-buffer").Buffer,d=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],f=Array(160);s(h,u),h.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},h.prototype._update=function(E){for(var b=this._w,I=0|this._ah,S=0|this._bh,R=0|this._ch,F=0|this._dh,q=0|this._eh,K=0|this._fh,se=0|this._gh,xe=0|this._hh,we=0|this._al,A=0|this._bl,P=0|this._cl,U=0|this._dl,y=0|this._el,C=0|this._fl,M=0|this._gl,O=0|this._hl,ee=0;32>ee;ee+=2)b[ee]=E.readInt32BE(4*ee),b[ee+1]=E.readInt32BE(4*ee+4);for(;160>ee;ee+=2){var $=b[ee-30],ae=b[ee-30+1],Fe=c($,ae),He=l(ae,$),Ve=n($=b[ee-4],ae=b[ee-4+1]),it=t(ae,$),Ct=b[ee-32],Ht=b[ee-32+1],Ge=0|He+b[ee-14+1],dt=0|Fe+b[ee-14]+i(Ge,He);dt=0|(dt=0|dt+Ve+i(Ge=0|Ge+it,it))+Ct+i(Ge=0|Ge+Ht,Ht),b[ee]=dt,b[ee+1]=Ge}for(var vt=0;160>vt;vt+=2){dt=b[vt],Ge=b[vt+1];var G=p(I,S,R),ue=p(we,A,P),Y=x(I,we),oe=x(we,I),et=r(q,y),ie=r(y,q),pe=d[vt],Ye=d[vt+1],ct=g(q,K,se),gt=g(y,C,M),$t=0|O+ie,Zt=0|xe+et+i($t,O);Zt=0|(Zt=0|(Zt=0|Zt+ct+i($t=0|$t+gt,gt))+pe+i($t=0|$t+Ye,Ye))+dt+i($t=0|$t+Ge,Ge);var rn=0|oe+ue,kn=0|Y+G+i(rn,oe);xe=se,O=M,se=K,M=C,K=q,C=y,q=0|F+Zt+i(y=0|U+$t,U),F=R,U=P,R=S,P=A,S=I,A=we,I=0|Zt+kn+i(we=0|$t+rn,$t)}this._al=0|this._al+we,this._bl=0|this._bl+A,this._cl=0|this._cl+P,this._dl=0|this._dl+U,this._el=0|this._el+y,this._fl=0|this._fl+C,this._gl=0|this._gl+M,this._hl=0|this._hl+O,this._ah=0|this._ah+I+i(this._al,we),this._bh=0|this._bh+S+i(this._bl,A),this._ch=0|this._ch+R+i(this._cl,P),this._dh=0|this._dh+F+i(this._dl,U),this._eh=0|this._eh+q+i(this._el,y),this._fh=0|this._fh+K+i(this._fl,C),this._gh=0|this._gh+se+i(this._gl,M),this._hh=0|this._hh+xe+i(this._hl,O)},h.prototype._hash=function(){function E(I,S,R){b.writeInt32BE(I,R),b.writeInt32BE(S,R+4)}var b=o.allocUnsafe(64);return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),b},L.exports=h},{"./hash":249,inherits:159,"safe-buffer":247}],257:[function(v,L){(function(h){(function(){L.exports=function(g,p){var x=[];g.on("data",function(r){x.push(r)}),g.once("end",function(){p&&p(null,h.concat(x)),p=null}),g.once("error",function(r){p&&p(r),p=null})}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],258:[function(v,L){(function(h){(function(){function g(s,u){if(s=Object.assign({maxRedirects:10},"string"==typeof s?{url:s}:s),u=l(u),s.url){const{hostname:b,port:I,protocol:S,auth:R,path:F}=t.parse(s.url);delete s.url,b||I||S||R?Object.assign(s,{hostname:b,port:I,protocol:S,auth:R,path:F}):s.path=F}const o={"accept-encoding":"gzip, deflate"};let d;s.headers&&Object.keys(s.headers).forEach(b=>o[b.toLowerCase()]=s.headers[b]),s.headers=o,s.body?d=s.json&&!i(s.body)?JSON.stringify(s.body):s.body:s.form&&(d="string"==typeof s.form?s.form:n.stringify(s.form),s.headers["content-type"]="application/x-www-form-urlencoded"),d&&(!s.method&&(s.method="POST"),!i(d)&&(s.headers["content-length"]=h.byteLength(d)),s.json&&!s.form&&(s.headers["content-type"]="application/json")),delete s.body,delete s.form,s.json&&(s.headers.accept="application/json"),s.method&&(s.method=s.method.toUpperCase());const E=("https:"===s.protocol?c:r).request(s,b=>{if(!1!==s.followRedirects&&300<=b.statusCode&&400>b.statusCode&&b.headers.location)return s.url=b.headers.location,delete s.headers.host,b.resume(),"POST"===s.method&&[301,302].includes(b.statusCode)&&(s.method="GET",delete s.headers["content-length"],delete s.headers["content-type"]),0==s.maxRedirects--?u(new Error("too many redirects")):g(s,u);u(null,"function"==typeof x&&"HEAD"!==s.method?x(b):b)});return E.on("timeout",()=>{E.abort(),u(new Error("Request timed out"))}),E.on("error",u),i(d)?d.on("error",u).pipe(E):E.end(d),E}L.exports=g;const p=v("simple-concat"),x=v("decompress-response"),r=v("http"),c=v("https"),l=v("once"),n=v("querystring"),t=v("url"),i=s=>null!==s&&"object"==typeof s&&"function"==typeof s.pipe;g.concat=(s,u)=>g(s,(o,d)=>o?u(o):void p(d,(f,E)=>{if(f)return u(f);if(s.json)try{E=JSON.parse(E.toString())}catch(b){return u(b,d,E)}u(null,d,E)})),["get","post","put","patch","head","delete"].forEach(s=>{g[s]=(u,o)=>("string"==typeof u&&(u={url:u}),g(Object.assign({method:s.toUpperCase()},u),o))})}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,"decompress-response":41,http:268,https:156,once:191,querystring:217,"simple-concat":257,url:285}],259:[function(v,L){function h(u){return u.replace(/a=ice-options:trickle\s\n/g,"")}const p=v("debug")("simple-peer"),x=v("get-browser-rtc"),r=v("randombytes"),c=v("readable-stream"),l=v("queue-microtask"),n=v("err-code"),{Buffer:t}=v("buffer"),i=65536;class s extends c.Duplex{constructor(o){if(super(o=Object.assign({allowHalfOpen:!1},o)),this._id=r(4).toString("hex").slice(0,7),this._debug("new peer %o",o),this.channelName=o.initiator?o.channelName||r(20).toString("hex"):null,this.initiator=o.initiator||!1,this.channelConfig=o.channelConfig||s.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},s.config,o.config),this.offerOptions=o.offerOptions||{},this.answerOptions=o.answerOptions||{},this.sdpTransform=o.sdpTransform||(d=>d),this.streams=o.streams||(o.stream?[o.stream]:[]),this.trickle=void 0===o.trickle||o.trickle,this.allowHalfTrickle=void 0!==o.allowHalfTrickle&&o.allowHalfTrickle,this.iceCompleteTimeout=o.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=o.wrtc&&"object"==typeof o.wrtc?o.wrtc:x(),!this._wrtc)throw n("undefined"==typeof window?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(d){return void this.destroy(n(d,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=d=>{this._onIceCandidate(d)},"object"==typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch(d=>{this.destroy(n(d,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=d=>{this._setupData(d)},this.streams&&this.streams.forEach(d=>{this.addStream(d)}),this._pc.ontrack=d=>{this._onTrack(d)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(o){if(!this.destroying){if(this.destroyed)throw n(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof o)try{o=JSON.parse(o)}catch(d){o={}}this._debug("signal()"),o.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),o.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(o.transceiverRequest.kind,o.transceiverRequest.init)),o.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(o.candidate):this._pendingCandidates.push(o.candidate)),o.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(o)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(d=>{this._addIceCandidate(d)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(d=>{this.destroy(n(d,"ERR_SET_REMOTE_DESCRIPTION"))}),o.sdp||o.candidate||o.renegotiate||o.transceiverRequest||this.destroy(n(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(o){const d=new this._wrtc.RTCIceCandidate(o);this._pc.addIceCandidate(d).catch(f=>{!d.address||d.address.endsWith(".local")?function g(u){console.warn(u)}("Ignoring unsupported ICE candidate."):this.destroy(n(f,"ERR_ADD_ICE_CANDIDATE"))})}send(o){if(!this.destroying){if(this.destroyed)throw n(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(o)}}addTransceiver(o,d){if(!this.destroying){if(this.destroyed)throw n(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(o,d),this._needsNegotiation()}catch(f){this.destroy(n(f,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:o,init:d}})}}addStream(o){if(!this.destroying){if(this.destroyed)throw n(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),o.getTracks().forEach(d=>{this.addTrack(d,o)})}}addTrack(o,d){if(this.destroying)return;if(this.destroyed)throw n(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const f=this._senderMap.get(o)||new Map;let E=f.get(d);if(E)throw E.removed?n(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):n(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");E=this._pc.addTrack(o,d),f.set(d,E),this._senderMap.set(o,f),this._needsNegotiation()}replaceTrack(o,d,f){if(this.destroying)return;if(this.destroyed)throw n(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const E=this._senderMap.get(o),b=E?E.get(f):null;if(!b)throw n(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");d&&this._senderMap.set(d,E),null==b.replaceTrack?this.destroy(n(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):b.replaceTrack(d)}removeTrack(o,d){if(this.destroying)return;if(this.destroyed)throw n(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const f=this._senderMap.get(o),E=f?f.get(d):null;if(!E)throw n(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{E.removed=!0,this._pc.removeTrack(E)}catch(b){"NS_ERROR_UNEXPECTED"===b.name?this._sendersAwaitingStable.push(E):this.destroy(n(b,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(o){if(!this.destroying){if(this.destroyed)throw n(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),o.getTracks().forEach(d=>{this.removeTrack(d,o)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,l(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw n(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(o){this._destroy(o,()=>{})}_destroy(o,d){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",o&&(o.message||o)),l(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",o&&(o.message||o)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(f){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(f){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,o&&this.emit("error",o),this.emit("close"),d()}))}_setupData(o){if(!o.channel)return this.destroy(n(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=o.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=i),this.channelName=this._channel.label,this._channel.onmessage=f=>{this._onChannelMessage(f)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=f=>{const E=f.error instanceof Error?f.error:new Error(`Datachannel error: ${f.message} ${f.filename}:${f.lineno}:${f.colno}`);this.destroy(n(E,"ERR_DATA_CHANNEL"))};let d=!1;this._closingInterval=setInterval(()=>{this._channel&&"closing"===this._channel.readyState?(d&&this._onChannelClose(),d=!0):d=!1},5e3)}_read(){}_write(o,d,f){if(this.destroyed)return f(n(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(o)}catch(E){return this.destroy(n(E,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>i?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=f):f(null)}else this._debug("write before connect"),this._chunk=o,this._cb=f}_onFinish(){if(!this.destroyed){const o=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?o():this.once("connect",o)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(o=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(o.sdp=h(o.sdp)),o.sdp=this.sdpTransform(o.sdp);const d=()=>{if(!this.destroyed){const f=this._pc.localDescription||o;this._debug("signal"),this.emit("signal",{type:f.type,sdp:f.sdp})}};this._pc.setLocalDescription(o).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?d():this.once("_iceComplete",d))}).catch(f=>{this.destroy(n(f,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(o=>{this.destroy(n(o,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(o=>{o.mid||!o.sender.track||o.requested||(o.requested=!0,this.addTransceiver(o.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(o=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(o.sdp=h(o.sdp)),o.sdp=this.sdpTransform(o.sdp);const d=()=>{if(!this.destroyed){const f=this._pc.localDescription||o;this._debug("signal"),this.emit("signal",{type:f.type,sdp:f.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(o).then(()=>{this.destroyed||(this.trickle||this._iceComplete?d():this.once("_iceComplete",d))}).catch(f=>{this.destroy(n(f,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(o=>{this.destroy(n(o,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(n(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const o=this._pc.iceConnectionState,d=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",o,d),this.emit("iceStateChange",o,d),("connected"===o||"completed"===o)&&(this._pcReady=!0,this._maybeReady()),"failed"===o&&this.destroy(n(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===o&&this.destroy(n(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(o){const d=f=>("[object Array]"===Object.prototype.toString.call(f.values)&&f.values.forEach(E=>{Object.assign(f,E)}),f);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(f=>{const E=[];f.forEach(b=>{E.push(d(b))}),o(null,E)},f=>o(f)):0<this._pc.getStats.length?this._pc.getStats(f=>{if(this.destroyed)return;const E=[];f.result().forEach(b=>{const I={};b.names().forEach(S=>{I[S]=b.stat(S)}),I.id=b.id,I.type=b.type,I.timestamp=b.timestamp,E.push(d(I))}),o(null,E)},f=>o(f)):o(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const o=()=>{this.destroyed||this.getStats((d,f)=>{if(this.destroyed)return;d&&(f=[]);const E={},b={},I={};let S=!1;f.forEach(F=>{("remotecandidate"===F.type||"remote-candidate"===F.type)&&(E[F.id]=F),("localcandidate"===F.type||"local-candidate"===F.type)&&(b[F.id]=F),("candidatepair"===F.type||"candidate-pair"===F.type)&&(I[F.id]=F)});const R=F=>{S=!0;let q=b[F.localCandidateId];q&&(q.ip||q.address)?(this.localAddress=q.ip||q.address,this.localPort=+q.port):q&&q.ipAddress?(this.localAddress=q.ipAddress,this.localPort=+q.portNumber):"string"==typeof F.googLocalAddress&&(q=F.googLocalAddress.split(":"),this.localAddress=q[0],this.localPort=+q[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let K=E[F.remoteCandidateId];K&&(K.ip||K.address)?(this.remoteAddress=K.ip||K.address,this.remotePort=+K.port):K&&K.ipAddress?(this.remoteAddress=K.ipAddress,this.remotePort=+K.portNumber):"string"==typeof F.googRemoteAddress&&(K=F.googRemoteAddress.split(":"),this.remoteAddress=K[0],this.remotePort=+K[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(f.forEach(F=>{"transport"===F.type&&F.selectedCandidatePairId&&R(I[F.selectedCandidatePairId]),("googCandidatePair"===F.type&&"true"===F.googActiveConnection||("candidatepair"===F.type||"candidate-pair"===F.type)&&F.selected)&&R(F)}),S||Object.keys(I).length&&!Object.keys(b).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(q){return this.destroy(n(q,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const F=this._cb;this._cb=null,F(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(o,100)})};o()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>i)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(o=>{this._pc.removeTrack(o),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(o){this.destroyed||(o.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:o.candidate.candidate,sdpMLineIndex:o.candidate.sdpMLineIndex,sdpMid:o.candidate.sdpMid}}):!o.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),o.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(o){if(this.destroyed)return;let d=o.data;d instanceof ArrayBuffer&&(d=t.from(d)),this.push(d)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const o=this._cb;this._cb=null,o(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(o){this.destroyed||o.streams.forEach(d=>{this._debug("on track"),this.emit("track",o.track,d),this._remoteTracks.push({track:o.track,stream:d}),this._remoteStreams.some(f=>f.id===d.id)||(this._remoteStreams.push(d),l(()=>{this._debug("on stream"),this.emit("stream",d)}))})}_debug(){const o=[].slice.call(arguments);o[0]="["+this._id+"] "+o[0],p.apply(null,o)}}s.WEBRTC_SUPPORT=!!x(),s.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},s.channelConfig={},L.exports=s},{buffer:69,debug:105,"err-code":136,"get-browser-rtc":141,"queue-microtask":218,randombytes:221,"readable-stream":240}],260:[function(v,L){function h(s){return l.digest(s)}const r=v("rusha"),c=v("./rusha-worker-sha1"),l=new r,n="undefined"==typeof window?self:window,t=n.crypto||n.msCrypto||{};let i=t.subtle||t.webkitSubtle;try{i.digest({name:"sha-1"},new Uint8Array).catch(function(){i=!1})}catch(s){i=!1}L.exports=function g(s,u){return i?("string"==typeof s&&(s=function p(s){const u=s.length,o=new Uint8Array(u);for(let d=0;d<u;d++)o[d]=s.charCodeAt(d);return o}(s)),void i.digest({name:"sha-1"},s).then(function(o){u(function x(s){const u=s.length,o=[];for(let d=0;d<u;d++){const f=s[d];o.push((f>>>4).toString(16)),o.push((15&f).toString(16))}return o.join("")}(new Uint8Array(o)))},function(){u(h(s))})):void("undefined"==typeof window?queueMicrotask(()=>u(h(s))):c(s,function(o,d){return o?void u(h(s)):void u(d)}))},L.exports.sync=h},{"./rusha-worker-sha1":261,rusha:246}],261:[function(v,L){const p=v("rusha");let x,r,c;L.exports=function g(l,n){x||function h(){x=p.createWorker(),r=1,c={},x.onmessage=function(l){const n=l.data.id,t=c[n];delete c[n],null==l.data.error?t(null,l.data.hash):t(new Error("Rusha worker error: "+l.data.error))}}(),c[r]=n,x.postMessage({id:r,data:l}),r+=1}},{rusha:246}],262:[function(v,L){(function(h){(function(){const g=v("debug")("simple-websocket"),p=v("randombytes"),x=v("readable-stream"),r=v("queue-microtask"),c=v("ws"),l="function"==typeof c?c:WebSocket;class t extends x.Duplex{constructor(s={}){if("string"==typeof s&&(s={url:s}),super(s=Object.assign({allowHalfOpen:!1},s)),null==s.url&&null==s.socket)throw new Error("Missing required `url` or `socket` option");if(null!=s.url&&null!=s.socket)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=p(4).toString("hex").slice(0,7),this._debug("new websocket: %o",s),this.connected=!1,this.destroyed=!1,this._chunk=null,this._cb=null,this._interval=null,s.socket)this.url=s.socket.url,this._ws=s.socket,this.connected=s.socket.readyState===l.OPEN;else{this.url=s.url;try{this._ws="function"==typeof c?new l(s.url,null,{...s,encoding:void 0}):new l(s.url)}catch(u){return void r(()=>this.destroy(u))}}this._ws.binaryType="arraybuffer",s.socket&&this.connected?r(()=>this._handleOpen()):this._ws.onopen=()=>this._handleOpen(),this._ws.onmessage=u=>this._handleMessage(u),this._ws.onclose=()=>this._handleClose(),this._ws.onerror=u=>this._handleError(u),this._handleFinishBound=()=>this._handleFinish(),this.once("finish",this._handleFinishBound)}send(s){this._ws.send(s)}destroy(s){this._destroy(s,()=>{})}_destroy(s,u){if(!this.destroyed){if(this._debug("destroy (error: %s)",s&&(s.message||s)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.connected=!1,this.destroyed=!0,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._handleFinishBound&&this.removeListener("finish",this._handleFinishBound),this._handleFinishBound=null,this._ws){const o=this._ws,d=()=>{o.onclose=null};if(o.readyState===l.CLOSED)d();else try{o.onclose=d,o.close()}catch(f){d()}o.onopen=null,o.onmessage=null,o.onerror=()=>{}}this._ws=null,s&&this.emit("error",s),this.emit("close"),u()}}_read(){}_write(s,u,o){if(this.destroyed)return o(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(s)}catch(d){return this.destroy(d)}"function"!=typeof c&&this._ws.bufferedAmount>65536?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=o):o(null)}else this._debug("write before connect"),this._chunk=s,this._cb=o}_handleOpen(){if(!this.connected&&!this.destroyed){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(u){return this.destroy(u)}this._chunk=null,this._debug('sent chunk from "write before connect"');const s=this._cb;this._cb=null,s(null)}"function"!=typeof c&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_handleMessage(s){if(this.destroyed)return;let u=s.data;u instanceof ArrayBuffer&&(u=h.from(u)),this.push(u)}_handleClose(){this.destroyed||(this._debug("on close"),this.destroy())}_handleError(){this.destroy(new Error(`Error connecting to ${this.url}`))}_handleFinish(){if(!this.destroyed){const s=()=>{setTimeout(()=>this.destroy(),1e3)};this.connected?s():this.once("connect",s)}}_onInterval(){if(this._cb&&this._ws&&!(this._ws.bufferedAmount>65536)){this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);const s=this._cb;this._cb=null,s(null)}}_debug(){const s=[].slice.call(arguments);s[0]="["+this._id+"] "+s[0],g.apply(null,s)}}t.WEBSOCKET_SUPPORT=!!l,L.exports=t}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,debug:105,"queue-microtask":218,randombytes:221,"readable-stream":240,ws:41}],263:[function(v,L){const h=v("./lib/throttle"),g=v("./lib/throttle-group");L.exports={Throttle:h,ThrottleGroup:g}},{"./lib/throttle":265,"./lib/throttle-group":264}],264:[function(v,L){var h=Number.isInteger;const{TokenBucket:g}=v("limiter"),p=v("./throttle");L.exports=class{constructor(x={}){if("object"!=typeof x)throw new Error("Options must be an object");this.throttles=[],this.setEnabled(x.enabled),this.setRate(x.rate,x.chunksize)}getEnabled(){return this._enabled}getRate(){return this.bucket.tokensPerInterval}getChunksize(){return this.chunksize}setEnabled(x=!0){if("boolean"!=typeof x)throw new Error("Enabled must be a boolean");this._enabled=x;for(const r of this.throttles)r.setEnabled(x)}setRate(x,r=null){if(!h(x)||0>x)throw new Error("Rate must be an integer bigger than zero");if(x=parseInt(x),r&&("number"!=typeof r||0>=r))throw new Error("Chunksize must be bigger than zero");if(r=r||ce(parseInt(x/10),1),r=parseInt(r),0<x&&r>x)throw new Error("Chunk size must be smaller than rate");this.bucket||(this.bucket=new g(x,x,"second",null)),this.bucket.bucketSize=x,this.bucket.tokensPerInterval=x,this.chunksize=r}setChunksize(x){if(!h(x)||0>=x)throw new Error("Chunk size must be an integer bigger than zero");const r=this.getRate();if(x=parseInt(x),0<r&&x>r)throw new Error("Chunk size must be smaller than rate");this.chunksize=x}throttle(x={}){if("object"!=typeof x)throw new Error("Options must be an object");return new p({...x,group:this})}destroy(){for(const x of this.throttles)x.destroy();this.throttles=[]}_addThrottle(x){if(!(x instanceof p))throw new Error("Throttle must be an instance of Throttle");this.throttles.push(x)}_removeThrottle(x){const r=this.throttles.indexOf(x);-1<r&&this.throttles.splice(r,1)}}},{"./throttle":265,limiter:164}],265:[function(v,L){const{EventEmitter:h}=v("events"),{Transform:g}=v("streamx"),{wait:p}=v("./utils");L.exports=class extends g{constructor(r={}){if(super(),"object"!=typeof r)throw new Error("Options must be an object");const c=Object.assign({},r);if(c.group&&!(c.group instanceof x))throw new Error("Group must be an instanece of ThrottleGroup");c.group||(c.group=new x(c)),this._setEnabled(c.enabled||c.group.enabled),this._group=c.group,this._emitter=new h,this._destroyed=!1,this._group._addThrottle(this)}getEnabled(){return this._enabled}getGroup(){return this._group}_setEnabled(r=!0){if("boolean"!=typeof r)throw new Error("Enabled must be a boolean");this._enabled=r}setEnabled(r){this._setEnabled(r),this._emitter.emit(this._enabled?"enabled":"disabled")}_transform(r,c){this._processChunk(r,c)}async _waitForTokens(r){return new Promise((c,l)=>{function n(s){if(i._emitter.removeListener("disabled",n),i._emitter.removeListener("destroyed",n),!t)return t=!0,s?l(s):void c()}let t=!1;const i=this;this._emitter.once("disabled",n),this._emitter.once("destroyed",n),this._group.bucket.removeTokens(r,n)})}_areBothEnabled(){return this._enabled&&this._group.getEnabled()}async _processChunk(r,c){if(!this._areBothEnabled())return c(null,r);let l=0,n=this._group.getChunksize(),t=r.slice(l,l+n);for(;0<t.length;){if(this._areBothEnabled())try{for(;0===this._group.getRate()&&!this._destroyed&&this._areBothEnabled();)if(await p(1e3),this._destroyed)return;if(this._areBothEnabled()&&!this._group.bucket.tryRemoveTokens(t.length)&&(await this._waitForTokens(t.length),this._destroyed))return}catch(i){return c(i)}this.push(t),l+=n,n=this._areBothEnabled()?this._group.getChunksize():r.length-l,t=r.slice(l,l+n)}return c()}destroy(...r){this._group._removeThrottle(this),this._destroyed=!0,this._emitter.emit("destroyed"),super.destroy(...r)}};const x=v("./throttle-group")},{"./throttle-group":264,"./utils":266,events:70,streamx:275}],266:[function(v,L){L.exports={wait:function(h){return new Promise(g=>setTimeout(g,h))}}},{}],267:[function(v,L){var r,h=1,g=65535,x=function(){h=h+1&g};L.exports=function(c){r||(r=setInterval(x,250)).unref&&r.unref();var l=4*(c||5),n=[0],t=1,i=h-1&g;return function(s){var u=h-i&g;for(u>l&&(u=l),i=h;u--;)t===l&&(t=0),n[t]=n[0===t?l-1:t-1],t++;s&&(n[t-1]+=s);var o=n[t-1];return n.length<4?o:4*(o-(n.length<l?0:n[t===l?0:t]))/n.length}}},{}],268:[function(v,L,h){(function(g){(function(){var p=v("./lib/request"),x=v("./lib/response"),r=v("xtend"),c=v("builtin-status-codes"),l=v("url"),n=h;n.request=function(t,i){t="string"==typeof t?l.parse(t):r(t);var s=-1===g.location.protocol.search(/^https?:$/)?"http:":"",u=t.protocol||s,o=t.hostname||t.host,d=t.port,f=t.path||"/";o&&-1!==o.indexOf(":")&&(o="["+o+"]"),t.url=(o?u+"//"+o:"")+(d?":"+d:"")+f,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var E=new p(t);return i&&E.on("response",i),E},n.get=function(t,i){var s=n.request(t,i);return s.end(),s},n.ClientRequest=p,n.IncomingMessage=x.IncomingMessage,n.Agent=function(){},n.Agent.defaultMaxSockets=4,n.globalAgent=new n.Agent,n.STATUS_CODES=c,n.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"./lib/request":270,"./lib/response":271,"builtin-status-codes":91,url:285,xtend:292}],269:[function(v,L,h){(function(g){(function(){function p(){if(void 0!==c)return c;if(g.XMLHttpRequest){c=new g.XMLHttpRequest;try{c.open("GET",g.XDomainRequest?"/":"https://example.com")}catch(l){c=null}}else c=null;return c}function x(l){var n=p();if(!n)return!1;try{return n.responseType=l,n.responseType===l}catch(t){}return!1}function r(l){return"function"==typeof l}var c;h.fetch=r(g.fetch)&&r(g.ReadableStream),h.writableStream=r(g.WritableStream),h.abortController=r(g.AbortController),h.arraybuffer=h.fetch||x("arraybuffer"),h.msstream=!h.fetch&&x("ms-stream"),h.mozchunkedarraybuffer=!h.fetch&&x("moz-chunked-arraybuffer"),h.overrideMimeType=h.fetch||!!p()&&r(p().overrideMimeType),c=null}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],270:[function(v,L){(function(h,g,p){(function(){var c=v("./capability"),l=v("inherits"),n=v("./response"),t=v("readable-stream"),i=n.IncomingMessage,s=n.readyStates,u=L.exports=function(d){var f=this;t.Writable.call(f),f._opts=d,f._body=[],f._headers={},d.auth&&f.setHeader("Authorization","Basic "+p.from(d.auth).toString("base64")),Object.keys(d.headers).forEach(function(I){f.setHeader(I,d.headers[I])});var b,E=!0;if("disable-fetch"===d.mode||"requestTimeout"in d&&!c.abortController)E=!1,b=!0;else if("prefer-streaming"===d.mode)b=!1;else if("allow-wrong-content-type"===d.mode)b=!c.overrideMimeType;else{if(d.mode&&"default"!==d.mode&&"prefer-fast"!==d.mode)throw new Error("Invalid value for opts.mode");b=!0}f._mode=function x(d,f){return c.fetch&&f?"fetch":c.mozchunkedarraybuffer?"moz-chunked-arraybuffer":c.msstream?"ms-stream":c.arraybuffer&&d?"arraybuffer":"text"}(b,E),f._fetchTimer=null,f._socketTimeout=null,f._socketTimer=null,f.on("finish",function(){f._onFinish()})};l(u,t.Writable),u.prototype.setHeader=function(d,f){var b=d.toLowerCase();-1!==o.indexOf(b)||(this._headers[b]={name:d,value:f})},u.prototype.getHeader=function(d){var f=this._headers[d.toLowerCase()];return f?f.value:null},u.prototype.removeHeader=function(d){delete this._headers[d.toLowerCase()]},u.prototype._onFinish=function(){var d=this;if(!d._destroyed){var f=d._opts;"timeout"in f&&0!==f.timeout&&d.setTimeout(f.timeout);var E=d._headers,b=null;"GET"!==f.method&&"HEAD"!==f.method&&(b=new Blob(d._body,{type:(E["content-type"]||{}).value||""}));var I=[];if(Object.keys(E).forEach(function(q){var K=E[q].name,se=E[q].value;Array.isArray(se)?se.forEach(function(xe){I.push([K,xe])}):I.push([K,se])}),"fetch"===d._mode){var S=null;if(c.abortController){var R=new AbortController;S=R.signal,d._fetchAbortController=R,"requestTimeout"in f&&0!==f.requestTimeout&&(d._fetchTimer=g.setTimeout(function(){d.emit("requestTimeout"),d._fetchAbortController&&d._fetchAbortController.abort()},f.requestTimeout))}g.fetch(d._opts.url,{method:d._opts.method,headers:I,body:b||void 0,mode:"cors",credentials:f.withCredentials?"include":"same-origin",signal:S}).then(function(q){d._fetchResponse=q,d._resetTimers(!1),d._connect()},function(q){d._resetTimers(!0),d._destroyed||d.emit("error",q)})}else{var F=d._xhr=new g.XMLHttpRequest;try{F.open(d._opts.method,d._opts.url,!0)}catch(q){return void h.nextTick(function(){d.emit("error",q)})}"responseType"in F&&(F.responseType=d._mode),"withCredentials"in F&&(F.withCredentials=!!f.withCredentials),"text"===d._mode&&"overrideMimeType"in F&&F.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in f&&(F.timeout=f.requestTimeout,F.ontimeout=function(){d.emit("requestTimeout")}),I.forEach(function(q){F.setRequestHeader(q[0],q[1])}),d._response=null,F.onreadystatechange=function(){switch(F.readyState){case s.LOADING:case s.DONE:d._onXHRProgress()}},"moz-chunked-arraybuffer"===d._mode&&(F.onprogress=function(){d._onXHRProgress()}),F.onerror=function(){d._destroyed||(d._resetTimers(!0),d.emit("error",new Error("XHR error")))};try{F.send(b)}catch(q){return void h.nextTick(function(){d.emit("error",q)})}}}},u.prototype._onXHRProgress=function(){var d=this;d._resetTimers(!1),!function r(d){try{var f=d.status;return null!==f&&0!==f}catch(E){return!1}}(d._xhr)||d._destroyed||(!d._response&&d._connect(),d._response._onXHRProgress(d._resetTimers.bind(d)))},u.prototype._connect=function(){var d=this;d._destroyed||(d._response=new i(d._xhr,d._fetchResponse,d._mode,d._resetTimers.bind(d)),d._response.on("error",function(f){d.emit("error",f)}),d.emit("response",d._response))},u.prototype._write=function(d,f,E){this._body.push(d),E()},u.prototype._resetTimers=function(d){var f=this;g.clearTimeout(f._socketTimer),f._socketTimer=null,d?(g.clearTimeout(f._fetchTimer),f._fetchTimer=null):f._socketTimeout&&(f._socketTimer=g.setTimeout(function(){f.emit("timeout")},f._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(d){var f=this;f._destroyed=!0,f._resetTimers(!0),f._response&&(f._response._destroyed=!0),f._xhr?f._xhr.abort():f._fetchAbortController&&f._fetchAbortController.abort(),d&&f.emit("error",d)},u.prototype.end=function(d,f,E){"function"==typeof d&&(E=d,d=void 0),t.Writable.prototype.end.call(this,d,f,E)},u.prototype.setTimeout=function(d,f){var E=this;f&&E.once("timeout",f),E._socketTimeout=d,E._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var o=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global,v("buffer").Buffer)},{"./capability":269,"./response":271,_process:205,buffer:69,inherits:159,"readable-stream":240}],271:[function(v,L,h){(function(g,p,x){(function(){var r=v("./capability"),c=v("inherits"),l=v("readable-stream"),n=h.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},t=h.IncomingMessage=function(i,s,u,o){var d=this;if(l.Readable.call(d),d._mode=u,d.headers={},d.rawHeaders=[],d.trailers={},d.rawTrailers=[],d.on("end",function(){g.nextTick(function(){d.emit("close")})}),"fetch"===u){let F=function(){E.read().then(function(q){if(!d._destroyed)return o(q.done),q.done?void d.push(null):(d.push(x.from(q.value)),void F())}).catch(function(q){o(!0),d._destroyed||d.emit("error",q)})};if(d._fetchResponse=s,d.url=s.url,d.statusCode=s.status,d.statusMessage=s.statusText,s.headers.forEach(function(q,K){d.headers[K.toLowerCase()]=q,d.rawHeaders.push(K,q)}),r.writableStream){var f=new WritableStream({write:function(q){return o(!1),new Promise(function(K,se){d._destroyed?se():d.push(x.from(q))?K():d._resumeFetch=K})},close:function(){o(!0),d._destroyed||d.push(null)},abort:function(q){o(!0),d._destroyed||d.emit("error",q)}});try{return void s.body.pipeTo(f).catch(function(q){o(!0),d._destroyed||d.emit("error",q)})}catch(q){}}var E=s.body.getReader();F()}else if(d._xhr=i,d._pos=0,d.url=i.responseURL,d.statusCode=i.status,d.statusMessage=i.statusText,i.getAllResponseHeaders().split(/\r?\n/).forEach(function(F){var q=F.match(/^([^:]+):\s*(.*)/);if(q){var K=q[1].toLowerCase();"set-cookie"===K?(void 0===d.headers[K]&&(d.headers[K]=[]),d.headers[K].push(q[2])):void 0===d.headers[K]?d.headers[K]=q[2]:d.headers[K]+=", "+q[2],d.rawHeaders.push(q[1],q[2])}}),d._charset="x-user-defined",!r.overrideMimeType){var I=d.rawHeaders["mime-type"];if(I){var S=I.match(/;\s*charset=([^;])(;|$)/);S&&(d._charset=S[1].toLowerCase())}d._charset||(d._charset="utf-8")}};c(t,l.Readable),t.prototype._read=function(){var s=this._resumeFetch;s&&(this._resumeFetch=null,s())},t.prototype._onXHRProgress=function(i){var s=this,u=s._xhr,o=null;switch(s._mode){case"text":if((o=u.responseText).length>s._pos){var d=o.substr(s._pos);if("x-user-defined"===s._charset){for(var f=x.alloc(d.length),E=0;E<d.length;E++)f[E]=255&d.charCodeAt(E);s.push(f)}else s.push(d,s._charset);s._pos=o.length}break;case"arraybuffer":if(u.readyState!==n.DONE||!u.response)break;o=u.response,s.push(x.from(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=u.response,u.readyState!==n.LOADING||!o)break;s.push(x.from(new Uint8Array(o)));break;case"ms-stream":if(o=u.response,u.readyState!==n.LOADING)break;var b=new p.MSStreamReader;b.onprogress=function(){b.result.byteLength>s._pos&&(s.push(x.from(new Uint8Array(b.result.slice(s._pos)))),s._pos=b.result.byteLength)},b.onload=function(){i(!0),s.push(null)},b.readAsArrayBuffer(o)}s._xhr.readyState===n.DONE&&"ms-stream"!==s._mode&&(i(!0),s.push(null))}}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global,v("buffer").Buffer)},{"./capability":269,_process:205,buffer:69,inherits:159,"readable-stream":240}],272:[function(v,L){L.exports=async function(g,p){const x=await h(g,p);return URL.createObjectURL(x)};const h=v("stream-to-blob")},{"stream-to-blob":273}],273:[function(v,L){L.exports=function(h,g){if(null!=g&&"string"!=typeof g)throw new Error("Invalid mimetype, expected string.");return new Promise((p,x)=>{const r=[];h.on("data",c=>r.push(c)).once("end",()=>{const c=null==g?new Blob(r):new Blob(r,{type:g});p(c)}).once("error",x)})}},{}],274:[function(v,L){(function(h){(function(){var g=v("once");L.exports=function(p,x,r){r=g(r);var c=h.alloc(x),l=0;p.on("data",function(n){n.copy(c,l),l+=n.length}).on("end",function(){r(null,c)}).on("error",r)}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,once:191}],275:[function(v,L){function h(){this.stream._duplexState|=ee,0==(this.stream._duplexState&Kn)&&this.updateNextTick()}function g(Dt){const ke=this.stream;Dt&&ke.destroy(Dt),0==(ke._duplexState&kn)&&(ke._duplexState|=Y,ke.emit("finish")),(ke._duplexState&xn)===rn&&(ke._duplexState|=we),ke._duplexState&=pe,this.update()}function p(Dt){const ke=this.stream;Dt||this.error===R||(Dt=this.error),Dt&&ke.emit("error",Dt),ke._duplexState|=A,ke.emit("close");const Gt=ke._readableState,Nn=ke._writableState;null!==Gt&&null!==Gt.pipeline&&Gt.pipeline.done(ke,Dt),null!==Nn&&null!==Nn.pipeline&&Nn.pipeline.done(ke,Dt)}function x(Dt){const ke=this.stream;Dt&&ke.destroy(Dt),ke._duplexState&=pe,(ke._duplexState&Le)===ue&&(ke._duplexState&=ct,(ke._duplexState&oe)===oe&&ke.emit("drain")),0==(ke._duplexState&vt)&&this.update()}function r(Dt){Dt&&this.stream.destroy(Dt),this.stream._duplexState&=qt,0==(this.stream._duplexState&C)&&this.update()}function c(){this.stream._duplexState&=Ht,this.update()}function l(){this.stream._duplexState&=gt,this.update()}function n(Dt){const ke=this.stream;Dt&&ke.destroy(Dt),0==(ke._duplexState&we)&&(0==(ke._duplexState&Sr)&&(ke._duplexState|=y),0==(ke._duplexState&ge)&&(ke._duplexState|=dt),ke.emit("open")),ke._duplexState&=Zt,null!==ke._writableState&&ke._writableState.update(),null!==ke._readableState&&ke._readableState.update()}function t(Dt,ke){null!=ke&&this.push(ke),this._writableState.afterWrite(Dt)}function i(Dt,ke){const Gt=this._transformState.afterFinal;return Dt?Gt(Dt):(null!=ke&&this.push(ke),this.push(null),void Gt(null))}function s(Dt,...ke){function Gt(Yn,Wn,Gn,rt){Yn.on("error",rt),Yn.on("close",function(){return Wn&&Yn._readableState&&!Yn._readableState.ended||Gn&&Yn._writableState&&!Yn._writableState.ended?rt(F):void 0})}function Nn(Yn){if(Yn&&!Un){Un=Yn;for(const Wn of dn)Wn.destroy(Yn)}}const dn=Array.isArray(Dt)?[...Dt,...ke]:[Dt,...ke],Pn=dn.length&&"function"==typeof dn[dn.length-1]?dn.pop():null;if(2>dn.length)throw new Error("Pipeline requires at least 2 streams");let Dn=dn[0],jn=null,Un=null;for(let Yn=1;Yn<dn.length;Yn++)jn=dn[Yn],o(Dn)?Dn.pipe(jn,Nn):(Gt(Dn,!0,1<Yn,Nn),Dn.pipe(jn)),Dn=jn;if(Pn){let Yn=!1;jn.on("finish",()=>{Yn=!0}),jn.on("error",Wn=>{Un=Un||Wn}),jn.on("close",()=>Pn(Un||(Yn?null:F)))}return jn}function u(Dt){return!!Dt._readableState||!!Dt._writableState}function o(Dt){return"number"==typeof Dt._duplexState&&u(Dt)}function E(Dt){return function f(Dt){return"object"==typeof Dt&&null!==Dt&&"number"==typeof Dt.byteLength}(Dt)?Dt.byteLength:1024}function b(){}function I(){this.destroy(new Error("Stream aborted."))}const{EventEmitter:S}=v("events"),R=new Error("Stream was destroyed"),F=new Error("Premature close"),q=v("queue-tick"),K=v("fast-fifo"),se=33554431,we=2,A=4,P=1^se,y=16,C=32,M=64,O=128,ee=256,$=512,Ve=8192,it=16392,at=32768,qt=8^se,Ct=se^(O|ee),Ht=se^it,Ge=65536,dt=131072,vt=262144,G=524288,ue=1048576,Y=2097152,oe=4194304,et=8454144,ie=16777216,pe=se^Ge,Ye=se^dt,ct=se^ue,gt=se^et,$t=8|Ge,Zt=se^$t,rn=Ve|Y,kn=we|A,an=1|kn,xn=kn|rn,$n=(et|it)&Zt,Cn=$t|$n,On=an|$n,Sr=an|$|Ve,jt=an|Ve|M,Kn=8|C,ge=an|ie|Y,Le=G|ue|an|Ge,je=an|Ge|G,Je=Symbol.asyncIterator||Symbol("asyncIterator");class Qe{constructor(ke,{highWaterMark:Gt=16384,map:Nn=null,mapWritable:dn,byteLength:Pn,byteLengthWritable:Dn}={}){this.stream=ke,this.queue=new K,this.highWaterMark=Gt,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=Dn||Pn||E,this.map=dn||Nn,this.afterWrite=x.bind(this),this.afterUpdateNextTick=l.bind(this)}get ended(){return 0!=(this.stream._duplexState&Y)}push(ke){return null!==this.map&&(ke=this.map(ke)),this.buffered+=this.byteLength(ke),this.queue.push(ke),this.buffered<this.highWaterMark?(this.stream._duplexState|=G,!0):(this.stream._duplexState|=G|ue,!1)}shift(){const ke=this.queue.shift(),Gt=this.stream;return this.buffered-=this.byteLength(ke),0===this.buffered&&(Gt._duplexState&=se^G),ke}end(ke){"function"==typeof ke?this.stream.once("finish",ke):null!=ke&&this.push(ke),this.stream._duplexState=(this.stream._duplexState|ie)&Ye}autoBatch(ke,Gt){const Nn=[],dn=this.stream;for(Nn.push(ke);(dn._duplexState&je)==(G|Ge);)Nn.push(dn._writableState.shift());return 0==(dn._duplexState&an)?void dn._writev(Nn,Gt):Gt(null)}update(){const ke=this.stream;for(;(ke._duplexState&je)===G;){const Gt=this.shift();ke._duplexState|=Ge|vt,ke._write(Gt,this.afterWrite),ke._duplexState&=se^vt}0==(ke._duplexState&(dt|Ge))&&this.updateNonPrimary()}updateNonPrimary(){const ke=this.stream;return(ke._duplexState&(an|ie|G))===ie?(ke._duplexState=(ke._duplexState|Ge)&(se^ie),void ke._final(g.bind(this))):(ke._duplexState&kn)===we?void(0==(ke._duplexState&Cn)&&(ke._duplexState|=$t,ke._destroy(p.bind(this)))):void(1==(ke._duplexState&On)&&(ke._duplexState=(ke._duplexState|$t)&P,ke._open(n.bind(this))))}updateNextTick(){0!=(this.stream._duplexState&et)||(this.stream._duplexState|=et,q(this.afterUpdateNextTick))}}class ht{constructor(ke,{highWaterMark:Gt=16384,map:Nn=null,mapReadable:dn,byteLength:Pn,byteLengthReadable:Dn}={}){this.stream=ke,this.queue=new K,this.highWaterMark=Gt,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=Dn||Pn||E,this.map=dn||Nn,this.pipeTo=null,this.afterRead=r.bind(this),this.afterUpdateNextTick=c.bind(this)}get ended(){return 0!=(this.stream._duplexState&Ve)}pipe(ke,Gt){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if(this.stream._duplexState|=ee,this.pipeTo=ke,this.pipeline=new Ot(this.stream,ke,Gt||null),Gt&&this.stream.on("error",b),o(ke))ke._writableState.pipeline=this.pipeline,Gt&&ke.on("error",b),ke.on("finish",this.pipeline.finished.bind(this.pipeline));else{const Nn=this.pipeline.done.bind(this.pipeline,ke),dn=this.pipeline.done.bind(this.pipeline,ke,null);ke.on("error",Nn),ke.on("close",dn),ke.on("finish",this.pipeline.finished.bind(this.pipeline))}ke.on("drain",h.bind(this)),this.stream.emit("piping",ke),ke.emit("pipe",this.stream)}push(ke){const Gt=this.stream;return null===ke?(this.highWaterMark=0,Gt._duplexState=(Gt._duplexState|$)&(se^(y|at)),!1):(null!==this.map&&(ke=this.map(ke)),this.buffered+=this.byteLength(ke),this.queue.push(ke),Gt._duplexState=(Gt._duplexState|M)&(se^at),this.buffered<this.highWaterMark)}shift(){const ke=this.queue.shift();return this.buffered-=this.byteLength(ke),0===this.buffered&&(this.stream._duplexState&=4160^se),ke}unshift(ke){let Gt;const Nn=[];for(;void 0!==(Gt=this.queue.shift());)Nn.push(Gt);this.push(ke);for(let dn=0;dn<Nn.length;dn++)this.queue.push(Nn[dn])}read(){const ke=this.stream;if((ke._duplexState&jt)===M){const Gt=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(Gt)&&(ke._duplexState&=Ct),0!=(1024&ke._duplexState)&&ke.emit("data",Gt),Gt}return null}drain(){for(const ke=this.stream;(ke._duplexState&jt)===M&&0!=(ke._duplexState&(O|ee));){const Gt=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(Gt)&&(ke._duplexState&=Ct),0!=(1024&ke._duplexState)&&ke.emit("data",Gt)}}update(){const ke=this.stream;for(this.drain();this.buffered<this.highWaterMark&&0==(ke._duplexState&(8|an|$|Ve|at));)ke._duplexState|=8|C|at,ke._read(this.afterRead),ke._duplexState&=se^C,0==(8&ke._duplexState)&&this.drain();2112==(ke._duplexState&(2048|an|M|4096))&&(ke._duplexState|=4096,ke.emit("readable")),0==(ke._duplexState&(8|y))&&this.updateNonPrimary()}updateNonPrimary(){const ke=this.stream;return(ke._duplexState&(an|$|M))===$&&(ke._duplexState=(ke._duplexState|Ve)&(se^$),ke.emit("end"),(ke._duplexState&xn)===rn&&(ke._duplexState|=we),null!==this.pipeTo&&this.pipeTo.end()),(ke._duplexState&kn)===we?void(0==(ke._duplexState&Cn)&&(ke._duplexState|=$t,ke._destroy(p.bind(this)))):void(1==(ke._duplexState&On)&&(ke._duplexState=(ke._duplexState|$t)&P,ke._open(n.bind(this))))}updateNextTick(){0!=(this.stream._duplexState&it)||(this.stream._duplexState|=it,q(this.afterUpdateNextTick))}}class sn{constructor(ke){this.data=null,this.afterTransform=t.bind(ke),this.afterFinal=null}}class Ot{constructor(ke,Gt,Nn){this.from=ke,this.to=Gt,this.afterPipe=Nn,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(ke,Gt){return Gt&&(this.error=Gt),ke===this.to&&(this.to=null,null!==this.from)?void(0!=(this.from._duplexState&Ve)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))):ke===this.from&&(this.from=null,null!==this.to)?void(0==(ke._duplexState&Ve)&&this.to.destroy(this.error||new Error("Readable stream closed before ending"))):(null!==this.afterPipe&&this.afterPipe(this.error),void(this.to=this.from=this.afterPipe=null))}}class Vt extends S{constructor(ke){super(),this._duplexState=0,this._readableState=null,this._writableState=null,ke&&(ke.open&&(this._open=ke.open),ke.destroy&&(this._destroy=ke.destroy),ke.predestroy&&(this._predestroy=ke.predestroy),ke.signal&&ke.signal.addEventListener("abort",I.bind(this)))}_open(ke){ke(null)}_destroy(ke){ke(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(this._duplexState&A)}get destroying(){return 0!=(this._duplexState&kn)}destroy(ke){0==(this._duplexState&kn)&&(!ke&&(ke=R),this._duplexState=Ye&(se^y)&(this._duplexState|we),null!==this._readableState&&(this._readableState.error=ke,this._readableState.updateNextTick()),null!==this._writableState&&(this._writableState.error=ke,this._writableState.updateNextTick()),this._predestroy())}on(ke,Gt){return null!==this._readableState&&("data"===ke&&(this._duplexState|=1152,this._readableState.updateNextTick()),"readable"===ke&&(this._duplexState|=2048,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===ke&&(this._duplexState|=oe,this._writableState.updateNextTick()),super.on(ke,Gt)}}class tn extends Vt{constructor(ke){super(ke),this._duplexState|=1|Y,this._readableState=new ht(this,ke),ke&&ke.read&&(this._read=ke.read)}_read(ke){ke(null)}pipe(ke,Gt){return this._readableState.pipe(ke,Gt),this._readableState.updateNextTick(),ke}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(ke){return this._readableState.updateNextTick(),this._readableState.push(ke)}unshift(ke){return this._readableState.updateNextTick(),this._readableState.unshift(ke)}resume(){return this._duplexState|=O,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=se^O,this}static _fromAsyncIterator(ke,Gt){function Nn(Dn){Pn.push(Dn.done?null:Dn.value)}let dn;const Pn=new tn({...Gt,read(Dn){ke.next().then(Nn).then(Dn.bind(null,null)).catch(Dn)},predestroy(){dn=ke.return()},destroy(Dn){dn.then(Dn.bind(null,null)).catch(Dn)}});return Pn}static from(ke,Gt){if(function d(Dt){return o(Dt)&&Dt.readable}(ke))return ke;if(ke[Je])return this._fromAsyncIterator(ke[Je](),Gt);Array.isArray(ke)||(ke=void 0===ke?[]:[ke]);let Nn=0;return new tn({...Gt,read(dn){this.push(Nn===ke.length?null:ke[Nn++]),dn(null)}})}static isBackpressured(ke){return 0!=(ke._duplexState&(kn|$|Ve))||ke._readableState.buffered>=ke._readableState.highWaterMark}static isPaused(ke){return 0==(ke._duplexState&O)}[Je](){function Nn(Yn){null===Un||(Dn?Un(Dn):null===Yn&&0==(Pn._duplexState&Ve)?Un(R):jn({value:Yn,done:null==Yn}),Un=jn=null)}function dn(Yn){return Pn.destroy(Yn),new Promise((Wn,Gn)=>Pn._duplexState&A?Wn({value:void 0,done:!0}):void Pn.once("close",function(){Yn?Gn(Yn):Wn({value:void 0,done:!0})}))}const Pn=this;let Dn=null,jn=null,Un=null;return this.on("error",Yn=>{Dn=Yn}),this.on("readable",function ke(){null!==jn&&Nn(Pn.read())}),this.on("close",function Gt(){null!==jn&&Nn(null)}),{[Je](){return this},next:()=>new Promise(function(Yn,Wn){jn=Yn,Un=Wn;const Gn=Pn.read();null===Gn?0!=(Pn._duplexState&A)&&Nn(null):Nn(Gn)}),return:()=>dn(null),throw:Yn=>dn(Yn)}}}class wn extends tn{constructor(ke){super(ke),this._duplexState=1,this._writableState=new Qe(this,ke),ke&&(ke.writev&&(this._writev=ke.writev),ke.write&&(this._write=ke.write),ke.final&&(this._final=ke.final))}_writev(ke,Gt){Gt(null)}_write(ke,Gt){this._writableState.autoBatch(ke,Gt)}_final(ke){ke(null)}write(ke){return this._writableState.updateNextTick(),this._writableState.push(ke)}end(ke){return this._writableState.updateNextTick(),this._writableState.end(ke),this}}class on extends wn{constructor(ke){super(ke),this._transformState=new sn(this),ke&&(ke.transform&&(this._transform=ke.transform),ke.flush&&(this._flush=ke.flush))}_write(ke){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=ke:this._transform(ke,this._transformState.afterTransform)}_read(ke){if(null!==this._transformState.data){const Gt=this._transformState.data;this._transformState.data=null,ke(null),this._transform(Gt,this._transformState.afterTransform)}else ke(null)}_transform(ke,Gt){Gt(null,ke)}_flush(ke){ke(null)}_final(ke){this._transformState.afterFinal=ke,this._flush(i.bind(this))}}L.exports={pipeline:s,pipelinePromise:function(...Dt){return new Promise((ke,Gt)=>s(...Dt,Nn=>Nn?Gt(Nn):void ke()))},isStream:u,isStreamx:o,Stream:Vt,Writable:class extends Vt{constructor(Dt){super(Dt),this._duplexState|=8193,this._writableState=new Qe(this,Dt),Dt&&(Dt.writev&&(this._writev=Dt.writev),Dt.write&&(this._write=Dt.write),Dt.final&&(this._final=Dt.final))}_writev(Dt,ke){ke(null)}_write(Dt,ke){this._writableState.autoBatch(Dt,ke)}_final(Dt){Dt(null)}static isBackpressured(Dt){return 0!=(Dt._duplexState&(ue|kn|ie|Y))}write(Dt){return this._writableState.updateNextTick(),this._writableState.push(Dt)}end(Dt){return this._writableState.updateNextTick(),this._writableState.end(Dt),this}},Readable:tn,Duplex:wn,Transform:on,PassThrough:class extends on{}}},{events:70,"fast-fifo":139,"queue-tick":219}],276:[function(v,L,h){"use strict";function x(b){var I;switch(this.encoding=function p(b){var I=function g(b){if(!b)return"utf8";for(var I;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(I)return;b=(""+b).toLowerCase(),I=!0}}(b);if("string"!=typeof I&&(f.isEncoding===E||!E(b)))throw new Error("Unknown encoding: "+b);return I||b}(b),this.encoding){case"utf16le":this.text=t,this.end=i,I=4;break;case"utf8":this.fillLast=n,I=4;break;case"base64":this.text=s,this.end=u,I=3;break;default:return this.write=o,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=f.allocUnsafe(I)}function r(b){return 127>=b?0:b>>5==6?2:b>>4==14?3:b>>3==30?4:b>>6==2?-1:-2}function n(b){var I=this.lastTotal-this.lastNeed,S=function l(b,I){if(128!=(192&I[0]))return b.lastNeed=0,"\ufffd";if(1<b.lastNeed&&1<I.length){if(128!=(192&I[1]))return b.lastNeed=1,"\ufffd";if(2<b.lastNeed&&2<I.length&&128!=(192&I[2]))return b.lastNeed=2,"\ufffd"}}(this,b);return void 0===S?this.lastNeed<=b.length?(b.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(b.copy(this.lastChar,I,0,b.length),void(this.lastNeed-=b.length)):S}function t(b,I){if((b.length-I)%2==0){var S=b.toString("utf16le",I);if(S){var R=S.charCodeAt(S.length-1);if(55296<=R&&56319>=R)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",I,b.length-1)}function i(b){var I=b&&b.length?this.write(b):"";return this.lastNeed?I+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):I}function s(b,I){var S=(b.length-I)%3;return 0==S?b.toString("base64",I):(this.lastNeed=3-S,this.lastTotal=3,1==S?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",I,b.length-S))}function u(b){var I=b&&b.length?this.write(b):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function o(b){return b.toString(this.encoding)}function d(b){return b&&b.length?this.write(b):""}var f=v("safe-buffer").Buffer,E=f.isEncoding||function(b){switch((b=""+b)&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};h.StringDecoder=x,x.prototype.write=function(b){if(0===b.length)return"";var I,S;if(this.lastNeed){if(void 0===(I=this.fillLast(b)))return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<b.length?I?I+this.text(b,S):this.text(b,S):I||""},x.prototype.end=function(b){var I=b&&b.length?this.write(b):"";return this.lastNeed?I+"\ufffd":I},x.prototype.text=function(b,I){var S=function c(b,I,S){var R=I.length-1;if(R<S)return 0;var F=r(I[R]);return 0<=F?(0<F&&(b.lastNeed=F-1),F):--R<S||-2===F?0:0<=(F=r(I[R]))?(0<F&&(b.lastNeed=F-2),F):--R<S||-2===F?0:0<=(F=r(I[R]))?(0<F&&(2===F?F=0:b.lastNeed=F-3),F):0}(this,b,I);if(!this.lastNeed)return b.toString("utf8",I);this.lastTotal=S;var R=b.length-(S-this.lastNeed);return b.copy(this.lastChar,0,R),b.toString("utf8",I,R)},x.prototype.fillLast=function(b){return this.lastNeed<=b.length?(b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),void(this.lastNeed-=b.length))}},{"safe-buffer":247}],277:[function(v,L,h){var g=v("./thirty-two");h.encode=g.encode,h.decode=g.decode},{"./thirty-two":278}],278:[function(v,L,h){(function(g){(function(){"use strict";var x=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];h.encode=function(r){g.isBuffer(r)||(r=new g(r));for(var c=0,l=0,n=0,t=0,i=new g(8*function p(r){var c=Et(r.length/5);return r.length%5==0?c:c+1}(r));c<r.length;){var s=r[c];3<n?(t=(t=s&255>>n)<<(n=(n+5)%8)|(c+1<r.length?r[c+1]:0)>>8-n,c++):(t=31&s>>8-(n+5),0==(n=(n+5)%8)&&c++),i[l]="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".charCodeAt(t),l++}for(c=l;c<i.length;c++)i[c]=61;return i},h.decode=function(r){var t,c=0,l=0,n=0;g.isBuffer(r)||(r=new g(r));for(var i=new g(de(5*r.length/8)),s=0;s<r.length&&61!==r[s];s++){var u=r[s]-48;if(!(u<x.length))throw new Error("Invalid input - it is not base32 encoded string");l=x[u],3>=c?0==(c=(c+5)%8)?(i[n]=t|=l,n++,t=0):t|=255&l<<8-c:(i[n]=t|=255&l>>>(c=(c+5)%8),n++,t=255&l<<8-c)}return i.slice(0,n)}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],279:[function(v,L){var h=v("buffer").Buffer;L.exports=function(g){if(g instanceof Uint8Array){if(0===g.byteOffset&&g.byteLength===g.buffer.byteLength)return g.buffer;if("function"==typeof g.buffer.slice)return g.buffer.slice(g.byteOffset,g.byteOffset+g.byteLength)}if(h.isBuffer(g)){for(var p=new Uint8Array(g.length),x=g.length,r=0;r<x;r++)p[r]=g[r];return p.buffer}throw new Error("Argument must be a Buffer")}},{buffer:69}],280:[function(v,L){(function(h){(function(){const g=v("debug")("torrent-discovery"),p=v("bittorrent-dht/client"),x=v("events").EventEmitter,r=v("run-parallel"),c=v("bittorrent-tracker/client"),l=v("bittorrent-lsd");L.exports=class extends x{constructor(n){if(super(),!n.peerId)throw new Error("Option `peerId` is required");if(!n.infoHash)throw new Error("Option `infoHash` is required");if(!h.browser&&!n.port)throw new Error("Option `port` is required");this.peerId="string"==typeof n.peerId?n.peerId:n.peerId.toString("hex"),this.infoHash="string"==typeof n.infoHash?n.infoHash.toLowerCase():n.infoHash.toString("hex"),this._port=n.port,this._userAgent=n.userAgent,this.destroyed=!1,this._announce=n.announce||[],this._intervalMs=n.intervalMs||9e5,this._trackerOpts=null,this._dhtAnnouncing=!1,this._dhtTimeout=!1,this._internalDHT=!1,this._onWarning=i=>{this.emit("warning",i)},this._onError=i=>{this.emit("error",i)},this._onDHTPeer=(i,s)=>{s.toString("hex")!==this.infoHash||this.emit("peer",`${i.host}:${i.port}`,"dht")},this._onTrackerPeer=i=>{this.emit("peer",i,"tracker")},this._onTrackerAnnounce=()=>{this.emit("trackerAnnounce")},this._onLSDPeer=i=>{this.emit("peer",i,"lsd")};const t=(i,s)=>{const u=new p(s);return u.on("warning",this._onWarning),u.on("error",this._onError),u.listen(i),this._internalDHT=!0,u};!1===n.tracker?this.tracker=null:n.tracker&&"object"==typeof n.tracker?(this._trackerOpts=Object.assign({},n.tracker),this.tracker=this._createTracker()):this.tracker=this._createTracker(),this.dht=!1===n.dht||"function"!=typeof p?null:n.dht&&"function"==typeof n.dht.addNode?n.dht:n.dht&&"object"==typeof n.dht?t(n.dhtPort,n.dht):t(n.dhtPort),this.dht&&(this.dht.on("peer",this._onDHTPeer),this._dhtAnnounce()),this.lsd=!1===n.lsd||"function"!=typeof l?null:this._createLSD()}updatePort(n){n===this._port||(this._port=n,this.dht&&this._dhtAnnounce(),this.tracker&&(this.tracker.stop(),this.tracker.destroy(()=>{this.tracker=this._createTracker()})))}complete(n){this.tracker&&this.tracker.complete(n)}destroy(n){if(!this.destroyed){this.destroyed=!0,clearTimeout(this._dhtTimeout);const t=[];this.tracker&&(this.tracker.stop(),this.tracker.removeListener("warning",this._onWarning),this.tracker.removeListener("error",this._onError),this.tracker.removeListener("peer",this._onTrackerPeer),this.tracker.removeListener("update",this._onTrackerAnnounce),t.push(i=>{this.tracker.destroy(i)})),this.dht&&this.dht.removeListener("peer",this._onDHTPeer),this._internalDHT&&(this.dht.removeListener("warning",this._onWarning),this.dht.removeListener("error",this._onError),t.push(i=>{this.dht.destroy(i)})),this.lsd&&(this.lsd.removeListener("warning",this._onWarning),this.lsd.removeListener("error",this._onError),this.lsd.removeListener("peer",this._onLSDPeer),t.push(i=>{this.lsd.destroy(i)})),r(t,n),this.dht=null,this.tracker=null,this.lsd=null,this._announce=null}}_createTracker(){const n=Object.assign({},this._trackerOpts,{infoHash:this.infoHash,announce:this._announce,peerId:this.peerId,port:this._port,userAgent:this._userAgent}),t=new c(n);return t.on("warning",this._onWarning),t.on("error",this._onError),t.on("peer",this._onTrackerPeer),t.on("update",this._onTrackerAnnounce),t.setInterval(this._intervalMs),t.start(),t}_dhtAnnounce(){this._dhtAnnouncing||(g("dht announce"),this._dhtAnnouncing=!0,clearTimeout(this._dhtTimeout),this.dht.announce(this.infoHash,this._port,n=>{this._dhtAnnouncing=!1,g("dht announce complete"),n&&this.emit("warning",n),this.emit("dhtAnnounce"),this.destroyed||(this._dhtTimeout=setTimeout(()=>{this._dhtAnnounce()},this._intervalMs+Et(Math.random()*this._intervalMs/5)),this._dhtTimeout.unref&&this._dhtTimeout.unref())}))}_createLSD(){const n=Object.assign({},{infoHash:this.infoHash,peerId:this.peerId,port:this._port}),t=new l(n);return t.on("warning",this._onWarning),t.on("error",this._onError),t.on("peer",this._onLSDPeer),t.start(),t}}}).call(this)}).call(this,v("_process"))},{_process:205,"bittorrent-dht/client":41,"bittorrent-lsd":41,"bittorrent-tracker/client":33,debug:105,events:70,"run-parallel":245}],281:[function(v,L){(function(h){(function(){class p{constructor(r){this.length=r,this.missing=r,this.sources=null,this._chunks=de(r/16384),this._remainder=r%16384||16384,this._buffered=0,this._buffer=null,this._cancellations=null,this._reservations=0,this._flushed=!1}chunkLength(r){return r===this._chunks-1?this._remainder:16384}chunkLengthRemaining(r){return this.length-16384*r}chunkOffset(r){return 16384*r}reserve(){return this.init()?this._cancellations.length?this._cancellations.pop():this._reservations<this._chunks?this._reservations++:-1:-1}reserveRemaining(){if(!this.init())return-1;if(this._cancellations.length||this._reservations<this._chunks){let r=this._reservations;for(;this._cancellations.length;)r=ne(r,this._cancellations.pop());return this._reservations=this._chunks,r}return-1}cancel(r){this.init()&&this._cancellations.push(r)}cancelRemaining(r){this.init()&&(this._reservations=r)}get(r){return this.init()?this._buffer[r]:null}set(r,c,l){if(!this.init())return!1;const t=de(c.length/16384);for(let i=0;i<t;i++)if(!this._buffer[r+i]){const s=16384*i,u=c.slice(s,s+16384);this._buffered++,this._buffer[r+i]=u,this.missing-=u.length,this.sources.includes(l)||this.sources.push(l)}return this._buffered===this._chunks}flush(){if(!this._buffer||this._chunks!==this._buffered)return null;const r=h.concat(this._buffer,this.length);return this._buffer=null,this._cancellations=null,this.sources=null,this._flushed=!0,r}init(){return!(this._flushed||!this._buffer&&(this._buffer=Array(this._chunks),this._cancellations=[],this.sources=[],0))}}Object.defineProperty(p,"BLOCK_LENGTH",{value:16384}),L.exports=p}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],282:[function(v,L){(function(h){(function(){var g=v("is-typedarray").strict;L.exports=function(p){if(g(p)){var x=h.from(p.buffer);return p.byteLength!==p.buffer.byteLength&&(x=x.slice(p.byteOffset,p.byteOffset+p.byteLength)),x}return h.from(p)}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,"is-typedarray":162}],283:[function(v,L,h){var g=v("buffer-alloc"),p=z(2,32);h.encodingLength=function(){return 8},h.encode=function(x,r,c){r||(r=g(8)),c||(c=0);var l=Et(x/p);return r.writeUInt32BE(l,c),r.writeUInt32BE(x-l*p,c+4),r},h.decode=function(x,r){r||(r=0);var c=x.readUInt32BE(r),l=x.readUInt32BE(r+4);return c*p+l},h.encode.bytes=8,h.decode.bytes=8},{"buffer-alloc":88}],284:[function(v,L){L.exports=function(h,g){if(!(g>=h.length||0>g)){var p=h.pop();if(g<h.length){var x=h[g];return h[g]=p,x}return p}}},{}],285:[function(v,L,h){"use strict";function g(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function p(f,E,b){if(f&&r.isObject(f)&&f instanceof g)return f;var I=new g;return I.parse(f,E,b),I}var x=v("punycode"),r=v("./util");h.parse=p,h.resolve=function(f,E){return p(f,!1,!0).resolve(E)},h.resolveObject=function(f,E){return f?p(f,!1,!0).resolveObject(E):E},h.format=function(f){return r.isString(f)&&(f=p(f)),f instanceof g?f.format():g.prototype.format.call(f)},h.Url=g;var c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),n=["%","/","?",";","#"].concat(l),t=["/","?","#"],i=/^[+a-z0-9A-Z_-]{0,63}$/,s={javascript:!0,"javascript:":!0},u={javascript:!0,"javascript:":!0},o={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},d=v("querystring");g.prototype.parse=function(f,E,b){if(!r.isString(f))throw new TypeError("Parameter 'url' must be a string, not "+typeof f);var I=f.indexOf("?"),S=-1!==I&&I<f.indexOf("#")?"?":"#",R=f.split(S);R[0]=R[0].replace(/\\/g,"/");var F=f=R.join(S);if(F=F.trim(),!b&&1===f.split("#").length){var q=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/.exec(F);if(q)return this.path=F,this.href=F,this.pathname=q[1],q[2]?(this.search=q[2],this.query=E?d.parse(this.search.substr(1)):this.search.substr(1)):E&&(this.search="",this.query={}),this}var Ct,K=/^([a-z0-9.+-]+:)/i.exec(F);if(K){var se=(K=K[0]).toLowerCase();this.protocol=se,F=F.substr(K.length)}if(b||K||F.match(/^\/\/[^@\/]+@[^@\/]+/)){var xe="//"===F.substr(0,2);xe&&(!K||!u[K])&&(F=F.substr(2),this.slashes=!0)}if(!u[K]&&(xe||K&&!o[K])){for(var we=-1,A=0;A<t.length;A++)-1!==(P=F.indexOf(t[A]))&&(-1===we||P<we)&&(we=P);var U,y,P;for(-1!==(y=-1===we?F.lastIndexOf("@"):F.lastIndexOf("@",we))&&(U=F.slice(0,y),F=F.slice(y+1),this.auth=decodeURIComponent(U)),we=-1,A=0;A<n.length;A++)-1!==(P=F.indexOf(n[A]))&&(-1===we||P<we)&&(we=P);-1===we&&(we=F.length),this.host=F.slice(0,we),F=F.slice(we),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var ee,M=this.hostname.split(/\./),O=(A=0,M.length);A<O;A++)if((ee=M[A])&&!ee.match(i)){for(var $="",ae=0,Fe=ee.length;ae<Fe;ae++)$+=127<ee.charCodeAt(ae)?"x":ee[ae];if(!$.match(i)){var He=M.slice(0,A),Ve=M.slice(A+1),it=ee.match(/^([+a-z0-9A-Z_-]{0,63})(.*)$/);it&&(He.push(it[1]),Ve.unshift(it[2])),Ve.length&&(F="/"+Ve.join(".")+F),this.hostname=He.join(".");break}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase(),C||(this.hostname=x.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==F[0]&&(F="/"+F))}if(!s[se])for(A=0,O=l.length;A<O;A++)if(-1!==F.indexOf(Ct=l[A])){var Ht=encodeURIComponent(Ct);Ht===Ct&&(Ht=escape(Ct)),F=F.split(Ct).join(Ht)}var Ge=F.indexOf("#");-1!==Ge&&(this.hash=F.substr(Ge),F=F.slice(0,Ge));var dt=F.indexOf("?");return-1===dt?E&&(this.search="",this.query={}):(this.search=F.substr(dt),this.query=F.substr(dt+1),E&&(this.query=d.parse(this.query)),F=F.slice(0,dt)),F&&(this.pathname=F),o[se]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},g.prototype.format=function(){var f=this.auth||"";f&&(f=(f=encodeURIComponent(f)).replace(/%3A/i,":"),f+="@");var E=this.protocol||"",b=this.pathname||"",I=this.hash||"",S=!1,R="";this.host?S=f+this.host:this.hostname&&(S=f+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(S+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(R=d.stringify(this.query));var F=this.search||R&&"?"+R||"";return E&&":"!==E.substr(-1)&&(E+=":"),this.slashes||(!E||o[E])&&!1!==S?(S="//"+(S||""),b&&"/"!==b.charAt(0)&&(b="/"+b)):!S&&(S=""),I&&"#"!==I.charAt(0)&&(I="#"+I),F&&"?"!==F.charAt(0)&&(F="?"+F),E+S+(b=b.replace(/[?#]/g,function(q){return encodeURIComponent(q)}))+(F=F.replace("#","%23"))+I},g.prototype.resolve=function(f){return this.resolveObject(p(f,!1,!0)).format()},g.prototype.resolveObject=function(f){if(r.isString(f)){var E=new g;E.parse(f,!1,!0),f=E}for(var R,b=new g,I=Object.keys(this),S=0;S<I.length;S++)b[R=I[S]]=this[R];if(b.hash=f.hash,""===f.href)return b.href=b.format(),b;if(f.slashes&&!f.protocol){for(var K,F=Object.keys(f),q=0;q<F.length;q++)"protocol"!==(K=F[q])&&(b[K]=f[K]);return o[b.protocol]&&b.hostname&&!b.pathname&&(b.path=b.pathname="/"),b.href=b.format(),b}if(f.protocol&&f.protocol!==b.protocol){if(!o[f.protocol]){for(var we,se=Object.keys(f),xe=0;xe<se.length;xe++)b[we=se[xe]]=f[we];return b.href=b.format(),b}if(b.protocol=f.protocol,f.host||u[f.protocol])b.pathname=f.pathname;else{for(var ee=(f.pathname||"").split("/");ee.length&&!(f.host=ee.shift()););f.host||(f.host=""),f.hostname||(f.hostname=""),""!==ee[0]&&ee.unshift(""),2>ee.length&&ee.unshift(""),b.pathname=ee.join("/")}return b.search=f.search,b.query=f.query,b.host=f.host||"",b.auth=f.auth,b.hostname=f.hostname||f.host,b.port=f.port,(b.pathname||b.search)&&(b.path=(b.pathname||"")+(b.search||"")),b.slashes=b.slashes||f.slashes,b.href=b.format(),b}var U=b.pathname&&"/"===b.pathname.charAt(0),y=f.host||f.pathname&&"/"===f.pathname.charAt(0),C=y||U||b.host&&f.pathname,M=C,O=b.pathname&&b.pathname.split("/")||[],$=(ee=f.pathname&&f.pathname.split("/")||[],b.protocol&&!o[b.protocol]);if($&&(b.hostname="",b.port=null,b.host&&(""===O[0]?O[0]=b.host:O.unshift(b.host)),b.host="",f.protocol&&(f.hostname=null,f.port=null,f.host&&(""===ee[0]?ee[0]=f.host:ee.unshift(f.host)),f.host=null),C=C&&(""===ee[0]||""===O[0])),y)b.host=f.host||""===f.host?f.host:b.host,b.hostname=f.hostname||""===f.hostname?f.hostname:b.hostname,b.search=f.search,b.query=f.query,O=ee;else if(ee.length)O||(O=[]),O.pop(),O=O.concat(ee),b.search=f.search,b.query=f.query;else if(!r.isNullOrUndefined(f.search))return $&&(b.hostname=b.host=O.shift(),(ae=!!(b.host&&0<b.host.indexOf("@"))&&b.host.split("@"))&&(b.auth=ae.shift(),b.host=b.hostname=ae.shift())),b.search=f.search,b.query=f.query,r.isNull(b.pathname)&&r.isNull(b.search)||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.href=b.format(),b;if(!O.length)return b.pathname=null,b.path=b.search?"/"+b.search:null,b.href=b.format(),b;for(var Fe=O.slice(-1)[0],He=(b.host||f.host||1<O.length)&&("."===Fe||".."===Fe)||""===Fe,Ve=0,it=O.length;0<=it;it--)"."===(Fe=O[it])?O.splice(it,1):".."===Fe?(O.splice(it,1),Ve++):Ve&&(O.splice(it,1),Ve--);if(!C&&!M)for(;Ve--;Ve)O.unshift("..");C&&""!==O[0]&&(!O[0]||"/"!==O[0].charAt(0))&&O.unshift(""),He&&"/"!==O.join("/").substr(-1)&&O.push("");var ae,at=""===O[0]||O[0]&&"/"===O[0].charAt(0);return $&&(b.hostname=b.host=at?"":O.length?O.shift():"",(ae=!!(b.host&&0<b.host.indexOf("@"))&&b.host.split("@"))&&(b.auth=ae.shift(),b.host=b.hostname=ae.shift())),(C=C||b.host&&O.length)&&!at&&O.unshift(""),O.length?b.pathname=O.join("/"):(b.pathname=null,b.path=null),r.isNull(b.pathname)&&r.isNull(b.search)||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.auth=f.auth||b.auth,b.slashes=b.slashes||f.slashes,b.href=b.format(),b},g.prototype.parseHost=function(){var f=this.host,E=/:[0-9]*$/.exec(f);E&&(":"!==(E=E[0])&&(this.port=E.substr(1)),f=f.substr(0,f.length-E.length)),f&&(this.hostname=f)}},{"./util":286,punycode:214,querystring:217}],286:[function(v,L){"use strict";L.exports={isString:function(h){return"string"==typeof h},isObject:function(h){return"object"==typeof h&&null!==h},isNull:function(h){return null===h},isNullOrUndefined:function(h){return null==h}}},{}],287:[function(v,L){(function(h){(function(){const{EventEmitter:g}=v("events"),p=v("bencode"),x=v("bitfield").default,r=v("debug")("ut_metadata"),c=v("simple-sha1"),n=16384;L.exports=t=>{class i extends g{constructor(u){super(),this._wire=u,this._fetching=!1,this._metadataComplete=!1,this._metadataSize=null,this._remainingRejects=null,this._bitfield=new x(0,{grow:1e3}),h.isBuffer(t)&&this.setMetadata(t)}onHandshake(u){this._infoHash=u}onExtendedHandshake(u){return u.m&&u.m.ut_metadata?u.metadata_size?"number"!=typeof u.metadata_size||1e7<u.metadata_size||0>=u.metadata_size?this.emit("warning",new Error("Peer gave invalid metadata size")):(this._metadataSize=u.metadata_size,this._numPieces=de(this._metadataSize/n),this._remainingRejects=2*this._numPieces,void this._requestPieces()):this.emit("warning",new Error("Peer does not have metadata")):this.emit("warning",new Error("Peer does not support ut_metadata"))}onMessage(u){let o,d;try{const f=u.toString(),E=f.indexOf("ee")+2;o=p.decode(f.substring(0,E)),d=u.slice(E)}catch(f){return}switch(o.msg_type){case 0:this._onRequest(o.piece);break;case 1:this._onData(o.piece,d,o.total_size);break;case 2:this._onReject(o.piece)}}fetch(){this._metadataComplete||(this._fetching=!0,this._metadataSize&&this._requestPieces())}cancel(){this._fetching=!1}setMetadata(u){if(this._metadataComplete)return!0;r("set metadata");try{const o=p.decode(u).info;o&&(u=p.encode(o))}catch(o){}return!(this._infoHash&&this._infoHash!==c.sync(u)||(this.cancel(),this.metadata=u,this._metadataComplete=!0,this._metadataSize=this.metadata.length,this._wire.extendedHandshake.metadata_size=this._metadataSize,this.emit("metadata",p.encode({info:p.decode(this.metadata)})),0))}_send(u,o){let d=p.encode(u);h.isBuffer(o)&&(d=h.concat([d,o])),this._wire.extended("ut_metadata",d)}_request(u){this._send({msg_type:0,piece:u})}_data(u,o,d){const f={msg_type:1,piece:u};"number"==typeof d&&(f.total_size=d),this._send(f,o)}_reject(u){this._send({msg_type:2,piece:u})}_onRequest(u){if(!this._metadataComplete)return void this._reject(u);const o=u*n;let d=o+n;d>this._metadataSize&&(d=this._metadataSize);const f=this.metadata.slice(o,d);this._data(u,f,this._metadataSize)}_onData(u,o){o.length>n||!this._fetching||(o.copy(this.metadata,u*n),this._bitfield.set(u),this._checkDone())}_onReject(u){0<this._remainingRejects&&this._fetching?(this._request(u),this._remainingRejects-=1):this.emit("warning",new Error('Peer sent "reject" too much'))}_requestPieces(){if(this._fetching){this.metadata=h.alloc(this._metadataSize);for(let u=0;u<this._numPieces;u++)this._request(u)}}_checkDone(){let u=!0;for(let o=0;o<this._numPieces;o++)if(!this._bitfield.get(o)){u=!1;break}u&&(this.setMetadata(this.metadata)||this._failedMetadata())}_failedMetadata(){this._bitfield=new x(0,{grow:1e3}),this._remainingRejects-=this._numPieces,0<this._remainingRejects?this._requestPieces():this.emit("warning",new Error("Peer sent invalid metadata"))}}return i.prototype.name="ut_metadata",i}}).call(this)}).call(this,v("buffer").Buffer)},{bencode:27,bitfield:31,buffer:69,debug:105,events:70,"simple-sha1":260}],288:[function(v,L){(function(h){(function(){function g(p){try{if(!h.localStorage)return!1}catch(r){return!1}var x=h.localStorage[p];return null!=x&&"true"===(x+"").toLowerCase()}L.exports=function(p,x){if(g("noDeprecation"))return p;var c=!1;return function r(){if(!c){if(g("throwDeprecation"))throw new Error(x);g("traceDeprecation")?console.trace(x):console.warn(x),c=!0}return p.apply(this,arguments)}}}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],289:[function(v,L){(function(h){(function(){const p=v("binary-search"),x=v("events"),r=v("mp4-stream"),c=v("mp4-box-encoding"),l=v("range-slice-stream");class n{constructor(i,s){this._entries=i,this._countName=s||"count",this._index=0,this._offset=0,this.value=this._entries[0]}inc(){this._offset++,this._offset>=this._entries[this._index][this._countName]&&(this._index++,this._offset=0),this.value=this._entries[this._index]}}L.exports=class extends x{constructor(t){super(),this._tracks=[],this._file=t,this._decoder=null,this._findMoov(0)}_findMoov(t){this._decoder&&this._decoder.destroy();let i=0;this._decoder=r.decode();const s=this._file.createReadStream({start:t});s.pipe(this._decoder);const u=o=>{"moov"===o.type?(this._decoder.removeListener("box",u),this._decoder.decode(d=>{s.destroy();try{this._processMoov(d)}catch(f){f.message=`Cannot parse mp4 file: ${f.message}`,this.emit("error",f)}})):o.length<4096?(i+=o.length,this._decoder.ignore()):(this._decoder.removeListener("box",u),i+=o.length,s.destroy(),this._decoder.destroy(),this._findMoov(t+i))};this._decoder.on("box",u)}_processMoov(t){const i=t.traks;this._tracks=[],this._hasVideo=!1,this._hasAudio=!1;for(let d=0;d<i.length;d++){const f=i[d],E=f.mdia.minf.stbl,b=E.stsd.entries[0],I=f.mdia.hdlr.handlerType;let S,R;if("vide"===I&&"avc1"===b.type){if(this._hasVideo)continue;this._hasVideo=!0,S="avc1",b.avcC&&(S+=`.${b.avcC.mimeCodec}`),R=`video/mp4; codecs="${S}"`}else{if("soun"!==I||"mp4a"!==b.type)continue;if(this._hasAudio)continue;this._hasAudio=!0,S="mp4a",b.esds&&b.esds.mimeCodec&&(S+=`.${b.esds.mimeCodec}`),R=`audio/mp4; codecs="${S}"`}const F=[];let q=0,K=0,se=0,xe=0,we=0,A=0;const P=new n(E.stts.entries);let U=null;E.ctts&&(U=new n(E.ctts.entries));for(let M=0;;){var s=E.stsc.entries[we];const O=E.stsz.entries[q],ee=P.value.duration;let ae=!0;if(E.stss&&(ae=E.stss.entries[M]===q+1),F.push({size:O,duration:ee,dts:A,presentationOffset:U?U.value.compositionOffset:0,sync:ae,offset:xe+(E.stco||E.co64).entries[se]}),q++,q>=E.stsz.entries.length)break;if(K++,xe+=O,K>=s.samplesPerChunk){K=0,xe=0,se++;const He=E.stsc.entries[we+1];He&&se+1>=He.firstChunk&&we++}A+=ee,P.inc(),U&&U.inc(),ae&&M++}f.mdia.mdhd.duration=0,f.tkhd.duration=0,this._tracks.push({fragmentSequence:1,trackId:f.tkhd.trackId,timeScale:f.mdia.mdhd.timeScale,samples:F,currSample:null,currTime:null,moov:{type:"moov",mvhd:t.mvhd,traks:[{tkhd:f.tkhd,mdia:{mdhd:f.mdia.mdhd,hdlr:f.mdia.hdlr,elng:f.mdia.elng,minf:{vmhd:f.mdia.minf.vmhd,smhd:f.mdia.minf.smhd,dinf:f.mdia.minf.dinf,stbl:{stsd:E.stsd,stts:{version:0,flags:0,entries:[]},ctts:{version:0,flags:0,entries:[]},stsc:{version:0,flags:0,entries:[]},stsz:{version:0,flags:0,entries:[]},stco:{version:0,flags:0,entries:[]},stss:{version:0,flags:0,entries:[]}}}}}],mvex:{mehd:{fragmentDuration:t.mvhd.duration},trexs:[{trackId:f.tkhd.trackId,defaultSampleDescriptionIndex:s.sampleDescriptionId,defaultSampleDuration:0,defaultSampleSize:0,defaultSampleFlags:0}]}},mime:R})}if(0===this._tracks.length)return void this.emit("error",new Error("no playable tracks"));t.mvhd.duration=0,this._ftyp={type:"ftyp",brand:"iso5",brandVersion:0,compatibleBrands:["iso5"]};const u=c.encode(this._ftyp),o=this._tracks.map(d=>{const f=c.encode(d.moov);return{mime:d.mime,init:h.concat([u,f])}});this.emit("ready",o)}seek(t){if(!this._tracks)throw new Error("Not ready yet; wait for 'ready' event");this._fileStream&&(this._fileStream.destroy(),this._fileStream=null);let i=-1;if(this._tracks.map((s,u)=>{s.outStream&&s.outStream.destroy(),s.inStream&&(s.inStream.destroy(),s.inStream=null);const o=s.outStream=r.encode(),d=this._generateFragment(u,t);if(!d)return o.finalize();(-1===i||d.ranges[0].start<i)&&(i=d.ranges[0].start);const f=E=>{o.destroyed||o.box(E.moof,b=>{if(b)return this.emit("error",b);o.destroyed||s.inStream.slice(E.ranges).pipe(o.mediaData(E.length,S=>{if(S)return this.emit("error",S);if(!o.destroyed){const R=this._generateFragment(u);return R?void f(R):o.finalize()}}))})};f(d)}),0<=i){const s=this._fileStream=this._file.createReadStream({start:i});this._tracks.forEach(u=>{u.inStream=new l(i,{highWaterMark:1e7}),s.pipe(u.inStream)})}return this._tracks.map(s=>s.outStream)}_findSampleBefore(t,i){const s=this._tracks[t],u=Et(s.timeScale*i);let o=p(s.samples,u,(d,f)=>d.dts+d.presentationOffset-f);for(-1===o?o=0:0>o&&(o=-o-2);!s.samples[o].sync;)o--;return o}_generateFragment(t,i){const s=this._tracks[t];let u;if(u=void 0===i?s.currSample:this._findSampleBefore(t,i),u>=s.samples.length)return null;const o=s.samples[u].dts;let d=0;const f=[];for(var E=u;E<s.samples.length;E++){const b=s.samples[E];if(b.sync&&b.dts-o>=1*s.timeScale)break;d+=b.size;const I=f.length-1;0>I||f[I].end!==b.offset?f.push({start:b.offset,end:b.offset+b.size}):f[I].end+=b.size}return s.currSample=E,{moof:this._generateMoof(t,u,E),ranges:f,length:d}}_generateMoof(t,i,s){const u=this._tracks[t],o=[];let d=0;for(let E=i;E<s;E++){const b=u.samples[E];0>b.presentationOffset&&(d=1),o.push({sampleDuration:b.duration,sampleSize:b.size,sampleFlags:b.sync?33554432:16842752,sampleCompositionTimeOffset:b.presentationOffset})}const f={type:"moof",mfhd:{sequenceNumber:u.fragmentSequence++},trafs:[{tfhd:{flags:131072,trackId:u.trackId},tfdt:{baseMediaDecodeTime:u.samples[i].dts},trun:{flags:3841,dataOffset:8,entries:o,version:d}}]};return f.trafs[0].trun.dataOffset+=c.encodingLength(f),f}}}).call(this)}).call(this,v("buffer").Buffer)},{"binary-search":30,buffer:69,events:70,"mp4-box-encoding":184,"mp4-stream":187,"range-slice-stream":224}],290:[function(v,L){function h(r,c,l={}){return this instanceof h?(this.detailedError=null,this._elem=c,this._elemWrapper=new g(c),this._waitingFired=!1,this._trackMeta=null,this._file=r,this._tracks=null,"none"!==this._elem.preload&&this._createMuxer(),this._onError=()=>{this.detailedError=this._elemWrapper.detailedError,this.destroy()},this._onWaiting=()=>{this._waitingFired=!0,this._muxer?this._tracks&&this._pump():this._createMuxer()},c.autoplay&&(c.preload="auto"),c.addEventListener("waiting",this._onWaiting),void c.addEventListener("error",this._onError)):(console.warn("Don't invoke VideoStream without the 'new' keyword."),new h(r,c,l))}const g=v("mediasource"),p=v("pump"),x=v("./mp4-remuxer");h.prototype={_createMuxer(){this._muxer=new x(this._file),this._muxer.on("ready",r=>{this._tracks=r.map(c=>{const l=this._elemWrapper.createWriteStream(c.mime);l.on("error",t=>{this._elemWrapper.error(t)});const n={muxed:null,mediaSource:l,initFlushed:!1,onInitFlushed:null};return l.write(c.init,t=>{n.initFlushed=!0,n.onInitFlushed&&n.onInitFlushed(t)}),n}),(this._waitingFired||"auto"===this._elem.preload)&&this._pump()}),this._muxer.on("error",r=>{this._elemWrapper.error(r)})},_pump(){const r=this._muxer.seek(this._elem.currentTime,!this._tracks);this._tracks.forEach((c,l)=>{const n=()=>{c.muxed&&(c.muxed.destroy(),c.mediaSource=this._elemWrapper.createWriteStream(c.mediaSource),c.mediaSource.on("error",t=>{this._elemWrapper.error(t)})),c.muxed=r[l],p(c.muxed,c.mediaSource)};c.initFlushed?n():c.onInitFlushed=t=>t?void this._elemWrapper.error(t):void n()})},destroy(){this.destroyed||(this.destroyed=!0,this._elem.removeEventListener("waiting",this._onWaiting),this._elem.removeEventListener("error",this._onError),this._tracks&&this._tracks.forEach(r=>{r.muxed&&r.muxed.destroy()}),this._elem.src="")}},L.exports=h},{"./mp4-remuxer":289,mediasource:172,pump:213}],291:[function(v,L){L.exports=function h(g,p){function x(){for(var r=Array(arguments.length),c=0;c<r.length;c++)r[c]=arguments[c];var l=g.apply(this,r),n=r[r.length-1];return"function"==typeof l&&l!==n&&Object.keys(n).forEach(function(t){l[t]=n[t]}),l}if(g&&p)return h(g)(p);if("function"!=typeof g)throw new TypeError("need wrapper function");return Object.keys(g).forEach(function(r){x[r]=g[r]}),x}},{}],292:[function(v,L){L.exports=function(){for(var x,g={},p=0;p<arguments.length;p++)for(var r in x=arguments[p])h.call(x,r)&&(g[r]=x[r]);return g};var h=Object.prototype.hasOwnProperty},{}],293:[function(v,L){L.exports={version:"1.5.8"}},{}],294:[function(v,L){(function(h){(function(){const x=v("events"),r=v("path"),c=v("simple-concat"),l=v("create-torrent"),n=v("debug"),t=v("bittorrent-dht/client"),i=v("load-ip-set"),s=v("run-parallel"),u=v("parse-torrent"),o=v("simple-peer"),d=v("queue-microtask"),f=v("randombytes"),E=v("simple-sha1"),b=v("speedometer"),{ThrottleGroup:I}=v("speed-limiter"),S=v("./lib/conn-pool.js"),R=v("./lib/torrent.js"),{version:F}=v("./package.json"),q=n("webtorrent"),K=F.replace(/\d*./g,xe=>("0"+xe%100).slice(-2)).slice(0,4);class se extends x{constructor(we={}){super(),this.peerId="string"==typeof we.peerId?we.peerId:h.isBuffer(we.peerId)?we.peerId.toString("hex"):h.from(`-WW${K}-`+f(9).toString("base64")).toString("hex"),this.peerIdBuffer=h.from(this.peerId,"hex"),this.nodeId="string"==typeof we.nodeId?we.nodeId:h.isBuffer(we.nodeId)?we.nodeId.toString("hex"):f(20).toString("hex"),this.nodeIdBuffer=h.from(this.nodeId,"hex"),this._debugId=this.peerId.toString("hex").substring(0,7),this.destroyed=!1,this.listening=!1,this.torrentPort=we.torrentPort||0,this.dhtPort=we.dhtPort||0,this.tracker=void 0===we.tracker?{}:we.tracker,this.lsd=!1!==we.lsd,this.torrents=[],this.maxConns=+we.maxConns||55,this.utp=se.UTP_SUPPORT&&!1!==we.utp,this._downloadLimit=ce("number"==typeof we.downloadLimit?we.downloadLimit:-1,-1),this._uploadLimit=ce("number"==typeof we.uploadLimit?we.uploadLimit:-1,-1),this.serviceWorker=null,this.workerKeepAliveInterval=null,this.workerPortCount=0,!0===we.secure&&v("./lib/peer").enableSecure(),this._debug("new webtorrent (peerId %s, nodeId %s, port %s)",this.peerId,this.nodeId,this.torrentPort),this.throttleGroups={down:new I({rate:ce(this._downloadLimit,0),enabled:0<=this._downloadLimit}),up:new I({rate:ce(this._uploadLimit,0),enabled:0<=this._uploadLimit})},this.tracker&&("object"!=typeof this.tracker&&(this.tracker={}),globalThis.WRTC&&!this.tracker.wrtc&&(this.tracker.wrtc=globalThis.WRTC)),"function"==typeof S?this._connPool=new S(this):d(()=>{this._onListening()}),this._downloadSpeed=b(),this._uploadSpeed=b(),!1!==we.dht&&"function"==typeof t?(this.dht=new t(Object.assign({},{nodeId:this.nodeId},we.dht)),this.dht.once("error",P=>{this._destroy(P)}),this.dht.once("listening",()=>{const P=this.dht.address();P&&(this.dhtPort=P.port)}),this.dht.setMaxListeners(0),this.dht.listen(this.dhtPort)):this.dht=!1,this.enableWebSeeds=!1!==we.webSeeds;const A=()=>{this.destroyed||(this.ready=!0,this.emit("ready"))};"function"==typeof i&&null!=we.blocklist?i(we.blocklist,{headers:{"user-agent":`WebTorrent/${F} (https://webtorrent.io)`}},(P,U)=>P?console.error(`Failed to load blocklist: ${P.message}`):(this.blocked=U,void A())):d(A)}loadWorker(we,A=(()=>{})){if(!(we instanceof ServiceWorker))throw new Error("Invalid worker registration");if("activated"!==we.state)throw new Error("Worker isn't activated");this.serviceWorker=we,navigator.serviceWorker.addEventListener("message",P=>{const{data:U}=P;if(!U.type||"webtorrent"===!U.type||!U.url)return null;let[y,...C]=U.url.slice(U.url.indexOf(U.scope+"webtorrent/")+11+U.scope.length).split("/");if(C=decodeURI(C.join("/")),!y||!C)return null;const[M]=P.ports,O=this.get(y)&&this.get(y).files.find(Ve=>Ve.path===C);if(!O)return null;const[ee,$,ae]=O._serve(U),Fe=$&&$[Symbol.asyncIterator](),He=()=>{M.onmessage=null,$&&$.destroy(),ae&&ae.destroy(),this.workerPortCount--,this.workerPortCount||(clearInterval(this.workerKeepAliveInterval),this.workerKeepAliveInterval=null)};M.onmessage=async Ve=>{if(Ve.data){let it;try{it=(await Fe.next()).value}catch(at){}M.postMessage(it),it||He(),this.workerKeepAliveInterval||(this.workerKeepAliveInterval=setInterval(()=>fetch(`${this.serviceWorker.scriptURL.substr(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/keepalive/`),2e4))}else He()},this.workerPortCount++,M.postMessage(ee)}),A(this.serviceWorker)}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){const we=this.torrents.filter(U=>1!==U.progress);return we.reduce((U,y)=>U+y.downloaded,0)/(we.reduce((U,y)=>U+(y.length||0),0)||1)}get ratio(){return this.torrents.reduce((P,U)=>P+U.uploaded,0)/(this.torrents.reduce((P,U)=>P+U.received,0)||1)}get(we){if(we instanceof R){if(this.torrents.includes(we))return we}else{let A;try{A=u(we)}catch(P){}if(!A)return null;if(!A.infoHash)throw new Error("Invalid torrent identifier");for(const P of this.torrents)if(P.infoHash===A.infoHash)return P}return null}add(we,A={},P=(()=>{})){if(this.destroyed)throw new Error("client is destroyed");"function"==typeof A&&([A,P]=[{},A]);const y=()=>{if(!this.destroyed)for(const O of this.torrents)if(O.infoHash===M.infoHash&&O!==M)return void M._destroy(new Error(`Cannot add duplicate torrent ${M.infoHash}`))},C=()=>{this.destroyed||(P(M),this.emit("torrent",M))};this._debug("add"),A=A?Object.assign({},A):{};const M=new R(we,this,A);return this.torrents.push(M),M.once("_infoHash",y),M.once("ready",C),M.once("close",function U(){M.removeListener("_infoHash",y),M.removeListener("ready",C),M.removeListener("close",U)}),M}seed(we,A,P){if(this.destroyed)throw new Error("client is destroyed");"function"==typeof A&&([A,P]=[{},A]),this._debug("seed"),(A=A?Object.assign({},A):{}).skipVerify=!0;const U="string"==typeof we;U&&(A.path=r.dirname(we)),A.createdBy||(A.createdBy=`WebTorrent/${K}`);const y=O=>{this._debug("on seed"),"function"==typeof P&&P(O),O.emit("seed"),this.emit("seed",O)},C=this.add(null,A,O=>{const ee=[$=>U||A.preloadedStore?$():void O.load(M,$)];this.dht&&ee.push($=>{O.once("dhtAnnounce",$)}),s(ee,$=>this.destroyed?void 0:$?O._destroy($):void y(O))});let M;return function p(xe){return"undefined"!=typeof FileList&&xe instanceof FileList}(we)?we=Array.from(we):!Array.isArray(we)&&(we=[we]),s(we.map(O=>ee=>{!A.preloadedStore&&function g(xe){return"object"==typeof xe&&null!=xe&&"function"==typeof xe.pipe}(O)?c(O,($,ae)=>$?ee($):(ae.name=O.name,void ee(null,ae))):ee(null,O)}),(O,ee)=>this.destroyed?void 0:O?C._destroy(O):void l.parseInput(ee,A,($,ae)=>this.destroyed?void 0:$?C._destroy($):(M=ae.map(Fe=>Fe.getStream),void l(ee,A,(Fe,He)=>{if(!this.destroyed){if(Fe)return C._destroy(Fe);const Ve=this.get(He);Ve?C._destroy(new Error(`Cannot add duplicate torrent ${Ve.infoHash}`)):C._onTorrentId(He)}})))),C}remove(we,A,P){if("function"==typeof A)return this.remove(we,null,A);if(this._debug("remove"),!this.get(we))throw new Error(`No torrent with id ${we}`);this._remove(we,A,P)}_remove(we,A,P){if("function"==typeof A)return this._remove(we,null,A);const U=this.get(we);U&&(this.torrents.splice(this.torrents.indexOf(U),1),U.destroy(A,P),this.dht&&this.dht._tables.remove(U.infoHash))}address(){return this.listening?this._connPool?this._connPool.tcpServer.address():{address:"0.0.0.0",family:"IPv4",port:0}:null}throttleDownload(we){return we=+we,!(isNaN(we)||!isFinite(we)||-1>we)&&(this._downloadLimit=we,0>this._downloadLimit?this.throttleGroups.down.setEnabled(!1):(this.throttleGroups.down.setEnabled(!0),void this.throttleGroups.down.setRate(this._downloadLimit)))}throttleUpload(we){return we=+we,!(isNaN(we)||!isFinite(we)||-1>we)&&(this._uploadLimit=we,0>this._uploadLimit?this.throttleGroups.up.setEnabled(!1):(this.throttleGroups.up.setEnabled(!0),void this.throttleGroups.up.setRate(this._uploadLimit)))}destroy(we){if(this.destroyed)throw new Error("client already destroyed");this._destroy(null,we)}_destroy(we,A){this._debug("client destroy"),this.destroyed=!0;const P=this.torrents.map(U=>y=>{U.destroy(y)});this._connPool&&P.push(U=>{this._connPool.destroy(U)}),this.dht&&P.push(U=>{this.dht.destroy(U)}),s(P,A),we&&this.emit("error",we),this.torrents=[],this._connPool=null,this.dht=null,this.throttleGroups.down.destroy(),this.throttleGroups.up.destroy()}_onListening(){if(this._debug("listening"),this.listening=!0,this._connPool){const we=this._connPool.tcpServer.address();we&&(this.torrentPort=we.port)}this.emit("listening")}_debug(){const we=[].slice.call(arguments);we[0]=`[${this._debugId}] ${we[0]}`,q(...we)}_getByHash(we){for(const A of this.torrents)if(A.infoHashHash||(A.infoHashHash=E.sync(h.from("72657132"+A.infoHash,"hex"))),we===A.infoHashHash)return A;return null}}se.WEBRTC_SUPPORT=o.WEBRTC_SUPPORT,se.UTP_SUPPORT=S.UTP_SUPPORT,se.VERSION=F,L.exports=se}).call(this)}).call(this,v("buffer").Buffer)},{"./lib/conn-pool.js":41,"./lib/peer":3,"./lib/torrent.js":5,"./package.json":293,"bittorrent-dht/client":41,buffer:69,"create-torrent":103,debug:105,events:70,"load-ip-set":41,"parse-torrent":197,path:71,"queue-microtask":218,randombytes:221,"run-parallel":245,"simple-concat":257,"simple-peer":259,"simple-sha1":260,"speed-limiter":263,speedometer:267}]},{},[294])(294)}),function(Kt){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Kt():"function"==typeof define&&define.amd?define([],Kt):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Kuroshiro=Kt()}(function(){return function At(Et,kt,V){function Ue(Q,Z){if(!kt[Q]){if(!Et[Q]){var ce="function"==typeof require&&require;if(!Z&&ce)return ce(Q,!0);if(Pe)return Pe(Q,!0);var de=new Error("Cannot find module '"+Q+"'");throw de.code="MODULE_NOT_FOUND",de}var ne=kt[Q]={exports:{}};Et[Q][0].call(ne.exports,function(me){return Ue(Et[Q][1][me]||me)},ne,ne.exports,At,Et,kt,V)}return kt[Q].exports}for(var Pe="function"==typeof require&&require,_=0;_<V.length;_++)Ue(V[_]);return Ue}({1:[function(At,Et,kt){Et.exports=At("regenerator-runtime")},{"regenerator-runtime":2}],2:[function(At,Et,kt){var V=function(){return this}()||Function("return this")(),Ue=V.regeneratorRuntime&&Object.getOwnPropertyNames(V).indexOf("regeneratorRuntime")>=0,Pe=Ue&&V.regeneratorRuntime;if(V.regeneratorRuntime=void 0,Et.exports=At("./runtime"),Ue)V.regeneratorRuntime=Pe;else try{delete V.regeneratorRuntime}catch(_){V.regeneratorRuntime=void 0}},{"./runtime":3}],3:[function(At,Et,kt){!function(V){"use strict";var _,Ue=Object.prototype,Pe=Ue.hasOwnProperty,Q="function"==typeof Symbol?Symbol:{},Z=Q.iterator||"@@iterator",ce=Q.asyncIterator||"@@asyncIterator",de=Q.toStringTag||"@@toStringTag",ne="object"==typeof Et,me=V.regeneratorRuntime;if(me)ne&&(Et.exports=me);else{(me=V.regeneratorRuntime=ne?Et.exports:{}).wrap=v;var h="suspendedStart",g="suspendedYield",p="executing",x="completed",r={},t={};t[Z]=function(){return this};var i=Object.getPrototypeOf,s=i&&i(i(R([])));s&&s!==Ue&&Pe.call(s,Z)&&(t=s);var u=n.prototype=c.prototype=Object.create(t);l.prototype=u.constructor=n,n.constructor=l,n[de]=l.displayName="GeneratorFunction",me.isGeneratorFunction=function(q){var K="function"==typeof q&&q.constructor;return!!K&&(K===l||"GeneratorFunction"===(K.displayName||K.name))},me.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,n):(q.__proto__=n,de in q||(q[de]="GeneratorFunction")),q.prototype=Object.create(u),q},me.awrap=function(q){return{__await:q}},o(d.prototype),d.prototype[ce]=function(){return this},me.AsyncIterator=d,me.async=function(q,K,se,xe){var we=new d(v(q,K,se,xe));return me.isGeneratorFunction(K)?we:we.next().then(function(A){return A.done?A.value:we.next()})},o(u),u[de]="Generator",u[Z]=function(){return this},u.toString=function(){return"[object Generator]"},me.keys=function(q){var K=[];for(var se in q)K.push(se);return K.reverse(),function xe(){for(;K.length;){var we=K.pop();if(we in q)return xe.value=we,xe.done=!1,xe}return xe.done=!0,xe}},me.values=R,S.prototype={constructor:S,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,this.tryEntries.forEach(I),!q)for(var K in this)"t"===K.charAt(0)&&Pe.call(this,K)&&!isNaN(+K.slice(1))&&(this[K]=_)},stop:function(){this.done=!0;var K=this.tryEntries[0].completion;if("throw"===K.type)throw K.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var K=this;function se(y,C){return A.type="throw",A.arg=q,K.next=y,C&&(K.method="next",K.arg=_),!!C}for(var xe=this.tryEntries.length-1;xe>=0;--xe){var we=this.tryEntries[xe],A=we.completion;if("root"===we.tryLoc)return se("end");if(we.tryLoc<=this.prev){var P=Pe.call(we,"catchLoc"),U=Pe.call(we,"finallyLoc");if(P&&U){if(this.prev<we.catchLoc)return se(we.catchLoc,!0);if(this.prev<we.finallyLoc)return se(we.finallyLoc)}else if(P){if(this.prev<we.catchLoc)return se(we.catchLoc,!0)}else{if(!U)throw new Error("try statement without catch or finally");if(this.prev<we.finallyLoc)return se(we.finallyLoc)}}}},abrupt:function(q,K){for(var se=this.tryEntries.length-1;se>=0;--se){var xe=this.tryEntries[se];if(xe.tryLoc<=this.prev&&Pe.call(xe,"finallyLoc")&&this.prev<xe.finallyLoc){var we=xe;break}}we&&("break"===q||"continue"===q)&&we.tryLoc<=K&&K<=we.finallyLoc&&(we=null);var A=we?we.completion:{};return A.type=q,A.arg=K,we?(this.method="next",this.next=we.finallyLoc,r):this.complete(A)},complete:function(q,K){if("throw"===q.type)throw q.arg;return"break"===q.type||"continue"===q.type?this.next=q.arg:"return"===q.type?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):"normal"===q.type&&K&&(this.next=K),r},finish:function(q){for(var K=this.tryEntries.length-1;K>=0;--K){var se=this.tryEntries[K];if(se.finallyLoc===q)return this.complete(se.completion,se.afterLoc),I(se),r}},catch:function(q){for(var K=this.tryEntries.length-1;K>=0;--K){var se=this.tryEntries[K];if(se.tryLoc===q){var xe=se.completion;if("throw"===xe.type){var we=xe.arg;I(se)}return we}}throw new Error("illegal catch attempt")},delegateYield:function(q,K,se){return this.delegate={iterator:R(q),resultName:K,nextLoc:se},"next"===this.method&&(this.arg=_),r}}}function v(q,K,se,xe){var A=Object.create((K&&K.prototype instanceof c?K:c).prototype),P=new S(xe||[]);return A._invoke=function f(q,K,se){var xe=h;return function(A,P){if(xe===p)throw new Error("Generator is already running");if(xe===x){if("throw"===A)throw P;return F()}for(se.method=A,se.arg=P;;){var U=se.delegate;if(U){var y=E(U,se);if(y){if(y===r)continue;return y}}if("next"===se.method)se.sent=se._sent=se.arg;else if("throw"===se.method){if(xe===h)throw xe=x,se.arg;se.dispatchException(se.arg)}else"return"===se.method&&se.abrupt("return",se.arg);xe=p;var C=L(q,K,se);if("normal"===C.type){if(xe=se.done?x:g,C.arg===r)continue;return{value:C.arg,done:se.done}}"throw"===C.type&&(xe=x,se.method="throw",se.arg=C.arg)}}}(q,se,P),A}function L(q,K,se){try{return{type:"normal",arg:q.call(K,se)}}catch(xe){return{type:"throw",arg:xe}}}function c(){}function l(){}function n(){}function o(q){["next","throw","return"].forEach(function(K){q[K]=function(se){return this._invoke(K,se)}})}function d(q){function K(we,A,P,U){var y=L(q[we],q,A);if("throw"!==y.type){var C=y.arg,M=C.value;return M&&"object"==typeof M&&Pe.call(M,"__await")?Promise.resolve(M.__await).then(function(O){K("next",O,P,U)},function(O){K("throw",O,P,U)}):Promise.resolve(M).then(function(O){C.value=O,P(C)},U)}U(y.arg)}var se;this._invoke=function xe(we,A){function P(){return new Promise(function(U,y){K(we,A,U,y)})}return se=se?se.then(P,P):P()}}function E(q,K){var se=q.iterator[K.method];if(se===_){if(K.delegate=null,"throw"===K.method){if(q.iterator.return&&(K.method="return",K.arg=_,E(q,K),"throw"===K.method))return r;K.method="throw",K.arg=new TypeError("The iterator does not provide a 'throw' method")}return r}var xe=L(se,q.iterator,K.arg);if("throw"===xe.type)return K.method="throw",K.arg=xe.arg,K.delegate=null,r;var we=xe.arg;return we?we.done?(K[q.resultName]=we.value,K.next=q.nextLoc,"return"!==K.method&&(K.method="next",K.arg=_),K.delegate=null,r):we:(K.method="throw",K.arg=new TypeError("iterator result is not an object"),K.delegate=null,r)}function b(q){var K={tryLoc:q[0]};1 in q&&(K.catchLoc=q[1]),2 in q&&(K.finallyLoc=q[2],K.afterLoc=q[3]),this.tryEntries.push(K)}function I(q){var K=q.completion||{};K.type="normal",delete K.arg,q.completion=K}function S(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(b,this),this.reset(!0)}function R(q){if(q){var K=q[Z];if(K)return K.call(q);if("function"==typeof q.next)return q;if(!isNaN(q.length)){var se=-1,xe=function we(){for(;++se<q.length;)if(Pe.call(q,se))return we.value=q[se],we.done=!1,we;return we.value=_,we.done=!0,we};return xe.next=xe}}return{next:F}}function F(){return{value:_,done:!0}}}(function(){return this}()||Function("return this")())},{}],4:[function(At,Et,kt){"use strict";var V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L};Object.defineProperty(kt,"__esModule",{value:!0});var Pe=function ce(L){return L&&L.__esModule?L:{default:L}}(At("babel-runtime/regenerator")),_="function"==typeof Symbol&&"symbol"===V(Symbol.iterator)?function(L){return void 0===L?"undefined":V(L)}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":void 0===L?"undefined":V(L)},Q=function(){function L(h,g){for(var p=0;p<g.length;p++){var x=g[p];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,g,p){return g&&L(h.prototype,g),p&&L(h,p),h}}(),Z=At("./util");function de(L){return function(){var h=L.apply(this,arguments);return new Promise(function(g,p){return function x(r,c){try{var l=h[r](c),n=l.value}catch(t){return void p(t)}if(!l.done)return Promise.resolve(n).then(function(t){x("next",t)},function(t){x("throw",t)});g(n)}("next")})}}var me=function(){function L(){(function ne(L,h){if(!(L instanceof h))throw new TypeError("Cannot call a class as a function")})(this,L),this._analyzer=null}return Q(L,[{key:"init",value:(h=de(Pe.default.mark(function p(x){return Pe.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(x&&"object"===(void 0===x?"undefined":_(x))&&"function"==typeof x.init&&"function"==typeof x.parse){c.next=4;break}throw new Error("Invalid initialization parameter.");case 4:if(null!=this._analyzer){c.next=16;break}return c.prev=5,c.next=8,x.init();case 8:this._analyzer=x,c.next=14;break;case 11:throw c.prev=11,c.t0=c.catch(5),c.t0;case 14:c.next=17;break;case 16:throw new Error("Kuroshiro has already been initialized.");case 17:case"end":return c.stop()}},p,this,[[5,11]])})),function g(p){return h.apply(this,arguments)})},{key:"convert",value:function(){var h=de(Pe.default.mark(function p(x,r){var n,t,i,s,u,o,d,f,E,b,I,S,R,F,q,K,se,xe,we,A,P,U,y,C,M,O,ee,$,ae,Fe;return Pe.default.wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if((r=r||{}).to=r.to||"hiragana",r.mode=r.mode||"normal",r.romajiSystem=r.romajiSystem||Z.ROMANIZATION_SYSTEM.HEPBURN,r.delimiter_start=r.delimiter_start||"(",r.delimiter_end=r.delimiter_end||")",x=x||"",-1!==["hiragana","katakana","romaji"].indexOf(r.to)){Ve.next=9;break}throw new Error("Invalid Target Syllabary.");case 9:if(-1!==["normal","spaced","okurigana","furigana"].indexOf(r.mode)){Ve.next=11;break}throw new Error("Invalid Conversion Mode.");case 11:if(-1!==Object.keys(Z.ROMANIZATION_SYSTEM).map(function(it){return Z.ROMANIZATION_SYSTEM[it]}).indexOf(r.romajiSystem)){Ve.next=14;break}throw new Error("Invalid Romanization System.");case 14:return Ve.next=16,this._analyzer.parse(x);case 16:if(n=(0,Z.patchTokens)(Ve.sent),"normal"!==r.mode&&"spaced"!==r.mode){Ve.next=36;break}Ve.t0=r.to,Ve.next="katakana"===Ve.t0?22:"romaji"===Ve.t0?25:"hiragana"===Ve.t0?29:33;break;case 22:if("normal"!==r.mode){Ve.next=24;break}return Ve.abrupt("return",n.map(function(it){return it.reading}).join(""));case 24:return Ve.abrupt("return",n.map(function(it){return it.reading}).join(" "));case 25:if(t=function(at){var qt;return qt=(0,Z.hasJapanese)(at.surface_form)?at.pronunciation||at.reading:at.surface_form,(0,Z.toRawRomaji)(qt,r.romajiSystem)},"normal"!==r.mode){Ve.next=28;break}return Ve.abrupt("return",n.map(t).join(""));case 28:return Ve.abrupt("return",n.map(t).join(" "));case 29:for(i=0;i<n.length;i++)if((0,Z.hasKanji)(n[i].surface_form))if((0,Z.hasKatakana)(n[i].surface_form)){for(n[i].reading=(0,Z.toRawHiragana)(n[i].reading),s="",u="",o=0;o<n[i].surface_form.length;o++)(0,Z.isKanji)(n[i].surface_form[o])?u+="(.*)":u+=(0,Z.isKatakana)(n[i].surface_form[o])?(0,Z.toRawHiragana)(n[i].surface_form[o]):n[i].surface_form[o];if(d=new RegExp(u),f=d.exec(n[i].reading)){for(E=0,b=0;b<n[i].surface_form.length;b++)(0,Z.isKanji)(n[i].surface_form[b])?(s+=f[E+1],E++):s+=n[i].surface_form[b];n[i].reading=s}}else n[i].reading=(0,Z.toRawHiragana)(n[i].reading);else n[i].reading=n[i].surface_form;if("normal"!==r.mode){Ve.next=32;break}return Ve.abrupt("return",n.map(function(it){return it.reading}).join(""));case 32:return Ve.abrupt("return",n.map(function(it){return it.reading}).join(" "));case 33:throw new Error("Unknown option.to param");case 34:Ve.next=73;break;case 36:if("okurigana"!==r.mode&&"furigana"!==r.mode){Ve.next=73;break}I=[],S=0;case 39:if(!(S<n.length)){Ve.next=62;break}R=(0,Z.getStrType)(n[S].surface_form),Ve.t1=R,Ve.next=0===Ve.t1?44:1===Ve.t1?46:2===Ve.t1?54:3===Ve.t1?56:58;break;case 44:return I.push([n[S].surface_form,1,(0,Z.toRawHiragana)(n[S].reading),n[S].pronunciation||n[S].reading]),Ve.abrupt("break",59);case 46:for(F="",q=!1,K=[],se=0;se<n[S].surface_form.length;se++)(0,Z.isKanji)(n[S].surface_form[se])?q?K[K.length-1]+=n[S].surface_form[se]:(q=!0,F+="(.*)",K.push(n[S].surface_form[se])):(q=!1,K.push(n[S].surface_form[se]),F+=(0,Z.isKatakana)(n[S].surface_form[se])?(0,Z.toRawHiragana)(n[S].surface_form[se]):n[S].surface_form[se]);if(xe=new RegExp("^"+F+"$"),we=xe.exec((0,Z.toRawHiragana)(n[S].reading)))for(A=1,P=0;P<K.length;P++)(0,Z.isKanji)(K[P][0])?(I.push([K[P],1,we[A],(0,Z.toRawKatakana)(we[A])]),A+=1):I.push([K[P],2,(0,Z.toRawHiragana)(K[P]),(0,Z.toRawKatakana)(K[P])]);else I.push([n[S].surface_form,1,(0,Z.toRawHiragana)(n[S].reading),n[S].pronunciation||n[S].reading]);return Ve.abrupt("break",59);case 54:for(U=0;U<n[S].surface_form.length;U++)I.push([n[S].surface_form[U],2,(0,Z.toRawHiragana)(n[S].reading[U]),n[S].pronunciation&&n[S].pronunciation[U]||n[S].reading[U]]);return Ve.abrupt("break",59);case 56:for(y=0;y<n[S].surface_form.length;y++)I.push([n[S].surface_form[y],3,n[S].surface_form[y],n[S].surface_form[y]]);return Ve.abrupt("break",59);case 58:throw new Error("Unknown strType");case 59:S++,Ve.next=39;break;case 62:C="",Ve.t2=r.to,Ve.next="katakana"===Ve.t2?66:"romaji"===Ve.t2?68:"hiragana"===Ve.t2?70:72;break;case 66:if("okurigana"===r.mode)for(M=0;M<I.length;M++)C+=1!==I[M][1]?I[M][0]:I[M][0]+r.delimiter_start+(0,Z.toRawKatakana)(I[M][2])+r.delimiter_end;else for(O=0;O<I.length;O++)C+=1!==I[O][1]?I[O][0]:"<ruby>"+I[O][0]+"<rp>"+r.delimiter_start+"</rp><rt>"+(0,Z.toRawKatakana)(I[O][2])+"</rt><rp>"+r.delimiter_end+"</rp></ruby>";return Ve.abrupt("return",C);case 68:if("okurigana"===r.mode)for(ee=0;ee<I.length;ee++)C+=1!==I[ee][1]?I[ee][0]:I[ee][0]+r.delimiter_start+(0,Z.toRawRomaji)(I[ee][3],r.romajiSystem)+r.delimiter_end;else{for(C+="<ruby>",$=0;$<I.length;$++)C+=I[$][0]+"<rp>"+r.delimiter_start+"</rp><rt>"+(0,Z.toRawRomaji)(I[$][3],r.romajiSystem)+"</rt><rp>"+r.delimiter_end+"</rp>";C+="</ruby>"}return Ve.abrupt("return",C);case 70:if("okurigana"===r.mode)for(ae=0;ae<I.length;ae++)C+=1!==I[ae][1]?I[ae][0]:I[ae][0]+r.delimiter_start+I[ae][2]+r.delimiter_end;else for(Fe=0;Fe<I.length;Fe++)C+=1!==I[Fe][1]?I[Fe][0]:"<ruby>"+I[Fe][0]+"<rp>"+r.delimiter_start+"</rp><rt>"+I[Fe][2]+"</rt><rp>"+r.delimiter_end+"</rp></ruby>";return Ve.abrupt("return",C);case 72:throw new Error("Invalid Target Syllabary.");case 73:case"end":return Ve.stop()}},p,this)}));return function g(p,x){return h.apply(this,arguments)}}()}]),L;var h}();me.Util={isHiragana:Z.isHiragana,isKatakana:Z.isKatakana,isKana:Z.isKana,isKanji:Z.isKanji,isJapanese:Z.isJapanese,hasHiragana:Z.hasHiragana,hasKatakana:Z.hasKatakana,hasKana:Z.hasKana,hasKanji:Z.hasKanji,hasJapanese:Z.hasJapanese,kanaToHiragna:Z.kanaToHiragna,kanaToKatakana:Z.kanaToKatakana,kanaToRomaji:Z.kanaToRomaji},kt.default=me,Et.exports=kt.default},{"./util":6,"babel-runtime/regenerator":1}],5:[function(At,Et,kt){"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var Ue=function Pe(_){return _&&_.__esModule?_:{default:_}}(At("./core"));kt.default=Ue.default,Et.exports=kt.default},{"./core":4}],6:[function(At,Et,kt){"use strict";function V(s){if(Array.isArray(s)){for(var u=0,o=Array(s.length);u<s.length;u++)o[u]=s[u];return o}return Array.from(s)}Object.defineProperty(kt,"__esModule",{value:!0});var Ue="\u3041".charCodeAt(0)-"\u30a1".charCodeAt(0),Pe="\u30a1".charCodeAt(0)-"\u3041".charCodeAt(0),_={NIPPON:"nippon",PASSPORT:"passport",HEPBURN:"hepburn"},Q=function(u){return(u=u[0])>="\u3040"&&u<="\u309f"},Z=function(u){return(u=u[0])>="\u30a0"&&u<="\u30ff"},ce=function(u){return Q(u)||Z(u)},de=function(u){return(u=u[0])>="\u4e00"&&u<="\u9fcf"||u>="\uf900"&&u<="\ufaff"||u>="\u3400"&&u<="\u4dbf"},ne=function(u){return ce(u)||de(u)},me=function(u){for(var o=0;o<u.length;o++)if(Q(u[o]))return!0;return!1},g=function(u){for(var o=0;o<u.length;o++)if(ne(u[o]))return!0;return!1},p=function(u){return[].concat(V(u)).map(function(o){return o>"\u30a0"&&o<"\u30f7"?String.fromCharCode(o.charCodeAt(0)+Ue):o}).join("")},x=function(u){return[].concat(V(u)).map(function(o){return o>"\u3040"&&o<"\u3097"?String.fromCharCode(o.charCodeAt(0)+Pe):o}).join("")},r=function(u,o){var d={nippon:{"\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff10":"0","\uff01":"!","\u201c":'"',"\u201d":'"',"\uff03":"#","\uff04":"$","\uff05":"%","\uff06":"&","\u2019":"'","\uff08":"(","\uff09":")","\uff1d":"=","\uff5e":"~","\uff5c":"|","\uff20":"@","\u2018":"`","\uff0b":"+","\uff0a":"*","\uff1b":";","\uff1a":":","\uff1c":"<","\uff1e":">","\u3001":",","\u3002":".","\uff0f":"/","\uff1f":"?","\uff3f":"_","\u30fb":"\uff65","\u300c":'"',"\u300d":'"',"\uff5b":"{","\uff5d":"}","\uffe5":"\\","\uff3e":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304a:"o",\u30a2:"a",\u30a4:"i",\u30a6:"u",\u30a8:"e",\u30aa:"o",\u304b:"ka",\u304d:"ki",\u304f:"ku",\u3051:"ke",\u3053:"ko",\u30ab:"ka",\u30ad:"ki",\u30af:"ku",\u30b1:"ke",\u30b3:"ko",\u3055:"sa",\u3057:"si",\u3059:"su",\u305b:"se",\u305d:"so",\u30b5:"sa",\u30b7:"si",\u30b9:"su",\u30bb:"se",\u30bd:"so",\u305f:"ta",\u3061:"ti",\u3064:"tu",\u3066:"te",\u3068:"to",\u30bf:"ta",\u30c1:"ti",\u30c4:"tu",\u30c6:"te",\u30c8:"to",\u306a:"na",\u306b:"ni",\u306c:"nu",\u306d:"ne",\u306e:"no",\u30ca:"na",\u30cb:"ni",\u30cc:"nu",\u30cd:"ne",\u30ce:"no",\u306f:"ha",\u3072:"hi",\u3075:"hu",\u3078:"he",\u307b:"ho",\u30cf:"ha",\u30d2:"hi",\u30d5:"hu",\u30d8:"he",\u30db:"ho",\u307e:"ma",\u307f:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30de:"ma",\u30df:"mi",\u30e0:"mu",\u30e1:"me",\u30e2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30e4:"ya",\u30e6:"yu",\u30e8:"yo",\u3089:"ra",\u308a:"ri",\u308b:"ru",\u308c:"re",\u308d:"ro",\u30e9:"ra",\u30ea:"ri",\u30eb:"ru",\u30ec:"re",\u30ed:"ro",\u308f:"wa",\u3090:"wi",\u3091:"we",\u3092:"wo",\u30ef:"wa",\u30f0:"wi",\u30f1:"we",\u30f2:"wo",\u304c:"ga",\u304e:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30ac:"ga",\u30ae:"gi",\u30b0:"gu",\u30b2:"ge",\u30b4:"go",\u3056:"za",\u3058:"zi",\u305a:"zu",\u305c:"ze",\u305e:"zo",\u30b6:"za",\u30b8:"zi",\u30ba:"zu",\u30bc:"ze",\u30be:"zo",\u3060:"da",\u3062:"di",\u3065:"du",\u3067:"de",\u3069:"do",\u30c0:"da",\u30c2:"di",\u30c5:"du",\u30c7:"de",\u30c9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307c:"bo",\u30d0:"ba",\u30d3:"bi",\u30d6:"bu",\u30d9:"be",\u30dc:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307a:"pe",\u307d:"po",\u30d1:"pa",\u30d4:"pi",\u30d7:"pu",\u30da:"pe",\u30dd:"po",\u304d\u3083:"kya",\u304d\u3085:"kyu",\u304d\u3087:"kyo",\u3057\u3083:"sya",\u3057\u3085:"syu",\u3057\u3087:"syo",\u3061\u3083:"tya",\u3061\u3085:"tyu",\u3061\u3087:"tyo",\u306b\u3083:"nya",\u306b\u3085:"nyu",\u306b\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307f\u3083:"mya",\u307f\u3085:"myu",\u307f\u3087:"myo",\u308a\u3083:"rya",\u308a\u3085:"ryu",\u308a\u3087:"ryo",\u30ad\u30e3:"kya",\u30ad\u30e5:"kyu",\u30ad\u30e7:"kyo",\u30b7\u30e3:"sya",\u30b7\u30e5:"syu",\u30b7\u30e7:"syo",\u30c1\u30e3:"tya",\u30c1\u30e5:"tyu",\u30c1\u30e7:"tyo",\u30cb\u30e3:"nya",\u30cb\u30e5:"nyu",\u30cb\u30e7:"nyo",\u30d2\u30e3:"hya",\u30d2\u30e5:"hyu",\u30d2\u30e7:"hyo",\u30df\u30e3:"mya",\u30df\u30e5:"myu",\u30df\u30e7:"myo",\u30ea\u30e3:"rya",\u30ea\u30e5:"ryu",\u30ea\u30e7:"ryo",\u304e\u3083:"gya",\u304e\u3085:"gyu",\u304e\u3087:"gyo",\u3058\u3083:"zya",\u3058\u3085:"zyu",\u3058\u3087:"zyo",\u3062\u3083:"dya",\u3062\u3085:"dyu",\u3062\u3087:"dyo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u304f\u308e:"kwa",\u3050\u308e:"gwa",\u30ae\u30e3:"gya",\u30ae\u30e5:"gyu",\u30ae\u30e7:"gyo",\u30b8\u30e3:"zya",\u30b8\u30e5:"zyu",\u30b8\u30e7:"zyo",\u30c2\u30e3:"dya",\u30c2\u30e5:"dyu",\u30c2\u30e7:"dyo",\u30d3\u30e3:"bya",\u30d3\u30e5:"byu",\u30d3\u30e7:"byo",\u30d4\u30e3:"pya",\u30d4\u30e5:"pyu",\u30d4\u30e7:"pyo",\u30af\u30ee:"kwa",\u30b0\u30ee:"gwa",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308e:"wa",\u30a1:"a",\u30a3:"i",\u30a5:"u",\u30a7:"e",\u30a9:"o",\u30e3:"ya",\u30e5:"yu",\u30e7:"yo",\u30ee:"wa",\u30f5:"ka",\u30f6:"ke",\u3093:"n",\u30f3:"n","\u3000":" ",\u3044\u3047:"ye",\u304d\u3047:"kye",\u304f\u3043:"kwi",\u304f\u3047:"kwe",\u304f\u3049:"kwo",\u3050\u3043:"gwi",\u3050\u3047:"gwe",\u3050\u3049:"gwo",\u30a4\u30a7:"ye",\u30ad\u30a7:"kya",\u30af\u30a3:"kwi",\u30af\u30a7:"kwe",\u30af\u30a9:"kwo",\u30b0\u30a3:"gwi",\u30b0\u30a7:"gwe",\u30b0\u30a9:"gwo",\u3057\u3047:"sye",\u3058\u3047:"zye",\u3059\u3043:"swi",\u305a\u3043:"zwi",\u3061\u3047:"tye",\u3064\u3041:"twa",\u3064\u3043:"twi",\u3064\u3047:"twe",\u3064\u3049:"two",\u306b\u3047:"nye",\u3072\u3047:"hye",\u3075\u3041:"hwa",\u3075\u3043:"hwi",\u3075\u3047:"hwe",\u3075\u3049:"hwo",\u3075\u3085:"hwyu",\u3075\u3087:"hwyo",\u30b7\u30a7:"sye",\u30b8\u30a7:"zye",\u30b9\u30a3:"swi",\u30ba\u30a3:"zwi",\u30c1\u30a7:"tye",\u30c4\u30a1:"twa",\u30c4\u30a3:"twi",\u30c4\u30a7:"twe",\u30c4\u30a9:"two",\u30cb\u30a7:"nye",\u30d2\u30a7:"hye",\u30d5\u30a1:"hwa",\u30d5\u30a3:"hwi",\u30d5\u30a7:"hwe",\u30d5\u30a9:"hwo",\u30d5\u30e5:"hwyu",\u30d5\u30e7:"hwyo"},passport:{"\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff10":"0","\uff01":"!","\u201c":'"',"\u201d":'"',"\uff03":"#","\uff04":"$","\uff05":"%","\uff06":"&","\u2019":"'","\uff08":"(","\uff09":")","\uff1d":"=","\uff5e":"~","\uff5c":"|","\uff20":"@","\u2018":"`","\uff0b":"+","\uff0a":"*","\uff1b":";","\uff1a":":","\uff1c":"<","\uff1e":">","\u3001":",","\u3002":".","\uff0f":"/","\uff1f":"?","\uff3f":"_","\u30fb":"\uff65","\u300c":'"',"\u300d":'"',"\uff5b":"{","\uff5d":"}","\uffe5":"\\","\uff3e":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304a:"o",\u30a2:"a",\u30a4:"i",\u30a6:"u",\u30a8:"e",\u30aa:"o",\u304b:"ka",\u304d:"ki",\u304f:"ku",\u3051:"ke",\u3053:"ko",\u30ab:"ka",\u30ad:"ki",\u30af:"ku",\u30b1:"ke",\u30b3:"ko",\u3055:"sa",\u3057:"shi",\u3059:"su",\u305b:"se",\u305d:"so",\u30b5:"sa",\u30b7:"shi",\u30b9:"su",\u30bb:"se",\u30bd:"so",\u305f:"ta",\u3061:"chi",\u3064:"tsu",\u3066:"te",\u3068:"to",\u30bf:"ta",\u30c1:"chi",\u30c4:"tsu",\u30c6:"te",\u30c8:"to",\u306a:"na",\u306b:"ni",\u306c:"nu",\u306d:"ne",\u306e:"no",\u30ca:"na",\u30cb:"ni",\u30cc:"nu",\u30cd:"ne",\u30ce:"no",\u306f:"ha",\u3072:"hi",\u3075:"fu",\u3078:"he",\u307b:"ho",\u30cf:"ha",\u30d2:"hi",\u30d5:"fu",\u30d8:"he",\u30db:"ho",\u307e:"ma",\u307f:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30de:"ma",\u30df:"mi",\u30e0:"mu",\u30e1:"me",\u30e2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30e4:"ya",\u30e6:"yu",\u30e8:"yo",\u3089:"ra",\u308a:"ri",\u308b:"ru",\u308c:"re",\u308d:"ro",\u30e9:"ra",\u30ea:"ri",\u30eb:"ru",\u30ec:"re",\u30ed:"ro",\u308f:"wa",\u3090:"i",\u3091:"e",\u3092:"o",\u30ef:"wa",\u30f0:"i",\u30f1:"e",\u30f2:"o",\u304c:"ga",\u304e:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30ac:"ga",\u30ae:"gi",\u30b0:"gu",\u30b2:"ge",\u30b4:"go",\u3056:"za",\u3058:"ji",\u305a:"zu",\u305c:"ze",\u305e:"zo",\u30b6:"za",\u30b8:"ji",\u30ba:"zu",\u30bc:"ze",\u30be:"zo",\u3060:"da",\u3062:"ji",\u3065:"zu",\u3067:"de",\u3069:"do",\u30c0:"da",\u30c2:"ji",\u30c5:"zu",\u30c7:"de",\u30c9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307c:"bo",\u30d0:"ba",\u30d3:"bi",\u30d6:"bu",\u30d9:"be",\u30dc:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307a:"pe",\u307d:"po",\u30d1:"pa",\u30d4:"pi",\u30d7:"pu",\u30da:"pe",\u30dd:"po",\u304d\u3083:"kya",\u304d\u3085:"kyu",\u304d\u3087:"kyo",\u3057\u3083:"sha",\u3057\u3085:"shu",\u3057\u3087:"sho",\u3061\u3083:"cha",\u3061\u3085:"chu",\u3061\u3087:"cho",\u306b\u3083:"nya",\u306b\u3085:"nyu",\u306b\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307f\u3083:"mya",\u307f\u3085:"myu",\u307f\u3087:"myo",\u308a\u3083:"rya",\u308a\u3085:"ryu",\u308a\u3087:"ryo",\u30ad\u30e3:"kya",\u30ad\u30e5:"kyu",\u30ad\u30e7:"kyo",\u30b7\u30e3:"sha",\u30b7\u30e5:"shu",\u30b7\u30e7:"sho",\u30c1\u30e3:"cha",\u30c1\u30e5:"chu",\u30c1\u30e7:"cho",\u30cb\u30e3:"nya",\u30cb\u30e5:"nyu",\u30cb\u30e7:"nyo",\u30d2\u30e3:"hya",\u30d2\u30e5:"hyu",\u30d2\u30e7:"hyo",\u30df\u30e3:"mya",\u30df\u30e5:"myu",\u30df\u30e7:"myo",\u30ea\u30e3:"rya",\u30ea\u30e5:"ryu",\u30ea\u30e7:"ryo",\u304e\u3083:"gya",\u304e\u3085:"gyu",\u304e\u3087:"gyo",\u3058\u3083:"ja",\u3058\u3085:"ju",\u3058\u3087:"jo",\u3062\u3083:"ja",\u3062\u3085:"ju",\u3062\u3087:"jo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u30ae\u30e3:"gya",\u30ae\u30e5:"gyu",\u30ae\u30e7:"gyo",\u30b8\u30e3:"ja",\u30b8\u30e5:"ju",\u30b8\u30e7:"jo",\u30c2\u30e3:"ja",\u30c2\u30e5:"ju",\u30c2\u30e7:"jo",\u30d3\u30e3:"bya",\u30d3\u30e5:"byu",\u30d3\u30e7:"byo",\u30d4\u30e3:"pya",\u30d4\u30e5:"pyu",\u30d4\u30e7:"pyo",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308e:"wa",\u30a1:"a",\u30a3:"i",\u30a5:"u",\u30a7:"e",\u30a9:"o",\u30e3:"ya",\u30e5:"yu",\u30e7:"yo",\u30ee:"wa",\u30f5:"ka",\u30f6:"ke",\u3093:"n",\u30f3:"n","\u3000":" ",\u30f4:"b"},hepburn:{"\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff10":"0","\uff01":"!","\u201c":'"',"\u201d":'"',"\uff03":"#","\uff04":"$","\uff05":"%","\uff06":"&","\u2019":"'","\uff08":"(","\uff09":")","\uff1d":"=","\uff5e":"~","\uff5c":"|","\uff20":"@","\u2018":"`","\uff0b":"+","\uff0a":"*","\uff1b":";","\uff1a":":","\uff1c":"<","\uff1e":">","\u3001":",","\u3002":".","\uff0f":"/","\uff1f":"?","\uff3f":"_","\u30fb":"\uff65","\u300c":'"',"\u300d":'"',"\uff5b":"{","\uff5d":"}","\uffe5":"\\","\uff3e":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304a:"o",\u30a2:"a",\u30a4:"i",\u30a6:"u",\u30a8:"e",\u30aa:"o",\u304b:"ka",\u304d:"ki",\u304f:"ku",\u3051:"ke",\u3053:"ko",\u30ab:"ka",\u30ad:"ki",\u30af:"ku",\u30b1:"ke",\u30b3:"ko",\u3055:"sa",\u3057:"shi",\u3059:"su",\u305b:"se",\u305d:"so",\u30b5:"sa",\u30b7:"shi",\u30b9:"su",\u30bb:"se",\u30bd:"so",\u305f:"ta",\u3061:"chi",\u3064:"tsu",\u3066:"te",\u3068:"to",\u30bf:"ta",\u30c1:"chi",\u30c4:"tsu",\u30c6:"te",\u30c8:"to",\u306a:"na",\u306b:"ni",\u306c:"nu",\u306d:"ne",\u306e:"no",\u30ca:"na",\u30cb:"ni",\u30cc:"nu",\u30cd:"ne",\u30ce:"no",\u306f:"ha",\u3072:"hi",\u3075:"fu",\u3078:"he",\u307b:"ho",\u30cf:"ha",\u30d2:"hi",\u30d5:"fu",\u30d8:"he",\u30db:"ho",\u307e:"ma",\u307f:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30de:"ma",\u30df:"mi",\u30e0:"mu",\u30e1:"me",\u30e2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30e4:"ya",\u30e6:"yu",\u30e8:"yo",\u3089:"ra",\u308a:"ri",\u308b:"ru",\u308c:"re",\u308d:"ro",\u30e9:"ra",\u30ea:"ri",\u30eb:"ru",\u30ec:"re",\u30ed:"ro",\u308f:"wa",\u3090:"i",\u3091:"e",\u3092:"o",\u30ef:"wa",\u30f0:"i",\u30f1:"e",\u30f2:"o",\u304c:"ga",\u304e:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30ac:"ga",\u30ae:"gi",\u30b0:"gu",\u30b2:"ge",\u30b4:"go",\u3056:"za",\u3058:"ji",\u305a:"zu",\u305c:"ze",\u305e:"zo",\u30b6:"za",\u30b8:"ji",\u30ba:"zu",\u30bc:"ze",\u30be:"zo",\u3060:"da",\u3062:"ji",\u3065:"zu",\u3067:"de",\u3069:"do",\u30c0:"da",\u30c2:"ji",\u30c5:"zu",\u30c7:"de",\u30c9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307c:"bo",\u30d0:"ba",\u30d3:"bi",\u30d6:"bu",\u30d9:"be",\u30dc:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307a:"pe",\u307d:"po",\u30d1:"pa",\u30d4:"pi",\u30d7:"pu",\u30da:"pe",\u30dd:"po",\u304d\u3083:"kya",\u304d\u3085:"kyu",\u304d\u3087:"kyo",\u3057\u3083:"sha",\u3057\u3085:"shu",\u3057\u3087:"sho",\u3061\u3083:"cha",\u3061\u3085:"chu",\u3061\u3087:"cho",\u306b\u3083:"nya",\u306b\u3085:"nyu",\u306b\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307f\u3083:"mya",\u307f\u3085:"myu",\u307f\u3087:"myo",\u308a\u3083:"rya",\u308a\u3085:"ryu",\u308a\u3087:"ryo",\u30ad\u30e3:"kya",\u30ad\u30e5:"kyu",\u30ad\u30e7:"kyo",\u30b7\u30e3:"sha",\u30b7\u30e5:"shu",\u30b7\u30e7:"sho",\u30c1\u30e3:"cha",\u30c1\u30e5:"chu",\u30c1\u30e7:"cho",\u30cb\u30e3:"nya",\u30cb\u30e5:"nyu",\u30cb\u30e7:"nyo",\u30d2\u30e3:"hya",\u30d2\u30e5:"hyu",\u30d2\u30e7:"hyo",\u30df\u30e3:"mya",\u30df\u30e5:"myu",\u30df\u30e7:"myo",\u30ea\u30e3:"rya",\u30ea\u30e5:"ryu",\u30ea\u30e7:"ryo",\u304e\u3083:"gya",\u304e\u3085:"gyu",\u304e\u3087:"gyo",\u3058\u3083:"ja",\u3058\u3085:"ju",\u3058\u3087:"jo",\u3062\u3083:"ja",\u3062\u3085:"ju",\u3062\u3087:"jo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u30ae\u30e3:"gya",\u30ae\u30e5:"gyu",\u30ae\u30e7:"gyo",\u30b8\u30e3:"ja",\u30b8\u30e5:"ju",\u30b8\u30e7:"jo",\u30c2\u30e3:"ja",\u30c2\u30e5:"ju",\u30c2\u30e7:"jo",\u30d3\u30e3:"bya",\u30d3\u30e5:"byu",\u30d3\u30e7:"byo",\u30d4\u30e3:"pya",\u30d4\u30e5:"pyu",\u30d4\u30e7:"pyo",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308e:"wa",\u30a1:"a",\u30a3:"i",\u30a5:"u",\u30a7:"e",\u30a9:"o",\u30e3:"ya",\u30e5:"yu",\u30e7:"yo",\u30ee:"wa",\u30f5:"ka",\u30f6:"ke",\u3093:"n",\u30f3:"n","\u3000":" ",\u3044\u3047:"ye",\u3046\u3043:"wi",\u3046\u3047:"we",\u3046\u3049:"wo",\u304d\u3047:"kye",\u304f\u3041:"kwa",\u304f\u3043:"kwi",\u304f\u3047:"kwe",\u304f\u3049:"kwo",\u3050\u3041:"gwa",\u3050\u3043:"gwi",\u3050\u3047:"gwe",\u3050\u3049:"gwo",\u30a4\u30a7:"ye",\u30a6\u30a3:"wi",\u30a6\u30a7:"we",\u30a6\u30a9:"wo",\u30f4:"vu",\u30f4\u30a1:"va",\u30f4\u30a3:"vi",\u30f4\u30a7:"ve",\u30f4\u30a9:"vo",\u30f4\u30e5:"vyu",\u30f4\u30e7:"vyo",\u30ad\u30a7:"kya",\u30af\u30a1:"kwa",\u30af\u30a3:"kwi",\u30af\u30a7:"kwe",\u30af\u30a9:"kwo",\u30b0\u30a1:"gwa",\u30b0\u30a3:"gwi",\u30b0\u30a7:"gwe",\u30b0\u30a9:"gwo",\u3057\u3047:"she",\u3058\u3047:"je",\u3061\u3047:"che",\u3064\u3041:"tsa",\u3064\u3043:"tsi",\u3064\u3047:"tse",\u3064\u3049:"tso",\u3066\u3043:"ti",\u3066\u3085:"tyu",\u3067\u3043:"di",\u3067\u3085:"dyu",\u3068\u3045:"tu",\u3069\u3045:"du",\u306b\u3047:"nye",\u3072\u3047:"hye",\u3075\u3041:"fa",\u3075\u3043:"fi",\u3075\u3047:"fe",\u3075\u3049:"fo",\u3075\u3085:"fyu",\u3075\u3087:"fyo",\u30b7\u30a7:"she",\u30b8\u30a7:"je",\u30c1\u30a7:"che",\u30c4\u30a1:"tsa",\u30c4\u30a3:"tsi",\u30c4\u30a7:"tse",\u30c4\u30a9:"tso",\u30c6\u30a3:"ti",\u30c6\u30e5:"tyu",\u30c7\u30a3:"di",\u30c7\u30e5:"dyu",\u30c8\u30a5:"tu",\u30c9\u30a5:"du",\u30cb\u30a7:"nye",\u30d2\u30a7:"hye",\u30d5\u30a1:"fa",\u30d5\u30a3:"fi",\u30d5\u30a7:"fe",\u30d5\u30a9:"fo",\u30d5\u30e5:"fyu",\u30d5\u30e7:"fyo"}},b=0,I=void 0,S=void 0,R="";if((o=o||_.HEPBURN)===_.PASSPORT&&(u=u.replace(/\u30fc/gm,"")),o===_.NIPPON||o===_.HEPBURN){for(var F=new RegExp(/(\u3093|\u30f3)(?=\u3042|\u3044|\u3046|\u3048|\u304a|\u30a2|\u30a4|\u30a6|\u30a8|\u30aa|\u3041|\u3043|\u3045|\u3047|\u3049|\u30a1|\u30a3|\u30a5|\u30a7|\u30a9|\u3084|\u3086|\u3088|\u30e4|\u30e6|\u30e8|\u3083|\u3085|\u3087|\u30e3|\u30e5|\u30e7)/g),q=void 0,K=[];null!==(q=F.exec(u));)K.push(q.index+1);if(0!==K.length){for(var se="",xe=0;xe<K.length;xe++)se+=0===xe?u.slice(0,K[xe])+"'":u.slice(K[xe-1],K[xe])+"'";se+=u.slice(K[K.length-1]),u=se}}for(var we=u.length;b<=we;)(S=d[o][u.substring(b,b+2)])?(R+=S,b+=2):(R+=(S=d[o][I=u.substring(b,b+1)])?S:I,b+=1);return R=R.replace(/(\u3063|\u30c3)([bcdfghijklmnopqrstuvwyz])/gm,"$2$2"),(o===_.PASSPORT||o===_.HEPBURN)&&(R=R.replace(/cc/gm,"tc")),R=R.replace(/\u3063|\u30c3/gm,"tsu"),(o===_.PASSPORT||o===_.HEPBURN)&&(R=(R=(R=R.replace(/nm/gm,"mm")).replace(/nb/gm,"mb")).replace(/np/gm,"mp")),o===_.NIPPON&&(R=(R=(R=(R=(R=R.replace(/a\u30fc/gm,"\xe2")).replace(/i\u30fc/gm,"\xee")).replace(/u\u30fc/gm,"\xfb")).replace(/e\u30fc/gm,"\xea")).replace(/o\u30fc/gm,"\xf4")),o===_.HEPBURN&&(R=(R=(R=(R=(R=R.replace(/a\u30fc/gm,"\u0101")).replace(/i\u30fc/gm,"\u012b")).replace(/u\u30fc/gm,"\u016b")).replace(/e\u30fc/gm,"\u0113")).replace(/o\u30fc/gm,"\u014d")),R};kt.ROMANIZATION_SYSTEM=_,kt.getStrType=function(u){for(var o=!1,d=!1,f=0;f<u.length;f++)de(u[f])?o=!0:(Q(u[f])||Z(u[f]))&&(d=!0);return o&&d?1:o?0:d?2:3},kt.patchTokens=function(u){for(var o=0;o<u.length;o++)g(u[o].surface_form)?u[o].reading?me(u[o].reading)&&(u[o].reading=x(u[o].reading)):u[o].reading=u[o].surface_form.split("").every(ce)?x(u[o].surface_form):u[o].surface_form:u[o].reading=u[o].surface_form;for(var d=0;d<u.length;d++)u[d].pos&&"\u52a9\u52d5\u8a5e"===u[d].pos&&("\u3046"===u[d].surface_form||"\u30a6"===u[d].surface_form)&&d-1>=0&&u[d-1].pos&&"\u52d5\u8a5e"===u[d-1].pos&&(u[d-1].surface_form+="\u3046",u[d-1].pronunciation?u[d-1].pronunciation+="\u30fc":u[d-1].pronunciation=u[d-1].reading+"\u30fc",u[d-1].reading+="\u30a6",u.splice(d,1),d--);for(var f=0;f<u.length;f++)u[f].pos&&("\u52d5\u8a5e"===u[f].pos||"\u5f62\u5bb9\u8a5e"===u[f].pos)&&u[f].surface_form.length>1&&("\u3063"===u[f].surface_form[u[f].surface_form.length-1]||"\u30c3"===u[f].surface_form[u[f].surface_form.length-1])&&f+1<u.length&&u[f+1].pos&&("\u52d5\u8a5e"===u[f+1].pos||"\u52a9\u52d5\u8a5e"===u[f+1].pos)&&(u[f].surface_form+=u[f+1].surface_form,u[f].pronunciation?u[f].pronunciation+=u[f+1].pronunciation:u[f].pronunciation=""+u[f].reading+u[f+1].reading,u[f].reading+=u[f+1].reading,u.splice(f+1,1),f--);return u},kt.isHiragana=Q,kt.isKatakana=Z,kt.isKana=ce,kt.isKanji=de,kt.isJapanese=ne,kt.hasHiragana=me,kt.hasKatakana=function(u){for(var o=0;o<u.length;o++)if(Z(u[o]))return!0;return!1},kt.hasKana=function(u){for(var o=0;o<u.length;o++)if(ce(u[o]))return!0;return!1},kt.hasKanji=function(u){for(var o=0;o<u.length;o++)if(de(u[o]))return!0;return!1},kt.hasJapanese=g,kt.toRawHiragana=p,kt.toRawKatakana=x,kt.toRawRomaji=r,kt.kanaToHiragna=function(u){return p(u)},kt.kanaToKatakana=function(u){return x(u)},kt.kanaToRomaji=function(u,o){return r(u,o)}},{}]},{},[5])(5)}),function(Kt){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Kt():"function"==typeof define&&define.amd?define([],Kt):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).KuromojiAnalyzer=Kt()}(function(){return function At(Et,kt,V){function Ue(Q,Z){if(!kt[Q]){if(!Et[Q]){var ce="function"==typeof require&&require;if(!Z&&ce)return ce(Q,!0);if(Pe)return Pe(Q,!0);var de=new Error("Cannot find module '"+Q+"'");throw de.code="MODULE_NOT_FOUND",de}var ne=kt[Q]={exports:{}};Et[Q][0].call(ne.exports,function(me){return Ue(Et[Q][1][me]||me)},ne,ne.exports,At,Et,kt,V)}return kt[Q].exports}for(var Pe="function"==typeof require&&require,_=0;_<V.length;_++)Ue(V[_]);return Ue}({1:[function(At,Et,kt){(function(V,Ue,Pe){var Q;Q=function(_){"use strict";function Q(be,Oe){Oe|=0;for(var Ze=Math.max(be.length-Oe,0),ft=Array(Ze),Lt=0;Lt<Ze;Lt++)ft[Lt]=be[Oe+Lt];return ft}var Z=function(be){var Oe=Q(arguments,1);return function(){var Ze=Q(arguments);return be.apply(null,Oe.concat(Ze))}},ce=function(be){return function(){var Oe=Q(arguments),Ze=Oe.pop();be.call(this,Oe,Ze)}};function de(be){var Oe=typeof be;return null!=be&&("object"==Oe||"function"==Oe)}var ne="function"==typeof Pe&&Pe,me="object"==typeof V&&"function"==typeof V.nextTick;function v(be){setTimeout(be,0)}function L(be){return function(Oe){var Ze=Q(arguments,1);be(function(){Oe.apply(null,Ze)})}}var g=L(ne?Pe:me?V.nextTick:v);function p(be){return ce(function(Oe,Ze){var ft;try{ft=be.apply(this,Oe)}catch(Lt){return Ze(Lt)}de(ft)&&"function"==typeof ft.then?ft.then(function(Lt){x(Ze,null,Lt)},function(Lt){x(Ze,Lt.message?Lt:new Error(Lt))}):Ze(null,ft)})}function x(be,Oe,Ze){try{be(Oe,Ze)}catch(ft){g(r,ft)}}function r(be){throw be}var c="function"==typeof Symbol;function l(be){return c&&"AsyncFunction"===be[Symbol.toStringTag]}function n(be){return l(be)?p(be):be}function t(be){return function(Oe){var Ze=Q(arguments,1),ft=ce(function(Lt,Bt){var un=this;return be(Oe,function(yn,Mn){n(yn).apply(un,Lt.concat(Mn))},Bt)});return Ze.length?ft.apply(this,Ze):ft}}var i="object"==typeof Ue&&Ue&&Ue.Object===Object&&Ue,s="object"==typeof self&&self&&self.Object===Object&&self,u=i||s||Function("return this")(),o=u.Symbol,d=Object.prototype,f=d.hasOwnProperty,E=d.toString,b=o?o.toStringTag:void 0,R=Object.prototype.toString,se=o?o.toStringTag:void 0;function xe(be){return null==be?void 0===be?"[object Undefined]":"[object Null]":se&&se in Object(be)?function I(be){var Oe=f.call(be,b),Ze=be[b];try{be[b]=void 0;var ft=!0}catch(Bt){}var Lt=E.call(be);return ft&&(Oe?be[b]=Ze:delete be[b]),Lt}(be):function F(be){return R.call(be)}(be)}function M(be){return"number"==typeof be&&be>-1&&be%1==0&&be<=9007199254740991}function O(be){return null!=be&&M(be.length)&&!function y(be){if(!de(be))return!1;var Oe=xe(be);return"[object Function]"==Oe||"[object GeneratorFunction]"==Oe||"[object AsyncFunction]"==Oe||"[object Proxy]"==Oe}(be)}var ee={};function $(){}function ae(be){return function(){if(null!==be){var Oe=be;be=null,Oe.apply(this,arguments)}}}var Fe="function"==typeof Symbol&&Symbol.iterator;function it(be){return null!=be&&"object"==typeof be}function qt(be){return it(be)&&"[object Arguments]"==xe(be)}var Ct=Object.prototype,Ht=Ct.hasOwnProperty,Ge=Ct.propertyIsEnumerable,dt=qt(function(){return arguments}())?qt:function(be){return it(be)&&Ht.call(be,"callee")&&!Ge.call(be,"callee")},vt=Array.isArray,ue="object"==typeof _&&_&&!_.nodeType&&_,Y=ue&&"object"==typeof Et&&Et&&!Et.nodeType&&Et,et=Y&&Y.exports===ue?u.Buffer:void 0,pe=(et?et.isBuffer:void 0)||function G(){return!1},ct=/^(?:0|[1-9]\d*)$/;function gt(be,Oe){var Ze=typeof be;return!!(Oe=null==Oe?9007199254740991:Oe)&&("number"==Ze||"symbol"!=Ze&&ct.test(be))&&be>-1&&be%1==0&&be<Oe}var Dt={};Dt["[object Float32Array]"]=Dt["[object Float64Array]"]=Dt["[object Int8Array]"]=Dt["[object Int16Array]"]=Dt["[object Int32Array]"]=Dt["[object Uint8Array]"]=Dt["[object Uint8ClampedArray]"]=Dt["[object Uint16Array]"]=Dt["[object Uint32Array]"]=!0,Dt["[object Arguments]"]=Dt["[object Array]"]=Dt["[object ArrayBuffer]"]=Dt["[object Boolean]"]=Dt["[object DataView]"]=Dt["[object Date]"]=Dt["[object Error]"]=Dt["[object Function]"]=Dt["[object Map]"]=Dt["[object Number]"]=Dt["[object Object]"]=Dt["[object RegExp]"]=Dt["[object Set]"]=Dt["[object String]"]=Dt["[object WeakMap]"]=!1;var Nn="object"==typeof _&&_&&!_.nodeType&&_,dn=Nn&&"object"==typeof Et&&Et&&!Et.nodeType&&Et,Dn=dn&&dn.exports===Nn&&i.process,jn=function(){try{return dn&&dn.require&&dn.require("util").types||Dn&&Dn.binding&&Dn.binding("util")}catch(Oe){}}(),Un=jn&&jn.isTypedArray,Yn=Un?function Gt(be){return function(Oe){return be(Oe)}}(Un):function ke(be){return it(be)&&M(be.length)&&!!Dt[xe(be)]},Gn=Object.prototype.hasOwnProperty;var le=Object.prototype,ye=function ot(be,Oe){return function(Ze){return be(Oe(Ze))}}(Object.keys,Object),Qr=Object.prototype.hasOwnProperty;function jr(be){return O(be)?function rt(be,Oe){var Ze=vt(be),ft=!Ze&&dt(be),Lt=!Ze&&!ft&&pe(be),Bt=!Ze&&!ft&&!Lt&&Yn(be),un=Ze||ft||Lt||Bt,yn=un?function Ve(be,Oe){for(var Ze=-1,ft=Array(be);++Ze<be;)ft[Ze]=Oe(Ze);return ft}(be.length,String):[],Mn=yn.length;for(var Zn in be)(Oe||Gn.call(be,Zn))&&(!un||!("length"==Zn||Lt&&("offset"==Zn||"parent"==Zn)||Bt&&("buffer"==Zn||"byteLength"==Zn||"byteOffset"==Zn)||gt(Zn,Mn)))&&yn.push(Zn);return yn}(be):function Ri(be){if(!function nt(be){var Oe=be&&be.constructor;return be===("function"==typeof Oe&&Oe.prototype||le)}(be))return ye(be);var Oe=[];for(var Ze in Object(be))Qr.call(be,Ze)&&"constructor"!=Ze&&Oe.push(Ze);return Oe}(be)}function Mr(be){return function(){if(null===be)throw new Error("Callback was already called.");var Oe=be;be=null,Oe.apply(this,arguments)}}function Or(be){return function(Oe,Ze,ft){if(ft=ae(ft||$),be<=0||!Oe)return ft(null);var Lt=function yi(be){if(O(be))return function ci(be){var Oe=-1,Ze=be.length;return function(){return++Oe<Ze?{value:be[Oe],key:Oe}:null}}(be);var Oe=function(be){return Fe&&be[Fe]&&be[Fe]()}(be);return Oe?function ri(be){var Oe=-1;return function(){var ft=be.next();return ft.done?null:(Oe++,{value:ft.value,key:Oe})}}(Oe):function ur(be){var Oe=jr(be),Ze=-1,ft=Oe.length;return function(){var Bt=Oe[++Ze];return Ze<ft?{value:be[Bt],key:Bt}:null}}(be)}(Oe),Bt=!1,un=0,yn=!1;function Mn(Ln,or){if(un-=1,Ln)Bt=!0,ft(Ln);else{if(or===ee||Bt&&un<=0)return Bt=!0,ft(null);yn||Zn()}}function Zn(){for(yn=!0;un<be&&!Bt;){var Ln=Lt();if(null===Ln)return Bt=!0,void(un<=0&&ft(null));un+=1,Ze(Ln.value,Ln.key,Mr(Mn))}yn=!1}Zn()}}function ei(be,Oe,Ze,ft){Or(Oe)(be,n(Ze),ft)}function xr(be,Oe){return function(Ze,ft,Lt){return be(Ze,Oe,ft,Lt)}}function di(be,Oe,Ze){Ze=ae(Ze||$);var ft=0,Lt=0,Bt=be.length;function un(yn,Mn){yn?Ze(yn):(++Lt===Bt||Mn===ee)&&Ze(null)}for(0===Bt&&Ze(null);ft<Bt;ft++)Oe(be[ft],ft,Mr(un))}var Xr=xr(ei,1/0),qr=function(be,Oe,Ze){(O(be)?di:Xr)(be,n(Oe),Ze)};function Vr(be){return function(Oe,Ze,ft){return be(qr,Oe,n(Ze),ft)}}function hi(be,Oe,Ze,ft){ft=ft||$,Oe=Oe||[];var Lt=[],Bt=0,un=n(Ze);be(Oe,function(yn,Mn,Zn){var Ln=Bt++;un(yn,function(or,zr){Lt[Ln]=zr,Zn(or)})},function(yn){ft(yn,Lt)})}var pi=Vr(hi),Hr=t(pi);function Qn(be){return function(Oe,Ze,ft,Lt){return be(Or(Ze),Oe,n(ft),Lt)}}var vr=Qn(hi),Vi=xr(vr,1),Gi=t(Vi);function lo(be,Oe){for(var Ze=-1,ft=null==be?0:be.length;++Ze<ft&&!1!==Oe(be[Ze],Ze,be););return be}var Fi=function Mi(be){return function(Oe,Ze,ft){for(var Lt=-1,Bt=Object(Oe),un=ft(Oe),yn=un.length;yn--;){var Mn=un[be?yn:++Lt];if(!1===Ze(Bt[Mn],Mn,Bt))break}return Oe}}();function Si(be,Oe){return be&&Fi(be,Oe,jr)}function $r(be){return be!=be}function B(be,Oe,Ze){return Oe==Oe?function wo(be,Oe,Ze){for(var ft=Ze-1,Lt=be.length;++ft<Lt;)if(be[ft]===Oe)return ft;return-1}(be,Oe,Ze):function ji(be,Oe,Ze,ft){for(var Lt=be.length,Bt=Ze+(ft?1:-1);ft?Bt--:++Bt<Lt;)if(Oe(be[Bt],Bt,be))return Bt;return-1}(be,$r,Ze)}var W=function(be,Oe,Ze){"function"==typeof Oe&&(Ze=Oe,Oe=null),Ze=ae(Ze||$);var Lt=jr(be).length;if(!Lt)return Ze(null);Oe||(Oe=Lt);var Bt={},un=0,yn=!1,Mn=Object.create(null),Zn=[],Ln=[],or={};function zr(Br,Gr){Zn.push(function(){!function Ei(Br,Gr){if(!yn){var ni=Mr(function(Uo,ss){if(un--,arguments.length>2&&(ss=Q(arguments,1)),Uo){var Qo={};Si(Bt,function(as,Ps){Qo[Ps]=as}),Qo[Br]=ss,yn=!0,Mn=Object.create(null),Ze(Uo,Qo)}else Bt[Br]=ss,wi(Br)});un++;var Ki=n(Gr[Gr.length-1]);Gr.length>1?Ki(Bt,ni):Ki(ni)}}(Br,Gr)})}function Jr(){if(0===Zn.length&&0===un)return Ze(null,Bt);for(;Zn.length&&un<Oe;)Zn.shift()()}function wi(Br){lo(Mn[Br]||[],function(ni){ni()}),Jr()}function co(Br){var Gr=[];return Si(be,function(ni,Ki){vt(ni)&&B(ni,Br,0)>=0&&Gr.push(Ki)}),Gr}Si(be,function(Br,Gr){if(!vt(Br))return zr(Gr,[Br]),void Ln.push(Gr);var ni=Br.slice(0,Br.length-1),Ki=ni.length;if(0===Ki)return zr(Gr,Br),void Ln.push(Gr);or[Gr]=Ki,lo(ni,function(Uo){if(!be[Uo])throw new Error("async.auto task `"+Gr+"` has a non-existent dependency `"+Uo+"` in "+ni.join(", "));!function Di(Br,Gr){var ni=Mn[Br];ni||(ni=Mn[Br]=[]),ni.push(Gr)}(Uo,function(){0==--Ki&&zr(Gr,Br)})})}),function yo(){for(var Gr=0;Ln.length;)Gr++,lo(co(Ln.pop()),function(ni){0==--or[ni]&&Ln.push(ni)});if(Gr!==Lt)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),Jr()};function J(be,Oe){for(var Ze=-1,ft=null==be?0:be.length,Lt=Array(ft);++Ze<ft;)Lt[Ze]=Oe(be[Ze],Ze,be);return Lt}var Ae=o?o.prototype:void 0,De=Ae?Ae.toString:void 0;function qe(be){if("string"==typeof be)return be;if(vt(be))return J(be,qe)+"";if(function ve(be){return"symbol"==typeof be||it(be)&&"[object Symbol]"==xe(be)}(be))return De?De.call(be):"";var Oe=be+"";return"0"==Oe&&1/be==-1/0?"-0":Oe}var Fn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),kr="\\ud800-\\udfff",St="["+kr+"]",Wt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",hn="\\ud83c[\\udffb-\\udfff]",We="[^"+kr+"]",Ce="(?:\\ud83c[\\udde6-\\uddff]){2}",bt="[\\ud800-\\udbff][\\udc00-\\udfff]",en="(?:"+Wt+"|"+hn+")?",En="[\\ufe0e\\ufe0f]?",Sn=En+en+"(?:\\u200d(?:"+[We,Ce,bt].join("|")+")"+En+en+")*",_n="(?:"+[We+Wt+"?",Wt,Ce,bt,St].join("|")+")",Bn=RegExp(hn+"(?="+hn+")|"+_n+Sn,"g");function gr(be){return function Er(be){return Fn.test(be)}(be)?function qn(be){return be.match(Bn)||[]}(be):function zt(be){return be.split("")}(be)}var Ar=/^\s+|\s+$/g;function lr(be,Oe,Ze){if((be=function tr(be){return null==be?"":qe(be)}(be))&&(Ze||void 0===Oe))return be.replace(Ar,"");if(!be||!(Oe=qe(Oe)))return be;var ft=gr(be),Lt=gr(Oe),Bt=function pt(be,Oe){for(var Ze=-1,ft=be.length;++Ze<ft&&B(Oe,be[Ze],0)>-1;);return Ze}(ft,Lt),un=function st(be,Oe){for(var Ze=be.length;Ze--&&B(Oe,be[Ze],0)>-1;);return Ze}(ft,Lt)+1;return function Ut(be,Oe,Ze){var ft=be.length;return Ze=void 0===Ze?ft:Ze,!Oe&&Ze>=ft?be:function _t(be,Oe,Ze){var ft=-1,Lt=be.length;Oe<0&&(Oe=-Oe>Lt?0:Lt+Oe),(Ze=Ze>Lt?Lt:Ze)<0&&(Ze+=Lt),Lt=Oe>Ze?0:Ze-Oe>>>0,Oe>>>=0;for(var Bt=Array(Lt);++ft<Lt;)Bt[ft]=be[ft+Oe];return Bt}(be,Oe,Ze)}(ft,Bt,un).join("")}var Cr=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,yr=/,/,Pr=/(=.+)?(\s*)$/,dr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function Li(be,Oe){var Ze={};Si(be,function(ft,Lt){var Bt,un=l(ft),yn=!un&&1===ft.length||un&&0===ft.length;if(vt(ft))Bt=ft.slice(0,-1),ft=ft[ft.length-1],Ze[Lt]=Bt.concat(Bt.length>0?Mn:ft);else if(yn)Ze[Lt]=ft;else{if(Bt=function Yr(be){return(be=(be=(be=be.toString().replace(dr,"")).match(Cr)[2].replace(" ",""))?be.split(yr):[]).map(function(Oe){return lr(Oe.replace(Pr,""))})}(ft),0===ft.length&&!un&&0===Bt.length)throw new Error("autoInject task functions require explicit parameters.");un||Bt.pop(),Ze[Lt]=Bt.concat(Mn)}function Mn(Zn,Ln){var or=J(Bt,function(zr){return Zn[zr]});or.push(Ln),n(ft).apply(null,or)}}),W(Ze,Oe)}function Wr(){this.head=this.tail=null,this.length=0}function gi(be,Oe){be.length=1,be.head=be.tail=Oe}function Kr(be,Oe,Ze){if(null==Oe)Oe=1;else if(0===Oe)throw new Error("Concurrency must not be zero");var ft=n(be),Lt=0,Bt=[],un=!1;function yn(or,zr,Jr){if(null!=Jr&&"function"!=typeof Jr)throw new Error("task callback must be a function");if(Ln.started=!0,vt(or)||(or=[or]),0===or.length&&Ln.idle())return g(function(){Ln.drain()});for(var Di=0,wi=or.length;Di<wi;Di++){var Ei={data:or[Di],callback:Jr||$};zr?Ln._tasks.unshift(Ei):Ln._tasks.push(Ei)}un||(un=!0,g(function(){un=!1,Ln.process()}))}function Mn(or){return function(zr){Lt-=1;for(var Jr=0,Di=or.length;Jr<Di;Jr++){var wi=or[Jr],Ei=B(Bt,wi,0);0===Ei?Bt.shift():Ei>0&&Bt.splice(Ei,1),wi.callback.apply(wi,arguments),null!=zr&&Ln.error(zr,wi.data)}Lt<=Ln.concurrency-Ln.buffer&&Ln.unsaturated(),Ln.idle()&&Ln.drain(),Ln.process()}}var Zn=!1,Ln={_tasks:new Wr,concurrency:Oe,payload:Ze,saturated:$,unsaturated:$,buffer:Oe/4,empty:$,drain:$,error:$,started:!1,paused:!1,push:function(or,zr){yn(or,!1,zr)},kill:function(){Ln.drain=$,Ln._tasks.empty()},unshift:function(or,zr){yn(or,!0,zr)},remove:function(or){Ln._tasks.remove(or)},process:function(){if(!Zn){for(Zn=!0;!Ln.paused&&Lt<Ln.concurrency&&Ln._tasks.length;){var or=[],zr=[],Jr=Ln._tasks.length;Ln.payload&&(Jr=Math.min(Jr,Ln.payload));for(var Di=0;Di<Jr;Di++){var wi=Ln._tasks.shift();or.push(wi),Bt.push(wi),zr.push(wi.data)}Lt+=1,0===Ln._tasks.length&&Ln.empty(),Lt===Ln.concurrency&&Ln.saturated();var Ei=Mr(Mn(or));ft(zr,Ei)}Zn=!1}},length:function(){return Ln._tasks.length},running:function(){return Lt},workersList:function(){return Bt},idle:function(){return Ln._tasks.length+Lt===0},pause:function(){Ln.paused=!0},resume:function(){!1!==Ln.paused&&(Ln.paused=!1,g(Ln.process))}};return Ln}function no(be,Oe){return Kr(be,1,Oe)}Wr.prototype.removeLink=function(be){return be.prev?be.prev.next=be.next:this.head=be.next,be.next?be.next.prev=be.prev:this.tail=be.prev,be.prev=be.next=null,this.length-=1,be},Wr.prototype.empty=function(){for(;this.head;)this.shift();return this},Wr.prototype.insertAfter=function(be,Oe){Oe.prev=be,Oe.next=be.next,be.next?be.next.prev=Oe:this.tail=Oe,be.next=Oe,this.length+=1},Wr.prototype.insertBefore=function(be,Oe){Oe.prev=be.prev,Oe.next=be,be.prev?be.prev.next=Oe:this.head=Oe,be.prev=Oe,this.length+=1},Wr.prototype.unshift=function(be){this.head?this.insertBefore(this.head,be):gi(this,be)},Wr.prototype.push=function(be){this.tail?this.insertAfter(this.tail,be):gi(this,be)},Wr.prototype.shift=function(){return this.head&&this.removeLink(this.head)},Wr.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},Wr.prototype.toArray=function(){for(var be=Array(this.length),Oe=this.head,Ze=0;Ze<this.length;Ze++)be[Ze]=Oe.data,Oe=Oe.next;return be},Wr.prototype.remove=function(be){for(var Oe=this.head;Oe;){var Ze=Oe.next;be(Oe)&&this.removeLink(Oe),Oe=Ze}return this};var ki=xr(ei,1);function ti(be,Oe,Ze,ft){ft=ae(ft||$);var Lt=n(Ze);ki(be,function(Bt,un,yn){Lt(Oe,Bt,function(Mn,Zn){Oe=Zn,yn(Mn)})},function(Bt){ft(Bt,Oe)})}function ui(){var be=J(arguments,n);return function(){var Oe=Q(arguments),Ze=this,ft=Oe[Oe.length-1];"function"==typeof ft?Oe.pop():ft=$,ti(be,Oe,function(Lt,Bt,un){Bt.apply(Ze,Lt.concat(function(yn){var Mn=Q(arguments,1);un(yn,Mn)}))},function(Lt,Bt){ft.apply(Ze,[Lt].concat(Bt))})}}var Zi=function(){return ui.apply(null,Q(arguments).reverse())},Ji=Array.prototype.concat,Bi=function(be,Oe,Ze,ft){ft=ft||$;var Lt=n(Ze);vr(be,Oe,function(Bt,un){Lt(Bt,function(yn){return yn?un(yn):un(null,Q(arguments,1))})},function(Bt,un){for(var yn=[],Mn=0;Mn<un.length;Mn++)un[Mn]&&(yn=Ji.apply(yn,un[Mn]));return ft(Bt,yn)})},Ai=xr(Bi,1/0),Pi=xr(Bi,1),mi=function(){var be=Q(arguments),Oe=[null].concat(be);return function(){var Ze=arguments[arguments.length-1];return Ze.apply(this,Oe)}};function _i(be){return be}function Ci(be,Oe){return function(Ze,ft,Lt,Bt){Bt=Bt||$;var yn,un=!1;Ze(ft,function(Mn,Zn,Ln){Lt(Mn,function(or,zr){or?Ln(or):be(zr)&&!yn?(un=!0,yn=Oe(!0,Mn),Ln(null,ee)):Ln()})},function(Mn){Mn?Bt(Mn):Bt(null,un?yn:Oe(!1))})}}function Hi(be,Oe){return Oe}var Qi=Vr(Ci(_i,Hi)),$i=Qn(Ci(_i,Hi)),bi=xr($i,1);function fi(be){return function(Oe){var Ze=Q(arguments,1);Ze.push(function(ft){var Lt=Q(arguments,1);"object"==typeof console&&(ft?console.error&&console.error(ft):console[be]&&lo(Lt,function(Bt){console[be](Bt)}))}),n(Oe).apply(null,Ze)}}var ro=fi("dir");function io(be,Oe,Ze){Ze=Mr(Ze||$);var ft=n(be),Lt=n(Oe);function Bt(yn){if(yn)return Ze(yn);var Mn=Q(arguments,1);Mn.push(un),Lt.apply(this,Mn)}function un(yn,Mn){return yn?Ze(yn):Mn?void ft(Bt):Ze(null)}un(null,!0)}function Lo(be,Oe,Ze){Ze=Mr(Ze||$);var ft=n(be),Lt=function(Bt){if(Bt)return Ze(Bt);var un=Q(arguments,1);if(Oe.apply(this,un))return ft(Lt);Ze.apply(null,[null].concat(un))};ft(Lt)}function jo(be,Oe,Ze){Lo(be,function(){return!Oe.apply(this,arguments)},Ze)}function qo(be,Oe,Ze){Ze=Mr(Ze||$);var ft=n(Oe),Lt=n(be);function Bt(yn){if(yn)return Ze(yn);Lt(un)}function un(yn,Mn){return yn?Ze(yn):Mn?void ft(Bt):Ze(null)}Lt(un)}function Eo(be){return function(Oe,Ze,ft){return be(Oe,ft)}}function eo(be,Oe,Ze){qr(be,Eo(n(Oe)),Ze)}function Oi(be,Oe,Ze,ft){Or(Oe)(be,Eo(n(Ze)),ft)}var xo=xr(Oi,1);function So(be){return l(be)?be:ce(function(Oe,Ze){var ft=!0;Oe.push(function(){var Lt=arguments;ft?g(function(){Ze.apply(null,Lt)}):Ze.apply(null,Lt)}),be.apply(this,Oe),ft=!1})}function Bo(be){return!be}var po=Vr(Ci(Bo,Bo)),go=Qn(Ci(Bo,Bo)),Po=xr(go,1);function Vo(be){return function(Oe){return null==Oe?void 0:Oe[be]}}function ko(be,Oe,Ze,ft){var Lt=new Array(Oe.length);be(Oe,function(Bt,un,yn){Ze(Bt,function(Mn,Zn){Lt[un]=!!Zn,yn(Mn)})},function(Bt){if(Bt)return ft(Bt);for(var un=[],yn=0;yn<Oe.length;yn++)Lt[yn]&&un.push(Oe[yn]);ft(null,un)})}function Go(be,Oe,Ze,ft){var Lt=[];be(Oe,function(Bt,un,yn){Ze(Bt,function(Mn,Zn){Mn?yn(Mn):(Zn&&Lt.push({index:un,value:Bt}),yn())})},function(Bt){Bt?ft(Bt):ft(null,J(Lt.sort(function(un,yn){return un.index-yn.index}),Vo("value")))})}function Ho(be,Oe,Ze,ft){(O(Oe)?ko:Go)(be,Oe,n(Ze),ft||$)}var oo=Vr(Ho),to=Qn(Ho),Ao=xr(to,1);function Co(be,Oe){var Ze=Mr(Oe||$),ft=n(So(be));!function Lt(Bt){if(Bt)return Ze(Bt);ft(Lt)}()}var To=function(be,Oe,Ze,ft){ft=ft||$;var Lt=n(Ze);vr(be,Oe,function(Bt,un){Lt(Bt,function(yn,Mn){return yn?un(yn):un(null,{key:Mn,val:Bt})})},function(Bt,un){for(var yn={},Mn=Object.prototype.hasOwnProperty,Zn=0;Zn<un.length;Zn++)if(un[Zn]){var Ln=un[Zn].key,or=un[Zn].val;Mn.call(yn,Ln)?yn[Ln].push(or):yn[Ln]=[or]}return ft(Bt,yn)})},Oo=xr(To,1/0),mo=xr(To,1),No=fi("log");function vo(be,Oe,Ze,ft){ft=ae(ft||$);var Lt={},Bt=n(Ze);ei(be,Oe,function(un,yn,Mn){Bt(un,yn,function(Zn,Ln){if(Zn)return Mn(Zn);Lt[yn]=Ln,Mn()})},function(un){ft(un,Lt)})}var Ti=xr(vo,1/0),Do=xr(vo,1);function zo(be,Oe){return Oe in be}function Io(be,Oe){var Ze=Object.create(null),ft=Object.create(null);Oe=Oe||_i;var Lt=n(be),Bt=ce(function(yn,Mn){var Zn=Oe.apply(null,yn);zo(Ze,Zn)?g(function(){Mn.apply(null,Ze[Zn])}):zo(ft,Zn)?ft[Zn].push(Mn):(ft[Zn]=[Mn],Lt.apply(null,yn.concat(function(){var Ln=Q(arguments);Ze[Zn]=Ln;var or=ft[Zn];delete ft[Zn];for(var zr=0,Jr=or.length;zr<Jr;zr++)or[zr].apply(null,Ln)})))});return Bt.memo=Ze,Bt.unmemoized=be,Bt}var Ee=L(me?V.nextTick:ne?Pe:v);function D(be,Oe,Ze){Ze=Ze||$;var ft=O(Oe)?[]:{};be(Oe,function(Lt,Bt,un){n(Lt)(function(yn,Mn){arguments.length>2&&(Mn=Q(arguments,1)),ft[Bt]=Mn,un(yn)})},function(Lt){Ze(Lt,ft)})}function te(be,Oe){D(qr,be,Oe)}function Be(be,Oe,Ze){D(Or(Oe),be,Ze)}var tt=function(be,Oe){var Ze=n(be);return Kr(function(ft,Lt){Ze(ft[0],Lt)},Oe,1)},lt=function(be,Oe){var Ze=tt(be,Oe);return Ze.push=function(ft,Lt,Bt){if(null==Bt&&(Bt=$),"function"!=typeof Bt)throw new Error("task callback must be a function");if(Ze.started=!0,vt(ft)||(ft=[ft]),0===ft.length)return g(function(){Ze.drain()});Lt=Lt||0;for(var un=Ze._tasks.head;un&&Lt>=un.priority;)un=un.next;for(var yn=0,Mn=ft.length;yn<Mn;yn++){var Zn={data:ft[yn],priority:Lt,callback:Bt};un?Ze._tasks.insertBefore(un,Zn):Ze._tasks.push(Zn)}g(Ze.process)},delete Ze.unshift,Ze};function Mt(be,Oe){if(Oe=ae(Oe||$),!vt(be))return Oe(new TypeError("First argument to race must be an array of functions"));if(!be.length)return Oe();for(var Ze=0,ft=be.length;Ze<ft;Ze++)n(be[Ze])(Oe)}function mn(be,Oe,Ze,ft){ti(Q(be).reverse(),Oe,Ze,ft)}function Tn(be){var Oe=n(be);return ce(function(ft,Lt){return ft.push(function(un,yn){var Mn;un?Lt(null,{error:un}):(Mn=arguments.length<=2?yn:Q(arguments,1),Lt(null,{value:Mn}))}),Oe.apply(this,ft)})}function Hn(be){var Oe;return vt(be)?Oe=J(be,Tn):(Oe={},Si(be,function(Ze,ft){Oe[ft]=Tn.call(this,Ze)})),Oe}function Vn(be,Oe,Ze,ft){Ho(be,Oe,function(Lt,Bt){Ze(Lt,function(un,yn){Bt(un,!yn)})},ft)}var Rn=Vr(Vn),pr=Qn(Vn),nr=xr(pr,1);function rr(be){return function(){return be}}function er(be,Oe,Ze){var ft=5,Lt=0,Bt={times:ft,intervalFunc:rr(Lt)};function un(Ln,or){if("object"==typeof or)Ln.times=+or.times||ft,Ln.intervalFunc="function"==typeof or.interval?or.interval:rr(+or.interval||Lt),Ln.errorFilter=or.errorFilter;else{if("number"!=typeof or&&"string"!=typeof or)throw new Error("Invalid arguments for async.retry");Ln.times=+or||ft}}if(arguments.length<3&&"function"==typeof be?(Ze=Oe||$,Oe=be):(un(Bt,be),Ze=Ze||$),"function"!=typeof Oe)throw new Error("Invalid arguments for async.retry");var yn=n(Oe),Mn=1;function Zn(){yn(function(Ln){Ln&&Mn++<Bt.times&&("function"!=typeof Bt.errorFilter||Bt.errorFilter(Ln))?setTimeout(Zn,Bt.intervalFunc(Mn)):Ze.apply(null,arguments)})}Zn()}var ar=function(be,Oe){Oe||(Oe=be,be=null);var Ze=n(Oe);return ce(function(ft,Lt){function Bt(un){Ze.apply(null,ft.concat(un))}be?er(be,Bt,Lt):er(Bt,Lt)})};function Lr(be,Oe){D(ki,be,Oe)}var mr=Vr(Ci(Boolean,_i)),fr=Qn(Ci(Boolean,_i)),_r=xr(fr,1);function br(be,Oe,Ze){var ft=n(Oe);function Lt(Bt,un){var yn=Bt.criteria,Mn=un.criteria;return yn<Mn?-1:yn>Mn?1:0}pi(be,function(Bt,un){ft(Bt,function(yn,Mn){if(yn)return un(yn);un(null,{value:Bt,criteria:Mn})})},function(Bt,un){if(Bt)return Ze(Bt);Ze(null,J(un.sort(Lt),Vo("value")))})}function wr(be,Oe,Ze){var ft=n(be);return ce(function(Lt,Bt){var yn,un=!1;Lt.push(function(){un||(Bt.apply(null,arguments),clearTimeout(yn))}),yn=setTimeout(function Mn(){var Ln=new Error('Callback function "'+(be.name||"anonymous")+'" timed out.');Ln.code="ETIMEDOUT",Ze&&(Ln.info=Ze),un=!0,Bt(Ln)},Oe),ft.apply(null,Lt)})}var Ir=Math.ceil,Tr=Math.max;function Zr(be,Oe,Ze,ft){var Lt=n(Ze);vr(function Dr(be,Oe,Ze,ft){for(var Lt=-1,Bt=Tr(Ir((Oe-be)/(Ze||1)),0),un=Array(Bt);Bt--;)un[ft?Bt:++Lt]=be,be+=Ze;return un}(0,be,1),Oe,Lt,ft)}var oi=xr(Zr,1/0),vi=xr(Zr,1);function Fr(be,Oe,Ze,ft){arguments.length<=3&&(ft=Ze,Ze=Oe,Oe=vt(be)?[]:{}),ft=ae(ft||$);var Lt=n(Ze);qr(be,function(Bt,un,yn){Lt(Oe,Bt,un,yn)},function(Bt){ft(Bt,Oe)})}function so(be,Oe){var ft,Ze=null;Oe=Oe||$,xo(be,function(Lt,Bt){n(Lt)(function(un,yn){ft=arguments.length>2?Q(arguments,1):yn,Ze=un,Bt(!un)})},function(){Oe(Ze,ft)})}function Ni(be){return function(){return(be.unmemoized||be).apply(null,arguments)}}function li(be,Oe,Ze){Ze=Mr(Ze||$);var ft=n(Oe);if(!be())return Ze(null);var Lt=function(Bt){if(Bt)return Ze(Bt);if(be())return ft(Lt);var un=Q(arguments,1);Ze.apply(null,[null].concat(un))};ft(Lt)}function si(be,Oe,Ze){li(function(){return!be.apply(this,arguments)},Oe,Ze)}var Nr=function(be,Oe){if(Oe=ae(Oe||$),!vt(be))return Oe(new Error("First argument to waterfall must be an array of functions"));if(!be.length)return Oe();var Ze=0;function ft(Bt){var un=n(be[Ze++]);Bt.push(Mr(Lt)),un.apply(null,Bt)}function Lt(Bt){if(Bt||Ze===be.length)return Oe.apply(null,arguments);ft(Q(arguments,1))}ft([])};_.default={apply:Z,applyEach:Hr,applyEachSeries:Gi,asyncify:p,auto:W,autoInject:Li,cargo:no,compose:Zi,concat:Ai,concatLimit:Bi,concatSeries:Pi,constant:mi,detect:Qi,detectLimit:$i,detectSeries:bi,dir:ro,doDuring:io,doUntil:jo,doWhilst:Lo,during:qo,each:eo,eachLimit:Oi,eachOf:qr,eachOfLimit:ei,eachOfSeries:ki,eachSeries:xo,ensureAsync:So,every:po,everyLimit:go,everySeries:Po,filter:oo,filterLimit:to,filterSeries:Ao,forever:Co,groupBy:Oo,groupByLimit:To,groupBySeries:mo,log:No,map:pi,mapLimit:vr,mapSeries:Vi,mapValues:Ti,mapValuesLimit:vo,mapValuesSeries:Do,memoize:Io,nextTick:Ee,parallel:te,parallelLimit:Be,priorityQueue:lt,queue:tt,race:Mt,reduce:ti,reduceRight:mn,reflect:Tn,reflectAll:Hn,reject:Rn,rejectLimit:pr,rejectSeries:nr,retry:er,retryable:ar,seq:ui,series:Lr,setImmediate:g,some:mr,someLimit:fr,someSeries:_r,sortBy:br,timeout:wr,times:oi,timesLimit:Zr,timesSeries:vi,transform:Fr,tryEach:so,unmemoize:Ni,until:si,waterfall:Nr,whilst:li,all:po,allLimit:go,allSeries:Po,any:mr,anyLimit:fr,anySeries:_r,find:Qi,findLimit:$i,findSeries:bi,forEach:eo,forEachSeries:xo,forEachLimit:Oi,forEachOf:qr,forEachOfSeries:ki,forEachOfLimit:ei,inject:ti,foldl:ti,foldr:mn,select:oo,selectLimit:to,selectSeries:Ao,wrapSync:p},_.apply=Z,_.applyEach=Hr,_.applyEachSeries=Gi,_.asyncify=p,_.auto=W,_.autoInject=Li,_.cargo=no,_.compose=Zi,_.concat=Ai,_.concatLimit=Bi,_.concatSeries=Pi,_.constant=mi,_.detect=Qi,_.detectLimit=$i,_.detectSeries=bi,_.dir=ro,_.doDuring=io,_.doUntil=jo,_.doWhilst=Lo,_.during=qo,_.each=eo,_.eachLimit=Oi,_.eachOf=qr,_.eachOfLimit=ei,_.eachOfSeries=ki,_.eachSeries=xo,_.ensureAsync=So,_.every=po,_.everyLimit=go,_.everySeries=Po,_.filter=oo,_.filterLimit=to,_.filterSeries=Ao,_.forever=Co,_.groupBy=Oo,_.groupByLimit=To,_.groupBySeries=mo,_.log=No,_.map=pi,_.mapLimit=vr,_.mapSeries=Vi,_.mapValues=Ti,_.mapValuesLimit=vo,_.mapValuesSeries=Do,_.memoize=Io,_.nextTick=Ee,_.parallel=te,_.parallelLimit=Be,_.priorityQueue=lt,_.queue=tt,_.race=Mt,_.reduce=ti,_.reduceRight=mn,_.reflect=Tn,_.reflectAll=Hn,_.reject=Rn,_.rejectLimit=pr,_.rejectSeries=nr,_.retry=er,_.retryable=ar,_.seq=ui,_.series=Lr,_.setImmediate=g,_.some=mr,_.someLimit=fr,_.someSeries=_r,_.sortBy=br,_.timeout=wr,_.times=oi,_.timesLimit=Zr,_.timesSeries=vi,_.transform=Fr,_.tryEach=so,_.unmemoize=Ni,_.until=si,_.waterfall=Nr,_.whilst=li,_.all=po,_.allLimit=go,_.allSeries=Po,_.any=mr,_.anyLimit=fr,_.anySeries=_r,_.find=Qi,_.findLimit=$i,_.findSeries=bi,_.forEach=eo,_.forEachSeries=xo,_.forEachLimit=Oi,_.forEachOf=qr,_.forEachOfSeries=ki,_.forEachOfLimit=ei,_.inject=ti,_.foldl=ti,_.foldr=mn,_.select=oo,_.selectLimit=to,_.selectSeries=Ao,_.wrapSync=p,Object.defineProperty(_,"__esModule",{value:!0})},Q("object"==typeof kt&&void 0!==Et?kt:this.async=this.async||{})}).call(this,At("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},At("timers").setImmediate)},{_process:26,timers:27}],2:[function(At,Et,kt){!function(){"use strict";var _=-1,me=function(c){null==c&&(c=1024);var l=function(o,d,f){for(var E=d;E<f;E++)o[E]=1-E;if(0<u.array[u.array.length-1]){for(var b=u.array.length-2;0<u.array[b];)b--;o[d]=-b}},n=function(o,d,f){for(var E=d;E<f;E++)o[E]=-E-1},t=function(o){var d=2*o,f=h(s.signed,s.bytes,d);l(f,s.array.length,d),f.set(s.array),s.array=null,s.array=f;var E=h(u.signed,u.bytes,d);n(E,u.array.length,d),E.set(u.array),u.array=null,u.array=E},i=1,s={signed:!0,bytes:4,array:h(!0,4,c)},u={signed:!0,bytes:4,array:h(!0,4,c)};return s.array[0]=1,u.array[0]=0,l(s.array,1,s.array.length),n(u.array,1,u.array.length),{getBaseBuffer:function(){return s.array},getCheckBuffer:function(){return u.array},loadBaseBuffer:function(o){return s.array=o,this},loadCheckBuffer:function(o){return u.array=o,this},size:function(){return Math.max(s.array.length,u.array.length)},getBase:function(o){return s.array.length-1<o?1-o:s.array[o]},getCheck:function(o){return u.array.length-1<o?-o-1:u.array[o]},setBase:function(o,d){s.array.length-1<o&&t(o),s.array[o]=d},setCheck:function(o,d){u.array.length-1<o&&t(o),u.array[o]=d},setFirstUnusedNode:function(o){i=o},getFirstUnusedNode:function(){return i},shrink:function(){for(var o=this.size()-1;!(0<=u.array[o]);)o--;s.array=s.array.subarray(0,o+2),u.array=u.array.subarray(0,o+2)},calc:function(){for(var o=0,d=u.array.length,f=0;f<d;f++)u.array[f]<0&&o++;return{all:d,unused:o,efficiency:(d-o)/d}},dump:function(){var f,o="",d="";for(f=0;f<s.array.length;f++)o=o+" "+this.getBase(f);for(f=0;f<u.array.length;f++)d=d+" "+this.getCheck(f);return console.log("base:"+o),console.log("chck:"+d),"base:"+o+" chck:"+d}}};function v(c){this.bc=me(c),this.keys=[]}function L(c){this.bc=c,this.bc.shrink()}v.prototype.append=function(c,l){return this.keys.push({k:c,v:l}),this},v.prototype.build=function(c,l){if(null==c&&(c=this.keys),null==c)return new L(this.bc);null==l&&(l=!1);var n=c.map(function(t){return{k:p(t.k+"\0"),v:t.v}});return this.keys=l?n:n.sort(function(t,i){for(var s=t.k,u=i.k,o=Math.min(s.length,u.length),d=0;d<o;d++)if(s[d]!==u[d])return s[d]-u[d];return s.length-u.length}),n=null,this._build(0,0,0,this.keys.length),new L(this.bc)},v.prototype._build=function(c,l,n,t){var i=this.getChildrenInfo(l,n,t),s=this.findAllocatableBase(i);this.setBC(c,i,s);for(var u=0;u<i.length;u+=3){var o=i[u];0!==o&&this._build(s+o,l+1,i[u+1],i[u+2])}},v.prototype.getChildrenInfo=function(c,l,n){var t=this.keys[l].k[c],i=0,s=new Int32Array(3*n);s[i++]=t,s[i++]=l;for(var u=l,o=l;u<l+n;u++){var d=this.keys[u].k[c];t!==d&&(s[i++]=u-o,s[i++]=d,s[i++]=u,t=d,o=u)}return s[i++]=u-o,s.subarray(0,i)},v.prototype.setBC=function(c,l,n){var i,t=this.bc;for(t.setBase(c,n),i=0;i<l.length;i+=3){var s=l[i],u=n+s,o=-t.getBase(u),d=-t.getCheck(u);if(u!==t.getFirstUnusedNode()?t.setCheck(o,-d):t.setFirstUnusedNode(d),t.setBase(d,-o),t.setCheck(u,c),0===s){var b=this.keys[l[i+1]].v;null==b&&(b=0),t.setBase(u,-b-1)}}},v.prototype.findAllocatableBase=function(c){for(var n,l=this.bc,t=l.getFirstUnusedNode();;)if((n=t-c[0])<0)t=-l.getCheck(t);else{for(var i=!0,s=0;s<c.length;s+=3)if(!this.isUnusedNode(n+c[s])){t=-l.getCheck(t),i=!1;break}if(i)return n}},v.prototype.isUnusedNode=function(c){var n=this.bc.getCheck(c);return 0!==c&&n<0},L.prototype.contain=function(c){for(var l=this.bc,n=p(c+="\0"),t=0,i=_,s=0;s<n.length;s++){if((i=this.traverse(t,n[s]))===_)return!1;if(l.getBase(i)<=0)return!0;t=i}return!1},L.prototype.lookup=function(c){for(var l=p(c+="\0"),n=0,t=_,i=0;i<l.length;i++){if((t=this.traverse(n,l[i]))===_)return _;n=t}var u=this.bc.getBase(t);return u<=0?-u-1:_},L.prototype.commonPrefixSearch=function(c){for(var l=p(c),n=0,t=_,i=[],s=0;s<l.length&&(t=this.traverse(n,l[s]))!==_;s++){n=t;var o=this.traverse(t,0);if(o!==_){var d=this.bc.getBase(o),f={};d<=0&&(f.v=-d-1),f.k=x(g(l,0,s+1)),i.push(f)}}return i},L.prototype.traverse=function(c,l){var n=this.bc.getBase(c)+l;return this.bc.getCheck(n)===c?n:_},L.prototype.size=function(){return this.bc.size()},L.prototype.calc=function(){return this.bc.calc()},L.prototype.dump=function(){return this.bc.dump()};var h=function(c,l,n){if(c)switch(l){case 1:return new Int8Array(n);case 2:return new Int16Array(n);case 4:return new Int32Array(n);default:throw new RangeError("Invalid newArray parameter element_bytes:"+l)}else switch(l){case 1:return new Uint8Array(n);case 2:return new Uint16Array(n);case 4:return new Uint32Array(n);default:throw new RangeError("Invalid newArray parameter element_bytes:"+l)}},g=function(c,l,n){var t=new ArrayBuffer(n),i=new Uint8Array(t,0,n),s=c.subarray(l,n);return i.set(s),i},p=function(c){for(var l=new Uint8Array(new ArrayBuffer(4*c.length)),n=0,t=0;n<c.length;){var i,s=c.charCodeAt(n++);if(s>=55296&&s<=56319){var u=s,o=c.charCodeAt(n++);if(!(o>=56320&&o<=57343))return null;i=1024*(u-55296)+65536+(o-56320)}else i=s;i<128?l[t++]=i:i<2048?(l[t++]=i>>>6|192,l[t++]=63&i|128):i<65536?(l[t++]=i>>>12|224,l[t++]=i>>6&63|128,l[t++]=63&i|128):i<1<<21&&(l[t++]=i>>>18|240,l[t++]=i>>12&63|128,l[t++]=i>>6&63|128,l[t++]=63&i|128)}return l.subarray(0,t)},x=function(c){for(var n,t,l="",f=0;f<c.length;)(n=(t=c[f++])<128?t:t>>5==6?(31&t)<<6|63&c[f++]:t>>4==14?(15&t)<<12|(63&c[f++])<<6|63&c[f++]:(7&t)<<18|(63&c[f++])<<12|(63&c[f++])<<6|63&c[f++])<65536?l+=String.fromCharCode(n):(n-=65536,l+=String.fromCharCode(55296|n>>10,56320|1023&n));return l},r={builder:function(c){return new v(c)},load:function(c,l){var n=me(0);return n.loadBaseBuffer(c),n.loadCheckBuffer(l),new L(n)}};void 0===Et?window.doublearray=r:Et.exports=r}()},{}],3:[function(At,Et,kt){"use strict";var V=At("./viterbi/ViterbiBuilder"),Ue=At("./viterbi/ViterbiSearcher"),Pe=At("./util/IpadicFormatter"),_=/\u3001|\u3002/;function Q(Z){this.token_info_dictionary=Z.token_info_dictionary,this.unknown_dictionary=Z.unknown_dictionary,this.viterbi_builder=new V(Z),this.viterbi_searcher=new Ue(Z.connection_costs),this.formatter=new Pe}Q.splitByPunctuation=function(Z){for(var ce=[],de=Z;""!==de;){var ne=de.search(_);if(ne<0){ce.push(de);break}ce.push(de.substring(0,ne+1)),de=de.substring(ne+1)}return ce},Q.prototype.tokenize=function(Z){for(var ce=Q.splitByPunctuation(Z),de=[],ne=0;ne<ce.length;ne++)this.tokenizeForSentence(ce[ne],de);return de},Q.prototype.tokenizeForSentence=function(Z,ce){null==ce&&(ce=[]);var de=this.getLattice(Z),ne=this.viterbi_searcher.search(de),me=0;ce.length>0&&(me=ce[ce.length-1].word_position);for(var v=0;v<ne.length;v++){var h,g,p,L=ne[v];"KNOWN"===L.type?(g=null==(p=this.token_info_dictionary.getFeatures(L.name))?[]:p.split(","),h=this.formatter.formatEntry(L.name,me+L.start_pos,L.type,g)):"UNKNOWN"===L.type?(g=null==(p=this.unknown_dictionary.getFeatures(L.name))?[]:p.split(","),h=this.formatter.formatUnknownEntry(L.name,me+L.start_pos,L.type,g,L.surface_form)):h=this.formatter.formatEntry(L.name,me+L.start_pos,L.type,[]),ce.push(h)}return ce},Q.prototype.getLattice=function(Z){return this.viterbi_builder.build(Z)},Et.exports=Q},{"./util/IpadicFormatter":19,"./viterbi/ViterbiBuilder":21,"./viterbi/ViterbiSearcher":24}],4:[function(At,Et,kt){"use strict";var V=At("./Tokenizer"),Ue=At("./loader/NodeDictionaryLoader");function Pe(_){this.dic_path=null==_.dicPath?"dict/":_.dicPath}Pe.prototype.build=function(_){new Ue(this.dic_path).load(function(Z,ce){_(Z,new V(ce))})},Et.exports=Pe},{"./Tokenizer":3,"./loader/NodeDictionaryLoader":16}],5:[function(At,Et,kt){"use strict";Et.exports=function V(Ue,Pe,_,Q,Z){this.class_id=Ue,this.class_name=Pe,this.is_always_invoke=_,this.is_grouping=Q,this.max_length=Z}},{}],6:[function(At,Et,kt){"use strict";var V=At("./InvokeDefinitionMap"),Ue=At("./CharacterClass"),Pe=At("../util/SurrogateAwareString"),_="DEFAULT";function Q(){this.character_category_map=new Uint8Array(65536),this.compatible_category_map=new Uint32Array(65536),this.invoke_definition_map=null}Q.load=function(Z,ce,de){var ne=new Q;return ne.character_category_map=Z,ne.compatible_category_map=ce,ne.invoke_definition_map=V.load(de),ne},Q.parseCharCategory=function(Z,ce){var de=ce[1],ne=parseInt(ce[2]),me=parseInt(ce[3]),v=parseInt(ce[4]);return!isFinite(ne)||0!==ne&&1!==ne?(console.log("char.def parse error. INVOKE is 0 or 1 in:"+ne),null):!isFinite(me)||0!==me&&1!==me?(console.log("char.def parse error. GROUP is 0 or 1 in:"+me),null):!isFinite(v)||v<0?(console.log("char.def parse error. LENGTH is 1 to n:"+v),null):new Ue(Z,de,1===ne,1===me,v)},Q.parseCategoryMapping=function(Z){var ce=parseInt(Z[1]),de=Z[2],ne=3<Z.length?Z.slice(3):[];return(!isFinite(ce)||ce<0||ce>65535)&&console.log("char.def parse error. CODE is invalid:"+ce),{start:ce,default:de,compatible:ne}},Q.parseRangeCategoryMapping=function(Z){var ce=parseInt(Z[1]),de=parseInt(Z[2]),ne=Z[3],me=4<Z.length?Z.slice(4):[];return(!isFinite(ce)||ce<0||ce>65535)&&console.log("char.def parse error. CODE is invalid:"+ce),(!isFinite(de)||de<0||de>65535)&&console.log("char.def parse error. CODE is invalid:"+de),{start:ce,end:de,default:ne,compatible:me}},Q.prototype.initCategoryMappings=function(Z){var ce;if(null!=Z)for(var de=0;de<Z.length;de++){var ne=Z[de],me=ne.end||ne.start;for(ce=ne.start;ce<=me;ce++){this.character_category_map[ce]=this.invoke_definition_map.lookup(ne.default);for(var v=0;v<ne.compatible.length;v++){var L=this.compatible_category_map[ce],h=ne.compatible[v];if(null!=h){var g=this.invoke_definition_map.lookup(h);null!=g&&(this.compatible_category_map[ce]=L|=1<<g)}}}}var x=this.invoke_definition_map.lookup(_);if(null!=x)for(ce=0;ce<this.character_category_map.length;ce++)0===this.character_category_map[ce]&&(this.character_category_map[ce]=1<<x)},Q.prototype.lookupCompatibleCategory=function(Z){var ne,ce=[],de=Z.charCodeAt(0);if(de<this.compatible_category_map.length&&(ne=this.compatible_category_map[de]),null==ne||0===ne)return ce;for(var me=0;me<32;me++)if(ne<<31-me>>>31==1){var v=this.invoke_definition_map.getCharacterClass(me);if(null==v)continue;ce.push(v)}return ce},Q.prototype.lookup=function(Z){var ce,de=Z.charCodeAt(0);return Pe.isSurrogatePair(Z)?ce=this.invoke_definition_map.lookup(_):de<this.character_category_map.length&&(ce=this.character_category_map[de]),null==ce&&(ce=this.invoke_definition_map.lookup(_)),this.invoke_definition_map.getCharacterClass(ce)},Et.exports=Q},{"../util/SurrogateAwareString":20,"./CharacterClass":5,"./InvokeDefinitionMap":9}],7:[function(At,Et,kt){"use strict";function V(Ue,Pe){this.forward_dimension=Ue,this.backward_dimension=Pe,this.buffer=new Int16Array(Ue*Pe+2),this.buffer[0]=Ue,this.buffer[1]=Pe}V.prototype.put=function(Ue,Pe,_){var Q=Ue*this.backward_dimension+Pe+2;if(this.buffer.length<Q+1)throw"ConnectionCosts buffer overflow";this.buffer[Q]=_},V.prototype.get=function(Ue,Pe){var _=Ue*this.backward_dimension+Pe+2;if(this.buffer.length<_+1)throw"ConnectionCosts buffer overflow";return this.buffer[_]},V.prototype.loadConnectionCosts=function(Ue){this.forward_dimension=Ue[0],this.backward_dimension=Ue[1],this.buffer=Ue},Et.exports=V},{}],8:[function(At,Et,kt){"use strict";var V=At("doublearray"),Ue=At("./TokenInfoDictionary"),Pe=At("./ConnectionCosts"),_=At("./UnknownDictionary");function Q(Z,ce,de,ne){this.trie=null!=Z?Z:V.builder(0).build([{k:"",v:1}]),this.token_info_dictionary=null!=ce?ce:new Ue,this.connection_costs=null!=de?de:new Pe(0,0),this.unknown_dictionary=null!=ne?ne:new _}Q.prototype.loadTrie=function(Z,ce){return this.trie=V.load(Z,ce),this},Q.prototype.loadTokenInfoDictionaries=function(Z,ce,de){return this.token_info_dictionary.loadDictionary(Z),this.token_info_dictionary.loadPosVector(ce),this.token_info_dictionary.loadTargetMap(de),this},Q.prototype.loadConnectionCosts=function(Z){return this.connection_costs.loadConnectionCosts(Z),this},Q.prototype.loadUnknownDictionaries=function(Z,ce,de,ne,me,v){return this.unknown_dictionary.loadUnknownDictionaries(Z,ce,de,ne,me,v),this},Et.exports=Q},{"./ConnectionCosts":7,"./TokenInfoDictionary":10,"./UnknownDictionary":11,doublearray:2}],9:[function(At,Et,kt){"use strict";var V=At("../util/ByteBuffer"),Ue=At("./CharacterClass");function Pe(){this.map=[],this.lookup_table={}}Pe.load=function(_){for(var Q=new Pe,Z=[],ce=new V(_);ce.position+1<ce.size();){var de=Z.length,ne=ce.get(),me=ce.get(),v=ce.getInt(),L=ce.getString();Z.push(new Ue(de,L,ne,me,v))}return Q.init(Z),Q},Pe.prototype.init=function(_){if(null!=_)for(var Q=0;Q<_.length;Q++){var Z=_[Q];this.map[Q]=Z,this.lookup_table[Z.class_name]=Q}},Pe.prototype.getCharacterClass=function(_){return this.map[_]},Pe.prototype.lookup=function(_){var Q=this.lookup_table[_];return null==Q?null:Q},Pe.prototype.toBuffer=function(){for(var _=new V,Q=0;Q<this.map.length;Q++){var Z=this.map[Q];_.put(Z.is_always_invoke),_.put(Z.is_grouping),_.putInt(Z.max_length),_.putString(Z.class_name)}return _.shrink(),_.buffer},Et.exports=Pe},{"../util/ByteBuffer":18,"./CharacterClass":5}],10:[function(At,Et,kt){"use strict";var V=At("../util/ByteBuffer");function Ue(){this.dictionary=new V(10485760),this.target_map={},this.pos_buffer=new V(10485760)}Ue.prototype.buildDictionary=function(Pe){for(var _={},Q=0;Q<Pe.length;Q++){var Z=Pe[Q];if(!(Z.length<4)){var ce=Z[0],de=Z[1],ne=Z[2],me=Z[3],v=Z.slice(4).join(",");(!isFinite(de)||!isFinite(ne)||!isFinite(me))&&console.log(Z),_[this.put(de,ne,me,ce,v)]=ce}}return this.dictionary.shrink(),this.pos_buffer.shrink(),_},Ue.prototype.put=function(Pe,_,Q,Z,ce){var de=this.dictionary.position,ne=this.pos_buffer.position;return this.dictionary.putShort(Pe),this.dictionary.putShort(_),this.dictionary.putShort(Q),this.dictionary.putInt(ne),this.pos_buffer.putString(Z+","+ce),de},Ue.prototype.addMapping=function(Pe,_){var Q=this.target_map[Pe];null==Q&&(Q=[]),Q.push(_),this.target_map[Pe]=Q},Ue.prototype.targetMapToBuffer=function(){var Pe=new V,_=Object.keys(this.target_map).length;for(var Q in Pe.putInt(_),this.target_map){var Z=this.target_map[Q],ce=Z.length;Pe.putInt(parseInt(Q)),Pe.putInt(ce);for(var de=0;de<Z.length;de++)Pe.putInt(Z[de])}return Pe.shrink()},Ue.prototype.loadDictionary=function(Pe){return this.dictionary=new V(Pe),this},Ue.prototype.loadPosVector=function(Pe){return this.pos_buffer=new V(Pe),this},Ue.prototype.loadTargetMap=function(Pe){var _=new V(Pe);for(_.position=0,this.target_map={},_.readInt();!(_.buffer.length<_.position+1);)for(var Q=_.readInt(),Z=_.readInt(),ce=0;ce<Z;ce++){var de=_.readInt();this.addMapping(Q,de)}return this},Ue.prototype.getFeatures=function(Pe){var _=parseInt(Pe);if(isNaN(_))return"";var Q=this.dictionary.getInt(_+6);return this.pos_buffer.getString(Q)},Et.exports=Ue},{"../util/ByteBuffer":18}],11:[function(At,Et,kt){"use strict";var V=At("./TokenInfoDictionary"),Ue=At("./CharacterDefinition"),Pe=At("../util/ByteBuffer");function _(){this.dictionary=new Pe(10485760),this.target_map={},this.pos_buffer=new Pe(10485760),this.character_definition=null}(_.prototype=Object.create(V.prototype)).characterDefinition=function(Q){return this.character_definition=Q,this},_.prototype.lookup=function(Q){return this.character_definition.lookup(Q)},_.prototype.lookupCompatibleCategory=function(Q){return this.character_definition.lookupCompatibleCategory(Q)},_.prototype.loadUnknownDictionaries=function(Q,Z,ce,de,ne,me){this.loadDictionary(Q),this.loadPosVector(Z),this.loadTargetMap(ce),this.character_definition=Ue.load(de,ne,me)},Et.exports=_},{"../util/ByteBuffer":18,"./CharacterDefinition":6,"./TokenInfoDictionary":10}],12:[function(At,Et,kt){"use strict";var V=At("../CharacterDefinition"),Ue=At("../InvokeDefinitionMap"),Pe=/^(\w+)\s+(\d)\s+(\d)\s+(\d)/,_=/^(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/,Q=/^(0x[0-9A-F]{4})\.\.(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/;function Z(){this.char_def=new V,this.char_def.invoke_definition_map=new Ue,this.character_category_definition=[],this.category_mapping=[]}Z.prototype.putLine=function(ce){var de=Pe.exec(ce);if(null==de){var v=_.exec(ce);if(null!=v){var L=V.parseCategoryMapping(v);this.category_mapping.push(L)}var h=Q.exec(ce);if(null!=h){var g=V.parseRangeCategoryMapping(h);this.category_mapping.push(g)}}else{var me=V.parseCharCategory(this.character_category_definition.length,de);if(null==me)return;this.character_category_definition.push(me)}},Z.prototype.build=function(){return this.char_def.invoke_definition_map.init(this.character_category_definition),this.char_def.initCategoryMappings(this.category_mapping),this.char_def},Et.exports=Z},{"../CharacterDefinition":6,"../InvokeDefinitionMap":9}],13:[function(At,Et,kt){"use strict";var V=At("../ConnectionCosts");function Ue(){this.lines=0,this.connection_cost=null}Ue.prototype.putLine=function(Pe){if(0===this.lines){var _=Pe.split(" "),Q=_[0],Z=_[1];if(Q<0||Z<0)throw"Parse error of matrix.def";return this.connection_cost=new V(Q,Z),this.lines++,this}var ce=Pe.split(" ");if(3!==ce.length)return this;var de=parseInt(ce[0]),ne=parseInt(ce[1]),me=parseInt(ce[2]);if(de<0||ne<0||!isFinite(de)||!isFinite(ne)||this.connection_cost.forward_dimension<=de||this.connection_cost.backward_dimension<=ne)throw"Parse error of matrix.def";return this.connection_cost.put(de,ne,me),this.lines++,this},Ue.prototype.build=function(){return this.connection_cost},Et.exports=Ue},{"../ConnectionCosts":7}],14:[function(At,Et,kt){"use strict";var V=At("doublearray"),Ue=At("../DynamicDictionaries"),Pe=At("../TokenInfoDictionary"),_=At("./ConnectionCostsBuilder"),Q=At("./CharacterDefinitionBuilder"),Z=At("../UnknownDictionary");function ce(){this.tid_entries=[],this.unk_entries=[],this.cc_builder=new _,this.cd_builder=new Q}ce.prototype.addTokenInfoDictionary=function(de){var ne=de.split(",");return this.tid_entries.push(ne),this},ce.prototype.putCostMatrixLine=function(de){return this.cc_builder.putLine(de),this},ce.prototype.putCharDefLine=function(de){return this.cd_builder.putLine(de),this},ce.prototype.putUnkDefLine=function(de){return this.unk_entries.push(de.split(",")),this},ce.prototype.build=function(){var de=this.buildTokenInfoDictionary(),ne=this.buildUnknownDictionary();return new Ue(de.trie,de.token_info_dictionary,this.cc_builder.build(),ne)},ce.prototype.buildTokenInfoDictionary=function(){var de=new Pe,ne=de.buildDictionary(this.tid_entries),me=this.buildDoubleArray();for(var v in ne){var h=me.lookup(ne[v]);de.addMapping(h,v)}return{trie:me,token_info_dictionary:de}},ce.prototype.buildUnknownDictionary=function(){var de=new Z,ne=de.buildDictionary(this.unk_entries),me=this.cd_builder.build();for(var v in de.characterDefinition(me),ne){var h=me.invoke_definition_map.lookup(ne[v]);de.addMapping(h,v)}return de},ce.prototype.buildDoubleArray=function(){var de=0,ne=this.tid_entries.map(function(v){return{k:v[0],v:de++}});return V.builder(1048576).build(ne)},Et.exports=ce},{"../DynamicDictionaries":8,"../TokenInfoDictionary":10,"../UnknownDictionary":11,"./CharacterDefinitionBuilder":12,"./ConnectionCostsBuilder":13,doublearray:2}],15:[function(At,Et,kt){"use strict";var V=At("./TokenizerBuilder"),Ue=At("./dict/builder/DictionaryBuilder");Et.exports={builder:function(_){return new V(_)},dictionaryBuilder:function(){return new Ue}}},{"./TokenizerBuilder":4,"./dict/builder/DictionaryBuilder":14}],16:[function(At,Et,kt){"use strict";var V=At("zlibjs/bin/gunzip.min.js"),Ue=At("./DictionaryLoader");function Pe(_){Ue.apply(this,[_])}(Pe.prototype=Object.create(Ue.prototype)).loadArrayBuffer=function(_,Q){var Z=new XMLHttpRequest;Z.open("GET",_,!0),Z.responseType="arraybuffer",Z.onload=function(){if(this.status>0&&200!==this.status)Q(Z.statusText,null);else{var ne=new V.Zlib.Gunzip(new Uint8Array(this.response)).decompress();Q(null,ne.buffer)}},Z.onerror=function(ce){Q(ce,null)},Z.send()},Et.exports=Pe},{"./DictionaryLoader":17,"zlibjs/bin/gunzip.min.js":28}],17:[function(At,Et,kt){"use strict";var V=At("path"),Ue=At("async"),Pe=At("../dict/DynamicDictionaries");function _(Q){this.dic=new Pe,this.dic_path=Q}_.prototype.loadArrayBuffer=function(Q,Z){throw new Error("DictionaryLoader#loadArrayBuffer should be overwrite")},_.prototype.load=function(Q){var Z=this.dic,ce=this.dic_path,de=this.loadArrayBuffer;Ue.parallel([function(ne){Ue.map(["base.dat.gz","check.dat.gz"],function(me,v){de(V.join(ce,me),function(L,h){if(L)return v(L);v(null,h)})},function(me,v){if(me)return ne(me);var L=new Int32Array(v[0]),h=new Int32Array(v[1]);Z.loadTrie(L,h),ne(null)})},function(ne){Ue.map(["tid.dat.gz","tid_pos.dat.gz","tid_map.dat.gz"],function(me,v){de(V.join(ce,me),function(L,h){if(L)return v(L);v(null,h)})},function(me,v){if(me)return ne(me);var L=new Uint8Array(v[0]),h=new Uint8Array(v[1]),g=new Uint8Array(v[2]);Z.loadTokenInfoDictionaries(L,h,g),ne(null)})},function(ne){de(V.join(ce,"cc.dat.gz"),function(me,v){if(me)return ne(me);var L=new Int16Array(v);Z.loadConnectionCosts(L),ne(null)})},function(ne){Ue.map(["unk.dat.gz","unk_pos.dat.gz","unk_map.dat.gz","unk_char.dat.gz","unk_compat.dat.gz","unk_invoke.dat.gz"],function(me,v){de(V.join(ce,me),function(L,h){if(L)return v(L);v(null,h)})},function(me,v){if(me)return ne(me);var L=new Uint8Array(v[0]),h=new Uint8Array(v[1]),g=new Uint8Array(v[2]),p=new Uint8Array(v[3]),x=new Uint32Array(v[4]),r=new Uint8Array(v[5]);Z.loadUnknownDictionaries(L,h,g,p,x,r),ne(null)})}],function(ne){Q(ne,Z)})},Et.exports=_},{"../dict/DynamicDictionaries":8,async:1,path:25}],18:[function(At,Et,kt){"use strict";function Pe(_){var Q;if(null==_)Q=1048576;else{if("number"!=typeof _){if(_ instanceof Uint8Array)return this.buffer=_,void(this.position=0);throw typeof _+" is invalid parameter type for ByteBuffer constructor"}Q=_}this.buffer=new Uint8Array(Q),this.position=0}Pe.prototype.size=function(){return this.buffer.length},Pe.prototype.reallocate=function(){var _=new Uint8Array(2*this.buffer.length);_.set(this.buffer),this.buffer=_},Pe.prototype.shrink=function(){return this.buffer=this.buffer.subarray(0,this.position),this.buffer},Pe.prototype.put=function(_){this.buffer.length<this.position+1&&this.reallocate(),this.buffer[this.position++]=_},Pe.prototype.get=function(_){return null==_&&(_=this.position,this.position+=1),this.buffer.length<_+1?0:this.buffer[_]},Pe.prototype.putShort=function(_){if(65535<_)throw _+" is over short value";var Z=(65280&_)>>8;this.put(255&_),this.put(Z)},Pe.prototype.getShort=function(_){if(null==_&&(_=this.position,this.position+=2),this.buffer.length<_+2)return 0;var ce=(this.buffer[_+1]<<8)+this.buffer[_];return 32768&ce&&(ce=-(ce-1^65535)),ce},Pe.prototype.putInt=function(_){if(4294967295<_)throw _+" is over integer value";var Z=(65280&_)>>8,ce=(16711680&_)>>16,de=(4278190080&_)>>24;this.put(255&_),this.put(Z),this.put(ce),this.put(de)},Pe.prototype.getInt=function(_){return null==_&&(_=this.position,this.position+=4),this.buffer.length<_+4?0:(this.buffer[_+3]<<24)+(this.buffer[_+2]<<16)+(this.buffer[_+1]<<8)+this.buffer[_]},Pe.prototype.readInt=function(){var _=this.position;return this.position+=4,this.getInt(_)},Pe.prototype.putString=function(_){for(var Q=function(_){for(var Q=new Uint8Array(4*_.length),Z=0,ce=0;Z<_.length;){var de,ne=_.charCodeAt(Z++);if(ne>=55296&&ne<=56319){var me=ne,v=_.charCodeAt(Z++);if(!(v>=56320&&v<=57343))return null;de=1024*(me-55296)+65536+(v-56320)}else de=ne;de<128?Q[ce++]=de:de<2048?(Q[ce++]=de>>>6|192,Q[ce++]=63&de|128):de<65536?(Q[ce++]=de>>>12|224,Q[ce++]=de>>6&63|128,Q[ce++]=63&de|128):de<2097152&&(Q[ce++]=de>>>18|240,Q[ce++]=de>>12&63|128,Q[ce++]=de>>6&63|128,Q[ce++]=63&de|128)}return Q.subarray(0,ce)}(_),Z=0;Z<Q.length;Z++)this.put(Q[Z]);this.put(0)},Pe.prototype.getString=function(_){var Z,Q=[];for(null==_&&(_=this.position);!(this.buffer.length<_+1||(Z=this.get(_++),0===Z));)Q.push(Z);return this.position=_,function(_){for(var Z,ce,Q="",h=0;h<_.length;)(Z=(ce=_[h++])<128?ce:ce>>5==6?(31&ce)<<6|63&_[h++]:ce>>4==14?(15&ce)<<12|(63&_[h++])<<6|63&_[h++]:(7&ce)<<18|(63&_[h++])<<12|(63&_[h++])<<6|63&_[h++])<65536?Q+=String.fromCharCode(Z):(Z-=65536,Q+=String.fromCharCode(55296|Z>>10,56320|1023&Z));return Q}(Q)},Et.exports=Pe},{}],19:[function(At,Et,kt){"use strict";function V(){}V.prototype.formatEntry=function(Ue,Pe,_,Q){var Z={};return Z.word_id=Ue,Z.word_type=_,Z.word_position=Pe,Z.surface_form=Q[0],Z.pos=Q[1],Z.pos_detail_1=Q[2],Z.pos_detail_2=Q[3],Z.pos_detail_3=Q[4],Z.conjugated_type=Q[5],Z.conjugated_form=Q[6],Z.basic_form=Q[7],Z.reading=Q[8],Z.pronunciation=Q[9],Z},V.prototype.formatUnknownEntry=function(Ue,Pe,_,Q,Z){var ce={};return ce.word_id=Ue,ce.word_type=_,ce.word_position=Pe,ce.surface_form=Z,ce.pos=Q[1],ce.pos_detail_1=Q[2],ce.pos_detail_2=Q[3],ce.pos_detail_3=Q[4],ce.conjugated_type=Q[5],ce.conjugated_form=Q[6],ce.basic_form=Q[7],ce},Et.exports=V},{}],20:[function(At,Et,kt){"use strict";function V(Ue){this.str=Ue,this.index_mapping=[];for(var Pe=0;Pe<Ue.length;Pe++){var _=Ue.charAt(Pe);this.index_mapping.push(Pe),V.isSurrogatePair(_)&&Pe++}this.length=this.index_mapping.length}V.prototype.slice=function(Ue){return this.index_mapping.length<=Ue?"":this.str.slice(this.index_mapping[Ue])},V.prototype.charAt=function(Ue){if(this.str.length<=Ue)return"";var Pe=this.index_mapping[Ue],_=this.index_mapping[Ue+1];return null==_?this.str.slice(Pe):this.str.slice(Pe,_)},V.prototype.charCodeAt=function(Ue){if(this.index_mapping.length<=Ue)return NaN;var Q,Pe=this.index_mapping[Ue],_=this.str.charCodeAt(Pe);return _>=55296&&_<=56319&&Pe<this.str.length&&(Q=this.str.charCodeAt(Pe+1))>=56320&&Q<=57343?1024*(_-55296)+Q-56320+65536:_},V.prototype.toString=function(){return this.str},V.isSurrogatePair=function(Ue){var Pe=Ue.charCodeAt(0);return Pe>=55296&&Pe<=56319},Et.exports=V},{}],21:[function(At,Et,kt){"use strict";var V=At("./ViterbiNode"),Ue=At("./ViterbiLattice"),Pe=At("../util/SurrogateAwareString");function _(Q){this.trie=Q.trie,this.token_info_dictionary=Q.token_info_dictionary,this.unknown_dictionary=Q.unknown_dictionary}_.prototype.build=function(Q){for(var de,me,v,L,Z=new Ue,ce=new Pe(Q),h=0;h<ce.length;h++){for(var g=ce.slice(h),p=this.trie.commonPrefixSearch(g),x=0;x<p.length;x++){de=p[x].k;for(var r=this.token_info_dictionary.target_map[p[x].v],c=0;c<r.length;c++){var l=parseInt(r[c]);me=this.token_info_dictionary.dictionary.getShort(l),v=this.token_info_dictionary.dictionary.getShort(l+2),L=this.token_info_dictionary.dictionary.getShort(l+4),Z.append(new V(l,L,h+1,de.length,"KNOWN",me,v,de))}}var n=new Pe(g),t=new Pe(n.charAt(0)),i=this.unknown_dictionary.lookup(t.toString());if(null==p||0===p.length||1===i.is_always_invoke){if(de=t,1===i.is_grouping&&1<n.length)for(var s=1;s<n.length;s++){var u=n.charAt(s),o=this.unknown_dictionary.lookup(u);if(i.class_name!==o.class_name)break;de+=u}for(var d=this.unknown_dictionary.target_map[i.class_id],f=0;f<d.length;f++){var E=parseInt(d[f]);me=this.unknown_dictionary.dictionary.getShort(E),v=this.unknown_dictionary.dictionary.getShort(E+2),L=this.unknown_dictionary.dictionary.getShort(E+4),Z.append(new V(E,L,h+1,de.length,"UNKNOWN",me,v,de.toString()))}}}return Z.appendEos(),Z},Et.exports=_},{"../util/SurrogateAwareString":20,"./ViterbiLattice":22,"./ViterbiNode":23}],22:[function(At,Et,kt){"use strict";var V=At("./ViterbiNode");function Ue(){this.nodes_end_at=[],this.nodes_end_at[0]=[new V(-1,0,0,0,"BOS",0,0,"")],this.eos_pos=1}Ue.prototype.append=function(Pe){var _=Pe.start_pos+Pe.length-1;this.eos_pos<_&&(this.eos_pos=_);var Q=this.nodes_end_at[_];null==Q&&(Q=[]),Q.push(Pe),this.nodes_end_at[_]=Q},Ue.prototype.appendEos=function(){var Pe=this.nodes_end_at.length;this.eos_pos++,this.nodes_end_at[Pe]=[new V(-1,0,this.eos_pos,0,"EOS",0,0,"")]},Et.exports=Ue},{"./ViterbiNode":23}],23:[function(At,Et,kt){"use strict";Et.exports=function V(Ue,Pe,_,Q,Z,ce,de,ne){this.name=Ue,this.cost=Pe,this.start_pos=_,this.length=Q,this.left_id=ce,this.right_id=de,this.prev=null,this.surface_form=ne,this.shortest_cost="BOS"===Z?0:Number.MAX_VALUE,this.type=Z}},{}],24:[function(At,Et,kt){"use strict";function V(Ue){this.connection_costs=Ue}V.prototype.search=function(Ue){return Ue=this.forward(Ue),this.backward(Ue)},V.prototype.forward=function(Ue){var Pe,_,Q;for(Pe=1;Pe<=Ue.eos_pos;Pe++){var Z=Ue.nodes_end_at[Pe];if(null!=Z)for(_=0;_<Z.length;_++){var ne,ce=Z[_],de=Number.MAX_VALUE,me=Ue.nodes_end_at[ce.start_pos-1];if(null!=me){for(Q=0;Q<me.length;Q++){var L,v=me[Q];null==ce.left_id||null==v.right_id?(console.log("Left or right is null"),L=0):L=this.connection_costs.get(v.right_id,ce.left_id);var h=v.shortest_cost+L+ce.cost;h<de&&(ne=v,de=h)}ce.prev=ne,ce.shortest_cost=de}}}return Ue},V.prototype.backward=function(Ue){var Pe=[],Q=Ue.nodes_end_at[Ue.nodes_end_at.length-1][0].prev;if(null==Q)return[];for(;"BOS"!==Q.type;){if(Pe.push(Q),null==Q.prev)return[];Q=Q.prev}return Pe.reverse()},Et.exports=V},{}],25:[function(At,Et,kt){(function(V){function Ue(Z,ce){for(var de=0,ne=Z.length-1;ne>=0;ne--){var me=Z[ne];"."===me?Z.splice(ne,1):".."===me?(Z.splice(ne,1),de++):de&&(Z.splice(ne,1),de--)}if(ce)for(;de--;de)Z.unshift("..");return Z}function _(Z,ce){if(Z.filter)return Z.filter(ce);for(var de=[],ne=0;ne<Z.length;ne++)ce(Z[ne],ne,Z)&&de.push(Z[ne]);return de}kt.resolve=function(){for(var Z="",ce=!1,de=arguments.length-1;de>=-1&&!ce;de--){var ne=de>=0?arguments[de]:V.cwd();if("string"!=typeof ne)throw new TypeError("Arguments to path.resolve must be strings");ne&&(Z=ne+"/"+Z,ce="/"===ne.charAt(0))}return(ce?"/":"")+(Z=Ue(_(Z.split("/"),function(me){return!!me}),!ce).join("/"))||"."},kt.normalize=function(Z){var ce=kt.isAbsolute(Z),de="/"===Q(Z,-1);return!(Z=Ue(_(Z.split("/"),function(ne){return!!ne}),!ce).join("/"))&&!ce&&(Z="."),Z&&de&&(Z+="/"),(ce?"/":"")+Z},kt.isAbsolute=function(Z){return"/"===Z.charAt(0)},kt.join=function(){var Z=Array.prototype.slice.call(arguments,0);return kt.normalize(_(Z,function(ce,de){if("string"!=typeof ce)throw new TypeError("Arguments to path.join must be strings");return ce}).join("/"))},kt.relative=function(Z,ce){function de(p){for(var x=0;x<p.length&&""===p[x];x++);for(var r=p.length-1;r>=0&&""===p[r];r--);return x>r?[]:p.slice(x,r-x+1)}Z=kt.resolve(Z).substr(1),ce=kt.resolve(ce).substr(1);for(var ne=de(Z.split("/")),me=de(ce.split("/")),v=Math.min(ne.length,me.length),L=v,h=0;h<v;h++)if(ne[h]!==me[h]){L=h;break}var g=[];for(h=L;h<ne.length;h++)g.push("..");return(g=g.concat(me.slice(L))).join("/")},kt.sep="/",kt.delimiter=":",kt.dirname=function(Z){if("string"!=typeof Z&&(Z+=""),0===Z.length)return".";for(var ce=Z.charCodeAt(0),de=47===ce,ne=-1,me=!0,v=Z.length-1;v>=1;--v)if(47===(ce=Z.charCodeAt(v))){if(!me){ne=v;break}}else me=!1;return-1===ne?de?"/":".":de&&1===ne?"/":Z.slice(0,ne)},kt.basename=function(Z,ce){var de=function Pe(Z){"string"!=typeof Z&&(Z+="");var me,ce=0,de=-1,ne=!0;for(me=Z.length-1;me>=0;--me)if(47===Z.charCodeAt(me)){if(!ne){ce=me+1;break}}else-1===de&&(ne=!1,de=me+1);return-1===de?"":Z.slice(ce,de)}(Z);return ce&&de.substr(-1*ce.length)===ce&&(de=de.substr(0,de.length-ce.length)),de},kt.extname=function(Z){"string"!=typeof Z&&(Z+="");for(var ce=-1,de=0,ne=-1,me=!0,v=0,L=Z.length-1;L>=0;--L){var h=Z.charCodeAt(L);if(47!==h)-1===ne&&(me=!1,ne=L+1),46===h?-1===ce?ce=L:1!==v&&(v=1):-1!==ce&&(v=-1);else if(!me){de=L+1;break}}return-1===ce||-1===ne||0===v||1===v&&ce===ne-1&&ce===de+1?"":Z.slice(ce,ne)};var Q="b"==="ab".substr(-1)?function(Z,ce,de){return Z.substr(ce,de)}:function(Z,ce,de){return ce<0&&(ce=Z.length+ce),Z.substr(ce,de)}}).call(this,At("_process"))},{_process:26}],26:[function(At,Et,kt){var Ue,Pe,V=Et.exports={};function _(){throw new Error("setTimeout has not been defined")}function Q(){throw new Error("clearTimeout has not been defined")}function Z(x){if(Ue===setTimeout)return setTimeout(x,0);if((Ue===_||!Ue)&&setTimeout)return Ue=setTimeout,setTimeout(x,0);try{return Ue(x,0)}catch(r){try{return Ue.call(null,x,0)}catch(c){return Ue.call(this,x,0)}}}!function(){try{Ue="function"==typeof setTimeout?setTimeout:_}catch(x){Ue=_}try{Pe="function"==typeof clearTimeout?clearTimeout:Q}catch(x){Pe=Q}}();var me,de=[],ne=!1,v=-1;function L(){!ne||!me||(ne=!1,me.length?de=me.concat(de):v=-1,de.length&&h())}function h(){if(!ne){var x=Z(L);ne=!0;for(var r=de.length;r;){for(me=de,de=[];++v<r;)me&&me[v].run();v=-1,r=de.length}me=null,ne=!1,function ce(x){if(Pe===clearTimeout)return clearTimeout(x);if((Pe===Q||!Pe)&&clearTimeout)return Pe=clearTimeout,clearTimeout(x);try{Pe(x)}catch(r){try{return Pe.call(null,x)}catch(c){return Pe.call(this,x)}}}(x)}}function g(x,r){this.fun=x,this.array=r}function p(){}V.nextTick=function(x){var r=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)r[c-1]=arguments[c];de.push(new g(x,r)),1===de.length&&!ne&&Z(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={},V.on=p,V.addListener=p,V.once=p,V.off=p,V.removeListener=p,V.removeAllListeners=p,V.emit=p,V.prependListener=p,V.prependOnceListener=p,V.listeners=function(x){return[]},V.binding=function(x){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(x){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},{}],27:[function(At,Et,kt){(function(V,Ue){var Pe=At("process/browser.js").nextTick,_=Function.prototype.apply,Q=Array.prototype.slice,Z={},ce=0;function de(ne,me){this._id=ne,this._clearFn=me}kt.setTimeout=function(){return new de(_.call(setTimeout,window,arguments),clearTimeout)},kt.setInterval=function(){return new de(_.call(setInterval,window,arguments),clearInterval)},kt.clearTimeout=kt.clearInterval=function(ne){ne.close()},de.prototype.unref=de.prototype.ref=function(){},de.prototype.close=function(){this._clearFn.call(window,this._id)},kt.enroll=function(ne,me){clearTimeout(ne._idleTimeoutId),ne._idleTimeout=me},kt.unenroll=function(ne){clearTimeout(ne._idleTimeoutId),ne._idleTimeout=-1},kt._unrefActive=kt.active=function(ne){clearTimeout(ne._idleTimeoutId);var me=ne._idleTimeout;me>=0&&(ne._idleTimeoutId=setTimeout(function(){ne._onTimeout&&ne._onTimeout()},me))},kt.setImmediate="function"==typeof V?V:function(ne){var me=ce++,v=!(arguments.length<2)&&Q.call(arguments,1);return Z[me]=!0,Pe(function(){Z[me]&&(v?ne.apply(null,v):ne.call(null),kt.clearImmediate(me))}),me},kt.clearImmediate="function"==typeof Ue?Ue:function(ne){delete Z[ne]}}).call(this,At("timers").setImmediate,At("timers").clearImmediate)},{"process/browser.js":26,timers:27}],28:[function(At,Et,kt){(function(){"use strict";function V(U){throw U}var Ue=void 0,Pe=this;function _(U,y){var O,C=U.split("."),M=Pe;!(C[0]in M)&&M.execScript&&M.execScript("var "+C[0]);for(;C.length&&(O=C.shift());)C.length||y===Ue?M=M[O]?M[O]:M[O]={}:M[O]=y}var Z,Q="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;for(new(Q?Uint8Array:Array)(256),Z=0;256>Z;++Z)for(var de=(de=Z)>>>1;de;de>>>=1);function ne(U,y,C){var M,O="number"==typeof y?y:y=0,ee="number"==typeof C?C:U.length;for(M=-1,O=7&ee;O--;++y)M=M>>>8^v[255&(M^U[y])];for(O=ee>>3;O--;y+=8)M=(M=(M=(M=(M=(M=(M=(M=M>>>8^v[255&(M^U[y])])>>>8^v[255&(M^U[y+1])])>>>8^v[255&(M^U[y+2])])>>>8^v[255&(M^U[y+3])])>>>8^v[255&(M^U[y+4])])>>>8^v[255&(M^U[y+5])])>>>8^v[255&(M^U[y+6])])>>>8^v[255&(M^U[y+7])];return(4294967295^M)>>>0}var me=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],v=Q?new Uint32Array(me):me;function L(){}function h(U){var O,ee,$,ae,Fe,He,Ve,it,at,qt,y=U.length,C=0,M=Number.POSITIVE_INFINITY;for(it=0;it<y;++it)U[it]>C&&(C=U[it]),U[it]<M&&(M=U[it]);for(O=1<<C,ee=new(Q?Uint32Array:Array)(O),$=1,ae=0,Fe=2;$<=C;){for(it=0;it<y;++it)if(U[it]===$){for(He=0,Ve=ae,at=0;at<$;++at)He=He<<1|1&Ve,Ve>>=1;for(qt=$<<16|it,at=He;at<O;at+=Fe)ee[at]=qt;++ae}++$,ae<<=1,Fe<<=1}return[ee,C,M]}L.prototype.getName=function(){return this.name},L.prototype.getData=function(){return this.data},L.prototype.G=function(){return this.H};var p,g=[];for(p=0;288>p;p++)switch(!0){case 143>=p:g.push([p+48,8]);break;case 255>=p:g.push([p-144+400,9]);break;case 279>=p:g.push([p-256+0,7]);break;case 287>=p:g.push([p-280+192,8]);break;default:V("invalid literal: "+p)}var x=function(){function U(O){switch(!0){case 3===O:return[257,O-3,0];case 4===O:return[258,O-4,0];case 5===O:return[259,O-5,0];case 6===O:return[260,O-6,0];case 7===O:return[261,O-7,0];case 8===O:return[262,O-8,0];case 9===O:return[263,O-9,0];case 10===O:return[264,O-10,0];case 12>=O:return[265,O-11,1];case 14>=O:return[266,O-13,1];case 16>=O:return[267,O-15,1];case 18>=O:return[268,O-17,1];case 22>=O:return[269,O-19,2];case 26>=O:return[270,O-23,2];case 30>=O:return[271,O-27,2];case 34>=O:return[272,O-31,2];case 42>=O:return[273,O-35,3];case 50>=O:return[274,O-43,3];case 58>=O:return[275,O-51,3];case 66>=O:return[276,O-59,3];case 82>=O:return[277,O-67,4];case 98>=O:return[278,O-83,4];case 114>=O:return[279,O-99,4];case 130>=O:return[280,O-115,4];case 162>=O:return[281,O-131,5];case 194>=O:return[282,O-163,5];case 226>=O:return[283,O-195,5];case 257>=O:return[284,O-227,5];case 258===O:return[285,O-258,0];default:V("invalid length: "+O)}}var C,M,y=[];for(C=3;258>=C;C++)M=U(C),y[C]=M[2]<<24|M[1]<<16|M[0];return y}();function r(U,y){switch(this.i=[],this.j=32768,this.d=this.f=this.c=this.n=0,this.input=Q?new Uint8Array(U):U,this.o=!1,this.k=l,this.w=!1,(y||!(y={}))&&(y.index&&(this.c=y.index),y.bufferSize&&(this.j=y.bufferSize),y.bufferType&&(this.k=y.bufferType),y.resize&&(this.w=y.resize)),this.k){case c:this.a=32768,this.b=new(Q?Uint8Array:Array)(32768+this.j+258);break;case l:this.a=0,this.b=new(Q?Uint8Array:Array)(this.j),this.e=this.D,this.q=this.A,this.l=this.C;break;default:V(Error("invalid inflate mode"))}}Q&&new Uint32Array(x);var c=0,l=1;r.prototype.g=function(){for(;!this.o;){var U=we(this,3);switch(1&U&&(this.o=!0),U>>>=1){case 0:var y=this.input,C=this.c,M=this.b,O=this.a,ee=y.length,$=Ue,Fe=M.length,He=Ue;switch(this.d=this.f=0,C+1>=ee&&V(Error("invalid uncompressed block header: LEN")),$=y[C++]|y[C++]<<8,C+1>=ee&&V(Error("invalid uncompressed block header: NLEN")),$===~(y[C++]|y[C++]<<8)&&V(Error("invalid uncompressed block header: length verify")),C+$>y.length&&V(Error("input buffer is broken")),this.k){case c:for(;O+$>M.length;){if($-=He=Fe-O,Q)M.set(y.subarray(C,C+He),O),O+=He,C+=He;else for(;He--;)M[O++]=y[C++];this.a=O,M=this.e(),O=this.a}break;case l:for(;O+$>M.length;)M=this.e({t:2});break;default:V(Error("invalid inflate mode"))}if(Q)M.set(y.subarray(C,C+$),O),O+=$,C+=$;else for(;$--;)M[O++]=y[C++];this.c=C,this.a=O,this.b=M;break;case 1:this.l(F,xe);break;case 2:var Ct,Ht,Ge,Y,Ve=we(this,5)+257,it=we(this,5)+1,at=we(this,4)+4,qt=new(Q?Uint8Array:Array)(t.length),dt=Ue,vt=Ue,G=Ue,ue=Ue,oe=Ue;for(oe=0;oe<at;++oe)qt[t[oe]]=we(this,3);if(!Q)for(oe=at,at=qt.length;oe<at;++oe)qt[t[oe]]=0;for(Ct=h(qt),dt=new(Q?Uint8Array:Array)(Ve+it),oe=0,Y=Ve+it;oe<Y;)switch(vt=A(this,Ct),vt){case 16:for(ue=3+we(this,2);ue--;)dt[oe++]=G;break;case 17:for(ue=3+we(this,3);ue--;)dt[oe++]=0;G=0;break;case 18:for(ue=11+we(this,7);ue--;)dt[oe++]=0;G=0;break;default:G=dt[oe++]=vt}Ht=h(Q?dt.subarray(0,Ve):dt.slice(0,Ve)),Ge=h(Q?dt.subarray(Ve):dt.slice(Ve)),this.l(Ht,Ge);break;default:V(Error("unknown BTYPE: "+U))}}return this.q()};var S,R,n=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],t=Q?new Uint16Array(n):n,i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],s=Q?new Uint16Array(i):i,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],o=Q?new Uint8Array(u):u,d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],f=Q?new Uint16Array(d):d,E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b=Q?new Uint8Array(E):E,I=new(Q?Uint8Array:Array)(288);for(S=0,R=I.length;S<R;++S)I[S]=143>=S?8:255>=S?9:279>=S?7:8;var K,se,F=h(I),q=new(Q?Uint8Array:Array)(30);for(K=0,se=q.length;K<se;++K)q[K]=5;var xe=h(q);function we(U,y){for(var ae,C=U.f,M=U.d,O=U.input,ee=U.c,$=O.length;M<y;)ee>=$&&V(Error("input buffer is broken")),C|=O[ee++]<<M,M+=8;return ae=C&(1<<y)-1,U.f=C>>>y,U.d=M-y,U.c=ee,ae}function A(U,y){for(var He,Ve,C=U.f,M=U.d,O=U.input,ee=U.c,$=O.length,ae=y[0],Fe=y[1];M<Fe&&!(ee>=$);)C|=O[ee++]<<M,M+=8;return(Ve=(He=ae[C&(1<<Fe)-1])>>>16)>M&&V(Error("invalid code length: "+Ve)),U.f=C>>Ve,U.d=M-Ve,U.c=ee,65535&He}function P(U){this.input=U,this.c=0,this.m=[],this.s=!1}r.prototype.l=function(U,y){var C=this.b,M=this.a;this.r=U;for(var ee,$,ae,Fe,O=C.length-258;256!==(ee=A(this,U));)if(256>ee)M>=O&&(this.a=M,C=this.e(),M=this.a),C[M++]=ee;else for(Fe=s[$=ee-257],0<o[$]&&(Fe+=we(this,o[$])),ee=A(this,y),ae=f[ee],0<b[ee]&&(ae+=we(this,b[ee])),M>=O&&(this.a=M,C=this.e(),M=this.a);Fe--;)C[M]=C[M++-ae];for(;8<=this.d;)this.d-=8,this.c--;this.a=M},r.prototype.C=function(U,y){var C=this.b,M=this.a;this.r=U;for(var ee,$,ae,Fe,O=C.length;256!==(ee=A(this,U));)if(256>ee)M>=O&&(O=(C=this.e()).length),C[M++]=ee;else for(Fe=s[$=ee-257],0<o[$]&&(Fe+=we(this,o[$])),ee=A(this,y),ae=f[ee],0<b[ee]&&(ae+=we(this,b[ee])),M+Fe>O&&(O=(C=this.e()).length);Fe--;)C[M]=C[M++-ae];for(;8<=this.d;)this.d-=8,this.c--;this.a=M},r.prototype.e=function(){var C,M,U=new(Q?Uint8Array:Array)(this.a-32768),y=this.a-32768,O=this.b;if(Q)U.set(O.subarray(32768,U.length));else for(C=0,M=U.length;C<M;++C)U[C]=O[C+32768];if(this.i.push(U),this.n+=U.length,Q)O.set(O.subarray(y,y+32768));else for(C=0;32768>C;++C)O[C]=O[y+C];return this.a=32768,O},r.prototype.D=function(U){var y,O,ee,C=this.input.length/this.c+1|0,ae=this.b;return U&&("number"==typeof U.t&&(C=U.t),"number"==typeof U.z&&(C+=U.z)),O=2>C?(ee=(this.input.length-this.c)/this.r[2]/2*258|0)<ae.length?ae.length+ee:ae.length<<1:ae.length*C,Q?(y=new Uint8Array(O)).set(ae):y=ae,this.b=y},r.prototype.q=function(){var M,ee,$,ae,Fe,U=0,y=this.b,C=this.i,O=new(Q?Uint8Array:Array)(this.n+(this.a-32768));if(0===C.length)return Q?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(ee=0,$=C.length;ee<$;++ee)for(ae=0,Fe=(M=C[ee]).length;ae<Fe;++ae)O[U++]=M[ae];for(ee=32768,$=this.a;ee<$;++ee)O[U++]=y[ee];return this.i=[],this.buffer=O},r.prototype.A=function(){var U,y=this.a;return Q?this.w?(U=new Uint8Array(y)).set(this.b.subarray(0,y)):U=this.b.subarray(0,y):(this.b.length>y&&(this.b.length=y),U=this.b),this.buffer=U},P.prototype.F=function(){return this.s||this.g(),this.m.slice()},P.prototype.g=function(){for(var U=this.input.length;this.c<U;){var O,He,y=new L,C=Ue,M=Ue,ee=Ue,$=Ue,ae=Ue,Fe=Ue,Ve=Ue,it=this.input,at=this.c;if(8===(y.u=it[at++],y.v=it[at++],(31!==y.u||139!==y.v)&&V(Error("invalid file signature:"+y.u+","+y.v)),y.p=it[at++],y.p)||V(Error("unknown compression method: "+y.p)),y.h=it[at++],He=it[at++]|it[at++]<<8|it[at++]<<16|it[at++]<<24,y.H=new Date(1e3*He),y.N=it[at++],y.M=it[at++],0<(4&y.h)&&(y.I=it[at++]|it[at++]<<8,at+=y.I),0<(8&y.h)){for(Fe=[],ae=0;0<($=it[at++]);)Fe[ae++]=String.fromCharCode($);y.name=Fe.join("")}if(0<(16&y.h)){for(Fe=[],ae=0;0<($=it[at++]);)Fe[ae++]=String.fromCharCode($);y.J=Fe.join("")}0<(2&y.h)&&(y.B=65535&ne(it,0,at),y.B!==(it[at++]|it[at++]<<8)&&V(Error("invalid header crc16"))),it.length-at-4-4<512*(C=it[it.length-4]|it[it.length-3]<<8|it[it.length-2]<<16|it[it.length-1]<<24)&&(ee=C),M=new r(it,{index:at,bufferSize:ee}),y.data=O=M.g(),at=M.c,y.K=Ve=(it[at++]|it[at++]<<8|it[at++]<<16|it[at++]<<24)>>>0,ne(O,Ue,Ue)!==Ve&&V(Error("invalid CRC-32 checksum: 0x"+ne(O,Ue,Ue).toString(16)+" / 0x"+Ve.toString(16))),y.L=C=(it[at++]|it[at++]<<8|it[at++]<<16|it[at++]<<24)>>>0,(4294967295&O.length)!==C&&V(Error("invalid input size: "+(4294967295&O.length)+" / "+C)),this.m.push(y),this.c=at}this.s=!0;var Ct,Ht,vt,qt=this.m,Ge=0,dt=0;for(Ct=0,Ht=qt.length;Ct<Ht;++Ct)dt+=qt[Ct].data.length;if(Q)for(vt=new Uint8Array(dt),Ct=0;Ct<Ht;++Ct)vt.set(qt[Ct].data,Ge),Ge+=qt[Ct].data.length;else{for(vt=[],Ct=0;Ct<Ht;++Ct)vt[Ct]=qt[Ct].data;vt=Array.prototype.concat.apply([],vt)}return vt},_("Zlib.Gunzip",P),_("Zlib.Gunzip.prototype.decompress",P.prototype.g),_("Zlib.Gunzip.prototype.getMembers",P.prototype.F),_("Zlib.GunzipMember",L),_("Zlib.GunzipMember.prototype.getName",L.prototype.getName),_("Zlib.GunzipMember.prototype.getData",L.prototype.getData),_("Zlib.GunzipMember.prototype.getMtime",L.prototype.G)}).call(this)},{}],29:[function(At,Et,kt){"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var V=function(){function ne(me,v){for(var L=0;L<v.length;L++){var h=v[L];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(me,h.key,h)}}return function(me,v,L){return v&&ne(me.prototype,v),L&&ne(me,L),me}}(),Pe=function _(ne){return ne&&ne.__esModule?ne:{default:ne}}(At("kuromoji"));function Q(ne,me){if(!(ne instanceof me))throw new TypeError("Cannot call a class as a function")}var Z=!1;"undefined"==typeof window&&void 0!==Et&&Et.exports&&(Z=!0);var de=function(){function ne(){var me=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=me.dictPath;Q(this,ne),this._analyzer=null,this._dictPath=v||(Z?At.resolve("kuromoji").replace(/src(?!.*src).*/,"dict/"):"node_modules/kuromoji/dict/")}return V(ne,[{key:"init",value:function(){var v=this;return new Promise(function(L,h){var g=v;null==v._analyzer?Pe.default.builder({dicPath:v._dictPath}).build(function(p,x){if(p)return h(p);g._analyzer=x,L()}):h(new Error("This analyzer has already been initialized."))})}},{key:"parse",value:function(){var v=this,L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(h,g){if(""===L.trim())return h([]);for(var p=v._analyzer.tokenize(L),x=0;x<p.length;x++)p[x].verbose={},p[x].verbose.word_id=p[x].word_id,p[x].verbose.word_type=p[x].word_type,p[x].verbose.word_position=p[x].word_position,delete p[x].word_id,delete p[x].word_type,delete p[x].word_position;h(p)})}}]),ne}();kt.default=de,Et.exports=kt.default},{kuromoji:15}]},{},[29])(29)}),function(Kt){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Kt():"function"==typeof define&&define.amd?define([],Kt):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).P2PGraph=Kt()}(function(){return function At(Et,kt,V){function Ue(Q,Z){if(!kt[Q]){if(!Et[Q]){var ce="function"==typeof require&&require;if(!Z&&ce)return ce(Q,!0);if(Pe)return Pe(Q,!0);var de=new Error("Cannot find module '"+Q+"'");throw de.code="MODULE_NOT_FOUND",de}var ne=kt[Q]={exports:{}};Et[Q][0].call(ne.exports,function(me){return Ue(Et[Q][1][me]||me)},ne,ne.exports,At,Et,kt,V)}return kt[Q].exports}for(var Pe="function"==typeof require&&require,_=0;_<V.length;_++)Ue(V[_]);return Ue}({1:[function(At,Et,kt){!function(){var V={version:"3.5.17"},Ue=[].slice,Pe=function(e){return Ue.call(e)},_=this.document;function Q(e){return e&&(e.ownerDocument||e.document||e).documentElement}function Z(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(_)try{Pe(_.documentElement.childNodes)}catch(e){Pe=function(a){for(var m=a.length,w=new Array(m);m--;)w[m]=a[m];return w}}if(Date.now||(Date.now=function(){return+new Date}),_)try{_.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var ce=this.Element.prototype,de=ce.setAttribute,ne=ce.setAttributeNS,me=this.CSSStyleDeclaration.prototype,v=me.setProperty;ce.setAttribute=function(a,m){de.call(this,a,m+"")},ce.setAttributeNS=function(a,m,w){ne.call(this,a,m,w+"")},me.setProperty=function(a,m,w){v.call(this,a,m+"",w)}}function L(e,a){return e<a?-1:e>a?1:e>=a?0:NaN}function h(e){return null===e?NaN:+e}function g(e){return!isNaN(e)}function p(e){return{left:function(a,m,w,k){for(arguments.length<3&&(w=0),arguments.length<4&&(k=a.length);w<k;){var T=w+k>>>1;e(a[T],m)<0?w=T+1:k=T}return w},right:function(a,m,w,k){for(arguments.length<3&&(w=0),arguments.length<4&&(k=a.length);w<k;){var T=w+k>>>1;e(a[T],m)>0?k=T:w=T+1}return w}}}V.ascending=L,V.descending=function(e,a){return a<e?-1:a>e?1:a>=e?0:NaN},V.min=function(e,a){var k,T,m=-1,w=e.length;if(1===arguments.length){for(;++m<w;)if(null!=(T=e[m])&&T>=T){k=T;break}for(;++m<w;)null!=(T=e[m])&&k>T&&(k=T)}else{for(;++m<w;)if(null!=(T=a.call(e,e[m],m))&&T>=T){k=T;break}for(;++m<w;)null!=(T=a.call(e,e[m],m))&&k>T&&(k=T)}return k},V.max=function(e,a){var k,T,m=-1,w=e.length;if(1===arguments.length){for(;++m<w;)if(null!=(T=e[m])&&T>=T){k=T;break}for(;++m<w;)null!=(T=e[m])&&T>k&&(k=T)}else{for(;++m<w;)if(null!=(T=a.call(e,e[m],m))&&T>=T){k=T;break}for(;++m<w;)null!=(T=a.call(e,e[m],m))&&T>k&&(k=T)}return k},V.extent=function(e,a){var k,T,j,m=-1,w=e.length;if(1===arguments.length){for(;++m<w;)if(null!=(T=e[m])&&T>=T){k=j=T;break}for(;++m<w;)null!=(T=e[m])&&(k>T&&(k=T),j<T&&(j=T))}else{for(;++m<w;)if(null!=(T=a.call(e,e[m],m))&&T>=T){k=j=T;break}for(;++m<w;)null!=(T=a.call(e,e[m],m))&&(k>T&&(k=T),j<T&&(j=T))}return[k,j]},V.sum=function(e,a){var k,m=0,w=e.length,T=-1;if(1===arguments.length)for(;++T<w;)g(k=+e[T])&&(m+=k);else for(;++T<w;)g(k=+a.call(e,e[T],T))&&(m+=k);return m},V.mean=function(e,a){var k,m=0,w=e.length,T=-1,j=w;if(1===arguments.length)for(;++T<w;)g(k=h(e[T]))?m+=k:--j;else for(;++T<w;)g(k=h(a.call(e,e[T],T)))?m+=k:--j;if(j)return m/j},V.quantile=function(e,a){var m=(e.length-1)*a+1,w=Math.floor(m),k=+e[w-1],T=m-w;return T?k+T*(e[w]-k):k},V.median=function(e,a){var k,m=[],w=e.length,T=-1;if(1===arguments.length)for(;++T<w;)g(k=h(e[T]))&&m.push(k);else for(;++T<w;)g(k=h(a.call(e,e[T],T)))&&m.push(k);if(m.length)return V.quantile(m.sort(L),.5)},V.variance=function(e,a){var k,T,m=e.length,w=0,j=0,N=-1,H=0;if(1===arguments.length)for(;++N<m;)g(k=h(e[N]))&&(j+=(T=k-w)*(k-(w+=T/++H)));else for(;++N<m;)g(k=h(a.call(e,e[N],N)))&&(j+=(T=k-w)*(k-(w+=T/++H)));if(H>1)return j/(H-1)},V.deviation=function(){var e=V.variance.apply(this,arguments);return e&&Math.sqrt(e)};var x=p(L);function r(e){return e.length}V.bisectLeft=x.left,V.bisect=V.bisectRight=x.right,V.bisector=function(e){return p(1===e.length?function(a,m){return L(e(a),m)}:e)},V.shuffle=function(e,a,m){(w=arguments.length)<3&&(m=e.length,w<2&&(a=0));for(var k,T,w=m-a;w;)T=Math.random()*w--|0,k=e[w+a],e[w+a]=e[T+a],e[T+a]=k;return e},V.permute=function(e,a){for(var m=a.length,w=new Array(m);m--;)w[m]=e[a[m]];return w},V.pairs=function(e){for(var a=0,m=e.length-1,k=e[0],T=new Array(m<0?0:m);a<m;)T[a]=[k,k=e[++a]];return T},V.transpose=function(e){if(!(T=e.length))return[];for(var a=-1,m=V.min(e,r),w=new Array(m);++a<m;)for(var T,k=-1,j=w[a]=new Array(T);++k<T;)j[k]=e[k][a];return w},V.zip=function(){return V.transpose(arguments)},V.keys=function(e){var a=[];for(var m in e)a.push(m);return a},V.values=function(e){var a=[];for(var m in e)a.push(e[m]);return a},V.entries=function(e){var a=[];for(var m in e)a.push({key:m,value:e[m]});return a},V.merge=function(e){for(var m,T,j,a=e.length,w=-1,k=0;++w<a;)k+=e[w].length;for(T=new Array(k);--a>=0;)for(m=(j=e[a]).length;--m>=0;)T[--k]=j[m];return T};var c=Math.abs;function l(e){for(var a=1;e*a%1;)a*=10;return a}function n(e,a){for(var m in a)Object.defineProperty(e.prototype,m,{value:a[m],enumerable:!1})}function t(){this._=Object.create(null)}function u(e){return"__proto__"==(e+="")||"\0"===e[0]?"\0"+e:e}function o(e){return"\0"===(e+="")[0]?e.slice(1):e}function d(e){return u(e)in this._}function f(e){return(e=u(e))in this._&&delete this._[e]}function E(){var e=[];for(var a in this._)e.push(o(a));return e}function b(){var e=0;for(var a in this._)++e;return e}function I(){for(var e in this._)return!1;return!0}function S(){this._=Object.create(null)}function R(e){return e}function F(e,a,m){return function(){var w=m.apply(a,arguments);return w===a?e:w}}function q(e,a){if(a in e)return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var m=0,w=K.length;m<w;++m){var k=K[m]+a;if(k in e)return k}}V.range=function(e,a,m){if(arguments.length<3&&(m=1,arguments.length<2&&(a=e,e=0)),(a-e)/m==1/0)throw new Error("infinite range");var j,w=[],k=l(c(m)),T=-1;if(e*=k,a*=k,(m*=k)<0)for(;(j=e+m*++T)>a;)w.push(j/k);else for(;(j=e+m*++T)<a;)w.push(j/k);return w},V.map=function(e,a){var m=new t;if(e instanceof t)e.forEach(function(N,H){m.set(N,H)});else if(Array.isArray(e)){var T,w=-1,k=e.length;if(1===arguments.length)for(;++w<k;)m.set(w,e[w]);else for(;++w<k;)m.set(a.call(e,T=e[w],w),T)}else for(var j in e)m.set(j,e[j]);return m},n(t,{has:d,get:function(e){return this._[u(e)]},set:function(e,a){return this._[u(e)]=a},remove:f,keys:E,values:function(){var e=[];for(var a in this._)e.push(this._[a]);return e},entries:function(){var e=[];for(var a in this._)e.push({key:o(a),value:this._[a]});return e},size:b,empty:I,forEach:function(e){for(var a in this._)e.call(this,o(a),this._[a])}}),V.nest=function(){var w,k,e={},a=[],m=[];function T(N,H,X){if(X>=a.length)return k?k.call(e,H):w?H.sort(w):H;for(var Re,Xe,Se,Me,re=-1,fe=H.length,_e=a[X++],Ie=new t;++re<fe;)(Me=Ie.get(Re=_e(Xe=H[re])))?Me.push(Xe):Ie.set(Re,[Xe]);return N?(Xe=N(),Se=function($e,Ne){Xe.set($e,T(N,Ne,X))}):(Xe={},Se=function($e,Ne){Xe[$e]=T(N,Ne,X)}),Ie.forEach(Se),Xe}function j(N,H){if(H>=a.length)return N;var X=[],re=m[H++];return N.forEach(function(fe,_e){X.push({key:fe,values:j(_e,H)})}),re?X.sort(function(fe,_e){return re(fe.key,_e.key)}):X}return e.map=function(N,H){return T(H,N,0)},e.entries=function(N){return j(T(V.map,N,0),0)},e.key=function(N){return a.push(N),e},e.sortKeys=function(N){return m[a.length-1]=N,e},e.sortValues=function(N){return w=N,e},e.rollup=function(N){return k=N,e},e},V.set=function(e){var a=new S;if(e)for(var m=0,w=e.length;m<w;++m)a.add(e[m]);return a},n(S,{has:d,add:function(e){return this._[u(e+="")]=!0,e},remove:f,values:E,size:b,empty:I,forEach:function(e){for(var a in this._)e.call(this,o(a))}}),V.behavior={},V.rebind=function(e,a){for(var k,m=1,w=arguments.length;++m<w;)e[k=arguments[m]]=F(e,a,a[k]);return e};var K=["webkit","ms","moz","Moz","o","O"];function se(){}function xe(){}function we(e){var a=[],m=new t;function w(){for(var N,k=a,T=-1,j=k.length;++T<j;)(N=k[T].on)&&N.apply(this,arguments);return e}return w.on=function(k,T){var N,j=m.get(k);return arguments.length<2?j&&j.on:(j&&(j.on=null,a=a.slice(0,N=a.indexOf(j)).concat(a.slice(N+1)),m.remove(k)),T&&a.push(m.set(k,{on:T})),e)},w}function A(){V.event.preventDefault()}function P(){for(var a,e=V.event;a=e.sourceEvent;)e=a;return e}function U(e){for(var a=new xe,m=0,w=arguments.length;++m<w;)a[arguments[m]]=we(a);return a.of=function(k,T){return function(j){try{var N=j.sourceEvent=V.event;j.target=e,V.event=j,a[j.type].apply(k,T)}finally{V.event=N}}},a}V.dispatch=function(){for(var e=new xe,a=-1,m=arguments.length;++a<m;)e[arguments[a]]=we(e);return e},xe.prototype.on=function(e,a){var m=e.indexOf("."),w="";if(m>=0&&(w=e.slice(m+1),e=e.slice(0,m)),e)return arguments.length<2?this[e].on(w):this[e].on(w,a);if(2===arguments.length){if(null==a)for(e in this)this.hasOwnProperty(e)&&this[e].on(w,null);return this}},V.event=null,V.requote=function(e){return e.replace(y,"\\$&")};var y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,C={}.__proto__?function(e,a){e.__proto__=a}:function(e,a){for(var m in a)e[m]=a[m]};function M(e){return C(e,ae),e}var O=function(e,a){return a.querySelector(e)},ee=function(e,a){return a.querySelectorAll(e)},$=function(e,a){var m=e.matches||e[q(e,"matchesSelector")];return($=function(w,k){return m.call(w,k)})(e,a)};"function"==typeof Sizzle&&(O=function(e,a){return Sizzle(e,a)[0]||null},ee=Sizzle,$=Sizzle.matchesSelector),V.selection=function(){return V.select(_.documentElement)};var ae=V.selection.prototype=[];function Fe(e){return"function"==typeof e?e:function(){return O(e,this)}}function He(e){return"function"==typeof e?e:function(){return ee(e,this)}}ae.select=function(e){var m,w,k,T,a=[];e=Fe(e);for(var j=-1,N=this.length;++j<N;){a.push(m=[]),m.parentNode=(k=this[j]).parentNode;for(var H=-1,X=k.length;++H<X;)(T=k[H])?(m.push(w=e.call(T,T.__data__,H,j)),w&&"__data__"in T&&(w.__data__=T.__data__)):m.push(null)}return M(a)},ae.selectAll=function(e){var m,w,a=[];e=He(e);for(var k=-1,T=this.length;++k<T;)for(var j=this[k],N=-1,H=j.length;++N<H;)(w=j[N])&&(a.push(m=Pe(e.call(w,w.__data__,N,k))),m.parentNode=w);return M(a)};var Ve="http://www.w3.org/1999/xhtml",it={svg:"http://www.w3.org/2000/svg",xhtml:Ve,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function at(e,a){return e=V.ns.qualify(e),null==a?e.local?function w(){this.removeAttributeNS(e.space,e.local)}:function m(){this.removeAttribute(e)}:"function"==typeof a?e.local?function N(){var H=a.apply(this,arguments);null==H?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,H)}:function j(){var H=a.apply(this,arguments);null==H?this.removeAttribute(e):this.setAttribute(e,H)}:e.local?function T(){this.setAttributeNS(e.space,e.local,a)}:function k(){this.setAttribute(e,a)}}function qt(e){return e.trim().replace(/\s+/g," ")}function Ct(e){return new RegExp("(?:^|\\s+)"+V.requote(e)+"(?:\\s+|$)","g")}function Ht(e){return(e+"").trim().split(/^|\s+/)}function Ge(e,a){var m=(e=Ht(e).map(dt)).length;return"function"==typeof a?function k(){for(var T=-1,j=a.apply(this,arguments);++T<m;)e[T](this,j)}:function w(){for(var T=-1;++T<m;)e[T](this,a)}}function dt(e){var a=Ct(e);return function(m,w){if(k=m.classList)return w?k.add(e):k.remove(e);var k=m.getAttribute("class")||"";w?(a.lastIndex=0,a.test(k)||m.setAttribute("class",qt(k+" "+e))):m.setAttribute("class",qt(k.replace(a," ")))}}function vt(e,a,m){return null==a?function w(){this.style.removeProperty(e)}:"function"==typeof a?function T(){var j=a.apply(this,arguments);null==j?this.style.removeProperty(e):this.style.setProperty(e,j,m)}:function k(){this.style.setProperty(e,a,m)}}function G(e,a){return null==a?function m(){delete this[e]}:"function"==typeof a?function k(){var T=a.apply(this,arguments);null==T?delete this[e]:this[e]=T}:function w(){this[e]=a}}function ue(e){return"function"==typeof e?e:(e=V.ns.qualify(e)).local?function m(){return this.ownerDocument.createElementNS(e.space,e.local)}:function a(){var w=this.ownerDocument,k=this.namespaceURI;return k===Ve&&w.documentElement.namespaceURI===Ve?w.createElement(e):w.createElementNS(k,e)}}function Y(){var e=this.parentNode;e&&e.removeChild(this)}function oe(e){return{__data__:e}}function et(e){return function(){return $(this,e)}}function ie(e){return arguments.length||(e=L),function(a,m){return a&&m?e(a.__data__,m.__data__):!a-!m}}function pe(e,a){for(var m=0,w=e.length;m<w;m++)for(var N,k=e[m],T=0,j=k.length;T<j;T++)(N=k[T])&&a(N,T,m);return e}function Ye(e){return C(e,ct),e}V.ns={prefix:it,qualify:function(e){var a=e.indexOf(":"),m=e;return a>=0&&"xmlns"!==(m=e.slice(0,a))&&(e=e.slice(a+1)),it.hasOwnProperty(m)?{space:it[m],local:e}:e}},ae.attr=function(e,a){if(arguments.length<2){if("string"==typeof e){var m=this.node();return(e=V.ns.qualify(e)).local?m.getAttributeNS(e.space,e.local):m.getAttribute(e)}for(a in e)this.each(at(a,e[a]));return this}return this.each(at(e,a))},ae.classed=function(e,a){if(arguments.length<2){if("string"==typeof e){var m=this.node(),w=(e=Ht(e)).length,k=-1;if(a=m.classList){for(;++k<w;)if(!a.contains(e[k]))return!1}else for(a=m.getAttribute("class");++k<w;)if(!Ct(e[k]).test(a))return!1;return!0}for(a in e)this.each(Ge(a,e[a]));return this}return this.each(Ge(e,a))},ae.style=function(e,a,m){var w=arguments.length;if(w<3){if("string"!=typeof e){for(m in w<2&&(a=""),e)this.each(vt(m,e[m],a));return this}if(w<2){var k=this.node();return Z(k).getComputedStyle(k,null).getPropertyValue(e)}m=""}return this.each(vt(e,a,m))},ae.property=function(e,a){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(a in e)this.each(G(a,e[a]));return this}return this.each(G(e,a))},ae.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var a=e.apply(this,arguments);this.textContent=null==a?"":a}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},ae.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var a=e.apply(this,arguments);this.innerHTML=null==a?"":a}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},ae.append=function(e){return e=ue(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},ae.insert=function(e,a){return e=ue(e),a=Fe(a),this.select(function(){return this.insertBefore(e.apply(this,arguments),a.apply(this,arguments)||null)})},ae.remove=function(){return this.each(Y)},ae.data=function(e,a){var k,T,m=-1,w=this.length;if(!arguments.length){for(e=new Array(w=(k=this[0]).length);++m<w;)(T=k[m])&&(e[m]=T.__data__);return e}function j(re,fe){var _e,Ne,Ke,Re=re.length,Xe=fe.length,Se=Math.min(Re,Xe),Ie=new Array(Xe),Me=new Array(Xe),$e=new Array(Re);if(a){var wt,Tt=new t,yt=new Array(Re);for(_e=-1;++_e<Re;)(Ne=re[_e])&&(Tt.has(wt=a.call(Ne,Ne.__data__,_e))?$e[_e]=Ne:Tt.set(wt,Ne),yt[_e]=wt);for(_e=-1;++_e<Xe;)(Ne=Tt.get(wt=a.call(fe,Ke=fe[_e],_e)))?!0!==Ne&&(Ie[_e]=Ne,Ne.__data__=Ke):Me[_e]=oe(Ke),Tt.set(wt,!0);for(_e=-1;++_e<Re;)_e in yt&&!0!==Tt.get(yt[_e])&&($e[_e]=re[_e])}else{for(_e=-1;++_e<Se;)Ke=fe[_e],(Ne=re[_e])?(Ne.__data__=Ke,Ie[_e]=Ne):Me[_e]=oe(Ke);for(;_e<Xe;++_e)Me[_e]=oe(fe[_e]);for(;_e<Re;++_e)$e[_e]=re[_e]}Me.update=Ie,Me.parentNode=Ie.parentNode=$e.parentNode=re.parentNode,N.push(Me),H.push(Ie),X.push($e)}var N=Ye([]),H=M([]),X=M([]);if("function"==typeof e)for(;++m<w;)j(k=this[m],e.call(k,k.parentNode.__data__,m));else for(;++m<w;)j(k=this[m],e);return H.enter=function(){return N},H.exit=function(){return X},H},ae.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},ae.filter=function(e){var m,w,k,a=[];"function"!=typeof e&&(e=et(e));for(var T=0,j=this.length;T<j;T++){a.push(m=[]),m.parentNode=(w=this[T]).parentNode;for(var N=0,H=w.length;N<H;N++)(k=w[N])&&e.call(k,k.__data__,N,T)&&m.push(k)}return M(a)},ae.order=function(){for(var e=-1,a=this.length;++e<a;)for(var T,m=this[e],w=m.length-1,k=m[w];--w>=0;)(T=m[w])&&(k&&k!==T.nextSibling&&k.parentNode.insertBefore(T,k),k=T);return this},ae.sort=function(e){e=ie.apply(this,arguments);for(var a=-1,m=this.length;++a<m;)this[a].sort(e);return this.order()},ae.each=function(e){return pe(this,function(a,m,w){e.call(a,a.__data__,m,w)})},ae.call=function(e){var a=Pe(arguments);return e.apply(a[0]=this,a),this},ae.empty=function(){return!this.node()},ae.node=function(){for(var e=0,a=this.length;e<a;e++)for(var m=this[e],w=0,k=m.length;w<k;w++){var T=m[w];if(T)return T}return null},ae.size=function(){var e=0;return pe(this,function(){++e}),e};var ct=[];function gt(e){var a,m;return function(w,k,T){var H,j=e[T].update,N=j.length;for(T!=m&&(m=T,a=0),k>=a&&(a=k+1);!(H=j[a])&&++a<N;);return H}}function $t(e,a,m){var w="__on"+e,k=e.indexOf("."),T=rn;k>0&&(e=e.slice(0,k));var j=Zt.get(e);function N(){var re=this[w];re&&(this.removeEventListener(e,re,re.$),delete this[w])}return j&&(e=j,T=kn),k?a?function H(){var re=T(a,Pe(arguments));N.call(this),this.addEventListener(e,this[w]=re,re.$=m),re._=a}:N:a?se:function X(){var fe,re=new RegExp("^__on([^.]+)"+V.requote(e)+"$");for(var _e in this)if(fe=_e.match(re)){var Re=this[_e];this.removeEventListener(fe[1],Re,Re.$),delete this[_e]}}}V.selection.enter=Ye,V.selection.enter.prototype=ct,ct.append=ae.append,ct.empty=ae.empty,ct.node=ae.node,ct.call=ae.call,ct.size=ae.size,ct.select=function(e){for(var m,w,k,T,j,a=[],N=-1,H=this.length;++N<H;){k=(T=this[N]).update,a.push(m=[]),m.parentNode=T.parentNode;for(var X=-1,re=T.length;++X<re;)(j=T[X])?(m.push(k[X]=w=e.call(T.parentNode,j.__data__,X,N)),w.__data__=j.__data__):m.push(null)}return M(a)},ct.insert=function(e,a){return arguments.length<2&&(a=gt(this)),ae.insert.call(this,e,a)},V.select=function(e){var a;return"string"==typeof e?(a=[O(e,_)]).parentNode=_.documentElement:(a=[e]).parentNode=Q(e),M([a])},V.selectAll=function(e){var a;return"string"==typeof e?(a=Pe(ee(e,_))).parentNode=_.documentElement:(a=Pe(e)).parentNode=null,M([a])},ae.on=function(e,a,m){var w=arguments.length;if(w<3){if("string"!=typeof e){for(m in w<2&&(a=!1),e)this.each($t(m,e[m],a));return this}if(w<2)return(w=this.node()["__on"+e])&&w._;m=!1}return this.each($t(e,a,m))};var Zt=V.map({mouseenter:"mouseover",mouseleave:"mouseout"});function rn(e,a){return function(m){var w=V.event;V.event=m,a[0]=this.__data__;try{e.apply(this,a)}finally{V.event=w}}}function kn(e,a){var m=rn(e,a);return function(w){var k=this,T=w.relatedTarget;(!T||T!==k&&!(8&T.compareDocumentPosition(k)))&&m.call(k,w)}}_&&Zt.forEach(function(e){"on"+e in _&&Zt.remove(e)});var an,xn=0;function $n(e){var a=".dragsuppress-"+ ++xn,m="click"+a,w=V.select(Z(e)).on("touchmove"+a,A).on("dragstart"+a,A).on("selectstart"+a,A);if(null==an&&(an=!("onselectstart"in e)&&q(e.style,"userSelect")),an){var k=Q(e).style,T=k[an];k[an]="none"}return function(j){if(w.on(a,null),an&&(k[an]=T),j){var N=function(){w.on(m,null)};w.on(m,function(){A(),N()},!0),setTimeout(N,0)}}}V.mouse=function(e){return On(e,P())};var Cn=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function On(e,a){a.changedTouches&&(a=a.changedTouches[0]);var m=e.ownerSVGElement||e;if(m.createSVGPoint){var w=m.createSVGPoint();if(Cn<0){var k=Z(e);if(k.scrollX||k.scrollY){var T=(m=V.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Cn=!(T.f||T.e),m.remove()}}return Cn?(w.x=a.pageX,w.y=a.pageY):(w.x=a.clientX,w.y=a.clientY),[(w=w.matrixTransform(e.getScreenCTM().inverse())).x,w.y]}var j=e.getBoundingClientRect();return[a.clientX-j.left-e.clientLeft,a.clientY-j.top-e.clientTop]}function Sr(){return V.event.changedTouches[0].identifier}V.touch=function(e,a,m){if(arguments.length<3&&(m=a,a=P().changedTouches),a)for(var T,w=0,k=a.length;w<k;++w)if((T=a[w]).identifier===m)return On(e,T)},V.behavior.drag=function(){var e=U(k,"drag","dragstart","dragend"),a=null,m=T(se,V.mouse,Z,"mousemove","mouseup"),w=T(Sr,V.touch,R,"touchmove","touchend");function k(){this.on("mousedown.drag",m).on("touchstart.drag",w)}function T(j,N,H,X,re){return function(){var $e,fe=this,_e=V.event.target.correspondingElement||V.event.target,Re=fe.parentNode,Xe=e.of(fe,arguments),Se=0,Ie=j(),Me=".drag"+(null==Ie?"":"-"+Ie),Ne=V.select(H(_e)).on(X+Me,yt).on(re+Me,wt),Ke=$n(_e),Tt=N(Re,Ie);function yt(){var Xt,nn,mt=N(Re,Ie);!mt||(Se|=(Xt=mt[0]-Tt[0])|(nn=mt[1]-Tt[1]),Tt=mt,Xe({type:"drag",x:mt[0]+$e[0],y:mt[1]+$e[1],dx:Xt,dy:nn}))}function wt(){!N(Re,Ie)||(Ne.on(X+Me,null).on(re+Me,null),Ke(Se),Xe({type:"dragend"}))}$e=a?[($e=a.apply(fe,arguments)).x-Tt[0],$e.y-Tt[1]]:[0,0],Xe({type:"dragstart"})}}return k.origin=function(j){return arguments.length?(a=j,k):a},V.rebind(k,e,"on")},V.touches=function(e,a){return arguments.length<2&&(a=P().touches),a?Pe(a).map(function(m){var w=On(e,m);return w.identifier=m.identifier,w}):[]};var jt=1e-6,Kn=1e-12,ge=Math.PI,Le=2*ge,je=Le-jt,Je=ge/2,Qe=ge/180,ht=180/ge;function sn(e){return e>0?1:e<0?-1:0}function Ot(e,a,m){return(a[0]-e[0])*(m[1]-e[1])-(a[1]-e[1])*(m[0]-e[0])}function Vt(e){return e>1?0:e<-1?ge:Math.acos(e)}function tn(e){return e>1?Je:e<-1?-Je:Math.asin(e)}function on(e){return((e=Math.exp(e))+1/e)/2}function ke(e){return(e=Math.sin(e/2))*e}var Gt=Math.SQRT2;V.interpolateZoom=function(e,a){var fe,_e,m=e[0],w=e[1],k=e[2],N=a[2],H=a[0]-m,X=a[1]-w,re=H*H+X*X;if(re<Kn)_e=Math.log(N/k)/Gt,fe=function($e){return[m+$e*H,w+$e*X,k*Math.exp(Gt*$e*_e)]};else{var Re=Math.sqrt(re),Xe=(N*N-k*k+4*re)/(2*k*2*Re),Se=(N*N-k*k-4*re)/(2*N*2*Re),Ie=Math.log(Math.sqrt(Xe*Xe+1)-Xe),Me=Math.log(Math.sqrt(Se*Se+1)-Se);_e=(Me-Ie)/Gt,fe=function($e){var Ne=$e*_e,Ke=on(Ie),Tt=k/(2*Re)*(Ke*function Dt(e){return((e=Math.exp(2*e))-1)/(e+1)}(Gt*Ne+Ie)-function wn(e){return((e=Math.exp(e))-1/e)/2}(Ie));return[m+Tt*H,w+Tt*X,k*Ke/on(Gt*Ne+Ie)]}}return fe.duration=1e3*_e,fe},V.behavior.zoom=function(){var a,m,w,fe,Re,Se,Ie,Me,$e,e={x:0,y:0,k:1},k=[960,500],T=Pn,j=250,N=0,H="mousedown.zoom",X="mousemove.zoom",re="mouseup.zoom",_e="touchstart.zoom",Xe=U(Ne,"zoomstart","zoom","zoomend");function Ne(Pt){Pt.on(H,An).on(jn+".zoom",Jt).on("dblclick.zoom",pn).on(_e,Rt)}function Ke(Pt){return[(Pt[0]-e.x)/e.k,(Pt[1]-e.y)/e.k]}function yt(Pt){e.k=Math.max(T[0],Math.min(T[1],Pt))}function wt(Pt,fn){fn=function Tt(Pt){return[Pt[0]*e.k+e.x,Pt[1]*e.k+e.y]}(fn),e.x+=Pt[0]-fn[0],e.y+=Pt[1]-fn[1]}function mt(Pt,fn,zn,Jn){Pt.__chart__={x:e.x,y:e.y,k:e.k},yt(Math.pow(2,Jn)),wt(m=fn,zn),Pt=V.select(Pt),j>0&&(Pt=Pt.transition().duration(j)),Pt.call(Ne.event)}function Xt(){Ie&&Ie.domain(Se.range().map(function(Pt){return(Pt-e.x)/e.k}).map(Se.invert)),$e&&$e.domain(Me.range().map(function(Pt){return(Pt-e.y)/e.k}).map(Me.invert))}function nn(Pt){N++||Pt({type:"zoomstart"})}function In(Pt){Xt(),Pt({type:"zoom",scale:e.k,translate:[e.x,e.y]})}function bn(Pt){--N||(Pt({type:"zoomend"}),m=null)}function An(){var Pt=this,fn=Xe.of(Pt,arguments),zn=0,Jn=V.select(Z(Pt)).on(X,Ur).on(re,zi),hr=Ke(V.mouse(Pt)),Rr=$n(Pt);function Ur(){zn=1,wt(V.mouse(Pt),hr),In(fn)}function zi(){Jn.on(X,null).on(re,null),Rr(zn),bn(fn)}Is.call(Pt),nn(fn)}function Rt(){var hr,Pt=this,fn=Xe.of(Pt,arguments),zn={},Jn=0,Rr=".zoom-"+V.event.changedTouches[0].identifier,Ur="touchmove"+Rr,zi="touchend"+Rr,qi=[],Ui=V.select(Pt),Yi=$n(Pt);function Ii(){var bo=V.touches(Pt);return hr=e.k,bo.forEach(function(xi){xi.identifier in zn&&(zn[xi.identifier]=Ke(xi))}),bo}function Xi(){var bo=V.event.target;V.select(bo).on(Ur,Zo).on(zi,fu),qi.push(bo);for(var xi=V.event.changedTouches,uo=0,Mo=xi.length;uo<Mo;++uo)zn[xi[uo].identifier]=null;var fo=Ii(),os=Date.now();if(1===fo.length)os-Re<500&&(mt(Pt,Jo=fo[0],zn[Jo.identifier],Math.floor(Math.log(e.k)/Math.LN2)+1),A()),Re=os;else if(fo.length>1){var Jo,Ko=fo[1],Bs=(Jo=fo[0])[0]-Ko[0],dc=Jo[1]-Ko[1];Jn=Bs*Bs+dc*dc}}function Zo(){var xi,uo,Mo,fo,bo=V.touches(Pt);Is.call(Pt);for(var os=0,Jo=bo.length;os<Jo;++os,fo=null)if(fo=zn[(Mo=bo[os]).identifier]){if(uo)break;xi=Mo,uo=fo}if(fo){var Ko=(Ko=Mo[0]-xi[0])*Ko+(Ko=Mo[1]-xi[1])*Ko,Bs=Jn&&Math.sqrt(Ko/Jn);xi=[(xi[0]+Mo[0])/2,(xi[1]+Mo[1])/2],uo=[(uo[0]+fo[0])/2,(uo[1]+fo[1])/2],yt(Bs*hr)}Re=null,wt(xi,uo),In(fn)}function fu(){if(V.event.touches.length){for(var bo=V.event.changedTouches,xi=0,uo=bo.length;xi<uo;++xi)delete zn[bo[xi].identifier];for(var Mo in zn)return void Ii()}V.selectAll(qi).on(Rr,null),Ui.on(H,An).on(_e,Rt),Yi(),bn(fn)}Xi(),nn(fn),Ui.on(H,null).on(_e,Xi)}function Jt(){var Pt=Xe.of(this,arguments);fe?clearTimeout(fe):(Is.call(this),a=Ke(m=w||V.mouse(this)),nn(Pt)),fe=setTimeout(function(){fe=null,bn(Pt)},50),A(),yt(Math.pow(2,.002*Dn())*e.k),wt(m,a),In(Pt)}function pn(){var Pt=V.mouse(this),fn=Math.log(e.k)/Math.LN2;mt(this,Pt,Ke(Pt),V.event.shiftKey?Math.ceil(fn)-1:Math.floor(fn)+1)}return jn||(jn="onwheel"in _?(Dn=function(){return-V.event.deltaY*(V.event.deltaMode?120:1)},"wheel"):"onmousewheel"in _?(Dn=function(){return V.event.wheelDelta},"mousewheel"):(Dn=function(){return-V.event.detail},"MozMousePixelScroll")),Ne.event=function(Pt){Pt.each(function(){var fn=Xe.of(this,arguments),zn=e;Yo?V.select(this).transition().each("start.zoom",function(){e=this.__chart__||{x:0,y:0,k:1},nn(fn)}).tween("zoom:zoom",function(){var Jn=k[0],Rr=m?m[0]:Jn/2,Ur=m?m[1]:k[1]/2,zi=V.interpolateZoom([(Rr-e.x)/e.k,(Ur-e.y)/e.k,Jn/e.k],[(Rr-zn.x)/zn.k,(Ur-zn.y)/zn.k,Jn/zn.k]);return function(qi){var Ui=zi(qi),Yi=Jn/Ui[2];this.__chart__=e={x:Rr-Ui[0]*Yi,y:Ur-Ui[1]*Yi,k:Yi},In(fn)}}).each("interrupt.zoom",function(){bn(fn)}).each("end.zoom",function(){bn(fn)}):(this.__chart__=e,nn(fn),In(fn),bn(fn))})},Ne.translate=function(Pt){return arguments.length?(e={x:+Pt[0],y:+Pt[1],k:e.k},Xt(),Ne):[e.x,e.y]},Ne.scale=function(Pt){return arguments.length?(e={x:e.x,y:e.y,k:null},yt(+Pt),Xt(),Ne):e.k},Ne.scaleExtent=function(Pt){return arguments.length?(T=null==Pt?Pn:[+Pt[0],+Pt[1]],Ne):T},Ne.center=function(Pt){return arguments.length?(w=Pt&&[+Pt[0],+Pt[1]],Ne):w},Ne.size=function(Pt){return arguments.length?(k=Pt&&[+Pt[0],+Pt[1]],Ne):k},Ne.duration=function(Pt){return arguments.length?(j=+Pt,Ne):j},Ne.x=function(Pt){return arguments.length?(Ie=Pt,Se=Pt.copy(),e={x:0,y:0,k:1},Ne):Ie},Ne.y=function(Pt){return arguments.length?($e=Pt,Me=Pt.copy(),e={x:0,y:0,k:1},Ne):$e},V.rebind(Ne,Xe,"on")};var Dn,jn,Pn=[0,1/0];function Un(){}function Yn(e,a,m){return this instanceof Yn?(this.h=+e,this.s=+a,void(this.l=+m)):arguments.length<2?e instanceof Yn?new Yn(e.h,e.s,e.l):qr(""+e,Vr,Yn):new Yn(e,a,m)}V.color=Un,Un.prototype.toString=function(){return this.rgb()+""},V.hsl=Yn;var Wn=Yn.prototype=new Un;function Gn(e,a,m){var w,k;function j(N){return Math.round(255*function T(N){return N>360?N-=360:N<0&&(N+=360),N<60?w+(k-w)*N/60:N<180?k:N<240?w+(k-w)*(240-N)/60:w}(N))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,a=isNaN(a)||a<0?0:a>1?1:a,w=2*(m=m<0?0:m>1?1:m)-(k=m<=.5?m*(1+a):m+a-m*a),new Or(j(e+120),j(e),j(e-120))}function rt(e,a,m){return this instanceof rt?(this.h=+e,this.c=+a,void(this.l=+m)):arguments.length<2?e instanceof rt?new rt(e.h,e.c,e.l):ri(e instanceof ot?e.l:(e=hi((e=V.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new rt(e,a,m)}Wn.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Yn(this.h,this.s,this.l/e)},Wn.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Yn(this.h,this.s,e*this.l)},Wn.rgb=function(){return Gn(this.h,this.s,this.l)},V.hcl=rt;var le=rt.prototype=new Un;function nt(e,a,m){return isNaN(e)&&(e=0),isNaN(a)&&(a=0),new ot(m,Math.cos(e*=Qe)*a,Math.sin(e)*a)}function ot(e,a,m){return this instanceof ot?(this.l=+e,this.a=+a,void(this.b=+m)):arguments.length<2?e instanceof ot?new ot(e.l,e.a,e.b):e instanceof rt?nt(e.h,e.c,e.l):hi((e=Or(e)).r,e.g,e.b):new ot(e,a,m)}le.brighter=function(e){return new rt(this.h,this.c,Math.min(100,this.l+ye*(arguments.length?e:1)))},le.darker=function(e){return new rt(this.h,this.c,Math.max(0,this.l-ye*(arguments.length?e:1)))},le.rgb=function(){return nt(this.h,this.c,this.l).rgb()},V.lab=ot;var ye=18,jr=ot.prototype=new Un;function ci(e,a,m){var w=(e+16)/116,k=w+a/500,T=w-m/200;return new Or(Mr(3.2404542*(k=.95047*ur(k))-1.5371385*(w=1*ur(w))-.4985314*(T=1.08883*ur(T))),Mr(-.969266*k+1.8760108*w+.041556*T),Mr(.0556434*k-.2040259*w+1.0572252*T))}function ri(e,a,m){return e>0?new rt(Math.atan2(m,a)*ht,Math.sqrt(a*a+m*m),e):new rt(NaN,NaN,e)}function ur(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function yi(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function Mr(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function Or(e,a,m){return this instanceof Or?(this.r=~~e,this.g=~~a,void(this.b=~~m)):arguments.length<2?e instanceof Or?new Or(e.r,e.g,e.b):qr(""+e,Or,Gn):new Or(e,a,m)}function ei(e){return new Or(e>>16,e>>8&255,255&e)}function xr(e){return ei(e)+""}jr.brighter=function(e){return new ot(Math.min(100,this.l+ye*(arguments.length?e:1)),this.a,this.b)},jr.darker=function(e){return new ot(Math.max(0,this.l-ye*(arguments.length?e:1)),this.a,this.b)},jr.rgb=function(){return ci(this.l,this.a,this.b)},V.rgb=Or;var di=Or.prototype=new Un;function Xr(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function qr(e,a,m){var j,N,H,w=0,k=0,T=0;if(j=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(N=j[2].split(","),j[1]){case"hsl":return m(parseFloat(N[0]),parseFloat(N[1])/100,parseFloat(N[2])/100);case"rgb":return a(Hr(N[0]),Hr(N[1]),Hr(N[2]))}return(H=Qn.get(e))?a(H.r,H.g,H.b):(null!=e&&"#"===e.charAt(0)&&!isNaN(H=parseInt(e.slice(1),16))&&(4===e.length?(w=(3840&H)>>4,w|=w>>4,k=240&H,k|=k>>4,T=15&H,T|=T<<4):7===e.length&&(w=(16711680&H)>>16,k=(65280&H)>>8,T=255&H)),a(w,k,T))}function Vr(e,a,m){var j,N,w=Math.min(e/=255,a/=255,m/=255),k=Math.max(e,a,m),T=k-w,H=(k+w)/2;return T?(N=H<.5?T/(k+w):T/(2-k-w),j=e==k?(a-m)/T+(a<m?6:0):a==k?(m-e)/T+2:(e-a)/T+4,j*=60):(j=NaN,N=H>0&&H<1?0:j),new Yn(j,N,H)}function hi(e,a,m){var w=yi((.4124564*(e=pi(e))+.3575761*(a=pi(a))+.1804375*(m=pi(m)))/.95047),k=yi((.2126729*e+.7151522*a+.072175*m)/1);return ot(116*k-16,500*(w-k),200*(k-yi((.0193339*e+.119192*a+.9503041*m)/1.08883)))}function pi(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Hr(e){var a=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*a):a}di.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var a=this.r,m=this.g,w=this.b,k=30;return a||m||w?(a&&a<k&&(a=k),m&&m<k&&(m=k),w&&w<k&&(w=k),new Or(Math.min(255,a/e),Math.min(255,m/e),Math.min(255,w/e))):new Or(k,k,k)},di.darker=function(e){return new Or((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},di.hsl=function(){return Vr(this.r,this.g,this.b)},di.toString=function(){return"#"+Xr(this.r)+Xr(this.g)+Xr(this.b)};var Qn=V.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function vr(e){return"function"==typeof e?e:function(){return e}}function Vi(e){return function(a,m,w){return 2===arguments.length&&"function"==typeof m&&(w=m,m=null),Gi(a,m,e,w)}}function Gi(e,a,m,w){var k={},T=V.dispatch("beforesend","progress","load","error"),j={},N=new XMLHttpRequest,H=null;function X(){var fe,re=N.status;if(!re&&function Mi(e){var a=e.responseType;return a&&"text"!==a?e.response:e.responseText}(N)||re>=200&&re<300||304===re){try{fe=m.call(k,N)}catch(_e){return void T.error.call(k,_e)}T.load.call(k,fe)}else T.error.call(k,N)}return this.XDomainRequest&&!("withCredentials"in N)&&/^(http(s)?:)?\/\//.test(e)&&(N=new XDomainRequest),"onload"in N?N.onload=N.onerror=X:N.onreadystatechange=function(){N.readyState>3&&X()},N.onprogress=function(re){var fe=V.event;V.event=re;try{T.progress.call(k,N)}finally{V.event=fe}},k.header=function(re,fe){return re=(re+"").toLowerCase(),arguments.length<2?j[re]:(null==fe?delete j[re]:j[re]=fe+"",k)},k.mimeType=function(re){return arguments.length?(a=null==re?null:re+"",k):a},k.responseType=function(re){return arguments.length?(H=re,k):H},k.response=function(re){return m=re,k},["get","post"].forEach(function(re){k[re]=function(){return k.send.apply(k,[re].concat(Pe(arguments)))}}),k.send=function(re,fe,_e){if(2===arguments.length&&"function"==typeof fe&&(_e=fe,fe=null),N.open(re,e,!0),null!=a&&!("accept"in j)&&(j.accept=a+",*/*"),N.setRequestHeader)for(var Re in j)N.setRequestHeader(Re,j[Re]);return null!=a&&N.overrideMimeType&&N.overrideMimeType(a),null!=H&&(N.responseType=H),null!=_e&&k.on("error",_e).on("load",function(Xe){_e(null,Xe)}),T.beforesend.call(k,N),N.send(null==fe?null:fe),k},k.abort=function(){return N.abort(),k},V.rebind(k,T,"on"),null==w?k:k.get(function lo(e){return 1===e.length?function(a,m){e(null==a?m:null)}:e}(w))}Qn.forEach(function(e,a){Qn.set(e,ei(a))}),V.functor=vr,V.xhr=Vi(R),V.dsv=function(e,a){var m=new RegExp('["'+e+"\n]"),w=e.charCodeAt(0);function k(X,re,fe){arguments.length<3&&(fe=re,re=null);var _e=Gi(X,a,null==re?T:j(re),fe);return _e.row=function(Re){return arguments.length?_e.response(null==(re=Re)?T:j(Re)):re},_e}function T(X){return k.parse(X.responseText)}function j(X){return function(re){return k.parse(re.responseText,X)}}function N(X){return X.map(H).join(e)}function H(X){return m.test(X)?'"'+X.replace(/\"/g,'""')+'"':X}return k.parse=function(X,re){var fe;return k.parseRows(X,function(_e,Re){if(fe)return fe(_e,Re-1);var Xe=new Function("d","return {"+_e.map(function(Se,Ie){return JSON.stringify(Se)+": d["+Ie+"]"}).join(",")+"}");fe=re?function(Se,Ie){return re(Xe(Se),Ie)}:Xe})},k.parseRows=function(X,re){var Me,$e,fe={},_e={},Re=[],Xe=X.length,Se=0,Ie=0;function Ne(){if(Se>=Xe)return _e;if($e)return $e=!1,fe;var Tt=Se;if(34===X.charCodeAt(Tt)){for(var yt=Tt;yt++<Xe;)if(34===X.charCodeAt(yt)){if(34!==X.charCodeAt(yt+1))break;++yt}return Se=yt+2,13===(wt=X.charCodeAt(yt+1))?($e=!0,10===X.charCodeAt(yt+2)&&++Se):10===wt&&($e=!0),X.slice(Tt+1,yt).replace(/""/g,'"')}for(;Se<Xe;){var wt,mt=1;if(10===(wt=X.charCodeAt(Se++)))$e=!0;else if(13===wt)$e=!0,10===X.charCodeAt(Se)&&(++Se,++mt);else if(wt!==w)continue;return X.slice(Tt,Se-mt)}return X.slice(Tt)}for(;(Me=Ne())!==_e;){for(var Ke=[];Me!==fe&&Me!==_e;)Ke.push(Me),Me=Ne();re&&null==(Ke=re(Ke,Ie++))||Re.push(Ke)}return Re},k.format=function(X){if(Array.isArray(X[0]))return k.formatRows(X);var re=new S,fe=[];return X.forEach(function(_e){for(var Re in _e)re.has(Re)||fe.push(re.add(Re))}),[fe.map(H).join(e)].concat(X.map(function(_e){return fe.map(function(Re){return H(_e[Re])}).join(e)})).join("\n")},k.formatRows=function(X){return X.map(N).join("\n")},k},V.csv=V.dsv(",","text/csv"),V.tsv=V.dsv("\t","text/tab-separated-values");var Fi,Si,ji,$r,wo=this[q(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function B(e,a,m){var w=arguments.length;w<2&&(a=0),w<3&&(m=Date.now());var k=m+a,T={c:e,t:k,n:null};return Si?Si.n=T:Fi=T,Si=T,ji||($r=clearTimeout($r),ji=1,wo(W)),T}function W(){var e=J(),a=he()-e;a>24?(isFinite(a)&&(clearTimeout($r),$r=setTimeout(W,a)),ji=0):(ji=1,wo(W))}function J(){for(var e=Date.now(),a=Fi;a;)e>=a.t&&a.c(e-a.t)&&(a.c=null),a=a.n;return e}function he(){for(var e,a=Fi,m=1/0;a;)a.c?(a.t<m&&(m=a.t),a=(e=a).n):a=e?e.n=a.n:Fi=a.n;return Si=e,m}function ve(e,a){return a-(e?Math.ceil(Math.log(e)/Math.LN10):1)}V.timer=function(){B.apply(this,arguments)},V.timer.flush=function(){J(),he()},V.round=function(e,a){return a?Math.round(e*(a=Math.pow(10,a)))/a:Math.round(e)};var Te=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(function Ae(e,a){var m=Math.pow(10,3*c(8-a));return{scale:a>8?function(w){return w/m}:function(w){return w*m},symbol:e}});function De(e){var a=e.decimal,m=e.thousands,w=e.grouping,k=e.currency,T=w&&m?function(j,N){for(var H=j.length,X=[],re=0,fe=w[0],_e=0;H>0&&fe>0&&(_e+fe+1>N&&(fe=Math.max(1,N-_e)),X.push(j.substring(H-=fe,H+fe)),!((_e+=fe+1)>N));)fe=w[re=(re+1)%w.length];return X.reverse().join(m)}:R;return function(j){var N=qe.exec(j),H=N[1]||" ",X=N[2]||">",re=N[3]||"-",fe=N[4]||"",_e=N[5],Re=+N[6],Xe=N[7],Se=N[8],Ie=N[9],Me=1,$e="",Ne="",Ke=!1,Tt=!0;switch(Se&&(Se=+Se.substring(1)),(_e||"0"===H&&"="===X)&&(_e=H="0",X="="),Ie){case"n":Xe=!0,Ie="g";break;case"%":Me=100,Ne="%",Ie="f";break;case"p":Me=100,Ne="%",Ie="r";break;case"b":case"o":case"x":case"X":"#"===fe&&($e="0"+Ie.toLowerCase());case"c":Tt=!1;case"d":Ke=!0,Se=0;break;case"s":Me=-1,Ie="r"}"$"===fe&&($e=k[0],Ne=k[1]),"r"==Ie&&!Se&&(Ie="g"),null!=Se&&("g"==Ie?Se=Math.max(1,Math.min(21,Se)):("e"==Ie||"f"==Ie)&&(Se=Math.max(0,Math.min(20,Se)))),Ie=_t.get(Ie)||Ut;var yt=_e&&Xe;return function(wt){var mt=Ne;if(Ke&&wt%1)return"";var Xt=wt<0||0===wt&&1/wt<0?(wt=-wt,"-"):"-"===re?"":re;if(Me<0){var nn=V.formatPrefix(wt,Se);wt=nn.scale(wt),mt=nn.symbol+Ne}else wt*=Me;var bn,An,In=(wt=Ie(wt,Se)).lastIndexOf(".");if(In<0){var Rt=Tt?wt.lastIndexOf("e"):-1;Rt<0?(bn=wt,An=""):(bn=wt.substring(0,Rt),An=wt.substring(Rt))}else bn=wt.substring(0,In),An=a+wt.substring(In+1);!_e&&Xe&&(bn=T(bn,1/0));var Jt=$e.length+bn.length+An.length+(yt?0:Xt.length),pn=Jt<Re?new Array(Jt=Re-Jt+1).join(H):"";return yt&&(bn=T(pn+bn,pn.length?Re-An.length:1/0)),Xt+=$e,wt=bn+An,("<"===X?Xt+wt+pn:">"===X?pn+Xt+wt:"^"===X?pn.substring(0,Jt>>=1)+Xt+wt+pn.substring(Jt):Xt+(yt?wt:pn+wt))+mt}}}V.formatPrefix=function(e,a){var m=0;return(e=+e)&&(e<0&&(e*=-1),a&&(e=V.round(e,ve(e,a))),m=1+Math.floor(1e-12+Math.log(e)/Math.LN10),m=Math.max(-24,Math.min(24,3*Math.floor((m-1)/3)))),Te[8+m/3]};var qe=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,_t=V.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,a){return e.toPrecision(a)},e:function(e,a){return e.toExponential(a)},f:function(e,a){return e.toFixed(a)},r:function(e,a){return(e=V.round(e,ve(e,a))).toFixed(Math.max(0,Math.min(20,ve(e*(1+1e-15),a))))}});function Ut(e){return e+""}var st=V.time={},pt=Date;function zt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}zt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Yt.setUTCDate.apply(this._,arguments)},setDay:function(){Yt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Yt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Yt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Yt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Yt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Yt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Yt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Yt.setTime.apply(this._,arguments)}};var Yt=Date.prototype;function It(e,a,m){function w(X){var re=e(X),fe=T(re,1);return X-re<fe-X?re:fe}function k(X){return a(X=e(new pt(X-1)),1),X}function T(X,re){return a(X=new pt(+X),re),X}function j(X,re,fe){var _e=k(X),Re=[];if(fe>1)for(;_e<re;)m(_e)%fe||Re.push(new Date(+_e)),a(_e,1);else for(;_e<re;)Re.push(new Date(+_e)),a(_e,1);return Re}e.floor=e,e.round=w,e.ceil=k,e.offset=T,e.range=j;var H=e.utc=Ft(e);return H.floor=H,H.round=Ft(w),H.ceil=Ft(k),H.offset=Ft(T),H.range=function N(X,re,fe){try{pt=zt;var _e=new zt;return _e._=X,j(_e,re,fe)}finally{pt=Date}},e}function Ft(e){return function(a,m){try{pt=zt;var w=new zt;return w._=a,e(w,m)._}finally{pt=Date}}}function Nt(e){var a=e.dateTime,m=e.date,w=e.time,k=e.periods,T=e.days,j=e.shortDays,N=e.months,H=e.shortMonths;function X(Rt){var Jt=Rt.length;function pn(Pt){for(var hr,Rr,Ur,fn=[],zn=-1,Jn=0;++zn<Jt;)37===Rt.charCodeAt(zn)&&(fn.push(Rt.slice(Jn,zn)),null!=(Rr=ln[hr=Rt.charAt(++zn)])&&(hr=Rt.charAt(++zn)),(Ur=Ke[hr])&&(hr=Ur(Pt,null==Rr?"e"===hr?" ":"0":Rr)),fn.push(hr),Jn=zn+1);return fn.push(Rt.slice(Jn,zn)),fn.join("")}return pn.parse=function(Pt){var fn={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(re(fn,Rt,Pt,0)!=Pt.length)return null;"p"in fn&&(fn.H=fn.H%12+12*fn.p);var Jn=null!=fn.Z&&pt!==zt,hr=new(Jn?zt:pt);return"j"in fn?hr.setFullYear(fn.y,0,fn.j):"W"in fn||"U"in fn?("w"in fn||(fn.w="W"in fn?1:0),hr.setFullYear(fn.y,0,1),hr.setFullYear(fn.y,0,"W"in fn?(fn.w+6)%7+7*fn.W-(hr.getDay()+5)%7:fn.w+7*fn.U-(hr.getDay()+6)%7)):hr.setFullYear(fn.y,fn.m,fn.d),hr.setHours(fn.H+(fn.Z/100|0),fn.M+fn.Z%100,fn.S,fn.L),Jn?hr._:hr},pn.toString=function(){return Rt},pn}function re(Rt,Jt,pn,Pt){for(var fn,zn,Jn,hr=0,Rr=Jt.length,Ur=pn.length;hr<Rr;){if(Pt>=Ur)return-1;if(37===(fn=Jt.charCodeAt(hr++))){if(Jn=Jt.charAt(hr++),!(zn=Tt[Jn in ln?Jt.charAt(hr++):Jn])||(Pt=zn(Rt,pn,Pt))<0)return-1}else if(fn!=pn.charCodeAt(Pt++))return-1}return Pt}X.utc=function(Rt){var Jt=X(Rt);function pn(Pt){try{var fn=new(pt=zt);return fn._=Pt,Jt(fn)}finally{pt=Date}}return pn.parse=function(Pt){try{pt=zt;var fn=Jt.parse(Pt);return fn&&fn._}finally{pt=Date}},pn.toString=Jt.toString,pn},X.multi=X.utc.multi=Sn;var fe=V.map(),_e=Er(T),Re=kr(T),Xe=Er(j),Se=kr(j),Ie=Er(N),Me=kr(N),$e=Er(H),Ne=kr(H);k.forEach(function(Rt,Jt){fe.set(Rt.toLowerCase(),Jt)});var Ke={a:function(Rt){return j[Rt.getDay()]},A:function(Rt){return T[Rt.getDay()]},b:function(Rt){return H[Rt.getMonth()]},B:function(Rt){return N[Rt.getMonth()]},c:X(a),d:function(Rt,Jt){return Fn(Rt.getDate(),Jt,2)},e:function(Rt,Jt){return Fn(Rt.getDate(),Jt,2)},H:function(Rt,Jt){return Fn(Rt.getHours(),Jt,2)},I:function(Rt,Jt){return Fn(Rt.getHours()%12||12,Jt,2)},j:function(Rt,Jt){return Fn(1+st.dayOfYear(Rt),Jt,3)},L:function(Rt,Jt){return Fn(Rt.getMilliseconds(),Jt,3)},m:function(Rt,Jt){return Fn(Rt.getMonth()+1,Jt,2)},M:function(Rt,Jt){return Fn(Rt.getMinutes(),Jt,2)},p:function(Rt){return k[+(Rt.getHours()>=12)]},S:function(Rt,Jt){return Fn(Rt.getSeconds(),Jt,2)},U:function(Rt,Jt){return Fn(st.sundayOfYear(Rt),Jt,2)},w:function(Rt){return Rt.getDay()},W:function(Rt,Jt){return Fn(st.mondayOfYear(Rt),Jt,2)},x:X(m),X:X(w),y:function(Rt,Jt){return Fn(Rt.getFullYear()%100,Jt,2)},Y:function(Rt,Jt){return Fn(Rt.getFullYear()%1e4,Jt,4)},Z:En,"%":function(){return"%"}},Tt={a:function yt(Rt,Jt,pn){Xe.lastIndex=0;var Pt=Xe.exec(Jt.slice(pn));return Pt?(Rt.w=Se.get(Pt[0].toLowerCase()),pn+Pt[0].length):-1},A:function wt(Rt,Jt,pn){_e.lastIndex=0;var Pt=_e.exec(Jt.slice(pn));return Pt?(Rt.w=Re.get(Pt[0].toLowerCase()),pn+Pt[0].length):-1},b:function mt(Rt,Jt,pn){$e.lastIndex=0;var Pt=$e.exec(Jt.slice(pn));return Pt?(Rt.m=Ne.get(Pt[0].toLowerCase()),pn+Pt[0].length):-1},B:function Xt(Rt,Jt,pn){Ie.lastIndex=0;var Pt=Ie.exec(Jt.slice(pn));return Pt?(Rt.m=Me.get(Pt[0].toLowerCase()),pn+Pt[0].length):-1},c:function nn(Rt,Jt,pn){return re(Rt,Ke.c.toString(),Jt,pn)},d:Xn,e:Xn,H:Ce,I:Ce,j:We,L:en,m:hn,M:bt,p:function An(Rt,Jt,pn){var Pt=fe.get(Jt.slice(pn,pn+=2).toLowerCase());return null==Pt?-1:(Rt.p=Pt,pn)},S:xt,U:ir,w:sr,W:cr,x:function In(Rt,Jt,pn){return re(Rt,Ke.x.toString(),Jt,pn)},X:function bn(Rt,Jt,pn){return re(Rt,Ke.X.toString(),Jt,pn)},y:ze,Y:ii,Z:St,"%":gn};return X}st.year=It(function(e){return(e=st.day(e)).setMonth(0,1),e},function(e,a){e.setFullYear(e.getFullYear()+a)},function(e){return e.getFullYear()}),st.years=st.year.range,st.years.utc=st.year.utc.range,st.day=It(function(e){var a=new pt(2e3,0);return a.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),a},function(e,a){e.setDate(e.getDate()+a)},function(e){return e.getDate()-1}),st.days=st.day.range,st.days.utc=st.day.utc.range,st.dayOfYear=function(e){var a=st.year(e);return Math.floor((e-a-6e4*(e.getTimezoneOffset()-a.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,a){a=7-a;var m=st[e]=It(function(w){return(w=st.day(w)).setDate(w.getDate()-(w.getDay()+a)%7),w},function(w,k){w.setDate(w.getDate()+7*Math.floor(k))},function(w){var k=st.year(w).getDay();return Math.floor((st.dayOfYear(w)+(k+a)%7)/7)-(k!==a)});st[e+"s"]=m.range,st[e+"s"].utc=m.utc.range,st[e+"OfYear"]=function(w){var k=st.year(w).getDay();return Math.floor((st.dayOfYear(w)+(k+a)%7)/7)}}),st.week=st.sunday,st.weeks=st.sunday.range,st.weeks.utc=st.sunday.utc.range,st.weekOfYear=st.sundayOfYear;var ln={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,cn=/^%/;function Fn(e,a,m){var w=e<0?"-":"",k=(w?-e:e)+"",T=k.length;return w+(T<m?new Array(m-T+1).join(a)+k:k)}function Er(e){return new RegExp("^(?:"+e.map(V.requote).join("|")+")","i")}function kr(e){for(var a=new t,m=-1,w=e.length;++m<w;)a.set(e[m].toLowerCase(),m);return a}function sr(e,a,m){Qt.lastIndex=0;var w=Qt.exec(a.slice(m,m+1));return w?(e.w=+w[0],m+w[0].length):-1}function ir(e,a,m){Qt.lastIndex=0;var w=Qt.exec(a.slice(m));return w?(e.U=+w[0],m+w[0].length):-1}function cr(e,a,m){Qt.lastIndex=0;var w=Qt.exec(a.slice(m));return w?(e.W=+w[0],m+w[0].length):-1}function ii(e,a,m){Qt.lastIndex=0;var w=Qt.exec(a.slice(m,m+4));return w?(e.y=+w[0],m+w[0].length):-1}function ze(e,a,m){Qt.lastIndex=0;var w=Qt.exec(a.slice(m,m+2));return w?(e.y=function Wt(e){return e+(e>68?1900:2e3)}(+w[0]),m+w[0].length):-1}function St(e,a,m){return/^[+-]\d{4}$/.test(a=a.slice(m,m+5))?(e.Z=-a,m+5):-1}function hn(e,a,m){Qt.lastIndex=0;var w=Qt.exec(a.slice(m,m+2));return w?(e.m=w[0]-1,m+w[0].length):-1}function Xn(e,a,m){Qt.lastIndex=0;var w=Qt.exec(a.slice(m,m+2));return w?(e.d=+w[0],m+w[0].length):-1}function We(e,a,m){Qt.lastIndex=0;var w=Qt.exec(a.slice(m,m+3));return w?(e.j=+w[0],m+w[0].length):-1}function Ce(e,a,m){Qt.lastIndex=0;var w=Qt.exec(a.slice(m,m+2));return w?(e.H=+w[0],m+w[0].length):-1}function bt(e,a,m){Qt.lastIndex=0;var w=Qt.exec(a.slice(m,m+2));return w?(e.M=+w[0],m+w[0].length):-1}function xt(e,a,m){Qt.lastIndex=0;var w=Qt.exec(a.slice(m,m+2));return w?(e.S=+w[0],m+w[0].length):-1}function en(e,a,m){Qt.lastIndex=0;var w=Qt.exec(a.slice(m,m+3));return w?(e.L=+w[0],m+w[0].length):-1}function En(e){var a=e.getTimezoneOffset(),m=a>0?"-":"+",w=c(a)/60|0,k=c(a)%60;return m+Fn(w,"0",2)+Fn(k,"0",2)}function gn(e,a,m){cn.lastIndex=0;var w=cn.exec(a.slice(m,m+1));return w?m+w[0].length:-1}function Sn(e){for(var a=e.length,m=-1;++m<a;)e[m][0]=this(e[m][0]);return function(w){for(var k=0,T=e[k];!T[1](w);)T=e[++k];return T[0](w)}}V.locale=function(e){return{numberFormat:De(e),timeFormat:Nt(e)}};var _n=V.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bn(){}V.format=_n.numberFormat,V.geo={},Bn.prototype={s:0,t:0,add:function(e){gr(e,this.t,qn),gr(qn.s,this.s,this),this.s?this.t+=qn.t:this.s=qn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var qn=new Bn;function gr(e,a,m){var w=m.s=e+a,k=w-e;m.t=e-(w-k)+(a-k)}function tr(e,a){e&&lr.hasOwnProperty(e.type)&&lr[e.type](e,a)}V.geo.stream=function(e,a){e&&Ar.hasOwnProperty(e.type)?Ar[e.type](e,a):tr(e,a)};var Ar={Feature:function(e,a){tr(e.geometry,a)},FeatureCollection:function(e,a){for(var m=e.features,w=-1,k=m.length;++w<k;)tr(m[w].geometry,a)}},lr={Sphere:function(e,a){a.sphere()},Point:function(e,a){a.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,a){for(var m=e.coordinates,w=-1,k=m.length;++w<k;)a.point((e=m[w])[0],e[1],e[2])},LineString:function(e,a){Cr(e.coordinates,a,0)},MultiLineString:function(e,a){for(var m=e.coordinates,w=-1,k=m.length;++w<k;)Cr(m[w],a,0)},Polygon:function(e,a){yr(e.coordinates,a)},MultiPolygon:function(e,a){for(var m=e.coordinates,w=-1,k=m.length;++w<k;)yr(m[w],a)},GeometryCollection:function(e,a){for(var m=e.geometries,w=-1,k=m.length;++w<k;)tr(m[w],a)}};function Cr(e,a,m){var T,w=-1,k=e.length-m;for(a.lineStart();++w<k;)a.point((T=e[w])[0],T[1],T[2]);a.lineEnd()}function yr(e,a){var m=-1,w=e.length;for(a.polygonStart();++m<w;)Cr(e[m],a,1);a.polygonEnd()}V.geo.area=function(e){return Pr=0,V.geo.stream(e,Yr),Pr};var Pr,dr=new Bn,Yr={sphere:function(){Pr+=4*ge},point:se,lineStart:se,lineEnd:se,polygonStart:function(){dr.reset(),Yr.lineStart=Li},polygonEnd:function(){var e=2*dr;Pr+=e<0?4*ge+e:e,Yr.lineStart=Yr.lineEnd=Yr.point=se}};function Li(){var e,a,m,w,k;function T(j,N){N=N*Qe/2+ge/4;var H=(j*=Qe)-m,X=H>=0?1:-1,re=X*H,fe=Math.cos(N),_e=Math.sin(N),Re=k*_e,Xe=w*fe+Re*Math.cos(re),Se=Re*X*Math.sin(re);dr.add(Math.atan2(Se,Xe)),m=j,w=fe,k=_e}Yr.point=function(j,N){Yr.point=T,m=(e=j)*Qe,w=Math.cos(N=(a=N)*Qe/2+ge/4),k=Math.sin(N)},Yr.lineEnd=function(){T(e,a)}}function Wr(e){var a=e[0],m=e[1],w=Math.cos(m);return[w*Math.cos(a),w*Math.sin(a),Math.sin(m)]}function gi(e,a){return e[0]*a[0]+e[1]*a[1]+e[2]*a[2]}function Kr(e,a){return[e[1]*a[2]-e[2]*a[1],e[2]*a[0]-e[0]*a[2],e[0]*a[1]-e[1]*a[0]]}function no(e,a){e[0]+=a[0],e[1]+=a[1],e[2]+=a[2]}function ki(e,a){return[e[0]*a,e[1]*a,e[2]*a]}function ti(e){var a=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=a,e[1]/=a,e[2]/=a}function ui(e){return[Math.atan2(e[1],e[0]),tn(e[2])]}function Zi(e,a){return c(e[0]-a[0])<jt&&c(e[1]-a[1])<jt}V.geo.bounds=function(){var e,a,m,w,k,T,j,N,H,X,re,fe={point:_e,lineStart:Xe,lineEnd:Se,polygonStart:function(){fe.point=Ie,fe.lineStart=Me,fe.lineEnd=$e,H=0,Yr.polygonStart()},polygonEnd:function(){Yr.polygonEnd(),fe.point=_e,fe.lineStart=Xe,fe.lineEnd=Se,dr<0?(e=-(m=180),a=-(w=90)):H>jt?w=90:H<-jt&&(a=-90),re[0]=e,re[1]=m}};function _e(yt,wt){X.push(re=[e=yt,m=yt]),wt<a&&(a=wt),wt>w&&(w=wt)}function Re(yt,wt){var mt=Wr([yt*Qe,wt*Qe]);if(N){var Xt=Kr(N,mt),In=Kr([Xt[1],-Xt[0],0],Xt);ti(In),In=ui(In);var bn=yt-k,An=bn>0?1:-1,Rt=In[0]*ht*An,Jt=c(bn)>180;if(Jt^(An*k<Rt&&Rt<An*yt))(pn=In[1]*ht)>w&&(w=pn);else if(Jt^(An*k<(Rt=(Rt+360)%360-180)&&Rt<An*yt)){var pn;(pn=-In[1]*ht)<a&&(a=pn)}else wt<a&&(a=wt),wt>w&&(w=wt);Jt?yt<k?Ne(e,yt)>Ne(e,m)&&(m=yt):Ne(yt,m)>Ne(e,m)&&(e=yt):m>=e?(yt<e&&(e=yt),yt>m&&(m=yt)):yt>k?Ne(e,yt)>Ne(e,m)&&(m=yt):Ne(yt,m)>Ne(e,m)&&(e=yt)}else _e(yt,wt);N=mt,k=yt}function Xe(){fe.point=Re}function Se(){re[0]=e,re[1]=m,fe.point=_e,N=null}function Ie(yt,wt){if(N){var mt=yt-k;H+=c(mt)>180?mt+(mt>0?360:-360):mt}else T=yt,j=wt;Yr.point(yt,wt),Re(yt,wt)}function Me(){Yr.lineStart()}function $e(){Ie(T,j),Yr.lineEnd(),c(H)>jt&&(e=-(m=180)),re[0]=e,re[1]=m,N=null}function Ne(yt,wt){return(wt-=yt)<0?wt+360:wt}function Ke(yt,wt){return yt[0]-wt[0]}function Tt(yt,wt){return wt[0]<=wt[1]?wt[0]<=yt&&yt<=wt[1]:yt<wt[0]||wt[1]<yt}return function(yt){if(w=m=-(e=a=1/0),X=[],V.geo.stream(yt,fe),wt=X.length){X.sort(Ke);for(var mt=1,In=[Xt=X[0]];mt<wt;++mt)Tt((nn=X[mt])[0],Xt)||Tt(nn[1],Xt)?(Ne(Xt[0],nn[1])>Ne(Xt[0],Xt[1])&&(Xt[1]=nn[1]),Ne(nn[0],Xt[1])>Ne(Xt[0],Xt[1])&&(Xt[0]=nn[0])):In.push(Xt=nn);for(var An,wt,nn,bn=-1/0,Xt=(mt=0,In[wt=In.length-1]);mt<=wt;Xt=nn,++mt)(An=Ne(Xt[1],(nn=In[mt])[0]))>bn&&(bn=An,e=nn[0],m=Xt[1])}return X=re=null,e===1/0||a===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,a],[m,w]]}}(),V.geo.centroid=function(e){Ji=Bi=Ai=Pi=mi=_i=Ci=Hi=Qi=$i=bi=0,V.geo.stream(e,fi);var a=Qi,m=$i,w=bi,k=a*a+m*m+w*w;return k<Kn&&(a=_i,m=Ci,w=Hi,Bi<jt&&(a=Ai,m=Pi,w=mi),(k=a*a+m*m+w*w)<Kn)?[NaN,NaN]:[Math.atan2(m,a)*ht,tn(w/Math.sqrt(k))*ht]};var Ji,Bi,Ai,Pi,mi,_i,Ci,Hi,Qi,$i,bi,fi={sphere:se,point:ro,lineStart:Lo,lineEnd:jo,polygonStart:function(){fi.lineStart=qo},polygonEnd:function(){fi.lineStart=Lo}};function ro(e,a){e*=Qe;var m=Math.cos(a*=Qe);io(m*Math.cos(e),m*Math.sin(e),Math.sin(a))}function io(e,a,m){++Ji,Ai+=(e-Ai)/Ji,Pi+=(a-Pi)/Ji,mi+=(m-mi)/Ji}function Lo(){var e,a,m;function w(k,T){k*=Qe;var j=Math.cos(T*=Qe),N=j*Math.cos(k),H=j*Math.sin(k),X=Math.sin(T),re=Math.atan2(Math.sqrt((re=a*X-m*H)*re+(re=m*N-e*X)*re+(re=e*H-a*N)*re),e*N+a*H+m*X);Bi+=re,_i+=re*(e+(e=N)),Ci+=re*(a+(a=H)),Hi+=re*(m+(m=X)),io(e,a,m)}fi.point=function(k,T){k*=Qe;var j=Math.cos(T*=Qe);e=j*Math.cos(k),a=j*Math.sin(k),m=Math.sin(T),fi.point=w,io(e,a,m)}}function jo(){fi.point=ro}function qo(){var e,a,m,w,k;function T(j,N){j*=Qe;var H=Math.cos(N*=Qe),X=H*Math.cos(j),re=H*Math.sin(j),fe=Math.sin(N),_e=w*fe-k*re,Re=k*X-m*fe,Xe=m*re-w*X,Se=Math.sqrt(_e*_e+Re*Re+Xe*Xe),Ie=m*X+w*re+k*fe,Me=Se&&-Vt(Ie)/Se,$e=Math.atan2(Se,Ie);Qi+=Me*_e,$i+=Me*Re,bi+=Me*Xe,Bi+=$e,_i+=$e*(m+(m=X)),Ci+=$e*(w+(w=re)),Hi+=$e*(k+(k=fe)),io(m,w,k)}fi.point=function(j,N){e=j,a=N,fi.point=T,j*=Qe;var H=Math.cos(N*=Qe);m=H*Math.cos(j),w=H*Math.sin(j),k=Math.sin(N),io(m,w,k)},fi.lineEnd=function(){T(e,a),fi.lineEnd=jo,fi.point=ro}}function Eo(e,a){function m(w,k){return w=e(w,k),a(w[0],w[1])}return e.invert&&a.invert&&(m.invert=function(w,k){return(w=a.invert(w,k))&&e.invert(w[0],w[1])}),m}function eo(){return!0}function Oi(e,a,m,w,k){var T=[],j=[];if(e.forEach(function(Se){if(!((Ie=Se.length-1)<=0)){var Ie,Me=Se[0],$e=Se[Ie];if(Zi(Me,$e)){k.lineStart();for(var Ne=0;Ne<Ie;++Ne)k.point((Me=Se[Ne])[0],Me[1]);return void k.lineEnd()}var Ke=new So(Me,Se,null,!0),Tt=new So(Me,null,Ke,!1);Ke.o=Tt,T.push(Ke),j.push(Tt),Ke=new So($e,Se,null,!1),Tt=new So($e,null,Ke,!0),Ke.o=Tt,T.push(Ke),j.push(Tt)}}),j.sort(a),xo(T),xo(j),T.length){for(var N=0,H=m,X=j.length;N<X;++N)j[N].e=H=!H;for(var fe,_e,re=T[0];;){for(var Re=re,Xe=!0;Re.v;)if((Re=Re.n)===re)return;fe=Re.z,k.lineStart();do{if(Re.v=Re.o.v=!0,Re.e){if(Xe)for(N=0,X=fe.length;N<X;++N)k.point((_e=fe[N])[0],_e[1]);else w(Re.x,Re.n.x,1,k);Re=Re.n}else{if(Xe)for(N=(fe=Re.p.z).length-1;N>=0;--N)k.point((_e=fe[N])[0],_e[1]);else w(Re.x,Re.p.x,-1,k);Re=Re.p}fe=(Re=Re.o).z,Xe=!Xe}while(!Re.v);k.lineEnd()}}}function xo(e){if(a=e.length){for(var a,k,m=0,w=e[0];++m<a;)w.n=k=e[m],k.p=w,w=k;w.n=k=e[0],k.p=w}}function So(e,a,m,w){this.x=e,this.z=a,this.o=m,this.e=w,this.v=!1,this.n=this.p=null}function Bo(e,a,m,w){return function(k,T){var j=a(T),N=k.invert(w[0],w[1]),H={point:X,lineStart:fe,lineEnd:_e,polygonStart:function(){H.point=Ne,H.lineStart=Ke,H.lineEnd=Tt,Re=[],Me=[]},polygonEnd:function(){H.point=X,H.lineStart=fe,H.lineEnd=_e,Re=V.merge(Re);var yt=function oo(e,a){var m=e[0],w=e[1],k=[Math.sin(m),-Math.cos(m),0],T=0,j=0;dr.reset();for(var N=0,H=a.length;N<H;++N){var X=a[N],re=X.length;if(re)for(var fe=X[0],_e=fe[0],Re=fe[1]/2+ge/4,Xe=Math.sin(Re),Se=Math.cos(Re),Ie=1;;){Ie===re&&(Ie=0);var Me=(e=X[Ie])[0],$e=e[1]/2+ge/4,Ne=Math.sin($e),Ke=Math.cos($e),Tt=Me-_e,yt=Tt>=0?1:-1,wt=yt*Tt,mt=wt>ge,Xt=Xe*Ne;if(dr.add(Math.atan2(Xt*yt*Math.sin(wt),Se*Ke+Xt*Math.cos(wt))),T+=mt?Tt+yt*Le:Tt,mt^_e>=m^Me>=m){var nn=Kr(Wr(fe),Wr(e));ti(nn);var In=Kr(k,nn);ti(In);var bn=(mt^Tt>=0?-1:1)*tn(In[2]);(w>bn||w===bn&&(nn[0]||nn[1]))&&(j+=mt^Tt>=0?1:-1)}if(!Ie++)break;_e=Me,Xe=Ne,Se=Ke,fe=e}}return(T<-jt||T<jt&&dr<-jt)^1&j}(N,Me);Re.length?(Ie||(T.polygonStart(),Ie=!0),Oi(Re,Po,yt,m,T)):yt&&(Ie||(T.polygonStart(),Ie=!0),T.lineStart(),m(null,null,1,T),T.lineEnd()),Ie&&(T.polygonEnd(),Ie=!1),Re=Me=null},sphere:function(){T.polygonStart(),T.lineStart(),m(null,null,1,T),T.lineEnd(),T.polygonEnd()}};function X(yt,wt){var mt=k(yt,wt);e(yt=mt[0],wt=mt[1])&&T.point(yt,wt)}function re(yt,wt){var mt=k(yt,wt);j.point(mt[0],mt[1])}function fe(){H.point=re,j.lineStart()}function _e(){H.point=X,j.lineEnd()}var Re,Me,$e,Xe=go(),Se=a(Xe),Ie=!1;function Ne(yt,wt){$e.push([yt,wt]);var mt=k(yt,wt);Se.point(mt[0],mt[1])}function Ke(){Se.lineStart(),$e=[]}function Tt(){Ne($e[0][0],$e[0][1]),Se.lineEnd();var mt,yt=Se.clean(),wt=Xe.buffer(),Xt=wt.length;if($e.pop(),Me.push($e),$e=null,Xt){if(1&yt){var In,nn=-1;if((Xt=(mt=wt[0]).length-1)>0){for(Ie||(T.polygonStart(),Ie=!0),T.lineStart();++nn<Xt;)T.point((In=mt[nn])[0],In[1]);T.lineEnd()}return}Xt>1&&2&yt&&wt.push(wt.pop().concat(wt.shift())),Re.push(wt.filter(po))}}return H}}function po(e){return e.length>1}function go(){var a,e=[];return{lineStart:function(){e.push(a=[])},point:function(m,w){a.push([m,w])},lineEnd:se,buffer:function(){var m=e;return e=[],a=null,m},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Po(e,a){return((e=e.x)[0]<0?e[1]-Je-jt:Je-e[1])-((a=a.x)[0]<0?a[1]-Je-jt:Je-a[1])}var Vo=Bo(eo,function ko(e){var k,a=NaN,m=NaN,w=NaN;return{lineStart:function(){e.lineStart(),k=1},point:function(T,j){var N=T>0?ge:-ge,H=c(T-a);c(H-ge)<jt?(e.point(a,m=(m+j)/2>0?Je:-Je),e.point(w,m),e.lineEnd(),e.lineStart(),e.point(N,m),e.point(T,m),k=0):w!==N&&H>=ge&&(c(a-w)<jt&&(a-=w*jt),c(T-N)<jt&&(T-=N*jt),m=function Go(e,a,m,w){var k,T,j=Math.sin(e-m);return c(j)>jt?Math.atan((Math.sin(a)*(T=Math.cos(w))*Math.sin(m)-Math.sin(w)*(k=Math.cos(a))*Math.sin(e))/(k*T*j)):(a+w)/2}(a,m,T,j),e.point(w,m),e.lineEnd(),e.lineStart(),e.point(N,m),k=0),e.point(a=T,m=j),w=N},lineEnd:function(){e.lineEnd(),a=m=NaN},clean:function(){return 2-k}}},function Ho(e,a,m,w){var k;if(null==e)w.point(-ge,k=m*Je),w.point(0,k),w.point(ge,k),w.point(ge,0),w.point(ge,-k),w.point(0,-k),w.point(-ge,-k),w.point(-ge,0),w.point(-ge,k);else if(c(e[0]-a[0])>jt){var T=e[0]<a[0]?ge:-ge;w.point(-T,k=m*T/2),w.point(0,k),w.point(T,k)}else w.point(a[0],a[1])},[-ge,-ge/2]);function to(e){var a=Math.cos(e),m=a>0,w=c(a)>jt;return Bo(T,function j(X){var re,fe,_e,Re,Xe;return{lineStart:function(){Re=_e=!1,Xe=1},point:function(Se,Ie){var $e,Me=[Se,Ie],Ne=T(Se,Ie),Ke=m?Ne?0:H(Se,Ie):Ne?H(Se+(Se<0?ge:-ge),Ie):0;if(!re&&(Re=_e=Ne)&&X.lineStart(),Ne!==_e&&($e=N(re,Me),(Zi(re,$e)||Zi(Me,$e))&&(Me[0]+=jt,Me[1]+=jt,Ne=T(Me[0],Me[1]))),Ne!==_e)Xe=0,Ne?(X.lineStart(),$e=N(Me,re),X.point($e[0],$e[1])):($e=N(re,Me),X.point($e[0],$e[1]),X.lineEnd()),re=$e;else if(w&&re&&m^Ne){var Tt;!(Ke&fe)&&(Tt=N(Me,re,!0))&&(Xe=0,m?(X.lineStart(),X.point(Tt[0][0],Tt[0][1]),X.point(Tt[1][0],Tt[1][1]),X.lineEnd()):(X.point(Tt[1][0],Tt[1][1]),X.lineEnd(),X.lineStart(),X.point(Tt[0][0],Tt[0][1])))}Ne&&(!re||!Zi(re,Me))&&X.point(Me[0],Me[1]),re=Me,_e=Ne,fe=Ke},lineEnd:function(){_e&&X.lineEnd(),re=null},clean:function(){return Xe|(Re&&_e)<<1}}},Tr(e,6*Qe),m?[0,-e]:[-ge,e-ge]);function T(X,re){return Math.cos(X)*Math.cos(re)>a}function N(X,re,fe){var Xe=[1,0,0],Se=Kr(Wr(X),Wr(re)),Ie=gi(Se,Se),Me=Se[0],$e=Ie-Me*Me;if(!$e)return!fe&&X;var Ne=a*Ie/$e,Ke=-a*Me/$e,Tt=Kr(Xe,Se),yt=ki(Xe,Ne);no(yt,ki(Se,Ke));var mt=Tt,Xt=gi(yt,mt),nn=gi(mt,mt),In=Xt*Xt-nn*(gi(yt,yt)-1);if(!(In<0)){var bn=Math.sqrt(In),An=ki(mt,(-Xt-bn)/nn);if(no(An,yt),An=ui(An),!fe)return An;var fn,Rt=X[0],Jt=re[0],pn=X[1],Pt=re[1];Jt<Rt&&(fn=Rt,Rt=Jt,Jt=fn);var zn=Jt-Rt,Jn=c(zn-ge)<jt;if(!Jn&&Pt<pn&&(fn=pn,pn=Pt,Pt=fn),Jn||zn<jt?Jn?pn+Pt>0^An[1]<(c(An[0]-Rt)<jt?pn:Pt):pn<=An[1]&&An[1]<=Pt:zn>ge^(Rt<=An[0]&&An[0]<=Jt)){var Rr=ki(mt,(-Xt+bn)/nn);return no(Rr,yt),[An,ui(Rr)]}}}function H(X,re){var fe=m?e:ge-e,_e=0;return X<-fe?_e|=1:X>fe&&(_e|=2),re<-fe?_e|=4:re>fe&&(_e|=8),_e}}function Ao(e,a,m,w){return function(k){var Se,T=k.a,j=k.b,N=T.x,H=T.y,fe=0,_e=1,Re=j.x-N,Xe=j.y-H;if(Se=e-N,Re||!(Se>0)){if(Se/=Re,Re<0){if(Se<fe)return;Se<_e&&(_e=Se)}else if(Re>0){if(Se>_e)return;Se>fe&&(fe=Se)}if(Se=m-N,Re||!(Se<0)){if(Se/=Re,Re<0){if(Se>_e)return;Se>fe&&(fe=Se)}else if(Re>0){if(Se<fe)return;Se<_e&&(_e=Se)}if(Se=a-H,Xe||!(Se>0)){if(Se/=Xe,Xe<0){if(Se<fe)return;Se<_e&&(_e=Se)}else if(Xe>0){if(Se>_e)return;Se>fe&&(fe=Se)}if(Se=w-H,Xe||!(Se<0)){if(Se/=Xe,Xe<0){if(Se>_e)return;Se>fe&&(fe=Se)}else if(Xe>0){if(Se<fe)return;Se<_e&&(_e=Se)}return fe>0&&(k.a={x:N+fe*Re,y:H+fe*Xe}),_e<1&&(k.b={x:N+_e*Re,y:H+_e*Xe}),k}}}}}}var Co=1e9;function To(e,a,m,w){return function(N){var fe,_e,Re,Ne,Ke,Tt,yt,wt,mt,Xt,nn,H=N,X=go(),re=Ao(e,a,m,w),Xe={point:$e,lineStart:function In(){Xe.point=An,_e&&_e.push(Re=[]),Xt=!0,mt=!1,yt=wt=NaN},lineEnd:function bn(){fe&&(An(Ne,Ke),Tt&&mt&&X.rejoin(),fe.push(X.buffer())),Xe.point=$e,mt&&N.lineEnd()},polygonStart:function(){N=X,fe=[],_e=[],nn=!0},polygonEnd:function(){N=H,fe=V.merge(fe);var Rt=function Se(Rt){for(var Jt=0,pn=_e.length,Pt=Rt[1],fn=0;fn<pn;++fn)for(var Ur,zn=1,Jn=_e[fn],hr=Jn.length,Rr=Jn[0];zn<hr;++zn)Ur=Jn[zn],Rr[1]<=Pt?Ur[1]>Pt&&Ot(Rr,Ur,Rt)>0&&++Jt:Ur[1]<=Pt&&Ot(Rr,Ur,Rt)<0&&--Jt,Rr=Ur;return 0!==Jt}([e,w]),Jt=nn&&Rt,pn=fe.length;(Jt||pn)&&(N.polygonStart(),Jt&&(N.lineStart(),Ie(null,null,1,N),N.lineEnd()),pn&&Oi(fe,T,Rt,Ie,N),N.polygonEnd()),fe=_e=Re=null}};function Ie(Rt,Jt,pn,Pt){var fn=0,zn=0;if(null==Rt||(fn=k(Rt,pn))!==(zn=k(Jt,pn))||j(Rt,Jt)<0^pn>0)do{Pt.point(0===fn||3===fn?e:m,fn>1?w:a)}while((fn=(fn+pn+4)%4)!==zn);else Pt.point(Jt[0],Jt[1])}function Me(Rt,Jt){return e<=Rt&&Rt<=m&&a<=Jt&&Jt<=w}function $e(Rt,Jt){Me(Rt,Jt)&&N.point(Rt,Jt)}function An(Rt,Jt){var pn=Me(Rt=Math.max(-Co,Math.min(Co,Rt)),Jt=Math.max(-Co,Math.min(Co,Jt)));if(_e&&Re.push([Rt,Jt]),Xt)Ne=Rt,Ke=Jt,Tt=pn,Xt=!1,pn&&(N.lineStart(),N.point(Rt,Jt));else if(pn&&mt)N.point(Rt,Jt);else{var Pt={a:{x:yt,y:wt},b:{x:Rt,y:Jt}};re(Pt)?(mt||(N.lineStart(),N.point(Pt.a.x,Pt.a.y)),N.point(Pt.b.x,Pt.b.y),pn||N.lineEnd(),nn=!1):pn&&(N.lineStart(),N.point(Rt,Jt),nn=!1)}yt=Rt,wt=Jt,mt=pn}return Xe};function k(N,H){return c(N[0]-e)<jt?H>0?0:3:c(N[0]-m)<jt?H>0?2:1:c(N[1]-a)<jt?H>0?1:0:H>0?3:2}function T(N,H){return j(N.x,H.x)}function j(N,H){var X=k(N,1),re=k(H,1);return X!==re?X-re:0===X?H[1]-N[1]:1===X?N[0]-H[0]:2===X?N[1]-H[1]:H[0]-N[0]}}function Oo(e){var a=0,m=ge/3,w=ar(e),k=w(a,m);return k.parallels=function(T){return arguments.length?w(a=T[0]*ge/180,m=T[1]*ge/180):[a/ge*180,m/ge*180]},k}function mo(e,a){var m=Math.sin(e),w=(m+Math.sin(a))/2,k=1+m*(2*w-m),T=Math.sqrt(k)/w;function j(N,H){var X=Math.sqrt(k-2*w*Math.sin(H))/w;return[X*Math.sin(N*=w),T-X*Math.cos(N)]}return j.invert=function(N,H){var X=T-H;return[Math.atan2(N,X)/w,tn((k-(N*N+X*X)*w*w)/(2*w))]},j}V.geo.clipExtent=function(){var e,a,m,w,k,T,j={stream:function(N){return k&&(k.valid=!1),(k=T(N)).valid=!0,k},extent:function(N){return arguments.length?(T=To(e=+N[0][0],a=+N[0][1],m=+N[1][0],w=+N[1][1]),k&&(k.valid=!1,k=null),j):[[e,a],[m,w]]}};return j.extent([[0,0],[960,500]])},(V.geo.conicEqualArea=function(){return Oo(mo)}).raw=mo,V.geo.albers=function(){return V.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},V.geo.albersUsa=function(){var w,T,j,N,e=V.geo.albers(),a=V.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),m=V.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),k={point:function(X,re){w=[X,re]}};function H(X){var re=X[0],fe=X[1];return w=null,T(re,fe),w||(j(re,fe),w)||N(re,fe),w}return H.invert=function(X){var re=e.scale(),fe=e.translate(),_e=(X[0]-fe[0])/re,Re=(X[1]-fe[1])/re;return(Re>=.12&&Re<.234&&_e>=-.425&&_e<-.214?a:Re>=.166&&Re<.234&&_e>=-.214&&_e<-.115?m:e).invert(X)},H.stream=function(X){var re=e.stream(X),fe=a.stream(X),_e=m.stream(X);return{point:function(Re,Xe){re.point(Re,Xe),fe.point(Re,Xe),_e.point(Re,Xe)},sphere:function(){re.sphere(),fe.sphere(),_e.sphere()},lineStart:function(){re.lineStart(),fe.lineStart(),_e.lineStart()},lineEnd:function(){re.lineEnd(),fe.lineEnd(),_e.lineEnd()},polygonStart:function(){re.polygonStart(),fe.polygonStart(),_e.polygonStart()},polygonEnd:function(){re.polygonEnd(),fe.polygonEnd(),_e.polygonEnd()}}},H.precision=function(X){return arguments.length?(e.precision(X),a.precision(X),m.precision(X),H):e.precision()},H.scale=function(X){return arguments.length?(e.scale(X),a.scale(.35*X),m.scale(X),H.translate(e.translate())):e.scale()},H.translate=function(X){if(!arguments.length)return e.translate();var re=e.scale(),fe=+X[0],_e=+X[1];return T=e.translate(X).clipExtent([[fe-.455*re,_e-.238*re],[fe+.455*re,_e+.238*re]]).stream(k).point,j=a.translate([fe-.307*re,_e+.201*re]).clipExtent([[fe-.425*re+jt,_e+.12*re+jt],[fe-.214*re-jt,_e+.234*re-jt]]).stream(k).point,N=m.translate([fe-.205*re,_e+.212*re]).clipExtent([[fe-.214*re+jt,_e+.166*re+jt],[fe-.115*re-jt,_e+.234*re-jt]]).stream(k).point,H},H.scale(1070)};var No,vo,Ti={point:se,lineStart:se,lineEnd:se,polygonStart:function(){vo=0,Ti.lineStart=Do},polygonEnd:function(){Ti.lineStart=Ti.lineEnd=Ti.point=se,No+=c(vo/2)}};function Do(){var e,a,m,w;function k(T,j){vo+=w*T-m*j,m=T,w=j}Ti.point=function(T,j){Ti.point=k,e=m=T,a=w=j},Ti.lineEnd=function(){k(e,a)}}var zo,Io,Wi,Ee,D={point:function te(e,a){e<zo&&(zo=e),e>Wi&&(Wi=e),a<Io&&(Io=a),a>Ee&&(Ee=a)},lineStart:se,lineEnd:se,polygonStart:se,polygonEnd:se};function Be(){var e=tt(4.5),a=[],m={point:w,lineStart:function(){m.point=k},lineEnd:j,polygonStart:function(){m.lineEnd=N},polygonEnd:function(){m.lineEnd=j,m.point=w},pointRadius:function(H){return e=tt(H),m},result:function(){if(a.length){var H=a.join("");return a=[],H}}};function w(H,X){a.push("M",H,",",X,e)}function k(H,X){a.push("M",H,",",X),m.point=T}function T(H,X){a.push("L",H,",",X)}function j(){m.point=w}function N(){a.push("Z")}return m}function tt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var lt={point:Mt,lineStart:mn,lineEnd:Tn,polygonStart:function(){lt.lineStart=Hn},polygonEnd:function(){lt.point=Mt,lt.lineStart=mn,lt.lineEnd=Tn}};function Mt(e,a){Ai+=e,Pi+=a,++mi}function mn(){var e,a;function m(w,k){var T=w-e,j=k-a,N=Math.sqrt(T*T+j*j);_i+=N*(e+w)/2,Ci+=N*(a+k)/2,Hi+=N,Mt(e=w,a=k)}lt.point=function(w,k){lt.point=m,Mt(e=w,a=k)}}function Tn(){lt.point=Mt}function Hn(){var e,a,m,w;function k(T,j){var N=T-m,H=j-w,X=Math.sqrt(N*N+H*H);_i+=X*(m+T)/2,Ci+=X*(w+j)/2,Hi+=X,Qi+=(X=w*T-m*j)*(m+T),$i+=X*(w+j),bi+=3*X,Mt(m=T,w=j)}lt.point=function(T,j){lt.point=k,Mt(e=m=T,a=w=j)},lt.lineEnd=function(){k(e,a)}}function Vn(e){var a=4.5,m={point:w,lineStart:function(){m.point=k},lineEnd:j,polygonStart:function(){m.lineEnd=N},polygonEnd:function(){m.lineEnd=j,m.point=w},pointRadius:function(H){return a=H,m},result:se};function w(H,X){e.moveTo(H+a,X),e.arc(H,X,a,0,Le)}function k(H,X){e.moveTo(H,X),m.point=T}function T(H,X){e.lineTo(H,X)}function j(){m.point=w}function N(){e.closePath()}return m}function Rn(e){var a=.5,m=Math.cos(30*Qe),w=16;function k(H){return(w?j:T)(H)}function T(H){return rr(H,function(X,re){X=e(X,re),H.point(X[0],X[1])})}function j(H){var X,fe,_e,Re,Xe,Se,Ie,Me,$e,Ne,Ke,Tt,yt={point:wt,lineStart:mt,lineEnd:nn,polygonStart:function(){H.polygonStart(),yt.lineStart=In},polygonEnd:function(){H.polygonEnd(),yt.lineStart=mt}};function wt(Rt,Jt){Rt=e(Rt,Jt),H.point(Rt[0],Rt[1])}function mt(){Me=NaN,yt.point=Xt,H.lineStart()}function Xt(Rt,Jt){var pn=Wr([Rt,Jt]),Pt=e(Rt,Jt);N(Me,$e,Ie,Ne,Ke,Tt,Me=Pt[0],$e=Pt[1],Ie=Rt,Ne=pn[0],Ke=pn[1],Tt=pn[2],w,H),H.point(Me,$e)}function nn(){yt.point=wt,H.lineEnd()}function In(){mt(),yt.point=bn,yt.lineEnd=An}function bn(Rt,Jt){Xt(X=Rt,Jt),fe=Me,_e=$e,Re=Ne,Xe=Ke,Se=Tt,yt.point=Xt}function An(){N(Me,$e,Ie,Ne,Ke,Tt,fe,_e,X,Re,Xe,Se,w,H),yt.lineEnd=nn,nn()}return yt}function N(H,X,re,fe,_e,Re,Xe,Se,Ie,Me,$e,Ne,Ke,Tt){var yt=Xe-H,wt=Se-X,mt=yt*yt+wt*wt;if(mt>4*a&&Ke--){var Xt=fe+Me,nn=_e+$e,In=Re+Ne,bn=Math.sqrt(Xt*Xt+nn*nn+In*In),An=Math.asin(In/=bn),Rt=c(c(In)-1)<jt||c(re-Ie)<jt?(re+Ie)/2:Math.atan2(nn,Xt),Jt=e(Rt,An),pn=Jt[0],Pt=Jt[1],fn=pn-H,zn=Pt-X,Jn=wt*fn-yt*zn;(Jn*Jn/mt>a||c((yt*fn+wt*zn)/mt-.5)>.3||fe*Me+_e*$e+Re*Ne<m)&&(N(H,X,re,fe,_e,Re,pn,Pt,Rt,Xt/=bn,nn/=bn,In,Ke,Tt),Tt.point(pn,Pt),N(pn,Pt,Rt,Xt,nn,In,Xe,Se,Ie,Me,$e,Ne,Ke,Tt))}}return k.precision=function(H){return arguments.length?(w=(a=H*H)>0&&16,k):Math.sqrt(a)},k}function pr(e){var a=Rn(function(m,w){return e([m*ht,w*ht])});return function(m){return Lr(a(m))}}function nr(e){this.stream=e}function rr(e,a){return{point:a,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function er(e){return ar(function(){return e})()}function ar(e){var a,m,w,Re,Xe,Ne,k=Rn(function(mt,Xt){return[(mt=a(mt,Xt))[0]*T+Re,Xe-mt[1]*T]}),T=150,j=480,N=250,H=0,X=0,re=0,fe=0,_e=0,Se=Vo,Ie=R,Me=null,$e=null;function Ke(mt){return[(mt=w(mt[0]*Qe,mt[1]*Qe))[0]*T+Re,Xe-mt[1]*T]}function Tt(mt){return(mt=w.invert((mt[0]-Re)/T,(Xe-mt[1])/T))&&[mt[0]*ht,mt[1]*ht]}function yt(){w=Eo(m=_r(re,fe,_e),a);var mt=a(H,X);return Re=j-mt[0]*T,Xe=N+mt[1]*T,wt()}function wt(){return Ne&&(Ne.valid=!1,Ne=null),Ke}return Ke.stream=function(mt){return Ne&&(Ne.valid=!1),(Ne=Lr(Se(m,k(Ie(mt))))).valid=!0,Ne},Ke.clipAngle=function(mt){return arguments.length?(Se=null==mt?(Me=mt,Vo):to((Me=+mt)*Qe),wt()):Me},Ke.clipExtent=function(mt){return arguments.length?($e=mt,Ie=mt?To(mt[0][0],mt[0][1],mt[1][0],mt[1][1]):R,wt()):$e},Ke.scale=function(mt){return arguments.length?(T=+mt,yt()):T},Ke.translate=function(mt){return arguments.length?(j=+mt[0],N=+mt[1],yt()):[j,N]},Ke.center=function(mt){return arguments.length?(H=mt[0]%360*Qe,X=mt[1]%360*Qe,yt()):[H*ht,X*ht]},Ke.rotate=function(mt){return arguments.length?(re=mt[0]%360*Qe,fe=mt[1]%360*Qe,_e=mt.length>2?mt[2]%360*Qe:0,yt()):[re*ht,fe*ht,_e*ht]},V.rebind(Ke,k,"precision"),function(){return a=e.apply(this,arguments),Ke.invert=a.invert&&Tt,yt()}}function Lr(e){return rr(e,function(a,m){e.point(a*Qe,m*Qe)})}function mr(e,a){return[e,a]}function fr(e,a){return[e>ge?e-Le:e<-ge?e+Le:e,a]}function _r(e,a,m){return e?a||m?Eo(wr(e),Ir(a,m)):wr(e):a||m?Ir(a,m):fr}function br(e){return function(a,m){return[(a+=e)>ge?a-Le:a<-ge?a+Le:a,m]}}function wr(e){var a=br(e);return a.invert=br(-e),a}function Ir(e,a){var m=Math.cos(e),w=Math.sin(e),k=Math.cos(a),T=Math.sin(a);function j(N,H){var X=Math.cos(H),re=Math.cos(N)*X,fe=Math.sin(N)*X,_e=Math.sin(H),Re=_e*m+re*w;return[Math.atan2(fe*k-Re*T,re*m-_e*w),tn(Re*k+fe*T)]}return j.invert=function(N,H){var X=Math.cos(H),re=Math.cos(N)*X,fe=Math.sin(N)*X,_e=Math.sin(H),Re=_e*k-fe*T;return[Math.atan2(fe*k+_e*T,re*m+Re*w),tn(Re*m-re*w)]},j}function Tr(e,a){var m=Math.cos(e),w=Math.sin(e);return function(k,T,j,N){var H=j*a;null!=k?(k=Dr(m,k),T=Dr(m,T),(j>0?k<T:k>T)&&(k+=j*Le)):(k=e+j*Le,T=e-.5*H);for(var X,re=k;j>0?re>T:re<T;re-=H)N.point((X=ui([m,-w*Math.cos(re),-w*Math.sin(re)]))[0],X[1])}}function Dr(e,a){var m=Wr(a);m[0]-=e,ti(m);var w=Vt(-m[1]);return((-m[2]<0?-w:w)+2*Math.PI-jt)%(2*Math.PI)}function Zr(e,a,m){var w=V.range(e,a-jt,m).concat(a);return function(k){return w.map(function(T){return[k,T]})}}function oi(e,a,m){var w=V.range(e,a-jt,m).concat(a);return function(k){return w.map(function(T){return[T,k]})}}function vi(e){return e.source}function Fr(e){return e.target}V.geo.path=function(){var a,m,w,k,T,e=4.5;function j(H){return H&&("function"==typeof e&&k.pointRadius(+e.apply(this,arguments)),(!T||!T.valid)&&(T=w(k)),V.geo.stream(H,T)),k.result()}function N(){return T=null,j}return j.area=function(H){return No=0,V.geo.stream(H,w(Ti)),No},j.centroid=function(H){return Ai=Pi=mi=_i=Ci=Hi=Qi=$i=bi=0,V.geo.stream(H,w(lt)),bi?[Qi/bi,$i/bi]:Hi?[_i/Hi,Ci/Hi]:mi?[Ai/mi,Pi/mi]:[NaN,NaN]},j.bounds=function(H){return Wi=Ee=-(zo=Io=1/0),V.geo.stream(H,w(D)),[[zo,Io],[Wi,Ee]]},j.projection=function(H){return arguments.length?(w=(a=H)?H.stream||pr(H):R,N()):a},j.context=function(H){return arguments.length?(k=null==(m=H)?new Be:new Vn(H),"function"!=typeof e&&k.pointRadius(e),N()):m},j.pointRadius=function(H){return arguments.length?(e="function"==typeof H?H:(k.pointRadius(+H),+H),j):e},j.projection(V.geo.albersUsa()).context(null)},V.geo.transform=function(e){return{stream:function(a){var m=new nr(a);for(var w in e)m[w]=e[w];return m}}},nr.prototype={point:function(e,a){this.stream.point(e,a)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},V.geo.projection=er,V.geo.projectionMutator=ar,(V.geo.equirectangular=function(){return er(mr)}).raw=mr.invert=mr,V.geo.rotation=function(e){function a(m){return(m=e(m[0]*Qe,m[1]*Qe))[0]*=ht,m[1]*=ht,m}return e=_r(e[0]%360*Qe,e[1]*Qe,e.length>2?e[2]*Qe:0),a.invert=function(m){return(m=e.invert(m[0]*Qe,m[1]*Qe))[0]*=ht,m[1]*=ht,m},a},fr.invert=mr,V.geo.circle=function(){var a,w,e=[0,0],m=6;function k(){var T="function"==typeof e?e.apply(this,arguments):e,j=_r(-T[0]*Qe,-T[1]*Qe,0).invert,N=[];return w(null,null,1,{point:function(H,X){N.push(H=j(H,X)),H[0]*=ht,H[1]*=ht}}),{type:"Polygon",coordinates:[N]}}return k.origin=function(T){return arguments.length?(e=T,k):e},k.angle=function(T){return arguments.length?(w=Tr((a=+T)*Qe,m*Qe),k):a},k.precision=function(T){return arguments.length?(w=Tr(a*Qe,(m=+T)*Qe),k):m},k.angle(90)},V.geo.distance=function(e,a){var fe,m=(a[0]-e[0])*Qe,w=e[1]*Qe,k=a[1]*Qe,T=Math.sin(m),j=Math.cos(m),N=Math.sin(w),H=Math.cos(w),X=Math.sin(k),re=Math.cos(k);return Math.atan2(Math.sqrt((fe=re*T)*fe+(fe=H*X-N*re*j)*fe),N*X+H*re*j)},V.geo.graticule=function(){var e,a,m,w,k,T,j,N,_e,Re,Xe,Se,H=10,X=H,re=90,fe=360,Ie=2.5;function Me(){return{type:"MultiLineString",coordinates:$e()}}function $e(){return V.range(Math.ceil(w/re)*re,m,re).map(Xe).concat(V.range(Math.ceil(N/fe)*fe,j,fe).map(Se)).concat(V.range(Math.ceil(a/H)*H,e,H).filter(function(Ne){return c(Ne%re)>jt}).map(_e)).concat(V.range(Math.ceil(T/X)*X,k,X).filter(function(Ne){return c(Ne%fe)>jt}).map(Re))}return Me.lines=function(){return $e().map(function(Ne){return{type:"LineString",coordinates:Ne}})},Me.outline=function(){return{type:"Polygon",coordinates:[Xe(w).concat(Se(j).slice(1),Xe(m).reverse().slice(1),Se(N).reverse().slice(1))]}},Me.extent=function(Ne){return arguments.length?Me.majorExtent(Ne).minorExtent(Ne):Me.minorExtent()},Me.majorExtent=function(Ne){return arguments.length?(N=+Ne[0][1],j=+Ne[1][1],(w=+Ne[0][0])>(m=+Ne[1][0])&&(Ne=w,w=m,m=Ne),N>j&&(Ne=N,N=j,j=Ne),Me.precision(Ie)):[[w,N],[m,j]]},Me.minorExtent=function(Ne){return arguments.length?(T=+Ne[0][1],k=+Ne[1][1],(a=+Ne[0][0])>(e=+Ne[1][0])&&(Ne=a,a=e,e=Ne),T>k&&(Ne=T,T=k,k=Ne),Me.precision(Ie)):[[a,T],[e,k]]},Me.step=function(Ne){return arguments.length?Me.majorStep(Ne).minorStep(Ne):Me.minorStep()},Me.majorStep=function(Ne){return arguments.length?(re=+Ne[0],fe=+Ne[1],Me):[re,fe]},Me.minorStep=function(Ne){return arguments.length?(H=+Ne[0],X=+Ne[1],Me):[H,X]},Me.precision=function(Ne){return arguments.length?(Ie=+Ne,_e=Zr(T,k,90),Re=oi(a,e,Ie),Xe=Zr(N,j,90),Se=oi(w,m,Ie),Me):Ie},Me.majorExtent([[-180,-90+jt],[180,90-jt]]).minorExtent([[-180,-80-jt],[180,80+jt]])},V.geo.greatArc=function(){var a,w,e=vi,m=Fr;function k(){return{type:"LineString",coordinates:[a||e.apply(this,arguments),w||m.apply(this,arguments)]}}return k.distance=function(){return V.geo.distance(a||e.apply(this,arguments),w||m.apply(this,arguments))},k.source=function(T){return arguments.length?(e=T,a="function"==typeof T?null:T,k):e},k.target=function(T){return arguments.length?(m=T,w="function"==typeof T?null:T,k):m},k.precision=function(){return arguments.length?k:0},k},V.geo.interpolate=function(e,a){return function so(e,a,m,w){var k=Math.cos(a),T=Math.sin(a),j=Math.cos(w),N=Math.sin(w),H=k*Math.cos(e),X=k*Math.sin(e),re=j*Math.cos(m),fe=j*Math.sin(m),_e=2*Math.asin(Math.sqrt(ke(w-a)+k*j*ke(m-e))),Re=1/Math.sin(_e),Xe=_e?function(Se){var Ie=Math.sin(Se*=_e)*Re,Me=Math.sin(_e-Se)*Re,$e=Me*H+Ie*re,Ne=Me*X+Ie*fe,Ke=Me*T+Ie*N;return[Math.atan2(Ne,$e)*ht,Math.atan2(Ke,Math.sqrt($e*$e+Ne*Ne))*ht]}:function(){return[e*ht,a*ht]};return Xe.distance=_e,Xe}(e[0]*Qe,e[1]*Qe,a[0]*Qe,a[1]*Qe)},V.geo.length=function(e){return Ni=0,V.geo.stream(e,li),Ni};var Ni,li={sphere:se,point:se,lineStart:function si(){var e,a,m;function w(k,T){var j=Math.sin(T*=Qe),N=Math.cos(T),H=c((k*=Qe)-e),X=Math.cos(H);Ni+=Math.atan2(Math.sqrt((H=N*Math.sin(H))*H+(H=m*j-a*N*X)*H),a*j+m*N*X),e=k,a=j,m=N}li.point=function(k,T){e=k*Qe,a=Math.sin(T*=Qe),m=Math.cos(T),li.point=w},li.lineEnd=function(){li.point=li.lineEnd=se}},lineEnd:se,polygonStart:se,polygonEnd:se};function Nr(e,a){function m(w,k){var T=Math.cos(w),j=Math.cos(k),N=e(T*j);return[N*j*Math.sin(w),N*Math.sin(k)]}return m.invert=function(w,k){var T=Math.sqrt(w*w+k*k),j=a(T),N=Math.sin(j),H=Math.cos(j);return[Math.atan2(w*N,T*H),Math.asin(T&&k*N/T)]},m}var ao=Nr(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(V.geo.azimuthalEqualArea=function(){return er(ao)}).raw=ao;var be=Nr(function(e){var a=Math.acos(e);return a&&a/Math.sin(a)},R);function Oe(e,a){var m=Math.cos(e),w=function(N){return Math.tan(ge/4+N/2)},k=e===a?Math.sin(e):Math.log(m/Math.cos(a))/Math.log(w(a)/w(e)),T=m*Math.pow(w(e),k)/k;if(!k)return Lt;function j(N,H){T>0?H<-Je+jt&&(H=-Je+jt):H>Je-jt&&(H=Je-jt);var X=T/Math.pow(w(H),k);return[X*Math.sin(k*N),T-X*Math.cos(k*N)]}return j.invert=function(N,H){var X=T-H,re=sn(k)*Math.sqrt(N*N+X*X);return[Math.atan2(N,X)/k,2*Math.atan(Math.pow(T/re,1/k))-Je]},j}function Ze(e,a){var m=Math.cos(e),w=e===a?Math.sin(e):(m-Math.cos(a))/(a-e),k=m/w+e;if(c(w)<jt)return mr;function T(j,N){var H=k-N;return[H*Math.sin(w*j),k-H*Math.cos(w*j)]}return T.invert=function(j,N){var H=k-N;return[Math.atan2(j,H)/w,k-sn(w)*Math.sqrt(j*j+H*H)]},T}(V.geo.azimuthalEquidistant=function(){return er(be)}).raw=be,(V.geo.conicConformal=function(){return Oo(Oe)}).raw=Oe,(V.geo.conicEquidistant=function(){return Oo(Ze)}).raw=Ze;var ft=Nr(function(e){return 1/e},Math.atan);function Lt(e,a){return[e,Math.log(Math.tan(ge/4+a/2))]}function Bt(e){var T,a=er(e),m=a.scale,w=a.translate,k=a.clipExtent;return a.scale=function(){var j=m.apply(a,arguments);return j===a?T?a.clipExtent(null):a:j},a.translate=function(){var j=w.apply(a,arguments);return j===a?T?a.clipExtent(null):a:j},a.clipExtent=function(j){var N=k.apply(a,arguments);if(N===a){if(T=null==j){var H=ge*m(),X=w();k([[X[0]-H,X[1]-H],[X[0]+H,X[1]+H]])}}else T&&(N=null);return N},a.clipExtent(null)}(V.geo.gnomonic=function(){return er(ft)}).raw=ft,Lt.invert=function(e,a){return[e,2*Math.atan(Math.exp(a))-Je]},(V.geo.mercator=function(){return Bt(Lt)}).raw=Lt;var un=Nr(function(){return 1},Math.asin);(V.geo.orthographic=function(){return er(un)}).raw=un;var yn=Nr(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});function Mn(e,a){return[Math.log(Math.tan(ge/4+a/2)),-e]}function Zn(e){return e[0]}function Ln(e){return e[1]}function or(e){for(var a=e.length,m=[0,1],w=2,k=2;k<a;k++){for(;w>1&&Ot(e[m[w-2]],e[m[w-1]],e[k])<=0;)--w;m[w++]=k}return m.slice(0,w)}function zr(e,a){return e[0]-a[0]||e[1]-a[1]}(V.geo.stereographic=function(){return er(yn)}).raw=yn,Mn.invert=function(e,a){return[-a,2*Math.atan(Math.exp(e))-Je]},(V.geo.transverseMercator=function(){var e=Bt(Mn),a=e.center,m=e.rotate;return e.center=function(w){return w?a([-w[1],w[0]]):[(w=a())[1],-w[0]]},e.rotate=function(w){return w?m([w[0],w[1],w.length>2?w[2]+90:90]):[(w=m())[0],w[1],w[2]-90]},m([0,0,90])}).raw=Mn,V.geom={},V.geom.hull=function(e){var a=Zn,m=Ln;if(arguments.length)return w(e);function w(k){if(k.length<3)return[];var N,T=vr(a),j=vr(m),H=k.length,X=[],re=[];for(N=0;N<H;N++)X.push([+T.call(this,k[N],N),+j.call(this,k[N],N),N]);for(X.sort(zr),N=0;N<H;N++)re.push([X[N][0],-X[N][1]]);var fe=or(X),_e=or(re),Re=_e[0]===fe[0],Xe=_e[_e.length-1]===fe[fe.length-1],Se=[];for(N=fe.length-1;N>=0;--N)Se.push(k[X[fe[N]][2]]);for(N=+Re;N<_e.length-Xe;++N)Se.push(k[X[_e[N]][2]]);return Se}return w.x=function(k){return arguments.length?(a=k,w):a},w.y=function(k){return arguments.length?(m=k,w):m},w},V.geom.polygon=function(e){return C(e,Jr),e};var Jr=V.geom.polygon.prototype=[];function Di(e,a,m){return(m[0]-a[0])*(e[1]-a[1])<(m[1]-a[1])*(e[0]-a[0])}function wi(e,a,m,w){var k=e[0],T=m[0],j=a[0]-k,N=w[0]-T,H=e[1],X=m[1],re=a[1]-H,fe=w[1]-X,_e=(N*(H-X)-fe*(k-T))/(fe*j-N*re);return[k+_e*j,H+_e*re]}function Ei(e){var a=e[0],m=e[e.length-1];return!(a[0]-m[0]||a[1]-m[1])}Jr.area=function(){for(var m,e=-1,a=this.length,w=this[a-1],k=0;++e<a;)k+=(m=w)[1]*(w=this[e])[0]-m[0]*w[1];return.5*k},Jr.centroid=function(e){var T,N,a=-1,m=this.length,w=0,k=0,j=this[m-1];for(arguments.length||(e=-1/(6*this.area()));++a<m;)w+=((T=j)[0]+(j=this[a])[0])*(N=T[0]*j[1]-j[0]*T[1]),k+=(T[1]+j[1])*N;return[w*e,k*e]},Jr.clip=function(e){for(var a,T,j,H,X,re,m=Ei(e),w=-1,k=this.length-Ei(this),N=this[k-1];++w<k;){for(a=e.slice(),e.length=0,H=this[w],X=a[(j=a.length-m)-1],T=-1;++T<j;)Di(re=a[T],N,H)?(Di(X,N,H)||e.push(wi(X,re,N,H)),e.push(re)):Di(X,N,H)&&e.push(wi(X,re,N,H)),X=re;m&&e.push(e[0]),N=H}return e};var yo,co,Br,ni,Ki,Gr=[],Uo=[];function ss(){vs(this),this.edge=this.site=this.circle=null}function Qo(e){var a=Gr.pop()||new ss;return a.site=e,a}function as(e){ts(e),Br.remove(e),Gr.push(e),vs(e)}function Ps(e){var a=e.circle,m=a.x,w=a.cy,k={x:m,y:w},T=e.P,j=e.N,N=[e];as(e);for(var H=T;H.circle&&c(m-H.circle.x)<jt&&c(w-H.circle.cy)<jt;)T=H.P,N.unshift(H),as(H),H=T;N.unshift(H),ts(H);for(var X=j;X.circle&&c(m-X.circle.x)<jt&&c(w-X.circle.cy)<jt;)j=X.N,N.push(X),as(X),X=j;N.push(X),ts(X);var fe,re=N.length;for(fe=1;fe<re;++fe)gs((X=N[fe]).edge,(H=N[fe-1]).site,X.site,k);(X=N[re-1]).edge=cs((H=N[0]).site,X.site,null,k),es(H),es(X)}function pc(e){for(var w,k,T,j,a=e.x,m=e.y,N=Br._;N;)if((T=ca(N,m)-a)>jt)N=N.L;else{if(!((j=a-gc(N,m))>jt)){T>-jt?(w=N.P,k=N):j>-jt?(w=N,k=N.N):w=k=N;break}if(!N.R){w=N;break}N=N.R}var H=Qo(e);if(Br.insert(w,H),w||k){if(w===k)return ts(w),k=Qo(w.site),Br.insert(H,k),H.edge=k.edge=cs(w.site,H.site),es(w),void es(k);if(!k)return void(H.edge=cs(w.site,H.site));ts(w),ts(k);var X=w.site,re=X.x,fe=X.y,_e=e.x-re,Re=e.y-fe,Xe=k.site,Se=Xe.x-re,Ie=Xe.y-fe,Me=2*(_e*Ie-Re*Se),$e=_e*_e+Re*Re,Ne=Se*Se+Ie*Ie,Ke={x:(Ie*$e-Re*Ne)/Me+re,y:(_e*Ne-Se*$e)/Me+fe};gs(k.edge,X,Xe,Ke),H.edge=cs(X,e,null,Ke),k.edge=cs(e,Xe,null,Ke),es(w),es(k)}}function ca(e,a){var m=e.site,w=m.x,k=m.y,T=k-a;if(!T)return w;var j=e.P;if(!j)return-1/0;var N=(m=j.site).x,H=m.y,X=H-a;if(!X)return N;var re=N-w,fe=1/T-1/X,_e=re/X;return fe?(-_e+Math.sqrt(_e*_e-2*fe*(re*re/(-2*X)-H+X/2+k-T/2)))/fe+w:(w+N)/2}function gc(e,a){var m=e.N;if(m)return ca(m,a);var w=e.site;return w.y===a?w.x:1/0}function ha(e){this.site=e,this.edges=[]}function ua(e,a){return a.angle-e.angle}function vc(){vs(this),this.x=this.y=this.arc=this.site=this.cy=null}function es(e){var a=e.P,m=e.N;if(a&&m){var w=a.site,k=e.site,T=m.site;if(w!==T){var j=k.x,N=k.y,H=w.x-j,X=w.y-N,re=T.x-j,fe=2*(H*(Ie=T.y-N)-X*re);if(!(fe>=-Kn)){var _e=H*H+X*X,Re=re*re+Ie*Ie,Xe=(Ie*_e-X*Re)/fe,Se=(H*Re-re*_e)/fe,Ie=Se+N,Me=Uo.pop()||new vc;Me.arc=e,Me.site=k,Me.x=Xe+j,Me.y=Ie+Math.sqrt(Xe*Xe+Se*Se),Me.cy=Ie,e.circle=Me;for(var $e=null,Ne=Ki._;Ne;)if(Me.y<Ne.y||Me.y===Ne.y&&Me.x<=Ne.x){if(!Ne.L){$e=Ne.P;break}Ne=Ne.L}else{if(!Ne.R){$e=Ne;break}Ne=Ne.R}Ki.insert($e,Me),$e||(ni=Me)}}}}function ts(e){var a=e.circle;a&&(a.P||(ni=a.N),Ki.remove(a),Uo.push(a),vs(a),e.circle=null)}function _c(e,a){var m=e.b;if(m)return!0;var Ie,Me,w=e.a,k=a[0][0],T=a[1][0],j=a[0][1],N=a[1][1],H=e.l,X=e.r,re=H.x,fe=H.y,_e=X.x,Re=X.y,Xe=(re+_e)/2;if(Re===fe){if(Xe<k||Xe>=T)return;if(re>_e){if(w){if(w.y>=N)return}else w={x:Xe,y:j};m={x:Xe,y:N}}else{if(w){if(w.y<j)return}else w={x:Xe,y:N};m={x:Xe,y:j}}}else if(Me=(fe+Re)/2-(Ie=(re-_e)/(Re-fe))*Xe,Ie<-1||Ie>1)if(re>_e){if(w){if(w.y>=N)return}else w={x:(j-Me)/Ie,y:j};m={x:(N-Me)/Ie,y:N}}else{if(w){if(w.y<j)return}else w={x:(N-Me)/Ie,y:N};m={x:(j-Me)/Ie,y:j}}else if(fe<Re){if(w){if(w.x>=T)return}else w={x:k,y:Ie*k+Me};m={x:T,y:Ie*T+Me}}else{if(w){if(w.x<k)return}else w={x:T,y:Ie*T+Me};m={x:k,y:Ie*k+Me}}return e.a=w,e.b=m,!0}function fa(e,a){this.l=e,this.r=a,this.a=this.b=null}function cs(e,a,m,w){var k=new fa(e,a);return yo.push(k),m&&gs(k,e,a,m),w&&gs(k,a,e,w),co[e.i].edges.push(new ms(k,e,a)),co[a.i].edges.push(new ms(k,a,e)),k}function bc(e,a,m){var w=new fa(e,null);return w.a=a,w.b=m,yo.push(w),w}function gs(e,a,m,w){e.a||e.b?e.l===m?e.b=w:e.a=w:(e.a=w,e.l=a,e.r=m)}function ms(e,a,m){var w=e.a,k=e.b;this.edge=e,this.site=a,this.angle=m?Math.atan2(m.y-a.y,m.x-a.x):e.l===a?Math.atan2(k.x-w.x,w.y-k.y):Math.atan2(w.x-k.x,k.y-w.y)}function Os(){this._=null}function vs(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function hs(e,a){var m=a,w=a.R,k=m.U;k?k.L===m?k.L=w:k.R=w:e._=w,w.U=k,m.U=w,m.R=w.L,m.R&&(m.R.U=m),w.L=m}function us(e,a){var m=a,w=a.L,k=m.U;k?k.L===m?k.L=w:k.R=w:e._=w,w.U=k,m.U=w,m.L=w.R,m.L&&(m.L.U=m),w.R=m}function la(e){for(;e.L;)e=e.L;return e}function Ns(e,a){var w,k,T,m=e.sort(wc).pop();for(yo=[],co=new Array(e.length),Br=new Os,Ki=new Os;;)if(T=ni,m&&(!T||m.y<T.y||m.y===T.y&&m.x<T.x))(m.x!==w||m.y!==k)&&(co[m.i]=new ha(m),pc(m),w=m.x,k=m.y),m=e.pop();else{if(!T)break;Ps(T.arc)}a&&(function yc(e){for(var k,a=yo,m=Ao(e[0][0],e[0][1],e[1][0],e[1][1]),w=a.length;w--;)(!_c(k=a[w],e)||!m(k)||c(k.a.x-k.b.x)<jt&&c(k.a.y-k.b.y)<jt)&&(k.a=k.b=null,a.splice(w,1))}(a),function mc(e){for(var T,j,N,H,fe,_e,Re,Xe,Se,Ie,a=e[0][0],m=e[1][0],w=e[0][1],k=e[1][1],X=co,re=X.length;re--;)if((fe=X[re])&&fe.prepare())for(Xe=(Re=fe.edges).length,_e=0;_e<Xe;)N=(Ie=Re[_e].end()).x,H=Ie.y,j=(Se=Re[++_e%Xe].start()).y,(c(N-(T=Se.x))>jt||c(H-j)>jt)&&(Re.splice(_e,0,new ms(bc(fe.site,Ie,c(N-a)<jt&&k-H>jt?{x:a,y:c(T-a)<jt?j:k}:c(H-k)<jt&&m-N>jt?{x:c(j-k)<jt?T:m,y:k}:c(N-m)<jt&&H-w>jt?{x:m,y:c(T-m)<jt?j:w}:c(H-w)<jt&&N-a>jt?{x:c(j-w)<jt?T:a,y:w}:null),fe.site,null)),++Xe)}(a));var j={cells:co,edges:yo};return Br=Ki=yo=co=null,j}function wc(e,a){return a.y-e.y||a.x-e.x}ha.prototype.prepare=function(){for(var m,e=this.edges,a=e.length;a--;)(!(m=e[a].edge).b||!m.a)&&e.splice(a,1);return e.sort(ua),e.length},ms.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Os.prototype={insert:function(e,a){var m,w,k;if(e){if(a.P=e,a.N=e.N,e.N&&(e.N.P=a),e.N=a,e.R){for(e=e.R;e.L;)e=e.L;e.L=a}else e.R=a;m=e}else this._?(e=la(this._),a.P=null,a.N=e,e.P=e.L=a,m=e):(a.P=a.N=null,this._=a,m=null);for(a.L=a.R=null,a.U=m,a.C=!0,e=a;m&&m.C;)m===(w=m.U).L?(k=w.R)&&k.C?(m.C=k.C=!1,w.C=!0,e=w):(e===m.R&&(hs(this,m),m=(e=m).U),m.C=!1,w.C=!0,us(this,w)):(k=w.L)&&k.C?(m.C=k.C=!1,w.C=!0,e=w):(e===m.L&&(us(this,m),m=(e=m).U),m.C=!1,w.C=!0,hs(this,w)),m=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var m,T,j,a=e.U,w=e.L,k=e.R;if(T=w?k?la(k):w:k,a?a.L===e?a.L=T:a.R=T:this._=T,w&&k?(j=T.C,T.C=e.C,T.L=w,w.U=T,T!==k?(a=T.U,T.U=e.U,a.L=e=T.R,T.R=k,k.U=T):(T.U=a,a=T,e=T.R)):(j=e.C,e=T),e&&(e.U=a),!j){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===a.L){if((m=a.R).C&&(m.C=!1,a.C=!0,hs(this,a),m=a.R),m.L&&m.L.C||m.R&&m.R.C){(!m.R||!m.R.C)&&(m.L.C=!1,m.C=!0,us(this,m),m=a.R),m.C=a.C,a.C=m.R.C=!1,hs(this,a),e=this._;break}}else if((m=a.L).C&&(m.C=!1,a.C=!0,us(this,a),m=a.L),m.L&&m.L.C||m.R&&m.R.C){(!m.L||!m.L.C)&&(m.R.C=!1,m.C=!0,hs(this,m),m=a.L),m.C=a.C,a.C=m.L.C=!1,us(this,a),e=this._;break}m.C=!0,e=a,a=a.U}while(!e.C);e&&(e.C=!1)}}},V.geom.voronoi=function(e){var a=Zn,m=Ln,w=a,k=m,T=ys;if(e)return j(e);function j(H){var X=new Array(H.length),re=T[0][0],fe=T[0][1],_e=T[1][0],Re=T[1][1];return Ns(N(H),T).cells.forEach(function(Xe,Se){var Ie=Xe.edges,Me=Xe.site;(X[Se]=Ie.length?Ie.map(function(Ne){var Ke=Ne.start();return[Ke.x,Ke.y]}):Me.x>=re&&Me.x<=_e&&Me.y>=fe&&Me.y<=Re?[[re,Re],[_e,Re],[_e,fe],[re,fe]]:[]).point=H[Se]}),X}function N(H){return H.map(function(X,re){return{x:Math.round(w(X,re)/jt)*jt,y:Math.round(k(X,re)/jt)*jt,i:re}})}return j.links=function(H){return Ns(N(H)).edges.filter(function(X){return X.l&&X.r}).map(function(X){return{source:H[X.l.i],target:H[X.r.i]}})},j.triangles=function(H){var X=[];return Ns(N(H)).cells.forEach(function(re,fe){for(var Me,_e=re.site,Re=re.edges.sort(ua),Xe=-1,Se=Re.length,$e=Re[Se-1].edge,Ne=$e.l===_e?$e.r:$e.l;++Xe<Se;)Me=Ne,Ne=($e=Re[Xe].edge).l===_e?$e.r:$e.l,fe<Me.i&&fe<Ne.i&&Ec(_e,Me,Ne)<0&&X.push([H[fe],H[Me.i],H[Ne.i]])}),X},j.x=function(H){return arguments.length?(w=vr(a=H),j):a},j.y=function(H){return arguments.length?(k=vr(m=H),j):m},j.clipExtent=function(H){return arguments.length?(T=null==H?ys:H,j):T===ys?null:T},j.size=function(H){return arguments.length?j.clipExtent(H&&[[0,0],H]):T===ys?null:T&&T[1]},j};var ys=[[-1e6,-1e6],[1e6,1e6]];function Ec(e,a,m){return(e.x-m.x)*(a.y-e.y)-(e.x-a.x)*(m.y-e.y)}function xc(e){return e.x}function Sc(e){return e.y}function fs(e,a,m,w,k,T){if(!e(a,m,w,k,T)){var j=.5*(m+k),N=.5*(w+T),H=a.nodes;H[0]&&fs(e,H[0],m,w,j,N),H[1]&&fs(e,H[1],j,w,k,N),H[2]&&fs(e,H[2],m,N,j,T),H[3]&&fs(e,H[3],j,N,k,T)}}function kc(e,a,m,w,k,T,j){var H,N=1/0;return function X(re,fe,_e,Re,Xe){if(!(fe>T||_e>j||Re<w||Xe<k)){if(Se=re.point){var Se,Ie=a-re.x,Me=m-re.y,$e=Ie*Ie+Me*Me;if($e<N){var Ne=Math.sqrt(N=$e);w=a-Ne,k=m-Ne,T=a+Ne,j=m+Ne,H=Se}}for(var Ke=re.nodes,Tt=.5*(fe+Re),yt=.5*(_e+Xe),Xt=(m>=yt)<<1|a>=Tt,nn=Xt+4;Xt<nn;++Xt)if(re=Ke[3&Xt])switch(3&Xt){case 0:X(re,fe,_e,Tt,yt);break;case 1:X(re,Tt,_e,Re,yt);break;case 2:X(re,fe,yt,Tt,Xe);break;case 3:X(re,Tt,yt,Re,Xe)}}}(e,w,k,T,j),H}function Ds(e,a){e=V.rgb(e),a=V.rgb(a);var m=e.r,w=e.g,k=e.b,T=a.r-m,j=a.g-w,N=a.b-k;return function(H){return"#"+Xr(Math.round(m+T*H))+Xr(Math.round(w+j*H))+Xr(Math.round(k+N*H))}}function pa(e,a){var k,m={},w={};for(k in e)k in a?m[k]=$o(e[k],a[k]):w[k]=e[k];for(k in a)k in e||(w[k]=a[k]);return function(T){for(k in m)w[k]=m[k](T);return w}}function Fo(e,a){return e=+e,a=+a,function(m){return e*(1-m)+a*m}}function ga(e,a){var w,k,T,m=zs.lastIndex=Us.lastIndex=0,j=-1,N=[],H=[];for(e+="",a+="";(w=zs.exec(e))&&(k=Us.exec(a));)(T=k.index)>m&&(T=a.slice(m,T),N[j]?N[j]+=T:N[++j]=T),(w=w[0])===(k=k[0])?N[j]?N[j]+=k:N[++j]=k:(N[++j]=null,H.push({i:j,x:Fo(w,k)})),m=Us.lastIndex;return m<a.length&&(T=a.slice(m),N[j]?N[j]+=T:N[++j]=T),N.length<2?H[0]?(a=H[0].x,function(X){return a(X)+""}):function(){return a}:(a=H.length,function(X){for(var fe,re=0;re<a;++re)N[(fe=H[re]).i]=fe.x(X);return N.join("")})}V.geom.delaunay=function(e){return V.geom.voronoi().triangles(e)},V.geom.quadtree=function(e,a,m,w,k){var N,T=Zn,j=Ln;if(N=arguments.length)return T=xc,j=Sc,3===N&&(k=m,w=a,m=a=0),H(e);function H(X){var re,Re,Xe,Se,Ie,Me,$e,Ne,Ke,fe=vr(T),_e=vr(j);if(null!=a)Me=a,$e=m,Ne=w,Ke=k;else if(Ne=Ke=-(Me=$e=1/0),Re=[],Xe=[],Ie=X.length,N)for(Se=0;Se<Ie;++Se)(re=X[Se]).x<Me&&(Me=re.x),re.y<$e&&($e=re.y),re.x>Ne&&(Ne=re.x),re.y>Ke&&(Ke=re.y),Re.push(re.x),Xe.push(re.y);else for(Se=0;Se<Ie;++Se){var Tt=+fe(re=X[Se],Se),yt=+_e(re,Se);Tt<Me&&(Me=Tt),yt<$e&&($e=yt),Tt>Ne&&(Ne=Tt),yt>Ke&&(Ke=yt),Re.push(Tt),Xe.push(yt)}var wt=Ne-Me,mt=Ke-$e;function Xt(bn,An,Rt,Jt,pn,Pt,fn,zn){if(!isNaN(Rt)&&!isNaN(Jt))if(bn.leaf){var Jn=bn.x,hr=bn.y;if(null!=Jn)if(c(Jn-Rt)+c(hr-Jt)<.01)nn(bn,An,Rt,Jt,pn,Pt,fn,zn);else{var Rr=bn.point;bn.x=bn.y=bn.point=null,nn(bn,Rr,Jn,hr,pn,Pt,fn,zn),nn(bn,An,Rt,Jt,pn,Pt,fn,zn)}else bn.x=Rt,bn.y=Jt,bn.point=An}else nn(bn,An,Rt,Jt,pn,Pt,fn,zn)}function nn(bn,An,Rt,Jt,pn,Pt,fn,zn){var Jn=.5*(pn+fn),hr=.5*(Pt+zn),Rr=Rt>=Jn,Ur=Jt>=hr,zi=Ur<<1|Rr;bn.leaf=!1,Rr?pn=Jn:fn=Jn,Ur?Pt=hr:zn=hr,Xt(bn=bn.nodes[zi]||(bn.nodes[zi]={leaf:!0,nodes:[],point:null,x:null,y:null}),An,Rt,Jt,pn,Pt,fn,zn)}wt>mt?Ke=$e+wt:Ne=Me+mt;var In={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(bn){Xt(In,bn,+fe(bn,++Se),+_e(bn,Se),Me,$e,Ne,Ke)},visit:function(bn){fs(bn,In,Me,$e,Ne,Ke)},find:function(bn){return kc(In,bn[0],bn[1],Me,$e,Ne,Ke)}};if(Se=-1,null==a){for(;++Se<Ie;)Xt(In,X[Se],Re[Se],Xe[Se],Me,$e,Ne,Ke);--Se}else X.forEach(In.add);return Re=Xe=X=re=null,In}return H.x=function(X){return arguments.length?(T=X,H):T},H.y=function(X){return arguments.length?(j=X,H):j},H.extent=function(X){return arguments.length?(null==X?a=m=w=k=null:(a=+X[0][0],m=+X[0][1],w=+X[1][0],k=+X[1][1]),H):null==a?null:[[a,m],[w,k]]},H.size=function(X){return arguments.length?(null==X?a=m=w=k=null:(a=m=0,w=+X[0],k=+X[1]),H):null==a?null:[w-a,k-m]},H},V.interpolateRgb=Ds,V.interpolateObject=pa,V.interpolateNumber=Fo,V.interpolateString=ga;var zs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Us=new RegExp(zs.source,"g");function $o(e,a){for(var w,m=V.interpolators.length;--m>=0&&!(w=V.interpolators[m](e,a)););return w}function _s(e,a){var N,m=[],w=[],k=e.length,T=a.length,j=Math.min(e.length,a.length);for(N=0;N<j;++N)m.push($o(e[N],a[N]));for(;N<k;++N)w[N]=e[N];for(;N<T;++N)w[N]=a[N];return function(H){for(N=0;N<j;++N)w[N]=m[N](H);return w}}V.interpolate=$o,V.interpolators=[function(e,a){var m=typeof a;return("string"===m?Qn.has(a.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(a)?Ds:ga:a instanceof Un?Ds:Array.isArray(a)?_s:"object"===m&&isNaN(a)?pa:Fo)(e,a)}],V.interpolateArray=_s;var ma=function(){return R},Ac=V.map({linear:ma,poly:function Lc(e){return function(a){return Math.pow(a,e)}},quad:function(){return Ic},cubic:function(){return Rc},sin:function(){return Bc},exp:function(){return Pc},circle:function(){return Oc},elastic:function Nc(e,a){var m;return arguments.length<2&&(a=.45),arguments.length?m=a/Le*Math.asin(1/e):(e=1,m=a/4),function(w){return 1+e*Math.pow(2,-10*w)*Math.sin((w-m)*Le/a)}},back:function Dc(e){return e||(e=1.70158),function(a){return a*a*((e+1)*a-e)}},bounce:function(){return zc}}),Cc=V.map({in:R,out:va,"in-out":ya,"out-in":function(e){return ya(va(e))}});function Tc(e){return function(a){return a<=0?0:a>=1?1:e(a)}}function va(e){return function(a){return 1-e(1-a)}}function ya(e){return function(a){return.5*(a<.5?e(2*a):2-e(2-2*a))}}function Ic(e){return e*e}function Rc(e){return e*e*e}function Mc(e){if(e<=0)return 0;if(e>=1)return 1;var a=e*e,m=a*e;return 4*(e<.5?m:3*(e-a)+m-.75)}function Bc(e){return 1-Math.cos(e*Je)}function Pc(e){return Math.pow(2,10*(e-1))}function Oc(e){return 1-Math.sqrt(1-e*e)}function zc(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function _a(e,a){return a-=e,function(m){return Math.round(e+a*m)}}function ba(e){var a=[e.a,e.b],m=[e.c,e.d],w=Ea(a),k=wa(a,m),T=Ea(function Hc(e,a,m){return e[0]+=m*a[0],e[1]+=m*a[1],e}(m,a,-k))||0;a[0]*m[1]<m[0]*a[1]&&(a[0]*=-1,a[1]*=-1,w*=-1,k*=-1),this.rotate=(w?Math.atan2(a[1],a[0]):Math.atan2(-m[0],m[1]))*ht,this.translate=[e.e,e.f],this.scale=[w,T],this.skew=T?Math.atan2(k,T)*ht:0}function wa(e,a){return e[0]*a[0]+e[1]*a[1]}function Ea(e){var a=Math.sqrt(wa(e,e));return a&&(e[0]/=a,e[1]/=a),a}V.ease=function(e){var a=e.indexOf("-"),m=a>=0?e.slice(0,a):e,w=a>=0?e.slice(a+1):"in";return m=Ac.get(m)||ma,Tc((w=Cc.get(w)||R)(m.apply(null,Ue.call(arguments,1))))},V.interpolateHcl=function Uc(e,a){e=V.hcl(e),a=V.hcl(a);var m=e.h,w=e.c,k=e.l,T=a.h-m,j=a.c-w,N=a.l-k;return isNaN(j)&&(j=0,w=isNaN(w)?a.c:w),isNaN(T)?(T=0,m=isNaN(m)?a.h:m):T>180?T-=360:T<-180&&(T+=360),function(H){return nt(m+T*H,w+j*H,k+N*H)+""}},V.interpolateHsl=function Fc(e,a){e=V.hsl(e),a=V.hsl(a);var m=e.h,w=e.s,k=e.l,T=a.h-m,j=a.s-w,N=a.l-k;return isNaN(j)&&(j=0,w=isNaN(w)?a.s:w),isNaN(T)?(T=0,m=isNaN(m)?a.h:m):T>180?T-=360:T<-180&&(T+=360),function(H){return Gn(m+T*H,w+j*H,k+N*H)+""}},V.interpolateLab=function jc(e,a){e=V.lab(e),a=V.lab(a);var m=e.l,w=e.a,k=e.b,T=a.l-m,j=a.a-w,N=a.b-k;return function(H){return ci(m+T*H,w+j*H,k+N*H)+""}},V.interpolateRound=_a,V.transform=function(e){var a=_.createElementNS(V.ns.prefix.svg,"g");return(V.transform=function(m){if(null!=m){a.setAttribute("transform",m);var w=a.transform.baseVal.consolidate()}return new ba(w?w.matrix:Wc)})(e)},ba.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Wc={a:1,b:0,c:0,d:1,e:0,f:0};function ns(e){return e.length?e.pop()+",":""}function xa(e,a){var m=[],w=[];return e=V.transform(e),a=V.transform(a),function Kc(e,a,m,w){if(e[0]!==a[0]||e[1]!==a[1]){var k=m.push("translate(",null,",",null,")");w.push({i:k-4,x:Fo(e[0],a[0])},{i:k-2,x:Fo(e[1],a[1])})}else(a[0]||a[1])&&m.push("translate("+a+")")}(e.translate,a.translate,m,w),function qc(e,a,m,w){e!==a?(e-a>180?a+=360:a-e>180&&(e+=360),w.push({i:m.push(ns(m)+"rotate(",null,")")-2,x:Fo(e,a)})):a&&m.push(ns(m)+"rotate("+a+")")}(e.rotate,a.rotate,m,w),function Vc(e,a,m,w){e!==a?w.push({i:m.push(ns(m)+"skewX(",null,")")-2,x:Fo(e,a)}):a&&m.push(ns(m)+"skewX("+a+")")}(e.skew,a.skew,m,w),function Gc(e,a,m,w){if(e[0]!==a[0]||e[1]!==a[1]){var k=m.push(ns(m)+"scale(",null,",",null,")");w.push({i:k-4,x:Fo(e[0],a[0])},{i:k-2,x:Fo(e[1],a[1])})}else(1!==a[0]||1!==a[1])&&m.push(ns(m)+"scale("+a+")")}(e.scale,a.scale,m,w),e=a=null,function(k){for(var N,T=-1,j=w.length;++T<j;)m[(N=w[T]).i]=N.x(k);return m.join("")}}function $c(e,a){return a=(a-=e=+e)||1/a,function(m){return(m-e)/a}}function Yc(e,a){return a=(a-=e=+e)||1/a,function(m){return Math.max(0,Math.min(1,(m-e)/a))}}function Xc(e){for(var a=e.source,m=e.target,w=function Zc(e,a){if(e===a)return e;for(var m=Sa(e),w=Sa(a),k=m.pop(),T=w.pop(),j=null;k===T;)j=k,k=m.pop(),T=w.pop();return j}(a,m),k=[a];a!==w;)k.push(a=a.parent);for(var T=k.length;m!==w;)k.splice(T,0,m),m=m.parent;return k}function Sa(e){for(var a=[],m=e.parent;null!=m;)a.push(e),e=m,m=m.parent;return a.push(e),a}function Jc(e){e.fixed|=2}function Qc(e){e.fixed&=-7}function eh(e){e.fixed|=4,e.px=e.x,e.py=e.y}function th(e){e.fixed&=-5}function ka(e,a,m){var w=0,k=0;if(e.charge=0,!e.leaf)for(var H,T=e.nodes,j=T.length,N=-1;++N<j;)null!=(H=T[N])&&(ka(H,a,m),e.charge+=H.charge,w+=H.charge*H.cx,k+=H.charge*H.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var X=a*m[e.point.index];e.charge+=e.pointCharge=X,w+=X*e.point.x,k+=X*e.point.y}e.cx=w/e.charge,e.cy=k/e.charge}V.interpolateTransform=xa,V.layout={},V.layout.bundle=function(){return function(e){for(var a=[],m=-1,w=e.length;++m<w;)a.push(Xc(e[m]));return a}},V.layout.chord=function(){var a,m,w,k,j,N,H,e={},T=0;function X(){var Se,Ie,Me,$e,Ne,fe={},_e=[],Re=V.range(k),Xe=[];for(a=[],m=[],Se=0,$e=-1;++$e<k;){for(Ie=0,Ne=-1;++Ne<k;)Ie+=w[$e][Ne];_e.push(Ie),Xe.push(V.range(k)),Se+=Ie}for(j&&Re.sort(function(In,bn){return j(_e[In],_e[bn])}),N&&Xe.forEach(function(In,bn){In.sort(function(An,Rt){return N(w[bn][An],w[bn][Rt])})}),Se=(Le-T*k)/Se,Ie=0,$e=-1;++$e<k;){for(Me=Ie,Ne=-1;++Ne<k;){var Ke=Re[$e],Tt=Xe[Ke][Ne],yt=w[Ke][Tt],wt=Ie,mt=Ie+=yt*Se;fe[Ke+"-"+Tt]={index:Ke,subindex:Tt,startAngle:wt,endAngle:mt,value:yt}}m[Ke]={index:Ke,startAngle:Me,endAngle:Ie,value:_e[Ke]},Ie+=T}for($e=-1;++$e<k;)for(Ne=$e-1;++Ne<k;){var Xt=fe[$e+"-"+Ne],nn=fe[Ne+"-"+$e];(Xt.value||nn.value)&&a.push(Xt.value<nn.value?{source:nn,target:Xt}:{source:Xt,target:nn})}H&&re()}function re(){a.sort(function(fe,_e){return H((fe.source.value+fe.target.value)/2,(_e.source.value+_e.target.value)/2)})}return e.matrix=function(fe){return arguments.length?(k=(w=fe)&&w.length,a=m=null,e):w},e.padding=function(fe){return arguments.length?(T=fe,a=m=null,e):T},e.sortGroups=function(fe){return arguments.length?(j=fe,a=m=null,e):j},e.sortSubgroups=function(fe){return arguments.length?(N=fe,a=null,e):N},e.sortChords=function(fe){return arguments.length?(H=fe,a&&re(),e):H},e.chords=function(){return a||X(),a},e.groups=function(){return m||X(),m},e},V.layout.force=function(){var m,k,T,Se,Ie,Me,e={},a=V.dispatch("start","tick","end"),w=[1,1],j=.9,N=nh,H=rh,X=-30,re=ih,fe=.1,_e=.64,Re=[],Xe=[];function $e(Ke){return function(Tt,yt,wt,mt){if(Tt.point!==Ke){var An,Xt=Tt.cx-Ke.x,nn=Tt.cy-Ke.y,In=mt-yt,bn=Xt*Xt+nn*nn;if(In*In/_e<bn)return bn<re&&(Ke.px-=Xt*(An=Tt.charge/bn),Ke.py-=nn*An),!0;Tt.point&&bn&&bn<re&&(Ke.px-=Xt*(An=Tt.pointCharge/bn),Ke.py-=nn*An)}return!Tt.charge}}function Ne(Ke){Ke.px=V.event.x,Ke.py=V.event.y,e.resume()}return e.tick=function(){if((T*=.99)<.005)return m=null,a.end({type:"end",alpha:T=0}),!0;var yt,wt,mt,Xt,nn,In,bn,An,Rt,Ke=Re.length,Tt=Xe.length;for(wt=0;wt<Tt;++wt)(In=(An=(nn=(mt=Xe[wt]).target).x-(Xt=mt.source).x)*An+(Rt=nn.y-Xt.y)*Rt)&&(Rt*=In=T*Ie[wt]*((In=Math.sqrt(In))-Se[wt])/In,nn.x-=(An*=In)*(bn=Xt.weight+nn.weight?Xt.weight/(Xt.weight+nn.weight):.5),nn.y-=Rt*bn,Xt.x+=An*(bn=1-bn),Xt.y+=Rt*bn);if((bn=T*fe)&&(An=w[0]/2,Rt=w[1]/2,wt=-1,bn))for(;++wt<Ke;)(mt=Re[wt]).x+=(An-mt.x)*bn,mt.y+=(Rt-mt.y)*bn;if(X)for(ka(yt=V.geom.quadtree(Re),T,Me),wt=-1;++wt<Ke;)(mt=Re[wt]).fixed||yt.visit($e(mt));for(wt=-1;++wt<Ke;)(mt=Re[wt]).fixed?(mt.x=mt.px,mt.y=mt.py):(mt.x-=(mt.px-(mt.px=mt.x))*j,mt.y-=(mt.py-(mt.py=mt.y))*j);a.tick({type:"tick",alpha:T})},e.nodes=function(Ke){return arguments.length?(Re=Ke,e):Re},e.links=function(Ke){return arguments.length?(Xe=Ke,e):Xe},e.size=function(Ke){return arguments.length?(w=Ke,e):w},e.linkDistance=function(Ke){return arguments.length?(N="function"==typeof Ke?Ke:+Ke,e):N},e.distance=e.linkDistance,e.linkStrength=function(Ke){return arguments.length?(H="function"==typeof Ke?Ke:+Ke,e):H},e.friction=function(Ke){return arguments.length?(j=+Ke,e):j},e.charge=function(Ke){return arguments.length?(X="function"==typeof Ke?Ke:+Ke,e):X},e.chargeDistance=function(Ke){return arguments.length?(re=Ke*Ke,e):Math.sqrt(re)},e.gravity=function(Ke){return arguments.length?(fe=+Ke,e):fe},e.theta=function(Ke){return arguments.length?(_e=Ke*Ke,e):Math.sqrt(_e)},e.alpha=function(Ke){return arguments.length?(Ke=+Ke,T?Ke>0?T=Ke:(m.c=null,m.t=NaN,m=null,a.end({type:"end",alpha:T=0})):Ke>0&&(a.start({type:"start",alpha:T=Ke}),m=B(e.tick)),e):T},e.start=function(){var Ke,Xt,nn,Tt=Re.length,yt=Xe.length,wt=w[0],mt=w[1];for(Ke=0;Ke<Tt;++Ke)(nn=Re[Ke]).index=Ke,nn.weight=0;for(Ke=0;Ke<yt;++Ke)"number"==typeof(nn=Xe[Ke]).source&&(nn.source=Re[nn.source]),"number"==typeof nn.target&&(nn.target=Re[nn.target]),++nn.source.weight,++nn.target.weight;for(Ke=0;Ke<Tt;++Ke)nn=Re[Ke],isNaN(nn.x)&&(nn.x=In("x",wt)),isNaN(nn.y)&&(nn.y=In("y",mt)),isNaN(nn.px)&&(nn.px=nn.x),isNaN(nn.py)&&(nn.py=nn.y);if(Se=[],"function"==typeof N)for(Ke=0;Ke<yt;++Ke)Se[Ke]=+N.call(this,Xe[Ke],Ke);else for(Ke=0;Ke<yt;++Ke)Se[Ke]=N;if(Ie=[],"function"==typeof H)for(Ke=0;Ke<yt;++Ke)Ie[Ke]=+H.call(this,Xe[Ke],Ke);else for(Ke=0;Ke<yt;++Ke)Ie[Ke]=H;if(Me=[],"function"==typeof X)for(Ke=0;Ke<Tt;++Ke)Me[Ke]=+X.call(this,Re[Ke],Ke);else for(Ke=0;Ke<Tt;++Ke)Me[Ke]=X;function In(bn,An){if(!Xt){for(Xt=new Array(Tt),pn=0;pn<Tt;++pn)Xt[pn]=[];for(pn=0;pn<yt;++pn){var Rt=Xe[pn];Xt[Rt.source.index].push(Rt.target),Xt[Rt.target.index].push(Rt.source)}}for(var fn,Jt=Xt[Ke],pn=-1,Pt=Jt.length;++pn<Pt;)if(!isNaN(fn=Jt[pn][bn]))return fn;return Math.random()*An}return e.resume()},e.resume=function(){return e.alpha(.1)},e.stop=function(){return e.alpha(0)},e.drag=function(){if(k||(k=V.behavior.drag().origin(R).on("dragstart.force",Jc).on("drag.force",Ne).on("dragend.force",Qc)),!arguments.length)return k;this.on("mouseover.force",eh).on("mouseout.force",th).call(k)},V.rebind(e,a,"on")};var nh=20,rh=1,ih=1/0;function ls(e,a){return V.rebind(e,a,"sort","children","value"),e.nodes=e,e.links=ch,e}function ds(e,a){for(var m=[e];null!=(e=m.pop());)if(a(e),(k=e.children)&&(w=k.length))for(var w,k;--w>=0;)m.push(k[w])}function Ro(e,a){for(var m=[e],w=[];null!=(e=m.pop());)if(w.push(e),(j=e.children)&&(T=j.length))for(var T,j,k=-1;++k<T;)m.push(j[k]);for(;null!=(e=w.pop());)a(e)}function oh(e){return e.children}function sh(e){return e.value}function ah(e,a){return a.value-e.value}function ch(e){return V.merge(e.map(function(a){return(a.children||[]).map(function(m){return{source:a,target:m}})}))}V.layout.hierarchy=function(){var e=ah,a=oh,m=sh;function w(k){var N,T=[k],j=[];for(k.depth=0;null!=(N=T.pop());)if(j.push(N),(X=a.call(w,N,N.depth))&&(H=X.length)){for(var H,X,re;--H>=0;)T.push(re=X[H]),re.parent=N,re.depth=N.depth+1;m&&(N.value=0),N.children=X}else m&&(N.value=+m.call(w,N,N.depth)||0),delete N.children;return Ro(k,function(fe){var _e,Re;e&&(_e=fe.children)&&_e.sort(e),m&&(Re=fe.parent)&&(Re.value+=fe.value)}),j}return w.sort=function(k){return arguments.length?(e=k,w):e},w.children=function(k){return arguments.length?(a=k,w):a},w.value=function(k){return arguments.length?(m=k,w):m},w.revalue=function(k){return m&&(ds(k,function(T){T.children&&(T.value=0)}),Ro(k,function(T){var j;T.children||(T.value=+m.call(w,T,T.depth)||0),(j=T.parent)&&(j.value+=T.value)})),k},w},V.layout.partition=function(){var e=V.layout.hierarchy(),a=[1,1];function m(T,j,N,H){var X=T.children;if(T.x=j,T.y=T.depth*H,T.dx=N,T.dy=H,X&&(fe=X.length)){var fe,_e,Re,re=-1;for(N=T.value?N/T.value:0;++re<fe;)m(_e=X[re],j,Re=_e.value*N,H),j+=Re}}function w(T){var j=T.children,N=0;if(j&&(X=j.length))for(var X,H=-1;++H<X;)N=Math.max(N,w(j[H]));return 1+N}function k(T,j){var N=e.call(this,T,j);return m(N[0],0,a[0],a[1]/w(N[0])),N}return k.size=function(T){return arguments.length?(a=T,k):a},ls(k,e)},V.layout.pie=function(){var e=Number,a=Aa,m=0,w=Le,k=0;function T(j){var Me,N=j.length,H=j.map(function($e,Ne){return+e.call(T,$e,Ne)}),X=+("function"==typeof m?m.apply(this,arguments):m),re=("function"==typeof w?w.apply(this,arguments):w)-X,fe=Math.min(Math.abs(re)/N,+("function"==typeof k?k.apply(this,arguments):k)),_e=fe*(re<0?-1:1),Re=V.sum(H),Xe=Re?(re-N*_e)/Re:0,Se=V.range(N),Ie=[];return null!=a&&Se.sort(a===Aa?function($e,Ne){return H[Ne]-H[$e]}:function($e,Ne){return a(j[$e],j[Ne])}),Se.forEach(function($e){Ie[$e]={data:j[$e],value:Me=H[$e],startAngle:X,endAngle:X+=Me*Xe+_e,padAngle:fe}}),Ie}return T.value=function(j){return arguments.length?(e=j,T):e},T.sort=function(j){return arguments.length?(a=j,T):a},T.startAngle=function(j){return arguments.length?(m=j,T):m},T.endAngle=function(j){return arguments.length?(w=j,T):w},T.padAngle=function(j){return arguments.length?(k=j,T):k},T};var Aa={};function hh(e){return e.x}function uh(e){return e.y}function fh(e,a,m){e.y0=a,e.y=m}V.layout.stack=function(){var e=R,a=Fs,m=js,w=fh,k=hh,T=uh;function j(N,H){if(!(Xe=N.length))return N;var X=N.map(function($e,Ne){return e.call(j,$e,Ne)}),re=X.map(function($e){return $e.map(function(Ne,Ke){return[k.call(j,Ne,Ke),T.call(j,Ne,Ke)]})}),fe=a.call(j,re,H);X=V.permute(X,fe),re=V.permute(re,fe);var Xe,Se,Ie,Me,_e=m.call(j,re,H),Re=X[0].length;for(Ie=0;Ie<Re;++Ie)for(w.call(j,X[0][Ie],Me=_e[Ie],re[0][Ie][1]),Se=1;Se<Xe;++Se)w.call(j,X[Se][Ie],Me+=re[Se-1][Ie][1],re[Se][Ie][1]);return N}return j.values=function(N){return arguments.length?(e=N,j):e},j.order=function(N){return arguments.length?(a="function"==typeof N?N:lh.get(N)||Fs,j):a},j.offset=function(N){return arguments.length?(m="function"==typeof N?N:dh.get(N)||js,j):m},j.x=function(N){return arguments.length?(k=N,j):k},j.y=function(N){return arguments.length?(T=N,j):T},j.out=function(N){return arguments.length?(w=N,j):w},j};var lh=V.map({"inside-out":function(e){var m,w,a=e.length,k=e.map(ph),T=e.map(gh),j=V.range(a).sort(function(fe,_e){return k[fe]-k[_e]}),N=0,H=0,X=[],re=[];for(m=0;m<a;++m)w=j[m],N<H?(N+=T[w],X.push(w)):(H+=T[w],re.push(w));return re.reverse().concat(X)},reverse:function(e){return V.range(e.length).reverse()},default:Fs}),dh=V.map({silhouette:function(e){var T,j,N,a=e.length,m=e[0].length,w=[],k=0,H=[];for(j=0;j<m;++j){for(T=0,N=0;T<a;T++)N+=e[T][j][1];N>k&&(k=N),w.push(N)}for(j=0;j<m;++j)H[j]=(k-w[j])/2;return H},wiggle:function(e){var k,T,j,N,H,X,re,fe,_e,a=e.length,m=e[0],w=m.length,Re=[];for(Re[0]=fe=_e=0,T=1;T<w;++T){for(k=0,N=0;k<a;++k)N+=e[k][T][1];for(k=0,H=0,re=m[T][0]-m[T-1][0];k<a;++k){for(j=0,X=(e[k][T][1]-e[k][T-1][1])/(2*re);j<k;++j)X+=(e[j][T][1]-e[j][T-1][1])/re;H+=X*e[k][T][1]}Re[T]=fe-=N?H/N*re:0,fe<_e&&(_e=fe)}for(T=0;T<w;++T)Re[T]-=_e;return Re},expand:function(e){var k,T,j,a=e.length,m=e[0].length,w=1/a,N=[];for(T=0;T<m;++T){for(k=0,j=0;k<a;k++)j+=e[k][T][1];if(j)for(k=0;k<a;k++)e[k][T][1]/=j;else for(k=0;k<a;k++)e[k][T][1]=w}for(T=0;T<m;++T)N[T]=0;return N},zero:js});function Fs(e){return V.range(e.length)}function js(e){for(var a=-1,m=e[0].length,w=[];++a<m;)w[a]=0;return w}function ph(e){for(var k,a=1,m=0,w=e[0][1],T=e.length;a<T;++a)(k=e[a][1])>w&&(m=a,w=k);return m}function gh(e){return e.reduce(mh,0)}function mh(e,a){return e+a[1]}function vh(e,a){return Ca(e,Math.ceil(Math.log(a.length)/Math.LN2+1))}function Ca(e,a){for(var m=-1,w=+e[0],k=(e[1]-w)/a,T=[];++m<=a;)T[m]=k*m+w;return T}function yh(e){return[V.min(e),V.max(e)]}function _h(e,a){return e.value-a.value}function Hs(e,a){var m=e._pack_next;e._pack_next=a,a._pack_prev=e,a._pack_next=m,m._pack_prev=a}function Ta(e,a){e._pack_next=a,a._pack_prev=e}function Ia(e,a){var m=a.x-e.x,w=a.y-e.y,k=e.r+a.r;return.999*k*k>m*m+w*w}function Ra(e){if((a=e.children)&&(_e=a.length)){var a,j,N,H,X,re,fe,_e,m=1/0,w=-1/0,k=1/0,T=-1/0;if(a.forEach(bh),(j=a[0]).x=-j.r,j.y=0,Re(j),_e>1&&((N=a[1]).x=N.r,N.y=0,Re(N),_e>2))for(La(j,N,H=a[2]),Re(H),Hs(j,H),j._pack_prev=H,Hs(H,N),N=j._pack_next,X=3;X<_e;X++){La(j,N,H=a[X]);var Xe=0,Se=1,Ie=1;for(re=N._pack_next;re!==N;re=re._pack_next,Se++)if(Ia(re,H)){Xe=1;break}if(1==Xe)for(fe=j._pack_prev;fe!==re._pack_prev&&!Ia(fe,H);fe=fe._pack_prev,Ie++);Xe?(Se<Ie||Se==Ie&&N.r<j.r?Ta(j,N=re):Ta(j=fe,N),X--):(Hs(j,H),N=H,Re(H))}var Me=(m+w)/2,$e=(k+T)/2,Ne=0;for(X=0;X<_e;X++)(H=a[X]).x-=Me,H.y-=$e,Ne=Math.max(Ne,H.r+Math.sqrt(H.x*H.x+H.y*H.y));e.r=Ne,a.forEach(wh)}function Re(Ke){m=Math.min(Ke.x-Ke.r,m),w=Math.max(Ke.x+Ke.r,w),k=Math.min(Ke.y-Ke.r,k),T=Math.max(Ke.y+Ke.r,T)}}function bh(e){e._pack_next=e._pack_prev=e}function wh(e){delete e._pack_next,delete e._pack_prev}function Ma(e,a,m,w){var k=e.children;if(e.x=a+=w*e.x,e.y=m+=w*e.y,e.r*=w,k)for(var T=-1,j=k.length;++T<j;)Ma(k[T],a,m,w)}function La(e,a,m){var w=e.r+m.r,k=a.x-e.x,T=a.y-e.y;if(w&&(k||T)){var j=a.r+m.r,N=k*k+T*T,H=.5+((w*=w)-(j*=j))/(2*N),X=Math.sqrt(Math.max(0,2*j*(w+N)-(w-=N)*w-j*j))/(2*N);m.x=e.x+H*k+X*T,m.y=e.y+H*T-X*k}else m.x=e.x+w,m.y=e.y}function Ba(e,a){return e.parent==a.parent?1:2}function Ws(e){var a=e.children;return a.length?a[0]:e.t}function Ks(e){var m,a=e.children;return(m=a.length)?a[m-1]:e.t}function Eh(e,a,m){var w=m/(a.i-e.i);a.c-=w,a.s+=m,e.c+=w,a.z+=m,a.m+=m}function Sh(e,a,m){return e.a.parent===a.parent?e.a:m}function Pa(e){var a=e.children;return a&&a.length?Pa(a[0]):e}function Oa(e){var m,a=e.children;return a&&(m=a.length)?Oa(a[m-1]):e}function qs(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Na(e,a){var m=e.x+a[3],w=e.y+a[0],k=e.dx-a[1]-a[3],T=e.dy-a[0]-a[2];return k<0&&(m+=k/2,k=0),T<0&&(w+=T/2,T=0),{x:m,y:w,dx:k,dy:T}}function rs(e){var a=e[0],m=e[e.length-1];return a<m?[a,m]:[m,a]}function bs(e){return e.rangeExtent?e.rangeExtent():rs(e.range())}function Ch(e,a,m,w){var k=m(e[0],e[1]),T=w(a[0],a[1]);return function(j){return T(k(j))}}function ws(e,a){var j,m=0,w=e.length-1,k=e[m],T=e[w];return T<k&&(j=m,m=w,w=j,j=k,k=T,T=j),e[m]=a.floor(k),e[w]=a.ceil(T),e}function Da(e){return e?{floor:function(a){return Math.floor(a/e)*e},ceil:function(a){return Math.ceil(a/e)*e}}:Th}V.layout.histogram=function(){var e=!0,a=Number,m=yh,w=vh;function k(T,_e){for(var fe,Ie,N=[],H=T.map(a,this),X=m.call(this,H,_e),re=w.call(this,X,H,_e),Re=(_e=-1,H.length),Xe=re.length-1,Se=e?1:1/Re;++_e<Xe;)(fe=N[_e]=[]).dx=re[_e+1]-(fe.x=re[_e]),fe.y=0;if(Xe>0)for(_e=-1;++_e<Re;)(Ie=H[_e])>=X[0]&&Ie<=X[1]&&((fe=N[V.bisect(re,Ie,1,Xe)-1]).y+=Se,fe.push(T[_e]));return N}return k.value=function(T){return arguments.length?(a=T,k):a},k.range=function(T){return arguments.length?(m=vr(T),k):m},k.bins=function(T){return arguments.length?(w="number"==typeof T?function(j){return Ca(j,T)}:vr(T),k):w},k.frequency=function(T){return arguments.length?(e=!!T,k):e},k},V.layout.pack=function(){var w,e=V.layout.hierarchy().sort(_h),a=0,m=[1,1];function k(T,j){var N=e.call(this,T,j),H=N[0],X=m[0],re=m[1],fe=null==w?Math.sqrt:"function"==typeof w?w:function(){return w};if(H.x=H.y=0,Ro(H,function(Re){Re.r=+fe(Re.value)}),Ro(H,Ra),a){var _e=a*(w?1:Math.max(2*H.r/X,2*H.r/re))/2;Ro(H,function(Re){Re.r+=_e}),Ro(H,Ra),Ro(H,function(Re){Re.r-=_e})}return Ma(H,X/2,re/2,w?1:1/Math.max(2*H.r/X,2*H.r/re)),N}return k.size=function(T){return arguments.length?(m=T,k):m},k.radius=function(T){return arguments.length?(w=null==T||"function"==typeof T?T:+T,k):w},k.padding=function(T){return arguments.length?(a=+T,k):a},ls(k,e)},V.layout.tree=function(){var e=V.layout.hierarchy().sort(null).value(null),a=Ba,m=[1,1],w=null;function k(re,fe){var _e=e.call(this,re,fe),Re=_e[0],Xe=function T(re){for(var Re,fe={A:null,children:[re]},_e=[fe];null!=(Re=_e.pop());)for(var Se,Xe=Re.children,Ie=0,Me=Xe.length;Ie<Me;++Ie)_e.push((Xe[Ie]=Se={_:Xe[Ie],parent:Re,children:(Se=Xe[Ie].children)&&Se.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Ie}).a=Se);return fe.children[0]}(Re);if(Ro(Xe,j),Xe.parent.m=-Xe.z,ds(Xe,N),w)ds(Re,X);else{var Se=Re,Ie=Re,Me=Re;ds(Re,function(Tt){Tt.x<Se.x&&(Se=Tt),Tt.x>Ie.x&&(Ie=Tt),Tt.depth>Me.depth&&(Me=Tt)});var $e=a(Se,Ie)/2-Se.x,Ne=m[0]/(Ie.x+a(Ie,Se)/2+$e),Ke=m[1]/(Me.depth||1);ds(Re,function(Tt){Tt.x=(Tt.x+$e)*Ne,Tt.y=Tt.depth*Ke})}return _e}function j(re){var fe=re.children,_e=re.parent.children,Re=re.i?_e[re.i-1]:null;if(fe.length){!function xh(e){for(var T,a=0,m=0,w=e.children,k=w.length;--k>=0;)(T=w[k]).z+=a,T.m+=a,a+=T.s+(m+=T.c)}(re);var Xe=(fe[0].z+fe[fe.length-1].z)/2;Re?(re.z=Re.z+a(re._,Re._),re.m=re.z-Xe):re.z=Xe}else Re&&(re.z=Re.z+a(re._,Re._));re.parent.A=function H(re,fe,_e){if(fe){for(var Tt,Re=re,Xe=re,Se=fe,Ie=Re.parent.children[0],Me=Re.m,$e=Xe.m,Ne=Se.m,Ke=Ie.m;Se=Ks(Se),Re=Ws(Re),Se&&Re;)Ie=Ws(Ie),(Xe=Ks(Xe)).a=re,(Tt=Se.z+Ne-Re.z-Me+a(Se._,Re._))>0&&(Eh(Sh(Se,re,_e),re,Tt),Me+=Tt,$e+=Tt),Ne+=Se.m,Me+=Re.m,Ke+=Ie.m,$e+=Xe.m;Se&&!Ks(Xe)&&(Xe.t=Se,Xe.m+=Ne-$e),Re&&!Ws(Ie)&&(Ie.t=Re,Ie.m+=Me-Ke,_e=re)}return _e}(re,Re,re.parent.A||_e[0])}function N(re){re._.x=re.z+re.parent.m,re.m+=re.parent.m}function X(re){re.x*=m[0],re.y=re.depth*m[1]}return k.separation=function(re){return arguments.length?(a=re,k):a},k.size=function(re){return arguments.length?(w=null==(m=re)?X:null,k):w?null:m},k.nodeSize=function(re){return arguments.length?(w=null==(m=re)?null:X,k):w?m:null},ls(k,e)},V.layout.cluster=function(){var e=V.layout.hierarchy().sort(null).value(null),a=Ba,m=[1,1],w=!1;function k(T,j){var X,N=e.call(this,T,j),H=N[0],re=0;Ro(H,function(Se){var Ie=Se.children;Ie&&Ie.length?(Se.x=function Ah(e){return e.reduce(function(a,m){return a+m.x},0)/e.length}(Ie),Se.y=function kh(e){return 1+V.max(e,function(a){return a.y})}(Ie)):(Se.x=X?re+=a(Se,X):0,Se.y=0,X=Se)});var fe=Pa(H),_e=Oa(H),Re=fe.x-a(fe,_e)/2,Xe=_e.x+a(_e,fe)/2;return Ro(H,w?function(Se){Se.x=(Se.x-H.x)*m[0],Se.y=(H.y-Se.y)*m[1]}:function(Se){Se.x=(Se.x-Re)/(Xe-Re)*m[0],Se.y=(1-(H.y?Se.y/H.y:1))*m[1]}),N}return k.separation=function(T){return arguments.length?(a=T,k):a},k.size=function(T){return arguments.length?(w=null==(m=T),k):w?null:m},k.nodeSize=function(T){return arguments.length?(w=null!=(m=T),k):w?m:null},ls(k,e)},V.layout.treemap=function(){var j,e=V.layout.hierarchy(),a=Math.round,m=[1,1],w=null,k=qs,T=!1,N="squarify",H=.5*(1+Math.sqrt(5));function X(Se,Ie){for(var Ne,Ke,Me=-1,$e=Se.length;++Me<$e;)Ke=(Ne=Se[Me]).value*(Ie<0?0:Ie),Ne.area=isNaN(Ke)||Ke<=0?0:Ke}function re(Se){var Ie=Se.children;if(Ie&&Ie.length){var Ke,yt,mt,Me=k(Se),$e=[],Ne=Ie.slice(),Tt=1/0,wt="slice"===N?Me.dx:"dice"===N?Me.dy:"slice-dice"===N?1&Se.depth?Me.dy:Me.dx:Math.min(Me.dx,Me.dy);for(X(Ne,Me.dx*Me.dy/Se.value),$e.area=0;(mt=Ne.length)>0;)$e.push(Ke=Ne[mt-1]),$e.area+=Ke.area,"squarify"!==N||(yt=_e($e,wt))<=Tt?(Ne.pop(),Tt=yt):($e.area-=$e.pop().area,Re($e,wt,Me,!1),wt=Math.min(Me.dx,Me.dy),$e.length=$e.area=0,Tt=1/0);$e.length&&(Re($e,wt,Me,!0),$e.length=$e.area=0),Ie.forEach(re)}}function fe(Se){var Ie=Se.children;if(Ie&&Ie.length){var Ne,Me=k(Se),$e=Ie.slice(),Ke=[];for(X($e,Me.dx*Me.dy/Se.value),Ke.area=0;Ne=$e.pop();)Ke.push(Ne),Ke.area+=Ne.area,null!=Ne.z&&(Re(Ke,Ne.z?Me.dx:Me.dy,Me,!$e.length),Ke.length=Ke.area=0);Ie.forEach(fe)}}function _e(Se,Ie){for(var $e,Me=Se.area,Ne=0,Ke=1/0,Tt=-1,yt=Se.length;++Tt<yt;)!($e=Se[Tt].area)||($e<Ke&&(Ke=$e),$e>Ne&&(Ne=$e));return Ie*=Ie,(Me*=Me)?Math.max(Ie*Ne*H/Me,Me/(Ie*Ke*H)):1/0}function Re(Se,Ie,Me,$e){var mt,Ne=-1,Ke=Se.length,Tt=Me.x,yt=Me.y,wt=Ie?a(Se.area/Ie):0;if(Ie==Me.dx){for(($e||wt>Me.dy)&&(wt=Me.dy);++Ne<Ke;)(mt=Se[Ne]).x=Tt,mt.y=yt,mt.dy=wt,Tt+=mt.dx=Math.min(Me.x+Me.dx-Tt,wt?a(mt.area/wt):0);mt.z=!0,mt.dx+=Me.x+Me.dx-Tt,Me.y+=wt,Me.dy-=wt}else{for(($e||wt>Me.dx)&&(wt=Me.dx);++Ne<Ke;)(mt=Se[Ne]).x=Tt,mt.y=yt,mt.dx=wt,yt+=mt.dy=Math.min(Me.y+Me.dy-yt,wt?a(mt.area/wt):0);mt.z=!1,mt.dy+=Me.y+Me.dy-yt,Me.x+=wt,Me.dx-=wt}}function Xe(Se){var Ie=j||e(Se),Me=Ie[0];return Me.x=Me.y=0,Me.value?(Me.dx=m[0],Me.dy=m[1]):Me.dx=Me.dy=0,j&&e.revalue(Me),X([Me],Me.dx*Me.dy/Me.value),(j?fe:re)(Me),T&&(j=Ie),Ie}return Xe.size=function(Se){return arguments.length?(m=Se,Xe):m},Xe.padding=function(Se){if(!arguments.length)return w;function Ie(Ne){var Ke=Se.call(Xe,Ne,Ne.depth);return null==Ke?qs(Ne):Na(Ne,"number"==typeof Ke?[Ke,Ke,Ke,Ke]:Ke)}function Me(Ne){return Na(Ne,Se)}var $e;return k=null==(w=Se)?qs:"function"==($e=typeof Se)?Ie:("number"===$e&&(Se=[Se,Se,Se,Se]),Me),Xe},Xe.round=function(Se){return arguments.length?(a=Se?Math.round:Number,Xe):a!=Number},Xe.sticky=function(Se){return arguments.length?(T=Se,j=null,Xe):T},Xe.ratio=function(Se){return arguments.length?(H=Se,Xe):H},Xe.mode=function(Se){return arguments.length?(N=Se+"",Xe):N},ls(Xe,e)},V.random={normal:function(e,a){var m=arguments.length;return m<2&&(a=1),m<1&&(e=0),function(){var w,k,T;do{T=(w=2*Math.random()-1)*w+(k=2*Math.random()-1)*k}while(!T||T>1);return e+a*w*Math.sqrt(-2*Math.log(T)/T)}},logNormal:function(){var e=V.random.normal.apply(V,arguments);return function(){return Math.exp(e())}},bates:function(e){var a=V.random.irwinHall(e);return function(){return a()/e}},irwinHall:function(e){return function(){for(var a=0,m=0;m<e;m++)a+=Math.random();return a}}},V.scale={};var Th={floor:R,ceil:R};function Ih(e,a,m,w){var k=[],T=[],j=0,N=Math.min(e.length,a.length)-1;for(e[N]<e[0]&&(e=e.slice().reverse(),a=a.slice().reverse());++j<=N;)k.push(m(e[j-1],e[j])),T.push(w(a[j-1],a[j]));return function(H){var X=V.bisect(e,H,1,N)-1;return T[X](k[X](H))}}function za(e,a,m,w){var k,T;function j(){var H=Math.min(e.length,a.length)>2?Ih:Ch,X=w?Yc:$c;return k=H(e,a,X,m),T=H(a,e,X,$o),N}function N(H){return k(H)}return N.invert=function(H){return T(H)},N.domain=function(H){return arguments.length?(e=H.map(Number),j()):e},N.range=function(H){return arguments.length?(a=H,j()):a},N.rangeRound=function(H){return N.range(H).interpolate(_a)},N.clamp=function(H){return arguments.length?(w=H,j()):w},N.interpolate=function(H){return arguments.length?(m=H,j()):m},N.ticks=function(H){return Gs(e,H)},N.tickFormat=function(H,X){return $s(e,H,X)},N.nice=function(H){return Ua(e,H),j()},N.copy=function(){return za(e,a,m,w)},j()}function Vs(e,a){return V.rebind(e,a,"range","rangeRound","interpolate","clamp")}function Ua(e,a){return ws(e,Da(is(e,a)[2])),ws(e,Da(is(e,a)[2])),e}function is(e,a){null==a&&(a=10);var m=rs(e),w=m[1]-m[0],k=Math.pow(10,Math.floor(Math.log(w/a)/Math.LN10)),T=a/w*k;return T<=.15?k*=10:T<=.35?k*=5:T<=.75&&(k*=2),m[0]=Math.ceil(m[0]/k)*k,m[1]=Math.floor(m[1]/k)*k+.5*k,m[2]=k,m}function Gs(e,a){return V.range.apply(V,is(e,a))}function $s(e,a,m){var w=is(e,a);if(m){var k=qe.exec(m);if(k.shift(),"s"===k[8]){var T=V.formatPrefix(Math.max(c(w[0]),c(w[1])));return k[7]||(k[7]="."+Es(T.scale(w[2]))),k[8]="f",m=V.format(k.join("")),function(j){return m(T.scale(j))+T.symbol}}k[7]||(k[7]="."+function Mh(e,a){var m=Es(a[2]);return e in Rh?Math.abs(m-Es(Math.max(c(a[0]),c(a[1]))))+ +("e"!==e):m-2*("%"===e)}(k[8],w)),m=k.join("")}else m=",."+Es(w[2])+"f";return V.format(m)}V.scale.linear=function(){return za([0,1],[0,1],$o,!1)};var Rh={s:1,g:1,p:1,r:1,e:1};function Es(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Fa(e,a,m,w){function k(N){return(m?Math.log(N<0?0:N):-Math.log(N>0?0:-N))/Math.log(a)}function T(N){return m?Math.pow(a,N):-Math.pow(a,-N)}function j(N){return e(k(N))}return j.invert=function(N){return T(e.invert(N))},j.domain=function(N){return arguments.length?(m=N[0]>=0,e.domain((w=N.map(Number)).map(k)),j):w},j.base=function(N){return arguments.length?(a=+N,e.domain(w.map(k)),j):a},j.nice=function(){var N=ws(w.map(k),m?Math:Lh);return e.domain(N),w=N.map(T),j},j.ticks=function(){var N=rs(w),H=[],X=N[0],re=N[1],fe=Math.floor(k(X)),_e=Math.ceil(k(re)),Re=a%1?2:a;if(isFinite(_e-fe)){if(m){for(;fe<_e;fe++)for(var Xe=1;Xe<Re;Xe++)H.push(T(fe)*Xe);H.push(T(fe))}else for(H.push(T(fe));fe++<_e;)for(Xe=Re-1;Xe>0;Xe--)H.push(T(fe)*Xe);for(fe=0;H[fe]<X;fe++);for(_e=H.length;H[_e-1]>re;_e--);H=H.slice(fe,_e)}return H},j.tickFormat=function(N,H){if(!arguments.length)return ja;arguments.length<2?H=ja:"function"!=typeof H&&(H=V.format(H));var X=Math.max(1,a*N/j.ticks().length);return function(re){var fe=re/T(Math.round(k(re)));return fe*a<a-.5&&(fe*=a),fe<=X?H(re):""}},j.copy=function(){return Fa(e.copy(),a,m,w)},Vs(j,e)}V.scale.log=function(){return Fa(V.scale.linear().domain([0,1]),10,!0,[1,10])};var ja=V.format(".0e"),Lh={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Ha(e,a,m){var w=xs(a),k=xs(1/a);function T(j){return e(w(j))}return T.invert=function(j){return k(e.invert(j))},T.domain=function(j){return arguments.length?(e.domain((m=j.map(Number)).map(w)),T):m},T.ticks=function(j){return Gs(m,j)},T.tickFormat=function(j,N){return $s(m,j,N)},T.nice=function(j){return T.domain(Ua(m,j))},T.exponent=function(j){return arguments.length?(w=xs(a=j),k=xs(1/a),e.domain(m.map(w)),T):a},T.copy=function(){return Ha(e.copy(),a,m)},Vs(T,e)}function xs(e){return function(a){return a<0?-Math.pow(-a,e):Math.pow(a,e)}}function Wa(e,a){var m,w,k;function T(N){return w[((m.get(N)||("range"===a.t?m.set(N,e.push(N)):NaN))-1)%w.length]}function j(N,H){return V.range(e.length).map(function(X){return N+H*X})}return T.domain=function(N){if(!arguments.length)return e;e=[],m=new t;for(var re,H=-1,X=N.length;++H<X;)m.has(re=N[H])||m.set(re,e.push(re));return T[a.t].apply(T,a.a)},T.range=function(N){return arguments.length?(w=N,k=0,a={t:"range",a:arguments},T):w},T.rangePoints=function(N,H){arguments.length<2&&(H=0);var X=N[0],re=N[1],fe=e.length<2?(X=(X+re)/2,0):(re-X)/(e.length-1+H);return w=j(X+fe*H/2,fe),k=0,a={t:"rangePoints",a:arguments},T},T.rangeRoundPoints=function(N,H){arguments.length<2&&(H=0);var X=N[0],re=N[1],fe=e.length<2?(X=re=Math.round((X+re)/2),0):(re-X)/(e.length-1+H)|0;return w=j(X+Math.round(fe*H/2+(re-X-(e.length-1+H)*fe)/2),fe),k=0,a={t:"rangeRoundPoints",a:arguments},T},T.rangeBands=function(N,H,X){arguments.length<2&&(H=0),arguments.length<3&&(X=H);var re=N[1]<N[0],fe=N[re-0],_e=N[1-re],Re=(_e-fe)/(e.length-H+2*X);return w=j(fe+Re*X,Re),re&&w.reverse(),k=Re*(1-H),a={t:"rangeBands",a:arguments},T},T.rangeRoundBands=function(N,H,X){arguments.length<2&&(H=0),arguments.length<3&&(X=H);var re=N[1]<N[0],fe=N[re-0],_e=N[1-re],Re=Math.floor((_e-fe)/(e.length-H+2*X));return w=j(fe+Math.round((_e-fe-(e.length-H)*Re)/2),Re),re&&w.reverse(),k=Math.round(Re*(1-H)),a={t:"rangeRoundBands",a:arguments},T},T.rangeBand=function(){return k},T.rangeExtent=function(){return rs(a.a[0])},T.copy=function(){return Wa(e,a)},T.domain(e)}V.scale.pow=function(){return Ha(V.scale.linear(),1,[0,1])},V.scale.sqrt=function(){return V.scale.pow().exponent(.5)},V.scale.ordinal=function(){return Wa([],{t:"range",a:[[]]})},V.scale.category10=function(){return V.scale.ordinal().range(Bh)},V.scale.category20=function(){return V.scale.ordinal().range(Ph)},V.scale.category20b=function(){return V.scale.ordinal().range(Oh)},V.scale.category20c=function(){return V.scale.ordinal().range(Nh)};var Bh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xr),Ph=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xr),Oh=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xr),Nh=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xr);function Ka(e,a){var m;function w(){var T=0,j=a.length;for(m=[];++T<j;)m[T-1]=V.quantile(e,T/j);return k}function k(T){if(!isNaN(T=+T))return a[V.bisect(m,T)]}return k.domain=function(T){return arguments.length?(e=T.map(h).filter(g).sort(L),w()):e},k.range=function(T){return arguments.length?(a=T,w()):a},k.quantiles=function(){return m},k.invertExtent=function(T){return(T=a.indexOf(T))<0?[NaN,NaN]:[T>0?m[T-1]:e[0],T<m.length?m[T]:e[e.length-1]]},k.copy=function(){return Ka(e,a)},w()}function qa(e,a,m){var w,k;function T(N){return m[Math.max(0,Math.min(k,Math.floor(w*(N-e))))]}function j(){return w=m.length/(a-e),k=m.length-1,T}return T.domain=function(N){return arguments.length?(e=+N[0],a=+N[N.length-1],j()):[e,a]},T.range=function(N){return arguments.length?(m=N,j()):m},T.invertExtent=function(N){return[N=(N=m.indexOf(N))<0?NaN:N/w+e,N+1/w]},T.copy=function(){return qa(e,a,m)},j()}function Va(e,a){function m(w){if(w<=w)return a[V.bisect(e,w)]}return m.domain=function(w){return arguments.length?(e=w,m):e},m.range=function(w){return arguments.length?(a=w,m):a},m.invertExtent=function(w){return w=a.indexOf(w),[e[w-1],e[w]]},m.copy=function(){return Va(e,a)},m}function Ga(e){function a(m){return+m}return a.invert=a,a.domain=a.range=function(m){return arguments.length?(e=m.map(a),a):e},a.ticks=function(m){return Gs(e,m)},a.tickFormat=function(m,w){return $s(e,m,w)},a.copy=function(){return Ga(e)},a}function Dh(){return 0}V.scale.quantile=function(){return Ka([],[])},V.scale.quantize=function(){return qa(0,1,[0,1])},V.scale.threshold=function(){return Va([.5],[0,1])},V.scale.identity=function(){return Ga([0,1])},V.svg={},V.svg.arc=function(){var e=zh,a=Uh,m=Dh,w=Ss,k=$a,T=Ya,j=Fh;function N(){var X=Math.max(0,+e.apply(this,arguments)),re=Math.max(0,+a.apply(this,arguments)),fe=k.apply(this,arguments)-Je,_e=T.apply(this,arguments)-Je,Re=Math.abs(_e-fe),Xe=fe>_e?0:1;if(re<X&&(Se=re,re=X,X=Se),Re>=je)return H(re,Xe)+(X?H(X,1-Xe):"")+"Z";var Se,Ie,Me,$e,Tt,yt,wt,mt,Xt,nn,In,bn,Ne=0,Ke=0,An=[];if(($e=(+j.apply(this,arguments)||0)/2)&&(Me=w===Ss?Math.sqrt(X*X+re*re):+w.apply(this,arguments),Xe||(Ke*=-1),re&&(Ke=tn(Me/re*Math.sin($e))),X&&(Ne=tn(Me/X*Math.sin($e)))),re){Tt=re*Math.cos(fe+Ke),yt=re*Math.sin(fe+Ke),wt=re*Math.cos(_e-Ke),mt=re*Math.sin(_e-Ke);var Rt=Math.abs(_e-fe-2*Ke)<=ge?0:1;if(Ke&&ks(Tt,yt,wt,mt)===Xe^Rt){var Jt=(fe+_e)/2;Tt=re*Math.cos(Jt),yt=re*Math.sin(Jt),wt=mt=null}}else Tt=yt=0;if(X){Xt=X*Math.cos(_e-Ne),nn=X*Math.sin(_e-Ne),In=X*Math.cos(fe+Ne),bn=X*Math.sin(fe+Ne);var pn=Math.abs(fe-_e+2*Ne)<=ge?0:1;if(Ne&&ks(Xt,nn,In,bn)===1-Xe^pn){var Pt=(fe+_e)/2;Xt=X*Math.cos(Pt),nn=X*Math.sin(Pt),In=bn=null}}else Xt=nn=0;if(Re>jt&&(Se=Math.min(Math.abs(re-X)/2,+m.apply(this,arguments)))>.001){Ie=X<re^Xe?0:1;var fn=Se,zn=Se;if(Re<ge){var Jn=null==In?[Xt,nn]:null==wt?[Tt,yt]:wi([Tt,yt],[In,bn],[wt,mt],[Xt,nn]),hr=Tt-Jn[0],Rr=yt-Jn[1],Ur=wt-Jn[0],zi=mt-Jn[1],qi=1/Math.sin(Math.acos((hr*Ur+Rr*zi)/(Math.sqrt(hr*hr+Rr*Rr)*Math.sqrt(Ur*Ur+zi*zi)))/2),Ui=Math.sqrt(Jn[0]*Jn[0]+Jn[1]*Jn[1]);zn=Math.min(Se,(X-Ui)/(qi-1)),fn=Math.min(Se,(re-Ui)/(qi+1))}if(null!=wt){var Yi=As(null==In?[Xt,nn]:[In,bn],[Tt,yt],re,fn,Xe),Ii=As([wt,mt],[Xt,nn],re,fn,Xe);Se===fn?An.push("M",Yi[0],"A",fn,",",fn," 0 0,",Ie," ",Yi[1],"A",re,",",re," 0 ",1-Xe^ks(Yi[1][0],Yi[1][1],Ii[1][0],Ii[1][1]),",",Xe," ",Ii[1],"A",fn,",",fn," 0 0,",Ie," ",Ii[0]):An.push("M",Yi[0],"A",fn,",",fn," 0 1,",Ie," ",Ii[0])}else An.push("M",Tt,",",yt);if(null!=In){var Xi=As([Tt,yt],[In,bn],X,-zn,Xe),Zo=As([Xt,nn],null==wt?[Tt,yt]:[wt,mt],X,-zn,Xe);Se===zn?An.push("L",Zo[0],"A",zn,",",zn," 0 0,",Ie," ",Zo[1],"A",X,",",X," 0 ",Xe^ks(Zo[1][0],Zo[1][1],Xi[1][0],Xi[1][1]),",",1-Xe," ",Xi[1],"A",zn,",",zn," 0 0,",Ie," ",Xi[0]):An.push("L",Zo[0],"A",zn,",",zn," 0 0,",Ie," ",Xi[0])}else An.push("L",Xt,",",nn)}else An.push("M",Tt,",",yt),null!=wt&&An.push("A",re,",",re," 0 ",Rt,",",Xe," ",wt,",",mt),An.push("L",Xt,",",nn),null!=In&&An.push("A",X,",",X," 0 ",pn,",",1-Xe," ",In,",",bn);return An.push("Z"),An.join("")}function H(X,re){return"M0,"+X+"A"+X+","+X+" 0 1,"+re+" 0,"+-X+"A"+X+","+X+" 0 1,"+re+" 0,"+X}return N.innerRadius=function(X){return arguments.length?(e=vr(X),N):e},N.outerRadius=function(X){return arguments.length?(a=vr(X),N):a},N.cornerRadius=function(X){return arguments.length?(m=vr(X),N):m},N.padRadius=function(X){return arguments.length?(w=X==Ss?Ss:vr(X),N):w},N.startAngle=function(X){return arguments.length?(k=vr(X),N):k},N.endAngle=function(X){return arguments.length?(T=vr(X),N):T},N.padAngle=function(X){return arguments.length?(j=vr(X),N):j},N.centroid=function(){var X=(+e.apply(this,arguments)+ +a.apply(this,arguments))/2,re=(+k.apply(this,arguments)+ +T.apply(this,arguments))/2-Je;return[Math.cos(re)*X,Math.sin(re)*X]},N};var Ss="auto";function zh(e){return e.innerRadius}function Uh(e){return e.outerRadius}function $a(e){return e.startAngle}function Ya(e){return e.endAngle}function Fh(e){return e&&e.padAngle}function ks(e,a,m,w){return(e-m)*a-(a-w)*e>0?0:1}function As(e,a,m,w,k){var T=e[0]-a[0],j=e[1]-a[1],N=(k?w:-w)/Math.sqrt(T*T+j*j),H=N*j,X=-N*T,re=e[0]+H,fe=e[1]+X,_e=a[0]+H,Re=a[1]+X,Xe=(re+_e)/2,Se=(fe+Re)/2,Ie=_e-re,Me=Re-fe,$e=Ie*Ie+Me*Me,Ne=m-w,Ke=re*Re-_e*fe,Tt=(Me<0?-1:1)*Math.sqrt(Math.max(0,Ne*Ne*$e-Ke*Ke)),yt=(Ke*Me-Ie*Tt)/$e,wt=(-Ke*Ie-Me*Tt)/$e,mt=(Ke*Me+Ie*Tt)/$e,Xt=(-Ke*Ie+Me*Tt)/$e,nn=yt-Xe,In=wt-Se,bn=mt-Xe,An=Xt-Se;return nn*nn+In*In>bn*bn+An*An&&(yt=mt,wt=Xt),[[yt-H,wt-X],[yt*m/Ne,wt*m/Ne]]}function Xa(e){var a=Zn,m=Ln,w=eo,k=_o,T=k.key,j=.7;function N(H){var Re,X=[],re=[],fe=-1,_e=H.length,Xe=vr(a),Se=vr(m);function Ie(){X.push("M",k(e(re),j))}for(;++fe<_e;)w.call(this,Re=H[fe],fe)?re.push([+Xe.call(this,Re,fe),+Se.call(this,Re,fe)]):re.length&&(Ie(),re=[]);return re.length&&Ie(),X.length?X.join(""):null}return N.x=function(H){return arguments.length?(a=H,N):a},N.y=function(H){return arguments.length?(m=H,N):m},N.defined=function(H){return arguments.length?(w=H,N):w},N.interpolate=function(H){return arguments.length?(T="function"==typeof H?k=H:(k=Ys.get(H)||_o).key,N):T},N.tension=function(H){return arguments.length?(j=H,N):j},N}V.svg.line=function(){return Xa(R)};var Ys=V.map({linear:_o,"linear-closed":Za,step:function jh(e){for(var a=0,m=e.length,w=e[0],k=[w[0],",",w[1]];++a<m;)k.push("H",(w[0]+(w=e[a])[0])/2,"V",w[1]);return m>1&&k.push("H",w[0]),k.join("")},"step-before":Xs,"step-after":Zs,basis:Ja,"basis-open":function qh(e){if(e.length<4)return _o(e);for(var k,a=[],m=-1,w=e.length,T=[0],j=[0];++m<3;)T.push((k=e[m])[0]),j.push(k[1]);for(a.push(ho(Wo,T)+","+ho(Wo,j)),--m;++m<w;)k=e[m],T.shift(),T.push(k[0]),j.shift(),j.push(k[1]),Qs(a,T,j);return a.join("")},"basis-closed":function Vh(e){for(var a,T,m=-1,w=e.length,k=w+4,j=[],N=[];++m<4;)j.push((T=e[m%w])[0]),N.push(T[1]);for(a=[ho(Wo,j),",",ho(Wo,N)],--m;++m<k;)T=e[m%w],j.shift(),j.push(T[0]),N.shift(),N.push(T[1]),Qs(a,j,N);return a.join("")},bundle:function Gh(e,a){var m=e.length-1;if(m)for(var H,X,w=e[0][0],k=e[0][1],T=e[m][0]-w,j=e[m][1]-k,N=-1;++N<=m;)(H=e[N])[0]=a*H[0]+(1-a)*(w+(X=N/m)*T),H[1]=a*H[1]+(1-a)*(k+X*j);return Ja(e)},cardinal:function Kh(e,a){return e.length<3?_o(e):e[0]+Cs(e,Js(e,a))},"cardinal-open":function Hh(e,a){return e.length<4?_o(e):e[1]+Cs(e.slice(1,-1),Js(e,a))},"cardinal-closed":function Wh(e,a){return e.length<3?Za(e):e[0]+Cs((e.push(e[0]),e),Js([e[e.length-2]].concat(e,[e[1]]),a))},monotone:function Xh(e){return e.length<3?_o(e):e[0]+Cs(e,function Yh(e){for(var m,w,k,T,a=[],j=function $h(e){for(var a=0,m=e.length-1,w=[],k=e[0],T=e[1],j=w[0]=ea(k,T);++a<m;)w[a]=(j+(j=ea(k=T,T=e[a+1])))/2;return w[a]=j,w}(e),N=-1,H=e.length-1;++N<H;)m=ea(e[N],e[N+1]),c(m)<jt?j[N]=j[N+1]=0:(T=(w=j[N]/m)*w+(k=j[N+1]/m)*k)>9&&(T=3*m/Math.sqrt(T),j[N]=T*w,j[N+1]=T*k);for(N=-1;++N<=H;)T=(e[Math.min(H,N+1)][0]-e[Math.max(0,N-1)][0])/(6*(1+j[N]*j[N])),a.push([T||0,j[N]*T||0]);return a}(e))}});function _o(e){return e.length>1?e.join("L"):e+"Z"}function Za(e){return e.join("L")+"Z"}function Xs(e){for(var a=0,m=e.length,w=e[0],k=[w[0],",",w[1]];++a<m;)k.push("V",(w=e[a])[1],"H",w[0]);return k.join("")}function Zs(e){for(var a=0,m=e.length,w=e[0],k=[w[0],",",w[1]];++a<m;)k.push("H",(w=e[a])[0],"V",w[1]);return k.join("")}function Cs(e,a){if(a.length<1||e.length!=a.length&&e.length!=a.length+2)return _o(e);var m=e.length!=a.length,w="",k=e[0],T=e[1],j=a[0],N=j,H=1;if(m&&(w+="Q"+(T[0]-2*j[0]/3)+","+(T[1]-2*j[1]/3)+","+T[0]+","+T[1],k=e[1],H=2),a.length>1){T=e[H],H++,w+="C"+(k[0]+j[0])+","+(k[1]+j[1])+","+(T[0]-(N=a[1])[0])+","+(T[1]-N[1])+","+T[0]+","+T[1];for(var X=2;X<a.length;X++,H++)w+="S"+((T=e[H])[0]-(N=a[X])[0])+","+(T[1]-N[1])+","+T[0]+","+T[1]}if(m){var re=e[H];w+="Q"+(T[0]+2*N[0]/3)+","+(T[1]+2*N[1]/3)+","+re[0]+","+re[1]}return w}function Js(e,a){for(var k,m=[],w=(1-a)/2,T=e[0],j=e[1],N=1,H=e.length;++N<H;)k=T,T=j,m.push([w*((j=e[N])[0]-k[0]),w*(j[1]-k[1])]);return m}function Ja(e){if(e.length<3)return _o(e);var a=1,m=e.length,w=e[0],k=w[0],T=w[1],j=[k,k,k,(w=e[1])[0]],N=[T,T,T,w[1]],H=[k,",",T,"L",ho(Wo,j),",",ho(Wo,N)];for(e.push(e[m-1]);++a<=m;)w=e[a],j.shift(),j.push(w[0]),N.shift(),N.push(w[1]),Qs(H,j,N);return e.pop(),H.push("L",w),H.join("")}function ho(e,a){return e[0]*a[0]+e[1]*a[1]+e[2]*a[2]+e[3]*a[3]}Ys.forEach(function(e,a){a.key=e,a.closed=/-closed$/.test(e)});var Qa=[0,2/3,1/3,0],ec=[0,1/3,2/3,0],Wo=[0,1/6,2/3,1/6];function Qs(e,a,m){e.push("C",ho(Qa,a),",",ho(Qa,m),",",ho(ec,a),",",ho(ec,m),",",ho(Wo,a),",",ho(Wo,m))}function ea(e,a){return(a[1]-e[1])/(a[0]-e[0])}function tc(e){for(var a,k,T,m=-1,w=e.length;++m<w;)T=(a=e[m])[1]-Je,a[0]=(k=a[0])*Math.cos(T),a[1]=k*Math.sin(T);return e}function nc(e){var a=Zn,m=Zn,w=0,k=Ln,T=eo,j=_o,N=j.key,H=j,X="L",re=.7;function fe(_e){var $e,wt,mt,Re=[],Xe=[],Se=[],Ie=-1,Me=_e.length,Ne=vr(a),Ke=vr(w),Tt=a===m?function(){return wt}:vr(m),yt=w===k?function(){return mt}:vr(k);function Xt(){Re.push("M",j(e(Se),re),X,H(e(Xe.reverse()),re),"Z")}for(;++Ie<Me;)T.call(this,$e=_e[Ie],Ie)?(Xe.push([wt=+Ne.call(this,$e,Ie),mt=+Ke.call(this,$e,Ie)]),Se.push([+Tt.call(this,$e,Ie),+yt.call(this,$e,Ie)])):Xe.length&&(Xt(),Xe=[],Se=[]);return Xe.length&&Xt(),Re.length?Re.join(""):null}return fe.x=function(_e){return arguments.length?(a=m=_e,fe):m},fe.x0=function(_e){return arguments.length?(a=_e,fe):a},fe.x1=function(_e){return arguments.length?(m=_e,fe):m},fe.y=function(_e){return arguments.length?(w=k=_e,fe):k},fe.y0=function(_e){return arguments.length?(w=_e,fe):w},fe.y1=function(_e){return arguments.length?(k=_e,fe):k},fe.defined=function(_e){return arguments.length?(T=_e,fe):T},fe.interpolate=function(_e){return arguments.length?(N="function"==typeof _e?j=_e:(j=Ys.get(_e)||_o).key,H=j.reverse||j,X=j.closed?"M":"L",fe):N},fe.tension=function(_e){return arguments.length?(re=_e,fe):re},fe}function Zh(e){return e.radius}function rc(e){return[e.x,e.y]}function Jh(e){return function(){var a=e.apply(this,arguments),m=a[0],w=a[1]-Je;return[m*Math.cos(w),m*Math.sin(w)]}}function Qh(){return 64}function eu(){return"circle"}function ic(e){var a=Math.sqrt(e/ge);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}V.svg.line.radial=function(){var e=Xa(tc);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Xs.reverse=Zs,Zs.reverse=Xs,V.svg.area=function(){return nc(R)},V.svg.area.radial=function(){var e=nc(tc);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},V.svg.chord=function(){var e=vi,a=Fr,m=Zh,w=$a,k=Ya;function T(re,fe){var _e=j(this,e,re,fe),Re=j(this,a,re,fe);return"M"+_e.p0+H(_e.r,_e.p1,_e.a1-_e.a0)+(function N(re,fe){return re.a0==fe.a0&&re.a1==fe.a1}(_e,Re)?X(0,0,0,_e.p0):X(0,0,0,Re.p0)+H(Re.r,Re.p1,Re.a1-Re.a0)+X(0,0,0,_e.p0))+"Z"}function j(re,fe,_e,Re){var Xe=fe.call(re,_e,Re),Se=m.call(re,Xe,Re),Ie=w.call(re,Xe,Re)-Je,Me=k.call(re,Xe,Re)-Je;return{r:Se,a0:Ie,a1:Me,p0:[Se*Math.cos(Ie),Se*Math.sin(Ie)],p1:[Se*Math.cos(Me),Se*Math.sin(Me)]}}function H(re,fe,_e){return"A"+re+","+re+" 0 "+ +(_e>ge)+",1 "+fe}function X(re,fe,_e,Re){return"Q 0,0 "+Re}return T.radius=function(re){return arguments.length?(m=vr(re),T):m},T.source=function(re){return arguments.length?(e=vr(re),T):e},T.target=function(re){return arguments.length?(a=vr(re),T):a},T.startAngle=function(re){return arguments.length?(w=vr(re),T):w},T.endAngle=function(re){return arguments.length?(k=vr(re),T):k},T},V.svg.diagonal=function(){var e=vi,a=Fr,m=rc;function w(k,T){var j=e.call(this,k,T),N=a.call(this,k,T),H=(j.y+N.y)/2,X=[j,{x:j.x,y:H},{x:N.x,y:H},N];return"M"+(X=X.map(m))[0]+"C"+X[1]+" "+X[2]+" "+X[3]}return w.source=function(k){return arguments.length?(e=vr(k),w):e},w.target=function(k){return arguments.length?(a=vr(k),w):a},w.projection=function(k){return arguments.length?(m=k,w):m},w},V.svg.diagonal.radial=function(){var e=V.svg.diagonal(),a=rc,m=e.projection;return e.projection=function(w){return arguments.length?m(Jh(a=w)):a},e},V.svg.symbol=function(){var e=eu,a=Qh;function m(w,k){return(oc.get(e.call(this,w,k))||ic)(a.call(this,w,k))}return m.type=function(w){return arguments.length?(e=vr(w),m):e},m.size=function(w){return arguments.length?(a=vr(w),m):a},m};var oc=V.map({circle:ic,cross:function(e){var a=Math.sqrt(e/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(e){var a=Math.sqrt(e/(2*sc)),m=a*sc;return"M0,"+-a+"L"+m+",0 0,"+a+" "+-m+",0Z"},square:function(e){var a=Math.sqrt(e)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(e){var a=Math.sqrt(e/Ts),m=a*Ts/2;return"M0,"+m+"L"+a+","+-m+" "+-a+","+-m+"Z"},"triangle-up":function(e){var a=Math.sqrt(e/Ts),m=a*Ts/2;return"M0,"+-m+"L"+a+","+m+" "+-a+","+m+"Z"}});V.svg.symbolTypes=oc.keys();var Ts=Math.sqrt(3),sc=Math.tan(30*Qe);ae.transition=function(e){for(var k,T,a=Yo||++cc,m=na(e),w=[],j=Rs||{time:Date.now(),ease:Mc,delay:0,duration:250},N=-1,H=this.length;++N<H;){w.push(k=[]);for(var X=this[N],re=-1,fe=X.length;++re<fe;)(T=X[re])&&Ms(T,re,m,a,j),k.push(T)}return ps(w,m,a)},ae.interrupt=function(e){return this.each(null==e?Is:ac(na(e)))};var Is=ac(na());function ac(e){return function(){var a,m,w;(a=this[e])&&(w=a[m=a.active])&&(w.timer.c=null,w.timer.t=NaN,--a.count?delete a[m]:delete this[e],a.active+=.5,w.event&&w.event.interrupt.call(this,this.__data__,w.index))}}function ps(e,a,m){return C(e,ai),e.namespace=a,e.id=m,e}var Yo,Rs,ai=[],cc=0;function ta(e,a,m,w){var k=e.id,T=e.namespace;return pe(e,"function"==typeof m?function(j,N,H){j[T][k].tween.set(a,w(m.call(j,j.__data__,N,H)))}:(m=w(m),function(j){j[T][k].tween.set(a,m)}))}function tu(e){return null==e&&(e=""),function(){this.textContent=e}}function na(e){return null==e?"__transition__":"__transition_"+e+"__"}function Ms(e,a,m,w,k){var N,H,X,re,fe,T=e[m]||(e[m]={active:0,count:0}),j=T[w];function Re(Se){var Ie=T.active,Me=T[Ie];for(var $e in Me&&(Me.timer.c=null,Me.timer.t=NaN,--T.count,delete T[Ie],Me.event&&Me.event.interrupt.call(e,e.__data__,Me.index)),T)if(+$e<w){var Ne=T[$e];Ne.timer.c=null,Ne.timer.t=NaN,--T.count,delete T[$e]}H.c=Xe,B(function(){return H.c&&Xe(Se||1)&&(H.c=null,H.t=NaN),1},0,N),T.active=w,j.event&&j.event.start.call(e,e.__data__,a),fe=[],j.tween.forEach(function(Ke,Tt){(Tt=Tt.call(e,e.__data__,a))&&fe.push(Tt)}),re=j.ease,X=j.duration}function Xe(Se){for(var Ie=Se/X,Me=re(Ie),$e=fe.length;$e>0;)fe[--$e].call(e,Me);if(Ie>=1)return j.event&&j.event.end.call(e,e.__data__,a),--T.count?delete T[w]:delete e[m],1}j||(H=B(function _e(Se){var Ie=j.delay;if(H.t=Ie+N,Ie<=Se)return Re(Se-Ie);H.c=Re},0,N=k.time),j=T[w]={tween:new t,time:N,timer:H,delay:k.delay,duration:k.duration,ease:k.ease,index:a},k=null,++T.count)}ai.call=ae.call,ai.empty=ae.empty,ai.node=ae.node,ai.size=ae.size,V.transition=function(e,a){return e&&e.transition?Yo?e.transition(a):e:V.selection().transition(e)},V.transition.prototype=ai,ai.select=function(e){var k,T,j,a=this.id,m=this.namespace,w=[];e=Fe(e);for(var N=-1,H=this.length;++N<H;){w.push(k=[]);for(var X=this[N],re=-1,fe=X.length;++re<fe;)(j=X[re])&&(T=e.call(j,j.__data__,re,N))?("__data__"in j&&(T.__data__=j.__data__),Ms(T,re,m,a,j[m][a]),k.push(T)):k.push(null)}return ps(w,m,a)},ai.selectAll=function(e){var k,T,j,N,H,a=this.id,m=this.namespace,w=[];e=He(e);for(var X=-1,re=this.length;++X<re;)for(var fe=this[X],_e=-1,Re=fe.length;++_e<Re;)if(j=fe[_e]){H=j[m][a],T=e.call(j,j.__data__,_e,X),w.push(k=[]);for(var Xe=-1,Se=T.length;++Xe<Se;)(N=T[Xe])&&Ms(N,Xe,m,a,H),k.push(N)}return ps(w,m,a)},ai.filter=function(e){var m,k,a=[];"function"!=typeof e&&(e=et(e));for(var T=0,j=this.length;T<j;T++){a.push(m=[]);for(var w,N=0,H=(w=this[T]).length;N<H;N++)(k=w[N])&&e.call(k,k.__data__,N,T)&&m.push(k)}return ps(a,this.namespace,this.id)},ai.tween=function(e,a){var m=this.id,w=this.namespace;return arguments.length<2?this.node()[w][m].tween.get(e):pe(this,null==a?function(k){k[w][m].tween.remove(e)}:function(k){k[w][m].tween.set(e,a)})},ai.attr=function(e,a){if(arguments.length<2){for(a in e)this.attr(a,e[a]);return this}var m="transform"==e?xa:$o,w=V.ns.qualify(e);function k(){this.removeAttribute(w)}function T(){this.removeAttributeNS(w.space,w.local)}function j(H){return null==H?k:(H+="",function(){var re,X=this.getAttribute(w);return X!==H&&(re=m(X,H),function(fe){this.setAttribute(w,re(fe))})})}function N(H){return null==H?T:(H+="",function(){var re,X=this.getAttributeNS(w.space,w.local);return X!==H&&(re=m(X,H),function(fe){this.setAttributeNS(w.space,w.local,re(fe))})})}return ta(this,"attr."+e,a,w.local?N:j)},ai.attrTween=function(e,a){var m=V.ns.qualify(e);return this.tween("attr."+e,m.local?function k(T,j){var N=a.call(this,T,j,this.getAttributeNS(m.space,m.local));return N&&function(H){this.setAttributeNS(m.space,m.local,N(H))}}:function w(T,j){var N=a.call(this,T,j,this.getAttribute(m));return N&&function(H){this.setAttribute(m,N(H))}})},ai.style=function(e,a,m){var w=arguments.length;if(w<3){if("string"!=typeof e){for(m in w<2&&(a=""),e)this.style(m,e[m],a);return this}m=""}function k(){this.style.removeProperty(e)}function T(j){return null==j?k:(j+="",function(){var H,N=Z(this).getComputedStyle(this,null).getPropertyValue(e);return N!==j&&(H=$o(N,j),function(X){this.style.setProperty(e,H(X),m)})})}return ta(this,"style."+e,a,T)},ai.styleTween=function(e,a,m){function w(k,T){var j=a.call(this,k,T,Z(this).getComputedStyle(this,null).getPropertyValue(e));return j&&function(N){this.style.setProperty(e,j(N),m)}}return arguments.length<3&&(m=""),this.tween("style."+e,w)},ai.text=function(e){return ta(this,"text",e,tu)},ai.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var a;this[e].count<2&&(a=this.parentNode)&&a.removeChild(this)})},ai.ease=function(e){var a=this.id,m=this.namespace;return arguments.length<1?this.node()[m][a].ease:("function"!=typeof e&&(e=V.ease.apply(V,arguments)),pe(this,function(w){w[m][a].ease=e}))},ai.delay=function(e){var a=this.id,m=this.namespace;return arguments.length<1?this.node()[m][a].delay:pe(this,"function"==typeof e?function(w,k,T){w[m][a].delay=+e.call(w,w.__data__,k,T)}:(e=+e,function(w){w[m][a].delay=e}))},ai.duration=function(e){var a=this.id,m=this.namespace;return arguments.length<1?this.node()[m][a].duration:pe(this,"function"==typeof e?function(w,k,T){w[m][a].duration=Math.max(1,e.call(w,w.__data__,k,T))}:(e=Math.max(1,e),function(w){w[m][a].duration=e}))},ai.each=function(e,a){var m=this.id,w=this.namespace;if(arguments.length<2){var k=Rs,T=Yo;try{Yo=m,pe(this,function(j,N,H){Rs=j[w][m],e.call(j,j.__data__,N,H)})}finally{Rs=k,Yo=T}}else pe(this,function(j){var N=j[w][m];(N.event||(N.event=V.dispatch("start","end","interrupt"))).on(e,a)});return this},ai.transition=function(){for(var k,j,N,e=this.id,a=++cc,m=this.namespace,w=[],H=0,X=this.length;H<X;H++){w.push(k=[]);for(var T,re=0,fe=(T=this[H]).length;re<fe;re++)(j=T[re])&&Ms(j,re,m,a,{time:(N=j[m][e]).time,ease:N.ease,delay:N.delay+N.duration,duration:N.duration}),k.push(j)}return ps(w,m,a)},V.svg.axis=function(){var N,e=V.scale.linear(),a=hc,m=6,w=6,k=3,T=[10],j=null;function H(X){X.each(function(){var Ke,re=V.select(this),fe=this.__chart__||e,_e=this.__chart__=e.copy(),Re=null==j?_e.ticks?_e.ticks.apply(_e,T):_e.domain():j,Xe=null==N?_e.tickFormat?_e.tickFormat.apply(_e,T):R:N,Se=re.selectAll(".tick").data(Re,_e),Ie=Se.enter().insert("g",".domain").attr("class","tick").style("opacity",jt),Me=V.transition(Se.exit()).style("opacity",jt).remove(),$e=V.transition(Se.order()).style("opacity",1),Ne=Math.max(m,0)+k,Tt=bs(_e),yt=re.selectAll(".domain").data([0]),wt=(yt.enter().append("path").attr("class","domain"),V.transition(yt));Ie.append("line"),Ie.append("text");var Rt,Jt,pn,Pt,mt=Ie.select("line"),Xt=$e.select("line"),nn=Se.select("text").text(Xe),In=Ie.select("text"),bn=$e.select("text"),An="top"===a||"left"===a?-1:1;if("bottom"===a||"top"===a?(Ke=ru,Rt="x",pn="y",Jt="x2",Pt="y2",nn.attr("dy",An<0?"0em":".71em").style("text-anchor","middle"),wt.attr("d","M"+Tt[0]+","+An*w+"V0H"+Tt[1]+"V"+An*w)):(Ke=iu,Rt="y",pn="x",Jt="y2",Pt="x2",nn.attr("dy",".32em").style("text-anchor",An<0?"end":"start"),wt.attr("d","M"+An*w+","+Tt[0]+"H0V"+Tt[1]+"H"+An*w)),mt.attr(Pt,An*m),In.attr(pn,An*Ne),Xt.attr(Jt,0).attr(Pt,An*m),bn.attr(Rt,0).attr(pn,An*Ne),_e.rangeBand){var fn=_e,zn=fn.rangeBand()/2;fe=_e=function(Jn){return fn(Jn)+zn}}else fe.rangeBand?fe=_e:Me.call(Ke,_e,fe);Ie.call(Ke,fe,_e),$e.call(Ke,_e,_e)})}return H.scale=function(X){return arguments.length?(e=X,H):e},H.orient=function(X){return arguments.length?(a=X in nu?X+"":hc,H):a},H.ticks=function(){return arguments.length?(T=Pe(arguments),H):T},H.tickValues=function(X){return arguments.length?(j=X,H):j},H.tickFormat=function(X){return arguments.length?(N=X,H):N},H.tickSize=function(X){var re=arguments.length;return re?(m=+X,w=+arguments[re-1],H):m},H.innerTickSize=function(X){return arguments.length?(m=+X,H):m},H.outerTickSize=function(X){return arguments.length?(w=+X,H):w},H.tickPadding=function(X){return arguments.length?(k=+X,H):k},H.tickSubdivide=function(){return arguments.length&&H},H};var hc="bottom",nu={top:1,right:1,bottom:1,left:1};function ru(e,a,m){e.attr("transform",function(w){var k=a(w);return"translate("+(isFinite(k)?k:m(w))+",0)"})}function iu(e,a,m){e.attr("transform",function(w){var k=a(w);return"translate(0,"+(isFinite(k)?k:m(w))+")"})}V.svg.brush=function(){var T,j,e=U(re,"brushstart","brush","brushend"),a=null,m=null,w=[0,0],k=[0,0],N=!0,H=!0,X=ra[0];function re(Se){Se.each(function(){var Ie=V.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Xe).on("touchstart.brush",Xe),Me=Ie.selectAll(".background").data([0]);Me.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Ie.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var $e=Ie.selectAll(".resize").data(X,R);$e.exit().remove(),$e.enter().append("g").attr("class",function(yt){return"resize "+yt}).style("cursor",function(yt){return ou[yt]}).append("rect").attr("x",function(yt){return/[ew]$/.test(yt)?-3:null}).attr("y",function(yt){return/^[ns]/.test(yt)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),$e.style("display",re.empty()?"none":null);var Tt,Ne=V.transition(Ie),Ke=V.transition(Me);a&&(Tt=bs(a),Ke.attr("x",Tt[0]).attr("width",Tt[1]-Tt[0]),_e(Ne)),m&&(Tt=bs(m),Ke.attr("y",Tt[0]).attr("height",Tt[1]-Tt[0]),Re(Ne)),fe(Ne)})}function fe(Se){Se.selectAll(".resize").attr("transform",function(Ie){return"translate("+w[+/e$/.test(Ie)]+","+k[+/^s/.test(Ie)]+")"})}function _e(Se){Se.select(".extent").attr("x",w[0]),Se.selectAll(".extent,.n>rect,.s>rect").attr("width",w[1]-w[0])}function Re(Se){Se.select(".extent").attr("y",k[0]),Se.selectAll(".extent,.e>rect,.w>rect").attr("height",k[1]-k[0])}function Xe(){var mt,nn,Se=this,Ie=V.select(V.event.target),Me=e.of(Se,arguments),$e=V.select(Se),Ne=Ie.datum(),Ke=!/^(n|s)$/.test(Ne)&&a,Tt=!/^(e|w)$/.test(Ne)&&m,yt=Ie.classed("extent"),wt=$n(Se),Xt=V.mouse(Se),In=V.select(Z(Se)).on("keydown.brush",Rt).on("keyup.brush",Jt);if(V.event.changedTouches?In.on("touchmove.brush",pn).on("touchend.brush",fn):In.on("mousemove.brush",pn).on("mouseup.brush",fn),$e.interrupt().selectAll("*").interrupt(),yt)Xt[0]=w[0]-Xt[0],Xt[1]=k[0]-Xt[1];else if(Ne){var bn=+/w$/.test(Ne),An=+/^n/.test(Ne);nn=[w[1-bn]-Xt[0],k[1-An]-Xt[1]],Xt[0]=w[bn],Xt[1]=k[An]}else V.event.altKey&&(mt=Xt.slice());function Rt(){32==V.event.keyCode&&(yt||(mt=null,Xt[0]-=w[1],Xt[1]-=k[1],yt=2),A())}function Jt(){32==V.event.keyCode&&2==yt&&(Xt[0]+=w[1],Xt[1]+=k[1],yt=0,A())}function pn(){var zn=V.mouse(Se),Jn=!1;nn&&(zn[0]+=nn[0],zn[1]+=nn[1]),yt||(V.event.altKey?(mt||(mt=[(w[0]+w[1])/2,(k[0]+k[1])/2]),Xt[0]=w[+(zn[0]<mt[0])],Xt[1]=k[+(zn[1]<mt[1])]):mt=null),Ke&&Pt(zn,a,0)&&(_e($e),Jn=!0),Tt&&Pt(zn,m,1)&&(Re($e),Jn=!0),Jn&&(fe($e),Me({type:"brush",mode:yt?"move":"resize"}))}function Pt(zn,Jn,hr){var Ii,Xi,Rr=bs(Jn),Ur=Rr[0],zi=Rr[1],qi=Xt[hr],Ui=hr?k:w,Yi=Ui[1]-Ui[0];if(yt&&(Ur-=qi,zi-=Yi+qi),Ii=(hr?H:N)?Math.max(Ur,Math.min(zi,zn[hr])):zn[hr],yt?Xi=(Ii+=qi)+Yi:(mt&&(qi=Math.max(Ur,Math.min(zi,2*mt[hr]-Ii))),qi<Ii?(Xi=Ii,Ii=qi):Xi=qi),Ui[0]!=Ii||Ui[1]!=Xi)return hr?j=null:T=null,Ui[0]=Ii,Ui[1]=Xi,!0}function fn(){pn(),$e.style("pointer-events","all").selectAll(".resize").style("display",re.empty()?"none":null),V.select("body").style("cursor",null),In.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),wt(),Me({type:"brushend"})}$e.style("pointer-events","none").selectAll(".resize").style("display",null),V.select("body").style("cursor",Ie.style("cursor")),Me({type:"brushstart"}),pn()}return re.event=function(Se){Se.each(function(){var Ie=e.of(this,arguments),Me={x:w,y:k,i:T,j},$e=this.__chart__||Me;this.__chart__=Me,Yo?V.select(this).transition().each("start.brush",function(){T=$e.i,j=$e.j,w=$e.x,k=$e.y,Ie({type:"brushstart"})}).tween("brush:brush",function(){var Ne=_s(w,Me.x),Ke=_s(k,Me.y);return T=j=null,function(Tt){w=Me.x=Ne(Tt),k=Me.y=Ke(Tt),Ie({type:"brush",mode:"resize"})}}).each("end.brush",function(){T=Me.i,j=Me.j,Ie({type:"brush",mode:"resize"}),Ie({type:"brushend"})}):(Ie({type:"brushstart"}),Ie({type:"brush",mode:"resize"}),Ie({type:"brushend"}))})},re.x=function(Se){return arguments.length?(X=ra[!(a=Se)<<1|!m],re):a},re.y=function(Se){return arguments.length?(X=ra[!a<<1|!(m=Se)],re):m},re.clamp=function(Se){return arguments.length?(a&&m?(N=!!Se[0],H=!!Se[1]):a?N=!!Se:m&&(H=!!Se),re):a&&m?[N,H]:a?N:m?H:null},re.extent=function(Se){var Ie,Me,$e,Ne,Ke;return arguments.length?(a&&(Ie=Se[0],Me=Se[1],m&&(Ie=Ie[0],Me=Me[0]),T=[Ie,Me],a.invert&&(Ie=a(Ie),Me=a(Me)),Me<Ie&&(Ke=Ie,Ie=Me,Me=Ke),(Ie!=w[0]||Me!=w[1])&&(w=[Ie,Me])),m&&($e=Se[0],Ne=Se[1],a&&($e=$e[1],Ne=Ne[1]),j=[$e,Ne],m.invert&&($e=m($e),Ne=m(Ne)),Ne<$e&&(Ke=$e,$e=Ne,Ne=Ke),($e!=k[0]||Ne!=k[1])&&(k=[$e,Ne])),re):(a&&(T?(Ie=T[0],Me=T[1]):(Ie=w[0],Me=w[1],a.invert&&(Ie=a.invert(Ie),Me=a.invert(Me)),Me<Ie&&(Ke=Ie,Ie=Me,Me=Ke))),m&&(j?($e=j[0],Ne=j[1]):($e=k[0],Ne=k[1],m.invert&&($e=m.invert($e),Ne=m.invert(Ne)),Ne<$e&&(Ke=$e,$e=Ne,Ne=Ke))),a&&m?[[Ie,$e],[Me,Ne]]:a?[Ie,Me]:m&&[$e,Ne])},re.clear=function(){return re.empty()||(w=[0,0],k=[0,0],T=j=null),re},re.empty=function(){return!!a&&w[0]==w[1]||!!m&&k[0]==k[1]},V.rebind(re,e,"on")};var ou={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ra=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],ia=st.format=_n.timeFormat,uc=ia.utc,fc=uc("%Y-%m-%dT%H:%M:%S.%LZ");function oa(e){return e.toISOString()}function sa(e,a,m){function w(T){return e(T)}function k(T,j){var H=(T[1]-T[0])/j,X=V.bisect(Ls,H);return X==Ls.length?[a.year,is(T.map(function(re){return re/31536e6}),j)[2]]:X?a[H/Ls[X-1]<Ls[X]/H?X-1:X]:[au,is(T,j)[2]]}return w.invert=function(T){return Xo(e.invert(T))},w.domain=function(T){return arguments.length?(e.domain(T),w):e.domain().map(Xo)},w.nice=function(T,j){var N=w.domain(),H=rs(N),X=null==T?k(H,10):"number"==typeof T&&k(H,T);function re(fe){return!isNaN(fe)&&!T.range(fe,Xo(+fe+1),j).length}return X&&(T=X[0],j=X[1]),w.domain(ws(N,j>1?{floor:function(fe){for(;re(fe=T.floor(fe));)fe=Xo(fe-1);return fe},ceil:function(fe){for(;re(fe=T.ceil(fe));)fe=Xo(+fe+1);return fe}}:T))},w.ticks=function(T,j){var N=rs(w.domain()),H=null==T?k(N,10):"number"==typeof T?k(N,T):!T.range&&[{range:T},j];return H&&(T=H[0],j=H[1]),T.range(N[0],Xo(+N[1]+1),j<1?1:j)},w.tickFormat=function(){return m},w.copy=function(){return sa(e.copy(),a,m)},Vs(w,e)}function Xo(e){return new Date(e)}ia.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?oa:fc,oa.parse=function(e){var a=new Date(e);return isNaN(a)?null:a},oa.toString=fc.toString,st.second=It(function(e){return new pt(1e3*Math.floor(e/1e3))},function(e,a){e.setTime(e.getTime()+1e3*Math.floor(a))},function(e){return e.getSeconds()}),st.seconds=st.second.range,st.seconds.utc=st.second.utc.range,st.minute=It(function(e){return new pt(6e4*Math.floor(e/6e4))},function(e,a){e.setTime(e.getTime()+6e4*Math.floor(a))},function(e){return e.getMinutes()}),st.minutes=st.minute.range,st.minutes.utc=st.minute.utc.range,st.hour=It(function(e){var a=e.getTimezoneOffset()/60;return new pt(36e5*(Math.floor(e/36e5-a)+a))},function(e,a){e.setTime(e.getTime()+36e5*Math.floor(a))},function(e){return e.getHours()}),st.hours=st.hour.range,st.hours.utc=st.hour.utc.range,st.month=It(function(e){return(e=st.day(e)).setDate(1),e},function(e,a){e.setMonth(e.getMonth()+a)},function(e){return e.getMonth()}),st.months=st.month.range,st.months.utc=st.month.utc.range;var Ls=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],aa=[[st.second,1],[st.second,5],[st.second,15],[st.second,30],[st.minute,1],[st.minute,5],[st.minute,15],[st.minute,30],[st.hour,1],[st.hour,3],[st.hour,6],[st.hour,12],[st.day,1],[st.day,2],[st.week,1],[st.month,1],[st.month,3],[st.year,1]],su=ia.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",eo]]),au={range:function(e,a,m){return V.range(Math.ceil(e/m)*m,+a,m).map(Xo)},floor:R,ceil:R};aa.year=st.year,st.scale=function(){return sa(V.scale.linear(),aa,su)};var lc=aa.map(function(e){return[e[0].utc,e[1]]}),cu=uc.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",eo]]);function hu(e){return JSON.parse(e.responseText)}function uu(e){var a=_.createRange();return a.selectNode(_.body),a.createContextualFragment(e.responseText)}lc.year=st.year.utc,st.scale.utc=function(){return sa(V.scale.linear(),lc,cu)},V.text=Vi(function(e){return e.responseText}),V.json=function(e,a){return Gi(e,"application/json",hu,a)},V.html=function(e,a){return Gi(e,"text/html",uu,a)},V.xml=Vi(function(e){return e.responseXML}),"object"==typeof Et&&Et.exports?Et.exports=V:this.d3=V}()},{}],2:[function(At,Et,kt){(function(V){kt.log=function _(...ne){return"object"==typeof console&&console.log&&console.log(...ne)},kt.formatArgs=function Pe(ne){if(ne[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+ne[0]+(this.useColors?"%c ":" ")+"+"+Et.exports.humanize(this.diff),!this.useColors)return;const me="color: "+this.color;ne.splice(1,0,me,"color: inherit");let v=0,L=0;ne[0].replace(/%[a-zA-Z%]/g,h=>{"%%"!==h&&(v++,"%c"===h&&(L=v))}),ne.splice(L,0,me)},kt.save=function Q(ne){try{ne?kt.storage.setItem("debug",ne):kt.storage.removeItem("debug")}catch(me){}},kt.load=function Z(){let ne;try{ne=kt.storage.getItem("debug")}catch(me){}return!ne&&void 0!==V&&"env"in V&&(ne=V.env.DEBUG),ne},kt.useColors=function Ue(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},kt.storage=function ce(){try{return localStorage}catch(ne){}}(),kt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],Et.exports=At("./common")(kt);const{formatters:de}=Et.exports;de.j=function(ne){try{return JSON.stringify(ne)}catch(me){return"[UnexpectedJSONParseError]: "+me.message}}}).call(this,At("_process"))},{"./common":3,_process:7}],3:[function(At,Et,kt){Et.exports=function V(Ue){function Pe(L){let h=0;for(let g=0;g<L.length;g++)h=(h<<5)-h+L.charCodeAt(g),h|=0;return _.colors[Math.abs(h)%_.colors.length]}function _(L){let h;function g(...p){if(!g.enabled)return;const x=g,r=Number(new Date);x.diff=r-(h||r),x.prev=h,x.curr=r,h=r,p[0]=_.coerce(p[0]),"string"!=typeof p[0]&&p.unshift("%O");let l=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(t,i)=>{if("%%"===t)return t;l++;const s=_.formatters[i];return"function"==typeof s&&(t=s.call(x,p[l]),p.splice(l,1),l--),t}),_.formatArgs.call(x,p),(x.log||_.log).apply(x,p)}return g.namespace=L,g.enabled=_.enabled(L),g.useColors=_.useColors(),g.color=Pe(L),g.destroy=Q,g.extend=Z,"function"==typeof _.init&&_.init(g),_.instances.push(g),g}function Q(){const L=_.instances.indexOf(this);return-1!==L&&(_.instances.splice(L,1),!0)}function Z(L,h){const g=_(this.namespace+(void 0===h?":":h)+L);return g.log=this.log,g}function me(L){return L.toString().substring(2,L.toString().length-2).replace(/\.\*\?$/,"*")}return _.debug=_,_.default=_,_.coerce=function v(L){return L instanceof Error?L.stack||L.message:L},_.disable=function de(){const L=[..._.names.map(me),..._.skips.map(me).map(h=>"-"+h)].join(",");return _.enable(""),L},_.enable=function ce(L){let h;_.save(L),_.names=[],_.skips=[];const g=("string"==typeof L?L:"").split(/[\s,]+/),p=g.length;for(h=0;h<p;h++)!g[h]||("-"===(L=g[h].replace(/\*/g,".*?"))[0]?_.skips.push(new RegExp("^"+L.substr(1)+"$")):_.names.push(new RegExp("^"+L+"$")));for(h=0;h<_.instances.length;h++){const x=_.instances[h];x.enabled=_.enabled(x.namespace)}},_.enabled=function ne(L){if("*"===L[L.length-1])return!0;let h,g;for(h=0,g=_.skips.length;h<g;h++)if(_.skips[h].test(L))return!1;for(h=0,g=_.names.length;h<g;h++)if(_.names[h].test(L))return!0;return!1},_.humanize=At("ms"),Object.keys(Ue).forEach(L=>{_[L]=Ue[L]}),_.instances=[],_.names=[],_.skips=[],_.formatters={},_.selectColor=Pe,_.enable(_.load()),_}},{ms:6}],4:[function(At,Et,kt){var V=Object.create||function i(o){var d=function(){};return d.prototype=o,new d},Ue=Object.keys||function s(o){var d=[];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&d.push(f);return f},Pe=Function.prototype.bind||function u(o){var d=this;return function(){return d.apply(o,arguments)}};function _(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=V(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}Et.exports=_,_.EventEmitter=_,_.prototype._events=void 0,_.prototype._maxListeners=void 0;var Z,Q=10;try{var ce={};Object.defineProperty&&Object.defineProperty(ce,"x",{value:0}),Z=0===ce.x}catch(o){Z=!1}function de(o){return void 0===o._maxListeners?_.defaultMaxListeners:o._maxListeners}function ne(o,d,f){if(d)o.call(f);else for(var E=o.length,b=n(o,E),I=0;I<E;++I)b[I].call(f)}function me(o,d,f,E){if(d)o.call(f,E);else for(var b=o.length,I=n(o,b),S=0;S<b;++S)I[S].call(f,E)}function v(o,d,f,E,b){if(d)o.call(f,E,b);else for(var I=o.length,S=n(o,I),R=0;R<I;++R)S[R].call(f,E,b)}function L(o,d,f,E,b,I){if(d)o.call(f,E,b,I);else for(var S=o.length,R=n(o,S),F=0;F<S;++F)R[F].call(f,E,b,I)}function h(o,d,f,E){if(d)o.apply(f,E);else for(var b=o.length,I=n(o,b),S=0;S<b;++S)I[S].apply(f,E)}function g(o,d,f,E){var b,I,S;if("function"!=typeof f)throw new TypeError('"listener" argument must be a function');if((I=o._events)?(I.newListener&&(o.emit("newListener",d,f.listener?f.listener:f),I=o._events),S=I[d]):(I=o._events=V(null),o._eventsCount=0),S){if("function"==typeof S?S=I[d]=E?[f,S]:[S,f]:E?S.unshift(f):S.push(f),!S.warned&&(b=de(o))&&b>0&&S.length>b){S.warned=!0;var R=new Error("Possible EventEmitter memory leak detected. "+S.length+' "'+String(d)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');R.name="MaxListenersExceededWarning",R.emitter=o,R.type=d,R.count=S.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",R.name,R.message)}}else S=I[d]=f,++o._eventsCount;return o}function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var o=new Array(arguments.length),d=0;d<o.length;++d)o[d]=arguments[d];this.listener.apply(this.target,o)}}function x(o,d,f){var E={fired:!1,wrapFn:void 0,target:o,type:d,listener:f},b=Pe.call(p,E);return b.listener=f,E.wrapFn=b,b}function r(o,d,f){var E=o._events;if(!E)return[];var b=E[d];return b?"function"==typeof b?f?[b.listener||b]:[b]:f?function t(o){for(var d=new Array(o.length),f=0;f<d.length;++f)d[f]=o[f].listener||o[f];return d}(b):n(b,b.length):[]}function c(o){var d=this._events;if(d){var f=d[o];if("function"==typeof f)return 1;if(f)return f.length}return 0}function n(o,d){for(var f=new Array(d),E=0;E<d;++E)f[E]=o[E];return f}Z?Object.defineProperty(_,"defaultMaxListeners",{enumerable:!0,get:function(){return Q},set:function(o){if("number"!=typeof o||o<0||o!=o)throw new TypeError('"defaultMaxListeners" must be a positive number');Q=o}}):_.defaultMaxListeners=Q,_.prototype.setMaxListeners=function(d){if("number"!=typeof d||d<0||isNaN(d))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=d,this},_.prototype.getMaxListeners=function(){return de(this)},_.prototype.emit=function(d){var f,E,b,I,S,R,F="error"===d;if(R=this._events)F=F&&null==R.error;else if(!F)return!1;if(F){if(arguments.length>1&&(f=arguments[1]),f instanceof Error)throw f;var q=new Error('Unhandled "error" event. ('+f+")");throw q.context=f,q}if(!(E=R[d]))return!1;var K="function"==typeof E;switch(b=arguments.length){case 1:ne(E,K,this);break;case 2:me(E,K,this,arguments[1]);break;case 3:v(E,K,this,arguments[1],arguments[2]);break;case 4:L(E,K,this,arguments[1],arguments[2],arguments[3]);break;default:for(I=new Array(b-1),S=1;S<b;S++)I[S-1]=arguments[S];h(E,K,this,I)}return!0},_.prototype.on=_.prototype.addListener=function(d,f){return g(this,d,f,!1)},_.prototype.prependListener=function(d,f){return g(this,d,f,!0)},_.prototype.once=function(d,f){if("function"!=typeof f)throw new TypeError('"listener" argument must be a function');return this.on(d,x(this,d,f)),this},_.prototype.prependOnceListener=function(d,f){if("function"!=typeof f)throw new TypeError('"listener" argument must be a function');return this.prependListener(d,x(this,d,f)),this},_.prototype.removeListener=function(d,f){var E,b,I,S,R;if("function"!=typeof f)throw new TypeError('"listener" argument must be a function');if(!(b=this._events))return this;if(!(E=b[d]))return this;if(E===f||E.listener===f)0==--this._eventsCount?this._events=V(null):(delete b[d],b.removeListener&&this.emit("removeListener",d,E.listener||f));else if("function"!=typeof E){for(I=-1,S=E.length-1;S>=0;S--)if(E[S]===f||E[S].listener===f){R=E[S].listener,I=S;break}if(I<0)return this;0===I?E.shift():function l(o,d){for(var f=d,E=f+1,b=o.length;E<b;f+=1,E+=1)o[f]=o[E];o.pop()}(E,I),1===E.length&&(b[d]=E[0]),b.removeListener&&this.emit("removeListener",d,R||f)}return this},_.prototype.removeAllListeners=function(d){var f,E,b;if(!(E=this._events))return this;if(!E.removeListener)return 0===arguments.length?(this._events=V(null),this._eventsCount=0):E[d]&&(0==--this._eventsCount?this._events=V(null):delete E[d]),this;if(0===arguments.length){var S,I=Ue(E);for(b=0;b<I.length;++b)"removeListener"!==(S=I[b])&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=V(null),this._eventsCount=0,this}if("function"==typeof(f=E[d]))this.removeListener(d,f);else if(f)for(b=f.length-1;b>=0;b--)this.removeListener(d,f[b]);return this},_.prototype.listeners=function(d){return r(this,d,!0)},_.prototype.rawListeners=function(d){return r(this,d,!1)},_.listenerCount=function(o,d){return"function"==typeof o.listenerCount?o.listenerCount(d):c.call(o,d)},_.prototype.listenerCount=c,_.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],5:[function(At,Et,kt){Et.exports="function"==typeof Object.create?function(Ue,Pe){Pe&&(Ue.super_=Pe,Ue.prototype=Object.create(Pe.prototype,{constructor:{value:Ue,enumerable:!1,writable:!0,configurable:!0}}))}:function(Ue,Pe){if(Pe){Ue.super_=Pe;var _=function(){};_.prototype=Pe.prototype,Ue.prototype=new _,Ue.prototype.constructor=Ue}}},{}],6:[function(At,Et,kt){var V=1e3,Ue=60*V,Pe=60*Ue,_=24*Pe;function me(v,L,h,g){var p=L>=1.5*h;return Math.round(v/h)+" "+g+(p?"s":"")}Et.exports=function(v,L){L=L||{};var h=typeof v;if("string"===h&&v.length>0)return function ce(v){if(!((v=String(v)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(L){var h=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*h;case"weeks":case"week":case"w":return 6048e5*h;case"days":case"day":case"d":return h*_;case"hours":case"hour":case"hrs":case"hr":case"h":return h*Pe;case"minutes":case"minute":case"mins":case"min":case"m":return h*Ue;case"seconds":case"second":case"secs":case"sec":case"s":return h*V;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}(v);if("number"===h&&isFinite(v))return L.long?function ne(v){var L=Math.abs(v);return L>=_?me(v,L,_,"day"):L>=Pe?me(v,L,Pe,"hour"):L>=Ue?me(v,L,Ue,"minute"):L>=V?me(v,L,V,"second"):v+" ms"}(v):function de(v){var L=Math.abs(v);return L>=_?Math.round(v/_)+"d":L>=Pe?Math.round(v/Pe)+"h":L>=Ue?Math.round(v/Ue)+"m":L>=V?Math.round(v/V)+"s":v+"ms"}(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))}},{}],7:[function(At,Et,kt){var Ue,Pe,V=Et.exports={};function _(){throw new Error("setTimeout has not been defined")}function Q(){throw new Error("clearTimeout has not been defined")}function Z(x){if(Ue===setTimeout)return setTimeout(x,0);if((Ue===_||!Ue)&&setTimeout)return Ue=setTimeout,setTimeout(x,0);try{return Ue(x,0)}catch(r){try{return Ue.call(null,x,0)}catch(c){return Ue.call(this,x,0)}}}!function(){try{Ue="function"==typeof setTimeout?setTimeout:_}catch(x){Ue=_}try{Pe="function"==typeof clearTimeout?clearTimeout:Q}catch(x){Pe=Q}}();var me,de=[],ne=!1,v=-1;function L(){!ne||!me||(ne=!1,me.length?de=me.concat(de):v=-1,de.length&&h())}function h(){if(!ne){var x=Z(L);ne=!0;for(var r=de.length;r;){for(me=de,de=[];++v<r;)me&&me[v].run();v=-1,r=de.length}me=null,ne=!1,function ce(x){if(Pe===clearTimeout)return clearTimeout(x);if((Pe===Q||!Pe)&&clearTimeout)return Pe=clearTimeout,clearTimeout(x);try{Pe(x)}catch(r){try{return Pe.call(null,x)}catch(c){return Pe.call(this,x)}}}(x)}}function g(x,r){this.fun=x,this.array=r}function p(){}V.nextTick=function(x){var r=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)r[c-1]=arguments[c];de.push(new g(x,r)),1===de.length&&!ne&&Z(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={},V.on=p,V.addListener=p,V.once=p,V.off=p,V.removeListener=p,V.removeAllListeners=p,V.emit=p,V.prependListener=p,V.prependOnceListener=p,V.listeners=function(x){return[]},V.binding=function(x){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(x){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},{}],8:[function(At,Et,kt){Et.exports=function V(Ue,Pe){var _,Q,Z,ce,de=0;return function(){_=this,Q=arguments;var v=new Date-de;return ce||(v>=Pe?ne():ce=setTimeout(ne,Pe-v)),Z};function ne(){ce=0,de=+new Date,Z=Ue.apply(_,Q),_=null,Q=null}}},{}],9:[function(At,Et,kt){Et.exports=de;var V=At("d3"),Ue=At("debug")("p2p-graph"),Pe=At("events"),_=At("inherits"),Q=At("throttleit"),Z_links_width=.7,Z_links_maxWidth=5,Z_links_maxBytes=2097152,ce_links_color="#C8C8C8",ce_nodes_method=function(ne,me){return V.hsl(ne.me?210:ne.seeder?120:55,.7,.725)},ce_nodes_hover="#A9A9A9",ce_nodes_dep="#252929";function de(ne){var me=this;if(!(me instanceof de))return new de(ne);Pe.call(me),"string"==typeof ne&&(ne=document.querySelector(ne)),me._root=ne,me._model={nodes:[],links:[],focused:null},me._model.links.forEach(function(v){var L=me._model.nodes[v.source],h=me._model.nodes[v.target];L.children=L.children||[],L.children.push(v.target),h.parents=h.parents||[],h.parents.push(v.source)}),me._svg=V.select(me._root).append("svg"),me._resize(),me._force=V.layout.force().size([me._width,me._height]).nodes(me._model.nodes).links(me._model.links).on("tick",function(){me._link.attr("x1",function(v){return v.source.x}).attr("y1",function(v){return v.source.y}).attr("x2",function(v){return v.target.x}).attr("y2",function(v){return v.target.y}),me._node.attr("cx",function(v){return v.x}).attr("cy",function(v){return v.y}),me._node.attr("transform",function(v){return"translate("+v.x+","+v.y+")"})}),me._node=me._svg.selectAll(".node"),me._link=me._svg.selectAll(".link"),me._update(),me._resizeThrottled=Q(function(){me._resize()},500),window.addEventListener("resize",me._resizeThrottled)}_(de,Pe),de.prototype.list=function(){return Ue("list"),this._model.nodes},de.prototype.add=function(ne){if(Ue("add %s %o",ne.id,ne),this._getNode(ne.id))throw new Error("add: cannot add duplicate node");this._model.nodes.push(ne),this._update()},de.prototype.remove=function(ne){var me=this;Ue("remove %s",ne);var v=me._getNodeIndex(ne);if(-1===v)throw new Error("remove: node does not exist");me._model.focused&&me._model.focused.id===ne&&(me._model.focused=null,me.emit("select",!1)),me._model.nodes.splice(v,1),me._update()},de.prototype.connect=function(ne,me){var v=this;Ue("connect %s %s",ne,me);var L=v._getNode(ne);if(!L)throw new Error("connect: invalid source id");var h=v._getNode(me);if(!h)throw new Error("connect: invalid target id");if(v.getLink(L.index,h.index))throw new Error("connect: cannot make duplicate connection");v._model.links.push({source:L.index,target:h.index}),v._update()},de.prototype.disconnect=function(ne,me){var v=this;Ue("disconnect %s %s",ne,me);var L=v._getNode(ne);if(!L)throw new Error("disconnect: invalid source id");var h=v._getNode(me);if(!h)throw new Error("disconnect: invalid target id");var g=v.getLinkIndex(L.index,h.index);if(-1===g)throw new Error("disconnect: connection does not exist");v._model.links.splice(g,1),v._update()},de.prototype.hasPeer=function(){var ne=this,me=Array.prototype.slice.call(arguments,0);return Ue("Checking for peers:",me),me.every(function(v){return ne._getNode(v)})},de.prototype.hasLink=function(ne,me){var v=this,L=v._getNode(ne);if(!L)throw new Error("hasLink: invalid source id");var h=v._getNode(me);if(!h)throw new Error("hasLink: invalid target id");return!!v.getLink(L.index,h.index)},de.prototype.areConnected=function(ne,me){var v=this,L=v._getNode(ne);if(!L)throw new Error("areConnected: invalid source id");var h=v._getNode(me);if(!h)throw new Error("areConnected: invalid target id");return v.getLink(L.index,h.index)||v.getLink(h.index,L.index)},de.prototype.unchoke=function(ne,me){Ue("unchoke %s %s",ne,me)},de.prototype.choke=function(ne,me){Ue("choke %s %s",ne,me)},de.prototype.seed=function(ne,me){var v=this;if(Ue(ne,"isSeeding:",me),"boolean"!=typeof me)throw new Error("seed: 2nd param must be a boolean");var L=v._getNodeIndex(ne);if(-1===L)throw new Error("seed: node does not exist");v._model.nodes[L].seeder=me,v._update()},de.prototype.rate=function(ne,me,v){var L=this;if(Ue("rate update:",ne+"<->"+me,"at",v),"number"!=typeof v||v<0)throw new Error("rate: 3th param must be a positive number");var h=L._getNode(ne);if(!h)throw new Error("rate: invalid source id");var g=L._getNode(me);if(!g)throw new Error("rate: invalid target id");var p=L.getLinkIndex(h.index,g.index);if(-1===p)throw new Error("rate: connection does not exist");L._model.links[p].rate=function x(r){return Math.min(r,Z_links_maxBytes)*Z_links_maxWidth/Z_links_maxBytes}(v),Ue("rate:",L._model.links[p].rate),L._update()},de.prototype.getLink=function(ne,me){for(var v=this,L=0,h=v._model.links.length;L<h;L+=1){var g=v._model.links[L];if(g.source===v._model.nodes[ne]&&g.target===v._model.nodes[me])return g}return null},de.prototype.destroy=function(){Ue("destroy"),this._root.remove(),window.removeEventListener("resize",this._resizeThrottled),this._root=null,this._resizeThrottled=null},de.prototype._update=function(){var ne=this;ne._link=ne._link.data(ne._model.links),ne._node=ne._node.data(ne._model.nodes,function(v){return v.id}),ne._link.enter().insert("line",".node").attr("class","link").style("stroke",ce_links_color).style("opacity",.5),ne._link.exit().remove(),ne._link.style("stroke-width",function(v){return v.rate?v.rate<Z_links_width?Z_links_width:v.rate:Z_links_width});var me=ne._node.enter().append("g").attr("class","node");me.call(ne._force.drag),me.append("circle").on("mouseover",function(v){V.select(this).style("fill",ce_nodes_hover),V.selectAll(ne._childNodes(v)).style("fill",ce_nodes_hover).style("stroke",ce_nodes_method).style("stroke-width",2),V.selectAll(ne._parentNodes(v)).style("fill",ce_nodes_dep).style("stroke",ce_nodes_method).style("stroke-width",2)}).on("mouseout",function(v){V.select(this).style("fill",ce_nodes_method),V.selectAll(ne._childNodes(v)).style("fill",ce_nodes_method).style("stroke",null),V.selectAll(ne._parentNodes(v)).style("fill",ce_nodes_method).style("stroke",null)}).on("click",function(v){if(ne._model.focused===v)return ne._force.charge(-200*ne._scale()).linkDistance(100*ne._scale()).linkStrength(1).start(),ne._node.style("opacity",1),ne._link.style("opacity",.3),ne._model.focused=null,void ne.emit("select",!1);ne._model.focused=v,ne.emit("select",v.id),ne._node.style("opacity",function(L){return L.active=ne._connected(v,L),L.active?1:.2}),ne._force.charge(function(L){return(L.active?-100:-5)*ne._scale()}).linkDistance(function(L){return(L.source.active&&L.target.active?100:60)*ne._scale()}).linkStrength(function(L){return(L.source===v||L.target===v?1:0)*ne._scale()}).start(),ne._link.style("opacity",function(L,h){return L.source.active&&L.target.active?1:.02})}),ne._node.select("circle").attr("r",function(v){return ne._scale()*(v.me?15:10)}).style("fill",ce_nodes_method),me.append("text").attr("class","text").text(function(v){return v.name}),ne._node.select("text").attr("font-size",function(v){return v.me?16*ne._scale():12*ne._scale()}).attr("dx",0).attr("dy",function(v){return v.me?-22*ne._scale():-15*ne._scale()}),ne._node.exit().remove(),ne._force.linkDistance(100*ne._scale()).charge(-200*ne._scale()).start()},de.prototype._childNodes=function(ne){var me=this;return ne.children?ne.children.map(function(v){return me._node[0][v]}).filter(function(v){return v}):[]},de.prototype._parentNodes=function(ne){var me=this;return ne.parents?ne.parents.map(function(v){return me._node[0][v]}).filter(function(v){return v}):[]},de.prototype._connected=function(ne,me){return me.id===ne.id||ne.children&&-1!==ne.children.indexOf(me.id)||me.children&&-1!==me.children.indexOf(ne.id)||me.parents&&-1!==me.parents.indexOf(ne.id)||ne.parents&&-1!==ne.parents.indexOf(me.id)},de.prototype._getNode=function(ne){for(var v=0,L=this._model.nodes.length;v<L;v+=1){var h=this._model.nodes[v];if(h.id===ne)return h}return null},de.prototype._scale=function(){var me=this._model.nodes.length;return me<10?1:Math.max(.2,1-(me-10)/100)},de.prototype._resize=function(ne){var me=this;me._width=me._root.offsetWidth,me._height=window.innerWidth>=900?400:250,me._svg.attr("width",me._width).attr("height",me._height),me._force&&me._force.size([me._width,me._height]).resume()},de.prototype._getNodeIndex=function(ne){for(var v=0,L=this._model.nodes.length;v<L;v+=1)if(this._model.nodes[v].id===ne)return v;return-1},de.prototype.getLinkIndex=function(ne,me){for(var v=this,L=0,h=v._model.links.length;L<h;L+=1){var g=v._model.links[L];if(g.source===v._model.nodes[ne]&&g.target===v._model.nodes[me])return L}return-1}},{d3:1,debug:2,events:4,inherits:5,throttleit:8}]},{},[9])(9)}),function(Kt,vn){"object"==typeof exports&&"undefined"!=typeof module?module.exports=vn():"function"==typeof define&&define.amd?define(vn):(Kt="undefined"!=typeof globalThis?globalThis:Kt||self).Viewer=vn()}(this,function(){"use strict";function Kt(ge,Le){var je,Je=Object.keys(ge);return Object.getOwnPropertySymbols&&(je=Object.getOwnPropertySymbols(ge),Le&&(je=je.filter(function(Qe){return Object.getOwnPropertyDescriptor(ge,Qe).enumerable})),Je.push.apply(Je,je)),Je}function vn(ge){for(var Le=1;Le<arguments.length;Le++){var je=null!=arguments[Le]?arguments[Le]:{};Le%2?Kt(Object(je),!0).forEach(function(Je){var Qe,ht;ht=je[Je=Je],Je in(Qe=ge)?Object.defineProperty(Qe,Je,{value:ht,enumerable:!0,configurable:!0,writable:!0}):Qe[Je]=ht}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(je)):Kt(Object(je)).forEach(function(Je){Object.defineProperty(ge,Je,Object.getOwnPropertyDescriptor(je,Je))})}return ge}function z(ge){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Le){return typeof Le}:function(Le){return Le&&"function"==typeof Symbol&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le})(ge)}function At(ge,Le){for(var je=0;je<Le.length;je++){var Je=Le[je];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(ge,Je.key,Je)}}var Et={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},Kn=(xn="undefined"!=typeof window&&void 0!==window.document)?window:{},kt=!(!xn||!Kn.document.documentElement)&&"ontouchstart"in Kn.document.documentElement,an=xn&&"PointerEvent"in Kn,V="viewer",Ue="move",_="zoom",Q="".concat(V,"-active"),Z="".concat(V,"-close"),ce="".concat(V,"-fade"),de="".concat(V,"-fixed"),ne="".concat(V,"-fullscreen"),me="".concat(V,"-fullscreen-exit"),v="".concat(V,"-hide"),L="".concat(V,"-hide-md-down"),h="".concat(V,"-hide-sm-down"),g="".concat(V,"-hide-xs-down"),p="".concat(V,"-in"),x="".concat(V,"-invisible"),r="".concat(V,"-loading"),c="".concat(V,"-move"),l="".concat(V,"-open"),n="".concat(V,"-show"),t="".concat(V,"-transition"),i="click",s="dblclick",u="dragstart",o="focusin",d="keydown",f="load",E="error",b=an?"pointerdown":kt?"touchstart":"mousedown",I=an?"pointermove":kt?"touchmove":"mousemove",S=an?"pointerup pointercancel":kt?"touchend touchcancel":"mouseup",R="resize",F="transitionend",q="wheel",K="ready",se="show",xe="viewed",we="rotated",A="".concat(V,"Action"),P=/\s\s*/,U=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function y(ge){return"string"==typeof ge}var C=Number.isNaN||Kn.isNaN;function M(ge){return"number"==typeof ge&&!C(ge)}function O(ge){return void 0===ge}function ee(ge){return"object"===z(ge)&&null!==ge}var $=Object.prototype.hasOwnProperty;function ae(ge){if(!ee(ge))return!1;try{var Le=ge.constructor,je=Le.prototype;return Le&&je&&$.call(je,"isPrototypeOf")}catch(Je){return!1}}function Fe(ge){return"function"==typeof ge}function He(ge,Le){if(ge&&Fe(Le))if(Array.isArray(ge)||M(ge.length))for(var je=ge.length,Je=0;Je<je&&!1!==Le.call(ge,ge[Je],Je,ge);Je+=1);else ee(ge)&&Object.keys(ge).forEach(function(Qe){Le.call(ge,ge[Qe],Qe,ge)})}var Ve=Object.assign||function(ge){for(var Le=arguments.length,je=new Array(1<Le?Le-1:0),Je=1;Je<Le;Je++)je[Je-1]=arguments[Je];return ee(ge)&&0<je.length&&je.forEach(function(Qe){ee(Qe)&&Object.keys(Qe).forEach(function(ht){ge[ht]=Qe[ht]})}),ge},it=/^(?:width|height|left|top|marginLeft|marginTop)$/;function at(ge,Le){var je=ge.style;He(Le,function(Je,Qe){it.test(Qe)&&M(Je)&&(Je+="px"),je[Qe]=Je})}function qt(ge,Le){return ge&&Le&&(ge.classList?ge.classList.contains(Le):-1<ge.className.indexOf(Le))}function Ct(ge,Le){var je;ge&&Le&&(M(ge.length)?He(ge,function(Je){Ct(Je,Le)}):ge.classList?ge.classList.add(Le):(je=ge.className.trim())?je.indexOf(Le)<0&&(ge.className="".concat(je," ").concat(Le)):ge.className=Le)}function Ht(ge,Le){ge&&Le&&(M(ge.length)?He(ge,function(je){Ht(je,Le)}):ge.classList?ge.classList.remove(Le):0<=ge.className.indexOf(Le)&&(ge.className=ge.className.replace(Le,"")))}function Ge(ge,Le,je){Le&&(M(ge.length)?He(ge,function(Je){Ge(Je,Le,je)}):(je?Ct:Ht)(ge,Le))}var dt=/([a-z\d])([A-Z])/g;function vt(ge){return ge.replace(dt,"$1-$2").toLowerCase()}function G(ge,Le){return ee(ge[Le])?ge[Le]:ge.dataset?ge.dataset[Le]:ge.getAttribute("data-".concat(vt(Le)))}function ue(ge,Le,je){ee(je)?ge[Le]=je:ge.dataset?ge.dataset[Le]=je:ge.setAttribute("data-".concat(vt(Le)),je)}oe=!1,xn&&(Y=!1,an=function(){},xn=Object.defineProperty({},"once",{get:function(){return oe=!0,Y},set:function(ge){Y=ge}}),Kn.addEventListener("test",an,xn),Kn.removeEventListener("test",an,xn));var Y,oe,et=oe;function ie(ge,Le,je,Je){var Qe=3<arguments.length&&void 0!==Je?Je:{},ht=je;Le.trim().split(P).forEach(function(sn){var Ot;et||(Ot=ge.listeners)&&Ot[sn]&&Ot[sn][je]&&(ht=Ot[sn][je],delete Ot[sn][je],0===Object.keys(Ot[sn]).length&&delete Ot[sn],0===Object.keys(Ot).length&&delete ge.listeners),ge.removeEventListener(sn,ht,Qe)})}function pe(ge,Le,je,Je){var Qe=3<arguments.length&&void 0!==Je?Je:{},ht=je;Le.trim().split(P).forEach(function(sn){var Ot,Vt;Qe.once&&!et&&(ht=function(){delete Vt[sn][je],ge.removeEventListener(sn,ht,Qe);for(var tn=arguments.length,wn=new Array(tn),on=0;on<tn;on++)wn[on]=arguments[on];je.apply(ge,wn)},(Vt=void 0===(Ot=ge.listeners)?{}:Ot)[sn]||(Vt[sn]={}),Vt[sn][je]&&ge.removeEventListener(sn,Vt[sn][je],Qe),Vt[sn][je]=ht,ge.listeners=Vt),ge.addEventListener(sn,ht,Qe)})}function Ye(ge,Le,je,Je){var Qe;return Fe(Event)&&Fe(CustomEvent)?Qe=new CustomEvent(Le,vn({bubbles:!0,cancelable:!0,detail:je},Je)):(Qe=document.createEvent("CustomEvent")).initCustomEvent(Le,!0,!0,je),ge.dispatchEvent(Qe)}function ct(Qe){var Le=Qe.rotate,je=Qe.scaleX,Je=Qe.scaleY,sn=Qe.translateX,ht=(Qe=Qe.translateY,[]);return{WebkitTransform:(M(sn)&&0!==sn&&ht.push("translateX(".concat(sn,"px)")),M(Qe)&&0!==Qe&&ht.push("translateY(".concat(Qe,"px)")),M(Le)&&0!==Le&&ht.push("rotate(".concat(Le,"deg)")),M(je)&&1!==je&&ht.push("scaleX(".concat(je,")")),M(Je)&&1!==Je&&ht.push("scaleY(".concat(Je,")")),sn=ht.length?ht.join(" "):"none"),msTransform:sn,transform:sn}}var gt=Kn.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(Kn.navigator.userAgent);function $t(ge,Le,je){var Je=document.createElement("img");if(ge.naturalWidth&&!gt)return je(ge.naturalWidth,ge.naturalHeight),Je;var Qe=document.body||document.documentElement;return Je.onload=function(){je(Je.width,Je.height),gt||Qe.removeChild(Je)},He(Le.inheritedAttributes,function(ht){var sn=ge.getAttribute(ht);null!==sn&&Je.setAttribute(ht,sn)}),Je.src=ge.src,gt||(Je.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",Qe.appendChild(Je)),Je}function Zt(ge){switch(ge){case 2:return g;case 3:return h;case 4:return L;default:return""}}function rn(Je,Le){var je=Je.pageX,Qe={endX:je,endY:Je=Je.pageY};return Le?Qe:vn({timeStamp:Date.now(),startX:je,startY:Je},Qe)}an={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var ge=this.element.ownerDocument,Le=ge.body||ge.documentElement;this.body=Le,this.scrollbarWidth=window.innerWidth-ge.documentElement.clientWidth,this.initialBodyPaddingRight=Le.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(Le).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var ge,Le=this.options,je=this.parent;Le.inline&&(ge={width:Math.max(je.offsetWidth,Le.minWidth),height:Math.max(je.offsetHeight,Le.minHeight)},this.parentData=ge),!this.fulled&&ge||(ge=this.containerData),this.viewerData=Ve({},ge)},renderViewer:function(){this.options.inline&&!this.fulled&&at(this.viewer,this.viewerData)},initList:function(){var ge=this,Le=this.element,je=this.options,Je=this.list,Qe=[];Je.innerHTML="",He(this.images,function(ht,sn){var Ot,Vt,tn=ht.src,wn=ht.alt||(y(wn=tn)?decodeURIComponent(wn.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""),on=ge.getImageURL(ht);(tn||on)&&(Ot=document.createElement("li"),Vt=document.createElement("img"),He(je.inheritedAttributes,function(Dt){var ke=ht.getAttribute(Dt);null!==ke&&Vt.setAttribute(Dt,ke)}),Vt.src=tn||on,Vt.alt=wn,Vt.setAttribute("data-original-url",on||tn),Ot.setAttribute("data-index",sn),Ot.setAttribute("data-viewer-action","view"),Ot.setAttribute("role","button"),je.keyboard&&Ot.setAttribute("tabindex",0),Ot.appendChild(Vt),Je.appendChild(Ot),Qe.push(Ot))}),He(this.items=Qe,function(ht){var sn,Ot,Vt=ht.firstElementChild;ue(Vt,"filled",!0),je.loading&&Ct(ht,r),pe(Vt,f,sn=function(tn){ie(Vt,E,Ot),je.loading&&Ht(ht,r),ge.loadImage(tn)},{once:!0}),pe(Vt,E,Ot=function(){ie(Vt,f,sn),je.loading&&Ht(ht,r)},{once:!0})}),je.transition&&pe(Le,xe,function(){Ct(Je,t)},{once:!0})},renderList:function(){var ge,Le,je=this.index,Je=this.items[je];Je&&(ge=Je.nextElementSibling,ge=parseInt(window.getComputedStyle(ge||Je).marginLeft,10),at(this.list,Ve({width:(Le=(Je=Je.offsetWidth)+ge)*this.length-ge},ct({translateX:(this.viewerData.width-Je)/2-Le*je}))))},resetList:function(){var ge=this.list;ge.innerHTML="",Ht(ge,t),at(ge,ct({translateX:0}))},initImage:function(ge){var Le,je=this,Je=this.options,Qe=this.image,ht=this.viewerData,sn=this.footer.offsetHeight,Ot=ht.width,Vt=Math.max(ht.height-sn,sn),tn=this.imageData||{};this.imageInitializing={abort:function(){Le.onload=null}},Le=$t(Qe,Je,function(wn,on){var Dt=wn/on,ke=Ot,Gt=Vt,Nn=(je.imageInitializing=!1,Ot<Vt*Dt?Gt=Ot/Dt:ke=Vt*Dt,ke=Math.min(.9*ke,wn),Gt=Math.min(.9*Gt,on),(Ot-ke)/2),dn=Ve({},Nn={left:Nn,top:dn=(Vt-Gt)/2,x:Nn,y:dn,width:ke,height:Gt,oldRatio:1,ratio:ke/wn,aspectRatio:Dt,naturalWidth:wn,naturalHeight:on});Je.rotatable&&(Nn.rotate=tn.rotate||0,dn.rotate=0),Je.scalable&&(Nn.scaleX=tn.scaleX||1,Nn.scaleY=tn.scaleY||1,dn.scaleX=1,dn.scaleY=1),je.imageData=Nn,je.initialImageData=dn,ge&&ge()})},renderImage:function(ge){var Le,je=this,Je=this.image,Qe=this.imageData;at(Je,Ve({width:Qe.width,height:Qe.height,marginLeft:Qe.x,marginTop:Qe.y},ct(Qe))),ge&&((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&qt(Je,t)?(Le=function(){je.imageRendering=!1,ge()},this.imageRendering={abort:function(){ie(Je,F,Le)}},pe(Je,F,Le,{once:!0})):ge())},resetImage:function(){var ge;(this.viewing||this.viewed)&&(ge=this.image,this.viewing&&this.viewing.abort(),ge.parentNode.removeChild(ge),this.image=null)}};var kn,xn={bind:function(){var ge=this.options,Le=this.viewer,je=this.canvas,Je=this.element.ownerDocument;pe(Le,i,this.onClick=this.click.bind(this)),pe(Le,u,this.onDragStart=this.dragstart.bind(this)),pe(je,b,this.onPointerDown=this.pointerdown.bind(this)),pe(Je,I,this.onPointerMove=this.pointermove.bind(this)),pe(Je,S,this.onPointerUp=this.pointerup.bind(this)),pe(Je,d,this.onKeyDown=this.keydown.bind(this)),pe(window,R,this.onResize=this.resize.bind(this)),ge.zoomable&&ge.zoomOnWheel&&pe(Le,q,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),ge.toggleOnDblclick&&pe(je,s,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var ge=this.options,Le=this.viewer,je=this.canvas,Je=this.element.ownerDocument;ie(Le,i,this.onClick),ie(Le,u,this.onDragStart),ie(je,b,this.onPointerDown),ie(Je,I,this.onPointerMove),ie(Je,S,this.onPointerUp),ie(Je,d,this.onKeyDown),ie(window,R,this.onResize),ge.zoomable&&ge.zoomOnWheel&&ie(Le,q,this.onWheel,{passive:!1,capture:!0}),ge.toggleOnDblclick&&ie(je,s,this.onDblclick)}},$n={click:function(ge){var Le=this.options,je=this.imageData,Je=ge.target,Qe=G(Je,A);switch(Qe||"img"!==Je.localName||"li"!==Je.parentElement.localName||(Qe=G(Je=Je.parentElement,A)),kt&&ge.isTrusted&&Je===this.canvas&&clearTimeout(this.clickCanvasTimeout),Qe){case"mix":this.played?this.stop():Le.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(G(Je,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(Le.loop);break;case"play":this.play(Le.fullscreen);break;case"next":this.next(Le.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-je.scaleX||-1);break;case"flip-vertical":this.scaleY(-je.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(ge){ge.preventDefault(),this.viewed&&ge.target===this.image&&(kt&&ge.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(ge.isTrusted?ge:ge.detail&&ge.detail.originalEvent))},load:function(){var ge=this,Le=(this.timeout&&(clearTimeout(this.timeout),this.timeout=!1),this.element),je=this.options,Je=this.image,Qe=this.index,ht=this.viewerData;Ht(Je,x),je.loading&&Ht(this.canvas,r),Je.style.cssText="height:0;"+"margin-left:".concat(ht.width/2,"px;")+"margin-top:".concat(ht.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Ge(Je,c,je.movable),Ge(Je,t,je.transition),ge.renderImage(function(){ge.viewed=!0,ge.viewing=!1,Fe(je.viewed)&&pe(Le,xe,je.viewed,{once:!0}),Ye(Le,xe,{originalImage:ge.images[Qe],index:Qe,image:Je},{cancelable:!1})})})},loadImage:function(je){var Le=je.target,Je=(je=Le.parentNode).offsetWidth||30,Qe=je.offsetHeight||50,ht=!!G(Le,"filled");$t(Le,this.options,function(Vt,tn){Vt/=tn,tn=Je;var wn=Qe;Je<Qe*Vt?ht?tn=Qe*Vt:wn=Je/Vt:ht?wn=Je/Vt:tn=Qe*Vt,at(Le,Ve({width:tn,height:wn},ct({translateX:(Je-tn)/2,translateY:(Qe-wn)/2})))})},keydown:function(ge){var Le=this.options;if(Le.keyboard){var je=ge.keyCode||ge.which||ge.charCode;if(13===je&&this.viewer.contains(ge.target)&&this.click(ge),this.fulled)switch(je){case 27:this.played?this.stop():Le.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(Le.loop);break;case 38:ge.preventDefault(),this.zoom(Le.zoomRatio,!0);break;case 39:this.next(Le.loop);break;case 40:ge.preventDefault(),this.zoom(-Le.zoomRatio,!0);break;case 48:case 49:ge.ctrlKey&&(ge.preventDefault(),this.toggle())}}},dragstart:function(ge){"img"===ge.target.localName&&ge.preventDefault()},pointerdown:function(ge){var Le=this.options,je=this.pointers,Je=ge.buttons,Qe=ge.button;!this.viewed||this.showing||this.viewing||this.hiding||("mousedown"===ge.type||"pointerdown"===ge.type&&"mouse"===ge.pointerType)&&(M(Je)&&1!==Je||M(Qe)&&0!==Qe||ge.ctrlKey)||(ge.preventDefault(),ge.changedTouches?He(ge.changedTouches,function(ht){je[ht.identifier]=rn(ht)}):je[ge.pointerId||0]=rn(ge),Je=!!Le.movable&&Ue,Le.zoomOnTouch&&Le.zoomable&&1<Object.keys(je).length?Je=_:Le.slideOnTouch&&("touch"===ge.pointerType||"touchstart"===ge.type)&&this.isSwitchable()&&(Je="switch"),!Le.transition||Je!==Ue&&Je!==_||Ht(this.image,t),this.action=Je)},pointermove:function(ge){var Le=this.pointers;this.viewed&&this.action&&(ge.preventDefault(),ge.changedTouches?He(ge.changedTouches,function(Je){Ve(Le[Je.identifier]||{},rn(Je,!0))}):Ve(Le[ge.pointerId||0]||{},rn(ge,!0)),this.change(ge))},pointerup:function(ge){var Le,je=this,Je=this.options,Qe=this.action,ht=this.pointers;ge.changedTouches?He(ge.changedTouches,function(sn){Le=ht[sn.identifier],delete ht[sn.identifier]}):(Le=ht[ge.pointerId||0],delete ht[ge.pointerId||0]),Qe&&(ge.preventDefault(),!Je.transition||Qe!==Ue&&Qe!==_||Ct(this.image,t),this.action=!1,kt&&Qe!==_&&Le&&Date.now()-Le.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),Je.toggleOnDblclick&&this.viewed&&ge.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){Ye(je.image,s,{originalEvent:ge})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){je.imageClicked=!1},500)):(this.imageClicked=!1,Je.backdrop&&"static"!==Je.backdrop&&ge.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){Ye(je.canvas,i,{originalEvent:ge})},50)))))},resize:function(){var ge=this;this.isShown&&!this.hiding&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){ge.renderImage()}),this.played&&(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?this.stop():He(this.player.getElementsByTagName("img"),function(Le){pe(Le,f,ge.loadImage.bind(ge),{once:!0}),Ye(Le,f)})))},wheel:function(ge){var Le,je,Je=this;this.viewed&&(ge.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){Je.wheeling=!1},50),Le=Number(this.options.zoomRatio)||.1,je=1,ge.deltaY?je=0<ge.deltaY?1:-1:ge.wheelDelta?je=-ge.wheelDelta/120:ge.detail&&(je=0<ge.detail?1:-1),this.zoom(-je*Le,!0,ge)))}},Cn={show:function(){var ge=0<arguments.length&&void 0!==arguments[0]&&arguments[0],Le=this.element,je=this.options;if(je.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(ge),this;if(Fe(je.show)&&pe(Le,se,je.show,{once:!0}),!1===Ye(Le,se)||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var Je,Qe=this.viewer;return Ht(Qe,v),Qe.setAttribute("role","dialog"),Qe.setAttribute("aria-labelledby",this.title.id),Qe.setAttribute("aria-modal",!0),Qe.removeAttribute("aria-hidden"),je.transition&&!ge?(Je=this.shown.bind(this),this.transitioning={abort:function(){ie(Qe,F,Je),Ht(Qe,p)}},Ct(Qe,t),Qe.initialOffsetWidth=Qe.offsetWidth,pe(Qe,F,Je,{once:!0}),Ct(Qe,p)):(Ct(Qe,p),this.shown()),this},hide:function(){var ge=this,Le=0<arguments.length&&void 0!==arguments[0]&&arguments[0],je=this.element,Je=this.options;if(Je.inline||this.hiding||!this.isShown&&!this.showing)return this;if(Fe(Je.hide)&&pe(je,"hide",Je.hide,{once:!0}),!1===Ye(je,"hide"))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var Qe,ht,sn=this.viewer,Ot=this.image,Vt=function(){Ht(sn,p),ge.hidden()};return Je.transition&&!Le?(Qe=function tn(wn){wn&&wn.target===sn&&(ie(sn,F,tn),ge.hidden())},ht=function(){qt(sn,t)?(pe(sn,F,Qe),Ht(sn,p)):Vt()},this.transitioning={abort:function(){ge.viewed&&qt(Ot,t)?ie(Ot,F,ht):qt(sn,t)&&ie(sn,F,Qe)}},this.viewed&&qt(Ot,t)?(pe(Ot,F,ht,{once:!0}),this.zoomTo(0,!1,null,!0)):ht()):Vt(),this},view:function(){var ge=this,Le=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(Le=Number(Le)||0,this.hiding||this.played||Le<0||Le>=this.length||this.viewed&&Le===this.index)return this;if(!this.isShown)return this.index=Le,this.show();this.viewing&&this.viewing.abort();var on,Dt,je=this.element,Je=this.options,Qe=this.title,ht=this.canvas,sn=this.items[Le],Ot=sn.querySelector("img"),ke=G(Ot,"originalUrl"),Vt=Ot.getAttribute("alt"),tn=document.createElement("img");if(He(Je.inheritedAttributes,function(Gt){var Nn=Ot.getAttribute(Gt);null!==Nn&&tn.setAttribute(Gt,Nn)}),tn.src=ke,tn.alt=Vt,Fe(Je.view)&&pe(je,"view",Je.view,{once:!0}),!1===Ye(je,"view",{originalImage:this.images[Le],index:Le,image:tn})||!this.isShown||this.hiding||this.played)return this;function wn(){var Gt=ge.imageData,Nn=Array.isArray(Je.title)?Je.title[1]:Je.title;Qe.innerHTML=y(Nn=Fe(Nn)?Nn.call(ge,tn,Gt):"".concat(Vt," (").concat(Gt.naturalWidth," \xd7 ").concat(Gt.naturalHeight,")"))?Nn.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):Nn}return(ke=this.items[this.index])&&(Ht(ke,Q),ke.removeAttribute("aria-selected")),Ct(sn,Q),sn.setAttribute("aria-selected",!0),Je.focus&&sn.focus(),this.image=tn,this.viewed=!1,this.index=Le,this.imageData={},Ct(tn,x),Je.loading&&Ct(ht,r),ht.innerHTML="",ht.appendChild(tn),this.renderList(),Qe.innerHTML="",pe(je,xe,wn,{once:!0}),this.viewing={abort:function(){ie(je,xe,wn),tn.complete?ge.imageRendering?ge.imageRendering.abort():ge.imageInitializing&&ge.imageInitializing.abort():(tn.src="",ie(tn,f,on),ge.timeout&&clearTimeout(ge.timeout))}},tn.complete?this.load():(pe(tn,f,on=function(){ie(tn,E,Dt),ge.load()},{once:!0}),pe(tn,E,Dt=function(){ie(tn,f,on),ge.timeout&&(clearTimeout(ge.timeout),ge.timeout=!1),Ht(tn,x),Je.loading&&Ht(ge.canvas,r)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){Ht(tn,x),ge.timeout=!1},1e3)),this},prev:function(){var ge=this.index-1;return ge<0&&(ge=0<arguments.length&&void 0!==arguments[0]&&arguments[0]?this.length-1:0),this.view(ge),this},next:function(){var ge=this.length-1,Le=this.index+1;return this.view(Le=ge<Le?0<arguments.length&&void 0!==arguments[0]&&arguments[0]?0:ge:Le),this},move:function(ge){var Le=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ge,je=this.imageData;return this.moveTo(O(ge)?ge:je.x+Number(ge),O(Le)?Le:je.y+Number(Le)),this},moveTo:function(ge){var Le=this,je=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ge,Je=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,Qe=this.element,ht=this.options,sn=this.imageData;if(ge=Number(ge),je=Number(je),this.viewed&&!this.played&&ht.movable){var Ot=sn.x,Vt=sn.y,tn=!1;if(M(ge)?tn=!0:ge=Ot,M(je)?tn=!0:je=Vt,tn){if(Fe(ht.move)&&pe(Qe,"move",ht.move,{once:!0}),!1===Ye(Qe,"move",{x:ge,y:je,oldX:Ot,oldY:Vt,originalEvent:Je}))return this;sn.x=ge,sn.y=je,sn.left=ge,sn.top=je,this.moving=!0,this.renderImage(function(){Le.moving=!1,Fe(ht.moved)&&pe(Qe,"moved",ht.moved,{once:!0}),Ye(Qe,"moved",{x:ge,y:je,oldX:Ot,oldY:Vt,originalEvent:Je},{cancelable:!1})})}}return this},rotate:function(ge){return this.rotateTo((this.imageData.rotate||0)+Number(ge)),this},rotateTo:function(ge){var Le=this,je=this.element,Je=this.options,Qe=this.imageData;if(M(ge=Number(ge))&&this.viewed&&!this.played&&Je.rotatable){var ht=Qe.rotate;if(Fe(Je.rotate)&&pe(je,"rotate",Je.rotate,{once:!0}),!1===Ye(je,"rotate",{degree:ge,oldDegree:ht}))return this;Qe.rotate=ge,this.rotating=!0,this.renderImage(function(){Le.rotating=!1,Fe(Je.rotated)&&pe(je,we,Je.rotated,{once:!0}),Ye(je,we,{degree:ge,oldDegree:ht},{cancelable:!1})})}return this},scaleX:function(ge){return this.scale(ge,this.imageData.scaleY),this},scaleY:function(ge){return this.scale(this.imageData.scaleX,ge),this},scale:function(ge){var Le=this,je=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ge,Je=this.element,Qe=this.options,ht=this.imageData;if(ge=Number(ge),je=Number(je),this.viewed&&!this.played&&Qe.scalable){var sn=ht.scaleX,Ot=ht.scaleY,Vt=!1;if(M(ge)?Vt=!0:ge=sn,M(je)?Vt=!0:je=Ot,Vt){if(Fe(Qe.scale)&&pe(Je,"scale",Qe.scale,{once:!0}),!1===Ye(Je,"scale",{scaleX:ge,scaleY:je,oldScaleX:sn,oldScaleY:Ot}))return this;ht.scaleX=ge,ht.scaleY=je,this.scaling=!0,this.renderImage(function(){Le.scaling=!1,Fe(Qe.scaled)&&pe(Je,"scaled",Qe.scaled,{once:!0}),Ye(Je,"scaled",{scaleX:ge,scaleY:je,oldScaleX:sn,oldScaleY:Ot},{cancelable:!1})})}}return this},zoom:function(ge){var Le=1<arguments.length&&void 0!==arguments[1]&&arguments[1],je=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,Je=this.imageData;return ge=Number(ge),this.zoomTo(Je.width*(ge=ge<0?1/(1-ge):1+ge)/Je.naturalWidth,Le,je),this},zoomTo:function(ge){var Le,je,Je,Qe=this,ht=1<arguments.length&&void 0!==arguments[1]&&arguments[1],sn=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,Ot=3<arguments.length&&void 0!==arguments[3]&&arguments[3],Vt=this.element,tn=this.options,wn=this.pointers,on=this.imageData,Dt=on.x,ke=on.y,Gt=on.width,Nn=on.height,dn=on.naturalWidth,Pn=on.naturalHeight;if(M(ge=Math.max(0,ge))&&this.viewed&&!this.played&&(Ot||tn.zoomable)){if(Ot||(Ot=Math.max(.01,tn.minZoomRatio),jn=Math.min(100,tn.maxZoomRatio),ge=Math.min(Math.max(ge,Ot),jn)),sn)switch(sn.type){case"wheel":.055<=tn.zoomRatio&&.95<ge&&ge<1.05&&(ge=1);break;case"pointermove":case"touchmove":case"mousemove":.99<ge&&ge<1.01&&(ge=1)}var Dn,jn=Pn*ge,Un=(dn=(Ot=dn*ge)-Gt,Pn=jn-Nn,on.ratio);if(Fe(tn.zoom)&&pe(Vt,"zoom",tn.zoom,{once:!0}),!1===Ye(Vt,"zoom",{ratio:ge,oldRatio:Un,originalEvent:sn}))return this;this.zooming=!0,sn?(Dn={left:(Dn=(Dn=this.viewer).getBoundingClientRect()).left+(window.pageXOffset-document.documentElement.clientLeft),top:Dn.top+(window.pageYOffset-document.documentElement.clientTop)},wn=wn&&0<Object.keys(wn).length?(Je=je=Le=0,He(wn,function(nt){Le+=nt.startX,je+=nt=nt.startY,Je+=1}),{pageX:Le/=Je,pageY:je/=Je}):{pageX:sn.pageX,pageY:sn.pageY},on.x-=(wn.pageX-Dn.left-Dt)/Gt*dn,on.y-=(wn.pageY-Dn.top-ke)/Nn*Pn):(on.x-=dn/2,on.y-=Pn/2),on.left=on.x,on.top=on.y,on.width=Ot,on.height=jn,on.oldRatio=Un,on.ratio=ge,this.renderImage(function(){Qe.zooming=!1,Fe(tn.zoomed)&&pe(Vt,"zoomed",tn.zoomed,{once:!0}),Ye(Vt,"zoomed",{ratio:ge,oldRatio:Un,originalEvent:sn},{cancelable:!1})}),ht&&this.tooltip()}return this},play:function(){var ge=this,Le=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var je=this.element,Je=this.options;if(Fe(Je.play)&&pe(je,"play",Je.play,{once:!0}),!1===Ye(je,"play"))return this;var Qe=this.player,ht=this.loadImage.bind(this),sn=[],Ot=0,Vt=0;return this.played=!0,this.onLoadWhenPlay=ht,Le&&this.requestFullscreen(Le),Ct(Qe,n),He(this.items,function(tn,wn){var on=tn.querySelector("img"),Dt=document.createElement("img");Dt.src=G(on,"originalUrl"),Dt.alt=on.getAttribute("alt"),Dt.referrerPolicy=on.referrerPolicy,Ot+=1,Ct(Dt,ce),Ge(Dt,t,Je.transition),qt(tn,Q)&&(Ct(Dt,p),Vt=wn),sn.push(Dt),pe(Dt,f,ht,{once:!0}),Qe.appendChild(Dt)}),M(Je.interval)&&0<Je.interval&&1<Ot&&function tn(){ge.playing=setTimeout(function(){Ht(sn[Vt],p),Ct(sn[Vt=(Vt+=1)<Ot?Vt:0],p),tn()},Je.interval)}(),this},stop:function(){var ge=this;if(!this.played)return this;var Le=this.element,je=this.options;return Fe(je.stop)&&pe(Le,"stop",je.stop,{once:!0}),!1===Ye(Le,"stop")||(je=this.player,this.played=!1,clearTimeout(this.playing),He(je.getElementsByTagName("img"),function(Je){ie(Je,f,ge.onLoadWhenPlay)}),Ht(je,n),je.innerHTML="",this.exitFullscreen()),this},full:function(){var ge=this,Le=this.options,je=this.viewer,Je=this.image,Qe=this.list;return!this.isShown||this.played||this.fulled||!Le.inline||(this.fulled=!0,this.open(),Ct(this.button,me),Le.transition&&(Ht(Qe,t),this.viewed&&Ht(Je,t)),Ct(je,de),je.setAttribute("role","dialog"),je.setAttribute("aria-labelledby",this.title.id),je.setAttribute("aria-modal",!0),je.removeAttribute("style"),at(je,{zIndex:Le.zIndex}),Le.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Ve({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){ge.renderImage(function(){Le.transition&&setTimeout(function(){Ct(Je,t),Ct(Qe,t)},0)})})),this},exit:function(){var ge=this,Le=this.options,je=this.viewer,Je=this.image,Qe=this.list;return this.isShown&&!this.played&&this.fulled&&Le.inline&&(this.fulled=!1,this.close(),Ht(this.button,me),Le.transition&&(Ht(Qe,t),this.viewed&&Ht(Je,t)),Le.focus&&this.clearEnforceFocus(),je.removeAttribute("role"),je.removeAttribute("aria-labelledby"),je.removeAttribute("aria-modal"),Ht(je,de),at(je,{zIndex:Le.zIndexInline}),this.viewerData=Ve({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){ge.renderImage(function(){Le.transition&&setTimeout(function(){Ct(Je,t),Ct(Qe,t)},0)})})),this},tooltip:function(){var ge=this,Le=this.options,je=this.tooltipBox;return this.viewed&&!this.played&&Le.tooltip&&(je.textContent="".concat(Math.round(100*this.imageData.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):Le.transition?(this.fading&&Ye(je,F),Ct(je,n),Ct(je,ce),Ct(je,t),je.removeAttribute("aria-hidden"),je.initialOffsetWidth=je.offsetWidth,Ct(je,p)):(Ct(je,n),je.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){Le.transition?(pe(je,F,function(){Ht(je,n),Ht(je,ce),Ht(je,t),je.setAttribute("aria-hidden",!0),ge.fading=!1},{once:!0}),Ht(je,p),ge.fading=!0):(Ht(je,n),je.setAttribute("aria-hidden",!0)),ge.tooltipping=!1},1e3)),this},toggle:function(){var ge=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this.zoomTo(1===this.imageData.ratio?this.imageData.oldRatio:1,!0,ge),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Ve({},this.initialImageData),this.renderImage()),this},update:function(){var ge=this,Le=this.element,je=this.options,Je=this.isImg;if(Je&&!Le.parentNode)return this.destroy();var Qe,ht=[];return He(Je?[Le]:Le.querySelectorAll("img"),function(sn){Fe(je.filter)?je.filter.call(ge,sn)&&ht.push(sn):ge.getImageURL(sn)&&ht.push(sn)}),ht.length&&(this.images=ht,this.length=ht.length,this.ready?(Qe=[],He(this.items,function(Vt,Ot){Vt=Vt.querySelector("img");var tn=ht[Ot];tn&&Vt&&tn.src===Vt.src&&tn.alt===Vt.alt||Qe.push(Ot)}),at(this.list,{width:"auto"}),this.initList(),this.isShown&&(this.length?this.viewed&&(0<=(Je=Qe.indexOf(this.index))?(this.viewed=!1,this.view(Math.max(Math.min(this.index-Je,this.length-1),0))):(Ct(Le=this.items[this.index],Q),Le.setAttribute("aria-selected",!0))):(this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""))):this.build()),this},destroy:function(){var ge=this.element,Le=this.options;return ge[V]&&(this.destroyed=!0,this.ready?(this.played&&this.stop(),Le.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):Le.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),Le.inline||ie(ge,i,this.onStart),ge[V]=void 0),this}},On={getImageURL:function(ge){var Le=this.options.url;return y(Le)?ge.getAttribute(Le):Fe(Le)?Le.call(this,ge):""},enforceFocus:function(){var ge=this;this.clearEnforceFocus(),pe(document,o,this.onFocusin=function(Le){var je=ge.viewer,Je=Le.target;if(Je!==document&&Je!==je&&!je.contains(Je)){for(;Je;){if(null!==Je.getAttribute("tabindex")||"true"===Je.getAttribute("aria-modal"))return;Je=Je.parentElement}je.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(ie(document,o,this.onFocusin),this.onFocusin=null)},open:function(){var ge=this.body;Ct(ge,l),ge.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px")},close:function(){var ge=this.body;Ht(ge,l),ge.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var ge=this.element,Le=this.options,je=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,Le.focus&&(je.focus(),this.enforceFocus()),Fe(Le.shown)&&pe(ge,"shown",Le.shown,{once:!0}),!1!==Ye(ge,"shown")&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var ge=this.element,Le=this.options,je=this.viewer;Le.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),Ct(je,v),je.removeAttribute("role"),je.removeAttribute("aria-labelledby"),je.removeAttribute("aria-modal"),je.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(Fe(Le.hidden)&&pe(ge,"hidden",Le.hidden,{once:!0}),Ye(ge,"hidden",null,{cancelable:!1}))},requestFullscreen:function(ge){var Le=this.element.ownerDocument;this.fulled&&!(Le.fullscreenElement||Le.webkitFullscreenElement||Le.mozFullScreenElement||Le.msFullscreenElement)&&((Le=Le.documentElement).requestFullscreen?ae(ge)?Le.requestFullscreen(ge):Le.requestFullscreen():Le.webkitRequestFullscreen?Le.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):Le.mozRequestFullScreen?Le.mozRequestFullScreen():Le.msRequestFullscreen&&Le.msRequestFullscreen())},exitFullscreen:function(){var ge=this.element.ownerDocument;this.fulled&&(ge.fullscreenElement||ge.webkitFullscreenElement||ge.mozFullScreenElement||ge.msFullscreenElement)&&(ge.exitFullscreen?ge.exitFullscreen():ge.webkitExitFullscreen?ge.webkitExitFullscreen():ge.mozCancelFullScreen?ge.mozCancelFullScreen():ge.msExitFullscreen&&ge.msExitFullscreen())},change:function(ge){var Le=this.options,je=this.pointers,Je=je[Object.keys(je)[0]];if(Je){var Qe,ht,sn=Je.endX-Je.startX,Ot=Je.endY-Je.startY;switch(this.action){case Ue:this.move(sn,Ot,ge);break;case _:this.zoom((Qe=vn({},Vt=je),ht=[],He(Vt,function(tn,wn){delete Qe[wn],He(Qe,function(ke){var Gt=Math.abs(tn.startX-ke.startX),Nn=Math.abs(tn.startY-ke.startY),Dt=Math.abs(tn.endX-ke.endX);ke=Math.abs(tn.endY-ke.endY),Gt=Math.sqrt(Gt*Gt+Nn*Nn),Nn=Math.sqrt(Dt*Dt+ke*ke),ht.push((Nn-Gt)/Gt)})}),ht.sort(function(tn,wn){return Math.abs(tn)<Math.abs(wn)}),ht[0]),!1,ge);break;case"switch":this.action="switched";var Vt=Math.abs(sn);1<Vt&&Vt>Math.abs(Ot)&&(this.pointers={},1<sn?this.prev(Le.loop):sn<-1&&this.next(Le.loop))}He(je,function(tn){tn.startX=tn.endX,tn.startY=tn.endY})}},isSwitchable:function(){var ge=this.imageData,Le=this.viewerData;return 1<this.length&&0<=ge.x&&0<=ge.y&&ge.width<=Le.width&&ge.height<=Le.height}},Sr=Kn.Viewer,jt=(kn=-1,function(){return kn+=1});return Kn=function(){function ge(Qe){var ht=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},sn=this,Ot=ge;if(!(sn instanceof Ot))throw new TypeError("Cannot call a class as a function");if(!Qe||1!==Qe.nodeType)throw new Error("The first argument is required and must be an element.");this.element=Qe,this.options=Ve({},Et,ae(ht)&&ht),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.id=jt(),this.init()}var Le,je,Je;return Le=ge,Je=[{key:"noConflict",value:function(){return window.Viewer=Sr,ge}},{key:"setDefaults",value:function(Qe){Ve(Et,ae(Qe)&&Qe)}}],(je=[{key:"init",value:function(){var Qe,ht,sn,Ot,Vt=this,tn=this.element,wn=this.options;tn[V]||(tn[V]=this,wn.focus&&!wn.keyboard&&(wn.focus=!1),ht=[],He((Qe="img"===tn.localName)?[tn]:tn.querySelectorAll("img"),function(on){Fe(wn.filter)?wn.filter.call(Vt,on)&&ht.push(on):Vt.getImageURL(on)&&ht.push(on)}),this.isImg=Qe,this.length=ht.length,this.images=ht,this.initBody(),O(document.createElement(V).style.transition)&&(wn.transition=!1),wn.inline?(sn=0,Ot=function(){var on;(sn+=1)===Vt.length&&(Vt.initializing=!1,Vt.delaying={abort:function(){clearTimeout(on)}},on=setTimeout(function(){Vt.delaying=!1,Vt.build()},0))},this.initializing={abort:function(){He(ht,function(on){on.complete||(ie(on,f,Ot),ie(on,E,Ot))})}},He(ht,function(on){var Dt,ke;on.complete?Ot():(pe(on,f,Dt=function(){ie(on,E,ke),Ot()},{once:!0}),pe(on,E,ke=function(){ie(on,f,Dt),Ot()},{once:!0}))})):pe(tn,i,this.onStart=function(on){"img"!==(on=on.target).localName||Fe(wn.filter)&&!wn.filter.call(Vt,on)||Vt.view(Vt.images.indexOf(on))}))}},{key:"build",value:function(){var Qe,ht,sn,Ot,Vt,tn,wn,on,Dt,ke,Gt,Nn,dn,Pn;this.ready||(ht=this.options,sn=(Qe=this.element).parentNode,(dn=document.createElement("div")).innerHTML='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',dn=(Ot=dn.querySelector(".".concat(V,"-container"))).querySelector(".".concat(V,"-title")),Vt=Ot.querySelector(".".concat(V,"-toolbar")),Pn=Ot.querySelector(".".concat(V,"-navbar")),tn=Ot.querySelector(".".concat(V,"-button")),wn=Ot.querySelector(".".concat(V,"-canvas")),this.parent=sn,this.viewer=Ot,this.title=dn,this.toolbar=Vt,this.navbar=Pn,this.button=tn,this.canvas=wn,this.footer=Ot.querySelector(".".concat(V,"-footer")),this.tooltipBox=Ot.querySelector(".".concat(V,"-tooltip")),this.player=Ot.querySelector(".".concat(V,"-player")),this.list=Ot.querySelector(".".concat(V,"-list")),Ot.id="".concat(V).concat(this.id),dn.id="".concat(V,"Title").concat(this.id),Ct(dn,ht.title?Zt(Array.isArray(ht.title)?ht.title[0]:ht.title):v),Ct(Pn,ht.navbar?Zt(ht.navbar):v),Ge(tn,v,!ht.button),ht.keyboard&&tn.setAttribute("tabindex",0),ht.backdrop&&(Ct(Ot,"".concat(V,"-backdrop")),ht.inline||"static"===ht.backdrop||ue(wn,A,"hide")),y(ht.className)&&ht.className&&ht.className.split(P).forEach(function(Dn){Ct(Ot,Dn)}),ht.toolbar?(on=document.createElement("ul"),Dt=ae(ht.toolbar),ke=U.slice(0,3),Gt=U.slice(7,9),Nn=U.slice(9),Dt||Ct(Vt,Zt(ht.toolbar)),He(Dt?ht.toolbar:U,function(Dn,Wn){var Un,Yn=Dt&&ae(Dn),Gn=(Wn=Dt?vt(Wn):Dn,Yn&&!O(Dn.show)?Dn.show:Dn);!Gn||!ht.zoomable&&-1!==ke.indexOf(Wn)||!ht.rotatable&&-1!==Gt.indexOf(Wn)||!ht.scalable&&-1!==Nn.indexOf(Wn)||(Un=Yn&&!O(Dn.size)?Dn.size:Dn,Yn=Yn&&!O(Dn.click)?Dn.click:Dn,Dn=document.createElement("li"),ht.keyboard&&Dn.setAttribute("tabindex",0),Dn.setAttribute("role","button"),Ct(Dn,"".concat(V,"-").concat(Wn)),Fe(Yn)||ue(Dn,A,Wn),M(Gn)&&Ct(Dn,Zt(Gn)),-1!==["small","large"].indexOf(Un)?Ct(Dn,"".concat(V,"-").concat(Un)):"play"===Wn&&Ct(Dn,"".concat(V,"-large")),Fe(Yn)&&pe(Dn,i,Yn),on.appendChild(Dn))}),Vt.appendChild(on)):Ct(Vt,v),ht.rotatable||(Ct(dn=Vt.querySelectorAll('li[class*="rotate"]'),x),He(dn,function(Dn){Vt.appendChild(Dn)})),ht.inline?(Ct(tn,ne),at(Ot,{zIndex:ht.zIndexInline}),"static"===window.getComputedStyle(sn).position&&at(sn,{position:"relative"}),sn.insertBefore(Ot,Qe.nextSibling)):(Ct(tn,Z),Ct(Ot,de),Ct(Ot,ce),Ct(Ot,v),at(Ot,{zIndex:ht.zIndex}),(Pn=(Pn=y(Pn=ht.container)?Qe.ownerDocument.querySelector(Pn):Pn)||this.body).appendChild(Ot)),ht.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,Fe(ht.ready)&&pe(Qe,K,ht.ready,{once:!0}),!1===Ye(Qe,K)?this.ready=!1:this.ready&&ht.inline&&this.view(this.index))}}])&&At(Le.prototype,je),Je&&At(Le,Je),Object.defineProperty(Le,"prototype",{writable:!1}),ge}(),Ve(Kn.prototype,an,xn,$n,Cn,On),Kn});