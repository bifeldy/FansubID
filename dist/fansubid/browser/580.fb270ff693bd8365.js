"use strict";(self.webpackChunkfansubid=self.webpackChunkfansubid||[]).push([[580],{3580:(W,E,c)=>{c.r(E),c.d(E,{CreateModule:()=>xa});var m=c(6895),h=c(1390),o=c(4006),Z=c(7375),k=c(3170),v=c(4700),u=c(6271),g=c(4249),S=c(2777),y=c(5094),t=c(4650),p=c(257);let x=(()=>{class a{constructor(e,i){this.gs=e,this.router=i}canDeactivate(e){return!!this.router.getCurrentNavigation()?.extras?.state?.bypassCanDeactivate||!e.canDeactivate||e.canDeactivate()}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(p.U),t.LFG(h.F0))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var _=c(210),C=c(7355),N=c(8613),I=c(5861),nt=c(6805),ot=c(930);function J(a,r){const e="object"==typeof r;return new Promise((i,n)=>{const s=new ot.Hp({next:l=>{i(l),s.unsubscribe()},error:n,complete:()=>{e?i(r.defaultValue):n(new nt.K)}});a.subscribe(s)})}var w=c(8372),q=c(9094),L=c(8505),O=c(3900),G=c(8746),B=c(5625),D=c(3e3),rt=c(519),st=c(8439),lt=c(5679),$=c(6781),ct=c(8987),j=c(7902),X=c(6925),Y=c(4137),mt=c(6493),F=c(7845),tt=c(7957),et=c(3238),A=c(4859),ut=c(4850),R=c(7392),f=c(9549),M=c(4144),dt=c(3162),at=c(4385),it=c(455),K=c(266),Q=c(8616),V=c(3626);function _t(a,r){if(1&a&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"bytes"),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("Ukuran Upload Melebihi Batas ",t.lcZ(2,1,e.imageLimitExceeded)," !")}}function gt(a,r){if(1&a&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Oqu(e.imageErrorText)}}function pt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",2),t._UZ(1,"img",46),t.TgZ(2,"mat-form-field",47)(3,"mat-label"),t._uU(4,"Gambar Untuk Embed SEO"),t.qZA(),t.TgZ(5,"ngx-mat-file-input",48,49),t.NdJ("change",function(n){t.CHM(e);const s=t.MAs(6),l=t.oxw(2);return t.KtG(l.uploadImage(n,s))}),t.qZA(),t._UZ(7,"mat-icon",50),t.qZA(),t.TgZ(8,"mat-error",51)(9,"small"),t.YNc(10,_t,3,3,"div",20),t.YNc(11,gt,2,1,"div",20),t.qZA()()()}if(2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.image_url,t.LSH),t.xp6(1),t.Q6J("color","accent"),t.xp6(3),t.Q6J("disabled",e.fg.value.image)("accept","image/gif, image/jpeg, image/jpg, image/png"),t.xp6(5),t.Q6J("ngIf",e.imageLimitExceeded),t.xp6(1),t.Q6J("ngIf",e.imageErrorText)}}function ft(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",52)(1,"button",27),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.submitImage())}),t._UZ(2,"mat-icon",53),t._uU(3," Unggah "),t.qZA()()}if(2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.submitted)}}function ht(a,r){1&a&&(t.TgZ(0,"div",15)(1,"mat-slide-toggle",54)(2,"i"),t._uU(3,"Private"),t.qZA(),t._uU(4," Akses Hanya Dengan URL "),t.qZA()())}function bt(a,r){if(1&a&&(t.TgZ(0,"mat-option",55),t._uU(1),t.qZA()),2&a){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function vt(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Jenis Tidak Boleh Kosong"),t.qZA())}function xt(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Jenis Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function Ct(a,r){1&a&&t.GkF(0)}function Tt(a,r){1&a&&(t.TgZ(0,"mat-option",62),t._UZ(1,"mat-progress-bar",63),t.qZA())}function Zt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-option",65),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(4);return t.KtG(l.filterAnimeSelected(s))}),t._UZ(1,"img",66),t.TgZ(2,"span",67),t._uU(3),t.qZA()()}if(2&a){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.s9C("src",e.image_url,t.LSH),t.xp6(2),t.lnq("",e.id," :: ",null==e.media_type?null:e.media_type.toUpperCase()," :: ",e.title,"")}}function At(a,r){if(1&a&&(t.ynx(0),t.YNc(1,Zt,4,5,"mat-option",64),t.BQk()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.filteredAnime)}}function kt(a,r){if(1&a&&(t.TgZ(0,"small",68),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Oqu(e.fg.get("anime_name").value)}}function It(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"ID Anime Tidak Boleh Kosong"),t.qZA())}function Ut(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"ID Anime Hanya Boleh Angka"),t.qZA())}function Et(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-form-field",56)(1,"mat-label"),t._uU(2,"Anime Terkait"),t.qZA(),t.TgZ(3,"input",57),t.NdJ("keyup",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.resetSelectedAnime())}),t.qZA(),t._UZ(4,"mat-icon",58),t.TgZ(5,"mat-autocomplete",null,59),t.YNc(7,Tt,2,0,"mat-option",60),t.YNc(8,At,2,1,"ng-container",20),t.qZA(),t.YNc(9,kt,2,1,"small",61),t.TgZ(10,"mat-error"),t.YNc(11,It,2,0,"div",20),t.YNc(12,Ut,2,0,"div",20),t.qZA()()}if(2&a){const e=t.MAs(6),i=t.oxw(2);t.Q6J("color","accent"),t.xp6(3),t.Q6J("matAutocomplete",e),t.xp6(4),t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("ngIf",!i.isLoading),t.xp6(1),t.Q6J("ngIf",i.fg.get("anime_name").value),t.xp6(2),t.Q6J("ngIf",i.fg.get("anime_id").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.fg.get("anime_id").hasError("pattern"))}}function St(a,r){1&a&&t.GkF(0)}function yt(a,r){1&a&&(t.TgZ(0,"mat-option",62),t._UZ(1,"mat-progress-bar",63),t.qZA())}function Nt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-option",65),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(5);return t.KtG(l.filterDoramaSelected(s))}),t._UZ(1,"img",66),t.TgZ(2,"span",67),t._uU(3),t.qZA()()}if(2&a){const e=r.$implicit;t.Q6J("value",e.mdl_id),t.xp6(1),t.s9C("src",e.image_url,t.LSH),t.xp6(2),t.AsE("",e.mdl_id," :: ",e.title,"")}}function Jt(a,r){if(1&a&&(t.ynx(0),t.YNc(1,Nt,4,4,"mat-option",64),t.BQk()),2&a){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.filteredDorama)}}function wt(a,r){if(1&a&&(t.TgZ(0,"small",68),t._uU(1),t.qZA()),2&a){const e=t.oxw(4);t.xp6(1),t.Oqu(e.fg.get("dorama_name").value)}}function qt(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"ID Dorama Tidak Boleh Kosong"),t.qZA())}function Bt(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"ID Dorama Hanya Boleh Angka"),t.qZA())}function Dt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-form-field",56)(1,"mat-label"),t._uU(2,"Dorama Terkait"),t.qZA(),t.TgZ(3,"input",71),t.NdJ("keyup",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.resetSelectedDorama())}),t.qZA(),t._UZ(4,"mat-icon",58),t.TgZ(5,"mat-autocomplete",null,72),t.YNc(7,yt,2,0,"mat-option",60),t.YNc(8,Jt,2,1,"ng-container",20),t.qZA(),t.YNc(9,wt,2,1,"small",61),t.TgZ(10,"mat-error"),t.YNc(11,qt,2,0,"div",20),t.YNc(12,Bt,2,0,"div",20),t.qZA()()}if(2&a){const e=t.MAs(6),i=t.oxw(3);t.Q6J("color","accent"),t.xp6(3),t.Q6J("matAutocomplete",e),t.xp6(4),t.Q6J("ngIf",i.isLoading),t.xp6(1),t.Q6J("ngIf",!i.isLoading),t.xp6(1),t.Q6J("ngIf",i.fg.get("dorama_name").value),t.xp6(2),t.Q6J("ngIf",i.fg.get("dorama_id").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.fg.get("dorama_id").hasError("pattern"))}}function Ft(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Kode Serial Tidak Boleh Kosong"),t.qZA())}function Rt(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Kode Serial Hanya Boleh Huruf Besar, Strip, Dan Angka"),t.qZA())}function Mt(a,r){if(1&a&&(t.TgZ(0,"mat-form-field",17)(1,"mat-label"),t._uU(2,"Kode / Serial Number"),t.qZA(),t._UZ(3,"input",76)(4,"mat-icon",77),t.TgZ(5,"mat-error"),t.YNc(6,Ft,2,0,"div",20),t.YNc(7,Rt,2,0,"div",20),t.qZA()()),2&a){const e=t.oxw(4);t.Q6J("color","accent"),t.xp6(6),t.Q6J("ngIf",e.fg.get("sn_code").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.fg.get("sn_code").hasError("pattern"))}}function Qt(a,r){if(1&a&&(t.YNc(0,Mt,8,3,"mat-form-field",73),t.TgZ(1,"div",74)(2,"small",75),t._uU(3," * Jika tidak ada kode serial isi saja - strip "),t.qZA()()),2&a){const e=t.oxw(3);t.Q6J("ngIf",e.berkasType)}}function Lt(a,r){if(1&a&&(t.YNc(0,St,1,0,"ng-container",21),t.YNc(1,Dt,13,7,"ng-template",null,69,t.W1O),t.YNc(3,Qt,4,1,"ng-template",null,70,t.W1O)),2&a){const e=t.MAs(2),i=t.MAs(4),n=t.oxw(2);t.Q6J("ngIf",n.berkasType.toLowerCase().includes("dorama_"))("ngIfThen",e)("ngIfElse",i)}}function Ot(a,r){1&a&&t._UZ(0,"mat-icon",58)}function Yt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",83),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().index,s=t.oxw(2);return t.KtG(s.removeFansub(n))}),t._UZ(1,"mat-icon",84),t.qZA()}}function Kt(a,r){1&a&&(t.TgZ(0,"mat-option",62),t._UZ(1,"mat-progress-bar",63),t.qZA())}function Ht(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-option",65),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(2).index,d=t.oxw(2);return t.KtG(d.filterFansubSelected(s,l))}),t._UZ(1,"img",85),t.TgZ(2,"span",67),t._uU(3),t.qZA()()}if(2&a){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.s9C("src",e.image_url,t.LSH),t.xp6(2),t.AsE("",e.slug," :: ",e.name,"")}}function Gt(a,r){if(1&a&&(t.ynx(0),t.YNc(1,Ht,4,4,"mat-option",64),t.BQk()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.filteredFansub)}}function jt(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"ID Fansub Tidak Boleh Kosong"),t.qZA())}function Vt(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"ID Fansub Hanya Boleh Angka"),t.qZA())}function Pt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",78)(2,"mat-form-field",56)(3,"mat-label"),t._uU(4,"Fansub Terkait"),t.qZA(),t.TgZ(5,"input",79),t.NdJ("keyup",function(){const s=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.resetSelectedFansub(s))}),t.qZA(),t.YNc(6,Ot,1,0,"mat-icon",80),t.YNc(7,Yt,2,0,"button",81),t.TgZ(8,"mat-autocomplete",null,82),t.YNc(10,Kt,2,0,"mat-option",60),t.YNc(11,Gt,2,1,"ng-container",20),t.qZA(),t.TgZ(12,"small",68),t._uU(13),t.qZA(),t.TgZ(14,"mat-error"),t.YNc(15,jt,2,0,"div",20),t.YNc(16,Vt,2,0,"div",20),t.qZA()()()()}if(2&a){const e=r.$implicit,i=r.index,n=t.MAs(9),s=t.oxw(2);t.xp6(1),t.Q6J("formGroupName",i),t.xp6(1),t.Q6J("color","accent"),t.xp6(3),t.Q6J("matAutocomplete",n),t.xp6(1),t.Q6J("ngIf",e.get("fansub_id").value||0===i),t.xp6(1),t.Q6J("ngIf",!e.get("fansub_id").value&&i>0),t.xp6(3),t.Q6J("ngIf",s.isLoading),t.xp6(1),t.Q6J("ngIf",!s.isLoading),t.xp6(2),t.Oqu(e.get("fansub_name").value),t.xp6(2),t.Q6J("ngIf",e.get("fansub_id").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.get("fansub_id").hasError("pattern"))}}function zt(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Nama Berkas Tidak Boleh Kosong"),t.qZA())}function Wt(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Nama Berkas Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function $t(a,r){if(1&a&&t._UZ(0,"angular-editor",86),2&a){const e=t.oxw(2);t.Q6J("config",e.GS.angularEditorConfig)}}function Xt(a,r){1&a&&t.GkF(0)}function te(a,r){if(1&a&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"bytes"),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("Ukuran Upload Melebihi Batas ",t.lcZ(2,1,e.attachmentLimitExceeded)," !")}}function ee(a,r){if(1&a&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Oqu(e.attachmentErrorText)}}function ae(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",38)(1,"div",94)(2,"div",95),t._uU(3),t.ALo(4,"bytes"),t._UZ(5,"br")(6,"mat-progress-bar",96),t.qZA()(),t.TgZ(7,"div",97)(8,"button",27),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.submitAttachment(s))}),t._UZ(9,"mat-icon",98),t._uU(10," Unggah "),t.qZA()()()}if(2&a){const e=r.$implicit,i=t.oxw(3);t.xp6(3),t.HOy(" ",e.status," :: ",e.progress,"% @ ",t.lcZ(4,7,e.speed),"/s # ",e.remaining," detik "),t.xp6(3),t.Q6J("mode","determinate")("value",e.progress),t.xp6(2),t.Q6J("disabled",i.submitted||"complete"===e.status||"uploading"===e.status)}}function ie(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",74)(2,"small",75),t._uU(3," * "),t.TgZ(4,"i"),t._uU(5,"Resume-able Upload"),t.qZA(),t._uU(6," :: "),t.TgZ(7,"i"),t._uU(8,"expired"),t.qZA(),t._uU(9),t.TgZ(10,"i"),t._uU(11,"upload"),t.qZA(),t._uU(12),t.qZA()(),t.TgZ(13,"mat-form-field",87)(14,"mat-label"),t._uU(15,"Upload Lampiran Berkas -- DDL"),t.qZA(),t.TgZ(16,"ngx-mat-file-input",88,89),t.NdJ("change",function(n){t.CHM(e);const s=t.MAs(17),l=t.oxw(2);return t.KtG(l.uploadAttachment(n,s))}),t.qZA(),t._UZ(18,"mat-icon",90),t.qZA(),t.TgZ(19,"mat-error",91)(20,"small"),t.YNc(21,te,3,3,"div",20),t.YNc(22,ee,2,1,"div",20),t.qZA()()(),t.YNc(23,ae,11,9,"div",92),t.ALo(24,"async"),t.TgZ(25,"div",10)(26,"mat-slide-toggle",93),t._uU(27," Otomatis Simpan & Kirim Setelah Selesai Upload DDL "),t.qZA()()}if(2&a){const e=t.oxw(2);t.xp6(9),t.hij(" 3 hari (Tidak wajib, jika sudah ada URL eksternal, misal alamat webmu gdrive mediafire mega dan lain sebagainya). Mohon ditunggu, jika ingin di tinggal dapat menyelesaikan semua isian yang diperlukan dan menyalakan 'Otomatis Simpan & Kirim' dibawah ini, berkas lampiran akan dibatalkan dan dihapus apabila tidak disimpan dalam ",e.CONSTANTS.timeoutDeleteTempAttachmentTime/60/1e3," menit setelah berhasil "),t.xp6(3),t.hij(". Lalu kemudian saat berkas berhasil dibuat, lampiran tidak akan bisa di modifikasi. Tipe file yang diperbolehkan :: ",e.extAttachment," "),t.xp6(1),t.Q6J("color","accent"),t.xp6(3),t.Q6J("disabled",null!==e.attachmentSelected)("accept",e.fileTypeAttachmentAllowed),t.xp6(5),t.Q6J("ngIf",e.attachmentLimitExceeded),t.xp6(1),t.Q6J("ngIf",e.attachmentErrorText),t.xp6(1),t.Q6J("ngForOf",t.lcZ(24,9,e.uploads$)),t.xp6(3),t.Q6J("disabled",e.fg.invalid||"uploading"!==(null==e.attachmentSelected?null:e.attachmentSelected.status))}}function ne(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",99),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.verify())}),t._UZ(1,"mat-icon",100),t._uU(2," Verifikasi Akun Untuk Upload DDL! "),t.qZA()}}function oe(a,r){1&a&&(t.TgZ(0,"div",74)(1,"small",75),t._uU(2,"* Gunakan tombol (X) untuk menghapus URL Eksternal jika ingin hanya menggunakan lampiran "),t.TgZ(3,"i"),t._uU(4,"upload"),t.qZA(),t._uU(5," DDL saja"),t.qZA()())}function re(a,r){1&a&&t._UZ(0,"mat-icon",109)}function se(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",83),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().index,s=t.oxw(2);return t.KtG(s.removeDownloadLink(n))}),t._UZ(1,"mat-icon",84),t.qZA()}}function le(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Web Tidak Boleh Kosong"),t.qZA())}function ce(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Web Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function me(a,r){1&a&&t._UZ(0,"mat-icon",110)}function ue(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",83),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().index,s=t.oxw(2);return t.KtG(s.removeDownloadLink(n))}),t._UZ(1,"mat-icon",84),t.qZA()}}function de(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Tautan Tidak Boleh Kosong"),t.qZA())}function _e(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Tautan Link Tidak Valid"),t.qZA())}function ge(a,r){if(1&a&&(t.ynx(0),t.TgZ(1,"div",101),t.YNc(2,oe,6,0,"div",102),t.TgZ(3,"mat-form-field",103)(4,"mat-label"),t._uU(5,"Nama Website"),t.qZA(),t._UZ(6,"input",104),t.YNc(7,re,1,0,"mat-icon",105),t.YNc(8,se,2,0,"button",81),t.TgZ(9,"mat-error"),t.YNc(10,le,2,0,"div",20),t.YNc(11,ce,2,0,"div",20),t.qZA()(),t.TgZ(12,"mat-form-field",106)(13,"mat-label"),t._uU(14,"Tautan Link"),t.qZA(),t._UZ(15,"input",107),t.YNc(16,me,1,0,"mat-icon",108),t.YNc(17,ue,2,0,"button",81),t.TgZ(18,"mat-error"),t.YNc(19,de,2,0,"div",20),t.YNc(20,_e,2,0,"div",20),t.qZA()()(),t.BQk()),2&a){const e=r.$implicit,i=r.index,n=t.oxw(2);t.xp6(1),t.Q6J("formGroupName",i),t.xp6(1),t.Q6J("ngIf",(null==n.AS.currentUserSubject||null==n.AS.currentUserSubject.value?null:n.AS.currentUserSubject.value.verified)&&0===i),t.xp6(1),t.Q6J("color","accent"),t.xp6(4),t.Q6J("ngIf",e.get("name").value||0===i&&!(null!=n.AS.currentUserSubject&&null!=n.AS.currentUserSubject.value&&n.AS.currentUserSubject.value.verified)),t.xp6(1),t.Q6J("ngIf",!e.get("name").value&&(i>0||(null==n.AS.currentUserSubject||null==n.AS.currentUserSubject.value?null:n.AS.currentUserSubject.value.verified))),t.xp6(2),t.Q6J("ngIf",e.get("name").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.get("name").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(4),t.Q6J("ngIf",e.get("url").value||0===i&&!(null!=n.AS.currentUserSubject&&null!=n.AS.currentUserSubject.value&&n.AS.currentUserSubject.value.verified)),t.xp6(1),t.Q6J("ngIf",!e.get("url").value&&(i>0||(null==n.AS.currentUserSubject||null==n.AS.currentUserSubject.value?null:n.AS.currentUserSubject.value.verified))),t.xp6(2),t.Q6J("ngIf",e.get("url").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.get("url").hasError("pattern"))}}function pe(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"form",4),t.NdJ("submit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSubmit())}),t.TgZ(1,"div",5)(2,"div",6)(3,"h2",7)(4,"span",8),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleDetailMode())}),t._uU(5),t.qZA(),t.TgZ(6,"b",9),t._uU(7,"Tambah Berkas Baru"),t.qZA()()(),t.TgZ(8,"div",2)(9,"div",10)(10,"div",11)(11,"div",10),t.YNc(12,pt,12,6,"div",12),t.YNc(13,ft,4,1,"div",13),t.YNc(14,ht,5,0,"div",14),t.TgZ(15,"div",15)(16,"mat-slide-toggle",16),t._uU(17," R-18+ Konten Eksplisit "),t.qZA()(),t.TgZ(18,"mat-form-field",17)(19,"mat-label"),t._uU(20,"Jenis Proyek"),t.qZA(),t.TgZ(21,"mat-select",18),t.YNc(22,bt,2,2,"mat-option",19),t.qZA(),t.TgZ(23,"mat-error"),t.YNc(24,vt,2,0,"div",20),t.YNc(25,xt,2,0,"div",20),t.qZA()(),t.YNc(26,Ct,1,0,"ng-container",21),t.YNc(27,Et,13,7,"ng-template",null,22,t.W1O),t.YNc(29,Lt,5,3,"ng-template",null,23,t.W1O),t.TgZ(31,"div",15),t._UZ(32,"mat-divider"),t.qZA(),t.TgZ(33,"div",24),t.YNc(34,Pt,17,10,"div",25),t.qZA(),t.TgZ(35,"div",2)(36,"div",10),t._UZ(37,"div",26),t.TgZ(38,"div",26)(39,"button",27),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.addFansub())}),t._UZ(40,"mat-icon",28),t._uU(41," Tambah Fansub "),t.qZA()()()(),t.TgZ(42,"div",15)(43,"a",29),t._uU(44," * Jika pencarian tidak ditemukan, silahkan membuat halaman Fansub baru terlebih dahulu "),t.qZA()()()(),t.TgZ(45,"div",30)(46,"div",10)(47,"mat-form-field",31)(48,"mat-label"),t._uU(49,"Nama Berkas"),t.qZA(),t._UZ(50,"input",32)(51,"mat-icon",33),t.TgZ(52,"mat-error"),t.YNc(53,zt,2,0,"div",20),t.YNc(54,Wt,2,0,"div",20),t.qZA()(),t.YNc(55,$t,1,1,"angular-editor",34),t.qZA(),t.TgZ(56,"div",10)(57,"div",15),t._UZ(58,"mat-divider"),t.qZA()(),t.YNc(59,Xt,1,0,"ng-container",21),t.YNc(60,ie,28,11,"ng-template",null,35,t.W1O),t.YNc(62,ne,3,0,"ng-template",null,36,t.W1O),t.TgZ(64,"div",10)(65,"div",15),t._UZ(66,"mat-divider"),t.qZA()(),t.ynx(67,37),t.YNc(68,ge,21,12,"ng-container",25),t.BQk(),t.TgZ(69,"div",38),t._UZ(70,"div",26)(71,"div",26)(72,"div",26),t.TgZ(73,"div",26)(74,"button",27),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.addDownloadLink())}),t._UZ(75,"mat-icon",28),t._uU(76," Tambah URL Eksternal "),t.qZA()()()()(),t.TgZ(77,"div",10)(78,"div",15)(79,"div",39),t._UZ(80,"div",40),t.TgZ(81,"div",41)(82,"a",42),t._UZ(83,"mat-icon",43),t._uU(84," Batal "),t.qZA()(),t.TgZ(85,"div",41)(86,"button",44),t._uU(87," Simpan "),t._UZ(88,"mat-icon",45),t.qZA()()()()()()()()}if(2&a){const e=t.MAs(28),i=t.MAs(30),n=t.MAs(61),s=t.MAs(63),l=t.oxw();t.Q6J("formGroup",l.fg),t.xp6(5),t.hij(" ",l.detailMode?"Sederhana":"Lengkap"," "),t.xp6(7),t.Q6J("ngIf",l.detailMode),t.xp6(1),t.Q6J("ngIf",l.image&&!l.fg.value.image&&l.detailMode),t.xp6(1),t.Q6J("ngIf",null==l.AS.currentUserSubject||null==l.AS.currentUserSubject.value?null:l.AS.currentUserSubject.value.verified),t.xp6(4),t.Q6J("color","accent"),t.xp6(4),t.Q6J("ngForOf",l.projectList),t.xp6(2),t.Q6J("ngIf",l.fg.get("projectType_id").hasError("required")),t.xp6(1),t.Q6J("ngIf",l.fg.get("projectType_id").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",l.berkasType.toLowerCase().includes("anime_"))("ngIfThen",e)("ngIfElse",i),t.xp6(8),t.Q6J("ngForOf",l.getFansubControl.controls),t.xp6(5),t.Q6J("disabled",l.submitted),t.xp6(8),t.Q6J("color","accent"),t.xp6(6),t.Q6J("ngIf",l.fg.get("name").hasError("required")),t.xp6(1),t.Q6J("ngIf",l.fg.get("name").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",l.detailMode),t.xp6(4),t.Q6J("ngIf",null==l.AS.currentUserSubject||null==l.AS.currentUserSubject.value?null:l.AS.currentUserSubject.value.verified)("ngIfThen",n)("ngIfElse",s),t.xp6(9),t.Q6J("ngForOf",l.getDownloadUrlControl.controls),t.xp6(6),t.Q6J("disabled",l.submitted),t.xp6(8),t.Q6J("disabled",l.submitted),t.xp6(4),t.Q6J("disabled",l.submitted||l.fg.invalid||"uploading"===(null==l.attachmentSelected?null:l.attachmentSelected.status))}}let fe=(()=>{class a{constructor(e,i,n,s,l,d,b,U,z,Ca,Ta,Za,Aa,ka){this.router=e,this.fb=i,this.bs=n,this.anime=s,this.dorama=l,this.project=d,this.fansub=b,this.berkas=U,this.imgbb=z,this.toast=Ca,this.gs=Ta,this.as=Za,this.uploadService=Aa,this.ds=ka,this.detailMode=!1,this.submitted=!1,this.projectList=[],this.image=null,this.imageErrorText=null,this.imageLimitExceeded=null,this.image_url="/assets/img/form/no-image.png",this.filteredAnime=[],this.filteredDorama=[],this.filteredFansub=[],this.isLoading=!1,this.animeCheckOrAddResponse=null,this.doramaCheckOrAddResponse=null,this.attachmentSelected=null,this.attachmentErrorText=null,this.attachmentLimitExceeded=null,this.uploadToast=null,this.timerTimeout1=null,this.timerTimeout2=null,this.gambar=null,this.ddl=null,this.subsProject=null,this.subsFansub=null,this.subsAnimeDetail=null,this.subsDoramaDetail=null,this.subsProjectDetail=null,this.subsFansubDetail=[],this.subsAnimeNew=null,this.subsDoramaNew=null,this.subsImgbb=null,this.subsBerkasCreate=null,this.subsUpload=null,this.subsDialog=null,this.berkasType="",this.gs.bannerImg=null,this.gs.sizeContain=!1,this.gs.bgRepeat=!1}get CONSTANTS(){return u.t}get AS(){return this.as}get GS(){return this.gs}get extAttachment(){return u.t.extAttachment.join(", ")}get fileTypeAttachmentAllowed(){return u.t.fileTypeAttachmentAllowed.join(", ")}ngOnInit(){this.gs.isBrowser&&(this.loadProjectList(),this.initForm(),this.uploads$=this.uploadService.connect(),this.subsUpload=this.uploadService.events.subscribe({next:e=>{this.gs.log("[UPLOAD_EVENTS]",e),("uploading"===e.status||"complete"===e.status)&&(this.attachmentSelected=e),"complete"===e.status?(this.gs.log("[UPLOAD_COMPLETED]",e.response),this.fg.controls.attachment_id.patchValue(e.response.result.id),this.uploadToast=this.toast.warning("Segera Kirim Data Berkas!","Lampiran Akan Dihapus ...",{closeButton:!1,timeOut:u.t.timeoutDeleteTempAttachmentTime,disableTimeOut:"extendedTimeOut",tapToDismiss:!1,progressAnimation:"decreasing"},!0),this.timerTimeout1=setTimeout(()=>{this.gs.log("[UPLOAD_TIMEOUT]",u.t.timeoutDeleteTempAttachmentTime),this.failOrCancelUpload({info:"Expired, Silahkan Upload Ulang!"})},u.t.timeoutDeleteTempAttachmentTime),this.fg.value.auto_send&&(this.timerTimeout2=setTimeout(()=>{this.onSubmit()},2500))):"error"===e.status&&(this.gs.log("[UPLOAD_ERROR]",e.response,"error"),this.failOrCancelUpload(e.response))},error:e=>{this.gs.log("[UPLOAD_ERROR]",e,"error"),this.failOrCancelUpload(e)}}))}ngOnDestroy(){this.uploadToast&&this.toast.remove(this.uploadToast.toastId),this.timerTimeout1&&(clearTimeout(this.timerTimeout1),this.timerTimeout1=null),this.timerTimeout2&&(clearTimeout(this.timerTimeout2),this.timerTimeout2=null),this.subsProject?.unsubscribe(),this.subsFansub?.unsubscribe(),this.subsAnimeDetail?.unsubscribe(),this.subsDoramaDetail?.unsubscribe(),this.subsProjectDetail?.unsubscribe();for(const e of this.subsFansubDetail)e?.unsubscribe();this.subsAnimeNew?.unsubscribe(),this.subsDoramaNew?.unsubscribe(),this.subsImgbb?.unsubscribe(),this.subsBerkasCreate?.unsubscribe(),this.uploadService.disconnect(),this.subsUpload?.unsubscribe(),this.subsDialog?.unsubscribe()}canDeactivate(){var e=this;return(0,I.Z)(function*(){const i=yield e.ds.leavePageDialog();return yield J(i)})()}toggleDetailMode(){this.detailMode=!this.detailMode}loadProjectList(){this.bs.busy(),this.subsProject=this.project.getProject().subscribe({next:e=>{this.gs.log("[PROJECT_LOAD_SUCCESS]",e),this.projectList=e.results,this.bs.idle()},error:e=>{this.gs.log("[PROJECT_LOAD_ERROR]",e,"error"),this.bs.idle()}})}hasRequiredField(e,i){return e.get(i).hasValidator(o.kI.required)}animeValueChanged(){this.subsAnimeDetail=this.fg.get("anime_id").valueChanges.pipe((0,w.b)(500),(0,q.x)(),(0,L.b)(()=>this.isLoading=!0),(0,O.w)(e=>this.anime.searchAnime(e).pipe((0,G.x)(()=>this.isLoading=!1))),(0,B.X)(-1)).subscribe({next:e=>{this.gs.log("[BERKAS_CREATE_SEARCH_ANIME_RESULT_SUCCESS]",e),this.filteredAnime=e.results},error:e=>{this.gs.log("[BERKAS_CREATE_SEARCH_ANIME_RESULT_ERROR]",e,"error"),this.animeValueChanged()}})}doramaValueChanged(){this.subsDoramaDetail=this.fg.get("dorama_id").valueChanges.pipe((0,w.b)(500),(0,q.x)(),(0,L.b)(()=>this.isLoading=!0),(0,O.w)(e=>this.dorama.searchDorama(e).pipe((0,G.x)(()=>this.isLoading=!1))),(0,B.X)(-1)).subscribe({next:e=>{this.gs.log("[BERKAS_CREATE_SEARCH_DORAMA_RESULT_SUCCESS]",e);for(const i of e.results)i.mdl_id=i.mdl_id.split("-")[1],i.image_url=i.thumb;this.filteredDorama=e.results},error:e=>{this.gs.log("[BERKAS_CREATE_SEARCH_DORAMA_RESULT_ERROR]",e,"error"),this.doramaValueChanged()}})}projectTypeValueChanged(){this.subsProjectDetail=this.fg.get("projectType_id").valueChanges.pipe((0,w.b)(500),(0,q.x)(),(0,B.X)(-1)).subscribe({next:e=>{this.gs.log("[BERKAS_CREATE_PROJECT_CHANGED]",e),this.fg.controls.anime_id.patchValue(null),this.fg.controls.anime_name.patchValue(null),this.fg.controls.dorama_id.patchValue(null),this.fg.controls.dorama_name.patchValue(null),this.fg.controls.sn_code.patchValue(null),this.fg.controls.anime_id.setErrors(null),this.fg.controls.anime_name.setErrors(null),this.fg.controls.dorama_id.setErrors(null),this.fg.controls.dorama_name.setErrors(null),this.fg.controls.sn_code.setErrors(null),this.fg.controls.anime_id.clearValidators(),this.fg.controls.anime_name.clearValidators(),this.fg.controls.dorama_id.clearValidators(),this.fg.controls.dorama_name.clearValidators(),this.fg.controls.sn_code.clearValidators(),this.fg.controls.anime_id.markAsPristine(),this.fg.controls.anime_name.markAsPristine(),this.fg.controls.dorama_id.markAsPristine(),this.fg.controls.dorama_name.markAsPristine(),this.fg.controls.sn_code.markAsPristine(),this.fg.controls.anime_id.markAsUntouched(),this.fg.controls.anime_name.markAsUntouched(),this.fg.controls.dorama_id.markAsUntouched(),this.fg.controls.dorama_name.markAsUntouched(),this.fg.controls.sn_code.markAsUntouched();const i=this.projectList.find(n=>n.id===e);i&&(this.berkasType=i.name,i.name.toLowerCase().includes("anime_")?(this.fg.controls.anime_id.setValidators([o.kI.required,o.kI.pattern(/^\d+$/)]),this.fg.controls.anime_name.setValidators([o.kI.required]),this.subsAnimeDetail?.unsubscribe(),this.animeValueChanged()):i.name.toLowerCase().includes("dorama_")?(this.fg.controls.dorama_id.setValidators([o.kI.required,o.kI.pattern(/^\d+$/)]),this.fg.controls.dorama_name.setValidators([o.kI.required]),this.subsDoramaDetail?.unsubscribe(),this.doramaValueChanged()):this.fg.controls.sn_code.setValidators([o.kI.required,o.kI.pattern(/^[A-Z0-9\-]+$/)])),this.fg.controls.anime_id.updateValueAndValidity(),this.fg.controls.anime_name.updateValueAndValidity(),this.fg.controls.dorama_id.updateValueAndValidity(),this.fg.controls.dorama_name.updateValueAndValidity(),this.fg.controls.sn_code.updateValueAndValidity()}})}initForm(){this.fg=this.fb.group({name:[null,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],description:[null,o.kI.compose([o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],projectType_id:[null,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],anime_id:[null,o.kI.compose([])],anime_name:[null,o.kI.compose([])],dorama_id:[null,o.kI.compose([])],dorama_name:[null,o.kI.compose([])],fansub_list:this.fb.array([this.createFansub()]),image:[null,o.kI.compose([o.kI.pattern(u.t.regexUrl)])],sn_code:[null,o.kI.compose([])],attachment_id:[null,o.kI.compose([o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],download_url:this.fb.array([this.createDownloadLink()]),private:[!1,o.kI.compose([o.kI.required])],r18:[!1,o.kI.compose([o.kI.required])],auto_send:[!1,o.kI.compose([o.kI.required])]}),this.projectTypeValueChanged()}get getDownloadUrlControl(){return this.fg.get("download_url")}createDownloadLink(){return this.fb.group({name:[null,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],url:[null,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexUrl)])]})}removeDownloadLink(e){this.getDownloadUrlControl.removeAt(e)}addDownloadLink(){this.getDownloadUrlControl.push(this.createDownloadLink())}get getFansubControl(){return this.fg.get("fansub_list")}createFansub(){const e=this.fb.group({fansub_id:[null,o.kI.compose([o.kI.required,o.kI.pattern(/^\d+$/)])],fansub_name:[null,o.kI.compose([o.kI.required])]});return this.subsFansubDetail.push(e.get("fansub_id").valueChanges.pipe((0,w.b)(500),(0,q.x)(),(0,L.b)(()=>this.isLoading=!0),(0,O.w)(i=>this.fansub.searchFansub(i).pipe((0,G.x)(()=>this.isLoading=!1))),(0,B.X)(-1)).subscribe({next:i=>{this.gs.log("[BERKAS_CREATE_SEARCH_FANSUB_RESULT]",i),this.filteredFansub=i.results}})),e}removeFansub(e){this.getFansubControl.removeAt(e),this.subsFansubDetail[e]?.unsubscribe(),this.subsFansubDetail.splice(e,1)}addFansub(){this.getFansubControl.push(this.createFansub())}resetSelectedAnime(){this.fg.controls.anime_name.patchValue(null)}resetSelectedDorama(){this.fg.controls.dorama_name.patchValue(null)}resetSelectedFansub(e){this.getFansubControl.controls[e].get("fansub_name").patchValue(null)}filterAnimeSelected(e){this.gs.log("[ANIME_FILTER_CLICK]",e),this.submitted=!0,this.subsAnimeNew=this.anime.addNewAnime({id:e.id,name:e.title,image_url:e.image_url,type:e.media_type?.toUpperCase()}).subscribe({next:i=>{this.gs.log("[ANIME_CHECK_ADD_SUCCESS]",i),this.animeCheckOrAddResponse=i.result,this.submitted=!1,this.fg.controls.anime_id.patchValue(i.result.id),this.fg.controls.anime_name.patchValue(i.result.name)},error:i=>{this.gs.log("[ANIME_CHECK_ADD_ERROR]",i,"error"),this.submitted=!1,this.resetSelectedAnime(),this.fg.controls.anime_id.patchValue(null),this.fg.controls.anime_name.patchValue(null)}})}filterDoramaSelected(e){this.gs.log("[DORAMA_FILTER_CLICK]",e),this.submitted=!0,this.subsDoramaNew=this.dorama.addNewDorama({id:parseInt(e.mdl_id,10),slug:e.slug,name:e.title,image_url:e.image_url,type:e.type}).subscribe({next:i=>{this.gs.log("[DORAMA_CHECK_ADD_SUCCESS]",i),this.doramaCheckOrAddResponse=i.result,this.submitted=!1,this.fg.controls.dorama_id.patchValue(i.result.id),this.fg.controls.dorama_name.patchValue(i.result.name)},error:i=>{this.gs.log("[DORAMA_CHECK_ADD_ERROR]",i,"error"),this.submitted=!1,this.resetSelectedDorama(),this.fg.controls.dorama_id.patchValue(null),this.fg.controls.dorama_name.patchValue(null)}})}filterFansubSelected(e,i){this.gs.log("[FANSUB_FILTER_CLICK]",e),this.getFansubControl.controls[i].get("fansub_id").patchValue(e.id),this.getFansubControl.controls[i].get("fansub_name").patchValue(e.name)}uploadImage(e,i){this.gambar=i,this.image=null,this.imageLimitExceeded=null,this.imageErrorText=null,this.fg.controls.image.patchValue(null);const n=e.target.files[0];try{const s=new FileReader;s.readAsDataURL(n),s.onload=l=>{if(this.gs.log("[IMAGE_SELECTED]",l),n.size<=u.t.fileSizeImageLimit){const d=this.gs.document.createElement("img");d.onload=()=>{this.image=n,this.image_url=s.result.toString()},d.src=s.result.toString()}else this.image=null,this.image_url="/assets/img/form/image-error.png",this.imageLimitExceeded=u.t.fileSizeImageLimit,this.gambar.clear(e)}}catch{this.image=null,this.image_url="/assets/img/form/no-image.png",this.gambar.clear(e)}}submitImage(){this.submitted=!0,this.subsImgbb=this.imgbb.uploadImage({file:this.image}).subscribe({next:e=>{this.gs.log("[IMAGE_SUCCESS]",e),this.fg.controls.image.patchValue(e.result.url),this.submitted=!1},error:e=>{this.gs.log("[IMAGE_ERROR]",e,"error"),this.fg.controls.image.patchValue(null),this.submitted=!1,this.imageErrorText=e.result?.message||e.info}})}onSubmit(){if(this.bs.busy(),this.submitted=!0,this.fg.invalid||"uploading"===this.attachmentSelected?.status)return this.submitted=!1,void this.bs.idle();if(null===this.fg.value.attachment_id&&0===this.fg.value.download_url.lenth)return this.submitted=!1,this.uploadToast=this.toast.warning("Lampiran DDL / URL Eksternal!","Harap Mengisi Setidaknya Salah Satu ..."),void this.bs.idle();const e=[];for(const i of this.fg.value.fansub_list)e.push(i.fansub_id);this.subsBerkasCreate=this.berkas.createBerkas({image:this.fg.value.image,name:this.fg.value.name,description:this.fg.value.description,private:this.fg.value.private,r18:this.fg.value.r18,projectType_id:this.fg.value.projectType_id,anime_id:this.fg.value.anime_id,dorama_id:this.fg.value.dorama_id,sn_code:this.fg.value.sn_code,fansub_id:e,download_url:this.fg.value.download_url,attachment_id:this.fg.value.attachment_id}).subscribe({next:i=>{this.gs.log("[BERKAS_CREATE_SUCCESS]",i),this.submitted=!1,this.bs.idle(),this.router.navigateByUrl("/berkas",{state:{bypassCanDeactivate:!0}})},error:i=>{this.gs.log("[BERKAS_CREATE_ERROR]",i,"error"),this.submitted=!1,this.bs.idle()}})}uploadAttachment(e,i){var n=this;return(0,I.Z)(function*(){n.ddl=i;const s=e.target.files[0];n.attachmentLimitExceeded=null,n.attachmentErrorText=null,n.gs.log("[ATTACHMENT_SELECTED]",s),n.fg.controls.attachment_id.patchValue(null),n.uploadService.disconnect();try{s.size<=u.t.fileSizeAttachmentTotalLimit?(n.uploadService.handleFiles(s),n.subsDialog=(yield n.ds.openKonfirmasiDialog("Saran Penamaan Berkas","Apakah Ingin Mengganti Penamaan Berkas Sesuai Dengan Nama Lampiran Yang Di Unggah ?")).afterClosed().subscribe({next:l=>{n.gs.log("[INFO_DIALOG_CLOSED]",l),!0===l&&(n.fg.controls.name.patchValue(s.name),n.fg.controls.name.markAsDirty()),n.subsDialog.unsubscribe()}})):(n.attachmentLimitExceeded=u.t.fileSizeAttachmentTotalLimit,n.ddl.clear(e))}catch{n.ddl.clear(e)}})()}submitAttachment(e){const i=this.uploadService.state().find(n=>n.uploadId===e.uploadId);i&&(this.attachmentSelected=i,e.status="queue")}failOrCancelUpload(e=null){this.attachmentSelected=null,this.attachmentErrorText=e?.result?.message||e?.info||e?.error?.message||"Terjadi Kesalahan, Harap Reload Halaman!",this.uploadService.disconnect(),this.fg.controls.attachment_id.patchValue(null),this.uploadToast&&this.toast.remove(this.uploadToast.toastId),this.ddl.clear()}verify(){this.router.navigate(["/verify"],{queryParams:{returnUrl:this.router.url.split("?")[0]},state:{bypassCanDeactivate:!0}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(h.F0),t.Y36(o.QS),t.Y36(D.z),t.Y36(rt.o),t.Y36(st.X),t.Y36(lt.Y),t.Y36($.T),t.Y36(ct.A),t.Y36(j.X),t.Y36(X.k),t.Y36(p.U),t.Y36(Y.e),t.Y36(mt.Lz),t.Y36(F.x))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-berkas-create"]],decls:5,vars:1,consts:[[1,"container"],[1,"row","px-3"],[1,"col-12"],[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"row","mt-3","mb-3"],[1,"col-12","sticky-top","bg-bifeldy"],[1,"pt-3","border-bottom-dotted"],[1,"float-end","text-decoration-none","text-warning",2,"font-size","small","cursor","pointer",3,"click"],[1,"text-bifeldy"],[1,"row"],[1,"col-12","col-md-5","col-xl-4","p-3"],["class","col-12",4,"ngIf"],["class","col-12 mb-4",4,"ngIf"],["class","col-12 py-3",4,"ngIf"],[1,"col-12","py-3"],["formControlName","r18","matTooltip","Konten Eksplisit"],["appearance","outline",1,"px-3","pt-3","col-12",3,"color"],["formControlName","projectType_id","placeholder","Anime / Drama","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["anime_",""],["notAnime_",""],["formArrayName","fansub_list","matTooltip","Silahkan Buat Terlebih Dahulu Jika Tidak Ada"],[4,"ngFor","ngForOf"],[1,"col","px-3"],["type","button","mat-raised-button","","color","primary",1,"w-100",3,"disabled","click"],["fontIcon","add",1,"me-1"],["routerLink","/create/fansub",1,"text-warning","text-decoration-none"],[1,"col-12","col-md-7","col-xl-8","p-3"],["appearance","outline",1,"py-3","col-12",3,"color"],["matInput","","formControlName","name","placeholder","[Fansub] Judul Anime - 00 [BD 4K x265 FLAC][CRC32].mkv","required",""],["fontIcon","wysiwyg","matSuffix",""],["class","py-3 w-100","formControlName","description",3,"config",4,"ngIf"],["ddlVerified",""],["ddlNotVerified",""],["formArrayName","download_url"],[1,"row","mb-4"],[1,"row","gy-3"],[1,"col","g-0"],[1,"col-12","col-md-3"],["mat-stroked-button","","routerLink","/berkas",1,"w-100",3,"disabled"],["fontIcon","undo",1,"me-1"],["type","submit","mat-flat-button","","color","accent",1,"w-100",3,"disabled"],["fontIcon","save",1,"ms-1"],[1,"w-100","border",3,"src"],["appearance","outline",1,"pt-3","w-100",3,"color"],[1,"w-100",3,"disabled","accept","change"],["gambar",""],["fontIcon","image","matSuffix",""],[1,"px-3","w-100"],[1,"col-12","mb-4"],["fontIcon","add_photo_alternate",1,"me-1"],["formControlName","private","matTooltip","Hanya Dapat Di Akses Melalui URL"],[3,"value"],["appearance","outline",1,"px-3","pt-3","w-100",3,"color"],["matInput","","formControlName","anime_id","placeholder","Full Metal Alchemist",3,"matAutocomplete","keyup"],["fontIcon","short_text","matSuffix",""],["autoCompleteAnime","matAutocomplete"],["class","is-loading",4,"ngIf"],["class","text-warning",4,"ngIf"],[1,"is-loading"],["mode","indeterminate"],["class","px-1",3,"value","click",4,"ngFor","ngForOf"],[1,"px-1",3,"value","click"],[1,"me-1",2,"height","40px","width","30px","object-fit","cover",3,"src"],[1,"ms-1"],[1,"text-warning"],["dorama_",""],["notDorama_",""],["matInput","","formControlName","dorama_id","placeholder","Flying Colors",3,"matAutocomplete","keyup"],["autoCompleteDorama","matAutocomplete"],["appearance","outline","class","px-3 pt-3 col-12",3,"color",4,"ngIf"],[1,"col-12","px-3"],[1,"text-success"],["matInput","","formControlName","sn_code","placeholder","XXX-999","required",""],["fontIcon","tag","matSuffix",""],[1,"row",3,"formGroupName"],["matInput","","formControlName","fansub_id","placeholder","NamaFansub","required","",3,"matAutocomplete","keyup"],["fontIcon","short_text","matSuffix","",4,"ngIf"],["type","button","mat-button","","matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["autoCompleteFansub","matAutocomplete"],["type","button","mat-button","","matSuffix","","mat-icon-button","",3,"click"],["fontIcon","close"],[1,"me-1",2,"height","40px","width","40px","object-fit","cover",3,"src"],["formControlName","description",1,"py-3","w-100",3,"config"],["appearance","outline",1,"px-3","pt-3","col",3,"color"],["uploadx","",1,"w-100",3,"disabled","accept","change"],["ddl",""],["fontIcon","attach_file","matSuffix",""],[1,"px-4","w-100"],["class","row mb-4",4,"ngFor","ngForOf"],["formControlName","auto_send","matTooltip","Pastikan Semua Isian Yang Dibutuhkan Sudah Terisi",1,"px-3",3,"disabled"],[1,"col"],[1,"ps-3"],[3,"mode","value"],[1,"col-6","col-lg-4","px-3"],["fontIcon","attachment",1,"me-1"],["type","button","mat-stroked-button","","color","accent",1,"w-100",3,"click"],["fontIcon","enhanced_encryption",1,"me-1"],["matTooltip","Silahkan Isi Alamat Website Kamu Jika Ingin Mendapatkan Traffic Pengunjung",1,"row",3,"formGroupName"],["class","col-12 px-3",4,"ngIf"],["appearance","outline",1,"px-3","pt-3","col-12","col-md-5",3,"color"],["matInput","","formControlName","name","placeholder","Google Drive","required",""],["fontIcon","web","matSuffix","",4,"ngIf"],["appearance","outline",1,"px-3","pt-3","col-12","col-md-7",3,"color"],["matInput","","formControlName","url","placeholder","https://webshit.saya.com/01/02/halaman-post-download.html","required",""],["fontIcon","link","matSuffix","",4,"ngIf"],["fontIcon","web","matSuffix",""],["fontIcon","link","matSuffix",""]],template:function(e,i){1&e&&(t._UZ(0,"app-notifications"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2),t.YNc(4,pe,89,25,"form",3),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.fg))},dependencies:[m.sg,m.O5,h.yS,tt.XC,tt.ZL,et.ey,A.lW,A.zs,ut.d,R.Hw,f.TO,f.KE,f.hX,f.R9,M.Nt,dt.pW,at.gD,it.Rr,K.gM,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u,o.x0,o.CE,k.Yh,Q.t,Z.s6,m.Ov,V.$]}),a})();var T=c(7331),P=c(9602);function he(a,r){if(1&a&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"bytes"),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("Ukuran Upload Melebihi Batas ",t.lcZ(2,1,e.imageLimitExceeded)," !")}}function be(a,r){if(1&a&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Oqu(e.imageErrorText)}}function ve(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",6)(1,"button",64),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.submitImage())}),t._UZ(2,"mat-icon",65),t._uU(3," Unggah "),t.qZA()()}if(2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("disabled",e.submitted)}}function xe(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Website Tidak Boleh Kosong"),t.qZA())}function Ce(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Website Link Tidak Valid"),t.qZA())}function Te(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Facebook Link Tidak Valid"),t.qZA())}function Ze(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Discord Link Tidak Valid"),t.qZA())}function Ae(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Twitter Link Tidak Valid"),t.qZA())}function ke(a,r){if(1&a&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"bytes"),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.hij("Ukuran Upload Melebihi Batas ",t.lcZ(2,1,e.coverLimitExceeded)," !")}}function Ie(a,r){if(1&a&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Oqu(e.coverErrorText)}}function Ue(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",66)(1,"button",64),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.submitCover())}),t._UZ(2,"mat-icon",65),t._uU(3," Unggah "),t.qZA()()}if(2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("disabled",e.submitted)}}function Ee(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Nama Fansub Tidak Boleh Kosong"),t.qZA())}function Se(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Nama Fansub Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function ye(a,r){if(1&a&&(t.TgZ(0,"small",67)(1,"div"),t._uU(2),t.qZA()()),2&a){const e=t.oxw(3);t.xp6(2),t.Oqu(e.slugInfo)}}function Ne(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Singkatan Tidak Boleh Kosong"),t.qZA())}function Je(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Singkatan Hanya Boleh Huruf Dan \u4e00"),t.qZA())}function we(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Tanggal Harus Diisi Secara Valid"),t.qZA())}function qe(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Tanggal Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function Be(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Mohon Pilih Salah Satu"),t.qZA())}function De(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Status Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function Fe(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-chip",68),t.NdJ("removed",function(){const s=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.removeTag(s))}),t._uU(1),t._UZ(2,"mat-icon",69),t.qZA()}if(2&a){const e=r.$implicit;t.Q6J("removable",!0),t.xp6(1),t.hij(" ",e," ")}}function Re(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"RSS Link Tidak Valid"),t.qZA())}function Me(a,r){if(1&a&&(t.TgZ(0,"mat-form-field",23)(1,"mat-label"),t._uU(2,"URI / URL RSS v2.0 Feed"),t.qZA(),t._UZ(3,"input",70)(4,"mat-icon",71),t.TgZ(5,"mat-error"),t.YNc(6,Re,2,0,"div",21),t.qZA()()),2&a){const e=t.oxw(3);t.Q6J("color","accent"),t.xp6(6),t.Q6J("ngIf",e.fg.get("rss_feed").hasError("pattern"))}}function Qe(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"form",8),t.NdJ("submit",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onSubmit())}),t.TgZ(1,"div",9)(2,"div",10)(3,"h2",11)(4,"b",12),t._uU(5,"Tambah Data Fansub Baru"),t.qZA()()(),t.TgZ(6,"div",6)(7,"div",13)(8,"div",14)(9,"div",13)(10,"div",6),t._UZ(11,"img",15),t.TgZ(12,"mat-form-field",16)(13,"mat-label"),t._uU(14,"Foto"),t.qZA(),t.TgZ(15,"ngx-mat-file-input",17,18),t.NdJ("change",function(n){t.CHM(e);const s=t.MAs(16),l=t.oxw(2);return t.KtG(l.uploadImage(n,s))}),t.qZA(),t._UZ(17,"mat-icon",19),t.qZA(),t.TgZ(18,"mat-error",20)(19,"small"),t.YNc(20,he,3,3,"div",21),t.YNc(21,be,2,1,"div",21),t.qZA()()(),t.YNc(22,ve,4,1,"div",22),t.qZA(),t.TgZ(23,"div",13)(24,"div",6)(25,"div",13)(26,"mat-form-field",23)(27,"mat-label"),t._uU(28,"Tautan Website"),t.qZA(),t._UZ(29,"input",24)(30,"mat-icon",25),t.TgZ(31,"mat-error"),t.YNc(32,xe,2,0,"div",21),t.YNc(33,Ce,2,0,"div",21),t.qZA()(),t.TgZ(34,"mat-form-field",23)(35,"mat-label"),t._uU(36,"Facebook Fanpage"),t.qZA(),t._UZ(37,"input",26)(38,"mat-icon",27),t.TgZ(39,"mat-error"),t.YNc(40,Te,2,0,"div",21),t.qZA()(),t.TgZ(41,"mat-form-field",23)(42,"mat-label"),t._uU(43,"Tautan Discord"),t.qZA(),t._UZ(44,"input",28),t.TgZ(45,"mat-icon",29),t._UZ(46,"img",30),t.qZA(),t.TgZ(47,"mat-error"),t.YNc(48,Ze,2,0,"div",21),t.qZA()(),t.TgZ(49,"mat-form-field",23)(50,"mat-label"),t._uU(51,"Cuitan Twitter"),t.qZA(),t._UZ(52,"input",31),t.TgZ(53,"mat-icon",29),t._UZ(54,"img",30),t.qZA(),t.TgZ(55,"mat-error"),t.YNc(56,Ae,2,0,"div",21),t.qZA()()()()()(),t.TgZ(57,"div",32)(58,"div",13)(59,"mat-form-field",16)(60,"mat-label"),t._uU(61,"Cover"),t.qZA(),t.TgZ(62,"ngx-mat-file-input",17,33),t.NdJ("change",function(n){t.CHM(e);const s=t.MAs(63),l=t.oxw(2);return t.KtG(l.uploadCover(n,s))}),t.qZA(),t._UZ(64,"mat-icon",19),t.qZA(),t.TgZ(65,"mat-error",20)(66,"small"),t.YNc(67,ke,3,3,"div",21),t.YNc(68,Ie,2,1,"div",21),t.qZA()(),t.YNc(69,Ue,4,1,"div",34),t.TgZ(70,"mat-form-field",35)(71,"mat-label"),t._uU(72,"Nama Fansub"),t.qZA(),t._UZ(73,"input",36)(74,"mat-icon",37),t.TgZ(75,"mat-error"),t.YNc(76,Ee,2,0,"div",21),t.YNc(77,Se,2,0,"div",21),t.qZA()(),t.TgZ(78,"mat-form-field",38)(79,"mat-label"),t._uU(80,"Singkatan"),t.qZA(),t._UZ(81,"input",39)(82,"mat-icon",40),t.YNc(83,ye,3,1,"small",41),t.TgZ(84,"mat-error"),t.YNc(85,Ne,2,0,"div",21),t.YNc(86,Je,2,0,"div",21),t.qZA()(),t._UZ(87,"angular-editor",42),t.TgZ(88,"mat-form-field",43)(89,"mat-label"),t._uU(90,"Mulai Ada Sejak"),t.qZA(),t.TgZ(91,"input",44),t.NdJ("focus",function(){t.CHM(e);const n=t.MAs(95);return t.KtG(n.open())}),t.ALo(92,"date"),t.qZA(),t._UZ(93,"mat-datepicker-toggle",45)(94,"mat-datepicker",46,47),t.TgZ(96,"mat-error"),t.YNc(97,we,2,0,"div",21),t.YNc(98,qe,2,0,"div",21),t.qZA()(),t.TgZ(99,"mat-form-field",43)(100,"mat-label"),t._uU(101,"Status"),t.qZA(),t.TgZ(102,"mat-select",48)(103,"mat-option",49),t._uU(104,"Tidak Aktif"),t.qZA(),t.TgZ(105,"mat-option",50),t._uU(106,"Aktif"),t.qZA()(),t.TgZ(107,"mat-hint",51),t._uU(108,"Status Kehidupan Fansub Saat Ini"),t.qZA(),t.TgZ(109,"mat-error"),t.YNc(110,Be,2,0,"div",21),t.YNc(111,De,2,0,"div",21),t.qZA()(),t.TgZ(112,"mat-form-field",23)(113,"mat-label"),t._uU(114,"Tags & Kategori"),t.qZA(),t.TgZ(115,"mat-chip-list",null,52),t.YNc(117,Fe,3,2,"mat-chip",53),t.TgZ(118,"input",54),t.NdJ("matChipInputTokenEnd",function(n){t.CHM(e);const s=t.oxw(2);return t.KtG(s.addTag(n))}),t.qZA(),t._UZ(119,"mat-icon",55),t.qZA(),t.TgZ(120,"mat-hint",51),t._uU(121,"Isi Dengan Bebas, Pisahkan Dengan Koma"),t.qZA()(),t.YNc(122,Me,7,2,"mat-form-field",56),t.qZA()()(),t.TgZ(123,"div",13)(124,"div",6)(125,"div",57),t._UZ(126,"div",58),t.TgZ(127,"div",59)(128,"a",60),t._UZ(129,"mat-icon",61),t._uU(130," Batal "),t.qZA()(),t.TgZ(131,"div",59)(132,"button",62),t._uU(133," Simpan "),t._UZ(134,"mat-icon",63),t.qZA()()()()()()()()}if(2&a){const e=t.MAs(95),i=t.MAs(116),n=t.oxw(2);t.Q6J("formGroup",n.fg),t.xp6(11),t.Q6J("src",n.image_url,t.LSH),t.xp6(1),t.Q6J("color","accent"),t.xp6(3),t.Q6J("disabled",n.fg.value.image)("accept","image/gif, image/jpeg, image/jpg, image/png"),t.xp6(5),t.Q6J("ngIf",n.imageLimitExceeded),t.xp6(1),t.Q6J("ngIf",n.imageErrorText),t.xp6(1),t.Q6J("ngIf",n.image&&!n.fg.value.image),t.xp6(4),t.Q6J("color","accent"),t.xp6(6),t.Q6J("ngIf",n.fg.get("web").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.fg.get("web").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(6),t.Q6J("ngIf",n.fg.get("facebook").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(5),t.MGl("src","/assets/img/discord/",n.GS.isDarkMode?"white":"black",".png",t.LSH),t.xp6(2),t.Q6J("ngIf",n.fg.get("discord").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(5),t.MGl("src","/assets/img/twitter/",n.GS.isDarkMode?"white":"black",".png",t.LSH),t.xp6(2),t.Q6J("ngIf",n.fg.get("twitter").hasError("pattern")),t.xp6(3),t.Q6J("color","accent"),t.xp6(3),t.Q6J("disabled",n.fg.value.cover)("accept","image/gif, image/jpeg, image/jpg, image/png"),t.xp6(5),t.Q6J("ngIf",n.coverLimitExceeded),t.xp6(1),t.Q6J("ngIf",n.coverErrorText),t.xp6(1),t.Q6J("ngIf",n.cover&&!n.fg.value.cover),t.xp6(1),t.Q6J("color","accent"),t.xp6(6),t.Q6J("ngIf",n.fg.get("name").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.fg.get("name").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(5),t.Q6J("ngIf",n.slugInfo),t.xp6(2),t.Q6J("ngIf",n.fg.get("slug").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.fg.get("slug").hasError("pattern")),t.xp6(1),t.Q6J("config",n.GS.angularEditorConfig),t.xp6(1),t.Q6J("color","accent"),t.xp6(3),t.s9C("placeholder",t.xi3(92,50,n.currentDate,"d MMMM y")),t.Q6J("matDatepicker",e),t.xp6(2),t.Q6J("for",e),t.xp6(4),t.Q6J("ngIf",n.fg.get("born").hasError("required")||n.fg.get("born").hasError("matDatepickerParse")),t.xp6(1),t.Q6J("ngIf",n.fg.get("born").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(11),t.Q6J("ngIf",n.fg.get("active").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.fg.get("active").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(5),t.Q6J("ngForOf",n.fg.value.tags),t.xp6(1),t.Q6J("matChipInputSeparatorKeyCodes",n.GS.separatorKeysCodes)("matChipInputFor",i)("matChipInputAddOnBlur",!0),t.xp6(4),t.Q6J("ngIf",n.rssFeedAllowed),t.xp6(6),t.Q6J("disabled",n.submitted),t.xp6(4),t.Q6J("disabled",n.submitted||n.fg.invalid)}}function Le(a,r){if(1&a&&(t.TgZ(0,"div",1),t._UZ(1,"div",2)(2,"div",3)(3,"div",4)(4,"app-notifications"),t.TgZ(5,"div",5)(6,"div",6),t.YNc(7,Qe,135,53,"form",7),t.qZA()()()),2&a){const e=t.oxw();t.xp6(1),t.Udp("background-image","url("+e.cover_url+")"),t.xp6(6),t.Q6J("ngIf",e.fg)}}let Oe=(()=>{class a{constructor(e,i,n,s,l,d,b,U,z){this.fb=e,this.router=i,this.as=n,this.bs=s,this.imgbb=l,this.fansub=d,this.toast=b,this.gs=U,this.ds=z,this.submitted=!1,this.image=null,this.imageLimitExceeded=null,this.imageErrorText=null,this.image_url="/assets/img/form/no-image.png",this.cover=null,this.coverLimitExceeded=null,this.coverErrorText=null,this.cover_url="/assets/img/form/no-image.png",this.urls=[],this.currentDate=new Date,this.gambar=null,this.gambar_=null,this.subsImgbb=null,this.subsFansub=null,this.subsCekFansubSlug=null,this.slugInfo="",this.gs.bannerImg=null,this.gs.sizeContain=!1,this.gs.bgRepeat=!1}get GS(){return this.gs}get rssFeedAllowed(){return this.as.currentUserSubject?.value?.role===g.yS.ADMIN||this.as.currentUserSubject?.value?.role===g.yS.MODERATOR||this.as.currentUserSubject?.value?.role===g.yS.FANSUBBER}ngOnDestroy(){this.subsImgbb?.unsubscribe(),this.subsFansub?.unsubscribe()}ngOnInit(){this.gs.isBrowser&&this.initForm()}canDeactivate(){var e=this;return(0,I.Z)(function*(){const i=yield e.ds.leavePageDialog();return yield J(i)})()}initForm(){this.fg=this.fb.group({name:[null,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],description:[null,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],born:[null,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],active:[null,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],slug:[null,o.kI.compose([o.kI.required,o.kI.pattern(/^[0-9a-zA-Z-]*$/)])],tags:[[],o.kI.compose([])],image:[null,o.kI.compose([o.kI.pattern(u.t.regexUrl)])],cover:[null,o.kI.compose([o.kI.pattern(u.t.regexUrl)])],web:[null,o.kI.compose([o.kI.pattern(u.t.regexUrl)])],facebook:[null,o.kI.compose([o.kI.pattern(u.t.regexUrl)])],discord:[null,o.kI.compose([o.kI.pattern(u.t.regexUrl)])],twitter:[null,o.kI.compose([o.kI.pattern(u.t.regexUrl)])],rss_feed:[null,o.kI.compose([o.kI.pattern(u.t.regexUrl)])]}),this.slugValueChanged()}slugValueChanged(){this.subsCekFansubSlug=this.fg.get("slug").valueChanges.pipe((0,w.b)(500),(0,q.x)(),(0,L.b)(()=>this.slugInfo="Mengecek ..."),(0,O.w)(e=>this.fansub.cekSlug({slug:e})),(0,B.X)(-1)).subscribe({next:e=>{this.gs.log("[FANSUB_CEK_SLUG_RESULT_SUCCESS]",e),this.slugInfo=e.result.message},error:e=>{this.gs.log("[FANSUB_CEK_SLUG_RESULT_ERROR]",e,"error"),this.slugValueChanged()}})}addTag(e){const i=e.input,n=e.value;(n||"").trim()&&this.fg.value.tags.push(n.trim()),i&&(i.value=""),this.fg.controls.tags.patchValue(this.fg.value.tags.filter((s,l,d)=>d.findIndex(b=>b===s)===l))}removeTag(e){const i=this.fg.value.tags.indexOf(e);i>=0&&this.fg.value.tags.splice(i,1)}uploadImage(e,i){this.gambar=i,this.image=null,this.imageLimitExceeded=null,this.imageErrorText=null,this.fg.controls.image.patchValue(null);const n=e.target.files[0];try{const s=new FileReader;s.readAsDataURL(n),s.onload=l=>{if(this.gs.log("[IMAGE_SELECTED]",l),n.size<=u.t.fileSizeImageLimit){const d=this.gs.document.createElement("img");d.onload=()=>{this.image=n,this.image_url=s.result.toString()},d.src=s.result.toString()}else this.image=null,this.image_url="/assets/img/form/image-error.png",this.imageLimitExceeded=u.t.fileSizeImageLimit,this.gambar.clear(e)}}catch{this.image=null,this.image_url="/assets/img/form/no-image.png",this.gambar.clear(e)}}submitImage(){this.submitted=!0,this.subsImgbb=this.imgbb.uploadImage({file:this.image}).subscribe({next:e=>{this.gs.log("[IMAGE_SUCCESS]",e),this.fg.controls.image.patchValue(e.result.url),this.submitted=!1},error:e=>{this.gs.log("[IMAGE_ERROR]",e,"error"),this.fg.controls.image.patchValue(null),this.submitted=!1,this.imageErrorText=e.result?.message||e.info}})}uploadCover(e,i){this.gambar_=i,this.cover=null,this.coverLimitExceeded=null,this.coverErrorText=null,this.fg.controls.cover.patchValue(null);const n=e.target.files[0];try{const s=new FileReader;s.readAsDataURL(n),s.onload=l=>{if(this.gs.log("[COVER_SELECTED]",l),n.size<=u.t.fileSizeImageLimit){const d=this.gs.document.createElement("img");d.onload=()=>{this.cover=n,this.cover_url=s.result.toString()},d.src=s.result.toString()}else this.cover=null,this.cover_url="/assets/img/form/image-error.png",this.coverLimitExceeded=u.t.fileSizeImageLimit,this.gambar_.clear(e)}}catch{this.cover=null,this.cover_url="/assets/img/form/no-image.png",this.gambar_.clear(e)}}submitCover(){this.submitted=!0,this.subsImgbb=this.imgbb.uploadImage({file:this.cover}).subscribe({next:e=>{this.gs.log("[COVER_SUCCESS]",e),this.fg.controls.cover.patchValue(e.result.url),this.submitted=!1},error:e=>{this.gs.log("[COVER_ERROR]",e,"error"),this.fg.controls.cover.patchValue(null),this.submitted=!1,this.coverErrorText=e.result?.message||e.info}})}onSubmit(){this.bs.busy();const e={};if(this.fg.value.web&&(e.web=this.fg.value.web),this.fg.value.facebook&&(e.facebook=this.fg.value.facebook),this.fg.value.discord&&(e.discord=this.fg.value.discord),this.fg.value.twitter&&(e.twitter=this.fg.value.twitter),this.submitted=!0,this.fg.value.rss_feed&&(!this.fg.value.web||!this.fg.value.rss_feed.startsWith(this.fg.value.web)))return this.toast.warning("RSS Feed Tidak Sesuai Dengan Alamat Web","URL RSS Feed & WEB",null,!0),this.submitted=!1,void this.bs.idle();const i=Object.keys(e).length;if(this.fg.invalid||0===i)return 0===i&&this.toast.warning("Harap Isi Salah Satu URL","Form Tidak lengkap (Web/FB/DC)",null,!0),this.submitted=!1,void this.bs.idle();this.subsFansub=this.fansub.createFansub({image:this.fg.value.image,cover:this.fg.value.cover,name:this.fg.value.name,description:this.fg.value.description,born:this.fg.value.born.getTime(),active:this.fg.value.active,tags:this.fg.value.tags,slug:this.fg.value.slug,urls:e,rss_feed:this.fg.value.rss_feed}).subscribe({next:n=>{this.gs.log("[FANSUB_CREATE_SUCCESS]",n),this.submitted=!1,this.bs.idle(),this.router.navigateByUrl("/fansub",{state:{bypassCanDeactivate:!0}})},error:n=>{this.gs.log("[FANSUB_CREATE_ERROR]",n,"error"),this.submitted=!1,this.bs.idle()}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(o.QS),t.Y36(h.F0),t.Y36(Y.e),t.Y36(D.z),t.Y36(j.X),t.Y36($.T),t.Y36(X.k),t.Y36(p.U),t.Y36(F.x))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-fansub-create"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"fansub-banner","fansub-banner-1","align-items-center"],[1,"fansub-banner","fansub-banner-2","align-items-center"],[2,"padding-top","160px"],[1,"row","px-3"],[1,"col-12"],[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"row","mt-3","mb-3"],[1,"col-12","sticky-top","bg-bifeldy"],[1,"pt-3","border-bottom-dotted"],[1,"text-bifeldy"],[1,"row"],[1,"col-12","col-md-5","col-xl-4","p-3"],[1,"w-100","border",3,"src"],["appearance","outline",1,"pt-3","w-100",3,"color"],[1,"w-100",3,"disabled","accept","change"],["gambar",""],["fontIcon","image","matSuffix",""],[1,"px-3","w-100"],[4,"ngIf"],["class","col-12",4,"ngIf"],["appearance","outline",1,"py-3","col-12",3,"color"],["matInput","","formControlName","web","placeholder","http://www.domain.id"],["fontIcon","web","matSuffix",""],["matInput","","formControlName","facebook","placeholder","http://www.facebook.com"],["fontIcon","facebook","matSuffix",""],["matInput","","formControlName","discord","placeholder","http://www.discord.gg"],["matSuffix",""],["height","24px",2,"vertical-align","baseline",3,"src"],["matInput","","formControlName","twitter","placeholder","http://www.twitter.com"],[1,"col-12","col-md-7","col-xl-8","p-3"],["gambar_",""],["class","col-12 py-3",4,"ngIf"],["appearance","outline",1,"py-3","col-12","col-md-7",3,"color"],["matInput","","formControlName","name","placeholder","Fansub Jalanan","required",""],["fontIcon","wysiwyg","matSuffix",""],["appearance","outline","matTooltip","Digunakan Juga Untuk Sub-Domain",1,"py-3","col-12","col-md-5",3,"color"],["matInput","","formControlName","slug","placeholder","Jalsub","required",""],["fontIcon","short_text","matSuffix",""],["class","text-info",4,"ngIf"],["formControlName","description","required","",1,"py-3","w-100",3,"config"],["appearance","outline",1,"py-3","col-12","col-md-6",3,"color"],["matInput","","formControlName","born","required","",3,"matDatepicker","placeholder","focus"],["matSuffix","",3,"for"],["disabled","false"],["kalender",""],["formControlName","active","placeholder","Aktif / Non-Aktif","required",""],["value","0"],["value","1"],["align","end"],["tag",""],["color","accent","selected","",3,"removable","removed",4,"ngFor","ngForOf"],["placeholder","Label Tag / Kategori",3,"matChipInputSeparatorKeyCodes","matChipInputFor","matChipInputAddOnBlur","matChipInputTokenEnd"],["fontIcon","loyalty","matSuffix",""],["appearance","outline","class","py-3 col-12",3,"color",4,"ngIf"],[1,"row","gy-3"],[1,"col","g-0"],[1,"col-12","col-md-3"],["mat-stroked-button","","routerLink","/fansub",1,"w-100",3,"disabled"],["fontIcon","undo",1,"me-1"],["type","submit","mat-flat-button","","color","accent",1,"w-100",3,"disabled"],["fontIcon","save",1,"ms-1"],["type","button","mat-raised-button","","color","primary",1,"w-100",3,"disabled","click"],["fontIcon","add_photo_alternate",1,"me-1"],[1,"col-12","py-3"],[1,"text-info"],["color","accent","selected","",3,"removable","removed"],["fontIcon","cancel","matChipRemove",""],["matInput","","formControlName","rss_feed","placeholder","http://my-site.blogspot.com/feeds/posts/default?alt=rss"],["fontIcon","rss_feed","matSuffix",""]],template:function(e,i){1&e&&t.YNc(0,Le,8,3,"div",0),2&e&&t.Q6J("ngIf",i.fg)},dependencies:[m.sg,m.O5,h.yS,et.ey,A.lW,A.zs,T.qn,T.HS,T.oH,T.qH,P.Mq,P.hl,P.nW,R.Hw,f.TO,f.KE,f.bx,f.hX,f.R9,M.Nt,at.gD,K.gM,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u,k.Yh,Q.t,Z.s6,m.uU,V.$],styles:[".fansub-banner[_ngcontent-%COMP%]{height:128px;width:100%;background-size:cover;background-position:center;background-repeat:no-repeat;filter:blur(5px) brightness(100%);opacity:.5}.fansub-banner-1[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.fansub-banner-2[_ngcontent-%COMP%]{position:absolute;top:128px;left:0}.fansub-info[_ngcontent-%COMP%]{position:relative;height:256px;z-index:1}"]}),a})();var H=c(5934),Ye=c(7358);function Ke(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-chip",34),t.NdJ("removed",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.removeTo(s))}),t._uU(1),t._UZ(2,"mat-icon",35),t.qZA()}if(2&a){const e=r.$implicit;t.Q6J("removable",!0),t.xp6(1),t.hij(" ",e," ")}}function He(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Alamat Surel Tidak Boleh Kosong"),t.qZA())}function Ge(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Alamat Surel Tidak Valid"),t.qZA())}function je(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-chip",34),t.NdJ("removed",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.removeCc(s))}),t._uU(1),t._UZ(2,"mat-icon",35),t.qZA()}if(2&a){const e=r.$implicit;t.Q6J("removable",!0),t.xp6(1),t.hij(" ",e," ")}}function Ve(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Alamat Surel Tidak Valid"),t.qZA())}function Pe(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-chip",34),t.NdJ("removed",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.removeBcc(s))}),t._uU(1),t._UZ(2,"mat-icon",35),t.qZA()}if(2&a){const e=r.$implicit;t.Q6J("removable",!0),t.xp6(1),t.hij(" ",e," ")}}function ze(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Alamat Surel Tidak Valid"),t.qZA())}function We(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",36)(1,"mat-slide-toggle",37),t.NdJ("change",function(n){t.CHM(e);const s=t.oxw(2);return t.KtG(s.noReplyMode(n))}),t._uU(2),t.qZA()()}if(2&a){const e=t.oxw(2);t.xp6(1),t.MGl("matTooltip","Kirim sebagai noreply@",e.ENV.domain,""),t.xp6(1),t.hij(" Kirim sebagai noreply@",e.ENV.domain," ")}}function $e(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Judul Pesan Tidak Boleh Kosong"),t.qZA())}function Xe(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Judul Pesan Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function ta(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"form",4),t.NdJ("submit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSubmit())}),t.TgZ(1,"div",5)(2,"div",6)(3,"h2",7)(4,"b",8),t._uU(5,"Buat Email Baru & Kirim"),t.qZA()()(),t.TgZ(6,"div",2)(7,"div",9)(8,"div",10)(9,"div",9)(10,"mat-form-field",11)(11,"mat-label"),t._uU(12,"Penerima"),t.qZA(),t.TgZ(13,"mat-chip-list",null,12),t.YNc(15,Ke,3,2,"mat-chip",13),t.qZA(),t.TgZ(16,"input",14),t.NdJ("matChipInputTokenEnd",function(n){t.CHM(e);const s=t.oxw();return t.KtG(s.addTo(n))}),t.qZA(),t._UZ(17,"mat-icon",15),t.TgZ(18,"mat-hint",16)(19,"mat-error"),t.YNc(20,He,2,0,"div",17),t.YNc(21,Ge,2,0,"div",17),t.qZA()()(),t.TgZ(22,"mat-form-field",11)(23,"mat-label"),t._uU(24,"Carbon Copy"),t.qZA(),t.TgZ(25,"mat-chip-list",null,18),t.YNc(27,je,3,2,"mat-chip",13),t.qZA(),t.TgZ(28,"input",19),t.NdJ("matChipInputTokenEnd",function(n){t.CHM(e);const s=t.oxw();return t.KtG(s.addCc(n))}),t.qZA(),t._UZ(29,"mat-icon",15),t.TgZ(30,"mat-hint",16)(31,"mat-error"),t.YNc(32,Ve,2,0,"div",17),t.qZA()()(),t.TgZ(33,"mat-form-field",11)(34,"mat-label"),t._uU(35,"Blind Carbon Copy"),t.qZA(),t.TgZ(36,"mat-chip-list",null,20),t.YNc(38,Pe,3,2,"mat-chip",13),t.qZA(),t.TgZ(39,"input",19),t.NdJ("matChipInputTokenEnd",function(n){t.CHM(e);const s=t.oxw();return t.KtG(s.addBcc(n))}),t.qZA(),t._UZ(40,"mat-icon",15),t.TgZ(41,"mat-hint",16)(42,"mat-error"),t.YNc(43,ze,2,0,"div",17),t.qZA()()(),t.YNc(44,We,3,2,"div",21),t.qZA()(),t.TgZ(45,"div",22)(46,"div",9)(47,"mat-form-field",23)(48,"mat-label"),t._uU(49,"Judul"),t.qZA(),t._UZ(50,"input",24)(51,"mat-icon",25),t.TgZ(52,"mat-error"),t.YNc(53,$e,2,0,"div",17),t.YNc(54,Xe,2,0,"div",17),t.qZA()(),t._UZ(55,"angular-editor",26),t.qZA()()(),t.TgZ(56,"div",9)(57,"div",2)(58,"div",27),t._UZ(59,"div",28),t.TgZ(60,"div",29)(61,"a",30),t._UZ(62,"mat-icon",31),t._uU(63," Batal "),t.qZA()(),t.TgZ(64,"div",29)(65,"button",32),t._uU(66," Simpan "),t._UZ(67,"mat-icon",33),t.qZA()()()()()()()()}if(2&a){const e=t.MAs(14),i=t.MAs(26),n=t.MAs(37),s=t.oxw();t.Q6J("formGroup",s.fg),t.xp6(10),t.Q6J("color","accent"),t.xp6(5),t.Q6J("ngForOf",s.fg.value.to),t.xp6(1),t.Q6J("matChipInputSeparatorKeyCodes",s.GS.separatorKeysCodes)("matChipInputFor",e)("matChipInputAddOnBlur",!0),t.xp6(4),t.Q6J("ngIf",s.fg.get("to").hasError("required")),t.xp6(1),t.Q6J("ngIf",s.fg.get("to").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(5),t.Q6J("ngForOf",s.fg.value.cc),t.xp6(1),t.Q6J("matChipInputSeparatorKeyCodes",s.GS.separatorKeysCodes)("matChipInputFor",i)("matChipInputAddOnBlur",!0),t.xp6(4),t.Q6J("ngIf",s.fg.get("cc").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(5),t.Q6J("ngForOf",s.fg.value.bcc),t.xp6(1),t.Q6J("matChipInputSeparatorKeyCodes",s.GS.separatorKeysCodes)("matChipInputFor",n)("matChipInputAddOnBlur",!0),t.xp6(4),t.Q6J("ngIf",s.fg.get("bcc").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",s.canSendAsNoReply),t.xp6(3),t.Q6J("color","accent"),t.xp6(6),t.Q6J("ngIf",s.fg.get("subject").hasError("required")),t.xp6(1),t.Q6J("ngIf",s.fg.get("subject").hasError("pattern")),t.xp6(1),t.Q6J("config",s.GS.angularEditorConfig),t.xp6(6),t.Q6J("disabled",s.submitted),t.xp6(4),t.Q6J("disabled",s.submitted||s.fg.invalid)}}let ea=(()=>{class a{constructor(e,i,n,s,l,d,b,U){this.activatedRoute=e,this.fb=i,this.router=n,this.bs=s,this.gs=l,this.as=d,this.ms=b,this.ds=U,this.submitted=!1,this.subsMail=null,this.gs.bannerImg=null,this.gs.sizeContain=!1,this.gs.bgRepeat=!1}get ENV(){return H.N}get GS(){return this.gs}get canSendAsNoReply(){const e=this.as.currentUserSubject?.value?.role;return e===g.yS.ADMIN||e===g.yS.MODERATOR}ngOnInit(){this.gs.isBrowser&&this.initForm()}ngOnDestroy(){this.subsMail?.unsubscribe()}canDeactivate(){var e=this;return(0,I.Z)(function*(){const i=yield e.ds.leavePageDialog();return yield J(i)})()}initForm(){const e=this.activatedRoute.snapshot.queryParamMap.get("to")?.split(",").map(l=>l.toLowerCase().trim())||[],i=this.activatedRoute.snapshot.queryParamMap.get("cc")?.split(",").map(l=>l.toLowerCase().trim())||[],n=this.activatedRoute.snapshot.queryParamMap.get("bcc")?.split(",").map(l=>l.toLowerCase().trim())||[];this.as.currentUserSubject?.value&&(n.includes(`${this.as.currentUserSubject.value._email.toLowerCase().trim()}`)||n.push(`${this.as.currentUserSubject.value._email.toLowerCase().trim()}`));const s=this.activatedRoute.snapshot.queryParamMap.get("subject")||"";this.fg=this.fb.group({to:[e,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexEmailMulti)])],cc:[i,o.kI.compose([o.kI.pattern(u.t.regexEmailMulti)])],bcc:[n,o.kI.compose([o.kI.pattern(u.t.regexEmailMulti)])],subject:[s,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],message:[null,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],no_reply:[!1,o.kI.compose([o.kI.required])]})}onSubmit(){if(this.bs.busy(),this.submitted=!0,this.fg.invalid)return this.submitted=!1,void this.bs.idle();this.subsMail=this.ms.sendMail(this.fg.value).subscribe({next:e=>{this.gs.log("[MAIL_SEND_SUCCESS]",e),this.submitted=!1,this.bs.idle(),this.router.navigateByUrl("/mailbox",{state:{bypassCanDeactivate:!0}})},error:e=>{this.gs.log("[MAIL_SEND_ERROR]",e,"error"),this.submitted=!1,this.bs.idle()}})}addTo(e){const i=e.chipInput.inputElement,n=e.value;(n||"").toLowerCase().trim()&&this.fg.value.to.push(n.toLowerCase().trim()),i&&(i.value=""),this.fg.controls.to.patchValue(this.fg.value.to.filter((s,l,d)=>d.findIndex(b=>b===s)===l))}removeTo(e){const i=this.fg.value.to.indexOf(e);i>=0&&this.fg.value.to.splice(i,1)}addCc(e){const i=e.chipInput.inputElement,n=e.value;(n||"").toLowerCase().trim()&&this.fg.value.cc.push(n.toLowerCase().trim()),i&&(i.value=""),this.fg.controls.cc.patchValue(this.fg.value.cc.filter((s,l,d)=>d.findIndex(b=>b===s)===l))}removeCc(e){const i=this.fg.value.cc.indexOf(e);i>=0&&this.fg.value.cc.splice(i,1)}addBcc(e){const i=e.chipInput.inputElement,n=e.value;(n||"").toLowerCase().trim()&&this.fg.value.bcc.push(n.toLowerCase().trim()),i&&(i.value=""),this.fg.controls.bcc.patchValue(this.fg.value.bcc.filter((s,l,d)=>d.findIndex(b=>b===s)===l))}removeBcc(e){const i=this.fg.value.bcc.indexOf(e);i>=0&&this.fg.value.bcc.splice(i,1)}noReplyMode(e){e.checked?(this.fg.controls.subject.patchValue(`${H.N.siteName} | Informasi`),this.fg.controls.subject.disable()):this.fg.controls.subject.enable()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(h.gz),t.Y36(o.QS),t.Y36(h.F0),t.Y36(D.z),t.Y36(p.U),t.Y36(Y.e),t.Y36(Ye.Y),t.Y36(F.x))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mailbox-create"]],decls:5,vars:1,consts:[[1,"container"],[1,"row","px-3"],[1,"col-12"],[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"row","mt-3","mb-3"],[1,"col-12","sticky-top","bg-bifeldy"],[1,"pt-3","border-bottom-dotted"],[1,"text-bifeldy"],[1,"row"],[1,"col-12","col-md-5","col-xl-4","p-3"],["hintLabel","Gunakan , Jika Lebih Dari 1","appearance","outline",1,"py-3","col-12",3,"color"],["to",""],["color","accent","selected","",3,"removable","removed",4,"ngFor","ngForOf"],["placeholder","user@domain.tld","required","",3,"matChipInputSeparatorKeyCodes","matChipInputFor","matChipInputAddOnBlur","matChipInputTokenEnd"],["fontIcon","short_text","matSuffix",""],["align","end"],[4,"ngIf"],["cc",""],["placeholder","user@domain.tld",3,"matChipInputSeparatorKeyCodes","matChipInputFor","matChipInputAddOnBlur","matChipInputTokenEnd"],["bcc",""],["class","col-12 py-3",4,"ngIf"],[1,"col-12","col-md-7","col-xl-8","p-3"],["appearance","outline",1,"py-3","col-12",3,"color"],["matInput","","formControlName","subject","placeholder","Judul Pesan Blablabla ...","required",""],["fontIcon","wysiwyg","matSuffix",""],["formControlName","message","required","",1,"py-3","w-100",3,"config"],[1,"row","gy-3"],[1,"col","g-0"],[1,"col-12","col-md-3"],["mat-stroked-button","","routerLink","/mailbox",1,"w-100",3,"disabled"],["fontIcon","undo",1,"me-1"],["type","submit","mat-flat-button","","color","accent",1,"w-100",3,"disabled"],["fontIcon","save",1,"ms-1"],["color","accent","selected","",3,"removable","removed"],["fontIcon","cancel","matChipRemove",""],[1,"col-12","py-3"],["formControlName","no_reply",3,"matTooltip","change"]],template:function(e,i){1&e&&(t._UZ(0,"app-notifications"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2),t.YNc(4,ta,68,27,"form",3),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.fg))},dependencies:[m.sg,m.O5,h.yS,A.lW,A.zs,T.qn,T.HS,T.oH,T.qH,R.Hw,f.TO,f.KE,f.bx,f.hX,f.R9,M.Nt,it.Rr,K.gM,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u,Q.t,Z.s6]}),a})();var aa=c(9618);function ia(a,r){if(1&a&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"bytes"),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.hij("Ukuran Upload Melebihi Batas ",t.lcZ(2,1,e.imageLimitExceeded)," !")}}function na(a,r){if(1&a&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Oqu(e.imageErrorText)}}function oa(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",2)(1,"button",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.submitImage())}),t._UZ(2,"mat-icon",37),t._uU(3," Unggah "),t.qZA()()}if(2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.submitted)}}function ra(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Judul Berita Tidak Boleh Kosong"),t.qZA())}function sa(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Judul Berita Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function la(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-chip",38),t.NdJ("removed",function(){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.removeTag(s))}),t._uU(1),t._UZ(2,"mat-icon",39),t.qZA()}if(2&a){const e=r.$implicit;t.Q6J("removable",!0),t.xp6(1),t.hij(" ",e," ")}}function ca(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"form",4),t.NdJ("submit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSubmit())}),t.TgZ(1,"div",5)(2,"div",6)(3,"h2",7)(4,"b",8),t._uU(5,"Tambah Data Berita & Informasi Baru"),t.qZA()()(),t.TgZ(6,"div",2)(7,"div",9)(8,"div",10)(9,"div",9)(10,"div",2),t._UZ(11,"img",11),t.TgZ(12,"mat-form-field",12)(13,"mat-label"),t._uU(14,"Gambar"),t.qZA(),t.TgZ(15,"ngx-mat-file-input",13,14),t.NdJ("change",function(n){t.CHM(e);const s=t.MAs(16),l=t.oxw();return t.KtG(l.uploadImage(n,s))}),t.qZA(),t._UZ(17,"mat-icon",15),t.qZA(),t.TgZ(18,"mat-error",16)(19,"small"),t.YNc(20,ia,3,3,"div",17),t.YNc(21,na,2,1,"div",17),t.qZA()()(),t.YNc(22,oa,4,1,"div",18),t.qZA()(),t.TgZ(23,"div",19)(24,"div",9)(25,"mat-form-field",20)(26,"mat-label"),t._uU(27,"Judul"),t.qZA(),t._UZ(28,"input",21)(29,"mat-icon",22),t.TgZ(30,"mat-error"),t.YNc(31,ra,2,0,"div",17),t.YNc(32,sa,2,0,"div",17),t.qZA()(),t.TgZ(33,"mat-form-field",20)(34,"mat-label"),t._uU(35,"Tags & Kategori"),t.qZA(),t.TgZ(36,"mat-chip-list",null,23),t.YNc(38,la,3,2,"mat-chip",24),t.TgZ(39,"input",25),t.NdJ("matChipInputTokenEnd",function(n){t.CHM(e);const s=t.oxw();return t.KtG(s.addTag(n))}),t.qZA(),t._UZ(40,"mat-icon",26),t.qZA(),t.TgZ(41,"mat-hint",27),t._uU(42,"Isi Dengan Bebas, Pisahkan Dengan Koma"),t.qZA()(),t._UZ(43,"angular-editor",28),t.qZA()()(),t.TgZ(44,"div",9)(45,"div",2)(46,"div",29),t._UZ(47,"div",30),t.TgZ(48,"div",31)(49,"a",32),t._UZ(50,"mat-icon",33),t._uU(51," Batal "),t.qZA()(),t.TgZ(52,"div",31)(53,"button",34),t._uU(54," Simpan "),t._UZ(55,"mat-icon",35),t.qZA()()()()()()()()}if(2&a){const e=t.MAs(37),i=t.oxw();t.Q6J("formGroup",i.fg),t.xp6(11),t.Q6J("src",i.image_url,t.LSH),t.xp6(1),t.Q6J("color","accent"),t.xp6(3),t.Q6J("disabled",i.fg.value.image)("accept","image/gif, image/jpeg, image/jpg, image/png"),t.xp6(5),t.Q6J("ngIf",i.imageLimitExceeded),t.xp6(1),t.Q6J("ngIf",i.imageErrorText),t.xp6(1),t.Q6J("ngIf",i.image&&!i.fg.value.image),t.xp6(3),t.Q6J("color","accent"),t.xp6(6),t.Q6J("ngIf",i.fg.get("title").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.fg.get("title").hasError("pattern")),t.xp6(1),t.Q6J("color","accent"),t.xp6(5),t.Q6J("ngForOf",i.fg.value.tags),t.xp6(1),t.Q6J("matChipInputSeparatorKeyCodes",i.GS.separatorKeysCodes)("matChipInputFor",e)("matChipInputAddOnBlur",!0),t.xp6(4),t.Q6J("config",i.GS.angularEditorConfig),t.xp6(6),t.Q6J("disabled",i.submitted),t.xp6(4),t.Q6J("disabled",i.submitted||i.fg.invalid)}}let ma=(()=>{class a{constructor(e,i,n,s,l,d,b){this.fb=e,this.router=i,this.bs=n,this.imgbb=s,this.news=l,this.gs=d,this.ds=b,this.submitted=!1,this.image=null,this.imageErrorText=null,this.imageLimitExceeded=null,this.image_url="/assets/img/form/no-image.png",this.gambar=null,this.subsNews=null,this.subsImgbb=null,this.gs.bannerImg=null,this.gs.sizeContain=!1,this.gs.bgRepeat=!1}get GS(){return this.gs}ngOnInit(){this.gs.isBrowser&&this.initForm()}ngOnDestroy(){this.subsImgbb?.unsubscribe(),this.subsNews?.unsubscribe()}canDeactivate(){var e=this;return(0,I.Z)(function*(){const i=yield e.ds.leavePageDialog();return yield J(i)})()}initForm(){this.fg=this.fb.group({title:[null,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],content:[null,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],image:[null,o.kI.compose([o.kI.pattern(u.t.regexUrl)])],tags:[[],o.kI.compose([])]})}uploadImage(e,i){this.gambar=i,this.image=null,this.imageLimitExceeded=null,this.imageErrorText=null,this.fg.controls.image.patchValue(null);const n=e.target.files[0];try{const s=new FileReader;s.readAsDataURL(n),s.onload=l=>{if(this.gs.log("[IMAGE_SELECTED]",l),n.size<=u.t.fileSizeImageLimit){const d=this.gs.document.createElement("img");d.onload=()=>{this.image=n,this.image_url=s.result.toString()},d.src=s.result.toString()}else this.image=null,this.image_url="/assets/img/form/image-error.png",this.imageLimitExceeded=u.t.fileSizeImageLimit,this.gambar.clear(e)}}catch{this.image=null,this.image_url="/assets/img/form/no-image.png",this.gambar.clear(e)}}submitImage(){this.submitted=!0,this.subsImgbb=this.imgbb.uploadImage({file:this.image}).subscribe({next:e=>{this.gs.log("[IMAGE_SUCCESS]",e),this.fg.controls.image.patchValue(e.result.url),this.submitted=!1},error:e=>{this.gs.log("[IMAGE_ERROR]",e,"error"),this.fg.controls.image.patchValue(null),this.submitted=!1,this.imageErrorText=e.result?.message||e.info}})}onSubmit(){if(this.bs.busy(),this.submitted=!0,this.fg.invalid)return this.submitted=!1,void this.bs.idle();this.subsNews=this.news.createNews({image:this.fg.value.image,title:this.fg.value.title,content:this.fg.value.content,tags:this.fg.value.tags}).subscribe({next:e=>{this.gs.log("[NEWS_CREATE_SUCCESS]",e),this.submitted=!1,this.bs.idle(),this.router.navigateByUrl("/news",{state:{bypassCanDeactivate:!0}})},error:e=>{this.gs.log("[NEWS_CREATE_ERROR]",e,"error"),this.submitted=!1,this.bs.idle()}})}addTag(e){const i=e.input,n=e.value;(n||"").trim()&&this.fg.value.tags.push(n.trim()),i&&(i.value=""),this.fg.controls.tags.patchValue(this.fg.value.tags.filter((s,l,d)=>d.findIndex(b=>b===s)===l))}removeTag(e){const i=this.fg.value.tags.indexOf(e);i>=0&&this.fg.value.tags.splice(i,1)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(o.QS),t.Y36(h.F0),t.Y36(D.z),t.Y36(j.X),t.Y36(aa.Y),t.Y36(p.U),t.Y36(F.x))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-news-create"]],decls:5,vars:1,consts:[[1,"container"],[1,"row","px-3"],[1,"col-12"],[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"row","mt-3","mb-3"],[1,"col-12","sticky-top","bg-bifeldy"],[1,"pt-3","border-bottom-dotted"],[1,"text-bifeldy"],[1,"row"],[1,"col-12","col-md-5","col-xl-4","p-3"],[1,"w-100","border",3,"src"],["appearance","outline",1,"pt-3","w-100",3,"color"],[1,"w-100",3,"disabled","accept","change"],["gambar",""],["fontIcon","image","matSuffix",""],[1,"px-3","w-100"],[4,"ngIf"],["class","col-12",4,"ngIf"],[1,"col-12","col-md-7","col-xl-8","p-3"],["appearance","outline",1,"py-3","col-12",3,"color"],["matInput","","formControlName","title","placeholder","Berita Terkini Blablabla ...","required",""],["fontIcon","wysiwyg","matSuffix",""],["tag",""],["color","accent","selected","",3,"removable","removed",4,"ngFor","ngForOf"],["placeholder","Label Tag / Kategori",3,"matChipInputSeparatorKeyCodes","matChipInputFor","matChipInputAddOnBlur","matChipInputTokenEnd"],["fontIcon","loyalty","matSuffix",""],["align","end"],["formControlName","content","required","",1,"py-3","w-100",3,"config"],[1,"row","gy-3"],[1,"col","g-0"],[1,"col-12","col-md-3"],["mat-stroked-button","","routerLink","/news",1,"w-100",3,"disabled"],["fontIcon","undo",1,"me-1"],["type","submit","mat-flat-button","","color","accent",1,"w-100",3,"disabled"],["fontIcon","save",1,"ms-1"],["type","button","mat-raised-button","","color","primary",1,"w-100",3,"disabled","click"],["fontIcon","add_photo_alternate",1,"me-1"],["color","accent","selected","",3,"removable","removed"],["fontIcon","cancel","matChipRemove",""]],template:function(e,i){1&e&&(t._UZ(0,"app-notifications"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2),t.YNc(4,ca,56,19,"form",3),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.fg))},dependencies:[m.sg,m.O5,h.yS,A.lW,A.zs,T.qn,T.HS,T.oH,T.qH,R.Hw,f.TO,f.KE,f.bx,f.hX,f.R9,M.Nt,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u,k.Yh,Q.t,Z.s6,V.$]}),a})();var ua=c(7984);function da(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Alamat URL Tidak Boleh Kosong"),t.qZA())}function _a(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Format Alamat URL Salah"),t.qZA())}function ga(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Ekspektasi Hanya Boleh Huruf Standar Papan Ketik"),t.qZA())}function pa(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Alamat Surel Tidak Boleh Kosong"),t.qZA())}function fa(a,r){1&a&&(t.TgZ(0,"div"),t._uU(1,"Format Alamat Surel Salah"),t.qZA())}function ha(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"form",4),t.NdJ("submit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSubmit())}),t.TgZ(1,"div",5)(2,"div",6)(3,"h2",7)(4,"b",8),t._uU(5,"Buat Laporan Pelanggaran Penyalahgunaan"),t.qZA()()(),t.TgZ(6,"div",2)(7,"div",9)(8,"div",10)(9,"div",9)(10,"mat-form-field",11)(11,"mat-label"),t._uU(12,"URL Link Tautan Yang Di Laporkan"),t.qZA(),t._UZ(13,"input",12)(14,"mat-icon",13),t.TgZ(15,"mat-error"),t.YNc(16,da,2,0,"div",14),t.YNc(17,_a,2,0,"div",14),t.qZA()(),t._UZ(18,"angular-editor",15),t.TgZ(19,"mat-form-field",11)(20,"mat-label"),t._uU(21,"Ekspektasi Hasil Yang Diharapkan"),t.qZA(),t._UZ(22,"input",16)(23,"mat-icon",13),t.TgZ(24,"mat-error"),t.YNc(25,ga,2,0,"div",14),t.qZA()()()(),t.TgZ(26,"div",17)(27,"div",9)(28,"mat-form-field",11)(29,"mat-label"),t._uU(30,"Surel Informasi Proses Hasil Tindak Lanjut"),t.qZA(),t._UZ(31,"input",18)(32,"mat-icon",19),t.TgZ(33,"mat-error"),t.YNc(34,pa,2,0,"div",14),t.YNc(35,fa,2,0,"div",14),t.qZA()(),t.TgZ(36,"div",20)(37,"re-captcha",21,22),t.NdJ("resolved",function(n){t.CHM(e);const s=t.MAs(38),l=t.oxw();return t.KtG(l.captcha(n,s))}),t.qZA()()()()(),t.TgZ(39,"div",9)(40,"div",2)(41,"div",23),t._UZ(42,"div",24),t.TgZ(43,"div",25)(44,"a",26),t._UZ(45,"mat-icon",27),t._uU(46," Batal "),t.qZA()(),t.TgZ(47,"div",25)(48,"button",28),t._uU(49," Simpan "),t._UZ(50,"mat-icon",29),t.qZA()()()()()()()()}if(2&a){const e=t.oxw();t.Q6J("formGroup",e.fg),t.xp6(10),t.Q6J("color","accent"),t.xp6(6),t.Q6J("ngIf",e.fg.get("url").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.fg.get("url").hasError("pattern")),t.xp6(1),t.Q6J("config",e.GS.angularEditorConfig),t.xp6(1),t.Q6J("color","accent"),t.xp6(6),t.Q6J("ngIf",e.fg.get("expected_solution").hasError("pattern")),t.xp6(3),t.Q6J("color","accent"),t.xp6(6),t.Q6J("ngIf",e.fg.get("contact_email").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.fg.get("contact_email").hasError("pattern")),t.xp6(2),t.Q6J("siteKey",e.G_CAPTCHA_SITE_KEY),t.xp6(7),t.Q6J("disabled",e.submitted),t.xp6(4),t.Q6J("disabled",e.submitted||e.fg.invalid)}}const va=[{path:"",pathMatch:"full",redirectTo:"/home"},{path:"berkas",component:fe,canActivate:[S.t],canDeactivate:[x],data:{title:"Berkas - Buat Baru",description:"Halaman Unggah Berkas Baru",keywords:"Tambah Berkas Baru",[u.t.decoratorRoles]:[g.yS.ADMIN,g.yS.MODERATOR,g.yS.FANSUBBER,g.yS.USER]}},{path:"fansub",component:Oe,canActivate:[y.H,S.t],canDeactivate:[x],data:{title:"Fansub - Buat Baru",description:"Halaman Menambahkan Fansub Baru",keywords:"Create Fansub",[u.t.decoratorVerifiedOnly]:!0,[u.t.decoratorRoles]:[g.yS.ADMIN,g.yS.MODERATOR,g.yS.FANSUBBER,g.yS.USER]}},{path:"mailbox",component:ea,canActivate:[y.H,S.t],canDeactivate:[x],data:{title:"Surel - Buat Baru",description:"Halaman Kirim Surel Baru",keywords:"Buat Surel Baru",[u.t.decoratorVerifiedOnly]:!0,[u.t.decoratorRoles]:[g.yS.ADMIN,g.yS.MODERATOR,g.yS.FANSUBBER,g.yS.USER]}},{path:"news",component:ma,canActivate:[y.H,S.t],canDeactivate:[x],data:{title:"Berita - Buat Baru",description:"Halaman Unggah Berita Baru",keywords:"Tambah Berita Baru",[u.t.decoratorVerifiedOnly]:!0,[u.t.decoratorRoles]:[g.yS.ADMIN,g.yS.MODERATOR]}},{path:"ticket",component:(()=>{class a{constructor(e,i,n,s,l,d,b,U){this.activatedRoute=e,this.fb=i,this.router=n,this.as=s,this.bs=l,this.ticket=d,this.gs=b,this.ds=U,this.captchaRef=null,this.submitted=!1,this.subsUser=null,this.subsDialog=null,this.subsTicket=null,this.gs.bannerImg=null,this.gs.sizeContain=!1,this.gs.bgRepeat=!1}get GS(){return this.gs}get G_CAPTCHA_SITE_KEY(){return u.t.gCaptchaSiteKey}ngOnInit(){this.gs.isBrowser&&(this.initForm(),this.subsUser=this.as.currentUser.subscribe({next:e=>{e&&this.fg?.controls.contact_email?.patchValue(e._email)}}))}ngOnDestroy(){this.subsUser?.unsubscribe(),this.subsDialog?.unsubscribe(),this.subsTicket?.unsubscribe()}canDeactivate(){var e=this;return(0,I.Z)(function*(){const i=yield e.ds.leavePageDialog();return yield J(i)})()}initForm(){const e=this.activatedRoute.snapshot.queryParamMap.get("url")||null;this.fg=this.fb.group({url:[e,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexUrl)])],contact_email:[null,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexEmail)])],reported_issue:[null,o.kI.compose([o.kI.required,o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],expected_solution:[null,o.kI.compose([o.kI.pattern(u.t.regexEnglishKeyboardKeys)])],"g-recaptcha-response":[null,[o.kI.required,o.kI.pattern(u.t.regexEnglishKeyboardKeys)]]})}captcha(e,i){this.gs.log(`[GOOGLE_CAPTCHA] ${e}`),e?(this.captchaRef=i,this.fg.controls["g-recaptcha-response"].patchValue(e)):this.fg.value["g-recaptcha-response"]&&this.fg.controls["g-recaptcha-response"].patchValue(null)}showInfo(e){this.subsDialog=this.ds.openInfoDialog({data:{title:"Pembuatan Laporan",htmlMessage:e,confirmText:"Tutup"}}).afterClosed().subscribe({next:i=>{this.gs.log("[INFO_DIALOG_CLOSED]",i),this.subsDialog.unsubscribe()}})}onSubmit(){if(this.bs.busy(),this.submitted=!0,this.fg.invalid)return this.submitted=!1,void this.bs.idle();this.subsTicket=this.ticket.createTicket({url:this.fg.value.url,contact_email:this.fg.value.contact_email,reported_issue:this.fg.value.reported_issue,expected_solution:this.fg.value.expected_solution,"g-recaptcha-response":this.fg.value["g-recaptcha-response"]}).subscribe({next:e=>{this.gs.log("[NEWS_CREATE_SUCCESS]",e);const i=`${H.N.baseUrl}/ticket/${e.result.id}?secret=${e.result.secret}`;this.showInfo(`\n          Terima kasih telah turut ikut serta dalam menjaga dan mengawasi ${H.N.siteName}.\n          Harap simpan URL dan gunakan untuk melihat progressnya ::\n          <a href="${i}" target="_self" class="text-decoration-none">${i}</a>\n        `),this.submitted=!1,this.bs.idle(),this.router.navigate([`/ticket/${e.result.id}`],{state:{bypassCanDeactivate:!0},queryParams:{secret:e.result.secret}})},error:e=>{this.gs.log("[NEWS_CREATE_ERROR]",e,"error"),this.showInfo(e.result?.message||e.info),this.submitted=!1,this.bs.idle()}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(h.gz),t.Y36(o.QS),t.Y36(h.F0),t.Y36(Y.e),t.Y36(D.z),t.Y36(ua.w),t.Y36(p.U),t.Y36(F.x))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-ticket-create"]],decls:5,vars:1,consts:[[1,"container"],[1,"row","px-3"],[1,"col-12"],[3,"formGroup","submit",4,"ngIf"],[3,"formGroup","submit"],[1,"row","mt-3","mb-3"],[1,"col-12","sticky-top","bg-bifeldy"],[1,"pt-3","border-bottom-dotted"],[1,"text-bifeldy"],[1,"row"],[1,"col-12","col-md-7","col-xl-8","p-3"],["appearance","outline",1,"py-3","col-12",3,"color"],["matInput","","formControlName","url","placeholder","https://sub-domain.fansub.id/berkas/konten-melanggar.html","required","","matTooltip","Alamat URL yang ingin kamu laporkan"],["fontIcon","wysiwyg","matSuffix",""],[4,"ngIf"],["formControlName","reported_issue","required","",1,"py-3","w-100",3,"config"],["matInput","","formControlName","expected_solution","placeholder","Harap kontent tersebut di hapus dan akun yang bersangkutan segera di tangguhkan ..."],[1,"col-12","col-md-5","col-xl-4","p-3"],["matInput","","formControlName","contact_email","placeholder","email-untuk-info-update@example.com","required","","matTooltip","Kami akan mengirimkan informasi jika laporanmu sudah selesai ditangani melalui surel ini"],["fontIcon","alternate_email","matSuffix",""],[1,"py-3","col-12"],["formControlName","g-recaptcha-response",3,"siteKey","resolved"],["captchaRef",""],[1,"row","gy-3"],[1,"col","g-0"],[1,"col-12","col-md-3"],["mat-stroked-button","","routerLink","/news",1,"w-100",3,"disabled"],["fontIcon","undo",1,"me-1"],["type","submit","mat-flat-button","","color","accent",1,"w-100",3,"disabled"],["fontIcon","save",1,"ms-1"]],template:function(e,i){1&e&&(t._UZ(0,"app-notifications"),t.TgZ(1,"div",0)(2,"div",1)(3,"div",2),t.YNc(4,ha,51,13,"form",3),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.fg))},dependencies:[m.O5,h.yS,A.lW,A.zs,R.Hw,f.TO,f.KE,f.hX,f.R9,M.Nt,K.gM,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u,Q.t,Z.s6,v.wT,v.Vd]}),a})(),canDeactivate:[x],data:{title:"Ticket - Permintaan Baru",description:"Halaman Permohonan Baru",keywords:"Ajukan Permintaan Permohonan"}}];let xa=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[m.ez,h.Bz.forChild(va),_.m,o.u5,o.UX,k.Ad,N.F,Z.UM,C.T,v.a,v.lQ]}),a})()},8616:(W,E,c)=>{c.d(E,{t:()=>t});var m=c(4650),h=c(1390),o=c(257),Z=c(7140),k=c(6895),v=c(1861);function u(p,x){if(1&p&&m._UZ(0,"div",4),2&p){const _=m.oxw();m.Udp("background-size",_.GS.sizeContain?"contain":"cover")("background-image","url("+_.GS.bannerImg+")")("background-repeat",_.GS.bgRepeat?"repeat-x":"no-repeat")("height",_.ROUTER.url.startsWith("/news")||_.ROUTER.url.startsWith("/berkas")||_.ROUTER.url.startsWith("/fansub")?"192px":"128px")("background-position-y",_.ROUTER.url.startsWith("/berkas")?"22.5%":"")}}function g(p,x){if(1&p&&(m.TgZ(0,"strong",10),m._uU(1," -- "),m.TgZ(2,"i")(3,"a",11),m._uU(4),m.qZA()()()),2&p){const _=m.oxw().$implicit;m.xp6(3),m.MGl("routerLink","/user/",_.notifCreator,""),m.xp6(1),m.hij(" ",_.notifCreator," ")}}function S(p,x){if(1&p){const _=m.EpF();m.TgZ(0,"button",12),m.NdJ("click",function(){m.CHM(_);const N=m.oxw().$implicit,I=m.oxw();return m.KtG(I.removeNotif(N.notifData.id))}),m.qZA()}}function y(p,x){if(1&p&&(m.TgZ(0,"div",5)(1,"div")(2,"strong",6),m._uU(3),m.qZA(),m._UZ(4,"span",7),m.ALo(5,"safeInnerHtml"),m.YNc(6,g,5,2,"strong",8),m.YNc(7,S,1,0,"button",9),m.qZA()()),2&p){const _=x.$implicit;m.xp6(1),m.Gre("alert alert-",_.notifData.type," alert-dismissible fade show"),m.xp6(2),m.Oqu(_.notifData.title),m.xp6(1),m.Q6J("innerHTML",m.lcZ(5,7,_.notifData.content),m.oJD),m.xp6(2),m.Q6J("ngIf",_.notifCreator),m.xp6(1),m.Q6J("ngIf",_.notifData.dismissible)}}let t=(()=>{class p{constructor(_,C,N){this.router=_,this.gs=C,this.notif=N}ngOnInit(){}get GS(){return this.gs}get ROUTER(){return this.router}get NOTIF(){return this.notif}removeNotif(_){this.notif.removeNotif(_)}}return p.\u0275fac=function(_){return new(_||p)(m.Y36(h.F0),m.Y36(o.U),m.Y36(Z.T))},p.\u0275cmp=m.Xpm({type:p,selectors:[["app-notifications"]],decls:4,vars:2,consts:[["class","container-fluid notif-banner align-items-center",3,"background-size","background-image","background-repeat","height","background-position-y",4,"ngIf"],[1,"container"],[1,"row","pt-3"],["class","col-12",4,"ngFor","ngForOf"],[1,"container-fluid","notif-banner","align-items-center"],[1,"col-12"],[1,"me-1"],[3,"innerHTML"],["class","ms-1",4,"ngIf"],["type","button","class","btn-close","data-dismiss","alert",3,"click",4,"ngIf"],[1,"ms-1"],[1,"text-decoration-none",3,"routerLink"],["type","button","data-dismiss","alert",1,"btn-close",3,"click"]],template:function(_,C){1&_&&(m.YNc(0,u,1,10,"div",0),m.TgZ(1,"div",1)(2,"div",2),m.YNc(3,y,8,9,"div",3),m.qZA()()),2&_&&(m.Q6J("ngIf",C.GS.bannerImg&&(C.ROUTER.url.startsWith("/news")||C.ROUTER.url.startsWith("/berkas")||C.ROUTER.url.startsWith("/fansub")||C.ROUTER.url.startsWith("/anime")||C.ROUTER.url.startsWith("/dorama"))),m.xp6(3),m.Q6J("ngForOf",C.NOTIF.notifications))},dependencies:[k.sg,k.O5,h.yS,v.H],styles:[".notif-banner[_ngcontent-%COMP%]{width:100%;background-size:cover;background-position:75% 50%}"]}),p})()},8613:(W,E,c)=>{c.d(E,{F:()=>k});var m=c(6895),h=c(1390),o=c(7355),Z=c(4650);let k=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275mod=Z.oAB({type:v}),v.\u0275inj=Z.cJS({imports:[m.ez,h.Bz,o.T]}),v})()}}]);