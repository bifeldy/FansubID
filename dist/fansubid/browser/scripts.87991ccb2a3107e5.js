(function(Nt){var Fe,Oe,z="hasOwnProperty",wt=/[\.\/]/,bt=function(){},Z=function(Q,fe){return Q-fe},_={n:{}},ne=function(Q,fe){Q=String(Q);var g,re=Oe,ve=Array.prototype.slice.call(arguments,2),v=ne.listeners(Q),M=0,p=[],x={},r=[],c=Fe;Fe=Q,Oe=0;for(var n=0,t=v.length;n<t;n++)"zIndex"in v[n]&&(p.push(v[n].zIndex),v[n].zIndex<0&&(x[v[n].zIndex]=v[n]));for(p.sort(Z);p[M]<0;)if(g=x[p[M++]],r.push(g.apply(fe,ve)),Oe)return Oe=re,r;for(n=0;n<t;n++)if("zIndex"in(g=v[n]))if(g.zIndex==p[M]){if(r.push(g.apply(fe,ve)),Oe)break;do{if((g=x[p[++M]])&&r.push(g.apply(fe,ve)),Oe)break}while(g)}else x[g.zIndex]=g;else if(r.push(g.apply(fe,ve)),Oe)break;return Oe=re,Fe=c,r.length?r:null};ne._events=_,ne.listeners=function(Q){var re,ve,v,M,h,g,p,x,fe=Q.split(wt),ge=_,r=[ge],c=[];for(M=0,h=fe.length;M<h;M++){for(x=[],g=0,p=r.length;g<p;g++)for(ve=[(ge=r[g].n)[fe[M]],ge["*"]],v=2;v--;)(re=ve[v])&&(x.push(re),c=c.concat(re.f||[]));r=x}return c},ne.on=function(Q,fe){if(Q=String(Q),"function"!=typeof fe)return function(){};for(var ge=Q.split(wt),re=_,ve=0,v=ge.length;ve<v;ve++)re=(re=re.n).hasOwnProperty(ge[ve])&&re[ge[ve]]||(re[ge[ve]]={n:{}});for(re.f=re.f||[],ve=0,v=re.f.length;ve<v;ve++)if(re.f[ve]==fe)return bt;return re.f.push(fe),function(M){+M==+M&&(fe.zIndex=+M)}},ne.f=function(Q){var fe=[].slice.call(arguments,1);return function(){ne.apply(null,[Q,null].concat(fe).concat([].slice.call(arguments,0)))}},ne.stop=function(){Oe=1},ne.nt=function(Q){return Q?new RegExp("(?:\\.|\\/|^)"+Q+"(?:\\.|\\/|$)").test(Fe):Fe},ne.nts=function(){return Fe.split(wt)},ne.off=ne.unbind=function(Q,fe){if(Q){var re,ve,v,M,h,g,p,ge=Q.split(wt),x=[_];for(M=0,h=ge.length;M<h;M++)for(g=0;g<x.length;g+=v.length-2){if(v=[g,1],re=x[g].n,"*"!=ge[M])re[ge[M]]&&v.push(re[ge[M]]);else for(ve in re)re[z](ve)&&v.push(re[ve]);x.splice.apply(x,v)}for(M=0,h=x.length;M<h;M++)for(re=x[M];re.n;){if(fe){if(re.f){for(g=0,p=re.f.length;g<p;g++)if(re.f[g]==fe){re.f.splice(g,1);break}!re.f.length&&delete re.f}for(ve in re.n)if(re.n[z](ve)&&re.n[ve].f){var r=re.n[ve].f;for(g=0,p=r.length;g<p;g++)if(r[g]==fe){r.splice(g,1);break}!r.length&&delete re.n[ve].f}}else for(ve in delete re.f,re.n)re.n[z](ve)&&re.n[ve].f&&delete re.n[ve].f;re=re.n}}else ne._events=_={n:{}}},ne.once=function(Q,fe){var ge=function(){return ne.unbind(Q,ge),fe.apply(this,arguments)};return ne.on(Q,ge)},ne.version="0.4.2",ne.toString=function(){return"You are running Eve 0.4.2"},"undefined"!=typeof module&&module.exports?module.exports=ne:"undefined"!=typeof define?define("eve",[],function(){return ne}):Nt.eve=ne})(this),function(Nt,hn){"function"==typeof define&&define.amd?define(["eve"],function(z){return hn(Nt,z)}):hn(Nt,Nt.eve)}(this,function(Nt,hn){function z(B){if(z.is(B,"function"))return wt?B():hn.on("raphael.DOMload",B);if(z.is(B,d))return z._engine.create[re](z,B.splice(0,3+z.is(B[0],o))).add(B);var V=Array.prototype.slice.call(arguments,0);if(z.is(V[V.length-1],"function")){var te=V.pop();return wt?te.call(z._engine.create[re](z,V)):hn.on("raphael.DOMload",function(){te.call(z._engine.create[re](z,V))})}return z._engine.create[re](z,arguments)}z.version="2.1.0",z.eve=hn;var wt,fe,B,V,mt=/[, ]+/,bt={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},Z=/\{(\d+)\}/g,Oe="hasOwnProperty",_={doc:document,win:Nt},ne={was:Object.prototype[Oe].call(_.win,"Raphael"),is:_.win.Raphael},Q=function(){this.ca=this.customAttributes={}},re="apply",ve="concat",v="ontouchstart"in _.win||_.win.DocumentTouch&&_.doc instanceof DocumentTouch,M="",h=" ",g=String,p="split",x="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[p](h),r={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},c=g.prototype.toLowerCase,f=Math,n=f.max,t=f.min,i=f.abs,s=f.pow,u=f.PI,o="number",l="string",d="array",I=Object.prototype.toString,q=(z._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),K={NaN:1,Infinity:1,"-Infinity":1},he=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Ae=f.round,A=parseFloat,N=parseInt,U=g.prototype.toUpperCase,y=z._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},C=z._availableAnimAttrs={blur:o,"clip-rect":"csv",cx:o,cy:o,fill:"colour","fill-opacity":o,"font-size":o,height:o,opacity:o,path:"path",r:o,rx:o,ry:o,stroke:"colour","stroke-opacity":o,"stroke-width":o,transform:"transform",width:o,x:o,y:o},O=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,oe={hs:1,rg:1},$=/,?([achlmqrstvxz]),?/gi,ue=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,qe=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Ze=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,tt=(z._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),zt=function(B,V){return A(B)-A(V)},Jt=function(B){return B},Ye=z._rectPath=function(B,V,te,le,ye){return ye?[["M",B+ye,V],["l",te-2*ye,0],["a",ye,ye,0,0,1,ye,ye],["l",0,le-2*ye],["a",ye,ye,0,0,1,-ye,ye],["l",2*ye-te,0],["a",ye,ye,0,0,1,-ye,-ye],["l",0,2*ye-le],["a",ye,ye,0,0,1,ye,-ye],["z"]]:[["M",B,V],["l",te,0],["l",0,le],["l",-te,0],["z"]]},st=function(B,V,te,le){return null==le&&(le=te),[["M",B,V],["m",0,-le],["a",te,le,0,1,1,0,2*le],["a",te,le,0,1,1,0,-2*le],["z"]]},ft=z._getPath={path:function(B){return B.attr("path")},circle:function(B){var V=B.attrs;return st(V.cx,V.cy,V.r)},ellipse:function(B){var V=B.attrs;return st(V.cx,V.cy,V.rx,V.ry)},rect:function(B){var V=B.attrs;return Ye(V.x,V.y,V.width,V.height,V.r)},image:function(B){var V=B.attrs;return Ye(V.x,V.y,V.width,V.height)},text:function(B){var V=B._getBBox();return Ye(V.x,V.y,V.width,V.height)},set:function(B){var V=B._getBBox();return Ye(V.x,V.y,V.width,V.height)}},Y=z.mapPath=function(B,V){if(!V)return B;var te,le,ye,Ie,Ce,ze,We;for(ye=0,Ce=(B=$t(B)).length;ye<Ce;ye++)for(Ie=1,ze=(We=B[ye]).length;Ie<ze;Ie+=2)te=V.x(We[Ie],We[Ie+1]),le=V.y(We[Ie],We[Ie+1]),We[Ie]=te,We[Ie+1]=le;return B};if(z._g=_,"VML"==(z.type=_.win.SVGAngle||_.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML")){var X,de=_.doc.createElement("div");if(de.innerHTML='<v:shape adj="1"/>',(X=de.firstChild).style.behavior="url(#default#VML)",!X||"object"!=typeof X.adj)return z.type=M;de=null}function ae(B){if("function"==typeof B||Object(B)!==B)return B;var V=new B.constructor;for(var te in B)B[Oe](te)&&(V[te]=ae(B[te]));return V}z.svg=!(z.vml="VML"==z.type),z._Paper=Q,z.fn=fe=Q.prototype=z.prototype,z._id=0,z._oid=0,z.is=function(B,V){return"finite"==(V=c.call(V))?!K[Oe](+B):"array"==V?B instanceof Array:"null"==V&&null===B||V==typeof B&&null!==B||"object"==V&&B===Object(B)||"array"==V&&Array.isArray&&Array.isArray(B)||I.call(B).slice(8,-1).toLowerCase()==V},z.angle=function(B,V,te,le,ye,Ie){if(null==ye){var Ce=B-te,ze=V-le;return Ce||ze?(180+180*f.atan2(-ze,-Ce)/u+360)%360:0}return z.angle(B,V,ye,Ie)-z.angle(te,le,ye,Ie)},z.rad=function(B){return B%360*u/180},z.deg=function(B){return 180*B/u%360},z.snapTo=function(B,V,te){if(te=z.is(te,"finite")?te:10,z.is(B,d)){for(var le=B.length;le--;)if(i(B[le]-V)<=te)return B[le]}else{var ye=V%(B=+B);if(ye<te)return V-ye;if(ye>B-te)return V-ye+B}return V},z.createUUID=(B=/[xy]/g,V=function(B){var V=16*f.random()|0;return("x"==B?V:3&V|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(B,V).toUpperCase()}),z.setWindow=function(B){hn("raphael.setWindow",z,_.win,B),_.win=B,_.doc=_.win.document,z._engine.initWin&&z._engine.initWin(_.win)};var ce=function(B){if(z.vml){var te,V=/^\s+|\s+$/g;try{var le=new ActiveXObject("htmlfile");le.write("<body>"),le.close(),te=le.body}catch(Ce){te=createPopup().document.body}var ye=te.createTextRange();ce=Dt(function(Ce){try{te.style.color=g(Ce).replace(V,M);var ze=ye.queryCommandValue("ForeColor");return"#"+("000000"+(ze=(255&ze)<<16|65280&ze|(16711680&ze)>>>16).toString(16)).slice(-6)}catch(We){return"none"}})}else{var Ie=_.doc.createElement("i");Ie.title="Rapha\xebl Colour Picker",Ie.style.display="none",_.doc.body.appendChild(Ie),ce=Dt(function(Ce){return Ie.style.color=Ce,_.doc.defaultView.getComputedStyle(Ie,M).getPropertyValue("color")})}return ce(B)},Ee=function(){return"hsb("+[this.h,this.s,this.b]+")"},$e=function(){return"hsl("+[this.h,this.s,this.l]+")"},nt=function(){return this.hex},ct=function(B,V,te){if(null==V&&z.is(B,"object")&&"r"in B&&"g"in B&&"b"in B&&(te=B.b,V=B.g,B=B.r),null==V&&z.is(B,l)){var le=z.getRGB(B);B=le.r,V=le.g,te=le.b}return(B>1||V>1||te>1)&&(B/=255,V/=255,te/=255),[B,V,te]},Ut=function(B,V,te,le){var ye={r:B*=255,g:V*=255,b:te*=255,hex:z.rgb(B,V,te),toString:nt};return z.is(le,"finite")&&(ye.opacity=le),ye};function Ht(B,V){for(var te=0,le=B.length;te<le;te++)if(B[te]===V)return B.push(B.splice(te,1)[0])}function Dt(B,V,te){return function le(){var ye=Array.prototype.slice.call(arguments,0),Ie=ye.join("\u2400"),Ce=le.cache=le.cache||{},ze=le.count=le.count||[];return Ce[Oe](Ie)?(Ht(ze,Ie),te?te(Ce[Ie]):Ce[Ie]):(ze.length>=1e3&&delete Ce[ze.shift()],ze.push(Ie),Ce[Ie]=B[re](V,ye),te?te(Ce[Ie]):Ce[Ie])}}function Gt(){return this.hex}function bn(B,V){for(var te=[],le=0,ye=B.length;ye-2*!V>le;le+=2){var Ie=[{x:+B[le-2],y:+B[le-1]},{x:+B[le],y:+B[le+1]},{x:+B[le+2],y:+B[le+3]},{x:+B[le+4],y:+B[le+5]}];V?le?ye-4==le?Ie[3]={x:+B[0],y:+B[1]}:ye-2==le&&(Ie[2]={x:+B[0],y:+B[1]},Ie[3]={x:+B[2],y:+B[3]}):Ie[0]={x:+B[ye-2],y:+B[ye-1]}:ye-4==le?Ie[3]=Ie[2]:le||(Ie[0]={x:+B[le],y:+B[le+1]}),te.push(["C",(6*Ie[1].x-Ie[0].x+Ie[2].x)/6,(6*Ie[1].y-Ie[0].y+Ie[2].y)/6,(Ie[1].x+6*Ie[2].x-Ie[3].x)/6,(Ie[1].y+6*Ie[2].y-Ie[3].y)/6,Ie[2].x,Ie[2].y])}return te}z.color=function(B){var V;return z.is(B,"object")&&"h"in B&&"s"in B&&"b"in B?(V=z.hsb2rgb(B),B.r=V.r,B.g=V.g,B.b=V.b,B.hex=V.hex):z.is(B,"object")&&"h"in B&&"s"in B&&"l"in B?(V=z.hsl2rgb(B),B.r=V.r,B.g=V.g,B.b=V.b,B.hex=V.hex):(z.is(B,"string")&&(B=z.getRGB(B)),z.is(B,"object")&&"r"in B&&"g"in B&&"b"in B?(V=z.rgb2hsl(B),B.h=V.h,B.s=V.s,B.l=V.l,V=z.rgb2hsb(B),B.v=V.b):(B={hex:"none"}).r=B.g=B.b=B.h=B.s=B.v=B.l=-1),B.toString=nt,B},z.hsb2rgb=function(B,V,te,le){var ye,Ie,Ce,ze,We;return this.is(B,"object")&&"h"in B&&"s"in B&&"b"in B&&(te=B.b,V=B.s,le=(B=B.h).o),ze=(We=te*V)*(1-i((B=(B*=360)%360/60)%2-1)),ye=Ie=Ce=te-We,Ut(ye+=[We,ze,0,0,ze,We][B=~~B],Ie+=[ze,We,We,ze,0,0][B],Ce+=[0,0,ze,We,We,ze][B],le)},z.hsl2rgb=function(B,V,te,le){var ye,Ie,Ce,ze,We;return this.is(B,"object")&&"h"in B&&"s"in B&&"l"in B&&(te=B.l,V=B.s,B=B.h),(B>1||V>1||te>1)&&(B/=360,V/=100,te/=100),ze=(We=2*V*(te<.5?te:1-te))*(1-i((B=(B*=360)%360/60)%2-1)),ye=Ie=Ce=te-We/2,Ut(ye+=[We,ze,0,0,ze,We][B=~~B],Ie+=[ze,We,We,ze,0,0][B],Ce+=[0,0,ze,We,We,ze][B],le)},z.rgb2hsb=function(B,V,te){var Ie,Ce;return te=ct(B,V,te),{h:((0==(Ce=(Ie=n(B=te[0],V=te[1],te=te[2]))-t(B,V,te))?null:Ie==B?(V-te)/Ce:Ie==V?(te-B)/Ce+2:(B-V)/Ce+4)+360)%6*60/360,s:0==Ce?0:Ce/Ie,b:Ie,toString:Ee}},z.rgb2hsl=function(B,V,te){var Ie,Ce,ze,We;return te=ct(B,V,te),Ie=((Ce=n(B=te[0],V=te[1],te=te[2]))+(ze=t(B,V,te)))/2,{h:((0==(We=Ce-ze)?null:Ce==B?(V-te)/We:Ce==V?(te-B)/We+2:(B-V)/We+4)+360)%6*60/360,s:0==We?0:Ie<.5?We/(2*Ie):We/(2-2*Ie),l:Ie,toString:$e}},z._path2string=function(){return this.join(",").replace($,"$1")},z._preload=function(B,V){var te=_.doc.createElement("img");te.style.cssText="position:absolute;left:-9999em;top:-9999em",te.onload=function(){V.call(this),this.onload=null,_.doc.body.removeChild(this)},te.onerror=function(){_.doc.body.removeChild(this)},_.doc.body.appendChild(te),te.src=B},z.getRGB=Dt(function(B){if(!B||(B=g(B)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Gt};if("none"==B)return{r:-1,g:-1,b:-1,hex:"none",toString:Gt};!oe[Oe](B.toLowerCase().substring(0,2))&&"#"!=B.charAt()&&(B=ce(B));var te,le,ye,Ie,Ce,ze,We=B.match(q);return We?(We[2]&&(ye=N(We[2].substring(5),16),le=N(We[2].substring(3,5),16),te=N(We[2].substring(1,3),16)),We[3]&&(ye=N((Ce=We[3].charAt(3))+Ce,16),le=N((Ce=We[3].charAt(2))+Ce,16),te=N((Ce=We[3].charAt(1))+Ce,16)),We[4]&&(ze=We[4][p](O),te=A(ze[0]),"%"==ze[0].slice(-1)&&(te*=2.55),le=A(ze[1]),"%"==ze[1].slice(-1)&&(le*=2.55),ye=A(ze[2]),"%"==ze[2].slice(-1)&&(ye*=2.55),"rgba"==We[1].toLowerCase().slice(0,4)&&(Ie=A(ze[3])),ze[3]&&"%"==ze[3].slice(-1)&&(Ie/=100)),We[5]?(ze=We[5][p](O),te=A(ze[0]),"%"==ze[0].slice(-1)&&(te*=2.55),le=A(ze[1]),"%"==ze[1].slice(-1)&&(le*=2.55),ye=A(ze[2]),"%"==ze[2].slice(-1)&&(ye*=2.55),("deg"==ze[0].slice(-3)||"\xb0"==ze[0].slice(-1))&&(te/=360),"hsba"==We[1].toLowerCase().slice(0,4)&&(Ie=A(ze[3])),ze[3]&&"%"==ze[3].slice(-1)&&(Ie/=100),z.hsb2rgb(te,le,ye,Ie)):We[6]?(ze=We[6][p](O),te=A(ze[0]),"%"==ze[0].slice(-1)&&(te*=2.55),le=A(ze[1]),"%"==ze[1].slice(-1)&&(le*=2.55),ye=A(ze[2]),"%"==ze[2].slice(-1)&&(ye*=2.55),("deg"==ze[0].slice(-3)||"\xb0"==ze[0].slice(-1))&&(te/=360),"hsla"==We[1].toLowerCase().slice(0,4)&&(Ie=A(ze[3])),ze[3]&&"%"==ze[3].slice(-1)&&(Ie/=100),z.hsl2rgb(te,le,ye,Ie)):((We={r:te,g:le,b:ye,toString:Gt}).hex="#"+(16777216|ye|le<<8|te<<16).toString(16).slice(1),z.is(Ie,"finite")&&(We.opacity=Ie),We)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Gt}},z),z.hsb=Dt(function(B,V,te){return z.hsb2rgb(B,V,te).hex}),z.hsl=Dt(function(B,V,te){return z.hsl2rgb(B,V,te).hex}),z.rgb=Dt(function(B,V,te){return"#"+(16777216|te|V<<8|B<<16).toString(16).slice(1)}),(z.getColor=function(B){var V=this.getColor.start=this.getColor.start||{h:0,s:1,b:B||.75},te=this.hsb2rgb(V.h,V.s,V.b);return V.h+=.075,V.h>1&&(V.h=0,V.s-=.2,V.s<=0&&(this.getColor.start={h:0,s:1,b:V.b})),te.hex}).reset=function(){delete this.start},z.parsePathString=function(B){if(!B)return null;var V=Nn(B);if(V.arr)return nn(V.arr);var te={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},le=[];return z.is(B,d)&&z.is(B[0],d)&&(le=nn(B)),le.length||g(B).replace(ue,function(ye,Ie,Ce){var ze=[],We=Ie.toLowerCase();if(Ce.replace(Ze,function(dt,Mt){Mt&&ze.push(+Mt)}),"m"==We&&ze.length>2&&(le.push([Ie][ve](ze.splice(0,2))),We="l",Ie="m"==Ie?"l":"L"),"r"==We)le.push([Ie][ve](ze));else for(;ze.length>=te[We]&&(le.push([Ie][ve](ze.splice(0,te[We]))),te[We]););}),le.toString=z._path2string,V.arr=nn(le),le},z.parseTransformString=Dt(function(B){if(!B)return null;var te=[];return z.is(B,d)&&z.is(B[0],d)&&(te=nn(B)),te.length||g(B).replace(qe,function(le,ye,Ie){var Ce=[];c.call(ye),Ie.replace(Ze,function(We,dt){dt&&Ce.push(+dt)}),te.push([ye][ve](Ce))}),te.toString=z._path2string,te});var Nn=function(B){var V=Nn.ps=Nn.ps||{};return V[B]?V[B].sleep=100:V[B]={sleep:100},setTimeout(function(){for(var te in V)V[Oe](te)&&te!=B&&(V[te].sleep--,!V[te].sleep&&delete V[te])}),V[B]};function En(B,V,te,le,ye){return B*(B*(-3*V+9*te-9*le+3*ye)+6*V-12*te+6*le)-3*V+3*te}function Cn(B,V,te,le,ye,Ie,Ce,ze,We){null==We&&(We=1);for(var dt=(We=We>1?1:We<0?0:We)/2,rt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ht=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Rt=0,Ft=0;Ft<12;Ft++){var xt=dt*rt[Ft]+dt,Lt=En(xt,B,te,ye,Ce),It=En(xt,V,le,Ie,ze);Rt+=ht[Ft]*f.sqrt(Lt*Lt+It*It)}return dt*Rt}function _t(B,V,te,le,ye,Ie,Ce,ze){if(!(n(B,te)<t(ye,Ce)||t(B,te)>n(ye,Ce)||n(V,le)<t(Ie,ze)||t(V,le)>n(Ie,ze))){var Mt=(B-te)*(Ie-ze)-(V-le)*(ye-Ce);if(Mt){var rt=((B*le-V*te)*(ye-Ce)-(B-te)*(ye*ze-Ie*Ce))/Mt,ht=((B*le-V*te)*(Ie-ze)-(V-le)*(ye*ze-Ie*Ce))/Mt,Rt=+rt.toFixed(2),Ft=+ht.toFixed(2);if(!(Rt<+t(B,te).toFixed(2)||Rt>+n(B,te).toFixed(2)||Rt<+t(ye,Ce).toFixed(2)||Rt>+n(ye,Ce).toFixed(2)||Ft<+t(V,le).toFixed(2)||Ft>+n(V,le).toFixed(2)||Ft<+t(Ie,ze).toFixed(2)||Ft>+n(Ie,ze).toFixed(2)))return{x:rt,y:ht}}}}function Fn(B,V,te){var le=z.bezierBBox(B),ye=z.bezierBBox(V);if(!z.isBBoxIntersect(le,ye))return te?0:[];for(var Ie=Cn.apply(0,B),Ce=Cn.apply(0,V),ze=n(~~(Ie/5),1),We=n(~~(Ce/5),1),dt=[],Mt=[],rt={},ht=te?0:[],Rt=0;Rt<ze+1;Rt++){var Ft=z.findDotsAtSegment.apply(z,B.concat(Rt/ze));dt.push({x:Ft.x,y:Ft.y,t:Rt/ze})}for(Rt=0;Rt<We+1;Rt++)Ft=z.findDotsAtSegment.apply(z,V.concat(Rt/We)),Mt.push({x:Ft.x,y:Ft.y,t:Rt/We});for(Rt=0;Rt<ze;Rt++)for(var xt=0;xt<We;xt++){var Lt=dt[Rt],It=dt[Rt+1],on=Mt[xt],Kt=Mt[xt+1],Qt=i(It.x-Lt.x)<.001?"y":"x",Pn=i(Kt.x-on.x)<.001?"y":"x",Pr=_t(Lt.x,Lt.y,It.x,It.y,on.x,on.y,Kt.x,Kt.y);if(Pr){if(rt[Pr.x.toFixed(4)]==Pr.y.toFixed(4))continue;rt[Pr.x.toFixed(4)]=Pr.y.toFixed(4);var zr=Lt.t+i((Pr[Qt]-Lt[Qt])/(It[Qt]-Lt[Qt]))*(It.t-Lt.t),dr=on.t+i((Pr[Pn]-on[Pn])/(Kt[Pn]-on[Pn]))*(Kt.t-on.t);zr>=0&&zr<=1.001&&dr>=0&&dr<=1.001&&(te?ht++:ht.push({x:Pr.x,y:Pr.y,t1:t(zr,1),t2:t(dr,1)}))}}return ht}function Zn(B,V,te){B=z._path2curve(B),V=z._path2curve(V);for(var le,ye,Ie,Ce,ze,We,dt,Mt,rt,ht,Rt=te?0:[],Ft=0,xt=B.length;Ft<xt;Ft++){var Lt=B[Ft];if("M"==Lt[0])le=ze=Lt[1],ye=We=Lt[2];else{"C"==Lt[0]?(rt=[le,ye].concat(Lt.slice(1)),le=rt[6],ye=rt[7]):(rt=[le,ye,le,ye,ze,We,ze,We],le=ze,ye=We);for(var It=0,on=V.length;It<on;It++){var Kt=V[It];if("M"==Kt[0])Ie=dt=Kt[1],Ce=Mt=Kt[2];else{"C"==Kt[0]?(ht=[Ie,Ce].concat(Kt.slice(1)),Ie=ht[6],Ce=ht[7]):(ht=[Ie,Ce,Ie,Ce,dt,Mt,dt,Mt],Ie=dt,Ce=Mt);var Qt=Fn(rt,ht,te);if(te)Rt+=Qt;else{for(var Pn=0,Pr=Qt.length;Pn<Pr;Pn++)Qt[Pn].segment1=Ft,Qt[Pn].segment2=It,Qt[Pn].bez1=rt,Qt[Pn].bez2=ht;Rt=Rt.concat(Qt)}}}}}return Rt}z.findDotsAtSegment=function(B,V,te,le,ye,Ie,Ce,ze,We){var dt=1-We,Mt=s(dt,3),rt=s(dt,2),ht=We*We,Rt=ht*We,Ft=Mt*B+3*rt*We*te+3*dt*We*We*ye+Rt*Ce,xt=Mt*V+3*rt*We*le+3*dt*We*We*Ie+Rt*ze,Lt=B+2*We*(te-B)+ht*(ye-2*te+B),It=V+2*We*(le-V)+ht*(Ie-2*le+V),on=te+2*We*(ye-te)+ht*(Ce-2*ye+te),Kt=le+2*We*(Ie-le)+ht*(ze-2*Ie+le),Qt=dt*B+We*te,Pn=dt*V+We*le,Pr=dt*ye+We*Ce,zr=dt*Ie+We*ze,dr=90-180*f.atan2(Lt-on,It-Kt)/u;return(Lt>on||It<Kt)&&(dr+=180),{x:Ft,y:xt,m:{x:Lt,y:It},n:{x:on,y:Kt},start:{x:Qt,y:Pn},end:{x:Pr,y:zr},alpha:dr}},z.bezierBBox=function(B,V,te,le,ye,Ie,Ce,ze){z.is(B,"array")||(B=[B,V,te,le,ye,Ie,Ce,ze]);var We=nr.apply(null,B);return{x:We.min.x,y:We.min.y,x2:We.max.x,y2:We.max.y,width:We.max.x-We.min.x,height:We.max.y-We.min.y}},z.isPointInsideBBox=function(B,V,te){return V>=B.x&&V<=B.x2&&te>=B.y&&te<=B.y2},z.isBBoxIntersect=function(B,V){var te=z.isPointInsideBBox;return te(V,B.x,B.y)||te(V,B.x2,B.y)||te(V,B.x,B.y2)||te(V,B.x2,B.y2)||te(B,V.x,V.y)||te(B,V.x2,V.y)||te(B,V.x,V.y2)||te(B,V.x2,V.y2)||(B.x<V.x2&&B.x>V.x||V.x<B.x2&&V.x>B.x)&&(B.y<V.y2&&B.y>V.y||V.y<B.y2&&V.y>B.y)},z.pathIntersection=function(B,V){return Zn(B,V)},z.pathIntersectionNumber=function(B,V){return Zn(B,V,1)},z.isPointInsidePath=function(B,V,te){var le=z.pathBBox(B);return z.isPointInsideBBox(le,V,te)&&Zn(B,[["M",V,te],["H",le.x2+10]],1)%2==1},z._removedFactory=function(B){return function(){hn("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+B+"\u201d of removed object",B)}};var vr=z.pathBBox=function(B){var V=Nn(B);if(V.bbox)return ae(V.bbox);if(!B)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var Ce,te=0,le=0,ye=[],Ie=[],ze=0,We=(B=$t(B)).length;ze<We;ze++)if("M"==(Ce=B[ze])[0])le=Ce[2],ye.push(te=Ce[1]),Ie.push(le);else{var dt=nr(te,le,Ce[1],Ce[2],Ce[3],Ce[4],Ce[5],Ce[6]);ye=ye[ve](dt.min.x,dt.max.x),Ie=Ie[ve](dt.min.y,dt.max.y),te=Ce[5],le=Ce[6]}var Mt=t[re](0,ye),rt=t[re](0,Ie),ht=n[re](0,ye),Rt=n[re](0,Ie),Ft=ht-Mt,xt=Rt-rt,Lt={x:Mt,y:rt,x2:ht,y2:Rt,width:Ft,height:xt,cx:Mt+Ft/2,cy:rt+xt/2};return V.bbox=ae(Lt),Lt},nn=function(B){var V=ae(B);return V.toString=z._path2string,V},mn=z._pathToRelative=function(B){var V=Nn(B);if(V.rel)return nn(V.rel);(!z.is(B,d)||!z.is(B&&B[0],d))&&(B=z.parsePathString(B));var te=[],le=0,ye=0,Ie=0,Ce=0,ze=0;"M"==B[0][0]&&(Ie=le=B[0][1],Ce=ye=B[0][2],ze++,te.push(["M",le,ye]));for(var We=ze,dt=B.length;We<dt;We++){var Mt=te[We]=[],rt=B[We];if(rt[0]!=c.call(rt[0]))switch(Mt[0]=c.call(rt[0]),Mt[0]){case"a":Mt[1]=rt[1],Mt[2]=rt[2],Mt[3]=rt[3],Mt[4]=rt[4],Mt[5]=rt[5],Mt[6]=+(rt[6]-le).toFixed(3),Mt[7]=+(rt[7]-ye).toFixed(3);break;case"v":Mt[1]=+(rt[1]-ye).toFixed(3);break;case"m":Ie=rt[1],Ce=rt[2];default:for(var ht=1,Rt=rt.length;ht<Rt;ht++)Mt[ht]=+(rt[ht]-(ht%2?le:ye)).toFixed(3)}else{Mt=te[We]=[],"m"==rt[0]&&(Ie=rt[1]+le,Ce=rt[2]+ye);for(var Ft=0,xt=rt.length;Ft<xt;Ft++)te[We][Ft]=rt[Ft]}var Lt=te[We].length;switch(te[We][0]){case"z":le=Ie,ye=Ce;break;case"h":le+=+te[We][Lt-1];break;case"v":ye+=+te[We][Lt-1];break;default:le+=+te[We][Lt-2],ye+=+te[We][Lt-1]}}return te.toString=z._path2string,V.rel=nn(te),te},Hn=z._pathToAbsolute=function(B){var V=Nn(B);if(V.abs)return nn(V.abs);if((!z.is(B,d)||!z.is(B&&B[0],d))&&(B=z.parsePathString(B)),!B||!B.length)return[["M",0,0]];var te=[],le=0,ye=0,Ie=0,Ce=0,ze=0;"M"==B[0][0]&&(Ie=le=+B[0][1],Ce=ye=+B[0][2],ze++,te[0]=["M",le,ye]);for(var dt,Mt,We=3==B.length&&"M"==B[0][0]&&"R"==B[1][0].toUpperCase()&&"Z"==B[2][0].toUpperCase(),rt=ze,ht=B.length;rt<ht;rt++){if(te.push(dt=[]),(Mt=B[rt])[0]!=U.call(Mt[0]))switch(dt[0]=U.call(Mt[0]),dt[0]){case"A":dt[1]=Mt[1],dt[2]=Mt[2],dt[3]=Mt[3],dt[4]=Mt[4],dt[5]=Mt[5],dt[6]=+(Mt[6]+le),dt[7]=+(Mt[7]+ye);break;case"V":dt[1]=+Mt[1]+ye;break;case"H":dt[1]=+Mt[1]+le;break;case"R":for(var Rt=[le,ye][ve](Mt.slice(1)),Ft=2,xt=Rt.length;Ft<xt;Ft++)Rt[Ft]=+Rt[Ft]+le,Rt[++Ft]=+Rt[Ft]+ye;te.pop(),te=te[ve](bn(Rt,We));break;case"M":Ie=+Mt[1]+le,Ce=+Mt[2]+ye;default:for(Ft=1,xt=Mt.length;Ft<xt;Ft++)dt[Ft]=+Mt[Ft]+(Ft%2?le:ye)}else if("R"==Mt[0])Rt=[le,ye][ve](Mt.slice(1)),te.pop(),te=te[ve](bn(Rt,We)),dt=["R"][ve](Mt.slice(-2));else for(var Lt=0,It=Mt.length;Lt<It;Lt++)dt[Lt]=Mt[Lt];switch(dt[0]){case"Z":le=Ie,ye=Ce;break;case"H":le=dt[1];break;case"V":ye=dt[1];break;case"M":Ie=dt[dt.length-2],Ce=dt[dt.length-1];default:le=dt[dt.length-2],ye=dt[dt.length-1]}}return te.toString=z._path2string,V.abs=nn(te),te},An=function(B,V,te,le){return[B,V,te,le,te,le]},tr=function(B,V,te,le,ye,Ie){var Ce=.3333333333333333,ze=2/3;return[Ce*B+ze*te,Ce*V+ze*le,Ce*ye+ze*te,Ce*Ie+ze*le,ye,Ie]},Rr=function(B,V,te,le,ye,Ie,Ce,ze,We,dt){var Rt,Mt=120*u/180,rt=u/180*(+ye||0),ht=[],Ft=Dt(function(ar,Ur,Sr){return{x:ar*f.cos(Sr)-Ur*f.sin(Sr),y:ar*f.sin(Sr)+Ur*f.cos(Sr)}});if(dt)fr=dt[0],gr=dt[1],zr=dt[2],dr=dt[3];else{B=(Rt=Ft(B,V,-rt)).x,V=Rt.y,ze=(Rt=Ft(ze,We,-rt)).x,We=Rt.y,f.cos(u/180*ye),f.sin(u/180*ye);var It=(B-ze)/2,on=(V-We)/2,Kt=It*It/(te*te)+on*on/(le*le);Kt>1&&(te*=Kt=f.sqrt(Kt),le*=Kt);var Qt=te*te,Pn=le*le,Pr=(Ie==Ce?-1:1)*f.sqrt(i((Qt*Pn-Qt*on*on-Pn*It*It)/(Qt*on*on+Pn*It*It))),zr=Pr*te*on/le+(B+ze)/2,dr=Pr*-le*It/te+(V+We)/2,fr=f.asin(((V-dr)/le).toFixed(9)),gr=f.asin(((We-dr)/le).toFixed(9));(fr=B<zr?u-fr:fr)<0&&(fr=2*u+fr),(gr=ze<zr?u-gr:gr)<0&&(gr=2*u+gr),Ce&&fr>gr&&(fr-=2*u),!Ce&&gr>fr&&(gr-=2*u)}var fi=gr-fr;if(i(fi)>Mt){var Ue=gr,yt=ze,Ot=We;ze=zr+te*f.cos(gr=fr+Mt*(Ce&&gr>fr?1:-1)),We=dr+le*f.sin(gr),ht=Rr(ze,We,te,le,ye,0,Ce,yt,Ot,[gr,Ue,zr,dr])}fi=gr-fr;var en=f.cos(fr),qn=f.sin(fr),je=f.cos(gr),Te=f.sin(gr),pt=f.tan(fi/4),vt=4/3*te*pt,qt=4/3*le*pt,vn=[B,V],an=[B+vt*qn,V-qt*en],yn=[ze+vt*Te,We-qt*je],pn=[ze,We];if(an[0]=2*vn[0]-an[0],an[1]=2*vn[1]-an[1],dt)return[an,yn,pn][ve](ht);for(var Ln=[],Un=0,Tr=(ht=[an,yn,pn][ve](ht).join()[p](",")).length;Un<Tr;Un++)Ln[Un]=Un%2?Ft(ht[Un-1],ht[Un],rt).y:Ft(ht[Un],ht[Un+1],rt).x;return Ln},ir=function(B,V,te,le,ye,Ie,Ce,ze,We){var dt=1-We;return{x:s(dt,3)*B+3*s(dt,2)*We*te+3*dt*We*We*ye+s(We,3)*Ce,y:s(dt,3)*V+3*s(dt,2)*We*le+3*dt*We*We*Ie+s(We,3)*ze}},nr=Dt(function(B,V,te,le,ye,Ie,Ce,ze){var xt,We=ye-2*te+B-(Ce-2*ye+te),dt=2*(te-B)-2*(ye-te),Mt=B-te,rt=(-dt+f.sqrt(dt*dt-4*We*Mt))/2/We,ht=(-dt-f.sqrt(dt*dt-4*We*Mt))/2/We,Rt=[V,ze],Ft=[B,Ce];return i(rt)>"1e12"&&(rt=.5),i(ht)>"1e12"&&(ht=.5),rt>0&&rt<1&&(xt=ir(B,V,te,le,ye,Ie,Ce,ze,rt),Ft.push(xt.x),Rt.push(xt.y)),ht>0&&ht<1&&(xt=ir(B,V,te,le,ye,Ie,Ce,ze,ht),Ft.push(xt.x),Rt.push(xt.y)),rt=(-(dt=2*(le-V)-2*(Ie-le))+f.sqrt(dt*dt-4*(We=Ie-2*le+V-(ze-2*Ie+le))*(Mt=V-le)))/2/We,ht=(-dt-f.sqrt(dt*dt-4*We*Mt))/2/We,i(rt)>"1e12"&&(rt=.5),i(ht)>"1e12"&&(ht=.5),rt>0&&rt<1&&(xt=ir(B,V,te,le,ye,Ie,Ce,ze,rt),Ft.push(xt.x),Rt.push(xt.y)),ht>0&&ht<1&&(xt=ir(B,V,te,le,ye,Ie,Ce,ze,ht),Ft.push(xt.x),Rt.push(xt.y)),{min:{x:t[re](0,Ft),y:t[re](0,Rt)},max:{x:n[re](0,Ft),y:n[re](0,Rt)}}}),$t=z._path2curve=Dt(function(B,V){var te=!V&&Nn(B);if(!V&&te.curve)return nn(te.curve);for(var le=Hn(B),ye=V&&Hn(V),Ie={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ce={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ze=function(Lt,It,on){var Kt,Qt;if(!Lt)return["C",It.x,It.y,It.x,It.y,It.x,It.y];switch(!(Lt[0]in{T:1,Q:1})&&(It.qx=It.qy=null),Lt[0]){case"M":It.X=Lt[1],It.Y=Lt[2];break;case"A":Lt=["C"][ve](Rr[re](0,[It.x,It.y][ve](Lt.slice(1))));break;case"S":"C"==on||"S"==on?(Kt=2*It.x-It.bx,Qt=2*It.y-It.by):(Kt=It.x,Qt=It.y),Lt=["C",Kt,Qt][ve](Lt.slice(1));break;case"T":"Q"==on||"T"==on?(It.qx=2*It.x-It.qx,It.qy=2*It.y-It.qy):(It.qx=It.x,It.qy=It.y),Lt=["C"][ve](tr(It.x,It.y,It.qx,It.qy,Lt[1],Lt[2]));break;case"Q":It.qx=Lt[1],It.qy=Lt[2],Lt=["C"][ve](tr(It.x,It.y,Lt[1],Lt[2],Lt[3],Lt[4]));break;case"L":Lt=["C"][ve](An(It.x,It.y,Lt[1],Lt[2]));break;case"H":Lt=["C"][ve](An(It.x,It.y,Lt[1],It.y));break;case"V":Lt=["C"][ve](An(It.x,It.y,It.x,Lt[1]));break;case"Z":Lt=["C"][ve](An(It.x,It.y,It.X,It.Y))}return Lt},We=function(Lt,It){if(Lt[It].length>7){Lt[It].shift();for(var on=Lt[It];on.length;)Lt.splice(It++,0,["C"][ve](on.splice(0,6)));Lt.splice(It,1),rt=n(le.length,ye&&ye.length||0)}},dt=function(Lt,It,on,Kt,Qt){Lt&&It&&"M"==Lt[Qt][0]&&"M"!=It[Qt][0]&&(It.splice(Qt,0,["M",Kt.x,Kt.y]),on.bx=0,on.by=0,on.x=Lt[Qt][1],on.y=Lt[Qt][2],rt=n(le.length,ye&&ye.length||0))},Mt=0,rt=n(le.length,ye&&ye.length||0);Mt<rt;Mt++){le[Mt]=ze(le[Mt],Ie),We(le,Mt),ye&&(ye[Mt]=ze(ye[Mt],Ce)),ye&&We(ye,Mt),dt(le,ye,Ie,Ce,Mt),dt(ye,le,Ce,Ie,Mt);var ht=le[Mt],Rt=ye&&ye[Mt],Ft=ht.length,xt=ye&&Rt.length;Ie.x=ht[Ft-2],Ie.y=ht[Ft-1],Ie.bx=A(ht[Ft-4])||Ie.x,Ie.by=A(ht[Ft-3])||Ie.y,Ce.bx=ye&&(A(Rt[xt-4])||Ce.x),Ce.by=ye&&(A(Rt[xt-3])||Ce.y),Ce.x=ye&&Rt[xt-2],Ce.y=ye&&Rt[xt-1]}return ye||(te.curve=nn(le)),ye?[le,ye]:le},null,nn),Zt=(z._parseDots=Dt(function(B){for(var V=[],te=0,le=B.length;te<le;te++){var ye={},Ie=B[te].match(/^([^:]*):?([\d\.]*)/);if(ye.color=z.getRGB(Ie[1]),ye.color.error)return null;ye.color=ye.color.hex,Ie[2]&&(ye.offset=Ie[2]+"%"),V.push(ye)}for(te=1,le=V.length-1;te<le;te++)if(!V[te].offset){for(var Ce=A(V[te-1].offset||0),ze=0,We=te+1;We<le;We++)if(V[We].offset){ze=V[We].offset;break}ze||(ze=100,We=le);for(var dt=((ze=A(ze))-Ce)/(We-te+1);te<We;te++)V[te].offset=(Ce+=dt)+"%"}return V}),z._tear=function(B,V){B==V.top&&(V.top=B.prev),B==V.bottom&&(V.bottom=B.next),B.next&&(B.next.prev=B.prev),B.prev&&(B.prev.next=B.next)}),jn=(z._tofront=function(B,V){V.top!==B&&(Zt(B,V),B.next=null,B.prev=V.top,V.top.next=B,V.top=B)},z._toback=function(B,V){V.bottom!==B&&(Zt(B,V),B.next=V.bottom,B.prev=null,V.bottom.prev=B,V.bottom=B)},z._insertafter=function(B,V,te){Zt(B,te),V==te.top&&(te.top=B),V.next&&(V.next.prev=B),B.next=V.next,B.prev=V,V.next=B},z._insertbefore=function(B,V,te){Zt(B,te),V==te.bottom&&(te.bottom=B),V.prev&&(V.prev.next=B),B.prev=V.prev,V.prev=B,B.next=V},z.toMatrix=function(B,V){var te=vr(B),le={_:{transform:M},getBBox:function(){return te}};return er(le,V),le.matrix}),er=(z.transformPath=function(B,V){return Y(B,jn(B,V))},z._extractTransform=function(B,V){if(null==V)return B._.transform;V=g(V).replace(/\.{3}|\u2026/g,B._.transform||M);var ye,Ie,te=z.parseTransformString(V),le=0,Ce=1,ze=1,We=B._,dt=new et;if(We.transform=te||[],te)for(var Mt=0,rt=te.length;Mt<rt;Mt++){var It,on,Kt,Qt,Pn,ht=te[Mt],Rt=ht.length,Ft=g(ht[0]).toLowerCase(),xt=ht[0]!=Ft,Lt=xt?dt.invert():0;"t"==Ft&&3==Rt?xt?(It=Lt.x(0,0),on=Lt.y(0,0),Kt=Lt.x(ht[1],ht[2]),Qt=Lt.y(ht[1],ht[2]),dt.translate(Kt-It,Qt-on)):dt.translate(ht[1],ht[2]):"r"==Ft?2==Rt?(Pn=Pn||B.getBBox(1),dt.rotate(ht[1],Pn.x+Pn.width/2,Pn.y+Pn.height/2),le+=ht[1]):4==Rt&&(xt?(Kt=Lt.x(ht[2],ht[3]),Qt=Lt.y(ht[2],ht[3]),dt.rotate(ht[1],Kt,Qt)):dt.rotate(ht[1],ht[2],ht[3]),le+=ht[1]):"s"==Ft?2==Rt||3==Rt?(Pn=Pn||B.getBBox(1),dt.scale(ht[1],ht[Rt-1],Pn.x+Pn.width/2,Pn.y+Pn.height/2),Ce*=ht[1],ze*=ht[Rt-1]):5==Rt&&(xt?(Kt=Lt.x(ht[3],ht[4]),Qt=Lt.y(ht[3],ht[4]),dt.scale(ht[1],ht[2],Kt,Qt)):dt.scale(ht[1],ht[2],ht[3],ht[4]),Ce*=ht[1],ze*=ht[2]):"m"==Ft&&7==Rt&&dt.add(ht[1],ht[2],ht[3],ht[4],ht[5],ht[6]),We.dirtyT=1,B.matrix=dt}B.matrix=dt,We.sx=Ce,We.sy=ze,We.deg=le,We.dx=ye=dt.e,We.dy=Ie=dt.f,1==Ce&&1==ze&&!le&&We.bbox?(We.bbox.x+=+ye,We.bbox.y+=+Ie):We.dirtyT=1}),Gn=function(B){var V=B[0];switch(V.toLowerCase()){case"t":return[V,0,0];case"m":return[V,1,0,0,1,0,0];case"r":return 4==B.length?[V,0,B[2],B[3]]:[V,0];case"s":return 5==B.length?[V,1,1,B[3],B[4]]:3==B.length?[V,1,1]:[V,1]}},Yn=z._equaliseTransform=function(B,V){V=g(V).replace(/\.{3}|\u2026/g,B),B=z.parseTransformString(B)||[],V=z.parseTransformString(V)||[];for(var Ce,ze,We,dt,te=n(B.length,V.length),le=[],ye=[],Ie=0;Ie<te;Ie++){if(We=B[Ie]||Gn(V[Ie]),dt=V[Ie]||Gn(We),We[0]!=dt[0]||"r"==We[0].toLowerCase()&&(We[2]!=dt[2]||We[3]!=dt[3])||"s"==We[0].toLowerCase()&&(We[3]!=dt[3]||We[4]!=dt[4]))return;for(le[Ie]=[],ye[Ie]=[],Ce=0,ze=n(We.length,dt.length);Ce<ze;Ce++)Ce in We&&(le[Ie][Ce]=We[Ce]),Ce in dt&&(ye[Ie][Ce]=dt[Ce])}return{from:le,to:ye}};function et(B,V,te,le,ye,Ie){null!=B?(this.a=+B,this.b=+V,this.c=+te,this.d=+le,this.e=+ye,this.f=+Ie):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}z._getContainer=function(B,V,te,le){var ye;if(null!=(ye=null!=le||z.is(B,"object")?B:_.doc.getElementById(B)))return ye.tagName?null==V?{container:ye,width:ye.style.pixelWidth||ye.offsetWidth,height:ye.style.pixelHeight||ye.offsetHeight}:{container:ye,width:V,height:te}:{container:1,x:B,y:V,width:te,height:le}},z.pathToRelative=mn,z._engine={},z.path2curve=$t,z.matrix=function(B,V,te,le,ye,Ie){return new et(B,V,te,le,ye,Ie)},function(B){function V(le){return le[0]*le[0]+le[1]*le[1]}function te(le){var ye=f.sqrt(V(le));le[0]&&(le[0]/=ye),le[1]&&(le[1]/=ye)}B.add=function(le,ye,Ie,Ce,ze,We){var ht,Rt,Ft,xt,dt=[[],[],[]],Mt=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],rt=[[le,Ie,ze],[ye,Ce,We],[0,0,1]];for(le&&le instanceof et&&(rt=[[le.a,le.c,le.e],[le.b,le.d,le.f],[0,0,1]]),ht=0;ht<3;ht++)for(Rt=0;Rt<3;Rt++){for(xt=0,Ft=0;Ft<3;Ft++)xt+=Mt[ht][Ft]*rt[Ft][Rt];dt[ht][Rt]=xt}this.a=dt[0][0],this.b=dt[1][0],this.c=dt[0][1],this.d=dt[1][1],this.e=dt[0][2],this.f=dt[1][2]},B.invert=function(){var le=this,ye=le.a*le.d-le.b*le.c;return new et(le.d/ye,-le.b/ye,-le.c/ye,le.a/ye,(le.c*le.f-le.d*le.e)/ye,(le.b*le.e-le.a*le.f)/ye)},B.clone=function(){return new et(this.a,this.b,this.c,this.d,this.e,this.f)},B.translate=function(le,ye){this.add(1,0,0,1,le,ye)},B.scale=function(le,ye,Ie,Ce){null==ye&&(ye=le),(Ie||Ce)&&this.add(1,0,0,1,Ie,Ce),this.add(le,0,0,ye,0,0),(Ie||Ce)&&this.add(1,0,0,1,-Ie,-Ce)},B.rotate=function(le,ye,Ie){le=z.rad(le),ye=ye||0,Ie=Ie||0;var Ce=+f.cos(le).toFixed(9),ze=+f.sin(le).toFixed(9);this.add(Ce,ze,-ze,Ce,ye,Ie),this.add(1,0,0,1,-ye,-Ie)},B.x=function(le,ye){return le*this.a+ye*this.c+this.e},B.y=function(le,ye){return le*this.b+ye*this.d+this.f},B.get=function(le){return+this[g.fromCharCode(97+le)].toFixed(4)},B.toString=function(){return z.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},B.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},B.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},B.split=function(){var le={};le.dx=this.e,le.dy=this.f;var ye=[[this.a,this.c],[this.b,this.d]];le.scalex=f.sqrt(V(ye[0])),te(ye[0]),le.shear=ye[0][0]*ye[1][0]+ye[0][1]*ye[1][1],ye[1]=[ye[1][0]-ye[0][0]*le.shear,ye[1][1]-ye[0][1]*le.shear],le.scaley=f.sqrt(V(ye[1])),te(ye[1]),le.shear/=le.scaley;var Ie=-ye[0][1],Ce=ye[1][1];return Ce<0?(le.rotate=z.deg(f.acos(Ce)),Ie<0&&(le.rotate=360-le.rotate)):le.rotate=z.deg(f.asin(Ie)),le.isSimple=!(+le.shear.toFixed(9)||le.scalex.toFixed(9)!=le.scaley.toFixed(9)&&le.rotate),le.isSuperSimple=!+le.shear.toFixed(9)&&le.scalex.toFixed(9)==le.scaley.toFixed(9)&&!le.rotate,le.noRotation=!+le.shear.toFixed(9)&&!le.rotate,le},B.toTransformString=function(le){var ye=le||this[p]();return ye.isSimple?(ye.scalex=+ye.scalex.toFixed(4),ye.scaley=+ye.scaley.toFixed(4),ye.rotate=+ye.rotate.toFixed(4),(ye.dx||ye.dy?"t"+[ye.dx,ye.dy]:M)+(1!=ye.scalex||1!=ye.scaley?"s"+[ye.scalex,ye.scaley,0,0]:M)+(ye.rotate?"r"+[ye.rotate,0,0]:M)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(et.prototype);var G=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);fe.safari="Apple Computer, Inc."==navigator.vendor&&(G&&G[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&G&&G[1]<8?function(){var B=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){B.remove()})}:function(){};for(var ee=function(){this.returnValue=!1},pe=function(){return this.originalEvent.preventDefault()},W=function(){this.cancelBubble=!0},be=function(){return this.originalEvent.stopPropagation()},Bt=function(B){return{x:B.clientX+(_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft),y:B.clientY+(_.doc.documentElement.scrollTop||_.doc.body.scrollTop)}},Pt=_.doc.addEventListener?function(B,V,te,le){var ye=function(Ce){var ze=Bt(Ce);return te.call(le,Ce,ze.x,ze.y)};return B.addEventListener(V,ye,!1),v&&r[V]&&B.addEventListener(r[V],function(Ce){for(var ze=Bt(Ce),We=Ce,dt=0,Mt=Ce.targetTouches&&Ce.targetTouches.length;dt<Mt;dt++)if(Ce.targetTouches[dt].target==B){(Ce=Ce.targetTouches[dt]).originalEvent=We,Ce.preventDefault=pe,Ce.stopPropagation=be;break}return te.call(le,Ce,ze.x,ze.y)},!1),function(){return B.removeEventListener(V,ye,!1),v&&r[V]&&B.removeEventListener(r[V],ye,!1),!0}}:_.doc.attachEvent?function(B,V,te,le){var ye=function(Ce){var dt=(Ce=Ce||_.win.event).clientX+(_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft),Mt=Ce.clientY+(_.doc.documentElement.scrollTop||_.doc.body.scrollTop);return Ce.preventDefault=Ce.preventDefault||ee,Ce.stopPropagation=Ce.stopPropagation||W,te.call(le,Ce,dt,Mt)};return B.attachEvent("on"+V,ye),function(){return B.detachEvent("on"+V,ye),!0}}:void 0,dn=[],Mn=function(B){for(var Ie,V=B.clientX,te=B.clientY,le=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,ye=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft,Ce=dn.length;Ce--;){if(Ie=dn[Ce],v&&B.touches){for(var We,ze=B.touches.length;ze--;)if((We=B.touches[ze]).identifier==Ie.el._drag.id){V=We.clientX,te=We.clientY,(B.originalEvent?B.originalEvent:B).preventDefault();break}}else B.preventDefault();var Mt,dt=Ie.el.node,rt=dt.nextSibling,ht=dt.parentNode,Rt=dt.style.display;_.win.opera&&ht.removeChild(dt),dt.style.display="none",Mt=Ie.el.paper.getElementByPoint(V,te),dt.style.display=Rt,_.win.opera&&(rt?ht.insertBefore(dt,rt):ht.appendChild(dt)),Mt&&hn("raphael.drag.over."+Ie.el.id,Ie.el,Mt),hn("raphael.drag.move."+Ie.el.id,Ie.move_scope||Ie.el,(V+=ye)-Ie.el._drag.x,(te+=le)-Ie.el._drag.y,V,te,B)}},fn=function(B){z.unmousemove(Mn).unmouseup(fn);for(var te,V=dn.length;V--;)(te=dn[V]).el._drag={},hn("raphael.drag.end."+te.el.id,te.end_scope||te.start_scope||te.move_scope||te.el,B);dn=[]},ln=z.el={},Tn=x.length;Tn--;)!function(B){z[B]=ln[B]=function(V,te){return z.is(V,"function")&&(this.events=this.events||[],this.events.push({name:B,f:V,unbind:Pt(this.shape||this.node||_.doc,B,V,te||this)})),this},z["un"+B]=ln["un"+B]=function(V){for(var te=this.events||[],le=te.length;le--;)te[le].name==B&&(z.is(V,"undefined")||te[le].f==V)&&(te[le].unbind(),te.splice(le,1),!te.length&&delete this.events);return this}}(x[Tn]);ln.data=function(B,V){var te=tt[this.id]=tt[this.id]||{};if(0==arguments.length)return te;if(1==arguments.length){if(z.is(B,"object")){for(var le in B)B[Oe](le)&&this.data(le,B[le]);return this}return hn("raphael.data.get."+this.id,this,te[B],B),te[B]}return te[B]=V,hn("raphael.data.set."+this.id,this,V,B),this},ln.removeData=function(B){return null==B?tt[this.id]={}:tt[this.id]&&delete tt[this.id][B],this},ln.getData=function(){return ae(tt[this.id]||{})},ln.hover=function(B,V,te,le){return this.mouseover(B,te).mouseout(V,le||te)},ln.unhover=function(B,V){return this.unmouseover(B).unmouseout(V)};var Qn=[];function _r(){return this.x+h+this.y+h+this.width+" \xd7 "+this.height}ln.drag=function(B,V,te,le,ye,Ie){function Ce(ze){(ze.originalEvent||ze).preventDefault();var We=ze.clientX,dt=ze.clientY,Mt=_.doc.documentElement.scrollTop||_.doc.body.scrollTop,rt=_.doc.documentElement.scrollLeft||_.doc.body.scrollLeft;if(this._drag.id=ze.identifier,v&&ze.touches)for(var Rt,ht=ze.touches.length;ht--;)if(this._drag.id=(Rt=ze.touches[ht]).identifier,Rt.identifier==this._drag.id){We=Rt.clientX,dt=Rt.clientY;break}this._drag.x=We+rt,this._drag.y=dt+Mt,!dn.length&&z.mousemove(Mn).mouseup(fn),dn.push({el:this,move_scope:le,start_scope:ye,end_scope:Ie}),V&&hn.on("raphael.drag.start."+this.id,V),B&&hn.on("raphael.drag.move."+this.id,B),te&&hn.on("raphael.drag.end."+this.id,te),hn("raphael.drag.start."+this.id,ye||le||this,ze.clientX+rt,ze.clientY+Mt,ze)}return this._drag={},Qn.push({el:this,start:Ce}),this.mousedown(Ce),this},ln.onDragOver=function(B){B?hn.on("raphael.drag.over."+this.id,B):hn.unbind("raphael.drag.over."+this.id)},ln.undrag=function(){for(var B=Qn.length;B--;)Qn[B].el==this&&(this.unmousedown(Qn[B].start),Qn.splice(B,1),hn.unbind("raphael.drag.*."+this.id));!Qn.length&&z.unmousemove(Mn).unmouseup(fn),dn=[]},fe.circle=function(B,V,te){var le=z._engine.circle(this,B||0,V||0,te||0);return this.__set__&&this.__set__.push(le),le},fe.rect=function(B,V,te,le,ye){var Ie=z._engine.rect(this,B||0,V||0,te||0,le||0,ye||0);return this.__set__&&this.__set__.push(Ie),Ie},fe.ellipse=function(B,V,te,le){var ye=z._engine.ellipse(this,B||0,V||0,te||0,le||0);return this.__set__&&this.__set__.push(ye),ye},fe.path=function(B){B&&!z.is(B,l)&&!z.is(B[0],d)&&(B+=M);var V=z._engine.path(z.format[re](z,arguments),this);return this.__set__&&this.__set__.push(V),V},fe.image=function(B,V,te,le,ye){var Ie=z._engine.image(this,B||"about:blank",V||0,te||0,le||0,ye||0);return this.__set__&&this.__set__.push(Ie),Ie},fe.text=function(B,V,te){var le=z._engine.text(this,B||0,V||0,g(te));return this.__set__&&this.__set__.push(le),le},fe.set=function(B){!z.is(B,"array")&&(B=Array.prototype.splice.call(arguments,0,arguments.length));var V=new Wi(B);return this.__set__&&this.__set__.push(V),V.paper=this,V.type="set",V},fe.setStart=function(B){this.__set__=B||this.set()},fe.setFinish=function(B){var V=this.__set__;return delete this.__set__,V},fe.setSize=function(B,V){return z._engine.setSize.call(this,B,V)},fe.setViewBox=function(B,V,te,le,ye){return z._engine.setViewBox.call(this,B,V,te,le,ye)},fe.top=fe.bottom=null,fe.raphael=z,fe.getElementByPoint=function(B,V){var le=this.canvas,ye=_.doc.elementFromPoint(B,V);if(_.win.opera&&"svg"==ye.tagName){var Ie=function(B){var V=B.getBoundingClientRect(),te=B.ownerDocument,le=te.body,ye=te.documentElement;return{y:V.top+(_.win.pageYOffset||ye.scrollTop||le.scrollTop)-(ye.clientTop||le.clientTop||0),x:V.left+(_.win.pageXOffset||ye.scrollLeft||le.scrollLeft)-(ye.clientLeft||le.clientLeft||0)}}(le),Ce=le.createSVGRect();Ce.x=B-Ie.x,Ce.y=V-Ie.y,Ce.width=Ce.height=1;var ze=le.getIntersectionList(Ce,null);ze.length&&(ye=ze[ze.length-1])}if(!ye)return null;for(;ye.parentNode&&ye!=le.parentNode&&!ye.raphael;)ye=ye.parentNode;return ye==this.canvas.parentNode&&(ye=le),ye&&ye.raphael?this.getById(ye.raphaelid):null},fe.getElementsByBBox=function(B){var V=this.set();return this.forEach(function(te){z.isBBoxIntersect(te.getBBox(),B)&&V.push(te)}),V},fe.getById=function(B){for(var V=this.bottom;V;){if(V.id==B)return V;V=V.next}return null},fe.forEach=function(B,V){for(var te=this.bottom;te;){if(!1===B.call(V,te))return this;te=te.next}return this},fe.getElementsByPoint=function(B,V){var te=this.set();return this.forEach(function(le){le.isPointInside(B,V)&&te.push(le)}),te},ln.isPointInside=function(B,V){var te=this.realPath=ft[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(te=z.transformPath(te,this.attr("transform"))),z.isPointInsidePath(te,B,V)},ln.getBBox=function(B){if(this.removed)return{};var V=this._;return B?((V.dirty||!V.bboxwt)&&(this.realPath=ft[this.type](this),V.bboxwt=vr(this.realPath),V.bboxwt.toString=_r,V.dirty=0),V.bboxwt):((V.dirty||V.dirtyT||!V.bbox)&&((V.dirty||!this.realPath)&&(V.bboxwt=0,this.realPath=ft[this.type](this)),V.bbox=vr(Y(this.realPath,this.matrix)),V.bbox.toString=_r,V.dirty=V.dirtyT=0),V.bbox)},ln.clone=function(){if(this.removed)return null;var B=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(B),B},ln.glow=function(B){if("text"==this.type)return null;var V={width:((B=B||{}).width||10)+(+this.attr("stroke-width")||1),fill:B.fill||!1,opacity:B.opacity||.5,offsetx:B.offsetx||0,offsety:B.offsety||0,color:B.color||"#000"},te=V.width/2,le=this.paper,ye=le.set(),Ie=this.realPath||ft[this.type](this);Ie=this.matrix?Y(Ie,this.matrix):Ie;for(var Ce=1;Ce<te+1;Ce++)ye.push(le.path(Ie).attr({stroke:V.color,fill:V.fill?V.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(V.width/te*Ce).toFixed(3),opacity:+(V.opacity/te).toFixed(3)}));return ye.insertBefore(this).translate(V.offsetx,V.offsety)};var Or=function(B,V,te,le,ye,Ie,Ce,ze,We){return null==We?Cn(B,V,te,le,ye,Ie,Ce,ze):z.findDotsAtSegment(B,V,te,le,ye,Ie,Ce,ze,function Bn(B,V,te,le,ye,Ie,Ce,ze,We){if(!(We<0||Cn(B,V,te,le,ye,Ie,Ce,ze)<We)){var ht,Mt=.5,rt=1-Mt;for(ht=Cn(B,V,te,le,ye,Ie,Ce,ze,rt);i(ht-We)>.01;)ht=Cn(B,V,te,le,ye,Ie,Ce,ze,rt+=(ht<We?1:-1)*(Mt/=2));return rt}}(B,V,te,le,ye,Ie,Ce,ze,We))},kr=function(B,V){return function(te,le,ye){for(var Ie,Ce,ze,We,rt,dt="",Mt={},ht=0,Rt=0,Ft=(te=$t(te)).length;Rt<Ft;Rt++){if("M"==(ze=te[Rt])[0])Ie=+ze[1],Ce=+ze[2];else{if(ht+(We=Or(Ie,Ce,ze[1],ze[2],ze[3],ze[4],ze[5],ze[6]))>le){if(V&&!Mt.start){if(dt+=["C"+(rt=Or(Ie,Ce,ze[1],ze[2],ze[3],ze[4],ze[5],ze[6],le-ht)).start.x,rt.start.y,rt.m.x,rt.m.y,rt.x,rt.y],ye)return dt;Mt.start=dt,dt=["M"+rt.x,rt.y+"C"+rt.n.x,rt.n.y,rt.end.x,rt.end.y,ze[5],ze[6]].join(),ht+=We,Ie=+ze[5],Ce=+ze[6];continue}if(!B&&!V)return{x:(rt=Or(Ie,Ce,ze[1],ze[2],ze[3],ze[4],ze[5],ze[6],le-ht)).x,y:rt.y,alpha:rt.alpha}}ht+=We,Ie=+ze[5],Ce=+ze[6]}dt+=ze.shift()+ze}return Mt.end=dt,(rt=B?ht:V?Mt:z.findDotsAtSegment(Ie,Ce,ze[0],ze[1],ze[2],ze[3],ze[4],ze[5],1)).alpha&&(rt={x:rt.x,y:rt.y,alpha:rt.alpha}),rt}},br=kr(1),ri=kr(),ti=kr(0,1);z.getTotalLength=br,z.getPointAtLength=ri,z.getSubpath=function(B,V,te){if(this.getTotalLength(B)-te<1e-6)return ti(B,V).end;var le=ti(B,te,1);return V?ti(le,V).end:le},ln.getTotalLength=function(){var B=this.getPath();if(B)return this.node.getTotalLength?this.node.getTotalLength():br(B)},ln.getPointAtLength=function(B){var V=this.getPath();if(V)return ri(V,B)},ln.getPath=function(){var B,V=z._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return V&&(B=V(this)),B},ln.getSubpath=function(B,V){var te=this.getPath();if(te)return z.getSubpath(te,B,V)};var Dr=z.easing_formulas={linear:function(B){return B},"<":function(B){return s(B,1.7)},">":function(B){return s(B,.48)},"<>":function(B){var V=.48-B/1.04,te=f.sqrt(.1734+V*V),le=te-V,Ie=-te-V,ze=s(i(le),1/3)*(le<0?-1:1)+s(i(Ie),1/3)*(Ie<0?-1:1)+.5;return 3*(1-ze)*ze*ze+ze*ze*ze},backIn:function(B){var V=1.70158;return B*B*((V+1)*B-V)},backOut:function(B){var V=1.70158;return(B-=1)*B*((V+1)*B+V)+1},elastic:function(B){return B==!!B?B:s(2,-10*B)*f.sin(2*u*(B-.075)/.3)+1},bounce:function(B){var V=7.5625,te=2.75;return B<1/te?V*B*B:B<2/te?V*(B-=1.5/te)*B+.75:B<2.5/te?V*(B-=2.25/te)*B+.9375:V*(B-=2.625/te)*B+.984375}};Dr.easeIn=Dr["ease-in"]=Dr["<"],Dr.easeOut=Dr["ease-out"]=Dr[">"],Dr.easeInOut=Dr["ease-in-out"]=Dr["<>"],Dr["back-in"]=Dr.backIn,Dr["back-out"]=Dr.backOut;var Jn=[],Er=Nt.requestAnimationFrame||Nt.webkitRequestAnimationFrame||Nt.mozRequestAnimationFrame||Nt.oRequestAnimationFrame||Nt.msRequestAnimationFrame||function(B){setTimeout(B,16)},wi=function(){for(var B=+new Date,V=0;V<Jn.length;V++){var te=Jn[V];if(!te.el.removed&&!te.paused){var ht,Ft,le=B-te.start,ye=te.ms,Ie=te.easing,Ce=te.from,ze=te.diff,We=te.to,Mt=te.el,rt={},Rt={};if(te.initstatus?(le=(te.initstatus*te.anim.top-te.prev)/(te.percent-te.prev)*ye,te.status=te.initstatus,delete te.initstatus,te.stop&&Jn.splice(V--,1)):te.status=(te.prev+le/ye*(te.percent-te.prev))/te.anim.top,!(le<0))if(le<ye){var xt=Ie(le/ye);for(var Lt in Ce)if(Ce[Oe](Lt)){switch(C[Lt]){case o:ht=+Ce[Lt]+xt*ye*ze[Lt];break;case"colour":ht="rgb("+[si(Ae(Ce[Lt].r+xt*ye*ze[Lt].r)),si(Ae(Ce[Lt].g+xt*ye*ze[Lt].g)),si(Ae(Ce[Lt].b+xt*ye*ze[Lt].b))].join(",")+")";break;case"path":ht=[];for(var It=0,on=Ce[Lt].length;It<on;It++){ht[It]=[Ce[Lt][It][0]];for(var Kt=1,Qt=Ce[Lt][It].length;Kt<Qt;Kt++)ht[It][Kt]=+Ce[Lt][It][Kt]+xt*ye*ze[Lt][It][Kt];ht[It]=ht[It].join(h)}ht=ht.join(h);break;case"transform":if(ze[Lt].real)for(ht=[],It=0,on=Ce[Lt].length;It<on;It++)for(ht[It]=[Ce[Lt][It][0]],Kt=1,Qt=Ce[Lt][It].length;Kt<Qt;Kt++)ht[It][Kt]=Ce[Lt][It][Kt]+xt*ye*ze[Lt][It][Kt];else{var Pn=function(zr){return+Ce[Lt][zr]+xt*ye*ze[Lt][zr]};ht=[["m",Pn(0),Pn(1),Pn(2),Pn(3),Pn(4),Pn(5)]]}break;case"csv":if("clip-rect"==Lt)for(ht=[],It=4;It--;)ht[It]=+Ce[Lt][It]+xt*ye*ze[Lt][It];break;default:var Pr=[][ve](Ce[Lt]);for(ht=[],It=Mt.paper.customAttributes[Lt].length;It--;)ht[It]=+Pr[It]+xt*ye*ze[Lt][It]}rt[Lt]=ht}Mt.attr(rt),function(zr,dr,fr){setTimeout(function(){hn("raphael.anim.frame."+zr,dr,fr)})}(Mt.id,Mt,te.anim)}else{if(function(zr,dr,fr){setTimeout(function(){hn("raphael.anim.frame."+dr.id,dr,fr),hn("raphael.anim.finish."+dr.id,dr,fr),z.is(zr,"function")&&zr.call(dr)})}(te.callback,Mt,te.anim),Mt.attr(We),Jn.splice(V--,1),te.repeat>1&&!te.next){for(Ft in We)We[Oe](Ft)&&(Rt[Ft]=te.totalOrigin[Ft]);te.el.attr(Rt),Hi(te.anim,te.el,te.anim.percents[0],null,te.totalOrigin,te.repeat-1)}te.next&&!te.stop&&Hi(te.anim,te.el,te.next,null,te.totalOrigin,te.repeat)}}}z.svg&&Mt&&Mt.paper&&Mt.paper.safari(),Jn.length&&Er(wi)},si=function(B){return B>255?255:B<0?0:B};function Bi(B,V){var te=[],le={};if(this.ms=V,this.times=1,B){for(var ye in B)B[Oe](ye)&&(le[A(ye)]=B[ye],te.push(A(ye)));te.sort(zt)}this.anim=le,this.top=te[te.length-1],this.percents=te}function Hi(B,V,te,le,ye,Ie){te=A(te);var Ce,ze,We,Mt,rt,ht,Rt=B.ms,Ft={},xt={},Lt={};if(le)for(on=0,Kt=Jn.length;on<Kt;on++){var It=Jn[on];if(It.el.id==V.id&&It.anim==B){It.percent!=te?(Jn.splice(on,1),We=1):ze=It,V.attr(It.totalOrigin);break}}else le=+xt;for(var on=0,Kt=B.percents.length;on<Kt;on++){if(B.percents[on]==te||B.percents[on]>le*B.top){Rt=Rt/B.top*((te=B.percents[on])-(rt=B.percents[on-1]||0)),Mt=B.percents[on+1],Ce=B.anim[te];break}le&&V.attr(B.anim[B.percents[on]])}if(Ce){if(ze)ze.initstatus=le,ze.start=new Date-ze.ms*le;else{for(var Qt in Ce)if(Ce[Oe](Qt)&&(C[Oe](Qt)||V.paper.customAttributes[Oe](Qt)))switch(Ft[Qt]=V.attr(Qt),null==Ft[Qt]&&(Ft[Qt]=y[Qt]),xt[Qt]=Ce[Qt],C[Qt]){case o:Lt[Qt]=(xt[Qt]-Ft[Qt])/Rt;break;case"colour":Ft[Qt]=z.getRGB(Ft[Qt]);var Pn=z.getRGB(xt[Qt]);Lt[Qt]={r:(Pn.r-Ft[Qt].r)/Rt,g:(Pn.g-Ft[Qt].g)/Rt,b:(Pn.b-Ft[Qt].b)/Rt};break;case"path":var Pr=$t(Ft[Qt],xt[Qt]),zr=Pr[1];for(Ft[Qt]=Pr[0],Lt[Qt]=[],on=0,Kt=Ft[Qt].length;on<Kt;on++){Lt[Qt][on]=[0];for(var dr=1,fr=Ft[Qt][on].length;dr<fr;dr++)Lt[Qt][on][dr]=(zr[on][dr]-Ft[Qt][on][dr])/Rt}break;case"transform":var gr=V._,fi=Yn(gr[Qt],xt[Qt]);if(fi)for(Ft[Qt]=fi.from,xt[Qt]=fi.to,Lt[Qt]=[],Lt[Qt].real=!0,on=0,Kt=Ft[Qt].length;on<Kt;on++)for(Lt[Qt][on]=[Ft[Qt][on][0]],dr=1,fr=Ft[Qt][on].length;dr<fr;dr++)Lt[Qt][on][dr]=(xt[Qt][on][dr]-Ft[Qt][on][dr])/Rt;else{var Ue=V.matrix||new et,yt={_:{transform:gr.transform},getBBox:function(){return V.getBBox(1)}};Ft[Qt]=[Ue.a,Ue.b,Ue.c,Ue.d,Ue.e,Ue.f],er(yt,xt[Qt]),xt[Qt]=yt._.transform,Lt[Qt]=[(yt.matrix.a-Ue.a)/Rt,(yt.matrix.b-Ue.b)/Rt,(yt.matrix.c-Ue.c)/Rt,(yt.matrix.d-Ue.d)/Rt,(yt.matrix.e-Ue.e)/Rt,(yt.matrix.f-Ue.f)/Rt]}break;case"csv":var Ot=g(Ce[Qt])[p](mt),en=g(Ft[Qt])[p](mt);if("clip-rect"==Qt)for(Ft[Qt]=en,Lt[Qt]=[],on=en.length;on--;)Lt[Qt][on]=(Ot[on]-Ft[Qt][on])/Rt;xt[Qt]=Ot;break;default:for(Ot=[][ve](Ce[Qt]),en=[][ve](Ft[Qt]),Lt[Qt]=[],on=V.paper.customAttributes[Qt].length;on--;)Lt[Qt][on]=((Ot[on]||0)-(en[on]||0))/Rt}var qn=Ce.easing,je=z.easing_formulas[qn];if(!je)if((je=g(qn).match(he))&&5==je.length){var Te=je;je=function(pt){return function lo(B,V,te,le,ye,Ie){var Ce=3*V,ze=3*(le-V)-Ce,We=1-Ce-ze,dt=3*te,Mt=3*(ye-te)-dt,rt=1-dt-Mt;function ht(xt){return((We*xt+ze)*xt+Ce)*xt}return function Rt(xt,Lt){var It=function Ft(xt,Lt){var It,on,Kt,Qt,Pn,Pr;for(Kt=xt,Pr=0;Pr<8;Pr++){if(Qt=ht(Kt)-xt,i(Qt)<Lt)return Kt;if(i(Pn=(3*We*Kt+2*ze)*Kt+Ce)<1e-6)break;Kt-=Qt/Pn}if((Kt=xt)<(It=0))return It;if(Kt>(on=1))return on;for(;It<on;){if(Qt=ht(Kt),i(Qt-xt)<Lt)return Kt;xt>Qt?It=Kt:on=Kt,Kt=(on-It)/2+It}return Kt}(xt,Lt);return((rt*It+Mt)*It+dt)*It}(B,1/(200*Ie))}(pt,+Te[1],+Te[2],+Te[3],+Te[4],Rt)}}else je=Jt;if(It={anim:B,percent:te,timestamp:ht=Ce.start||B.start||+new Date,start:ht+(B.del||0),status:0,initstatus:le||0,stop:!1,ms:Rt,easing:je,from:Ft,diff:Lt,to:xt,el:V,callback:Ce.callback,prev:rt,next:Mt,repeat:Ie||B.times,origin:V.attr(),totalOrigin:ye},Jn.push(It),le&&!ze&&!We&&(It.stop=!0,It.start=new Date-Rt*le,1==Jn.length))return wi();We&&(It.start=new Date-It.ms*le),1==Jn.length&&Er(wi)}hn("raphael.anim.start."+V.id,V,B)}}function Ci(B){for(var V=0;V<Jn.length;V++)Jn[V].el.paper==B&&Jn.splice(V--,1)}ln.animateWith=function(B,V,te,le,ye,Ie){var Ce=this;if(Ce.removed)return Ie&&Ie.call(Ce),Ce;var ze=te instanceof Bi?te:z.animation(te,le,ye,Ie);Hi(ze,Ce,ze.percents[0],null,Ce.attr());for(var Mt=0,rt=Jn.length;Mt<rt;Mt++)if(Jn[Mt].anim==V&&Jn[Mt].el==B){Jn[rt-1].start=Jn[Mt].start;break}return Ce},ln.onAnimation=function(B){return B?hn.on("raphael.anim.frame."+this.id,B):hn.unbind("raphael.anim.frame."+this.id),this},Bi.prototype.delay=function(B){var V=new Bi(this.anim,this.ms);return V.times=this.times,V.del=+B||0,V},Bi.prototype.repeat=function(B){var V=new Bi(this.anim,this.ms);return V.del=this.del,V.times=f.floor(n(B,0))||1,V},z.animation=function(B,V,te,le){if(B instanceof Bi)return B;(z.is(te,"function")||!te)&&(le=le||te||null,te=null),B=Object(B),V=+V||0;var Ie,Ce,ye={};for(Ce in B)B[Oe](Ce)&&A(Ce)!=Ce&&A(Ce)+"%"!=Ce&&(Ie=!0,ye[Ce]=B[Ce]);return Ie?(te&&(ye.easing=te),le&&(ye.callback=le),new Bi({100:ye},V)):new Bi(B,V)},ln.animate=function(B,V,te,le){var ye=this;if(ye.removed)return le&&le.call(ye),ye;var Ie=B instanceof Bi?B:z.animation(B,V,te,le);return Hi(Ie,ye,Ie.percents[0],null,ye.attr()),ye},ln.setTime=function(B,V){return B&&null!=V&&this.status(B,t(V,B.ms)/B.ms),this},ln.status=function(B,V){var ye,Ie,te=[],le=0;if(null!=V)return Hi(B,this,-1,t(V,1)),this;for(ye=Jn.length;le<ye;le++)if((Ie=Jn[le]).el.id==this.id&&(!B||Ie.anim==B)){if(B)return Ie.status;te.push({anim:Ie.anim,status:Ie.status})}return B?0:te},ln.pause=function(B){for(var V=0;V<Jn.length;V++)Jn[V].el.id==this.id&&(!B||Jn[V].anim==B)&&!1!==hn("raphael.anim.pause."+this.id,this,Jn[V].anim)&&(Jn[V].paused=!0);return this},ln.resume=function(B){for(var V=0;V<Jn.length;V++)if(Jn[V].el.id==this.id&&(!B||Jn[V].anim==B)){var te=Jn[V];!1!==hn("raphael.anim.resume."+this.id,this,te.anim)&&(delete te.paused,this.status(te.anim,te.status))}return this},ln.stop=function(B){for(var V=0;V<Jn.length;V++)Jn[V].el.id==this.id&&(!B||Jn[V].anim==B)&&!1!==hn("raphael.anim.stop."+this.id,this,Jn[V].anim)&&Jn.splice(V--,1);return this},hn.on("raphael.remove",Ci),hn.on("raphael.clear",Ci),ln.toString=function(){return"Rapha\xebl\u2019s object"};var Wi=function(B){if(this.items=[],this.length=0,this.type="set",B)for(var V=0,te=B.length;V<te;V++)B[V]&&(B[V].constructor==ln.constructor||B[V].constructor==Wi)&&(this[this.items.length]=this.items[this.items.length]=B[V],this.length++)},ii=Wi.prototype;for(var wo in ii.push=function(){for(var B,V,te=0,le=arguments.length;te<le;te++)(B=arguments[te])&&(B.constructor==ln.constructor||B.constructor==Wi)&&(this[V=this.items.length]=this.items[V]=B,this.length++);return this},ii.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ii.forEach=function(B,V){for(var te=0,le=this.items.length;te<le;te++)if(!1===B.call(V,this.items[te],te))return this;return this},ln)ln[Oe](wo)&&(ii[wo]=function(B){return function(){var V=arguments;return this.forEach(function(te){te[B][re](te,V)})}}(wo));return ii.attr=function(B,V){if(B&&z.is(B,d)&&z.is(B[0],"object"))for(var te=0,le=B.length;te<le;te++)this.items[te].attr(B[te]);else for(var ye=0,Ie=this.items.length;ye<Ie;ye++)this.items[ye].attr(B,V);return this},ii.clear=function(){for(;this.length;)this.pop()},ii.splice=function(B,V,te){B=B<0?n(this.length+B,0):B,V=n(0,t(this.length-B,V));var Ce,le=[],ye=[],Ie=[];for(Ce=2;Ce<arguments.length;Ce++)Ie.push(arguments[Ce]);for(Ce=0;Ce<V;Ce++)ye.push(this[B+Ce]);for(;Ce<this.length-B;Ce++)le.push(this[B+Ce]);var ze=Ie.length;for(Ce=0;Ce<ze+le.length;Ce++)this.items[B+Ce]=this[B+Ce]=Ce<ze?Ie[Ce]:le[Ce-ze];for(Ce=this.items.length=this.length-=V-ze;this[Ce];)delete this[Ce++];return new Wi(ye)},ii.exclude=function(B){for(var V=0,te=this.length;V<te;V++)if(this[V]==B)return this.splice(V,1),!0},ii.animate=function(B,V,te,le){(z.is(te,"function")||!te)&&(le=te||null);var Ce,We,ye=this.items.length,Ie=ye,ze=this;if(!ye)return this;le&&(We=function(){!--ye&&le.call(ze)}),te=z.is(te,l)?te:We;var dt=z.animation(B,V,te,We);for(Ce=this.items[--Ie].animate(dt);Ie--;)this.items[Ie]&&!this.items[Ie].removed&&this.items[Ie].animateWith(Ce,dt,dt),this.items[Ie]&&!this.items[Ie].removed||ye--;return this},ii.insertAfter=function(B){for(var V=this.items.length;V--;)this.items[V].insertAfter(B);return this},ii.getBBox=function(){for(var B=[],V=[],te=[],le=[],ye=this.items.length;ye--;)if(!this.items[ye].removed){var Ie=this.items[ye].getBBox();B.push(Ie.x),V.push(Ie.y),te.push(Ie.x+Ie.width),le.push(Ie.y+Ie.height)}return{x:B=t[re](0,B),y:V=t[re](0,V),x2:te=n[re](0,te),y2:le=n[re](0,le),width:te-B,height:le-V}},ii.clone=function(B){B=this.paper.set();for(var V=0,te=this.items.length;V<te;V++)B.push(this.items[V].clone());return B},ii.toString=function(){return"Rapha\xebl\u2018s set"},ii.glow=function(B){var V=this.paper.set();return this.forEach(function(te,le){var ye=te.glow(B);null!=ye&&ye.forEach(function(Ie,Ce){V.push(Ie)})}),V},ii.isPointInside=function(B,V){var te=!1;return this.forEach(function(le){if(le.isPointInside(B,V))return console.log("runned"),te=!0,!1}),te},z.registerFont=function(B){if(!B.face)return B;this.fonts=this.fonts||{};var V={w:B.w,face:{},glyphs:{}},te=B.face["font-family"];for(var le in B.face)B.face[Oe](le)&&(V.face[le]=B.face[le]);if(this.fonts[te]?this.fonts[te].push(V):this.fonts[te]=[V],!B.svg)for(var ye in V.face["units-per-em"]=N(B.face["units-per-em"],10),B.glyphs)if(B.glyphs[Oe](ye)){var Ie=B.glyphs[ye];if(V.glyphs[ye]={w:Ie.w,k:{},d:Ie.d&&"M"+Ie.d.replace(/[mlcxtrv]/g,function(ze){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[ze]||"M"})+"z"},Ie.k)for(var Ce in Ie.k)Ie[Oe](Ce)&&(V.glyphs[ye].k[Ce]=Ie.k[Ce])}return B},fe.getFont=function(B,V,te,le){if(le=le||"normal",te=te||"normal",V=+V||{normal:400,bold:700,lighter:300,bolder:800}[V]||400,z.fonts){var ze,ye=z.fonts[B];if(!ye){var Ie=new RegExp("(^|\\s)"+B.replace(/[^\w\d\s+!~.:_-]/g,M)+"(\\s|$)","i");for(var Ce in z.fonts)if(z.fonts[Oe](Ce)&&Ie.test(Ce)){ye=z.fonts[Ce];break}}if(ye)for(var We=0,dt=ye.length;We<dt&&((ze=ye[We]).face["font-weight"]!=V||ze.face["font-style"]!=te&&ze.face["font-style"]||ze.face["font-stretch"]!=le);We++);return ze}},fe.print=function(B,V,te,le,ye,Ie,Ce,ze){Ie=Ie||"middle",Ce=n(t(Ce||0,1),-1),ze=n(t(ze||1,3),1);var ht,We=g(te)[p](M),dt=0,Mt=0,rt=M;if(z.is(le,"string")&&(le=this.getFont(le)),le){ht=(ye||16)/le.face["units-per-em"];for(var Rt=le.face.bbox[p](mt),Ft=+Rt[0],xt=Rt[3]-Rt[1],Lt=0,It=+Rt[1]+("baseline"==Ie?xt+ +le.face.descent:xt/2),on=0,Kt=We.length;on<Kt;on++){if("\n"==We[on])dt=0,Pn=0,Mt=0,Lt+=xt*ze;else{var Qt=Mt&&le.glyphs[We[on-1]]||{},Pn=le.glyphs[We[on]];dt+=Mt?(Qt.w||le.w)+(Qt.k&&Qt.k[We[on]]||0)+le.w*Ce:0,Mt=1}Pn&&Pn.d&&(rt+=z.transformPath(Pn.d,["t",dt*ht,Lt*ht,"s",ht,ht,Ft,It,"t",(B-Ft)/ht,(V-It)/ht]))}}return this.path(rt).attr({fill:"#000",stroke:"none"})},fe.add=function(B){if(z.is(B,"array"))for(var ye,V=this.set(),te=0,le=B.length;te<le;te++)bt[Oe]((ye=B[te]||{}).type)&&V.push(this[ye.type]().attr(ye));return V},z.format=function(B,V){var te=z.is(V,d)?[0][ve](V):arguments;return B&&z.is(B,l)&&te.length-1&&(B=B.replace(Z,function(le,ye){return null==te[++ye]?M:te[ye]})),B||M},z.fullfill=function(){var B=/\{([^\}]+)\}/g,V=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;return function(le,ye){return String(le).replace(B,function(Ie,Ce){return function(le,ye,Ie){var Ce=Ie;return ye.replace(V,function(ze,We,dt,Mt,rt){We=We||Mt,Ce&&(We in Ce&&(Ce=Ce[We]),"function"==typeof Ce&&rt&&(Ce=Ce()))}),Ce=(null==Ce||Ce==Ie?le:Ce)+""}(Ie,Ce,ye)})}}(),z.ninja=function(){return ne.was?_.win.Raphael=ne.is:delete Raphael,z},z.st=ii,function(B,V,te){null==B.readyState&&B.addEventListener&&(B.addEventListener(V,te=function(){B.removeEventListener(V,te,!1),B.readyState="complete"},!1),B.readyState="loading"),function le(){/in/.test(B.readyState)?setTimeout(le,9):z.eve("raphael.DOMload")}()}(document,"DOMContentLoaded"),hn.on("raphael.DOMload",function(){wt=!0}),function(){if(z.svg){var B="hasOwnProperty",V=String,te=parseFloat,le=parseInt,ye=Math,Ie=ye.max,Ce=ye.abs,ze=ye.pow,We=/[, ]+/,dt=z.eve,ht="http://www.w3.org/1999/xlink",Rt={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},Ft={};z.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var xt=function(Ue,yt){if(yt)for(var Ot in"string"==typeof Ue&&(Ue=xt(Ue)),yt)yt[B](Ot)&&("xlink:"==Ot.substring(0,6)?Ue.setAttributeNS(ht,Ot.substring(6),V(yt[Ot])):Ue.setAttribute(Ot,V(yt[Ot])));else(Ue=z._g.doc.createElementNS("http://www.w3.org/2000/svg",Ue)).style&&(Ue.style.webkitTapHighlightColor="rgba(0,0,0,0)");return Ue},Lt=function(Ue,yt){var Ot="linear",en=Ue.id+yt,qn=.5,je=.5,Te=Ue.node,pt=Ue.paper,vt=Te.style,qt=z._g.doc.getElementById(en);if(!qt){if(yt=(yt=V(yt).replace(z._radial_gradient,function(Tr,ar,Ur){if(Ot="radial",ar&&Ur){qn=te(ar);var Sr=2*((je=te(Ur))>.5)-1;ze(qn-.5,2)+ze(je-.5,2)>.25&&(je=ye.sqrt(.25-ze(qn-.5,2))*Sr+.5)&&.5!=je&&(je=je.toFixed(5)-1e-5*Sr)}return""})).split(/\s*\-\s*/),"linear"==Ot){var vn=yt.shift();if(vn=-te(vn),isNaN(vn))return null;var an=[0,0,ye.cos(z.rad(vn)),ye.sin(z.rad(vn))],yn=1/(Ie(Ce(an[2]),Ce(an[3]))||1);an[2]*=yn,an[3]*=yn,an[2]<0&&(an[0]=-an[2],an[2]=0),an[3]<0&&(an[1]=-an[3],an[3]=0)}var pn=z._parseDots(yt);if(!pn)return null;if(en=en.replace(/[\(\)\s,\xb0#]/g,"_"),Ue.gradient&&en!=Ue.gradient.id&&(pt.defs.removeChild(Ue.gradient),delete Ue.gradient),!Ue.gradient){qt=xt(Ot+"Gradient",{id:en}),Ue.gradient=qt,xt(qt,"radial"==Ot?{fx:qn,fy:je}:{x1:an[0],y1:an[1],x2:an[2],y2:an[3],gradientTransform:Ue.matrix.invert()}),pt.defs.appendChild(qt);for(var Ln=0,Un=pn.length;Ln<Un;Ln++)qt.appendChild(xt("stop",{offset:pn[Ln].offset?pn[Ln].offset:Ln?"100%":"0%","stop-color":pn[Ln].color||"#fff"}))}}return xt(Te,{fill:"url(#"+en+")",opacity:1,"fill-opacity":1}),vt.fill="",vt.opacity=1,vt.fillOpacity=1,1},It=function(Ue){var yt=Ue.getBBox(1);xt(Ue.pattern,{patternTransform:Ue.matrix.invert()+" translate("+yt.x+","+yt.y+")"})},on=function(Ue,yt,Ot){if("path"==Ue.type){for(var an,yn,pn,Ln,Un,en=V(yt).toLowerCase().split("-"),qn=Ue.paper,je=Ot?"end":"start",Te=Ue.node,pt=Ue.attrs,vt=pt["stroke-width"],qt=en.length,vn="classic",Tr=3,ar=3,Ur=5;qt--;)switch(en[qt]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":vn=en[qt];break;case"wide":ar=5;break;case"narrow":ar=2;break;case"long":Tr=5;break;case"short":Tr=2}if("open"==vn?(Tr+=2,ar+=2,Ur+=2,pn=1,Ln=Ot?4:1,Un={fill:"none",stroke:pt.stroke}):(Ln=pn=Tr/2,Un={fill:pt.stroke,stroke:"none"}),Ue._.arrows?Ot?(Ue._.arrows.endPath&&Ft[Ue._.arrows.endPath]--,Ue._.arrows.endMarker&&Ft[Ue._.arrows.endMarker]--):(Ue._.arrows.startPath&&Ft[Ue._.arrows.startPath]--,Ue._.arrows.startMarker&&Ft[Ue._.arrows.startMarker]--):Ue._.arrows={},"none"!=vn){var Sr="raphael-marker-"+vn,Fr="raphael-marker-"+je+vn+Tr+ar;z._g.doc.getElementById(Sr)?Ft[Sr]++:(qn.defs.appendChild(xt(xt("path"),{"stroke-linecap":"round",d:Rt[vn],id:Sr})),Ft[Sr]=1);var Gr,Mr=z._g.doc.getElementById(Fr);Mr?(Ft[Fr]++,Gr=Mr.getElementsByTagName("use")[0]):(Mr=xt(xt("marker"),{id:Fr,markerHeight:ar,markerWidth:Tr,orient:"auto",refX:Ln,refY:ar/2}),Gr=xt(xt("use"),{"xlink:href":"#"+Sr,transform:(Ot?"rotate(180 "+Tr/2+" "+ar/2+") ":"")+"scale("+Tr/Ur+","+ar/Ur+")","stroke-width":(1/((Tr/Ur+ar/Ur)/2)).toFixed(4)}),Mr.appendChild(Gr),qn.defs.appendChild(Mr),Ft[Fr]=1),xt(Gr,Un);var Ar=pn*("diamond"!=vn&&"oval"!=vn);Ot?(an=Ue._.arrows.startdx*vt||0,yn=z.getTotalLength(pt.path)-Ar*vt):(an=Ar*vt,yn=z.getTotalLength(pt.path)-(Ue._.arrows.enddx*vt||0)),(Un={})["marker-"+je]="url(#"+Fr+")",(yn||an)&&(Un.d=z.getSubpath(pt.path,an,yn)),xt(Te,Un),Ue._.arrows[je+"Path"]=Sr,Ue._.arrows[je+"Marker"]=Fr,Ue._.arrows[je+"dx"]=Ar,Ue._.arrows[je+"Type"]=vn,Ue._.arrows[je+"String"]=yt}else Ot?(an=Ue._.arrows.startdx*vt||0,yn=z.getTotalLength(pt.path)-an):(an=0,yn=z.getTotalLength(pt.path)-(Ue._.arrows.enddx*vt||0)),Ue._.arrows[je+"Path"]&&xt(Te,{d:z.getSubpath(pt.path,an,yn)}),delete Ue._.arrows[je+"Path"],delete Ue._.arrows[je+"Marker"],delete Ue._.arrows[je+"dx"],delete Ue._.arrows[je+"Type"],delete Ue._.arrows[je+"String"];for(Un in Ft)if(Ft[B](Un)&&!Ft[Un]){var oi=z._g.doc.getElementById(Un);oi&&oi.parentNode.removeChild(oi)}}},Kt={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},Qt=function(Ue,yt,Ot){if(yt=Kt[V(yt).toLowerCase()]){for(var en=Ue.attrs["stroke-width"]||"1",qn={round:en,square:en,butt:0}[Ue.attrs["stroke-linecap"]||Ot["stroke-linecap"]]||0,je=[],Te=yt.length;Te--;)je[Te]=yt[Te]*en+(Te%2?1:-1)*qn;xt(Ue.node,{"stroke-dasharray":je.join(",")})}},Pn=function(Ue,yt){var Ot=Ue.node,en=Ue.attrs,qn=Ot.style.visibility;for(var je in Ot.style.visibility="hidden",yt)if(yt[B](je)){if(!z._availableAttrs[B](je))continue;var Te=yt[je];switch(en[je]=Te,je){case"blur":Ue.blur(Te);break;case"href":case"title":var pt=xt("title"),vt=z._g.doc.createTextNode(Te);pt.appendChild(vt),Ot.appendChild(pt);break;case"target":var qt=Ot.parentNode;"a"!=qt.tagName.toLowerCase()&&(pt=xt("a"),qt.insertBefore(pt,Ot),pt.appendChild(Ot),qt=pt),"target"==je?qt.setAttributeNS(ht,"show","blank"==Te?"new":Te):qt.setAttributeNS(ht,je,Te);break;case"cursor":Ot.style.cursor=Te;break;case"transform":Ue.transform(Te);break;case"arrow-start":on(Ue,Te);break;case"arrow-end":on(Ue,Te,1);break;case"clip-rect":var vn=V(Te).split(We);if(4==vn.length){Ue.clip&&Ue.clip.parentNode.parentNode.removeChild(Ue.clip.parentNode);var an=xt("clipPath"),yn=xt("rect");an.id=z.createUUID(),xt(yn,{x:vn[0],y:vn[1],width:vn[2],height:vn[3]}),an.appendChild(yn),Ue.paper.defs.appendChild(an),xt(Ot,{"clip-path":"url(#"+an.id+")"}),Ue.clip=yn}if(!Te){var pn=Ot.getAttribute("clip-path");if(pn){var Ln=z._g.doc.getElementById(pn.replace(/(^url\(#|\)$)/g,""));Ln&&Ln.parentNode.removeChild(Ln),xt(Ot,{"clip-path":""}),delete Ue.clip}}break;case"path":"path"==Ue.type&&(xt(Ot,{d:Te?en.path=z._pathToAbsolute(Te):"M0,0"}),Ue._.dirty=1,Ue._.arrows&&("startString"in Ue._.arrows&&on(Ue,Ue._.arrows.startString),"endString"in Ue._.arrows&&on(Ue,Ue._.arrows.endString,1)));break;case"width":if(Ot.setAttribute(je,Te),Ue._.dirty=1,!en.fx)break;je="x",Te=en.x;case"x":en.fx&&(Te=-en.x-(en.width||0));case"rx":if("rx"==je&&"rect"==Ue.type)break;case"cx":Ot.setAttribute(je,Te),Ue.pattern&&It(Ue),Ue._.dirty=1;break;case"height":if(Ot.setAttribute(je,Te),Ue._.dirty=1,!en.fy)break;je="y",Te=en.y;case"y":en.fy&&(Te=-en.y-(en.height||0));case"ry":if("ry"==je&&"rect"==Ue.type)break;case"cy":Ot.setAttribute(je,Te),Ue.pattern&&It(Ue),Ue._.dirty=1;break;case"r":"rect"==Ue.type?xt(Ot,{rx:Te,ry:Te}):Ot.setAttribute(je,Te),Ue._.dirty=1;break;case"src":"image"==Ue.type&&Ot.setAttributeNS(ht,"href",Te);break;case"stroke-width":(1!=Ue._.sx||1!=Ue._.sy)&&(Te/=Ie(Ce(Ue._.sx),Ce(Ue._.sy))||1),Ue.paper._vbSize&&(Te*=Ue.paper._vbSize),Ot.setAttribute(je,Te),en["stroke-dasharray"]&&Qt(Ue,en["stroke-dasharray"],yt),Ue._.arrows&&("startString"in Ue._.arrows&&on(Ue,Ue._.arrows.startString),"endString"in Ue._.arrows&&on(Ue,Ue._.arrows.endString,1));break;case"stroke-dasharray":Qt(Ue,Te,yt);break;case"fill":var Un=V(Te).match(z._ISURL);if(Un){an=xt("pattern");var Tr=xt("image");an.id=z.createUUID(),xt(an,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),xt(Tr,{x:0,y:0,"xlink:href":Un[1]}),an.appendChild(Tr),function(Mr){z._preload(Un[1],function(){var Gr=this.offsetWidth,Ar=this.offsetHeight;xt(Mr,{width:Gr,height:Ar}),xt(Tr,{width:Gr,height:Ar}),Ue.paper.safari()})}(an),Ue.paper.defs.appendChild(an),xt(Ot,{fill:"url(#"+an.id+")"}),Ue.pattern=an,Ue.pattern&&It(Ue);break}var ar=z.getRGB(Te);if(ar.error){if(("circle"==Ue.type||"ellipse"==Ue.type||"r"!=V(Te).charAt())&&Lt(Ue,Te)){if("opacity"in en||"fill-opacity"in en){var Ur=z._g.doc.getElementById(Ot.getAttribute("fill").replace(/^url\(#|\)$/g,""));if(Ur){var Sr=Ur.getElementsByTagName("stop");xt(Sr[Sr.length-1],{"stop-opacity":("opacity"in en?en.opacity:1)*("fill-opacity"in en?en["fill-opacity"]:1)})}}en.gradient=Te,en.fill="none";break}}else delete yt.gradient,delete en.gradient,!z.is(en.opacity,"undefined")&&z.is(yt.opacity,"undefined")&&xt(Ot,{opacity:en.opacity}),!z.is(en["fill-opacity"],"undefined")&&z.is(yt["fill-opacity"],"undefined")&&xt(Ot,{"fill-opacity":en["fill-opacity"]});ar[B]("opacity")&&xt(Ot,{"fill-opacity":ar.opacity>1?ar.opacity/100:ar.opacity});case"stroke":ar=z.getRGB(Te),Ot.setAttribute(je,ar.hex),"stroke"==je&&ar[B]("opacity")&&xt(Ot,{"stroke-opacity":ar.opacity>1?ar.opacity/100:ar.opacity}),"stroke"==je&&Ue._.arrows&&("startString"in Ue._.arrows&&on(Ue,Ue._.arrows.startString),"endString"in Ue._.arrows&&on(Ue,Ue._.arrows.endString,1));break;case"gradient":("circle"==Ue.type||"ellipse"==Ue.type||"r"!=V(Te).charAt())&&Lt(Ue,Te);break;case"opacity":en.gradient&&!en[B]("stroke-opacity")&&xt(Ot,{"stroke-opacity":Te>1?Te/100:Te});case"fill-opacity":if(en.gradient){(Ur=z._g.doc.getElementById(Ot.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(Sr=Ur.getElementsByTagName("stop"),xt(Sr[Sr.length-1],{"stop-opacity":Te}));break}default:"font-size"==je&&(Te=le(Te,10)+"px");var Fr=je.replace(/(\-.)/g,function(Mr){return Mr.substring(1).toUpperCase()});Ot.style[Fr]=Te,Ue._.dirty=1,Ot.setAttribute(je,Te)}}zr(Ue,yt),Ot.style.visibility=qn},zr=function(Ue,yt){if("text"==Ue.type&&(yt[B]("text")||yt[B]("font")||yt[B]("font-size")||yt[B]("x")||yt[B]("y"))){var Ot=Ue.attrs,en=Ue.node,qn=en.firstChild?le(z._g.doc.defaultView.getComputedStyle(en.firstChild,"").getPropertyValue("font-size"),10):10;if(yt[B]("text")){for(Ot.text=yt.text;en.firstChild;)en.removeChild(en.firstChild);for(var pt,je=V(yt.text).split("\n"),Te=[],vt=0,qt=je.length;vt<qt;vt++)pt=xt("tspan"),vt&&xt(pt,{dy:1.2*qn,x:Ot.x}),pt.appendChild(z._g.doc.createTextNode(je[vt])),en.appendChild(pt),Te[vt]=pt}else for(vt=0,qt=(Te=en.getElementsByTagName("tspan")).length;vt<qt;vt++)vt?xt(Te[vt],{dy:1.2*qn,x:Ot.x}):xt(Te[0],{dy:0});xt(en,{x:Ot.x,y:Ot.y}),Ue._.dirty=1;var vn=Ue._getBBox(),an=Ot.y-(vn.y+vn.height/2);an&&z.is(an,"finite")&&xt(Te[0],{dy:an})}},dr=function(Ue,yt){this[0]=this.node=Ue,Ue.raphael=!0,this.id=z._oid++,Ue.raphaelid=this.id,this.matrix=z.matrix(),this.realPath=null,this.paper=yt,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!yt.bottom&&(yt.bottom=this),this.prev=yt.top,yt.top&&(yt.top.next=this),yt.top=this,this.next=null},fr=z.el;dr.prototype=fr,fr.constructor=dr,z._engine.path=function(Ue,yt){var Ot=xt("path");yt.canvas&&yt.canvas.appendChild(Ot);var en=new dr(Ot,yt);return en.type="path",Pn(en,{fill:"none",stroke:"#000",path:Ue}),en},fr.rotate=function(Ue,yt,Ot){if(this.removed)return this;if((Ue=V(Ue).split(We)).length-1&&(yt=te(Ue[1]),Ot=te(Ue[2])),Ue=te(Ue[0]),null==Ot&&(yt=Ot),null==yt||null==Ot){var en=this.getBBox(1);yt=en.x+en.width/2,Ot=en.y+en.height/2}return this.transform(this._.transform.concat([["r",Ue,yt,Ot]])),this},fr.scale=function(Ue,yt,Ot,en){if(this.removed)return this;if((Ue=V(Ue).split(We)).length-1&&(yt=te(Ue[1]),Ot=te(Ue[2]),en=te(Ue[3])),Ue=te(Ue[0]),null==yt&&(yt=Ue),null==en&&(Ot=en),null==Ot||null==en)var qn=this.getBBox(1);return this.transform(this._.transform.concat([["s",Ue,yt,Ot=null==Ot?qn.x+qn.width/2:Ot,en=null==en?qn.y+qn.height/2:en]])),this},fr.translate=function(Ue,yt){return this.removed||((Ue=V(Ue).split(We)).length-1&&(yt=te(Ue[1])),Ue=te(Ue[0])||0,this.transform(this._.transform.concat([["t",Ue,yt=+yt||0]]))),this},fr.transform=function(Ue){var yt=this._;if(null==Ue)return yt.transform;if(z._extractTransform(this,Ue),this.clip&&xt(this.clip,{transform:this.matrix.invert()}),this.pattern&&It(this),this.node&&xt(this.node,{transform:this.matrix}),1!=yt.sx||1!=yt.sy){var Ot=this.attrs[B]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":Ot})}return this},fr.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},fr.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},fr.remove=function(){if(!this.removed&&this.node.parentNode){var Ue=this.paper;for(var yt in Ue.__set__&&Ue.__set__.exclude(this),dt.unbind("raphael.*.*."+this.id),this.gradient&&Ue.defs.removeChild(this.gradient),z._tear(this,Ue),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node),this)this[yt]="function"==typeof this[yt]?z._removedFactory(yt):null;this.removed=!0}},fr._getBBox=function(){if("none"==this.node.style.display){this.show();var Ue=!0}var yt={};try{yt=this.node.getBBox()}catch(Ot){}finally{yt=yt||{}}return Ue&&this.hide(),yt},fr.attr=function(Ue,yt){if(this.removed)return this;if(null==Ue){var Ot={};for(var en in this.attrs)this.attrs[B](en)&&(Ot[en]=this.attrs[en]);return Ot.gradient&&"none"==Ot.fill&&(Ot.fill=Ot.gradient)&&delete Ot.gradient,Ot.transform=this._.transform,Ot}if(null==yt&&z.is(Ue,"string")){if("fill"==Ue&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==Ue)return this._.transform;for(var qn=Ue.split(We),je={},Te=0,pt=qn.length;Te<pt;Te++)je[Ue=qn[Te]]=Ue in this.attrs?this.attrs[Ue]:z.is(this.paper.customAttributes[Ue],"function")?this.paper.customAttributes[Ue].def:z._availableAttrs[Ue];return pt-1?je:je[qn[0]]}if(null==yt&&z.is(Ue,"array")){for(je={},Te=0,pt=Ue.length;Te<pt;Te++)je[Ue[Te]]=this.attr(Ue[Te]);return je}if(null!=yt){var vt={};vt[Ue]=yt}else null!=Ue&&z.is(Ue,"object")&&(vt=Ue);for(var qt in vt)dt("raphael.attr."+qt+"."+this.id,this,vt[qt]);for(qt in this.paper.customAttributes)if(this.paper.customAttributes[B](qt)&&vt[B](qt)&&z.is(this.paper.customAttributes[qt],"function")){var vn=this.paper.customAttributes[qt].apply(this,[].concat(vt[qt]));for(var an in this.attrs[qt]=vt[qt],vn)vn[B](an)&&(vt[an]=vn[an])}return Pn(this,vt),this},fr.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var Ue=this.paper;return Ue.top!=this&&z._tofront(this,Ue),this},fr.toBack=function(){if(this.removed)return this;var Ue=this.node.parentNode;return"a"==Ue.tagName.toLowerCase()?Ue.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):Ue.firstChild!=this.node&&Ue.insertBefore(this.node,this.node.parentNode.firstChild),z._toback(this,this.paper),this},fr.insertAfter=function(Ue){if(this.removed)return this;var yt=Ue.node||Ue[Ue.length-1].node;return yt.nextSibling?yt.parentNode.insertBefore(this.node,yt.nextSibling):yt.parentNode.appendChild(this.node),z._insertafter(this,Ue,this.paper),this},fr.insertBefore=function(Ue){if(this.removed)return this;var yt=Ue.node||Ue[0].node;return yt.parentNode.insertBefore(this.node,yt),z._insertbefore(this,Ue,this.paper),this},fr.blur=function(Ue){var yt=this;if(0!=+Ue){var Ot=xt("filter"),en=xt("feGaussianBlur");yt.attrs.blur=Ue,Ot.id=z.createUUID(),xt(en,{stdDeviation:+Ue||1.5}),Ot.appendChild(en),yt.paper.defs.appendChild(Ot),yt._blur=Ot,xt(yt.node,{filter:"url(#"+Ot.id+")"})}else yt._blur&&(yt._blur.parentNode.removeChild(yt._blur),delete yt._blur,delete yt.attrs.blur),yt.node.removeAttribute("filter");return yt},z._engine.circle=function(Ue,yt,Ot,en){var qn=xt("circle");Ue.canvas&&Ue.canvas.appendChild(qn);var je=new dr(qn,Ue);return je.attrs={cx:yt,cy:Ot,r:en,fill:"none",stroke:"#000"},je.type="circle",xt(qn,je.attrs),je},z._engine.rect=function(Ue,yt,Ot,en,qn,je){var Te=xt("rect");Ue.canvas&&Ue.canvas.appendChild(Te);var pt=new dr(Te,Ue);return pt.attrs={x:yt,y:Ot,width:en,height:qn,r:je||0,rx:je||0,ry:je||0,fill:"none",stroke:"#000"},pt.type="rect",xt(Te,pt.attrs),pt},z._engine.ellipse=function(Ue,yt,Ot,en,qn){var je=xt("ellipse");Ue.canvas&&Ue.canvas.appendChild(je);var Te=new dr(je,Ue);return Te.attrs={cx:yt,cy:Ot,rx:en,ry:qn,fill:"none",stroke:"#000"},Te.type="ellipse",xt(je,Te.attrs),Te},z._engine.image=function(Ue,yt,Ot,en,qn,je){var Te=xt("image");xt(Te,{x:Ot,y:en,width:qn,height:je,preserveAspectRatio:"none"}),Te.setAttributeNS(ht,"href",yt),Ue.canvas&&Ue.canvas.appendChild(Te);var pt=new dr(Te,Ue);return pt.attrs={x:Ot,y:en,width:qn,height:je,src:yt},pt.type="image",pt},z._engine.text=function(Ue,yt,Ot,en){var qn=xt("text");Ue.canvas&&Ue.canvas.appendChild(qn);var je=new dr(qn,Ue);return je.attrs={x:yt,y:Ot,"text-anchor":"middle",text:en,font:z._availableAttrs.font,stroke:"none",fill:"#000"},je.type="text",Pn(je,je.attrs),je},z._engine.setSize=function(Ue,yt){return this.width=Ue||this.width,this.height=yt||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},z._engine.create=function(){var Ue=z._getContainer.apply(0,arguments),yt=Ue&&Ue.container,Ot=Ue.x,en=Ue.y,qn=Ue.width,je=Ue.height;if(!yt)throw new Error("SVG container not found.");var vt,Te=xt("svg"),pt="overflow:hidden;";return Ot=Ot||0,en=en||0,xt(Te,{height:je=je||342,version:1.1,width:qn=qn||512,xmlns:"http://www.w3.org/2000/svg"}),1==yt?(Te.style.cssText=pt+"position:absolute;left:"+Ot+"px;top:"+en+"px",z._g.doc.body.appendChild(Te),vt=1):(Te.style.cssText=pt+"position:relative",yt.firstChild?yt.insertBefore(Te,yt.firstChild):yt.appendChild(Te)),(yt=new z._Paper).width=qn,yt.height=je,yt.canvas=Te,yt.clear(),yt._left=yt._top=0,vt&&(yt.renderfix=function(){}),yt.renderfix(),yt},z._engine.setViewBox=function(Ue,yt,Ot,en,qn){dt("raphael.setViewBox",this,this._viewBox,[Ue,yt,Ot,en,qn]);var vt,je=Ie(Ot/this.width,en/this.height),Te=this.top,pt=qn?"meet":"xMinYMin";for(null==Ue?(this._vbSize&&(je=1),delete this._vbSize,vt="0 0 "+this.width+" "+this.height):(this._vbSize=je,vt=Ue+" "+yt+" "+Ot+" "+en),xt(this.canvas,{viewBox:vt,preserveAspectRatio:pt});je&&Te;)Te.attr({"stroke-width":"stroke-width"in Te.attrs?Te.attrs["stroke-width"]:1}),Te._.dirty=1,Te._.dirtyT=1,Te=Te.prev;return this._viewBox=[Ue,yt,Ot,en,!!qn],this},z.prototype.renderfix=function(){var Ot,Ue=this.canvas,yt=Ue.style;try{Ot=Ue.getScreenCTM()||Ue.createSVGMatrix()}catch(je){Ot=Ue.createSVGMatrix()}var en=-Ot.e%1,qn=-Ot.f%1;(en||qn)&&(en&&(this._left=(this._left+en)%1,yt.left=this._left+"px"),qn&&(this._top=(this._top+qn)%1,yt.top=this._top+"px"))},z.prototype.clear=function(){z.eve("raphael.clear",this);for(var Ue=this.canvas;Ue.firstChild;)Ue.removeChild(Ue.firstChild);this.bottom=this.top=null,(this.desc=xt("desc")).appendChild(z._g.doc.createTextNode("Created with Rapha\xebl "+z.version)),Ue.appendChild(this.desc),Ue.appendChild(this.defs=xt("defs"))},z.prototype.remove=function(){for(var Ue in dt("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[Ue]="function"==typeof this[Ue]?z._removedFactory(Ue):null};var gr=z.st;for(var fi in fr)fr[B](fi)&&!gr[B](fi)&&(gr[fi]=function(Ue){return function(){var yt=arguments;return this.forEach(function(Ot){Ot[Ue].apply(Ot,yt)})}}(fi))}}(),function(){if(z.vml){var B="hasOwnProperty",V=String,te=parseFloat,le=Math,ye=le.round,Ie=le.max,Ce=le.min,ze=le.abs,We="fill",dt=/[, ]+/,Mt=z.eve,ht=" ",Ft={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},xt=/([clmz]),?([^clmz]*)/gi,Lt=/ progid:\S+Blur\([^\)]+\)/g,It=/-?[^,\s-]+/g,on="position:absolute;left:0;top:0;width:1px;height:1px",Kt=21600,Qt={path:1,rect:1,image:1},Pn={circle:1,ellipse:1},zr=function(je,Te,pt){var vt=z.matrix();return vt.rotate(-je,.5,.5),{dx:vt.x(Te,pt),dy:vt.y(Te,pt)}},dr=function(je,Te,pt,vt,qt,vn){var an=je._,yn=je.matrix,pn=an.fillpos,Ln=je.node,Un=Ln.style,Tr=1,ar="",Sr=Kt/Te,Fr=Kt/pt;if(Un.visibility="hidden",Te&&pt){if(Ln.coordsize=ze(Sr)+ht+ze(Fr),Un.rotation=vn*(Te*pt<0?-1:1),vn){var Mr=zr(vn,vt,qt);vt=Mr.dx,qt=Mr.dy}if(Te<0&&(ar+="x"),pt<0&&(ar+=" y")&&(Tr=-1),Un.flip=ar,Ln.coordorigin=vt*-Sr+ht+qt*-Fr,pn||an.fillsize){var Gr=Ln.getElementsByTagName(We);Ln.removeChild(Gr=Gr&&Gr[0]),pn&&(Mr=zr(vn,yn.x(pn[0],pn[1]),yn.y(pn[0],pn[1])),Gr.position=Mr.dx*Tr+ht+Mr.dy*Tr),an.fillsize&&(Gr.size=an.fillsize[0]*ze(Te)+ht+an.fillsize[1]*ze(pt)),Ln.appendChild(Gr)}Un.visibility="visible"}};z.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var Ot,fr=function(je,Te,pt){for(var vt=V(Te).toLowerCase().split("-"),qt=pt?"end":"start",vn=vt.length,an="classic",yn="medium",pn="medium";vn--;)switch(vt[vn]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":an=vt[vn];break;case"wide":case"narrow":pn=vt[vn];break;case"long":case"short":yn=vt[vn]}var Ln=je.node.getElementsByTagName("stroke")[0];Ln[qt+"arrow"]=an,Ln[qt+"arrowlength"]=yn,Ln[qt+"arrowwidth"]=pn},gr=function(je,Te){je.attrs=je.attrs||{};var pt=je.node,vt=je.attrs,qt=pt.style,an=Qt[je.type]&&(Te.x!=vt.x||Te.y!=vt.y||Te.width!=vt.width||Te.height!=vt.height||Te.cx!=vt.cx||Te.cy!=vt.cy||Te.rx!=vt.rx||Te.ry!=vt.ry||Te.r!=vt.r),yn=Pn[je.type]&&(vt.cx!=Te.cx||vt.cy!=Te.cy||vt.r!=Te.r||vt.rx!=Te.rx||vt.ry!=Te.ry),pn=je;for(var Ln in Te)Te[B](Ln)&&(vt[Ln]=Te[Ln]);if(an&&(vt.path=z._getPath[je.type](je),je._.dirty=1),Te.href&&(pt.href=Te.href),Te.title&&(pt.title=Te.title),Te.target&&(pt.target=Te.target),Te.cursor&&(qt.cursor=Te.cursor),"blur"in Te&&je.blur(Te.blur),(Te.path&&"path"==je.type||an)&&(pt.path=function(je){var Te=/[ahqstv]/gi,pt=z._pathToAbsolute;if(V(je).match(Te)&&(pt=z._path2curve),Te=/[clmz]/g,pt==z._pathToAbsolute&&!V(je).match(Te)){var vt=V(je).replace(xt,function(Tr,ar,Ur){var Sr=[],Fr="m"==ar.toLowerCase(),Mr=Ft[ar];return Ur.replace(It,function(Gr){Fr&&2==Sr.length&&(Mr+=Sr+Ft["m"==ar?"l":"L"],Sr=[]),Sr.push(ye(Gr*Kt))}),Mr+Sr});return vt}var vn,an,qt=pt(je);vt=[];for(var yn=0,pn=qt.length;yn<pn;yn++){vn=qt[yn],"z"==(an=qt[yn][0].toLowerCase())&&(an="x");for(var Ln=1,Un=vn.length;Ln<Un;Ln++)an+=ye(vn[Ln]*Kt)+(Ln!=Un-1?",":"");vt.push(an)}return vt.join(ht)}(~V(vt.path).toLowerCase().indexOf("r")?z._pathToAbsolute(vt.path):vt.path),"image"==je.type&&(je._.fillpos=[vt.x,vt.y],je._.fillsize=[vt.width,vt.height],dr(je,1,1,0,0,0))),"transform"in Te&&je.transform(Te.transform),yn){var Un=+vt.cx,Tr=+vt.cy,ar=+vt.rx||+vt.r||0,Ur=+vt.ry||+vt.r||0;pt.path=z.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",ye((Un-ar)*Kt),ye((Tr-Ur)*Kt),ye((Un+ar)*Kt),ye((Tr+Ur)*Kt),ye(Un*Kt)),je._.dirty=1}if("clip-rect"in Te){var Sr=V(Te["clip-rect"]).split(dt);if(4==Sr.length){Sr[2]=+Sr[2]+ +Sr[0],Sr[3]=+Sr[3]+ +Sr[1];var Fr=pt.clipRect||z._g.doc.createElement("div"),Mr=Fr.style;Mr.clip=z.format("rect({1}px {2}px {3}px {0}px)",Sr),pt.clipRect||(Mr.position="absolute",Mr.top=0,Mr.left=0,Mr.width=je.paper.width+"px",Mr.height=je.paper.height+"px",pt.parentNode.insertBefore(Fr,pt),Fr.appendChild(pt),pt.clipRect=Fr)}Te["clip-rect"]||pt.clipRect&&(pt.clipRect.style.clip="auto")}if(je.textpath){var Gr=je.textpath.style;Te.font&&(Gr.font=Te.font),Te["font-family"]&&(Gr.fontFamily='"'+Te["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),Te["font-size"]&&(Gr.fontSize=Te["font-size"]),Te["font-weight"]&&(Gr.fontWeight=Te["font-weight"]),Te["font-style"]&&(Gr.fontStyle=Te["font-style"])}if("arrow-start"in Te&&fr(pn,Te["arrow-start"]),"arrow-end"in Te&&fr(pn,Te["arrow-end"],1),null!=Te.opacity||null!=Te["stroke-width"]||null!=Te.fill||null!=Te.src||null!=Te.stroke||null!=Te["stroke-width"]||null!=Te["stroke-opacity"]||null!=Te["fill-opacity"]||null!=Te["stroke-dasharray"]||null!=Te["stroke-miterlimit"]||null!=Te["stroke-linejoin"]||null!=Te["stroke-linecap"]){var Ar=pt.getElementsByTagName(We);if(!(Ar=Ar&&Ar[0])&&(Ar=Ot(We)),"image"==je.type&&Te.src&&(Ar.src=Te.src),Te.fill&&(Ar.on=!0),(null==Ar.on||"none"==Te.fill||null===Te.fill)&&(Ar.on=!1),Ar.on&&Te.fill){var Ni=V(Te.fill).match(z._ISURL);if(Ni){Ar.parentNode==pt&&pt.removeChild(Ar),Ar.rotate=!0,Ar.src=Ni[1],Ar.type="tile";var Qr=je.getBBox(1);Ar.position=Qr.x+ht+Qr.y,je._.fillpos=[Qr.x,Qr.y],z._preload(Ni[1],function(){je._.fillsize=[this.offsetWidth,this.offsetHeight]})}else Ar.color=z.getRGB(Te.fill).hex,Ar.src="",Ar.type="solid",z.getRGB(Te.fill).error&&(pn.type in{circle:1,ellipse:1}||"r"!=V(Te.fill).charAt())&&fi(pn,Te.fill,Ar)&&(vt.fill="none",vt.gradient=Te.fill,Ar.rotate=!1)}if("fill-opacity"in Te||"opacity"in Te){var yi=((+vt["fill-opacity"]+1||2)-1)*((+vt.opacity+1||2)-1)*((+z.getRGB(Te.fill).o+1||2)-1);yi=Ce(Ie(yi,0),1),Ar.opacity=yi,Ar.src&&(Ar.color="none")}pt.appendChild(Ar);var ei=pt.getElementsByTagName("stroke")&&pt.getElementsByTagName("stroke")[0],no=!1;!ei&&(no=ei=Ot("stroke")),(Te.stroke&&"none"!=Te.stroke||Te["stroke-width"]||null!=Te["stroke-opacity"]||Te["stroke-dasharray"]||Te["stroke-miterlimit"]||Te["stroke-linejoin"]||Te["stroke-linecap"])&&(ei.on=!0),("none"==Te.stroke||null===Te.stroke||null==ei.on||0==Te.stroke||0==Te["stroke-width"])&&(ei.on=!1);var Ti=z.getRGB(Te.stroke);ei.on&&Te.stroke&&(ei.color=Ti.hex),yi=((+vt["stroke-opacity"]+1||2)-1)*((+vt.opacity+1||2)-1)*((+Ti.o+1||2)-1);var hi=.75*(te(Te["stroke-width"])||1);if(yi=Ce(Ie(yi,0),1),null==Te["stroke-width"]&&(hi=vt["stroke-width"]),Te["stroke-width"]&&(ei.weight=hi),hi&&hi<1&&(yi*=hi)&&(ei.weight=1),ei.opacity=yi,Te["stroke-linejoin"]&&(ei.joinstyle=Te["stroke-linejoin"]||"miter"),ei.miterlimit=Te["stroke-miterlimit"]||8,Te["stroke-linecap"]&&(ei.endcap="butt"==Te["stroke-linecap"]?"flat":"square"==Te["stroke-linecap"]?"square":"round"),Te["stroke-dasharray"]){var gi={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};ei.dashstyle=gi[B](Te["stroke-dasharray"])?gi[Te["stroke-dasharray"]]:""}no&&pt.appendChild(ei)}if("text"==pn.type){pn.paper.canvas.style.display="";var Zi=pn.paper.span,Oi=vt.font&&vt.font.match(/\d+(?:\.\d*)?(?=px)/);qt=Zi.style,vt.font&&(qt.font=vt.font),vt["font-family"]&&(qt.fontFamily=vt["font-family"]),vt["font-weight"]&&(qt.fontWeight=vt["font-weight"]),vt["font-style"]&&(qt.fontStyle=vt["font-style"]),Oi=te(vt["font-size"]||Oi&&Oi[0])||10,qt.fontSize=100*Oi+"px",pn.textpath.string&&(Zi.innerHTML=V(pn.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Ii=Zi.getBoundingClientRect();pn.W=vt.w=(Ii.right-Ii.left)/100,pn.H=vt.h=(Ii.bottom-Ii.top)/100,pn.X=vt.x,pn.Y=vt.y+pn.H/2,("x"in Te||"y"in Te)&&(pn.path.v=z.format("m{0},{1}l{2},{1}",ye(vt.x*Kt),ye(vt.y*Kt),ye(vt.x*Kt)+1));for(var Pi=["x","y","text","font","font-family","font-weight","font-style","font-size"],_i=0,Ei=Pi.length;_i<Ei;_i++)if(Pi[_i]in Te){pn._.dirty=1;break}switch(vt["text-anchor"]){case"start":pn.textpath.style["v-text-align"]="left",pn.bbx=pn.W/2;break;case"end":pn.textpath.style["v-text-align"]="right",pn.bbx=-pn.W/2;break;default:pn.textpath.style["v-text-align"]="center",pn.bbx=0}pn.textpath.style["v-text-kern"]=!0}},fi=function(je,Te,pt){je.attrs=je.attrs||{};var qt=Math.pow,yn="linear",pn=".5 .5";if(je.attrs.gradient=Te,Te=(Te=V(Te).replace(z._radial_gradient,function(Sr,Fr,Mr){return yn="radial",Fr&&Mr&&(Fr=te(Fr),Mr=te(Mr),qt(Fr-.5,2)+qt(Mr-.5,2)>.25&&(Mr=le.sqrt(.25-qt(Fr-.5,2))*(2*(Mr>.5)-1)+.5),pn=Fr+ht+Mr),""})).split(/\s*\-\s*/),"linear"==yn){var Ln=Te.shift();if(Ln=-te(Ln),isNaN(Ln))return null}var Un=z._parseDots(Te);if(!Un)return null;if(je=je.shape||je.node,Un.length){je.removeChild(pt),pt.on=!0,pt.method="none",pt.color=Un[0].color,pt.color2=Un[Un.length-1].color;for(var Tr=[],ar=0,Ur=Un.length;ar<Ur;ar++)Un[ar].offset&&Tr.push(Un[ar].offset+ht+Un[ar].color);pt.colors=Tr.length?Tr.join():"0% "+pt.color,"radial"==yn?(pt.type="gradientTitle",pt.focus="100%",pt.focussize="0 0",pt.focusposition=pn,pt.angle=0):(pt.type="gradient",pt.angle=(270-Ln)%360),je.appendChild(pt)}return 1},Ue=function(je,Te){this[0]=this.node=je,je.raphael=!0,this.id=z._oid++,je.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=Te,this.matrix=z.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!Te.bottom&&(Te.bottom=this),this.prev=Te.top,Te.top&&(Te.top.next=this),Te.top=this,this.next=null},yt=z.el;Ue.prototype=yt,yt.constructor=Ue,yt.transform=function(je){if(null==je)return this._.transform;var vt,Te=this.paper._viewBoxShift,pt=Te?"s"+[Te.scale,Te.scale]+"-1-1t"+[Te.dx,Te.dy]:"";Te&&(vt=je=V(je).replace(/\.{3}|\u2026/g,this._.transform||"")),z._extractTransform(this,pt+je);var yn,qt=this.matrix.clone(),vn=this.skew,an=this.node,pn=~V(this.attrs.fill).indexOf("-"),Ln=!V(this.attrs.fill).indexOf("url(");if(qt.translate(1,1),Ln||pn||"image"==this.type)if(vn.matrix="1 0 0 1",vn.offset="0 0",yn=qt.split(),pn&&yn.noRotation||!yn.isSimple){an.style.filter=qt.toFilter();var Un=this.getBBox(),Tr=this.getBBox(1),ar=Un.x-Tr.x,Ur=Un.y-Tr.y;an.coordorigin=ar*-Kt+ht+Ur*-Kt,dr(this,1,1,ar,Ur,0)}else an.style.filter="",dr(this,yn.scalex,yn.scaley,yn.dx,yn.dy,yn.rotate);else an.style.filter="",vn.matrix=V(qt),vn.offset=qt.offset();return vt&&(this._.transform=vt),this},yt.rotate=function(je,Te,pt){if(this.removed)return this;if(null!=je){if((je=V(je).split(dt)).length-1&&(Te=te(je[1]),pt=te(je[2])),je=te(je[0]),null==pt&&(Te=pt),null==Te||null==pt){var vt=this.getBBox(1);Te=vt.x+vt.width/2,pt=vt.y+vt.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",je,Te,pt]])),this}},yt.translate=function(je,Te){return this.removed||((je=V(je).split(dt)).length-1&&(Te=te(je[1])),je=te(je[0])||0,Te=+Te||0,this._.bbox&&(this._.bbox.x+=je,this._.bbox.y+=Te),this.transform(this._.transform.concat([["t",je,Te]]))),this},yt.scale=function(je,Te,pt,vt){if(this.removed)return this;if((je=V(je).split(dt)).length-1&&(Te=te(je[1]),pt=te(je[2]),vt=te(je[3]),isNaN(pt)&&(pt=null),isNaN(vt)&&(vt=null)),je=te(je[0]),null==Te&&(Te=je),null==vt&&(pt=vt),null==pt||null==vt)var qt=this.getBBox(1);return this.transform(this._.transform.concat([["s",je,Te,pt=null==pt?qt.x+qt.width/2:pt,vt=null==vt?qt.y+qt.height/2:vt]])),this._.dirtyT=1,this},yt.hide=function(){return!this.removed&&(this.node.style.display="none"),this},yt.show=function(){return!this.removed&&(this.node.style.display=""),this},yt._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},yt.remove=function(){if(!this.removed&&this.node.parentNode){for(var je in this.paper.__set__&&this.paper.__set__.exclude(this),z.eve.unbind("raphael.*.*."+this.id),z._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[je]="function"==typeof this[je]?z._removedFactory(je):null;this.removed=!0}},yt.attr=function(je,Te){if(this.removed)return this;if(null==je){var pt={};for(var vt in this.attrs)this.attrs[B](vt)&&(pt[vt]=this.attrs[vt]);return pt.gradient&&"none"==pt.fill&&(pt.fill=pt.gradient)&&delete pt.gradient,pt.transform=this._.transform,pt}if(null==Te&&z.is(je,"string")){if(je==We&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var qt=je.split(dt),vn={},an=0,yn=qt.length;an<yn;an++)vn[je=qt[an]]=je in this.attrs?this.attrs[je]:z.is(this.paper.customAttributes[je],"function")?this.paper.customAttributes[je].def:z._availableAttrs[je];return yn-1?vn:vn[qt[0]]}if(this.attrs&&null==Te&&z.is(je,"array")){for(vn={},an=0,yn=je.length;an<yn;an++)vn[je[an]]=this.attr(je[an]);return vn}var pn;for(var Ln in null!=Te&&((pn={})[je]=Te),null==Te&&z.is(je,"object")&&(pn=je),pn)Mt("raphael.attr."+Ln+"."+this.id,this,pn[Ln]);if(pn){for(Ln in this.paper.customAttributes)if(this.paper.customAttributes[B](Ln)&&pn[B](Ln)&&z.is(this.paper.customAttributes[Ln],"function")){var Un=this.paper.customAttributes[Ln].apply(this,[].concat(pn[Ln]));for(var Tr in this.attrs[Ln]=pn[Ln],Un)Un[B](Tr)&&(pn[Tr]=Un[Tr])}pn.text&&"text"==this.type&&(this.textpath.string=pn.text),gr(this,pn)}return this},yt.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&z._tofront(this,this.paper),this},yt.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),z._toback(this,this.paper)),this},yt.insertAfter=function(je){return this.removed||(je.constructor==z.st.constructor&&(je=je[je.length-1]),je.node.nextSibling?je.node.parentNode.insertBefore(this.node,je.node.nextSibling):je.node.parentNode.appendChild(this.node),z._insertafter(this,je,this.paper)),this},yt.insertBefore=function(je){return this.removed||(je.constructor==z.st.constructor&&(je=je[0]),je.node.parentNode.insertBefore(this.node,je.node),z._insertbefore(this,je,this.paper)),this},yt.blur=function(je){var Te=this.node.runtimeStyle,pt=Te.filter;return pt=pt.replace(Lt,""),0!=+je?(this.attrs.blur=je,Te.filter=pt+ht+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+je||1.5)+")",Te.margin=z.format("-{0}px 0 0 -{0}px",ye(+je||1.5))):(Te.filter=pt,Te.margin=0,delete this.attrs.blur),this},z._engine.path=function(je,Te){var pt=Ot("shape");pt.style.cssText=on,pt.coordsize=Kt+ht+Kt,pt.coordorigin=Te.coordorigin;var vt=new Ue(pt,Te),qt={fill:"none",stroke:"#000"};je&&(qt.path=je),vt.type="path",vt.path=[],vt.Path="",gr(vt,qt),Te.canvas.appendChild(pt);var vn=Ot("skew");return vn.on=!0,pt.appendChild(vn),vt.skew=vn,vt.transform(""),vt},z._engine.rect=function(je,Te,pt,vt,qt,vn){var an=z._rectPath(Te,pt,vt,qt,vn),yn=je.path(an),pn=yn.attrs;return yn.X=pn.x=Te,yn.Y=pn.y=pt,yn.W=pn.width=vt,yn.H=pn.height=qt,pn.r=vn,pn.path=an,yn.type="rect",yn},z._engine.ellipse=function(je,Te,pt,vt,qt){var vn=je.path();return vn.X=Te-vt,vn.Y=pt-qt,vn.W=2*vt,vn.H=2*qt,vn.type="ellipse",gr(vn,{cx:Te,cy:pt,rx:vt,ry:qt}),vn},z._engine.circle=function(je,Te,pt,vt){var qt=je.path();return qt.X=Te-vt,qt.Y=pt-vt,qt.W=qt.H=2*vt,qt.type="circle",gr(qt,{cx:Te,cy:pt,r:vt}),qt},z._engine.image=function(je,Te,pt,vt,qt,vn){var an=z._rectPath(pt,vt,qt,vn),yn=je.path(an).attr({stroke:"none"}),pn=yn.attrs,Ln=yn.node,Un=Ln.getElementsByTagName(We)[0];return pn.src=Te,yn.X=pn.x=pt,yn.Y=pn.y=vt,yn.W=pn.width=qt,yn.H=pn.height=vn,pn.path=an,yn.type="image",Un.parentNode==Ln&&Ln.removeChild(Un),Un.rotate=!0,Un.src=Te,Un.type="tile",yn._.fillpos=[pt,vt],yn._.fillsize=[qt,vn],Ln.appendChild(Un),dr(yn,1,1,0,0,0),yn},z._engine.text=function(je,Te,pt,vt){var qt=Ot("shape"),vn=Ot("path"),an=Ot("textpath");pt=pt||0,vt=vt||"",vn.v=z.format("m{0},{1}l{2},{1}",ye((Te=Te||0)*Kt),ye(pt*Kt),ye(Te*Kt)+1),vn.textpathok=!0,an.string=V(vt),an.on=!0,qt.style.cssText=on,qt.coordsize=Kt+ht+Kt,qt.coordorigin="0 0";var yn=new Ue(qt,je),pn={fill:"#000",stroke:"none",font:z._availableAttrs.font,text:vt};yn.shape=qt,yn.path=vn,yn.textpath=an,yn.type="text",yn.attrs.text=V(vt),yn.attrs.x=Te,yn.attrs.y=pt,yn.attrs.w=1,yn.attrs.h=1,gr(yn,pn),qt.appendChild(an),qt.appendChild(vn),je.canvas.appendChild(qt);var Ln=Ot("skew");return Ln.on=!0,qt.appendChild(Ln),yn.skew=Ln,yn.transform(""),yn},z._engine.setSize=function(je,Te){var pt=this.canvas.style;return this.width=je,this.height=Te,je==+je&&(je+="px"),Te==+Te&&(Te+="px"),pt.width=je,pt.height=Te,pt.clip="rect(0 "+je+" "+Te+" 0)",this._viewBox&&z._engine.setViewBox.apply(this,this._viewBox),this},z._engine.setViewBox=function(je,Te,pt,vt,qt){z.eve("raphael.setViewBox",this,this._viewBox,[je,Te,pt,vt,qt]);var pn,Ln,vn=this.width,an=this.height,yn=1/Ie(pt/vn,vt/an);return qt&&(pt*(pn=an/vt)<vn&&(je-=(vn-pt*pn)/2/pn),vt*(Ln=vn/pt)<an&&(Te-=(an-vt*Ln)/2/Ln)),this._viewBox=[je,Te,pt,vt,!!qt],this._viewBoxShift={dx:-je,dy:-Te,scale:yn},this.forEach(function(Un){Un.transform("...")}),this},z._engine.initWin=function(je){var Te=je.document;Te.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!Te.namespaces.rvml&&Te.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),Ot=function(pt){return Te.createElement("<rvml:"+pt+' class="rvml">')}}catch(pt){Ot=function(vt){return Te.createElement("<"+vt+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},z._engine.initWin(z._g.win),z._engine.create=function(){var je=z._getContainer.apply(0,arguments),Te=je.container,pt=je.height,qt=je.width,vn=je.x,an=je.y;if(!Te)throw new Error("VML container not found.");var yn=new z._Paper,pn=yn.canvas=z._g.doc.createElement("div"),Ln=pn.style;return vn=vn||0,an=an||0,pt=pt||342,yn.width=qt=qt||512,yn.height=pt,qt==+qt&&(qt+="px"),pt==+pt&&(pt+="px"),yn.coordsize=1e3*Kt+ht+1e3*Kt,yn.coordorigin="0 0",yn.span=z._g.doc.createElement("span"),yn.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",pn.appendChild(yn.span),Ln.cssText=z.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",qt,pt),1==Te?(z._g.doc.body.appendChild(pn),Ln.left=vn+"px",Ln.top=an+"px",Ln.position="absolute"):Te.firstChild?Te.insertBefore(pn,Te.firstChild):Te.appendChild(pn),yn.renderfix=function(){},yn},z.prototype.clear=function(){z.eve("raphael.clear",this),this.canvas.innerHTML="",this.span=z._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},z.prototype.remove=function(){for(var je in z.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[je]="function"==typeof this[je]?z._removedFactory(je):null;return!0};var en=z.st;for(var qn in yt)yt[B](qn)&&!en[B](qn)&&(en[qn]=function(je){return function(){var Te=arguments;return this.forEach(function(pt){pt[je].apply(pt,Te)})}}(qn))}}(),ne.was?_.win.Raphael=z:Raphael=z,z}),function(){"use strict";var Nt=function(ne,Q){if(this.text=ne,this.options=_(Oe(Nt.default),Q),this.strokes=[],this.papers=[],this.pointer=0,this.timeouts={play:[],erasing:[],drawing:[]},!this.options.skipLoad){var fe=new DmakLoader(this.options.uri),ge=this;fe.load(ne,function(re){ge.prepare(re),ge.options.loaded(ge.strokes),ge.options.autoplay&&ge.render()})}};function mt(ne,Q,fe){null!==ne.object.text&&ne.object.text.remove();var ge=function(){ne.object.path.remove(),ne.object={path:null,text:null},Q.shift()};fe.stroke.animated.erasing?(ne.object.path.node.style.stroke=fe.stroke.attr.active,Q.push(Fe(ne,-1,fe,ge))):ge()}function Fe(ne,Q,fe,ge){return ne.object.path.attr({stroke:fe.stroke.attr.active}),ne.object.path.node.style.transition=ne.object.path.node.style.WebkitTransition="none",ne.object.path.node.style.strokeDasharray=ne.length+" "+ne.length,ne.object.path.node.style.strokeDashoffset=Q>0?ne.length:0,ne.object.path.node.getBoundingClientRect(),ne.object.path.node.style.transition=ne.object.path.node.style.WebkitTransition="stroke-dashoffset "+ne.duration+"ms ease",ne.object.path.node.style.strokeDashoffset=Q>0?"0":ne.length,setTimeout(ge,ne.duration)}function Oe(ne){if(null===ne||"object"!=typeof ne)return ne;var Q=ne.constructor();for(var fe in ne)Q[fe]=Oe(ne[fe]);return Q}function _(ne,Q){if(2!==arguments.length)throw new Error("Missing arguments in assign function");for(var fe in ne)Q.hasOwnProperty(fe)&&(ne[fe]="object"==typeof Q[fe]?_(ne[fe],Q[fe]):Q[fe]);return ne}Nt.VERSION="0.2.0",Nt.default={uri:"",skipLoad:!1,autoplay:!0,height:109,width:109,viewBox:{x:0,y:0,w:109,h:109},step:.03,element:"draw",stroke:{animated:{drawing:!0,erasing:!0},order:{visible:!1,attr:{"font-size":"8",fill:"#999999"}},attr:{active:"#BF0000",stroke:"#2C2C2C","stroke-width":4,"stroke-linecap":"round","stroke-linejoin":"round"}},grid:{show:!0,attr:{stroke:"#CCCCCC","stroke-width":.5,"stroke-dasharray":"--"}},loaded:function(){},erased:function(){},drew:function(){}},Nt.fn=Nt.prototype={prepare:function(ne){this.strokes=function hn(ne,Q){var re,ve,v,fe=[];for(ve=0;ve<ne.length;ve++)for(v=0;v<ne[ve].length;v++)re=Raphael.getTotalLength(ne[ve][v].path),fe.push({char:ve,length:re,duration:re*Q.step*1e3,path:ne[ve][v].path,groups:ne[ve][v].groups,text:ne[ve][v].text,object:{path:null,text:null}});return fe}(ne,this.options),this.papers=function z(ne,Q){var ge,re,fe=[];for(re=0;re<ne;re++)(ge=new Raphael(Q.element,Q.width+"px",Q.height+"px")).setViewBox(Q.viewBox.x,Q.viewBox.y,Q.viewBox.w,Q.viewBox.h),ge.canvas.setAttribute("class","dmak-svg"),fe.push(ge);return fe.reverse()}(ne.length,this.options),this.options.grid.show&&function wt(ne,Q){var fe;for(fe=0;fe<ne.length;fe++)ne[fe].path("M"+Q.viewBox.w/2+",0 L"+Q.viewBox.w/2+","+Q.viewBox.h).attr(Q.grid.attr),ne[fe].path("M0,"+Q.viewBox.h/2+" L"+Q.viewBox.w+","+Q.viewBox.h/2).attr(Q.grid.attr)}(this.papers,this.options)},erase:function(ne){if(this.timeouts.play.length||this.pointer<=0)return!1;void 0===ne&&(ne=0);do{this.pointer--,mt(this.strokes[this.pointer],this.timeouts.erasing,this.options),this.options.erased(this.pointer)}while(this.pointer>ne)},render:function(ne){if(this.timeouts.play.length)return!1;if(void 0===ne)ne=this.strokes.length;else if(ne>this.strokes.length)return!1;var ge,Q=function(re){(function bt(ne,Q,fe,ge){var re=function(){if(null!==Q.object.path){var ve=ge.stroke.attr.stroke;"random"===ge.stroke.attr.stroke&&(ve=Raphael.getColor()),Q.object.path.node.style.stroke=ve,Q.object.path.node.style.transition=Q.object.path.node.style.WebkitTransition="stroke 400ms ease",fe.shift()}};Q.object.path=ne.path(Q.path),Q.object.path.attr(ge.stroke.attr),ge.stroke.order.visible&&function Z(ne,Q,fe){Q.object.text=ne.text(Q.text.x,Q.text.y,Q.text.value),Q.object.text.attr(fe.stroke.order.attr)}(ne,Q,ge),ge.stroke.animated.drawing?Fe(Q,1,ge,re):re()})(re.papers[re.strokes[re.pointer].char],re.strokes[re.pointer],re.timeouts.drawing,re.options),re.options.drew(re.pointer),re.pointer++,re.timeouts.play.shift()},fe=0;for(ge=0;ge<this.timeouts.erasing.length;ge++)window.clearTimeout(this.timeouts.erasing[ge]),this.timeouts.erasing=[];for(ge=this.pointer;ge<ne;ge++)!this.options.stroke.animated.drawing||fe<=0?Q(this):this.timeouts.play.push(setTimeout(Q,fe,this)),fe+=this.strokes[ge].duration},pause:function(){for(var ne=0;ne<this.timeouts.play.length;ne++)window.clearTimeout(this.timeouts.play[ne]);this.timeouts.play=[]},eraseLastStrokes:function(ne){this.erase(this.pointer-ne)},renderNextStrokes:function(ne){this.render(this.pointer+ne)}},window.Dmak=Nt}(),function(){"use strict";var Nt=function(wt){this.uri=wt};function hn(wt,mt,bt,Z){var Fe=new XMLHttpRequest,Oe=("00000"+bt).slice(-5);"00020"!==Oe&&"03000"!==Oe?(Fe.open("GET",wt+Oe+".svg",!0),Fe.onreadystatechange=function(){4===Fe.readyState&&(200===Fe.status?Z.done(mt,function z(wt,mt){var _,bt=[],Z=(new DOMParser).parseFromString(wt,"application/xml"),Fe=Z.querySelectorAll("text"),Oe=[];for(function ne(Q){var ge,fe=Q.childNodes;for(ge=0;ge<fe.length;ge++)"g"===fe[ge].tagName?(Oe.push(fe[ge].getAttribute("id")),ne(fe[ge]),Oe.splice(Oe.indexOf(fe[ge].getAttribute("id")),1)):"path"===fe[ge].tagName&&bt.push({path:fe[ge].getAttribute("d"),groups:Oe.slice(0)})}(Z.getElementById("kvg:"+mt)),_=0;_<Fe.length;_++)bt[_].text={value:Fe[_].textContent,x:Fe[_].getAttribute("transform").split(" ")[4],y:Fe[_].getAttribute("transform").split(" ")[5].replace(")","")};return bt}(Fe.response,Oe)):Z.error(Fe.statusText))},Fe.send()):Z.done(mt,{paths:[],texts:[]})}Nt.prototype.load=function(wt,mt){var Oe,bt=[],Z=wt.length,Fe=0,_={done:function(ne,Q){bt[ne]=Q,++Fe===Z&&mt(bt)},error:function(ne){console.log("Error",ne)}};for(Oe=0;Oe<Z;Oe++)hn(this.uri,Oe,wt.charCodeAt(Oe).toString(16),_)},window.DmakLoader=Nt}();var SubtitlesOctopus=function(Nt){var hn=!1;try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const ne=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));ne instanceof WebAssembly.Module&&(hn=new WebAssembly.Instance(ne)instanceof WebAssembly.Instance)}}catch(ne){}console.log("WebAssembly support detected: "+(hn?"yes":"no"));var z=this;function wt(ne,Q){for(var fe=[],ge=0,re=z.renderedItems.length;ge<re;ge++)((ve=z.renderedItems[ge]).emptyFinish<0||ve.emptyFinish>=ne)&&fe.push(ve);if(Q&&fe.length>0&&ne<fe[0].eventStart)if(fe[0].eventStart-ne>60)console.info("seeked back too far, cleaning prerender buffer"),fe=[];else{console.info("seeked backwards, need to free up some buffer");var v=0,M=.3*z.renderAhead,h=[];for(ge=0,re=fe.length;ge<re;ge++){var ve;if((v+=(ve=fe[ge]).size)>=M)break;h.push(ve)}fe=h}var g=fe.length<z.renderedItems;return z.renderedItems=fe,g}function mt(ne,Q){if(z.renderAhead&&!(z.renderAhead<=0)&&(!z.oneshotState.renderRequested||Q)){if(void 0===ne){if(!z.video)return;ne=z.video.currentTime+z.timeOffset}for(var fe=0,ge=0,re=z.renderedItems.length;ge<re;ge++){var ve=z.renderedItems[ge];if(ve.emptyFinish<0)return void console.info("oneshot already reached end-of-events");if(ne>=ve.eventStart&&ne<ve.emptyFinish)return void console.debug("not requesting a render for "+ne+" as event already covering it exists (start="+ve.eventStart+", empty="+ve.emptyFinish+")");fe+=ve.size}fe<=z.renderAhead&&(lastRendered=ne-(Q?0:.001),z.oneshotState.renderRequested?(z.workerActive&&console.info("worker busy, requesting to seek"),z.oneshotState.requestNextTimestamp=lastRendered):(z.oneshotState.renderRequested=!0,z.worker.postMessage({target:"oneshot-render",lastRendered,renderNow:Q,iteration:z.oneshotState.iteration})))}}function bt(ne,Q){var fe=ne.eventFinish<Q;if(z.oneshotState.eventStart!=ne.eventStart||z.oneshotState.eventOver!=fe){z.oneshotState.eventStart=ne.eventStart,z.oneshotState.eventOver=fe;var ge=performance.now();if((ne.viewport.width!=z.canvas.width||ne.viewport.height!=z.canvas.height)&&(z.canvas.width=ne.viewport.width,z.canvas.height=ne.viewport.height),z.ctx.clearRect(0,0,z.canvas.width,z.canvas.height),!fe)for(var re=0;re<ne.items.length;re++){var ve=ne.items[re];z.bufferCanvas.width=ve.w,z.bufferCanvas.height=ve.h,z.bufferCanvasCtx.putImageData(ve.image,0,0),z.ctx.drawImage(z.bufferCanvas,ve.x,ve.y)}if(z.debug){var v=Math.round(performance.now()-ge);console.log("render: "+Math.round(ne.spentTime-ne.blendTime)+" ms, blend: "+Math.round(ne.blendTime)+" ms, draw: "+v+" ms")}}}function Z(){if(window.requestAnimationFrame(Z),z.video){for(var ne=z.video.currentTime+z.timeOffset,Q=-1,fe=!1,ge=!1,re=0,ve=z.renderedItems.length;re<ve;re++){var v=z.renderedItems[re];if(!fe&&v.eventStart<=ne&&(v.emptyFinish<0||v.emptyFinish>ne))bt(v,ne),fe=!0,Q=v.emptyFinish;else if(Q>=0){if(!(v.eventStart-Q<.01))break;Q=v.emptyFinish,ge=v.animated}}fe?wt(ne)&&Q>=0&&mt(Q,ge):Math.abs(z.oneshotState.requestNextTimestamp-ne)>.01&&(wt(ne),mt(ne,!0))}}function Fe(){var ne=z.renderFramesData,Q=performance.now();z.ctx.clearRect(0,0,z.canvas.width,z.canvas.height);for(var fe=0;fe<ne.canvases.length;fe++){var ge=ne.canvases[fe];z.bufferCanvas.width=ge.w,z.bufferCanvas.height=ge.h;var re=new Uint8ClampedArray(ge.buffer);if(z.hasAlphaBug)for(var ve=3;ve<re.length;ve+=4)re[ve]=re[ve]>=1?re[ve]:1;var v=new ImageData(re,ge.w,ge.h);z.bufferCanvasCtx.putImageData(v,0,0),z.ctx.drawImage(z.bufferCanvas,ge.x,ge.y)}if(z.debug){var M=Math.round(performance.now()-Q),h=ne.blendTime;console.log(void 0!==h?"render: "+Math.round(ne.spentTime-h)+" ms, blend: "+Math.round(h)+" ms, draw: "+M+" ms; TOTAL="+Math.round(ne.spentTime+M)+" ms":Math.round(ne.spentTime)+" ms (+ "+M+" ms draw)"),z.renderStart=performance.now()}}function Oe(){var ne=z.renderFramesData,Q=performance.now();z.ctx.clearRect(0,0,z.canvas.width,z.canvas.height);for(var fe=0;fe<ne.bitmaps.length;fe++){var ge=ne.bitmaps[fe];z.ctx.drawImage(ge.bitmap,ge.x,ge.y)}if(z.debug){var re=Math.round(performance.now()-Q);console.log(ne.bitmaps.length+" bitmaps, libass: "+Math.round(ne.libassTime)+"ms, decode: "+Math.round(ne.decodeTime)+"ms, draw: "+re+"ms"),z.renderStart=performance.now()}}z.canvas=Nt.canvas,z.renderMode=Nt.renderMode||(Nt.lossyRender?"fast":Nt.blendRender?"blend":"normal"),z.dropAllAnimations=Nt.dropAllAnimations||!1,z.libassMemoryLimit=Nt.libassMemoryLimit||0,z.libassGlyphLimit=Nt.libassGlyphLimit||0,z.targetFps=Nt.targetFps||30,z.prescaleTradeoff=Nt.prescaleTradeoff||null,z.softHeightLimit=Nt.softHeightLimit||1080,z.hardHeightLimit=Nt.hardHeightLimit||2160,z.resizeVariation=Nt.resizeVariation||.2,z.renderAhead=Nt.renderAhead||0,z.isOurCanvas=!1,z.video=Nt.video,z.canvasParent=null,z.fonts=Nt.fonts||[],z.availableFonts=Nt.availableFonts||[],z.onReadyEvent=Nt.onReady,z.workerUrl=hn?Nt.workerUrl||"subtitles-octopus-worker.js":Nt.legacyWorkerUrl||"subtitles-octopus-worker-legacy.js",z.subUrl=Nt.subUrl,z.subContent=Nt.subContent||null,z.onErrorEvent=Nt.onError,z.debug=Nt.debug||!1,z.lastRenderTime=0,z.pixelRatio=window.devicePixelRatio||1,z.timeOffset=Nt.timeOffset||0,z.renderedItems=[],z.renderAhead=1024*z.renderAhead*1024*.9,z.oneshotState={eventStart:null,eventOver:!1,iteration:0,renderRequested:!1,requestNextTimestamp:-1,prevWidth:null,prevHeight:null},z.hasAlphaBug=!1,function(){if("function"==typeof ImageData.prototype.constructor)try{return void new window.ImageData(new Uint8ClampedArray([0,0,0,0]),1,1)}catch(fe){console.log("detected that ImageData is not constructable despite browser saying so")}var Q=document.createElement("canvas").getContext("2d");window.ImageData=function(){var fe=0;if(arguments[0]instanceof Uint8ClampedArray)var ge=arguments[fe++];var re=arguments[fe++],ve=arguments[fe],v=Q.createImageData(re,ve);return ge&&v.data.set(ge),v}}(),z.workerError=function(ne){if(console.error("Worker error: ",ne),z.onErrorEvent&&z.onErrorEvent(ne),!z.debug)throw z.dispose(),new Error("Worker error: "+ne)},z.init=function(){window.Worker?(z.worker||(z.worker=new Worker(z.workerUrl),z.worker.onmessage=z.onWorkerMessage,z.worker.onerror=z.workerError),z.workerActive=!1,z.createCanvas(),z.setVideo(Nt.video),z.setSubUrl(Nt.subUrl),z.worker.postMessage({target:"worker-init",width:z.canvas.width,height:z.canvas.height,URL:document.URL,currentScript:z.workerUrl,preMain:!0,renderMode:z.renderMode,subUrl:z.subUrl,subContent:z.subContent,fonts:z.fonts,availableFonts:z.availableFonts,debug:z.debug,targetFps:z.targetFps,libassMemoryLimit:z.libassMemoryLimit,libassGlyphLimit:z.libassGlyphLimit,renderOnDemand:z.renderAhead>0,dropAllAnimations:z.dropAllAnimations})):z.workerError("worker not supported")},z.createCanvas=function(){z.canvas||(z.video?(z.isOurCanvas=!0,z.canvas=document.createElement("canvas"),z.canvas.className="libassjs-canvas",z.canvas.style.display="none",z.canvasParent=document.createElement("div"),z.canvasParent.className="libassjs-canvas-parent",z.canvasParent.appendChild(z.canvas),z.video.nextSibling?z.video.parentNode.insertBefore(z.canvasParent,z.video.nextSibling):z.video.parentNode.appendChild(z.canvasParent)):z.canvas||z.workerError("Don't know where to render: you should give video or canvas in options.")),z.ctx=z.canvas.getContext("2d"),z.bufferCanvas=document.createElement("canvas"),z.bufferCanvasCtx=z.bufferCanvas.getContext("2d"),z.bufferCanvas.width=1,z.bufferCanvas.height=1;var ne=new Uint8ClampedArray([0,255,0,0]),Q=new ImageData(ne,1,1);z.bufferCanvasCtx.clearRect(0,0,1,1),z.ctx.clearRect(0,0,1,1);var fe=z.ctx.getImageData(0,0,1,1).data;z.bufferCanvasCtx.putImageData(Q,0,0),z.ctx.drawImage(z.bufferCanvas,0,0);var ge=z.ctx.getImageData(0,0,1,1).data;z.hasAlphaBug=fe[1]!=ge[1],z.hasAlphaBug&&console.log("Detected a browser having issue with transparent pixels, applying workaround")},z.setVideo=function(ne){if(z.video=ne,z.video){var Q=function(){z.setCurrentTime(ne.currentTime+z.timeOffset)};z.video.addEventListener("timeupdate",Q,!1),z.video.addEventListener("playing",function(){z.setIsPaused(!1,ne.currentTime+z.timeOffset)},!1),z.video.addEventListener("pause",function(){z.setIsPaused(!0,ne.currentTime+z.timeOffset)},!1),z.video.addEventListener("seeking",function(){z.video.removeEventListener("timeupdate",Q)},!1),z.video.addEventListener("seeked",function(){z.video.addEventListener("timeupdate",Q,!1),z.setCurrentTime(ne.currentTime+z.timeOffset),z.renderAhead>0&&wt(ne.currentTime+z.timeOffset,!0)},!1),z.video.addEventListener("ratechange",function(){z.setRate(ne.playbackRate)},!1),z.video.addEventListener("timeupdate",function(){z.setCurrentTime(ne.currentTime+z.timeOffset)},!1),z.video.addEventListener("waiting",function(){z.setIsPaused(!0,ne.currentTime+z.timeOffset)},!1),document.addEventListener("fullscreenchange",z.resizeWithTimeout,!1),document.addEventListener("mozfullscreenchange",z.resizeWithTimeout,!1),document.addEventListener("webkitfullscreenchange",z.resizeWithTimeout,!1),document.addEventListener("msfullscreenchange",z.resizeWithTimeout,!1),window.addEventListener("resize",z.resizeWithTimeout,!1),"undefined"!=typeof ResizeObserver&&(z.ro=new ResizeObserver(z.resizeWithTimeout),z.ro.observe(z.video)),z.video.videoWidth>0?z.resize():z.video.addEventListener("loadedmetadata",function(fe){fe.target.removeEventListener(fe.type,arguments.callee),z.resize()},!1)}},z.getVideoPosition=function(){var ne=z.video.videoWidth/z.video.videoHeight,Q=z.video.offsetWidth,fe=z.video.offsetHeight,re=Q,ve=fe;return Q/fe>ne?re=Math.floor(fe*ne):ve=Math.floor(Q/ne),{width:re,height:ve,x:(Q-re)/2,y:(fe-ve)/2}},z.setSubUrl=function(ne){z.subUrl=ne},z.resetRenderAheadCache=function(ne){if(z.renderAhead>0){var Q=[];if(ne&&z.oneshotState.prevHeight&&z.oneshotState.prevWidth){if(z.oneshotState.prevHeight==z.canvas.height&&z.oneshotState.prevWidth==z.canvas.width)return;var fe=10,ge=.3*z.renderAhead;z.canvas.height>=z.oneshotState.prevHeight*(1-z.resizeVariation)&&z.canvas.height<=z.oneshotState.prevHeight*(1+z.resizeVariation)&&z.canvas.width>=z.oneshotState.prevWidth*(1-z.resizeVariation)&&z.canvas.width<=z.oneshotState.prevWidth*(1+z.resizeVariation)&&(console.debug("viewport changes are small, leaving more of prerendered buffer"),fe=30,ge=.5*z.renderAhead);for(var re=z.video.currentTime+z.timeOffset+fe,ve=0,v=0;v<z.renderedItems.length;v++){var M=z.renderedItems[v];if(M.emptyFinish<0||M.emptyFinish>=re||(ve+=M.size)>=ge)break;Q.push(M)}}console.info("resetting prerender cache"),z.renderedItems=Q,z.oneshotState.eventStart=null,z.oneshotState.iteration++,z.oneshotState.renderRequested=!1,z.oneshotState.prevHeight=z.canvas.height,z.oneshotState.prevWidth=z.canvas.width,window.requestAnimationFrame(Z),mt(void 0,!0)}},z.renderFrameData=null,z.workerActive=!1,z.frameId=0,z.onWorkerMessage=function(ne){z.workerActive||(z.workerActive=!0,z.onReadyEvent&&z.onReadyEvent());var Q=ne.data;switch(Q.target){case"stdout":console.log(Q.content);break;case"console-log":console.log.apply(console,JSON.parse(Q.content));break;case"console-debug":console.debug.apply(console,JSON.parse(Q.content));break;case"console-info":console.info.apply(console,JSON.parse(Q.content));break;case"console-warn":console.warn.apply(console,JSON.parse(Q.content));break;case"console-error":console.error.apply(console,JSON.parse(Q.content));break;case"stderr":console.error(Q.content);break;case"window":window[Q.method]();break;case"canvas":switch(Q.op){case"getContext":z.ctx=z.canvas.getContext(Q.type,Q.attributes);break;case"resize":z.resize(Q.width,Q.height);break;case"renderCanvas":z.lastRenderTime<Q.time&&(z.lastRenderTime=Q.time,z.renderFramesData=Q,window.requestAnimationFrame(Fe));break;case"renderFastCanvas":z.lastRenderTime<Q.time&&(z.lastRenderTime=Q.time,z.renderFramesData=Q,window.requestAnimationFrame(Oe));break;case"setObjectProperty":z.canvas[Q.object][Q.property]=Q.value;break;case"oneshot-result":if(Q.iteration!=z.oneshotState.iteration)return void console.debug("received stale prerender, ignoring");z.debug&&console.info("oneshot received (start="+Q.eventStart+", empty="+Q.emptyFinish+"), render: "+Math.round(Q.spentTime)+" ms"),z.oneshotState.renderRequested=!1,Math.abs(Q.lastRenderedTime-z.oneshotState.requestNextTimestamp)<.01&&(z.oneshotState.requestNextTimestamp=-1),Q.eventStart-Q.lastRenderedTime>.01&&z.renderedItems.push({eventStart:Q.lastRenderedTime,eventFinish:Q.lastRenderedTime-.001,emptyFinish:Q.eventStart,viewport:Q.viewport,spentTime:0,blendTime:0,items:[],animated:!1,size:0});for(var fe=[],ge=0,re=0,ve=Q.canvases.length;re<ve;re++){var v=Q.canvases[re];fe.push({w:v.w,h:v.h,x:v.x,y:v.y,image:new ImageData(new Uint8ClampedArray(v.buffer),v.w,v.h)}),ge+=v.buffer.byteLength}var M=!1;if(Q.emptyFinish>0&&Q.emptyFinish-Q.eventStart<1/z.targetFps||Q.animated){var h=Q.eventStart+1/z.targetFps;Q.emptyFinish=h,Q.eventFinish=h,M=!0}z.renderedItems.push({eventStart:Q.eventStart,eventFinish:Q.eventFinish,emptyFinish:Q.emptyFinish,spentTime:Q.spentTime,blendTime:Q.blendTime,viewport:Q.viewport,items:fe,animated:Q.animated,size:ge}),z.renderedItems.sort(function(g,p){return g.eventStart-p.eventStart}),z.oneshotState.requestNextTimestamp>=0?mt(z.oneshotState.requestNextTimestamp,!0):Q.eventStart<0?console.info('oneshot received "end of frames" event'):Q.emptyFinish>=0?mt(Q.emptyFinish,M):console.info("there are no more events to prerender");break;default:throw"eh?"}break;case"tick":z.frameId=Q.id,z.worker.postMessage({target:"tock",id:z.frameId});break;case"custom":if(!z.onCustomMessage)throw"Custom message received but client onCustomMessage not implemented.";z.onCustomMessage(ne);break;case"setimmediate":z.worker.postMessage({target:"setimmediate"});break;case"get-events":console.log(Q.target),console.log(Q.events);break;case"get-styles":console.log(Q.target),console.log(Q.styles);break;default:throw"what? "+Q.target}},z.resize=function(ne,Q,fe,ge){var re=null;if(fe=fe||0,ge=ge||0,(!ne||!Q)&&z.video){var ve=function _(ne,Q){return null===z.prescaleTradeoff?Q>z.hardHeightLimit&&(ne=ne*z.hardHeightLimit/Q,Q=z.hardHeightLimit):z.prescaleTradeoff>1?Q*z.prescaleTradeoff<=z.softHeightLimit?(ne*=z.prescaleTradeoff,Q*=z.prescaleTradeoff):Q<z.softHeightLimit?(ne=ne*z.softHeightLimit/Q,Q=z.softHeightLimit):Q>=z.hardHeightLimit&&(ne=ne*z.hardHeightLimit/Q,Q=z.hardHeightLimit):Q>=z.softHeightLimit&&(Q*z.prescaleTradeoff<=z.softHeightLimit?(ne=ne*z.softHeightLimit/Q,Q=z.softHeightLimit):Q*z.prescaleTradeoff<=z.hardHeightLimit?(ne*=z.prescaleTradeoff,Q*=z.prescaleTradeoff):(ne=ne*z.hardHeightLimit/Q,Q=z.hardHeightLimit)),{width:ne,height:Q}}((re=z.getVideoPosition()).width*z.pixelRatio,re.height*z.pixelRatio);ne=ve.width,Q=ve.height;var v=z.canvasParent.getBoundingClientRect().top-z.video.getBoundingClientRect().top;fe=re.y-v,ge=re.x}ne&&Q?(z.canvas.width!=ne||z.canvas.height!=Q||z.canvas.style.top!=fe||z.canvas.style.left!=ge)&&(z.canvas.width=ne,z.canvas.height=Q,null!=re&&(z.canvasParent.style.position="relative",z.canvas.style.display="block",z.canvas.style.position="absolute",z.canvas.style.width=re.width+"px",z.canvas.style.height=re.height+"px",z.canvas.style.top=fe+"px",z.canvas.style.left=ge+"px",z.canvas.style.pointerEvents="none"),z.worker.postMessage({target:"canvas",width:z.canvas.width,height:z.canvas.height}),z.resetRenderAheadCache(!0)):z.video||console.error("width or height is 0. You should specify width & height for resize.")},z.resizeWithTimeout=function(){z.resize(),setTimeout(z.resize,100)},z.runBenchmark=function(){z.worker.postMessage({target:"runBenchmark"})},z.customMessage=function(ne,Q){z.worker.postMessage({target:"custom",userData:ne,preMain:(Q=Q||{}).preMain})},z.setCurrentTime=function(ne){z.worker.postMessage({target:"video",currentTime:ne})},z.setTrackByUrl=function(ne){z.worker.postMessage({target:"set-track-by-url",url:ne}),z.resetRenderAheadCache(!1)},z.setTrack=function(ne){z.worker.postMessage({target:"set-track",content:ne}),z.resetRenderAheadCache(!1)},z.freeTrack=function(ne){z.worker.postMessage({target:"free-track"}),z.resetRenderAheadCache(!1)},z.render=z.setCurrentTime,z.setIsPaused=function(ne,Q){z.worker.postMessage({target:"video",isPaused:ne,currentTime:Q})},z.setRate=function(ne){z.worker.postMessage({target:"video",rate:ne})},z.dispose=function(){z.worker.postMessage({target:"destroy"}),z.worker.terminate(),z.workerActive=!1,z.video&&z.video.parentNode.removeChild(z.canvasParent)},z.createEvent=function(ne){z.worker.postMessage({target:"create-event",event:ne})},z.getEvents=function(){z.worker.postMessage({target:"get-events"})},z.setEvent=function(ne,Q){z.worker.postMessage({target:"set-event",event:ne,index:Q})},z.removeEvent=function(ne){z.worker.postMessage({target:"remove-event",index:ne})},z.createStyle=function(ne){z.worker.postMessage({target:"create-style",style:ne})},z.getStyles=function(){z.worker.postMessage({target:"get-styles"})},z.setStyle=function(ne,Q){z.worker.postMessage({target:"set-style",style:ne,index:Q})},z.removeStyle=function(ne){z.worker.postMessage({target:"remove-style",index:ne})},z.init()};function _slicedToArray(Nt,hn){return _arrayWithHoles(Nt)||_iterableToArrayLimit(Nt,hn)||_unsupportedIterableToArray(Nt,hn)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(Nt,hn){var z=null==Nt?null:"undefined"!=typeof Symbol&&Nt[Symbol.iterator]||Nt["@@iterator"];if(null!=z){var wt,mt,bt=[],Z=!0,Fe=!1;try{for(z=z.call(Nt);!(Z=(wt=z.next()).done)&&(bt.push(wt.value),!hn||bt.length!==hn);Z=!0);}catch(Oe){Fe=!0,mt=Oe}finally{try{Z||null==z.return||z.return()}finally{if(Fe)throw mt}}return bt}}function _arrayWithHoles(Nt){if(Array.isArray(Nt))return Nt}function _createForOfIteratorHelper(Nt,hn){var z,wt="undefined"!=typeof Symbol&&Nt[Symbol.iterator]||Nt["@@iterator"];if(!wt){if(Array.isArray(Nt)||(wt=_unsupportedIterableToArray(Nt))||hn&&Nt&&"number"==typeof Nt.length)return wt&&(Nt=wt),z=0,{s:hn=function(){},n:function(){return z>=Nt.length?{done:!0}:{done:!1,value:Nt[z++]}},e:function(Fe){throw Fe},f:hn};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var mt,bt=!0,Z=!1;return{s:function(){wt=wt.call(Nt)},n:function(){var Fe=wt.next();return bt=Fe.done,Fe},e:function(Fe){Z=!0,mt=Fe},f:function(){try{bt||null==wt.return||wt.return()}finally{if(Z)throw mt}}}}function _unsupportedIterableToArray(Nt,hn){if(Nt){if("string"==typeof Nt)return _arrayLikeToArray(Nt,hn);var z=Object.prototype.toString.call(Nt).slice(8,-1);return"Map"===(z="Object"===z&&Nt.constructor?Nt.constructor.name:z)||"Set"===z?Array.from(Nt):"Arguments"===z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z)?_arrayLikeToArray(Nt,hn):void 0}}function _arrayLikeToArray(Nt,hn){(null==hn||hn>Nt.length)&&(hn=Nt.length);for(var z=0,wt=new Array(hn);z<hn;z++)wt[z]=Nt[z];return wt}"function"==typeof SubtitlesOctopusOnLoad&&SubtitlesOctopusOnLoad(),"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(exports=module.exports=SubtitlesOctopus);var Sakura=function(Nt,hn){var wt,mt,z=this;if(void 0===Nt)throw new Error("No selector present. Define an element.");function bt(ne){return ne[Math.floor(Math.random()*ne.length)]}function Z(ne,Q){return Math.floor(Math.random()*(Q-ne+1))+ne}this.el=document.querySelector(Nt),this.settings=(wt={className:"sakura",fallSpeed:1,maxSize:14,minSize:10,delay:300,colors:[{gradientColorStart:"rgba(255, 183, 197, 0.9)",gradientColorEnd:"rgba(255, 197, 208, 0.9)",gradientColorDegree:120}],lifeTime:0},mt=hn,Object.keys(wt).forEach(function(ne){mt&&Object.prototype.hasOwnProperty.call(mt,ne)&&(wt[ne]=mt[ne])}),wt),this.petalsWeak=new Map,setInterval(function(){if(z.settings.lifeTime){var ne,Q=[],fe=Date.now(),ge=_createForOfIteratorHelper(z.petalsWeak);try{for(ge.s();!(ne=ge.n()).done;){var re=_slicedToArray(ne.value,2),ve=re[0],v=re[1];ve+z.settings.lifeTime<fe&&(Q.push(ve),v.remove())}}catch(p){ge.e(p)}finally{ge.f()}for(var M=0,h=Q;M<h.length;M++)z.petalsWeak.delete(h[M])}},1e3),this.el.style.overflowX="hidden";var Fe=["webkit","moz","MS","o",""];function Oe(ne,Q,fe){for(var ge=0;ge<Fe.length;ge+=1){var re=Q;Fe[ge]||(re=Q.toLowerCase()),ne.addEventListener(Fe[ge]+re,fe,!1)}}function _(ne){return 0<=(ne=ne.getBoundingClientRect()).top&&0<=ne.left&&ne.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&ne.right<=(window.innerWidth||document.documentElement.clientWidth)}this.createPetal=function(){z.el.dataset.sakuraAnimId&&setTimeout(function(){window.requestAnimationFrame(z.createPetal)},z.settings.delay);var ge=["sway-0","sway-1","sway-2","sway-3","sway-4","sway-5","sway-6","sway-7","sway-8"],ne=bt(["blow-soft-left","blow-medium-left","blow-soft-right","blow-medium-right"]),fe=(ge=bt(ge),(.007*document.documentElement.clientHeight+Math.round(5*Math.random()))*z.settings.fallSpeed),Q=(ne=["fall ".concat(fe,"s linear 0s 1"),"".concat(ne," ").concat((30<fe?fe:30)-20+Z(0,20),"s linear 0s infinite"),"".concat(ge," ").concat(Z(2,4),"s linear 0s infinite")].join(", "),document.createElement("div")),re=(Q.classList.add(z.settings.className),ge=(fe=Z(z.settings.minSize,z.settings.maxSize))-Math.floor(Z(0,z.settings.minSize)/3),bt(z.settings.colors));Q.style.background="linear-gradient(".concat(re.gradientColorDegree,"deg, ").concat(re.gradientColorStart,", ").concat(re.gradientColorEnd,")"),Q.style.webkitAnimation=ne,Q.style.animation=ne,Q.style.borderRadius="".concat(Z(z.settings.maxSize,z.settings.maxSize+Math.floor(10*Math.random())),"px ").concat(Z(1,Math.floor(ge/4)),"px"),Q.style.height="".concat(fe,"px"),Q.style.left="".concat(Math.random()*document.documentElement.clientWidth-100,"px"),Q.style.marginTop="".concat(-(Math.floor(20*Math.random())+15),"px"),Q.style.width="".concat(ge,"px"),Oe(Q,"AnimationEnd",function(){_(Q)||Q.remove()}),Oe(Q,"AnimationIteration",function(){_(Q)||Q.remove()}),z.petalsWeak.set(Date.now(),Q),z.el.appendChild(Q)},this.el.setAttribute("data-sakura-anim-id",window.requestAnimationFrame(this.createPetal))};Sakura.prototype.start=function(){if(this.el.dataset.sakuraAnimId)throw new Error("Sakura is already running.");this.el.setAttribute("data-sakura-anim-id",window.requestAnimationFrame(this.createPetal))},Sakura.prototype.stop=function(){var Nt=this,hn=0<arguments.length&&void 0!==arguments[0]&&arguments[0],z=this.el.dataset.sakuraAnimId;z&&(window.cancelAnimationFrame(z),this.el.setAttribute("data-sakura-anim-id","")),hn||setTimeout(function(){for(var wt=document.getElementsByClassName(Nt.settings.className);0<wt.length;)wt[0].parentNode.removeChild(wt[0])},this.settings.delay+50)},function(Nt,hn){"object"==typeof exports&&"undefined"!=typeof module?module.exports=hn():"function"==typeof define&&define.amd?define(hn):(Nt="undefined"!=typeof globalThis?globalThis:Nt||self).bootstrap=hn()}(this,function(){"use strict";const Nt="transitionend",hn=Se=>{let D=Se.getAttribute("data-bs-target");if(!D||"#"===D){let ie=Se.getAttribute("href");if(!ie||!ie.includes("#")&&!ie.startsWith("."))return null;ie.includes("#")&&!ie.startsWith("#")&&(ie=`#${ie.split("#")[1]}`),D=ie&&"#"!==ie?ie.trim():null}return D},z=Se=>{const D=hn(Se);return D&&document.querySelector(D)?D:null},wt=Se=>{const D=hn(Se);return D?document.querySelector(D):null},mt=Se=>{Se.dispatchEvent(new Event(Nt))},bt=Se=>!(!Se||"object"!=typeof Se)&&(void 0!==Se.jquery&&(Se=Se[0]),void 0!==Se.nodeType),Z=Se=>bt(Se)?Se.jquery?Se[0]:Se:"string"==typeof Se&&Se.length>0?document.querySelector(Se):null,Fe=(Se,D,ie)=>{Object.keys(ie).forEach(Be=>{const Qe=ie[Be],ot=D[Be],kt=ot&&bt(ot)?"element":null==(cn=ot)?`${cn}`:{}.toString.call(cn).match(/\s([a-z]+)/i)[1].toLowerCase();var cn;if(!new RegExp(Qe).test(kt))throw new TypeError(`${Se.toUpperCase()}: Option "${Be}" provided type "${kt}" but expected type "${Qe}".`)})},Oe=Se=>!(!bt(Se)||0===Se.getClientRects().length)&&"visible"===getComputedStyle(Se).getPropertyValue("visibility"),_=Se=>!Se||Se.nodeType!==Node.ELEMENT_NODE||!!Se.classList.contains("disabled")||(void 0!==Se.disabled?Se.disabled:Se.hasAttribute("disabled")&&"false"!==Se.getAttribute("disabled")),ne=Se=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof Se.getRootNode){const D=Se.getRootNode();return D instanceof ShadowRoot?D:null}return Se instanceof ShadowRoot?Se:Se.parentNode?ne(Se.parentNode):null},Q=()=>{},ge=()=>{const{jQuery:Se}=window;return Se&&!document.body.hasAttribute("data-bs-no-jquery")?Se:null},re=[],ve=()=>"rtl"===document.documentElement.dir,v=Se=>{var D;D=()=>{const ie=ge();if(ie){const Be=Se.NAME,Qe=ie.fn[Be];ie.fn[Be]=Se.jQueryInterface,ie.fn[Be].Constructor=Se,ie.fn[Be].noConflict=()=>(ie.fn[Be]=Qe,Se.jQueryInterface)}},"loading"===document.readyState?(re.length||document.addEventListener("DOMContentLoaded",()=>{re.forEach(ie=>ie())}),re.push(D)):D()},M=Se=>{"function"==typeof Se&&Se()},h=(Se,D,ie=!0)=>{if(!ie)return void M(Se);const Be=(kt=>{if(!kt)return 0;let{transitionDuration:cn,transitionDelay:xn}=window.getComputedStyle(kt);const Dn=Number.parseFloat(cn),Wn=Number.parseFloat(xn);return Dn||Wn?(cn=cn.split(",")[0],xn=xn.split(",")[0],1e3*(Number.parseFloat(cn)+Number.parseFloat(xn))):0})(D)+5;let Qe=!1;const ot=({target:kt})=>{kt===D&&(Qe=!0,D.removeEventListener(Nt,ot),M(Se))};D.addEventListener(Nt,ot),setTimeout(()=>{Qe||mt(D)},Be)},g=(Se,D,ie,Be)=>{let Qe=Se.indexOf(D);if(-1===Qe)return Se[!ie&&Be?Se.length-1:0];const ot=Se.length;return Qe+=ie?1:-1,Be&&(Qe=(Qe+ot)%ot),Se[Math.max(0,Math.min(Qe,ot-1))]},p=/[^.]*(?=\..*)\.|.*/,x=/\..*/,r=/::\d+$/,c={};let f=1;const n={mouseenter:"mouseover",mouseleave:"mouseout"},t=/^(mouseenter|mouseleave)/i,i=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function s(Se,D){return D&&`${D}::${f++}`||Se.uidEvent||f++}function u(Se){const D=s(Se);return Se.uidEvent=D,c[D]=c[D]||{},c[D]}function o(Se,D,ie=null){const Be=Object.keys(Se);for(let Qe=0,ot=Be.length;Qe<ot;Qe++){const kt=Se[Be[Qe]];if(kt.originalHandler===D&&kt.delegationSelector===ie)return kt}return null}function l(Se,D,ie){const Be="string"==typeof D,Qe=Be?ie:D;let ot=b(Se);return i.has(ot)||(ot=Se),[Be,Qe,ot]}function d(Se,D,ie,Be,Qe){if("string"!=typeof D||!Se)return;if(ie||(ie=Be,Be=null),t.test(D)){const cr=hr=>function(or){if(!or.relatedTarget||or.relatedTarget!==or.delegateTarget&&!or.delegateTarget.contains(or.relatedTarget))return hr.call(this,or)};Be?Be=cr(Be):ie=cr(ie)}const[ot,kt,cn]=l(D,ie,Be),xn=u(Se),Dn=xn[cn]||(xn[cn]={}),Wn=o(Dn,kt,ot?ie:null);if(Wn)return void(Wn.oneOff=Wn.oneOff&&Qe);const kn=s(kt,D.replace(p,"")),Cr=ot?(cr=Se,hr=ie,or=Be,function pr(Vr){const Ir=cr.querySelectorAll(hr);for(let{target:xr}=Vr;xr&&xr!==this;xr=xr.parentNode)for(let Lr=Ir.length;Lr--;)if(Ir[Lr]===xr)return Vr.delegateTarget=xr,pr.oneOff&&I.off(cr,Vr.type,hr,or),or.apply(xr,[Vr]);return null}):function(cr,hr){return function or(pr){return pr.delegateTarget=cr,or.oneOff&&I.off(cr,pr.type,hr),hr.apply(cr,[pr])}}(Se,ie);var cr,hr,or;Cr.delegationSelector=ot?ie:null,Cr.originalHandler=kt,Cr.oneOff=Qe,Cr.uidEvent=kn,Dn[kn]=Cr,Se.addEventListener(cn,Cr,ot)}function w(Se,D,ie,Be,Qe){const ot=o(D[ie],Be,Qe);ot&&(Se.removeEventListener(ie,ot,Boolean(Qe)),delete D[ie][ot.uidEvent])}function b(Se){return Se=Se.replace(x,""),n[Se]||Se}const I={on(Se,D,ie,Be){d(Se,D,ie,Be,!1)},one(Se,D,ie,Be){d(Se,D,ie,Be,!0)},off(Se,D,ie,Be){if("string"!=typeof D||!Se)return;const[Qe,ot,kt]=l(D,ie,Be),cn=kt!==D,xn=u(Se),Dn=D.startsWith(".");if(void 0!==ot)return xn&&xn[kt]?void w(Se,xn,kt,ot,Qe?ie:null):void 0;Dn&&Object.keys(xn).forEach(kn=>{!function(Cr,cr,hr,or){const pr=cr[hr]||{};Object.keys(pr).forEach(Vr=>{if(Vr.includes(or)){const Ir=pr[Vr];w(Cr,cr,hr,Ir.originalHandler,Ir.delegationSelector)}})}(Se,xn,kn,D.slice(1))});const Wn=xn[kt]||{};Object.keys(Wn).forEach(kn=>{const Cr=kn.replace(r,"");if(!cn||D.includes(Cr)){const cr=Wn[kn];w(Se,xn,kt,cr.originalHandler,cr.delegationSelector)}})},trigger(Se,D,ie){if("string"!=typeof D||!Se)return null;const Be=ge(),Qe=b(D),ot=D!==Qe,kt=i.has(Qe);let cn,xn=!0,Dn=!0,Wn=!1,kn=null;return ot&&Be&&(cn=Be.Event(D,ie),Be(Se).trigger(cn),xn=!cn.isPropagationStopped(),Dn=!cn.isImmediatePropagationStopped(),Wn=cn.isDefaultPrevented()),kt?(kn=document.createEvent("HTMLEvents"),kn.initEvent(Qe,xn,!0)):kn=new CustomEvent(D,{bubbles:xn,cancelable:!0}),void 0!==ie&&Object.keys(ie).forEach(Cr=>{Object.defineProperty(kn,Cr,{get:()=>ie[Cr]})}),Wn&&kn.preventDefault(),Dn&&Se.dispatchEvent(kn),kn.defaultPrevented&&void 0!==cn&&cn.preventDefault(),kn}},S=new Map,R={set(Se,D,ie){S.has(Se)||S.set(Se,new Map);const Be=S.get(Se);Be.has(D)||0===Be.size?Be.set(D,ie):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(Be.keys())[0]}.`)},get:(Se,D)=>S.has(Se)&&S.get(Se).get(D)||null,remove(Se,D){if(!S.has(Se))return;const ie=S.get(Se);ie.delete(D),0===ie.size&&S.delete(Se)}};class F{constructor(D){(D=Z(D))&&(this._element=D,R.set(this._element,this.constructor.DATA_KEY,this))}dispose(){R.remove(this._element,this.constructor.DATA_KEY),I.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(D=>{this[D]=null})}_queueCallback(D,ie,Be=!0){h(D,ie,Be)}static getInstance(D){return R.get(Z(D),this.DATA_KEY)}static getOrCreateInstance(D,ie={}){return this.getInstance(D)||new this(D,"object"==typeof ie?ie:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const q=(Se,D="hide")=>{const Be=Se.NAME;I.on(document,`click.dismiss${Se.EVENT_KEY}`,`[data-bs-dismiss="${Be}"]`,function(Qe){if(["A","AREA"].includes(this.tagName)&&Qe.preventDefault(),_(this))return;const ot=wt(this)||this.closest(`.${Be}`);Se.getOrCreateInstance(ot)[D]()})};class K extends F{static get NAME(){return"alert"}close(){if(I.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const D=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,D)}_destroyElement(){this._element.remove(),I.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(D){return this.each(function(){const ie=K.getOrCreateInstance(this);if("string"==typeof D){if(void 0===ie[D]||D.startsWith("_")||"constructor"===D)throw new TypeError(`No method named "${D}"`);ie[D](this)}})}}q(K,"close"),v(K);const he='[data-bs-toggle="button"]';class Ae extends F{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(D){return this.each(function(){const ie=Ae.getOrCreateInstance(this);"toggle"===D&&ie[D]()})}}function xe(Se){return"true"===Se||"false"!==Se&&(Se===Number(Se).toString()?Number(Se):""===Se||"null"===Se?null:Se)}function A(Se){return Se.replace(/[A-Z]/g,D=>`-${D.toLowerCase()}`)}I.on(document,"click.bs.button.data-api",he,Se=>{Se.preventDefault();const D=Se.target.closest(he);Ae.getOrCreateInstance(D).toggle()}),v(Ae);const N={setDataAttribute(Se,D,ie){Se.setAttribute(`data-bs-${A(D)}`,ie)},removeDataAttribute(Se,D){Se.removeAttribute(`data-bs-${A(D)}`)},getDataAttributes(Se){if(!Se)return{};const D={};return Object.keys(Se.dataset).filter(ie=>ie.startsWith("bs")).forEach(ie=>{let Be=ie.replace(/^bs/,"");Be=Be.charAt(0).toLowerCase()+Be.slice(1,Be.length),D[Be]=xe(Se.dataset[ie])}),D},getDataAttribute:(Se,D)=>xe(Se.getAttribute(`data-bs-${A(D)}`)),offset(Se){const D=Se.getBoundingClientRect();return{top:D.top+window.pageYOffset,left:D.left+window.pageXOffset}},position:Se=>({top:Se.offsetTop,left:Se.offsetLeft})},U={find:(Se,D=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(D,Se)),findOne:(Se,D=document.documentElement)=>Element.prototype.querySelector.call(D,Se),children:(Se,D)=>[].concat(...Se.children).filter(ie=>ie.matches(D)),parents(Se,D){const ie=[];let Be=Se.parentNode;for(;Be&&Be.nodeType===Node.ELEMENT_NODE&&3!==Be.nodeType;)Be.matches(D)&&ie.push(Be),Be=Be.parentNode;return ie},prev(Se,D){let ie=Se.previousElementSibling;for(;ie;){if(ie.matches(D))return[ie];ie=ie.previousElementSibling}return[]},next(Se,D){let ie=Se.nextElementSibling;for(;ie;){if(ie.matches(D))return[ie];ie=ie.nextElementSibling}return[]},focusableChildren(Se){const D=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(ie=>`${ie}:not([tabindex^="-"])`).join(", ");return this.find(D,Se).filter(ie=>!_(ie)&&Oe(ie))}},y="carousel",C={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},L={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},O="next",oe="prev",$="left",ue="right",qe={ArrowLeft:ue,ArrowRight:$},Ze="slid.bs.carousel",Ve="active",tt=".active.carousel-item";class at extends F{constructor(D,ie){super(D),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(ie),this._indicatorsElement=U.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return C}static get NAME(){return y}next(){this._slide(O)}nextWhenVisible(){!document.hidden&&Oe(this._element)&&this.next()}prev(){this._slide(oe)}pause(D){D||(this._isPaused=!0),U.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(mt(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(D){D||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(D){this._activeElement=U.findOne(tt,this._element);const ie=this._getItemIndex(this._activeElement);if(!(D>this._items.length-1||D<0)){if(!this._isSliding)return ie===D?(this.pause(),void this.cycle()):void this._slide(D>ie?O:oe,this._items[D]);I.one(this._element,Ze,()=>this.to(D))}}_getConfig(D){return D={...C,...N.getDataAttributes(this._element),..."object"==typeof D?D:{}},Fe(y,D,L),D}_handleSwipe(){const D=Math.abs(this.touchDeltaX);if(D<=40)return;const ie=D/this.touchDeltaX;this.touchDeltaX=0,ie&&this._slide(ie>0?ue:$)}_addEventListeners(){this._config.keyboard&&I.on(this._element,"keydown.bs.carousel",D=>this._keydown(D)),"hover"===this._config.pause&&(I.on(this._element,"mouseenter.bs.carousel",D=>this.pause(D)),I.on(this._element,"mouseleave.bs.carousel",D=>this.cycle(D))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const D=ot=>this._pointerEvent&&("pen"===ot.pointerType||"touch"===ot.pointerType),ie=ot=>{D(ot)?this.touchStartX=ot.clientX:this._pointerEvent||(this.touchStartX=ot.touches[0].clientX)},Be=ot=>{this.touchDeltaX=ot.touches&&ot.touches.length>1?0:ot.touches[0].clientX-this.touchStartX},Qe=ot=>{D(ot)&&(this.touchDeltaX=ot.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(kt=>this.cycle(kt),500+this._config.interval))};U.find(".carousel-item img",this._element).forEach(ot=>{I.on(ot,"dragstart.bs.carousel",kt=>kt.preventDefault())}),this._pointerEvent?(I.on(this._element,"pointerdown.bs.carousel",ot=>ie(ot)),I.on(this._element,"pointerup.bs.carousel",ot=>Qe(ot)),this._element.classList.add("pointer-event")):(I.on(this._element,"touchstart.bs.carousel",ot=>ie(ot)),I.on(this._element,"touchmove.bs.carousel",ot=>Be(ot)),I.on(this._element,"touchend.bs.carousel",ot=>Qe(ot)))}_keydown(D){if(/input|textarea/i.test(D.target.tagName))return;const ie=qe[D.key];ie&&(D.preventDefault(),this._slide(ie))}_getItemIndex(D){return this._items=D&&D.parentNode?U.find(".carousel-item",D.parentNode):[],this._items.indexOf(D)}_getItemByOrder(D,ie){return g(this._items,ie,D===O,this._config.wrap)}_triggerSlideEvent(D,ie){const Be=this._getItemIndex(D),Qe=this._getItemIndex(U.findOne(tt,this._element));return I.trigger(this._element,"slide.bs.carousel",{relatedTarget:D,direction:ie,from:Qe,to:Be})}_setActiveIndicatorElement(D){if(this._indicatorsElement){const ie=U.findOne(".active",this._indicatorsElement);ie.classList.remove(Ve),ie.removeAttribute("aria-current");const Be=U.find("[data-bs-target]",this._indicatorsElement);for(let Qe=0;Qe<Be.length;Qe++)if(Number.parseInt(Be[Qe].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(D)){Be[Qe].classList.add(Ve),Be[Qe].setAttribute("aria-current","true");break}}}_updateInterval(){const D=this._activeElement||U.findOne(tt,this._element);if(!D)return;const ie=Number.parseInt(D.getAttribute("data-bs-interval"),10);ie?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=ie):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(D,ie){const Be=this._directionToOrder(D),Qe=U.findOne(tt,this._element),ot=this._getItemIndex(Qe),kt=ie||this._getItemByOrder(Be,Qe),cn=this._getItemIndex(kt),xn=Boolean(this._interval),Dn=Be===O,Wn=Dn?"carousel-item-start":"carousel-item-end",kn=Dn?"carousel-item-next":"carousel-item-prev",Cr=this._orderToDirection(Be);if(kt&&kt.classList.contains(Ve))return void(this._isSliding=!1);if(this._isSliding||this._triggerSlideEvent(kt,Cr).defaultPrevented||!Qe||!kt)return;this._isSliding=!0,xn&&this.pause(),this._setActiveIndicatorElement(kt),this._activeElement=kt;const cr=()=>{I.trigger(this._element,Ze,{relatedTarget:kt,direction:Cr,from:ot,to:cn})};this._element.classList.contains("slide")?(kt.classList.add(kn),Qe.classList.add(Wn),kt.classList.add(Wn),this._queueCallback(()=>{kt.classList.remove(Wn,kn),kt.classList.add(Ve),Qe.classList.remove(Ve,kn,Wn),this._isSliding=!1,setTimeout(cr,0)},Qe,!0)):(Qe.classList.remove(Ve),kt.classList.add(Ve),this._isSliding=!1,cr()),xn&&this.cycle()}_directionToOrder(D){return[ue,$].includes(D)?ve()?D===$?oe:O:D===$?O:oe:D}_orderToDirection(D){return[O,oe].includes(D)?ve()?D===oe?$:ue:D===oe?ue:$:D}static carouselInterface(D,ie){const Be=at.getOrCreateInstance(D,ie);let{_config:Qe}=Be;"object"==typeof ie&&(Qe={...Qe,...ie});const ot="string"==typeof ie?ie:Qe.slide;if("number"==typeof ie)Be.to(ie);else if("string"==typeof ot){if(void 0===Be[ot])throw new TypeError(`No method named "${ot}"`);Be[ot]()}else Qe.interval&&Qe.ride&&(Be.pause(),Be.cycle())}static jQueryInterface(D){return this.each(function(){at.carouselInterface(this,D)})}static dataApiClickHandler(D){const ie=wt(this);if(!ie||!ie.classList.contains("carousel"))return;const Be={...N.getDataAttributes(ie),...N.getDataAttributes(this)},Qe=this.getAttribute("data-bs-slide-to");Qe&&(Be.interval=!1),at.carouselInterface(ie,Be),Qe&&at.getInstance(ie).to(Qe),D.preventDefault()}}I.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",at.dataApiClickHandler),I.on(window,"load.bs.carousel.data-api",()=>{const Se=U.find('[data-bs-ride="carousel"]');for(let D=0,ie=Se.length;D<ie;D++)at.carouselInterface(Se[D],at.getInstance(Se[D]))}),v(at);const zt="collapse",Wt={toggle:!0,parent:null},Jt={toggle:"boolean",parent:"(null|element)"},Ye="show",st="collapse",ft="collapsing",Y="collapsed",de=":scope .collapse .collapse",X='[data-bs-toggle="collapse"]';class ae extends F{constructor(D,ie){super(D),this._isTransitioning=!1,this._config=this._getConfig(ie),this._triggerArray=[];const Be=U.find(X);for(let Qe=0,ot=Be.length;Qe<ot;Qe++){const kt=Be[Qe],cn=z(kt),xn=U.find(cn).filter(Dn=>Dn===this._element);null!==cn&&xn.length&&(this._selector=cn,this._triggerArray.push(kt))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Wt}static get NAME(){return zt}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let D,ie=[];if(this._config.parent){const kt=U.find(de,this._config.parent);ie=U.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(cn=>!kt.includes(cn))}const Be=U.findOne(this._selector);if(ie.length){const kt=ie.find(cn=>Be!==cn);if(D=kt?ae.getInstance(kt):null,D&&D._isTransitioning)return}if(I.trigger(this._element,"show.bs.collapse").defaultPrevented)return;ie.forEach(kt=>{Be!==kt&&ae.getOrCreateInstance(kt,{toggle:!1}).hide(),D||R.set(kt,"bs.collapse",null)});const Qe=this._getDimension();this._element.classList.remove(st),this._element.classList.add(ft),this._element.style[Qe]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ot=`scroll${Qe[0].toUpperCase()+Qe.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ft),this._element.classList.add(st,Ye),this._element.style[Qe]="",I.trigger(this._element,"shown.bs.collapse")},this._element,!0),this._element.style[Qe]=`${this._element[ot]}px`}hide(){if(this._isTransitioning||!this._isShown()||I.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const D=this._getDimension();this._element.style[D]=`${this._element.getBoundingClientRect()[D]}px`,this._element.classList.add(ft),this._element.classList.remove(st,Ye);const ie=this._triggerArray.length;for(let Be=0;Be<ie;Be++){const Qe=this._triggerArray[Be],ot=wt(Qe);ot&&!this._isShown(ot)&&this._addAriaAndCollapsedClass([Qe],!1)}this._isTransitioning=!0,this._element.style[D]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ft),this._element.classList.add(st),I.trigger(this._element,"hidden.bs.collapse")},this._element,!0)}_isShown(D=this._element){return D.classList.contains(Ye)}_getConfig(D){return(D={...Wt,...N.getDataAttributes(this._element),...D}).toggle=Boolean(D.toggle),D.parent=Z(D.parent),Fe(zt,D,Jt),D}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const D=U.find(de,this._config.parent);U.find(X,this._config.parent).filter(ie=>!D.includes(ie)).forEach(ie=>{const Be=wt(ie);Be&&this._addAriaAndCollapsedClass([ie],this._isShown(Be))})}_addAriaAndCollapsedClass(D,ie){D.length&&D.forEach(Be=>{ie?Be.classList.remove(Y):Be.classList.add(Y),Be.setAttribute("aria-expanded",ie)})}static jQueryInterface(D){return this.each(function(){const ie={};"string"==typeof D&&/show|hide/.test(D)&&(ie.toggle=!1);const Be=ae.getOrCreateInstance(this,ie);if("string"==typeof D){if(void 0===Be[D])throw new TypeError(`No method named "${D}"`);Be[D]()}})}}I.on(document,"click.bs.collapse.data-api",X,function(Se){("A"===Se.target.tagName||Se.delegateTarget&&"A"===Se.delegateTarget.tagName)&&Se.preventDefault();const D=z(this);U.find(D).forEach(ie=>{ae.getOrCreateInstance(ie,{toggle:!1}).toggle()})}),v(ae);var Je="top",ce="bottom",Ee="right",$e="left",nt="auto",ct=[Je,ce,Ee,$e],Ut="start",Ht="end",Dt="clippingParents",Xt="viewport",Gt="popper",bn="reference",Nn=ct.reduce(function(Se,D){return Se.concat([D+"-"+Ut,D+"-"+Ht])},[]),En=[].concat(ct,[nt]).reduce(function(Se,D){return Se.concat([D,D+"-"+Ut,D+"-"+Ht])},[]),Cn="beforeRead",_t="afterRead",Xn="beforeMain",Fn="afterMain",Zn="beforeWrite",nn="afterWrite",mn=[Cn,"read",_t,Xn,"main",Fn,Zn,"write",nn];function Hn(Se){return Se?(Se.nodeName||"").toLowerCase():null}function An(Se){if(null==Se)return window;if("[object Window]"!==Se.toString()){var D=Se.ownerDocument;return D&&D.defaultView||window}return Se}function tr(Se){return Se instanceof An(Se).Element||Se instanceof Element}function Rr(Se){return Se instanceof An(Se).HTMLElement||Se instanceof HTMLElement}function ir(Se){return"undefined"!=typeof ShadowRoot&&(Se instanceof An(Se).ShadowRoot||Se instanceof ShadowRoot)}const nr={name:"applyStyles",enabled:!0,phase:"write",fn:function(Se){var D=Se.state;Object.keys(D.elements).forEach(function(ie){var Be=D.styles[ie]||{},Qe=D.attributes[ie]||{},ot=D.elements[ie];Rr(ot)&&Hn(ot)&&(Object.assign(ot.style,Be),Object.keys(Qe).forEach(function(kt){var cn=Qe[kt];!1===cn?ot.removeAttribute(kt):ot.setAttribute(kt,!0===cn?"":cn)}))})},effect:function(Se){var D=Se.state,ie={popper:{position:D.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(D.elements.popper.style,ie.popper),D.styles=ie,D.elements.arrow&&Object.assign(D.elements.arrow.style,ie.arrow),function(){Object.keys(D.elements).forEach(function(Be){var Qe=D.elements[Be],ot=D.attributes[Be]||{},kt=Object.keys(D.styles.hasOwnProperty(Be)?D.styles[Be]:ie[Be]).reduce(function(cn,xn){return cn[xn]="",cn},{});Rr(Qe)&&Hn(Qe)&&(Object.assign(Qe.style,kt),Object.keys(ot).forEach(function(cn){Qe.removeAttribute(cn)}))})}},requires:["computeStyles"]};function $t(Se){return Se.split("-")[0]}function Ne(Se,D){var ie=Se.getBoundingClientRect();return{width:ie.width/1,height:ie.height/1,top:ie.top/1,right:ie.right/1,bottom:ie.bottom/1,left:ie.left/1,x:ie.left/1,y:ie.top/1}}function Zt(Se){var D=Ne(Se),ie=Se.offsetWidth,Be=Se.offsetHeight;return Math.abs(D.width-ie)<=1&&(ie=D.width),Math.abs(D.height-Be)<=1&&(Be=D.height),{x:Se.offsetLeft,y:Se.offsetTop,width:ie,height:Be}}function sr(Se,D){var ie=D.getRootNode&&D.getRootNode();if(Se.contains(D))return!0;if(ie&&ir(ie)){var Be=D;do{if(Be&&Se.isSameNode(Be))return!0;Be=Be.parentNode||Be.host}while(Be)}return!1}function _n(Se){return An(Se).getComputedStyle(Se)}function Vn(Se){return["table","td","th"].indexOf(Hn(Se))>=0}function wr(Se){return((tr(Se)?Se.ownerDocument:Se.document)||window.document).documentElement}function jn(Se){return"html"===Hn(Se)?Se:Se.assignedSlot||Se.parentNode||(ir(Se)?Se.host:null)||wr(Se)}function Kn(Se){return Rr(Se)&&"fixed"!==_n(Se).position?Se.offsetParent:null}function er(Se){for(var D=An(Se),ie=Kn(Se);ie&&Vn(ie)&&"static"===_n(ie).position;)ie=Kn(ie);return ie&&("html"===Hn(ie)||"body"===Hn(ie)&&"static"===_n(ie).position)?D:ie||function(Be){var Qe=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Rr(Be)&&"fixed"===_n(Be).position)return null;for(var ot=jn(Be);Rr(ot)&&["html","body"].indexOf(Hn(ot))<0;){var kt=_n(ot);if("none"!==kt.transform||"none"!==kt.perspective||"paint"===kt.contain||-1!==["transform","perspective"].indexOf(kt.willChange)||Qe&&"filter"===kt.willChange||Qe&&kt.filter&&"none"!==kt.filter)return ot;ot=ot.parentNode}return null}(Se)||D}function Gn(Se){return["top","bottom"].indexOf(Se)>=0?"x":"y"}var Yn=Math.max,et=Math.min,G=Math.round;function ee(Se,D,ie){return Yn(Se,et(D,ie))}function pe(Se){return Object.assign({},{top:0,right:0,bottom:0,left:0},Se)}function W(Se,D){return D.reduce(function(ie,Be){return ie[Be]=Se,ie},{})}const be={name:"arrow",enabled:!0,phase:"main",fn:function(Se){var D,jr,$r,ie=Se.state,Be=Se.name,Qe=Se.options,ot=ie.elements.arrow,kt=ie.modifiersData.popperOffsets,cn=$t(ie.placement),xn=Gn(cn),Dn=[$e,Ee].indexOf(cn)>=0?"height":"width";if(ot&&kt){var Wn=($r=ie,pe("number"!=typeof(jr="function"==typeof(jr=Qe.padding)?jr(Object.assign({},$r.rects,{placement:$r.placement})):jr)?jr:W(jr,ct))),kn=Zt(ot),Cr="y"===xn?Je:$e,cr="y"===xn?ce:Ee,hr=ie.rects.reference[Dn]+ie.rects.reference[xn]-kt[xn]-ie.rects.popper[Dn],or=kt[xn]-ie.rects.reference[xn],pr=er(ot),Vr=pr?"y"===xn?pr.clientHeight||0:pr.clientWidth||0:0,Br=Vr/2-kn[Dn]/2+(hr/2-or/2),Nr=ee(Wn[Cr],Br,Vr-kn[Dn]-Wn[cr]);ie.modifiersData[Be]=((D={})[xn]=Nr,D.centerOffset=Nr-Br,D)}},effect:function(Se){var D=Se.state,ie=Se.options.element,Be=void 0===ie?"[data-popper-arrow]":ie;null!=Be&&("string"!=typeof Be||(Be=D.elements.popper.querySelector(Be)))&&sr(D.elements.popper,Be)&&(D.elements.arrow=Be)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bt(Se){return Se.split("-")[1]}var Pt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dn(Se){var D,ai,bi,Jr,ie=Se.popper,Be=Se.popperRect,Qe=Se.placement,ot=Se.variation,kt=Se.offsets,cn=Se.position,xn=Se.gpuAcceleration,Dn=Se.adaptive,Wn=Se.roundOffsets,kn=!0===Wn?(bi=(ai=kt).y,Jr=window.devicePixelRatio||1,{x:G(G(ai.x*Jr)/Jr)||0,y:G(G(bi*Jr)/Jr)||0}):"function"==typeof Wn?Wn(kt):kt,Cr=kn.x,cr=void 0===Cr?0:Cr,hr=kn.y,or=void 0===hr?0:hr,pr=kt.hasOwnProperty("x"),Vr=kt.hasOwnProperty("y"),Ir=$e,xr=Je,Lr=window;if(Dn){var Br=er(ie),Nr="clientHeight",Hr="clientWidth";Br===An(ie)&&"static"!==_n(Br=wr(ie)).position&&"absolute"===cn&&(Nr="scrollHeight",Hr="scrollWidth"),Br=Br,Qe!==Je&&(Qe!==$e&&Qe!==Ee||ot!==Ht)||(xr=ce,or-=Br[Nr]-Be.height,or*=xn?1:-1),Qe!==$e&&(Qe!==Je&&Qe!==ce||ot!==Ht)||(Ir=Ee,cr-=Br[Hr]-Be.width,cr*=xn?1:-1)}var jr,$r=Object.assign({position:cn},Dn&&Pt);return Object.assign({},$r,xn?((jr={})[xr]=Vr?"0":"",jr[Ir]=pr?"0":"",jr.transform=(Lr.devicePixelRatio||1)<=1?"translate("+cr+"px, "+or+"px)":"translate3d("+cr+"px, "+or+"px, 0)",jr):((D={})[xr]=Vr?or+"px":"",D[Ir]=pr?cr+"px":"",D.transform="",D))}const Mn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(Se){var D=Se.state,ie=Se.options,Be=ie.gpuAcceleration,Qe=void 0===Be||Be,ot=ie.adaptive,kt=void 0===ot||ot,cn=ie.roundOffsets,xn=void 0===cn||cn,Dn={placement:$t(D.placement),variation:Bt(D.placement),popper:D.elements.popper,popperRect:D.rects.popper,gpuAcceleration:Qe};null!=D.modifiersData.popperOffsets&&(D.styles.popper=Object.assign({},D.styles.popper,dn(Object.assign({},Dn,{offsets:D.modifiersData.popperOffsets,position:D.options.strategy,adaptive:kt,roundOffsets:xn})))),null!=D.modifiersData.arrow&&(D.styles.arrow=Object.assign({},D.styles.arrow,dn(Object.assign({},Dn,{offsets:D.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:xn})))),D.attributes.popper=Object.assign({},D.attributes.popper,{"data-popper-placement":D.placement})},data:{}};var fn={passive:!0};const ln={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(Se){var D=Se.state,ie=Se.instance,Be=Se.options,Qe=Be.scroll,ot=void 0===Qe||Qe,kt=Be.resize,cn=void 0===kt||kt,xn=An(D.elements.popper),Dn=[].concat(D.scrollParents.reference,D.scrollParents.popper);return ot&&Dn.forEach(function(Wn){Wn.addEventListener("scroll",ie.update,fn)}),cn&&xn.addEventListener("resize",ie.update,fn),function(){ot&&Dn.forEach(function(Wn){Wn.removeEventListener("scroll",ie.update,fn)}),cn&&xn.removeEventListener("resize",ie.update,fn)}},data:{}};var Tn={left:"right",right:"left",bottom:"top",top:"bottom"};function Qn(Se){return Se.replace(/left|right|bottom|top/g,function(D){return Tn[D]})}var ur={start:"end",end:"start"};function yr(Se){return Se.replace(/start|end/g,function(D){return ur[D]})}function _r(Se){var D=An(Se);return{scrollLeft:D.pageXOffset,scrollTop:D.pageYOffset}}function qr(Se){return Ne(wr(Se)).left+_r(Se).scrollLeft}function Or(Se){var D=_n(Se);return/auto|scroll|overlay|hidden/.test(D.overflow+D.overflowY+D.overflowX)}function kr(Se){return["html","body","#document"].indexOf(Hn(Se))>=0?Se.ownerDocument.body:Rr(Se)&&Or(Se)?Se:kr(jn(Se))}function br(Se,D){var ie;void 0===D&&(D=[]);var Be=kr(Se),Qe=Be===(null==(ie=Se.ownerDocument)?void 0:ie.body),ot=An(Be),kt=Qe?[ot].concat(ot.visualViewport||[],Or(Be)?Be:[]):Be,cn=D.concat(kt);return Qe?cn:cn.concat(br(jn(kt)))}function ri(Se){return Object.assign({},Se,{left:Se.x,top:Se.y,right:Se.x+Se.width,bottom:Se.y+Se.height})}function ti(Se,D){return D===Xt?ri((Be=An(ie=Se),kt=(Qe=wr(ie)).clientWidth,cn=Qe.clientHeight,xn=0,Dn=0,(ot=Be.visualViewport)&&(kt=ot.width,cn=ot.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(xn=ot.offsetLeft,Dn=ot.offsetTop)),{width:kt,height:cn,x:xn+qr(ie),y:Dn})):Rr(D)?function(ie){var Be=Ne(ie);return Be.top=Be.top+ie.clientTop,Be.left=Be.left+ie.clientLeft,Be.bottom=Be.top+ie.clientHeight,Be.right=Be.left+ie.clientWidth,Be.width=ie.clientWidth,Be.height=ie.clientHeight,Be.x=Be.left,Be.y=Be.top,Be}(D):ri(function(ie){var Be,Qe=wr(ie),ot=_r(ie),kt=null==(Be=ie.ownerDocument)?void 0:Be.body,cn=Yn(Qe.scrollWidth,Qe.clientWidth,kt?kt.scrollWidth:0,kt?kt.clientWidth:0),xn=Yn(Qe.scrollHeight,Qe.clientHeight,kt?kt.scrollHeight:0,kt?kt.clientHeight:0),Dn=-ot.scrollLeft+qr(ie),Wn=-ot.scrollTop;return"rtl"===_n(kt||Qe).direction&&(Dn+=Yn(Qe.clientWidth,kt?kt.clientWidth:0)-cn),{width:cn,height:xn,x:Dn,y:Wn}}(wr(Se)));var ie,Be,Qe,ot,kt,cn,xn,Dn}function Dr(Se){var D,ie=Se.reference,Be=Se.element,Qe=Se.placement,ot=Qe?$t(Qe):null,kt=Qe?Bt(Qe):null,cn=ie.x+ie.width/2-Be.width/2,xn=ie.y+ie.height/2-Be.height/2;switch(ot){case Je:D={x:cn,y:ie.y-Be.height};break;case ce:D={x:cn,y:ie.y+ie.height};break;case Ee:D={x:ie.x+ie.width,y:xn};break;case $e:D={x:ie.x-Be.width,y:xn};break;default:D={x:ie.x,y:ie.y}}var Dn=ot?Gn(ot):null;if(null!=Dn){var Wn="y"===Dn?"height":"width";switch(kt){case Ut:D[Dn]=D[Dn]-(ie[Wn]/2-Be[Wn]/2);break;case Ht:D[Dn]=D[Dn]+(ie[Wn]/2-Be[Wn]/2)}}return D}function Jn(Se,D){void 0===D&&(D={});var li,bi,Jr,Yr,ao,we,so,zi,di,Be=D.placement,Qe=void 0===Be?Se.placement:Be,ot=D.boundary,kt=void 0===ot?Dt:ot,cn=D.rootBoundary,xn=void 0===cn?Xt:cn,Dn=D.elementContext,Wn=void 0===Dn?Gt:Dn,kn=D.altBoundary,Cr=void 0!==kn&&kn,cr=D.padding,hr=void 0===cr?0:cr,or=pe("number"!=typeof hr?hr:W(hr,ct)),Vr=Se.rects.popper,Ir=Se.elements[Cr?Wn===Gt?bn:Gt:Wn],xr=(li=tr(Ir)?Ir:Ir.contextElement||wr(Se.elements.popper),Jr=xn,so="clippingParents"===(bi=kt)?(ao=br(jn(Yr=li)),tr(we=["absolute","fixed"].indexOf(_n(Yr).position)>=0&&Rr(Yr)?er(Yr):Yr)?ao.filter(function(Pe){return tr(Pe)&&sr(Pe,we)&&"body"!==Hn(Pe)}):[]):[].concat(bi),di=(zi=[].concat(so,[Jr])).reduce(function(Yr,ao){var we=ti(li,ao);return Yr.top=Yn(we.top,Yr.top),Yr.right=et(we.right,Yr.right),Yr.bottom=et(we.bottom,Yr.bottom),Yr.left=Yn(we.left,Yr.left),Yr},ti(li,zi[0])),di.width=di.right-di.left,di.height=di.bottom-di.top,di.x=di.left,di.y=di.top,di),Lr=Ne(Se.elements.reference),Br=Dr({reference:Lr,element:Vr,strategy:"absolute",placement:Qe}),Nr=ri(Object.assign({},Vr,Br)),Hr=Wn===Gt?Nr:Lr,jr={top:xr.top-Hr.top+or.top,bottom:Hr.bottom-xr.bottom+or.bottom,left:xr.left-Hr.left+or.left,right:Hr.right-xr.right+or.right},$r=Se.modifiersData.offset;if(Wn===Gt&&$r){var ai=$r[Qe];Object.keys(jr).forEach(function(li){var bi=[Ee,ce].indexOf(li)>=0?1:-1,Jr=[Je,ce].indexOf(li)>=0?"y":"x";jr[li]+=ai[Jr]*bi})}return jr}const wi={name:"flip",enabled:!0,phase:"main",fn:function(Se){var D=Se.state,ie=Se.options,Be=Se.name;if(!D.modifiersData[Be]._skip){for(var Qe=ie.mainAxis,ot=void 0===Qe||Qe,kt=ie.altAxis,cn=void 0===kt||kt,xn=ie.fallbackPlacements,Dn=ie.padding,Wn=ie.boundary,kn=ie.rootBoundary,Cr=ie.altBoundary,cr=ie.flipVariations,hr=void 0===cr||cr,or=ie.allowedAutoPlacements,pr=D.options.placement,Vr=$t(pr),Ir=xn||(Vr!==pr&&hr?function(Pe){if($t(Pe)===nt)return[];var Xe=Qn(Pe);return[yr(Pe),Xe,yr(Xe)]}(pr):[Qn(pr)]),xr=[pr].concat(Ir).reduce(function(Pe,Xe){return Pe.concat($t(Xe)===nt?function Er(Se,D){void 0===D&&(D={});var Qe=D.boundary,ot=D.rootBoundary,kt=D.padding,cn=D.flipVariations,xn=D.allowedAutoPlacements,Dn=void 0===xn?En:xn,Wn=Bt(D.placement),kn=Wn?cn?Nn:Nn.filter(function(hr){return Bt(hr)===Wn}):ct,Cr=kn.filter(function(hr){return Dn.indexOf(hr)>=0});0===Cr.length&&(Cr=kn);var cr=Cr.reduce(function(hr,or){return hr[or]=Jn(Se,{placement:or,boundary:Qe,rootBoundary:ot,padding:kt})[$t(or)],hr},{});return Object.keys(cr).sort(function(hr,or){return cr[hr]-cr[or]})}(D,{placement:Xe,boundary:Wn,rootBoundary:kn,padding:Dn,flipVariations:hr,allowedAutoPlacements:or}):Xe)},[]),Lr=D.rects.reference,Br=D.rects.popper,Nr=new Map,Hr=!0,jr=xr[0],$r=0;$r<xr.length;$r++){var ai=xr[$r],li=$t(ai),bi=Bt(ai)===Ut,Jr=[Je,ce].indexOf(li)>=0,so=Jr?"width":"height",zi=Jn(D,{placement:ai,boundary:Wn,rootBoundary:kn,altBoundary:Cr,padding:Dn}),vi=Jr?bi?Ee:$e:bi?ce:Je;Lr[so]>Br[so]&&(vi=Qn(vi));var di=Qn(vi),Yr=[];if(ot&&Yr.push(zi[li]<=0),cn&&Yr.push(zi[vi]<=0,zi[di]<=0),Yr.every(function(Pe){return Pe})){jr=ai,Hr=!1;break}Nr.set(ai,Yr)}if(Hr)for(var ao=function(Pe){var Xe=xr.find(function(it){var At=Nr.get(it);if(At)return At.slice(0,Pe).every(function(Ct){return Ct})});if(Xe)return jr=Xe,"break"},we=hr?3:1;we>0&&"break"!==ao(we);we--);D.placement!==jr&&(D.modifiersData[Be]._skip=!0,D.placement=jr,D.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function si(Se,D,ie){return void 0===ie&&(ie={x:0,y:0}),{top:Se.top-D.height-ie.y,right:Se.right-D.width+ie.x,bottom:Se.bottom-D.height+ie.y,left:Se.left-D.width-ie.x}}function lo(Se){return[Je,Ee,ce,$e].some(function(D){return Se[D]>=0})}const Bi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(Se){var D=Se.state,ie=Se.name,Be=D.rects.reference,Qe=D.rects.popper,ot=D.modifiersData.preventOverflow,kt=Jn(D,{elementContext:"reference"}),cn=Jn(D,{altBoundary:!0}),xn=si(kt,Be),Dn=si(cn,Qe,ot),Wn=lo(xn),kn=lo(Dn);D.modifiersData[ie]={referenceClippingOffsets:xn,popperEscapeOffsets:Dn,isReferenceHidden:Wn,hasPopperEscaped:kn},D.attributes.popper=Object.assign({},D.attributes.popper,{"data-popper-reference-hidden":Wn,"data-popper-escaped":kn})}},Hi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(Se){var D=Se.state,Be=Se.name,Qe=Se.options.offset,ot=void 0===Qe?[0,0]:Qe,kt=En.reduce(function(Wn,kn){return Wn[kn]=(cr=D.rects,hr=ot,or=$t(Cr=kn),pr=[$e,Je].indexOf(or)>=0?-1:1,Ir=(Ir=(Vr="function"==typeof hr?hr(Object.assign({},cr,{placement:Cr})):hr)[0])||0,xr=((xr=Vr[1])||0)*pr,[$e,Ee].indexOf(or)>=0?{x:xr,y:Ir}:{x:Ir,y:xr}),Wn;var Cr,cr,hr,or,pr,Vr,Ir,xr},{}),cn=kt[D.placement],Dn=cn.y;null!=D.modifiersData.popperOffsets&&(D.modifiersData.popperOffsets.x+=cn.x,D.modifiersData.popperOffsets.y+=Dn),D.modifiersData[Be]=kt}},Ci={name:"popperOffsets",enabled:!0,phase:"read",fn:function(Se){var D=Se.state;D.modifiersData[Se.name]=Dr({reference:D.rects.reference,element:D.rects.popper,strategy:"absolute",placement:D.placement})},data:{}},Wi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Se){var D=Se.state,ie=Se.options,Be=Se.name,Qe=ie.mainAxis,ot=void 0===Qe||Qe,kt=ie.altAxis,cn=void 0!==kt&&kt,Cr=ie.tether,cr=void 0===Cr||Cr,hr=ie.tetherOffset,or=void 0===hr?0:hr,pr=Jn(D,{boundary:ie.boundary,rootBoundary:ie.rootBoundary,padding:ie.padding,altBoundary:ie.altBoundary}),Vr=$t(D.placement),Ir=Bt(D.placement),xr=!Ir,Lr=Gn(Vr),Br="x"===Lr?"y":"x",Nr=D.modifiersData.popperOffsets,Hr=D.rects.reference,jr=D.rects.popper,$r="function"==typeof or?or(Object.assign({},D.rects,{placement:D.placement})):or,ai={x:0,y:0};if(Nr){if(ot||cn){var li="y"===Lr?Je:$e,bi="y"===Lr?ce:Ee,Jr="y"===Lr?"height":"width",so=Nr[Lr],zi=Nr[Lr]+pr[li],vi=Nr[Lr]-pr[bi],di=cr?-jr[Jr]/2:0,Yr=Ir===Ut?Hr[Jr]:jr[Jr],ao=Ir===Ut?-jr[Jr]:-Hr[Jr],we=D.elements.arrow,Pe=cr&&we?Zt(we):{width:0,height:0},Xe=D.modifiersData["arrow#persistent"]?D.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},it=Xe[li],At=Xe[bi],Ct=ee(0,Hr[Jr],Pe[Jr]),tn=xr?Hr[Jr]/2-di-Ct-it-$r:Yr-Ct-it-$r,un=xr?-Hr[Jr]/2+di+Ct+At+$r:ao+Ct+At+$r,In=D.elements.arrow&&er(D.elements.arrow),Rn=D.modifiersData.offset?D.modifiersData.offset[D.placement][Lr]:0,lr=Nr[Lr]+tn-Rn-(In?"y"===Lr?In.clientTop||0:In.clientLeft||0:0),Xr=Nr[Lr]+un-Rn;if(ot){var ci=ee(cr?et(zi,lr):zi,so,cr?Yn(vi,Xr):vi);Nr[Lr]=ci,ai[Lr]=ci-so}if(cn){var ki=Nr[Br],yo=ki+pr["x"===Lr?Je:$e],co=ki-pr["x"===Lr?ce:Ee],Kr=ee(cr?et(yo,lr):yo,ki,cr?Yn(co,Xr):co);Nr[Br]=Kr,ai[Br]=Kr-ki}}D.modifiersData[Be]=ai}},requiresIfExists:["offset"]};function ii(Se,D,ie){void 0===ie&&(ie=!1);var Be=Rr(D);Rr(D)&&D.getBoundingClientRect();var Qe,ot,kt=wr(D),cn=Ne(Se),xn={scrollLeft:0,scrollTop:0},Dn={x:0,y:0};return(Be||!Be&&!ie)&&(("body"!==Hn(D)||Or(kt))&&(xn=(Qe=D)!==An(Qe)&&Rr(Qe)?{scrollLeft:(ot=Qe).scrollLeft,scrollTop:ot.scrollTop}:_r(Qe)),Rr(D)?((Dn=Ne(D)).x+=D.clientLeft,Dn.y+=D.clientTop):kt&&(Dn.x=qr(kt))),{x:cn.left+xn.scrollLeft-Dn.x,y:cn.top+xn.scrollTop-Dn.y,width:cn.width,height:cn.height}}function wo(Se){var D=new Map,ie=new Set,Be=[];function Qe(ot){ie.add(ot.name),[].concat(ot.requires||[],ot.requiresIfExists||[]).forEach(function(kt){if(!ie.has(kt)){var cn=D.get(kt);cn&&Qe(cn)}}),Be.push(ot)}return Se.forEach(function(ot){D.set(ot.name,ot)}),Se.forEach(function(ot){ie.has(ot.name)||Qe(ot)}),Be}var B={placement:"bottom",modifiers:[],strategy:"absolute"};function V(){for(var Se=arguments.length,D=new Array(Se),ie=0;ie<Se;ie++)D[ie]=arguments[ie];return!D.some(function(Be){return!(Be&&"function"==typeof Be.getBoundingClientRect)})}function te(Se){void 0===Se&&(Se={});var ie=Se.defaultModifiers,Be=void 0===ie?[]:ie,Qe=Se.defaultOptions,ot=void 0===Qe?B:Qe;return function(kt,cn,xn){void 0===xn&&(xn=ot);var Dn,Wn,kn={placement:"bottom",orderedModifiers:[],options:Object.assign({},B,ot),modifiersData:{},elements:{reference:kt,popper:cn},attributes:{},styles:{}},Cr=[],cr=!1,hr={state:kn,setOptions:function(pr){var Vr="function"==typeof pr?pr(kn.options):pr;or(),kn.options=Object.assign({},ot,kn.options,Vr),kn.scrollParents={reference:tr(kt)?br(kt):kt.contextElement?br(kt.contextElement):[],popper:br(cn)};var Ir,xr,Br,Nr,Lr=(Ir=[].concat(Be,kn.options.modifiers),xr=Ir.reduce(function(Br,Nr){var Hr=Br[Nr.name];return Br[Nr.name]=Hr?Object.assign({},Hr,Nr,{options:Object.assign({},Hr.options,Nr.options),data:Object.assign({},Hr.data,Nr.data)}):Nr,Br},{}),Br=Object.keys(xr).map(function(Br){return xr[Br]}),Nr=wo(Br),mn.reduce(function(Hr,jr){return Hr.concat(Nr.filter(function($r){return $r.phase===jr}))},[]));return kn.orderedModifiers=Lr.filter(function(Br){return Br.enabled}),kn.orderedModifiers.forEach(function(Br){var Hr=Br.options,$r=Br.effect;if("function"==typeof $r){var ai=$r({state:kn,name:Br.name,instance:hr,options:void 0===Hr?{}:Hr});Cr.push(ai||function(){})}}),hr.update()},forceUpdate:function(){if(!cr){var pr=kn.elements,Vr=pr.reference,Ir=pr.popper;if(V(Vr,Ir)){kn.rects={reference:ii(Vr,er(Ir),"fixed"===kn.options.strategy),popper:Zt(Ir)},kn.reset=!1,kn.placement=kn.options.placement,kn.orderedModifiers.forEach(function($r){return kn.modifiersData[$r.name]=Object.assign({},$r.data)});for(var xr=0;xr<kn.orderedModifiers.length;xr++)if(!0!==kn.reset){var Lr=kn.orderedModifiers[xr],Br=Lr.fn,Nr=Lr.options;"function"==typeof Br&&(kn=Br({state:kn,options:void 0===Nr?{}:Nr,name:Lr.name,instance:hr})||kn)}else kn.reset=!1,xr=-1}}},update:(Dn=function(){return new Promise(function(pr){hr.forceUpdate(),pr(kn)})},function(){return Wn||(Wn=new Promise(function(pr){Promise.resolve().then(function(){Wn=void 0,pr(Dn())})})),Wn}),destroy:function(){or(),cr=!0}};if(!V(kt,cn))return hr;function or(){Cr.forEach(function(pr){return pr()}),Cr=[]}return hr.setOptions(xn).then(function(pr){!cr&&xn.onFirstUpdate&&xn.onFirstUpdate(pr)}),hr}}var le=te(),ye=te({defaultModifiers:[ln,Ci,Mn,nr]}),Ie=te({defaultModifiers:[ln,Ci,Mn,nr,Hi,wi,Wi,be,Bi]});const Ce=Object.freeze({__proto__:null,popperGenerator:te,detectOverflow:Jn,createPopperBase:le,createPopper:Ie,createPopperLite:ye,top:Je,bottom:ce,right:Ee,left:$e,auto:nt,basePlacements:ct,start:Ut,end:Ht,clippingParents:Dt,viewport:Xt,popper:Gt,reference:bn,variationPlacements:Nn,placements:En,beforeRead:Cn,read:"read",afterRead:_t,beforeMain:Xn,main:"main",afterMain:Fn,beforeWrite:Zn,write:"write",afterWrite:nn,modifierPhases:mn,applyStyles:nr,arrow:be,computeStyles:Mn,eventListeners:ln,flip:wi,hide:Bi,offset:Hi,popperOffsets:Ci,preventOverflow:Wi}),ze="dropdown",We="Escape",Mt="ArrowUp",rt="ArrowDown",ht=new RegExp("ArrowUp|ArrowDown|Escape"),Rt="click.bs.dropdown.data-api",Ft="keydown.bs.dropdown.data-api",xt="show",Lt='[data-bs-toggle="dropdown"]',It=".dropdown-menu",on=ve()?"top-end":"top-start",Kt=ve()?"top-start":"top-end",Qt=ve()?"bottom-end":"bottom-start",Pn=ve()?"bottom-start":"bottom-end",Pr=ve()?"left-start":"right-start",zr=ve()?"right-start":"left-start",dr={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},fr={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class gr extends F{constructor(D,ie){super(D),this._popper=null,this._config=this._getConfig(ie),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return dr}static get DefaultType(){return fr}static get NAME(){return ze}toggle(){return this._isShown()?this.hide():this.show()}show(){if(_(this._element)||this._isShown(this._menu))return;const D={relatedTarget:this._element};if(I.trigger(this._element,"show.bs.dropdown",D).defaultPrevented)return;const ie=gr.getParentFromElement(this._element);this._inNavbar?N.setDataAttribute(this._menu,"popper","none"):this._createPopper(ie),"ontouchstart"in document.documentElement&&!ie.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(Be=>I.on(Be,"mouseover",Q)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(xt),this._element.classList.add(xt),I.trigger(this._element,"shown.bs.dropdown",D)}hide(){!_(this._element)&&this._isShown(this._menu)&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(D){I.trigger(this._element,"hide.bs.dropdown",D).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(ie=>I.off(ie,"mouseover",Q)),this._popper&&this._popper.destroy(),this._menu.classList.remove(xt),this._element.classList.remove(xt),this._element.setAttribute("aria-expanded","false"),N.removeDataAttribute(this._menu,"popper"),I.trigger(this._element,"hidden.bs.dropdown",D))}_getConfig(D){if(D={...this.constructor.Default,...N.getDataAttributes(this._element),...D},Fe(ze,D,this.constructor.DefaultType),"object"==typeof D.reference&&!bt(D.reference)&&"function"!=typeof D.reference.getBoundingClientRect)throw new TypeError(`${ze.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return D}_createPopper(D){if(void 0===Ce)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let ie=this._element;"parent"===this._config.reference?ie=D:bt(this._config.reference)?ie=Z(this._config.reference):"object"==typeof this._config.reference&&(ie=this._config.reference);const Be=this._getPopperConfig(),Qe=Be.modifiers.find(ot=>"applyStyles"===ot.name&&!1===ot.enabled);this._popper=Ie(ie,this._menu,Be),Qe&&N.setDataAttribute(this._menu,"popper","static")}_isShown(D=this._element){return D.classList.contains(xt)}_getMenuElement(){return U.next(this._element,It)[0]}_getPlacement(){const D=this._element.parentNode;if(D.classList.contains("dropend"))return Pr;if(D.classList.contains("dropstart"))return zr;const ie="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return D.classList.contains("dropup")?ie?Kt:on:ie?Pn:Qt}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:D}=this._config;return"string"==typeof D?D.split(",").map(ie=>Number.parseInt(ie,10)):"function"==typeof D?ie=>D(ie,this._element):D}_getPopperConfig(){const D={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(D.modifiers=[{name:"applyStyles",enabled:!1}]),{...D,..."function"==typeof this._config.popperConfig?this._config.popperConfig(D):this._config.popperConfig}}_selectMenuItem({key:D,target:ie}){const Be=U.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Oe);Be.length&&g(Be,ie,D===rt,!Be.includes(ie)).focus()}static jQueryInterface(D){return this.each(function(){const ie=gr.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===ie[D])throw new TypeError(`No method named "${D}"`);ie[D]()}})}static clearMenus(D){if(D&&(2===D.button||"keyup"===D.type&&"Tab"!==D.key))return;const ie=U.find(Lt);for(let Be=0,Qe=ie.length;Be<Qe;Be++){const ot=gr.getInstance(ie[Be]);if(!ot||!1===ot._config.autoClose||!ot._isShown())continue;const kt={relatedTarget:ot._element};if(D){const cn=D.composedPath(),xn=cn.includes(ot._menu);if(cn.includes(ot._element)||"inside"===ot._config.autoClose&&!xn||"outside"===ot._config.autoClose&&xn||ot._menu.contains(D.target)&&("keyup"===D.type&&"Tab"===D.key||/input|select|option|textarea|form/i.test(D.target.tagName)))continue;"click"===D.type&&(kt.clickEvent=D)}ot._completeHide(kt)}}static getParentFromElement(D){return wt(D)||D.parentNode}static dataApiKeydownHandler(D){if(/input|textarea/i.test(D.target.tagName)?"Space"===D.key||D.key!==We&&(D.key!==rt&&D.key!==Mt||D.target.closest(It)):!ht.test(D.key))return;const ie=this.classList.contains(xt);if(!ie&&D.key===We||(D.preventDefault(),D.stopPropagation(),_(this)))return;const Be=this.matches(Lt)?this:U.prev(this,Lt)[0],Qe=gr.getOrCreateInstance(Be);if(D.key!==We)return D.key===Mt||D.key===rt?(ie||Qe.show(),void Qe._selectMenuItem(D)):void(ie&&"Space"!==D.key||gr.clearMenus());Qe.hide()}}I.on(document,Ft,Lt,gr.dataApiKeydownHandler),I.on(document,Ft,It,gr.dataApiKeydownHandler),I.on(document,Rt,gr.clearMenus),I.on(document,"keyup.bs.dropdown.data-api",gr.clearMenus),I.on(document,Rt,Lt,function(Se){Se.preventDefault(),gr.getOrCreateInstance(this).toggle()}),v(gr);const fi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ue=".sticky-top";class yt{constructor(){this._element=document.body}getWidth(){const D=document.documentElement.clientWidth;return Math.abs(window.innerWidth-D)}hide(){const D=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",ie=>ie+D),this._setElementAttributes(fi,"paddingRight",ie=>ie+D),this._setElementAttributes(Ue,"marginRight",ie=>ie-D)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(D,ie,Be){const Qe=this.getWidth();this._applyManipulationCallback(D,ot=>{if(ot!==this._element&&window.innerWidth>ot.clientWidth+Qe)return;this._saveInitialAttribute(ot,ie);const kt=window.getComputedStyle(ot)[ie];ot.style[ie]=`${Be(Number.parseFloat(kt))}px`})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(fi,"paddingRight"),this._resetElementAttributes(Ue,"marginRight")}_saveInitialAttribute(D,ie){const Be=D.style[ie];Be&&N.setDataAttribute(D,ie,Be)}_resetElementAttributes(D,ie){this._applyManipulationCallback(D,Be=>{const Qe=N.getDataAttribute(Be,ie);void 0===Qe?Be.style.removeProperty(ie):(N.removeDataAttribute(Be,ie),Be.style[ie]=Qe)})}_applyManipulationCallback(D,ie){bt(D)?ie(D):U.find(D,this._element).forEach(ie)}isOverflowing(){return this.getWidth()>0}}const Ot={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},en={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},je="mousedown.bs.backdrop";class Te{constructor(D){this._config=this._getConfig(D),this._isAppended=!1,this._element=null}show(D){this._config.isVisible?(this._append(),this._config.isAnimated&&this._getElement(),this._getElement().classList.add("show"),this._emulateAnimation(()=>{M(D)})):M(D)}hide(D){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),M(D)})):M(D)}_getElement(){if(!this._element){const D=document.createElement("div");D.className=this._config.className,this._config.isAnimated&&D.classList.add("fade"),this._element=D}return this._element}_getConfig(D){return(D={...Ot,..."object"==typeof D?D:{}}).rootElement=Z(D.rootElement),Fe("backdrop",D,en),D}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),I.on(this._getElement(),je,()=>{M(this._config.clickCallback)}),this._isAppended=!0)}dispose(){this._isAppended&&(I.off(this._element,je),this._element.remove(),this._isAppended=!1)}_emulateAnimation(D){h(D,this._getElement(),this._config.isAnimated)}}const pt={trapElement:null,autofocus:!0},vt={trapElement:"element",autofocus:"boolean"},qt=".bs.focustrap",vn="backward";class an{constructor(D){this._config=this._getConfig(D),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:D,autofocus:ie}=this._config;this._isActive||(ie&&D.focus(),I.off(document,qt),I.on(document,"focusin.bs.focustrap",Be=>this._handleFocusin(Be)),I.on(document,"keydown.tab.bs.focustrap",Be=>this._handleKeydown(Be)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,I.off(document,qt))}_handleFocusin(D){const{target:ie}=D,{trapElement:Be}=this._config;if(ie===document||ie===Be||Be.contains(ie))return;const Qe=U.focusableChildren(Be);0===Qe.length?Be.focus():this._lastTabNavDirection===vn?Qe[Qe.length-1].focus():Qe[0].focus()}_handleKeydown(D){"Tab"===D.key&&(this._lastTabNavDirection=D.shiftKey?vn:"forward")}_getConfig(D){return D={...pt,..."object"==typeof D?D:{}},Fe("focustrap",D,vt),D}}const Ln={backdrop:!0,keyboard:!0,focus:!0},Un={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Tr="hidden.bs.modal",ar="show.bs.modal",Ur="resize.bs.modal",Sr="click.dismiss.bs.modal",Fr="keydown.dismiss.bs.modal",Mr="mousedown.dismiss.bs.modal",Gr="modal-open",oi="modal-static";class Ni extends F{constructor(D,ie){super(D),this._config=this._getConfig(ie),this._dialog=U.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new yt}static get Default(){return Ln}static get NAME(){return"modal"}toggle(D){return this._isShown?this.hide():this.show(D)}show(D){this._isShown||this._isTransitioning||I.trigger(this._element,ar,{relatedTarget:D}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Gr),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),I.on(this._dialog,Mr,()=>{I.one(this._element,"mouseup.dismiss.bs.modal",ie=>{ie.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(D)))}hide(){if(!this._isShown||this._isTransitioning||I.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const D=this._isAnimated();D&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),I.off(this._element,Sr),I.off(this._dialog,Mr),this._queueCallback(()=>this._hideModal(),this._element,D)}dispose(){[window,this._dialog].forEach(D=>I.off(D,".bs.modal")),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Te({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new an({trapElement:this._element})}_getConfig(D){return D={...Ln,...N.getDataAttributes(this._element),..."object"==typeof D?D:{}},Fe("modal",D,Un),D}_showElement(D){const ie=this._isAnimated(),Be=U.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,Be&&(Be.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,I.trigger(this._element,"shown.bs.modal",{relatedTarget:D})},this._dialog,ie)}_setEscapeEvent(){this._isShown?I.on(this._element,Fr,D=>{this._config.keyboard&&"Escape"===D.key?(D.preventDefault(),this.hide()):this._config.keyboard||"Escape"!==D.key||this._triggerBackdropTransition()}):I.off(this._element,Fr)}_setResizeEvent(){this._isShown?I.on(window,Ur,()=>this._adjustDialog()):I.off(window,Ur)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Gr),this._resetAdjustments(),this._scrollBar.reset(),I.trigger(this._element,Tr)})}_showBackdrop(D){I.on(this._element,Sr,ie=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:ie.target===ie.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())}),this._backdrop.show(D)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(I.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:D,scrollHeight:ie,style:Be}=this._element,Qe=ie>document.documentElement.clientHeight;!Qe&&"hidden"===Be.overflowY||D.contains(oi)||(Qe||(Be.overflowY="hidden"),D.add(oi),this._queueCallback(()=>{D.remove(oi),Qe||this._queueCallback(()=>{Be.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const D=this._element.scrollHeight>document.documentElement.clientHeight,ie=this._scrollBar.getWidth(),Be=ie>0;(!Be&&D&&!ve()||Be&&!D&&ve())&&(this._element.style.paddingLeft=`${ie}px`),(Be&&!D&&!ve()||!Be&&D&&ve())&&(this._element.style.paddingRight=`${ie}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(D,ie){return this.each(function(){const Be=Ni.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===Be[D])throw new TypeError(`No method named "${D}"`);Be[D](ie)}})}}I.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',function(Se){const D=wt(this);["A","AREA"].includes(this.tagName)&&Se.preventDefault(),I.one(D,ar,Be=>{Be.defaultPrevented||I.one(D,Tr,()=>{Oe(this)&&this.focus()})});const ie=U.findOne(".modal.show");ie&&Ni.getInstance(ie).hide(),Ni.getOrCreateInstance(D).toggle(this)}),q(Ni),v(Ni);const Qr="offcanvas",yi={backdrop:!0,keyboard:!0,scroll:!1},ei={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},Ti=".offcanvas.show",hi="hidden.bs.offcanvas";class gi extends F{constructor(D,ie){super(D),this._config=this._getConfig(ie),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return Qr}static get Default(){return yi}toggle(D){return this._isShown?this.hide():this.show(D)}show(D){this._isShown||I.trigger(this._element,"show.bs.offcanvas",{relatedTarget:D}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new yt).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),I.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:D})},this._element,!0))}hide(){this._isShown&&(I.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new yt).reset(),I.trigger(this._element,hi)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(D){return D={...yi,...N.getDataAttributes(this._element),..."object"==typeof D?D:{}},Fe(Qr,D,ei),D}_initializeBackDrop(){return new Te({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new an({trapElement:this._element})}_addEventListeners(){I.on(this._element,"keydown.dismiss.bs.offcanvas",D=>{this._config.keyboard&&"Escape"===D.key&&this.hide()})}static jQueryInterface(D){return this.each(function(){const ie=gi.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===ie[D]||D.startsWith("_")||"constructor"===D)throw new TypeError(`No method named "${D}"`);ie[D](this)}})}}I.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',function(Se){const D=wt(this);if(["A","AREA"].includes(this.tagName)&&Se.preventDefault(),_(this))return;I.one(D,hi,()=>{Oe(this)&&this.focus()});const ie=U.findOne(Ti);ie&&ie!==D&&gi.getInstance(ie).hide(),gi.getOrCreateInstance(D).toggle(this)}),I.on(window,"load.bs.offcanvas.data-api",()=>U.find(Ti).forEach(Se=>gi.getOrCreateInstance(Se).show())),q(gi),v(gi);const Zi=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ji=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Oi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Ii=(Se,D)=>{const ie=Se.nodeName.toLowerCase();if(D.includes(ie))return!Zi.has(ie)||Boolean(Ji.test(Se.nodeValue)||Oi.test(Se.nodeValue));const Be=D.filter(Qe=>Qe instanceof RegExp);for(let Qe=0,ot=Be.length;Qe<ot;Qe++)if(Be[Qe].test(ie))return!0;return!1};function Pi(Se,D,ie){if(!Se.length)return Se;if(ie&&"function"==typeof ie)return ie(Se);const Be=(new window.DOMParser).parseFromString(Se,"text/html"),Qe=[].concat(...Be.body.querySelectorAll("*"));for(let ot=0,kt=Qe.length;ot<kt;ot++){const cn=Qe[ot],xn=cn.nodeName.toLowerCase();if(!Object.keys(D).includes(xn)){cn.remove();continue}const Dn=[].concat(...cn.attributes),Wn=[].concat(D["*"]||[],D[xn]||[]);Dn.forEach(kn=>{Ii(kn,Wn)||cn.removeAttribute(kn.nodeName)})}return Be.body.innerHTML}const _i="tooltip",Ei=new Set(["sanitize","allowList","sanitizeFn"]),Ri={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Vi={AUTO:"auto",TOP:"top",RIGHT:ve()?"left":"right",BOTTOM:"bottom",LEFT:ve()?"right":"left"},Qi={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Yi={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},xi="fade",mi="show",ro="show",Lo=".tooltip-inner",Ko="hide.bs.modal",Eo="hover";class Di extends F{constructor(D,ie){if(void 0===Ce)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(D),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(ie),this.tip=null,this._setListeners()}static get Default(){return Qi}static get NAME(){return _i}static get Event(){return Yi}static get DefaultType(){return Ri}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(D){if(this._isEnabled)if(D){const ie=this._initializeOnDelegatedTarget(D);ie._activeTrigger.click=!ie._activeTrigger.click,ie._isWithActiveTrigger()?ie._enter(null,ie):ie._leave(null,ie)}else{if(this.getTipElement().classList.contains(mi))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),I.off(this._element.closest(".modal"),Ko,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const D=I.trigger(this._element,this.constructor.Event.SHOW),ie=ne(this._element),Be=null===ie?this._element.ownerDocument.documentElement.contains(this._element):ie.contains(this._element);if(D.defaultPrevented||!Be)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(Lo).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const Qe=this.getTipElement(),ot=(kn=>{do{kn+=Math.floor(1e6*Math.random())}while(document.getElementById(kn));return kn})(this.constructor.NAME);Qe.setAttribute("id",ot),this._element.setAttribute("aria-describedby",ot),this._config.animation&&Qe.classList.add(xi);const kt="function"==typeof this._config.placement?this._config.placement.call(this,Qe,this._element):this._config.placement,cn=this._getAttachment(kt);this._addAttachmentClass(cn);const{container:xn}=this._config;R.set(Qe,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(xn.append(Qe),I.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Ie(this._element,Qe,this._getPopperConfig(cn)),Qe.classList.add(mi);const Dn=this._resolvePossibleFunction(this._config.customClass);Dn&&Qe.classList.add(...Dn.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(kn=>{I.on(kn,"mouseover",Q)});const Wn=this.tip.classList.contains(xi);this._queueCallback(()=>{const kn=this._hoverState;this._hoverState=null,I.trigger(this._element,this.constructor.Event.SHOWN),"out"===kn&&this._leave(null,this)},this.tip,Wn)}hide(){if(!this._popper)return;const D=this.getTipElement();if(I.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;D.classList.remove(mi),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(Be=>I.off(Be,"mouseover",Q)),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const ie=this.tip.classList.contains(xi);this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!==ro&&D.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),I.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,ie),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const D=document.createElement("div");D.innerHTML=this._config.template;const ie=D.children[0];return this.setContent(ie),ie.classList.remove(xi,mi),this.tip=ie,this.tip}setContent(D){this._sanitizeAndSetContent(D,this.getTitle(),Lo)}_sanitizeAndSetContent(D,ie,Be){const Qe=U.findOne(Be,D);ie||!Qe?this.setElementContent(Qe,ie):Qe.remove()}setElementContent(D,ie){if(null!==D)return bt(ie)?(ie=Z(ie),void(this._config.html?ie.parentNode!==D&&(D.innerHTML="",D.append(ie)):D.textContent=ie.textContent)):void(this._config.html?(this._config.sanitize&&(ie=Pi(ie,this._config.allowList,this._config.sanitizeFn)),D.innerHTML=ie):D.textContent=ie)}getTitle(){const D=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(D)}updateAttachment(D){return"right"===D?"end":"left"===D?"start":D}_initializeOnDelegatedTarget(D,ie){return ie||this.constructor.getOrCreateInstance(D.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:D}=this._config;return"string"==typeof D?D.split(",").map(ie=>Number.parseInt(ie,10)):"function"==typeof D?ie=>D(ie,this._element):D}_resolvePossibleFunction(D){return"function"==typeof D?D.call(this._element):D}_getPopperConfig(D){const ie={placement:D,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:Be=>this._handlePopperPlacementChange(Be)}],onFirstUpdate:Be=>{Be.options.placement!==Be.placement&&this._handlePopperPlacementChange(Be)}};return{...ie,..."function"==typeof this._config.popperConfig?this._config.popperConfig(ie):this._config.popperConfig}}_addAttachmentClass(D){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(D)}`)}_getAttachment(D){return Vi[D.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(D=>{if("click"===D)I.on(this._element,this.constructor.Event.CLICK,this._config.selector,ie=>this.toggle(ie));else if("manual"!==D){const Be=D===Eo?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;I.on(this._element,D===Eo?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,this._config.selector,Qe=>this._enter(Qe)),I.on(this._element,Be,this._config.selector,Qe=>this._leave(Qe))}}),this._hideModalHandler=()=>{this._element&&this.hide()},I.on(this._element.closest(".modal"),Ko,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const D=this._element.getAttribute("title"),ie=typeof this._element.getAttribute("data-bs-original-title");(D||"string"!==ie)&&(this._element.setAttribute("data-bs-original-title",D||""),!D||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",D),this._element.setAttribute("title",""))}_enter(D,ie){ie=this._initializeOnDelegatedTarget(D,ie),D&&(ie._activeTrigger["focusin"===D.type?"focus":Eo]=!0),ie.getTipElement().classList.contains(mi)||ie._hoverState===ro?ie._hoverState=ro:(clearTimeout(ie._timeout),ie._hoverState=ro,ie._config.delay&&ie._config.delay.show?ie._timeout=setTimeout(()=>{ie._hoverState===ro&&ie.show()},ie._config.delay.show):ie.show())}_leave(D,ie){ie=this._initializeOnDelegatedTarget(D,ie),D&&(ie._activeTrigger["focusout"===D.type?"focus":Eo]=ie._element.contains(D.relatedTarget)),ie._isWithActiveTrigger()||(clearTimeout(ie._timeout),ie._hoverState="out",ie._config.delay&&ie._config.delay.hide?ie._timeout=setTimeout(()=>{"out"===ie._hoverState&&ie.hide()},ie._config.delay.hide):ie.hide())}_isWithActiveTrigger(){for(const D in this._activeTrigger)if(this._activeTrigger[D])return!0;return!1}_getConfig(D){const ie=N.getDataAttributes(this._element);return Object.keys(ie).forEach(Be=>{Ei.has(Be)&&delete ie[Be]}),(D={...this.constructor.Default,...ie,..."object"==typeof D&&D?D:{}}).container=!1===D.container?document.body:Z(D.container),"number"==typeof D.delay&&(D.delay={show:D.delay,hide:D.delay}),"number"==typeof D.title&&(D.title=D.title.toString()),"number"==typeof D.content&&(D.content=D.content.toString()),Fe(_i,D,this.constructor.DefaultType),D.sanitize&&(D.template=Pi(D.template,D.allowList,D.sanitizeFn)),D}_getDelegateConfig(){const D={};for(const ie in this._config)this.constructor.Default[ie]!==this._config[ie]&&(D[ie]=this._config[ie]);return D}_cleanTipClass(){const D=this.getTipElement(),ie=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),Be=D.getAttribute("class").match(ie);null!==Be&&Be.length>0&&Be.map(Qe=>Qe.trim()).forEach(Qe=>D.classList.remove(Qe))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(D){const{state:ie}=D;ie&&(this.tip=ie.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(ie.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(D){return this.each(function(){const ie=Di.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===ie[D])throw new TypeError(`No method named "${D}"`);ie[D]()}})}}v(Di);const xo={...Di.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},So={...Di.DefaultType,content:"(string|element|function)"},Bo={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class po extends Di{static get Default(){return xo}static get NAME(){return"popover"}static get Event(){return Bo}static get DefaultType(){return So}isWithContent(){return this.getTitle()||this._getContent()}setContent(D){this._sanitizeAndSetContent(D,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(D,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(D){return this.each(function(){const ie=po.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===ie[D])throw new TypeError(`No method named "${D}"`);ie[D]()}})}}v(po);const go="scrollspy",No={offset:10,method:"auto",target:""},qo={offset:"number",method:"string",target:"(string|element)"},ko="active",Go=".nav-link, .list-group-item, .dropdown-item",Ho="position";class oo extends F{constructor(D,ie){super(D),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(ie),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,I.on(this._scrollElement,"scroll.bs.scrollspy",()=>this._process()),this.refresh(),this._process()}static get Default(){return No}static get NAME(){return go}refresh(){const ie="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":Ho:this._config.method,Be=ie===Ho?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),U.find(Go,this._config.target).map(Qe=>{const ot=z(Qe),kt=ot?U.findOne(ot):null;if(kt){const cn=kt.getBoundingClientRect();if(cn.width||cn.height)return[N[ie](kt).top+Be,ot]}return null}).filter(Qe=>Qe).sort((Qe,ot)=>Qe[0]-ot[0]).forEach(Qe=>{this._offsets.push(Qe[0]),this._targets.push(Qe[1])})}dispose(){I.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(D){return(D={...No,...N.getDataAttributes(this._element),..."object"==typeof D&&D?D:{}}).target=Z(D.target)||document.documentElement,Fe(go,D,qo),D}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const D=this._getScrollTop()+this._config.offset,ie=this._getScrollHeight(),Be=this._config.offset+ie-this._getOffsetHeight();if(this._scrollHeight!==ie&&this.refresh(),D>=Be){const Qe=this._targets[this._targets.length-1];this._activeTarget!==Qe&&this._activate(Qe)}else{if(this._activeTarget&&D<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let Qe=this._offsets.length;Qe--;)this._activeTarget!==this._targets[Qe]&&D>=this._offsets[Qe]&&(void 0===this._offsets[Qe+1]||D<this._offsets[Qe+1])&&this._activate(this._targets[Qe])}}_activate(D){this._activeTarget=D,this._clear();const ie=Go.split(",").map(Qe=>`${Qe}[data-bs-target="${D}"],${Qe}[href="${D}"]`),Be=U.findOne(ie.join(","),this._config.target);Be.classList.add(ko),Be.classList.contains("dropdown-item")?U.findOne(".dropdown-toggle",Be.closest(".dropdown")).classList.add(ko):U.parents(Be,".nav, .list-group").forEach(Qe=>{U.prev(Qe,".nav-link, .list-group-item").forEach(ot=>ot.classList.add(ko)),U.prev(Qe,".nav-item").forEach(ot=>{U.children(ot,".nav-link").forEach(kt=>kt.classList.add(ko))})}),I.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:D})}_clear(){U.find(Go,this._config.target).filter(D=>D.classList.contains(ko)).forEach(D=>D.classList.remove(ko))}static jQueryInterface(D){return this.each(function(){const ie=oo.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===ie[D])throw new TypeError(`No method named "${D}"`);ie[D]()}})}}I.on(window,"load.bs.scrollspy.data-api",()=>{U.find('[data-bs-spy="scroll"]').forEach(Se=>new oo(Se))}),v(oo);const to="active",To=".active",Oo=":scope > li > .active";class mo extends F{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(to))return;let D;const ie=wt(this._element),Be=this._element.closest(".nav, .list-group");Be&&(D=U.find("UL"===Be.nodeName||"OL"===Be.nodeName?Oo:To,Be),D=D[D.length-1]);const Qe=D?I.trigger(D,"hide.bs.tab",{relatedTarget:this._element}):null;if(I.trigger(this._element,"show.bs.tab",{relatedTarget:D}).defaultPrevented||null!==Qe&&Qe.defaultPrevented)return;this._activate(this._element,Be);const ot=()=>{I.trigger(D,"hidden.bs.tab",{relatedTarget:this._element}),I.trigger(this._element,"shown.bs.tab",{relatedTarget:D})};ie?this._activate(ie,ie.parentNode,ot):ot()}_activate(D,ie,Be){const Qe=(!ie||"UL"!==ie.nodeName&&"OL"!==ie.nodeName?U.children(ie,To):U.find(Oo,ie))[0],ot=Be&&Qe&&Qe.classList.contains("fade"),kt=()=>this._transitionComplete(D,Qe,Be);Qe&&ot?(Qe.classList.remove("show"),this._queueCallback(kt,D,!0)):kt()}_transitionComplete(D,ie,Be){if(ie){ie.classList.remove(to);const ot=U.findOne(":scope > .dropdown-menu .active",ie.parentNode);ot&&ot.classList.remove(to),"tab"===ie.getAttribute("role")&&ie.setAttribute("aria-selected",!1)}D.classList.add(to),"tab"===D.getAttribute("role")&&D.setAttribute("aria-selected",!0),D.classList.contains("fade")&&D.classList.add("show");let Qe=D.parentNode;if(Qe&&"LI"===Qe.nodeName&&(Qe=Qe.parentNode),Qe&&Qe.classList.contains("dropdown-menu")){const ot=D.closest(".dropdown");ot&&U.find(".dropdown-toggle",ot).forEach(kt=>kt.classList.add(to)),D.setAttribute("aria-expanded",!0)}Be&&Be()}static jQueryInterface(D){return this.each(function(){const ie=mo.getOrCreateInstance(this);if("string"==typeof D){if(void 0===ie[D])throw new TypeError(`No method named "${D}"`);ie[D]()}})}}I.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(Se){["A","AREA"].includes(this.tagName)&&Se.preventDefault(),_(this)||mo.getOrCreateInstance(this).show()}),v(mo);const Mi="show",Do="showing",zo={animation:"boolean",autohide:"boolean",delay:"number"},Io={animation:!0,autohide:!0,delay:5e3};class Ki extends F{constructor(D,ie){super(D),this._config=this._getConfig(ie),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return zo}static get Default(){return Io}static get NAME(){return"toast"}show(){I.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Mi),this._element.classList.add(Do),this._queueCallback(()=>{this._element.classList.remove(Do),I.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains(Mi)&&(I.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(Do),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Do),this._element.classList.remove(Mi),I.trigger(this._element,"hidden.bs.toast")},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains(Mi)&&this._element.classList.remove(Mi),super.dispose()}_getConfig(D){return D={...Io,...N.getDataAttributes(this._element),..."object"==typeof D&&D?D:{}},Fe("toast",D,this.constructor.DefaultType),D}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(D,ie){switch(D.type){case"mouseover":case"mouseout":this._hasMouseInteraction=ie;break;case"focusin":case"focusout":this._hasKeyboardInteraction=ie}if(ie)return void this._clearTimeout();const Be=D.relatedTarget;this._element===Be||this._element.contains(Be)||this._maybeScheduleHide()}_setListeners(){I.on(this._element,"mouseover.bs.toast",D=>this._onInteraction(D,!0)),I.on(this._element,"mouseout.bs.toast",D=>this._onInteraction(D,!1)),I.on(this._element,"focusin.bs.toast",D=>this._onInteraction(D,!0)),I.on(this._element,"focusout.bs.toast",D=>this._onInteraction(D,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(D){return this.each(function(){const ie=Ki.getOrCreateInstance(this,D);if("string"==typeof D){if(void 0===ie[D])throw new TypeError(`No method named "${D}"`);ie[D](this)}})}}return q(Ki),v(Ki),{Alert:K,Button:Ae,Carousel:at,Collapse:ae,Dropdown:gr,Modal:Ni,Offcanvas:gi,Popover:po,ScrollSpy:oo,Tab:mo,Toast:Ki,Tooltip:Di}}),function(){"use strict";var Nt,hn=document.createElement("style");hn.innerHTML="@keyframes wb-fade-in{0%{opacity:0}to{opacity:.85}}.no-move:not(.min) .wb-title,.winbox.max .wb-body~div,.winbox.min .wb-body~div,.winbox.modal .wb-body~div,.winbox.modal .wb-title,body.wb-drag iframe{pointer-events:none}.winbox{position:fixed;left:0;top:0;background:#0050ff;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);transition:width .3s,height .3s,transform .3s;transition-timing-function:cubic-bezier(.3,1,.3,1);will-change:transform,width,height;contain:layout size;text-align:left;touch-action:none;min-height:35px}.wb-header,.wb-icon{height:35px}.wb-n,.wb-s{left:0;height:10px;position:absolute}.wb-body{top:35px}.wb-header,.winbox iframe{position:absolute;width:100%}.wb-header{left:0;top:0;color:#fff;overflow:hidden;z-index:1}.wb-body{position:absolute;left:0;right:0;bottom:0;overflow:auto;-webkit-overflow-scrolling:touch;overflow-scrolling:touch;will-change:contents;background:#fff;margin-top:0!important;contain:strict}.wb-title{line-height:35px;font-family:Arial,sans-serif;font-size:14px;padding-left:10px;cursor:move;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.wb-n{top:-5px;right:0;cursor:n-resize}.wb-e{position:absolute;top:0;right:-5px;bottom:0;width:10px;cursor:w-resize}.wb-s,.wb-se,.wb-sw{bottom:-5px}.wb-s{right:0;cursor:n-resize}.wb-w{position:absolute;top:0;left:-5px;bottom:0;width:10px;cursor:w-resize}.wb-ne,.wb-nw,.wb-sw{width:15px;height:15px;position:absolute}.wb-nw{top:-5px;left:-5px;cursor:nw-resize}.wb-ne,.wb-sw{cursor:ne-resize}.wb-ne{top:-5px;right:-5px}.wb-sw{left:-5px}.wb-se{position:absolute;right:-5px;width:15px;height:15px;cursor:nw-resize}.wb-icon{float:right;max-width:100%;text-align:center}.wb-icon *{display:inline-block;width:30px;height:100%;background-position:center;background-repeat:no-repeat;cursor:pointer;max-width:100%}.no-close .wb-close,.no-full .wb-full,.no-header .wb-header,.no-max .wb-max,.no-min .wb-min,.no-resize .wb-body~div,.winbox.hide,.winbox.min .wb-body>*,.winbox.min .wb-full,.winbox.min .wb-min,.winbox.modal .wb-full,.winbox.modal .wb-max,.winbox.modal .wb-min{display:none}.winbox.max .wb-title,.winbox.min .wb-title{cursor:default}.wb-min{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNOCAwaDdhMSAxIDAgMCAxIDAgMkgxYTEgMSAwIDAgMSAwLTJoN3oiLz48L3N2Zz4=);background-size:14px auto;background-position:center bottom 11px}.wb-max{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9IiNmZmYiIHZpZXdCb3g9IjAgMCA5NiA5NiI+PHBhdGggZD0iTTIwIDcxLjMxMUMxNS4zNCA2OS42NyAxMiA2NS4yMyAxMiA2MFYyMGMwLTYuNjMgNS4zNy0xMiAxMi0xMmg0MGM1LjIzIDAgOS42NyAzLjM0IDExLjMxMSA4SDI0Yy0yLjIxIDAtNCAxLjc5LTQgNHY1MS4zMTF6Ii8+PHBhdGggZD0iTTkyIDc2VjM2YzAtNi42My01LjM3LTEyLTEyLTEySDQwYy02LjYzIDAtMTIgNS4zNy0xMiAxMnY0MGMwIDYuNjMgNS4zNyAxMiAxMiAxMmg0MGM2LjYzIDAgMTItNS4zNyAxMi0xMnptLTUyIDRjLTIuMjEgMC00LTEuNzktNC00VjM2YzAtMi4yMSAxLjc5LTQgNC00aDQwYzIuMjEgMCA0IDEuNzkgNCA0djQwYzAgMi4yMS0xLjc5IDQtNCA0SDQweiIvPjwvc3ZnPg==);background-size:17px auto}.wb-close{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xIC0xIDE4IDE4Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMS42MTMuMjEuMDk0LjA4M0w4IDYuNTg1IDE0LjI5My4yOTNsLjA5NC0uMDgzYTEgMSAwIDAgMSAxLjQwMyAxLjQwM2wtLjA4My4wOTRMOS40MTUgOGw2LjI5MiA2LjI5M2ExIDEgMCAwIDEtMS4zMiAxLjQ5N2wtLjA5NC0uMDgzTDggOS40MTVsLTYuMjkzIDYuMjkyLS4wOTQuMDgzQTEgMSAwIDAgMSAuMjEgMTQuMzg3bC4wODMtLjA5NEw2LjU4NSA4IC4yOTMgMS43MDdBMSAxIDAgMCAxIDEuNjEzLjIxeiIvPjwvc3ZnPg==);background-size:15px auto}.wb-full{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2Utd2lkdGg9IjIuNSIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNOCAzSDVhMiAyIDAgMCAwLTIgMnYzbTE4IDBWNWEyIDIgMCAwIDAtMi0yaC0zbTAgMThoM2EyIDIgMCAwIDAgMi0ydi0zTTMgMTZ2M2EyIDIgMCAwIDAgMiAyaDMiLz48L3N2Zz4=);background-size:16px auto}.winbox.hide{visibility:hidden}.max{box-shadow:none}.max .wb-body{margin:0!important}.winbox iframe{height:100%;border:0}.no-animation,body.wb-drag .winbox{transition:none}.winbox.modal:before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:inherit;border-radius:inherit}.winbox.modal:after{content:'';position:absolute;top:-100vh;left:-100vw;right:-100vw;bottom:-100vh;background:#0d1117;animation:wb-fade-in .2s ease-out forwards;z-index:-1}.no-shadow{box-shadow:none}.no-header .wb-body{top:0}";var z=document.getElementsByTagName("head")[0];z.firstChild?z.insertBefore(hn,z.firstChild):z.appendChild(hn);var wt=document.createElement("div");function mt(t,i,s,u){t.addEventListener(i,s,!u&&!1!==u||u)}function bt(t){t.stopPropagation(),t.cancelable&&t.preventDefault()}function Z(t,i,s){t["_s_"+i]!==(s=""+s)&&(t.style.setProperty(i,s),t["_s_"+i]=s)}wt.innerHTML="<div class=wb-header><div class=wb-icon><span class=wb-min></span><span class=wb-max></span><span class=wb-full></span><span class=wb-close></span></div><div class=wb-title> </div></div><div class=wb-body></div><div class=wb-n></div><div class=wb-s></div><div class=wb-w></div><div class=wb-e></div><div class=wb-nw></div><div class=wb-ne></div><div class=wb-se></div><div class=wb-sw></div>";var Oe,Q,fe,ge,re,ve,v,M,Fe=[],_=0,ne=0;function h(t,i){if(!(this instanceof h))return new h(t);var s,u;if(Q||function p(){(Oe=document.body)[re="requestFullscreen"]||Oe[re="msRequestFullscreen"]||Oe[re="webkitRequestFullscreen"]||Oe[re="mozRequestFullscreen"]||(re=""),ve=re&&re.replace("request","exit").replace("mozRequest","mozCancel").replace("Request","Exit"),mt(window,"resize",function(){v=Oe.clientWidth,M=Oe.clientHeight,c()}),v=Oe.clientWidth,M=Oe.clientHeight}(),t){if(i){var o=t;t=i}if("string"==typeof t)o=t;else{if(u=t.modal)var l=s="center";var d=t.id,w=t.root,b=t.template;o=o||t.title;var I=t.mount,S=t.html,R=t.url,F=t.width,q=t.height,K=t.minwidth,he=t.minheight;l=t.x||l,s=t.y||s;var Ae=t.max,xe=t.hidden,A=t.top,N=t.left,U=t.bottom,y=t.right;Q=t.index||Q;var C=t.onclose,L=t.onfocus,O=t.onblur,oe=t.onmove,$=t.onresize,ue=t.background,qe=t.border,Ze=t.class,Ve=t.splitscreen}}this.g=b||wt.cloneNode(!0),this.body=this.g.getElementsByClassName("wb-body")[0],ue&&this.setBackground(ue),qe&&Z(this.body,"margin",qe+(isNaN(qe)?"":"px")),this.setTitle(o||""),t=v,i=M,A=A?g(A,i):0,U=U?g(U,i):0,t-=(N=N?g(N,t):0)+(y=y?g(y,t):0),i-=A+U,F=F?g(F,t):t/2|0,q=q?g(q,i):i/2|0,K=K?g(K,t):0,he=he?g(he,i):0,l=l?g(l,t,F):N,s=s?g(s,i,q):A,Q=Q||10,this.g.id=this.id=d||"winbox-"+ ++_,this.g.className="winbox"+(Ze?" "+("string"==typeof Ze?Ze:Ze.join(" ")):"")+(u?" modal":""),this.x=l,this.y=s,this.width=F,this.height=q,this.j=K,this.i=he,this.top=A,this.right=y,this.bottom=U,this.left=N,this.max=this.min=!1,this.onclose=C,this.onfocus=L,this.onblur=O,this.onmove=oe,this.onresize=$,this.l=Ve,Ae?this.maximize():this.move().resize(),I?this.mount(I):S?this.body.innerHTML=S:R&&this.setUrl(R),xe?this.hide():this.focus(),this.g.winbox=this,function x(t){f(t,"title"),f(t,"n"),f(t,"s"),f(t,"w"),f(t,"e"),f(t,"nw"),f(t,"ne"),f(t,"se"),f(t,"sw"),mt(t.g.getElementsByClassName("wb-min")[0],"click",function(i){bt(i),t.minimize()}),mt(t.g.getElementsByClassName("wb-max")[0],"click",function(i){bt(i),t.focus().maximize()}),re?mt(t.g.getElementsByClassName("wb-full")[0],"click",function(i){bt(i),t.focus().fullscreen()}):t.addClass("no-full"),mt(t.g.getElementsByClassName("wb-close")[0],"click",function(i){bt(i),t.close()||(t=null)}),mt(t.g,"click",function(){t.focus()},!1)}(this),(w||Oe).appendChild(this.g)}function g(t,i,s){return"string"==typeof t&&(t="center"===t?(i-s)/2|0:"right"===t||"bottom"===t?i-s:"%"===(""+(s=parseFloat(t))!==t&&t.substring((""+s).length))?i/100*s|0:s),t}function r(t){Fe.splice(Fe.indexOf(t),1),c(),t.removeClass("min"),t.min=!1,t.g.title=""}function c(){for(var o,t=Fe.length,i={},s={},u=0;u<t;u++)s[o=(o=Fe[u]).left+":"+o.top]?s[o]++:s[o]=1;u=0;for(var l,d,w;u<t;u++)l=(o=Fe[u]).left+":"+o.top,d=Math.min((v-o.left-o.right)/s[l],250),w=(w=o.g.getElementsByClassName("wb-title")[0]).clientHeight,i[l]||(i[l]=0),o.resize(d+1|0,0,!0).move(o.left+i[l]*d|0,M-o.bottom-w,!0),i[l]++}function f(t,i){function s(I){if(bt(I),t.min)t.minimize();else{var S;if((S="title"===i)&&(S=!t.g.classList.contains("no-max")),S){var R=(S=Date.now())-ne;if(ne=S,250>R)return void t.maximize()}t.max||(Oe.classList.add("wb-drag"),(d=I.touches)&&(d=d[0])?(I=d,mt(window,"touchmove",u),mt(window,"touchend",o)):(mt(window,"mousemove",u),mt(window,"mouseup",o)),w=I.pageX,b=I.pageY,t.focus())}}function u(I){bt(I),d&&(I=I.touches[0]);var q,S=I.pageX,R=S-w,F=(I=I.pageY)-b;if("title"===i){t.x+=R,t.y+=F;var K=q=1}else{if("e"===i||"se"===i||"ne"===i){t.width+=R;var he=1}else("w"===i||"sw"===i||"nw"===i)&&(t.x+=R,t.width-=R,K=he=1);if("s"===i||"se"===i||"sw"===i){t.height+=F;var Ae=1}else("n"===i||"ne"===i||"nw"===i)&&(t.y+=F,t.height-=F,q=Ae=1)}(he||Ae)&&(he&&(t.width=Math.max(Math.min(t.width,v-t.x-t.right),150)),Ae&&(t.height=Math.max(Math.min(t.height,M-t.y-t.bottom),0)),t.resize()),(K||q)&&(K&&(t.x=Math.max(Math.min(t.x,v-t.width-t.right),t.left)),q&&(t.y=Math.max(Math.min(t.y,M-t.height-t.bottom),t.top)),t.move()),w=S,b=I}function o(I){bt(I),Oe.classList.remove("wb-drag"),d?(window.removeEventListener("touchmove",u,!0),window.removeEventListener("touchend",o,!0)):(window.removeEventListener("mousemove",u,!0),window.removeEventListener("mouseup",o,!0))}var d,w,b,l=t.g.getElementsByClassName("wb-"+i)[0];mt(l,"mousedown",s),mt(l,"touchstart",s,{passive:!1})}function n(){if(fe=!1,document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)return document[ve](),!0}h.new=function(t){return new h(t)},(Nt=h.prototype).mount=function(t){return this.unmount(),t.h||(t.h=t.parentNode),this.body.textContent="",this.body.appendChild(t),this},Nt.unmount=function(t){var i=this.body.firstChild;if(i){var s=t||i.h;s&&s.appendChild(i),i.h=t}return this},Nt.setTitle=function(t){return t=this.title=t,this.g.getElementsByClassName("wb-title")[0].firstChild.nodeValue=t,this},Nt.setBackground=function(t){return Z(this.g,"background",t),this},Nt.setUrl=function(t){return this.body.innerHTML='<iframe src="'+t+'"></iframe>',this},Nt.focus=function(){return ge!==this&&(Z(this.g,"z-index",Q++),this.addClass("focus"),ge&&(ge.removeClass("focus"),ge.onblur&&ge.onblur()),ge=this,this.onfocus&&this.onfocus()),this},Nt.hide=function(){return this.addClass("hide")},Nt.show=function(){return this.removeClass("hide")},Nt.minimize=function(t){return fe&&n(),!t&&this.min?(r(this),this.resize().move().focus()):!1===t||this.min||(Fe.push(this),c(),this.g.title=this.title,this.addClass("min"),this.min=!0),this.max&&(this.removeClass("max"),this.max=!1),this},Nt.maximize=function(t){return(void 0===t||t!==this.max)&&(this.min&&r(this),(this.max=!this.max)?this.addClass("max").resize(v-this.left-this.right,M-this.top-this.bottom,!0).move(this.left,this.top,!0):this.resize().move().removeClass("max")),this},Nt.fullscreen=function(t){return(void 0===t||t!==fe)&&(this.min&&(this.resize().move(),r(this)),fe&&n()||(this.body[re](),fe=!0)),this},Nt.close=function(t){if(this.onclose&&this.onclose(t))return!0;this.min&&r(this),this.unmount(),this.g.parentNode.removeChild(this.g),ge===this&&(ge=null)},Nt.move=function(t,i,s){return t||0===t?s||(this.x=t?t=g(t,v-this.left-this.right,this.width):0,this.y=i?i=g(i,M-this.top-this.bottom,this.height):0):(t=this.x,i=this.y,this.l&&(0===t||t===v-this.width)&&this.resize(v/2,M)),Z(this.g,"transform","translate("+t+"px,"+i+"px)"),this.onmove&&this.onmove(t,i),this},Nt.resize=function(t,i,s){return t||0===t?s||(this.width=t?t=g(t,v-this.left-this.right):0,this.height=i?i=g(i,M-this.top-this.bottom):0):(t=this.width,i=this.height),t=Math.max(t,this.j),i=Math.max(i,this.i),Z(this.g,"width",t+"px"),Z(this.g,"height",i+"px"),this.onresize&&this.onresize(t,i),this},Nt.addClass=function(t){return this.g.classList.add(t),this},Nt.removeClass=function(t){return this.g.classList.remove(t),this},window.WinBox=h}.call(this),function(Nt){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Nt():"function"==typeof define&&define.amd?define([],Nt):("undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window).WebTorrent=Nt()}(function(){var Nt=Math.LN2,hn=Math.log,z=Math.pow,wt=Math.abs,mt=Math.floor,bt=Math.round,Z=Math.sin,Fe=Math.cos,Oe=Math.PI,_=Math.imul,ne=Math.clz32,Q=String.fromCharCode,fe=Math.max,ge=Math.ceil,re=Math.min;return function v(M,h,g){function p(c,f){if(!h[c]){if(!M[c]){var n="function"==typeof require&&require;if(!f&&n)return n(c,!0);if(x)return x(c,!0);var t=new Error("Cannot find module '"+c+"'");throw t.code="MODULE_NOT_FOUND",t}var i=h[c]={exports:{}};M[c][0].call(i.exports,function(s){return p(M[c][1][s]||s)},i,i.exports,v,M,h,g)}return h[c].exports}for(var x="function"==typeof require&&require,r=0;r<g.length;r++)p(g[r]);return p}({1:[function(v,M){const h=v("stream"),g=v("debug"),p=v("end-of-stream"),x=g("webtorrent:file-stream");M.exports=class r extends h.Readable{constructor(f,n){super(n),this._torrent=f._torrent;const t=n&&n.start||0,i=n&&n.end&&n.end<f.length?n.end:f.length-1,s=f._torrent.pieceLength;this._startPiece=0|(t+f.offset)/s,this._endPiece=0|(i+f.offset)/s,this._piece=this._startPiece,this._offset=t+f.offset-this._startPiece*s,this._missing=i-t+1,this._reading=!1,this._notifying=!1,this._criticalLength=re(0|1048576/s,2),this._torrent.select(this._startPiece,this._endPiece,!0,()=>{this._notify()}),p(this,u=>{this.destroy(u)})}_read(){this._reading||(this._reading=!0,this._notify())}_notify(){if(!this._reading||0===this._missing)return;if(!this._torrent.bitfield.get(this._piece))return this._torrent.critical(this._piece,this._piece+this._criticalLength);if(this._notifying)return;if(this._notifying=!0,this._torrent.destroyed)return this.destroy(new Error("Torrent removed"));const f=this._piece,n={};f===this._torrent.pieces.length-1&&(n.length=this._torrent.lastPieceLength),this._torrent.store.get(f,n,(t,i)=>{if(this._notifying=!1,!this.destroyed)return x("read %s (length %s) (err %s)",f,i&&i.length,t&&t.message),t?this.destroy(t):(this._offset&&(i=i.slice(this._offset),this._offset=0),this._missing<i.length&&(i=i.slice(0,this._missing)),this._missing-=i.length,x("pushing buffer of length %s",i.length),this._reading=!1,this.push(i),void(0===this._missing&&this.push(null)))}),this._piece+=1}_destroy(f,n){this._torrent.destroyed||this._torrent.deselect(this._startPiece,this._endPiece,!0),n(f)}}},{debug:105,"end-of-stream":135,stream:72}],2:[function(v,M){const h=v("events"),{PassThrough:g}=v("stream"),p=v("path"),x=v("render-media"),r=v("stream-to-blob"),c=v("stream-to-blob-url"),f=v("stream-with-known-length-to-buffer"),n=v("queue-microtask"),t=v("range-parser"),i=v("mime"),s=v("end-of-stream"),u=v("./file-stream.js");M.exports=class o extends h{constructor(d,w){super(),this._torrent=d,this._destroyed=!1,this._fileStreams=new Set,this.name=w.name,this.path=w.path,this.length=w.length,this.offset=w.offset,this.done=!1;const b=w.offset,I=b+w.length-1;this._startPiece=0|b/this._torrent.pieceLength,this._endPiece=0|I/this._torrent.pieceLength,0===this.length&&(this.done=!0,this.emit("done")),this._serviceWorker=d.client.serviceWorker}get downloaded(){if(this._destroyed||!this._torrent.bitfield)return 0;const{pieces:d,bitfield:w,pieceLength:b,lastPieceLength:I}=this._torrent,{_startPiece:S,_endPiece:R}=this,F=he=>he===d.length-1?I:b,q=he=>{const Ae=he===d.length-1?I:b;return w.get(he)?Ae:Ae-d[he].missing};let K=0;for(let he=S;he<=R;he+=1){const Ae=q(he);if(K+=Ae,he===S&&(K-=re(this.offset%b,Ae)),he===R){const xe=F(R)-(this.offset+this.length)%b;K-=re(xe,Ae)}}return K}get progress(){return this.length?this.downloaded/this.length:0}select(d){0===this.length||this._torrent.select(this._startPiece,this._endPiece,d)}deselect(){0===this.length||this._torrent.deselect(this._startPiece,this._endPiece,!1)}createReadStream(d){if(0===this.length){const b=new g;return n(()=>{b.end()}),b}const w=new u(this,d);return this._fileStreams.add(w),w.once("close",()=>{this._fileStreams.delete(w)}),w}getBuffer(d){f(this.createReadStream(),this.length,d)}getBlob(d){if("undefined"==typeof window)throw new Error("browser-only method");r(this.createReadStream(),this._getMimeType()).then(w=>d(null,w),w=>d(w))}getBlobURL(d){if("undefined"==typeof window)throw new Error("browser-only method");c(this.createReadStream(),this._getMimeType()).then(w=>d(null,w),w=>d(w))}appendTo(d,w,b){if("undefined"==typeof window)throw new Error("browser-only method");x.append(this,d,w,b)}renderTo(d,w,b){if("undefined"==typeof window)throw new Error("browser-only method");x.render(this,d,w,b)}_serve(d){const w={status:200,headers:{"Accept-Ranges":"bytes","Content-Type":i.getType(this.name),"Cache-Control":"no-cache, no-store, must-revalidate, max-age=0",Expires:"0"},body:"HEAD"===d.method?"":"STREAM"};"document"===d.destination&&(w.headers["Content-Type"]="application/octet-stream",w.headers["Content-Disposition"]="attachment",w.body="DOWNLOAD");let b=t(this.length,d.headers.range||"");b.constructor===Array?(w.status=206,b=b[0],w.headers["Content-Range"]=`bytes ${b.start}-${b.end}/${this.length}`,w.headers["Content-Length"]=""+(b.end-b.start+1)):w.headers["Content-Length"]=this.length;const I="GET"===d.method&&this.createReadStream(b);let S=null;return I&&this.emit("stream",{stream:I,req:d,file:this},R=>{S=R,s(R,()=>{R&&R.destroy(),I.destroy()})}),[w,S||I,S&&I]}getStreamURL(d=(()=>{})){if("undefined"==typeof window)throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if("activated"!==this._serviceWorker.state)throw new Error("Worker isn't activated");d(null,`${this._serviceWorker.scriptURL.substr(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`)}streamTo(d,w=(()=>{})){if("undefined"==typeof window)throw new Error("browser-only method");if(!this._serviceWorker)throw new Error("No worker registered");if("activated"!==this._serviceWorker.state)throw new Error("Worker isn't activated");const b=this._serviceWorker.scriptURL.substr(0,this._serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length);d.src=`${b}webtorrent/${this._torrent.infoHash}/${encodeURI(this.path)}`,w(null,d)}_getMimeType(){return x.mime[p.extname(this.name).toLowerCase()]}_destroy(){this._destroyed=!0,this._torrent=null;for(const d of this._fileStreams)d.destroy();this._fileStreams.clear()}}},{"./file-stream.js":1,"end-of-stream":135,events:70,mime:177,path:71,"queue-microtask":218,"range-parser":223,"render-media":241,stream:72,"stream-to-blob":273,"stream-to-blob-url":272,"stream-with-known-length-to-buffer":274}],3:[function(v,M,h){const g=v("events"),{Transform:p}=v("stream"),x=v("unordered-array-remove"),r=v("debug"),c=v("bittorrent-protocol"),f=r("webtorrent:peer");let n=!1;h.enableSecure=()=>{n=!0},h.createWebRTCPeer=(u,o,l)=>{const d=new s(u.id,"webrtc");if(d.conn=u,d.swarm=o,d.throttleGroups=l,d.conn.connected)d.onConnect();else{const w=()=>{d.conn.removeListener("connect",b),d.conn.removeListener("error",I)},b=()=>{w(),d.onConnect()},I=S=>{w(),d.destroy(S)};d.conn.once("connect",b),d.conn.once("error",I),d.startConnectTimeout()}return d},h.createTCPIncomingPeer=(u,o)=>t(u,"tcpIncoming",o),h.createUTPIncomingPeer=(u,o)=>t(u,"utpIncoming",o),h.createTCPOutgoingPeer=(u,o,l)=>i(u,o,"tcpOutgoing",l),h.createUTPOutgoingPeer=(u,o,l)=>i(u,o,"utpOutgoing",l);const t=(u,o,l)=>{const d=`${u.remoteAddress}:${u.remotePort}`,w=new s(d,o);return w.conn=u,w.addr=d,w.throttleGroups=l,w.onConnect(),w},i=(u,o,l,d)=>{const w=new s(u,l);return w.addr=u,w.swarm=o,w.throttleGroups=d,w};h.createWebSeedPeer=(u,o,l,d)=>{const w=new s(o,"webSeed");return w.swarm=l,w.conn=u,w.throttleGroups=d,w.onConnect(),w};class s extends g{constructor(o,l){super(),this.id=o,this.type=l,f("new %s Peer %s",l,o),this.addr=null,this.conn=null,this.swarm=null,this.wire=null,this.connected=!1,this.destroyed=!1,this.timeout=null,this.retries=0,this.sentPe1=!1,this.sentPe2=!1,this.sentPe3=!1,this.sentPe4=!1,this.sentHandshake=!1}onConnect(){if(!this.destroyed){this.connected=!0,f("Peer %s connected",this.id),clearTimeout(this.connectTimeout);const o=this.conn;o.once("end",()=>{this.destroy()}),o.once("close",()=>{this.destroy()}),o.once("finish",()=>{this.destroy()}),o.once("error",d=>{this.destroy(d)});const l=this.wire=new c(this.type,this.retries,n);l.once("end",()=>{this.destroy()}),l.once("close",()=>{this.destroy()}),l.once("finish",()=>{this.destroy()}),l.once("error",d=>{this.destroy(d)}),l.once("pe1",()=>{this.onPe1()}),l.once("pe2",()=>{this.onPe2()}),l.once("pe3",()=>{this.onPe3()}),l.once("pe4",()=>{this.onPe4()}),l.once("handshake",(d,w)=>{this.onHandshake(d,w)}),this.startHandshakeTimeout(),this.setThrottlePipes(),this.swarm&&("tcpOutgoing"===this.type?n&&0===this.retries&&!this.sentPe1?this.sendPe1():!this.sentHandshake&&this.handshake():"tcpIncoming"!==this.type&&!this.sentHandshake&&this.handshake())}}sendPe1(){this.wire.sendPe1(),this.sentPe1=!0}onPe1(){this.sendPe2()}sendPe2(){this.wire.sendPe2(),this.sentPe2=!0}onPe2(){this.sendPe3()}sendPe3(){this.wire.sendPe3(this.swarm.infoHash),this.sentPe3=!0}onPe3(o){this.swarm&&(this.swarm.infoHashHash!==o&&this.destroy(new Error("unexpected crypto handshake info hash for this swarm")),this.sendPe4())}sendPe4(){this.wire.sendPe4(this.swarm.infoHash),this.sentPe4=!0}onPe4(){this.sentHandshake||this.handshake()}clearPipes(){this.conn.unpipe(),this.wire.unpipe()}setThrottlePipes(){const o=this;this.conn.pipe(this.throttleGroups.down.throttle()).pipe(new p({transform(l,d,w){o.emit("download",l.length),o.destroyed||w(null,l)}})).pipe(this.wire).pipe(this.throttleGroups.up.throttle()).pipe(new p({transform(l,d,w){o.emit("upload",l.length),o.destroyed||w(null,l)}})).pipe(this.conn)}onHandshake(o,l){if(!this.swarm||this.destroyed)return;if(this.swarm.destroyed)return this.destroy(new Error("swarm already destroyed"));if(o!==this.swarm.infoHash)return this.destroy(new Error("unexpected handshake info hash for this swarm"));if(l===this.swarm.peerId)return this.destroy(new Error("refusing to connect to ourselves"));f("Peer %s got handshake %s",this.id,o),clearTimeout(this.handshakeTimeout),this.retries=0;let d=this.addr;!d&&this.conn.remoteAddress&&this.conn.remotePort&&(d=`${this.conn.remoteAddress}:${this.conn.remotePort}`),this.swarm._onWire(this.wire,d),this.swarm&&!this.swarm.destroyed&&(this.sentHandshake||this.handshake())}handshake(){this.wire.handshake(this.swarm.infoHash,this.swarm.client.peerId,{dht:!this.swarm.private&&!!this.swarm.client.dht}),this.sentHandshake=!0}startConnectTimeout(){clearTimeout(this.connectTimeout),this.connectTimeout=setTimeout(()=>{this.destroy(new Error("connect timeout"))},{webrtc:25e3,tcpOutgoing:5e3,utpOutgoing:5e3}[this.type]),this.connectTimeout.unref&&this.connectTimeout.unref()}startHandshakeTimeout(){clearTimeout(this.handshakeTimeout),this.handshakeTimeout=setTimeout(()=>{this.destroy(new Error("handshake timeout"))},25e3),this.handshakeTimeout.unref&&this.handshakeTimeout.unref()}destroy(o){if(this.destroyed)return;this.destroyed=!0,this.connected=!1,f("destroy %s %s (error: %s)",this.type,this.id,o&&(o.message||o)),clearTimeout(this.connectTimeout),clearTimeout(this.handshakeTimeout);const l=this.swarm,d=this.conn,w=this.wire;this.swarm=null,this.conn=null,this.wire=null,l&&w&&x(l.wires,l.wires.indexOf(w)),d&&(d.on("error",()=>{}),d.destroy()),w&&w.destroy(),l&&l.removePeer(this.id)}}},{"bittorrent-protocol":32,debug:105,events:70,stream:72,"unordered-array-remove":284}],4:[function(v,M){M.exports=class{constructor(h){this._torrent=h,this._numPieces=h.pieces.length,this._pieces=Array(this._numPieces),this._onWire=g=>{this.recalculate(),this._initWire(g)},this._onWireHave=g=>{this._pieces[g]+=1},this._onWireBitfield=()=>{this.recalculate()},this._torrent.wires.forEach(g=>{this._initWire(g)}),this._torrent.on("wire",this._onWire),this.recalculate()}getRarestPiece(h){let g=[],p=1/0;for(let x=0;x<this._numPieces;++x){if(h&&!h(x))continue;const r=this._pieces[x];r===p?g.push(x):r<p&&(g=[x],p=r)}return g.length?g[0|Math.random()*g.length]:-1}destroy(){this._torrent.removeListener("wire",this._onWire),this._torrent.wires.forEach(h=>{this._cleanupWireEvents(h)}),this._torrent=null,this._pieces=null,this._onWire=null,this._onWireHave=null,this._onWireBitfield=null}_initWire(h){h._onClose=()=>{this._cleanupWireEvents(h);for(let g=0;g<this._numPieces;++g)this._pieces[g]-=h.peerPieces.get(g)},h.on("have",this._onWireHave),h.on("bitfield",this._onWireBitfield),h.once("close",h._onClose)}recalculate(){this._pieces.fill(0);for(const h of this._torrent.wires)for(let g=0;g<this._numPieces;++g)this._pieces[g]+=h.peerPieces.get(g)}_cleanupWireEvents(h){h.removeListener("have",this._onWireHave),h.removeListener("bitfield",this._onWireBitfield),h._onClose&&h.removeListener("close",h._onClose),h._onClose=null}}},{}],5:[function(v,M){(function(h,g){(function(){function p(Je,ce){return 2+ge(ce*Je.downloadSpeed()/N.BLOCK_LENGTH)}function c(){}const f=v("events"),n=v("fs"),t=v("net"),i=v("os"),s=v("path"),u=v("addr-to-ip-port"),{default:o}=v("bitfield"),l=v("cache-chunk-store"),d=v("chunk-store-stream/write"),w=v("cpus"),b=v("debug"),I=v("torrent-discovery"),S=v("fs-chunk-store"),R=v("simple-get"),F=v("immediate-chunk-store"),q=v("lt_donthave"),K=v("memory-chunk-store"),he=v("multistream"),Ae=v("run-parallel"),xe=v("run-parallel-limit"),A=v("parse-torrent"),N=v("torrent-piece"),U=v("pump"),y=v("queue-microtask"),C=v("random-iterate"),L=v("simple-sha1"),O=v("speedometer"),oe=v("ut_metadata"),$=v("ut_pex"),ue=v("./file.js"),qe=v("./peer.js"),Ze=v("./rarity-map.js"),Ve=v("./server.js"),tt=v("./utp.js"),at=v("./webconn.js"),zt=b("webtorrent:torrent"),Jt=3*N.BLOCK_LENGTH,st=h.browser?w().length:2,ft=[1e3,5e3,15e3],de=`WebTorrent/${v("../package.json").version} (https://webtorrent.io)`;let X;try{X=s.join(n.statSync("/tmp")&&"/tmp","webtorrent")}catch(Je){X=s.join("function"==typeof i.tmpdir?i.tmpdir():"/","webtorrent")}M.exports=class ae extends f{constructor(ce,Ee,$e){super(),this._debugId="unknown infohash",this.client=Ee,this.announce=$e.announce,this.urlList=$e.urlList,this.path=$e.path||X,this.addUID=$e.addUID||!1,this.skipVerify=!!$e.skipVerify,this._store=$e.store||S,this._preloadedStore=$e.preloadedStore||null,this._storeCacheSlots=void 0===$e.storeCacheSlots?20:$e.storeCacheSlots,this._destroyStoreOnDestroy=$e.destroyStoreOnDestroy||!1,this._getAnnounceOpts=$e.getAnnounceOpts,"boolean"==typeof $e.private&&(this.private=$e.private),this.strategy=$e.strategy||"sequential",this.maxWebConns=$e.maxWebConns||4,this._rechokeNumSlots=!1===$e.uploads||0===$e.uploads?0:+$e.uploads||10,this._rechokeOptimisticWire=null,this._rechokeOptimisticTime=0,this._rechokeIntervalId=null,this.ready=!1,this.destroyed=!1,this.paused=$e.paused||!1,this.done=!1,this.metadata=null,this.store=null,this.storeOpts=$e.storeOpts,this.files=[],this.pieces=[],this._amInterested=!1,this._selections=[],this._critical=[],this.wires=[],this._queue=[],this._peers={},this._peersLength=0,this.received=0,this.uploaded=0,this._downloadSpeed=O(),this._uploadSpeed=O(),this._servers=[],this._xsRequests=[],this._fileModtimes=$e.fileModtimes,null!==ce&&this._onTorrentId(ce),this._debug("new torrent")}get timeRemaining(){return this.done?0:0===this.downloadSpeed?1/0:(this.length-this.downloaded)/this.downloadSpeed*1e3}get downloaded(){if(!this.bitfield)return 0;let ce=0;for(let Ee=0,$e=this.pieces.length;Ee<$e;++Ee)if(this.bitfield.get(Ee))ce+=Ee===$e-1?this.lastPieceLength:this.pieceLength;else{const nt=this.pieces[Ee];ce+=nt.length-nt.missing}return ce}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){return this.length?this.downloaded/this.length:0}get ratio(){return this.uploaded/(this.received||this.length)}get numPeers(){return this.wires.length}get torrentFileBlobURL(){if("undefined"==typeof window)throw new Error("browser-only property");return this.torrentFile?URL.createObjectURL(new Blob([this.torrentFile],{type:"application/x-bittorrent"})):null}get _numQueued(){return this._queue.length+(this._peersLength-this._numConns)}get _numConns(){let ce=0;for(const Ee in this._peers)this._peers[Ee].connected&&(ce+=1);return ce}_onTorrentId(ce){if(this.destroyed)return;let Ee;try{Ee=A(ce)}catch($e){}Ee?(this.infoHash=Ee.infoHash,this._debugId=Ee.infoHash.toString("hex").substring(0,7),y(()=>{this.destroyed||this._onParsedTorrent(Ee)})):A.remote(ce,($e,nt)=>this.destroyed?void 0:$e?this._destroy($e):void this._onParsedTorrent(nt))}_onParsedTorrent(ce){if(!this.destroyed){if(this._processParsedTorrent(ce),!this.infoHash)return this._destroy(new Error("Malformed torrent data: No info hash"));this._rechokeIntervalId=setInterval(()=>{this._rechoke()},1e4),this._rechokeIntervalId.unref&&this._rechokeIntervalId.unref(),this.emit("_infoHash",this.infoHash),!this.destroyed&&(this.emit("infoHash",this.infoHash),this.destroyed||(this.client.listening?this._onListening():this.client.once("listening",()=>{this._onListening()})))}}_processParsedTorrent(ce){this._debugId=ce.infoHash.toString("hex").substring(0,7),void 0!==this.private&&(ce.private=this.private),this.announce&&(ce.announce=ce.announce.concat(this.announce)),this.client.tracker&&g.WEBTORRENT_ANNOUNCE&&!ce.private&&(ce.announce=ce.announce.concat(g.WEBTORRENT_ANNOUNCE)),this.urlList&&(ce.urlList=ce.urlList.concat(this.urlList)),ce.announce=Array.from(new Set(ce.announce)),ce.urlList=Array.from(new Set(ce.urlList)),Object.assign(this,ce),this.magnetURI=A.toMagnetURI(ce),this.torrentFile=A.toTorrentFile(ce)}_onListening(){this.destroyed||(this.info?this._onMetadata(this):(this.xs&&this._getMetadataFromServer(),this._startDiscovery()))}_startDiscovery(){if(this.discovery||this.destroyed)return;let ce=this.client.tracker;ce&&(ce=Object.assign({},this.client.tracker,{getAnnounceOpts:()=>{if(!this.destroyed){const Ee={uploaded:this.uploaded,downloaded:this.downloaded,left:fe(this.length-this.downloaded,0)};return this.client.tracker.getAnnounceOpts&&Object.assign(Ee,this.client.tracker.getAnnounceOpts()),this._getAnnounceOpts&&Object.assign(Ee,this._getAnnounceOpts()),Ee}}})),this.peerAddresses&&this.peerAddresses.forEach(Ee=>this.addPeer(Ee)),this.discovery=new I({infoHash:this.infoHash,announce:this.announce,peerId:this.client.peerId,dht:!this.private&&this.client.dht,tracker:ce,port:this.client.torrentPort,userAgent:de,lsd:this.client.lsd}),this.discovery.on("error",Ee=>{this._destroy(Ee)}),this.discovery.on("peer",(Ee,$e)=>{this._debug("peer %s discovered via %s",Ee,$e),"string"==typeof Ee&&this.done||this.addPeer(Ee)}),this.discovery.on("trackerAnnounce",()=>{this.emit("trackerAnnounce"),0===this.numPeers&&this.emit("noPeers","tracker")}),this.discovery.on("dhtAnnounce",()=>{this.emit("dhtAnnounce"),0===this.numPeers&&this.emit("noPeers","dht")}),this.discovery.on("warning",Ee=>{this.emit("warning",Ee)})}_getMetadataFromServer(){const Ee=this,nt=(Array.isArray(this.xs)?this.xs:[this.xs]).map(ct=>Ut=>{!function ce(ct,Ut){if(0!==ct.indexOf("http://")&&0!==ct.indexOf("https://"))return Ee.emit("warning",new Error(`skipping non-http xs param: ${ct}`)),Ut(null);let Dt;try{Dt=R.concat({url:ct,method:"GET",headers:{"user-agent":de}},function Ht(Xt,Gt,bn){if(Ee.destroyed||Ee.metadata)return Ut(null);if(Xt)return Ee.emit("warning",new Error(`http error from xs param: ${ct}`)),Ut(null);if(200!==Gt.statusCode)return Ee.emit("warning",new Error(`non-200 status code ${Gt.statusCode} from xs param: ${ct}`)),Ut(null);let Nn;try{Nn=A(bn)}catch(En){}return Nn?Nn.infoHash===Ee.infoHash?(Ee._onMetadata(Nn),void Ut(null)):(Ee.emit("warning",new Error(`got torrent file with incorrect info hash from xs param: ${ct}`)),Ut(null)):(Ee.emit("warning",new Error(`got invalid torrent file from xs param: ${ct}`)),Ut(null))})}catch(Xt){return Ee.emit("warning",new Error(`skipping invalid url xs param: ${ct}`)),Ut(null)}Ee._xsRequests.push(Dt)}(ct,Ut)});Ae(nt)}_onMetadata(ce){if(this.metadata||this.destroyed)return;let Ee;if(this._debug("got metadata"),this._xsRequests.forEach(nt=>{nt.abort()}),this._xsRequests=[],ce&&ce.infoHash)Ee=ce;else try{Ee=A(ce)}catch(nt){return this._destroy(nt)}this._processParsedTorrent(Ee),this.metadata=this.torrentFile,this.client.enableWebSeeds&&this.urlList.forEach(nt=>{this.addWebSeed(nt)}),this._rarityMap=new Ze(this),this.files=this.files.map(nt=>new ue(this,nt));let $e=this._preloadedStore;if($e||($e=new this._store(this.pieceLength,{...this.storeOpts,torrent:this,path:this.path,files:this.files,length:this.length,name:this.name+" - "+this.infoHash.slice(0,8),addUID:this.addUID})),0<this._storeCacheSlots&&!($e instanceof K)&&($e=new l($e,{max:this._storeCacheSlots})),this.store=new F($e),this.so?this.files.forEach((nt,ct)=>{this.so.includes(ct)?this.files[ct].select():this.files[ct].deselect()}):0!==this.pieces.length&&this.select(0,this.pieces.length-1,!1),this._hashes=this.pieces,this.pieces=this.pieces.map((nt,ct)=>new N(ct===this.pieces.length-1?this.lastPieceLength:this.pieceLength)),this._reservations=this.pieces.map(()=>[]),this.bitfield=new o(this.pieces.length),this.wires.forEach(nt=>{nt.ut_metadata&&nt.ut_metadata.setMetadata(this.metadata),this._onWireWithMetadata(nt)}),this.emit("metadata"),!this.destroyed)if(this.skipVerify)this._markAllVerified(),this._onStore();else{const nt=ct=>ct?this._destroy(ct):(this._debug("done verifying"),void this._onStore());this._debug("verifying existing torrent data"),this._fileModtimes&&this._store===S?this.getFileModtimes((ct,Ut)=>{if(ct)return this._destroy(ct);this.files.map((Dt,Xt)=>Ut[Xt]===this._fileModtimes[Xt]).every(Dt=>Dt)?(this._markAllVerified(),this._onStore()):this._verifyPieces(nt)}):this._verifyPieces(nt)}}getFileModtimes(ce){const Ee=[];xe(this.files.map(($e,nt)=>ct=>{const Ut=this.addUID?s.join(this.name+" - "+this.infoHash.slice(0,8)):s.join(this.path,$e.path);n.stat(Ut,(Ht,Dt)=>Ht&&"ENOENT"!==Ht.code?ct(Ht):(Ee[nt]=Dt&&Dt.mtime.getTime(),void ct(null)))}),st,$e=>{this._debug("done getting file modtimes"),ce($e,Ee)})}_verifyPieces(ce){xe(this.pieces.map((Ee,$e)=>nt=>{if(this.destroyed)return nt(new Error("torrent is destroyed"));const ct={};$e===this.pieces.length-1&&(ct.length=this.lastPieceLength),this.store.get($e,ct,(Ut,Ht)=>this.destroyed?nt(new Error("torrent is destroyed")):Ut?y(()=>nt(null)):void L(Ht,Dt=>this.destroyed?nt(new Error("torrent is destroyed")):(Dt===this._hashes[$e]?(this._debug("piece verified %s",$e),this._markVerified($e)):this._debug("piece invalid %s",$e),void nt(null))))}),st,ce)}rescanFiles(ce){if(this.destroyed)throw new Error("torrent is destroyed");ce||(ce=c),this._verifyPieces(Ee=>Ee?(this._destroy(Ee),ce(Ee)):(this._checkDone(),void ce(null)))}_markAllVerified(){for(let ce=0;ce<this.pieces.length;ce++)this._markVerified(ce)}_markVerified(ce){this.pieces[ce]=null,this._reservations[ce]=null,this.bitfield.set(ce,!0)}_onStore(){this.destroyed||(this._debug("on store"),this._startDiscovery(),this.ready=!0,this.emit("ready"),this._checkDone(),this._updateSelections())}destroy(ce,Ee){return"function"==typeof ce?this.destroy(null,ce):void this._destroy(null,ce,Ee)}_destroy(ce,Ee,$e){if("function"==typeof Ee)return this._destroy(ce,null,Ee);if(!this.destroyed){for(const ct in this.destroyed=!0,this._debug("destroy"),this.client._remove(this),clearInterval(this._rechokeIntervalId),this._xsRequests.forEach(Ut=>{Ut.abort()}),this._rarityMap&&this._rarityMap.destroy(),this._peers)this.removePeer(ct);this.files.forEach(ct=>{ct instanceof ue&&ct._destroy()});const nt=this._servers.map(ct=>Ut=>{ct.destroy(Ut)});if(this.discovery&&nt.push(ct=>{this.discovery.destroy(ct)}),this.store){let ct=this._destroyStoreOnDestroy;Ee&&void 0!==Ee.destroyStore&&(ct=Ee.destroyStore),nt.push(Ut=>{ct?this.store.destroy(Ut):this.store.close(Ut)})}Ae(nt,$e),ce&&(0===this.listenerCount("error")?this.client.emit("error",ce):this.emit("error",ce)),this.emit("close"),this.client=null,this.files=[],this.discovery=null,this.store=null,this._rarityMap=null,this._peers=null,this._servers=null,this._xsRequests=null}}addPeer(ce){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.infoHash)throw new Error("addPeer() must not be called before the `infoHash` event");let Ee;if(this.client.blocked){if("string"==typeof ce){let ct;try{ct=u(ce)}catch(Ut){return this._debug("ignoring peer: invalid %s",ce),this.emit("invalidPeer",ce),!1}Ee=ct[0]}else"string"==typeof ce.remoteAddress&&(Ee=ce.remoteAddress);if(Ee&&this.client.blocked.contains(Ee))return this._debug("ignoring peer: blocked %s",ce),"string"!=typeof ce&&ce.destroy(),this.emit("blockedPeer",ce),!1}const $e=this.client.utp&&this._isIPv4(Ee)?"utp":"tcp",nt=!!this._addPeer(ce,$e);return this.emit(nt?"peer":"invalidPeer",ce),nt}_addPeer(ce,Ee){if(this.destroyed)return"string"!=typeof ce&&ce.destroy(),null;if("string"==typeof ce&&!this._validAddr(ce))return this._debug("ignoring peer: invalid %s",ce),null;const $e=ce&&ce.id||ce;if(this._peers[$e])return this._debug("ignoring peer: duplicate (%s)",$e),"string"!=typeof ce&&ce.destroy(),null;if(this.paused)return this._debug("ignoring peer: torrent is paused"),"string"!=typeof ce&&ce.destroy(),null;let nt;return this._debug("add peer %s",$e),nt="string"==typeof ce?"utp"===Ee?qe.createUTPOutgoingPeer(ce,this,this.client.throttleGroups):qe.createTCPOutgoingPeer(ce,this,this.client.throttleGroups):qe.createWebRTCPeer(ce,this,this.client.throttleGroups),this._registerPeer(nt),"string"==typeof ce&&(this._queue.push(nt),this._drain()),nt}addWebSeed(ce){if(this.destroyed)throw new Error("torrent is destroyed");let Ee,$e;if("string"==typeof ce){if(Ee=ce,!/^https?:\/\/.+/.test(Ee))return this.emit("warning",new Error(`ignoring invalid web seed: ${Ee}`)),void this.emit("invalidPeer",Ee);if(this._peers[Ee])return this.emit("warning",new Error(`ignoring duplicate web seed: ${Ee}`)),void this.emit("invalidPeer",Ee);$e=new at(Ee,this)}else{if(!ce||"string"!=typeof ce.connId)return void this.emit("warning",new Error("addWebSeed must be passed a string or connection object with id property"));if($e=ce,Ee=$e.connId,this._peers[Ee])return this.emit("warning",new Error(`ignoring duplicate web seed: ${Ee}`)),void this.emit("invalidPeer",Ee)}this._debug("add web seed %s",Ee);const nt=qe.createWebSeedPeer($e,Ee,this,this.client.throttleGroups);this._registerPeer(nt),this.emit("peer",Ee)}_addIncomingPeer(ce){return this.destroyed?ce.destroy(new Error("torrent is destroyed")):this.paused?ce.destroy(new Error("torrent is paused")):(this._debug("add incoming peer %s",ce.id),void this._registerPeer(ce))}_registerPeer(ce){ce.on("download",Ee=>{this.destroyed||(this.received+=Ee,this._downloadSpeed(Ee),this.client._downloadSpeed(Ee),this.emit("download",Ee),this.destroyed||this.client.emit("download",Ee))}),ce.on("upload",Ee=>{this.destroyed||(this.uploaded+=Ee,this._uploadSpeed(Ee),this.client._uploadSpeed(Ee),this.emit("upload",Ee),this.destroyed||this.client.emit("upload",Ee))}),this._peers[ce.id]=ce,this._peersLength+=1}removePeer(ce){const Ee=ce&&ce.id||ce;(ce=this._peers[Ee])&&(this._debug("removePeer %s",Ee),delete this._peers[Ee],this._peersLength-=1,ce.destroy(),this._drain())}select(ce,Ee,$e,nt){if(this.destroyed)throw new Error("torrent is destroyed");if(0>ce||Ee<ce||this.pieces.length<=Ee)throw new Error(`invalid selection ${ce} : ${Ee}`);this._debug("select %s-%s (priority %s)",ce,Ee,$e=+$e||0),this._selections.push({from:ce,to:Ee,offset:0,priority:$e,notify:nt||c}),this._selections.sort((ct,Ut)=>Ut.priority-ct.priority),this._updateSelections()}deselect(ce,Ee,$e){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("deselect %s-%s (priority %s)",ce,Ee,$e=+$e||0);for(let nt=0;nt<this._selections.length;++nt){const ct=this._selections[nt];if(ct.from===ce&&ct.to===Ee&&ct.priority===$e){this._selections.splice(nt,1);break}}this._updateSelections()}critical(ce,Ee){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("critical %s-%s",ce,Ee);for(let $e=ce;$e<=Ee;++$e)this._critical[$e]=!0;this._updateSelections()}_onWire(ce,Ee){if(this._debug("got wire %s (%s)",ce._debugId,Ee||"Unknown"),this.wires.push(ce),Ee){const $e=u(Ee);ce.remoteAddress=$e[0],ce.remotePort=$e[1]}this.client.dht&&this.client.dht.listening&&ce.on("port",$e=>this.destroyed||this.client.dht.destroyed?void 0:ce.remoteAddress?0===$e||65536<$e?this._debug("ignoring invalid PORT from peer"):(this._debug("port: %s (from %s)",$e,Ee),void this.client.dht.addNode({host:ce.remoteAddress,port:$e})):this._debug("ignoring PORT from peer with no address")),ce.on("timeout",()=>{this._debug("wire timeout (%s)",Ee),ce.destroy()}),"webSeed"!==ce.type&&ce.setTimeout(3e4,!0),ce.setKeepAlive(!0),ce.use(oe(this.metadata)),ce.ut_metadata.on("warning",$e=>{this._debug("ut_metadata warning: %s",$e.message)}),this.metadata||(ce.ut_metadata.on("metadata",$e=>{this._debug("got metadata via ut_metadata"),this._onMetadata($e)}),ce.ut_metadata.fetch()),"function"!=typeof $||this.private||(ce.use($()),ce.ut_pex.on("peer",$e=>{this.done||(this._debug("ut_pex: got peer: %s (from %s)",$e,Ee),this.addPeer($e))}),ce.ut_pex.on("dropped",$e=>{const nt=this._peers[$e];nt&&!nt.connected&&(this._debug("ut_pex: dropped peer: %s (from %s)",$e,Ee),this.removePeer($e))}),ce.once("close",()=>{ce.ut_pex.reset()})),ce.use(q()),this.emit("wire",ce,Ee),this.metadata&&y(()=>{this._onWireWithMetadata(ce)})}_onWireWithMetadata(ce){let Ee=null;const $e=()=>{this.destroyed||ce.destroyed||(this._numQueued>2*(this._numConns-this.numPeers)&&ce.amInterested?ce.destroy():(Ee=setTimeout($e,5e3),Ee.unref&&Ee.unref()))};let nt;const ct=()=>{if(ce.peerPieces.buffer.length===this.bitfield.buffer.length){for(nt=0;nt<this.pieces.length;++nt)if(!ce.peerPieces.get(nt))return;ce.isSeeder=!0,ce.choke()}};ce.on("bitfield",()=>{ct(),this._update(),this._updateWireInterest(ce)}),ce.on("have",()=>{ct(),this._update(),this._updateWireInterest(ce)}),ce.lt_donthave.on("donthave",()=>{ct(),this._update(),this._updateWireInterest(ce)}),ce.once("interested",()=>{ce.unchoke()}),ce.once("close",()=>{clearTimeout(Ee)}),ce.on("choke",()=>{clearTimeout(Ee),Ee=setTimeout($e,5e3),Ee.unref&&Ee.unref()}),ce.on("unchoke",()=>{clearTimeout(Ee),this._update()}),ce.on("request",(Ut,Ht,Dt,Xt)=>Dt>131072?ce.destroy():void(this.pieces[Ut]||this.store.get(Ut,{offset:Ht,length:Dt},Xt))),ce.bitfield(this.bitfield),this._updateWireInterest(ce),ce.peerExtensions.dht&&this.client.dht&&this.client.dht.listening&&ce.port(this.client.dht.address().port),"webSeed"!==ce.type&&(Ee=setTimeout($e,5e3),Ee.unref&&Ee.unref()),ce.isSeeder=!1,ct()}_updateSelections(){!this.ready||this.destroyed||(y(()=>{this._gcSelections()}),this._updateInterest(),this._update())}_gcSelections(){for(let ce=0;ce<this._selections.length;++ce){const Ee=this._selections[ce],$e=Ee.offset;for(;this.bitfield.get(Ee.from+Ee.offset)&&Ee.from+Ee.offset<Ee.to;)Ee.offset+=1;$e!==Ee.offset&&Ee.notify(),Ee.to===Ee.from+Ee.offset&&this.bitfield.get(Ee.from+Ee.offset)&&(this._selections.splice(ce,1),ce-=1,Ee.notify(),this._updateInterest())}this._selections.length||this.emit("idle")}_updateInterest(){const ce=this._amInterested;this._amInterested=!!this._selections.length,this.wires.forEach(Ee=>this._updateWireInterest(Ee)),ce===this._amInterested||this.emit(this._amInterested?"interested":"uninterested")}_updateWireInterest(ce){let Ee=!1;for(let $e=0;$e<this.pieces.length;++$e)if(this.pieces[$e]&&ce.peerPieces.get($e)){Ee=!0;break}Ee?ce.interested():ce.uninterested()}_update(){if(!this.destroyed){const ce=C(this.wires);for(let Ee;Ee=ce();)this._updateWireWrapper(Ee)}}_updateWireWrapper(ce){const Ee=this;"undefined"!=typeof window&&"function"==typeof window.requestIdleCallback?window.requestIdleCallback(()=>{Ee._updateWire(ce)},{timeout:250}):Ee._updateWire(ce)}_updateWire(ce){function Ee(Xt,Gt,bn,Nn){return En=>En>=Xt&&En<=Gt&&!(En in bn)&&ce.peerPieces.get(En)&&(!Nn||Nn(En))}function nt(Xt){let Gt=Xt;for(let Nn=Xt;Nn<Ut._selections.length&&Ut._selections[Nn].priority;Nn++)Gt=Nn;const bn=Ut._selections[Xt];Ut._selections[Xt]=Ut._selections[Gt],Ut._selections[Gt]=bn}function ct(Xt){if(ce.requests.length>=Dt)return!0;const Gt=function $e(){const Xt=ce.downloadSpeed()||1;if(Xt>Jt)return()=>!0;const Gt=fe(1,ce.requests.length)*N.BLOCK_LENGTH/Xt;let bn=10,Nn=0;return En=>{if(!bn||Ut.bitfield.get(En))return!0;for(let Cn=Ut.pieces[En].missing;Nn<Ut.wires.length;Nn++){const Bn=Ut.wires[Nn],_t=Bn.downloadSpeed();if(!(_t<Jt)&&!(_t<=Xt)&&Bn.peerPieces.get(En)&&!(0<(Cn-=_t*Gt)))return bn--,!1}return!0}}();for(let bn=0;bn<Ut._selections.length;bn++){const Nn=Ut._selections[bn];let En;if("rarest"===Ut.strategy){const Cn=Nn.from+Nn.offset,Bn=Nn.to,_t={};let Xn=0;for(const zn=Ee(Cn,Bn,_t,Gt);Xn<Bn-Cn+1&&(En=Ut._rarityMap.getRarestPiece(zn),!(0>En));){for(;Ut._request(ce,En,Ut._critical[En]||Xt););if(!(ce.requests.length<Dt))return Nn.priority&&nt(bn),!0;_t[En]=!0,Xn++}}else for(En=Nn.from+Nn.offset;En<=Nn.to;En++)if(ce.peerPieces.get(En)&&Gt(En)){for(;Ut._request(ce,En,Ut._critical[En]||Xt););if(!(ce.requests.length<Dt))return Nn.priority&&nt(bn),!0}}return!1}const Ut=this;if(ce.peerChoking)return;if(!ce.downloaded)return function(){if(!ce.requests.length)for(let Xt=Ut._selections.length;Xt--;){const Gt=Ut._selections[Xt];let bn;if("rarest"===Ut.strategy){const Nn=Gt.from+Gt.offset,En=Gt.to,Cn={};let Bn=0;for(const _t=Ee(Nn,En,Cn);Bn<En-Nn+1&&(bn=Ut._rarityMap.getRarestPiece(_t),!(0>bn));){if(Ut._request(ce,bn,!1))return;Cn[bn]=!0,Bn+=1}}else for(bn=Gt.to;bn>=Gt.from+Gt.offset;--bn)if(ce.peerPieces.get(bn)&&Ut._request(ce,bn,!1))return}}();const Ht=p(ce,.5);if(ce.requests.length>=Ht)return;const Dt=p(ce,1);ct(!1)||ct(!0)}_rechoke(){if(this.ready){const ce=this.wires.map(Ee=>({wire:Ee,random:Math.random()})).sort((Ee,$e)=>{const nt=Ee.wire,ct=$e.wire;return nt.downloadSpeed()===ct.downloadSpeed()?nt.uploadSpeed()===ct.uploadSpeed()?nt.amChoking===ct.amChoking?Ee.random-$e.random:nt.amChoking?-1:1:nt.uploadSpeed()-ct.uploadSpeed():nt.downloadSpeed()-ct.downloadSpeed()}).map(Ee=>Ee.wire);0>=this._rechokeOptimisticTime?this._rechokeOptimisticWire=null:this._rechokeOptimisticTime-=1;for(let Ee=0;0<ce.length&&Ee<this._rechokeNumSlots-1;){const $e=ce.pop();$e.isSeeder||$e===this._rechokeOptimisticWire||($e.unchoke(),$e.peerInterested&&Ee++)}if(null===this._rechokeOptimisticWire&&0<this._rechokeNumSlots){const Ee=ce.filter($e=>$e.peerInterested);if(0<Ee.length){const $e=Ee[function r(Je){return 0|Math.random()*Je}(Ee.length)];$e.unchoke(),this._rechokeOptimisticWire=$e,this._rechokeOptimisticTime=2}}ce.filter(Ee=>Ee!==this._rechokeOptimisticWire).forEach(Ee=>Ee.choke())}}_hotswap(ce,Ee){const $e=ce.downloadSpeed();if($e<N.BLOCK_LENGTH||!this._reservations[Ee])return!1;const nt=this._reservations[Ee];if(!nt)return!1;let Ut,Ht,ct=1/0;for(Ht=0;Ht<nt.length;Ht++){const Dt=nt[Ht];if(!Dt||Dt===ce)continue;const Xt=Dt.downloadSpeed();Xt>=Jt||2*Xt>$e||Xt>ct||(Ut=Dt,ct=Xt)}if(!Ut)return!1;for(Ht=0;Ht<nt.length;Ht++)nt[Ht]===Ut&&(nt[Ht]=null);for(Ht=0;Ht<Ut.requests.length;Ht++){const Dt=Ut.requests[Ht];Dt.piece===Ee&&this.pieces[Ee].cancel(0|Dt.offset/N.BLOCK_LENGTH)}return this.emit("hotswap",Ut,ce,Ee),!0}_request(ce,Ee,$e){function nt(){y(()=>{ct._update()})}const ct=this,Ut=ce.requests.length,Ht="webSeed"===ce.type;if(ct.bitfield.get(Ee))return!1;const Dt=Ht?re(function x(Je,ce,Ee){return 1+ge(ce*Je.downloadSpeed()/Ee)}(ce,1,ct.pieceLength),ct.maxWebConns):p(ce,1);if(Ut>=Dt)return!1;const Xt=ct.pieces[Ee];let Gt=Ht?Xt.reserveRemaining():Xt.reserve();if(-1===Gt&&$e&&ct._hotswap(ce,Ee)&&(Gt=Ht?Xt.reserveRemaining():Xt.reserve()),-1===Gt)return!1;let bn=ct._reservations[Ee];bn||(bn=ct._reservations[Ee]=[]);let Nn=bn.indexOf(null);-1===Nn&&(Nn=bn.length),bn[Nn]=ce;const En=Xt.chunkOffset(Gt),Cn=Ht?Xt.chunkLengthRemaining(Gt):Xt.chunkLength(Gt);return ce.request(Ee,En,Cn,function Bn(_t,Xn){if(ct.destroyed)return;if(!ct.ready)return ct.once("ready",()=>{Bn(_t,Xn)});if(bn[Nn]===ce&&(bn[Nn]=null),Xt!==ct.pieces[Ee])return nt();if(_t)return ct._debug("error getting piece %s (offset: %s length: %s) from %s: %s",Ee,En,Cn,`${ce.remoteAddress}:${ce.remotePort}`,_t.message),Ht?Xt.cancelRemaining(Gt):Xt.cancel(Gt),void nt();if(ct._debug("got piece %s (offset: %s length: %s) from %s",Ee,En,Cn,`${ce.remoteAddress}:${ce.remotePort}`),!Xt.set(Gt,Xn,ce))return nt();const zn=Xt.flush();L(zn,Fn=>{ct.destroyed||(Fn===ct._hashes[Ee]?(ct._debug("piece verified %s",Ee),ct.store.put(Ee,zn,Zn=>Zn?void ct._destroy(Zn):(ct.pieces[Ee]=null,ct._markVerified(Ee),ct.wires.forEach(vr=>{vr.have(Ee)}),ct._checkDone()&&!ct.destroyed&&ct.discovery.complete(),void nt()))):(ct.pieces[Ee]=new N(Xt.length),ct.emit("warning",new Error(`Piece ${Ee} failed verification`)),nt()))})}),!0}_checkDone(){if(this.destroyed)return;this.files.forEach(Ee=>{if(!Ee.done){for(let $e=Ee._startPiece;$e<=Ee._endPiece;++$e)if(!this.bitfield.get($e))return;Ee.done=!0,Ee.emit("done"),this._debug(`file done: ${Ee.name}`)}});let ce=!0;for(const Ee of this._selections){for(let $e=Ee.from;$e<=Ee.to;$e++)if(!this.bitfield.get($e)){ce=!1;break}if(!ce)break}return!this.done&&ce?(this.done=!0,this._debug(`torrent done: ${this.infoHash}`),this.emit("done")):this.done=!1,this._gcSelections(),ce}load(ce,Ee){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.ready)return this.once("ready",()=>{this.load(ce,Ee)});Array.isArray(ce)||(ce=[ce]),Ee||(Ee=c);const $e=new he(ce),nt=new d(this.store,this.pieceLength);U($e,nt,ct=>ct?Ee(ct):(this._markAllVerified(),this._checkDone(),void Ee(null)))}createServer(ce){if("function"!=typeof Ve)throw new Error("node.js-only method");if(this.destroyed)throw new Error("torrent is destroyed");const Ee=new Ve(this,ce);return this._servers.push(Ee),Ee}pause(){this.destroyed||(this._debug("pause"),this.paused=!0)}resume(){this.destroyed||(this._debug("resume"),this.paused=!1,this._drain())}_debug(){const ce=[].slice.call(arguments);ce[0]=`[${this.client?this.client._debugId:"No Client"}] [${this._debugId}] ${ce[0]}`,zt(...ce)}_drain(){if(this._debug("_drain numConns %s maxConns %s",this._numConns,this.client.maxConns),"function"!=typeof t.connect||this.destroyed||this.paused||this._numConns>=this.client.maxConns)return;this._debug("drain (%s queued, %s/%s peers)",this._numQueued,this.numPeers,this.client.maxConns);const ce=this._queue.shift();if(!ce)return;this._debug("%s connect attempt to %s",ce.type,ce.addr);const Ee=u(ce.addr),$e={host:Ee[0],port:Ee[1]};ce.conn=this.client.utp&&"utpOutgoing"===ce.type?tt.connect($e.port,$e.host):t.connect($e);const nt=ce.conn;nt.once("connect",()=>{ce.onConnect()}),nt.once("error",ct=>{ce.destroy(ct)}),ce.startConnectTimeout(),nt.on("close",()=>{if(!this.destroyed){if(ce.retries>=ft.length){if(this.client.utp){const Ht=this._addPeer(ce.addr,"tcp");Ht&&(Ht.retries=0)}else this._debug("conn %s closed: will not re-add (max %s attempts)",ce.addr,ft.length);return}const ct=ft[ce.retries];this._debug("conn %s closed: will re-add to queue in %sms (attempt %s)",ce.addr,ct,ce.retries+1);const Ut=setTimeout(()=>{if(!this.destroyed){const Ht=u(ce.addr)[0],Dt=this.client.utp&&this._isIPv4(Ht)?"utp":"tcp",Xt=this._addPeer(ce.addr,Dt);Xt&&(Xt.retries=ce.retries+1)}},ct);Ut.unref&&Ut.unref()}})}_validAddr(ce){let Ee;try{Ee=u(ce)}catch(ct){return!1}const nt=Ee[1];return 0<nt&&65535>nt&&("127.0.0.1"!==Ee[0]||nt!==this.client.torrentPort)}_isIPv4(ce){return/^((?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])[.]){3}(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/.test(ce)}}}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"../package.json":293,"./file.js":2,"./peer.js":3,"./rarity-map.js":4,"./server.js":41,"./utp.js":41,"./webconn.js":6,_process:205,"addr-to-ip-port":7,bitfield:31,"cache-chunk-store":92,"chunk-store-stream/write":93,cpus:96,debug:105,events:70,fs:41,"fs-chunk-store":173,"immediate-chunk-store":158,lt_donthave:169,"memory-chunk-store":173,multistream:189,net:41,os:41,"parse-torrent":197,path:71,pump:213,"queue-microtask":218,"random-iterate":220,"run-parallel":245,"run-parallel-limit":244,"simple-get":258,"simple-sha1":260,speedometer:267,"torrent-discovery":280,"torrent-piece":281,ut_metadata:287,ut_pex:41}],6:[function(v,M){(function(h){(function(){const{default:g}=v("bitfield"),p=v("debug"),x=v("simple-get"),r=v("lt_donthave"),c=v("simple-sha1"),f=v("bittorrent-protocol"),n=p("webtorrent:webconn"),t=v("../package.json").version;M.exports=class extends f{constructor(i,s){super(),this.url=i,this.connId=i,this.webPeerId=c.sync(i),this._torrent=s,this._init()}_init(){this.setKeepAlive(!0),this.use(r()),this.once("handshake",i=>{if(this.destroyed)return;this.handshake(i,this.webPeerId);const s=this._torrent.pieces.length,u=new g(s);for(let o=0;o<=s;o++)u.set(o,!0);this.bitfield(u)}),this.once("interested",()=>{n("interested"),this.unchoke()}),this.on("uninterested",()=>{n("uninterested")}),this.on("choke",()=>{n("choke")}),this.on("unchoke",()=>{n("unchoke")}),this.on("bitfield",()=>{n("bitfield")}),this.lt_donthave.on("donthave",()=>{n("donthave")}),this.on("request",(i,s,u,o)=>{n("request pieceIndex=%d offset=%d length=%d",i,s,u),this.httpRequest(i,s,u,(l,d)=>{if(l){this.lt_donthave.donthave(i);const w=setTimeout(()=>{this.destroyed||this.have(i)},1e4);w.unref&&w.unref()}o(l,d)})})}httpRequest(i,s,u,o){const d=i*this._torrent.pieceLength+s,w=d+u-1,b=this._torrent.files;let I;if(1>=b.length)I=[{url:this.url,start:d,end:w}];else{const q=b.filter(K=>K.offset<=w&&K.offset+K.length>d);if(1>q.length)return o(new Error("Could not find file corresponding to web seed range request"));I=q.map(K=>{const he=K.offset+K.length-1;return{url:this.url+("/"===this.url[this.url.length-1]?"":"/")+K.path,fileOffsetInRange:fe(K.offset-d,0),start:fe(d-K.offset,0),end:re(he,w-K.offset)}})}let F,S=0,R=!1;1<I.length&&(F=h.alloc(u)),I.forEach(q=>{function K(N,U){return 200>N.statusCode||300<=N.statusCode?R?void 0:(R=!0,o(new Error(`Unexpected HTTP status code ${N.statusCode}`))):(n("Got data of length %d",U.length),void(1===I.length?o(null,U):(U.copy(F,q.fileOffsetInRange),++S===I.length&&o(null,F))))}const he=q.url,Ae=q.start,xe=q.end;n("Requesting url=%s pieceIndex=%d offset=%d length=%d start=%d end=%d",he,i,s,u,Ae,xe);const A={url:he,method:"GET",headers:{"user-agent":`WebTorrent/${t} (https://webtorrent.io)`,range:`bytes=${Ae}-${xe}`},timeout:6e4};x.concat(A,(N,U,y)=>R?void 0:N?"undefined"==typeof window||he.startsWith(`${window.location.origin}/`)?(R=!0,o(N)):x.head(he,(C,L)=>R?void 0:C?(R=!0,o(C)):200>L.statusCode||300<=L.statusCode?(R=!0,o(new Error(`Unexpected HTTP status code ${L.statusCode}`))):L.url===he?(R=!0,o(N)):(A.url=L.url,void x.concat(A,(O,oe,$)=>R?void 0:O?(R=!0,o(O)):void K(oe,$)))):void K(U,y))})}destroy(){super.destroy(),this._torrent=null}}}).call(this)}).call(this,v("buffer").Buffer)},{"../package.json":293,bitfield:31,"bittorrent-protocol":32,buffer:69,debug:105,lt_donthave:169,"simple-get":258,"simple-sha1":260}],7:[function(v,M){let h=new Map;M.exports=function(g){if(1e5===h.size&&h.clear(),!h.has(g)){const p=/^\[?([^\]]+)]?:(\d+)$/.exec(g);if(!p)throw new Error(`invalid addr: ${g}`);h.set(g,[p[1],+p[2]])}return h.get(g)}},{}],8:[function(v,M,h){"use strict";const g=h;g.bignum=v("bn.js"),g.define=v("./asn1/api").define,g.base=v("./asn1/base"),g.constants=v("./asn1/constants"),g.decoders=v("./asn1/decoders"),g.encoders=v("./asn1/encoders")},{"./asn1/api":9,"./asn1/base":11,"./asn1/constants":15,"./asn1/decoders":17,"./asn1/encoders":20,"bn.js":22}],9:[function(v,M,h){"use strict";function g(c,f){this.name=c,this.body=f,this.decoders={},this.encoders={}}const p=v("./encoders"),x=v("./decoders"),r=v("inherits");h.define=function(c,f){return new g(c,f)},g.prototype._createNamed=function(c){function f(t){this._initNamed(t,n)}const n=this.name;return r(f,c),f.prototype._initNamed=function(t,i){c.call(this,t,i)},new f(this)},g.prototype._getDecoder=function(c){return this.decoders.hasOwnProperty(c=c||"der")||(this.decoders[c]=this._createNamed(x[c])),this.decoders[c]},g.prototype.decode=function(c,f,n){return this._getDecoder(f).decode(c,n)},g.prototype._getEncoder=function(c){return this.encoders.hasOwnProperty(c=c||"der")||(this.encoders[c]=this._createNamed(p[c])),this.encoders[c]},g.prototype.encode=function(c,f,n){return this._getEncoder(f).encode(c,n)}},{"./decoders":17,"./encoders":20,inherits:159}],10:[function(v,M,h){"use strict";function g(f,n){return r.call(this,n),c.isBuffer(f)?(this.base=f,this.offset=0,void(this.length=f.length)):void this.error("Input not Buffer")}function p(f,n){if(Array.isArray(f))this.length=0,this.value=f.map(function(t){return p.isEncoderBuffer(t)||(t=new p(t,n)),this.length+=t.length,t},this);else if("number"==typeof f){if(!(0<=f&&255>=f))return n.error("non-byte EncoderBuffer value");this.value=f,this.length=1}else if("string"==typeof f)this.value=f,this.length=c.byteLength(f);else{if(!c.isBuffer(f))return n.error("Unsupported type: "+typeof f);this.value=f,this.length=f.length}}const x=v("inherits"),r=v("../base/reporter").Reporter,c=v("safer-buffer").Buffer;x(g,r),h.DecoderBuffer=g,g.isDecoderBuffer=function(f){return f instanceof g||"object"==typeof f&&c.isBuffer(f.base)&&"DecoderBuffer"===f.constructor.name&&"number"==typeof f.offset&&"number"==typeof f.length&&"function"==typeof f.save&&"function"==typeof f.restore&&"function"==typeof f.isEmpty&&"function"==typeof f.readUInt8&&"function"==typeof f.skip&&"function"==typeof f.raw},g.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},g.prototype.restore=function(f){const n=new g(this.base);return n.offset=f.offset,n.length=this.offset,this.offset=f.offset,r.prototype.restore.call(this,f.reporter),n},g.prototype.isEmpty=function(){return this.offset===this.length},g.prototype.readUInt8=function(f){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(f||"DecoderBuffer overrun")},g.prototype.skip=function(f,n){if(!(this.offset+f<=this.length))return this.error(n||"DecoderBuffer overrun");const t=new g(this.base);return t._reporterState=this._reporterState,t.offset=this.offset,t.length=this.offset+f,this.offset+=f,t},g.prototype.raw=function(f){return this.base.slice(f?f.offset:this.offset,this.length)},h.EncoderBuffer=p,p.isEncoderBuffer=function(f){return f instanceof p||"object"==typeof f&&"EncoderBuffer"===f.constructor.name&&"number"==typeof f.length&&"function"==typeof f.join},p.prototype.join=function(f,n){return f||(f=c.alloc(this.length)),n||(n=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(t){t.join(f,n),n+=t.length}):("number"==typeof this.value?f[n]=this.value:"string"==typeof this.value?f.write(this.value,n):c.isBuffer(this.value)&&this.value.copy(f,n),n+=this.length)),f}},{"../base/reporter":13,inherits:159,"safer-buffer":248}],11:[function(v,M,h){"use strict";const g=h;g.Reporter=v("./reporter").Reporter,g.DecoderBuffer=v("./buffer").DecoderBuffer,g.EncoderBuffer=v("./buffer").EncoderBuffer,g.Node=v("./node")},{"./buffer":10,"./node":12,"./reporter":13}],12:[function(v,M){"use strict";function h(t,i,s){const u={};this._baseState=u,u.name=s,u.enc=t,u.parent=i||null,u.children=null,u.tag=null,u.args=null,u.reverseArgs=null,u.choice=null,u.optional=!1,u.any=!1,u.obj=!1,u.use=null,u.useDecoder=null,u.key=null,u.default=null,u.explicit=null,u.implicit=null,u.contains=null,u.parent||(u.children=[],this._wrap())}const g=v("../base/reporter").Reporter,p=v("../base/buffer").EncoderBuffer,x=v("../base/buffer").DecoderBuffer,r=v("minimalistic-assert"),c=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],f=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(c);M.exports=h;const n=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const t=this._baseState,i={};n.forEach(function(u){i[u]=t[u]});const s=new this.constructor(i.parent);return s._baseState=i,s},h.prototype._wrap=function(){const t=this._baseState;f.forEach(function(i){this[i]=function(){const s=new this.constructor(this);return t.children.push(s),s[i].apply(s,arguments)}},this)},h.prototype._init=function(t){const i=this._baseState;r(null===i.parent),t.call(this),i.children=i.children.filter(function(s){return s._baseState.parent===this},this),r.equal(i.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(t){const i=this._baseState,s=t.filter(function(u){return u instanceof this.constructor},this);t=t.filter(function(u){return!(u instanceof this.constructor)},this),0!==s.length&&(r(null===i.children),i.children=s,s.forEach(function(u){u._baseState.parent=this},this)),0!==t.length&&(r(null===i.args),i.args=t,i.reverseArgs=t.map(function(u){if("object"!=typeof u||u.constructor!==Object)return u;const o={};return Object.keys(u).forEach(function(l){l==(0|l)&&(l|=0),o[u[l]]=l}),o}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){h.prototype[t]=function(){throw new Error(t+" not implemented for encoding: "+this._baseState.enc)}}),c.forEach(function(t){h.prototype[t]=function(){const i=this._baseState,s=Array.prototype.slice.call(arguments);return r(null===i.tag),i.tag=t,this._useArgs(s),this}}),h.prototype.use=function(t){r(t);const i=this._baseState;return r(null===i.use),i.use=t,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(t){const i=this._baseState;return r(null===i.default),i.default=t,i.optional=!0,this},h.prototype.explicit=function(t){const i=this._baseState;return r(null===i.explicit&&null===i.implicit),i.explicit=t,this},h.prototype.implicit=function(t){const i=this._baseState;return r(null===i.explicit&&null===i.implicit),i.implicit=t,this},h.prototype.obj=function(){const t=this._baseState,i=Array.prototype.slice.call(arguments);return t.obj=!0,0!==i.length&&this._useArgs(i),this},h.prototype.key=function(t){const i=this._baseState;return r(null===i.key),i.key=t,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(t){const i=this._baseState;return r(null===i.choice),i.choice=t,this._useArgs(Object.keys(t).map(function(s){return t[s]})),this},h.prototype.contains=function(t){const i=this._baseState;return r(null===i.use),i.contains=t,this},h.prototype._decode=function(t,i){const s=this._baseState;if(null===s.parent)return t.wrapResult(s.children[0]._decode(t,i));let d,u=s.default,o=!0,l=null;if(null!==s.key&&(l=t.enterKey(s.key)),s.optional){let w=null;if(null===s.explicit?null===s.implicit?null!==s.tag&&(w=s.tag):w=s.implicit:w=s.explicit,null!==w||s.any){if(o=this._peekTag(t,w,s.any),t.isError(o))return o}else{const b=t.save();try{null===s.choice?this._decodeGeneric(s.tag,t,i):this._decodeChoice(t,i),o=!0}catch(I){o=!1}t.restore(b)}}if(s.obj&&o&&(d=t.enterObject()),o){if(null!==s.explicit){const b=this._decodeTag(t,s.explicit);if(t.isError(b))return b;t=b}const w=t.offset;if(null===s.use&&null===s.choice){let b;s.any&&(b=t.save());const I=this._decodeTag(t,null===s.implicit?s.tag:s.implicit,s.any);if(t.isError(I))return I;s.any?u=t.raw(b):t=I}if(i&&i.track&&null!==s.tag&&i.track(t.path(),w,t.length,"tagged"),i&&i.track&&null!==s.tag&&i.track(t.path(),t.offset,t.length,"content"),s.any||(u=null===s.choice?this._decodeGeneric(s.tag,t,i):this._decodeChoice(t,i)),t.isError(u))return u;if(s.any||null!==s.choice||null===s.children||s.children.forEach(function(b){b._decode(t,i)}),s.contains&&("octstr"===s.tag||"bitstr"===s.tag)){const b=new x(u);u=this._getUse(s.contains,t._reporterState.obj)._decode(b,i)}}return s.obj&&o&&(u=t.leaveObject(d)),null===s.key||null===u&&!0!==o?null!==l&&t.exitKey(l):t.leaveKey(l,s.key,u),u},h.prototype._decodeGeneric=function(t,i,s){const u=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(i,t,u.args[0],s):/str$/.test(t)?this._decodeStr(i,t,s):"objid"===t&&u.args?this._decodeObjid(i,u.args[0],u.args[1],s):"objid"===t?this._decodeObjid(i,null,null,s):"gentime"===t||"utctime"===t?this._decodeTime(i,t,s):"null_"===t?this._decodeNull(i,s):"bool"===t?this._decodeBool(i,s):"objDesc"===t?this._decodeStr(i,t,s):"int"===t||"enum"===t?this._decodeInt(i,u.args&&u.args[0],s):null===u.use?i.error("unknown tag: "+t):this._getUse(u.use,i._reporterState.obj)._decode(i,s)},h.prototype._getUse=function(t,i){const s=this._baseState;return s.useDecoder=this._use(t,i),r(null===s.useDecoder._baseState.parent),s.useDecoder=s.useDecoder._baseState.children[0],s.implicit!==s.useDecoder._baseState.implicit&&(s.useDecoder=s.useDecoder.clone(),s.useDecoder._baseState.implicit=s.implicit),s.useDecoder},h.prototype._decodeChoice=function(t,i){const s=this._baseState;let u=null,o=!1;return Object.keys(s.choice).some(function(l){const d=t.save(),w=s.choice[l];try{const b=w._decode(t,i);if(t.isError(b))return!1;u={type:l,value:b},o=!0}catch(b){return t.restore(d),!1}return!0},this),o?u:t.error("Choice not matched")},h.prototype._createEncoderBuffer=function(t){return new p(t,this.reporter)},h.prototype._encode=function(t,i,s){const u=this._baseState;if(null===u.default||u.default!==t){const o=this._encodeValue(t,i,s);return void 0===o||this._skipDefault(o,i,s)?void 0:o}},h.prototype._encodeValue=function(t,i,s){const u=this._baseState;if(null===u.parent)return u.children[0]._encode(t,i||new g);let o=null;if(this.reporter=i,u.optional&&void 0===t){if(null===u.default)return;t=u.default}let l=null,d=!1;if(u.any)o=this._createEncoderBuffer(t);else if(u.choice)o=this._encodeChoice(t,i);else if(u.contains)l=this._getUse(u.contains,s)._encode(t,i),d=!0;else if(u.children)l=u.children.map(function(w){if("null_"===w._baseState.tag)return w._encode(null,i,t);if(null===w._baseState.key)return i.error("Child should have a key");const b=i.enterKey(w._baseState.key);if("object"!=typeof t)return i.error("Child expected, but input is not object");const I=w._encode(t[w._baseState.key],i,t);return i.leaveKey(b),I},this).filter(function(w){return w}),l=this._createEncoderBuffer(l);else if("seqof"===u.tag||"setof"===u.tag){if(!u.args||1!==u.args.length)return i.error("Too many args for : "+u.tag);if(!Array.isArray(t))return i.error("seqof/setof, but data is not Array");const w=this.clone();w._baseState.implicit=null,l=this._createEncoderBuffer(t.map(function(b){return this._getUse(this._baseState.args[0],t)._encode(b,i)},w))}else null===u.use?(l=this._encodePrimitive(u.tag,t),d=!0):o=this._getUse(u.use,s)._encode(t,i);if(!u.any&&null===u.choice){const w=null===u.implicit?u.tag:u.implicit,b=null===u.implicit?"universal":"context";null===w?null===u.use&&i.error("Tag could be omitted only for .use()"):null===u.use&&(o=this._encodeComposite(w,d,b,l))}return null!==u.explicit&&(o=this._encodeComposite(u.explicit,!1,"context",o)),o},h.prototype._encodeChoice=function(t,i){const s=this._baseState,u=s.choice[t.type];return u||r(!1,t.type+" not found in "+JSON.stringify(Object.keys(s.choice))),u._encode(t.value,i)},h.prototype._encodePrimitive=function(t,i){const s=this._baseState;if(/str$/.test(t))return this._encodeStr(i,t);if("objid"===t&&s.args)return this._encodeObjid(i,s.reverseArgs[0],s.args[1]);if("objid"===t)return this._encodeObjid(i,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(i,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(i,s.args&&s.reverseArgs[0]);if("bool"===t)return this._encodeBool(i);if("objDesc"===t)return this._encodeStr(i,t);throw new Error("Unsupported tag: "+t)},h.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},h.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},{"../base/buffer":10,"../base/reporter":13,"minimalistic-assert":180}],13:[function(v,M,h){"use strict";function g(r){this._reporterState={obj:null,path:[],options:r||{},errors:[]}}function p(r,c){this.path=r,this.rethrow(c)}const x=v("inherits");h.Reporter=g,g.prototype.isError=function(r){return r instanceof p},g.prototype.save=function(){const r=this._reporterState;return{obj:r.obj,pathLen:r.path.length}},g.prototype.restore=function(r){const c=this._reporterState;c.obj=r.obj,c.path=c.path.slice(0,r.pathLen)},g.prototype.enterKey=function(r){return this._reporterState.path.push(r)},g.prototype.exitKey=function(r){const c=this._reporterState;c.path=c.path.slice(0,r-1)},g.prototype.leaveKey=function(r,c,f){const n=this._reporterState;this.exitKey(r),null!==n.obj&&(n.obj[c]=f)},g.prototype.path=function(){return this._reporterState.path.join("/")},g.prototype.enterObject=function(){const r=this._reporterState,c=r.obj;return r.obj={},c},g.prototype.leaveObject=function(r){const c=this._reporterState,f=c.obj;return c.obj=r,f},g.prototype.error=function(r){let c;const f=this._reporterState,n=r instanceof p;if(c=n?r:new p(f.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),r.message||r,r.stack),!f.options.partial)throw c;return n||f.errors.push(c),c},g.prototype.wrapResult=function(r){const c=this._reporterState;return c.options.partial?{result:this.isError(r)?null:r,errors:c.errors}:r},x(p,Error),p.prototype.rethrow=function(r){if(this.message=r+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,p),!this.stack)try{throw new Error(this.message)}catch(c){this.stack=c.stack}return this}},{inherits:159}],14:[function(v,M,h){"use strict";function g(p){const x={};return Object.keys(p).forEach(function(r){(0|r)==r&&(r|=0),x[p[r]]=r}),x}h.tagClass={0:"universal",1:"application",2:"context",3:"private"},h.tagClassByName=g(h.tagClass),h.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},h.tagByName=g(h.tag)},{}],15:[function(v,M,h){"use strict";const g=h;g._reverse=function(p){const x={};return Object.keys(p).forEach(function(r){(0|r)==r&&(r|=0),x[p[r]]=r}),x},g.der=v("./der")},{"./der":14}],16:[function(v,M){"use strict";function h(i){this.enc="der",this.name=i.name,this.entity=i,this.tree=new g,this.tree._init(i.body)}function g(i){n.call(this,"der",i)}function p(i,s){let u=i.readUInt8(s);if(i.isError(u))return u;const o=t.tagClass[u>>6],l=0==(32&u);if(31==(31&u)){let w=u;for(u=0;128==(128&w);){if(w=i.readUInt8(s),i.isError(w))return w;u<<=7,u|=127&w}}else u&=31;return{cls:o,primitive:l,tag:u,tagStr:t.tag[u]}}function x(i,s,u){let o=i.readUInt8(u);if(i.isError(o))return o;if(!s&&128===o)return null;if(0==(128&o))return o;const l=127&o;if(4<l)return i.error("length octect is too long");o=0;for(let d=0;d<l;d++){o<<=8;const w=i.readUInt8(u);if(i.isError(w))return w;o|=w}return o}const r=v("inherits"),c=v("bn.js"),f=v("../base/buffer").DecoderBuffer,n=v("../base/node"),t=v("../constants/der");M.exports=h,h.prototype.decode=function(i,s){return f.isDecoderBuffer(i)||(i=new f(i,s)),this.tree._decode(i,s)},r(g,n),g.prototype._peekTag=function(i,s,u){if(i.isEmpty())return!1;const o=i.save(),l=p(i,'Failed to peek tag: "'+s+'"');return i.isError(l)?l:(i.restore(o),l.tag===s||l.tagStr===s||l.tagStr+"of"===s||u)},g.prototype._decodeTag=function(i,s,u){const o=p(i,'Failed to decode tag of "'+s+'"');if(i.isError(o))return o;let l=x(i,o.primitive,'Failed to get length of "'+s+'"');if(i.isError(l))return l;if(!u&&o.tag!==s&&o.tagStr!==s&&o.tagStr+"of"!==s)return i.error('Failed to match tag: "'+s+'"');if(o.primitive||null!==l)return i.skip(l,'Failed to match body of: "'+s+'"');const d=i.save(),w=this._skipUntilEnd(i,'Failed to skip indefinite length body: "'+this.tag+'"');return i.isError(w)?w:(l=i.offset-d.offset,i.restore(d),i.skip(l,'Failed to match body of: "'+s+'"'))},g.prototype._skipUntilEnd=function(i,s){for(;;){const u=p(i,s);if(i.isError(u))return u;const o=x(i,u.primitive,s);if(i.isError(o))return o;let l;if(l=u.primitive||null!==o?i.skip(o):this._skipUntilEnd(i,s),i.isError(l))return l;if("end"===u.tagStr)break}},g.prototype._decodeList=function(i,s,u,o){const l=[];for(;!i.isEmpty();){const d=this._peekTag(i,"end");if(i.isError(d))return d;const w=u.decode(i,"der",o);if(i.isError(w)&&d)break;l.push(w)}return l},g.prototype._decodeStr=function(i,s){if("bitstr"===s){const u=i.readUInt8();return i.isError(u)?u:{unused:u,data:i.raw()}}if("bmpstr"===s){const u=i.raw();if(u.length%2==1)return i.error("Decoding of string type: bmpstr length mismatch");let o="";for(let l=0;l<u.length/2;l++)o+=Q(u.readUInt16BE(2*l));return o}if("numstr"===s){const u=i.raw().toString("ascii");return this._isNumstr(u)?u:i.error("Decoding of string type: numstr unsupported characters")}if("octstr"===s||"objDesc"===s)return i.raw();if("printstr"===s){const u=i.raw().toString("ascii");return this._isPrintstr(u)?u:i.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(s)?i.raw().toString():i.error("Decoding of string type: "+s+" unsupported")},g.prototype._decodeObjid=function(i,s,u){let o;const l=[];let d=0,w=0;for(;!i.isEmpty();)w=i.readUInt8(),d<<=7,d|=127&w,0==(128&w)&&(l.push(d),d=0);if(128&w&&l.push(d),o=u?l:[0|l[0]/40,l[0]%40].concat(l.slice(1)),s){let S=s[o.join(" ")];void 0===S&&(S=s[o.join(".")]),void 0!==S&&(o=S)}return o},g.prototype._decodeTime=function(i,s){const u=i.raw().toString();let o,l,d,w,b,I;if("gentime"===s)o=0|u.slice(0,4),l=0|u.slice(4,6),d=0|u.slice(6,8),w=0|u.slice(8,10),b=0|u.slice(10,12),I=0|u.slice(12,14);else{if("utctime"!==s)return i.error("Decoding "+s+" time is not supported yet");o=0|u.slice(0,2),l=0|u.slice(2,4),d=0|u.slice(4,6),w=0|u.slice(6,8),b=0|u.slice(8,10),I=0|u.slice(10,12),o=70>o?2e3+o:1900+o}return Date.UTC(o,l-1,d,w,b,I,0)},g.prototype._decodeNull=function(){return null},g.prototype._decodeBool=function(i){const s=i.readUInt8();return i.isError(s)?s:0!==s},g.prototype._decodeInt=function(i,s){const u=i.raw();let o=new c(u);return s&&(o=s[o.toString(10)]||o),o},g.prototype._use=function(i,s){return"function"==typeof i&&(i=i(s)),i._getDecoder("der").tree}},{"../base/buffer":10,"../base/node":12,"../constants/der":14,"bn.js":22,inherits:159}],17:[function(v,M,h){"use strict";const g=h;g.der=v("./der"),g.pem=v("./pem")},{"./der":16,"./pem":18}],18:[function(v,M){"use strict";function h(r){x.call(this,r),this.enc="pem"}const g=v("inherits"),p=v("safer-buffer").Buffer,x=v("./der");g(h,x),M.exports=h,h.prototype.decode=function(r,c){const f=r.toString().split(/[\r\n]+/g),n=c.label.toUpperCase();let t=-1,i=-1;for(let o=0;o<f.length;o++){const l=f[o].match(/^-----(BEGIN|END) ([^-]+)-----$/);if(null!==l&&l[2]===n){if(-1!==t){if("END"!==l[1])break;i=o;break}if("BEGIN"!==l[1])break;t=o}}if(-1===t||-1===i)throw new Error("PEM section not found for: "+n);const s=f.slice(t+1,i).join("");s.replace(/[^a-z0-9+/=]+/gi,"");const u=p.from(s,"base64");return x.prototype.decode.call(this,u,c)}},{"./der":16,inherits:159,"safer-buffer":248}],19:[function(v,M){"use strict";function h(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new g,this.tree._init(t.body)}function g(t){f.call(this,"der",t)}function p(t){return 10>t?"0"+t:t}const r=v("inherits"),c=v("safer-buffer").Buffer,f=v("../base/node"),n=v("../constants/der");M.exports=h,h.prototype.encode=function(t,i){return this.tree._encode(t,i).join()},r(g,f),g.prototype._encodeComposite=function(t,i,s,u){const o=function x(t,i,s,u){let o;if("seqof"===t?t="seq":"setof"==t&&(t="set"),n.tagByName.hasOwnProperty(t))o=n.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return u.error("Unknown tag: "+t);o=t}return 31<=o?u.error("Multi-octet tag encoding unsupported"):(i||(o|=32),o|=n.tagClassByName[s||"universal"]<<6,o)}(t,i,s,this.reporter);if(128>u.length){const w=c.alloc(2);return w[0]=o,w[1]=u.length,this._createEncoderBuffer([w,u])}let l=1;for(let w=u.length;256<=w;w>>=8)l++;const d=c.alloc(2+l);d[0]=o,d[1]=128|l;for(let w=1+l,b=u.length;0<b;w--,b>>=8)d[w]=255&b;return this._createEncoderBuffer([d,u])},g.prototype._encodeStr=function(t,i){if("bitstr"===i)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===i){const s=c.alloc(2*t.length);for(let u=0;u<t.length;u++)s.writeUInt16BE(t.charCodeAt(u),2*u);return this._createEncoderBuffer(s)}return"numstr"===i?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===i?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(i)||"objDesc"===i?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+i+" unsupported")},g.prototype._encodeObjid=function(t,i,s){if("string"==typeof t){if(!i)return this.reporter.error("string objid given, but no values map found");if(!i.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=i[t].split(/[\s.]+/g);for(let d=0;d<t.length;d++)t[d]|=0}else if(Array.isArray(t)){t=t.slice();for(let d=0;d<t.length;d++)t[d]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!s){if(40<=t[1])return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}let u=0;for(let w,d=0;d<t.length;d++)for(w=t[d],u++;128<=w;w>>=7)u++;const o=c.alloc(u);let l=o.length-1;for(let w,d=t.length-1;0<=d;d--)for(w=t[d],o[l--]=127&w;0<(w>>=7);)o[l--]=128|127&w;return this._createEncoderBuffer(o)},g.prototype._encodeTime=function(t,i){let s;const u=new Date(t);return"gentime"===i?s=[p(u.getUTCFullYear()),p(u.getUTCMonth()+1),p(u.getUTCDate()),p(u.getUTCHours()),p(u.getUTCMinutes()),p(u.getUTCSeconds()),"Z"].join(""):"utctime"===i?s=[p(u.getUTCFullYear()%100),p(u.getUTCMonth()+1),p(u.getUTCDate()),p(u.getUTCHours()),p(u.getUTCMinutes()),p(u.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+i+" time is not supported yet"),this._encodeStr(s,"octstr")},g.prototype._encodeNull=function(){return this._createEncoderBuffer("")},g.prototype._encodeInt=function(t,i){if("string"==typeof t){if(!i)return this.reporter.error("String int or enum given, but no values map");if(!i.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=i[t]}if("number"!=typeof t&&!c.isBuffer(t)){const o=t.toArray();!t.sign&&128&o[0]&&o.unshift(0),t=c.from(o)}if(c.isBuffer(t)){let o=t.length;0===t.length&&o++;const l=c.alloc(o);return t.copy(l),0===t.length&&(l[0]=0),this._createEncoderBuffer(l)}if(128>t)return this._createEncoderBuffer(t);if(256>t)return this._createEncoderBuffer([0,t]);let s=1;for(let o=t;256<=o;o>>=8)s++;const u=Array(s);for(let o=u.length-1;0<=o;o--)u[o]=255&t,t>>=8;return 128&u[0]&&u.unshift(0),this._createEncoderBuffer(c.from(u))},g.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},g.prototype._use=function(t,i){return"function"==typeof t&&(t=t(i)),t._getEncoder("der").tree},g.prototype._skipDefault=function(t,i,s){const u=this._baseState;let o;if(null===u.default)return!1;const l=t.join();if(void 0===u.defaultBuffer&&(u.defaultBuffer=this._encodeValue(u.default,i,s).join()),l.length!==u.defaultBuffer.length)return!1;for(o=0;o<l.length;o++)if(l[o]!==u.defaultBuffer[o])return!1;return!0}},{"../base/node":12,"../constants/der":14,inherits:159,"safer-buffer":248}],20:[function(v,M,h){"use strict";const g=h;g.der=v("./der"),g.pem=v("./pem")},{"./der":19,"./pem":21}],21:[function(v,M){"use strict";function h(x){p.call(this,x),this.enc="pem"}const g=v("inherits"),p=v("./der");g(h,p),M.exports=h,h.prototype.encode=function(x,r){const f=p.prototype.encode.call(this,x).toString("base64"),n=["-----BEGIN "+r.label+"-----"];for(let t=0;t<f.length;t+=64)n.push(f.slice(t,t+64));return n.push("-----END "+r.label+"-----"),n.join("\n")}},{"./der":19,inherits:159}],22:[function(v,M){!function(h,g){"use strict";function p(A,N){if(!A)throw new Error(N||"Assertion failed")}function x(A,N){A.super_=N;var U=function(){};U.prototype=N.prototype,A.prototype=new U,A.prototype.constructor=A}function r(A,N,U){return r.isBN(A)?A:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==A&&(("le"===N||"be"===N)&&(U=N,N=10),this._init(A||0,N||10,U||"be"))))}function c(A,N){var U=A.charCodeAt(N);return 65<=U&&70>=U?U-55:97<=U&&102>=U?U-87:15&U-48}function f(A,N,U){var y=c(A,U);return U-1>=N&&(y|=c(A,U-1)<<4),y}function n(A,N,U,y){for(var oe,C=0,L=re(A.length,U),O=N;O<L;O++)C*=y,C+=49<=(oe=A.charCodeAt(O)-48)?oe-49+10:17<=oe?oe-17+10:oe;return C}function i(A,N,U){U.negative=N.negative^A.negative;var y=0|A.length+N.length;U.length=y,y=0|y-1;var C=0|A.words[0],L=0|N.words[0],O=C*L,$=0|O/67108864;U.words[0]=67108863&O;for(var ue=1;ue<y;ue++){for(var qe=$>>>26,Ze=67108863&$,Ve=re(ue,N.length-1),tt=fe(0,ue-A.length+1);tt<=Ve;tt++)qe+=0|(O=(C=0|A.words[0|ue-tt])*(L=0|N.words[tt])+Ze)/67108864,Ze=67108863&O;U.words[ue]=0|Ze,$=0|qe}return 0===$?U.length--:U.words[ue]=0|$,U.strip()}function u(A,N,U){return(new o).mulp(A,N,U)}function o(A,N){this.x=A,this.y=N}function l(A,N){this.name=A,this.p=new r(N,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function d(){l.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){l.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){l.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){l.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(A){if("string"==typeof A){var N=r._prime(A);this.m=N.p,this.prime=N}else p(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function R(A){S.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}var F;"object"==typeof h?h.exports=r:g.BN=r,r.BN=r,r.wordSize=26;try{F="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:v("buffer").Buffer}catch(A){}r.isBN=function(A){return A instanceof r||null!==A&&"object"==typeof A&&A.constructor.wordSize===r.wordSize&&Array.isArray(A.words)},r.max=function(A,N){return 0<A.cmp(N)?A:N},r.min=function(A,N){return 0>A.cmp(N)?A:N},r.prototype._init=function(A,N,U){if("number"==typeof A)return this._initNumber(A,N,U);if("object"==typeof A)return this._initArray(A,N,U);"hex"===N&&(N=16),p(N===(0|N)&&2<=N&&36>=N);var y=0;"-"===(A=A.toString().replace(/\s+/g,""))[0]&&(y++,this.negative=1),y<A.length&&(16===N?this._parseHex(A,y,U):(this._parseBase(A,N,y),"le"===U&&this._initArray(this.toArray(),N,U)))},r.prototype._initNumber=function(A,N,U){0>A&&(this.negative=1,A=-A),67108864>A?(this.words=[67108863&A],this.length=1):4503599627370496>A?(this.words=[67108863&A,67108863&A/67108864],this.length=2):(p(9007199254740992>A),this.words=[67108863&A,67108863&A/67108864,1],this.length=3),"le"!==U||this._initArray(this.toArray(),N,U)},r.prototype._initArray=function(A,N,U){if(p("number"==typeof A.length),0>=A.length)return this.words=[0],this.length=1,this;this.length=ge(A.length/3),this.words=Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var L,O,C=0;if("be"===U)for(y=A.length-1,L=0;0<=y;y-=3)this.words[L]|=67108863&(O=A[y]|A[y-1]<<8|A[y-2]<<16)<<C,this.words[L+1]=67108863&O>>>26-C,26<=(C+=24)&&(C-=26,L++);else if("le"===U)for(y=0,L=0;y<A.length;y+=3)this.words[L]|=67108863&(O=A[y]|A[y+1]<<8|A[y+2]<<16)<<C,this.words[L+1]=67108863&O>>>26-C,26<=(C+=24)&&(C-=26,L++);return this.strip()},r.prototype._parseHex=function(A,N,U){this.length=ge((A.length-N)/6),this.words=Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var O,C=0,L=0;if("be"===U)for(y=A.length-1;y>=N;y-=2)O=f(A,N,y)<<C,this.words[L]|=67108863&O,18<=C?(C-=18,this.words[L+=1]|=O>>>26):C+=8;else for(y=(A.length-N)%2==0?N+1:N;y<A.length;y+=2)O=f(A,N,y)<<C,this.words[L]|=67108863&O,18<=C?(C-=18,this.words[L+=1]|=O>>>26):C+=8;this.strip()},r.prototype._parseBase=function(A,N,U){this.words=[0],this.length=1;for(var y=0,C=1;67108863>=C;C*=N)y++;y--,C=0|C/N;for(var L=A.length-U,O=L%y,oe=re(L,L-O)+U,$=0,ue=U;ue<oe;ue+=y)$=n(A,ue,ue+y,N),this.imuln(C),67108864>this.words[0]+$?this.words[0]+=$:this._iaddn($);if(0!==O){var qe=1;for($=n(A,ue,A.length,N),ue=0;ue<O;ue++)qe*=N;this.imuln(qe),67108864>this.words[0]+$?this.words[0]+=$:this._iaddn($)}this.strip()},r.prototype.copy=function(A){A.words=Array(this.length);for(var N=0;N<this.length;N++)A.words[N]=this.words[N];A.length=this.length,A.negative=this.negative,A.red=this.red},r.prototype.clone=function(){var A=new r(null);return this.copy(A),A},r.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var q=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],K=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],he=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];r.prototype.toString=function(A,N){var U;if(N=0|N||1,16===(A=A||10)||"hex"===A){U="";for(var y=0,C=0,L=0;L<this.length;L++){var O=this.words[L],oe=(16777215&(O<<y|C)).toString(16);U=0!=(C=16777215&O>>>24-y)||L!==this.length-1?q[6-oe.length]+oe+U:oe+U,26<=(y+=2)&&(y-=26,L--)}for(0!==C&&(U=C.toString(16)+U);U.length%N!=0;)U="0"+U;return 0!==this.negative&&(U="-"+U),U}if(A===(0|A)&&2<=A&&36>=A){var $=K[A],ue=he[A];U="";var qe=this.clone();for(qe.negative=0;!qe.isZero();){var Ze=qe.modn(ue).toString(A);U=(qe=qe.idivn(ue)).isZero()?Ze+U:q[$-Ze.length]+Ze+U}for(this.isZero()&&(U="0"+U);U.length%N!=0;)U="0"+U;return 0!==this.negative&&(U="-"+U),U}p(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var A=this.words[0];return 2===this.length?A+=67108864*this.words[1]:3===this.length&&1===this.words[2]?A+=4503599627370496+67108864*this.words[1]:2<this.length&&p(!1,"Number can only safely store up to 53 bits"),0===this.negative?A:-A},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(A,N){return p(void 0!==F),this.toArrayLike(F,A,N)},r.prototype.toArray=function(A,N){return this.toArrayLike(Array,A,N)},r.prototype.toArrayLike=function(A,N,U){var y=this.byteLength(),C=U||fe(1,y);p(y<=C,"byte array longer than desired length"),p(0<C,"Requested array length <= 0"),this.strip();var oe,$,L=new A(C),O=this.clone();if("le"!==N){for($=0;$<C-y;$++)L[$]=0;for($=0;!O.isZero();$++)oe=O.andln(255),O.iushrn(8),L[C-$-1]=oe}else{for($=0;!O.isZero();$++)oe=O.andln(255),O.iushrn(8),L[$]=oe;for(;$<C;$++)L[$]=0}return L},r.prototype._countBits=ne?function(A){return 32-ne(A)}:function(A){var N=A,U=0;return 4096<=N&&(U+=13,N>>>=13),64<=N&&(U+=7,N>>>=7),8<=N&&(U+=4,N>>>=4),2<=N&&(U+=2,N>>>=2),U+N},r.prototype._zeroBits=function(A){if(0===A)return 26;var N=A,U=0;return 0==(8191&N)&&(U+=13,N>>>=13),0==(127&N)&&(U+=7,N>>>=7),0==(15&N)&&(U+=4,N>>>=4),0==(3&N)&&(U+=2,N>>>=2),0==(1&N)&&U++,U},r.prototype.bitLength=function(){var N=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+N},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var U,A=0,N=0;N<this.length&&(A+=U=this._zeroBits(this.words[N]),26===U);N++);return A},r.prototype.byteLength=function(){return ge(this.bitLength()/8)},r.prototype.toTwos=function(A){return 0===this.negative?this.clone():this.abs().inotn(A).iaddn(1)},r.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var N=0;N<A.length;N++)this.words[N]|=A.words[N];return this.strip()},r.prototype.ior=function(A){return p(0==(this.negative|A.negative)),this.iuor(A)},r.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},r.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},r.prototype.iuand=function(A){for(var N=this.length>A.length?A:this,U=0;U<N.length;U++)this.words[U]&=A.words[U];return this.length=N.length,this.strip()},r.prototype.iand=function(A){return p(0==(this.negative|A.negative)),this.iuand(A)},r.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},r.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},r.prototype.iuxor=function(A){var N,U;this.length>A.length?(N=this,U=A):(N=A,U=this);for(var y=0;y<U.length;y++)this.words[y]=N.words[y]^U.words[y];if(this!==N)for(;y<N.length;y++)this.words[y]=N.words[y];return this.length=N.length,this.strip()},r.prototype.ixor=function(A){return p(0==(this.negative|A.negative)),this.iuxor(A)},r.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},r.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},r.prototype.inotn=function(A){p("number"==typeof A&&0<=A);var N=0|ge(A/26),U=A%26;this._expand(N),0<U&&N--;for(var y=0;y<N;y++)this.words[y]=67108863&~this.words[y];return 0<U&&(this.words[y]=~this.words[y]&67108863>>26-U),this.strip()},r.prototype.notn=function(A){return this.clone().inotn(A)},r.prototype.setn=function(A,N){p("number"==typeof A&&0<=A);var U=0|A/26,y=A%26;return this._expand(U+1),N?this.words[U]|=1<<y:this.words[U]&=~(1<<y),this.strip()},r.prototype.iadd=function(A){var N,U,y;if(0!==this.negative&&0===A.negative)return this.negative=0,N=this.isub(A),this.negative^=1,this._normSign();if(0===this.negative&&0!==A.negative)return A.negative=0,N=this.isub(A),A.negative=1,N._normSign();this.length>A.length?(U=this,y=A):(U=A,y=this);for(var C=0,L=0;L<y.length;L++)this.words[L]=67108863&(N=(0|U.words[L])+(0|y.words[L])+C),C=N>>>26;for(;0!==C&&L<U.length;L++)this.words[L]=67108863&(N=(0|U.words[L])+C),C=N>>>26;if(this.length=U.length,0!==C)this.words[this.length]=C,this.length++;else if(U!==this)for(;L<U.length;L++)this.words[L]=U.words[L];return this},r.prototype.add=function(A){var N;return 0!==A.negative&&0===this.negative?(A.negative=0,N=this.sub(A),A.negative^=1,N):0===A.negative&&0!==this.negative?(this.negative=0,N=A.sub(this),this.negative=1,N):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},r.prototype.isub=function(A){if(0!==A.negative){A.negative=0;var N=this.iadd(A);return A.negative=1,N._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var y,C,U=this.cmp(A);if(0===U)return this.negative=0,this.length=1,this.words[0]=0,this;0<U?(y=this,C=A):(y=A,C=this);for(var L=0,O=0;O<C.length;O++)L=(N=(0|y.words[O])-(0|C.words[O])+L)>>26,this.words[O]=67108863&N;for(;0!==L&&O<y.length;O++)L=(N=(0|y.words[O])+L)>>26,this.words[O]=67108863&N;if(0===L&&O<y.length&&y!==this)for(;O<y.length;O++)this.words[O]=y.words[O];return this.length=fe(this.length,O),y!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(A){return this.clone().isub(A)};var Ae=function(A,N,U){var et,G,ee,y=A.words,C=N.words,L=U.words,O=0,oe=0|y[0],$=8191&oe,ue=oe>>>13,qe=0|y[1],Ze=8191&qe,Ve=qe>>>13,tt=0|y[2],at=8191&tt,zt=tt>>>13,Wt=0|y[3],Jt=8191&Wt,Ye=Wt>>>13,st=0|y[4],ft=8191&st,Y=st>>>13,de=0|y[5],X=8191&de,ae=de>>>13,Je=0|y[6],ce=8191&Je,Ee=Je>>>13,$e=0|y[7],nt=8191&$e,ct=$e>>>13,Ut=0|y[8],Ht=8191&Ut,Dt=Ut>>>13,Xt=0|y[9],Gt=8191&Xt,bn=Xt>>>13,Nn=0|C[0],En=8191&Nn,Cn=Nn>>>13,Bn=0|C[1],_t=8191&Bn,Xn=Bn>>>13,zn=0|C[2],Fn=8191&zn,Zn=zn>>>13,vr=0|C[3],nn=8191&vr,mn=vr>>>13,Hn=0|C[4],An=8191&Hn,tr=Hn>>>13,Rr=0|C[5],ir=8191&Rr,nr=Rr>>>13,$t=0|C[6],Ne=8191&$t,Zt=$t>>>13,sr=0|C[7],_n=8191&sr,Vn=sr>>>13,wr=0|C[8],jn=8191&wr,Kn=wr>>>13,er=0|C[9],Gn=8191&er,Yn=er>>>13;U.negative=A.negative^N.negative,U.length=19;var pe=0|(0|O+(et=_($,En)))+((8191&(G=0|(G=_($,Cn))+_(ue,En)))<<13);O=0|(0|(ee=_(ue,Cn))+(G>>>13))+(pe>>>26),pe&=67108863,et=_(Ze,En),G=0|(G=_(Ze,Cn))+_(Ve,En),ee=_(Ve,Cn);var W=0|(0|O+(et=0|et+_($,_t)))+((8191&(G=0|(G=0|G+_($,Xn))+_(ue,_t)))<<13);O=0|(0|(ee=0|ee+_(ue,Xn))+(G>>>13))+(W>>>26),W&=67108863,et=_(at,En),G=0|(G=_(at,Cn))+_(zt,En),ee=_(zt,Cn),et=0|et+_(Ze,_t),G=0|(G=0|G+_(Ze,Xn))+_(Ve,_t),ee=0|ee+_(Ve,Xn);var be=0|(0|O+(et=0|et+_($,Fn)))+((8191&(G=0|(G=0|G+_($,Zn))+_(ue,Fn)))<<13);O=0|(0|(ee=0|ee+_(ue,Zn))+(G>>>13))+(be>>>26),be&=67108863,et=_(Jt,En),G=0|(G=_(Jt,Cn))+_(Ye,En),ee=_(Ye,Cn),et=0|et+_(at,_t),G=0|(G=0|G+_(at,Xn))+_(zt,_t),ee=0|ee+_(zt,Xn),et=0|et+_(Ze,Fn),G=0|(G=0|G+_(Ze,Zn))+_(Ve,Fn),ee=0|ee+_(Ve,Zn);var Bt=0|(0|O+(et=0|et+_($,nn)))+((8191&(G=0|(G=0|G+_($,mn))+_(ue,nn)))<<13);O=0|(0|(ee=0|ee+_(ue,mn))+(G>>>13))+(Bt>>>26),Bt&=67108863,et=_(ft,En),G=0|(G=_(ft,Cn))+_(Y,En),ee=_(Y,Cn),et=0|et+_(Jt,_t),G=0|(G=0|G+_(Jt,Xn))+_(Ye,_t),ee=0|ee+_(Ye,Xn),et=0|et+_(at,Fn),G=0|(G=0|G+_(at,Zn))+_(zt,Fn),ee=0|ee+_(zt,Zn),et=0|et+_(Ze,nn),G=0|(G=0|G+_(Ze,mn))+_(Ve,nn),ee=0|ee+_(Ve,mn);var Pt=0|(0|O+(et=0|et+_($,An)))+((8191&(G=0|(G=0|G+_($,tr))+_(ue,An)))<<13);O=0|(0|(ee=0|ee+_(ue,tr))+(G>>>13))+(Pt>>>26),Pt&=67108863,et=_(X,En),G=0|(G=_(X,Cn))+_(ae,En),ee=_(ae,Cn),et=0|et+_(ft,_t),G=0|(G=0|G+_(ft,Xn))+_(Y,_t),ee=0|ee+_(Y,Xn),et=0|et+_(Jt,Fn),G=0|(G=0|G+_(Jt,Zn))+_(Ye,Fn),ee=0|ee+_(Ye,Zn),et=0|et+_(at,nn),G=0|(G=0|G+_(at,mn))+_(zt,nn),ee=0|ee+_(zt,mn),et=0|et+_(Ze,An),G=0|(G=0|G+_(Ze,tr))+_(Ve,An),ee=0|ee+_(Ve,tr);var dn=0|(0|O+(et=0|et+_($,ir)))+((8191&(G=0|(G=0|G+_($,nr))+_(ue,ir)))<<13);O=0|(0|(ee=0|ee+_(ue,nr))+(G>>>13))+(dn>>>26),dn&=67108863,et=_(ce,En),G=0|(G=_(ce,Cn))+_(Ee,En),ee=_(Ee,Cn),et=0|et+_(X,_t),G=0|(G=0|G+_(X,Xn))+_(ae,_t),ee=0|ee+_(ae,Xn),et=0|et+_(ft,Fn),G=0|(G=0|G+_(ft,Zn))+_(Y,Fn),ee=0|ee+_(Y,Zn),et=0|et+_(Jt,nn),G=0|(G=0|G+_(Jt,mn))+_(Ye,nn),ee=0|ee+_(Ye,mn),et=0|et+_(at,An),G=0|(G=0|G+_(at,tr))+_(zt,An),ee=0|ee+_(zt,tr),et=0|et+_(Ze,ir),G=0|(G=0|G+_(Ze,nr))+_(Ve,ir),ee=0|ee+_(Ve,nr);var Mn=0|(0|O+(et=0|et+_($,Ne)))+((8191&(G=0|(G=0|G+_($,Zt))+_(ue,Ne)))<<13);O=0|(0|(ee=0|ee+_(ue,Zt))+(G>>>13))+(Mn>>>26),Mn&=67108863,et=_(nt,En),G=0|(G=_(nt,Cn))+_(ct,En),ee=_(ct,Cn),et=0|et+_(ce,_t),G=0|(G=0|G+_(ce,Xn))+_(Ee,_t),ee=0|ee+_(Ee,Xn),et=0|et+_(X,Fn),G=0|(G=0|G+_(X,Zn))+_(ae,Fn),ee=0|ee+_(ae,Zn),et=0|et+_(ft,nn),G=0|(G=0|G+_(ft,mn))+_(Y,nn),ee=0|ee+_(Y,mn),et=0|et+_(Jt,An),G=0|(G=0|G+_(Jt,tr))+_(Ye,An),ee=0|ee+_(Ye,tr),et=0|et+_(at,ir),G=0|(G=0|G+_(at,nr))+_(zt,ir),ee=0|ee+_(zt,nr),et=0|et+_(Ze,Ne),G=0|(G=0|G+_(Ze,Zt))+_(Ve,Ne),ee=0|ee+_(Ve,Zt);var fn=0|(0|O+(et=0|et+_($,_n)))+((8191&(G=0|(G=0|G+_($,Vn))+_(ue,_n)))<<13);O=0|(0|(ee=0|ee+_(ue,Vn))+(G>>>13))+(fn>>>26),fn&=67108863,et=_(Ht,En),G=0|(G=_(Ht,Cn))+_(Dt,En),ee=_(Dt,Cn),et=0|et+_(nt,_t),G=0|(G=0|G+_(nt,Xn))+_(ct,_t),ee=0|ee+_(ct,Xn),et=0|et+_(ce,Fn),G=0|(G=0|G+_(ce,Zn))+_(Ee,Fn),ee=0|ee+_(Ee,Zn),et=0|et+_(X,nn),G=0|(G=0|G+_(X,mn))+_(ae,nn),ee=0|ee+_(ae,mn),et=0|et+_(ft,An),G=0|(G=0|G+_(ft,tr))+_(Y,An),ee=0|ee+_(Y,tr),et=0|et+_(Jt,ir),G=0|(G=0|G+_(Jt,nr))+_(Ye,ir),ee=0|ee+_(Ye,nr),et=0|et+_(at,Ne),G=0|(G=0|G+_(at,Zt))+_(zt,Ne),ee=0|ee+_(zt,Zt),et=0|et+_(Ze,_n),G=0|(G=0|G+_(Ze,Vn))+_(Ve,_n),ee=0|ee+_(Ve,Vn);var ln=0|(0|O+(et=0|et+_($,jn)))+((8191&(G=0|(G=0|G+_($,Kn))+_(ue,jn)))<<13);O=0|(0|(ee=0|ee+_(ue,Kn))+(G>>>13))+(ln>>>26),ln&=67108863,et=_(Gt,En),G=0|(G=_(Gt,Cn))+_(bn,En),ee=_(bn,Cn),et=0|et+_(Ht,_t),G=0|(G=0|G+_(Ht,Xn))+_(Dt,_t),ee=0|ee+_(Dt,Xn),et=0|et+_(nt,Fn),G=0|(G=0|G+_(nt,Zn))+_(ct,Fn),ee=0|ee+_(ct,Zn),et=0|et+_(ce,nn),G=0|(G=0|G+_(ce,mn))+_(Ee,nn),ee=0|ee+_(Ee,mn),et=0|et+_(X,An),G=0|(G=0|G+_(X,tr))+_(ae,An),ee=0|ee+_(ae,tr),et=0|et+_(ft,ir),G=0|(G=0|G+_(ft,nr))+_(Y,ir),ee=0|ee+_(Y,nr),et=0|et+_(Jt,Ne),G=0|(G=0|G+_(Jt,Zt))+_(Ye,Ne),ee=0|ee+_(Ye,Zt),et=0|et+_(at,_n),G=0|(G=0|G+_(at,Vn))+_(zt,_n),ee=0|ee+_(zt,Vn),et=0|et+_(Ze,jn),G=0|(G=0|G+_(Ze,Kn))+_(Ve,jn),ee=0|ee+_(Ve,Kn);var Tn=0|(0|O+(et=0|et+_($,Gn)))+((8191&(G=0|(G=0|G+_($,Yn))+_(ue,Gn)))<<13);O=0|(0|(ee=0|ee+_(ue,Yn))+(G>>>13))+(Tn>>>26),Tn&=67108863,et=_(Gt,_t),G=0|(G=_(Gt,Xn))+_(bn,_t),ee=_(bn,Xn),et=0|et+_(Ht,Fn),G=0|(G=0|G+_(Ht,Zn))+_(Dt,Fn),ee=0|ee+_(Dt,Zn),et=0|et+_(nt,nn),G=0|(G=0|G+_(nt,mn))+_(ct,nn),ee=0|ee+_(ct,mn),et=0|et+_(ce,An),G=0|(G=0|G+_(ce,tr))+_(Ee,An),ee=0|ee+_(Ee,tr),et=0|et+_(X,ir),G=0|(G=0|G+_(X,nr))+_(ae,ir),ee=0|ee+_(ae,nr),et=0|et+_(ft,Ne),G=0|(G=0|G+_(ft,Zt))+_(Y,Ne),ee=0|ee+_(Y,Zt),et=0|et+_(Jt,_n),G=0|(G=0|G+_(Jt,Vn))+_(Ye,_n),ee=0|ee+_(Ye,Vn),et=0|et+_(at,jn),G=0|(G=0|G+_(at,Kn))+_(zt,jn),ee=0|ee+_(zt,Kn);var Qn=0|(0|O+(et=0|et+_(Ze,Gn)))+((8191&(G=0|(G=0|G+_(Ze,Yn))+_(Ve,Gn)))<<13);O=0|(0|(ee=0|ee+_(Ve,Yn))+(G>>>13))+(Qn>>>26),Qn&=67108863,et=_(Gt,Fn),G=0|(G=_(Gt,Zn))+_(bn,Fn),ee=_(bn,Zn),et=0|et+_(Ht,nn),G=0|(G=0|G+_(Ht,mn))+_(Dt,nn),ee=0|ee+_(Dt,mn),et=0|et+_(nt,An),G=0|(G=0|G+_(nt,tr))+_(ct,An),ee=0|ee+_(ct,tr),et=0|et+_(ce,ir),G=0|(G=0|G+_(ce,nr))+_(Ee,ir),ee=0|ee+_(Ee,nr),et=0|et+_(X,Ne),G=0|(G=0|G+_(X,Zt))+_(ae,Ne),ee=0|ee+_(ae,Zt),et=0|et+_(ft,_n),G=0|(G=0|G+_(ft,Vn))+_(Y,_n),ee=0|ee+_(Y,Vn),et=0|et+_(Jt,jn),G=0|(G=0|G+_(Jt,Kn))+_(Ye,jn),ee=0|ee+_(Ye,Kn);var ur=0|(0|O+(et=0|et+_(at,Gn)))+((8191&(G=0|(G=0|G+_(at,Yn))+_(zt,Gn)))<<13);O=0|(0|(ee=0|ee+_(zt,Yn))+(G>>>13))+(ur>>>26),ur&=67108863,et=_(Gt,nn),G=0|(G=_(Gt,mn))+_(bn,nn),ee=_(bn,mn),et=0|et+_(Ht,An),G=0|(G=0|G+_(Ht,tr))+_(Dt,An),ee=0|ee+_(Dt,tr),et=0|et+_(nt,ir),G=0|(G=0|G+_(nt,nr))+_(ct,ir),ee=0|ee+_(ct,nr),et=0|et+_(ce,Ne),G=0|(G=0|G+_(ce,Zt))+_(Ee,Ne),ee=0|ee+_(Ee,Zt),et=0|et+_(X,_n),G=0|(G=0|G+_(X,Vn))+_(ae,_n),ee=0|ee+_(ae,Vn),et=0|et+_(ft,jn),G=0|(G=0|G+_(ft,Kn))+_(Y,jn),ee=0|ee+_(Y,Kn);var yr=0|(0|O+(et=0|et+_(Jt,Gn)))+((8191&(G=0|(G=0|G+_(Jt,Yn))+_(Ye,Gn)))<<13);O=0|(0|(ee=0|ee+_(Ye,Yn))+(G>>>13))+(yr>>>26),yr&=67108863,et=_(Gt,An),G=0|(G=_(Gt,tr))+_(bn,An),ee=_(bn,tr),et=0|et+_(Ht,ir),G=0|(G=0|G+_(Ht,nr))+_(Dt,ir),ee=0|ee+_(Dt,nr),et=0|et+_(nt,Ne),G=0|(G=0|G+_(nt,Zt))+_(ct,Ne),ee=0|ee+_(ct,Zt),et=0|et+_(ce,_n),G=0|(G=0|G+_(ce,Vn))+_(Ee,_n),ee=0|ee+_(Ee,Vn),et=0|et+_(X,jn),G=0|(G=0|G+_(X,Kn))+_(ae,jn),ee=0|ee+_(ae,Kn);var _r=0|(0|O+(et=0|et+_(ft,Gn)))+((8191&(G=0|(G=0|G+_(ft,Yn))+_(Y,Gn)))<<13);O=0|(0|(ee=0|ee+_(Y,Yn))+(G>>>13))+(_r>>>26),_r&=67108863,et=_(Gt,ir),G=0|(G=_(Gt,nr))+_(bn,ir),ee=_(bn,nr),et=0|et+_(Ht,Ne),G=0|(G=0|G+_(Ht,Zt))+_(Dt,Ne),ee=0|ee+_(Dt,Zt),et=0|et+_(nt,_n),G=0|(G=0|G+_(nt,Vn))+_(ct,_n),ee=0|ee+_(ct,Vn),et=0|et+_(ce,jn),G=0|(G=0|G+_(ce,Kn))+_(Ee,jn),ee=0|ee+_(Ee,Kn);var qr=0|(0|O+(et=0|et+_(X,Gn)))+((8191&(G=0|(G=0|G+_(X,Yn))+_(ae,Gn)))<<13);O=0|(0|(ee=0|ee+_(ae,Yn))+(G>>>13))+(qr>>>26),qr&=67108863,et=_(Gt,Ne),G=0|(G=_(Gt,Zt))+_(bn,Ne),ee=_(bn,Zt),et=0|et+_(Ht,_n),G=0|(G=0|G+_(Ht,Vn))+_(Dt,_n),ee=0|ee+_(Dt,Vn),et=0|et+_(nt,jn),G=0|(G=0|G+_(nt,Kn))+_(ct,jn),ee=0|ee+_(ct,Kn);var Or=0|(0|O+(et=0|et+_(ce,Gn)))+((8191&(G=0|(G=0|G+_(ce,Yn))+_(Ee,Gn)))<<13);O=0|(0|(ee=0|ee+_(Ee,Yn))+(G>>>13))+(Or>>>26),Or&=67108863,et=_(Gt,_n),G=0|(G=_(Gt,Vn))+_(bn,_n),ee=_(bn,Vn),et=0|et+_(Ht,jn),G=0|(G=0|G+_(Ht,Kn))+_(Dt,jn),ee=0|ee+_(Dt,Kn);var kr=0|(0|O+(et=0|et+_(nt,Gn)))+((8191&(G=0|(G=0|G+_(nt,Yn))+_(ct,Gn)))<<13);O=0|(0|(ee=0|ee+_(ct,Yn))+(G>>>13))+(kr>>>26),kr&=67108863,et=_(Gt,jn),G=0|(G=_(Gt,Kn))+_(bn,jn),ee=_(bn,Kn);var br=0|(0|O+(et=0|et+_(Ht,Gn)))+((8191&(G=0|(G=0|G+_(Ht,Yn))+_(Dt,Gn)))<<13);O=0|(0|(ee=0|ee+_(Dt,Yn))+(G>>>13))+(br>>>26),br&=67108863;var ri=0|(0|O+(et=_(Gt,Gn)))+((8191&(G=0|(G=_(Gt,Yn))+_(bn,Gn)))<<13);return O=0|(0|(ee=_(bn,Yn))+(G>>>13))+(ri>>>26),ri&=67108863,L[0]=pe,L[1]=W,L[2]=be,L[3]=Bt,L[4]=Pt,L[5]=dn,L[6]=Mn,L[7]=fn,L[8]=ln,L[9]=Tn,L[10]=Qn,L[11]=ur,L[12]=yr,L[13]=_r,L[14]=qr,L[15]=Or,L[16]=kr,L[17]=br,L[18]=ri,0!==O&&(L[19]=O,U.length++),U};_||(Ae=i),r.prototype.mulTo=function(A,N){var y,U=this.length+A.length;return y=10===this.length&&10===A.length?Ae(this,A,N):63>U?i(this,A,N):1024>U?function s(A,N,U){U.negative=N.negative^A.negative,U.length=A.length+N.length;for(var O,y=0,C=0,L=0;L<U.length-1;L++){O=C,C=0;for(var oe=67108863&y,$=re(L,N.length-1),ue=fe(0,L-A.length+1);ue<=$;ue++){var tt=(0|A.words[L-ue])*(0|N.words[ue]),at=67108863&tt;oe=67108863&(at=0|at+oe),C+=(O=0|(O=0|O+(0|tt/67108864))+(at>>>26))>>>26,O&=67108863}U.words[L]=oe,y=O,O=C}return 0===y?U.length--:U.words[L]=y,U.strip()}(this,A,N):u(this,A,N),y},o.prototype.makeRBT=function(A){for(var N=Array(A),U=r.prototype._countBits(A)-1,y=0;y<A;y++)N[y]=this.revBin(y,U,A);return N},o.prototype.revBin=function(A,N,U){if(0===A||A===U-1)return A;for(var y=0,C=0;C<N;C++)y|=(1&A)<<N-C-1,A>>=1;return y},o.prototype.permute=function(A,N,U,y,C,L){for(var O=0;O<L;O++)y[O]=N[A[O]],C[O]=U[A[O]]},o.prototype.transform=function(A,N,U,y,C,L){this.permute(L,A,N,U,y,C);for(var O=1;O<C;O<<=1)for(var oe=O<<1,$=Fe(2*Oe/oe),ue=Z(2*Oe/oe),qe=0;qe<C;qe+=oe)for(var Ze=$,Ve=ue,tt=0;tt<O;tt++){var at=U[qe+tt],zt=y[qe+tt],Wt=U[qe+tt+O],Jt=y[qe+tt+O],Ye=Ze*Wt-Ve*Jt;Jt=Ze*Jt+Ve*Wt,U[qe+tt]=at+(Wt=Ye),y[qe+tt]=zt+Jt,U[qe+tt+O]=at-Wt,y[qe+tt+O]=zt-Jt,tt!==oe&&(Ye=$*Ze-ue*Ve,Ve=$*Ve+ue*Ze,Ze=Ye)}},o.prototype.guessLen13b=function(A,N){var U=1|fe(N,A),y=1&U,C=0;for(U=0|U/2;U;U>>>=1)C++;return 1<<C+1+y},o.prototype.conjugate=function(A,N,U){if(!(1>=U))for(var C,y=0;y<U/2;y++)C=A[y],A[y]=A[U-y-1],A[U-y-1]=C,C=N[y],N[y]=-N[U-y-1],N[U-y-1]=-C},o.prototype.normalize13b=function(A,N){for(var C,U=0,y=0;y<N/2;y++)C=8192*bt(A[2*y+1]/N)+bt(A[2*y]/N)+U,A[y]=67108863&C,U=67108864>C?0:0|C/67108864;return A},o.prototype.convert13b=function(A,N,U,y){for(var C=0,L=0;L<N;L++)U[2*L]=8191&(C+=0|A[L]),U[2*L+1]=8191&(C>>>=13),C>>>=13;for(L=2*N;L<y;++L)U[L]=0;p(0===C),p(0==(-8192&C))},o.prototype.stub=function(A){for(var N=Array(A),U=0;U<A;U++)N[U]=0;return N},o.prototype.mulp=function(A,N,U){var y=2*this.guessLen13b(A.length,N.length),C=this.makeRBT(y),L=this.stub(y),O=Array(y),oe=Array(y),$=Array(y),ue=Array(y),qe=Array(y),Ze=Array(y),Ve=U.words;Ve.length=y,this.convert13b(A.words,A.length,O,y),this.convert13b(N.words,N.length,ue,y),this.transform(O,L,oe,$,y,C),this.transform(ue,L,qe,Ze,y,C);for(var at,tt=0;tt<y;tt++)at=oe[tt]*qe[tt]-$[tt]*Ze[tt],$[tt]=oe[tt]*Ze[tt]+$[tt]*qe[tt],oe[tt]=at;return this.conjugate(oe,$,y),this.transform(oe,$,Ve,L,y,C),this.conjugate(Ve,L,y),this.normalize13b(Ve,y),U.negative=A.negative^N.negative,U.length=A.length+N.length,U.strip()},r.prototype.mul=function(A){var N=new r(null);return N.words=Array(this.length+A.length),this.mulTo(A,N)},r.prototype.mulf=function(A){var N=new r(null);return N.words=Array(this.length+A.length),u(this,A,N)},r.prototype.imul=function(A){return this.clone().mulTo(A,this)},r.prototype.imuln=function(A){p("number"==typeof A),p(67108864>A);for(var N=0,U=0;U<this.length;U++){var y=(0|this.words[U])*A,C=(67108863&y)+(67108863&N);N>>=26,N+=0|y/67108864,N+=C>>>26,this.words[U]=67108863&C}return 0!==N&&(this.words[U]=N,this.length++),this},r.prototype.muln=function(A){return this.clone().imuln(A)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(A){var N=function t(A){for(var N=Array(A.bitLength()),U=0;U<N.length;U++){var C=U%26;N[U]=(A.words[0|U/26]&1<<C)>>>C}return N}(A);if(0===N.length)return new r(1);for(var U=this,y=0;y<N.length&&0===N[y];y++,U=U.sqr());if(++y<N.length)for(var C=U.sqr();y<N.length;y++,C=C.sqr())0!==N[y]&&(U=U.mul(C));return U},r.prototype.iushln=function(A){p("number"==typeof A&&0<=A);var y,N=A%26,U=(A-N)/26;if(0!=N){var C=0;for(y=0;y<this.length;y++){var L=this.words[y]&67108863>>>26-N<<26-N;this.words[y]=(0|this.words[y])-L<<N|C,C=L>>>26-N}C&&(this.words[y]=C,this.length++)}if(0!==U){for(y=this.length-1;0<=y;y--)this.words[y+U]=this.words[y];for(y=0;y<U;y++)this.words[y]=0;this.length+=U}return this.strip()},r.prototype.ishln=function(A){return p(0===this.negative),this.iushln(A)},r.prototype.iushrn=function(A,N,U){p("number"==typeof A&&0<=A);var y=N?(N-N%26)/26:0,C=A%26,L=re((A-C)/26,this.length),O=U;if(y=fe(0,y-=L),O){for(var oe=0;oe<L;oe++)O.words[oe]=this.words[oe];O.length=L}if(0!==L)if(this.length>L)for(this.length-=L,oe=0;oe<this.length;oe++)this.words[oe]=this.words[oe+L];else this.words[0]=0,this.length=1;var $=0;for(oe=this.length-1;0<=oe&&(0!==$||oe>=y);oe--){var ue=0|this.words[oe];this.words[oe]=$<<26-C|ue>>>C,$=ue&(67108863^67108863>>>C<<C)}return O&&0!==$&&(O.words[O.length++]=$),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(A,N,U){return p(0===this.negative),this.iushrn(A,N,U)},r.prototype.shln=function(A){return this.clone().ishln(A)},r.prototype.ushln=function(A){return this.clone().iushln(A)},r.prototype.shrn=function(A){return this.clone().ishrn(A)},r.prototype.ushrn=function(A){return this.clone().iushrn(A)},r.prototype.testn=function(A){p("number"==typeof A&&0<=A);var N=A%26,U=(A-N)/26;return!(this.length<=U||!(this.words[U]&1<<N))},r.prototype.imaskn=function(A){p("number"==typeof A&&0<=A);var N=A%26,U=(A-N)/26;return p(0===this.negative,"imaskn works only with positive numbers"),this.length<=U?this:(0!=N&&U++,this.length=re(U,this.length),0!=N&&(this.words[this.length-1]&=67108863^67108863>>>N<<N),this.strip())},r.prototype.maskn=function(A){return this.clone().imaskn(A)},r.prototype.iaddn=function(A){return p("number"==typeof A),p(67108864>A),0>A?this.isubn(-A):0===this.negative?this._iaddn(A):1===this.length&&(0|this.words[0])<A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this)},r.prototype._iaddn=function(A){this.words[0]+=A;for(var N=0;N<this.length&&67108864<=this.words[N];N++)this.words[N]-=67108864,N==this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=fe(this.length,N+1),this},r.prototype.isubn=function(A){if(p("number"==typeof A),p(67108864>A),0>A)return this.iaddn(-A);if(0!==this.negative)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&0>this.words[N];N++)this.words[N]+=67108864,this.words[N+1]-=1;return this.strip()},r.prototype.addn=function(A){return this.clone().iaddn(A)},r.prototype.subn=function(A){return this.clone().isubn(A)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(A,N,U){var C;this._expand(A.length+U);var O,L=0;for(C=0;C<A.length;C++){O=(0|this.words[C+U])+L;var oe=(0|A.words[C])*N;L=((O-=67108863&oe)>>26)-(0|oe/67108864),this.words[C+U]=67108863&O}for(;C<this.length-U;C++)L=(O=(0|this.words[C+U])+L)>>26,this.words[C+U]=67108863&O;if(0===L)return this.strip();for(p(-1===L),L=0,C=0;C<this.length;C++)L=(O=-(0|this.words[C])+L)>>26,this.words[C]=67108863&O;return this.negative=1,this.strip()},r.prototype._wordDiv=function(A,N){var U,y=this.clone(),C=A,L=0|C.words[C.length-1];0!=(U=26-this._countBits(L))&&(C=C.ushln(U),y.iushln(U),L=0|C.words[C.length-1]);var $,oe=y.length-C.length;if("mod"!==N){($=new r(null)).length=oe+1,$.words=Array($.length);for(var ue=0;ue<$.length;ue++)$.words[ue]=0}var qe=y.clone()._ishlnsubmul(C,1,oe);0===qe.negative&&(y=qe,$&&($.words[oe]=1));for(var Ve,Ze=oe-1;0<=Ze;Ze--){for(Ve=re(0|(Ve=67108864*(0|y.words[C.length+Ze])+(0|y.words[C.length+Ze-1]))/L,67108863),y._ishlnsubmul(C,Ve,Ze);0!==y.negative;)Ve--,y.negative=0,y._ishlnsubmul(C,1,Ze),y.isZero()||(y.negative^=1);$&&($.words[Ze]=Ve)}return $&&$.strip(),y.strip(),"div"!==N&&0!==U&&y.iushrn(U),{div:$||null,mod:y}},r.prototype.divmod=function(A,N,U){return p(!A.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===A.negative?(L=this.neg().divmod(A,N),"mod"!==N&&(y=L.div.neg()),"div"!==N&&(C=L.mod.neg(),U&&0!==C.negative&&C.iadd(A)),{div:y,mod:C}):0===this.negative&&0!==A.negative?(L=this.divmod(A.neg(),N),"mod"!==N&&(y=L.div.neg()),{div:y,mod:L.mod}):0==(this.negative&A.negative)?A.length>this.length||0>this.cmp(A)?{div:new r(0),mod:this}:1===A.length?"div"===N?{div:this.divn(A.words[0]),mod:null}:"mod"===N?{div:null,mod:new r(this.modn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new r(this.modn(A.words[0]))}:this._wordDiv(A,N):(L=this.neg().divmod(A.neg(),N),"div"!==N&&(C=L.mod.neg(),U&&0!==C.negative&&C.isub(A)),{div:L.div,mod:C});var y,C,L},r.prototype.div=function(A){return this.divmod(A,"div",!1).div},r.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},r.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},r.prototype.divRound=function(A){var N=this.divmod(A);if(N.mod.isZero())return N.div;var U=0===N.div.negative?N.mod:N.mod.isub(A),y=A.ushrn(1),C=A.andln(1),L=U.cmp(y);return 0>L||1===C&&0===L?N.div:0===N.div.negative?N.div.iaddn(1):N.div.isubn(1)},r.prototype.modn=function(A){p(67108863>=A);for(var N=0,U=this.length-1;0<=U;U--)N=(67108864%A*N+(0|this.words[U]))%A;return N},r.prototype.idivn=function(A){p(67108863>=A);for(var y,N=0,U=this.length-1;0<=U;U--)this.words[U]=0|(y=(0|this.words[U])+67108864*N)/A,N=y%A;return this.strip()},r.prototype.divn=function(A){return this.clone().idivn(A)},r.prototype.egcd=function(A){p(0===A.negative),p(!A.isZero());var N=this,U=A.clone();N=0===N.negative?N.clone():N.umod(A);for(var y=new r(1),C=new r(0),L=new r(0),O=new r(1),oe=0;N.isEven()&&U.isEven();)N.iushrn(1),U.iushrn(1),++oe;for(var $=U.clone(),ue=N.clone();!N.isZero();){for(var qe=0,Ze=1;0==(N.words[0]&Ze)&&26>qe;++qe,Ze<<=1);if(0<qe)for(N.iushrn(qe);0<qe--;)(y.isOdd()||C.isOdd())&&(y.iadd($),C.isub(ue)),y.iushrn(1),C.iushrn(1);for(var Ve=0,tt=1;0==(U.words[0]&tt)&&26>Ve;++Ve,tt<<=1);if(0<Ve)for(U.iushrn(Ve);0<Ve--;)(L.isOdd()||O.isOdd())&&(L.iadd($),O.isub(ue)),L.iushrn(1),O.iushrn(1);0<=N.cmp(U)?(N.isub(U),y.isub(L),C.isub(O)):(U.isub(N),L.isub(y),O.isub(C))}return{a:L,b:O,gcd:U.iushln(oe)}},r.prototype._invmp=function(A){p(0===A.negative),p(!A.isZero());var qe,N=this,U=A.clone();N=0===N.negative?N.clone():N.umod(A);for(var y=new r(1),C=new r(0),L=U.clone();0<N.cmpn(1)&&0<U.cmpn(1);){for(var O=0,oe=1;0==(N.words[0]&oe)&&26>O;++O,oe<<=1);if(0<O)for(N.iushrn(O);0<O--;)y.isOdd()&&y.iadd(L),y.iushrn(1);for(var $=0,ue=1;0==(U.words[0]&ue)&&26>$;++$,ue<<=1);if(0<$)for(U.iushrn($);0<$--;)C.isOdd()&&C.iadd(L),C.iushrn(1);0<=N.cmp(U)?(N.isub(U),y.isub(C)):(U.isub(N),C.isub(y))}return 0>(qe=0===N.cmpn(1)?y:C).cmpn(0)&&qe.iadd(A),qe},r.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var N=this.clone(),U=A.clone();N.negative=0,U.negative=0;for(var y=0;N.isEven()&&U.isEven();y++)N.iushrn(1),U.iushrn(1);for(;;){for(;N.isEven();)N.iushrn(1);for(;U.isEven();)U.iushrn(1);var C=N.cmp(U);if(0>C){var L=N;N=U,U=L}else if(0===C||0===U.cmpn(1))break;N.isub(U)}return U.iushln(y)},r.prototype.invm=function(A){return this.egcd(A).a.umod(A)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(A){return this.words[0]&A},r.prototype.bincn=function(A){p("number"==typeof A);var N=A%26,U=(A-N)/26,y=1<<N;if(this.length<=U)return this._expand(U+1),this.words[U]|=y,this;for(var O,C=y,L=U;0!==C&&L<this.length;L++)O=0|this.words[L],C=(O+=C)>>>26,this.words[L]=O&=67108863;return 0!==C&&(this.words[L]=C,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(A){var U,N=0>A;if(0!==this.negative&&!N)return-1;if(0===this.negative&&N)return 1;if(this.strip(),1<this.length)U=1;else{N&&(A=-A),p(67108863>=A,"Number is too big");var y=0|this.words[0];U=y===A?0:y<A?-1:1}return 0===this.negative?U:0|-U},r.prototype.cmp=function(A){if(0!==this.negative&&0===A.negative)return-1;if(0===this.negative&&0!==A.negative)return 1;var N=this.ucmp(A);return 0===this.negative?N:0|-N},r.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var N=0,U=this.length-1;0<=U;U--){var y=0|this.words[U],C=0|A.words[U];if(y!=C){y<C?N=-1:y>C&&(N=1);break}}return N},r.prototype.gtn=function(A){return 1===this.cmpn(A)},r.prototype.gt=function(A){return 1===this.cmp(A)},r.prototype.gten=function(A){return 0<=this.cmpn(A)},r.prototype.gte=function(A){return 0<=this.cmp(A)},r.prototype.ltn=function(A){return-1===this.cmpn(A)},r.prototype.lt=function(A){return-1===this.cmp(A)},r.prototype.lten=function(A){return 0>=this.cmpn(A)},r.prototype.lte=function(A){return 0>=this.cmp(A)},r.prototype.eqn=function(A){return 0===this.cmpn(A)},r.prototype.eq=function(A){return 0===this.cmp(A)},r.red=function(A){return new S(A)},r.prototype.toRed=function(A){return p(!this.red,"Already a number in reduction context"),p(0===this.negative,"red works only with positives"),A.convertTo(this)._forceRed(A)},r.prototype.fromRed=function(){return p(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(A){return this.red=A,this},r.prototype.forceRed=function(A){return p(!this.red,"Already a number in reduction context"),this._forceRed(A)},r.prototype.redAdd=function(A){return p(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},r.prototype.redIAdd=function(A){return p(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},r.prototype.redSub=function(A){return p(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},r.prototype.redISub=function(A){return p(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},r.prototype.redShl=function(A){return p(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},r.prototype.redMul=function(A){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},r.prototype.redIMul=function(A){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},r.prototype.redSqr=function(){return p(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return p(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return p(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return p(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return p(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(A){return p(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var xe={k256:null,p224:null,p192:null,p25519:null};l.prototype._tmp=function(){var A=new r(null);return A.words=Array(ge(this.n/13)),A},l.prototype.ireduce=function(A){var U,N=A;do{this.split(N,this.tmp),U=(N=(N=this.imulK(N)).iadd(this.tmp)).bitLength()}while(U>this.n);var y=U<this.n?-1:N.ucmp(this.p);return 0===y?(N.words[0]=0,N.length=1):0<y?N.isub(this.p):void 0===N.strip?N._strip():N.strip(),N},l.prototype.split=function(A,N){A.iushrn(this.n,0,N)},l.prototype.imulK=function(A){return A.imul(this.k)},x(d,l),d.prototype.split=function(A,N){for(var U=4194303,y=re(A.length,9),C=0;C<y;C++)N.words[C]=A.words[C];if(N.length=y,9>=A.length)return A.words[0]=0,void(A.length=1);var L=A.words[9];for(N.words[N.length++]=L&U,C=10;C<A.length;C++){var O=0|A.words[C];A.words[C-10]=(O&U)<<4|L>>>22,L=O}A.words[C-10]=L>>>=22,A.length-=0===L&&10<A.length?10:9},d.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var y,N=0,U=0;U<A.length;U++)A.words[U]=67108863&(N+=977*(y=0|A.words[U])),N=64*y+(0|N/67108864);return 0===A.words[A.length-1]&&(A.length--,0===A.words[A.length-1]&&A.length--),A},x(w,l),x(b,l),x(I,l),I.prototype.imulK=function(A){for(var N=0,U=0;U<A.length;U++){var y=19*(0|A.words[U])+N,C=67108863&y;y>>>=26,A.words[U]=C,N=y}return 0!==N&&(A.words[A.length++]=N),A},r._prime=function(N){if(xe[N])return xe[N];var U;if("k256"===N)U=new d;else if("p224"===N)U=new w;else if("p192"===N)U=new b;else{if("p25519"!==N)throw new Error("Unknown prime "+N);U=new I}return xe[N]=U,U},S.prototype._verify1=function(A){p(0===A.negative,"red works only with positives"),p(A.red,"red works only with red numbers")},S.prototype._verify2=function(A,N){p(0==(A.negative|N.negative),"red works only with positives"),p(A.red&&A.red===N.red,"red works only with red numbers")},S.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):A.umod(this.m)._forceRed(this)},S.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},S.prototype.add=function(A,N){this._verify2(A,N);var U=A.add(N);return 0<=U.cmp(this.m)&&U.isub(this.m),U._forceRed(this)},S.prototype.iadd=function(A,N){this._verify2(A,N);var U=A.iadd(N);return 0<=U.cmp(this.m)&&U.isub(this.m),U},S.prototype.sub=function(A,N){this._verify2(A,N);var U=A.sub(N);return 0>U.cmpn(0)&&U.iadd(this.m),U._forceRed(this)},S.prototype.isub=function(A,N){this._verify2(A,N);var U=A.isub(N);return 0>U.cmpn(0)&&U.iadd(this.m),U},S.prototype.shl=function(A,N){return this._verify1(A),this.imod(A.ushln(N))},S.prototype.imul=function(A,N){return this._verify2(A,N),this.imod(A.imul(N))},S.prototype.mul=function(A,N){return this._verify2(A,N),this.imod(A.mul(N))},S.prototype.isqr=function(A){return this.imul(A,A.clone())},S.prototype.sqr=function(A){return this.mul(A,A)},S.prototype.sqrt=function(A){if(A.isZero())return A.clone();var N=this.m.andln(3);if(p(N%2==1),3===N){var U=this.m.add(new r(1)).iushrn(2);return this.pow(A,U)}for(var y=this.m.subn(1),C=0;!y.isZero()&&0===y.andln(1);)C++,y.iushrn(1);p(!y.isZero());var L=new r(1).toRed(this),O=L.redNeg(),oe=this.m.subn(1).iushrn(1),$=this.m.bitLength();for($=new r(2*$*$).toRed(this);0!==this.pow($,oe).cmp(O);)$.redIAdd(O);for(var ue=this.pow($,y),qe=this.pow(A,y.addn(1).iushrn(1)),Ze=this.pow(A,y),Ve=C;0!==Ze.cmp(L);){for(var tt=Ze,at=0;0!==tt.cmp(L);at++)tt=tt.redSqr();p(at<Ve);var zt=this.pow(ue,new r(1).iushln(Ve-at-1));qe=qe.redMul(zt),ue=zt.redSqr(),Ze=Ze.redMul(ue),Ve=at}return qe},S.prototype.invm=function(A){var N=A._invmp(this.m);return 0===N.negative?this.imod(N):(N.negative=0,this.imod(N).redNeg())},S.prototype.pow=function(A,N){if(N.isZero())return new r(1).toRed(this);if(0===N.cmpn(1))return A.clone();var U=Array(16);U[0]=new r(1).toRed(this),U[1]=A;for(var y=2;y<U.length;y++)U[y]=this.mul(U[y-1],A);var C=U[0],L=0,O=0,oe=N.bitLength()%26;for(0===oe&&(oe=26),y=N.length-1;0<=y;y--){for(var qe,$=N.words[y],ue=oe-1;0<=ue;ue--)qe=1&$>>ue,C!==U[0]&&(C=this.sqr(C)),0!==qe||0!==L?(L<<=1,L|=qe,(4==++O||0===y&&0===ue)&&(C=this.mul(C,U[L]),O=0,L=0)):O=0;oe=26}return C},S.prototype.convertTo=function(A){var N=A.umod(this.m);return N===A?N.clone():N},S.prototype.convertFrom=function(A){var N=A.clone();return N.red=null,N},r.mont=function(A){return new R(A)},x(R,S),R.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},R.prototype.convertFrom=function(A){var N=this.imod(A.mul(this.rinv));return N.red=null,N},R.prototype.imul=function(A,N){if(A.isZero()||N.isZero())return A.words[0]=0,A.length=1,A;var U=A.imul(N),y=U.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=U.isub(y).iushrn(this.shift),L=C;return 0<=C.cmp(this.m)?L=C.isub(this.m):0>C.cmpn(0)&&(L=C.iadd(this.m)),L._forceRed(this)},R.prototype.mul=function(A,N){if(A.isZero()||N.isZero())return new r(0)._forceRed(this);var U=A.mul(N),y=U.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=U.isub(y).iushrn(this.shift),L=C;return 0<=C.cmp(this.m)?L=C.isub(this.m):0>C.cmpn(0)&&(L=C.iadd(this.m)),L._forceRed(this)},R.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===M||M,this)},{buffer:41}],23:[function(v,M,h){"use strict";function g(l){var d=l.length;if(0<d%4)throw new Error("Invalid string. Length must be a multiple of 4");var w=l.indexOf("=");return-1===w&&(w=d),[w,w===d?0:4-w%4]}function r(l){return n[63&l>>18]+n[63&l>>12]+n[63&l>>6]+n[63&l]}function c(l,d,w){for(var b=[],I=d;I<w;I+=3)b.push(r((16711680&l[I]<<16)+(65280&l[I+1]<<8)+(255&l[I+2])));return b.join("")}h.byteLength=function(l){var d=g(l),b=d[1];return 3*(d[0]+b)/4-b},h.toByteArray=function x(l){var F,q,d=g(l),w=d[0],b=d[1],I=new i(function p(l,d,w){return 3*(d+w)/4-w}(0,w,b)),S=0,R=0<b?w-4:w;for(q=0;q<R;q+=4)F=t[l.charCodeAt(q)]<<18|t[l.charCodeAt(q+1)]<<12|t[l.charCodeAt(q+2)]<<6|t[l.charCodeAt(q+3)],I[S++]=255&F>>16,I[S++]=255&F>>8,I[S++]=255&F;return 2===b&&(F=t[l.charCodeAt(q)]<<2|t[l.charCodeAt(q+1)]>>4,I[S++]=255&F),1===b&&(F=t[l.charCodeAt(q)]<<10|t[l.charCodeAt(q+1)]<<4|t[l.charCodeAt(q+2)]>>2,I[S++]=255&F>>8,I[S++]=255&F),I},h.fromByteArray=function f(l){for(var F,d=l.length,w=d%3,b=[],I=16383,S=0,R=d-w;S<R;S+=I)b.push(c(l,S,S+I>R?R:S+I));return 1===w?b.push(n[(F=l[d-1])>>2]+n[63&F<<4]+"=="):2===w&&b.push(n[(F=(l[d-2]<<8)+l[d-1])>>10]+n[63&F>>4]+n[63&F<<2]+"="),b.join("")};for(var n=[],t=[],i="undefined"==typeof Uint8Array?Array:Uint8Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,o=s.length;u<o;++u)n[u]=s[u],t[s.charCodeAt(u)]=u;t[45]=62,t[95]=63},{}],24:[function(v,M){(function(h){(function(){function g(r,c,f){let n=0,t=1;for(let i=c;i<f;i++){const s=r[i];if(58>s&&48<=s)n=10*n+(s-48);else if(i!==c||43!==s){if(i===c&&45===s){t=-1;continue}if(46===s)break;throw new Error("not a number: buffer["+i+"] = "+s)}}return n*t}function p(r,c,f,n){return null==r||0===r.length?null:("number"!=typeof c&&null==n&&(n=c,c=void 0),"number"!=typeof f&&null==n&&(n=f,f=void 0),p.position=0,p.encoding=n||null,p.data=h.isBuffer(r)?r.slice(c,f):h.from(r),p.bytes=p.data.length,p.next())}p.bytes=0,p.position=0,p.data=null,p.encoding=null,p.next=function(){switch(p.data[p.position]){case 100:return p.dictionary();case 108:return p.list();case 105:return p.integer();default:return p.buffer()}},p.find=function(r){let c=p.position;const f=p.data.length,n=p.data;for(;c<f;){if(n[c]===r)return c;c++}throw new Error('Invalid data: Missing delimiter "'+Q(r)+'" [0x'+r.toString(16)+"]")},p.dictionary=function(){p.position++;const r={};for(;101!==p.data[p.position];)r[p.buffer()]=p.next();return p.position++,r},p.list=function(){p.position++;const r=[];for(;101!==p.data[p.position];)r.push(p.next());return p.position++,r},p.integer=function(){const r=p.find(101),c=g(p.data,p.position+1,r);return p.position+=r+1-p.position,c},p.buffer=function(){let r=p.find(58);const c=g(p.data,p.position,r),f=++r+c;return p.position=f,p.encoding?p.data.toString(p.encoding,r,f):p.data.slice(r,f)},M.exports=p}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],25:[function(v,M){(function(h){(function(){function g(f,n,t){const i=[];let s=null;return g._encode(i,f),s=h.concat(i),g.bytes=s.length,h.isBuffer(n)?(s.copy(n,t),n):s}const{getType:p}=v("./util.js");g.bytes=-1,g._floatConversionDetected=!1,g._encode=function(f,n){if(null!=n)switch(p(n)){case"buffer":g.buffer(f,n);break;case"object":g.dict(f,n);break;case"map":g.dictMap(f,n);break;case"array":g.list(f,n);break;case"set":g.listSet(f,n);break;case"string":g.string(f,n);break;case"number":case"boolean":g.number(f,n);break;case"arraybufferview":g.buffer(f,h.from(n.buffer,n.byteOffset,n.byteLength));break;case"arraybuffer":g.buffer(f,h.from(n))}};const x=h.from("e"),r=h.from("d"),c=h.from("l");g.buffer=function(f,n){f.push(h.from(n.length+":"),n)},g.string=function(f,n){f.push(h.from(h.byteLength(n)+":"+n))},g.number=function(f,n){const t=2147483648*(n/2147483648<<0)+(n%2147483648<<0);f.push(h.from("i"+t+"e")),t===n||g._floatConversionDetected||(g._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+n+'":','Bencoding only defines support for integers, value was converted to "'+t+'"'),console.trace())},g.dict=function(f,n){f.push(r);let i,t=0;const s=Object.keys(n).sort(),u=s.length;for(;t<u;t++)i=s[t],null!=n[i]&&(g.string(f,i),g._encode(f,n[i]));f.push(x)},g.dictMap=function(f,n){f.push(r);const t=Array.from(n.keys()).sort();for(const i of t)null!=n.get(i)&&(h.isBuffer(i)?g._encode(f,i):g.string(f,i+""),g._encode(f,n.get(i)));f.push(x)},g.list=function(f,n){let t=0;const i=n.length;for(f.push(c);t<i;t++)null!=n[t]&&g._encode(f,n[t]);f.push(x)},g.listSet=function(f,n){f.push(c);for(const t of n)null!=t&&g._encode(f,t);f.push(x)},M.exports=g}).call(this)}).call(this,v("buffer").Buffer)},{"./util.js":28,buffer:69}],26:[function(v,M){(function(h){(function(){const{digitCount:n,getType:t}=v("./util.js");M.exports=function f(i){if(null==i)return 0;const s=t(i);switch(s){case"buffer":return n(i.length)+1+i.length;case"arraybufferview":return function c(i){const s=i.byteLength-i.byteOffset;return n(s)+1+s}(i);case"string":return function r(i){const s=h.byteLength(i);return n(s)+1+s}(i);case"array":case"set":return function g(i){let s=2;for(const u of i)s+=f(u);return s}(i);case"number":return 1+n(mt(i))+1;case"bigint":return 1+i.toString().length+1;case"object":return function x(i){let s=2;const u=Object.keys(i);for(let o=0;o<u.length;o++){const l=h.byteLength(u[o]);s+=n(l)+1+l,s+=f(i[u[o]])}return s}(i);case"map":return function p(i){let s=2;for(const[u,o]of i){const l=h.byteLength(u);s+=n(l)+1+l,s+=f(o)}return s}(i);default:throw new TypeError(`Unsupported value of type "${s}"`)}}}).call(this)}).call(this,v("buffer").Buffer)},{"./util.js":28,buffer:69}],27:[function(v,M){const h=M.exports;h.encode=v("./encode.js"),h.decode=v("./decode.js"),h.byteLength=h.encodingLength=v("./encoding-length.js")},{"./decode.js":24,"./encode.js":25,"./encoding-length.js":26}],28:[function(v,M){(function(h){(function(){const g=M.exports;g.digitCount=function(p){var x=Math.log10;const r=0>p?1:0;return p=wt(+(p||1)),mt(x(p))+1+r},g.getType=function(p){return h.isBuffer(p)?"buffer":ArrayBuffer.isView(p)?"arraybufferview":Array.isArray(p)?"array":p instanceof Number?"number":p instanceof Boolean?"boolean":p instanceof Set?"set":p instanceof Map?"map":p instanceof String?"string":p instanceof ArrayBuffer?"arraybuffer":typeof p}}).call(this)}).call(this,{isBuffer:v("../../is-buffer/index.js")})},{"../../is-buffer/index.js":161}],29:[function(v,M){function h(g){return g.reduce((x,r)=>{const c=r.split("-").map(f=>parseInt(f));return x.concat(((x,r=x)=>Array.from({length:r-x+1},(c,f)=>f+x))(...c))},[])}M.exports=h,M.exports.parse=h,M.exports.compose=function(g){return g.reduce((p,x,r,c)=>((0===r||x!==c[r-1]+1)&&p.push([]),p[p.length-1].push(x),p),[]).map(p=>1<p.length?`${p[0]}-${p[p.length-1]}`:`${p[0]}`)}},{}],30:[function(v,M){M.exports=function(h,g,p,x,r){var c,f;if(void 0===x)x=0;else if(0>(x|=0)||x>=h.length)throw new RangeError("invalid lower bound");if(void 0===r)r=h.length-1;else if((r|=0)<x||r>=h.length)throw new RangeError("invalid upper bound");for(;x<=r;)if(0>(f=+p(h[c=x+(r-x>>>1)],g,c,h)))x=c+1;else{if(!(0<f))return c;r=c-1}return~x}},{}],31:[function(v,M,h){"use strict";function g(x){var r=x>>3;return x%8!=0&&r++,r}Object.defineProperty(h,"__esModule",{value:!0});var p=function(){function x(r,c){void 0===r&&(r=0);var f=null==c?void 0:c.grow;this.grow=f&&isFinite(f)&&g(f)||f||0,this.buffer="number"==typeof r?new Uint8Array(g(r)):r}return x.prototype.get=function(r){var c=r>>3;return c<this.buffer.length&&!!(this.buffer[c]&128>>r%8)},x.prototype.set=function(r,c){void 0===c&&(c=!0);var f=r>>3;if(c){if(this.buffer.length<f+1){var n=fe(f+1,re(2*this.buffer.length,this.grow));if(n<=this.grow){var t=new Uint8Array(n);t.set(this.buffer),this.buffer=t}}this.buffer[f]|=128>>r%8}else f<this.buffer.length&&(this.buffer[f]&=~(128>>r%8))},x.prototype.forEach=function(r,c,f){void 0===c&&(c=0),void 0===f&&(f=8*this.buffer.length);for(var n=c,t=n>>3,i=128>>n%8,s=this.buffer[t];n<f;n++)r(!!(s&i),n),i=1==i?(s=this.buffer[++t],128):i>>1},x}();h.default=p},{}],32:[function(v,M){(function(h){(function(){function g(xe,A){for(let N=xe.length;N--;)xe[N]^=A[N];return xe}const p=v("unordered-array-remove"),x=v("bencode"),r=v("bitfield").default,c=v("crypto"),f=v("debug")("bittorrent-protocol"),n=v("randombytes"),t=v("simple-sha1"),i=v("speedometer"),s=v("readable-stream"),u=v("rc4"),o=h.from("\x13BitTorrent protocol"),l=h.from([0,0,0,0]),d=h.from([0,0,0,1,0]),w=h.from([0,0,0,1,1]),b=h.from([0,0,0,1,2]),I=h.from([0,0,0,1,3]),S=[0,0,0,0,0,0,0,0],R=[0,0,0,3,9,0,0],F=h.from([0,0,0,0,0,0,0,0]),q=h.from([0,0,1,2]),K=h.from([0,0,0,2]);class he{constructor(A,N,U,y){this.piece=A,this.offset=N,this.length=U,this.callback=y}}M.exports=class Ae extends s.Duplex{constructor(A=null,N=0,U=!1){super(),this._debugId=n(4).toString("hex"),this._debug("new wire"),this.peerId=null,this.peerIdBuffer=null,this.type=A,this.amChoking=!0,this.amInterested=!1,this.peerChoking=!0,this.peerInterested=!1,this.peerPieces=new r(0,{grow:4e5}),this.peerExtensions={},this.requests=[],this.peerRequests=[],this.extendedMapping={},this.peerExtendedMapping={},this.extendedHandshake={},this.peerExtendedHandshake={},this._ext={},this._nextExt=1,this.uploaded=0,this.downloaded=0,this.uploadSpeed=i(),this.downloadSpeed=i(),this._keepAliveInterval=null,this._timeout=null,this._timeoutMs=0,this._timeoutExpiresAt=null,this.destroyed=!1,this._finished=!1,this._parserSize=0,this._parser=null,this._buffer=[],this._bufferSize=0,this._peEnabled=U,U?(this._dh=c.createDiffieHellman("ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a36210000000000090563","hex",2),this._myPubKey=this._dh.generateKeys("hex")):this._myPubKey=null,this._peerPubKey=null,this._sharedSecret=null,this._peerCryptoProvide=[],this._cryptoHandshakeDone=!1,this._cryptoSyncPattern=null,this._waitMaxBytes=null,this._encryptionMethod=null,this._encryptGenerator=null,this._decryptGenerator=null,this._setGenerators=!1,this.once("finish",()=>this._onFinish()),this.on("finish",this._onFinish),this._debug("type:",this.type),"tcpIncoming"===this.type&&this._peEnabled?this._determineHandshakeType():"tcpOutgoing"===this.type&&this._peEnabled&&0===N?this._parsePe2():this._parseHandshake(null)}setKeepAlive(A){this._debug("setKeepAlive %s",A),clearInterval(this._keepAliveInterval),!1===A||(this._keepAliveInterval=setInterval(()=>{this.keepAlive()},55e3))}setTimeout(A,N){this._debug("setTimeout ms=%d unref=%s",A,N),this._timeoutMs=A,this._timeoutUnref=!!N,this._resetTimeout(!0)}destroy(){this.destroyed||(this.destroyed=!0,this._debug("destroy"),this.emit("close"),this.end())}end(...A){this._debug("end"),this._onUninterested(),this._onChoke(),super.end(...A)}use(A){function N(){}const U=A.prototype.name;if(!U)throw new Error('Extension class requires a "name" property on the prototype');this._debug("use extension.name=%s",U);const y=this._nextExt,C=new A(this);"function"!=typeof C.onHandshake&&(C.onHandshake=N),"function"!=typeof C.onExtendedHandshake&&(C.onExtendedHandshake=N),"function"!=typeof C.onMessage&&(C.onMessage=N),this.extendedMapping[y]=U,this._ext[U]=C,this[U]=C,this._nextExt+=1}keepAlive(){this._debug("keep-alive"),this._push(l)}sendPe1(){if(this._peEnabled){const A=mt(513*Math.random()),N=n(A);this._push(h.concat([h.from(this._myPubKey,"hex"),N]))}}sendPe2(){const A=mt(513*Math.random()),N=n(A);this._push(h.concat([h.from(this._myPubKey,"hex"),N]))}sendPe3(A){this.setEncrypt(this._sharedSecret,A);const N=h.from(t.sync(h.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex"),C=g(h.from(t.sync(h.from(this._utfToHex("req2")+A,"hex")),"hex"),h.from(t.sync(h.from(this._utfToHex("req3")+this._sharedSecret,"hex")),"hex")),L=n(2).readUInt16BE(0)%512,O=n(L);let oe=h.alloc(14+L+2);F.copy(oe),q.copy(oe,8),oe.writeInt16BE(L,12),O.copy(oe,14),oe.writeInt16BE(0,14+L),oe=this._encryptHandshake(oe),this._push(h.concat([N,C,oe]))}sendPe4(A){this.setEncrypt(this._sharedSecret,A);const N=n(2).readUInt16BE(0)%512,U=n(N);let y=h.alloc(14+N);F.copy(y),K.copy(y,8),y.writeInt16BE(N,12),U.copy(y,14),y=this._encryptHandshake(y),this._push(y),this._cryptoHandshakeDone=!0,this._debug("completed crypto handshake")}handshake(A,N,U){let y,C;if("string"==typeof A?(A=A.toLowerCase(),y=h.from(A,"hex")):(y=A,A=y.toString("hex")),"string"==typeof N?C=h.from(N,"hex"):(C=N,N=C.toString("hex")),this._infoHash=y,20!==y.length||20!==C.length)throw new Error("infoHash and peerId MUST have length 20");this._debug("handshake i=%s p=%s exts=%o",A,N,U);const L=h.from(S);L[5]|=16,U&&U.dht&&(L[7]|=1),this._push(h.concat([o,L,y,C])),this._handshakeSent=!0,this.peerExtensions.extended&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_sendExtendedHandshake(){const A=Object.assign({},this.extendedHandshake);for(const N in A.m={},this.extendedMapping)A.m[this.extendedMapping[N]]=+N;this.extended(0,x.encode(A)),this._extendedHandshakeSent=!0}choke(){if(!this.amChoking){for(this.amChoking=!0,this._debug("choke");this.peerRequests.length;)this.peerRequests.pop();this._push(d)}}unchoke(){this.amChoking&&(this.amChoking=!1,this._debug("unchoke"),this._push(w))}interested(){this.amInterested||(this.amInterested=!0,this._debug("interested"),this._push(b))}uninterested(){this.amInterested&&(this.amInterested=!1,this._debug("uninterested"),this._push(I))}have(A){this._debug("have %d",A),this._message(4,[A],null)}bitfield(A){this._debug("bitfield"),h.isBuffer(A)||(A=A.buffer),this._message(5,[],A)}request(A,N,U,y){return y||(y=()=>{}),this._finished?y(new Error("wire is closed")):this.peerChoking?y(new Error("peer is choking")):(this._debug("request index=%d offset=%d length=%d",A,N,U),this.requests.push(new he(A,N,U,y)),!this._timeout&&this._resetTimeout(!0),void this._message(6,[A,N,U],null))}piece(A,N,U){this._debug("piece index=%d offset=%d",A,N),this._message(7,[A,N],U),this.uploaded+=U.length,this.uploadSpeed(U.length),this.emit("upload",U.length)}cancel(A,N,U){this._debug("cancel index=%d offset=%d length=%d",A,N,U),this._callback(this._pull(this.requests,A,N,U),new Error("request was cancelled"),null),this._message(8,[A,N,U],null)}port(A){this._debug("port %d",A);const N=h.from(R);N.writeUInt16BE(A,5),this._push(N)}extended(A,N){if(this._debug("extended ext=%s",A),"string"==typeof A&&this.peerExtendedMapping[A]&&(A=this.peerExtendedMapping[A]),"number"!=typeof A)throw new Error(`Unrecognized extension: ${A}`);{const U=h.from([A]),y=h.isBuffer(N)?N:x.encode(N);this._message(20,[],h.concat([U,y]))}}setEncrypt(A,N){let U,y,C,L,O,oe;switch(this.type){case"tcpIncoming":U=t.sync(h.from(this._utfToHex("keyB")+A+N,"hex")),y=t.sync(h.from(this._utfToHex("keyA")+A+N,"hex")),C=h.from(U,"hex"),L=[];for(const $ of C.values())L.push($);O=h.from(y,"hex"),oe=[];for(const $ of O.values())oe.push($);this._encryptGenerator=new u(L),this._decryptGenerator=new u(oe);break;case"tcpOutgoing":U=t.sync(h.from(this._utfToHex("keyA")+A+N,"hex")),y=t.sync(h.from(this._utfToHex("keyB")+A+N,"hex")),C=h.from(U,"hex"),L=[];for(const $ of C.values())L.push($);O=h.from(y,"hex"),oe=[];for(const $ of O.values())oe.push($);this._encryptGenerator=new u(L),this._decryptGenerator=new u(oe);break;default:return!1}for(let $=0;1024>$;$++)this._encryptGenerator.randomByte(),this._decryptGenerator.randomByte();return this._setGenerators=!0,!0}_read(){}_message(A,N,U){const y=U?U.length:0,C=h.allocUnsafe(5+4*N.length);C.writeUInt32BE(C.length+y-4,0),C[4]=A;for(let L=0;L<N.length;L++)C.writeUInt32BE(N[L],5+4*L);this._push(C),U&&this._push(U)}_push(A){if(!this._finished)return 2===this._encryptionMethod&&this._cryptoHandshakeDone&&(A=this._encrypt(A)),this.push(A)}_onKeepAlive(){this._debug("got keep-alive"),this.emit("keep-alive")}_onPe1(A){this._peerPubKey=A.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe1")}_onPe2(A){this._peerPubKey=A.toString("hex"),this._sharedSecret=this._dh.computeSecret(this._peerPubKey,"hex","hex"),this.emit("pe2")}_onPe3(A){const N=t.sync(h.from(this._utfToHex("req3")+this._sharedSecret,"hex")),U=g(h.from(N,"hex"),A).toString("hex");this.emit("pe3",U)}_onPe3Encrypted(A,N){if(!A.equals(F))return this._debug("Error: verification constant did not match"),void this.destroy();for(const U of N.values())0!==U&&this._peerCryptoProvide.push(U);this._peerCryptoProvide.includes(2)?this._encryptionMethod=2:(this._debug("Error: RC4 encryption method not provided by peer"),this.destroy())}_onPe4(A){this._encryptionMethod=A.readUInt8(3),q.includes(this._encryptionMethod)||(this._debug("Error: peer selected invalid crypto method"),this.destroy()),this._cryptoHandshakeDone=!0,this._debug("crypto handshake done"),this.emit("pe4")}_onHandshake(A,N,U){const y=A.toString("hex"),C=N.toString("hex");for(const L in this._debug("got handshake i=%s p=%s exts=%o",y,C,U),this.peerId=C,this.peerIdBuffer=N,this.peerExtensions=U,this.emit("handshake",y,C,U),this._ext)this._ext[L].onHandshake(y,C,U);U.extended&&this._handshakeSent&&!this._extendedHandshakeSent&&this._sendExtendedHandshake()}_onChoke(){for(this.peerChoking=!0,this._debug("got choke"),this.emit("choke");this.requests.length;)this._callback(this.requests.pop(),new Error("peer is choking"),null)}_onUnchoke(){this.peerChoking=!1,this._debug("got unchoke"),this.emit("unchoke")}_onInterested(){this.peerInterested=!0,this._debug("got interested"),this.emit("interested")}_onUninterested(){this.peerInterested=!1,this._debug("got uninterested"),this.emit("uninterested")}_onHave(A){this.peerPieces.get(A)||(this._debug("got have %d",A),this.peerPieces.set(A,!0),this.emit("have",A))}_onBitField(A){this.peerPieces=new r(A),this._debug("got bitfield"),this.emit("bitfield",this.peerPieces)}_onRequest(A,N,U){if(this.amChoking)return;this._debug("got request index=%d offset=%d length=%d",A,N,U);const y=(L,O)=>C===this._pull(this.peerRequests,A,N,U)?L?this._debug("error satisfying request index=%d offset=%d length=%d (%s)",A,N,U,L.message):void this.piece(A,N,O):void 0,C=new he(A,N,U,y);this.peerRequests.push(C),this.emit("request",A,N,U,y)}_onPiece(A,N,U){this._debug("got piece index=%d offset=%d",A,N),this._callback(this._pull(this.requests,A,N,U.length),null,U),this.downloaded+=U.length,this.downloadSpeed(U.length),this.emit("download",U.length),this.emit("piece",A,N,U)}_onCancel(A,N,U){this._debug("got cancel index=%d offset=%d length=%d",A,N,U),this._pull(this.peerRequests,A,N,U),this.emit("cancel",A,N,U)}_onPort(A){this._debug("got port %d",A),this.emit("port",A)}_onExtended(A,N){if(0===A){let U;try{U=x.decode(N)}catch(y){this._debug("ignoring invalid extended handshake: %s",y.message||y)}if(!U)return;if(this.peerExtendedHandshake=U,"object"==typeof U.m)for(const y in U.m)this.peerExtendedMapping[y]=+U.m[y].toString();for(const y in this._ext)this.peerExtendedMapping[y]&&this._ext[y].onExtendedHandshake(this.peerExtendedHandshake);this._debug("got extended handshake"),this.emit("extended","handshake",this.peerExtendedHandshake)}else this.extendedMapping[A]&&this._ext[A=this.extendedMapping[A]]&&this._ext[A].onMessage(N),this._debug("got extended message ext=%s",A),this.emit("extended",A,N)}_onTimeout(){this._debug("request timed out"),this._callback(this.requests.shift(),new Error("request has timed out"),null),this.emit("timeout")}_write(A,N,U){if(2===this._encryptionMethod&&this._cryptoHandshakeDone&&(A=this._decrypt(A)),this._bufferSize+=A.length,this._buffer.push(A),1<this._buffer.length&&(this._buffer=[h.concat(this._buffer,this._bufferSize)]),this._cryptoSyncPattern){const y=this._buffer[0].indexOf(this._cryptoSyncPattern);if(-1!==y)this._buffer[0]=this._buffer[0].slice(y+this._cryptoSyncPattern.length),this._bufferSize-=y+this._cryptoSyncPattern.length,this._cryptoSyncPattern=null;else if(this._bufferSize+A.length>this._waitMaxBytes+this._cryptoSyncPattern.length)return this._debug("Error: could not resynchronize"),void this.destroy()}for(;this._bufferSize>=this._parserSize&&!this._cryptoSyncPattern;)if(0===this._parserSize)this._parser(h.from([]));else{const y=this._buffer[0];this._bufferSize-=this._parserSize,this._buffer=this._bufferSize?[y.slice(this._parserSize)]:[],this._parser(y.slice(0,this._parserSize))}U(null)}_callback(A,N,U){A&&(this._resetTimeout(!this.peerChoking&&!this._finished),A.callback(N,U))}_resetTimeout(A){if(!A||!this._timeoutMs||!this.requests.length)return clearTimeout(this._timeout),this._timeout=null,void(this._timeoutExpiresAt=null);const N=Date.now()+this._timeoutMs;if(this._timeout){if(N-this._timeoutExpiresAt<.05*this._timeoutMs)return;clearTimeout(this._timeout)}this._timeoutExpiresAt=N,this._timeout=setTimeout(()=>this._onTimeout(),this._timeoutMs),this._timeoutUnref&&this._timeout.unref&&this._timeout.unref()}_parse(A,N){this._parserSize=A,this._parser=N}_parseUntil(A,N){this._cryptoSyncPattern=A,this._waitMaxBytes=N}_onMessageLength(A){const N=A.readUInt32BE(0);0<N?this._parse(N,this._onMessage):(this._onKeepAlive(),this._parse(4,this._onMessageLength))}_onMessage(A){switch(this._parse(4,this._onMessageLength),A[0]){case 0:return this._onChoke();case 1:return this._onUnchoke();case 2:return this._onInterested();case 3:return this._onUninterested();case 4:return this._onHave(A.readUInt32BE(1));case 5:return this._onBitField(A.slice(1));case 6:return this._onRequest(A.readUInt32BE(1),A.readUInt32BE(5),A.readUInt32BE(9));case 7:return this._onPiece(A.readUInt32BE(1),A.readUInt32BE(5),A.slice(9));case 8:return this._onCancel(A.readUInt32BE(1),A.readUInt32BE(5),A.readUInt32BE(9));case 9:return this._onPort(A.readUInt16BE(1));case 20:return this._onExtended(A.readUInt8(1),A.slice(2));default:return this._debug("got unknown message"),this.emit("unknownmessage",A)}}_determineHandshakeType(){this._parse(1,A=>{const N=A.readUInt8(0);19===N?this._parse(N+48,this._onHandshakeBuffer):this._parsePe1(A)})}_parsePe1(A){this._parse(95,N=>{this._onPe1(h.concat([A,N])),this._parsePe3()})}_parsePe2(){this._parse(96,A=>{for(this._onPe2(A);!this._setGenerators;);this._parsePe4()})}_parsePe3(){const A=h.from(t.sync(h.from(this._utfToHex("req1")+this._sharedSecret,"hex")),"hex");this._parseUntil(A,512),this._parse(20,N=>{for(this._onPe3(N);!this._setGenerators;);this._parsePe3Encrypted()})}_parsePe3Encrypted(){this._parse(14,A=>{const N=this._decryptHandshake(A.slice(0,8)),U=this._decryptHandshake(A.slice(8,12)),y=this._decryptHandshake(A.slice(12,14)).readUInt16BE(0);this._parse(y,C=>{C=this._decryptHandshake(C),this._parse(2,L=>{const O=this._decryptHandshake(L).readUInt16BE(0);this._parse(O,oe=>{oe=this._decryptHandshake(oe),this._onPe3Encrypted(N,U,C,oe);const $=O?oe.readUInt8(0):null,ue=O?oe.slice(1,20):null;19===$&&"BitTorrent protocol"===ue.toString()?this._onHandshakeBuffer(oe.slice(1)):this._parseHandshake()})})})})}_parsePe4(){const A=this._decryptHandshake(F);this._parseUntil(A,512),this._parse(6,N=>{const U=this._decryptHandshake(N.slice(0,4)),y=this._decryptHandshake(N.slice(4,6)).readUInt16BE(0);this._parse(y,C=>{this._decryptHandshake(C),this._onPe4(U),this._parseHandshake(null)})})}_parseHandshake(){this._parse(1,A=>{const N=A.readUInt8(0);return 19===N?void this._parse(N+48,this._onHandshakeBuffer):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",N.toString()),void this.end())})}_onHandshakeBuffer(A){const N=A.slice(0,19);return"BitTorrent protocol"===N.toString()?(A=A.slice(19),this._onHandshake(A.slice(8,28),A.slice(28,48),{dht:!!(1&A[7]),extended:!!(16&A[5])}),void this._parse(4,this._onMessageLength)):(this._debug("Error: wire not speaking BitTorrent protocol (%s)",N.toString()),void this.end())}_onFinish(){for(this._finished=!0,this.push(null);this.read(););for(clearInterval(this._keepAliveInterval),this._parse(Number.MAX_VALUE,()=>{});this.peerRequests.length;)this.peerRequests.pop();for(;this.requests.length;)this._callback(this.requests.pop(),new Error("wire was closed"),null)}_debug(...A){A[0]=`[${this._debugId}] ${A[0]}`,f(...A)}_pull(A,N,U,y){for(let C=0;C<A.length;C++){const L=A[C];if(L.piece===N&&L.offset===U&&L.length===y)return p(A,C),L}return null}_encryptHandshake(A){const N=h.from(A);if(!this._encryptGenerator)return this._debug("Warning: Encrypting without any generator"),N;for(let U=0;U<A.length;U++){const y=this._encryptGenerator.randomByte();N[U]^=y}return N}_encrypt(A){const N=h.from(A);if(!this._encryptGenerator||2!==this._encryptionMethod)return N;for(let U=0;U<A.length;U++){const y=this._encryptGenerator.randomByte();N[U]^=y}return N}_decryptHandshake(A){const N=h.from(A);if(!this._decryptGenerator)return this._debug("Warning: Decrypting without any generator"),N;for(let U=0;U<A.length;U++){const y=this._decryptGenerator.randomByte();N[U]^=y}return N}_decrypt(A){const N=h.from(A);if(!this._decryptGenerator||2!==this._encryptionMethod)return N;for(let U=0;U<A.length;U++){const y=this._decryptGenerator.randomByte();N[U]^=y}return N}_utfToHex(A){return h.from(A,"utf8").toString("hex")}}}).call(this)}).call(this,v("buffer").Buffer)},{bencode:27,bitfield:31,buffer:69,crypto:104,debug:105,randombytes:221,rc4:225,"readable-stream":240,"simple-sha1":260,speedometer:267,"unordered-array-remove":284}],33:[function(v,M){(function(h,g){(function(){const p=v("debug")("bittorrent-tracker:client"),x=v("events"),r=v("once"),c=v("run-parallel"),f=v("simple-peer"),n=v("queue-microtask"),t=v("./lib/common"),i=v("./lib/client/http-tracker"),s=v("./lib/client/udp-tracker"),u=v("./lib/client/websocket-tracker");class o extends x{constructor(d={}){if(super(),!d.peerId)throw new Error("Option `peerId` is required");if(!d.infoHash)throw new Error("Option `infoHash` is required");if(!d.announce)throw new Error("Option `announce` is required");if(!h.browser&&!d.port)throw new Error("Option `port` is required");this.peerId="string"==typeof d.peerId?d.peerId:d.peerId.toString("hex"),this._peerIdBuffer=g.from(this.peerId,"hex"),this._peerIdBinary=this._peerIdBuffer.toString("binary"),this.infoHash="string"==typeof d.infoHash?d.infoHash.toLowerCase():d.infoHash.toString("hex"),this._infoHashBuffer=g.from(this.infoHash,"hex"),this._infoHashBinary=this._infoHashBuffer.toString("binary"),p("new client %s",this.infoHash),this.destroyed=!1,this._port=d.port,this._getAnnounceOpts=d.getAnnounceOpts,this._rtcConfig=d.rtcConfig,this._userAgent=d.userAgent,this._proxyOpts=d.proxyOpts,this._wrtc="function"==typeof d.wrtc?d.wrtc():d.wrtc;let w="string"==typeof d.announce?[d.announce]:null==d.announce?[]:d.announce;w=w.map(S=>("/"===(S=S.toString())[S.length-1]&&(S=S.substring(0,S.length-1)),S)),w=Array.from(new Set(w));const b=!1!==this._wrtc&&(!!this._wrtc||f.WEBRTC_SUPPORT),I=S=>{n(()=>{this.emit("warning",S)})};this._trackers=w.map(S=>{let R;try{R=t.parseUrl(S)}catch(K){return I(new Error(`Invalid tracker URL: ${S}`)),null}const F=R.port;if(0>F||65535<F)return I(new Error(`Invalid tracker port: ${S}`)),null;const q=R.protocol;return"http:"!==q&&"https:"!==q||"function"!=typeof i?"udp:"===q&&"function"==typeof s?new s(this,S):"ws:"!==q&&"wss:"!==q||!b||"ws:"===q&&"undefined"!=typeof window&&"https:"===window.location.protocol?(I(new Error(`Unsupported tracker protocol: ${S}`)),null):new u(this,S):new i(this,S)}).filter(Boolean)}start(d){(d=this._defaultAnnounceOpts(d)).event="started",p("send `start` %o",d),this._announce(d),this._trackers.forEach(w=>{w.setInterval()})}stop(d){(d=this._defaultAnnounceOpts(d)).event="stopped",p("send `stop` %o",d),this._announce(d)}complete(d){d||(d={}),(d=this._defaultAnnounceOpts(d)).event="completed",p("send `complete` %o",d),this._announce(d)}update(d){(d=this._defaultAnnounceOpts(d)).event&&delete d.event,p("send `update` %o",d),this._announce(d)}_announce(d){this._trackers.forEach(w=>{w.announce(d)})}scrape(d){p("send `scrape`"),d||(d={}),this._trackers.forEach(w=>{w.scrape(d)})}setInterval(d){p("setInterval %d",d),this._trackers.forEach(w=>{w.setInterval(d)})}destroy(d){if(!this.destroyed){this.destroyed=!0,p("destroy");const w=this._trackers.map(b=>I=>{b.destroy(I)});c(w,d),this._trackers=[],this._getAnnounceOpts=null}}_defaultAnnounceOpts(d={}){return null==d.numwant&&(d.numwant=t.DEFAULT_ANNOUNCE_PEERS),null==d.uploaded&&(d.uploaded=0),null==d.downloaded&&(d.downloaded=0),this._getAnnounceOpts&&(d=Object.assign({},d,this._getAnnounceOpts())),d}}o.scrape=(l,d)=>{if(d=r(d),!l.infoHash)throw new Error("Option `infoHash` is required");if(!l.announce)throw new Error("Option `announce` is required");const w=Object.assign({},l,{infoHash:Array.isArray(l.infoHash)?l.infoHash[0]:l.infoHash,peerId:g.from("01234567890123456789"),port:6881}),b=new o(w);b.once("error",d),b.once("warning",d);let I=Array.isArray(l.infoHash)?l.infoHash.length:1;const S={};return b.on("scrape",R=>{if(I-=1,S[R.infoHash]=R,0===I){b.destroy();const F=Object.keys(S);d(null,1===F.length?S[F[0]]:S)}}),l.infoHash=Array.isArray(l.infoHash)?l.infoHash.map(R=>g.from(R,"hex")):g.from(l.infoHash,"hex"),b.scrape({infoHash:l.infoHash}),b},M.exports=o}).call(this)}).call(this,v("_process"),v("buffer").Buffer)},{"./lib/client/http-tracker":41,"./lib/client/udp-tracker":41,"./lib/client/websocket-tracker":35,"./lib/common":36,_process:205,buffer:69,debug:105,events:70,once:191,"queue-microtask":218,"run-parallel":245,"simple-peer":259}],34:[function(v,M){const h=v("events");M.exports=class extends h{constructor(g,p){super(),this.client=g,this.announceUrl=p,this.interval=null,this.destroyed=!1}setInterval(g){null==g&&(g=this.DEFAULT_ANNOUNCE_INTERVAL),clearInterval(this.interval),g&&(this.interval=setInterval(()=>{this.announce(this.client._defaultAnnounceOpts())},g),this.interval.unref&&this.interval.unref())}}},{events:70}],35:[function(v,M){function h(){}const g=v("clone"),p=v("debug")("bittorrent-tracker:websocket-tracker"),x=v("simple-peer"),r=v("randombytes"),c=v("simple-websocket"),f=v("socks"),n=v("../common"),t=v("./tracker"),i={};class s extends t{constructor(o,l){super(o,l),p("new websocket tracker %s",l),this.peers={},this.socket=null,this.reconnecting=!1,this.retries=0,this.reconnectTimer=null,this.expectingResponse=!1,this._openSocket()}announce(o){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.announce(o)});const l=Object.assign({},o,{action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary});if(this._trackerId&&(l.trackerid=this._trackerId),"stopped"===o.event||"completed"===o.event)this._send(l);else{const d=re(o.numwant,5);this._generateOffers(d,w=>{l.numwant=d,l.offers=w,this._send(l)})}}scrape(o){if(this.destroyed||this.reconnecting)return;if(!this.socket.connected)return void this.socket.once("connect",()=>{this.scrape(o)});const l=Array.isArray(o.infoHash)&&0<o.infoHash.length?o.infoHash.map(d=>d.toString("binary")):o.infoHash&&o.infoHash.toString("binary")||this.client._infoHashBinary;this._send({action:"scrape",info_hash:l})}destroy(o=h){function l(){w&&(clearTimeout(w),w=null),d.removeListener("data",l),d.destroy(),d=null}if(this.destroyed)return o(null);for(const b in this.destroyed=!0,clearInterval(this.interval),clearTimeout(this.reconnectTimer),this.peers){const I=this.peers[b];clearTimeout(I.trackerTimeout),I.destroy()}if(this.peers=null,this.socket&&(this.socket.removeListener("connect",this._onSocketConnectBound),this.socket.removeListener("data",this._onSocketDataBound),this.socket.removeListener("close",this._onSocketCloseBound),this.socket.removeListener("error",this._onSocketErrorBound),this.socket=null),this._onSocketConnectBound=null,this._onSocketErrorBound=null,this._onSocketDataBound=null,this._onSocketCloseBound=null,i[this.announceUrl]&&(i[this.announceUrl].consumers-=1),0<i[this.announceUrl].consumers)return o();let w,d=i[this.announceUrl];return delete i[this.announceUrl],d.on("error",h),d.once("close",o),this.expectingResponse?(w=setTimeout(l,n.DESTROY_TIMEOUT),void d.once("data",l)):l()}_openSocket(){if(this.destroyed=!1,this.peers||(this.peers={}),this._onSocketConnectBound=()=>{this._onSocketConnect()},this._onSocketErrorBound=o=>{this._onSocketError(o)},this._onSocketDataBound=o=>{this._onSocketData(o)},this._onSocketCloseBound=()=>{this._onSocketClose()},this.socket=i[this.announceUrl],this.socket)i[this.announceUrl].consumers+=1,this.socket.connected&&this._onSocketConnectBound();else{const o=new URL(this.announceUrl);let l;this.client._proxyOpts&&(l="wss:"===o.protocol?this.client._proxyOpts.httpsAgent:this.client._proxyOpts.httpAgent,!l&&this.client._proxyOpts.socksProxy&&(l=new f.Agent(g(this.client._proxyOpts.socksProxy),"wss:"===o.protocol))),this.socket=i[this.announceUrl]=new c({url:this.announceUrl,agent:l}),this.socket.consumers=1,this.socket.once("connect",this._onSocketConnectBound)}this.socket.on("data",this._onSocketDataBound),this.socket.once("close",this._onSocketCloseBound),this.socket.once("error",this._onSocketErrorBound)}_onSocketConnect(){this.destroyed||this.reconnecting&&(this.reconnecting=!1,this.retries=0,this.announce(this.client._defaultAnnounceOpts()))}_onSocketData(o){if(!this.destroyed){this.expectingResponse=!1;try{o=JSON.parse(o)}catch(l){return void this.client.emit("warning",new Error("Invalid tracker response"))}"announce"===o.action?this._onAnnounceResponse(o):"scrape"===o.action?this._onScrapeResponse(o):this._onSocketError(new Error(`invalid action in WS response: ${o.action}`))}}_onAnnounceResponse(o){if(o.info_hash!==this.client._infoHashBinary)return void p("ignoring websocket data from %s for %s (looking for %s: reused socket)",this.announceUrl,n.binaryToHex(o.info_hash),this.client.infoHash);if(o.peer_id&&o.peer_id===this.client._peerIdBinary)return;p("received %s from %s for %s",JSON.stringify(o),this.announceUrl,this.client.infoHash);const l=o["failure reason"];if(l)return this.client.emit("warning",new Error(l));const d=o["warning message"];d&&this.client.emit("warning",new Error(d));const w=o.interval||o["min interval"];w&&this.setInterval(1e3*w);const b=o["tracker id"];if(b&&(this._trackerId=b),null!=o.complete){const S=Object.assign({},o,{announce:this.announceUrl,infoHash:n.binaryToHex(o.info_hash)});this.client.emit("update",S)}let I;if(o.offer&&o.peer_id&&(p("creating peer (from remote offer)"),I=this._createPeer(),I.id=n.binaryToHex(o.peer_id),I.once("signal",S=>{const R={action:"announce",info_hash:this.client._infoHashBinary,peer_id:this.client._peerIdBinary,to_peer_id:o.peer_id,answer:S,offer_id:o.offer_id};this._trackerId&&(R.trackerid=this._trackerId),this._send(R)}),this.client.emit("peer",I),I.signal(o.offer)),o.answer&&o.peer_id){const S=n.binaryToHex(o.offer_id);I=this.peers[S],I?(I.id=n.binaryToHex(o.peer_id),this.client.emit("peer",I),I.signal(o.answer),clearTimeout(I.trackerTimeout),I.trackerTimeout=null,delete this.peers[S]):p(`got unexpected answer: ${JSON.stringify(o.answer)}`)}}_onScrapeResponse(o){o=o.files||{};const l=Object.keys(o);return 0===l.length?void this.client.emit("warning",new Error("invalid scrape response")):void l.forEach(d=>{const w=Object.assign(o[d],{announce:this.announceUrl,infoHash:n.binaryToHex(d)});this.client.emit("scrape",w)})}_onSocketClose(){this.destroyed||(this.destroy(),this._startReconnectTimer())}_onSocketError(o){this.destroyed||(this.destroy(),this.client.emit("warning",o),this._startReconnectTimer())}_startReconnectTimer(){const o=mt(3e5*Math.random())+re(1e4*z(2,this.retries),36e5);this.reconnecting=!0,clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(()=>{this.retries++,this._openSocket()},o),this.reconnectTimer.unref&&this.reconnectTimer.unref(),p("reconnecting socket in %s ms",o)}_send(o){if(!this.destroyed){this.expectingResponse=!0;const l=JSON.stringify(o);p("send %s",l),this.socket.send(l)}}_generateOffers(o,l){function d(){const S=r(20).toString("hex");p("creating peer (from _generateOffers)");const R=b.peers[S]=b._createPeer({initiator:!0});R.once("signal",F=>{I.push({offer:F,offer_id:n.hexToBinary(S)}),w()}),R.trackerTimeout=setTimeout(()=>{p("tracker timeout: destroying peer"),R.trackerTimeout=null,delete b.peers[S],R.destroy()},5e4),R.trackerTimeout.unref&&R.trackerTimeout.unref()}function w(){I.length===o&&(p("generated %s offers",o),l(I))}const b=this,I=[];p("generating %s offers",o);for(let S=0;S<o;++S)d();w()}_createPeer(o){function l(I){w.client.emit("warning",new Error(`Connection error: ${I.message}`)),b.destroy()}const w=this;o=Object.assign({trickle:!1,config:w.client._rtcConfig,wrtc:w.client._wrtc},o);const b=new x(o);return b.once("error",l),b.once("connect",function d(){b.removeListener("error",l),b.removeListener("connect",d)}),b}}s.prototype.DEFAULT_ANNOUNCE_INTERVAL=3e4,s._socketPool=i,M.exports=s},{"../common":36,"./tracker":34,clone:95,debug:105,randombytes:221,"simple-peer":259,"simple-websocket":262,socks:41}],36:[function(v,M,h){(function(g){(function(){h.DEFAULT_ANNOUNCE_PEERS=50,h.MAX_ANNOUNCE_PEERS=82,h.binaryToHex=x=>("string"!=typeof x&&(x+=""),g.from(x,"binary").toString("hex")),h.hexToBinary=x=>("string"!=typeof x&&(x+=""),g.from(x,"hex").toString("binary")),h.parseUrl=x=>{const r=new URL(x.replace(/^udp:/,"http:"));return x.match(/^udp:/)&&Object.defineProperties(r,{href:{value:r.href.replace(/^http/,"udp")},protocol:{value:r.protocol.replace(/^http/,"udp")},origin:{value:r.origin.replace(/^http/,"udp")}}),r};const p=v("./common-node");Object.assign(h,p)}).call(this)}).call(this,v("buffer").Buffer)},{"./common-node":41,buffer:69}],37:[function(v,M){(function(h){(function(){M.exports=function(g,p){if("undefined"==typeof Blob||!(g instanceof Blob))throw new Error("first argument must be a Blob");if("function"!=typeof p)throw new Error("second argument must be a function");const r=new FileReader;r.addEventListener("loadend",function x(c){r.removeEventListener("loadend",x,!1),c.error?p(c.error):p(null,h.from(r.result))},!1),r.readAsArrayBuffer(g)}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],38:[function(v,M){(function(h){(function(){const{Transform:g}=v("readable-stream");M.exports=class extends g{constructor(p,x={}){super(x),"object"==typeof p&&(p=(x=p).size),this.size=p||512;const{nopad:r,zeroPadding:c=!0}=x;this._zeroPadding=!r&&!!c,this._buffered=[],this._bufferedBytes=0}_transform(p,x,r){for(this._bufferedBytes+=p.length,this._buffered.push(p);this._bufferedBytes>=this.size;){this._bufferedBytes-=this.size;const c=[];for(let f=0;f<this.size;){const n=this._buffered.shift();if(f+n.length<=this.size)c.push(n),f+=n.length;else{const t=this.size-f;c.push(n.slice(0,t)),f+=t,this._buffered.unshift(n.slice(t))}}this.push(h.concat(c,this.size))}r()}_flush(){if(this._bufferedBytes&&this._zeroPadding){const p=h.alloc(this.size-this._bufferedBytes);this._buffered.push(p),this.push(h.concat(this._buffered)),this._buffered=null}else this._bufferedBytes&&(this.push(h.concat(this._buffered)),this._buffered=null);this.push(null)}}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,"readable-stream":240}],39:[function(v,M){!function(h,g){"use strict";function p(y,C){if(!y)throw new Error(C||"Assertion failed")}function x(y,C){y.super_=C;var L=function(){};L.prototype=C.prototype,y.prototype=new L,y.prototype.constructor=y}function r(y,C,L){return r.isBN(y)?y:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==y&&(("le"===C||"be"===C)&&(L=C,C=10),this._init(y||0,C||10,L||"be"))))}function c(y,C){var L=y.charCodeAt(C);return 48<=L&&57>=L?L-48:65<=L&&70>=L?L-55:97<=L&&102>=L?L-87:void p(!1,"Invalid character in "+y)}function f(y,C,L){var O=c(y,L);return L-1>=C&&(O|=c(y,L-1)<<4),O}function n(y,C,L,O){for(var Ze,oe=0,$=0,ue=re(y.length,L),qe=C;qe<ue;qe++)oe*=O,$=49<=(Ze=y.charCodeAt(qe)-48)?Ze-49+10:17<=Ze?Ze-17+10:Ze,p(0<=Ze&&$<O,"Invalid character"),oe+=$;return oe}function t(y,C){y.words=C.words,y.length=C.length,y.negative=C.negative,y.red=C.red}function i(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}function u(y,C,L){L.negative=C.negative^y.negative;var O=0|y.length+C.length;L.length=O,O=0|O-1;var oe=0|y.words[0],$=0|C.words[0],ue=oe*$,Ze=0|ue/67108864;L.words[0]=67108863&ue;for(var Ve=1;Ve<O;Ve++){for(var tt=Ze>>>26,at=67108863&Ze,zt=re(Ve,C.length-1),Wt=fe(0,Ve-y.length+1);Wt<=zt;Wt++)tt+=0|(ue=(oe=0|y.words[0|Ve-Wt])*($=0|C.words[Wt])+at)/67108864,at=67108863&ue;L.words[Ve]=0|at,Ze=0|tt}return 0===Ze?L.length--:L.words[Ve]=0|Ze,L._strip()}function o(y,C,L){L.negative=C.negative^y.negative,L.length=y.length+C.length;for(var ue,O=0,oe=0,$=0;$<L.length-1;$++){ue=oe,oe=0;for(var qe=67108863&O,Ze=re($,C.length-1),Ve=fe(0,$-y.length+1);Ve<=Ze;Ve++){var Wt=(0|y.words[$-Ve])*(0|C.words[Ve]),Jt=67108863&Wt;qe=67108863&(Jt=0|Jt+qe),oe+=(ue=0|(ue=0|ue+(0|Wt/67108864))+(Jt>>>26))>>>26,ue&=67108863}L.words[$]=qe,O=ue,ue=oe}return 0===O?L.length--:L.words[$]=O,L._strip()}function l(y,C,L){return o(y,C,L)}function d(y,C){this.x=y,this.y=C}function w(y,C){this.name=y,this.p=new r(C,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function I(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function F(y){if("string"==typeof y){var C=r._prime(y);this.m=C.p,this.prime=C}else p(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}function q(y){F.call(this,y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}var K;"object"==typeof h?h.exports=r:g.BN=r,r.BN=r,r.wordSize=26;try{K="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:v("buffer").Buffer}catch(y){}if(r.isBN=function(y){return y instanceof r||null!==y&&"object"==typeof y&&y.constructor.wordSize===r.wordSize&&Array.isArray(y.words)},r.max=function(y,C){return 0<y.cmp(C)?y:C},r.min=function(y,C){return 0>y.cmp(C)?y:C},r.prototype._init=function(y,C,L){if("number"==typeof y)return this._initNumber(y,C,L);if("object"==typeof y)return this._initArray(y,C,L);"hex"===C&&(C=16),p(C===(0|C)&&2<=C&&36>=C);var O=0;"-"===(y=y.toString().replace(/\s+/g,""))[0]&&(O++,this.negative=1),O<y.length&&(16===C?this._parseHex(y,O,L):(this._parseBase(y,C,O),"le"===L&&this._initArray(this.toArray(),C,L)))},r.prototype._initNumber=function(y,C,L){0>y&&(this.negative=1,y=-y),67108864>y?(this.words=[67108863&y],this.length=1):4503599627370496>y?(this.words=[67108863&y,67108863&y/67108864],this.length=2):(p(9007199254740992>y),this.words=[67108863&y,67108863&y/67108864,1],this.length=3),"le"!==L||this._initArray(this.toArray(),C,L)},r.prototype._initArray=function(y,C,L){if(p("number"==typeof y.length),0>=y.length)return this.words=[0],this.length=1,this;this.length=ge(y.length/3),this.words=Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var $,ue,oe=0;if("be"===L)for(O=y.length-1,$=0;0<=O;O-=3)this.words[$]|=67108863&(ue=y[O]|y[O-1]<<8|y[O-2]<<16)<<oe,this.words[$+1]=67108863&ue>>>26-oe,26<=(oe+=24)&&(oe-=26,$++);else if("le"===L)for(O=0,$=0;O<y.length;O+=3)this.words[$]|=67108863&(ue=y[O]|y[O+1]<<8|y[O+2]<<16)<<oe,this.words[$+1]=67108863&ue>>>26-oe,26<=(oe+=24)&&(oe-=26,$++);return this._strip()},r.prototype._parseHex=function(y,C,L){this.length=ge((y.length-C)/6),this.words=Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var ue,oe=0,$=0;if("be"===L)for(O=y.length-1;O>=C;O-=2)ue=f(y,C,O)<<oe,this.words[$]|=67108863&ue,18<=oe?(oe-=18,this.words[$+=1]|=ue>>>26):oe+=8;else for(O=(y.length-C)%2==0?C+1:C;O<y.length;O+=2)ue=f(y,C,O)<<oe,this.words[$]|=67108863&ue,18<=oe?(oe-=18,this.words[$+=1]|=ue>>>26):oe+=8;this._strip()},r.prototype._parseBase=function(y,C,L){this.words=[0],this.length=1;for(var O=0,oe=1;67108863>=oe;oe*=C)O++;O--,oe=0|oe/C;for(var $=y.length-L,ue=$%O,qe=re($,$-ue)+L,Ze=0,Ve=L;Ve<qe;Ve+=O)Ze=n(y,Ve,Ve+O,C),this.imuln(oe),67108864>this.words[0]+Ze?this.words[0]+=Ze:this._iaddn(Ze);if(0!==ue){var tt=1;for(Ze=n(y,Ve,y.length,C),Ve=0;Ve<ue;Ve++)tt*=C;this.imuln(tt),67108864>this.words[0]+Ze?this.words[0]+=Ze:this._iaddn(Ze)}this._strip()},r.prototype.copy=function(y){y.words=Array(this.length);for(var C=0;C<this.length;C++)y.words[C]=this.words[C];y.length=this.length,y.negative=this.negative,y.red=this.red},r.prototype._move=function(y){t(y,this)},r.prototype.clone=function(){var y=new r(null);return this.copy(y),y},r.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},r.prototype._strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},r.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{r.prototype[Symbol.for("nodejs.util.inspect.custom")]=i}catch(y){r.prototype.inspect=i}else r.prototype.inspect=i;var he=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ae=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],xe=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];r.prototype.toString=function(y,C){var L;if(C=0|C||1,16===(y=y||10)||"hex"===y){L="";for(var O=0,oe=0,$=0;$<this.length;$++){var ue=this.words[$],qe=(16777215&(ue<<O|oe)).toString(16);L=0!=(oe=16777215&ue>>>24-O)||$!==this.length-1?he[6-qe.length]+qe+L:qe+L,26<=(O+=2)&&(O-=26,$--)}for(0!==oe&&(L=oe.toString(16)+L);L.length%C!=0;)L="0"+L;return 0!==this.negative&&(L="-"+L),L}if(y===(0|y)&&2<=y&&36>=y){var Ze=Ae[y],Ve=xe[y];L="";var tt=this.clone();for(tt.negative=0;!tt.isZero();){var at=tt.modrn(Ve).toString(y);L=(tt=tt.idivn(Ve)).isZero()?at+L:he[Ze-at.length]+at+L}for(this.isZero()&&(L="0"+L);L.length%C!=0;)L="0"+L;return 0!==this.negative&&(L="-"+L),L}p(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var y=this.words[0];return 2===this.length?y+=67108864*this.words[1]:3===this.length&&1===this.words[2]?y+=4503599627370496+67108864*this.words[1]:2<this.length&&p(!1,"Number can only safely store up to 53 bits"),0===this.negative?y:-y},r.prototype.toJSON=function(){return this.toString(16,2)},K&&(r.prototype.toBuffer=function(y,C){return this.toArrayLike(K,y,C)}),r.prototype.toArray=function(y,C){return this.toArrayLike(Array,y,C)},r.prototype.toArrayLike=function(y,C,L){this._strip();var O=this.byteLength(),oe=L||fe(1,O);p(O<=oe,"byte array longer than desired length"),p(0<oe,"Requested array length <= 0");var $=function(y,C){return y.allocUnsafe?y.allocUnsafe(C):new y(C)}(y,oe);return this["_toArrayLike"+("le"===C?"LE":"BE")]($,O),$},r.prototype._toArrayLikeLE=function(y){for(var $,C=0,L=0,O=0,oe=0;O<this.length;O++)y[C++]=255&($=this.words[O]<<oe|L),C<y.length&&(y[C++]=255&$>>8),C<y.length&&(y[C++]=255&$>>16),6==oe?(C<y.length&&(y[C++]=255&$>>24),L=0,oe=0):(L=$>>>24,oe+=2);if(C<y.length)for(y[C++]=L;C<y.length;)y[C++]=0},r.prototype._toArrayLikeBE=function(y){for(var $,C=y.length-1,L=0,O=0,oe=0;O<this.length;O++)y[C--]=255&($=this.words[O]<<oe|L),0<=C&&(y[C--]=255&$>>8),0<=C&&(y[C--]=255&$>>16),6==oe?(0<=C&&(y[C--]=255&$>>24),L=0,oe=0):(L=$>>>24,oe+=2);if(0<=C)for(y[C--]=L;0<=C;)y[C--]=0},r.prototype._countBits=ne?function(y){return 32-ne(y)}:function(y){var C=y,L=0;return 4096<=C&&(L+=13,C>>>=13),64<=C&&(L+=7,C>>>=7),8<=C&&(L+=4,C>>>=4),2<=C&&(L+=2,C>>>=2),L+C},r.prototype._zeroBits=function(y){if(0===y)return 26;var C=y,L=0;return 0==(8191&C)&&(L+=13,C>>>=13),0==(127&C)&&(L+=7,C>>>=7),0==(15&C)&&(L+=4,C>>>=4),0==(3&C)&&(L+=2,C>>>=2),0==(1&C)&&L++,L},r.prototype.bitLength=function(){var C=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+C},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var L,y=0,C=0;C<this.length&&(y+=L=this._zeroBits(this.words[C]),26===L);C++);return y},r.prototype.byteLength=function(){return ge(this.bitLength()/8)},r.prototype.toTwos=function(y){return 0===this.negative?this.clone():this.abs().inotn(y).iaddn(1)},r.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return 0!==this.negative},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var C=0;C<y.length;C++)this.words[C]|=y.words[C];return this._strip()},r.prototype.ior=function(y){return p(0==(this.negative|y.negative)),this.iuor(y)},r.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},r.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},r.prototype.iuand=function(y){for(var C=this.length>y.length?y:this,L=0;L<C.length;L++)this.words[L]&=y.words[L];return this.length=C.length,this._strip()},r.prototype.iand=function(y){return p(0==(this.negative|y.negative)),this.iuand(y)},r.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},r.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},r.prototype.iuxor=function(y){var C,L;this.length>y.length?(C=this,L=y):(C=y,L=this);for(var O=0;O<L.length;O++)this.words[O]=C.words[O]^L.words[O];if(this!==C)for(;O<C.length;O++)this.words[O]=C.words[O];return this.length=C.length,this._strip()},r.prototype.ixor=function(y){return p(0==(this.negative|y.negative)),this.iuxor(y)},r.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},r.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},r.prototype.inotn=function(y){p("number"==typeof y&&0<=y);var C=0|ge(y/26),L=y%26;this._expand(C),0<L&&C--;for(var O=0;O<C;O++)this.words[O]=67108863&~this.words[O];return 0<L&&(this.words[O]=~this.words[O]&67108863>>26-L),this._strip()},r.prototype.notn=function(y){return this.clone().inotn(y)},r.prototype.setn=function(y,C){p("number"==typeof y&&0<=y);var L=0|y/26,O=y%26;return this._expand(L+1),C?this.words[L]|=1<<O:this.words[L]&=~(1<<O),this._strip()},r.prototype.iadd=function(y){var C,L,O;if(0!==this.negative&&0===y.negative)return this.negative=0,C=this.isub(y),this.negative^=1,this._normSign();if(0===this.negative&&0!==y.negative)return y.negative=0,C=this.isub(y),y.negative=1,C._normSign();this.length>y.length?(L=this,O=y):(L=y,O=this);for(var oe=0,$=0;$<O.length;$++)this.words[$]=67108863&(C=(0|L.words[$])+(0|O.words[$])+oe),oe=C>>>26;for(;0!==oe&&$<L.length;$++)this.words[$]=67108863&(C=(0|L.words[$])+oe),oe=C>>>26;if(this.length=L.length,0!==oe)this.words[this.length]=oe,this.length++;else if(L!==this)for(;$<L.length;$++)this.words[$]=L.words[$];return this},r.prototype.add=function(y){var C;return 0!==y.negative&&0===this.negative?(y.negative=0,C=this.sub(y),y.negative^=1,C):0===y.negative&&0!==this.negative?(this.negative=0,C=y.sub(this),this.negative=1,C):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},r.prototype.isub=function(y){if(0!==y.negative){y.negative=0;var C=this.iadd(y);return y.negative=1,C._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var O,oe,L=this.cmp(y);if(0===L)return this.negative=0,this.length=1,this.words[0]=0,this;0<L?(O=this,oe=y):(O=y,oe=this);for(var $=0,ue=0;ue<oe.length;ue++)$=(C=(0|O.words[ue])-(0|oe.words[ue])+$)>>26,this.words[ue]=67108863&C;for(;0!==$&&ue<O.length;ue++)$=(C=(0|O.words[ue])+$)>>26,this.words[ue]=67108863&C;if(0===$&&ue<O.length&&O!==this)for(;ue<O.length;ue++)this.words[ue]=O.words[ue];return this.length=fe(this.length,ue),O!==this&&(this.negative=1),this._strip()},r.prototype.sub=function(y){return this.clone().isub(y)};var N=function(y,C,L){var pe,W,be,O=y.words,oe=C.words,$=L.words,ue=0,qe=0|O[0],Ze=8191&qe,Ve=qe>>>13,tt=0|O[1],at=8191&tt,zt=tt>>>13,Wt=0|O[2],Jt=8191&Wt,Ye=Wt>>>13,st=0|O[3],ft=8191&st,Y=st>>>13,de=0|O[4],X=8191&de,ae=de>>>13,Je=0|O[5],ce=8191&Je,Ee=Je>>>13,$e=0|O[6],nt=8191&$e,ct=$e>>>13,Ut=0|O[7],Ht=8191&Ut,Dt=Ut>>>13,Xt=0|O[8],Gt=8191&Xt,bn=Xt>>>13,Nn=0|O[9],En=8191&Nn,Cn=Nn>>>13,Bn=0|oe[0],_t=8191&Bn,Xn=Bn>>>13,zn=0|oe[1],Fn=8191&zn,Zn=zn>>>13,vr=0|oe[2],nn=8191&vr,mn=vr>>>13,Hn=0|oe[3],An=8191&Hn,tr=Hn>>>13,Rr=0|oe[4],ir=8191&Rr,nr=Rr>>>13,$t=0|oe[5],Ne=8191&$t,Zt=$t>>>13,sr=0|oe[6],_n=8191&sr,Vn=sr>>>13,wr=0|oe[7],jn=8191&wr,Kn=wr>>>13,er=0|oe[8],Gn=8191&er,Yn=er>>>13,et=0|oe[9],G=8191&et,ee=et>>>13;L.negative=y.negative^C.negative,L.length=19;var Bt=0|(0|ue+(pe=_(Ze,_t)))+((8191&(W=0|(W=_(Ze,Xn))+_(Ve,_t)))<<13);ue=0|(0|(be=_(Ve,Xn))+(W>>>13))+(Bt>>>26),Bt&=67108863,pe=_(at,_t),W=0|(W=_(at,Xn))+_(zt,_t),be=_(zt,Xn);var Pt=0|(0|ue+(pe=0|pe+_(Ze,Fn)))+((8191&(W=0|(W=0|W+_(Ze,Zn))+_(Ve,Fn)))<<13);ue=0|(0|(be=0|be+_(Ve,Zn))+(W>>>13))+(Pt>>>26),Pt&=67108863,pe=_(Jt,_t),W=0|(W=_(Jt,Xn))+_(Ye,_t),be=_(Ye,Xn),pe=0|pe+_(at,Fn),W=0|(W=0|W+_(at,Zn))+_(zt,Fn),be=0|be+_(zt,Zn);var dn=0|(0|ue+(pe=0|pe+_(Ze,nn)))+((8191&(W=0|(W=0|W+_(Ze,mn))+_(Ve,nn)))<<13);ue=0|(0|(be=0|be+_(Ve,mn))+(W>>>13))+(dn>>>26),dn&=67108863,pe=_(ft,_t),W=0|(W=_(ft,Xn))+_(Y,_t),be=_(Y,Xn),pe=0|pe+_(Jt,Fn),W=0|(W=0|W+_(Jt,Zn))+_(Ye,Fn),be=0|be+_(Ye,Zn),pe=0|pe+_(at,nn),W=0|(W=0|W+_(at,mn))+_(zt,nn),be=0|be+_(zt,mn);var Mn=0|(0|ue+(pe=0|pe+_(Ze,An)))+((8191&(W=0|(W=0|W+_(Ze,tr))+_(Ve,An)))<<13);ue=0|(0|(be=0|be+_(Ve,tr))+(W>>>13))+(Mn>>>26),Mn&=67108863,pe=_(X,_t),W=0|(W=_(X,Xn))+_(ae,_t),be=_(ae,Xn),pe=0|pe+_(ft,Fn),W=0|(W=0|W+_(ft,Zn))+_(Y,Fn),be=0|be+_(Y,Zn),pe=0|pe+_(Jt,nn),W=0|(W=0|W+_(Jt,mn))+_(Ye,nn),be=0|be+_(Ye,mn),pe=0|pe+_(at,An),W=0|(W=0|W+_(at,tr))+_(zt,An),be=0|be+_(zt,tr);var fn=0|(0|ue+(pe=0|pe+_(Ze,ir)))+((8191&(W=0|(W=0|W+_(Ze,nr))+_(Ve,ir)))<<13);ue=0|(0|(be=0|be+_(Ve,nr))+(W>>>13))+(fn>>>26),fn&=67108863,pe=_(ce,_t),W=0|(W=_(ce,Xn))+_(Ee,_t),be=_(Ee,Xn),pe=0|pe+_(X,Fn),W=0|(W=0|W+_(X,Zn))+_(ae,Fn),be=0|be+_(ae,Zn),pe=0|pe+_(ft,nn),W=0|(W=0|W+_(ft,mn))+_(Y,nn),be=0|be+_(Y,mn),pe=0|pe+_(Jt,An),W=0|(W=0|W+_(Jt,tr))+_(Ye,An),be=0|be+_(Ye,tr),pe=0|pe+_(at,ir),W=0|(W=0|W+_(at,nr))+_(zt,ir),be=0|be+_(zt,nr);var ln=0|(0|ue+(pe=0|pe+_(Ze,Ne)))+((8191&(W=0|(W=0|W+_(Ze,Zt))+_(Ve,Ne)))<<13);ue=0|(0|(be=0|be+_(Ve,Zt))+(W>>>13))+(ln>>>26),ln&=67108863,pe=_(nt,_t),W=0|(W=_(nt,Xn))+_(ct,_t),be=_(ct,Xn),pe=0|pe+_(ce,Fn),W=0|(W=0|W+_(ce,Zn))+_(Ee,Fn),be=0|be+_(Ee,Zn),pe=0|pe+_(X,nn),W=0|(W=0|W+_(X,mn))+_(ae,nn),be=0|be+_(ae,mn),pe=0|pe+_(ft,An),W=0|(W=0|W+_(ft,tr))+_(Y,An),be=0|be+_(Y,tr),pe=0|pe+_(Jt,ir),W=0|(W=0|W+_(Jt,nr))+_(Ye,ir),be=0|be+_(Ye,nr),pe=0|pe+_(at,Ne),W=0|(W=0|W+_(at,Zt))+_(zt,Ne),be=0|be+_(zt,Zt);var Tn=0|(0|ue+(pe=0|pe+_(Ze,_n)))+((8191&(W=0|(W=0|W+_(Ze,Vn))+_(Ve,_n)))<<13);ue=0|(0|(be=0|be+_(Ve,Vn))+(W>>>13))+(Tn>>>26),Tn&=67108863,pe=_(Ht,_t),W=0|(W=_(Ht,Xn))+_(Dt,_t),be=_(Dt,Xn),pe=0|pe+_(nt,Fn),W=0|(W=0|W+_(nt,Zn))+_(ct,Fn),be=0|be+_(ct,Zn),pe=0|pe+_(ce,nn),W=0|(W=0|W+_(ce,mn))+_(Ee,nn),be=0|be+_(Ee,mn),pe=0|pe+_(X,An),W=0|(W=0|W+_(X,tr))+_(ae,An),be=0|be+_(ae,tr),pe=0|pe+_(ft,ir),W=0|(W=0|W+_(ft,nr))+_(Y,ir),be=0|be+_(Y,nr),pe=0|pe+_(Jt,Ne),W=0|(W=0|W+_(Jt,Zt))+_(Ye,Ne),be=0|be+_(Ye,Zt),pe=0|pe+_(at,_n),W=0|(W=0|W+_(at,Vn))+_(zt,_n),be=0|be+_(zt,Vn);var Qn=0|(0|ue+(pe=0|pe+_(Ze,jn)))+((8191&(W=0|(W=0|W+_(Ze,Kn))+_(Ve,jn)))<<13);ue=0|(0|(be=0|be+_(Ve,Kn))+(W>>>13))+(Qn>>>26),Qn&=67108863,pe=_(Gt,_t),W=0|(W=_(Gt,Xn))+_(bn,_t),be=_(bn,Xn),pe=0|pe+_(Ht,Fn),W=0|(W=0|W+_(Ht,Zn))+_(Dt,Fn),be=0|be+_(Dt,Zn),pe=0|pe+_(nt,nn),W=0|(W=0|W+_(nt,mn))+_(ct,nn),be=0|be+_(ct,mn),pe=0|pe+_(ce,An),W=0|(W=0|W+_(ce,tr))+_(Ee,An),be=0|be+_(Ee,tr),pe=0|pe+_(X,ir),W=0|(W=0|W+_(X,nr))+_(ae,ir),be=0|be+_(ae,nr),pe=0|pe+_(ft,Ne),W=0|(W=0|W+_(ft,Zt))+_(Y,Ne),be=0|be+_(Y,Zt),pe=0|pe+_(Jt,_n),W=0|(W=0|W+_(Jt,Vn))+_(Ye,_n),be=0|be+_(Ye,Vn),pe=0|pe+_(at,jn),W=0|(W=0|W+_(at,Kn))+_(zt,jn),be=0|be+_(zt,Kn);var ur=0|(0|ue+(pe=0|pe+_(Ze,Gn)))+((8191&(W=0|(W=0|W+_(Ze,Yn))+_(Ve,Gn)))<<13);ue=0|(0|(be=0|be+_(Ve,Yn))+(W>>>13))+(ur>>>26),ur&=67108863,pe=_(En,_t),W=0|(W=_(En,Xn))+_(Cn,_t),be=_(Cn,Xn),pe=0|pe+_(Gt,Fn),W=0|(W=0|W+_(Gt,Zn))+_(bn,Fn),be=0|be+_(bn,Zn),pe=0|pe+_(Ht,nn),W=0|(W=0|W+_(Ht,mn))+_(Dt,nn),be=0|be+_(Dt,mn),pe=0|pe+_(nt,An),W=0|(W=0|W+_(nt,tr))+_(ct,An),be=0|be+_(ct,tr),pe=0|pe+_(ce,ir),W=0|(W=0|W+_(ce,nr))+_(Ee,ir),be=0|be+_(Ee,nr),pe=0|pe+_(X,Ne),W=0|(W=0|W+_(X,Zt))+_(ae,Ne),be=0|be+_(ae,Zt),pe=0|pe+_(ft,_n),W=0|(W=0|W+_(ft,Vn))+_(Y,_n),be=0|be+_(Y,Vn),pe=0|pe+_(Jt,jn),W=0|(W=0|W+_(Jt,Kn))+_(Ye,jn),be=0|be+_(Ye,Kn),pe=0|pe+_(at,Gn),W=0|(W=0|W+_(at,Yn))+_(zt,Gn),be=0|be+_(zt,Yn);var yr=0|(0|ue+(pe=0|pe+_(Ze,G)))+((8191&(W=0|(W=0|W+_(Ze,ee))+_(Ve,G)))<<13);ue=0|(0|(be=0|be+_(Ve,ee))+(W>>>13))+(yr>>>26),yr&=67108863,pe=_(En,Fn),W=0|(W=_(En,Zn))+_(Cn,Fn),be=_(Cn,Zn),pe=0|pe+_(Gt,nn),W=0|(W=0|W+_(Gt,mn))+_(bn,nn),be=0|be+_(bn,mn),pe=0|pe+_(Ht,An),W=0|(W=0|W+_(Ht,tr))+_(Dt,An),be=0|be+_(Dt,tr),pe=0|pe+_(nt,ir),W=0|(W=0|W+_(nt,nr))+_(ct,ir),be=0|be+_(ct,nr),pe=0|pe+_(ce,Ne),W=0|(W=0|W+_(ce,Zt))+_(Ee,Ne),be=0|be+_(Ee,Zt),pe=0|pe+_(X,_n),W=0|(W=0|W+_(X,Vn))+_(ae,_n),be=0|be+_(ae,Vn),pe=0|pe+_(ft,jn),W=0|(W=0|W+_(ft,Kn))+_(Y,jn),be=0|be+_(Y,Kn),pe=0|pe+_(Jt,Gn),W=0|(W=0|W+_(Jt,Yn))+_(Ye,Gn),be=0|be+_(Ye,Yn);var _r=0|(0|ue+(pe=0|pe+_(at,G)))+((8191&(W=0|(W=0|W+_(at,ee))+_(zt,G)))<<13);ue=0|(0|(be=0|be+_(zt,ee))+(W>>>13))+(_r>>>26),_r&=67108863,pe=_(En,nn),W=0|(W=_(En,mn))+_(Cn,nn),be=_(Cn,mn),pe=0|pe+_(Gt,An),W=0|(W=0|W+_(Gt,tr))+_(bn,An),be=0|be+_(bn,tr),pe=0|pe+_(Ht,ir),W=0|(W=0|W+_(Ht,nr))+_(Dt,ir),be=0|be+_(Dt,nr),pe=0|pe+_(nt,Ne),W=0|(W=0|W+_(nt,Zt))+_(ct,Ne),be=0|be+_(ct,Zt),pe=0|pe+_(ce,_n),W=0|(W=0|W+_(ce,Vn))+_(Ee,_n),be=0|be+_(Ee,Vn),pe=0|pe+_(X,jn),W=0|(W=0|W+_(X,Kn))+_(ae,jn),be=0|be+_(ae,Kn),pe=0|pe+_(ft,Gn),W=0|(W=0|W+_(ft,Yn))+_(Y,Gn),be=0|be+_(Y,Yn);var qr=0|(0|ue+(pe=0|pe+_(Jt,G)))+((8191&(W=0|(W=0|W+_(Jt,ee))+_(Ye,G)))<<13);ue=0|(0|(be=0|be+_(Ye,ee))+(W>>>13))+(qr>>>26),qr&=67108863,pe=_(En,An),W=0|(W=_(En,tr))+_(Cn,An),be=_(Cn,tr),pe=0|pe+_(Gt,ir),W=0|(W=0|W+_(Gt,nr))+_(bn,ir),be=0|be+_(bn,nr),pe=0|pe+_(Ht,Ne),W=0|(W=0|W+_(Ht,Zt))+_(Dt,Ne),be=0|be+_(Dt,Zt),pe=0|pe+_(nt,_n),W=0|(W=0|W+_(nt,Vn))+_(ct,_n),be=0|be+_(ct,Vn),pe=0|pe+_(ce,jn),W=0|(W=0|W+_(ce,Kn))+_(Ee,jn),be=0|be+_(Ee,Kn),pe=0|pe+_(X,Gn),W=0|(W=0|W+_(X,Yn))+_(ae,Gn),be=0|be+_(ae,Yn);var Or=0|(0|ue+(pe=0|pe+_(ft,G)))+((8191&(W=0|(W=0|W+_(ft,ee))+_(Y,G)))<<13);ue=0|(0|(be=0|be+_(Y,ee))+(W>>>13))+(Or>>>26),Or&=67108863,pe=_(En,ir),W=0|(W=_(En,nr))+_(Cn,ir),be=_(Cn,nr),pe=0|pe+_(Gt,Ne),W=0|(W=0|W+_(Gt,Zt))+_(bn,Ne),be=0|be+_(bn,Zt),pe=0|pe+_(Ht,_n),W=0|(W=0|W+_(Ht,Vn))+_(Dt,_n),be=0|be+_(Dt,Vn),pe=0|pe+_(nt,jn),W=0|(W=0|W+_(nt,Kn))+_(ct,jn),be=0|be+_(ct,Kn),pe=0|pe+_(ce,Gn),W=0|(W=0|W+_(ce,Yn))+_(Ee,Gn),be=0|be+_(Ee,Yn);var kr=0|(0|ue+(pe=0|pe+_(X,G)))+((8191&(W=0|(W=0|W+_(X,ee))+_(ae,G)))<<13);ue=0|(0|(be=0|be+_(ae,ee))+(W>>>13))+(kr>>>26),kr&=67108863,pe=_(En,Ne),W=0|(W=_(En,Zt))+_(Cn,Ne),be=_(Cn,Zt),pe=0|pe+_(Gt,_n),W=0|(W=0|W+_(Gt,Vn))+_(bn,_n),be=0|be+_(bn,Vn),pe=0|pe+_(Ht,jn),W=0|(W=0|W+_(Ht,Kn))+_(Dt,jn),be=0|be+_(Dt,Kn),pe=0|pe+_(nt,Gn),W=0|(W=0|W+_(nt,Yn))+_(ct,Gn),be=0|be+_(ct,Yn);var br=0|(0|ue+(pe=0|pe+_(ce,G)))+((8191&(W=0|(W=0|W+_(ce,ee))+_(Ee,G)))<<13);ue=0|(0|(be=0|be+_(Ee,ee))+(W>>>13))+(br>>>26),br&=67108863,pe=_(En,_n),W=0|(W=_(En,Vn))+_(Cn,_n),be=_(Cn,Vn),pe=0|pe+_(Gt,jn),W=0|(W=0|W+_(Gt,Kn))+_(bn,jn),be=0|be+_(bn,Kn),pe=0|pe+_(Ht,Gn),W=0|(W=0|W+_(Ht,Yn))+_(Dt,Gn),be=0|be+_(Dt,Yn);var ri=0|(0|ue+(pe=0|pe+_(nt,G)))+((8191&(W=0|(W=0|W+_(nt,ee))+_(ct,G)))<<13);ue=0|(0|(be=0|be+_(ct,ee))+(W>>>13))+(ri>>>26),ri&=67108863,pe=_(En,jn),W=0|(W=_(En,Kn))+_(Cn,jn),be=_(Cn,Kn),pe=0|pe+_(Gt,Gn),W=0|(W=0|W+_(Gt,Yn))+_(bn,Gn),be=0|be+_(bn,Yn);var ti=0|(0|ue+(pe=0|pe+_(Ht,G)))+((8191&(W=0|(W=0|W+_(Ht,ee))+_(Dt,G)))<<13);ue=0|(0|(be=0|be+_(Dt,ee))+(W>>>13))+(ti>>>26),ti&=67108863,pe=_(En,Gn),W=0|(W=_(En,Yn))+_(Cn,Gn),be=_(Cn,Yn);var Dr=0|(0|ue+(pe=0|pe+_(Gt,G)))+((8191&(W=0|(W=0|W+_(Gt,ee))+_(bn,G)))<<13);ue=0|(0|(be=0|be+_(bn,ee))+(W>>>13))+(Dr>>>26),Dr&=67108863;var Jn=0|(0|ue+(pe=_(En,G)))+((8191&(W=0|(W=_(En,ee))+_(Cn,G)))<<13);return ue=0|(0|(be=_(Cn,ee))+(W>>>13))+(Jn>>>26),Jn&=67108863,$[0]=Bt,$[1]=Pt,$[2]=dn,$[3]=Mn,$[4]=fn,$[5]=ln,$[6]=Tn,$[7]=Qn,$[8]=ur,$[9]=yr,$[10]=_r,$[11]=qr,$[12]=Or,$[13]=kr,$[14]=br,$[15]=ri,$[16]=ti,$[17]=Dr,$[18]=Jn,0!==ue&&($[19]=ue,L.length++),L};_||(N=u),r.prototype.mulTo=function(y,C){var L=this.length+y.length;return 10===this.length&&10===y.length?N(this,y,C):63>L?u(this,y,C):1024>L?o(this,y,C):l(this,y,C)},d.prototype.makeRBT=function(y){for(var C=Array(y),L=r.prototype._countBits(y)-1,O=0;O<y;O++)C[O]=this.revBin(O,L,y);return C},d.prototype.revBin=function(y,C,L){if(0===y||y===L-1)return y;for(var O=0,oe=0;oe<C;oe++)O|=(1&y)<<C-oe-1,y>>=1;return O},d.prototype.permute=function(y,C,L,O,oe,$){for(var ue=0;ue<$;ue++)O[ue]=C[y[ue]],oe[ue]=L[y[ue]]},d.prototype.transform=function(y,C,L,O,oe,$){this.permute($,y,C,L,O,oe);for(var ue=1;ue<oe;ue<<=1)for(var qe=ue<<1,Ze=Fe(2*Oe/qe),Ve=Z(2*Oe/qe),tt=0;tt<oe;tt+=qe)for(var at=Ze,zt=Ve,Wt=0;Wt<ue;Wt++){var Jt=L[tt+Wt],Ye=O[tt+Wt],st=L[tt+Wt+ue],ft=O[tt+Wt+ue],Y=at*st-zt*ft;ft=at*ft+zt*st,L[tt+Wt]=Jt+(st=Y),O[tt+Wt]=Ye+ft,L[tt+Wt+ue]=Jt-st,O[tt+Wt+ue]=Ye-ft,Wt!==qe&&(Y=Ze*at-Ve*zt,zt=Ze*zt+Ve*at,at=Y)}},d.prototype.guessLen13b=function(y,C){var L=1|fe(C,y),O=1&L,oe=0;for(L=0|L/2;L;L>>>=1)oe++;return 1<<oe+1+O},d.prototype.conjugate=function(y,C,L){if(!(1>=L))for(var oe,O=0;O<L/2;O++)oe=y[O],y[O]=y[L-O-1],y[L-O-1]=oe,oe=C[O],C[O]=-C[L-O-1],C[L-O-1]=-oe},d.prototype.normalize13b=function(y,C){for(var oe,L=0,O=0;O<C/2;O++)oe=8192*bt(y[2*O+1]/C)+bt(y[2*O]/C)+L,y[O]=67108863&oe,L=67108864>oe?0:0|oe/67108864;return y},d.prototype.convert13b=function(y,C,L,O){for(var oe=0,$=0;$<C;$++)L[2*$]=8191&(oe+=0|y[$]),L[2*$+1]=8191&(oe>>>=13),oe>>>=13;for($=2*C;$<O;++$)L[$]=0;p(0===oe),p(0==(-8192&oe))},d.prototype.stub=function(y){for(var C=Array(y),L=0;L<y;L++)C[L]=0;return C},d.prototype.mulp=function(y,C,L){var O=2*this.guessLen13b(y.length,C.length),oe=this.makeRBT(O),$=this.stub(O),ue=Array(O),qe=Array(O),Ze=Array(O),Ve=Array(O),tt=Array(O),at=Array(O),zt=L.words;zt.length=O,this.convert13b(y.words,y.length,ue,O),this.convert13b(C.words,C.length,Ve,O),this.transform(ue,$,qe,Ze,O,oe),this.transform(Ve,$,tt,at,O,oe);for(var Jt,Wt=0;Wt<O;Wt++)Jt=qe[Wt]*tt[Wt]-Ze[Wt]*at[Wt],Ze[Wt]=qe[Wt]*at[Wt]+Ze[Wt]*tt[Wt],qe[Wt]=Jt;return this.conjugate(qe,Ze,O),this.transform(qe,Ze,zt,$,O,oe),this.conjugate(zt,$,O),this.normalize13b(zt,O),L.negative=y.negative^C.negative,L.length=y.length+C.length,L._strip()},r.prototype.mul=function(y){var C=new r(null);return C.words=Array(this.length+y.length),this.mulTo(y,C)},r.prototype.mulf=function(y){var C=new r(null);return C.words=Array(this.length+y.length),l(this,y,C)},r.prototype.imul=function(y){return this.clone().mulTo(y,this)},r.prototype.imuln=function(y){var C=0>y;C&&(y=-y),p("number"==typeof y),p(67108864>y);for(var L=0,O=0;O<this.length;O++){var oe=(0|this.words[O])*y,$=(67108863&oe)+(67108863&L);L>>=26,L+=0|oe/67108864,L+=$>>>26,this.words[O]=67108863&$}return 0!==L&&(this.words[O]=L,this.length++),C?this.ineg():this},r.prototype.muln=function(y){return this.clone().imuln(y)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(y){var C=function s(y){for(var C=Array(y.bitLength()),L=0;L<C.length;L++)C[L]=1&y.words[0|L/26]>>>L%26;return C}(y);if(0===C.length)return new r(1);for(var L=this,O=0;O<C.length&&0===C[O];O++,L=L.sqr());if(++O<C.length)for(var oe=L.sqr();O<C.length;O++,oe=oe.sqr())0!==C[O]&&(L=L.mul(oe));return L},r.prototype.iushln=function(y){p("number"==typeof y&&0<=y);var O,C=y%26,L=(y-C)/26;if(0!=C){var oe=0;for(O=0;O<this.length;O++){var $=this.words[O]&67108863>>>26-C<<26-C;this.words[O]=(0|this.words[O])-$<<C|oe,oe=$>>>26-C}oe&&(this.words[O]=oe,this.length++)}if(0!==L){for(O=this.length-1;0<=O;O--)this.words[O+L]=this.words[O];for(O=0;O<L;O++)this.words[O]=0;this.length+=L}return this._strip()},r.prototype.ishln=function(y){return p(0===this.negative),this.iushln(y)},r.prototype.iushrn=function(y,C,L){p("number"==typeof y&&0<=y);var O=C?(C-C%26)/26:0,oe=y%26,$=re((y-oe)/26,this.length),ue=L;if(O=fe(0,O-=$),ue){for(var qe=0;qe<$;qe++)ue.words[qe]=this.words[qe];ue.length=$}if(0!==$)if(this.length>$)for(this.length-=$,qe=0;qe<this.length;qe++)this.words[qe]=this.words[qe+$];else this.words[0]=0,this.length=1;var Ze=0;for(qe=this.length-1;0<=qe&&(0!==Ze||qe>=O);qe--){var Ve=0|this.words[qe];this.words[qe]=Ze<<26-oe|Ve>>>oe,Ze=Ve&(67108863^67108863>>>oe<<oe)}return ue&&0!==Ze&&(ue.words[ue.length++]=Ze),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},r.prototype.ishrn=function(y,C,L){return p(0===this.negative),this.iushrn(y,C,L)},r.prototype.shln=function(y){return this.clone().ishln(y)},r.prototype.ushln=function(y){return this.clone().iushln(y)},r.prototype.shrn=function(y){return this.clone().ishrn(y)},r.prototype.ushrn=function(y){return this.clone().iushrn(y)},r.prototype.testn=function(y){p("number"==typeof y&&0<=y);var C=y%26,L=(y-C)/26;return!(this.length<=L||!(this.words[L]&1<<C))},r.prototype.imaskn=function(y){p("number"==typeof y&&0<=y);var C=y%26,L=(y-C)/26;return p(0===this.negative,"imaskn works only with positive numbers"),this.length<=L?this:(0!=C&&L++,this.length=re(L,this.length),0!=C&&(this.words[this.length-1]&=67108863^67108863>>>C<<C),this._strip())},r.prototype.maskn=function(y){return this.clone().imaskn(y)},r.prototype.iaddn=function(y){return p("number"==typeof y),p(67108864>y),0>y?this.isubn(-y):0===this.negative?this._iaddn(y):1===this.length&&(0|this.words[0])<=y?(this.words[0]=y-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this)},r.prototype._iaddn=function(y){this.words[0]+=y;for(var C=0;C<this.length&&67108864<=this.words[C];C++)this.words[C]-=67108864,C==this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=fe(this.length,C+1),this},r.prototype.isubn=function(y){if(p("number"==typeof y),p(67108864>y),0>y)return this.iaddn(-y);if(0!==this.negative)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&0>this.words[C];C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},r.prototype.addn=function(y){return this.clone().iaddn(y)},r.prototype.subn=function(y){return this.clone().isubn(y)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(y,C,L){var oe;this._expand(y.length+L);var ue,$=0;for(oe=0;oe<y.length;oe++){ue=(0|this.words[oe+L])+$;var qe=(0|y.words[oe])*C;$=((ue-=67108863&qe)>>26)-(0|qe/67108864),this.words[oe+L]=67108863&ue}for(;oe<this.length-L;oe++)$=(ue=(0|this.words[oe+L])+$)>>26,this.words[oe+L]=67108863&ue;if(0===$)return this._strip();for(p(-1===$),$=0,oe=0;oe<this.length;oe++)$=(ue=-(0|this.words[oe])+$)>>26,this.words[oe]=67108863&ue;return this.negative=1,this._strip()},r.prototype._wordDiv=function(y,C){var L,O=this.clone(),oe=y,$=0|oe.words[oe.length-1];0!=(L=26-this._countBits($))&&(oe=oe.ushln(L),O.iushln(L),$=0|oe.words[oe.length-1]);var Ze,qe=O.length-oe.length;if("mod"!==C){(Ze=new r(null)).length=qe+1,Ze.words=Array(Ze.length);for(var Ve=0;Ve<Ze.length;Ve++)Ze.words[Ve]=0}var tt=O.clone()._ishlnsubmul(oe,1,qe);0===tt.negative&&(O=tt,Ze&&(Ze.words[qe]=1));for(var zt,at=qe-1;0<=at;at--){for(zt=re(0|(zt=67108864*(0|O.words[oe.length+at])+(0|O.words[oe.length+at-1]))/$,67108863),O._ishlnsubmul(oe,zt,at);0!==O.negative;)zt--,O.negative=0,O._ishlnsubmul(oe,1,at),O.isZero()||(O.negative^=1);Ze&&(Ze.words[at]=zt)}return Ze&&Ze._strip(),O._strip(),"div"!==C&&0!==L&&O.iushrn(L),{div:Ze||null,mod:O}},r.prototype.divmod=function(y,C,L){return p(!y.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:0!==this.negative&&0===y.negative?($=this.neg().divmod(y,C),"mod"!==C&&(O=$.div.neg()),"div"!==C&&(oe=$.mod.neg(),L&&0!==oe.negative&&oe.iadd(y)),{div:O,mod:oe}):0===this.negative&&0!==y.negative?($=this.divmod(y.neg(),C),"mod"!==C&&(O=$.div.neg()),{div:O,mod:$.mod}):0==(this.negative&y.negative)?y.length>this.length||0>this.cmp(y)?{div:new r(0),mod:this}:1===y.length?"div"===C?{div:this.divn(y.words[0]),mod:null}:"mod"===C?{div:null,mod:new r(this.modrn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new r(this.modrn(y.words[0]))}:this._wordDiv(y,C):($=this.neg().divmod(y.neg(),C),"div"!==C&&(oe=$.mod.neg(),L&&0!==oe.negative&&oe.isub(y)),{div:$.div,mod:oe});var O,oe,$},r.prototype.div=function(y){return this.divmod(y,"div",!1).div},r.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},r.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},r.prototype.divRound=function(y){var C=this.divmod(y);if(C.mod.isZero())return C.div;var L=0===C.div.negative?C.mod:C.mod.isub(y),O=y.ushrn(1),oe=y.andln(1),$=L.cmp(O);return 0>$||1===oe&&0===$?C.div:0===C.div.negative?C.div.iaddn(1):C.div.isubn(1)},r.prototype.modrn=function(y){var C=0>y;C&&(y=-y),p(67108863>=y);for(var L=67108864%y,O=0,oe=this.length-1;0<=oe;oe--)O=(L*O+(0|this.words[oe]))%y;return C?-O:O},r.prototype.modn=function(y){return this.modrn(y)},r.prototype.idivn=function(y){var C=0>y;C&&(y=-y),p(67108863>=y);for(var oe,L=0,O=this.length-1;0<=O;O--)this.words[O]=0|(oe=(0|this.words[O])+67108864*L)/y,L=oe%y;return this._strip(),C?this.ineg():this},r.prototype.divn=function(y){return this.clone().idivn(y)},r.prototype.egcd=function(y){p(0===y.negative),p(!y.isZero());var C=this,L=y.clone();C=0===C.negative?C.clone():C.umod(y);for(var O=new r(1),oe=new r(0),$=new r(0),ue=new r(1),qe=0;C.isEven()&&L.isEven();)C.iushrn(1),L.iushrn(1),++qe;for(var Ze=L.clone(),Ve=C.clone();!C.isZero();){for(var tt=0,at=1;0==(C.words[0]&at)&&26>tt;++tt,at<<=1);if(0<tt)for(C.iushrn(tt);0<tt--;)(O.isOdd()||oe.isOdd())&&(O.iadd(Ze),oe.isub(Ve)),O.iushrn(1),oe.iushrn(1);for(var zt=0,Wt=1;0==(L.words[0]&Wt)&&26>zt;++zt,Wt<<=1);if(0<zt)for(L.iushrn(zt);0<zt--;)($.isOdd()||ue.isOdd())&&($.iadd(Ze),ue.isub(Ve)),$.iushrn(1),ue.iushrn(1);0<=C.cmp(L)?(C.isub(L),O.isub($),oe.isub(ue)):(L.isub(C),$.isub(O),ue.isub(oe))}return{a:$,b:ue,gcd:L.iushln(qe)}},r.prototype._invmp=function(y){p(0===y.negative),p(!y.isZero());var tt,C=this,L=y.clone();C=0===C.negative?C.clone():C.umod(y);for(var O=new r(1),oe=new r(0),$=L.clone();0<C.cmpn(1)&&0<L.cmpn(1);){for(var ue=0,qe=1;0==(C.words[0]&qe)&&26>ue;++ue,qe<<=1);if(0<ue)for(C.iushrn(ue);0<ue--;)O.isOdd()&&O.iadd($),O.iushrn(1);for(var Ze=0,Ve=1;0==(L.words[0]&Ve)&&26>Ze;++Ze,Ve<<=1);if(0<Ze)for(L.iushrn(Ze);0<Ze--;)oe.isOdd()&&oe.iadd($),oe.iushrn(1);0<=C.cmp(L)?(C.isub(L),O.isub(oe)):(L.isub(C),oe.isub(O))}return 0>(tt=0===C.cmpn(1)?O:oe).cmpn(0)&&tt.iadd(y),tt},r.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var C=this.clone(),L=y.clone();C.negative=0,L.negative=0;for(var O=0;C.isEven()&&L.isEven();O++)C.iushrn(1),L.iushrn(1);for(;;){for(;C.isEven();)C.iushrn(1);for(;L.isEven();)L.iushrn(1);var oe=C.cmp(L);if(0>oe){var $=C;C=L,L=$}else if(0===oe||0===L.cmpn(1))break;C.isub(L)}return L.iushln(O)},r.prototype.invm=function(y){return this.egcd(y).a.umod(y)},r.prototype.isEven=function(){return 0==(1&this.words[0])},r.prototype.isOdd=function(){return 1==(1&this.words[0])},r.prototype.andln=function(y){return this.words[0]&y},r.prototype.bincn=function(y){p("number"==typeof y);var C=y%26,L=(y-C)/26,O=1<<C;if(this.length<=L)return this._expand(L+1),this.words[L]|=O,this;for(var ue,oe=O,$=L;0!==oe&&$<this.length;$++)ue=0|this.words[$],oe=(ue+=oe)>>>26,this.words[$]=ue&=67108863;return 0!==oe&&(this.words[$]=oe,this.length++),this},r.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},r.prototype.cmpn=function(y){var L,C=0>y;if(0!==this.negative&&!C)return-1;if(0===this.negative&&C)return 1;if(this._strip(),1<this.length)L=1;else{C&&(y=-y),p(67108863>=y,"Number is too big");var O=0|this.words[0];L=O===y?0:O<y?-1:1}return 0===this.negative?L:0|-L},r.prototype.cmp=function(y){if(0!==this.negative&&0===y.negative)return-1;if(0===this.negative&&0!==y.negative)return 1;var C=this.ucmp(y);return 0===this.negative?C:0|-C},r.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var C=0,L=this.length-1;0<=L;L--){var O=0|this.words[L],oe=0|y.words[L];if(O!=oe){O<oe?C=-1:O>oe&&(C=1);break}}return C},r.prototype.gtn=function(y){return 1===this.cmpn(y)},r.prototype.gt=function(y){return 1===this.cmp(y)},r.prototype.gten=function(y){return 0<=this.cmpn(y)},r.prototype.gte=function(y){return 0<=this.cmp(y)},r.prototype.ltn=function(y){return-1===this.cmpn(y)},r.prototype.lt=function(y){return-1===this.cmp(y)},r.prototype.lten=function(y){return 0>=this.cmpn(y)},r.prototype.lte=function(y){return 0>=this.cmp(y)},r.prototype.eqn=function(y){return 0===this.cmpn(y)},r.prototype.eq=function(y){return 0===this.cmp(y)},r.red=function(y){return new F(y)},r.prototype.toRed=function(y){return p(!this.red,"Already a number in reduction context"),p(0===this.negative,"red works only with positives"),y.convertTo(this)._forceRed(y)},r.prototype.fromRed=function(){return p(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(y){return this.red=y,this},r.prototype.forceRed=function(y){return p(!this.red,"Already a number in reduction context"),this._forceRed(y)},r.prototype.redAdd=function(y){return p(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},r.prototype.redIAdd=function(y){return p(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},r.prototype.redSub=function(y){return p(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},r.prototype.redISub=function(y){return p(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},r.prototype.redShl=function(y){return p(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},r.prototype.redMul=function(y){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},r.prototype.redIMul=function(y){return p(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},r.prototype.redSqr=function(){return p(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return p(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return p(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return p(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return p(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(y){return p(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var U={k256:null,p224:null,p192:null,p25519:null};w.prototype._tmp=function(){var y=new r(null);return y.words=Array(ge(this.n/13)),y},w.prototype.ireduce=function(y){var L,C=y;do{this.split(C,this.tmp),L=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength()}while(L>this.n);var O=L<this.n?-1:C.ucmp(this.p);return 0===O?(C.words[0]=0,C.length=1):0<O?C.isub(this.p):void 0===C.strip?C._strip():C.strip(),C},w.prototype.split=function(y,C){y.iushrn(this.n,0,C)},w.prototype.imulK=function(y){return y.imul(this.k)},x(b,w),b.prototype.split=function(y,C){for(var L=4194303,O=re(y.length,9),oe=0;oe<O;oe++)C.words[oe]=y.words[oe];if(C.length=O,9>=y.length)return y.words[0]=0,void(y.length=1);var $=y.words[9];for(C.words[C.length++]=$&L,oe=10;oe<y.length;oe++){var ue=0|y.words[oe];y.words[oe-10]=(ue&L)<<4|$>>>22,$=ue}y.words[oe-10]=$>>>=22,y.length-=0===$&&10<y.length?10:9},b.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var O,C=0,L=0;L<y.length;L++)y.words[L]=67108863&(C+=977*(O=0|y.words[L])),C=64*O+(0|C/67108864);return 0===y.words[y.length-1]&&(y.length--,0===y.words[y.length-1]&&y.length--),y},x(I,w),x(S,w),x(R,w),R.prototype.imulK=function(y){for(var C=0,L=0;L<y.length;L++){var O=19*(0|y.words[L])+C,oe=67108863&O;O>>>=26,y.words[L]=oe,C=O}return 0!==C&&(y.words[y.length++]=C),y},r._prime=function(C){if(U[C])return U[C];var L;if("k256"===C)L=new b;else if("p224"===C)L=new I;else if("p192"===C)L=new S;else{if("p25519"!==C)throw new Error("Unknown prime "+C);L=new R}return U[C]=L,L},F.prototype._verify1=function(y){p(0===y.negative,"red works only with positives"),p(y.red,"red works only with red numbers")},F.prototype._verify2=function(y,C){p(0==(y.negative|C.negative),"red works only with positives"),p(y.red&&y.red===C.red,"red works only with red numbers")},F.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):(t(y,y.umod(this.m)._forceRed(this)),y)},F.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},F.prototype.add=function(y,C){this._verify2(y,C);var L=y.add(C);return 0<=L.cmp(this.m)&&L.isub(this.m),L._forceRed(this)},F.prototype.iadd=function(y,C){this._verify2(y,C);var L=y.iadd(C);return 0<=L.cmp(this.m)&&L.isub(this.m),L},F.prototype.sub=function(y,C){this._verify2(y,C);var L=y.sub(C);return 0>L.cmpn(0)&&L.iadd(this.m),L._forceRed(this)},F.prototype.isub=function(y,C){this._verify2(y,C);var L=y.isub(C);return 0>L.cmpn(0)&&L.iadd(this.m),L},F.prototype.shl=function(y,C){return this._verify1(y),this.imod(y.ushln(C))},F.prototype.imul=function(y,C){return this._verify2(y,C),this.imod(y.imul(C))},F.prototype.mul=function(y,C){return this._verify2(y,C),this.imod(y.mul(C))},F.prototype.isqr=function(y){return this.imul(y,y.clone())},F.prototype.sqr=function(y){return this.mul(y,y)},F.prototype.sqrt=function(y){if(y.isZero())return y.clone();var C=this.m.andln(3);if(p(C%2==1),3===C){var L=this.m.add(new r(1)).iushrn(2);return this.pow(y,L)}for(var O=this.m.subn(1),oe=0;!O.isZero()&&0===O.andln(1);)oe++,O.iushrn(1);p(!O.isZero());var $=new r(1).toRed(this),ue=$.redNeg(),qe=this.m.subn(1).iushrn(1),Ze=this.m.bitLength();for(Ze=new r(2*Ze*Ze).toRed(this);0!==this.pow(Ze,qe).cmp(ue);)Ze.redIAdd(ue);for(var Ve=this.pow(Ze,O),tt=this.pow(y,O.addn(1).iushrn(1)),at=this.pow(y,O),zt=oe;0!==at.cmp($);){for(var Wt=at,Jt=0;0!==Wt.cmp($);Jt++)Wt=Wt.redSqr();p(Jt<zt);var Ye=this.pow(Ve,new r(1).iushln(zt-Jt-1));tt=tt.redMul(Ye),Ve=Ye.redSqr(),at=at.redMul(Ve),zt=Jt}return tt},F.prototype.invm=function(y){var C=y._invmp(this.m);return 0===C.negative?this.imod(C):(C.negative=0,this.imod(C).redNeg())},F.prototype.pow=function(y,C){if(C.isZero())return new r(1).toRed(this);if(0===C.cmpn(1))return y.clone();var L=Array(16);L[0]=new r(1).toRed(this),L[1]=y;for(var O=2;O<L.length;O++)L[O]=this.mul(L[O-1],y);var oe=L[0],$=0,ue=0,qe=C.bitLength()%26;for(0===qe&&(qe=26),O=C.length-1;0<=O;O--){for(var tt,Ze=C.words[O],Ve=qe-1;0<=Ve;Ve--)tt=1&Ze>>Ve,oe!==L[0]&&(oe=this.sqr(oe)),0!==tt||0!==$?($<<=1,$|=tt,(4==++ue||0===O&&0===Ve)&&(oe=this.mul(oe,L[$]),ue=0,$=0)):ue=0;qe=26}return oe},F.prototype.convertTo=function(y){var C=y.umod(this.m);return C===y?C.clone():C},F.prototype.convertFrom=function(y){var C=y.clone();return C.red=null,C},r.mont=function(y){return new q(y)},x(q,F),q.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},q.prototype.convertFrom=function(y){var C=this.imod(y.mul(this.rinv));return C.red=null,C},q.prototype.imul=function(y,C){if(y.isZero()||C.isZero())return y.words[0]=0,y.length=1,y;var L=y.imul(C),O=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),oe=L.isub(O).iushrn(this.shift),$=oe;return 0<=oe.cmp(this.m)?$=oe.isub(this.m):0>oe.cmpn(0)&&($=oe.iadd(this.m)),$._forceRed(this)},q.prototype.mul=function(y,C){if(y.isZero()||C.isZero())return new r(0)._forceRed(this);var L=y.mul(C),O=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),oe=L.isub(O).iushrn(this.shift),$=oe;return 0<=oe.cmp(this.m)?$=oe.isub(this.m):0>oe.cmpn(0)&&($=oe.iadd(this.m)),$._forceRed(this)},q.prototype.invm=function(y){return this.imod(y._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===M||M,this)},{buffer:41}],40:[function(v,M){function h(x){this.rand=x}var g;if(M.exports=function(x){return g||(g=new h(null)),g.generate(x)},M.exports.Rand=h,h.prototype.generate=function(x){return this._rand(x)},h.prototype._rand=function(x){if(this.rand.getBytes)return this.rand.getBytes(x);for(var r=new Uint8Array(x),c=0;c<r.length;c++)r[c]=this.rand.getByte();return r},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?h.prototype._rand=function(x){var r=new Uint8Array(x);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?h.prototype._rand=function(x){var r=new Uint8Array(x);return self.msCrypto.getRandomValues(r),r}:"object"==typeof window&&(h.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var p=v("crypto");if("function"!=typeof p.randomBytes)throw new Error("Not supported");h.prototype._rand=function(x){return p.randomBytes(x)}}catch(x){}},{crypto:41}],41:[function(){},{}],42:[function(v,M){function h(n){r.isBuffer(n)||(n=r.from(n));for(var t=0|n.length/4,i=Array(t),s=0;s<t;s++)i[s]=n.readUInt32BE(4*s);return i}function g(n){for(;0<n.length;n++)n[0]=0}function p(n,t,i,s,u){for(var K,he,Ae,xe,o=i[0],l=i[1],d=i[2],w=i[3],b=n[0]^t[0],I=n[1]^t[1],S=n[2]^t[2],R=n[3]^t[3],F=4,q=1;q<u;q++)K=o[b>>>24]^l[255&I>>>16]^d[255&S>>>8]^w[255&R]^t[F++],he=o[I>>>24]^l[255&S>>>16]^d[255&R>>>8]^w[255&b]^t[F++],Ae=o[S>>>24]^l[255&R>>>16]^d[255&b>>>8]^w[255&I]^t[F++],xe=o[R>>>24]^l[255&b>>>16]^d[255&I>>>8]^w[255&S]^t[F++],b=K,I=he,S=Ae,R=xe;return K=(s[b>>>24]<<24|s[255&I>>>16]<<16|s[255&S>>>8]<<8|s[255&R])^t[F++],he=(s[I>>>24]<<24|s[255&S>>>16]<<16|s[255&R>>>8]<<8|s[255&b])^t[F++],Ae=(s[S>>>24]<<24|s[255&R>>>16]<<16|s[255&b>>>8]<<8|s[255&I])^t[F++],xe=(s[R>>>24]<<24|s[255&b>>>16]<<16|s[255&I>>>8]<<8|s[255&S])^t[F++],[K>>>=0,he>>>=0,Ae>>>=0,xe>>>=0]}function x(n){this._key=h(n),this._reset()}var r=v("safe-buffer").Buffer,c=[0,1,2,4,8,16,32,64,128,27,54],f=function(){for(var n=Array(256),t=0;256>t;t++)n[t]=128>t?t<<1:283^t<<1;for(var b,i=[],s=[],u=[[],[],[],[]],o=[[],[],[],[]],l=0,d=0,w=0;256>w;++w){i[l]=b=(b=d^d<<1^d<<2^d<<3^d<<4)>>>8^255&b^99,s[b]=l;var I=n[l],S=n[I],R=n[S],F=257*n[b]^16843008*b;u[0][l]=F<<24|F>>>8,u[1][l]=F<<16|F>>>16,u[2][l]=F<<8|F>>>24,u[3][l]=F,o[0][b]=(F=16843009*R^65537*S^257*I^16843008*l)<<24|F>>>8,o[1][b]=F<<16|F>>>16,o[2][b]=F<<8|F>>>24,o[3][b]=F,0===l?l=d=1:(l=I^n[n[n[R^I]]],d^=n[n[d]])}return{SBOX:i,INV_SBOX:s,SUB_MIX:u,INV_SUB_MIX:o}}();x.blockSize=16,x.keySize=32,x.prototype.blockSize=x.blockSize,x.prototype.keySize=x.keySize,x.prototype._reset=function(){for(var n=this._key,t=n.length,i=t+6,s=4*(i+1),u=[],o=0;o<t;o++)u[o]=n[o];for(o=t;o<s;o++){var l=u[o-1];o%t==0?(l=f.SBOX[(l=l<<8|l>>>24)>>>24]<<24|f.SBOX[255&l>>>16]<<16|f.SBOX[255&l>>>8]<<8|f.SBOX[255&l],l^=c[0|o/t]<<24):6<t&&o%t==4&&(l=f.SBOX[l>>>24]<<24|f.SBOX[255&l>>>16]<<16|f.SBOX[255&l>>>8]<<8|f.SBOX[255&l]),u[o]=u[o-t]^l}for(var d=[],w=0;w<s;w++){var b=s-w,I=u[b-(w%4?0:4)];d[w]=4>w||4>=b?I:f.INV_SUB_MIX[0][f.SBOX[I>>>24]]^f.INV_SUB_MIX[1][f.SBOX[255&I>>>16]]^f.INV_SUB_MIX[2][f.SBOX[255&I>>>8]]^f.INV_SUB_MIX[3][f.SBOX[255&I]]}this._nRounds=i,this._keySchedule=u,this._invKeySchedule=d},x.prototype.encryptBlockRaw=function(n){return p(n=h(n),this._keySchedule,f.SUB_MIX,f.SBOX,this._nRounds)},x.prototype.encryptBlock=function(n){var t=this.encryptBlockRaw(n),i=r.allocUnsafe(16);return i.writeUInt32BE(t[0],0),i.writeUInt32BE(t[1],4),i.writeUInt32BE(t[2],8),i.writeUInt32BE(t[3],12),i},x.prototype.decryptBlock=function(n){var t=(n=h(n))[1];n[1]=n[3],n[3]=t;var i=p(n,this._invKeySchedule,f.INV_SUB_MIX,f.INV_SBOX,this._nRounds),s=r.allocUnsafe(16);return s.writeUInt32BE(i[0],0),s.writeUInt32BE(i[3],4),s.writeUInt32BE(i[2],8),s.writeUInt32BE(i[1],12),s},x.prototype.scrub=function(){g(this._keySchedule),g(this._invKeySchedule),g(this._key)},M.exports.AES=x},{"safe-buffer":247}],43:[function(v,M){function p(s,u,o,l){c.call(this);var d=r.alloc(4,0);this._cipher=new x.AES(u);var w=this._cipher.encryptBlock(d);this._ghash=new n(w),o=function g(s,u,o){if(12===u.length)return s._finID=r.concat([u,r.from([0,0,0,1])]),r.concat([u,r.from([0,0,0,2])]);var l=new n(o),d=u.length,w=d%16;l.update(u),w&&l.update(r.alloc(w=16-w,0)),l.update(r.alloc(8,0));var b=r.alloc(8);b.writeUIntBE(8*d,0,8),l.update(b),s._finID=l.state;var I=r.from(s._finID);return i(I),I}(this,o,w),this._prev=r.from(o),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=l,this._alen=0,this._len=0,this._mode=s,this._authTag=null,this._called=!1}var x=v("./aes"),r=v("safe-buffer").Buffer,c=v("cipher-base"),f=v("inherits"),n=v("./ghash"),t=v("buffer-xor"),i=v("./incr32");f(p,c),p.prototype._update=function(s){if(!this._called&&this._alen){var u=16-this._alen%16;16>u&&(u=r.alloc(u,0),this._ghash.update(u))}this._called=!0;var o=this._mode.encrypt(this,s);return this._ghash.update(this._decrypt?s:o),this._len+=s.length,o},p.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var s=t(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function h(s,u){var o=0;s.length!==u.length&&o++;for(var l=re(s.length,u.length),d=0;d<l;++d)o+=s[d]^u[d];return o}(s,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=s,this._cipher.scrub()},p.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},p.prototype.setAuthTag=function(s){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=s},p.prototype.setAAD=function(s){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(s),this._alen+=s.length},M.exports=p},{"./aes":42,"./ghash":47,"./incr32":48,"buffer-xor":90,"cipher-base":94,inherits:159,"safe-buffer":247}],44:[function(v,M,h){var g=v("./encrypter"),p=v("./decrypter"),x=v("./modes/list.json");h.createCipher=h.Cipher=g.createCipher,h.createCipheriv=h.Cipheriv=g.createCipheriv,h.createDecipher=h.Decipher=p.createDecipher,h.createDecipheriv=h.Decipheriv=p.createDecipheriv,h.listCiphers=h.getCiphers=function(){return Object.keys(x)}},{"./decrypter":45,"./encrypter":46,"./modes/list.json":56}],45:[function(v,M,h){function g(l,d,w){i.call(this),this._cache=new p,this._last=void 0,this._cipher=new s.AES(d),this._prev=f.from(w),this._mode=l,this._autopadding=!0}function p(){this.cache=f.allocUnsafe(0)}function r(l,d,w){var b=n[l.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if("string"==typeof w&&(w=f.from(w)),"GCM"!==b.mode&&w.length!==b.iv)throw new TypeError("invalid iv length "+w.length);if("string"==typeof d&&(d=f.from(d)),d.length!==b.key/8)throw new TypeError("invalid key length "+d.length);return"stream"===b.type?new t(b.module,d,w,!0):"auth"===b.type?new c(b.module,d,w,!0):new g(b.module,d,w)}var c=v("./authCipher"),f=v("safe-buffer").Buffer,n=v("./modes"),t=v("./streamCipher"),i=v("cipher-base"),s=v("./aes"),u=v("evp_bytestokey");v("inherits")(g,i),g.prototype._update=function(l){this._cache.add(l);for(var w,b,d=[];w=this._cache.get(this._autopadding);)b=this._mode.decrypt(this,w),d.push(b);return f.concat(d)},g.prototype._final=function(){var l=this._cache.flush();if(this._autopadding)return function x(l){var d=l[15];if(1>d||16<d)throw new Error("unable to decrypt data");for(var w=-1;++w<d;)if(l[w+(16-d)]!==d)throw new Error("unable to decrypt data");return 16===d?void 0:l.slice(0,16-d)}(this._mode.decrypt(this,l));if(l)throw new Error("data not multiple of block length")},g.prototype.setAutoPadding=function(l){return this._autopadding=!!l,this},p.prototype.add=function(l){this.cache=f.concat([this.cache,l])},p.prototype.get=function(l){var d;if(l){if(16<this.cache.length)return d=this.cache.slice(0,16),this.cache=this.cache.slice(16),d}else if(16<=this.cache.length)return d=this.cache.slice(0,16),this.cache=this.cache.slice(16),d;return null},p.prototype.flush=function(){if(this.cache.length)return this.cache},h.createDecipher=function(l,d){var w=n[l.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var b=u(d,!1,w.key,w.iv);return r(l,b.key,b.iv)},h.createDecipheriv=r},{"./aes":42,"./authCipher":43,"./modes":55,"./streamCipher":58,"cipher-base":94,evp_bytestokey:137,inherits:159,"safe-buffer":247}],46:[function(v,M,h){function g(l,d,w){t.call(this),this._cache=new p,this._cipher=new i.AES(d),this._prev=f.from(w),this._mode=l,this._autopadding=!0}function p(){this.cache=f.allocUnsafe(0)}function x(l,d,w){var b=r[l.toLowerCase()];if(!b)throw new TypeError("invalid suite type");if("string"==typeof d&&(d=f.from(d)),d.length!==b.key/8)throw new TypeError("invalid key length "+d.length);if("string"==typeof w&&(w=f.from(w)),"GCM"!==b.mode&&w.length!==b.iv)throw new TypeError("invalid iv length "+w.length);return"stream"===b.type?new n(b.module,d,w):"auth"===b.type?new c(b.module,d,w):new g(b.module,d,w)}var r=v("./modes"),c=v("./authCipher"),f=v("safe-buffer").Buffer,n=v("./streamCipher"),t=v("cipher-base"),i=v("./aes"),s=v("evp_bytestokey");v("inherits")(g,t),g.prototype._update=function(l){this._cache.add(l);for(var w,b,d=[];w=this._cache.get();)b=this._mode.encrypt(this,w),d.push(b);return f.concat(d)};var o=f.alloc(16,16);g.prototype._final=function(){var l=this._cache.flush();if(this._autopadding)return l=this._mode.encrypt(this,l),this._cipher.scrub(),l;if(!l.equals(o))throw this._cipher.scrub(),new Error("data not multiple of block length")},g.prototype.setAutoPadding=function(l){return this._autopadding=!!l,this},p.prototype.add=function(l){this.cache=f.concat([this.cache,l])},p.prototype.get=function(){if(15<this.cache.length){var l=this.cache.slice(0,16);return this.cache=this.cache.slice(16),l}return null},p.prototype.flush=function(){for(var l=16-this.cache.length,d=f.allocUnsafe(l),w=-1;++w<l;)d.writeUInt8(l,w);return f.concat([this.cache,d])},h.createCipheriv=x,h.createCipher=function(l,d){var w=r[l.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var b=s(d,!1,w.key,w.iv);return x(l,b.key,b.iv)}},{"./aes":42,"./authCipher":43,"./modes":55,"./streamCipher":58,"cipher-base":94,evp_bytestokey:137,inherits:159,"safe-buffer":247}],47:[function(v,M){function g(c){var f=x.allocUnsafe(16);return f.writeUInt32BE(c[0]>>>0,0),f.writeUInt32BE(c[1]>>>0,4),f.writeUInt32BE(c[2]>>>0,8),f.writeUInt32BE(c[3]>>>0,12),f}function p(c){this.h=c,this.state=x.alloc(16,0),this.cache=x.allocUnsafe(0)}var x=v("safe-buffer").Buffer,r=x.alloc(16,0);p.prototype.ghash=function(c){for(var f=-1;++f<c.length;)this.state[f]^=c[f];this._multiply()},p.prototype._multiply=function(){for(var t,s,c=function h(c){return[c.readUInt32BE(0),c.readUInt32BE(4),c.readUInt32BE(8),c.readUInt32BE(12)]}(this.h),f=[0,0,0,0],n=-1;128>++n;){for(0!=(this.state[~~(n/8)]&1<<7-n%8)&&(f[0]^=c[0],f[1]^=c[1],f[2]^=c[2],f[3]^=c[3]),s=0!=(1&c[3]),t=3;0<t;t--)c[t]=c[t]>>>1|(1&c[t-1])<<31;c[0]>>>=1,s&&(c[0]^=-520093696)}this.state=g(f)},p.prototype.update=function(c){this.cache=x.concat([this.cache,c]);for(var f;16<=this.cache.length;)f=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(f)},p.prototype.final=function(c,f){return this.cache.length&&this.ghash(x.concat([this.cache,r],16)),this.ghash(g([0,c,0,f])),this.state},M.exports=p},{"safe-buffer":247}],48:[function(v,M){M.exports=function(h){for(var p,g=h.length;g--;){if(255!==(p=h.readUInt8(g))){p++,h.writeUInt8(p,g);break}h.writeUInt8(0,g)}}},{}],49:[function(v,M,h){var g=v("buffer-xor");h.encrypt=function(p,x){var r=g(x,p._prev);return p._prev=p._cipher.encryptBlock(r),p._prev},h.decrypt=function(p,x){var r=p._prev;p._prev=x;var c=p._cipher.decryptBlock(x);return g(c,r)}},{"buffer-xor":90}],50:[function(v,M,h){function g(r,c,f){var n=c.length,t=x(c,r._cache);return r._cache=r._cache.slice(n),r._prev=p.concat([r._prev,f?c:t]),t}var p=v("safe-buffer").Buffer,x=v("buffer-xor");h.encrypt=function(r,c,f){for(var t,n=p.allocUnsafe(0);c.length;){if(0===r._cache.length&&(r._cache=r._cipher.encryptBlock(r._prev),r._prev=p.allocUnsafe(0)),!(r._cache.length<=c.length)){n=p.concat([n,g(r,c,f)]);break}n=p.concat([n,g(r,c.slice(0,t=r._cache.length),f)]),c=c.slice(t)}return n}},{"buffer-xor":90,"safe-buffer":247}],51:[function(v,M,h){function g(r,c,f){for(var s,u,n=-1,t=0;++n<8;)t+=(128&(u=r._cipher.encryptBlock(r._prev)[0]^(s=c&1<<7-n?128:0)))>>n%8,r._prev=p(r._prev,f?s:u);return t}function p(r,c){var f=r.length,n=-1,t=x.allocUnsafe(r.length);for(r=x.concat([r,x.from([c])]);++n<f;)t[n]=r[n]<<1|r[n+1]>>7;return t}var x=v("safe-buffer").Buffer;h.encrypt=function(r,c,f){for(var n=c.length,t=x.allocUnsafe(n),i=-1;++i<n;)t[i]=g(r,c[i],f);return t}},{"safe-buffer":247}],52:[function(v,M,h){function g(x,r,c){var n=x._cipher.encryptBlock(x._prev)[0]^r;return x._prev=p.concat([x._prev.slice(1),p.from([c?r:n])]),n}var p=v("safe-buffer").Buffer;h.encrypt=function(x,r,c){for(var f=r.length,n=p.allocUnsafe(f),t=-1;++t<f;)n[t]=g(x,r[t],c);return n}},{"safe-buffer":247}],53:[function(v,M,h){function g(f){var n=f._cipher.encryptBlockRaw(f._prev);return r(f._prev),n}var p=v("buffer-xor"),x=v("safe-buffer").Buffer,r=v("../incr32");h.encrypt=function(f,n){var t=ge(n.length/16),i=f._cache.length;f._cache=x.concat([f._cache,x.allocUnsafe(16*t)]);for(var s=0;s<t;s++){var u=g(f),o=i+16*s;f._cache.writeUInt32BE(u[0],o+0),f._cache.writeUInt32BE(u[1],o+4),f._cache.writeUInt32BE(u[2],o+8),f._cache.writeUInt32BE(u[3],o+12)}var l=f._cache.slice(0,n.length);return f._cache=f._cache.slice(n.length),p(n,l)}},{"../incr32":48,"buffer-xor":90,"safe-buffer":247}],54:[function(v,M,h){h.encrypt=function(g,p){return g._cipher.encryptBlock(p)},h.decrypt=function(g,p){return g._cipher.decryptBlock(p)}},{}],55:[function(v,M){var h={ECB:v("./ecb"),CBC:v("./cbc"),CFB:v("./cfb"),CFB8:v("./cfb8"),CFB1:v("./cfb1"),OFB:v("./ofb"),CTR:v("./ctr"),GCM:v("./ctr")},g=v("./list.json");for(var p in g)g[p].module=h[g[p].mode];M.exports=g},{"./cbc":49,"./cfb":50,"./cfb1":51,"./cfb8":52,"./ctr":53,"./ecb":54,"./list.json":56,"./ofb":57}],56:[function(v,M){M.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],57:[function(v,M,h){(function(g){(function(){function p(r){return r._prev=r._cipher.encryptBlock(r._prev),r._prev}var x=v("buffer-xor");h.encrypt=function(r,c){for(;r._cache.length<c.length;)r._cache=g.concat([r._cache,p(r)]);var f=r._cache.slice(0,c.length);return r._cache=r._cache.slice(c.length),x(c,f)}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,"buffer-xor":90}],58:[function(v,M){function h(c,f,n,t){x.call(this),this._cipher=new g.AES(f),this._prev=p.from(n),this._cache=p.allocUnsafe(0),this._secCache=p.allocUnsafe(0),this._decrypt=t,this._mode=c}var g=v("./aes"),p=v("safe-buffer").Buffer,x=v("cipher-base");v("inherits")(h,x),h.prototype._update=function(c){return this._mode.encrypt(this,c,this._decrypt)},h.prototype._final=function(){this._cipher.scrub()},M.exports=h},{"./aes":42,"cipher-base":94,inherits:159,"safe-buffer":247}],59:[function(v,M,h){function g(t,i,s){if(t=t.toLowerCase(),c[t])return r.createCipheriv(t,i,s);if(f[t])return new x({key:i,iv:s,mode:t});throw new TypeError("invalid suite type")}function p(t,i,s){if(t=t.toLowerCase(),c[t])return r.createDecipheriv(t,i,s);if(f[t])return new x({key:i,iv:s,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}var x=v("browserify-des"),r=v("browserify-aes/browser"),c=v("browserify-aes/modes"),f=v("browserify-des/modes"),n=v("evp_bytestokey");h.createCipher=h.Cipher=function(t,i){var s,u;if(t=t.toLowerCase(),c[t])s=c[t].key,u=c[t].iv;else{if(!f[t])throw new TypeError("invalid suite type");s=8*f[t].key,u=f[t].iv}var o=n(i,!1,s,u);return g(t,o.key,o.iv)},h.createCipheriv=h.Cipheriv=g,h.createDecipher=h.Decipher=function(t,i){var s,u;if(t=t.toLowerCase(),c[t])s=c[t].key,u=c[t].iv;else{if(!f[t])throw new TypeError("invalid suite type");s=8*f[t].key,u=f[t].iv}var o=n(i,!1,s,u);return p(t,o.key,o.iv)},h.createDecipheriv=h.Decipheriv=p,h.listCiphers=h.getCiphers=function(){return Object.keys(f).concat(r.getCiphers())}},{"browserify-aes/browser":44,"browserify-aes/modes":55,"browserify-des":60,"browserify-des/modes":61,evp_bytestokey:137}],60:[function(v,M){function h(f){g.call(this);var i,n=f.mode.toLowerCase(),t=c[n];i=f.decrypt?"decrypt":"encrypt";var s=f.key;r.isBuffer(s)||(s=r.from(s)),("des-ede"===n||"des-ede-cbc"===n)&&(s=r.concat([s,s.slice(0,8)]));var u=f.iv;r.isBuffer(u)||(u=r.from(u)),this._des=t.create({key:s,iv:u,type:i})}var g=v("cipher-base"),p=v("des.js"),x=v("inherits"),r=v("safe-buffer").Buffer,c={"des-ede3-cbc":p.CBC.instantiate(p.EDE),"des-ede3":p.EDE,"des-ede-cbc":p.CBC.instantiate(p.EDE),"des-ede":p.EDE,"des-cbc":p.CBC.instantiate(p.DES),"des-ecb":p.DES};c.des=c["des-cbc"],c.des3=c["des-ede3-cbc"],M.exports=h,x(h,g),h.prototype._update=function(f){return r.from(this._des.update(f))},h.prototype._final=function(){return r.from(this._des.final())}},{"cipher-base":94,"des.js":107,inherits:159,"safe-buffer":247}],61:[function(v,M,h){h["des-ecb"]={key:8,iv:0},h["des-cbc"]=h.des={key:8,iv:8},h["des-ede3-cbc"]=h.des3={key:24,iv:8},h["des-ede3"]={key:24,iv:0},h["des-ede-cbc"]={key:16,iv:8},h["des-ede"]={key:16,iv:0}},{}],62:[function(v,M){(function(h){(function(){function p(f){var t,n=f.modulus.byteLength();do{t=new r(c(n))}while(0<=t.cmp(f.modulus)||!t.umod(f.prime1)||!t.umod(f.prime2));return t}function x(f,n){var t=function g(f){var n=p(f);return{blinder:n.toRed(r.mont(f.modulus)).redPow(new r(f.publicExponent)).fromRed(),unblinder:n.invm(f.modulus)}}(n),i=n.modulus.byteLength(),s=new r(f).mul(t.blinder).umod(n.modulus),u=s.toRed(r.mont(n.prime1)),o=s.toRed(r.mont(n.prime2)),l=n.coefficient,d=n.prime1,w=n.prime2,b=u.redPow(n.exponent1).fromRed(),I=o.redPow(n.exponent2).fromRed(),S=b.isub(I).imul(l).umod(d).imul(w);return I.iadd(S).imul(t.unblinder).umod(n.modulus).toArrayLike(h,"be",i)}var r=v("bn.js"),c=v("randombytes");x.getr=p,M.exports=x}).call(this)}).call(this,v("buffer").Buffer)},{"bn.js":39,buffer:69,randombytes:221}],63:[function(v,M){M.exports=v("./browser/algorithms.json")},{"./browser/algorithms.json":64}],64:[function(v,M){M.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],65:[function(v,M){M.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],66:[function(v,M){function h(u){f.Writable.call(this);var o=s[u];if(!o)throw new Error("Unknown message digest");this._hashType=o.hash,this._hash=c(o.hash),this._tag=o.id,this._signType=o.sign}function g(u){f.Writable.call(this);var o=s[u];if(!o)throw new Error("Unknown message digest");this._hash=c(o.hash),this._tag=o.id,this._signType=o.sign}function p(u){return new h(u)}function x(u){return new g(u)}var r=v("safe-buffer").Buffer,c=v("create-hash"),f=v("readable-stream"),n=v("inherits"),t=v("./sign"),i=v("./verify"),s=v("./algorithms.json");Object.keys(s).forEach(function(u){s[u].id=r.from(s[u].id,"hex"),s[u.toLowerCase()]=s[u]}),n(h,f.Writable),h.prototype._write=function(u,o,l){this._hash.update(u),l()},h.prototype.update=function(u,o){return"string"==typeof u&&(u=r.from(u,o)),this._hash.update(u),this},h.prototype.sign=function(u,o){this.end();var l=this._hash.digest(),d=t(l,u,this._hashType,this._signType,this._tag);return o?d.toString(o):d},n(g,f.Writable),g.prototype._write=function(u,o,l){this._hash.update(u),l()},g.prototype.update=function(u,o){return"string"==typeof u&&(u=r.from(u,o)),this._hash.update(u),this},g.prototype.verify=function(u,o,l){"string"==typeof o&&(o=r.from(o,l)),this.end();var d=this._hash.digest();return i(o,d,u,this._signType,this._tag)},M.exports={Sign:p,Verify:x,createSign:p,createVerify:x}},{"./algorithms.json":64,"./sign":67,"./verify":68,"create-hash":99,inherits:159,"readable-stream":240,"safe-buffer":247}],67:[function(v,M){function x(w,b,I,S){if((w=t.from(w.toArray())).length<b.byteLength()){var R=t.alloc(b.byteLength()-w.length);w=t.concat([R,w])}var F=I.length,q=function c(w,b){w=(w=r(w,b)).mod(b);var I=t.from(w.toArray());if(I.length<b.byteLength()){var S=t.alloc(b.byteLength()-I.length);I=t.concat([S,I])}return I}(I,b),K=t.alloc(F);K.fill(1);var he=t.alloc(F);return he=i(S,he).update(K).update(t.from([0])).update(w).update(q).digest(),K=i(S,he).update(K).digest(),{k:he=i(S,he).update(K).update(t.from([1])).update(w).update(q).digest(),v:K=i(S,he).update(K).digest()}}function r(w,b){var I=new o(w),S=(w.length<<3)-b.bitLength();return 0<S&&I.ishrn(S),I}function f(w,b,I){var S,R;do{for(S=t.alloc(0);8*S.length<w.bitLength();)b.v=i(I,b.k).update(b.v).digest(),S=t.concat([S,b.v]);R=r(S,w),b.k=i(I,b.k).update(b.v).update(t.from([0])).digest(),b.v=i(I,b.k).update(b.v).digest()}while(-1!==R.cmp(w));return R}function n(w,b,I,S){return w.toRed(o.mont(I)).redPow(b).fromRed().mod(S)}var t=v("safe-buffer").Buffer,i=v("create-hmac"),s=v("browserify-rsa"),u=v("elliptic").ec,o=v("bn.js"),l=v("parse-asn1"),d=v("./curves.json");M.exports=function(w,b,I,S,R){var F=l(b);if(F.curve){if("ecdsa"!==S&&"ecdsa/rsa"!==S)throw new Error("wrong private key type");return function h(w,b){var I=d[b.curve.join(".")];if(!I)throw new Error("unknown curve "+b.curve.join("."));var F=new u(I).keyFromPrivate(b.privateKey).sign(w);return t.from(F.toDER())}(w,F)}if("dsa"===F.type){if("dsa"!==S)throw new Error("wrong private key type");return function g(w,b,I){for(var A,S=b.params.priv_key,R=b.params.p,F=b.params.q,q=b.params.g,K=new o(0),he=r(w,F).mod(F),Ae=!1,xe=x(S,F,w,I);!1===Ae;)K=n(q,A=f(F,xe,I),R,F),0===(Ae=A.invm(F).imul(he.add(S.mul(K))).mod(F)).cmpn(0)&&(Ae=!1,K=new o(0));return function p(w,b){w=w.toArray(),b=b.toArray(),128&w[0]&&(w=[0].concat(w)),128&b[0]&&(b=[0].concat(b));var S=[48,w.length+b.length+4,2,w.length];return S=S.concat(w,[2,b.length],b),t.from(S)}(K,Ae)}(w,F,I)}if("rsa"!==S&&"ecdsa/rsa"!==S)throw new Error("wrong private key type");w=t.concat([R,w]);for(var q=F.modulus.byteLength(),K=[0,1];w.length+K.length+1<q;)K.push(255);K.push(0);for(var he=-1;++he<w.length;)K.push(w[he]);return s(K,F)},M.exports.getKey=x,M.exports.makeKey=f},{"./curves.json":65,"bn.js":39,"browserify-rsa":62,"create-hmac":101,elliptic:118,"parse-asn1":196,"safe-buffer":247}],68:[function(v,M){function p(t,i){if(0>=t.cmpn(0))throw new Error("invalid sig");if(t.cmp(i)>=i)throw new Error("invalid sig")}var x=v("safe-buffer").Buffer,r=v("bn.js"),c=v("elliptic").ec,f=v("parse-asn1"),n=v("./curves.json");M.exports=function(t,i,s,u,o){var l=f(s);if("ec"===l.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function h(t,i,s){var u=n[s.data.algorithm.curve.join(".")];if(!u)throw new Error("unknown curve "+s.data.algorithm.curve.join("."));return new c(u).verify(i,t,s.data.subjectPrivateKey.data)}(t,i,l)}if("dsa"===l.type){if("dsa"!==u)throw new Error("wrong public key type");return function g(t,i,s){var u=s.data.p,o=s.data.q,l=s.data.g,d=s.data.pub_key,w=f.signature.decode(t,"der"),b=w.s,I=w.r;p(b,o),p(I,o);var S=r.mont(u),R=b.invm(o);return 0===l.toRed(S).redPow(new r(i).mul(R).mod(o)).fromRed().mul(d.toRed(S).redPow(I.mul(R).mod(o)).fromRed()).mod(u).mod(o).cmp(I)}(t,i,l)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");i=x.concat([o,i]);for(var d=l.modulus.byteLength(),w=[1],b=0;i.length+w.length+2<d;)w.push(255),b++;w.push(0);for(var I=-1;++I<i.length;)w.push(i[I]);w=x.from(w);var S=r.mont(l.modulus);t=(t=new r(t).toRed(S)).redPow(new r(l.publicExponent)),t=x.from(t.fromRed().toArray());var R=8>b?1:0;for(d=re(t.length,w.length),t.length!==w.length&&(R=1),I=-1;++I<d;)R|=t[I]^w[I];return 0==R}},{"./curves.json":65,"bn.js":39,elliptic:118,"parse-asn1":196,"safe-buffer":247}],69:[function(v,M,h){(function(){(function(){"use strict";function g(Y){if(2147483647<Y)throw new RangeError('The value "'+Y+'" is invalid for option "size"');var de=new Uint8Array(Y);return de.__proto__=p.prototype,de}function p(Y,de,X){if("number"==typeof Y){if("string"==typeof de)throw new TypeError('The "string" argument must be of type string. Received type number');return f(Y)}return x(Y,de,X)}function x(Y,de,X){if("string"==typeof Y)return function n(Y,de){if(("string"!=typeof de||""===de)&&(de="utf8"),!p.isEncoding(de))throw new TypeError("Unknown encoding: "+de);var X=0|o(Y,de),ae=g(X),Je=ae.write(Y,de);return Je!==X&&(ae=ae.slice(0,Je)),ae}(Y,de);if(ArrayBuffer.isView(Y))return t(Y);if(null==Y)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if(Wt(Y,ArrayBuffer)||Y&&Wt(Y.buffer,ArrayBuffer))return function i(Y,de,X){if(0>de||Y.byteLength<de)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<de+(X||0))throw new RangeError('"length" is outside of buffer bounds');var ae;return(ae=void 0===de&&void 0===X?new Uint8Array(Y):void 0===X?new Uint8Array(Y,de):new Uint8Array(Y,de,X)).__proto__=p.prototype,ae}(Y,de,X);if("number"==typeof Y)throw new TypeError('The "value" argument must not be of type number. Received type number');var ae=Y.valueOf&&Y.valueOf();if(null!=ae&&ae!==Y)return p.from(ae,de,X);var Je=function s(Y){if(p.isBuffer(Y)){var de=0|u(Y.length),X=g(de);return 0===X.length||Y.copy(X,0,0,de),X}return void 0===Y.length?"Buffer"===Y.type&&Array.isArray(Y.data)?t(Y.data):void 0:"number"!=typeof Y.length||Jt(Y.length)?g(0):t(Y)}(Y);if(Je)return Je;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof Y[Symbol.toPrimitive])return p.from(Y[Symbol.toPrimitive]("string"),de,X);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}function r(Y){if("number"!=typeof Y)throw new TypeError('"size" argument must be of type number');if(0>Y)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function f(Y){return r(Y),g(0>Y?0:0|u(Y))}function t(Y){for(var de=0>Y.length?0:0|u(Y.length),X=g(de),ae=0;ae<de;ae+=1)X[ae]=255&Y[ae];return X}function u(Y){if(Y>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|Y}function o(Y,de){if(p.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||Wt(Y,ArrayBuffer))return Y.byteLength;if("string"!=typeof Y)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);var X=Y.length,ae=2<arguments.length&&!0===arguments[2];if(!ae&&0===X)return 0;for(var Je=!1;;)switch(de){case"ascii":case"latin1":case"binary":return X;case"utf8":case"utf-8":return Ze(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*X;case"hex":return X>>>1;case"base64":return at(Y).length;default:if(Je)return ae?-1:Ze(Y).length;de=(""+de).toLowerCase(),Je=!0}}function l(Y,de,X){var ae=!1;if((void 0===de||0>de)&&(de=0),de>this.length||((void 0===X||X>this.length)&&(X=this.length),0>=X)||(X>>>=0)<=(de>>>=0))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return U(this,de,X);case"utf8":case"utf-8":return Ae(this,de,X);case"ascii":return A(this,de,X);case"latin1":case"binary":return N(this,de,X);case"base64":return he(this,de,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,de,X);default:if(ae)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),ae=!0}}function d(Y,de,X){var ae=Y[de];Y[de]=Y[X],Y[X]=ae}function w(Y,de,X,ae,Je){if(0===Y.length)return-1;if("string"==typeof X?(ae=X,X=0):2147483647<X?X=2147483647:-2147483648>X&&(X=-2147483648),Jt(X=+X)&&(X=Je?0:Y.length-1),0>X&&(X=Y.length+X),X>=Y.length){if(Je)return-1;X=Y.length-1}else if(0>X){if(!Je)return-1;X=0}if("string"==typeof de&&(de=p.from(de,ae)),p.isBuffer(de))return 0===de.length?-1:b(Y,de,X,ae,Je);if("number"==typeof de)return de&=255,"function"==typeof Uint8Array.prototype.indexOf?Je?Uint8Array.prototype.indexOf.call(Y,de,X):Uint8Array.prototype.lastIndexOf.call(Y,de,X):b(Y,[de],X,ae,Je);throw new TypeError("val must be string, number or Buffer")}function b(Y,de,X,ae,Je){function ce(Xt,Gt){return 1===Ee?Xt[Gt]:Xt.readUInt16BE(Gt*Ee)}var ct,Ee=1,$e=Y.length,nt=de.length;if(void 0!==ae&&("ucs2"===(ae=(ae+"").toLowerCase())||"ucs-2"===ae||"utf16le"===ae||"utf-16le"===ae)){if(2>Y.length||2>de.length)return-1;Ee=2,$e/=2,nt/=2,X/=2}if(Je){var Ut=-1;for(ct=X;ct<$e;ct++)if(ce(Y,ct)!==ce(de,-1===Ut?0:ct-Ut))-1!==Ut&&(ct-=ct-Ut),Ut=-1;else if(-1===Ut&&(Ut=ct),ct-Ut+1===nt)return Ut*Ee}else for(X+nt>$e&&(X=$e-nt),ct=X;0<=ct;ct--){for(var Ht=!0,Dt=0;Dt<nt;Dt++)if(ce(Y,ct+Dt)!==ce(de,Dt)){Ht=!1;break}if(Ht)return ct}return-1}function I(Y,de,X,ae){var Je=Y.length-(X=+X||0);ae?(ae=+ae)>Je&&(ae=Je):ae=Je;var ce=de.length;ae>ce/2&&(ae=ce/2);for(var $e,Ee=0;Ee<ae;++Ee){if(Jt($e=parseInt(de.substr(2*Ee,2),16)))return Ee;Y[X+Ee]=$e}return Ee}function S(Y,de,X,ae){return zt(Ze(de,Y.length-X),Y,X,ae)}function R(Y,de,X,ae){return zt(function Ve(Y){for(var de=[],X=0;X<Y.length;++X)de.push(255&Y.charCodeAt(X));return de}(de),Y,X,ae)}function F(Y,de,X,ae){return R(Y,de,X,ae)}function q(Y,de,X,ae){return zt(at(de),Y,X,ae)}function K(Y,de,X,ae){return zt(function tt(Y,de){for(var Je,ce,X=[],ae=0;ae<Y.length&&!(0>(de-=2));++ae)ce=(Je=Y.charCodeAt(ae))>>8,X.push(Je%256),X.push(ce);return X}(de,Y.length-X),Y,X,ae)}function he(Y,de,X){return Ye.fromByteArray(0===de&&X===Y.length?Y:Y.slice(de,X))}function Ae(Y,de,X){X=re(Y.length,X);for(var ae=[],Je=de;Je<X;){var nt,ct,Ut,Ht,ce=Y[Je],Ee=null,$e=239<ce?4:223<ce?3:191<ce?2:1;Je+$e<=X&&(1===$e?128>ce&&(Ee=ce):2===$e?128==(192&(nt=Y[Je+1]))&&127<(Ht=(31&ce)<<6|63&nt)&&(Ee=Ht):3===$e?(ct=Y[Je+2],128==(192&(nt=Y[Je+1]))&&128==(192&ct)&&2047<(Ht=(15&ce)<<12|(63&nt)<<6|63&ct)&&(55296>Ht||57343<Ht)&&(Ee=Ht)):4===$e&&(ct=Y[Je+2],Ut=Y[Je+3],128==(192&(nt=Y[Je+1]))&&128==(192&ct)&&128==(192&Ut)&&65535<(Ht=(15&ce)<<18|(63&nt)<<12|(63&ct)<<6|63&Ut)&&1114112>Ht&&(Ee=Ht))),null===Ee?(Ee=65533,$e=1):65535<Ee&&(ae.push(55296|1023&(Ee-=65536)>>>10),Ee=56320|1023&Ee),ae.push(Ee),Je+=$e}return function xe(Y){var de=Y.length;if(de<=4096)return Q.apply(String,Y);for(var X="",ae=0;ae<de;)X+=Q.apply(String,Y.slice(ae,ae+=4096));return X}(ae)}function A(Y,de,X){var ae="";X=re(Y.length,X);for(var Je=de;Je<X;++Je)ae+=Q(127&Y[Je]);return ae}function N(Y,de,X){var ae="";X=re(Y.length,X);for(var Je=de;Je<X;++Je)ae+=Q(Y[Je]);return ae}function U(Y,de,X){var ae=Y.length;(!de||0>de)&&(de=0),(!X||0>X||X>ae)&&(X=ae);for(var Je="",ce=de;ce<X;++ce)Je+=qe(Y[ce]);return Je}function y(Y,de,X){for(var ae=Y.slice(de,X),Je="",ce=0;ce<ae.length;ce+=2)Je+=Q(ae[ce]+256*ae[ce+1]);return Je}function C(Y,de,X){if(Y%1!=0||0>Y)throw new RangeError("offset is not uint");if(Y+de>X)throw new RangeError("Trying to access beyond buffer length")}function L(Y,de,X,ae,Je,ce){if(!p.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(de>Je||de<ce)throw new RangeError('"value" argument is out of bounds');if(X+ae>Y.length)throw new RangeError("Index out of range")}function O(Y,de,X,ae){if(X+ae>Y.length)throw new RangeError("Index out of range");if(0>X)throw new RangeError("Index out of range")}function oe(Y,de,X,ae,Je){return de=+de,X>>>=0,Je||O(Y,0,X,4),st.write(Y,de,X,ae,23,4),X+4}function $(Y,de,X,ae,Je){return de=+de,X>>>=0,Je||O(Y,0,X,8),st.write(Y,de,X,ae,52,8),X+8}function qe(Y){return 16>Y?"0"+Y.toString(16):Y.toString(16)}function Ze(Y,de){de=de||1/0;for(var Ee,X=Y.length,ae=null,Je=[],ce=0;ce<X;++ce){if(55295<(Ee=Y.charCodeAt(ce))&&57344>Ee){if(!ae){if(56319<Ee){-1<(de-=3)&&Je.push(239,191,189);continue}if(ce+1===X){-1<(de-=3)&&Je.push(239,191,189);continue}ae=Ee;continue}if(56320>Ee){-1<(de-=3)&&Je.push(239,191,189),ae=Ee;continue}Ee=65536+(ae-55296<<10|Ee-56320)}else ae&&-1<(de-=3)&&Je.push(239,191,189);if(ae=null,128>Ee){if(0>(de-=1))break;Je.push(Ee)}else if(2048>Ee){if(0>(de-=2))break;Je.push(192|Ee>>6,128|63&Ee)}else if(65536>Ee){if(0>(de-=3))break;Je.push(224|Ee>>12,128|63&Ee>>6,128|63&Ee)}else{if(!(1114112>Ee))throw new Error("Invalid code point");if(0>(de-=4))break;Je.push(240|Ee>>18,128|63&Ee>>12,128|63&Ee>>6,128|63&Ee)}}return Je}function at(Y){return Ye.toByteArray(function ue(Y){if(2>(Y=(Y=Y.split("=")[0]).trim().replace(ft,"")).length)return"";for(;Y.length%4!=0;)Y+="=";return Y}(Y))}function zt(Y,de,X,ae){for(var Je=0;Je<ae&&!(Je+X>=de.length||Je>=Y.length);++Je)de[Je+X]=Y[Je];return Je}function Wt(Y,de){return Y instanceof de||null!=Y&&null!=Y.constructor&&null!=Y.constructor.name&&Y.constructor.name===de.name}function Jt(Y){return Y!=Y}var Ye=v("base64-js"),st=v("ieee754");h.Buffer=p,h.SlowBuffer=function(Y){return+Y!=Y&&(Y=0),p.alloc(+Y)},h.INSPECT_MAX_BYTES=50,h.kMaxLength=2147483647,(p.TYPED_ARRAY_SUPPORT=function(){try{var Y=new Uint8Array(1);return Y.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===Y.foo()}catch(de){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){return p.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){return p.isBuffer(this)?this.byteOffset:void 0}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),p.poolSize=8192,p.from=function(Y,de,X){return x(Y,de,X)},p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,p.alloc=function(Y,de,X){return function c(Y,de,X){return r(Y),0>=Y||void 0===de?g(Y):"string"==typeof X?g(Y).fill(de,X):g(Y).fill(de)}(Y,de,X)},p.allocUnsafe=function(Y){return f(Y)},p.allocUnsafeSlow=function(Y){return f(Y)},p.isBuffer=function(Y){return null!=Y&&!0===Y._isBuffer&&Y!==p.prototype},p.compare=function(Y,de){if(Wt(Y,Uint8Array)&&(Y=p.from(Y,Y.offset,Y.byteLength)),Wt(de,Uint8Array)&&(de=p.from(de,de.offset,de.byteLength)),!p.isBuffer(Y)||!p.isBuffer(de))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Y===de)return 0;for(var X=Y.length,ae=de.length,Je=0,ce=re(X,ae);Je<ce;++Je)if(Y[Je]!==de[Je]){X=Y[Je],ae=de[Je];break}return X<ae?-1:ae<X?1:0},p.isEncoding=function(Y){switch((Y+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(Y,de){if(!Array.isArray(Y))throw new TypeError('"list" argument must be an Array of Buffers');if(0===Y.length)return p.alloc(0);var X;if(void 0===de)for(de=0,X=0;X<Y.length;++X)de+=Y[X].length;var ae=p.allocUnsafe(de),Je=0;for(X=0;X<Y.length;++X){var ce=Y[X];if(Wt(ce,Uint8Array)&&(ce=p.from(ce)),!p.isBuffer(ce))throw new TypeError('"list" argument must be an Array of Buffers');ce.copy(ae,Je),Je+=ce.length}return ae},p.byteLength=o,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var Y=this.length;if(Y%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var de=0;de<Y;de+=2)d(this,de,de+1);return this},p.prototype.swap32=function(){var Y=this.length;if(Y%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var de=0;de<Y;de+=4)d(this,de,de+3),d(this,de+1,de+2);return this},p.prototype.swap64=function(){var Y=this.length;if(Y%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var de=0;de<Y;de+=8)d(this,de,de+7),d(this,de+1,de+6),d(this,de+2,de+5),d(this,de+3,de+4);return this},p.prototype.toLocaleString=p.prototype.toString=function(){var Y=this.length;return 0===Y?"":0===arguments.length?Ae(this,0,Y):l.apply(this,arguments)},p.prototype.equals=function(Y){if(!p.isBuffer(Y))throw new TypeError("Argument must be a Buffer");return this===Y||0===p.compare(this,Y)},p.prototype.inspect=function(){var Y="",de=h.INSPECT_MAX_BYTES;return Y=this.toString("hex",0,de).replace(/(.{2})/g,"$1 ").trim(),this.length>de&&(Y+=" ... "),"<Buffer "+Y+">"},p.prototype.compare=function(Y,de,X,ae,Je){if(Wt(Y,Uint8Array)&&(Y=p.from(Y,Y.offset,Y.byteLength)),!p.isBuffer(Y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Y);if(void 0===de&&(de=0),void 0===X&&(X=Y?Y.length:0),void 0===ae&&(ae=0),void 0===Je&&(Je=this.length),0>de||X>Y.length||0>ae||Je>this.length)throw new RangeError("out of range index");if(ae>=Je&&de>=X)return 0;if(ae>=Je)return-1;if(de>=X)return 1;if(this===Y)return 0;for(var ce=(Je>>>=0)-(ae>>>=0),Ee=(X>>>=0)-(de>>>=0),$e=re(ce,Ee),nt=this.slice(ae,Je),ct=Y.slice(de,X),Ut=0;Ut<$e;++Ut)if(nt[Ut]!==ct[Ut]){ce=nt[Ut],Ee=ct[Ut];break}return ce<Ee?-1:Ee<ce?1:0},p.prototype.includes=function(Y,de,X){return-1!==this.indexOf(Y,de,X)},p.prototype.indexOf=function(Y,de,X){return w(this,Y,de,X,!0)},p.prototype.lastIndexOf=function(Y,de,X){return w(this,Y,de,X,!1)},p.prototype.write=function(Y,de,X,ae){if(void 0===de)ae="utf8",X=this.length,de=0;else if(void 0===X&&"string"==typeof de)ae=de,X=this.length,de=0;else{if(!isFinite(de))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");de>>>=0,isFinite(X)?(X>>>=0,void 0===ae&&(ae="utf8")):(ae=X,X=void 0)}var Je=this.length-de;if((void 0===X||X>Je)&&(X=Je),0<Y.length&&(0>X||0>de)||de>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");for(var ce=!1;;)switch(ae){case"hex":return I(this,Y,de,X);case"utf8":case"utf-8":return S(this,Y,de,X);case"ascii":return R(this,Y,de,X);case"latin1":case"binary":return F(this,Y,de,X);case"base64":return q(this,Y,de,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,Y,de,X);default:if(ce)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),ce=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},p.prototype.slice=function(Y,de){var X=this.length;0>(Y=~~Y)?0>(Y+=X)&&(Y=0):Y>X&&(Y=X),0>(de=void 0===de?X:~~de)?0>(de+=X)&&(de=0):de>X&&(de=X),de<Y&&(de=Y);var ae=this.subarray(Y,de);return ae.__proto__=p.prototype,ae},p.prototype.readUIntLE=function(Y,de,X){Y>>>=0,de>>>=0,X||C(Y,de,this.length);for(var ae=this[Y],Je=1,ce=0;++ce<de&&(Je*=256);)ae+=this[Y+ce]*Je;return ae},p.prototype.readUIntBE=function(Y,de,X){Y>>>=0,de>>>=0,X||C(Y,de,this.length);for(var ae=this[Y+--de],Je=1;0<de&&(Je*=256);)ae+=this[Y+--de]*Je;return ae},p.prototype.readUInt8=function(Y,de){return Y>>>=0,de||C(Y,1,this.length),this[Y]},p.prototype.readUInt16LE=function(Y,de){return Y>>>=0,de||C(Y,2,this.length),this[Y]|this[Y+1]<<8},p.prototype.readUInt16BE=function(Y,de){return Y>>>=0,de||C(Y,2,this.length),this[Y]<<8|this[Y+1]},p.prototype.readUInt32LE=function(Y,de){return Y>>>=0,de||C(Y,4,this.length),(this[Y]|this[Y+1]<<8|this[Y+2]<<16)+16777216*this[Y+3]},p.prototype.readUInt32BE=function(Y,de){return Y>>>=0,de||C(Y,4,this.length),16777216*this[Y]+(this[Y+1]<<16|this[Y+2]<<8|this[Y+3])},p.prototype.readIntLE=function(Y,de,X){Y>>>=0,de>>>=0,X||C(Y,de,this.length);for(var ae=this[Y],Je=1,ce=0;++ce<de&&(Je*=256);)ae+=this[Y+ce]*Je;return ae>=(Je*=128)&&(ae-=z(2,8*de)),ae},p.prototype.readIntBE=function(Y,de,X){Y>>>=0,de>>>=0,X||C(Y,de,this.length);for(var ae=de,Je=1,ce=this[Y+--ae];0<ae&&(Je*=256);)ce+=this[Y+--ae]*Je;return ce>=(Je*=128)&&(ce-=z(2,8*de)),ce},p.prototype.readInt8=function(Y,de){return Y>>>=0,de||C(Y,1,this.length),128&this[Y]?-1*(255-this[Y]+1):this[Y]},p.prototype.readInt16LE=function(Y,de){Y>>>=0,de||C(Y,2,this.length);var X=this[Y]|this[Y+1]<<8;return 32768&X?4294901760|X:X},p.prototype.readInt16BE=function(Y,de){Y>>>=0,de||C(Y,2,this.length);var X=this[Y+1]|this[Y]<<8;return 32768&X?4294901760|X:X},p.prototype.readInt32LE=function(Y,de){return Y>>>=0,de||C(Y,4,this.length),this[Y]|this[Y+1]<<8|this[Y+2]<<16|this[Y+3]<<24},p.prototype.readInt32BE=function(Y,de){return Y>>>=0,de||C(Y,4,this.length),this[Y]<<24|this[Y+1]<<16|this[Y+2]<<8|this[Y+3]},p.prototype.readFloatLE=function(Y,de){return Y>>>=0,de||C(Y,4,this.length),st.read(this,Y,!0,23,4)},p.prototype.readFloatBE=function(Y,de){return Y>>>=0,de||C(Y,4,this.length),st.read(this,Y,!1,23,4)},p.prototype.readDoubleLE=function(Y,de){return Y>>>=0,de||C(Y,8,this.length),st.read(this,Y,!0,52,8)},p.prototype.readDoubleBE=function(Y,de){return Y>>>=0,de||C(Y,8,this.length),st.read(this,Y,!1,52,8)},p.prototype.writeUIntLE=function(Y,de,X,ae){Y=+Y,de>>>=0,X>>>=0,ae||L(this,Y,de,X,z(2,8*X)-1,0);var ce=1,Ee=0;for(this[de]=255&Y;++Ee<X&&(ce*=256);)this[de+Ee]=255&Y/ce;return de+X},p.prototype.writeUIntBE=function(Y,de,X,ae){Y=+Y,de>>>=0,X>>>=0,ae||L(this,Y,de,X,z(2,8*X)-1,0);var ce=X-1,Ee=1;for(this[de+ce]=255&Y;0<=--ce&&(Ee*=256);)this[de+ce]=255&Y/Ee;return de+X},p.prototype.writeUInt8=function(Y,de,X){return Y=+Y,de>>>=0,X||L(this,Y,de,1,255,0),this[de]=255&Y,de+1},p.prototype.writeUInt16LE=function(Y,de,X){return Y=+Y,de>>>=0,X||L(this,Y,de,2,65535,0),this[de]=255&Y,this[de+1]=Y>>>8,de+2},p.prototype.writeUInt16BE=function(Y,de,X){return Y=+Y,de>>>=0,X||L(this,Y,de,2,65535,0),this[de]=Y>>>8,this[de+1]=255&Y,de+2},p.prototype.writeUInt32LE=function(Y,de,X){return Y=+Y,de>>>=0,X||L(this,Y,de,4,4294967295,0),this[de+3]=Y>>>24,this[de+2]=Y>>>16,this[de+1]=Y>>>8,this[de]=255&Y,de+4},p.prototype.writeUInt32BE=function(Y,de,X){return Y=+Y,de>>>=0,X||L(this,Y,de,4,4294967295,0),this[de]=Y>>>24,this[de+1]=Y>>>16,this[de+2]=Y>>>8,this[de+3]=255&Y,de+4},p.prototype.writeIntLE=function(Y,de,X,ae){if(Y=+Y,de>>>=0,!ae){var Je=z(2,8*X-1);L(this,Y,de,X,Je-1,-Je)}var ce=0,Ee=1,$e=0;for(this[de]=255&Y;++ce<X&&(Ee*=256);)0>Y&&0===$e&&0!==this[de+ce-1]&&($e=1),this[de+ce]=255&(Y/Ee>>0)-$e;return de+X},p.prototype.writeIntBE=function(Y,de,X,ae){if(Y=+Y,de>>>=0,!ae){var Je=z(2,8*X-1);L(this,Y,de,X,Je-1,-Je)}var ce=X-1,Ee=1,$e=0;for(this[de+ce]=255&Y;0<=--ce&&(Ee*=256);)0>Y&&0===$e&&0!==this[de+ce+1]&&($e=1),this[de+ce]=255&(Y/Ee>>0)-$e;return de+X},p.prototype.writeInt8=function(Y,de,X){return Y=+Y,de>>>=0,X||L(this,Y,de,1,127,-128),0>Y&&(Y=255+Y+1),this[de]=255&Y,de+1},p.prototype.writeInt16LE=function(Y,de,X){return Y=+Y,de>>>=0,X||L(this,Y,de,2,32767,-32768),this[de]=255&Y,this[de+1]=Y>>>8,de+2},p.prototype.writeInt16BE=function(Y,de,X){return Y=+Y,de>>>=0,X||L(this,Y,de,2,32767,-32768),this[de]=Y>>>8,this[de+1]=255&Y,de+2},p.prototype.writeInt32LE=function(Y,de,X){return Y=+Y,de>>>=0,X||L(this,Y,de,4,2147483647,-2147483648),this[de]=255&Y,this[de+1]=Y>>>8,this[de+2]=Y>>>16,this[de+3]=Y>>>24,de+4},p.prototype.writeInt32BE=function(Y,de,X){return Y=+Y,de>>>=0,X||L(this,Y,de,4,2147483647,-2147483648),0>Y&&(Y=4294967295+Y+1),this[de]=Y>>>24,this[de+1]=Y>>>16,this[de+2]=Y>>>8,this[de+3]=255&Y,de+4},p.prototype.writeFloatLE=function(Y,de,X){return oe(this,Y,de,!0,X)},p.prototype.writeFloatBE=function(Y,de,X){return oe(this,Y,de,!1,X)},p.prototype.writeDoubleLE=function(Y,de,X){return $(this,Y,de,!0,X)},p.prototype.writeDoubleBE=function(Y,de,X){return $(this,Y,de,!1,X)},p.prototype.copy=function(Y,de,X,ae){if(!p.isBuffer(Y))throw new TypeError("argument should be a Buffer");if(X||(X=0),ae||0===ae||(ae=this.length),de>=Y.length&&(de=Y.length),de||(de=0),0<ae&&ae<X&&(ae=X),ae===X||0===Y.length||0===this.length)return 0;if(0>de)throw new RangeError("targetStart out of bounds");if(0>X||X>=this.length)throw new RangeError("Index out of range");if(0>ae)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),Y.length-de<ae-X&&(ae=Y.length-de+X);var Je=ae-X;if(this===Y&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(de,X,ae);else if(this===Y&&X<de&&de<ae)for(var ce=Je-1;0<=ce;--ce)Y[ce+de]=this[ce+X];else Uint8Array.prototype.set.call(Y,this.subarray(X,ae),de);return Je},p.prototype.fill=function(Y,de,X,ae){if("string"==typeof Y){if("string"==typeof de?(ae=de,de=0,X=this.length):"string"==typeof X&&(ae=X,X=this.length),void 0!==ae&&"string"!=typeof ae)throw new TypeError("encoding must be a string");if("string"==typeof ae&&!p.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(1===Y.length){var Je=Y.charCodeAt(0);("utf8"===ae&&128>Je||"latin1"===ae)&&(Y=Je)}}else"number"==typeof Y&&(Y&=255);if(0>de||this.length<de||this.length<X)throw new RangeError("Out of range index");if(X<=de)return this;var ce;if(de>>>=0,X=void 0===X?this.length:X>>>0,Y||(Y=0),"number"==typeof Y)for(ce=de;ce<X;++ce)this[ce]=Y;else{var Ee=p.isBuffer(Y)?Y:p.from(Y,ae),$e=Ee.length;if(0===$e)throw new TypeError('The value "'+Y+'" is invalid for argument "value"');for(ce=0;ce<X-de;++ce)this[ce+de]=Ee[ce%$e]}return this};var ft=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,v("buffer").Buffer)},{"base64-js":23,buffer:69,ieee754:157}],70:[function(v,M){"use strict";function g(){g.init.call(this)}function p(R){if("function"!=typeof R)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof R)}function x(R){return void 0===R._maxListeners?g.defaultMaxListeners:R._maxListeners}function r(R,F,q,K){var he,Ae,xe;if(p(q),void 0===(Ae=R._events)?(Ae=R._events=Object.create(null),R._eventsCount=0):(void 0!==Ae.newListener&&(R.emit("newListener",F,q.listener?q.listener:q),Ae=R._events),xe=Ae[F]),void 0===xe)xe=Ae[F]=q,++R._eventsCount;else if("function"==typeof xe?xe=Ae[F]=K?[q,xe]:[xe,q]:K?xe.unshift(q):xe.push(q),0<(he=x(R))&&xe.length>he&&!xe.warned){xe.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+xe.length+" "+F+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=R,A.type=F,A.count=xe.length,function h(R){console&&console.warn&&console.warn(R)}(A)}return R}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(R,F,q){var K={fired:!1,wrapFn:void 0,target:R,type:F,listener:q},he=c.bind(K);return he.listener=q,K.wrapFn=he,he}function n(R,F,q){var K=R._events;if(void 0===K)return[];var he=K[F];return void 0===he?[]:"function"==typeof he?q?[he.listener||he]:[he]:q?function u(R){for(var F=Array(R.length),q=0;q<F.length;++q)F[q]=R[q].listener||R[q];return F}(he):i(he,he.length)}function t(R){var F=this._events;if(void 0!==F){var q=F[R];if("function"==typeof q)return 1;if(void 0!==q)return q.length}return 0}function i(R,F){for(var q=Array(F),K=0;K<F;++K)q[K]=R[K];return q}function l(R,F,q,K){if("function"==typeof R.on)K.once?R.once(F,q):R.on(F,q);else{if("function"!=typeof R.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof R);R.addEventListener(F,function he(Ae){K.once&&R.removeEventListener(F,he),q(Ae)})}}var b,d="object"==typeof Reflect?Reflect:null,w=d&&"function"==typeof d.apply?d.apply:function(R,F,q){return Function.prototype.apply.call(R,F,q)};b=d&&"function"==typeof d.ownKeys?d.ownKeys:Object.getOwnPropertySymbols?function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:function(R){return Object.getOwnPropertyNames(R)};var I=Number.isNaN||function(R){return R!=R};M.exports=g,M.exports.once=function(R,F){return new Promise(function(q,K){function he(xe){R.removeListener(F,Ae),K(xe)}function Ae(){"function"==typeof R.removeListener&&R.removeListener("error",he),q([].slice.call(arguments))}l(R,F,Ae,{once:!0}),"error"!==F&&function o(R,F,q){"function"==typeof R.on&&l(R,"error",F,q)}(R,he,{once:!0})})},g.EventEmitter=g,g.prototype._events=void 0,g.prototype._eventsCount=0,g.prototype._maxListeners=void 0;var S=10;Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(R){if("number"!=typeof R||0>R||I(R))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+R+".");S=R}}),g.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},g.prototype.setMaxListeners=function(R){if("number"!=typeof R||0>R||I(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this},g.prototype.getMaxListeners=function(){return x(this)},g.prototype.emit=function(R){for(var F=[],q=1;q<arguments.length;q++)F.push(arguments[q]);var K="error"===R,he=this._events;if(void 0!==he)K=K&&void 0===he.error;else if(!K)return!1;if(K){var Ae;if(0<F.length&&(Ae=F[0]),Ae instanceof Error)throw Ae;var xe=new Error("Unhandled error."+(Ae?" ("+Ae.message+")":""));throw xe.context=Ae,xe}var A=he[R];if(void 0===A)return!1;if("function"==typeof A)w(A,this,F);else{var N=A.length,U=i(A,N);for(q=0;q<N;++q)w(U[q],this,F)}return!0},g.prototype.on=g.prototype.addListener=function(R,F){return r(this,R,F,!1)},g.prototype.prependListener=function(R,F){return r(this,R,F,!0)},g.prototype.once=function(R,F){return p(F),this.on(R,f(this,R,F)),this},g.prototype.prependOnceListener=function(R,F){return p(F),this.prependListener(R,f(this,R,F)),this},g.prototype.off=g.prototype.removeListener=function(R,F){var q,K,he,Ae,xe;if(p(F),void 0===(K=this._events))return this;if(void 0===(q=K[R]))return this;if(q===F||q.listener===F)0==--this._eventsCount?this._events=Object.create(null):(delete K[R],K.removeListener&&this.emit("removeListener",R,q.listener||F));else if("function"!=typeof q){for(he=-1,Ae=q.length-1;0<=Ae;Ae--)if(q[Ae]===F||q[Ae].listener===F){xe=q[Ae].listener,he=Ae;break}if(0>he)return this;0===he?q.shift():function s(R,F){for(;F+1<R.length;F++)R[F]=R[F+1];R.pop()}(q,he),1===q.length&&(K[R]=q[0]),void 0!==K.removeListener&&this.emit("removeListener",R,xe||F)}return this},g.prototype.removeAllListeners=function(R){var F,q,K;if(void 0===(q=this._events))return this;if(void 0===q.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==q[R]&&(0==--this._eventsCount?this._events=Object.create(null):delete q[R]),this;if(0===arguments.length){var Ae,he=Object.keys(q);for(K=0;K<he.length;++K)"removeListener"!==(Ae=he[K])&&this.removeAllListeners(Ae);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(F=q[R]))this.removeListener(R,F);else if(void 0!==F)for(K=F.length-1;0<=K;K--)this.removeListener(R,F[K]);return this},g.prototype.listeners=function(R){return n(this,R,!0)},g.prototype.rawListeners=function(R){return n(this,R,!1)},g.listenerCount=function(R,F){return"function"==typeof R.listenerCount?R.listenerCount(F):t.call(R,F)},g.prototype.listenerCount=t,g.prototype.eventNames=function(){return 0<this._eventsCount?b(this._events):[]}},{}],71:[function(v,M){(function(h){(function(){"use strict";function g(c){if("string"!=typeof c)throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function p(c,f){for(var o,n="",t=0,i=-1,s=0,u=0;u<=c.length;++u){if(u<c.length)o=c.charCodeAt(u);else{if(47===o)break;o=47}if(47===o){if(i!==u-1&&1!==s)if(i!==u-1&&2===s){if(2>n.length||2!==t||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(2<n.length){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",t=0):t=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),i=u,s=0;continue}}else if(2===n.length||1===n.length){n="",t=0,i=u,s=0;continue}f&&(0<n.length?n+="/..":n="..",t=2)}else 0<n.length?n+="/"+c.slice(i+1,u):n=c.slice(i+1,u),t=u-i-1;i=u,s=0}else 46===o&&-1!==s?++s:s=-1}return n}var r={resolve:function(){for(var t,c="",f=!1,n=arguments.length-1;-1<=n&&!f;n--){var i;0<=n?i=arguments[n]:(void 0===t&&(t=h.cwd()),i=t),g(i),0!==i.length&&(c=i+"/"+c,f=47===i.charCodeAt(0))}return c=p(c,!f),f?0<c.length?"/"+c:"/":0<c.length?c:"."},normalize:function(c){if(g(c),0===c.length)return".";var f=47===c.charCodeAt(0),n=47===c.charCodeAt(c.length-1);return 0!==(c=p(c,!f)).length||f||(c="."),0<c.length&&n&&(c+="/"),f?"/"+c:c},isAbsolute:function(c){return g(c),0<c.length&&47===c.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var f,n,c=0;c<arguments.length;++c)g(n=arguments[c]),0<n.length&&(void 0===f?f=n:f+="/"+n);return void 0===f?".":r.normalize(f)},relative:function(c,f){if(g(c),g(f),c===f||(c=r.resolve(c))===(f=r.resolve(f)))return"";for(var n=1;n<c.length&&47===c.charCodeAt(n);++n);for(var t=c.length,i=t-n,s=1;s<f.length&&47===f.charCodeAt(s);++s);for(var o=f.length-s,l=i<o?i:o,d=-1,w=0;w<=l;++w){if(w===l){if(o>l){if(47===f.charCodeAt(s+w))return f.slice(s+w+1);if(0===w)return f.slice(s+w)}else i>l&&(47===c.charCodeAt(n+w)?d=w:0===w&&(d=0));break}var b=c.charCodeAt(n+w);if(b!==f.charCodeAt(s+w))break;47===b&&(d=w)}var S="";for(w=n+d+1;w<=t;++w)(w===t||47===c.charCodeAt(w))&&(S+=0===S.length?"..":"/..");return 0<S.length?S+f.slice(s+d):(47===f.charCodeAt(s+=d)&&++s,f.slice(s))},_makeLong:function(c){return c},dirname:function(c){if(g(c),0===c.length)return".";for(var f=c.charCodeAt(0),n=47===f,t=-1,i=!0,s=c.length-1;1<=s;--s)if(47!==(f=c.charCodeAt(s)))i=!1;else if(!i){t=s;break}return-1===t?n?"/":".":n&&1===t?"//":c.slice(0,t)},basename:function(c,f){if(void 0!==f&&"string"!=typeof f)throw new TypeError('"ext" argument must be a string');g(c);var s,n=0,t=-1,i=!0;if(void 0!==f&&0<f.length&&f.length<=c.length){if(f.length===c.length&&f===c)return"";var u=f.length-1,o=-1;for(s=c.length-1;0<=s;--s){var l=c.charCodeAt(s);if(47!==l)-1===o&&(i=!1,o=s+1),0<=u&&(l===f.charCodeAt(u)?-1==--u&&(t=s):(u=-1,t=o));else if(!i){n=s+1;break}}return n===t?t=o:-1===t&&(t=c.length),c.slice(n,t)}for(s=c.length-1;0<=s;--s)if(47!==c.charCodeAt(s))-1===t&&(i=!1,t=s+1);else if(!i){n=s+1;break}return-1===t?"":c.slice(n,t)},extname:function(c){g(c);for(var o,f=-1,n=0,t=-1,i=!0,s=0,u=c.length-1;0<=u;--u)if(47!==(o=c.charCodeAt(u)))-1===t&&(i=!1,t=u+1),46===o?-1===f?f=u:1!==s&&(s=1):-1!==f&&(s=-1);else if(!i){n=u+1;break}return-1===f||-1===t||0===s||1===s&&f===t-1&&f===n+1?"":c.slice(f,t)},format:function(c){if(null===c||"object"!=typeof c)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function x(c,f){var n=f.dir||f.root,t=f.base||(f.name||"")+(f.ext||"");return n?n===f.root?n+t:n+c+t:t}("/",c)},parse:function(c){g(c);var f={root:"",dir:"",base:"",ext:"",name:""};if(0===c.length)return f;var i,n=c.charCodeAt(0),t=47===n;t?(f.root="/",i=1):i=0;for(var s=-1,u=0,o=-1,l=!0,d=c.length-1,w=0;d>=i;--d)if(47!==(n=c.charCodeAt(d)))-1===o&&(l=!1,o=d+1),46===n?-1===s?s=d:1!==w&&(w=1):-1!==s&&(w=-1);else if(!l){u=d+1;break}return-1===s||-1===o||0===w||1===w&&s===o-1&&s===u+1?-1!==o&&(f.base=f.name=c.slice(0===u&&t?1:u,o)):(0===u&&t?(f.name=c.slice(1,s),f.base=c.slice(1,o)):(f.name=c.slice(u,s),f.base=c.slice(u,o)),f.ext=c.slice(s,o)),0<u?f.dir=c.slice(0,u-1):t&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,M.exports=r}).call(this)}).call(this,v("_process"))},{_process:205}],72:[function(v,M){function h(){g.call(this)}M.exports=h;var g=v("events").EventEmitter;v("inherits")(h,g),h.Readable=v("readable-stream/lib/_stream_readable.js"),h.Writable=v("readable-stream/lib/_stream_writable.js"),h.Duplex=v("readable-stream/lib/_stream_duplex.js"),h.Transform=v("readable-stream/lib/_stream_transform.js"),h.PassThrough=v("readable-stream/lib/_stream_passthrough.js"),h.finished=v("readable-stream/lib/internal/streams/end-of-stream.js"),h.pipeline=v("readable-stream/lib/internal/streams/pipeline.js"),h.Stream=h,h.prototype.pipe=function(x,r){function c(l){x.writable&&!1===x.write(l)&&u.pause&&u.pause()}function f(){u.readable&&u.resume&&u.resume()}function n(){o||(o=!0,x.end())}function t(){o||(o=!0,"function"==typeof x.destroy&&x.destroy())}function i(l){if(s(),0===g.listenerCount(this,"error"))throw l}function s(){u.removeListener("data",c),x.removeListener("drain",f),u.removeListener("end",n),u.removeListener("close",t),u.removeListener("error",i),x.removeListener("error",i),u.removeListener("end",s),u.removeListener("close",s),x.removeListener("close",s)}var u=this;u.on("data",c),x.on("drain",f),x._isStdio||r&&!1===r.end||(u.on("end",n),u.on("close",t));var o=!1;return u.on("error",i),x.on("error",i),u.on("end",s),u.on("close",s),x.on("close",s),x.emit("pipe",u),x}},{events:70,inherits:159,"readable-stream/lib/_stream_duplex.js":74,"readable-stream/lib/_stream_passthrough.js":75,"readable-stream/lib/_stream_readable.js":76,"readable-stream/lib/_stream_transform.js":77,"readable-stream/lib/_stream_writable.js":78,"readable-stream/lib/internal/streams/end-of-stream.js":82,"readable-stream/lib/internal/streams/pipeline.js":84}],73:[function(v,M){"use strict";function g(n,t,i){i||(i=Error);var u=function(o){function l(d,w,b){return o.call(this,function s(o,l,d){return"string"==typeof t?t:t(o,l,d)}(d,w,b))||this}return function h(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}(l,o),l}(i);u.prototype.name=i.name,u.prototype.code=n,f[n]=u}function p(n,t){if(Array.isArray(n)){var i=n.length;return n=n.map(function(s){return s+""}),2<i?"one of ".concat(t," ").concat(n.slice(0,i-1).join(", "),", or ")+n[i-1]:2===i?"one of ".concat(t," ").concat(n[0]," or ").concat(n[1]):"of ".concat(t," ").concat(n[0])}return"of ".concat(t," ").concat(n+"")}var f={};g("ERR_INVALID_OPT_VALUE",function(n,t){return'The value "'+t+'" is invalid for option "'+n+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(n,t,i){var s,u;if("string"==typeof t&&function x(n,t,i){return n.substr(!i||0>i?0:+i,t.length)===t}(t,"not ")?(s="must not be",t=t.replace(/^not /,"")):s="must be",function r(n,t,i){return(void 0===i||i>n.length)&&(i=n.length),n.substring(i-t.length,i)===t}(n," argument"))u="The ".concat(n," ").concat(s," ").concat(p(t,"type"));else{var o=function c(n,t,i){return"number"!=typeof i&&(i=0),!(i+t.length>n.length)&&-1!==n.indexOf(t,i)}(n,".")?"property":"argument";u='The "'.concat(n,'" ').concat(o," ").concat(s," ").concat(p(t,"type"))}return u+". Received type ".concat(typeof i)},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(n){return"The "+n+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(n){return"Cannot call "+n+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(n){return"Unknown encoding: "+n},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),M.exports.codes=f},{}],74:[function(v,M){(function(h){(function(){"use strict";function g(s){return this instanceof g?(c.call(this,s),f.call(this,s),this.allowHalfOpen=!0,void(s&&(!1===s.readable&&(this.readable=!1),!1===s.writable&&(this.writable=!1),!1===s.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",p))))):new g(s)}function p(){this._writableState.ended||h.nextTick(x,this)}function x(s){s.end()}var r=Object.keys||function(s){var u=[];for(var o in s)u.push(o);return u};M.exports=g;var c=v("./_stream_readable"),f=v("./_stream_writable");v("inherits")(g,c);for(var i,n=r(f.prototype),t=0;t<n.length;t++)g.prototype[i=n[t]]||(g.prototype[i]=f.prototype[i]);Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(s){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=s,this._writableState.destroyed=s)}})}).call(this)}).call(this,v("_process"))},{"./_stream_readable":76,"./_stream_writable":78,_process:205,inherits:159}],75:[function(v,M){"use strict";function h(p){return this instanceof h?void g.call(this,p):new h(p)}M.exports=h;var g=v("./_stream_transform");v("inherits")(h,g),h.prototype._transform=function(p,x,r){r(null,p)}},{"./_stream_transform":77,inherits:159}],76:[function(v,M){(function(h,g){(function(){"use strict";function c(X,ae,Je){N=N||v("./_stream_duplex"),"boolean"!=typeof Je&&(Je=ae instanceof N),this.objectMode=!!(X=X||{}).objectMode,Je&&(this.objectMode=this.objectMode||!!X.readableObjectMode),this.highWaterMark=Ve(this,X,"readableHighWaterMark",Je),this.buffer=new ue,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==X.emitClose,this.autoDestroy=!!X.autoDestroy,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(!Ye&&(Ye=v("string_decoder/").StringDecoder),this.decoder=new Ye(X.encoding),this.encoding=X.encoding)}function f(X){if(N=N||v("./_stream_duplex"),!(this instanceof f))return new f(X);this._readableState=new c(X,this,this instanceof N),this.readable=!0,X&&("function"==typeof X.read&&(this._read=X.read),"function"==typeof X.destroy&&(this._destroy=X.destroy)),C.call(this)}function n(X,ae,Je,ce,Ee){$("readableAddChunk",ae);var nt,$e=X._readableState;if(null===ae)$e.reading=!1,function o(X,ae){if($("onEofChunk"),!ae.ended){if(ae.decoder){var Je=ae.decoder.end();Je&&Je.length&&(ae.buffer.push(Je),ae.length+=ae.objectMode?1:Je.length)}ae.ended=!0,ae.sync?l(X):(ae.needReadable=!1,!ae.emittedReadable&&(ae.emittedReadable=!0,d(X)))}}(X,$e);else if(Ee||(nt=function i(X,ae){var Je;return function x(X){return L.isBuffer(X)||X instanceof O}(ae)||"string"==typeof ae||void 0===ae||X.objectMode||(Je=new at("chunk",["string","Buffer","Uint8Array"],ae)),Je}($e,ae)),nt)Y(X,nt);else if($e.objectMode||ae&&0<ae.length)if("string"==typeof ae||$e.objectMode||Object.getPrototypeOf(ae)===L.prototype||(ae=function p(X){return L.from(X)}(ae)),ce)$e.endEmitted?Y(X,new Jt):t(X,$e,ae,!0);else if($e.ended)Y(X,new zt);else{if($e.destroyed)return!1;$e.reading=!1,$e.decoder&&!Je?(ae=$e.decoder.write(ae),$e.objectMode||0!==ae.length?t(X,$e,ae,!1):w(X,$e)):t(X,$e,ae,!1)}else ce||($e.reading=!1,w(X,$e));return!$e.ended&&($e.length<$e.highWaterMark||0===$e.length)}function t(X,ae,Je,ce){ae.flowing&&0===ae.length&&!ae.sync?(ae.awaitDrain=0,X.emit("data",Je)):(ae.length+=ae.objectMode?1:Je.length,ce?ae.buffer.unshift(Je):ae.buffer.push(Je),ae.needReadable&&l(X)),w(X,ae)}function u(X,ae){return 0>=X||0===ae.length&&ae.ended?0:ae.objectMode?1:X==X?(X>ae.highWaterMark&&(ae.highWaterMark=function s(X){return 1073741824<=X?X=1073741824:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}(X)),X<=ae.length?X:ae.ended?ae.length:(ae.needReadable=!0,0)):ae.flowing&&ae.length?ae.buffer.head.data.length:ae.length}function l(X){var ae=X._readableState;$("emitReadable",ae.needReadable,ae.emittedReadable),ae.needReadable=!1,ae.emittedReadable||($("emitReadable",ae.flowing),ae.emittedReadable=!0,h.nextTick(d,X))}function d(X){var ae=X._readableState;$("emitReadable_",ae.destroyed,ae.length,ae.ended),!ae.destroyed&&(ae.length||ae.ended)&&(X.emit("readable"),ae.emittedReadable=!1),ae.needReadable=!ae.flowing&&!ae.ended&&ae.length<=ae.highWaterMark,K(X)}function w(X,ae){ae.readingMore||(ae.readingMore=!0,h.nextTick(b,X,ae))}function b(X,ae){for(;!ae.reading&&!ae.ended&&(ae.length<ae.highWaterMark||ae.flowing&&0===ae.length);){var Je=ae.length;if($("maybeReadMore read 0"),X.read(0),Je===ae.length)break}ae.readingMore=!1}function S(X){var ae=X._readableState;ae.readableListening=0<X.listenerCount("readable"),ae.resumeScheduled&&!ae.paused?ae.flowing=!0:0<X.listenerCount("data")&&X.resume()}function R(X){$("readable nexttick read 0"),X.read(0)}function q(X,ae){$("resume",ae.reading),ae.reading||X.read(0),ae.resumeScheduled=!1,X.emit("resume"),K(X),ae.flowing&&!ae.reading&&X.read(0)}function K(X){var ae=X._readableState;for($("flow",ae.flowing);ae.flowing&&null!==X.read(););}function he(X,ae){return 0===ae.length?null:(ae.objectMode?Je=ae.buffer.shift():!X||X>=ae.length?(Je=ae.decoder?ae.buffer.join(""):1===ae.buffer.length?ae.buffer.first():ae.buffer.concat(ae.length),ae.buffer.clear()):Je=ae.buffer.consume(X,ae.decoder),Je);var Je}function Ae(X){var ae=X._readableState;$("endReadable",ae.endEmitted),ae.endEmitted||(ae.ended=!0,h.nextTick(xe,ae,X))}function xe(X,ae){if($("endReadableNT",X.endEmitted,X.length),!X.endEmitted&&0===X.length&&(X.endEmitted=!0,ae.readable=!1,ae.emit("end"),X.autoDestroy)){var Je=ae._writableState;(!Je||Je.autoDestroy&&Je.finished)&&ae.destroy()}}function A(X,ae){for(var Je=0,ce=X.length;Je<ce;Je++)if(X[Je]===ae)return Je;return-1}var N;M.exports=f,f.ReadableState=c,v("events");var $,y=function(X,ae){return X.listeners(ae).length},C=v("./internal/streams/stream"),L=v("buffer").Buffer,O=g.Uint8Array||function(){},oe=v("util");$=oe&&oe.debuglog?oe.debuglog("stream"):function(){};var Ye,st,ft,ue=v("./internal/streams/buffer_list"),qe=v("./internal/streams/destroy"),Ve=v("./internal/streams/state").getHighWaterMark,tt=v("../errors").codes,at=tt.ERR_INVALID_ARG_TYPE,zt=tt.ERR_STREAM_PUSH_AFTER_EOF,Wt=tt.ERR_METHOD_NOT_IMPLEMENTED,Jt=tt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;v("inherits")(f,C);var Y=qe.errorOrDestroy,de=["error","close","destroy","pause","resume"];Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(X){this._readableState&&(this._readableState.destroyed=X)}}),f.prototype.destroy=qe.destroy,f.prototype._undestroy=qe.undestroy,f.prototype._destroy=function(X,ae){ae(X)},f.prototype.push=function(X,ae){var ce,Je=this._readableState;return Je.objectMode?ce=!0:"string"==typeof X&&((ae=ae||Je.defaultEncoding)!==Je.encoding&&(X=L.from(X,ae),ae=""),ce=!0),n(this,X,ae,!1,ce)},f.prototype.unshift=function(X){return n(this,X,null,!0,!1)},f.prototype.isPaused=function(){return!1===this._readableState.flowing},f.prototype.setEncoding=function(X){Ye||(Ye=v("string_decoder/").StringDecoder);var ae=new Ye(X);this._readableState.decoder=ae,this._readableState.encoding=this._readableState.decoder.encoding;for(var Je=this._readableState.buffer.head,ce="";null!==Je;)ce+=ae.write(Je.data),Je=Je.next;return this._readableState.buffer.clear(),""!==ce&&this._readableState.buffer.push(ce),this._readableState.length=ce.length,this},f.prototype.read=function(X){$("read",X),X=parseInt(X,10);var ae=this._readableState,Je=X;if(0!==X&&(ae.emittedReadable=!1),0===X&&ae.needReadable&&((0===ae.highWaterMark?0<ae.length:ae.length>=ae.highWaterMark)||ae.ended))return $("read: emitReadable",ae.length,ae.ended),0===ae.length&&ae.ended?Ae(this):l(this),null;if(0===(X=u(X,ae))&&ae.ended)return 0===ae.length&&Ae(this),null;var Ee,ce=ae.needReadable;return $("need readable",ce),(0===ae.length||ae.length-X<ae.highWaterMark)&&$("length less than watermark",ce=!0),ae.ended||ae.reading?$("reading or ended",ce=!1):ce&&($("do read"),ae.reading=!0,ae.sync=!0,0===ae.length&&(ae.needReadable=!0),this._read(ae.highWaterMark),ae.sync=!1,!ae.reading&&(X=u(Je,ae))),null===(Ee=0<X?he(X,ae):null)?(ae.needReadable=ae.length<=ae.highWaterMark,X=0):(ae.length-=X,ae.awaitDrain=0),0===ae.length&&(!ae.ended&&(ae.needReadable=!0),Je!==X&&ae.ended&&Ae(this)),null!==Ee&&this.emit("data",Ee),Ee},f.prototype._read=function(){Y(this,new Wt("_read()"))},f.prototype.pipe=function(X,ae){function ce(){$("onend"),X.end()}function $e(Cn){$("ondata");var Bn=X.write(Cn);$("dest.write",Bn),!1===Bn&&((1===Xt.pipesCount&&Xt.pipes===X||1<Xt.pipesCount&&-1!==A(Xt.pipes,X))&&!En&&($("false write response, pause",Xt.awaitDrain),Xt.awaitDrain++),Dt.pause())}function nt(Cn){$("onerror",Cn),Ht(),X.removeListener("error",nt),0===y(X,"error")&&Y(X,Cn)}function ct(){X.removeListener("finish",Ut),Ht()}function Ut(){$("onfinish"),X.removeListener("close",ct),Ht()}function Ht(){$("unpipe"),Dt.unpipe(X)}var Dt=this,Xt=this._readableState;switch(Xt.pipesCount){case 0:Xt.pipes=X;break;case 1:Xt.pipes=[Xt.pipes,X];break;default:Xt.pipes.push(X)}Xt.pipesCount+=1,$("pipe count=%d opts=%j",Xt.pipesCount,ae);var bn=ae&&!1===ae.end||X===h.stdout||X===h.stderr?Ht:ce;Xt.endEmitted?h.nextTick(bn):Dt.once("end",bn),X.on("unpipe",function Je(Cn,Bn){$("onunpipe"),Cn===Dt&&Bn&&!1===Bn.hasUnpiped&&(Bn.hasUnpiped=!0,function Ee(){$("cleanup"),X.removeListener("close",ct),X.removeListener("finish",Ut),X.removeListener("drain",Nn),X.removeListener("error",nt),X.removeListener("unpipe",Je),Dt.removeListener("end",ce),Dt.removeListener("end",Ht),Dt.removeListener("data",$e),En=!0,Xt.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&Nn()}())});var Nn=function I(X){return function(){var ae=X._readableState;$("pipeOnDrain",ae.awaitDrain),ae.awaitDrain&&ae.awaitDrain--,0===ae.awaitDrain&&y(X,"data")&&(ae.flowing=!0,K(X))}}(Dt);X.on("drain",Nn);var En=!1;return Dt.on("data",$e),function r(X,ae,Je){"function"==typeof X.prependListener?X.prependListener(ae,Je):X._events&&X._events[ae]?Array.isArray(X._events[ae])?X._events[ae].unshift(Je):X._events[ae]=[Je,X._events[ae]]:X.on(ae,Je)}(X,"error",nt),X.once("close",ct),X.once("finish",Ut),X.emit("pipe",Dt),Xt.flowing||($("pipe resume"),Dt.resume()),X},f.prototype.unpipe=function(X){var ae=this._readableState,Je={hasUnpiped:!1};if(0===ae.pipesCount)return this;if(1===ae.pipesCount)return X&&X!==ae.pipes||(X||(X=ae.pipes),ae.pipes=null,ae.pipesCount=0,ae.flowing=!1,X&&X.emit("unpipe",this,Je)),this;if(!X){var ce=ae.pipes,Ee=ae.pipesCount;ae.pipes=null,ae.pipesCount=0,ae.flowing=!1;for(var $e=0;$e<Ee;$e++)ce[$e].emit("unpipe",this,{hasUnpiped:!1});return this}var nt=A(ae.pipes,X);return-1===nt||(ae.pipes.splice(nt,1),ae.pipesCount-=1,1===ae.pipesCount&&(ae.pipes=ae.pipes[0]),X.emit("unpipe",this,Je)),this},f.prototype.addListener=f.prototype.on=function(X,ae){var Je=C.prototype.on.call(this,X,ae),ce=this._readableState;return"data"===X?(ce.readableListening=0<this.listenerCount("readable"),!1!==ce.flowing&&this.resume()):"readable"==X&&!ce.endEmitted&&!ce.readableListening&&(ce.readableListening=ce.needReadable=!0,ce.flowing=!1,ce.emittedReadable=!1,$("on readable",ce.length,ce.reading),ce.length?l(this):!ce.reading&&h.nextTick(R,this)),Je},f.prototype.removeListener=function(X,ae){var Je=C.prototype.removeListener.call(this,X,ae);return"readable"===X&&h.nextTick(S,this),Je},f.prototype.removeAllListeners=function(X){var ae=C.prototype.removeAllListeners.apply(this,arguments);return("readable"===X||void 0===X)&&h.nextTick(S,this),ae},f.prototype.resume=function(){var X=this._readableState;return X.flowing||($("resume"),X.flowing=!X.readableListening,function F(X,ae){ae.resumeScheduled||(ae.resumeScheduled=!0,h.nextTick(q,X,ae))}(this,X)),X.paused=!1,this},f.prototype.pause=function(){return $("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&($("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},f.prototype.wrap=function(X){var ae=this,Je=this._readableState,ce=!1;for(var Ee in X.on("end",function(){if($("wrapped end"),Je.decoder&&!Je.ended){var nt=Je.decoder.end();nt&&nt.length&&ae.push(nt)}ae.push(null)}),X.on("data",function(nt){$("wrapped data"),Je.decoder&&(nt=Je.decoder.write(nt)),Je.objectMode&&null==nt||!(Je.objectMode||nt&&nt.length)||ae.push(nt)||(ce=!0,X.pause())}),X)void 0===this[Ee]&&"function"==typeof X[Ee]&&(this[Ee]=function(nt){return function(){return X[nt].apply(X,arguments)}}(Ee));for(var $e=0;$e<de.length;$e++)X.on(de[$e],this.emit.bind(this,de[$e]));return this._read=function(nt){$("wrapped _read",nt),ce&&(ce=!1,X.resume())},this},"function"==typeof Symbol&&(f.prototype[Symbol.asyncIterator]=function(){return void 0===st&&(st=v("./internal/streams/async_iterator")),st(this)}),Object.defineProperty(f.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(f.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(f.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(X){this._readableState&&(this._readableState.flowing=X)}}),f._fromList=he,Object.defineProperty(f.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(f.from=function(X,ae){return void 0===ft&&(ft=v("./internal/streams/from")),ft(f,X,ae)})}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"../errors":73,"./_stream_duplex":74,"./internal/streams/async_iterator":79,"./internal/streams/buffer_list":80,"./internal/streams/destroy":81,"./internal/streams/from":83,"./internal/streams/state":85,"./internal/streams/stream":86,_process:205,buffer:69,events:70,inherits:159,"string_decoder/":276,util:41}],77:[function(v,M){"use strict";function h(s,u){var o=this._transformState;o.transforming=!1;var l=o.writecb;if(null===l)return this.emit("error",new f);o.writechunk=null,o.writecb=null,null!=u&&this.push(u),l(s);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}function g(s){return this instanceof g?(i.call(this,s),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,s&&("function"==typeof s.transform&&(this._transform=s.transform),"function"==typeof s.flush&&(this._flush=s.flush)),void this.on("prefinish",p)):new g(s)}function p(){var s=this;"function"!=typeof this._flush||this._readableState.destroyed?x(this,null,null):this._flush(function(u,o){x(s,u,o)})}function x(s,u,o){if(u)return s.emit("error",u);if(null!=o&&s.push(o),s._writableState.length)throw new t;if(s._transformState.transforming)throw new n;return s.push(null)}M.exports=g;var r=v("../errors").codes,c=r.ERR_METHOD_NOT_IMPLEMENTED,f=r.ERR_MULTIPLE_CALLBACK,n=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,t=r.ERR_TRANSFORM_WITH_LENGTH_0,i=v("./_stream_duplex");v("inherits")(g,i),g.prototype.push=function(s,u){return this._transformState.needTransform=!1,i.prototype.push.call(this,s,u)},g.prototype._transform=function(s,u,o){o(new c("_transform()"))},g.prototype._write=function(s,u,o){var l=this._transformState;if(l.writecb=o,l.writechunk=s,l.writeencoding=u,!l.transforming){var d=this._readableState;(l.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}},g.prototype._read=function(){var s=this._transformState;null===s.writechunk||s.transforming?s.needTransform=!0:(s.transforming=!0,this._transform(s.writechunk,s.writeencoding,s.afterTransform))},g.prototype._destroy=function(s,u){i.prototype._destroy.call(this,s,function(o){u(o)})}},{"../errors":73,"./_stream_duplex":74,inherits:159}],78:[function(v,M){(function(h,g){(function(){"use strict";function p(Ye){var st=this;this.next=null,this.entry=null,this.finish=function(){!function Ae(Ye,st,ft){var Y=Ye.entry;for(Ye.entry=null;Y;){var de=Y.callback;st.pendingcb--,de(ft),Y=Y.next}st.corkedRequestsFree.next=Ye}(st,Ye)}}function c(){}function f(Ye,st,ft){xe=xe||v("./_stream_duplex"),"boolean"!=typeof ft&&(ft=st instanceof xe),this.objectMode=!!(Ye=Ye||{}).objectMode,ft&&(this.objectMode=this.objectMode||!!Ye.writableObjectMode),this.highWaterMark=O(this,Ye,"writableHighWaterMark",ft),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ye.decodeStrings),this.defaultEncoding=Ye.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(de){!function w(Ye,st){var ft=Ye._writableState,Y=ft.sync,de=ft.writecb;if("function"!=typeof de)throw new qe;if(function d(Ye){Ye.writing=!1,Ye.writecb=null,Ye.length-=Ye.writelen,Ye.writelen=0}(ft),st)!function l(Ye,st,ft,Y,de){--st.pendingcb,ft?(h.nextTick(de,Y),h.nextTick(K,Ye,st),Ye._writableState.errorEmitted=!0,Wt(Ye,Y)):(de(Y),Ye._writableState.errorEmitted=!0,Wt(Ye,Y),K(Ye,st))}(Ye,ft,Y,st,de);else{var X=R(ft)||Ye.destroyed;X||ft.corked||ft.bufferProcessing||!ft.bufferedRequest||S(Ye,ft),Y?h.nextTick(b,Ye,ft,X,de):b(Ye,ft,X,de)}}(st,de)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Ye.emitClose,this.autoDestroy=!!Ye.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new p(this)}function n(Ye){var st=this instanceof(xe=xe||v("./_stream_duplex"));return st||Jt.call(n,this)?(this._writableState=new f(Ye,this,st),this.writable=!0,Ye&&("function"==typeof Ye.write&&(this._write=Ye.write),"function"==typeof Ye.writev&&(this._writev=Ye.writev),"function"==typeof Ye.destroy&&(this._destroy=Ye.destroy),"function"==typeof Ye.final&&(this._final=Ye.final)),void N.call(this)):new n(Ye)}function o(Ye,st,ft,Y,de,X,ae){st.writelen=Y,st.writecb=ae,st.writing=!0,st.sync=!0,st.destroyed?st.onwrite(new Ve("write")):ft?Ye._writev(de,st.onwrite):Ye._write(de,X,st.onwrite),st.sync=!1}function b(Ye,st,ft,Y){ft||function I(Ye,st){0===st.length&&st.needDrain&&(st.needDrain=!1,Ye.emit("drain"))}(Ye,st),st.pendingcb--,Y(),K(Ye,st)}function S(Ye,st){st.bufferProcessing=!0;var ft=st.bufferedRequest;if(Ye._writev&&ft&&ft.next){var de=Array(st.bufferedRequestCount),X=st.corkedRequestsFree;X.entry=ft;for(var ae=0,Je=!0;ft;)de[ae]=ft,ft.isBuf||(Je=!1),ft=ft.next,ae+=1;de.allBuffers=Je,o(Ye,st,!0,st.length,de,"",X.finish),st.pendingcb++,st.lastBufferedRequest=null,X.next?(st.corkedRequestsFree=X.next,X.next=null):st.corkedRequestsFree=new p(st),st.bufferedRequestCount=0}else{for(;ft;){var ce=ft.chunk;if(o(Ye,st,!1,st.objectMode?1:ce.length,ce,ft.encoding,ft.callback),ft=ft.next,st.bufferedRequestCount--,st.writing)break}null===ft&&(st.lastBufferedRequest=null)}st.bufferedRequest=ft,st.bufferProcessing=!1}function R(Ye){return Ye.ending&&0===Ye.length&&null===Ye.bufferedRequest&&!Ye.finished&&!Ye.writing}function F(Ye,st){Ye._final(function(ft){st.pendingcb--,ft&&Wt(Ye,ft),st.prefinished=!0,Ye.emit("prefinish"),K(Ye,st)})}function K(Ye,st){var ft=R(st);if(ft&&(function q(Ye,st){st.prefinished||st.finalCalled||("function"!=typeof Ye._final||st.destroyed?(st.prefinished=!0,Ye.emit("prefinish")):(st.pendingcb++,st.finalCalled=!0,h.nextTick(F,Ye,st)))}(Ye,st),0===st.pendingcb&&(st.finished=!0,Ye.emit("finish"),st.autoDestroy))){var Y=Ye._readableState;(!Y||Y.autoDestroy&&Y.endEmitted)&&Ye.destroy()}return ft}var xe;M.exports=n,n.WritableState=f;var Jt,A={deprecate:v("util-deprecate")},N=v("./internal/streams/stream"),U=v("buffer").Buffer,y=g.Uint8Array||function(){},C=v("./internal/streams/destroy"),O=v("./internal/streams/state").getHighWaterMark,oe=v("../errors").codes,$=oe.ERR_INVALID_ARG_TYPE,ue=oe.ERR_METHOD_NOT_IMPLEMENTED,qe=oe.ERR_MULTIPLE_CALLBACK,Ze=oe.ERR_STREAM_CANNOT_PIPE,Ve=oe.ERR_STREAM_DESTROYED,tt=oe.ERR_STREAM_NULL_VALUES,at=oe.ERR_STREAM_WRITE_AFTER_END,zt=oe.ERR_UNKNOWN_ENCODING,Wt=C.errorOrDestroy;v("inherits")(n,N),f.prototype.getBuffer=function(){for(var Ye=this.bufferedRequest,st=[];Ye;)st.push(Ye),Ye=Ye.next;return st},function(){try{Object.defineProperty(f.prototype,"buffer",{get:A.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(Ye){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Jt=Function.prototype[Symbol.hasInstance],Object.defineProperty(n,Symbol.hasInstance,{value:function(Ye){return!!Jt.call(this,Ye)||this===n&&Ye&&Ye._writableState instanceof f}})):Jt=function(Ye){return Ye instanceof this},n.prototype.pipe=function(){Wt(this,new Ze)},n.prototype.write=function(Ye,st,ft){var Y=this._writableState,de=!1,X=!Y.objectMode&&function r(Ye){return U.isBuffer(Ye)||Ye instanceof y}(Ye);return X&&!U.isBuffer(Ye)&&(Ye=function x(Ye){return U.from(Ye)}(Ye)),"function"==typeof st&&(ft=st,st=null),X?st="buffer":!st&&(st=Y.defaultEncoding),"function"!=typeof ft&&(ft=c),Y.ending?function t(Ye,st){var ft=new at;Wt(Ye,ft),h.nextTick(st,ft)}(this,ft):(X||function i(Ye,st,ft,Y){var de;return null===ft?de=new tt:"string"!=typeof ft&&!st.objectMode&&(de=new $("chunk",["string","Buffer"],ft)),!de||(Wt(Ye,de),h.nextTick(Y,de),!1)}(this,Y,Ye,ft))&&(Y.pendingcb++,de=function u(Ye,st,ft,Y,de,X){if(!ft){var ae=function s(Ye,st,ft){return Ye.objectMode||!1===Ye.decodeStrings||"string"!=typeof st||(st=U.from(st,ft)),st}(st,Y,de);Y!==ae&&(ft=!0,de="buffer",Y=ae)}var Je=st.objectMode?1:Y.length;st.length+=Je;var ce=st.length<st.highWaterMark;if(ce||(st.needDrain=!0),st.writing||st.corked){var Ee=st.lastBufferedRequest;st.lastBufferedRequest={chunk:Y,encoding:de,isBuf:ft,callback:X,next:null},Ee?Ee.next=st.lastBufferedRequest:st.bufferedRequest=st.lastBufferedRequest,st.bufferedRequestCount+=1}else o(Ye,st,!1,Je,Y,de,X);return ce}(this,Y,X,Ye,st,ft)),de},n.prototype.cork=function(){this._writableState.corked++},n.prototype.uncork=function(){var Ye=this._writableState;Ye.corked&&(Ye.corked--,!Ye.writing&&!Ye.corked&&!Ye.bufferProcessing&&Ye.bufferedRequest&&S(this,Ye))},n.prototype.setDefaultEncoding=function(Ye){if("string"==typeof Ye&&(Ye=Ye.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ye+"").toLowerCase())))throw new zt(Ye);return this._writableState.defaultEncoding=Ye,this},Object.defineProperty(n.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),n.prototype._write=function(Ye,st,ft){ft(new ue("_write()"))},n.prototype._writev=null,n.prototype.end=function(Ye,st,ft){var Y=this._writableState;return"function"==typeof Ye?(ft=Ye,Ye=null,st=null):"function"==typeof st&&(ft=st,st=null),null!=Ye&&this.write(Ye,st),Y.corked&&(Y.corked=1,this.uncork()),Y.ending||function he(Ye,st,ft){st.ending=!0,K(Ye,st),ft&&(st.finished?h.nextTick(ft):Ye.once("finish",ft)),st.ended=!0,Ye.writable=!1}(this,Y,ft),this},Object.defineProperty(n.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(n.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Ye){this._writableState&&(this._writableState.destroyed=Ye)}}),n.prototype.destroy=C.destroy,n.prototype._undestroy=C.undestroy,n.prototype._destroy=function(Ye,st){st(Ye)}}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"../errors":73,"./_stream_duplex":74,"./internal/streams/destroy":81,"./internal/streams/state":85,"./internal/streams/stream":86,_process:205,buffer:69,inherits:159,"util-deprecate":288}],79:[function(v,M){(function(h){(function(){"use strict";function g(I,S,R){return S in I?Object.defineProperty(I,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):I[S]=R,I}function p(I,S){return{value:I,done:S}}function x(I){var S=I[n];if(null!==S){var R=I[l].read();null!==R&&(I[u]=null,I[n]=null,I[t]=null,S(p(R,!1)))}}function r(I){h.nextTick(x,I)}var b,f=v("./end-of-stream"),n=Symbol("lastResolve"),t=Symbol("lastReject"),i=Symbol("error"),s=Symbol("ended"),u=Symbol("lastPromise"),o=Symbol("handlePromise"),l=Symbol("stream"),d=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((g(b={get stream(){return this[l]},next:function(){var I=this,S=this[i];if(null!==S)return Promise.reject(S);if(this[s])return Promise.resolve(p(void 0,!0));if(this[l].destroyed)return new Promise(function(K,he){h.nextTick(function(){I[i]?he(I[i]):K(p(void 0,!0))})});var F,R=this[u];if(R)F=new Promise(function c(I,S){return function(R,F){I.then(function(){return S[s]?void R(p(void 0,!0)):void S[o](R,F)},F)}}(R,this));else{var q=this[l].read();if(null!==q)return Promise.resolve(p(q,!1));F=new Promise(this[o])}return this[u]=F,F}},Symbol.asyncIterator,function(){return this}),g(b,"return",function(){var I=this;return new Promise(function(S,R){I[l].destroy(null,function(F){return F?void R(F):void S(p(void 0,!0))})})}),b),d);M.exports=function(I){var R,S=Object.create(w,(g(R={},l,{value:I,writable:!0}),g(R,n,{value:null,writable:!0}),g(R,t,{value:null,writable:!0}),g(R,i,{value:null,writable:!0}),g(R,s,{value:I._readableState.endEmitted,writable:!0}),g(R,o,{value:function(F,q){var K=S[l].read();K?(S[u]=null,S[n]=null,S[t]=null,F(p(K,!1))):(S[n]=F,S[t]=q)},writable:!0}),R));return S[u]=null,f(I,function(F){if(F&&"ERR_STREAM_PREMATURE_CLOSE"!==F.code){var q=S[t];return null!==q&&(S[u]=null,S[n]=null,S[t]=null,q(F)),void(S[i]=F)}var K=S[n];null!==K&&(S[u]=null,S[n]=null,S[t]=null,K(p(void 0,!0))),S[s]=!0}),I.on("readable",r.bind(null,S)),S}}).call(this)}).call(this,v("_process"))},{"./end-of-stream":82,_process:205}],80:[function(v,M){"use strict";function h(o,l){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(o);l&&(w=w.filter(function(b){return Object.getOwnPropertyDescriptor(o,b).enumerable})),d.push.apply(d,w)}return d}function p(o,l,d){return l in o?Object.defineProperty(o,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[l]=d,o}function r(o,l){for(var w,d=0;d<l.length;d++)(w=l[d]).enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(o,w.key,w)}function f(o,l,d){t.prototype.copy.call(o,l,d)}var t=v("buffer").Buffer,s=v("util").inspect,u=s&&s.custom||"inspect";M.exports=function(){function o(){(function x(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return function c(o,l,d){l&&r(o.prototype,l),d&&r(o,d)}(o,[{key:"push",value:function(l){var d={data:l,next:null};0<this.length?this.tail.next=d:this.head=d,this.tail=d,++this.length}},{key:"unshift",value:function(l){var d={data:l,next:this.head};0===this.length&&(this.tail=d),this.head=d,++this.length}},{key:"shift",value:function(){if(0!==this.length){var l=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,l}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(l){if(0===this.length)return"";for(var d=this.head,w=""+d.data;d=d.next;)w+=l+d.data;return w}},{key:"concat",value:function(l){if(0===this.length)return t.alloc(0);for(var d=t.allocUnsafe(l>>>0),w=this.head,b=0;w;)f(w.data,d,b),b+=w.data.length,w=w.next;return d}},{key:"consume",value:function(l,d){var w;return l<this.head.data.length?(w=this.head.data.slice(0,l),this.head.data=this.head.data.slice(l)):w=l===this.head.data.length?this.shift():d?this._getString(l):this._getBuffer(l),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(l){var d=this.head,w=1,b=d.data;for(l-=b.length;d=d.next;){var I=d.data,S=l>I.length?I.length:l;if(b+=S===I.length?I:I.slice(0,l),0==(l-=S)){S===I.length?(++w,this.head=d.next?d.next:this.tail=null):(this.head=d,d.data=I.slice(S));break}++w}return this.length-=w,b}},{key:"_getBuffer",value:function(l){var d=t.allocUnsafe(l),w=this.head,b=1;for(w.data.copy(d),l-=w.data.length;w=w.next;){var I=w.data,S=l>I.length?I.length:l;if(I.copy(d,d.length-l,0,S),0==(l-=S)){S===I.length?(++b,this.head=w.next?w.next:this.tail=null):(this.head=w,w.data=I.slice(S));break}++b}return this.length-=b,d}},{key:u,value:function(l,d){return s(this,function g(o){for(var d,l=1;l<arguments.length;l++)d=null==arguments[l]?{}:arguments[l],l%2?h(Object(d),!0).forEach(function(w){p(o,w,d[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):h(Object(d)).forEach(function(w){Object.defineProperty(o,w,Object.getOwnPropertyDescriptor(d,w))});return o}({},d,{depth:0,customInspect:!1}))}}]),o}()},{buffer:69,util:41}],81:[function(v,M){(function(h){(function(){"use strict";function g(r,c){x(r,c),p(r)}function p(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function x(r,c){r.emit("error",c)}M.exports={destroy:function(r,c){var f=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(c?c(r):r&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,h.nextTick(x,this,r)):h.nextTick(x,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(i){!c&&i?f._writableState?f._writableState.errorEmitted?h.nextTick(p,f):(f._writableState.errorEmitted=!0,h.nextTick(g,f,i)):h.nextTick(g,f,i):c?(h.nextTick(p,f),c(i)):h.nextTick(p,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,c){var f=r._readableState,n=r._writableState;f&&f.autoDestroy||n&&n.autoDestroy?r.destroy(c):r.emit("error",c)}}}).call(this)}).call(this,v("_process"))},{_process:205}],82:[function(v,M){"use strict";function g(){}var r=v("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;M.exports=function x(c,f,n){if("function"==typeof f)return x(c,null,f);f||(f={}),n=function h(c){var f=!1;return function(){if(!f){f=!0;for(var n=arguments.length,t=Array(n),i=0;i<n;i++)t[i]=arguments[i];c.apply(this,t)}}}(n||g);var t=f.readable||!1!==f.readable&&c.readable,i=f.writable||!1!==f.writable&&c.writable,s=function(){c.writable||o()},u=c._writableState&&c._writableState.finished,o=function(){i=!1,u=!0,t||n.call(c)},l=c._readableState&&c._readableState.endEmitted,d=function(){t=!1,l=!0,i||n.call(c)},w=function(S){n.call(c,S)},b=function(){var S;return t&&!l?(c._readableState&&c._readableState.ended||(S=new r),n.call(c,S)):i&&!u?(c._writableState&&c._writableState.ended||(S=new r),n.call(c,S)):void 0},I=function(){c.req.on("finish",o)};return function p(c){return c.setHeader&&"function"==typeof c.abort}(c)?(c.on("complete",o),c.on("abort",b),c.req?I():c.on("request",I)):i&&!c._writableState&&(c.on("end",s),c.on("close",s)),c.on("end",d),c.on("finish",o),!1!==f.error&&c.on("error",w),c.on("close",b),function(){c.removeListener("complete",o),c.removeListener("abort",b),c.removeListener("request",I),c.req&&c.req.removeListener("finish",o),c.removeListener("end",s),c.removeListener("close",s),c.removeListener("finish",o),c.removeListener("end",d),c.removeListener("error",w),c.removeListener("close",b)}}},{"../../../errors":73}],83:[function(v,M){M.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],84:[function(v,M){"use strict";function g(u){if(u)throw u}function x(u,o,l,d){d=function h(u){var o=!1;return function(){o||(o=!0,u.apply(void 0,arguments))}}(d);var w=!1;u.on("close",function(){w=!0}),void 0===s&&(s=v("./end-of-stream")),s(u,{readable:o,writable:l},function(I){return I?d(I):(w=!0,void d())});var b=!1;return function(I){if(!w)return b?void 0:(b=!0,function p(u){return u.setHeader&&"function"==typeof u.abort}(u)?u.abort():"function"==typeof u.destroy?u.destroy():void d(I||new i("pipe")))}}function r(u){u()}function c(u,o){return u.pipe(o)}function f(u){return u.length&&"function"==typeof u[u.length-1]?u.pop():g}var s,n=v("../../../errors").codes,t=n.ERR_MISSING_ARGS,i=n.ERR_STREAM_DESTROYED;M.exports=function(){for(var u=arguments.length,o=Array(u),l=0;l<u;l++)o[l]=arguments[l];var d=f(o);if(Array.isArray(o[0])&&(o=o[0]),2>o.length)throw new t("streams");var b,w=o.map(function(I,S){var R=S<o.length-1;return x(I,R,0<S,function(F){b||(b=F),F&&w.forEach(r),R||(w.forEach(r),d(b))})});return o.reduce(c)}},{"../../../errors":73,"./end-of-stream":82}],85:[function(v,M){"use strict";var g=v("../../../errors").codes.ERR_INVALID_OPT_VALUE;M.exports={getHighWaterMark:function(p,x,r,c){var f=function h(p,x,r){return null==p.highWaterMark?x?p[r]:null:p.highWaterMark}(x,c,r);if(null!=f){if(!isFinite(f)||mt(f)!==f||0>f)throw new g(c?r:"highWaterMark",f);return mt(f)}return p.objectMode?16:16384}}},{"../../../errors":73}],86:[function(v,M){M.exports=v("events").EventEmitter},{events:70}],87:[function(v,M){(function(h){(function(){M.exports=function(g){if("number"!=typeof g)throw new TypeError('"size" argument must be a number');if(0>g)throw new RangeError('"size" argument must not be negative');return h.allocUnsafe?h.allocUnsafe(g):new h(g)}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],88:[function(v,M){(function(h){(function(){var g=v("buffer-fill"),p=v("buffer-alloc-unsafe");M.exports=function(x,r,c){if("number"!=typeof x)throw new TypeError('"size" argument must be a number');if(0>x)throw new RangeError('"size" argument must not be negative');if(h.alloc)return h.alloc(x,r,c);var f=p(x);return 0===x?f:void 0===r?g(f,0):("string"!=typeof c&&(c=void 0),g(f,r,c))}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,"buffer-alloc-unsafe":87,"buffer-fill":89}],89:[function(v,M){(function(h){(function(){function p(c,f,n,t){if(0>n||t>c.length)throw new RangeError("Out of range index");return(t=void 0===t?c.length:t>>>0)>(n>>>=0)&&c.fill(f,n,t),c}var r=function(){try{if(!h.isEncoding("latin1"))return!1;var c=h.alloc?h.alloc(4):new h(4);return c.fill("ab","ucs2"),"61006200"===c.toString("hex")}catch(f){return!1}}();M.exports=function(c,f,n,t,i){if(r)return c.fill(f,n,t,i);if("number"==typeof f)return p(c,f,n,t);if("string"==typeof f){if("string"==typeof n?(i=n,n=0,t=c.length):"string"==typeof t&&(i=t,t=c.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("latin1"===i&&(i="binary"),"string"==typeof i&&!h.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(""===f)return p(c,0,n,t);if(function g(c){return 1===c.length&&256>c.charCodeAt(0)}(f))return p(c,f.charCodeAt(0),n,t);f=new h(f,i)}return h.isBuffer(f)?function x(c,f,n,t){if(0>n||t>c.length)throw new RangeError("Out of range index");if(t<=n)return c;t=void 0===t?c.length:t>>>0;for(var i=n>>>=0,s=f.length;i<=t-s;)f.copy(c,i),i+=s;return i!==t&&f.copy(c,i,0,t-i),c}(c,f,n,t):p(c,0,n,t)}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],90:[function(v,M){(function(h){(function(){M.exports=function(g,p){for(var x=re(g.length,p.length),r=new h(x),c=0;c<x;++c)r[c]=g[c]^p[c];return r}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],91:[function(v,M){M.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],92:[function(v,M){const h=v("lru"),g=v("queue-microtask");M.exports=class{constructor(p,x){if(this.store=p,this.chunkLength=p.chunkLength,this.inProgressGets=new Map,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.cache=new h(x)}put(p,x,r=(()=>{})){return this.cache?(this.cache.remove(p),void this.store.put(p,x,r)):g(()=>r(new Error("CacheStore closed")))}get(p,x,r=(()=>{})){if("function"==typeof x)return this.get(p,null,x);if(!this.cache)return g(()=>r(new Error("CacheStore closed")));x||(x={});let c=this.cache.get(p);if(c){const t=x.offset||0,i=x.length||c.length-t;return(0!==t||i!==c.length)&&(c=c.slice(t,i+t)),g(()=>r(null,c))}let f=this.inProgressGets.get(p);const n=!!f;f||(f=[],this.inProgressGets.set(p,f)),f.push({opts:x,cb:r}),n||this.store.get(p,(t,i)=>{t||null==this.cache||this.cache.set(p,i);const s=this.inProgressGets.get(p);this.inProgressGets.delete(p);for(const{opts:u,cb:o}of s)if(t)o(t);else{const l=u.offset||0,d=u.length||i.length-l;let w=i;(0!==l||d!==i.length)&&(w=i.slice(l,d+l)),o(null,w)}})}close(p=(()=>{})){return this.cache?(this.cache=null,void this.store.close(p)):g(()=>p(new Error("CacheStore closed")))}destroy(p=(()=>{})){return this.cache?(this.cache=null,void this.store.destroy(p)):g(()=>p(new Error("CacheStore closed")))}}},{lru:168,"queue-microtask":218}],93:[function(v,M){const h=v("block-stream2"),g=v("readable-stream");M.exports=class p extends g.Writable{constructor(r,c,f={}){if(super(f),!r||!r.put||!r.get)throw new Error("First argument must be an abstract-chunk-store compliant store");if(!(c=+c))throw new Error("Second argument must be a chunk length");const n=void 0!==f.zeroPadding&&f.zeroPadding;this._blockstream=new h(c,{...f,zeroPadding:n}),this._outstandingPuts=0,this._storeMaxOutstandingPuts=f.storeMaxOutstandingPuts||16;let t=0;this._blockstream.on("data",s=>{this.destroyed||(this._outstandingPuts+=1,this._outstandingPuts>=this._storeMaxOutstandingPuts&&this._blockstream.pause(),r.put(t,s,u=>u?this.destroy(u):(this._outstandingPuts-=1,this._outstandingPuts<this._storeMaxOutstandingPuts&&this._blockstream.resume(),void(0===this._outstandingPuts&&"function"==typeof this._finalCb&&(this._finalCb(null),this._finalCb=null)))),t+=1)}).on("error",s=>{this.destroy(s)})}_write(r,c,f){this._blockstream.write(r,c,f)}_final(r){this._blockstream.end(),this._blockstream.once("end",()=>{0===this._outstandingPuts?r(null):this._finalCb=r})}destroy(r){this.destroyed||(this.destroyed=!0,r&&this.emit("error",r),this.emit("close"))}}},{"block-stream2":38,"readable-stream":240}],94:[function(v,M){function h(c){p.call(this),this.hashMode="string"==typeof c,this.hashMode?this[c]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var g=v("safe-buffer").Buffer,p=v("stream").Transform,x=v("string_decoder").StringDecoder;v("inherits")(h,p),h.prototype.update=function(c,f,n){"string"==typeof c&&(c=g.from(c,f));var t=this._update(c);return this.hashMode?this:(n&&(t=this._toString(t,n)),t)},h.prototype.setAutoPadding=function(){},h.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},h.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},h.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},h.prototype._transform=function(c,f,n){var t;try{this.hashMode?this._update(c):this.push(this._update(c))}catch(i){t=i}finally{n(t)}},h.prototype._flush=function(c){var f;try{this.push(this.__final())}catch(n){f=n}c(f)},h.prototype._finalOrDigest=function(c){var f=this.__final()||g.alloc(0);return c&&(f=this._toString(f,c,!0)),f},h.prototype._toString=function(c,f,n){if(this._decoder||(this._decoder=new x(f),this._encoding=f),this._encoding!==f)throw new Error("can't switch encodings");var t=this._decoder.write(c);return n&&(t+=this._decoder.end()),t},M.exports=h},{inherits:159,"safe-buffer":247,stream:72,string_decoder:276}],95:[function(v,M){(function(h){(function(){var g=function(){"use strict";function p(c,f,n,t){"object"==typeof f&&(n=f.depth,t=f.prototype,f=f.circular);var u=[],o=[],l=void 0!==h;return void 0===f&&(f=!0),void 0===n&&(n=1/0),function i(d,w){if(null===d)return null;if(0==w)return d;var b,I;if("object"!=typeof d)return d;if(p.__isArray(d))b=[];else if(p.__isRegExp(d))b=new RegExp(d.source,r(d)),d.lastIndex&&(b.lastIndex=d.lastIndex);else if(p.__isDate(d))b=new Date(d.getTime());else{if(l&&h.isBuffer(d))return b=h.allocUnsafe?h.allocUnsafe(d.length):new h(d.length),d.copy(b),b;void 0===t?(I=Object.getPrototypeOf(d),b=Object.create(I)):(b=Object.create(t),I=t)}if(f){var S=u.indexOf(d);if(-1!=S)return o[S];u.push(d),o.push(b)}for(var R in d){var F;I&&(F=Object.getOwnPropertyDescriptor(I,R)),(!F||null!=F.set)&&(b[R]=i(d[R],w-1))}return b}(c,n)}function x(c){return Object.prototype.toString.call(c)}function r(c){var f="";return c.global&&(f+="g"),c.ignoreCase&&(f+="i"),c.multiline&&(f+="m"),f}return p.clonePrototype=function(c){if(null===c)return null;var f=function(){};return f.prototype=c,new f},p.__objToStr=x,p.__isDate=function(c){return"object"==typeof c&&"[object Date]"===x(c)},p.__isArray=function(c){return"object"==typeof c&&"[object Array]"===x(c)},p.__isRegExp=function(c){return"object"==typeof c&&"[object RegExp]"===x(c)},p.__getRegExpFlags=r,p}();"object"==typeof M&&M.exports&&(M.exports=g)}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],96:[function(v,M){M.exports=function(){for(var g=navigator.hardwareConcurrency||1,p=[],x=0;x<g;x++)p.push({model:"",speed:0,times:{user:0,nice:0,sys:0,idle:0,irq:0}});return p}},{}],97:[function(v,M){(function(h){(function(){function g(f){this.curveType=c[f],this.curveType||(this.curveType={name:f}),this.curve=new x.ec(this.curveType.name),this.keys=void 0}function p(f,n,t){Array.isArray(f)||(f=f.toArray());var i=new h(f);if(t&&i.length<t){var s=new h(t-i.length);s.fill(0),i=h.concat([s,i])}return n?i.toString(n):i}var x=v("elliptic"),r=v("bn.js");M.exports=function(f){return new g(f)};var c={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};c.p224=c.secp224r1,c.p256=c.secp256r1=c.prime256v1,c.p192=c.secp192r1=c.prime192v1,c.p384=c.secp384r1,c.p521=c.secp521r1,g.prototype.generateKeys=function(f,n){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,n)},g.prototype.computeSecret=function(f,n,t){return n=n||"utf8",h.isBuffer(f)||(f=new h(f,n)),p(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),t,this.curveType.byteLength)},g.prototype.getPublicKey=function(f,n){var t=this.keys.getPublic("compressed"===n,!0);return"hybrid"===n&&(t[0]=t[t.length-1]%2?7:6),p(t,f)},g.prototype.getPrivateKey=function(f){return p(this.keys.getPrivate(),f)},g.prototype.setPublicKey=function(f,n){return n=n||"utf8",h.isBuffer(f)||(f=new h(f,n)),this.keys._importPublic(f),this},g.prototype.setPrivateKey=function(f,n){n=n||"utf8",h.isBuffer(f)||(f=new h(f,n));var t=new r(f);return t=t.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(t),this}}).call(this)}).call(this,v("buffer").Buffer)},{"bn.js":98,buffer:69,elliptic:118}],98:[function(v,M,h){arguments[4][22][0].apply(h,arguments)},{buffer:41,dup:22}],99:[function(v,M){"use strict";function h(f){c.call(this,"digest"),this._hash=f}var g=v("inherits"),p=v("md5.js"),x=v("ripemd160"),r=v("sha.js"),c=v("cipher-base");g(h,c),h.prototype._update=function(f){this._hash.update(f)},h.prototype._final=function(){return this._hash.digest()},M.exports=function(f){return"md5"===(f=f.toLowerCase())?new p:"rmd160"===f||"ripemd160"===f?new x:new h(r(f))}},{"cipher-base":94,inherits:159,"md5.js":171,ripemd160:243,"sha.js":250}],100:[function(v,M){var h=v("md5.js");M.exports=function(g){return(new h).update(g).digest()}},{"md5.js":171}],101:[function(v,M){"use strict";function h(i,s){x.call(this,"digest"),"string"==typeof s&&(s=r.from(s));var u="sha512"===i||"sha384"===i?128:64;this._alg=i,this._key=s,s.length>u?s=("rmd160"===i?new f:n(i)).update(s).digest():s.length<u&&(s=r.concat([s,t],u));for(var l=this._ipad=r.allocUnsafe(u),d=this._opad=r.allocUnsafe(u),w=0;w<u;w++)l[w]=54^s[w],d[w]=92^s[w];this._hash="rmd160"===i?new f:n(i),this._hash.update(l)}var g=v("inherits"),p=v("./legacy"),x=v("cipher-base"),r=v("safe-buffer").Buffer,c=v("create-hash/md5"),f=v("ripemd160"),n=v("sha.js"),t=r.alloc(128);g(h,x),h.prototype._update=function(i){this._hash.update(i)},h.prototype._final=function(){var i=this._hash.digest();return("rmd160"===this._alg?new f:n(this._alg)).update(this._opad).update(i).digest()},M.exports=function(i,s){return"rmd160"===(i=i.toLowerCase())||"ripemd160"===i?new h("rmd160",s):"md5"===i?new p(c,s):new h(i,s)}},{"./legacy":102,"cipher-base":94,"create-hash/md5":100,inherits:159,ripemd160:243,"safe-buffer":247,"sha.js":250}],102:[function(v,M){"use strict";function h(c,f){x.call(this,"digest"),"string"==typeof f&&(f=p.from(f)),this._alg=c,this._key=f,f.length>64?f=c(f):f.length<64&&(f=p.concat([f,r],64));for(var n=this._ipad=p.allocUnsafe(64),t=this._opad=p.allocUnsafe(64),i=0;i<64;i++)n[i]=54^f[i],t[i]=92^f[i];this._hash=[n]}var g=v("inherits"),p=v("safe-buffer").Buffer,x=v("cipher-base"),r=p.alloc(128);g(h,x),h.prototype._update=function(c){this._hash.push(c)},h.prototype._final=function(){var c=this._alg(p.concat(this._hash));return this._alg(p.concat([this._opad,c]))},M.exports=h},{"cipher-base":94,inherits:159,"safe-buffer":247}],103:[function(v,M){(function(h){(function(){function g(N,U,y){function C(){q(N.map(ue=>qe=>{const Ze={};if(f(ue))Ze.getStream=function i(N){return()=>new b(N)}(ue),Ze.length=ue.size;else if(h.isBuffer(ue))Ze.getStream=function s(N){return()=>{const U=new Ae.PassThrough;return U.end(N),U}}(ue),Ze.length=ue.length;else{if(!t(ue)){if("string"==typeof ue){if("function"!=typeof xe)throw new Error("filesystem paths do not work in the browser");return void xe(ue,1<oe||$,qe)}throw new Error("invalid input type")}Ze.getStream=function u(N,U){return()=>{const y=new Ae.Transform;return y._transform=function(C,L,O){U.length+=C.length,this.push(C),O()},N.pipe(y),y}}(ue,Ze),Ze.length=0}Ze.path=ue.path,qe(null,Ze)}),(ue,qe)=>ue?y(ue):(qe=qe.flat(),void y(null,qe,$)))}if(function n(N){return"undefined"!=typeof FileList&&N instanceof FileList}(N)&&(N=Array.from(N)),Array.isArray(N)||(N=[N]),0===N.length)throw new Error("invalid input type");N.forEach(ue=>{if(null==ue)throw new Error(`invalid input type: ${ue}`)}),1!==(N=N.map(ue=>f(ue)&&"string"==typeof ue.path&&"function"==typeof xe?ue.path:ue)).length||"string"==typeof N[0]||N[0].name||(N[0].name=U.name);let L=null;N.forEach((ue,qe)=>{if("string"==typeof ue)return;let Ze=ue.fullPath||ue.name;Ze||(Ze=`Unknown File ${qe+1}`,ue.unknownName=!0),ue.path=Ze.split("/"),ue.path[0]||ue.path.shift(),2>ue.path.length?L=null:0===qe&&1<N.length?L=ue.path[0]:ue.path[0]!==L&&(L=null)}),(void 0===U.filterJunkFiles||U.filterJunkFiles)&&(N=N.filter(ue=>"string"==typeof ue||!r(ue.path))),L&&N.forEach(ue=>{const qe=(h.isBuffer(ue)||t(ue))&&!ue.path;"string"==typeof ue||qe||ue.path.shift()}),!U.name&&L&&(U.name=L),U.name||N.some(ue=>"string"==typeof ue?(U.name=w.basename(ue),!0):!ue.unknownName&&(U.name=ue.path[ue.path.length-1],!0)),U.name||(U.name=`Unnamed Torrent ${Date.now()}`);const oe=N.reduce((ue,qe)=>ue+ +("string"==typeof qe),0);let $=1===N.length;if(1===N.length&&"string"==typeof N[0]){if("function"!=typeof xe)throw new Error("filesystem paths do not work in the browser");I(N[0],(ue,qe)=>ue?y(ue):($=qe,void C()))}else K(C)}function r(N){const U=N[N.length-1];return"."===U[0]&&S.is(U)}function c(N,U){return N+U.length}function f(N){return"undefined"!=typeof Blob&&N instanceof Blob}function t(N){return"object"==typeof N&&null!=N&&"function"==typeof N.pipe}const o=v("bencode"),l=v("block-stream2"),d=v("piece-length"),w=v("path"),b=v("filestream/read"),I=v("is-file"),S=v("junk"),R=v("multistream"),F=v("once"),q=v("run-parallel"),K=v("queue-microtask"),he=v("simple-sha1"),Ae=v("readable-stream"),xe=v("./get-files"),A=5;M.exports=function(N,U,y){"function"==typeof U&&([U,y]=[y,U]),g(N,U=U?Object.assign({},U):{},(C,L,O)=>C?y(C):(U.singleFileTorrent=O,void function x(N,U,y){let C=U.announceList;C||("string"==typeof U.announce?C=[[U.announce]]:Array.isArray(U.announce)&&(C=U.announce.map($=>[$]))),C||(C=[]),globalThis.WEBTORRENT_ANNOUNCE&&("string"==typeof globalThis.WEBTORRENT_ANNOUNCE?C.push([[globalThis.WEBTORRENT_ANNOUNCE]]):Array.isArray(globalThis.WEBTORRENT_ANNOUNCE)&&(C=C.concat(globalThis.WEBTORRENT_ANNOUNCE.map($=>[$])))),void 0===U.announce&&void 0===U.announceList&&(C=C.concat(M.exports.announceList)),"string"==typeof U.urlList&&(U.urlList=[U.urlList]);const L={info:{name:U.name},"creation date":ge((+U.creationDate||Date.now())/1e3),encoding:"UTF-8"};0!==C.length&&(L.announce=C[0][0],L["announce-list"]=C),void 0!==U.comment&&(L.comment=U.comment),void 0!==U.createdBy&&(L["created by"]=U.createdBy),void 0!==U.private&&(L.info.private=+U.private),void 0!==U.info&&Object.assign(L.info,U.info),void 0!==U.sslCert&&(L.info["ssl-cert"]=U.sslCert),void 0!==U.urlList&&(L["url-list"]=U.urlList);const O=N.reduce(c,0),oe=U.pieceLength||d(O);L.info["piece length"]=oe,function p(N,U,y,C,L){function O(ft){Ve+=ft.length;const Y=Wt;he(ft,de=>{Ze[Y]=de,zt-=1,zt<A&&st.resume(),tt+=ft.length,C.onProgress&&C.onProgress(tt,y),qe()}),zt+=1,zt>=A&&st.pause(),Wt+=1}function oe(){Jt=!0,qe()}function $(ft){ue(),L(ft)}function ue(){Ye.removeListener("error",$),st.removeListener("data",O),st.removeListener("end",oe),st.removeListener("error",$)}function qe(){Jt&&0===zt&&(ue(),L(null,h.from(Ze.join(""),"hex"),Ve))}L=F(L);const Ze=[];let Ve=0,tt=0;const at=N.map(ft=>ft.getStream);let zt=0,Wt=0,Jt=!1;const Ye=new R(at),st=new l(U,{zeroPadding:!1});Ye.on("error",$),Ye.pipe(st).on("data",O).on("end",oe).on("error",$)}(N,oe,O,U,($,ue,qe)=>$?y($):(L.info.pieces=ue,N.forEach(Ze=>{delete Ze.getStream}),U.singleFileTorrent?L.info.length=qe:L.info.files=N,void y(null,o.encode(L))))}(L,U,y)))},M.exports.parseInput=function(N,U,y){"function"==typeof U&&([U,y]=[y,U]),g(N,U=U?Object.assign({},U):{},y)},M.exports.announceList=[["udp://tracker.leechers-paradise.org:6969"],["udp://tracker.coppersurfer.tk:6969"],["udp://tracker.opentrackr.org:1337"],["udp://explodie.org:6969"],["udp://tracker.empire-js.us:1337"],["wss://tracker.btorrent.xyz"],["wss://tracker.openwebtorrent.com"]],M.exports.isJunkPath=r}).call(this)}).call(this,v("buffer").Buffer)},{"./get-files":41,bencode:27,"block-stream2":38,buffer:69,"filestream/read":140,"is-file":41,junk:163,multistream:189,once:191,path:71,"piece-length":204,"queue-microtask":218,"readable-stream":240,"run-parallel":245,"simple-sha1":260}],104:[function(v,M,h){"use strict";h.randomBytes=h.rng=h.pseudoRandomBytes=h.prng=v("randombytes"),h.createHash=h.Hash=v("create-hash"),h.createHmac=h.Hmac=v("create-hmac");var g=v("browserify-sign/algos"),p=Object.keys(g),x=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(p);h.getHashes=function(){return x};var r=v("pbkdf2");h.pbkdf2=r.pbkdf2,h.pbkdf2Sync=r.pbkdf2Sync;var c=v("browserify-cipher");h.Cipher=c.Cipher,h.createCipher=c.createCipher,h.Cipheriv=c.Cipheriv,h.createCipheriv=c.createCipheriv,h.Decipher=c.Decipher,h.createDecipher=c.createDecipher,h.Decipheriv=c.Decipheriv,h.createDecipheriv=c.createDecipheriv,h.getCiphers=c.getCiphers,h.listCiphers=c.listCiphers;var f=v("diffie-hellman");h.DiffieHellmanGroup=f.DiffieHellmanGroup,h.createDiffieHellmanGroup=f.createDiffieHellmanGroup,h.getDiffieHellman=f.getDiffieHellman,h.createDiffieHellman=f.createDiffieHellman,h.DiffieHellman=f.DiffieHellman;var n=v("browserify-sign");h.createSign=n.createSign,h.Sign=n.Sign,h.createVerify=n.createVerify,h.Verify=n.Verify,h.createECDH=v("create-ecdh");var t=v("public-encrypt");h.publicEncrypt=t.publicEncrypt,h.privateEncrypt=t.privateEncrypt,h.publicDecrypt=t.publicDecrypt,h.privateDecrypt=t.privateDecrypt;var i=v("randomfill");h.randomFill=i.randomFill,h.randomFillSync=i.randomFillSync,h.createCredentials=function(){throw new Error("sorry, createCredentials is not implemented yet\nwe accept pull requests\nhttps://github.com/crypto-browserify/crypto-browserify")},h.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":59,"browserify-sign":66,"browserify-sign/algos":63,"create-ecdh":97,"create-hash":99,"create-hmac":101,"diffie-hellman":113,pbkdf2:198,"public-encrypt":206,randombytes:221,randomfill:222}],105:[function(v,M,h){(function(g){(function(){h.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+M.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;r.splice(1,0,c,"color: inherit");let f=0,n=0;r[0].replace(/%[a-zA-Z%]/g,t=>{"%%"===t||(f++,"%c"===t&&(n=f))}),r.splice(n,0,c)},h.save=function(r){try{r?h.storage.setItem("debug",r):h.storage.removeItem("debug")}catch(c){}},h.load=function p(){let r;try{r=h.storage.getItem("debug")}catch(c){}return!r&&void 0!==g&&"env"in g&&(r=g.env.DEBUG),r},h.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},h.storage=function(){try{return localStorage}catch(r){}}(),h.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),h.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],h.log=console.debug||console.log||(()=>{}),M.exports=v("./common")(h);const{formatters:x}=M.exports;x.j=function(r){try{return JSON.stringify(r)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}).call(this)}).call(this,v("_process"))},{"./common":106,_process:205}],106:[function(v,M){M.exports=function(h){function g(r){function c(...s){if(!c.enabled)return;const u=c,o=+new Date;u.diff=o-(n||o),u.prev=n,u.curr=o,n=o,s[0]=g.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");let d=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(b,I)=>{if("%%"===b)return"%";d++;const S=g.formatters[I];return"function"==typeof S&&(b=S.call(u,s[d]),s.splice(d,1),d--),b}),g.formatArgs.call(u,s),(u.log||g.log).apply(u,s)}let n,t,i,f=null;return c.namespace=r,c.useColors=g.useColors(),c.color=g.selectColor(r),c.extend=p,c.destroy=g.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>null===f?(t!==g.namespaces&&(t=g.namespaces,i=g.enabled(r)),i):f,set:s=>{f=s}}),"function"==typeof g.init&&g.init(c),c}function p(r,c){const f=g(this.namespace+(void 0===c?":":c)+r);return f.log=this.log,f}function x(r){return r.toString().substring(2,r.toString().length-2).replace(/\.\*\?$/,"*")}return g.debug=g,g.default=g,g.coerce=function(r){return r instanceof Error?r.stack||r.message:r},g.disable=function(){const r=[...g.names.map(x),...g.skips.map(x).map(c=>"-"+c)].join(",");return g.enable(""),r},g.enable=function(r){let c;g.save(r),g.namespaces=r,g.names=[],g.skips=[];const f=("string"==typeof r?r:"").split(/[\s,]+/),n=f.length;for(c=0;c<n;c++)f[c]&&("-"===(r=f[c].replace(/\*/g,".*?"))[0]?g.skips.push(new RegExp("^"+r.substr(1)+"$")):g.names.push(new RegExp("^"+r+"$")))},g.enabled=function(r){if("*"===r[r.length-1])return!0;let c,f;for(c=0,f=g.skips.length;c<f;c++)if(g.skips[c].test(r))return!1;for(c=0,f=g.names.length;c<f;c++)if(g.names[c].test(r))return!0;return!1},g.humanize=v("ms"),g.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(h).forEach(r=>{g[r]=h[r]}),g.names=[],g.skips=[],g.formatters={},g.selectColor=function(r){let c=0;for(let f=0;f<r.length;f++)c=(c<<5)-c+r.charCodeAt(f),c|=0;return g.colors[wt(c)%g.colors.length]},g.enable(g.load()),g}},{ms:188}],107:[function(v,M,h){"use strict";h.utils=v("./des/utils"),h.Cipher=v("./des/cipher"),h.DES=v("./des/des"),h.CBC=v("./des/cbc"),h.EDE=v("./des/ede")},{"./des/cbc":108,"./des/cipher":109,"./des/des":110,"./des/ede":111,"./des/utils":112}],108:[function(v,M,h){"use strict";function g(c){p.equal(c.length,8,"Invalid IV length"),this.iv=Array(8);for(var f=0;f<this.iv.length;f++)this.iv[f]=c[f]}var p=v("minimalistic-assert"),x=v("inherits"),r={};h.instantiate=function(c){function f(s){c.call(this,s),this._cbcInit()}x(f,c);for(var i,n=Object.keys(r),t=0;t<n.length;t++)f.prototype[i=n[t]]=r[i];return f.create=function(s){return new f(s)},f},r._cbcInit=function(){var c=new g(this.options.iv);this._cbcState=c},r._update=function(c,f,n,t){var s=this.constructor.super_.prototype,u=this._cbcState.iv;if("encrypt"===this.type){for(var o=0;o<this.blockSize;o++)u[o]^=c[f+o];for(s._update.call(this,u,0,n,t),o=0;o<this.blockSize;o++)u[o]=n[t+o]}else{for(s._update.call(this,c,f,n,t),o=0;o<this.blockSize;o++)n[t+o]^=u[o];for(o=0;o<this.blockSize;o++)u[o]=c[f+o]}}},{inherits:159,"minimalistic-assert":180}],109:[function(v,M){"use strict";function h(p){this.options=p,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=Array(this.blockSize),this.bufferOff=0}var g=v("minimalistic-assert");M.exports=h,h.prototype._init=function(){},h.prototype.update=function(p){return 0===p.length?[]:"decrypt"===this.type?this._updateDecrypt(p):this._updateEncrypt(p)},h.prototype._buffer=function(p,x){for(var r=re(this.buffer.length-this.bufferOff,p.length-x),c=0;c<r;c++)this.buffer[this.bufferOff+c]=p[x+c];return this.bufferOff+=r,r},h.prototype._flushBuffer=function(p,x){return this._update(this.buffer,0,p,x),this.bufferOff=0,this.blockSize},h.prototype._updateEncrypt=function(p){var x=0,r=0,f=Array((0|(this.bufferOff+p.length)/this.blockSize)*this.blockSize);0!==this.bufferOff&&(x+=this._buffer(p,x),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(f,r)));for(var n=p.length-(p.length-x)%this.blockSize;x<n;x+=this.blockSize)this._update(p,x,f,r),r+=this.blockSize;for(;x<p.length;x++,this.bufferOff++)this.buffer[this.bufferOff]=p[x];return f},h.prototype._updateDecrypt=function(p){for(var x=0,r=0,c=ge((this.bufferOff+p.length)/this.blockSize)-1,f=Array(c*this.blockSize);0<c;c--)x+=this._buffer(p,x),r+=this._flushBuffer(f,r);return x+=this._buffer(p,x),f},h.prototype.final=function(p){var x,r;return p&&(x=this.update(p)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),x?x.concat(r):r},h.prototype._pad=function(p,x){if(0===x)return!1;for(;x<p.length;)p[x++]=0;return!0},h.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var p=Array(this.blockSize);return this._update(this.buffer,0,p,0),p},h.prototype._unpad=function(p){return p},h.prototype._finalDecrypt=function(){g.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var p=Array(this.blockSize);return this._flushBuffer(p,0),this._unpad(p)}},{"minimalistic-assert":180}],110:[function(v,M){"use strict";function h(){this.tmp=[,,],this.keys=null}function g(n){c.call(this,n);var t=new h;this._desState=t,this.deriveKeys(t,n.key)}var p=v("minimalistic-assert"),x=v("inherits"),r=v("./utils"),c=v("./cipher");x(g,c),M.exports=g,g.create=function(n){return new g(n)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];g.prototype.deriveKeys=function(n,t){n.keys=Array(32),p.equal(t.length,this.blockSize,"Invalid key length");var i=r.readUInt32BE(t,0),s=r.readUInt32BE(t,4);r.pc1(i,s,n.tmp,0),i=n.tmp[0],s=n.tmp[1];for(var o,u=0;u<n.keys.length;u+=2)i=r.r28shl(i,o=f[u>>>1]),s=r.r28shl(s,o),r.pc2(i,s,n.keys,u)},g.prototype._update=function(n,t,i,s){var u=this._desState,o=r.readUInt32BE(n,t),l=r.readUInt32BE(n,t+4);r.ip(o,l,u.tmp,0),o=u.tmp[0],l=u.tmp[1],"encrypt"===this.type?this._encrypt(u,o,l,u.tmp,0):this._decrypt(u,o,l,u.tmp,0),l=u.tmp[1],r.writeUInt32BE(i,o=u.tmp[0],s),r.writeUInt32BE(i,l,s+4)},g.prototype._pad=function(n,t){for(var i=n.length-t,s=t;s<n.length;s++)n[s]=i;return!0},g.prototype._unpad=function(n){for(var t=n[n.length-1],i=n.length-t;i<n.length;i++)p.equal(n[i],t);return n.slice(0,n.length-t)},g.prototype._encrypt=function(n,t,i,s,u){for(var o=t,l=i,d=0;d<n.keys.length;d+=2){var w=n.keys[d],b=n.keys[d+1];r.expand(l,n.tmp,0);var I=r.substitute(w^=n.tmp[0],b^=n.tmp[1]),R=l;l=(o^r.permute(I))>>>0,o=R}r.rip(l,o,s,u)},g.prototype._decrypt=function(n,t,i,s,u){for(var o=i,l=t,d=n.keys.length-2;0<=d;d-=2){var w=n.keys[d],b=n.keys[d+1];r.expand(o,n.tmp,0);var I=r.substitute(w^=n.tmp[0],b^=n.tmp[1]),R=o;o=(l^r.permute(I))>>>0,l=R}r.rip(o,l,s,u)}},{"./cipher":109,"./utils":112,inherits:159,"minimalistic-assert":180}],111:[function(v,M){"use strict";function h(f,n){p.equal(n.length,24,"Invalid key length");var t=n.slice(0,8),i=n.slice(8,16),s=n.slice(16,24);this.ciphers="encrypt"===f?[c.create({type:"encrypt",key:t}),c.create({type:"decrypt",key:i}),c.create({type:"encrypt",key:s})]:[c.create({type:"decrypt",key:s}),c.create({type:"encrypt",key:i}),c.create({type:"decrypt",key:t})]}function g(f){r.call(this,f);var n=new h(this.type,this.options.key);this._edeState=n}var p=v("minimalistic-assert"),x=v("inherits"),r=v("./cipher"),c=v("./des");x(g,r),M.exports=g,g.create=function(f){return new g(f)},g.prototype._update=function(f,n,t,i){var s=this._edeState;s.ciphers[0]._update(f,n,t,i),s.ciphers[1]._update(t,i,t,i),s.ciphers[2]._update(t,i,t,i)},g.prototype._pad=c.prototype._pad,g.prototype._unpad=c.prototype._unpad},{"./cipher":109,"./des":110,inherits:159,"minimalistic-assert":180}],112:[function(v,M,h){"use strict";h.readUInt32BE=function(r,c){return(r[0+c]<<24|r[1+c]<<16|r[2+c]<<8|r[3+c])>>>0},h.writeUInt32BE=function(r,c,f){r[0+f]=c>>>24,r[1+f]=255&c>>>16,r[2+f]=255&c>>>8,r[3+f]=255&c},h.ip=function(r,c,f,n){for(var t=0,i=0,s=6;0<=s;s-=2){for(var u=0;24>=u;u+=8)t<<=1,t|=1&c>>>u+s;for(u=0;24>=u;u+=8)t<<=1,t|=1&r>>>u+s}for(s=6;0<=s;s-=2){for(u=1;25>=u;u+=8)i<<=1,i|=1&c>>>u+s;for(u=1;25>=u;u+=8)i<<=1,i|=1&r>>>u+s}f[n+0]=t>>>0,f[n+1]=i>>>0},h.rip=function(r,c,f,n){for(var t=0,i=0,s=0;4>s;s++)for(var u=24;0<=u;u-=8)t<<=1,t|=1&c>>>u+s,t<<=1,t|=1&r>>>u+s;for(s=4;8>s;s++)for(u=24;0<=u;u-=8)i<<=1,i|=1&c>>>u+s,i<<=1,i|=1&r>>>u+s;f[n+0]=t>>>0,f[n+1]=i>>>0},h.pc1=function(r,c,f,n){for(var t=0,i=0,s=7;5<=s;s--){for(var u=0;24>=u;u+=8)t<<=1,t|=1&c>>u+s;for(u=0;24>=u;u+=8)t<<=1,t|=1&r>>u+s}for(u=0;24>=u;u+=8)t<<=1,t|=1&c>>u+s;for(s=1;3>=s;s++){for(u=0;24>=u;u+=8)i<<=1,i|=1&c>>u+s;for(u=0;24>=u;u+=8)i<<=1,i|=1&r>>u+s}for(u=0;24>=u;u+=8)i<<=1,i|=1&r>>u+s;f[n+0]=t>>>0,f[n+1]=i>>>0},h.r28shl=function(r,c){return 268435455&r<<c|r>>>28-c};var g=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];h.pc2=function(r,c,f,n){for(var t=0,i=0,s=g.length>>>1,u=0;u<s;u++)t<<=1,t|=1&r>>>g[u];for(u=s;u<g.length;u++)i<<=1,i|=1&c>>>g[u];f[n+0]=t>>>0,f[n+1]=i>>>0},h.expand=function(r,c,f){var n=0,t=0;n=(1&r)<<5|r>>>27;for(var i=23;15<=i;i-=4)n<<=6,n|=63&r>>>i;for(i=11;3<=i;i-=4)t|=63&r>>>i,t<<=6;t|=(31&r)<<1|r>>>31,c[f+0]=n>>>0,c[f+1]=t>>>0};var p=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];h.substitute=function(r,c){for(var f=0,n=0;4>n;n++)f<<=4,f|=p[64*n+(63&r>>>18-6*n)];for(n=0;4>n;n++)f<<=4,f|=p[256+64*n+(63&c>>>18-6*n)];return f>>>0};var x=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];h.permute=function(r){for(var c=0,f=0;f<x.length;f++)c<<=1,c|=1&r>>>x[f];return c>>>0},h.padSplit=function(r,c,f){for(var n=r.toString(2);n.length<c;)n="0"+n;for(var t=[],i=0;i<c;i+=f)t.push(n.slice(i,i+f));return t.join(" ")}},{}],113:[function(v,M,h){(function(g){(function(){var x=v("./lib/generatePrime"),r=v("./lib/primes.json"),c=v("./lib/dh"),f={binary:!0,hex:!0,base64:!0};h.DiffieHellmanGroup=h.createDiffieHellmanGroup=h.getDiffieHellman=function(n){var t=new g(r[n].prime,"hex"),i=new g(r[n].gen,"hex");return new c(t,i)},h.createDiffieHellman=h.DiffieHellman=function p(n,t,i,s){return g.isBuffer(t)||void 0===f[t]?p(n,"binary",t,i):(t=t||"binary",s=s||"binary",i=i||new g([2]),g.isBuffer(i)||(i=new g(i,s)),"number"==typeof n?new c(x(n,i),i,!0):(g.isBuffer(n)||(n=new g(n,t)),new c(n,i,!0)))}}).call(this)}).call(this,v("buffer").Buffer)},{"./lib/dh":114,"./lib/generatePrime":115,"./lib/primes.json":116,buffer:69}],114:[function(v,M){(function(h){(function(){function g(I,S){return S=S||"utf8",h.isBuffer(I)||(I=new h(I,S)),this._pub=new f(I),this}function p(I,S){return S=S||"utf8",h.isBuffer(I)||(I=new h(I,S)),this._priv=new f(I),this}function r(I,S,R){this.setGenerator(S),this.__prime=new f(I),this._prime=f.mont(this.__prime),this._primeLen=I.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,R?(this.setPublicKey=g,this.setPrivateKey=p):this._primeCode=8}function c(I,S){var R=new h(I.toArray());return S?R.toString(S):R}var f=v("bn.js"),t=new(v("miller-rabin")),i=new f(24),s=new f(11),u=new f(10),o=new f(3),l=new f(7),d=v("./generatePrime"),w=v("randombytes");M.exports=r;var b={};Object.defineProperty(r.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function x(I,S){var R=S.toString("hex"),F=[R,I.toString(16)].join("_");if(F in b)return b[F];var K,q=0;return!I.isEven()&&d.simpleSieve&&d.fermatTest(I)&&t.test(I)?(t.test(I.shrn(1))||(q+=2),"02"===R?I.mod(i).cmp(s)&&(q+=8):"05"===R?(K=I.mod(u)).cmp(o)&&K.cmp(l)&&(q+=8):q+=4,b[F]=q,q):(q+=1,b[F]=q+="02"===R||"05"===R?8:4,q)}(this.__prime,this.__gen)),this._primeCode}}),r.prototype.generateKeys=function(){return this._priv||(this._priv=new f(w(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},r.prototype.computeSecret=function(I){var S=(I=(I=new f(I)).toRed(this._prime)).redPow(this._priv).fromRed(),R=new h(S.toArray()),F=this.getPrime();if(R.length<F.length){var q=new h(F.length-R.length);q.fill(0),R=h.concat([q,R])}return R},r.prototype.getPublicKey=function(I){return c(this._pub,I)},r.prototype.getPrivateKey=function(I){return c(this._priv,I)},r.prototype.getPrime=function(I){return c(this.__prime,I)},r.prototype.getGenerator=function(I){return c(this._gen,I)},r.prototype.setGenerator=function(I,S){return S=S||"utf8",h.isBuffer(I)||(I=new h(I,S)),this.__gen=I,this._gen=new f(I),this}}).call(this)}).call(this,v("buffer").Buffer)},{"./generatePrime":115,"bn.js":117,buffer:69,"miller-rabin":174,randombytes:221}],115:[function(v,M){function g(q){for(var K=function h(){var q=Math.sqrt;if(null!==F)return F;var K=[];K[0]=2;for(var xe,he=1,Ae=3;1048576>Ae;Ae+=2){xe=ge(q(Ae));for(var A=0;A<he&&K[A]<=xe&&Ae%K[A]!=0;A++);he!=A&&K[A]<=xe||(K[he++]=Ae)}return F=K,K}(),he=0;he<K.length;he++)if(0===q.modn(K[he]))return 0===q.cmpn(K[he]);return!0}function p(q){var K=c.mont(q);return 0===s.toRed(K).redPow(q.subn(1)).fromRed().cmpn(1)}function x(q,K){if(16>q)return new c(2===K||5===K?[140,123]:[140,39]);K=new c(K);for(var he,Ae;;){for(he=new c(r(ge(q/8)));he.bitLength()>q;)he.ishrn(1);if(he.isEven()&&he.iadd(i),he.testn(1)||he.iadd(s),K.cmp(s)){if(!K.cmp(u))for(;he.mod(d).cmp(w);)he.iadd(S)}else for(;he.mod(f).cmp(I);)he.iadd(S);if(g(Ae=he.shrn(1))&&g(he)&&p(Ae)&&p(he)&&t.test(Ae)&&t.test(he))return he}}var r=v("randombytes");M.exports=x,x.simpleSieve=g,x.fermatTest=p;var c=v("bn.js"),f=new c(24),t=new(v("miller-rabin")),i=new c(1),s=new c(2),u=new c(5),d=(new c(16),new c(8),new c(10)),w=new c(3),I=(new c(7),new c(11)),S=new c(4),F=(new c(12),null)},{"bn.js":117,"miller-rabin":174,randombytes:221}],116:[function(v,M){M.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],117:[function(v,M,h){arguments[4][22][0].apply(h,arguments)},{buffer:41,dup:22}],118:[function(v,M,h){"use strict";var g=h;g.version=v("../package.json").version,g.utils=v("./elliptic/utils"),g.rand=v("brorand"),g.curve=v("./elliptic/curve"),g.curves=v("./elliptic/curves"),g.ec=v("./elliptic/ec"),g.eddsa=v("./elliptic/eddsa")},{"../package.json":134,"./elliptic/curve":121,"./elliptic/curves":124,"./elliptic/ec":125,"./elliptic/eddsa":128,"./elliptic/utils":132,brorand:40}],119:[function(v,M){"use strict";function h(n,t){this.type=n,this.p=new p(t.p,16),this.red=t.prime?p.red(t.prime):p.mont(this.p),this.zero=new p(0).toRed(this.red),this.one=new p(1).toRed(this.red),this.two=new p(2).toRed(this.red),this.n=t.n&&new p(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||0<i.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function g(n,t){this.curve=n,this.type=t,this.precomputed=null}var p=v("bn.js"),x=v("../utils"),r=x.getNAF,c=x.getJSF,f=x.assert;M.exports=h,h.prototype.point=function(){throw new Error("Not implemented")},h.prototype.validate=function(){throw new Error("Not implemented")},h.prototype._fixedNafMul=function(n,t){f(n.precomputed);var i=n._getDoubles(),s=r(t,1,this._bitLength),u=(1<<i.step+1)-(i.step%2==0?2:1);u/=3;var l,d,o=[];for(l=0;l<s.length;l+=i.step){d=0;for(var w=l+i.step-1;w>=l;w--)d=(d<<1)+s[w];o.push(d)}for(var b=this.jpoint(null,null,null),I=this.jpoint(null,null,null),S=u;0<S;S--){for(l=0;l<o.length;l++)(d=o[l])===S?I=I.mixedAdd(i.points[l]):d===-S&&(I=I.mixedAdd(i.points[l].neg()));b=b.add(I)}return b.toP()},h.prototype._wnafMul=function(n,t){for(var i=4,s=n._getNAFPoints(i),u=s.points,o=r(t,i=s.wnd,this._bitLength),l=this.jpoint(null,null,null),d=o.length-1;0<=d;d--){for(var w=0;0<=d&&0===o[d];d--)w++;if(0<=d&&w++,l=l.dblp(w),0>d)break;var b=o[d];f(0!==b),l="affine"===n.type?l.mixedAdd(0<b?u[b-1>>1]:u[-b-1>>1].neg()):l.add(0<b?u[b-1>>1]:u[-b-1>>1].neg())}return"affine"===n.type?l.toP():l},h.prototype._wnafMulAdd=function(n,t,i,s,u){var b,I,S,o=this._wnafT1,l=this._wnafT2,d=this._wnafT3,w=0;for(b=0;b<s;b++){var R=(S=t[b])._getNAFPoints(n);o[b]=R.wnd,l[b]=R.points}for(b=s-1;1<=b;b-=2){var F=b-1,q=b;if(1===o[F]&&1===o[q]){var K=[t[F],null,null,t[q]];0===t[F].y.cmp(t[q].y)?(K[1]=t[F].add(t[q]),K[2]=t[F].toJ().mixedAdd(t[q].neg())):0===t[F].y.cmp(t[q].y.redNeg())?(K[1]=t[F].toJ().mixedAdd(t[q]),K[2]=t[F].add(t[q].neg())):(K[1]=t[F].toJ().mixedAdd(t[q]),K[2]=t[F].toJ().mixedAdd(t[q].neg()));var he=[-3,-1,-5,-7,0,7,5,1,3],Ae=c(i[F],i[q]);for(w=fe(Ae[0].length,w),d[F]=Array(w),d[q]=Array(w),I=0;I<w;I++)d[F][I]=he[3*(1+(0|Ae[0][I]))+(1+(0|Ae[1][I]))],d[q][I]=0,l[F]=K}else d[F]=r(i[F],o[F],this._bitLength),d[q]=r(i[q],o[q],this._bitLength),w=fe(d[F].length,w),w=fe(d[q].length,w)}var N=this.jpoint(null,null,null),U=this._wnafT4;for(b=w;0<=b;b--){for(var C,y=0;0<=b;){for(C=!0,I=0;I<s;I++)U[I]=0|d[I][b],0!==U[I]&&(C=!1);if(!C)break;y++,b--}if(0<=b&&y++,N=N.dblp(y),0>b)break;for(I=0;I<s;I++){var L=U[I];0!==L&&(0<L?S=l[I][L-1>>1]:0>L&&(S=l[I][-L-1>>1].neg()),N="affine"===S.type?N.mixedAdd(S):N.add(S))}}for(b=0;b<s;b++)l[b]=null;return u?N:N.toP()},h.BasePoint=g,g.prototype.eq=function(){throw new Error("Not implemented")},g.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(n,t){n=x.toArray(n,t);var i=this.p.byteLength();if((4===n[0]||6===n[0]||7===n[0])&&n.length-1==2*i)return 6===n[0]?f(n[n.length-1]%2==0):7===n[0]&&f(n[n.length-1]%2==1),this.point(n.slice(1,1+i),n.slice(1+i,1+2*i));if((2===n[0]||3===n[0])&&n.length-1===i)return this.pointFromX(n.slice(1,1+i),3===n[0]);throw new Error("Unknown point format")},g.prototype.encodeCompressed=function(n){return this.encode(n,!0)},g.prototype._encode=function(n){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return n?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},g.prototype.encode=function(n,t){return x.encode(this._encode(t),n)},g.prototype.precompute=function(n){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,n),t.beta=this._getBeta(),this.precomputed=t,this},g.prototype._hasDoubles=function(n){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=ge((n.bitLength()+1)/t.step)},g.prototype._getDoubles=function(n,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],s=this,u=0;u<t;u+=n){for(var o=0;o<n;o++)s=s.dbl();i.push(s)}return{step:n,points:i}},g.prototype._getNAFPoints=function(n){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<n)-1,s=1===i?null:this.dbl(),u=1;u<i;u++)t[u]=t[u-1].add(s);return{wnd:n,points:t}},g.prototype._getBeta=function(){return null},g.prototype.dblp=function(n){for(var t=this,i=0;i<n;i++)t=t.dbl();return t}},{"../utils":132,"bn.js":133}],120:[function(v,M){"use strict";function h(n){this.twisted=1!=(0|n.a),this.mOneA=this.twisted&&-1==(0|n.a),this.extended=this.mOneA,c.call(this,"edwards",n),this.a=new x(n.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new x(n.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new x(n.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),f(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|n.c)}function g(n,t,i,s,u){c.BasePoint.call(this,n,"projective"),null===t&&null===i&&null===s?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new x(t,16),this.y=new x(i,16),this.z=s?new x(s,16):this.curve.one,this.t=u&&new x(u,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),!this.zOne&&(this.t=this.t.redMul(this.z.redInvm()))))}var p=v("../utils"),x=v("bn.js"),r=v("inherits"),c=v("./base"),f=p.assert;r(h,c),M.exports=h,h.prototype._mulA=function(n){return this.mOneA?n.redNeg():this.a.redMul(n)},h.prototype._mulC=function(n){return this.oneC?n:this.c.redMul(n)},h.prototype.jpoint=function(n,t,i,s){return this.point(n,t,i,s)},h.prototype.pointFromX=function(n,t){(n=new x(n,16)).red||(n=n.toRed(this.red));var i=n.redSqr(),s=this.c2.redSub(this.a.redMul(i)),u=this.one.redSub(this.c2.redMul(this.d).redMul(i)),o=s.redMul(u.redInvm()),l=o.redSqrt();if(0!==l.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var d=l.fromRed().isOdd();return(t&&!d||!t&&d)&&(l=l.redNeg()),this.point(n,l)},h.prototype.pointFromY=function(n,t){(n=new x(n,16)).red||(n=n.toRed(this.red));var i=n.redSqr(),s=i.redSub(this.c2),u=i.redMul(this.d).redMul(this.c2).redSub(this.a),o=s.redMul(u.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,n)}var l=o.redSqrt();if(0!==l.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return l.fromRed().isOdd()!==t&&(l=l.redNeg()),this.point(l,n)},h.prototype.validate=function(n){if(n.isInfinity())return!0;n.normalize();var t=n.x.redSqr(),i=n.y.redSqr(),s=t.redMul(this.a).redAdd(i),u=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return 0===s.cmp(u)},r(g,c.BasePoint),h.prototype.pointFromJSON=function(n){return g.fromJSON(this,n)},h.prototype.point=function(n,t,i,s){return new g(this,n,t,i,s)},g.fromJSON=function(n,t){return new g(n,t[0],t[1],t[2])},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},g.prototype._extDbl=function(){var n=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var s=this.curve._mulA(n),u=this.x.redAdd(this.y).redSqr().redISub(n).redISub(t),o=s.redAdd(t),l=o.redSub(i),d=s.redSub(t),w=u.redMul(l),b=o.redMul(d),I=u.redMul(d),S=l.redMul(o);return this.curve.point(w,b,S,I)},g.prototype._projDbl=function(){var s,u,o,l,d,w,n=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),i=this.y.redSqr();if(this.curve.twisted){var b=(l=this.curve._mulA(t)).redAdd(i);this.zOne?(s=n.redSub(t).redSub(i).redMul(b.redSub(this.curve.two)),u=b.redMul(l.redSub(i)),o=b.redSqr().redSub(b).redSub(b)):(d=this.z.redSqr(),w=b.redSub(d).redISub(d),s=n.redSub(t).redISub(i).redMul(w),u=b.redMul(l.redSub(i)),o=b.redMul(w))}else l=t.redAdd(i),d=this.curve._mulC(this.z).redSqr(),w=l.redSub(d).redSub(d),s=this.curve._mulC(n.redISub(l)).redMul(w),u=this.curve._mulC(l).redMul(t.redISub(i)),o=l.redMul(w);return this.curve.point(s,u,o)},g.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},g.prototype._extAdd=function(n){var t=this.y.redSub(this.x).redMul(n.y.redSub(n.x)),i=this.y.redAdd(this.x).redMul(n.y.redAdd(n.x)),s=this.t.redMul(this.curve.dd).redMul(n.t),u=this.z.redMul(n.z.redAdd(n.z)),o=i.redSub(t),l=u.redSub(s),d=u.redAdd(s),w=i.redAdd(t),b=o.redMul(l),I=d.redMul(w),S=o.redMul(w),R=l.redMul(d);return this.curve.point(b,I,R,S)},g.prototype._projAdd=function(n){var I,S,t=this.z.redMul(n.z),i=t.redSqr(),s=this.x.redMul(n.x),u=this.y.redMul(n.y),o=this.curve.d.redMul(s).redMul(u),l=i.redSub(o),d=i.redAdd(o),w=this.x.redAdd(this.y).redMul(n.x.redAdd(n.y)).redISub(s).redISub(u),b=t.redMul(l).redMul(w);return this.curve.twisted?(I=t.redMul(d).redMul(u.redSub(this.curve._mulA(s))),S=l.redMul(d)):(I=t.redMul(d).redMul(u.redSub(s)),S=this.curve._mulC(l).redMul(d)),this.curve.point(b,I,S)},g.prototype.add=function(n){return this.isInfinity()?n:n.isInfinity()?this:this.curve.extended?this._extAdd(n):this._projAdd(n)},g.prototype.mul=function(n){return this._hasDoubles(n)?this.curve._fixedNafMul(this,n):this.curve._wnafMul(this,n)},g.prototype.mulAdd=function(n,t,i){return this.curve._wnafMulAdd(1,[this,t],[n,i],2,!1)},g.prototype.jmulAdd=function(n,t,i){return this.curve._wnafMulAdd(1,[this,t],[n,i],2,!0)},g.prototype.normalize=function(){if(this.zOne)return this;var n=this.z.redInvm();return this.x=this.x.redMul(n),this.y=this.y.redMul(n),this.t&&(this.t=this.t.redMul(n)),this.z=this.curve.one,this.zOne=!0,this},g.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},g.prototype.getX=function(){return this.normalize(),this.x.fromRed()},g.prototype.getY=function(){return this.normalize(),this.y.fromRed()},g.prototype.eq=function(n){return this===n||0===this.getX().cmp(n.getX())&&0===this.getY().cmp(n.getY())},g.prototype.eqXToP=function(n){var t=n.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var i=n.clone(),s=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),0<=i.cmp(this.curve.p))return!1;if(t.redIAdd(s),0===this.x.cmp(t))return!0}},g.prototype.toP=g.prototype.normalize,g.prototype.mixedAdd=g.prototype.add},{"../utils":132,"./base":119,"bn.js":133,inherits:159}],121:[function(v,M,h){"use strict";var g=h;g.base=v("./base"),g.short=v("./short"),g.mont=v("./mont"),g.edwards=v("./edwards")},{"./base":119,"./edwards":120,"./mont":122,"./short":123}],122:[function(v,M){"use strict";function h(f){r.call(this,"mont",f),this.a=new p(f.a,16).toRed(this.red),this.b=new p(f.b,16).toRed(this.red),this.i4=new p(4).toRed(this.red).redInvm(),this.two=new p(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function g(f,n,t){r.BasePoint.call(this,f,"projective"),null===n&&null===t?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new p(n,16),this.z=new p(t,16),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.z.red&&(this.z=this.z.toRed(this.curve.red)))}var p=v("bn.js"),x=v("inherits"),r=v("./base"),c=v("../utils");x(h,r),M.exports=h,h.prototype.validate=function(f){var n=f.normalize().x,t=n.redSqr(),i=t.redMul(n).redAdd(t.redMul(this.a)).redAdd(n);return 0===i.redSqrt().redSqr().cmp(i)},x(g,r.BasePoint),h.prototype.decodePoint=function(f,n){return this.point(c.toArray(f,n),1)},h.prototype.point=function(f,n){return new g(this,f,n)},h.prototype.pointFromJSON=function(f){return g.fromJSON(this,f)},g.prototype.precompute=function(){},g.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},g.fromJSON=function(f,n){return new g(f,n[0],n[1]||f.one)},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},g.prototype.dbl=function(){var n=this.x.redAdd(this.z).redSqr(),i=this.x.redSub(this.z).redSqr(),s=n.redSub(i),u=n.redMul(i),o=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(u,o)},g.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},g.prototype.diffAdd=function(f,n){var t=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=f.x.redAdd(f.z),o=f.x.redSub(f.z).redMul(t),l=s.redMul(i),d=n.z.redMul(o.redAdd(l).redSqr()),w=n.x.redMul(o.redISub(l).redSqr());return this.curve.point(d,w)},g.prototype.mul=function(f){for(var n=f.clone(),t=this,i=this.curve.point(null,null),u=[];0!==n.cmpn(0);n.iushrn(1))u.push(n.andln(1));for(var o=u.length-1;0<=o;o--)0===u[o]?(t=t.diffAdd(i,this),i=i.dbl()):(i=t.diffAdd(i,this),t=t.dbl());return i},g.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},g.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},g.prototype.eq=function(f){return 0===this.getX().cmp(f.getX())},g.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},g.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":132,"./base":119,"bn.js":133,inherits:159}],123:[function(v,M){"use strict";function h(t){f.call(this,"short",t),this.a=new r(t.a,16).toRed(this.red),this.b=new r(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function g(t,i,s,u){f.BasePoint.call(this,t,"affine"),null===i&&null===s?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(i,16),this.y=new r(s,16),u&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),!this.x.red&&(this.x=this.x.toRed(this.curve.red)),!this.y.red&&(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function p(t,i,s,u){f.BasePoint.call(this,t,"jacobian"),null===i&&null===s&&null===u?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(i,16),this.y=new r(s,16),this.z=new r(u,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var x=v("../utils"),r=v("bn.js"),c=v("inherits"),f=v("./base"),n=x.assert;c(h,f),M.exports=h,h.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var i,s;if(t.beta)i=new r(t.beta,16).toRed(this.red);else{var u=this._getEndoRoots(this.p);i=(i=0>u[0].cmp(u[1])?u[0]:u[1]).toRed(this.red)}if(t.lambda)s=new r(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(i))?s=o[0]:n(0===this.g.mul(s=o[1]).x.cmp(this.g.x.redMul(i)))}return{beta:i,lambda:s,basis:t.basis?t.basis.map(function(d){return{a:new r(d.a,16),b:new r(d.b,16)}}):this._getEndoBasis(s)}}},h.prototype._getEndoRoots=function(t){var i=t===this.p?this.red:r.mont(t),s=new r(2).toRed(i).redInvm(),u=s.redNeg(),o=new r(3).toRed(i).redNeg().redSqrt().redMul(s);return[u.redAdd(o).fromRed(),u.redSub(o).fromRed()]},h.prototype._getEndoBasis=function(t){for(var I,S,R,F,q,K,he,Ae,xe,A,i=this.n.ushrn(mt(this.n.bitLength()/2)),s=t,u=this.n.clone(),o=new r(1),l=new r(0),d=new r(0),w=new r(1),b=0;0!==s.cmpn(0);){A=u.div(s),Ae=u.sub(A.mul(s)),xe=d.sub(A.mul(o));var N=w.sub(A.mul(l));if(!R&&0>Ae.cmp(i))I=he.neg(),S=o,R=Ae.neg(),F=xe;else if(R&&2==++b)break;he=Ae,u=s,s=Ae,d=o,o=xe,w=l,l=N}q=Ae.neg(),K=xe;var U=R.sqr().add(F.sqr());return 0<=q.sqr().add(K.sqr()).cmp(U)&&(q=I,K=S),R.negative&&(R=R.neg(),F=F.neg()),q.negative&&(q=q.neg(),K=K.neg()),[{a:R,b:F},{a:q,b:K}]},h.prototype._endoSplit=function(t){var i=this.endo.basis,s=i[0],u=i[1],o=u.b.mul(t).divRound(this.n),l=s.b.neg().mul(t).divRound(this.n),d=o.mul(s.a),w=l.mul(u.a),b=o.mul(s.b),I=l.mul(u.b);return{k1:t.sub(d).sub(w),k2:b.add(I).neg()}},h.prototype.pointFromX=function(t,i){(t=new r(t,16)).red||(t=t.toRed(this.red));var s=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),u=s.redSqrt();if(0!==u.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var o=u.fromRed().isOdd();return(i&&!o||!i&&o)&&(u=u.redNeg()),this.point(t,u)},h.prototype.validate=function(t){if(t.inf)return!0;var i=t.x,s=t.y,u=this.a.redMul(i),o=i.redSqr().redMul(i).redIAdd(u).redIAdd(this.b);return 0===s.redSqr().redISub(o).cmpn(0)},h.prototype._endoWnafMulAdd=function(t,i,s){for(var u=this._endoWnafT1,o=this._endoWnafT2,l=0;l<t.length;l++){var d=this._endoSplit(i[l]),w=t[l],b=w._getBeta();d.k1.negative&&(d.k1.ineg(),w=w.neg(!0)),d.k2.negative&&(d.k2.ineg(),b=b.neg(!0)),u[2*l]=w,u[2*l+1]=b,o[2*l]=d.k1,o[2*l+1]=d.k2}for(var I=this._wnafMulAdd(1,u,o,2*l,s),S=0;S<2*l;S++)u[S]=null,o[S]=null;return I},c(g,f.BasePoint),h.prototype.point=function(t,i,s){return new g(this,t,i,s)},h.prototype.pointFromJSON=function(t,i){return g.fromJSON(this,t,i)},g.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var i=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var s=this.curve,u=function(o){return s.point(o.x.redMul(s.endo.beta),o.y)};t.beta=i,i.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(u)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(u)}}}return i}},g.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},g.fromJSON=function(t,i,s){function u(d){return t.point(d[0],d[1],s)}"string"==typeof i&&(i=JSON.parse(i));var o=t.point(i[0],i[1],s);if(!i[2])return o;var l=i[2];return o.precomputed={beta:null,doubles:l.doubles&&{step:l.doubles.step,points:[o].concat(l.doubles.points.map(u))},naf:l.naf&&{wnd:l.naf.wnd,points:[o].concat(l.naf.points.map(u))}},o},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return this.inf},g.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var i=this.y.redSub(t.y);0!==i.cmpn(0)&&(i=i.redMul(this.x.redSub(t.x).redInvm()));var s=i.redSqr().redISub(this.x).redISub(t.x),u=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,u)},g.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var i=this.curve.a,s=this.x.redSqr(),u=t.redInvm(),o=s.redAdd(s).redIAdd(s).redIAdd(i).redMul(u),l=o.redSqr().redISub(this.x.redAdd(this.x)),d=o.redMul(this.x.redSub(l)).redISub(this.y);return this.curve.point(l,d)},g.prototype.getX=function(){return this.x.fromRed()},g.prototype.getY=function(){return this.y.fromRed()},g.prototype.mul=function(t){return t=new r(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},g.prototype.mulAdd=function(t,i,s){var u=[this,i],o=[t,s];return this.curve.endo?this.curve._endoWnafMulAdd(u,o):this.curve._wnafMulAdd(1,u,o,2)},g.prototype.jmulAdd=function(t,i,s){var u=[this,i],o=[t,s];return this.curve.endo?this.curve._endoWnafMulAdd(u,o,!0):this.curve._wnafMulAdd(1,u,o,2,!0)},g.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},g.prototype.neg=function(t){if(this.inf)return this;var i=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var s=this.precomputed,u=function(o){return o.neg()};i.precomputed={naf:s.naf&&{wnd:s.naf.wnd,points:s.naf.points.map(u)},doubles:s.doubles&&{step:s.doubles.step,points:s.doubles.points.map(u)}}}return i},g.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(p,f.BasePoint),h.prototype.jpoint=function(t,i,s){return new p(this,t,i,s)},p.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),i=t.redSqr(),s=this.x.redMul(i),u=this.y.redMul(i).redMul(t);return this.curve.point(s,u)},p.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},p.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var i=t.z.redSqr(),s=this.z.redSqr(),u=this.x.redMul(i),o=t.x.redMul(s),l=this.y.redMul(i.redMul(t.z)),d=t.y.redMul(s.redMul(this.z)),w=u.redSub(o),b=l.redSub(d);if(0===w.cmpn(0))return 0===b.cmpn(0)?this.dbl():this.curve.jpoint(null,null,null);var I=w.redSqr(),S=I.redMul(w),R=u.redMul(I),F=b.redSqr().redIAdd(S).redISub(R).redISub(R),q=b.redMul(R.redISub(F)).redISub(l.redMul(S)),K=this.z.redMul(t.z).redMul(w);return this.curve.jpoint(F,q,K)},p.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var i=this.z.redSqr(),s=this.x,u=t.x.redMul(i),o=this.y,l=t.y.redMul(i).redMul(this.z),d=s.redSub(u),w=o.redSub(l);if(0===d.cmpn(0))return 0===w.cmpn(0)?this.dbl():this.curve.jpoint(null,null,null);var b=d.redSqr(),I=b.redMul(d),S=s.redMul(b),R=w.redSqr().redIAdd(I).redISub(S).redISub(S),F=w.redMul(S.redISub(R)).redISub(o.redMul(I)),q=this.z.redMul(d);return this.curve.jpoint(R,F,q)},p.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var i;if(this.curve.zeroA||this.curve.threeA){var s=this;for(i=0;i<t;i++)s=s.dbl();return s}var u=this.curve.a,o=this.curve.tinv,l=this.x,d=this.y,w=this.z,b=w.redSqr().redSqr(),I=d.redAdd(d);for(i=0;i<t;i++){var S=l.redSqr(),R=I.redSqr(),F=R.redSqr(),q=S.redAdd(S).redIAdd(S).redIAdd(u.redMul(b)),K=l.redMul(R),he=q.redSqr().redISub(K.redAdd(K)),Ae=K.redISub(he),xe=q.redMul(Ae);xe=xe.redIAdd(xe).redISub(F);var A=I.redMul(w);i+1<t&&(b=b.redMul(F)),l=he,w=A,I=xe}return this.curve.jpoint(l,I.redMul(o),w)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},p.prototype._zeroDbl=function(){var t,i,s;if(this.zOne){var u=this.x.redSqr(),o=this.y.redSqr(),l=o.redSqr(),d=this.x.redAdd(o).redSqr().redISub(u).redISub(l);d=d.redIAdd(d);var w=u.redAdd(u).redIAdd(u),b=w.redSqr().redISub(d).redISub(d),I=l.redIAdd(l);I=(I=I.redIAdd(I)).redIAdd(I),t=b,i=w.redMul(d.redISub(b)).redISub(I),s=this.y.redAdd(this.y)}else{var S=this.x.redSqr(),R=this.y.redSqr(),F=R.redSqr(),q=this.x.redAdd(R).redSqr().redISub(S).redISub(F);q=q.redIAdd(q);var K=S.redAdd(S).redIAdd(S),he=K.redSqr(),Ae=F.redIAdd(F);Ae=(Ae=Ae.redIAdd(Ae)).redIAdd(Ae),t=he.redISub(q).redISub(q),i=K.redMul(q.redISub(t)).redISub(Ae),s=(s=this.y.redMul(this.z)).redIAdd(s)}return this.curve.jpoint(t,i,s)},p.prototype._threeDbl=function(){var t,i,s;if(this.zOne){var u=this.x.redSqr(),o=this.y.redSqr(),l=o.redSqr(),d=this.x.redAdd(o).redSqr().redISub(u).redISub(l);d=d.redIAdd(d);var w=u.redAdd(u).redIAdd(u).redIAdd(this.curve.a),b=w.redSqr().redISub(d).redISub(d);t=b;var I=l.redIAdd(l);I=(I=I.redIAdd(I)).redIAdd(I),i=w.redMul(d.redISub(b)).redISub(I),s=this.y.redAdd(this.y)}else{var S=this.z.redSqr(),R=this.y.redSqr(),F=this.x.redMul(R),q=this.x.redSub(S).redMul(this.x.redAdd(S));q=q.redAdd(q).redIAdd(q);var K=F.redIAdd(F),he=(K=K.redIAdd(K)).redAdd(K);t=q.redSqr().redISub(he),s=this.y.redAdd(this.z).redSqr().redISub(R).redISub(S);var Ae=R.redSqr();Ae=(Ae=(Ae=Ae.redIAdd(Ae)).redIAdd(Ae)).redIAdd(Ae),i=q.redMul(K.redISub(t)).redISub(Ae)}return this.curve.jpoint(t,i,s)},p.prototype._dbl=function(){var t=this.curve.a,i=this.x,s=this.y,u=this.z,o=u.redSqr().redSqr(),l=i.redSqr(),d=s.redSqr(),w=l.redAdd(l).redIAdd(l).redIAdd(t.redMul(o)),b=i.redAdd(i),I=(b=b.redIAdd(b)).redMul(d),S=w.redSqr().redISub(I.redAdd(I)),R=I.redISub(S),F=d.redSqr();F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var q=w.redMul(R).redISub(F),K=s.redAdd(s).redMul(u);return this.curve.jpoint(S,q,K)},p.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),i=this.y.redSqr(),s=this.z.redSqr(),u=i.redSqr(),o=t.redAdd(t).redIAdd(t),l=o.redSqr(),d=this.x.redAdd(i).redSqr().redISub(t).redISub(u),w=(d=(d=(d=d.redIAdd(d)).redAdd(d).redIAdd(d)).redISub(l)).redSqr(),b=u.redIAdd(u);b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b);var I=o.redIAdd(d).redSqr().redISub(l).redISub(w).redISub(b),S=i.redMul(I);S=(S=S.redIAdd(S)).redIAdd(S);var R=this.x.redMul(w).redISub(S);R=(R=R.redIAdd(R)).redIAdd(R);var F=this.y.redMul(I.redMul(b.redISub(I)).redISub(d.redMul(w)));F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var q=this.z.redAdd(d).redSqr().redISub(s).redISub(w);return this.curve.jpoint(R,F,q)},p.prototype.mul=function(t,i){return t=new r(t,i),this.curve._wnafMul(this,t)},p.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var i=this.z.redSqr(),s=t.z.redSqr();if(0!==this.x.redMul(s).redISub(t.x.redMul(i)).cmpn(0))return!1;var u=i.redMul(this.z),o=s.redMul(t.z);return 0===this.y.redMul(o).redISub(t.y.redMul(u)).cmpn(0)},p.prototype.eqXToP=function(t){var i=this.z.redSqr(),s=t.toRed(this.curve.red).redMul(i);if(0===this.x.cmp(s))return!0;for(var u=t.clone(),o=this.curve.redN.redMul(i);;){if(u.iadd(this.curve.n),0<=u.cmp(this.curve.p))return!1;if(s.redIAdd(o),0===this.x.cmp(s))return!0}},p.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},p.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":132,"./base":119,"bn.js":133,inherits:159}],124:[function(v,M,h){"use strict";function g(i){this.curve="short"===i.type?new c.short(i):"edwards"===i.type?new c.edwards(i):new c.mont(i),this.g=this.curve.g,this.n=this.curve.n,this.hash=i.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function p(i,s){Object.defineProperty(x,i,{configurable:!0,enumerable:!0,get:function(){var u=new g(s);return Object.defineProperty(x,i,{configurable:!0,enumerable:!0,value:u}),u}})}var t,x=h,r=v("hash.js"),c=v("./curve"),n=v("./utils").assert;x.PresetCurve=g,p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{t=v("./precomputed/secp256k1")}catch(i){t=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",t]})},{"./curve":121,"./precomputed/secp256k1":131,"./utils":132,"hash.js":143}],125:[function(v,M){"use strict";function h(i){return this instanceof h?("string"==typeof i&&(f(Object.prototype.hasOwnProperty.call(r,i),"Unknown curve "+i),i=r[i]),i instanceof r.PresetCurve&&(i={curve:i}),this.curve=i.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=i.curve.g,this.g.precompute(i.curve.n.bitLength()+1),void(this.hash=i.hash||i.curve.hash)):new h(i)}var g=v("bn.js"),p=v("hmac-drbg"),x=v("../utils"),r=v("../curves"),c=v("brorand"),f=x.assert,n=v("./key"),t=v("./signature");M.exports=h,h.prototype.keyPair=function(i){return new n(this,i)},h.prototype.keyFromPrivate=function(i,s){return n.fromPrivate(this,i,s)},h.prototype.keyFromPublic=function(i,s){return n.fromPublic(this,i,s)},h.prototype.genKeyPair=function(i){i||(i={});for(var s=new p({hash:this.hash,pers:i.pers,persEnc:i.persEnc||"utf8",entropy:i.entropy||c(this.hash.hmacStrength),entropyEnc:i.entropy&&i.entropyEnc||"utf8",nonce:this.n.toArray()}),u=this.n.byteLength(),o=this.n.sub(new g(2));;){var l=new g(s.generate(u));if(!(0<l.cmp(o)))return l.iaddn(1),this.keyFromPrivate(l)}},h.prototype._truncateToN=function(i,s){var u=8*i.byteLength()-this.n.bitLength();return 0<u&&(i=i.ushrn(u)),!s&&0<=i.cmp(this.n)?i.sub(this.n):i},h.prototype.sign=function(i,s,u,o){"object"==typeof u&&(o=u,u=null),o||(o={}),s=this.keyFromPrivate(s,u),i=this._truncateToN(new g(i,16));for(var R,l=this.n.byteLength(),d=s.getPrivate().toArray("be",l),w=i.toArray("be",l),b=new p({hash:this.hash,entropy:d,nonce:w,pers:o.pers,persEnc:o.persEnc||"utf8"}),I=this.n.sub(new g(1)),S=0;;S++)if(R=o.k?o.k(S):new g(b.generate(this.n.byteLength())),!(0>=(R=this._truncateToN(R,!0)).cmpn(1)||0<=R.cmp(I))){var F=this.g.mul(R);if(!F.isInfinity()){var q=F.getX(),K=q.umod(this.n);if(0!==K.cmpn(0)){var he=R.invm(this.n).mul(K.mul(s.getPrivate()).iadd(i));if(0!==(he=he.umod(this.n)).cmpn(0)){var Ae=(F.getY().isOdd()?1:0)|(0===q.cmp(K)?0:2);return o.canonical&&0<he.cmp(this.nh)&&(he=this.n.sub(he),Ae^=1),new t({r:K,s:he,recoveryParam:Ae})}}}}},h.prototype.verify=function(i,s,u,o){i=this._truncateToN(new g(i,16)),u=this.keyFromPublic(u,o);var l=(s=new t(s,"hex")).r,d=s.s;if(0>l.cmpn(1)||0<=l.cmp(this.n)||0>d.cmpn(1)||0<=d.cmp(this.n))return!1;var S,w=d.invm(this.n),b=w.mul(i).umod(this.n),I=w.mul(l).umod(this.n);return this.curve._maxwellTrick?!(S=this.g.jmulAdd(b,u.getPublic(),I)).isInfinity()&&S.eqXToP(l):!(S=this.g.mulAdd(b,u.getPublic(),I)).isInfinity()&&0===S.getX().umod(this.n).cmp(l)},h.prototype.recoverPubKey=function(i,s,u,o){f((3&u)===u,"The recovery param is more than two bits"),s=new t(s,o);var l=this.n,d=new g(i),w=s.r,b=s.s,I=1&u,S=u>>1;if(0<=w.cmp(this.curve.p.umod(this.curve.n))&&S)throw new Error("Unable to find sencond key candinate");w=this.curve.pointFromX(S?w.add(this.curve.n):w,I);var R=s.r.invm(l),F=l.sub(d).mul(R).umod(l),q=b.mul(R).umod(l);return this.g.mulAdd(F,w,q)},h.prototype.getKeyRecoveryParam=function(i,s,u,o){if(null!==(s=new t(s,o)).recoveryParam)return s.recoveryParam;for(var l=0;4>l;l++){var d;try{d=this.recoverPubKey(i,s,l)}catch(w){continue}if(d.eq(u))return l}throw new Error("Unable to find valid recovery factor")}},{"../curves":124,"../utils":132,"./key":126,"./signature":127,"bn.js":133,brorand:40,"hmac-drbg":155}],126:[function(v,M){"use strict";function h(r,c){this.ec=r,this.priv=null,this.pub=null,c.priv&&this._importPrivate(c.priv,c.privEnc),c.pub&&this._importPublic(c.pub,c.pubEnc)}var g=v("bn.js"),x=v("../utils").assert;M.exports=h,h.fromPublic=function(r,c,f){return c instanceof h?c:new h(r,{pub:c,pubEnc:f})},h.fromPrivate=function(r,c,f){return c instanceof h?c:new h(r,{priv:c,privEnc:f})},h.prototype.validate=function(){var r=this.getPublic();return r.isInfinity()?{result:!1,reason:"Invalid public key"}:r.validate()?r.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},h.prototype.getPublic=function(r,c){return"string"==typeof r&&(c=r,r=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),c?this.pub.encode(c,r):this.pub},h.prototype.getPrivate=function(r){return"hex"===r?this.priv.toString(16,2):this.priv},h.prototype._importPrivate=function(r,c){this.priv=new g(r,c||16),this.priv=this.priv.umod(this.ec.curve.n)},h.prototype._importPublic=function(r,c){return r.x||r.y?("mont"===this.ec.curve.type?x(r.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&x(r.x&&r.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(r.x,r.y))):void(this.pub=this.ec.curve.decodePoint(r,c))},h.prototype.derive=function(r){return r.validate()||x(r.validate(),"public point not validated"),r.mul(this.priv).getX()},h.prototype.sign=function(r,c,f){return this.ec.sign(r,this,c,f)},h.prototype.verify=function(r,c){return this.ec.verify(r,c,this)},h.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":132,"bn.js":133}],127:[function(v,M){"use strict";function h(t,i){return t instanceof h?t:void(this._importDER(t,i)||(n(t.r&&t.s,"Signature without r or s"),this.r=new c(t.r,16),this.s=new c(t.s,16),this.recoveryParam=void 0===t.recoveryParam?null:t.recoveryParam))}function g(){this.place=0}function p(t,i){var s=t[i.place++];if(!(128&s))return s;var u=15&s;if(0==u||4<u)return!1;for(var o=0,l=0,d=i.place;l<u;l++,d++)o<<=8,o|=t[d],o>>>=0;return!(127>=o)&&(i.place=d,o)}function x(t){for(var i=0,s=t.length-1;!t[i]&&!(128&t[i+1])&&i<s;)i++;return 0===i?t:t.slice(i)}function r(t,i){if(128>i)t.push(i);else{var s=1+(hn(i)/Nt>>>3);for(t.push(128|s);--s;)t.push(255&i>>>(s<<3));t.push(i)}}var c=v("bn.js"),f=v("../utils"),n=f.assert;M.exports=h,h.prototype._importDER=function(t,i){t=f.toArray(t,i);var s=new g;if(48!==t[s.place++])return!1;var u=p(t,s);if(!1===u||u+s.place!==t.length||2!==t[s.place++])return!1;var o=p(t,s);if(!1===o)return!1;var l=t.slice(s.place,o+s.place);if(s.place+=o,2!==t[s.place++])return!1;var d=p(t,s);if(!1===d||t.length!==d+s.place)return!1;var w=t.slice(s.place,d+s.place);if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}if(0===w[0]){if(!(128&w[1]))return!1;w=w.slice(1)}return this.r=new c(l),this.s=new c(w),this.recoveryParam=null,!0},h.prototype.toDER=function(t){var i=this.r.toArray(),s=this.s.toArray();for(128&i[0]&&(i=[0].concat(i)),128&s[0]&&(s=[0].concat(s)),i=x(i),s=x(s);!(s[0]||128&s[1]);)s=s.slice(1);var u=[2];r(u,i.length),(u=u.concat(i)).push(2),r(u,s.length);var o=u.concat(s),l=[48];return r(l,o.length),l=l.concat(o),f.encode(l,t)}},{"../utils":132,"bn.js":133}],128:[function(v,M){"use strict";function h(t){return r("ed25519"===t,"only tested with ed25519 so far"),this instanceof h?(this.curve=t=p[t].curve,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=ge(t.n.bitLength()/8),void(this.hash=g.sha512)):new h(t)}var g=v("hash.js"),p=v("../curves"),x=v("../utils"),r=x.assert,c=x.parseBytes,f=v("./key"),n=v("./signature");M.exports=h,h.prototype.sign=function(t,i){t=c(t);var s=this.keyFromSecret(i),u=this.hashInt(s.messagePrefix(),t),o=this.g.mul(u),l=this.encodePoint(o),d=this.hashInt(l,s.pubBytes(),t).mul(s.priv()),w=u.add(d).umod(this.curve.n);return this.makeSignature({R:o,S:w,Rencoded:l})},h.prototype.verify=function(t,i,s){t=c(t),i=this.makeSignature(i);var u=this.keyFromPublic(s),o=this.hashInt(i.Rencoded(),u.pubBytes(),t),l=this.g.mul(i.S());return i.R().add(u.pub().mul(o)).eq(l)},h.prototype.hashInt=function(){for(var t=this.hash(),i=0;i<arguments.length;i++)t.update(arguments[i]);return x.intFromLE(t.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(t){return f.fromPublic(this,t)},h.prototype.keyFromSecret=function(t){return f.fromSecret(this,t)},h.prototype.makeSignature=function(t){return t instanceof n?t:new n(this,t)},h.prototype.encodePoint=function(t){var i=t.getY().toArray("le",this.encodingLength);return i[this.encodingLength-1]|=t.getX().isOdd()?128:0,i},h.prototype.decodePoint=function(t){var i=(t=x.parseBytes(t)).length-1,s=t.slice(0,i).concat(-129&t[i]),u=0!=(128&t[i]),o=x.intFromLE(s);return this.curve.pointFromY(o,u)},h.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(t){return x.intFromLE(t)},h.prototype.isPoint=function(t){return t instanceof this.pointClass}},{"../curves":124,"../utils":132,"./key":129,"./signature":130,"hash.js":143}],129:[function(v,M){"use strict";function h(c,f){this.eddsa=c,this._secret=x(f.secret),c.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=x(f.pub)}var g=v("../utils"),p=g.assert,x=g.parseBytes,r=g.cachedProperty;h.fromPublic=function(c,f){return f instanceof h?f:new h(c,{pub:f})},h.fromSecret=function(c,f){return f instanceof h?f:new h(c,{secret:f})},h.prototype.secret=function(){return this._secret},r(h,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),r(h,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),r(h,"privBytes",function(){var c=this.eddsa,f=this.hash(),n=c.encodingLength-1,t=f.slice(0,c.encodingLength);return t[0]&=248,t[n]&=127,t[n]|=64,t}),r(h,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),r(h,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),r(h,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),h.prototype.sign=function(c){return p(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},h.prototype.verify=function(c,f){return this.eddsa.verify(c,f,this)},h.prototype.getSecret=function(c){return p(this._secret,"KeyPair is public only"),g.encode(this.secret(),c)},h.prototype.getPublic=function(c){return g.encode(this.pubBytes(),c)},M.exports=h},{"../utils":132}],130:[function(v,M){"use strict";function h(f,n){this.eddsa=f,"object"!=typeof n&&(n=c(n)),Array.isArray(n)&&(n={R:n.slice(0,f.encodingLength),S:n.slice(f.encodingLength)}),x(n.R&&n.S,"Signature without R or S"),f.isPoint(n.R)&&(this._R=n.R),n.S instanceof g&&(this._S=n.S),this._Rencoded=Array.isArray(n.R)?n.R:n.Rencoded,this._Sencoded=Array.isArray(n.S)?n.S:n.Sencoded}var g=v("bn.js"),p=v("../utils"),x=p.assert,r=p.cachedProperty,c=p.parseBytes;r(h,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),r(h,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),r(h,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),r(h,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),h.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},h.prototype.toHex=function(){return p.encode(this.toBytes(),"hex").toUpperCase()},M.exports=h},{"../utils":132,"bn.js":133}],131:[function(v,M){M.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],132:[function(v,M,h){"use strict";var g=h,p=v("bn.js"),x=v("minimalistic-assert"),r=v("minimalistic-crypto-utils");g.assert=x,g.toArray=r.toArray,g.zero2=r.zero2,g.toHex=r.toHex,g.encode=r.encode,g.getNAF=function(c,f,n){var t=Array(fe(c.bitLength(),n)+1);t.fill(0);for(var i=1<<f+1,s=c.clone(),u=0;u<t.length;u++){var l,o=s.andln(i-1);s.isOdd()?s.isubn(l=o>(i>>1)-1?(i>>1)-o:o):l=0,t[u]=l,s.iushrn(1)}return t},g.getJSF=function(c,f){var n=[[],[]];c=c.clone(),f=f.clone();for(var s,t=0,i=0;0<c.cmpn(-t)||0<f.cmpn(-i);){var l,d,u=3&c.andln(3)+t,o=3&f.andln(3)+i;3==u&&(u=-1),3===o&&(o=-1),l=0==(1&u)?0:3!=(s=7&c.andln(7)+t)&&5!==s||2!==o?u:-u,n[0].push(l),d=0==(1&o)?0:3!=(s=7&f.andln(7)+i)&&5!==s||2!==u?o:-o,n[1].push(d),2*t===l+1&&(t=1-t),2*i===d+1&&(i=1-i),c.iushrn(1),f.iushrn(1)}return n},g.cachedProperty=function(c,f,n){var t="_"+f;c.prototype[f]=function(){return void 0===this[t]?this[t]=n.call(this):this[t]}},g.parseBytes=function(c){return"string"==typeof c?g.toArray(c,"hex"):c},g.intFromLE=function(c){return new p(c,"hex","le")}},{"bn.js":133,"minimalistic-assert":180,"minimalistic-crypto-utils":181}],133:[function(v,M,h){arguments[4][22][0].apply(h,arguments)},{buffer:41,dup:22}],134:[function(v,M){M.exports={_from:"elliptic@^6.5.3",_id:"elliptic@6.5.4",_inBundle:!1,_integrity:"sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.5.3",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.5.3",saveSpec:null,fetchSpec:"^6.5.3"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz",_shasum:"da37cebd31e79a1367e941b592ed1fbebd58abbb",_spec:"elliptic@^6.5.3",_where:"/home/runner/work/webtorrent/webtorrent/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.4"}},{}],135:[function(v,M){(function(h){(function(){var g=v("once"),p=function(){},c=function(f,n,t){if("function"==typeof n)return c(f,null,n);n||(n={}),t=g(t||p);var i=f._writableState,s=f._readableState,u=n.readable||!1!==n.readable&&f.readable,o=n.writable||!1!==n.writable&&f.writable,l=!1,d=function(){f.writable||w()},w=function(){o=!1,u||t.call(f)},b=function(){u=!1,o||t.call(f)},I=function(K){t.call(f,K?new Error("exited with error code: "+K):null)},S=function(K){t.call(f,K)},R=function(){h.nextTick(F)},F=function(){return l||(!u||s&&s.ended&&!s.destroyed)&&(!o||i&&i.ended&&!i.destroyed)?void 0:t.call(f,new Error("premature close"))},q=function(){f.req.on("finish",w)};return function(f){return f.setHeader&&"function"==typeof f.abort}(f)?(f.on("complete",w),f.on("abort",R),f.req?q():f.on("request",q)):o&&!i&&(f.on("end",d),f.on("close",d)),function(f){return f.stdio&&Array.isArray(f.stdio)&&3===f.stdio.length}(f)&&f.on("exit",I),f.on("end",b),f.on("finish",w),!1!==n.error&&f.on("error",S),f.on("close",R),function(){l=!0,f.removeListener("complete",w),f.removeListener("abort",R),f.removeListener("request",q),f.req&&f.req.removeListener("finish",w),f.removeListener("end",d),f.removeListener("close",d),f.removeListener("finish",w),f.removeListener("exit",I),f.removeListener("end",b),f.removeListener("error",S),f.removeListener("close",R)}};M.exports=c}).call(this)}).call(this,v("_process"))},{_process:205,once:191}],136:[function(v,M){"use strict";function h(g,p){for(const x in p)Object.defineProperty(g,x,{value:p[x],enumerable:!0,configurable:!0});return g}M.exports=function(g,p,x){if(!g||"string"==typeof g)throw new TypeError("Please pass an Error to err-code");x||(x={}),"object"==typeof p&&(x=p,p=""),p&&(x.code=p);try{return h(g,x)}catch(r){x.message=g.message,x.stack=g.stack;const c=function(){};return c.prototype=Object.create(Object.getPrototypeOf(g)),h(new c,x)}}},{}],137:[function(v,M){var h=v("safe-buffer").Buffer,g=v("md5.js");M.exports=function(p,x,r,c){if(h.isBuffer(p)||(p=h.from(p,"binary")),x&&(h.isBuffer(x)||(x=h.from(x,"binary")),8!==x.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s,f=r/8,n=h.alloc(f),t=h.alloc(c||0),i=h.alloc(0);0<f||0<c;){(s=new g).update(i),s.update(p),x&&s.update(x),i=s.digest();var u=0;if(0<f){var o=n.length-f;u=re(f,i.length),i.copy(n,o,0,u),f-=u}if(u<i.length&&0<c){var l=t.length-c,d=re(c,i.length-u);i.copy(t,l,u,u+d),c-=d}}return i.fill(0),{key:n,iv:t}}},{"md5.js":171,"safe-buffer":247}],138:[function(v,M){M.exports=class{constructor(h){if(!(0<h)||0!=(h-1&h))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=Array(h),this.mask=h-1,this.top=0,this.btm=0,this.next=null}push(h){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=h,this.top=this.top+1&this.mask,!0)}shift(){const h=this.buffer[this.btm];if(void 0!==h)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,h}isEmpty(){return void 0===this.buffer[this.btm]}}},{}],139:[function(v,M){const h=v("./fixed-size");M.exports=class{constructor(g){this.hwm=g||16,this.head=new h(this.hwm),this.tail=this.head}push(g){this.head.push(g)||(this.head=this.head.next=new h(2*this.head.buffer.length),this.head.push(g))}shift(){const g=this.tail.shift();if(void 0===g&&this.tail.next){const p=this.tail.next;return this.tail.next=null,this.tail=p,this.tail.shift()}return g}isEmpty(){return this.head.isEmpty()}}},{"./fixed-size":138}],140:[function(v,M){const{Readable:h}=v("readable-stream"),g=v("typedarray-to-buffer");M.exports=class extends h{constructor(p,x={}){super(x),this._offset=0,this._ready=!1,this._file=p,this._size=p.size,this._chunkSize=x.chunkSize||fe(this._size/1e3,204800);const r=new FileReader;r.onload=()=>{this.push(g(r.result))},r.onerror=()=>{this.emit("error",r.error)},this.reader=r,this._generateHeaderBlocks(p,x,(c,f)=>c?this.emit("error",c):(Array.isArray(f)&&f.forEach(n=>this.push(n)),this._ready=!0,void this.emit("_ready")))}_generateHeaderBlocks(p,x,r){r(null,[])}_read(){if(!this._ready)return void this.once("_ready",this._read.bind(this));const p=this._offset;let x=this._offset+this._chunkSize;return x>this._size&&(x=this._size),p===this._size?(this.destroy(),void this.push(null)):(this.reader.readAsArrayBuffer(this._file.slice(p,x)),void(this._offset=x))}destroy(){if(this._file=null,this.reader){this.reader.onload=null,this.reader.onerror=null;try{this.reader.abort()}catch(p){}}this.reader=null}}},{"readable-stream":240,"typedarray-to-buffer":282}],141:[function(v,M){M.exports=function(){if("undefined"==typeof globalThis)return null;var h={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return h.RTCPeerConnection?h:null}},{}],142:[function(v,M){"use strict";function g(c){x.call(this),this._block=p.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var p=v("safe-buffer").Buffer,x=v("readable-stream").Transform;v("inherits")(g,x),g.prototype._transform=function(c,f,n){var t=null;try{this.update(c,f)}catch(i){t=i}n(t)},g.prototype._flush=function(c){var f=null;try{this.push(this.digest())}catch(n){f=n}c(f)},g.prototype.update=function(c,f){if(function h(c,f){if(!p.isBuffer(c)&&"string"!=typeof c)throw new TypeError(f+" must be a string or a buffer")}(c,"Data"),this._finalized)throw new Error("Digest already called");p.isBuffer(c)||(c=p.from(c,f));for(var n=this._block,t=0;this._blockOffset+c.length-t>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)n[i++]=c[t++];this._update(),this._blockOffset=0}for(;t<c.length;)n[this._blockOffset++]=c[t++];for(var s=0,u=8*c.length;0<u;++s)this._length[s]+=u,0<(u=0|this._length[s]/4294967296)&&(this._length[s]-=4294967296*u);return this},g.prototype._update=function(){throw new Error("_update is not implemented")},g.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var f=this._digest();void 0!==c&&(f=f.toString(c)),this._block.fill(0),this._blockOffset=0;for(var n=0;4>n;++n)this._length[n]=0;return f},g.prototype._digest=function(){throw new Error("_digest is not implemented")},M.exports=g},{inherits:159,"readable-stream":240,"safe-buffer":247}],143:[function(v,M,h){var g=h;g.utils=v("./hash/utils"),g.common=v("./hash/common"),g.sha=v("./hash/sha"),g.ripemd=v("./hash/ripemd"),g.hmac=v("./hash/hmac"),g.sha1=g.sha.sha1,g.sha256=g.sha.sha256,g.sha224=g.sha.sha224,g.sha384=g.sha.sha384,g.sha512=g.sha.sha512,g.ripemd160=g.ripemd.ripemd160},{"./hash/common":144,"./hash/hmac":145,"./hash/ripemd":146,"./hash/sha":147,"./hash/utils":154}],144:[function(v,M,h){"use strict";function g(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var p=v("./utils"),x=v("minimalistic-assert");h.BlockHash=g,g.prototype.update=function(r,c){if(r=p.toArray(r,c),this.pending=this.pending?this.pending.concat(r):r,this.pendingTotal+=r.length,this.pending.length>=this._delta8){var f=(r=this.pending).length%this._delta8;this.pending=r.slice(r.length-f,r.length),0===this.pending.length&&(this.pending=null),r=p.join32(r,0,r.length-f,this.endian);for(var n=0;n<r.length;n+=this._delta32)this._update(r,n,n+this._delta32)}return this},g.prototype.digest=function(r){return this.update(this._pad()),x(null===this.pending),this._digest(r)},g.prototype._pad=function(){var r=this.pendingTotal,c=this._delta8,f=c-(r+this.padLength)%c,n=Array(f+this.padLength);n[0]=128;for(var t=1;t<f;t++)n[t]=0;if(r<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)n[t++]=0;n[t++]=0,n[t++]=0,n[t++]=0,n[t++]=0,n[t++]=255&r>>>24,n[t++]=255&r>>>16,n[t++]=255&r>>>8,n[t++]=255&r}else for(n[t++]=255&r,n[t++]=255&r>>>8,n[t++]=255&r>>>16,n[t++]=255&r>>>24,n[t++]=0,n[t++]=0,n[t++]=0,n[t++]=0,i=8;i<this.padLength;i++)n[t++]=0;return n}},{"./utils":154,"minimalistic-assert":180}],145:[function(v,M){"use strict";function h(x,r,c){return this instanceof h?(this.Hash=x,this.blockSize=x.blockSize/8,this.outSize=x.outSize/8,this.inner=null,this.outer=null,void this._init(g.toArray(r,c))):new h(x,r,c)}var g=v("./utils"),p=v("minimalistic-assert");M.exports=h,h.prototype._init=function(x){x.length>this.blockSize&&(x=(new this.Hash).update(x).digest()),p(x.length<=this.blockSize);for(var r=x.length;r<this.blockSize;r++)x.push(0);for(r=0;r<x.length;r++)x[r]^=54;for(this.inner=(new this.Hash).update(x),r=0;r<x.length;r++)x[r]^=106;this.outer=(new this.Hash).update(x)},h.prototype.update=function(x,r){return this.inner.update(x,r),this},h.prototype.digest=function(x){return this.outer.update(this.inner.digest()),this.outer.digest(x)}},{"./utils":154,"minimalistic-assert":180}],146:[function(v,M,h){"use strict";function g(){return this instanceof g?(u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new g}function p(b,I,S,R){return 15>=b?I^S^R:31>=b?I&S|~I&R:47>=b?(I|~S)^R:63>=b?I&R|S&~R:I^(S|~R)}function x(b){return 15>=b?0:31>=b?1518500249:47>=b?1859775393:63>=b?2400959708:2840853838}function r(b){return 15>=b?1352829926:31>=b?1548603684:47>=b?1836072691:63>=b?2053994217:0}var c=v("./utils"),f=v("./common"),n=c.rotl32,t=c.sum32,i=c.sum32_3,s=c.sum32_4,u=f.BlockHash;c.inherits(g,u),h.ripemd160=g,g.blockSize=512,g.outSize=160,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(b,I){for(var y,S=this.h[0],R=this.h[1],F=this.h[2],q=this.h[3],K=this.h[4],he=S,Ae=R,xe=F,A=q,N=K,U=0;80>U;U++)y=t(n(s(S,p(U,R,F,q),b[o[U]+I],x(U)),d[U]),K),S=K,K=q,q=n(F,10),F=R,R=y,y=t(n(s(he,p(79-U,Ae,xe,A),b[l[U]+I],r(U)),w[U]),N),he=N,N=A,A=n(xe,10),xe=Ae,Ae=y;y=i(this.h[1],F,A),this.h[1]=i(this.h[2],q,N),this.h[2]=i(this.h[3],K,he),this.h[3]=i(this.h[4],S,Ae),this.h[4]=i(this.h[0],R,xe),this.h[0]=y},g.prototype._digest=function(b){return"hex"===b?c.toHex32(this.h,"little"):c.split32(this.h,"little")};var o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],d=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":144,"./utils":154}],147:[function(v,M,h){"use strict";h.sha1=v("./sha/1"),h.sha224=v("./sha/224"),h.sha256=v("./sha/256"),h.sha384=v("./sha/384"),h.sha512=v("./sha/512")},{"./sha/1":148,"./sha/224":149,"./sha/256":150,"./sha/384":151,"./sha/512":152}],148:[function(v,M){"use strict";function h(){return this instanceof h?(t.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=Array(80))):new h}var g=v("../utils"),p=v("../common"),x=v("./common"),r=g.rotl32,c=g.sum32,f=g.sum32_5,n=x.ft_1,t=p.BlockHash,i=[1518500249,1859775393,2400959708,3395469782];g.inherits(h,t),M.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(s,u){for(var o=this.W,l=0;16>l;l++)o[l]=s[u+l];for(;l<o.length;l++)o[l]=r(o[l-3]^o[l-8]^o[l-14]^o[l-16],1);var d=this.h[0],w=this.h[1],b=this.h[2],I=this.h[3],S=this.h[4];for(l=0;l<o.length;l++){var R=~~(l/20),F=f(r(d,5),n(R,w,b,I),S,o[l],i[R]);S=I,I=b,b=r(w,30),w=d,d=F}this.h[0]=c(this.h[0],d),this.h[1]=c(this.h[1],w),this.h[2]=c(this.h[2],b),this.h[3]=c(this.h[3],I),this.h[4]=c(this.h[4],S)},h.prototype._digest=function(s){return"hex"===s?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},{"../common":144,"../utils":154,"./common":153}],149:[function(v,M){"use strict";function h(){return this instanceof h?(p.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new h}var g=v("../utils"),p=v("./256");g.inherits(h,p),M.exports=h,h.blockSize=512,h.outSize=224,h.hmacStrength=192,h.padLength=64,h.prototype._digest=function(x){return"hex"===x?g.toHex32(this.h.slice(0,7),"big"):g.split32(this.h.slice(0,7),"big")}},{"../utils":154,"./256":150}],150:[function(v,M){"use strict";function h(){return this instanceof h?(d.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,void(this.W=Array(64))):new h}var g=v("../utils"),p=v("../common"),x=v("./common"),r=v("minimalistic-assert"),c=g.sum32,f=g.sum32_4,n=g.sum32_5,t=x.ch32,i=x.maj32,s=x.s0_256,u=x.s1_256,o=x.g0_256,l=x.g1_256,d=p.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];g.inherits(h,d),M.exports=h,h.blockSize=512,h.outSize=256,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(b,I){for(var S=this.W,R=0;16>R;R++)S[R]=b[I+R];for(;R<S.length;R++)S[R]=f(l(S[R-2]),S[R-7],o(S[R-15]),S[R-16]);var F=this.h[0],q=this.h[1],K=this.h[2],he=this.h[3],Ae=this.h[4],xe=this.h[5],A=this.h[6],N=this.h[7];for(r(this.k.length===S.length),R=0;R<S.length;R++){var U=n(N,u(Ae),t(Ae,xe,A),this.k[R],S[R]),y=c(s(F),i(F,q,K));N=A,A=xe,xe=Ae,Ae=c(he,U),he=K,K=q,q=F,F=c(U,y)}this.h[0]=c(this.h[0],F),this.h[1]=c(this.h[1],q),this.h[2]=c(this.h[2],K),this.h[3]=c(this.h[3],he),this.h[4]=c(this.h[4],Ae),this.h[5]=c(this.h[5],xe),this.h[6]=c(this.h[6],A),this.h[7]=c(this.h[7],N)},h.prototype._digest=function(b){return"hex"===b?g.toHex32(this.h,"big"):g.split32(this.h,"big")}},{"../common":144,"../utils":154,"./common":153,"minimalistic-assert":180}],151:[function(v,M){"use strict";function h(){return this instanceof h?(p.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new h}var g=v("../utils"),p=v("./512");g.inherits(h,p),M.exports=h,h.blockSize=1024,h.outSize=384,h.hmacStrength=192,h.padLength=128,h.prototype._digest=function(x){return"hex"===x?g.toHex32(this.h.slice(0,12),"big"):g.split32(this.h.slice(0,12),"big")}},{"../utils":154,"./512":152}],152:[function(v,M){"use strict";function h(){return this instanceof h?(N.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=U,void(this.W=Array(160))):new h}function g(y,C,L,O,oe){var $=y&L^~y&oe;return 0>$&&($+=4294967296),$}function p(y,C,L,O,oe,$){var ue=C&O^~C&$;return 0>ue&&(ue+=4294967296),ue}function x(y,C,L,O,oe){var $=y&L^y&oe^L&oe;return 0>$&&($+=4294967296),$}function r(y,C,L,O,oe,$){var ue=C&O^C&$^O&$;return 0>ue&&(ue+=4294967296),ue}function c(y,C){var $=b(y,C,28)^b(C,y,2)^b(C,y,7);return 0>$&&($+=4294967296),$}function f(y,C){var $=I(y,C,28)^I(C,y,2)^I(C,y,7);return 0>$&&($+=4294967296),$}function n(y,C){var $=b(y,C,14)^b(y,C,18)^b(C,y,9);return 0>$&&($+=4294967296),$}function t(y,C){var $=I(y,C,14)^I(y,C,18)^I(C,y,9);return 0>$&&($+=4294967296),$}function i(y,C){var $=b(y,C,1)^b(y,C,8)^S(y,C,7);return 0>$&&($+=4294967296),$}function s(y,C){var $=I(y,C,1)^I(y,C,8)^R(y,C,7);return 0>$&&($+=4294967296),$}function u(y,C){var $=b(y,C,19)^b(C,y,29)^S(y,C,6);return 0>$&&($+=4294967296),$}function o(y,C){var $=I(y,C,19)^I(C,y,29)^R(y,C,6);return 0>$&&($+=4294967296),$}var l=v("../utils"),d=v("../common"),w=v("minimalistic-assert"),b=l.rotr64_hi,I=l.rotr64_lo,S=l.shr64_hi,R=l.shr64_lo,F=l.sum64,q=l.sum64_hi,K=l.sum64_lo,he=l.sum64_4_hi,Ae=l.sum64_4_lo,xe=l.sum64_5_hi,A=l.sum64_5_lo,N=d.BlockHash,U=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];l.inherits(h,N),M.exports=h,h.blockSize=1024,h.outSize=512,h.hmacStrength=192,h.padLength=128,h.prototype._prepareBlock=function(y,C){for(var L=this.W,O=0;32>O;O++)L[O]=y[C+O];for(;O<L.length;O+=2){var oe=u(L[O-4],L[O-3]),$=o(L[O-4],L[O-3]),ue=L[O-14],qe=L[O-13],Ze=i(L[O-30],L[O-29]),Ve=s(L[O-30],L[O-29]),tt=L[O-32],at=L[O-31];L[O]=he(oe,$,ue,qe,Ze,Ve,tt,at),L[O+1]=Ae(oe,$,ue,qe,Ze,Ve,tt,at)}},h.prototype._update=function(y,C){this._prepareBlock(y,C);var L=this.W,O=this.h[0],oe=this.h[1],$=this.h[2],ue=this.h[3],qe=this.h[4],Ze=this.h[5],Ve=this.h[6],tt=this.h[7],at=this.h[8],zt=this.h[9],Wt=this.h[10],Jt=this.h[11],Ye=this.h[12],st=this.h[13],ft=this.h[14],Y=this.h[15];w(this.k.length===L.length);for(var de=0;de<L.length;de+=2){var X=ft,ae=Y,Je=n(at,zt),ce=t(at,zt),Ee=g(at,0,Wt,0,Ye),$e=p(0,zt,0,Jt,0,st),nt=this.k[de],ct=this.k[de+1],Ut=L[de],Ht=L[de+1],Dt=xe(X,ae,Je,ce,Ee,$e,nt,ct,Ut,Ht),Xt=A(X,ae,Je,ce,Ee,$e,nt,ct,Ut,Ht);X=c(O,oe),ae=f(O,oe),Je=x(O,0,$,0,qe),ce=r(0,oe,0,ue,0,Ze);var Gt=q(X,ae,Je,ce),bn=K(X,ae,Je,ce);ft=Ye,Y=st,Ye=Wt,st=Jt,Wt=at,Jt=zt,at=q(Ve,tt,Dt,Xt),zt=K(tt,tt,Dt,Xt),Ve=qe,tt=Ze,qe=$,Ze=ue,$=O,ue=oe,O=q(Dt,Xt,Gt,bn),oe=K(Dt,Xt,Gt,bn)}F(this.h,0,O,oe),F(this.h,2,$,ue),F(this.h,4,qe,Ze),F(this.h,6,Ve,tt),F(this.h,8,at,zt),F(this.h,10,Wt,Jt),F(this.h,12,Ye,st),F(this.h,14,ft,Y)},h.prototype._digest=function(y){return"hex"===y?l.toHex32(this.h,"big"):l.split32(this.h,"big")}},{"../common":144,"../utils":154,"minimalistic-assert":180}],153:[function(v,M,h){"use strict";function g(f,n,t){return f&n^~f&t}function p(f,n,t){return f&n^f&t^n&t}function x(f,n,t){return f^n^t}var c=v("../utils").rotr32;h.ft_1=function(f,n,t,i){return 0===f?g(n,t,i):1===f||3===f?x(n,t,i):2===f?p(n,t,i):void 0},h.ch32=g,h.maj32=p,h.p32=x,h.s0_256=function(f){return c(f,2)^c(f,13)^c(f,22)},h.s1_256=function(f){return c(f,6)^c(f,11)^c(f,25)},h.g0_256=function(f){return c(f,7)^c(f,18)^f>>>3},h.g1_256=function(f){return c(f,17)^c(f,19)^f>>>10}},{"../utils":154}],154:[function(v,M,h){"use strict";function g(n,t){return 55296==(64512&n.charCodeAt(t))&&!(0>t||t+1>=n.length)&&56320==(64512&n.charCodeAt(t+1))}function p(n){return(n>>>24|65280&n>>>8|16711680&n<<8|(255&n)<<24)>>>0}function x(n){return 1===n.length?"0"+n:n}function r(n){return 7===n.length?"0"+n:6===n.length?"00"+n:5===n.length?"000"+n:4===n.length?"0000"+n:3===n.length?"00000"+n:2===n.length?"000000"+n:1===n.length?"0000000"+n:n}var c=v("minimalistic-assert"),f=v("inherits");h.inherits=f,h.toArray=function(n,t){if(Array.isArray(n))return n.slice();if(!n)return[];var i=[];if("string"!=typeof n)for(u=0;u<n.length;u++)i[u]=0|n[u];else if(t){if("hex"===t)for((n=n.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(n="0"+n),u=0;u<n.length;u+=2)i.push(parseInt(n[u]+n[u+1],16))}else for(var o,s=0,u=0;u<n.length;u++)128>(o=n.charCodeAt(u))?i[s++]=o:2048>o?(i[s++]=192|o>>6,i[s++]=128|63&o):g(n,u)?(o=65536+((1023&o)<<10)+(1023&n.charCodeAt(++u)),i[s++]=240|o>>18,i[s++]=128|63&o>>12,i[s++]=128|63&o>>6,i[s++]=128|63&o):(i[s++]=224|o>>12,i[s++]=128|63&o>>6,i[s++]=128|63&o);return i},h.toHex=function(n){for(var t="",i=0;i<n.length;i++)t+=x(n[i].toString(16));return t},h.htonl=p,h.toHex32=function(n,t){for(var u,i="",s=0;s<n.length;s++)u=n[s],"little"===t&&(u=p(u)),i+=r(u.toString(16));return i},h.zero2=x,h.zero8=r,h.join32=function(n,t,i,s){var u=i-t;c(u%4==0);for(var o=Array(u/4),l=0,d=t;l<o.length;l++,d+=4)o[l]=("big"===s?n[d]<<24|n[d+1]<<16|n[d+2]<<8|n[d+3]:n[d+3]<<24|n[d+2]<<16|n[d+1]<<8|n[d])>>>0;return o},h.split32=function(n,t){for(var o,i=Array(4*n.length),s=0,u=0;s<n.length;s++,u+=4)o=n[s],"big"===t?(i[u]=o>>>24,i[u+1]=255&o>>>16,i[u+2]=255&o>>>8,i[u+3]=255&o):(i[u+3]=o>>>24,i[u+2]=255&o>>>16,i[u+1]=255&o>>>8,i[u]=255&o);return i},h.rotr32=function(n,t){return n>>>t|n<<32-t},h.rotl32=function(n,t){return n<<t|n>>>32-t},h.sum32=function(n,t){return n+t>>>0},h.sum32_3=function(n,t,i){return n+t+i>>>0},h.sum32_4=function(n,t,i,s){return n+t+i+s>>>0},h.sum32_5=function(n,t,i,s,u){return n+t+i+s+u>>>0},h.sum64=function(n,t,i,s){var l=s+n[t+1]>>>0;n[t]=(l<s?1:0)+i+n[t]>>>0,n[t+1]=l},h.sum64_hi=function(n,t,i,s){return(t+s>>>0<t?1:0)+n+i>>>0},h.sum64_lo=function(n,t,i,s){return t+s>>>0},h.sum64_4_hi=function(n,t,i,s,u,o,l,d){var w=0,b=t;return w+=(b=b+s>>>0)<t?1:0,w+=(b=b+o>>>0)<o?1:0,n+i+u+l+(w+=(b=b+d>>>0)<d?1:0)>>>0},h.sum64_4_lo=function(n,t,i,s,u,o,l,d){return t+s+o+d>>>0},h.sum64_5_hi=function(n,t,i,s,u,o,l,d,w,b){var I=0,S=t;return I+=(S=S+s>>>0)<t?1:0,I+=(S=S+o>>>0)<o?1:0,I+=(S=S+d>>>0)<d?1:0,n+i+u+l+w+(I+=(S=S+b>>>0)<b?1:0)>>>0},h.sum64_5_lo=function(n,t,i,s,u,o,l,d,w,b){return t+s+o+d+b>>>0},h.rotr64_hi=function(n,t,i){return(t<<32-i|n>>>i)>>>0},h.rotr64_lo=function(n,t,i){return(n<<32-i|t>>>i)>>>0},h.shr64_hi=function(n,t,i){return n>>>i},h.shr64_lo=function(n,t,i){return(n<<32-i|t>>>i)>>>0}},{inherits:159,"minimalistic-assert":180}],155:[function(v,M){"use strict";function h(r){if(!(this instanceof h))return new h(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=p.toArray(r.entropy,r.entropyEnc||"hex"),f=p.toArray(r.nonce,r.nonceEnc||"hex"),n=p.toArray(r.pers,r.persEnc||"hex");x(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,f,n)}var g=v("hash.js"),p=v("minimalistic-crypto-utils"),x=v("minimalistic-assert");M.exports=h,h.prototype._init=function(r,c,f){var n=r.concat(c).concat(f);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var t=0;t<this.V.length;t++)this.K[t]=0,this.V[t]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},h.prototype._hmac=function(){return new g.hmac(this.hash,this.K)},h.prototype._update=function(r){var c=this._hmac().update(this.V).update([0]);r&&(c=c.update(r)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),r&&(this.K=this._hmac().update(this.V).update([1]).update(r).digest(),this.V=this._hmac().update(this.V).digest())},h.prototype.reseed=function(r,c,f,n){"string"!=typeof c&&(n=f,f=c,c=null),r=p.toArray(r,c),f=p.toArray(f,n),x(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(r.concat(f||[])),this._reseed=1},h.prototype.generate=function(r,c,f,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof c&&(n=f,f=c,c=null),f&&(f=p.toArray(f,n||"hex"),this._update(f));for(var t=[];t.length<r;)this.V=this._hmac().update(this.V).digest(),t=t.concat(this.V);var i=t.slice(0,r);return this._update(f),this._reseed++,p.encode(i,c)}},{"hash.js":143,"minimalistic-assert":180,"minimalistic-crypto-utils":181}],156:[function(v,M){function h(c){if("string"==typeof c&&(c=p.parse(c)),c.protocol||(c.protocol="https:"),"https:"!==c.protocol)throw new Error('Protocol "'+c.protocol+'" not supported. Expected "https:"');return c}var g=v("http"),p=v("url"),x=M.exports;for(var r in g)g.hasOwnProperty(r)&&(x[r]=g[r]);x.request=function(c,f){return c=h(c),g.request.call(this,c,f)},x.get=function(c,f){return c=h(c),g.get.call(this,c,f)}},{http:268,url:285}],157:[function(v,M,h){h.read=function(g,p,x,r,c){var l,d,f=8*c-r-1,n=(1<<f)-1,t=n>>1,i=-7,s=x?c-1:0,u=x?-1:1,o=g[p+s];for(s+=u,l=o&(1<<-i)-1,o>>=-i,i+=f;0<i;l=256*l+g[p+s],s+=u,i-=8);for(d=l&(1<<-i)-1,l>>=-i,i+=r;0<i;d=256*d+g[p+s],s+=u,i-=8);if(0===l)l=1-t;else{if(l===n)return d?NaN:1/0*(o?-1:1);d+=z(2,r),l-=t}return(o?-1:1)*d*z(2,l-r)},h.write=function(g,p,x,r,c,f){var d,w,b,n=8*f-c-1,t=(1<<n)-1,i=t>>1,s=23===c?z(2,-24)-z(2,-77):0,u=r?0:f-1,o=r?1:-1,l=0>p||0===p&&0>1/p?1:0;for(p=wt(p),isNaN(p)||p===1/0?(w=isNaN(p)?1:0,d=t):(d=mt(hn(p)/Nt),1>p*(b=z(2,-d))&&(d--,b*=2),2<=(p+=1<=d+i?s/b:s*z(2,1-i))*b&&(d++,b/=2),d+i>=t?(w=0,d=t):1<=d+i?(w=(p*b-1)*z(2,c),d+=i):(w=p*z(2,i-1)*z(2,c),d=0));8<=c;g[x+u]=255&w,u+=o,w/=256,c-=8);for(d=d<<c|w,n+=c;0<n;g[x+u]=255&d,u+=o,d/=256,n-=8);g[x+u-o]|=128*l}},{}],158:[function(v,M){const h=v("queue-microtask");M.exports=class{constructor(g){if(this.store=g,this.chunkLength=g.chunkLength,!this.store||!this.store.get||!this.store.put)throw new Error("First argument must be abstract-chunk-store compliant");this.mem=[]}put(g,p,x=(()=>{})){this.mem[g]=p,this.store.put(g,p,r=>{this.mem[g]=null,x(r)})}get(g,p,x=(()=>{})){if("function"==typeof p)return this.get(g,null,p);let r=this.mem[g];if(!r)return this.store.get(g,p,x);p||(p={});const c=p.offset||0,f=p.length||r.length-c;(0!==c||f!==r.length)&&(r=r.slice(c,f+c)),h(()=>x(null,r))}close(g=(()=>{})){this.store.close(g)}destroy(g=(()=>{})){this.store.destroy(g)}}},{"queue-microtask":218}],159:[function(v,M){M.exports="function"==typeof Object.create?function(h,g){g&&(h.super_=g,h.prototype=Object.create(g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}))}:function(h,g){if(g){h.super_=g;var p=function(){};p.prototype=g.prototype,h.prototype=new p,h.prototype.constructor=h}}},{}],160:[function(v,M){M.exports=function(h){for(var g=0,p=h.length;g<p;++g)if(h.charCodeAt(g)>127)return!1;return!0}},{}],161:[function(v,M){function h(p){return!!p.constructor&&"function"==typeof p.constructor.isBuffer&&p.constructor.isBuffer(p)}M.exports=function(p){return null!=p&&(h(p)||function g(p){return"function"==typeof p.readFloatLE&&"function"==typeof p.slice&&h(p.slice(0,0))}(p)||!!p._isBuffer)}},{}],162:[function(v,M){function h(c){return g(c)||p(c)}function g(c){return c instanceof Int8Array||c instanceof Int16Array||c instanceof Int32Array||c instanceof Uint8Array||c instanceof Uint8ClampedArray||c instanceof Uint16Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array}function p(c){return r[x.call(c)]}M.exports=h,h.strict=g,h.loose=p;var x=Object.prototype.toString,r={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0}},{}],163:[function(v,M,h){"use strict";h.re=()=>{throw new Error("`junk.re` was renamed to `junk.regex`")},h.regex=new RegExp(["^npm-debug\\.log$","^\\..*\\.swp$","^\\.DS_Store$","^\\.AppleDouble$","^\\.LSOverride$","^Icon\\r$","^\\._.*","^\\.Spotlight-V100(?:$|\\/)","\\.Trashes","^__MACOSX$","~$","^Thumbs\\.db$","^ehthumbs\\.db$","^Desktop\\.ini$","@eaDir$"].join("|")),h.is=g=>h.regex.test(g),h.not=g=>!h.is(g),h.default=M.exports},{}],164:[function(v,M,h){h.RateLimiter=v("./lib/rateLimiter"),h.TokenBucket=v("./lib/tokenBucket")},{"./lib/rateLimiter":166,"./lib/tokenBucket":167}],165:[function(v,M){(function(h){(function(){M.exports=function(){if(void 0!==h&&h.hrtime){var g=h.hrtime();return 1e3*g[0]+mt(g[1]/1e6)}return(new Date).getTime()}}).call(this)}).call(this,v("_process"))},{_process:205}],166:[function(v,M){(function(h){(function(){var g=v("./tokenBucket"),p=v("./clock"),x=function(r,c,f){this.tokenBucket=new g(r,r,c,null),this.tokenBucket.content=r,this.curIntervalStart=p(),this.tokensThisInterval=0,this.fireImmediately=f};x.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(r,c){function f(s,u){return s?c(s,null):(n.tokensThisInterval+=r,void c(null,u))}if(r>this.tokenBucket.bucketSize)return h.nextTick(c.bind(null,"Requested tokens "+r+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var n=this,t=p();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),r>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)h.nextTick(c.bind(null,null,-1));else{var i=ge(this.curIntervalStart+this.tokenBucket.interval-t);setTimeout(function(){n.tokenBucket.removeTokens(r,f)},i)}return!1}return this.tokenBucket.removeTokens(r,f)},tryRemoveTokens:function(r){if(r>this.tokenBucket.bucketSize)return!1;var c=p();if((c<this.curIntervalStart||c-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=c,this.tokensThisInterval=0),r>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var f=this.tokenBucket.tryRemoveTokens(r);return f&&(this.tokensThisInterval+=r),f},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},M.exports=x}).call(this)}).call(this,v("_process"))},{"./clock":165,"./tokenBucket":167,_process:205}],167:[function(v,M){(function(h){(function(){var g=function(p,x,r,c){if(this.bucketSize=p,this.tokensPerInterval=x,"string"==typeof r)switch(r){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+r)}else this.interval=r;this.parentBucket=c,this.content=0,this.lastDrip=+new Date};g.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(p,x){function r(){var f=ge(c.interval/c.tokensPerInterval*(p-c.content));return setTimeout(function(){c.removeTokens(p,x)},f),!1}var c=this;return this.bucketSize?p>this.bucketSize?(h.nextTick(x.bind(null,"Requested tokens "+p+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),p>this.content?r():this.parentBucket?this.parentBucket.removeTokens(p,function(f,n){return f?x(f,null):p>c.content?r():(c.content-=p,void x(null,re(n,c.content)))}):(this.content-=p,h.nextTick(x.bind(null,null,this.content)),!0)):(h.nextTick(x.bind(null,null,p,Number.POSITIVE_INFINITY)),!0)},tryRemoveTokens:function(p){return!this.bucketSize||!(p>this.bucketSize)&&(this.drip(),!(p>this.content))&&(!this.parentBucket||this.parentBucket.tryRemoveTokens(p))&&(this.content-=p,!0)},drip:function(){if(this.tokensPerInterval){var p=+new Date,x=fe(p-this.lastDrip,0);this.lastDrip=p,this.content=re(this.content+x*(this.tokensPerInterval/this.interval),this.bucketSize)}else this.content=this.bucketSize}},M.exports=g}).call(this)}).call(this,v("_process"))},{_process:205}],168:[function(v,M){function h(x){return this instanceof h?("number"==typeof x&&(x={max:x}),!x&&(x={}),g.EventEmitter.call(this),this.cache={},this.head=this.tail=null,this.length=0,this.max=x.max||1e3,void(this.maxAge=x.maxAge||0)):new h(x)}var g=v("events"),p=v("inherits");M.exports=h,p(h,g.EventEmitter),Object.defineProperty(h.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),h.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},h.prototype.remove=function(x){if("string"!=typeof x&&(x=""+x),this.cache.hasOwnProperty(x)){var r=this.cache[x];return delete this.cache[x],this._unlink(x,r.prev,r.next),r.value}},h.prototype._unlink=function(x,r,c){this.length--,0===this.length?this.head=this.tail=null:this.head===x?(this.head=r,this.cache[this.head].next=null):this.tail===x?(this.tail=c,this.cache[this.tail].prev=null):(this.cache[r].next=c,this.cache[c].prev=r)},h.prototype.peek=function(x){if(this.cache.hasOwnProperty(x)){var r=this.cache[x];return this._checkAge(x,r)?r.value:void 0}},h.prototype.set=function(x,r){var c;if("string"!=typeof x&&(x=""+x),this.cache.hasOwnProperty(x)){if((c=this.cache[x]).value=r,this.maxAge&&(c.modified=Date.now()),x===this.head)return r;this._unlink(x,c.prev,c.next)}else c={value:r,modified:0,next:null,prev:null},this.maxAge&&(c.modified=Date.now()),this.cache[x]=c,this.length===this.max&&this.evict();return this.length++,c.next=null,c.prev=this.head,this.head&&(this.cache[this.head].next=x),this.head=x,this.tail||(this.tail=x),r},h.prototype._checkAge=function(x,r){return!(this.maxAge&&Date.now()-r.modified>this.maxAge&&(this.remove(x),this.emit("evict",{key:x,value:r.value}),1))},h.prototype.get=function(x){if("string"!=typeof x&&(x=""+x),this.cache.hasOwnProperty(x)){var r=this.cache[x];if(this._checkAge(x,r))return this.head!==x&&(x===this.tail?(this.tail=r.next,this.cache[this.tail].prev=null):this.cache[r.prev].next=r.next,this.cache[r.next].prev=r.prev,this.cache[this.head].next=x,r.prev=this.head,r.next=null,this.head=x),r.value}},h.prototype.evict=function(){if(this.tail){var x=this.tail,r=this.remove(this.tail);this.emit("evict",{key:x,value:r})}}},{events:70,inherits:159}],169:[function(v,M){(function(h){(function(){const g=v("unordered-array-remove"),{EventEmitter:p}=v("events"),x=v("debug")("lt_donthave");M.exports=()=>{class r extends p{constructor(f){super(),this._peerSupports=!1,this._wire=f}onExtendedHandshake(){this._peerSupports=!0}onMessage(f){let n;try{n=f.readUInt32BE()}catch(t){return}this._wire.peerPieces.get(n)&&(x("got donthave %d",n),this._wire.peerPieces.set(n,!1),this.emit("donthave",n),this._failRequests(n))}donthave(f){if(this._peerSupports){x("donthave %d",f);const n=h.alloc(4);n.writeUInt32BE(f),this._wire.extended("lt_donthave",n)}}_failRequests(f){const n=this._wire.requests;for(let t=0;t<n.length;t++){const i=n[t];i.piece===f&&(g(n,t),t-=1,this._wire._callback(i,new Error("peer sent donthave"),null))}}}return r.prototype.name="lt_donthave",r}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,debug:105,events:70,"unordered-array-remove":284}],170:[function(v,M){(function(h){(function(){function g(r){const c={},f=r.split("magnet:?")[1];let t;return(f&&0<=f.length?f.split("&"):[]).forEach(i=>{const s=i.split("=");if(2!==s.length)return;const u=s[0];let o=s[1];"dn"===u&&(o=decodeURIComponent(o).replace(/\+/g," ")),("tr"===u||"xs"===u||"as"===u||"ws"===u)&&(o=decodeURIComponent(o)),"kt"===u&&(o=decodeURIComponent(o).split("+")),"ix"===u&&(o=+o),"so"===u&&(o=x.parse(decodeURIComponent(o).split(","))),c[u]?(!Array.isArray(c[u])&&(c[u]=[c[u]]),c[u].push(o)):c[u]=o}),c.xt&&(Array.isArray(c.xt)?c.xt:[c.xt]).forEach(s=>{if(t=s.match(/^urn:btih:(.{40})/))c.infoHash=t[1].toLowerCase();else if(t=s.match(/^urn:btih:(.{32})/)){const u=p.decode(t[1]);c.infoHash=h.from(u,"binary").toString("hex")}else(t=s.match(/^urn:btmh:1220(.{64})/))&&(c.infoHashV2=t[1].toLowerCase())}),c.xs&&(Array.isArray(c.xs)?c.xs:[c.xs]).forEach(s=>{(t=s.match(/^urn:btpk:(.{64})/))&&(c.publicKey=t[1].toLowerCase())}),c.infoHash&&(c.infoHashBuffer=h.from(c.infoHash,"hex")),c.infoHashV2&&(c.infoHashV2Buffer=h.from(c.infoHashV2,"hex")),c.publicKey&&(c.publicKeyBuffer=h.from(c.publicKey,"hex")),c.dn&&(c.name=c.dn),c.kt&&(c.keywords=c.kt),c.announce=[],("string"==typeof c.tr||Array.isArray(c.tr))&&(c.announce=c.announce.concat(c.tr)),c.urlList=[],("string"==typeof c.as||Array.isArray(c.as))&&(c.urlList=c.urlList.concat(c.as)),("string"==typeof c.ws||Array.isArray(c.ws))&&(c.urlList=c.urlList.concat(c.ws)),c.peerAddresses=[],("string"==typeof c["x.pe"]||Array.isArray(c["x.pe"]))&&(c.peerAddresses=c.peerAddresses.concat(c["x.pe"])),c.announce=Array.from(new Set(c.announce)),c.urlList=Array.from(new Set(c.urlList)),c.peerAddresses=Array.from(new Set(c.peerAddresses)),c}M.exports=g,M.exports.decode=g,M.exports.encode=function(r){r=Object.assign({},r);let c=new Set;r.xt&&"string"==typeof r.xt&&c.add(r.xt),r.xt&&Array.isArray(r.xt)&&(c=new Set(r.xt)),r.infoHashBuffer&&c.add(`urn:btih:${r.infoHashBuffer.toString("hex")}`),r.infoHash&&c.add(`urn:btih:${r.infoHash}`),r.infoHashV2Buffer&&c.add(r.xt=`urn:btmh:1220${r.infoHashV2Buffer.toString("hex")}`),r.infoHashV2&&c.add(`urn:btmh:1220${r.infoHashV2}`);const f=Array.from(c);1===f.length&&(r.xt=f[0]),1<f.length&&(r.xt=f),r.publicKeyBuffer&&(r.xs=`urn:btpk:${r.publicKeyBuffer.toString("hex")}`),r.publicKey&&(r.xs=`urn:btpk:${r.publicKey}`),r.name&&(r.dn=r.name),r.keywords&&(r.kt=r.keywords),r.announce&&(r.tr=r.announce),r.urlList&&(r.ws=r.urlList,delete r.as),r.peerAddresses&&(r["x.pe"]=r.peerAddresses);let n="magnet:?";return Object.keys(r).filter(t=>2===t.length||"x.pe"===t).forEach((t,i)=>{const s=Array.isArray(r[t])?r[t]:[r[t]];s.forEach((u,o)=>{(0<i||0<o)&&("kt"!==t&&"so"!==t||0===o)&&(n+="&"),"dn"===t&&(u=encodeURIComponent(u).replace(/%20/g,"+")),("tr"===t||"as"===t||"ws"===t)&&(u=encodeURIComponent(u)),"xs"!==t||u.startsWith("urn:btpk:")||(u=encodeURIComponent(u)),"kt"===t&&(u=encodeURIComponent(u)),"so"===t||(n+="kt"===t&&0<o?`+${u}`:`${t}=${u}`)}),"so"===t&&(n+=`${t}=${x.compose(s)}`)}),n};const p=v("thirty-two"),x=v("bep53-range")}).call(this)}).call(this,v("buffer").Buffer)},{"bep53-range":29,buffer:69,"thirty-two":277}],171:[function(v,M){"use strict";function h(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function g(s,u){return s<<u|s>>>32-u}function p(s,u,o,l,d,w,b){return 0|g(0|s+(u&o|~u&l)+d+w,b)+u}function x(s,u,o,l,d,w,b){return 0|g(0|s+(u&l|o&~l)+d+w,b)+u}function r(s,u,o,l,d,w,b){return 0|g(0|s+(u^o^l)+d+w,b)+u}function c(s,u,o,l,d,w,b){return 0|g(0|s+(o^(u|~l))+d+w,b)+u}var f=v("inherits"),n=v("hash-base"),t=v("safe-buffer").Buffer,i=Array(16);f(h,n),h.prototype._update=function(){for(var s=i,u=0;16>u;++u)s[u]=this._block.readInt32LE(4*u);var o=this._a,l=this._b,d=this._c,w=this._d;o=p(o,l,d,w,s[0],3614090360,7),w=p(w,o,l,d,s[1],3905402710,12),d=p(d,w,o,l,s[2],606105819,17),l=p(l,d,w,o,s[3],3250441966,22),o=p(o,l,d,w,s[4],4118548399,7),w=p(w,o,l,d,s[5],1200080426,12),d=p(d,w,o,l,s[6],2821735955,17),l=p(l,d,w,o,s[7],4249261313,22),o=p(o,l,d,w,s[8],1770035416,7),w=p(w,o,l,d,s[9],2336552879,12),d=p(d,w,o,l,s[10],4294925233,17),l=p(l,d,w,o,s[11],2304563134,22),o=p(o,l,d,w,s[12],1804603682,7),w=p(w,o,l,d,s[13],4254626195,12),d=p(d,w,o,l,s[14],2792965006,17),o=x(o,l=p(l,d,w,o,s[15],1236535329,22),d,w,s[1],4129170786,5),w=x(w,o,l,d,s[6],3225465664,9),d=x(d,w,o,l,s[11],643717713,14),l=x(l,d,w,o,s[0],3921069994,20),o=x(o,l,d,w,s[5],3593408605,5),w=x(w,o,l,d,s[10],38016083,9),d=x(d,w,o,l,s[15],3634488961,14),l=x(l,d,w,o,s[4],3889429448,20),o=x(o,l,d,w,s[9],568446438,5),w=x(w,o,l,d,s[14],3275163606,9),d=x(d,w,o,l,s[3],4107603335,14),l=x(l,d,w,o,s[8],1163531501,20),o=x(o,l,d,w,s[13],2850285829,5),w=x(w,o,l,d,s[2],4243563512,9),d=x(d,w,o,l,s[7],1735328473,14),o=r(o,l=x(l,d,w,o,s[12],2368359562,20),d,w,s[5],4294588738,4),w=r(w,o,l,d,s[8],2272392833,11),d=r(d,w,o,l,s[11],1839030562,16),l=r(l,d,w,o,s[14],4259657740,23),o=r(o,l,d,w,s[1],2763975236,4),w=r(w,o,l,d,s[4],1272893353,11),d=r(d,w,o,l,s[7],4139469664,16),l=r(l,d,w,o,s[10],3200236656,23),o=r(o,l,d,w,s[13],681279174,4),w=r(w,o,l,d,s[0],3936430074,11),d=r(d,w,o,l,s[3],3572445317,16),l=r(l,d,w,o,s[6],76029189,23),o=r(o,l,d,w,s[9],3654602809,4),w=r(w,o,l,d,s[12],3873151461,11),d=r(d,w,o,l,s[15],530742520,16),o=c(o,l=r(l,d,w,o,s[2],3299628645,23),d,w,s[0],4096336452,6),w=c(w,o,l,d,s[7],1126891415,10),d=c(d,w,o,l,s[14],2878612391,15),l=c(l,d,w,o,s[5],4237533241,21),o=c(o,l,d,w,s[12],1700485571,6),w=c(w,o,l,d,s[3],2399980690,10),d=c(d,w,o,l,s[10],4293915773,15),l=c(l,d,w,o,s[1],2240044497,21),o=c(o,l,d,w,s[8],1873313359,6),w=c(w,o,l,d,s[15],4264355552,10),d=c(d,w,o,l,s[6],2734768916,15),l=c(l,d,w,o,s[13],1309151649,21),o=c(o,l,d,w,s[4],4149444226,6),w=c(w,o,l,d,s[11],3174756917,10),d=c(d,w,o,l,s[2],718787259,15),l=c(l,d,w,o,s[9],3951481745,21),this._a=0|this._a+o,this._b=0|this._b+l,this._c=0|this._c+d,this._d=0|this._d+w},h.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var s=t.allocUnsafe(16);return s.writeInt32LE(this._a,0),s.writeInt32LE(this._b,4),s.writeInt32LE(this._c,8),s.writeInt32LE(this._d,12),s},M.exports=h},{"hash-base":142,inherits:159,"safe-buffer":247}],172:[function(v,M){function h(n,t){var i=this;if(!(i instanceof h))return new h(n,t);if(!f)throw new Error("web browser lacks MediaSource support");t||(t={}),i._debug=t.debug,i._bufferDuration=t.bufferDuration||60,i._elem=n,i._mediaSource=new f,i._streams=[],i.detailedError=null,i._errorHandler=function(){i._elem.removeEventListener("error",i._errorHandler),i._streams.slice().forEach(function(u){u.destroy(i._elem.error)})},i._elem.addEventListener("error",i._errorHandler),i._elem.src=window.URL.createObjectURL(i._mediaSource)}function g(n,t){var i=this;if(r.Writable.call(i),i._wrapper=n,i._elem=n._elem,i._mediaSource=n._mediaSource,i._allStreams=n._streams,i._allStreams.push(i),i._bufferDuration=n._bufferDuration,i._sourceBuffer=null,i._debugBuffers=[],i._openHandler=function(){i._onSourceOpen()},i._flowHandler=function(){i._flow()},i._errorHandler=function(s){i.destroyed||i.emit("error",s)},"string"==typeof t)i._type=t,"open"===i._mediaSource.readyState?i._createSourceBuffer():i._mediaSource.addEventListener("sourceopen",i._openHandler);else if(null===t._sourceBuffer)t.destroy(),i._type=t._type,i._mediaSource.addEventListener("sourceopen",i._openHandler);else{if(!t._sourceBuffer)throw new Error("The argument to MediaElementWrapper.createWriteStream must be a string or a previous stream returned from that function");t.destroy(),i._type=t._type,i._sourceBuffer=t._sourceBuffer,i._debugBuffers=t._debugBuffers,i._sourceBuffer.addEventListener("updateend",i._flowHandler),i._sourceBuffer.addEventListener("error",i._errorHandler)}i._elem.addEventListener("timeupdate",i._flowHandler),i.on("error",function(s){i._wrapper.error(s)}),i.on("finish",function(){if(!i.destroyed&&(i._finished=!0,i._allStreams.every(function(s){return s._finished}))){i._wrapper._dumpDebugData();try{i._mediaSource.endOfStream()}catch(s){}}})}M.exports=h;var x=v("inherits"),r=v("readable-stream"),c=v("to-arraybuffer"),f="undefined"!=typeof window&&window.MediaSource;h.prototype.createWriteStream=function(n){return new g(this,n)},h.prototype.error=function(n){var t=this;t.detailedError||(t.detailedError=n),t._dumpDebugData();try{t._mediaSource.endOfStream("decode")}catch(i){}try{window.URL.revokeObjectURL(t._elem.src)}catch(i){}},h.prototype._dumpDebugData=function(){var n=this;n._debug&&(n._debug=!1,n._streams.forEach(function(t,i){!function p(n,t){var i=document.createElement("a");i.href=window.URL.createObjectURL(new window.Blob(n)),i.download=t,i.click()}(t._debugBuffers,"mediasource-stream-"+i)}))},x(g,r.Writable),g.prototype._onSourceOpen=function(){var n=this;n.destroyed||(n._mediaSource.removeEventListener("sourceopen",n._openHandler),n._createSourceBuffer())},g.prototype.destroy=function(n){var t=this;t.destroyed||(t.destroyed=!0,t._allStreams.splice(t._allStreams.indexOf(t),1),t._mediaSource.removeEventListener("sourceopen",t._openHandler),t._elem.removeEventListener("timeupdate",t._flowHandler),t._sourceBuffer&&(t._sourceBuffer.removeEventListener("updateend",t._flowHandler),t._sourceBuffer.removeEventListener("error",t._errorHandler),"open"===t._mediaSource.readyState&&t._sourceBuffer.abort()),n&&t.emit("error",n),t.emit("close"))},g.prototype._createSourceBuffer=function(){var n=this;if(!n.destroyed)if(f.isTypeSupported(n._type)){if(n._sourceBuffer=n._mediaSource.addSourceBuffer(n._type),n._sourceBuffer.addEventListener("updateend",n._flowHandler),n._sourceBuffer.addEventListener("error",n._errorHandler),n._cb){var t=n._cb;n._cb=null,t()}}else n.destroy(new Error("The provided type is not supported"))},g.prototype._write=function(n,t,i){var s=this;if(!s.destroyed){if(!s._sourceBuffer)return void(s._cb=function(o){return o?i(o):void s._write(n,t,i)});if(s._sourceBuffer.updating)return i(new Error("Cannot append buffer while source buffer updating"));var u=c(n);s._wrapper._debug&&s._debugBuffers.push(u);try{s._sourceBuffer.appendBuffer(u)}catch(o){return void s.destroy(o)}s._cb=i}},g.prototype._flow=function(){var n=this;if(!n.destroyed&&n._sourceBuffer&&!n._sourceBuffer.updating&&!("open"===n._mediaSource.readyState&&n._getBufferDuration()>n._bufferDuration)&&n._cb){var t=n._cb;n._cb=null,t()}},g.prototype._getBufferDuration=function(){for(var t=this._sourceBuffer.buffered,i=this._elem.currentTime,s=-1,u=0;u<t.length;u++){var o=t.start(u),l=t.end(u)+0;if(o>i)break;(0<=s||i<=l)&&(s=l)}var d=s-i;return 0>d&&(d=0),d}},{inherits:159,"readable-stream":240,"to-arraybuffer":279}],173:[function(v,M){function h(p,x){if(!(this instanceof h))return new h(p,x);if(x||(x={}),this.chunkLength=+p,!this.chunkLength)throw new Error("First argument must be a chunk length");this.chunks=[],this.closed=!1,this.length=+x.length||1/0,this.length!==1/0&&(this.lastChunkLength=this.length%this.chunkLength||this.chunkLength,this.lastChunkIndex=ge(this.length/this.chunkLength)-1)}M.exports=h;const g=v("queue-microtask");h.prototype.put=function(p,x,r=(()=>{})){if(this.closed)return g(()=>r(new Error("Storage is closed")));const c=p===this.lastChunkIndex;return c&&x.length!==this.lastChunkLength?g(()=>r(new Error("Last chunk length must be "+this.lastChunkLength))):c||x.length===this.chunkLength?(this.chunks[p]=x,void g(()=>r(null))):g(()=>r(new Error("Chunk length must be "+this.chunkLength)))},h.prototype.get=function(p,x,r=(()=>{})){if("function"==typeof x)return this.get(p,null,x);if(this.closed)return g(()=>r(new Error("Storage is closed")));let c=this.chunks[p];if(!c){const t=new Error("Chunk not found");return t.notFound=!0,g(()=>r(t))}x||(x={});const f=x.offset||0,n=x.length||c.length-f;(0!==f||n!==c.length)&&(c=c.slice(f,n+f)),g(()=>r(null,c))},h.prototype.close=h.prototype.destroy=function(p=(()=>{})){return this.closed?g(()=>p(new Error("Storage is closed"))):(this.closed=!0,this.chunks=null,void g(()=>p(null)))}},{"queue-microtask":218}],174:[function(v,M){function h(x){this.rand=x||new p.Rand}var g=v("bn.js"),p=v("brorand");M.exports=h,h.create=function(x){return new h(x)},h.prototype._randbelow=function(x){var r=x.bitLength(),c=ge(r/8);do{var f=new g(this.rand.generate(c))}while(0<=f.cmp(x));return f},h.prototype._randrange=function(x,r){var c=r.sub(x);return x.add(this._randbelow(c))},h.prototype.test=function(x,r,c){var f=x.bitLength(),n=g.mont(x),t=new g(1).toRed(n);r||(r=fe(1,0|f/48));for(var i=x.subn(1),s=0;!i.testn(s);s++);for(var u=x.shrn(s),o=i.toRed(n);0<r;r--){var d=this._randrange(new g(2),i);c&&c(d);var w=d.toRed(n).redPow(u);if(0!==w.cmp(t)&&0!==w.cmp(o)){for(var b=1;b<s;b++){if(0===(w=w.redSqr()).cmp(t))return!1;if(0===w.cmp(o))break}if(b===s)return!1}}return!0},h.prototype.getDivisor=function(x,r){var c=x.bitLength(),f=g.mont(x),n=new g(1).toRed(f);r||(r=fe(1,0|c/48));for(var t=x.subn(1),i=0;!t.testn(i);i++);for(var s=x.shrn(i),u=t.toRed(f);0<r;r--){var o=this._randrange(new g(2),t),l=x.gcd(o);if(0!==l.cmpn(1))return l;var d=o.toRed(f).redPow(s);if(0!==d.cmp(n)&&0!==d.cmp(u)){for(var w=1;w<i;w++){if(0===(d=d.redSqr()).cmp(n))return d.fromRed().subn(1).gcd(x);if(0===d.cmp(u))break}if(w===i)return(d=d.redSqr()).fromRed().subn(1).gcd(x)}}return!1}},{"bn.js":175,brorand:40}],175:[function(v,M,h){arguments[4][22][0].apply(h,arguments)},{buffer:41,dup:22}],176:[function(v,M){"use strict";function h(){this._types=Object.create(null),this._extensions=Object.create(null);for(let g=0;g<arguments.length;g++)this.define(arguments[g]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}h.prototype.define=function(g,p){for(let x in g){let r=g[x].map(function(c){return c.toLowerCase()});x=x.toLowerCase();for(let c=0;c<r.length;c++){const f=r[c];if("*"!==f[0]){if(!p&&f in this._types)throw new Error('Attempt to change mapping for "'+f+'" extension from "'+this._types[f]+'" to "'+x+'". Pass `force=true` to allow this, otherwise remove "'+f+'" from the list of extensions for "'+x+'".');this._types[f]=x}}if(p||!this._extensions[x]){const c=r[0];this._extensions[x]="*"===c[0]?c.substr(1):c}}},h.prototype.getType=function(g){let p=(g+="").replace(/^.*[/\\]/,"").toLowerCase(),x=p.replace(/^.*\./,"").toLowerCase();return(x.length<p.length-1||!(p.length<g.length))&&this._types[x]||null},h.prototype.getExtension=function(g){return(g=/^\s*([^;\s]*)/.test(g)&&RegExp.$1)&&this._extensions[g.toLowerCase()]||null},M.exports=h},{}],177:[function(v,M){"use strict";let h=v("./Mime");M.exports=new h(v("./types/standard"),v("./types/other"))},{"./Mime":176,"./types/other":178,"./types/standard":179}],178:[function(v,M){M.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},{}],179:[function(v,M){M.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/mrb-consumer+xml":["*xdf"],"application/mrb-publish+xml":["*xdf"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["*xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-error+xml":["xer"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},{}],180:[function(v,M){function h(g,p){if(!g)throw new Error(p||"Assertion failed")}M.exports=h,h.equal=function(g,p,x){if(g!=p)throw new Error(x||"Assertion failed: "+g+" != "+p)}},{}],181:[function(v,M,h){"use strict";function g(r){return 1===r.length?"0"+r:r}function p(r){for(var c="",f=0;f<r.length;f++)c+=g(r[f].toString(16));return c}var x=h;x.toArray=function(r,c){if(Array.isArray(r))return r.slice();if(!r)return[];var f=[];if("string"!=typeof r){for(var n=0;n<r.length;n++)f[n]=0|r[n];return f}if("hex"===c)for((r=r.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(r="0"+r),n=0;n<r.length;n+=2)f.push(parseInt(r[n]+r[n+1],16));else for(n=0;n<r.length;n++){var t=r.charCodeAt(n),i=t>>8,s=255&t;i?f.push(i,s):f.push(s)}return f},x.zero2=g,x.toHex=p,x.encode=function(r,c){return"hex"===c?p(r):r}},{}],182:[function(v,M,h){(function(g){(function(){function p(S,R,F){for(var q=R;q<F;q++)S[q]=0}function x(S,R,F){R.writeUInt32BE(mt((S.getTime()+20828448e5)/1e3),F)}function r(S,R,F){R.writeUIntBE(mt((S.getTime()+20828448e5)/1e3),F,6)}function c(S,R,F){R.writeUInt16BE(mt(S)%65536,F),R.writeUInt16BE(mt(256*S*256)%65536,F+2)}function n(S,R,F){S||(S=[0,0,0,0,0,0,0,0,0]);for(var q=0;q<S.length;q++)c(S[q],R,F+4*q)}function i(S){for(var R=Array(S.length/4),F=0;F<R.length;F++)R[F]=o(S,4*F);return R}function s(S,R){return new Date(1e3*S.readUIntBE(R,6)-20828448e5)}function u(S,R){return new Date(1e3*S.readUInt32BE(R)-20828448e5)}function o(S,R){return S.readUInt16BE(R)+S.readUInt16BE(R+2)/65536}function l(S,R){return S[R]+S[R+1]/256}function d(S,R,F){var q;for(q=0;q<F&&0!==S[R+q];q++);return S.toString("utf8",R,R+q)}var w=v("./index"),b=v("./descriptor"),I=v("uint64be");h.fullBoxes={},["mvhd","tkhd","mdhd","vmhd","smhd","stsd","esds","stsz","stco","co64","stss","stts","ctts","stsc","dref","elst","hdlr","mehd","trex","mfhd","tfhd","tfdt","trun"].forEach(function(S){h.fullBoxes[S]=!0}),h.ftyp={},h.ftyp.encode=function(S,R,F){R=R?R.slice(F):g.alloc(h.ftyp.encodingLength(S));var q=S.compatibleBrands||[];R.write(S.brand,0,4,"ascii"),R.writeUInt32BE(S.brandVersion,4);for(var K=0;K<q.length;K++)R.write(q[K],8+4*K,4,"ascii");return h.ftyp.encode.bytes=8+4*q.length,R},h.ftyp.decode=function(S,R){for(var F=(S=S.slice(R)).toString("ascii",0,4),q=S.readUInt32BE(4),K=[],he=8;he<S.length;he+=4)K.push(S.toString("ascii",he,he+4));return{brand:F,brandVersion:q,compatibleBrands:K}},h.ftyp.encodingLength=function(S){return 8+4*(S.compatibleBrands||[]).length},h.mvhd={},h.mvhd.encode=function(S,R,F){return R=R?R.slice(F):g.alloc(96),x(S.ctime||new Date,R,0),x(S.mtime||new Date,R,4),R.writeUInt32BE(S.timeScale||0,8),R.writeUInt32BE(S.duration||0,12),c(S.preferredRate||0,R,16),function f(S,R,F){R[F]=mt(S)%256,R[F+1]=mt(256*S)%256}(S.preferredVolume||0,R,20),p(R,22,32),n(S.matrix,R,32),R.writeUInt32BE(S.previewTime||0,68),R.writeUInt32BE(S.previewDuration||0,72),R.writeUInt32BE(S.posterTime||0,76),R.writeUInt32BE(S.selectionTime||0,80),R.writeUInt32BE(S.selectionDuration||0,84),R.writeUInt32BE(S.currentTime||0,88),R.writeUInt32BE(S.nextTrackId||0,92),h.mvhd.encode.bytes=96,R},h.mvhd.decode=function(S,R){return{ctime:u(S=S.slice(R),0),mtime:u(S,4),timeScale:S.readUInt32BE(8),duration:S.readUInt32BE(12),preferredRate:o(S,16),preferredVolume:l(S,20),matrix:i(S.slice(32,68)),previewTime:S.readUInt32BE(68),previewDuration:S.readUInt32BE(72),posterTime:S.readUInt32BE(76),selectionTime:S.readUInt32BE(80),selectionDuration:S.readUInt32BE(84),currentTime:S.readUInt32BE(88),nextTrackId:S.readUInt32BE(92)}},h.mvhd.encodingLength=function(){return 96},h.tkhd={},h.tkhd.encode=function(S,R,F){return R=R?R.slice(F):g.alloc(80),x(S.ctime||new Date,R,0),x(S.mtime||new Date,R,4),R.writeUInt32BE(S.trackId||0,8),p(R,12,16),R.writeUInt32BE(S.duration||0,16),p(R,20,28),R.writeUInt16BE(S.layer||0,28),R.writeUInt16BE(S.alternateGroup||0,30),R.writeUInt16BE(S.volume||0,32),n(S.matrix,R,36),R.writeUInt32BE(S.trackWidth||0,72),R.writeUInt32BE(S.trackHeight||0,76),h.tkhd.encode.bytes=80,R},h.tkhd.decode=function(S,R){return{ctime:u(S=S.slice(R),0),mtime:u(S,4),trackId:S.readUInt32BE(8),duration:S.readUInt32BE(16),layer:S.readUInt16BE(28),alternateGroup:S.readUInt16BE(30),volume:S.readUInt16BE(32),matrix:i(S.slice(36,72)),trackWidth:S.readUInt32BE(72),trackHeight:S.readUInt32BE(76)}},h.tkhd.encodingLength=function(){return 80},h.mdhd={},h.mdhd.encode=function(S,R,F){return 1===S.version?(R=R?R.slice(F):g.alloc(32),r(S.ctime||new Date,R,0),r(S.mtime||new Date,R,8),R.writeUInt32BE(S.timeScale||0,16),R.writeUIntBE(S.duration||0,20,6),R.writeUInt16BE(S.language||0,28),R.writeUInt16BE(S.quality||0,30),h.mdhd.encode.bytes=32,R):(R=R?R.slice(F):g.alloc(20),x(S.ctime||new Date,R,0),x(S.mtime||new Date,R,4),R.writeUInt32BE(S.timeScale||0,8),R.writeUInt32BE(S.duration||0,12),R.writeUInt16BE(S.language||0,16),R.writeUInt16BE(S.quality||0,18),h.mdhd.encode.bytes=20,R)},h.mdhd.decode=function(S,R,F){return S=S.slice(R),F-R!=20?{ctime:s(S,0),mtime:s(S,8),timeScale:S.readUInt32BE(16),duration:S.readUIntBE(20,6),language:S.readUInt16BE(28),quality:S.readUInt16BE(30)}:{ctime:u(S,0),mtime:u(S,4),timeScale:S.readUInt32BE(8),duration:S.readUInt32BE(12),language:S.readUInt16BE(16),quality:S.readUInt16BE(18)}},h.mdhd.encodingLength=function(S){return 1===S.version?32:20},h.vmhd={},h.vmhd.encode=function(S,R,F){(R=R?R.slice(F):g.alloc(8)).writeUInt16BE(S.graphicsMode||0,0);var q=S.opcolor||[0,0,0];return R.writeUInt16BE(q[0],2),R.writeUInt16BE(q[1],4),R.writeUInt16BE(q[2],6),h.vmhd.encode.bytes=8,R},h.vmhd.decode=function(S,R){return{graphicsMode:(S=S.slice(R)).readUInt16BE(0),opcolor:[S.readUInt16BE(2),S.readUInt16BE(4),S.readUInt16BE(6)]}},h.vmhd.encodingLength=function(){return 8},h.smhd={},h.smhd.encode=function(S,R,F){return(R=R?R.slice(F):g.alloc(4)).writeUInt16BE(S.balance||0,0),p(R,2,4),h.smhd.encode.bytes=4,R},h.smhd.decode=function(S,R){return{balance:(S=S.slice(R)).readUInt16BE(0)}},h.smhd.encodingLength=function(){return 4},h.stsd={},h.stsd.encode=function(S,R,F){R=R?R.slice(F):g.alloc(h.stsd.encodingLength(S));var q=S.entries||[];R.writeUInt32BE(q.length,0);for(var K=4,he=0;he<q.length;he++)w.encode(q[he],R,K),K+=w.encode.bytes;return h.stsd.encode.bytes=K,R},h.stsd.decode=function(S,R,F){for(var xe,q=(S=S.slice(R)).readUInt32BE(0),K=Array(q),he=4,Ae=0;Ae<q;Ae++)xe=w.decode(S,he,F),K[Ae]=xe,he+=xe.length;return{entries:K}},h.stsd.encodingLength=function(S){var R=4;if(!S.entries)return R;for(var F=0;F<S.entries.length;F++)R+=w.encodingLength(S.entries[F]);return R},h.avc1=h.VisualSampleEntry={},h.VisualSampleEntry.encode=function(S,R,F){p(R=R?R.slice(F):g.alloc(h.VisualSampleEntry.encodingLength(S)),0,6),R.writeUInt16BE(S.dataReferenceIndex||0,6),p(R,8,24),R.writeUInt16BE(S.width||0,24),R.writeUInt16BE(S.height||0,26),R.writeUInt32BE(S.hResolution||4718592,28),R.writeUInt32BE(S.vResolution||4718592,32),p(R,36,40),R.writeUInt16BE(S.frameCount||1,40);var q=S.compressorName||"",K=re(q.length,31);R.writeUInt8(K,42),R.write(q,43,K,"utf8"),R.writeUInt16BE(S.depth||24,74),R.writeInt16BE(-1,76);var he=78;(S.children||[]).forEach(function(xe){w.encode(xe,R,he),he+=w.encode.bytes}),h.VisualSampleEntry.encode.bytes=he},h.VisualSampleEntry.decode=function(S,R,F){S=S.slice(R);for(var q=F-R,K=re(S.readUInt8(42),31),he={dataReferenceIndex:S.readUInt16BE(6),width:S.readUInt16BE(24),height:S.readUInt16BE(26),hResolution:S.readUInt32BE(28),vResolution:S.readUInt32BE(32),frameCount:S.readUInt16BE(40),compressorName:S.toString("utf8",43,43+K),depth:S.readUInt16BE(74),children:[]},Ae=78;8<=q-Ae;){var xe=w.decode(S,Ae,q);he.children.push(xe),he[xe.type]=xe,Ae+=xe.length}return he},h.VisualSampleEntry.encodingLength=function(S){var R=78;return(S.children||[]).forEach(function(q){R+=w.encodingLength(q)}),R},h.avcC={},h.avcC.encode=function(S,R,F){R=R?R.slice(F):g.alloc(S.buffer.length),S.buffer.copy(R),h.avcC.encode.bytes=S.buffer.length},h.avcC.decode=function(S,R,F){return{mimeCodec:(S=S.slice(R,F)).toString("hex",1,4),buffer:g.from(S)}},h.avcC.encodingLength=function(S){return S.buffer.length},h.mp4a=h.AudioSampleEntry={},h.AudioSampleEntry.encode=function(S,R,F){p(R=R?R.slice(F):g.alloc(h.AudioSampleEntry.encodingLength(S)),0,6),R.writeUInt16BE(S.dataReferenceIndex||0,6),p(R,8,16),R.writeUInt16BE(S.channelCount||2,16),R.writeUInt16BE(S.sampleSize||16,18),p(R,20,24),R.writeUInt32BE(S.sampleRate||0,24);var q=28;(S.children||[]).forEach(function(he){w.encode(he,R,q),q+=w.encode.bytes}),h.AudioSampleEntry.encode.bytes=q},h.AudioSampleEntry.decode=function(S,R,F){for(var q=F-R,K={dataReferenceIndex:(S=S.slice(R,F)).readUInt16BE(6),channelCount:S.readUInt16BE(16),sampleSize:S.readUInt16BE(18),sampleRate:S.readUInt32BE(24),children:[]},he=28;8<=q-he;){var Ae=w.decode(S,he,q);K.children.push(Ae),K[Ae.type]=Ae,he+=Ae.length}return K},h.AudioSampleEntry.encodingLength=function(S){var R=28;return(S.children||[]).forEach(function(q){R+=w.encodingLength(q)}),R},h.esds={},h.esds.encode=function(S,R,F){R=R?R.slice(F):g.alloc(S.buffer.length),S.buffer.copy(R,0),h.esds.encode.bytes=S.buffer.length},h.esds.decode=function(S,R,F){S=S.slice(R,F);var q=b.Descriptor.decode(S,0,S.length),he=("ESDescriptor"===q.tagName?q:{}).DecoderConfigDescriptor||{},Ae=he.oti||0,xe=he.DecoderSpecificInfo,A=xe?(248&xe.buffer.readUInt8(0))>>3:0,N=null;return Ae&&(N=Ae.toString(16),A&&(N+="."+A)),{mimeCodec:N,buffer:g.from(S.slice(0))}},h.esds.encodingLength=function(S){return S.buffer.length},h.stsz={},h.stsz.encode=function(S,R,F){var q=S.entries||[];(R=R?R.slice(F):g.alloc(h.stsz.encodingLength(S))).writeUInt32BE(0,0),R.writeUInt32BE(q.length,4);for(var K=0;K<q.length;K++)R.writeUInt32BE(q[K],4*K+8);return h.stsz.encode.bytes=8+4*q.length,R},h.stsz.decode=function(S,R){for(var F=(S=S.slice(R)).readUInt32BE(0),q=S.readUInt32BE(4),K=Array(q),he=0;he<q;he++)K[he]=0===F?S.readUInt32BE(4*he+8):F;return{entries:K}},h.stsz.encodingLength=function(S){return 8+4*S.entries.length},h.stss=h.stco={},h.stco.encode=function(S,R,F){var q=S.entries||[];(R=R?R.slice(F):g.alloc(h.stco.encodingLength(S))).writeUInt32BE(q.length,0);for(var K=0;K<q.length;K++)R.writeUInt32BE(q[K],4*K+4);return h.stco.encode.bytes=4+4*q.length,R},h.stco.decode=function(S,R){for(var F=(S=S.slice(R)).readUInt32BE(0),q=Array(F),K=0;K<F;K++)q[K]=S.readUInt32BE(4*K+4);return{entries:q}},h.stco.encodingLength=function(S){return 4+4*S.entries.length},h.co64={},h.co64.encode=function(S,R,F){var q=S.entries||[];(R=R?R.slice(F):g.alloc(h.co64.encodingLength(S))).writeUInt32BE(q.length,0);for(var K=0;K<q.length;K++)I.encode(q[K],R,8*K+4);return h.co64.encode.bytes=4+8*q.length,R},h.co64.decode=function(S,R){for(var F=(S=S.slice(R)).readUInt32BE(0),q=Array(F),K=0;K<F;K++)q[K]=I.decode(S,8*K+4);return{entries:q}},h.co64.encodingLength=function(S){return 4+8*S.entries.length},h.stts={},h.stts.encode=function(S,R,F){var q=S.entries||[];(R=R?R.slice(F):g.alloc(h.stts.encodingLength(S))).writeUInt32BE(q.length,0);for(var he,K=0;K<q.length;K++)R.writeUInt32BE(q[K].count||0,he=8*K+4),R.writeUInt32BE(q[K].duration||0,he+4);return h.stts.encode.bytes=4+8*S.entries.length,R},h.stts.decode=function(S,R){for(var he,F=(S=S.slice(R)).readUInt32BE(0),q=Array(F),K=0;K<F;K++)q[K]={count:S.readUInt32BE(he=8*K+4),duration:S.readUInt32BE(he+4)};return{entries:q}},h.stts.encodingLength=function(S){return 4+8*S.entries.length},h.ctts={},h.ctts.encode=function(S,R,F){var q=S.entries||[];(R=R?R.slice(F):g.alloc(h.ctts.encodingLength(S))).writeUInt32BE(q.length,0);for(var he,K=0;K<q.length;K++)R.writeUInt32BE(q[K].count||0,he=8*K+4),R.writeUInt32BE(q[K].compositionOffset||0,he+4);return h.ctts.encode.bytes=4+8*q.length,R},h.ctts.decode=function(S,R){for(var he,F=(S=S.slice(R)).readUInt32BE(0),q=Array(F),K=0;K<F;K++)q[K]={count:S.readUInt32BE(he=8*K+4),compositionOffset:S.readInt32BE(he+4)};return{entries:q}},h.ctts.encodingLength=function(S){return 4+8*S.entries.length},h.stsc={},h.stsc.encode=function(S,R,F){var q=S.entries||[];(R=R?R.slice(F):g.alloc(h.stsc.encodingLength(S))).writeUInt32BE(q.length,0);for(var he,K=0;K<q.length;K++)R.writeUInt32BE(q[K].firstChunk||0,he=12*K+4),R.writeUInt32BE(q[K].samplesPerChunk||0,he+4),R.writeUInt32BE(q[K].sampleDescriptionId||0,he+8);return h.stsc.encode.bytes=4+12*q.length,R},h.stsc.decode=function(S,R){for(var he,F=(S=S.slice(R)).readUInt32BE(0),q=Array(F),K=0;K<F;K++)q[K]={firstChunk:S.readUInt32BE(he=12*K+4),samplesPerChunk:S.readUInt32BE(he+4),sampleDescriptionId:S.readUInt32BE(he+8)};return{entries:q}},h.stsc.encodingLength=function(S){return 4+12*S.entries.length},h.dref={},h.dref.encode=function(S,R,F){R=R?R.slice(F):g.alloc(h.dref.encodingLength(S));var q=S.entries||[];R.writeUInt32BE(q.length,0);for(var K=4,he=0;he<q.length;he++){var Ae=q[he];R.writeUInt32BE((Ae.buf?Ae.buf.length:0)+4+4,K),R.write(Ae.type,K+=4,4,"ascii"),K+=4,Ae.buf&&(Ae.buf.copy(R,K),K+=Ae.buf.length)}return h.dref.encode.bytes=K,R},h.dref.decode=function(S,R){for(var F=(S=S.slice(R)).readUInt32BE(0),q=Array(F),K=4,he=0;he<F;he++){var Ae=S.readUInt32BE(K),xe=S.toString("ascii",K+4,K+8),A=S.slice(K+8,K+Ae);K+=Ae,q[he]={type:xe,buf:A}}return{entries:q}},h.dref.encodingLength=function(S){var R=4;if(!S.entries)return R;for(var q,F=0;F<S.entries.length;F++)R+=((q=S.entries[F].buf)?q.length:0)+4+4;return R},h.elst={},h.elst.encode=function(S,R,F){var q=S.entries||[];(R=R?R.slice(F):g.alloc(h.elst.encodingLength(S))).writeUInt32BE(q.length,0);for(var he,K=0;K<q.length;K++)R.writeUInt32BE(q[K].trackDuration||0,he=12*K+4),R.writeUInt32BE(q[K].mediaTime||0,he+4),c(q[K].mediaRate||0,R,he+8);return h.elst.encode.bytes=4+12*q.length,R},h.elst.decode=function(S,R){for(var he,F=(S=S.slice(R)).readUInt32BE(0),q=Array(F),K=0;K<F;K++)q[K]={trackDuration:S.readUInt32BE(he=12*K+4),mediaTime:S.readInt32BE(he+4),mediaRate:o(S,he+8)};return{entries:q}},h.elst.encodingLength=function(S){return 4+12*S.entries.length},h.hdlr={},h.hdlr.encode=function(S,R,F){R=R?R.slice(F):g.alloc(h.hdlr.encodingLength(S));var q=21+(S.name||"").length;return R.fill(0,0,q),R.write(S.handlerType||"",4,4,"ascii"),function t(S,R,F){var q=g.from(S,"utf8");q.copy(R,F),R[F+q.length]=0}(S.name||"",R,20),h.hdlr.encode.bytes=q,R},h.hdlr.decode=function(S,R,F){return{handlerType:(S=S.slice(R)).toString("ascii",4,8),name:d(S,20,F)}},h.hdlr.encodingLength=function(S){return 21+(S.name||"").length},h.mehd={},h.mehd.encode=function(S,R,F){return(R=R?R.slice(F):g.alloc(4)).writeUInt32BE(S.fragmentDuration||0,0),h.mehd.encode.bytes=4,R},h.mehd.decode=function(S,R){return{fragmentDuration:(S=S.slice(R)).readUInt32BE(0)}},h.mehd.encodingLength=function(){return 4},h.trex={},h.trex.encode=function(S,R,F){return(R=R?R.slice(F):g.alloc(20)).writeUInt32BE(S.trackId||0,0),R.writeUInt32BE(S.defaultSampleDescriptionIndex||0,4),R.writeUInt32BE(S.defaultSampleDuration||0,8),R.writeUInt32BE(S.defaultSampleSize||0,12),R.writeUInt32BE(S.defaultSampleFlags||0,16),h.trex.encode.bytes=20,R},h.trex.decode=function(S,R){return{trackId:(S=S.slice(R)).readUInt32BE(0),defaultSampleDescriptionIndex:S.readUInt32BE(4),defaultSampleDuration:S.readUInt32BE(8),defaultSampleSize:S.readUInt32BE(12),defaultSampleFlags:S.readUInt32BE(16)}},h.trex.encodingLength=function(){return 20},h.mfhd={},h.mfhd.encode=function(S,R,F){return(R=R?R.slice(F):g.alloc(4)).writeUInt32BE(S.sequenceNumber||0,0),h.mfhd.encode.bytes=4,R},h.mfhd.decode=function(S){return{sequenceNumber:S.readUInt32BE(0)}},h.mfhd.encodingLength=function(){return 4},h.tfhd={},h.tfhd.encode=function(S,R,F){return(R=R?R.slice(F):g.alloc(4)).writeUInt32BE(S.trackId,0),h.tfhd.encode.bytes=4,R},h.tfhd.decode=function(){},h.tfhd.encodingLength=function(){return 4},h.tfdt={},h.tfdt.encode=function(S,R,F){return(R=R?R.slice(F):g.alloc(4)).writeUInt32BE(S.baseMediaDecodeTime||0,0),h.tfdt.encode.bytes=4,R},h.tfdt.decode=function(){},h.tfdt.encodingLength=function(){return 4},h.trun={},h.trun.encode=function(S,R,F){(R=R?R.slice(F):g.alloc(8+16*S.entries.length)).writeUInt32BE(S.entries.length,0),R.writeInt32BE(S.dataOffset,4);for(var he,q=8,K=0;K<S.entries.length;K++)R.writeUInt32BE((he=S.entries[K]).sampleDuration,q),R.writeUInt32BE(he.sampleSize,q+=4),R.writeUInt32BE(he.sampleFlags,q+=4),q+=4,0===(S.version||0)?R.writeUInt32BE(he.sampleCompositionTimeOffset,q):R.writeInt32BE(he.sampleCompositionTimeOffset,q),q+=4;h.trun.encode.bytes=q},h.trun.decode=function(){},h.trun.encodingLength=function(S){return 8+16*S.entries.length},h.mdat={},h.mdat.encode=function(S,R,F){S.buffer?(S.buffer.copy(R,F),h.mdat.encode.bytes=S.buffer.length):h.mdat.encode.bytes=h.mdat.encodingLength(S)},h.mdat.decode=function(S,R,F){return{buffer:g.from(S.slice(R,F))}},h.mdat.encodingLength=function(S){return S.buffer?S.buffer.length:S.contentLength}}).call(this)}).call(this,v("buffer").Buffer)},{"./descriptor":183,"./index":184,buffer:69,uint64be:283}],183:[function(v,M,h){(function(g){(function(){var p={3:"ESDescriptor",4:"DecoderConfigDescriptor",5:"DecoderSpecificInfo",6:"SLConfigDescriptor"};h.Descriptor={},h.Descriptor.decode=function(x,r,c){var i,f=x.readUInt8(r),n=r+1,t=0;do{t=t<<7|127&(i=x.readUInt8(n++))}while(128&i);var u,s=p[f];return(u=h[s]?h[s].decode(x,n,c):{buffer:g.from(x.slice(n,n+t))}).tag=f,u.tagName=s,u.length=n-r+t,u.contentsLen=t,u},h.DescriptorArray={},h.DescriptorArray.decode=function(x,r,c){for(var f=r,n={};f+2<=c;){var t=h.Descriptor.decode(x,f,c);f+=t.length,n[p[t.tag]||"Descriptor"+t.tag]=t}return n},h.ESDescriptor={},h.ESDescriptor.decode=function(x,r,c){var f=x.readUInt8(r+2),n=r+3;return 128&f&&(n+=2),64&f&&(n+=x.readUInt8(n)+1),32&f&&(n+=2),h.DescriptorArray.decode(x,n,c)},h.DecoderConfigDescriptor={},h.DecoderConfigDescriptor.decode=function(x,r,c){var f=x.readUInt8(r),n=h.DescriptorArray.decode(x,r+13,c);return n.oti=f,n}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],184:[function(v,M,h){(function(g){(function(){var p=v("uint64be"),x=v("./boxes"),r=4294967295,c=h,f=h.containers={moov:["mvhd","meta","traks","mvex"],trak:["tkhd","tref","trgr","edts","meta","mdia","udta"],edts:["elst"],mdia:["mdhd","hdlr","elng","minf"],minf:["vmhd","smhd","hmhd","sthd","nmhd","dinf","stbl"],dinf:["dref"],stbl:["stsd","stts","ctts","cslg","stsc","stsz","stz2","stco","co64","stss","stsh","padb","stdp","sdtp","sbgps","sgpds","subss","saizs","saios"],mvex:["mehd","trexs","leva"],moof:["mfhd","meta","trafs"],traf:["tfhd","tfdt","trun","sbgps","sgpds","subss","saizs","saios","meta"]};c.encode=function(n,t,i){return c.encodingLength(n),i=i||0,t=t||g.alloc(n.length),c._encode(n,t,i)},c._encode=function(n,t,i){var s=n.type,u=n.length;u>r&&(u=1),t.writeUInt32BE(u,i),t.write(n.type,i+4,4,"ascii");var o=i+8;if(1===u&&(p.encode(n.length,t,o),o+=8),x.fullBoxes[s]&&(t.writeUInt32BE(n.flags||0,o),t.writeUInt8(n.version||0,o),o+=4),f[s])f[s].forEach(function(b){if(5===b.length){var I=n[b]||[];b=b.substr(0,4),I.forEach(function(S){c._encode(S,t,o),o+=c.encode.bytes})}else n[b]&&(c._encode(n[b],t,o),o+=c.encode.bytes)}),n.otherBoxes&&n.otherBoxes.forEach(function(b){c._encode(b,t,o),o+=c.encode.bytes});else if(x[s]){var d=x[s].encode;d(n,t,o),o+=d.bytes}else{if(!n.buffer)throw new Error("Either `type` must be set to a known type (not'"+s+"') or `buffer` must be set");n.buffer.copy(t,o),o+=n.buffer.length}return c.encode.bytes=o-i,t},c.readHeaders=function(n,t,i){if(8>(i=i||n.length)-(t=t||0))return 8;var l,d,s=n.readUInt32BE(t),u=n.toString("ascii",t+4,t+8),o=t+8;if(1===s){if(16>i-t)return 16;s=p.decode(n,o),o+=8}return x.fullBoxes[u]&&(l=n.readUInt8(o),d=16777215&n.readUInt32BE(o),o+=4),{length:s,headersLen:o-t,contentLen:s-(o-t),type:u,version:l,flags:d}},c.decode=function(n,t,i){var s=c.readHeaders(n,t=t||0,i=i||n.length);if(!s||s.length>i-t)throw new Error("Data too short");return c.decodeWithoutHeaders(s,n,t+s.headersLen,t+s.length)},c.decodeWithoutHeaders=function(n,t,i,s){i=i||0,s=s||t.length;var u=n.type,o={};if(f[u]){o.otherBoxes=[];for(var w,l=f[u],d=i;8<=s-d;)if(d+=(w=c.decode(t,d,s)).length,0<=l.indexOf(w.type))o[w.type]=w;else if(0<=l.indexOf(w.type+"s")){var b=w.type+"s";(o[b]=o[b]||[]).push(w)}else o.otherBoxes.push(w)}else x[u]?o=(0,x[u].decode)(t,i,s):o.buffer=g.from(t.slice(i,s));return o.length=n.length,o.contentLen=n.contentLen,o.type=n.type,o.version=n.version,o.flags=n.flags,o},c.encodingLength=function(n){var t=n.type,i=8;if(x.fullBoxes[t]&&(i+=4),f[t])f[t].forEach(function(u){if(5===u.length){var o=n[u]||[];u=u.substr(0,4),o.forEach(function(d){d.type=u,i+=c.encodingLength(d)})}else if(n[u]){var l=n[u];l.type=u,i+=c.encodingLength(l)}}),n.otherBoxes&&n.otherBoxes.forEach(function(u){i+=c.encodingLength(u)});else if(x[t])i+=x[t].encodingLength(n);else{if(!n.buffer)throw new Error("Either `type` must be set to a known type (not'"+t+"') or `buffer` must be set");i+=n.buffer.length}return i>r&&(i+=8),n.length=i,i}}).call(this)}).call(this,v("buffer").Buffer)},{"./boxes":182,buffer:69,uint64be:283}],185:[function(v,M){(function(h){(function(){var g=v("readable-stream"),p=v("next-event"),x=v("mp4-box-encoding"),r=h.alloc(0);class f extends g.PassThrough{constructor(t){super(),this._parent=t,this.destroyed=!1}destroy(t){this.destroyed||(this.destroyed=!0,this._parent.destroy(t),t&&this.emit("error",t),this.emit("close"))}}M.exports=class c extends g.Writable{constructor(t){super(t),this.destroyed=!1,this._pending=0,this._missing=0,this._ignoreEmpty=!1,this._buf=null,this._str=null,this._cb=null,this._ondrain=null,this._writeBuffer=null,this._writeCb=null,this._ondrain=null,this._kick()}destroy(t){this.destroyed||(this.destroyed=!0,t&&this.emit("error",t),this.emit("close"))}_write(t,i,s){if(!this.destroyed){for(var u=!this._str||!this._str._writableState.needDrain;t.length&&!this.destroyed;){if(!this._missing&&!this._ignoreEmpty)return this._writeBuffer=t,void(this._writeCb=s);var o=t.length<this._missing?t.length:this._missing;if(this._buf?t.copy(this._buf,this._buf.length-this._missing):this._str&&(u=this._str.write(o===t.length?t:t.slice(0,o))),this._missing-=o,!this._missing){var l=this._buf,d=this._cb,w=this._str;this._buf=this._cb=this._str=this._ondrain=null,u=!0,this._ignoreEmpty=!1,w&&w.end(),d&&d(l)}t=o===t.length?r:t.slice(o)}return this._pending&&!this._missing?(this._writeBuffer=t,void(this._writeCb=s)):void(u?s():this._ondrain(s))}}_buffer(t,i){this._missing=t,this._buf=h.alloc(t),this._cb=i}_stream(t,i){return this._missing=t,this._str=new f(this),this._ondrain=p(this._str,"drain"),this._pending++,this._str.on("end",()=>{this._pending--,this._kick()}),this._cb=i,this._str}_readBox(){const t=(i,s)=>{this._buffer(i,u=>{s=s?h.concat([s,u]):u;var o=x.readHeaders(s);"number"==typeof o?t(o-s.length,s):(this._pending++,this._headers=o,this.emit("box",o))})};t(8)}stream(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var t=this._headers;return this._headers=null,this._stream(t.contentLen,()=>{this._pending--,this._kick()})}decode(t){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var i=this._headers;this._headers=null,this._buffer(i.contentLen,s=>{var u=x.decodeWithoutHeaders(i,s);t(u),this._pending--,this._kick()})}ignore(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var t=this._headers;this._headers=null,this._missing=t.contentLen,0===this._missing&&(this._ignoreEmpty=!0),this._cb=()=>{this._pending--,this._kick()}}_kick(){if(!this._pending&&(this._buf||this._str||this._readBox(),this._writeBuffer)){var t=this._writeCb,i=this._writeBuffer;this._writeBuffer=null,this._writeCb=null,this._write(i,null,t)}}}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,"mp4-box-encoding":184,"next-event":190,"readable-stream":240}],186:[function(v,M){(function(h){(function(){function g(){}var p=v("readable-stream"),x=v("mp4-box-encoding"),r=v("queue-microtask");class f extends p.PassThrough{constructor(t){super(),this._parent=t,this.destroyed=!1}destroy(t){this.destroyed||(this.destroyed=!0,this._parent.destroy(t),t&&this.emit("error",t),this.emit("close"))}}M.exports=class c extends p.Readable{constructor(t){super(t),this.destroyed=!1,this._finalized=!1,this._reading=!1,this._stream=null,this._drain=null,this._want=!1,this._onreadable=()=>{this._want&&(this._want=!1,this._read())},this._onend=()=>{this._stream=null}}mdat(t,i){this.mediaData(t,i)}mediaData(t,i){var s=new f(this);return this.box({type:"mdat",contentLength:t,encodeBufferLen:8,stream:s},i),s}box(t,i){if(i||(i=g),this.destroyed)return i(new Error("Encoder is destroyed"));var s;if(t.encodeBufferLen&&(s=h.alloc(t.encodeBufferLen)),t.stream)t.buffer=null,s=x.encode(t,s),this.push(s),this._stream=t.stream,this._stream.on("readable",this._onreadable),this._stream.on("end",this._onend),this._stream.on("end",i),this._forward();else{if(s=x.encode(t,s),this.push(s))return r(i);this._drain=i}}destroy(t){if(!this.destroyed){if(this.destroyed=!0,this._stream&&this._stream.destroy&&this._stream.destroy(),this._stream=null,this._drain){var i=this._drain;this._drain=null,i(t)}t&&this.emit("error",t),this.emit("close")}}finalize(){this._finalized=!0,this._stream||this._drain||this.push(null)}_forward(){if(this._stream)for(;!this.destroyed;){var t=this._stream.read();if(!t)return void(this._want=!!this._stream);if(!this.push(t))return}}_read(){if(!this._reading&&!this.destroyed){if(this._reading=!0,this._stream&&this._forward(),this._drain){var t=this._drain;this._drain=null,t()}this._reading=!1,this._finalized&&this.push(null)}}}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,"mp4-box-encoding":184,"queue-microtask":218,"readable-stream":240}],187:[function(v,M,h){const g=v("./decode"),p=v("./encode");h.decode=x=>new g(x),h.encode=x=>new p(x)},{"./decode":185,"./encode":186}],188:[function(v,M){function x(c,f,n,t){return bt(c/n)+" "+t+(f>=1.5*n?"s":"")}M.exports=function(c,f){f=f||{};var n=typeof c;if("string"==n&&0<c.length)return function h(c){if(!(100<(c+="").length)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(f){var n=parseFloat(f[1]),t=(f[2]||"ms").toLowerCase();return"years"===t||"year"===t||"yrs"===t||"yr"===t||"y"===t?315576e5*n:"weeks"===t||"week"===t||"w"===t?6048e5*n:"days"===t||"day"===t||"d"===t?864e5*n:"hours"===t||"hour"===t||"hrs"===t||"hr"===t||"h"===t?36e5*n:"minutes"===t||"minute"===t||"mins"===t||"min"===t||"m"===t?6e4*n:"seconds"===t||"second"===t||"secs"===t||"sec"===t||"s"===t?1e3*n:"milliseconds"===t||"millisecond"===t||"msecs"===t||"msec"===t||"ms"===t?n:void 0}}}(c);if("number"===n&&isFinite(c))return f.long?function p(c){var f=wt(c);return 864e5<=f?x(c,f,864e5,"day"):36e5<=f?x(c,f,36e5,"hour"):6e4<=f?x(c,f,6e4,"minute"):1e3<=f?x(c,f,1e3,"second"):c+" ms"}(c):function g(c){var f=wt(c);return 864e5<=f?bt(c/864e5)+"d":36e5<=f?bt(c/36e5)+"h":6e4<=f?bt(c/6e4)+"m":1e3<=f?bt(c/1e3)+"s":c+"ms"}(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))}},{}],189:[function(v,M){function h(n){return p(n,{objectMode:!0,highWaterMark:16})}function g(n){return p(n)}function p(n,t){if(!n||"function"==typeof n||n._readableState)return n;const i=new r.Readable(t).wrap(n);return n.destroy&&(i.destroy=n.destroy.bind(n)),i}const r=v("readable-stream"),c=v("once");class f extends r.Readable{constructor(t,i){super({...i,autoDestroy:!0}),this._drained=!1,this._forwarding=!1,this._current=null,this._toStreams2=i&&i.objectMode?h:g,"function"==typeof t?this._queue=t:(this._queue=t.map(this._toStreams2),this._queue.forEach(s=>{"function"!=typeof s&&this._attachErrorListener(s)})),this._next()}_read(){this._drained=!0,this._forward()}_forward(){if(!this._forwarding&&this._drained&&this._current){this._forwarding=!0;for(let t;this._drained&&null!==(t=this._current.read());)this._drained=this.push(t);this._forwarding=!1}}_destroy(t,i){let s=[];if(this._current&&s.push(this._current),"function"!=typeof this._queue&&(s=s.concat(this._queue)),0===s.length)i(t);else{let u=s.length,o=t;s.forEach(l=>{!function x(n,t,i){if(!n.destroy||n.destroyed)i(t);else{const s=c(u=>i(u||t));n.on("error",s).on("close",()=>s()).destroy(t,s)}}(l,t,d=>{o=o||d,0==--u&&i(o)})})}}_next(){if(this._current=null,"function"==typeof this._queue)this._queue((t,i)=>t?this.destroy(t):(i=this._toStreams2(i),this._attachErrorListener(i),void this._gotNextStream(i)));else{let t=this._queue.shift();"function"==typeof t&&(t=this._toStreams2(t()),this._attachErrorListener(t)),this._gotNextStream(t)}}_gotNextStream(t){if(!t)return void this.push(null);this._current=t,this._forward();const i=()=>{this._forward()},s=()=>{if(!t._readableState.ended&&!t.destroyed){const o=new Error("ERR_STREAM_PREMATURE_CLOSE");o.code="ERR_STREAM_PREMATURE_CLOSE",this.destroy(o)}},u=()=>{this._current=null,t.removeListener("readable",i),t.removeListener("end",u),t.removeListener("close",s),t.destroy(),this._next()};t.on("readable",i),t.once("end",u),t.once("close",s)}_attachErrorListener(t){if(!t)return;const i=s=>{t.removeListener("error",i),this.destroy(s)};t.once("error",i)}}f.obj=n=>new f(n,{objectMode:!0,highWaterMark:16}),M.exports=f},{once:191,"readable-stream":240}],190:[function(v,M){M.exports=function(h,g){var p=null;return h.on(g,function(x){if(p){var r=p;p=null,r(x)}}),function(x){p=x}}},{}],191:[function(v,M){function h(x){var r=function(){return r.called?r.value:(r.called=!0,r.value=x.apply(this,arguments))};return r.called=!1,r}function g(x){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=x.apply(this,arguments)};return r.onceError=(x.name||"Function wrapped with `once`")+" shouldn't be called more than once",r.called=!1,r}var p=v("wrappy");M.exports=p(h),M.exports.strict=p(g),h.proto=h(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return h(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return g(this)},configurable:!0})})},{wrappy:291}],192:[function(v,M){M.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],193:[function(v,M,h){"use strict";var g=v("asn1.js");h.certificate=v("./certificate");var p=g.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});h.RSAPrivateKey=p;var x=g.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});h.RSAPublicKey=x;var r=g.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())});h.PublicKey=r;var c=g.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),f=g.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(c),this.key("subjectPrivateKey").octstr())});h.PrivateKey=f;var n=g.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});h.EncryptedPrivateKey=n;var t=g.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});h.DSAPrivateKey=t,h.DSAparam=g.define("DSAparam",function(){this.int()});var i=g.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(s),this.key("publicKey").optional().explicit(1).bitstr())});h.ECPrivateKey=i;var s=g.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});h.signature=g.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":194,"asn1.js":8}],194:[function(v,M){"use strict";var h=v("asn1.js"),g=h.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),p=h.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),x=h.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),r=h.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(x),this.key("subjectPublicKey").bitstr())}),c=h.define("RelativeDistinguishedName",function(){this.setof(p)}),f=h.define("RDNSequence",function(){this.seqof(c)}),n=h.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),t=h.define("Validity",function(){this.seq().obj(this.key("notBefore").use(g),this.key("notAfter").use(g))}),i=h.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),s=h.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(x),this.key("issuer").use(n),this.key("validity").use(t),this.key("subject").use(n),this.key("subjectPublicKeyInfo").use(r),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(i).optional())}),u=h.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(s),this.key("signatureAlgorithm").use(x),this.key("signatureValue").bitstr())});M.exports=u},{"asn1.js":8}],195:[function(v,M){var h=v("evp_bytestokey"),g=v("browserify-aes"),p=v("safe-buffer").Buffer;M.exports=function(x,r){var n,c=x.toString(),f=c.match(/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m);if(f){var i="aes"+f[1],s=p.from(f[2],"hex"),u=p.from(f[3].replace(/[\r\n]/g,""),"base64"),o=h(r,s.slice(0,8),parseInt(f[1],10)).key,l=[],d=g.createDecipheriv(i,o,s);l.push(d.update(u)),l.push(d.final()),n=p.concat(l)}else{var t=c.match(/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m);n=p.from(t[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m)[1],data:n}}},{"browserify-aes":44,evp_bytestokey:137,"safe-buffer":247}],196:[function(v,M){function h(t){var i;"object"!=typeof t||n.isBuffer(t)||(i=t.passphrase,t=t.key),"string"==typeof t&&(t=n.from(t));var l,d,s=r(t,i),u=s.tag,o=s.data;switch(u){case"CERTIFICATE":d=p.certificate.decode(o,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(d||(d=p.PublicKey.decode(o,"der")),l=d.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return p.RSAPublicKey.decode(d.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return d.subjectPrivateKey=d.subjectPublicKey,{type:"ec",data:d};case"1.2.840.10040.4.1":return d.algorithm.params.pub_key=p.DSAparam.decode(d.subjectPublicKey.data,"der"),{type:"dsa",data:d.algorithm.params};default:throw new Error("unknown key id "+l)}case"ENCRYPTED PRIVATE KEY":o=function g(t,i){var s=t.algorithm.decrypt.kde.kdeparams.salt,u=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=x[t.algorithm.decrypt.cipher.algo.join(".")],l=t.algorithm.decrypt.cipher.iv,d=t.subjectPrivateKey,w=parseInt(o.split("-")[1],10)/8,b=f.pbkdf2Sync(i,s,u,w,"sha1"),I=c.createDecipheriv(o,b,l),S=[];return S.push(I.update(d)),S.push(I.final()),n.concat(S)}(o=p.EncryptedPrivateKey.decode(o,"der"),i);case"PRIVATE KEY":switch(l=(d=p.PrivateKey.decode(o,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return p.RSAPrivateKey.decode(d.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:d.algorithm.curve,privateKey:p.ECPrivateKey.decode(d.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return d.algorithm.params.priv_key=p.DSAparam.decode(d.subjectPrivateKey,"der"),{type:"dsa",params:d.algorithm.params};default:throw new Error("unknown key id "+l)}case"RSA PUBLIC KEY":return p.RSAPublicKey.decode(o,"der");case"RSA PRIVATE KEY":return p.RSAPrivateKey.decode(o,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:p.DSAPrivateKey.decode(o,"der")};case"EC PRIVATE KEY":return{curve:(o=p.ECPrivateKey.decode(o,"der")).parameters.value,privateKey:o.privateKey};default:throw new Error("unknown key type "+u)}}var p=v("./asn1"),x=v("./aesid.json"),r=v("./fixProc"),c=v("browserify-aes"),f=v("pbkdf2"),n=v("safe-buffer").Buffer;M.exports=h,h.signature=p.signature},{"./aesid.json":192,"./asn1":193,"./fixProc":195,"browserify-aes":44,pbkdf2:198,"safe-buffer":247}],197:[function(v,M){(function(h){(function(){function g(b){if("string"==typeof b&&/^(stream-)?magnet:/.test(b)){const I=o(b);if(!I.infoHash)throw new Error("Invalid torrent identifier");return I}if("string"==typeof b&&(/^[a-f0-9]{40}$/i.test(b)||/^[a-z2-7]{32}$/i.test(b)))return o(`magnet:?xt=urn:btih:${b}`);if(h.isBuffer(b)&&20===b.length)return o(`magnet:?xt=urn:btih:${b.toString("hex")}`);if(h.isBuffer(b))return function x(b){h.isBuffer(b)&&(b=t.decode(b)),n(b.info,"info"),n(b.info["name.utf-8"]||b.info.name,"info.name"),n(b.info["piece length"],"info['piece length']"),n(b.info.pieces,"info.pieces"),b.info.files?b.info.files.forEach(F=>{n("number"==typeof F.length,"info.files[0].length"),n(F["path.utf-8"]||F.path,"info.files[0].path")}):n("number"==typeof b.info.length,"info.length");const I={info:b.info,infoBuffer:t.encode(b.info),name:(b.info["name.utf-8"]||b.info.name).toString(),announce:[]};I.infoHash=d.sync(I.infoBuffer),I.infoHashBuffer=h.from(I.infoHash,"hex"),void 0!==b.info.private&&(I.private=!!b.info.private),b["creation date"]&&(I.created=new Date(1e3*b["creation date"])),b["created by"]&&(I.createdBy=b["created by"].toString()),h.isBuffer(b.comment)&&(I.comment=b.comment.toString()),Array.isArray(b["announce-list"])&&0<b["announce-list"].length?b["announce-list"].forEach(F=>{F.forEach(q=>{I.announce.push(q.toString())})}):b.announce&&I.announce.push(b.announce.toString()),h.isBuffer(b["url-list"])&&(b["url-list"]=0<b["url-list"].length?[b["url-list"]]:[]),I.urlList=(b["url-list"]||[]).map(F=>F.toString()),I.announce=Array.from(new Set(I.announce)),I.urlList=Array.from(new Set(I.urlList));const S=b.info.files||[b.info];I.files=S.map((F,q)=>{const K=[].concat(I.name,F["path.utf-8"]||F.path||[]).map(he=>he.toString());return{path:l.join.apply(null,[l.sep].concat(K)).slice(1),name:K[K.length-1],length:F.length,offset:S.slice(0,q).reduce(c,0)}}),I.length=S.reduce(c,0);const R=I.files[I.files.length-1];return I.pieceLength=b.info["piece length"],I.lastPieceLength=(R.offset+R.length)%I.pieceLength||I.pieceLength,I.pieces=function f(b){const I=[];for(let S=0;S<b.length;S+=20)I.push(b.slice(S,S+20).toString("hex"));return I}(b.info.pieces),I}(b);if(b&&b.infoHash)return b.infoHash=b.infoHash.toLowerCase(),b.announce||(b.announce=[]),"string"==typeof b.announce&&(b.announce=[b.announce]),b.urlList||(b.urlList=[]),b;throw new Error("Invalid torrent identifier")}function c(b,I){return b+I.length}function n(b,I){if(!b)throw new Error(`Torrent is missing required field: ${I}`)}const t=v("bencode"),i=v("blob-to-buffer"),s=v("fs"),u=v("simple-get"),o=v("magnet-uri"),l=v("path"),d=v("simple-sha1"),w=v("queue-microtask");M.exports=g,M.exports.remote=function p(b,I,S){function R(q){try{F=g(q)}catch(K){return S(K)}F&&F.infoHash?S(null,F):S(new Error("Invalid torrent identifier"))}if("function"==typeof I)return p(b,{},I);if("function"!=typeof S)throw new Error("second argument must be a Function");let F;try{F=g(b)}catch(q){}F&&F.infoHash?w(()=>{S(null,F)}):function r(b){return"undefined"!=typeof Blob&&b instanceof Blob}(b)?i(b,(q,K)=>q?S(new Error(`Error converting Blob: ${q.message}`)):void R(K)):"function"==typeof u&&/^https?:/.test(b)?(I=Object.assign({url:b,timeout:3e4,headers:{"user-agent":"WebTorrent (https://webtorrent.io)"}},I),u.concat(I,(q,K,he)=>q?S(new Error(`Error downloading torrent: ${q.message}`)):void R(he))):"function"==typeof s.readFile&&"string"==typeof b?s.readFile(b,(q,K)=>q?S(new Error("Invalid torrent identifier")):void R(K)):w(()=>{S(new Error("Invalid torrent identifier"))})},M.exports.toMagnetURI=o.encode,M.exports.toTorrentFile=function(b){const I={info:b.info};return I["announce-list"]=(b.announce||[]).map(S=>(I.announce||(I.announce=S),[S=h.from(S,"utf8")])),I["url-list"]=b.urlList||[],void 0!==b.private&&(I.private=+b.private),b.created&&(I["creation date"]=0|b.created.getTime()/1e3),b.createdBy&&(I["created by"]=b.createdBy),b.comment&&(I.comment=b.comment),t.encode(I)},h.alloc(0)}).call(this)}).call(this,v("buffer").Buffer)},{bencode:27,"blob-to-buffer":37,buffer:69,fs:41,"magnet-uri":170,path:71,"queue-microtask":218,"simple-get":258,"simple-sha1":260}],198:[function(v,M,h){h.pbkdf2=v("./lib/async"),h.pbkdf2Sync=v("./lib/sync")},{"./lib/async":199,"./lib/sync":202}],199:[function(v,M){(function(h){(function(){function p(){return d||(d=h.process&&h.process.nextTick?h.process.nextTick:h.queueMicrotask?h.queueMicrotask:h.setImmediate?h.setImmediate:h.setTimeout)}function x(w,b,I,S,R){return s.importKey("raw",w,{name:"PBKDF2"},!1,["deriveBits"]).then(function(F){return s.deriveBits({name:"PBKDF2",salt:b,iterations:I,hash:{name:R}},F,S<<3)}).then(function(F){return c.from(F)})}var l,d,c=v("safe-buffer").Buffer,f=v("./precondition"),n=v("./default-encoding"),t=v("./sync"),i=v("./to-buffer"),s=h.crypto&&h.crypto.subtle,u={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},o=[];M.exports=function(w,b,I,S,R,F){"function"==typeof R&&(F=R,R=void 0);var q=u[(R=R||"sha1").toLowerCase()];if(q&&"function"==typeof h.Promise){if(f(I,S),w=i(w,n,"Password"),b=i(b,n,"Salt"),"function"!=typeof F)throw new Error("No callback provided to pbkdf2");!function r(w,b){w.then(function(I){p()(function(){b(null,I)})},function(I){p()(function(){b(I)})})}(function g(w){if(h.process&&!h.process.browser||!s||!s.importKey||!s.deriveBits)return Promise.resolve(!1);if(void 0!==o[w])return o[w];var b=x(l=l||c.alloc(8),l,10,128,w).then(function(){return!0}).catch(function(){return!1});return o[w]=b,b}(q).then(function(K){return K?x(w,b,I,S,q):t(w,b,I,S,R)}),F)}else p()(function(){var K;try{K=t(w,b,I,S,R)}catch(he){return F(he)}F(null,K)})}}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"./default-encoding":200,"./precondition":201,"./sync":202,"./to-buffer":203,"safe-buffer":247}],200:[function(v,M){(function(h,g){(function(){var p;p=g.process&&g.process.browser?"utf-8":g.process&&g.process.version?6<=parseInt(h.version.split(".")[0].slice(1),10)?"utf-8":"binary":"utf-8",M.exports=p}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{_process:205}],201:[function(v,M){z(2,30),M.exports=function(h,g){if("number"!=typeof h)throw new TypeError("Iterations not a number");if(0>h)throw new TypeError("Bad iterations");if("number"!=typeof g)throw new TypeError("Key length not a number");if(0>g||1073741823<g||g!=g)throw new TypeError("Bad key length")}},{}],202:[function(v,M){function h(u,o,l){var d=function g(u){return"rmd160"===u||"ripemd160"===u?function(o){return(new x).update(o).digest()}:"md5"===u?p:function(o){return r(u).update(o).digest()}}(u),w="sha512"===u||"sha384"===u?128:64;o.length>w?o=d(o):o.length<w&&(o=c.concat([o,i],w));for(var b=c.allocUnsafe(w+s[u]),I=c.allocUnsafe(w+s[u]),S=0;S<w;S++)b[S]=54^o[S],I[S]=92^o[S];var R=c.allocUnsafe(w+l+4);b.copy(R,0,0,w),this.ipad1=R,this.ipad2=b,this.opad=I,this.alg=u,this.blocksize=w,this.hash=d,this.size=s[u]}var p=v("create-hash/md5"),x=v("ripemd160"),r=v("sha.js"),c=v("safe-buffer").Buffer,f=v("./precondition"),n=v("./default-encoding"),t=v("./to-buffer"),i=c.alloc(128),s={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};h.prototype.run=function(u,o){return u.copy(o,this.blocksize),this.hash(o).copy(this.opad,this.blocksize),this.hash(this.opad)},M.exports=function(u,o,l,d,w){f(l,d);var b=new h(w=w||"sha1",u=t(u,n,"Password"),(o=t(o,n,"Salt")).length),I=c.allocUnsafe(d),S=c.allocUnsafe(o.length+4);o.copy(S,0,0,o.length);for(var R=0,F=s[w],q=ge(d/F),K=1;K<=q;K++){S.writeUInt32BE(K,o.length);for(var he=b.run(S,b.ipad1),Ae=he,xe=1;xe<l;xe++){Ae=b.run(Ae,b.ipad2);for(var A=0;A<F;A++)he[A]^=Ae[A]}he.copy(I,R),R+=F}return I}},{"./default-encoding":200,"./precondition":201,"./to-buffer":203,"create-hash/md5":100,ripemd160:243,"safe-buffer":247,"sha.js":250}],203:[function(v,M){var h=v("safe-buffer").Buffer;M.exports=function(g,p,x){if(h.isBuffer(g))return g;if("string"==typeof g)return h.from(g,p);if(ArrayBuffer.isView(g))return h.from(g.buffer);throw new TypeError(x+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":247}],204:[function(v,M){M.exports=function(h){return fe(16384,0|1<<Math.log2(1024>h?1:h/1024)+.5)}},{}],205:[function(v,M){function h(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}function p(w){if(i===setTimeout)return setTimeout(w,0);if((i===h||!i)&&setTimeout)return i=setTimeout,setTimeout(w,0);try{return i(w,0)}catch(b){try{return i.call(null,w,0)}catch(I){return i.call(this,w,0)}}}function r(){o&&d&&(o=!1,d.length?u=d.concat(u):l=-1,u.length&&c())}function c(){if(!o){var w=p(r);o=!0;for(var b=u.length;b;){for(d=u,u=[];++l<b;)d&&d[l].run();l=-1,b=u.length}d=null,o=!1,function x(w){if(s===clearTimeout)return clearTimeout(w);if((s===g||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(w);try{s(w)}catch(b){try{return s.call(null,w)}catch(I){return s.call(this,w)}}}(w)}}function f(w,b){this.fun=w,this.array=b}function n(){}var i,s,t=M.exports={};!function(){try{i="function"==typeof setTimeout?setTimeout:h}catch(w){i=h}try{s="function"==typeof clearTimeout?clearTimeout:g}catch(w){s=g}}();var d,u=[],o=!1,l=-1;t.nextTick=function(w){var b=Array(arguments.length-1);if(1<arguments.length)for(var I=1;I<arguments.length;I++)b[I-1]=arguments[I];u.push(new f(w,b)),1!==u.length||o||p(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=n,t.addListener=n,t.once=n,t.off=n,t.removeListener=n,t.removeAllListeners=n,t.emit=n,t.prependListener=n,t.prependOnceListener=n,t.listeners=function(){return[]},t.binding=function(){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],206:[function(v,M,h){h.publicEncrypt=v("./publicEncrypt"),h.privateDecrypt=v("./privateDecrypt"),h.privateEncrypt=function(g,p){return h.publicEncrypt(g,p,!0)},h.publicDecrypt=function(g,p){return h.privateDecrypt(g,p,!0)}},{"./privateDecrypt":209,"./publicEncrypt":210}],207:[function(v,M){function h(x){var r=p.allocUnsafe(4);return r.writeUInt32BE(x,0),r}var g=v("create-hash"),p=v("safe-buffer").Buffer;M.exports=function(x,r){for(var n,c=p.alloc(0),f=0;c.length<r;)n=h(f++),c=p.concat([c,g("sha1").update(x).update(n).digest()]);return c.slice(0,r)}},{"create-hash":99,"safe-buffer":247}],208:[function(v,M,h){arguments[4][22][0].apply(h,arguments)},{buffer:41,dup:22}],209:[function(v,M){var x=v("parse-asn1"),r=v("./mgf"),c=v("./xor"),f=v("bn.js"),n=v("browserify-rsa"),t=v("create-hash"),i=v("./withPublic"),s=v("safe-buffer").Buffer;M.exports=function(u,o,l){var d=u.padding?u.padding:l?1:4,w=x(u),b=w.modulus.byteLength();if(o.length>b||0<=new f(o).cmp(w.modulus))throw new Error("decryption error");var I=l?i(new f(o),w):n(o,w),S=s.alloc(b-I.length);if(I=s.concat([S,I],b),4===d)return function h(u,o){var l=u.modulus.byteLength(),d=t("sha1").update(s.alloc(0)).digest(),w=d.length;if(0!==o[0])throw new Error("decryption error");var b=o.slice(1,w+1),I=o.slice(w+1),S=c(b,r(I,w)),R=c(I,r(S,l-w-1));if(function p(u,o){u=s.from(u),o=s.from(o);var l=0,d=u.length;u.length!==o.length&&(l++,d=re(u.length,o.length));for(var w=-1;++w<d;)l+=u[w]^o[w];return l}(d,R.slice(0,w)))throw new Error("decryption error");for(var F=w;0===R[F];)F++;if(1!==R[F++])throw new Error("decryption error");return R.slice(F)}(w,I);if(1===d)return function g(u,o,l){for(var d=o.slice(0,2),w=2,b=0;0!==o[w++];)if(w>=o.length){b++;break}var I=o.slice(2,w-1);if(("0002"!==d.toString("hex")&&!l||"0001"!==d.toString("hex")&&l)&&b++,8>I.length&&b++,b)throw new Error("decryption error");return o.slice(w)}(0,I,l);if(3===d)return I;throw new Error("unknown padding")}},{"./mgf":207,"./withPublic":211,"./xor":212,"bn.js":208,"browserify-rsa":62,"create-hash":99,"parse-asn1":196,"safe-buffer":247}],210:[function(v,M){var x=v("parse-asn1"),r=v("randombytes"),c=v("create-hash"),f=v("./mgf"),n=v("./xor"),t=v("bn.js"),i=v("./withPublic"),s=v("browserify-rsa"),u=v("safe-buffer").Buffer;M.exports=function(o,l,d){var I,w=o.padding?o.padding:d?1:4,b=x(o);if(4===w)I=function h(o,l){var d=o.modulus.byteLength(),w=l.length,b=c("sha1").update(u.alloc(0)).digest(),I=b.length,S=2*I;if(w>d-S-2)throw new Error("message too long");var R=u.alloc(d-w-S-2),F=d-I-1,q=r(I),K=n(u.concat([b,R,u.alloc(1,1),l],F),f(q,F)),he=n(q,f(K,I));return new t(u.concat([u.alloc(1),he,K],d))}(b,l);else if(1===w)I=function g(o,l,d){var I,w=l.length,b=o.modulus.byteLength();if(w>b-11)throw new Error("message too long");return I=d?u.alloc(b-w-3,255):function p(o){for(var I,l=u.allocUnsafe(o),d=0,w=r(2*o),b=0;d<o;)b===w.length&&(w=r(2*o),b=0),(I=w[b++])&&(l[d++]=I);return l}(b-w-3),new t(u.concat([u.from([0,d?1:2]),I,u.alloc(1),l],b))}(b,l,d);else{if(3!==w)throw new Error("unknown padding");if(0<=(I=new t(l)).cmp(b.modulus))throw new Error("data too long for modulus")}return d?s(I,b):i(I,b)}},{"./mgf":207,"./withPublic":211,"./xor":212,"bn.js":208,"browserify-rsa":62,"create-hash":99,"parse-asn1":196,randombytes:221,"safe-buffer":247}],211:[function(v,M){var h=v("bn.js"),g=v("safe-buffer").Buffer;M.exports=function(p,x){return g.from(p.toRed(h.mont(x.modulus)).redPow(new h(x.publicExponent)).fromRed().toArray())}},{"bn.js":208,"safe-buffer":247}],212:[function(v,M){M.exports=function(h,g){for(var p=h.length,x=-1;++x<p;)h[x]^=g[x];return h}},{}],213:[function(v,M){(function(h){(function(){var g=v("once"),p=v("end-of-stream"),x=v("fs"),r=function(){},c=/^v?\.0/.test(h.version),f=function(o){return"function"==typeof o},i=function(o,l,d,w){w=g(w);var b=!1;o.on("close",function(){b=!0}),p(o,{readable:l,writable:d},function(S){return S?w(S):(b=!0,void w())});var I=!1;return function(S){if(!b)return I?void 0:(I=!0,function(o){return!!c&&!!x&&(o instanceof(x.ReadStream||r)||o instanceof(x.WriteStream||r))&&f(o.close)}(o)?o.close(r):function(o){return o.setHeader&&f(o.abort)}(o)?o.abort():f(o.destroy)?o.destroy():void w(S||new Error("stream was destroyed")))}},s=function(o){o()},u=function(o,l){return o.pipe(l)};M.exports=function(){var o=Array.prototype.slice.call(arguments),l=f(o[o.length-1]||r)&&o.pop()||r;if(Array.isArray(o[0])&&(o=o[0]),2>o.length)throw new Error("pump requires two streams per minimum");var w,d=o.map(function(b,I){var S=I<o.length-1;return i(b,S,0<I,function(R){w||(w=R),R&&d.forEach(s),S||(d.forEach(s),l(w))})});return o.reduce(u)}}).call(this)}).call(this,v("_process"))},{_process:205,"end-of-stream":135,fs:41,once:191}],214:[function(v,M,h){(function(g){(function(){!function(p){function x(K){throw new RangeError(I[K])}function r(K,he){for(var Ae=K.length,xe=[];Ae--;)xe[Ae]=he(K[Ae]);return xe}function c(K,he){var Ae=K.split("@"),xe="";return 1<Ae.length&&(xe=Ae[0]+"@",K=Ae[1]),xe+r((K=K.replace(b,".")).split("."),he).join(".")}function f(K){for(var A,N,he=[],Ae=0,xe=K.length;Ae<xe;)55296<=(A=K.charCodeAt(Ae++))&&56319>=A&&Ae<xe?56320==(64512&(N=K.charCodeAt(Ae++)))?he.push(((1023&A)<<10)+(1023&N)+65536):(he.push(A),Ae--):he.push(A);return he}function n(K){return r(K,function(he){var Ae="";return 65535<he&&(Ae+=R(55296|1023&(he-=65536)>>>10),he=56320|1023&he),Ae+R(he)}).join("")}function t(K){return 10>K-48?K-22:26>K-65?K-65:26>K-97?K-97:36}function i(K,he){return K+22+75*(26>K)-((0!=he)<<5)}function s(K,he,Ae){var xe=0;for(K=Ae?S(K/700):K>>1,K+=S(K/he);455<K;xe+=36)K=S(K/35);return S(xe+36*K/(K+38))}function u(K){var U,y,C,L,O,oe,$,ue,qe,Ze,he=[],Ae=K.length,xe=0,A=128,N=72;for(0>(y=K.lastIndexOf("-"))&&(y=0),C=0;C<y;++C)128<=K.charCodeAt(C)&&x("not-basic"),he.push(K.charCodeAt(C));for(L=0<y?y+1:0;L<Ae;){for(O=xe,oe=1,$=36;L>=Ae&&x("invalid-input"),(36<=(ue=t(K.charCodeAt(L++)))||ue>S((2147483647-xe)/oe))&&x("overflow"),xe+=ue*oe,!(ue<(qe=$<=N?1:$>=N+26?26:$-N));$+=36)oe>S(2147483647/(Ze=36-qe))&&x("overflow"),oe*=Ze;N=s(xe-O,U=he.length+1,0==O),S(xe/U)>2147483647-A&&x("overflow"),A+=S(xe/U),xe%=U,he.splice(xe++,0,A)}return n(he)}function o(K){var Ae,xe,A,N,U,y,C,L,O,oe,$,ue,qe,Ze,Ve,he=[];for(ue=(K=f(K)).length,Ae=128,xe=0,U=72,y=0;y<ue;++y)128>($=K[y])&&he.push(R($));for(A=N=he.length,N&&he.push("-");A<ue;){for(C=2147483647,y=0;y<ue;++y)($=K[y])>=Ae&&$<C&&(C=$);for(C-Ae>S((2147483647-xe)/(qe=A+1))&&x("overflow"),xe+=(C-Ae)*qe,Ae=C,y=0;y<ue;++y)if(($=K[y])<Ae&&2147483647<++xe&&x("overflow"),$==Ae){for(L=xe,O=36;!(L<(oe=O<=U?1:O>=U+26?26:O-U));O+=36)he.push(R(i(oe+(Ve=L-oe)%(Ze=36-oe),0))),L=S(Ve/Ze);he.push(R(i(L,0))),U=s(xe,qe,A==N),xe=0,++A}++xe,++Ae}return he.join("")}var l="object"==typeof h&&h&&!h.nodeType&&h,d="object"==typeof M&&M&&!M.nodeType&&M,w="object"==typeof g&&g;(w.global===w||w.window===w||w.self===w)&&(p=w);var F,q,b=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=mt,R=Q;if(F={version:"1.4.1",ucs2:{decode:f,encode:n},decode:u,encode:o,toASCII:function(K){return c(K,function(he){return/[^\x20-\x7E]/.test(he)?"xn--"+o(he):he})},toUnicode:function(K){return c(K,function(he){return/^xn--/.test(he)?u(he.slice(4).toLowerCase()):he})}},l&&d)if(M.exports==l)d.exports=F;else for(q in F)F.hasOwnProperty(q)&&(l[q]=F[q]);else p.punycode=F}(this)}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],215:[function(v,M){"use strict";function h(p,x){return Object.prototype.hasOwnProperty.call(p,x)}M.exports=function(p,x,r,c){r=r||"=";var f={};if("string"!=typeof p||0===p.length)return f;p=p.split(x=x||"&");var n=1e3;c&&"number"==typeof c.maxKeys&&(n=c.maxKeys);var t=p.length;0<n&&t>n&&(t=n);for(var i=0;i<t;++i){var o,l,d,w,s=p[i].replace(/\+/g,"%20"),u=s.indexOf(r);0<=u?(o=s.substr(0,u),l=s.substr(u+1)):(o=s,l=""),d=decodeURIComponent(o),w=decodeURIComponent(l),h(f,d)?g(f[d])?f[d].push(w):f[d]=[f[d],w]:f[d]=w}return f};var g=Array.isArray||function(p){return"[object Array]"===Object.prototype.toString.call(p)}},{}],216:[function(v,M){"use strict";function h(r,c){if(r.map)return r.map(c);for(var f=[],n=0;n<r.length;n++)f.push(c(r[n],n));return f}var g=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};M.exports=function(r,c,f,n){return c=c||"&",f=f||"=",null===r&&(r=void 0),"object"==typeof r?h(x(r),function(t){var i=encodeURIComponent(g(t))+f;return p(r[t])?h(r[t],function(s){return i+encodeURIComponent(g(s))}).join(c):i+encodeURIComponent(g(r[t]))}).join(c):n?encodeURIComponent(g(n))+f+encodeURIComponent(g(r)):""};var p=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},x=Object.keys||function(r){var c=[];for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&c.push(f);return c}},{}],217:[function(v,M,h){"use strict";h.decode=h.parse=v("./decode"),h.encode=h.stringify=v("./encode")},{"./decode":215,"./encode":216}],218:[function(v,M){(function(h){(function(){let g;M.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"==typeof window?h:window):p=>(g||(g=Promise.resolve())).then(p).catch(x=>setTimeout(()=>{throw x},0))}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],219:[function(v,M){M.exports="function"==typeof queueMicrotask?queueMicrotask:h=>Promise.resolve().then(h)},{}],220:[function(v,M){M.exports=function(h){var g=0;return function(){if(g===h.length)return null;var p=h.length-g,x=0|Math.random()*p,r=h[g+x],c=h[g];return h[g]=r,h[g+x]=c,g++,r}}},{}],221:[function(v,M){(function(h,g){(function(){"use strict";var p=v("safe-buffer").Buffer,x=g.crypto||g.msCrypto;M.exports=x&&x.getRandomValues?function(r,c){if(r>4294967295)throw new RangeError("requested too many random bytes");var f=p.allocUnsafe(r);if(0<r)if(65536<r)for(var n=0;n<r;n+=65536)x.getRandomValues(f.slice(n,n+65536));else x.getRandomValues(f);return"function"==typeof c?h.nextTick(function(){c(null,f)}):f}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{_process:205,"safe-buffer":247}],222:[function(v,M,h){(function(g,p){(function(){"use strict";function x(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function r(l,d){if("number"!=typeof l||l!=l)throw new TypeError("offset must be a number");if(4294967295<l||0>l)throw new TypeError("offset must be a uint32");if(l>s||l>d)throw new RangeError("offset out of range")}function c(l,d,w){if("number"!=typeof l||l!=l)throw new TypeError("size must be a number");if(4294967295<l||0>l)throw new TypeError("size must be a uint32");if(l+d>w||l>s)throw new RangeError("buffer too small")}function f(l,d,w,b){if(g.browser){var S=new Uint8Array(l.buffer,d,w);return u.getRandomValues(S),b?void g.nextTick(function(){b(null,l)}):l}if(!b)return t(w).copy(l,d),l;t(w,function(F,q){return F?b(F):(q.copy(l,d),void b(null,l))})}var n=v("safe-buffer"),t=v("randombytes"),i=n.Buffer,s=n.kMaxLength,u=p.crypto||p.msCrypto;z(2,32),u&&u.getRandomValues||!g.browser?(h.randomFill=function(l,d,w,b){if(!(i.isBuffer(l)||l instanceof p.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof d)b=d,d=0,w=l.length;else if("function"==typeof w)b=w,w=l.length-d;else if("function"!=typeof b)throw new TypeError('"cb" argument must be a function');return r(d,l.length),c(w,d,l.length),f(l,d,w,b)},h.randomFillSync=function(l,d,w){if(void 0===d&&(d=0),!(i.isBuffer(l)||l instanceof p.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return r(d,l.length),void 0===w&&(w=l.length-d),c(w,d,l.length),f(l,d,w)}):(h.randomFill=x,h.randomFillSync=x)}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{_process:205,randombytes:221,"safe-buffer":247}],223:[function(v,M){"use strict";function g(c,f){return{start:c.start,end:c.end,index:f}}function p(c){return{start:c.start,end:c.end}}function x(c,f){return c.index-f.index}function r(c,f){return c.start-f.start}M.exports=function(c,f,n){if("string"!=typeof f)throw new TypeError("argument str must be a string");var t=f.indexOf("=");if(-1===t)return-2;var i=f.slice(t+1).split(","),s=[];s.type=f.slice(0,t);for(var u=0;u<i.length;u++){var o=i[u].split("-"),l=parseInt(o[0],10),d=parseInt(o[1],10);isNaN(l)?(l=c-d,d=c-1):isNaN(d)&&(d=c-1),d>c-1&&(d=c-1),!(isNaN(l)||isNaN(d)||l>d||0>l)&&s.push({start:l,end:d})}return 1>s.length?-1:n&&n.combine?function h(c){for(var f=c.map(g).sort(r),n=0,t=1;t<f.length;t++){var i=f[t],s=f[n];i.start>s.end+1?f[++n]=i:i.end>s.end&&(s.end=i.end,s.index=re(s.index,i.index))}f.length=n+1;var u=f.sort(x).map(p);return u.type=c.type,u}(s):s}},{}],224:[function(v,M){const{Writable:h,PassThrough:g}=v("readable-stream");M.exports=class extends h{constructor(p,x={}){super(x),this.destroyed=!1,this._queue=[],this._position=p||0,this._cb=null,this._buffer=null,this._out=null}_write(p,x,r){let c=!0;for(;;){if(this.destroyed)return;if(0===this._queue.length)return this._buffer=p,void(this._cb=r);this._buffer=null;var f=this._queue[0];const n=fe(f.start-this._position,0),t=f.end-this._position;if(n>=p.length)return this._position+=p.length,r(null);let i;if(t>p.length){this._position+=p.length,i=0===n?p:p.slice(n),c=f.stream.write(i)&&c;break}this._position+=t,i=0===n&&t===p.length?p:p.slice(n,t),c=f.stream.write(i)&&c,f.last&&f.stream.end(),p=p.slice(t),this._queue.shift()}c?r(null):f.stream.once("drain",r.bind(null,null))}slice(p){if(this.destroyed)return null;Array.isArray(p)||(p=[p]);const x=new g;return p.forEach((r,c)=>{this._queue.push({start:r.start,end:r.end,stream:x,last:c===p.length-1})}),this._buffer&&this._write(this._buffer,null,this._cb),x}destroy(p){this.destroyed||(this.destroyed=!0,p&&this.emit("error",p))}}},{"readable-stream":240}],225:[function(v,M){"use strict";function h(f){return parseInt(f,10)===f}function g(f){function i(s){this.s=function t(s){if(void 0===s){s=Array(f);for(var u=0;u<f;u++)s[u]=mt(Math.random()*f)}else if("string"==typeof s)s=(s=""+s).split("").map(function(I){return I.charCodeAt(0)%f});else{if(!Array.isArray(s))throw new TypeError("invalid seed key specified");if(!s.every(function(I){return"number"==typeof I&&I===(0|I)}))throw new TypeError("invalid seed key specified: not array of integers")}for(var o=s.length,l=function n(){for(var s=Array(f),u=0;u<f;u++)s[u]=u;return s}(),d=0,w=0;w<f;w++){var b=l[w];l[w]=l[d=(d+l[w]+s[w%o])%f],l[d]=b}return l}(s),this.i=0,this.j=0}return i.prototype.randomNative=function(){this.i=(this.i+1)%f,this.j=(this.j+this.s[this.i])%f;var s=this.s[this.i];return this.s[this.i]=this.s[this.j],this.s[this.j]=s,this.s[(this.s[this.i]+this.s[this.j])%f]},i.prototype.randomUInt32=function(){return 256*(256*(256*this.randomByte()+this.randomByte())+this.randomByte())+this.randomByte()},i.prototype.randomFloat=function(){return this.randomUInt32()/4294967296},i.prototype.random=function(){var s,u;if(1===arguments.length)s=0,u=arguments[0];else{if(2!==arguments.length)throw new TypeError("random takes one or two integer arguments");s=arguments[0],u=arguments[1]}if(!h(s)||!h(u))throw new TypeError("random takes one or two integer arguments");return s+this.randomUInt32()%(u-s+1)},i.prototype.currentState=function(){return{i:this.i,j:this.j,s:this.s.slice()}},i.prototype.setState=function(s){var u=s.s,o=s.i,l=s.j;if(!(o===(0|o)&&0<=o&&o<f))throw new Error("state.i should be integer [0, "+(f-1)+"]");if(!(l===(0|l)&&0<=l&&l<f))throw new Error("state.j should be integer [0, "+(f-1)+"]");if(!Array.isArray(u)||u.length!==f)throw new Error("state should be array of length "+f);for(var d=0;d<f;d++)if(-1===u.indexOf(d))throw new Error("state should be permutation of 0.."+(f-1)+": "+d+" is missing");this.i=o,this.j=l,this.s=u.slice()},i}function p(f){return Q(10>f?48+f:97+f-10)}function x(f){return parseInt(f,16)}var r=g(256);r.prototype.randomByte=r.prototype.randomNative;var c=g(16);c.prototype.randomByte=function(){return 16*this.randomNative()+this.randomNative()},c.prototype.currentStateString=function(){var f=this.currentState();return p(f.i)+p(f.j)+f.s.map(p).join("")},c.prototype.setStateString=function(f){if(!f.match(/^[0-9a-f]{18}$/))throw new TypeError("RC4small stateString should be 18 hex character string");var n=x(f[0]),t=x(f[1]),i=f.split("").slice(2).map(x);this.setState({i:n,j:t,s:i})},r.RC4small=c,M.exports=r},{}],226:[function(v,M,h){arguments[4][73][0].apply(h,arguments)},{dup:73}],227:[function(v,M,h){arguments[4][74][0].apply(h,arguments)},{"./_stream_readable":229,"./_stream_writable":231,_process:205,dup:74,inherits:159}],228:[function(v,M,h){arguments[4][75][0].apply(h,arguments)},{"./_stream_transform":230,dup:75,inherits:159}],229:[function(v,M,h){arguments[4][76][0].apply(h,arguments)},{"../errors":226,"./_stream_duplex":227,"./internal/streams/async_iterator":232,"./internal/streams/buffer_list":233,"./internal/streams/destroy":234,"./internal/streams/from":236,"./internal/streams/state":238,"./internal/streams/stream":239,_process:205,buffer:69,dup:76,events:70,inherits:159,"string_decoder/":276,util:41}],230:[function(v,M,h){arguments[4][77][0].apply(h,arguments)},{"../errors":226,"./_stream_duplex":227,dup:77,inherits:159}],231:[function(v,M,h){arguments[4][78][0].apply(h,arguments)},{"../errors":226,"./_stream_duplex":227,"./internal/streams/destroy":234,"./internal/streams/state":238,"./internal/streams/stream":239,_process:205,buffer:69,dup:78,inherits:159,"util-deprecate":288}],232:[function(v,M,h){arguments[4][79][0].apply(h,arguments)},{"./end-of-stream":235,_process:205,dup:79}],233:[function(v,M,h){arguments[4][80][0].apply(h,arguments)},{buffer:69,dup:80,util:41}],234:[function(v,M,h){arguments[4][81][0].apply(h,arguments)},{_process:205,dup:81}],235:[function(v,M,h){arguments[4][82][0].apply(h,arguments)},{"../../../errors":226,dup:82}],236:[function(v,M,h){arguments[4][83][0].apply(h,arguments)},{dup:83}],237:[function(v,M,h){arguments[4][84][0].apply(h,arguments)},{"../../../errors":226,"./end-of-stream":235,dup:84}],238:[function(v,M,h){arguments[4][85][0].apply(h,arguments)},{"../../../errors":226,dup:85}],239:[function(v,M,h){arguments[4][86][0].apply(h,arguments)},{dup:86,events:70}],240:[function(v,M,h){(h=M.exports=v("./lib/_stream_readable.js")).Stream=h,h.Readable=h,h.Writable=v("./lib/_stream_writable.js"),h.Duplex=v("./lib/_stream_duplex.js"),h.Transform=v("./lib/_stream_transform.js"),h.PassThrough=v("./lib/_stream_passthrough.js"),h.finished=v("./lib/internal/streams/end-of-stream.js"),h.pipeline=v("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":227,"./lib/_stream_passthrough.js":228,"./lib/_stream_readable.js":229,"./lib/_stream_transform.js":230,"./lib/_stream_writable.js":231,"./lib/internal/streams/end-of-stream.js":235,"./lib/internal/streams/pipeline.js":237}],241:[function(v,M,h){function g(K,he,Ae,xe){function A(){return!("number"==typeof K.length&&K.length>Ae.maxBlobLength&&(n("File length too large for Blob URL approach: %d (max: %d)",K.length,Ae.maxBlobLength),L(new Error(`File length too large for Blob URL approach: ${K.length} (max: ${Ae.maxBlobLength})`)),1))}function N(ue){A()&&($=he(ue),p(K,(qe,Ze)=>qe?L(qe):($.addEventListener("error",L),$.addEventListener("loadstart",U),$.addEventListener("loadedmetadata",y),void($.src=Ze))))}function U(){if($.removeEventListener("loadstart",U),Ae.autoplay){const ue=$.play();void 0!==ue&&ue.catch(L)}}function y(){$.removeEventListener("loadedmetadata",y),xe(null,$)}function C(){p(K,(ue,qe)=>ue?L(ue):(".pdf"===O?($=he("object"),$.setAttribute("typemustmatch",!0),$.setAttribute("type","application/pdf"),$.setAttribute("data",qe)):($=he("iframe"),$.sandbox="allow-forms allow-scripts",$.src=qe),void xe(null,$)))}function L(ue){ue.message=`Error rendering file "${K.name}": ${ue.message}`,n(ue.message),xe(ue)}const O=s.extname(K.name).toLowerCase();let $,oe=0;w.includes(O)?function(){function qe(){n(`Use MediaSource API for ${K.name}`),at(),$.addEventListener("error",tt),$.addEventListener("loadstart",U),$.addEventListener("loadedmetadata",y);const Jt=new i($).createWriteStream(function r(K){return{".m4a":'audio/mp4; codecs="mp4a.40.5"',".m4b":'audio/mp4; codecs="mp4a.40.5"',".m4p":'audio/mp4; codecs="mp4a.40.5"',".m4v":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".mkv":'video/webm; codecs="avc1.640029, mp4a.40.5"',".mp3":"audio/mpeg",".mp4":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".webm":'video/webm; codecs="vorbis, vp8"'}[s.extname(K).toLowerCase()]}(K.name));K.createReadStream().pipe(Jt),oe&&($.currentTime=oe)}function Ze(){n(`Use Blob URL for ${K.name}`),at(),$.addEventListener("error",L),$.addEventListener("loadstart",U),$.addEventListener("loadedmetadata",y),p(K,(Wt,Jt)=>Wt?L(Wt):($.src=Jt,void(oe&&($.currentTime=oe))))}function Ve(Wt){n("videostream error: fallback to MediaSource API: %o",Wt.message||Wt),$.removeEventListener("error",Ve),$.removeEventListener("loadedmetadata",y),qe()}function tt(Wt){n("MediaSource API error: fallback to Blob URL: %o",Wt.message||Wt),A()&&($.removeEventListener("error",tt),$.removeEventListener("loadedmetadata",y),Ze())}function at(){$||($=he(zt),$.addEventListener("progress",()=>{oe=$.currentTime}))}const zt=d.includes(O)?"video":"audio";q?l.includes(O)?function ue(){n(`Use \`videostream\` package for ${K.name}`),at(),$.addEventListener("error",Ve),$.addEventListener("loadstart",U),$.addEventListener("loadedmetadata",y),new o(K,$)}():qe():Ze()}():b.includes(O)?N("video"):I.includes(O)?N("audio"):S.includes(O)?($=he("img"),p(K,(ue,qe)=>ue?L(ue):($.src=qe,$.alt=K.name,void xe(null,$)))):R.includes(O)?C():function(){n('Unknown file extension "%s" - will attempt to render into iframe',O);let qe="";K.createReadStream({start:0,end:1e3}).setEncoding("utf8").on("data",Ze=>{qe+=Ze}).on("end",function ue(){t(qe)?(n('File extension "%s" appears ascii, so will render.',O),C()):(n('File extension "%s" appears non-ascii, will not render.',O),xe(new Error(`Unsupported file type "${O}": Cannot append to DOM`)))}).on("error",xe)}()}function p(K,he){const Ae=s.extname(K.name).toLowerCase();u(K.createReadStream(),h.mime[Ae]).then(xe=>he(null,xe),xe=>he(xe))}function x(K){if(null==K)throw new Error("file cannot be null or undefined");if("string"!=typeof K.name)throw new Error("missing or invalid file.name property");if("function"!=typeof K.createReadStream)throw new Error("missing or invalid file.createReadStream property")}function c(K){null==K.autoplay&&(K.autoplay=!1),null==K.muted&&(K.muted=!1),null==K.controls&&(K.controls=!0),null==K.maxBlobLength&&(K.maxBlobLength=F)}function f(K,he){K.autoplay=!!he.autoplay,K.muted=!!he.muted,K.controls=!!he.controls}h.render=function(K,he,Ae,xe){"function"==typeof Ae&&(xe=Ae,Ae={}),Ae||(Ae={}),xe||(xe=()=>{}),x(K),c(Ae),"string"==typeof he&&(he=document.querySelector(he)),g(K,A=>{if(he.nodeName!==A.toUpperCase()){const N=s.extname(K.name).toLowerCase();throw new Error(`Cannot render "${N}" inside a "${he.nodeName.toLowerCase()}" element, expected "${A}"`)}return("video"===A||"audio"===A)&&f(he,Ae),he},Ae,xe)},h.append=function(K,he,Ae,xe){function N(y){const C=document.createElement(y);return he.appendChild(C),C}if("function"==typeof Ae&&(xe=Ae,Ae={}),Ae||(Ae={}),xe||(xe=()=>{}),x(K),c(Ae),"string"==typeof he&&(he=document.querySelector(he)),he&&("VIDEO"===he.nodeName||"AUDIO"===he.nodeName))throw new Error("Invalid video/audio node argument. Argument must be root element that video/audio tag will be appended to.");g(K,function(y){return"video"===y||"audio"===y?function A(y){const C=N(y);return f(C,Ae),he.appendChild(C),C}(y):N(y)},Ae,function U(y,C){y&&C&&C.remove(),xe(y,C)})},h.mime=v("./lib/mime.json");const n=v("debug")("render-media"),t=v("is-ascii"),i=v("mediasource"),s=v("path"),u=v("stream-to-blob-url"),o=v("videostream"),l=[".m4a",".m4b",".m4p",".m4v",".mp4"],d=[".m4v",".mkv",".mp4",".webm"],w=[].concat(d,[".m4a",".m4b",".m4p",".mp3"]),b=[".mov",".ogv"],I=[".aac",".oga",".ogg",".wav",".flac"],S=[".bmp",".gif",".jpeg",".jpg",".png",".svg"],R=[".css",".html",".js",".md",".pdf",".srt",".txt"],F=2e8,q="undefined"!=typeof window&&window.MediaSource},{"./lib/mime.json":242,debug:105,"is-ascii":160,mediasource:172,path:71,"stream-to-blob-url":272,videostream:290}],242:[function(v,M){M.exports={".3gp":"video/3gpp",".aac":"audio/aac",".aif":"audio/x-aiff",".aiff":"audio/x-aiff",".atom":"application/atom+xml",".avi":"video/x-msvideo",".bmp":"image/bmp",".bz2":"application/x-bzip2",".conf":"text/plain",".css":"text/css",".csv":"text/plain",".diff":"text/x-diff",".doc":"application/msword",".flv":"video/x-flv",".gif":"image/gif",".gz":"application/x-gzip",".htm":"text/html",".html":"text/html",".ico":"image/vnd.microsoft.icon",".ics":"text/calendar",".iso":"application/octet-stream",".jar":"application/java-archive",".jpeg":"image/jpeg",".jpg":"image/jpeg",".js":"application/javascript",".json":"application/json",".less":"text/css",".log":"text/plain",".m3u":"audio/x-mpegurl",".m4a":"audio/x-m4a",".m4b":"audio/mp4",".m4p":"audio/mp4",".m4v":"video/x-m4v",".manifest":"text/cache-manifest",".markdown":"text/x-markdown",".mathml":"application/mathml+xml",".md":"text/x-markdown",".mid":"audio/midi",".midi":"audio/midi",".mov":"video/quicktime",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4v":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"application/ogg",".pdf":"application/pdf",".png":"image/png",".pps":"application/vnd.ms-powerpoint",".ppt":"application/vnd.ms-powerpoint",".ps":"application/postscript",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".rar":"application/x-rar-compressed",".rdf":"application/rdf+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tbz":"application/x-bzip-compressed-tar",".text":"text/plain",".tif":"image/tiff",".tiff":"image/tiff",".torrent":"application/x-bittorrent",".ttf":"application/x-font-ttf",".txt":"text/plain",".wav":"audio/wav",".webm":"video/webm",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".xls":"application/vnd.ms-excel",".xml":"application/xml",".yaml":"text/yaml",".yml":"text/yaml",".zip":"application/zip"}},{}],243:[function(v,M){"use strict";function h(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(I,S){return I<<S|I>>>32-S}function p(I,S,R,F,q,K,he,Ae){return 0|g(0|I+(S^R^F)+K+he,Ae)+q}function x(I,S,R,F,q,K,he,Ae){return 0|g(0|I+(S&R|~S&F)+K+he,Ae)+q}function r(I,S,R,F,q,K,he,Ae){return 0|g(0|I+((S|~R)^F)+K+he,Ae)+q}function c(I,S,R,F,q,K,he,Ae){return 0|g(0|I+(S&F|R&~F)+K+he,Ae)+q}function f(I,S,R,F,q,K,he,Ae){return 0|g(0|I+(S^(R|~F))+K+he,Ae)+q}var n=v("buffer").Buffer,t=v("inherits"),i=v("hash-base"),s=Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],o=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],w=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];t(h,i),h.prototype._update=function(){for(var I=s,S=0;16>S;++S)I[S]=this._block.readInt32LE(4*S);for(var R=0|this._a,F=0|this._b,q=0|this._c,K=0|this._d,he=0|this._e,Ae=0|this._a,xe=0|this._b,A=0|this._c,N=0|this._d,U=0|this._e,y=0;80>y;y+=1){var C,L;16>y?(C=p(R,F,q,K,he,I[u[y]],w[0],l[y]),L=f(Ae,xe,A,N,U,I[o[y]],b[0],d[y])):32>y?(C=x(R,F,q,K,he,I[u[y]],w[1],l[y]),L=c(Ae,xe,A,N,U,I[o[y]],b[1],d[y])):48>y?(C=r(R,F,q,K,he,I[u[y]],w[2],l[y]),L=r(Ae,xe,A,N,U,I[o[y]],b[2],d[y])):64>y?(C=c(R,F,q,K,he,I[u[y]],w[3],l[y]),L=x(Ae,xe,A,N,U,I[o[y]],b[3],d[y])):(C=f(R,F,q,K,he,I[u[y]],w[4],l[y]),L=p(Ae,xe,A,N,U,I[o[y]],b[4],d[y])),R=he,he=K,K=g(q,10),q=F,F=C,Ae=U,U=N,N=g(A,10),A=xe,xe=L}var O=0|this._b+q+N;this._b=0|this._c+K+U,this._c=0|this._d+he+Ae,this._d=0|this._e+R+xe,this._e=0|this._a+F+A,this._a=O},h.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var I=n.alloc?n.alloc(20):new n(20);return I.writeInt32LE(this._a,0),I.writeInt32LE(this._b,4),I.writeInt32LE(this._c,8),I.writeInt32LE(this._d,12),I.writeInt32LE(this._e,16),I},M.exports=h},{buffer:69,"hash-base":142,inherits:159}],244:[function(v,M){M.exports=function(g,p,x){function r(l){function d(){x&&x(l,n),x=null}f?h(d):d()}function c(l,d,w){if(n[l]=w,d&&(u=!0),0==--i||d)r(d);else if(!u&&o<t){let b;s?(b=s[o],o+=1,g[b](function(I,S){c(b,I,S)})):(b=o,o+=1,g[b](function(I,S){c(b,I,S)}))}}if("number"!=typeof p)throw new Error("second argument must be a Number");let n,t,i,s,u,o,f=!0;Array.isArray(g)?(n=[],i=t=g.length):(s=Object.keys(g),n={},i=t=s.length),o=p,i?s?s.some(function(l,d){return g[l](function(w,b){c(l,w,b)}),d===p-1}):g.some(function(l,d){return l(function(w,b){c(d,w,b)}),d===p-1}):r(null),f=!1};const h=v("queue-microtask")},{"queue-microtask":218}],245:[function(v,M){M.exports=function(g,p){function x(i){function s(){p&&p(i,f),p=null}c?h(s):s()}function r(i,s,u){f[i]=u,(0==--n||s)&&x(s)}let f,n,t,c=!0;Array.isArray(g)?(f=[],n=g.length):(t=Object.keys(g),f={},n=t.length),n?t?t.forEach(function(i){g[i](function(s,u){r(i,s,u)})}):g.forEach(function(i,s){i(function(u,o){r(s,u,o)})}):x(null),c=!1};const h=v("queue-microtask")},{"queue-microtask":218}],246:[function(v,M,h){var g,p;g="undefined"==typeof self?this:self,p=function(){return function(g){function p(r){if(x[r])return x[r].exports;var c=x[r]={i:r,l:!1,exports:{}};return g[r].call(c.exports,c,c.exports,p),c.l=!0,c.exports}var x={};return p.m=g,p.c=x,p.d=function(r,c,f){p.o(r,c)||Object.defineProperty(r,c,{configurable:!1,enumerable:!0,get:f})},p.n=function(r){var c=r&&r.__esModule?function(){return r.default}:function(){return r};return p.d(c,"a",c),c},p.o=function(r,c){return Object.prototype.hasOwnProperty.call(r,c)},p.p="",p(p.s=3)}([function(g,p,x){var c=x(5),f=x(1),n=f.toHex,t=f.ceilHeapSize,i=x(6),s=function(w){for(w+=9;0<w%64;w+=1);return w},l=function(w,b){var I=new Int32Array(w,b+320,5),S=new Int32Array(5),R=new DataView(S.buffer);return R.setInt32(0,I[0],!1),R.setInt32(4,I[1],!1),R.setInt32(8,I[2],!1),R.setInt32(12,I[3],!1),R.setInt32(16,I[4],!1),S},d=function(){function w(b){if(function r(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}(this,w),0<(b=b||65536)%64)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=b,this._padMaxChunkLen=s(b),this._heap=new ArrayBuffer(t(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new c({Int32Array},{},this._heap)}return w.prototype._initState=function(b,I){this._offset=0;var S=new Int32Array(b,I+320,5);S[0]=1732584193,S[1]=-271733879,S[2]=-1732584194,S[3]=271733878,S[4]=-1009589776},w.prototype._padChunk=function(b,I){var S=s(b),R=new Int32Array(this._heap,0,S>>2);return function(w,b){var I=new Uint8Array(w.buffer),S=b%4,R=b-S;switch(S){case 0:I[R+3]=0;case 1:I[R+2]=0;case 2:I[R+1]=0;case 3:I[R+0]=0}for(var F=1+(b>>2);F<w.length;F++)w[F]=0}(R,b),function(w,b,I){w[b>>2]|=128<<24-(b%4<<3),w[14+(-16&2+(b>>2))]=0|I/536870912,w[15+(-16&2+(b>>2))]=I<<3}(R,b,I),S},w.prototype._write=function(b,I,S,R){i(b,this._h8,this._h32,I,S,R||0)},w.prototype._coreCall=function(b,I,S,R,F){var q=S;this._write(b,I,S),F&&(q=this._padChunk(S,R)),this._core.hash(q,this._padMaxChunkLen)},w.prototype.rawDigest=function(b){var I=b.byteLength||b.length||b.size||0;this._initState(this._heap,this._padMaxChunkLen);var S=0,R=this._maxChunkLen;for(S=0;I>S+R;S+=R)this._coreCall(b,S,R,I,!1);return this._coreCall(b,S,I-S,I,!0),l(this._heap,this._padMaxChunkLen)},w.prototype.digest=function(b){return n(this.rawDigest(b).buffer)},w.prototype.digestFromString=function(b){return this.digest(b)},w.prototype.digestFromBuffer=function(b){return this.digest(b)},w.prototype.digestFromArrayBuffer=function(b){return this.digest(b)},w.prototype.resetState=function(){return this._initState(this._heap,this._padMaxChunkLen),this},w.prototype.append=function(b){var I=0,S=b.byteLength||b.length||b.size||0,R=this._offset%this._maxChunkLen,F=void 0;for(this._offset+=S;I<S;)F=re(S-I,this._maxChunkLen-R),this._write(b,I,F,R),I+=F,(R+=F)===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),R=0);return this},w.prototype.getState=function(){var I=void 0;if(this._offset%this._maxChunkLen)I=this._heap.slice(0);else{var S=new Int32Array(this._heap,this._padMaxChunkLen+320,5);I=S.buffer.slice(S.byteOffset,S.byteOffset+S.byteLength)}return{offset:this._offset,heap:I}},w.prototype.setState=function(b){return this._offset=b.offset,20===b.heap.byteLength?new Int32Array(this._heap,this._padMaxChunkLen+320,5).set(new Int32Array(b.heap)):this._h32.set(new Int32Array(b.heap)),this},w.prototype.rawEnd=function(){var b=this._offset,S=this._padChunk(b%this._maxChunkLen,b);this._core.hash(S,this._padMaxChunkLen);var R=l(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),R},w.prototype.end=function(){return n(this.rawEnd().buffer)},w}();g.exports=d,g.exports._core=c},function(g){for(var p=Array(256),x=0;256>x;x++)p[x]=(16>x?"0":"")+x.toString(16);g.exports.toHex=function(r){for(var c=new Uint8Array(r),f=Array(r.byteLength),n=0;n<f.length;n++)f[n]=p[c[n]];return f.join("")},g.exports.ceilHeapSize=function(r){var c=0;if(65536>=r)return 65536;if(16777216>r)for(c=1;c<r;c<<=1);else for(c=16777216;c<r;c+=16777216);return c},g.exports.isDedicatedWorkerScope=function(r){return"WorkerGlobalScope"in r&&r instanceof r.WorkerGlobalScope&&!("SharedWorkerGlobalScope"in r&&r instanceof r.SharedWorkerGlobalScope)&&!("ServiceWorkerGlobalScope"in r&&r instanceof r.ServiceWorkerGlobalScope)}},function(g,p,x){g.exports=function(){var r=x(0),f=function(t,i,s,u,o){var l=new self.FileReader;l.onloadend=function(){if(l.error)return o(l.error);var d=l.result;i+=l.result.byteLength;try{t.append(d)}catch(w){return void o(w)}i<u.size?f(t,i,s,u,o):o(null,t.end())},l.readAsArrayBuffer(u.slice(i,i+s))},n=!0;return self.onmessage=function(t){if(n){var i=t.data.data,s=t.data.file,u=t.data.id;if(void 0!==u&&(s||i)){var o=t.data.blockSize||4194304,l=new r(o);l.resetState();var d=function(w,b){w?self.postMessage({id:u,error:w.name}):self.postMessage({id:u,hash:b})};i&&function(t,i,s){try{s(null,t.digest(i))}catch(u){return s(u)}}(l,i,d),s&&f(l,0,o,s,d)}}},function(){n=!1}}},function(g,p,x){var r=x(4),c=x(0),f=x(7),n=x(2),t=x(1),s="undefined"!=typeof self&&(0,t.isDedicatedWorkerScope)(self);c.disableWorkerBehaviour=s?n():function(){},c.createWorker=function(){var u=r(2),o=u.terminate;return u.terminate=function(){URL.revokeObjectURL(u.objectURL),o.call(u)},u},c.createHash=f,g.exports=c},function(g,p,x){function r(i){function s(l){if(u[l])return u[l].exports;var d=u[l]={i:l,l:!1,exports:{}};return i[l].call(d.exports,d,d.exports,s),d.l=!0,d.exports}var u={};s.m=i,s.c=u,s.i=function(l){return l},s.d=function(l,d,w){s.o(l,d)||Object.defineProperty(l,d,{configurable:!1,enumerable:!0,get:w})},s.r=function(l){Object.defineProperty(l,"__esModule",{value:!0})},s.n=function(l){var d=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(d,"a",d),d},s.o=function(l,d){return Object.prototype.hasOwnProperty.call(l,d)},s.p="/",s.oe=function(l){throw console.error(l),l};var o=s(s.s=ENTRY_MODULE);return o.default||o}function c(i){return(i+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function f(i,s,u){var o={};o[u]=[];var l=s.toString(),d=l.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!d)return o;for(var I,w=d[1],b=new RegExp("(\\\\n|\\W)"+c(w)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");I=b.exec(l);)"dll-reference"!==I[3]&&o[u].push(I[3]);for(b=new RegExp("\\("+c(w)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");I=b.exec(l);)i[I[2]]||(o[u].push(I[1]),i[I[2]]=x(I[1]).m),o[I[2]]=o[I[2]]||[],o[I[2]].push(I[4]);return o}function n(i){return Object.keys(i).reduce(function(u,o){return u||0<i[o].length},!1)}g.exports=function(i,s){var u={main:x.m},o=(s=s||{}).all?{main:Object.keys(u)}:function t(i,s){for(var u={main:[s]},o={main:[]},l={main:{}};n(u);)for(var d=Object.keys(u),w=0;w<d.length;w++){var b=d[w],S=u[b].pop();if(l[b]=l[b]||{},!l[b][S]&&i[b][S]){l[b][S]=!0,o[b]=o[b]||[],o[b].push(S);for(var R=f(i,i[b][S],b),F=Object.keys(R),q=0;q<F.length;q++)u[F[q]]=u[F[q]]||[],u[F[q]]=u[F[q]].concat(R[F[q]])}}return o}(u,i),l="";Object.keys(o).filter(function(S){return"main"!==S}).forEach(function(S){for(var R=0;o[S][R];)R++;o[S].push(R),u[S][R]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+S+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(R))+")({"+o[S].map(function(F){return JSON.stringify(F)+": "+u[S][F].toString()}).join(",")+"});\n"}),l=l+"("+r.toString().replace("ENTRY_MODULE",JSON.stringify(i))+")({"+o.main.map(function(S){return JSON.stringify(S)+": "+u.main[S].toString()}).join(",")+"})(self);";var d=new window.Blob([l],{type:"text/javascript"});if(s.bare)return d;var b=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(d),I=new window.Worker(b);return I.objectURL=b,I}},function(g){g.exports=function(p,x,r){var c=new p.Int32Array(r);return{hash:function(f,n){f|=0;var t=0,i=0,s=0,u=0,o=0,l=0,d=0,w=0,b=0,I=0,S=0,R=0,F=0,q=0;for(s=0|c[320+(n|=0)>>2],o=0|c[n+324>>2],d=0|c[n+328>>2],b=0|c[n+332>>2],S=0|c[n+336>>2],t=0;(0|t)<(0|f);t=0|t+64){for(u=s,l=o,w=d,I=b,R=S,i=0;64>(0|i);i=0|i+4)F=0|(0|(s<<5|s>>>27)+(o&d|~o&b))+(0|1518500249+(0|(q=0|c[t+i>>2])+S)),S=b,b=d,d=o<<30|o>>>2,o=s,s=F,c[f+i>>2]=q;for(i=0|f+64;(0|i)<(0|f+80);i=0|i+4)F=0|(0|(s<<5|s>>>27)+(o&d|~o&b))+(0|1518500249+(0|(q=(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])<<1|(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])>>>31)+S)),S=b,b=d,d=o<<30|o>>>2,o=s,s=F,c[i>>2]=q;for(i=0|f+80;(0|i)<(0|f+160);i=0|i+4)F=0|(0|(s<<5|s>>>27)+(o^d^b))+(0|1859775393+(0|(q=(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])<<1|(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])>>>31)+S)),S=b,b=d,d=o<<30|o>>>2,o=s,s=F,c[i>>2]=q;for(i=0|f+160;(0|i)<(0|f+240);i=0|i+4)F=0|(0|(s<<5|s>>>27)+(o&d|o&b|d&b))+(0|(0|(q=(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])<<1|(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])>>>31)+S)-1894007588),S=b,b=d,d=o<<30|o>>>2,o=s,s=F,c[i>>2]=q;for(i=0|f+240;(0|i)<(0|f+320);i=0|i+4)F=0|(0|(s<<5|s>>>27)+(o^d^b))+(0|(0|(q=(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])<<1|(c[i-12>>2]^c[i-32>>2]^c[i-56>>2]^c[i-64>>2])>>>31)+S)-899497514),S=b,b=d,d=o<<30|o>>>2,o=s,s=F,c[i>>2]=q;s=0|s+u,o=0|o+l,d=0|d+w,b=0|b+I,S=0|S+R}c[n+320>>2]=s,c[n+324>>2]=o,c[n+328>>2]=d,c[n+332>>2]=b,c[n+336>>2]=S}}}},function(g){var p=this,x=void 0;"undefined"!=typeof self&&void 0!==self.FileReaderSync&&(x=new self.FileReaderSync);var c=function(n,t,i,s,u,o){var b,l=o%4,d=(u+l)%4,w=u-d;switch(l){case 0:t[o]=n[s+3];case 1:t[0|o+1-(l<<1)]=n[s+2];case 2:t[0|o+2-(l<<1)]=n[s+1];case 3:t[0|o+3-(l<<1)]=n[s]}if(!(u<d+(4-l))){for(b=4-l;b<w;b=0|b+4)i[0|o+b>>2]=n[s+b]<<24|n[s+b+1]<<16|n[s+b+2]<<8|n[s+b+3];switch(d){case 3:t[0|o+w+1]=n[s+w+2];case 2:t[0|o+w+2]=n[s+w+1];case 1:t[0|o+w+3]=n[s+w]}}};g.exports=function(n,t,i,s,u,o){if("string"==typeof n)return function(n,t,i,s,u,o){var b,l=o%4,d=(u+l)%4,w=u-d;switch(l){case 0:t[o]=n.charCodeAt(s+3);case 1:t[0|o+1-(l<<1)]=n.charCodeAt(s+2);case 2:t[0|o+2-(l<<1)]=n.charCodeAt(s+1);case 3:t[0|o+3-(l<<1)]=n.charCodeAt(s)}if(!(u<d+(4-l))){for(b=4-l;b<w;b=0|b+4)i[o+b>>2]=n.charCodeAt(s+b)<<24|n.charCodeAt(s+b+1)<<16|n.charCodeAt(s+b+2)<<8|n.charCodeAt(s+b+3);switch(d){case 3:t[0|o+w+1]=n.charCodeAt(s+w+2);case 2:t[0|o+w+2]=n.charCodeAt(s+w+1);case 1:t[0|o+w+3]=n.charCodeAt(s+w)}}}(n,t,i,s,u,o);if(n instanceof Array||p&&p.Buffer&&p.Buffer.isBuffer(n))return c(n,t,i,s,u,o);if(n instanceof ArrayBuffer)return c(new Uint8Array(n),t,i,s,u,o);if(n.buffer instanceof ArrayBuffer)return c(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),t,i,s,u,o);if(n instanceof Blob)return function(n,t,i,s,u,o){var l=void 0,d=o%4,w=(u+d)%4,b=u-w,I=new Uint8Array(x.readAsArrayBuffer(n.slice(s,s+u)));switch(d){case 0:t[o]=I[3];case 1:t[0|o+1-(d<<1)]=I[2];case 2:t[0|o+2-(d<<1)]=I[1];case 3:t[0|o+3-(d<<1)]=I[0]}if(!(u<w+(4-d))){for(l=4-d;l<b;l=0|l+4)i[0|o+l>>2]=I[l]<<24|I[l+1]<<16|I[l+2]<<8|I[l+3];switch(w){case 3:t[0|o+b+1]=I[b+2];case 2:t[0|o+b+2]=I[b+1];case 1:t[0|o+b+3]=I[b]}}}(n,t,i,s,u,o);throw new Error("Unsupported data type.")}},function(g,p,x){var c=function(){function s(u,o){for(var d,l=0;l<o.length;l++)(d=o[l]).enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}return function(u,o,l){return o&&s(u.prototype,o),l&&s(u,l),u}}(),f=x(0),t=x(1).toHex,i=function(){function s(){(function r(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")})(this,s),this._rusha=new f,this._rusha.resetState()}return s.prototype.update=function(u){return this._rusha.append(u),this},s.prototype.digest=function(o){var l=this._rusha.rawEnd().buffer;if(!o)return l;if("hex"===o)return t(l);throw new Error("unsupported digest encoding")},c(s,[{key:"state",get:function(){return this._rusha.getState()},set:function(u){this._rusha.setState(u)}}]),s}();g.exports=function(){return new i}}])},"object"==typeof h&&"object"==typeof M?M.exports=p():"object"==typeof h?h.Rusha=p():g.Rusha=p()},{}],247:[function(v,M,h){function g(c,f){for(var n in c)f[n]=c[n]}function p(c,f,n){return r(c,f,n)}var x=v("buffer"),r=x.Buffer;r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?M.exports=x:(g(x,h),h.Buffer=p),p.prototype=Object.create(r.prototype),g(r,p),p.from=function(c,f,n){if("number"==typeof c)throw new TypeError("Argument must not be a number");return r(c,f,n)},p.alloc=function(c,f,n){if("number"!=typeof c)throw new TypeError("Argument must be a number");var t=r(c);return void 0===f?t.fill(0):"string"==typeof n?t.fill(f,n):t.fill(f),t},p.allocUnsafe=function(c){if("number"!=typeof c)throw new TypeError("Argument must be a number");return r(c)},p.allocUnsafeSlow=function(c){if("number"!=typeof c)throw new TypeError("Argument must be a number");return x.SlowBuffer(c)}},{buffer:69}],248:[function(v,M){(function(h){(function(){"use strict";var r,g=v("buffer"),p=g.Buffer,x={};for(r in g)g.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(x[r]=g[r]);var c=x.Buffer={};for(r in p)p.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(c[r]=p[r]);if(x.Buffer.prototype=p.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(f,n,t){if("number"==typeof f)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&void 0===f.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return p(f,n,t)}),c.alloc||(c.alloc=function(f,n,t){if("number"!=typeof f)throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(0>f||2147483648<=f)throw new RangeError('The value "'+f+'" is invalid for option "size"');var i=p(f);return n&&0!==n.length?"string"==typeof t?i.fill(n,t):i.fill(n):i.fill(0),i}),!x.kStringMaxLength)try{x.kStringMaxLength=h.binding("buffer").kStringMaxLength}catch(f){}x.constants||(x.constants={MAX_LENGTH:x.kMaxLength},x.kStringMaxLength&&(x.constants.MAX_STRING_LENGTH=x.kStringMaxLength)),M.exports=x}).call(this)}).call(this,v("_process"))},{_process:205,buffer:69}],249:[function(v,M){function h(p,x){this._block=g.alloc(p),this._finalSize=x,this._blockSize=p,this._len=0}var g=v("safe-buffer").Buffer;h.prototype.update=function(p,x){"string"==typeof p&&(p=g.from(p,x=x||"utf8"));for(var r=this._block,c=this._blockSize,f=p.length,n=this._len,t=0;t<f;){for(var i=n%c,s=re(f-t,c-i),u=0;u<s;u++)r[i+u]=p[t+u];t+=s,(n+=s)%c==0&&this._update(r)}return this._len+=f,this},h.prototype.digest=function(p){var x=this._len%this._blockSize;this._block[x]=128,this._block.fill(0,x+1),x>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(4294967295>=r)this._block.writeUInt32BE(r,this._blockSize-4);else{var c=(4294967295&r)>>>0;this._block.writeUInt32BE((r-c)/4294967296,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var f=this._hash();return p?f.toString(p):f},h.prototype._update=function(){throw new Error("_update must be implemented by subclass")},M.exports=h},{"safe-buffer":247}],250:[function(v,M,g){(g=M.exports=function(p){p=p.toLowerCase();var x=g[p];if(!x)throw new Error(p+" is not supported (we accept pull requests)");return new x}).sha=v("./sha"),g.sha1=v("./sha1"),g.sha224=v("./sha224"),g.sha256=v("./sha256"),g.sha384=v("./sha384"),g.sha512=v("./sha512")},{"./sha":251,"./sha1":252,"./sha224":253,"./sha256":254,"./sha384":255,"./sha512":256}],251:[function(v,M){function h(){this.init(),this._w=t,c.call(this,64,56)}function g(i){return i<<5|i>>>27}function p(i){return i<<30|i>>>2}function x(i,s,u,o){return 0===i?s&u|~s&o:2===i?s&u|s&o|u&o:s^u^o}var r=v("inherits"),c=v("./hash"),f=v("safe-buffer").Buffer,n=[1518500249,1859775393,-1894007588,-899497514],t=Array(80);r(h,c),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(i){for(var s=this._w,u=0|this._a,o=0|this._b,l=0|this._c,d=0|this._d,w=0|this._e,b=0;16>b;++b)s[b]=i.readInt32BE(4*b);for(;80>b;++b)s[b]=s[b-3]^s[b-8]^s[b-14]^s[b-16];for(var I=0;80>I;++I){var S=~~(I/20),R=0|g(u)+x(S,o,l,d)+w+s[I]+n[S];w=d,d=l,l=p(o),o=u,u=R}this._a=0|u+this._a,this._b=0|o+this._b,this._c=0|l+this._c,this._d=0|d+this._d,this._e=0|w+this._e},h.prototype._hash=function(){var i=f.allocUnsafe(20);return i.writeInt32BE(0|this._a,0),i.writeInt32BE(0|this._b,4),i.writeInt32BE(0|this._c,8),i.writeInt32BE(0|this._d,12),i.writeInt32BE(0|this._e,16),i},M.exports=h},{"./hash":249,inherits:159,"safe-buffer":247}],252:[function(v,M){function h(){this.init(),this._w=i,f.call(this,64,56)}function g(s){return s<<1|s>>>31}function p(s){return s<<5|s>>>27}function x(s){return s<<30|s>>>2}function r(s,u,o,l){return 0===s?u&o|~u&l:2===s?u&o|u&l|o&l:u^o^l}var c=v("inherits"),f=v("./hash"),n=v("safe-buffer").Buffer,t=[1518500249,1859775393,-1894007588,-899497514],i=Array(80);c(h,f),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},h.prototype._update=function(s){for(var u=this._w,o=0|this._a,l=0|this._b,d=0|this._c,w=0|this._d,b=0|this._e,I=0;16>I;++I)u[I]=s.readInt32BE(4*I);for(;80>I;++I)u[I]=g(u[I-3]^u[I-8]^u[I-14]^u[I-16]);for(var S=0;80>S;++S){var R=~~(S/20),F=0|p(o)+r(R,l,d,w)+b+u[S]+t[R];b=w,w=d,d=x(l),l=o,o=F}this._a=0|o+this._a,this._b=0|l+this._b,this._c=0|d+this._c,this._d=0|w+this._d,this._e=0|b+this._e},h.prototype._hash=function(){var s=n.allocUnsafe(20);return s.writeInt32BE(0|this._a,0),s.writeInt32BE(0|this._b,4),s.writeInt32BE(0|this._c,8),s.writeInt32BE(0|this._d,12),s.writeInt32BE(0|this._e,16),s},M.exports=h},{"./hash":249,inherits:159,"safe-buffer":247}],253:[function(v,M){function h(){this.init(),this._w=c,x.call(this,64,56)}var g=v("inherits"),p=v("./sha256"),x=v("./hash"),r=v("safe-buffer").Buffer,c=Array(64);g(h,p),h.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},h.prototype._hash=function(){var f=r.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},M.exports=h},{"./hash":249,"./sha256":254,inherits:159,"safe-buffer":247}],254:[function(v,M){function h(){this.init(),this._w=u,t.call(this,64,56)}function g(o,l,d){return d^o&(l^d)}function p(o,l,d){return o&l|d&(o|l)}function x(o){return(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10)}function r(o){return(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7)}function c(o){return(o>>>7|o<<25)^(o>>>18|o<<14)^o>>>3}function f(o){return(o>>>17|o<<15)^(o>>>19|o<<13)^o>>>10}var n=v("inherits"),t=v("./hash"),i=v("safe-buffer").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=Array(64);n(h,t),h.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},h.prototype._update=function(o){for(var l=this._w,d=0|this._a,w=0|this._b,b=0|this._c,I=0|this._d,S=0|this._e,R=0|this._f,F=0|this._g,q=0|this._h,K=0;16>K;++K)l[K]=o.readInt32BE(4*K);for(;64>K;++K)l[K]=0|f(l[K-2])+l[K-7]+c(l[K-15])+l[K-16];for(var he=0;64>he;++he){var Ae=0|q+r(S)+g(S,R,F)+s[he]+l[he],xe=0|x(d)+p(d,w,b);q=F,F=R,R=S,S=0|I+Ae,I=b,b=w,w=d,d=0|Ae+xe}this._a=0|d+this._a,this._b=0|w+this._b,this._c=0|b+this._c,this._d=0|I+this._d,this._e=0|S+this._e,this._f=0|R+this._f,this._g=0|F+this._g,this._h=0|q+this._h},h.prototype._hash=function(){var o=i.allocUnsafe(32);return o.writeInt32BE(this._a,0),o.writeInt32BE(this._b,4),o.writeInt32BE(this._c,8),o.writeInt32BE(this._d,12),o.writeInt32BE(this._e,16),o.writeInt32BE(this._f,20),o.writeInt32BE(this._g,24),o.writeInt32BE(this._h,28),o},M.exports=h},{"./hash":249,inherits:159,"safe-buffer":247}],255:[function(v,M){function h(){this.init(),this._w=c,x.call(this,128,112)}var g=v("inherits"),p=v("./sha512"),x=v("./hash"),r=v("safe-buffer").Buffer,c=Array(160);g(h,p),h.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},h.prototype._hash=function(){function f(t,i,s){n.writeInt32BE(t,s),n.writeInt32BE(i,s+4)}var n=r.allocUnsafe(48);return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),n},M.exports=h},{"./hash":249,"./sha512":256,inherits:159,"safe-buffer":247}],256:[function(v,M){function h(){this.init(),this._w=d,u.call(this,128,112)}function g(w,b,I){return I^w&(b^I)}function p(w,b,I){return w&b|I&(w|b)}function x(w,b){return(w>>>28|b<<4)^(b>>>2|w<<30)^(b>>>7|w<<25)}function r(w,b){return(w>>>14|b<<18)^(w>>>18|b<<14)^(b>>>9|w<<23)}function c(w,b){return(w>>>1|b<<31)^(w>>>8|b<<24)^w>>>7}function f(w,b){return(w>>>1|b<<31)^(w>>>8|b<<24)^(w>>>7|b<<25)}function n(w,b){return(w>>>19|b<<13)^(b>>>29|w<<3)^w>>>6}function t(w,b){return(w>>>19|b<<13)^(b>>>29|w<<3)^(w>>>6|b<<26)}function i(w,b){return w>>>0<b>>>0?1:0}var s=v("inherits"),u=v("./hash"),o=v("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],d=Array(160);s(h,u),h.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},h.prototype._update=function(w){for(var b=this._w,I=0|this._ah,S=0|this._bh,R=0|this._ch,F=0|this._dh,q=0|this._eh,K=0|this._fh,he=0|this._gh,Ae=0|this._hh,xe=0|this._al,A=0|this._bl,N=0|this._cl,U=0|this._dl,y=0|this._el,C=0|this._fl,L=0|this._gl,O=0|this._hl,oe=0;32>oe;oe+=2)b[oe]=w.readInt32BE(4*oe),b[oe+1]=w.readInt32BE(4*oe+4);for(;160>oe;oe+=2){var $=b[oe-30],ue=b[oe-30+1],qe=c($,ue),Ze=f(ue,$),Ve=n($=b[oe-4],ue=b[oe-4+1]),tt=t(ue,$),Wt=b[oe-32],Jt=b[oe-32+1],Ye=0|Ze+b[oe-14+1],st=0|qe+b[oe-14]+i(Ye,Ze);st=0|(st=0|st+Ve+i(Ye=0|Ye+tt,tt))+Wt+i(Ye=0|Ye+Jt,Jt),b[oe]=st,b[oe+1]=Ye}for(var ft=0;160>ft;ft+=2){st=b[ft],Ye=b[ft+1];var Y=p(I,S,R),de=p(xe,A,N),X=x(I,xe),ae=x(xe,I),Je=r(q,y),ce=r(y,q),Ee=l[ft],$e=l[ft+1],nt=g(q,K,he),ct=g(y,C,L),Ut=0|O+ce,Ht=0|Ae+Je+i(Ut,O);Ht=0|(Ht=0|(Ht=0|Ht+nt+i(Ut=0|Ut+ct,ct))+Ee+i(Ut=0|Ut+$e,$e))+st+i(Ut=0|Ut+Ye,Ye);var Dt=0|ae+de,Xt=0|X+Y+i(Dt,ae);Ae=he,O=L,he=K,L=C,K=q,C=y,q=0|F+Ht+i(y=0|U+Ut,U),F=R,U=N,R=S,N=A,S=I,A=xe,I=0|Ht+Xt+i(xe=0|Ut+Dt,Ut)}this._al=0|this._al+xe,this._bl=0|this._bl+A,this._cl=0|this._cl+N,this._dl=0|this._dl+U,this._el=0|this._el+y,this._fl=0|this._fl+C,this._gl=0|this._gl+L,this._hl=0|this._hl+O,this._ah=0|this._ah+I+i(this._al,xe),this._bh=0|this._bh+S+i(this._bl,A),this._ch=0|this._ch+R+i(this._cl,N),this._dh=0|this._dh+F+i(this._dl,U),this._eh=0|this._eh+q+i(this._el,y),this._fh=0|this._fh+K+i(this._fl,C),this._gh=0|this._gh+he+i(this._gl,L),this._hh=0|this._hh+Ae+i(this._hl,O)},h.prototype._hash=function(){function w(I,S,R){b.writeInt32BE(I,R),b.writeInt32BE(S,R+4)}var b=o.allocUnsafe(64);return w(this._ah,this._al,0),w(this._bh,this._bl,8),w(this._ch,this._cl,16),w(this._dh,this._dl,24),w(this._eh,this._el,32),w(this._fh,this._fl,40),w(this._gh,this._gl,48),w(this._hh,this._hl,56),b},M.exports=h},{"./hash":249,inherits:159,"safe-buffer":247}],257:[function(v,M){(function(h){(function(){M.exports=function(g,p){var x=[];g.on("data",function(r){x.push(r)}),g.once("end",function(){p&&p(null,h.concat(x)),p=null}),g.once("error",function(r){p&&p(r),p=null})}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],258:[function(v,M){(function(h){(function(){function g(s,u){if(s=Object.assign({maxRedirects:10},"string"==typeof s?{url:s}:s),u=f(u),s.url){const{hostname:b,port:I,protocol:S,auth:R,path:F}=t.parse(s.url);delete s.url,b||I||S||R?Object.assign(s,{hostname:b,port:I,protocol:S,auth:R,path:F}):s.path=F}const o={"accept-encoding":"gzip, deflate"};let l;s.headers&&Object.keys(s.headers).forEach(b=>o[b.toLowerCase()]=s.headers[b]),s.headers=o,s.body?l=s.json&&!i(s.body)?JSON.stringify(s.body):s.body:s.form&&(l="string"==typeof s.form?s.form:n.stringify(s.form),s.headers["content-type"]="application/x-www-form-urlencoded"),l&&(!s.method&&(s.method="POST"),!i(l)&&(s.headers["content-length"]=h.byteLength(l)),s.json&&!s.form&&(s.headers["content-type"]="application/json")),delete s.body,delete s.form,s.json&&(s.headers.accept="application/json"),s.method&&(s.method=s.method.toUpperCase());const w=("https:"===s.protocol?c:r).request(s,b=>{if(!1!==s.followRedirects&&300<=b.statusCode&&400>b.statusCode&&b.headers.location)return s.url=b.headers.location,delete s.headers.host,b.resume(),"POST"===s.method&&[301,302].includes(b.statusCode)&&(s.method="GET",delete s.headers["content-length"],delete s.headers["content-type"]),0==s.maxRedirects--?u(new Error("too many redirects")):g(s,u);u(null,"function"==typeof x&&"HEAD"!==s.method?x(b):b)});return w.on("timeout",()=>{w.abort(),u(new Error("Request timed out"))}),w.on("error",u),i(l)?l.on("error",u).pipe(w):w.end(l),w}M.exports=g;const p=v("simple-concat"),x=v("decompress-response"),r=v("http"),c=v("https"),f=v("once"),n=v("querystring"),t=v("url"),i=s=>null!==s&&"object"==typeof s&&"function"==typeof s.pipe;g.concat=(s,u)=>g(s,(o,l)=>o?u(o):void p(l,(d,w)=>{if(d)return u(d);if(s.json)try{w=JSON.parse(w.toString())}catch(b){return u(b,l,w)}u(null,l,w)})),["get","post","put","patch","head","delete"].forEach(s=>{g[s]=(u,o)=>("string"==typeof u&&(u={url:u}),g(Object.assign({method:s.toUpperCase()},u),o))})}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,"decompress-response":41,http:268,https:156,once:191,querystring:217,"simple-concat":257,url:285}],259:[function(v,M){function h(u){return u.replace(/a=ice-options:trickle\s\n/g,"")}const p=v("debug")("simple-peer"),x=v("get-browser-rtc"),r=v("randombytes"),c=v("readable-stream"),f=v("queue-microtask"),n=v("err-code"),{Buffer:t}=v("buffer"),i=65536;class s extends c.Duplex{constructor(o){if(super(o=Object.assign({allowHalfOpen:!1},o)),this._id=r(4).toString("hex").slice(0,7),this._debug("new peer %o",o),this.channelName=o.initiator?o.channelName||r(20).toString("hex"):null,this.initiator=o.initiator||!1,this.channelConfig=o.channelConfig||s.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},s.config,o.config),this.offerOptions=o.offerOptions||{},this.answerOptions=o.answerOptions||{},this.sdpTransform=o.sdpTransform||(l=>l),this.streams=o.streams||(o.stream?[o.stream]:[]),this.trickle=void 0===o.trickle||o.trickle,this.allowHalfTrickle=void 0!==o.allowHalfTrickle&&o.allowHalfTrickle,this.iceCompleteTimeout=o.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=o.wrtc&&"object"==typeof o.wrtc?o.wrtc:x(),!this._wrtc)throw n("undefined"==typeof window?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(l){return void this.destroy(n(l,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=l=>{this._onIceCandidate(l)},"object"==typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch(l=>{this.destroy(n(l,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=l=>{this._setupData(l)},this.streams&&this.streams.forEach(l=>{this.addStream(l)}),this._pc.ontrack=l=>{this._onTrack(l)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(o){if(!this.destroying){if(this.destroyed)throw n(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof o)try{o=JSON.parse(o)}catch(l){o={}}this._debug("signal()"),o.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),o.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(o.transceiverRequest.kind,o.transceiverRequest.init)),o.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(o.candidate):this._pendingCandidates.push(o.candidate)),o.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(o)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(l=>{this._addIceCandidate(l)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(l=>{this.destroy(n(l,"ERR_SET_REMOTE_DESCRIPTION"))}),o.sdp||o.candidate||o.renegotiate||o.transceiverRequest||this.destroy(n(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(o){const l=new this._wrtc.RTCIceCandidate(o);this._pc.addIceCandidate(l).catch(d=>{!l.address||l.address.endsWith(".local")?function g(u){console.warn(u)}("Ignoring unsupported ICE candidate."):this.destroy(n(d,"ERR_ADD_ICE_CANDIDATE"))})}send(o){if(!this.destroying){if(this.destroyed)throw n(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(o)}}addTransceiver(o,l){if(!this.destroying){if(this.destroyed)throw n(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(o,l),this._needsNegotiation()}catch(d){this.destroy(n(d,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:o,init:l}})}}addStream(o){if(!this.destroying){if(this.destroyed)throw n(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),o.getTracks().forEach(l=>{this.addTrack(l,o)})}}addTrack(o,l){if(this.destroying)return;if(this.destroyed)throw n(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const d=this._senderMap.get(o)||new Map;let w=d.get(l);if(w)throw w.removed?n(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):n(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");w=this._pc.addTrack(o,l),d.set(l,w),this._senderMap.set(o,d),this._needsNegotiation()}replaceTrack(o,l,d){if(this.destroying)return;if(this.destroyed)throw n(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const w=this._senderMap.get(o),b=w?w.get(d):null;if(!b)throw n(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");l&&this._senderMap.set(l,w),null==b.replaceTrack?this.destroy(n(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):b.replaceTrack(l)}removeTrack(o,l){if(this.destroying)return;if(this.destroyed)throw n(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const d=this._senderMap.get(o),w=d?d.get(l):null;if(!w)throw n(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{w.removed=!0,this._pc.removeTrack(w)}catch(b){"NS_ERROR_UNEXPECTED"===b.name?this._sendersAwaitingStable.push(w):this.destroy(n(b,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(o){if(!this.destroying){if(this.destroyed)throw n(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),o.getTracks().forEach(l=>{this.removeTrack(l,o)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,f(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw n(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(o){this._destroy(o,()=>{})}_destroy(o,l){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",o&&(o.message||o)),f(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",o&&(o.message||o)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(d){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(d){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,o&&this.emit("error",o),this.emit("close"),l()}))}_setupData(o){if(!o.channel)return this.destroy(n(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=o.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=i),this.channelName=this._channel.label,this._channel.onmessage=d=>{this._onChannelMessage(d)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=d=>{const w=d.error instanceof Error?d.error:new Error(`Datachannel error: ${d.message} ${d.filename}:${d.lineno}:${d.colno}`);this.destroy(n(w,"ERR_DATA_CHANNEL"))};let l=!1;this._closingInterval=setInterval(()=>{this._channel&&"closing"===this._channel.readyState?(l&&this._onChannelClose(),l=!0):l=!1},5e3)}_read(){}_write(o,l,d){if(this.destroyed)return d(n(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(o)}catch(w){return this.destroy(n(w,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>i?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=d):d(null)}else this._debug("write before connect"),this._chunk=o,this._cb=d}_onFinish(){if(!this.destroyed){const o=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?o():this.once("connect",o)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(o=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(o.sdp=h(o.sdp)),o.sdp=this.sdpTransform(o.sdp);const l=()=>{if(!this.destroyed){const d=this._pc.localDescription||o;this._debug("signal"),this.emit("signal",{type:d.type,sdp:d.sdp})}};this._pc.setLocalDescription(o).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?l():this.once("_iceComplete",l))}).catch(d=>{this.destroy(n(d,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(o=>{this.destroy(n(o,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(o=>{o.mid||!o.sender.track||o.requested||(o.requested=!0,this.addTransceiver(o.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(o=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(o.sdp=h(o.sdp)),o.sdp=this.sdpTransform(o.sdp);const l=()=>{if(!this.destroyed){const d=this._pc.localDescription||o;this._debug("signal"),this.emit("signal",{type:d.type,sdp:d.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(o).then(()=>{this.destroyed||(this.trickle||this._iceComplete?l():this.once("_iceComplete",l))}).catch(d=>{this.destroy(n(d,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(o=>{this.destroy(n(o,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(n(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const o=this._pc.iceConnectionState,l=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",o,l),this.emit("iceStateChange",o,l),("connected"===o||"completed"===o)&&(this._pcReady=!0,this._maybeReady()),"failed"===o&&this.destroy(n(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===o&&this.destroy(n(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(o){const l=d=>("[object Array]"===Object.prototype.toString.call(d.values)&&d.values.forEach(w=>{Object.assign(d,w)}),d);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(d=>{const w=[];d.forEach(b=>{w.push(l(b))}),o(null,w)},d=>o(d)):0<this._pc.getStats.length?this._pc.getStats(d=>{if(this.destroyed)return;const w=[];d.result().forEach(b=>{const I={};b.names().forEach(S=>{I[S]=b.stat(S)}),I.id=b.id,I.type=b.type,I.timestamp=b.timestamp,w.push(l(I))}),o(null,w)},d=>o(d)):o(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const o=()=>{this.destroyed||this.getStats((l,d)=>{if(this.destroyed)return;l&&(d=[]);const w={},b={},I={};let S=!1;d.forEach(F=>{("remotecandidate"===F.type||"remote-candidate"===F.type)&&(w[F.id]=F),("localcandidate"===F.type||"local-candidate"===F.type)&&(b[F.id]=F),("candidatepair"===F.type||"candidate-pair"===F.type)&&(I[F.id]=F)});const R=F=>{S=!0;let q=b[F.localCandidateId];q&&(q.ip||q.address)?(this.localAddress=q.ip||q.address,this.localPort=+q.port):q&&q.ipAddress?(this.localAddress=q.ipAddress,this.localPort=+q.portNumber):"string"==typeof F.googLocalAddress&&(q=F.googLocalAddress.split(":"),this.localAddress=q[0],this.localPort=+q[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let K=w[F.remoteCandidateId];K&&(K.ip||K.address)?(this.remoteAddress=K.ip||K.address,this.remotePort=+K.port):K&&K.ipAddress?(this.remoteAddress=K.ipAddress,this.remotePort=+K.portNumber):"string"==typeof F.googRemoteAddress&&(K=F.googRemoteAddress.split(":"),this.remoteAddress=K[0],this.remotePort=+K[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(d.forEach(F=>{"transport"===F.type&&F.selectedCandidatePairId&&R(I[F.selectedCandidatePairId]),("googCandidatePair"===F.type&&"true"===F.googActiveConnection||("candidatepair"===F.type||"candidate-pair"===F.type)&&F.selected)&&R(F)}),S||Object.keys(I).length&&!Object.keys(b).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(q){return this.destroy(n(q,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const F=this._cb;this._cb=null,F(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(o,100)})};o()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>i)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(o=>{this._pc.removeTrack(o),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(o){this.destroyed||(o.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:o.candidate.candidate,sdpMLineIndex:o.candidate.sdpMLineIndex,sdpMid:o.candidate.sdpMid}}):!o.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),o.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(o){if(this.destroyed)return;let l=o.data;l instanceof ArrayBuffer&&(l=t.from(l)),this.push(l)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const o=this._cb;this._cb=null,o(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(o){this.destroyed||o.streams.forEach(l=>{this._debug("on track"),this.emit("track",o.track,l),this._remoteTracks.push({track:o.track,stream:l}),this._remoteStreams.some(d=>d.id===l.id)||(this._remoteStreams.push(l),f(()=>{this._debug("on stream"),this.emit("stream",l)}))})}_debug(){const o=[].slice.call(arguments);o[0]="["+this._id+"] "+o[0],p.apply(null,o)}}s.WEBRTC_SUPPORT=!!x(),s.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},s.channelConfig={},M.exports=s},{buffer:69,debug:105,"err-code":136,"get-browser-rtc":141,"queue-microtask":218,randombytes:221,"readable-stream":240}],260:[function(v,M){function h(s){return f.digest(s)}const r=v("rusha"),c=v("./rusha-worker-sha1"),f=new r,n="undefined"==typeof window?self:window,t=n.crypto||n.msCrypto||{};let i=t.subtle||t.webkitSubtle;try{i.digest({name:"sha-1"},new Uint8Array).catch(function(){i=!1})}catch(s){i=!1}M.exports=function g(s,u){return i?("string"==typeof s&&(s=function p(s){const u=s.length,o=new Uint8Array(u);for(let l=0;l<u;l++)o[l]=s.charCodeAt(l);return o}(s)),void i.digest({name:"sha-1"},s).then(function(o){u(function x(s){const u=s.length,o=[];for(let l=0;l<u;l++){const d=s[l];o.push((d>>>4).toString(16)),o.push((15&d).toString(16))}return o.join("")}(new Uint8Array(o)))},function(){u(h(s))})):void("undefined"==typeof window?queueMicrotask(()=>u(h(s))):c(s,function(o,l){return o?void u(h(s)):void u(l)}))},M.exports.sync=h},{"./rusha-worker-sha1":261,rusha:246}],261:[function(v,M){const p=v("rusha");let x,r,c;M.exports=function g(f,n){x||function h(){x=p.createWorker(),r=1,c={},x.onmessage=function(f){const n=f.data.id,t=c[n];delete c[n],null==f.data.error?t(null,f.data.hash):t(new Error("Rusha worker error: "+f.data.error))}}(),c[r]=n,x.postMessage({id:r,data:f}),r+=1}},{rusha:246}],262:[function(v,M){(function(h){(function(){const g=v("debug")("simple-websocket"),p=v("randombytes"),x=v("readable-stream"),r=v("queue-microtask"),c=v("ws"),f="function"==typeof c?c:WebSocket;class t extends x.Duplex{constructor(s={}){if("string"==typeof s&&(s={url:s}),super(s=Object.assign({allowHalfOpen:!1},s)),null==s.url&&null==s.socket)throw new Error("Missing required `url` or `socket` option");if(null!=s.url&&null!=s.socket)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=p(4).toString("hex").slice(0,7),this._debug("new websocket: %o",s),this.connected=!1,this.destroyed=!1,this._chunk=null,this._cb=null,this._interval=null,s.socket)this.url=s.socket.url,this._ws=s.socket,this.connected=s.socket.readyState===f.OPEN;else{this.url=s.url;try{this._ws="function"==typeof c?new f(s.url,null,{...s,encoding:void 0}):new f(s.url)}catch(u){return void r(()=>this.destroy(u))}}this._ws.binaryType="arraybuffer",s.socket&&this.connected?r(()=>this._handleOpen()):this._ws.onopen=()=>this._handleOpen(),this._ws.onmessage=u=>this._handleMessage(u),this._ws.onclose=()=>this._handleClose(),this._ws.onerror=u=>this._handleError(u),this._handleFinishBound=()=>this._handleFinish(),this.once("finish",this._handleFinishBound)}send(s){this._ws.send(s)}destroy(s){this._destroy(s,()=>{})}_destroy(s,u){if(!this.destroyed){if(this._debug("destroy (error: %s)",s&&(s.message||s)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.connected=!1,this.destroyed=!0,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._handleFinishBound&&this.removeListener("finish",this._handleFinishBound),this._handleFinishBound=null,this._ws){const o=this._ws,l=()=>{o.onclose=null};if(o.readyState===f.CLOSED)l();else try{o.onclose=l,o.close()}catch(d){l()}o.onopen=null,o.onmessage=null,o.onerror=()=>{}}this._ws=null,s&&this.emit("error",s),this.emit("close"),u()}}_read(){}_write(s,u,o){if(this.destroyed)return o(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(s)}catch(l){return this.destroy(l)}"function"!=typeof c&&this._ws.bufferedAmount>65536?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=o):o(null)}else this._debug("write before connect"),this._chunk=s,this._cb=o}_handleOpen(){if(!this.connected&&!this.destroyed){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(u){return this.destroy(u)}this._chunk=null,this._debug('sent chunk from "write before connect"');const s=this._cb;this._cb=null,s(null)}"function"!=typeof c&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_handleMessage(s){if(this.destroyed)return;let u=s.data;u instanceof ArrayBuffer&&(u=h.from(u)),this.push(u)}_handleClose(){this.destroyed||(this._debug("on close"),this.destroy())}_handleError(){this.destroy(new Error(`Error connecting to ${this.url}`))}_handleFinish(){if(!this.destroyed){const s=()=>{setTimeout(()=>this.destroy(),1e3)};this.connected?s():this.once("connect",s)}}_onInterval(){if(this._cb&&this._ws&&!(this._ws.bufferedAmount>65536)){this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);const s=this._cb;this._cb=null,s(null)}}_debug(){const s=[].slice.call(arguments);s[0]="["+this._id+"] "+s[0],g.apply(null,s)}}t.WEBSOCKET_SUPPORT=!!f,M.exports=t}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,debug:105,"queue-microtask":218,randombytes:221,"readable-stream":240,ws:41}],263:[function(v,M){const h=v("./lib/throttle"),g=v("./lib/throttle-group");M.exports={Throttle:h,ThrottleGroup:g}},{"./lib/throttle":265,"./lib/throttle-group":264}],264:[function(v,M){var h=Number.isInteger;const{TokenBucket:g}=v("limiter"),p=v("./throttle");M.exports=class{constructor(x={}){if("object"!=typeof x)throw new Error("Options must be an object");this.throttles=[],this.setEnabled(x.enabled),this.setRate(x.rate,x.chunksize)}getEnabled(){return this._enabled}getRate(){return this.bucket.tokensPerInterval}getChunksize(){return this.chunksize}setEnabled(x=!0){if("boolean"!=typeof x)throw new Error("Enabled must be a boolean");this._enabled=x;for(const r of this.throttles)r.setEnabled(x)}setRate(x,r=null){if(!h(x)||0>x)throw new Error("Rate must be an integer bigger than zero");if(x=parseInt(x),r&&("number"!=typeof r||0>=r))throw new Error("Chunksize must be bigger than zero");if(r=r||fe(parseInt(x/10),1),r=parseInt(r),0<x&&r>x)throw new Error("Chunk size must be smaller than rate");this.bucket||(this.bucket=new g(x,x,"second",null)),this.bucket.bucketSize=x,this.bucket.tokensPerInterval=x,this.chunksize=r}setChunksize(x){if(!h(x)||0>=x)throw new Error("Chunk size must be an integer bigger than zero");const r=this.getRate();if(x=parseInt(x),0<r&&x>r)throw new Error("Chunk size must be smaller than rate");this.chunksize=x}throttle(x={}){if("object"!=typeof x)throw new Error("Options must be an object");return new p({...x,group:this})}destroy(){for(const x of this.throttles)x.destroy();this.throttles=[]}_addThrottle(x){if(!(x instanceof p))throw new Error("Throttle must be an instance of Throttle");this.throttles.push(x)}_removeThrottle(x){const r=this.throttles.indexOf(x);-1<r&&this.throttles.splice(r,1)}}},{"./throttle":265,limiter:164}],265:[function(v,M){const{EventEmitter:h}=v("events"),{Transform:g}=v("streamx"),{wait:p}=v("./utils");M.exports=class extends g{constructor(r={}){if(super(),"object"!=typeof r)throw new Error("Options must be an object");const c=Object.assign({},r);if(c.group&&!(c.group instanceof x))throw new Error("Group must be an instanece of ThrottleGroup");c.group||(c.group=new x(c)),this._setEnabled(c.enabled||c.group.enabled),this._group=c.group,this._emitter=new h,this._destroyed=!1,this._group._addThrottle(this)}getEnabled(){return this._enabled}getGroup(){return this._group}_setEnabled(r=!0){if("boolean"!=typeof r)throw new Error("Enabled must be a boolean");this._enabled=r}setEnabled(r){this._setEnabled(r),this._emitter.emit(this._enabled?"enabled":"disabled")}_transform(r,c){this._processChunk(r,c)}async _waitForTokens(r){return new Promise((c,f)=>{function n(s){if(i._emitter.removeListener("disabled",n),i._emitter.removeListener("destroyed",n),!t)return t=!0,s?f(s):void c()}let t=!1;const i=this;this._emitter.once("disabled",n),this._emitter.once("destroyed",n),this._group.bucket.removeTokens(r,n)})}_areBothEnabled(){return this._enabled&&this._group.getEnabled()}async _processChunk(r,c){if(!this._areBothEnabled())return c(null,r);let f=0,n=this._group.getChunksize(),t=r.slice(f,f+n);for(;0<t.length;){if(this._areBothEnabled())try{for(;0===this._group.getRate()&&!this._destroyed&&this._areBothEnabled();)if(await p(1e3),this._destroyed)return;if(this._areBothEnabled()&&!this._group.bucket.tryRemoveTokens(t.length)&&(await this._waitForTokens(t.length),this._destroyed))return}catch(i){return c(i)}this.push(t),f+=n,n=this._areBothEnabled()?this._group.getChunksize():r.length-f,t=r.slice(f,f+n)}return c()}destroy(...r){this._group._removeThrottle(this),this._destroyed=!0,this._emitter.emit("destroyed"),super.destroy(...r)}};const x=v("./throttle-group")},{"./throttle-group":264,"./utils":266,events:70,streamx:275}],266:[function(v,M){M.exports={wait:function(h){return new Promise(g=>setTimeout(g,h))}}},{}],267:[function(v,M){var r,h=1,g=65535,x=function(){h=h+1&g};M.exports=function(c){r||(r=setInterval(x,250)).unref&&r.unref();var f=4*(c||5),n=[0],t=1,i=h-1&g;return function(s){var u=h-i&g;for(u>f&&(u=f),i=h;u--;)t===f&&(t=0),n[t]=n[0===t?f-1:t-1],t++;s&&(n[t-1]+=s);var o=n[t-1];return n.length<4?o:4*(o-(n.length<f?0:n[t===f?0:t]))/n.length}}},{}],268:[function(v,M,h){(function(g){(function(){var p=v("./lib/request"),x=v("./lib/response"),r=v("xtend"),c=v("builtin-status-codes"),f=v("url"),n=h;n.request=function(t,i){t="string"==typeof t?f.parse(t):r(t);var s=-1===g.location.protocol.search(/^https?:$/)?"http:":"",u=t.protocol||s,o=t.hostname||t.host,l=t.port,d=t.path||"/";o&&-1!==o.indexOf(":")&&(o="["+o+"]"),t.url=(o?u+"//"+o:"")+(l?":"+l:"")+d,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var w=new p(t);return i&&w.on("response",i),w},n.get=function(t,i){var s=n.request(t,i);return s.end(),s},n.ClientRequest=p,n.IncomingMessage=x.IncomingMessage,n.Agent=function(){},n.Agent.defaultMaxSockets=4,n.globalAgent=new n.Agent,n.STATUS_CODES=c,n.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"./lib/request":270,"./lib/response":271,"builtin-status-codes":91,url:285,xtend:292}],269:[function(v,M,h){(function(g){(function(){function p(){if(void 0!==c)return c;if(g.XMLHttpRequest){c=new g.XMLHttpRequest;try{c.open("GET",g.XDomainRequest?"/":"https://example.com")}catch(f){c=null}}else c=null;return c}function x(f){var n=p();if(!n)return!1;try{return n.responseType=f,n.responseType===f}catch(t){}return!1}function r(f){return"function"==typeof f}var c;h.fetch=r(g.fetch)&&r(g.ReadableStream),h.writableStream=r(g.WritableStream),h.abortController=r(g.AbortController),h.arraybuffer=h.fetch||x("arraybuffer"),h.msstream=!h.fetch&&x("ms-stream"),h.mozchunkedarraybuffer=!h.fetch&&x("moz-chunked-arraybuffer"),h.overrideMimeType=h.fetch||!!p()&&r(p().overrideMimeType),c=null}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],270:[function(v,M){(function(h,g,p){(function(){var c=v("./capability"),f=v("inherits"),n=v("./response"),t=v("readable-stream"),i=n.IncomingMessage,s=n.readyStates,u=M.exports=function(l){var d=this;t.Writable.call(d),d._opts=l,d._body=[],d._headers={},l.auth&&d.setHeader("Authorization","Basic "+p.from(l.auth).toString("base64")),Object.keys(l.headers).forEach(function(I){d.setHeader(I,l.headers[I])});var b,w=!0;if("disable-fetch"===l.mode||"requestTimeout"in l&&!c.abortController)w=!1,b=!0;else if("prefer-streaming"===l.mode)b=!1;else if("allow-wrong-content-type"===l.mode)b=!c.overrideMimeType;else{if(l.mode&&"default"!==l.mode&&"prefer-fast"!==l.mode)throw new Error("Invalid value for opts.mode");b=!0}d._mode=function x(l,d){return c.fetch&&d?"fetch":c.mozchunkedarraybuffer?"moz-chunked-arraybuffer":c.msstream?"ms-stream":c.arraybuffer&&l?"arraybuffer":"text"}(b,w),d._fetchTimer=null,d._socketTimeout=null,d._socketTimer=null,d.on("finish",function(){d._onFinish()})};f(u,t.Writable),u.prototype.setHeader=function(l,d){var b=l.toLowerCase();-1!==o.indexOf(b)||(this._headers[b]={name:l,value:d})},u.prototype.getHeader=function(l){var d=this._headers[l.toLowerCase()];return d?d.value:null},u.prototype.removeHeader=function(l){delete this._headers[l.toLowerCase()]},u.prototype._onFinish=function(){var l=this;if(!l._destroyed){var d=l._opts;"timeout"in d&&0!==d.timeout&&l.setTimeout(d.timeout);var w=l._headers,b=null;"GET"!==d.method&&"HEAD"!==d.method&&(b=new Blob(l._body,{type:(w["content-type"]||{}).value||""}));var I=[];if(Object.keys(w).forEach(function(q){var K=w[q].name,he=w[q].value;Array.isArray(he)?he.forEach(function(Ae){I.push([K,Ae])}):I.push([K,he])}),"fetch"===l._mode){var S=null;if(c.abortController){var R=new AbortController;S=R.signal,l._fetchAbortController=R,"requestTimeout"in d&&0!==d.requestTimeout&&(l._fetchTimer=g.setTimeout(function(){l.emit("requestTimeout"),l._fetchAbortController&&l._fetchAbortController.abort()},d.requestTimeout))}g.fetch(l._opts.url,{method:l._opts.method,headers:I,body:b||void 0,mode:"cors",credentials:d.withCredentials?"include":"same-origin",signal:S}).then(function(q){l._fetchResponse=q,l._resetTimers(!1),l._connect()},function(q){l._resetTimers(!0),l._destroyed||l.emit("error",q)})}else{var F=l._xhr=new g.XMLHttpRequest;try{F.open(l._opts.method,l._opts.url,!0)}catch(q){return void h.nextTick(function(){l.emit("error",q)})}"responseType"in F&&(F.responseType=l._mode),"withCredentials"in F&&(F.withCredentials=!!d.withCredentials),"text"===l._mode&&"overrideMimeType"in F&&F.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in d&&(F.timeout=d.requestTimeout,F.ontimeout=function(){l.emit("requestTimeout")}),I.forEach(function(q){F.setRequestHeader(q[0],q[1])}),l._response=null,F.onreadystatechange=function(){switch(F.readyState){case s.LOADING:case s.DONE:l._onXHRProgress()}},"moz-chunked-arraybuffer"===l._mode&&(F.onprogress=function(){l._onXHRProgress()}),F.onerror=function(){l._destroyed||(l._resetTimers(!0),l.emit("error",new Error("XHR error")))};try{F.send(b)}catch(q){return void h.nextTick(function(){l.emit("error",q)})}}}},u.prototype._onXHRProgress=function(){var l=this;l._resetTimers(!1),!function r(l){try{var d=l.status;return null!==d&&0!==d}catch(w){return!1}}(l._xhr)||l._destroyed||(!l._response&&l._connect(),l._response._onXHRProgress(l._resetTimers.bind(l)))},u.prototype._connect=function(){var l=this;l._destroyed||(l._response=new i(l._xhr,l._fetchResponse,l._mode,l._resetTimers.bind(l)),l._response.on("error",function(d){l.emit("error",d)}),l.emit("response",l._response))},u.prototype._write=function(l,d,w){this._body.push(l),w()},u.prototype._resetTimers=function(l){var d=this;g.clearTimeout(d._socketTimer),d._socketTimer=null,l?(g.clearTimeout(d._fetchTimer),d._fetchTimer=null):d._socketTimeout&&(d._socketTimer=g.setTimeout(function(){d.emit("timeout")},d._socketTimeout))},u.prototype.abort=u.prototype.destroy=function(l){var d=this;d._destroyed=!0,d._resetTimers(!0),d._response&&(d._response._destroyed=!0),d._xhr?d._xhr.abort():d._fetchAbortController&&d._fetchAbortController.abort(),l&&d.emit("error",l)},u.prototype.end=function(l,d,w){"function"==typeof l&&(w=l,l=void 0),t.Writable.prototype.end.call(this,l,d,w)},u.prototype.setTimeout=function(l,d){var w=this;d&&w.once("timeout",d),w._socketTimeout=l,w._resetTimers(!1)},u.prototype.flushHeaders=function(){},u.prototype.setNoDelay=function(){},u.prototype.setSocketKeepAlive=function(){};var o=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global,v("buffer").Buffer)},{"./capability":269,"./response":271,_process:205,buffer:69,inherits:159,"readable-stream":240}],271:[function(v,M,h){(function(g,p,x){(function(){var r=v("./capability"),c=v("inherits"),f=v("readable-stream"),n=h.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},t=h.IncomingMessage=function(i,s,u,o){var l=this;if(f.Readable.call(l),l._mode=u,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",function(){g.nextTick(function(){l.emit("close")})}),"fetch"===u){let F=function(){w.read().then(function(q){if(!l._destroyed)return o(q.done),q.done?void l.push(null):(l.push(x.from(q.value)),void F())}).catch(function(q){o(!0),l._destroyed||l.emit("error",q)})};if(l._fetchResponse=s,l.url=s.url,l.statusCode=s.status,l.statusMessage=s.statusText,s.headers.forEach(function(q,K){l.headers[K.toLowerCase()]=q,l.rawHeaders.push(K,q)}),r.writableStream){var d=new WritableStream({write:function(q){return o(!1),new Promise(function(K,he){l._destroyed?he():l.push(x.from(q))?K():l._resumeFetch=K})},close:function(){o(!0),l._destroyed||l.push(null)},abort:function(q){o(!0),l._destroyed||l.emit("error",q)}});try{return void s.body.pipeTo(d).catch(function(q){o(!0),l._destroyed||l.emit("error",q)})}catch(q){}}var w=s.body.getReader();F()}else if(l._xhr=i,l._pos=0,l.url=i.responseURL,l.statusCode=i.status,l.statusMessage=i.statusText,i.getAllResponseHeaders().split(/\r?\n/).forEach(function(F){var q=F.match(/^([^:]+):\s*(.*)/);if(q){var K=q[1].toLowerCase();"set-cookie"===K?(void 0===l.headers[K]&&(l.headers[K]=[]),l.headers[K].push(q[2])):void 0===l.headers[K]?l.headers[K]=q[2]:l.headers[K]+=", "+q[2],l.rawHeaders.push(q[1],q[2])}}),l._charset="x-user-defined",!r.overrideMimeType){var I=l.rawHeaders["mime-type"];if(I){var S=I.match(/;\s*charset=([^;])(;|$)/);S&&(l._charset=S[1].toLowerCase())}l._charset||(l._charset="utf-8")}};c(t,f.Readable),t.prototype._read=function(){var s=this._resumeFetch;s&&(this._resumeFetch=null,s())},t.prototype._onXHRProgress=function(i){var s=this,u=s._xhr,o=null;switch(s._mode){case"text":if((o=u.responseText).length>s._pos){var l=o.substr(s._pos);if("x-user-defined"===s._charset){for(var d=x.alloc(l.length),w=0;w<l.length;w++)d[w]=255&l.charCodeAt(w);s.push(d)}else s.push(l,s._charset);s._pos=o.length}break;case"arraybuffer":if(u.readyState!==n.DONE||!u.response)break;o=u.response,s.push(x.from(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=u.response,u.readyState!==n.LOADING||!o)break;s.push(x.from(new Uint8Array(o)));break;case"ms-stream":if(o=u.response,u.readyState!==n.LOADING)break;var b=new p.MSStreamReader;b.onprogress=function(){b.result.byteLength>s._pos&&(s.push(x.from(new Uint8Array(b.result.slice(s._pos)))),s._pos=b.result.byteLength)},b.onload=function(){i(!0),s.push(null)},b.readAsArrayBuffer(o)}s._xhr.readyState===n.DONE&&"ms-stream"!==s._mode&&(i(!0),s.push(null))}}).call(this)}).call(this,v("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global,v("buffer").Buffer)},{"./capability":269,_process:205,buffer:69,inherits:159,"readable-stream":240}],272:[function(v,M){M.exports=async function(g,p){const x=await h(g,p);return URL.createObjectURL(x)};const h=v("stream-to-blob")},{"stream-to-blob":273}],273:[function(v,M){M.exports=function(h,g){if(null!=g&&"string"!=typeof g)throw new Error("Invalid mimetype, expected string.");return new Promise((p,x)=>{const r=[];h.on("data",c=>r.push(c)).once("end",()=>{const c=null==g?new Blob(r):new Blob(r,{type:g});p(c)}).once("error",x)})}},{}],274:[function(v,M){(function(h){(function(){var g=v("once");M.exports=function(p,x,r){r=g(r);var c=h.alloc(x),f=0;p.on("data",function(n){n.copy(c,f),f+=n.length}).on("end",function(){r(null,c)}).on("error",r)}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,once:191}],275:[function(v,M){function h(){this.stream._duplexState|=oe,0==(this.stream._duplexState&Xn)&&this.updateNextTick()}function g($t){const Ne=this.stream;$t&&Ne.destroy($t),0==(Ne._duplexState&Xt)&&(Ne._duplexState|=X,Ne.emit("finish")),(Ne._duplexState&bn)===Dt&&(Ne._duplexState|=xe),Ne._duplexState&=Ee,this.update()}function p($t){const Ne=this.stream;$t||this.error===R||($t=this.error),$t&&Ne.emit("error",$t),Ne._duplexState|=A,Ne.emit("close");const Zt=Ne._readableState,sr=Ne._writableState;null!==Zt&&null!==Zt.pipeline&&Zt.pipeline.done(Ne,$t),null!==sr&&null!==sr.pipeline&&sr.pipeline.done(Ne,$t)}function x($t){const Ne=this.stream;$t&&Ne.destroy($t),Ne._duplexState&=Ee,(Ne._duplexState&Fn)===de&&(Ne._duplexState&=nt,(Ne._duplexState&ae)===ae&&Ne.emit("drain")),0==(Ne._duplexState&ft)&&this.update()}function r($t){$t&&this.stream.destroy($t),this.stream._duplexState&=zt,0==(this.stream._duplexState&C)&&this.update()}function c(){this.stream._duplexState&=Jt,this.update()}function f(){this.stream._duplexState&=ct,this.update()}function n($t){const Ne=this.stream;$t&&Ne.destroy($t),0==(Ne._duplexState&xe)&&(0==(Ne._duplexState&Bn)&&(Ne._duplexState|=y),0==(Ne._duplexState&zn)&&(Ne._duplexState|=st),Ne.emit("open")),Ne._duplexState&=Ht,null!==Ne._writableState&&Ne._writableState.update(),null!==Ne._readableState&&Ne._readableState.update()}function t($t,Ne){null!=Ne&&this.push(Ne),this._writableState.afterWrite($t)}function i($t,Ne){const Zt=this._transformState.afterFinal;return $t?Zt($t):(null!=Ne&&this.push(Ne),this.push(null),void Zt(null))}function s($t,...Ne){function Zt(er,Gn,Yn,et){er.on("error",et),er.on("close",function(){return Gn&&er._readableState&&!er._readableState.ended||Yn&&er._writableState&&!er._writableState.ended?et(F):void 0})}function sr(er){if(er&&!Kn){Kn=er;for(const Gn of _n)Gn.destroy(er)}}const _n=Array.isArray($t)?[...$t,...Ne]:[$t,...Ne],Vn=_n.length&&"function"==typeof _n[_n.length-1]?_n.pop():null;if(2>_n.length)throw new Error("Pipeline requires at least 2 streams");let wr=_n[0],jn=null,Kn=null;for(let er=1;er<_n.length;er++)jn=_n[er],o(wr)?wr.pipe(jn,sr):(Zt(wr,!0,1<er,sr),wr.pipe(jn)),wr=jn;if(Vn){let er=!1;jn.on("finish",()=>{er=!0}),jn.on("error",Gn=>{Kn=Kn||Gn}),jn.on("close",()=>Vn(Kn||(er?null:F)))}return jn}function u($t){return!!$t._readableState||!!$t._writableState}function o($t){return"number"==typeof $t._duplexState&&u($t)}function w($t){return function d($t){return"object"==typeof $t&&null!==$t&&"number"==typeof $t.byteLength}($t)?$t.byteLength:1024}function b(){}function I(){this.destroy(new Error("Stream aborted."))}const{EventEmitter:S}=v("events"),R=new Error("Stream was destroyed"),F=new Error("Premature close"),q=v("queue-tick"),K=v("fast-fifo"),he=33554431,xe=2,A=4,N=1^he,y=16,C=32,L=64,O=128,oe=256,$=512,Ve=8192,tt=16392,at=32768,zt=8^he,Wt=he^(O|oe),Jt=he^tt,Ye=65536,st=131072,ft=262144,Y=524288,de=1048576,X=2097152,ae=4194304,Je=8454144,ce=16777216,Ee=he^Ye,$e=he^st,nt=he^de,ct=he^Je,Ut=8|Ye,Ht=he^Ut,Dt=Ve|X,Xt=xe|A,Gt=1|Xt,bn=Xt|Dt,Nn=(Je|tt)&Ht,En=Ut|Nn,Cn=Gt|Nn,Bn=Gt|$|Ve,_t=Gt|Ve|L,Xn=8|C,zn=Gt|ce|X,Fn=Y|de|Gt|Ye,Zn=Gt|Ye|Y,vr=Symbol.asyncIterator||Symbol("asyncIterator");class nn{constructor(Ne,{highWaterMark:Zt=16384,map:sr=null,mapWritable:_n,byteLength:Vn,byteLengthWritable:wr}={}){this.stream=Ne,this.queue=new K,this.highWaterMark=Zt,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=wr||Vn||w,this.map=_n||sr,this.afterWrite=x.bind(this),this.afterUpdateNextTick=f.bind(this)}get ended(){return 0!=(this.stream._duplexState&X)}push(Ne){return null!==this.map&&(Ne=this.map(Ne)),this.buffered+=this.byteLength(Ne),this.queue.push(Ne),this.buffered<this.highWaterMark?(this.stream._duplexState|=Y,!0):(this.stream._duplexState|=Y|de,!1)}shift(){const Ne=this.queue.shift(),Zt=this.stream;return this.buffered-=this.byteLength(Ne),0===this.buffered&&(Zt._duplexState&=he^Y),Ne}end(Ne){"function"==typeof Ne?this.stream.once("finish",Ne):null!=Ne&&this.push(Ne),this.stream._duplexState=(this.stream._duplexState|ce)&$e}autoBatch(Ne,Zt){const sr=[],_n=this.stream;for(sr.push(Ne);(_n._duplexState&Zn)==(Y|Ye);)sr.push(_n._writableState.shift());return 0==(_n._duplexState&Gt)?void _n._writev(sr,Zt):Zt(null)}update(){const Ne=this.stream;for(;(Ne._duplexState&Zn)===Y;){const Zt=this.shift();Ne._duplexState|=Ye|ft,Ne._write(Zt,this.afterWrite),Ne._duplexState&=he^ft}0==(Ne._duplexState&(st|Ye))&&this.updateNonPrimary()}updateNonPrimary(){const Ne=this.stream;return(Ne._duplexState&(Gt|ce|Y))===ce?(Ne._duplexState=(Ne._duplexState|Ye)&(he^ce),void Ne._final(g.bind(this))):(Ne._duplexState&Xt)===xe?void(0==(Ne._duplexState&En)&&(Ne._duplexState|=Ut,Ne._destroy(p.bind(this)))):void(1==(Ne._duplexState&Cn)&&(Ne._duplexState=(Ne._duplexState|Ut)&N,Ne._open(n.bind(this))))}updateNextTick(){0!=(this.stream._duplexState&Je)||(this.stream._duplexState|=Je,q(this.afterUpdateNextTick))}}class mn{constructor(Ne,{highWaterMark:Zt=16384,map:sr=null,mapReadable:_n,byteLength:Vn,byteLengthReadable:wr}={}){this.stream=Ne,this.queue=new K,this.highWaterMark=Zt,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=wr||Vn||w,this.map=_n||sr,this.pipeTo=null,this.afterRead=r.bind(this),this.afterUpdateNextTick=c.bind(this)}get ended(){return 0!=(this.stream._duplexState&Ve)}pipe(Ne,Zt){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if(this.stream._duplexState|=oe,this.pipeTo=Ne,this.pipeline=new An(this.stream,Ne,Zt||null),Zt&&this.stream.on("error",b),o(Ne))Ne._writableState.pipeline=this.pipeline,Zt&&Ne.on("error",b),Ne.on("finish",this.pipeline.finished.bind(this.pipeline));else{const sr=this.pipeline.done.bind(this.pipeline,Ne),_n=this.pipeline.done.bind(this.pipeline,Ne,null);Ne.on("error",sr),Ne.on("close",_n),Ne.on("finish",this.pipeline.finished.bind(this.pipeline))}Ne.on("drain",h.bind(this)),this.stream.emit("piping",Ne),Ne.emit("pipe",this.stream)}push(Ne){const Zt=this.stream;return null===Ne?(this.highWaterMark=0,Zt._duplexState=(Zt._duplexState|$)&(he^(y|at)),!1):(null!==this.map&&(Ne=this.map(Ne)),this.buffered+=this.byteLength(Ne),this.queue.push(Ne),Zt._duplexState=(Zt._duplexState|L)&(he^at),this.buffered<this.highWaterMark)}shift(){const Ne=this.queue.shift();return this.buffered-=this.byteLength(Ne),0===this.buffered&&(this.stream._duplexState&=4160^he),Ne}unshift(Ne){let Zt;const sr=[];for(;void 0!==(Zt=this.queue.shift());)sr.push(Zt);this.push(Ne);for(let _n=0;_n<sr.length;_n++)this.queue.push(sr[_n])}read(){const Ne=this.stream;if((Ne._duplexState&_t)===L){const Zt=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(Zt)&&(Ne._duplexState&=Wt),0!=(1024&Ne._duplexState)&&Ne.emit("data",Zt),Zt}return null}drain(){for(const Ne=this.stream;(Ne._duplexState&_t)===L&&0!=(Ne._duplexState&(O|oe));){const Zt=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(Zt)&&(Ne._duplexState&=Wt),0!=(1024&Ne._duplexState)&&Ne.emit("data",Zt)}}update(){const Ne=this.stream;for(this.drain();this.buffered<this.highWaterMark&&0==(Ne._duplexState&(8|Gt|$|Ve|at));)Ne._duplexState|=8|C|at,Ne._read(this.afterRead),Ne._duplexState&=he^C,0==(8&Ne._duplexState)&&this.drain();2112==(Ne._duplexState&(2048|Gt|L|4096))&&(Ne._duplexState|=4096,Ne.emit("readable")),0==(Ne._duplexState&(8|y))&&this.updateNonPrimary()}updateNonPrimary(){const Ne=this.stream;return(Ne._duplexState&(Gt|$|L))===$&&(Ne._duplexState=(Ne._duplexState|Ve)&(he^$),Ne.emit("end"),(Ne._duplexState&bn)===Dt&&(Ne._duplexState|=xe),null!==this.pipeTo&&this.pipeTo.end()),(Ne._duplexState&Xt)===xe?void(0==(Ne._duplexState&En)&&(Ne._duplexState|=Ut,Ne._destroy(p.bind(this)))):void(1==(Ne._duplexState&Cn)&&(Ne._duplexState=(Ne._duplexState|Ut)&N,Ne._open(n.bind(this))))}updateNextTick(){0!=(this.stream._duplexState&tt)||(this.stream._duplexState|=tt,q(this.afterUpdateNextTick))}}class Hn{constructor(Ne){this.data=null,this.afterTransform=t.bind(Ne),this.afterFinal=null}}class An{constructor(Ne,Zt,sr){this.from=Ne,this.to=Zt,this.afterPipe=sr,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(Ne,Zt){return Zt&&(this.error=Zt),Ne===this.to&&(this.to=null,null!==this.from)?void(0!=(this.from._duplexState&Ve)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))):Ne===this.from&&(this.from=null,null!==this.to)?void(0==(Ne._duplexState&Ve)&&this.to.destroy(this.error||new Error("Readable stream closed before ending"))):(null!==this.afterPipe&&this.afterPipe(this.error),void(this.to=this.from=this.afterPipe=null))}}class tr extends S{constructor(Ne){super(),this._duplexState=0,this._readableState=null,this._writableState=null,Ne&&(Ne.open&&(this._open=Ne.open),Ne.destroy&&(this._destroy=Ne.destroy),Ne.predestroy&&(this._predestroy=Ne.predestroy),Ne.signal&&Ne.signal.addEventListener("abort",I.bind(this)))}_open(Ne){Ne(null)}_destroy(Ne){Ne(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(this._duplexState&A)}get destroying(){return 0!=(this._duplexState&Xt)}destroy(Ne){0==(this._duplexState&Xt)&&(!Ne&&(Ne=R),this._duplexState=$e&(he^y)&(this._duplexState|xe),null!==this._readableState&&(this._readableState.error=Ne,this._readableState.updateNextTick()),null!==this._writableState&&(this._writableState.error=Ne,this._writableState.updateNextTick()),this._predestroy())}on(Ne,Zt){return null!==this._readableState&&("data"===Ne&&(this._duplexState|=1152,this._readableState.updateNextTick()),"readable"===Ne&&(this._duplexState|=2048,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===Ne&&(this._duplexState|=ae,this._writableState.updateNextTick()),super.on(Ne,Zt)}}class Rr extends tr{constructor(Ne){super(Ne),this._duplexState|=1|X,this._readableState=new mn(this,Ne),Ne&&Ne.read&&(this._read=Ne.read)}_read(Ne){Ne(null)}pipe(Ne,Zt){return this._readableState.pipe(Ne,Zt),this._readableState.updateNextTick(),Ne}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(Ne){return this._readableState.updateNextTick(),this._readableState.push(Ne)}unshift(Ne){return this._readableState.updateNextTick(),this._readableState.unshift(Ne)}resume(){return this._duplexState|=O,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=he^O,this}static _fromAsyncIterator(Ne,Zt){function sr(wr){Vn.push(wr.done?null:wr.value)}let _n;const Vn=new Rr({...Zt,read(wr){Ne.next().then(sr).then(wr.bind(null,null)).catch(wr)},predestroy(){_n=Ne.return()},destroy(wr){_n.then(wr.bind(null,null)).catch(wr)}});return Vn}static from(Ne,Zt){if(function l($t){return o($t)&&$t.readable}(Ne))return Ne;if(Ne[vr])return this._fromAsyncIterator(Ne[vr](),Zt);Array.isArray(Ne)||(Ne=void 0===Ne?[]:[Ne]);let sr=0;return new Rr({...Zt,read(_n){this.push(sr===Ne.length?null:Ne[sr++]),_n(null)}})}static isBackpressured(Ne){return 0!=(Ne._duplexState&(Xt|$|Ve))||Ne._readableState.buffered>=Ne._readableState.highWaterMark}static isPaused(Ne){return 0==(Ne._duplexState&O)}[vr](){function sr(er){null===Kn||(wr?Kn(wr):null===er&&0==(Vn._duplexState&Ve)?Kn(R):jn({value:er,done:null==er}),Kn=jn=null)}function _n(er){return Vn.destroy(er),new Promise((Gn,Yn)=>Vn._duplexState&A?Gn({value:void 0,done:!0}):void Vn.once("close",function(){er?Yn(er):Gn({value:void 0,done:!0})}))}const Vn=this;let wr=null,jn=null,Kn=null;return this.on("error",er=>{wr=er}),this.on("readable",function Ne(){null!==jn&&sr(Vn.read())}),this.on("close",function Zt(){null!==jn&&sr(null)}),{[vr](){return this},next:()=>new Promise(function(er,Gn){jn=er,Kn=Gn;const Yn=Vn.read();null===Yn?0!=(Vn._duplexState&A)&&sr(null):sr(Yn)}),return:()=>_n(null),throw:er=>_n(er)}}}class ir extends Rr{constructor(Ne){super(Ne),this._duplexState=1,this._writableState=new nn(this,Ne),Ne&&(Ne.writev&&(this._writev=Ne.writev),Ne.write&&(this._write=Ne.write),Ne.final&&(this._final=Ne.final))}_writev(Ne,Zt){Zt(null)}_write(Ne,Zt){this._writableState.autoBatch(Ne,Zt)}_final(Ne){Ne(null)}write(Ne){return this._writableState.updateNextTick(),this._writableState.push(Ne)}end(Ne){return this._writableState.updateNextTick(),this._writableState.end(Ne),this}}class nr extends ir{constructor(Ne){super(Ne),this._transformState=new Hn(this),Ne&&(Ne.transform&&(this._transform=Ne.transform),Ne.flush&&(this._flush=Ne.flush))}_write(Ne){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=Ne:this._transform(Ne,this._transformState.afterTransform)}_read(Ne){if(null!==this._transformState.data){const Zt=this._transformState.data;this._transformState.data=null,Ne(null),this._transform(Zt,this._transformState.afterTransform)}else Ne(null)}_transform(Ne,Zt){Zt(null,Ne)}_flush(Ne){Ne(null)}_final(Ne){this._transformState.afterFinal=Ne,this._flush(i.bind(this))}}M.exports={pipeline:s,pipelinePromise:function(...$t){return new Promise((Ne,Zt)=>s(...$t,sr=>sr?Zt(sr):void Ne()))},isStream:u,isStreamx:o,Stream:tr,Writable:class extends tr{constructor($t){super($t),this._duplexState|=8193,this._writableState=new nn(this,$t),$t&&($t.writev&&(this._writev=$t.writev),$t.write&&(this._write=$t.write),$t.final&&(this._final=$t.final))}_writev($t,Ne){Ne(null)}_write($t,Ne){this._writableState.autoBatch($t,Ne)}_final($t){$t(null)}static isBackpressured($t){return 0!=($t._duplexState&(de|Xt|ce|X))}write($t){return this._writableState.updateNextTick(),this._writableState.push($t)}end($t){return this._writableState.updateNextTick(),this._writableState.end($t),this}},Readable:Rr,Duplex:ir,Transform:nr,PassThrough:class extends nr{}}},{events:70,"fast-fifo":139,"queue-tick":219}],276:[function(v,M,h){"use strict";function x(b){var I;switch(this.encoding=function p(b){var I=function g(b){if(!b)return"utf8";for(var I;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(I)return;b=(""+b).toLowerCase(),I=!0}}(b);if("string"!=typeof I&&(d.isEncoding===w||!w(b)))throw new Error("Unknown encoding: "+b);return I||b}(b),this.encoding){case"utf16le":this.text=t,this.end=i,I=4;break;case"utf8":this.fillLast=n,I=4;break;case"base64":this.text=s,this.end=u,I=3;break;default:return this.write=o,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=d.allocUnsafe(I)}function r(b){return 127>=b?0:b>>5==6?2:b>>4==14?3:b>>3==30?4:b>>6==2?-1:-2}function n(b){var I=this.lastTotal-this.lastNeed,S=function f(b,I){if(128!=(192&I[0]))return b.lastNeed=0,"\ufffd";if(1<b.lastNeed&&1<I.length){if(128!=(192&I[1]))return b.lastNeed=1,"\ufffd";if(2<b.lastNeed&&2<I.length&&128!=(192&I[2]))return b.lastNeed=2,"\ufffd"}}(this,b);return void 0===S?this.lastNeed<=b.length?(b.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(b.copy(this.lastChar,I,0,b.length),void(this.lastNeed-=b.length)):S}function t(b,I){if((b.length-I)%2==0){var S=b.toString("utf16le",I);if(S){var R=S.charCodeAt(S.length-1);if(55296<=R&&56319>=R)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",I,b.length-1)}function i(b){var I=b&&b.length?this.write(b):"";return this.lastNeed?I+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):I}function s(b,I){var S=(b.length-I)%3;return 0==S?b.toString("base64",I):(this.lastNeed=3-S,this.lastTotal=3,1==S?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",I,b.length-S))}function u(b){var I=b&&b.length?this.write(b):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function o(b){return b.toString(this.encoding)}function l(b){return b&&b.length?this.write(b):""}var d=v("safe-buffer").Buffer,w=d.isEncoding||function(b){switch((b=""+b)&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};h.StringDecoder=x,x.prototype.write=function(b){if(0===b.length)return"";var I,S;if(this.lastNeed){if(void 0===(I=this.fillLast(b)))return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<b.length?I?I+this.text(b,S):this.text(b,S):I||""},x.prototype.end=function(b){var I=b&&b.length?this.write(b):"";return this.lastNeed?I+"\ufffd":I},x.prototype.text=function(b,I){var S=function c(b,I,S){var R=I.length-1;if(R<S)return 0;var F=r(I[R]);return 0<=F?(0<F&&(b.lastNeed=F-1),F):--R<S||-2===F?0:0<=(F=r(I[R]))?(0<F&&(b.lastNeed=F-2),F):--R<S||-2===F?0:0<=(F=r(I[R]))?(0<F&&(2===F?F=0:b.lastNeed=F-3),F):0}(this,b,I);if(!this.lastNeed)return b.toString("utf8",I);this.lastTotal=S;var R=b.length-(S-this.lastNeed);return b.copy(this.lastChar,0,R),b.toString("utf8",I,R)},x.prototype.fillLast=function(b){return this.lastNeed<=b.length?(b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),void(this.lastNeed-=b.length))}},{"safe-buffer":247}],277:[function(v,M,h){var g=v("./thirty-two");h.encode=g.encode,h.decode=g.decode},{"./thirty-two":278}],278:[function(v,M,h){(function(g){(function(){"use strict";var x=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];h.encode=function(r){g.isBuffer(r)||(r=new g(r));for(var c=0,f=0,n=0,t=0,i=new g(8*function p(r){var c=mt(r.length/5);return r.length%5==0?c:c+1}(r));c<r.length;){var s=r[c];3<n?(t=(t=s&255>>n)<<(n=(n+5)%8)|(c+1<r.length?r[c+1]:0)>>8-n,c++):(t=31&s>>8-(n+5),0==(n=(n+5)%8)&&c++),i[f]="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".charCodeAt(t),f++}for(c=f;c<i.length;c++)i[c]=61;return i},h.decode=function(r){var t,c=0,f=0,n=0;g.isBuffer(r)||(r=new g(r));for(var i=new g(ge(5*r.length/8)),s=0;s<r.length&&61!==r[s];s++){var u=r[s]-48;if(!(u<x.length))throw new Error("Invalid input - it is not base32 encoded string");f=x[u],3>=c?0==(c=(c+5)%8)?(i[n]=t|=f,n++,t=0):t|=255&f<<8-c:(i[n]=t|=255&f>>>(c=(c+5)%8),n++,t=255&f<<8-c)}return i.slice(0,n)}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],279:[function(v,M){var h=v("buffer").Buffer;M.exports=function(g){if(g instanceof Uint8Array){if(0===g.byteOffset&&g.byteLength===g.buffer.byteLength)return g.buffer;if("function"==typeof g.buffer.slice)return g.buffer.slice(g.byteOffset,g.byteOffset+g.byteLength)}if(h.isBuffer(g)){for(var p=new Uint8Array(g.length),x=g.length,r=0;r<x;r++)p[r]=g[r];return p.buffer}throw new Error("Argument must be a Buffer")}},{buffer:69}],280:[function(v,M){(function(h){(function(){const g=v("debug")("torrent-discovery"),p=v("bittorrent-dht/client"),x=v("events").EventEmitter,r=v("run-parallel"),c=v("bittorrent-tracker/client"),f=v("bittorrent-lsd");M.exports=class extends x{constructor(n){if(super(),!n.peerId)throw new Error("Option `peerId` is required");if(!n.infoHash)throw new Error("Option `infoHash` is required");if(!h.browser&&!n.port)throw new Error("Option `port` is required");this.peerId="string"==typeof n.peerId?n.peerId:n.peerId.toString("hex"),this.infoHash="string"==typeof n.infoHash?n.infoHash.toLowerCase():n.infoHash.toString("hex"),this._port=n.port,this._userAgent=n.userAgent,this.destroyed=!1,this._announce=n.announce||[],this._intervalMs=n.intervalMs||9e5,this._trackerOpts=null,this._dhtAnnouncing=!1,this._dhtTimeout=!1,this._internalDHT=!1,this._onWarning=i=>{this.emit("warning",i)},this._onError=i=>{this.emit("error",i)},this._onDHTPeer=(i,s)=>{s.toString("hex")!==this.infoHash||this.emit("peer",`${i.host}:${i.port}`,"dht")},this._onTrackerPeer=i=>{this.emit("peer",i,"tracker")},this._onTrackerAnnounce=()=>{this.emit("trackerAnnounce")},this._onLSDPeer=i=>{this.emit("peer",i,"lsd")};const t=(i,s)=>{const u=new p(s);return u.on("warning",this._onWarning),u.on("error",this._onError),u.listen(i),this._internalDHT=!0,u};!1===n.tracker?this.tracker=null:n.tracker&&"object"==typeof n.tracker?(this._trackerOpts=Object.assign({},n.tracker),this.tracker=this._createTracker()):this.tracker=this._createTracker(),this.dht=!1===n.dht||"function"!=typeof p?null:n.dht&&"function"==typeof n.dht.addNode?n.dht:n.dht&&"object"==typeof n.dht?t(n.dhtPort,n.dht):t(n.dhtPort),this.dht&&(this.dht.on("peer",this._onDHTPeer),this._dhtAnnounce()),this.lsd=!1===n.lsd||"function"!=typeof f?null:this._createLSD()}updatePort(n){n===this._port||(this._port=n,this.dht&&this._dhtAnnounce(),this.tracker&&(this.tracker.stop(),this.tracker.destroy(()=>{this.tracker=this._createTracker()})))}complete(n){this.tracker&&this.tracker.complete(n)}destroy(n){if(!this.destroyed){this.destroyed=!0,clearTimeout(this._dhtTimeout);const t=[];this.tracker&&(this.tracker.stop(),this.tracker.removeListener("warning",this._onWarning),this.tracker.removeListener("error",this._onError),this.tracker.removeListener("peer",this._onTrackerPeer),this.tracker.removeListener("update",this._onTrackerAnnounce),t.push(i=>{this.tracker.destroy(i)})),this.dht&&this.dht.removeListener("peer",this._onDHTPeer),this._internalDHT&&(this.dht.removeListener("warning",this._onWarning),this.dht.removeListener("error",this._onError),t.push(i=>{this.dht.destroy(i)})),this.lsd&&(this.lsd.removeListener("warning",this._onWarning),this.lsd.removeListener("error",this._onError),this.lsd.removeListener("peer",this._onLSDPeer),t.push(i=>{this.lsd.destroy(i)})),r(t,n),this.dht=null,this.tracker=null,this.lsd=null,this._announce=null}}_createTracker(){const n=Object.assign({},this._trackerOpts,{infoHash:this.infoHash,announce:this._announce,peerId:this.peerId,port:this._port,userAgent:this._userAgent}),t=new c(n);return t.on("warning",this._onWarning),t.on("error",this._onError),t.on("peer",this._onTrackerPeer),t.on("update",this._onTrackerAnnounce),t.setInterval(this._intervalMs),t.start(),t}_dhtAnnounce(){this._dhtAnnouncing||(g("dht announce"),this._dhtAnnouncing=!0,clearTimeout(this._dhtTimeout),this.dht.announce(this.infoHash,this._port,n=>{this._dhtAnnouncing=!1,g("dht announce complete"),n&&this.emit("warning",n),this.emit("dhtAnnounce"),this.destroyed||(this._dhtTimeout=setTimeout(()=>{this._dhtAnnounce()},this._intervalMs+mt(Math.random()*this._intervalMs/5)),this._dhtTimeout.unref&&this._dhtTimeout.unref())}))}_createLSD(){const n=Object.assign({},{infoHash:this.infoHash,peerId:this.peerId,port:this._port}),t=new f(n);return t.on("warning",this._onWarning),t.on("error",this._onError),t.on("peer",this._onLSDPeer),t.start(),t}}}).call(this)}).call(this,v("_process"))},{_process:205,"bittorrent-dht/client":41,"bittorrent-lsd":41,"bittorrent-tracker/client":33,debug:105,events:70,"run-parallel":245}],281:[function(v,M){(function(h){(function(){class p{constructor(r){this.length=r,this.missing=r,this.sources=null,this._chunks=ge(r/16384),this._remainder=r%16384||16384,this._buffered=0,this._buffer=null,this._cancellations=null,this._reservations=0,this._flushed=!1}chunkLength(r){return r===this._chunks-1?this._remainder:16384}chunkLengthRemaining(r){return this.length-16384*r}chunkOffset(r){return 16384*r}reserve(){return this.init()?this._cancellations.length?this._cancellations.pop():this._reservations<this._chunks?this._reservations++:-1:-1}reserveRemaining(){if(!this.init())return-1;if(this._cancellations.length||this._reservations<this._chunks){let r=this._reservations;for(;this._cancellations.length;)r=re(r,this._cancellations.pop());return this._reservations=this._chunks,r}return-1}cancel(r){this.init()&&this._cancellations.push(r)}cancelRemaining(r){this.init()&&(this._reservations=r)}get(r){return this.init()?this._buffer[r]:null}set(r,c,f){if(!this.init())return!1;const t=ge(c.length/16384);for(let i=0;i<t;i++)if(!this._buffer[r+i]){const s=16384*i,u=c.slice(s,s+16384);this._buffered++,this._buffer[r+i]=u,this.missing-=u.length,this.sources.includes(f)||this.sources.push(f)}return this._buffered===this._chunks}flush(){if(!this._buffer||this._chunks!==this._buffered)return null;const r=h.concat(this._buffer,this.length);return this._buffer=null,this._cancellations=null,this.sources=null,this._flushed=!0,r}init(){return!(this._flushed||!this._buffer&&(this._buffer=Array(this._chunks),this._cancellations=[],this.sources=[],0))}}Object.defineProperty(p,"BLOCK_LENGTH",{value:16384}),M.exports=p}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69}],282:[function(v,M){(function(h){(function(){var g=v("is-typedarray").strict;M.exports=function(p){if(g(p)){var x=h.from(p.buffer);return p.byteLength!==p.buffer.byteLength&&(x=x.slice(p.byteOffset,p.byteOffset+p.byteLength)),x}return h.from(p)}}).call(this)}).call(this,v("buffer").Buffer)},{buffer:69,"is-typedarray":162}],283:[function(v,M,h){var g=v("buffer-alloc"),p=z(2,32);h.encodingLength=function(){return 8},h.encode=function(x,r,c){r||(r=g(8)),c||(c=0);var f=mt(x/p);return r.writeUInt32BE(f,c),r.writeUInt32BE(x-f*p,c+4),r},h.decode=function(x,r){r||(r=0);var c=x.readUInt32BE(r),f=x.readUInt32BE(r+4);return c*p+f},h.encode.bytes=8,h.decode.bytes=8},{"buffer-alloc":88}],284:[function(v,M){M.exports=function(h,g){if(!(g>=h.length||0>g)){var p=h.pop();if(g<h.length){var x=h[g];return h[g]=p,x}return p}}},{}],285:[function(v,M,h){"use strict";function g(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function p(d,w,b){if(d&&r.isObject(d)&&d instanceof g)return d;var I=new g;return I.parse(d,w,b),I}var x=v("punycode"),r=v("./util");h.parse=p,h.resolve=function(d,w){return p(d,!1,!0).resolve(w)},h.resolveObject=function(d,w){return d?p(d,!1,!0).resolveObject(w):w},h.format=function(d){return r.isString(d)&&(d=p(d)),d instanceof g?d.format():g.prototype.format.call(d)},h.Url=g;var c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(c),n=["%","/","?",";","#"].concat(f),t=["/","?","#"],i=/^[+a-z0-9A-Z_-]{0,63}$/,s={javascript:!0,"javascript:":!0},u={javascript:!0,"javascript:":!0},o={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},l=v("querystring");g.prototype.parse=function(d,w,b){if(!r.isString(d))throw new TypeError("Parameter 'url' must be a string, not "+typeof d);var I=d.indexOf("?"),S=-1!==I&&I<d.indexOf("#")?"?":"#",R=d.split(S);R[0]=R[0].replace(/\\/g,"/");var F=d=R.join(S);if(F=F.trim(),!b&&1===d.split("#").length){var q=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/.exec(F);if(q)return this.path=F,this.href=F,this.pathname=q[1],q[2]?(this.search=q[2],this.query=w?l.parse(this.search.substr(1)):this.search.substr(1)):w&&(this.search="",this.query={}),this}var Wt,K=/^([a-z0-9.+-]+:)/i.exec(F);if(K){var he=(K=K[0]).toLowerCase();this.protocol=he,F=F.substr(K.length)}if(b||K||F.match(/^\/\/[^@\/]+@[^@\/]+/)){var Ae="//"===F.substr(0,2);Ae&&(!K||!u[K])&&(F=F.substr(2),this.slashes=!0)}if(!u[K]&&(Ae||K&&!o[K])){for(var xe=-1,A=0;A<t.length;A++)-1!==(N=F.indexOf(t[A]))&&(-1===xe||N<xe)&&(xe=N);var U,y,N;for(-1!==(y=-1===xe?F.lastIndexOf("@"):F.lastIndexOf("@",xe))&&(U=F.slice(0,y),F=F.slice(y+1),this.auth=decodeURIComponent(U)),xe=-1,A=0;A<n.length;A++)-1!==(N=F.indexOf(n[A]))&&(-1===xe||N<xe)&&(xe=N);-1===xe&&(xe=F.length),this.host=F.slice(0,xe),F=F.slice(xe),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var oe,L=this.hostname.split(/\./),O=(A=0,L.length);A<O;A++)if((oe=L[A])&&!oe.match(i)){for(var $="",ue=0,qe=oe.length;ue<qe;ue++)$+=127<oe.charCodeAt(ue)?"x":oe[ue];if(!$.match(i)){var Ze=L.slice(0,A),Ve=L.slice(A+1),tt=oe.match(/^([+a-z0-9A-Z_-]{0,63})(.*)$/);tt&&(Ze.push(tt[1]),Ve.unshift(tt[2])),Ve.length&&(F="/"+Ve.join(".")+F),this.hostname=Ze.join(".");break}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase(),C||(this.hostname=x.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==F[0]&&(F="/"+F))}if(!s[he])for(A=0,O=f.length;A<O;A++)if(-1!==F.indexOf(Wt=f[A])){var Jt=encodeURIComponent(Wt);Jt===Wt&&(Jt=escape(Wt)),F=F.split(Wt).join(Jt)}var Ye=F.indexOf("#");-1!==Ye&&(this.hash=F.substr(Ye),F=F.slice(0,Ye));var st=F.indexOf("?");return-1===st?w&&(this.search="",this.query={}):(this.search=F.substr(st),this.query=F.substr(st+1),w&&(this.query=l.parse(this.query)),F=F.slice(0,st)),F&&(this.pathname=F),o[he]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},g.prototype.format=function(){var d=this.auth||"";d&&(d=(d=encodeURIComponent(d)).replace(/%3A/i,":"),d+="@");var w=this.protocol||"",b=this.pathname||"",I=this.hash||"",S=!1,R="";this.host?S=d+this.host:this.hostname&&(S=d+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(S+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(R=l.stringify(this.query));var F=this.search||R&&"?"+R||"";return w&&":"!==w.substr(-1)&&(w+=":"),this.slashes||(!w||o[w])&&!1!==S?(S="//"+(S||""),b&&"/"!==b.charAt(0)&&(b="/"+b)):!S&&(S=""),I&&"#"!==I.charAt(0)&&(I="#"+I),F&&"?"!==F.charAt(0)&&(F="?"+F),w+S+(b=b.replace(/[?#]/g,function(q){return encodeURIComponent(q)}))+(F=F.replace("#","%23"))+I},g.prototype.resolve=function(d){return this.resolveObject(p(d,!1,!0)).format()},g.prototype.resolveObject=function(d){if(r.isString(d)){var w=new g;w.parse(d,!1,!0),d=w}for(var R,b=new g,I=Object.keys(this),S=0;S<I.length;S++)b[R=I[S]]=this[R];if(b.hash=d.hash,""===d.href)return b.href=b.format(),b;if(d.slashes&&!d.protocol){for(var K,F=Object.keys(d),q=0;q<F.length;q++)"protocol"!==(K=F[q])&&(b[K]=d[K]);return o[b.protocol]&&b.hostname&&!b.pathname&&(b.path=b.pathname="/"),b.href=b.format(),b}if(d.protocol&&d.protocol!==b.protocol){if(!o[d.protocol]){for(var xe,he=Object.keys(d),Ae=0;Ae<he.length;Ae++)b[xe=he[Ae]]=d[xe];return b.href=b.format(),b}if(b.protocol=d.protocol,d.host||u[d.protocol])b.pathname=d.pathname;else{for(var oe=(d.pathname||"").split("/");oe.length&&!(d.host=oe.shift()););d.host||(d.host=""),d.hostname||(d.hostname=""),""!==oe[0]&&oe.unshift(""),2>oe.length&&oe.unshift(""),b.pathname=oe.join("/")}return b.search=d.search,b.query=d.query,b.host=d.host||"",b.auth=d.auth,b.hostname=d.hostname||d.host,b.port=d.port,(b.pathname||b.search)&&(b.path=(b.pathname||"")+(b.search||"")),b.slashes=b.slashes||d.slashes,b.href=b.format(),b}var U=b.pathname&&"/"===b.pathname.charAt(0),y=d.host||d.pathname&&"/"===d.pathname.charAt(0),C=y||U||b.host&&d.pathname,L=C,O=b.pathname&&b.pathname.split("/")||[],$=(oe=d.pathname&&d.pathname.split("/")||[],b.protocol&&!o[b.protocol]);if($&&(b.hostname="",b.port=null,b.host&&(""===O[0]?O[0]=b.host:O.unshift(b.host)),b.host="",d.protocol&&(d.hostname=null,d.port=null,d.host&&(""===oe[0]?oe[0]=d.host:oe.unshift(d.host)),d.host=null),C=C&&(""===oe[0]||""===O[0])),y)b.host=d.host||""===d.host?d.host:b.host,b.hostname=d.hostname||""===d.hostname?d.hostname:b.hostname,b.search=d.search,b.query=d.query,O=oe;else if(oe.length)O||(O=[]),O.pop(),O=O.concat(oe),b.search=d.search,b.query=d.query;else if(!r.isNullOrUndefined(d.search))return $&&(b.hostname=b.host=O.shift(),(ue=!!(b.host&&0<b.host.indexOf("@"))&&b.host.split("@"))&&(b.auth=ue.shift(),b.host=b.hostname=ue.shift())),b.search=d.search,b.query=d.query,r.isNull(b.pathname)&&r.isNull(b.search)||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.href=b.format(),b;if(!O.length)return b.pathname=null,b.path=b.search?"/"+b.search:null,b.href=b.format(),b;for(var qe=O.slice(-1)[0],Ze=(b.host||d.host||1<O.length)&&("."===qe||".."===qe)||""===qe,Ve=0,tt=O.length;0<=tt;tt--)"."===(qe=O[tt])?O.splice(tt,1):".."===qe?(O.splice(tt,1),Ve++):Ve&&(O.splice(tt,1),Ve--);if(!C&&!L)for(;Ve--;Ve)O.unshift("..");C&&""!==O[0]&&(!O[0]||"/"!==O[0].charAt(0))&&O.unshift(""),Ze&&"/"!==O.join("/").substr(-1)&&O.push("");var ue,at=""===O[0]||O[0]&&"/"===O[0].charAt(0);return $&&(b.hostname=b.host=at?"":O.length?O.shift():"",(ue=!!(b.host&&0<b.host.indexOf("@"))&&b.host.split("@"))&&(b.auth=ue.shift(),b.host=b.hostname=ue.shift())),(C=C||b.host&&O.length)&&!at&&O.unshift(""),O.length?b.pathname=O.join("/"):(b.pathname=null,b.path=null),r.isNull(b.pathname)&&r.isNull(b.search)||(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.auth=d.auth||b.auth,b.slashes=b.slashes||d.slashes,b.href=b.format(),b},g.prototype.parseHost=function(){var d=this.host,w=/:[0-9]*$/.exec(d);w&&(":"!==(w=w[0])&&(this.port=w.substr(1)),d=d.substr(0,d.length-w.length)),d&&(this.hostname=d)}},{"./util":286,punycode:214,querystring:217}],286:[function(v,M){"use strict";M.exports={isString:function(h){return"string"==typeof h},isObject:function(h){return"object"==typeof h&&null!==h},isNull:function(h){return null===h},isNullOrUndefined:function(h){return null==h}}},{}],287:[function(v,M){(function(h){(function(){const{EventEmitter:g}=v("events"),p=v("bencode"),x=v("bitfield").default,r=v("debug")("ut_metadata"),c=v("simple-sha1"),n=16384;M.exports=t=>{class i extends g{constructor(u){super(),this._wire=u,this._fetching=!1,this._metadataComplete=!1,this._metadataSize=null,this._remainingRejects=null,this._bitfield=new x(0,{grow:1e3}),h.isBuffer(t)&&this.setMetadata(t)}onHandshake(u){this._infoHash=u}onExtendedHandshake(u){return u.m&&u.m.ut_metadata?u.metadata_size?"number"!=typeof u.metadata_size||1e7<u.metadata_size||0>=u.metadata_size?this.emit("warning",new Error("Peer gave invalid metadata size")):(this._metadataSize=u.metadata_size,this._numPieces=ge(this._metadataSize/n),this._remainingRejects=2*this._numPieces,void this._requestPieces()):this.emit("warning",new Error("Peer does not have metadata")):this.emit("warning",new Error("Peer does not support ut_metadata"))}onMessage(u){let o,l;try{const d=u.toString(),w=d.indexOf("ee")+2;o=p.decode(d.substring(0,w)),l=u.slice(w)}catch(d){return}switch(o.msg_type){case 0:this._onRequest(o.piece);break;case 1:this._onData(o.piece,l,o.total_size);break;case 2:this._onReject(o.piece)}}fetch(){this._metadataComplete||(this._fetching=!0,this._metadataSize&&this._requestPieces())}cancel(){this._fetching=!1}setMetadata(u){if(this._metadataComplete)return!0;r("set metadata");try{const o=p.decode(u).info;o&&(u=p.encode(o))}catch(o){}return!(this._infoHash&&this._infoHash!==c.sync(u)||(this.cancel(),this.metadata=u,this._metadataComplete=!0,this._metadataSize=this.metadata.length,this._wire.extendedHandshake.metadata_size=this._metadataSize,this.emit("metadata",p.encode({info:p.decode(this.metadata)})),0))}_send(u,o){let l=p.encode(u);h.isBuffer(o)&&(l=h.concat([l,o])),this._wire.extended("ut_metadata",l)}_request(u){this._send({msg_type:0,piece:u})}_data(u,o,l){const d={msg_type:1,piece:u};"number"==typeof l&&(d.total_size=l),this._send(d,o)}_reject(u){this._send({msg_type:2,piece:u})}_onRequest(u){if(!this._metadataComplete)return void this._reject(u);const o=u*n;let l=o+n;l>this._metadataSize&&(l=this._metadataSize);const d=this.metadata.slice(o,l);this._data(u,d,this._metadataSize)}_onData(u,o){o.length>n||!this._fetching||(o.copy(this.metadata,u*n),this._bitfield.set(u),this._checkDone())}_onReject(u){0<this._remainingRejects&&this._fetching?(this._request(u),this._remainingRejects-=1):this.emit("warning",new Error('Peer sent "reject" too much'))}_requestPieces(){if(this._fetching){this.metadata=h.alloc(this._metadataSize);for(let u=0;u<this._numPieces;u++)this._request(u)}}_checkDone(){let u=!0;for(let o=0;o<this._numPieces;o++)if(!this._bitfield.get(o)){u=!1;break}u&&(this.setMetadata(this.metadata)||this._failedMetadata())}_failedMetadata(){this._bitfield=new x(0,{grow:1e3}),this._remainingRejects-=this._numPieces,0<this._remainingRejects?this._requestPieces():this.emit("warning",new Error("Peer sent invalid metadata"))}}return i.prototype.name="ut_metadata",i}}).call(this)}).call(this,v("buffer").Buffer)},{bencode:27,bitfield:31,buffer:69,debug:105,events:70,"simple-sha1":260}],288:[function(v,M){(function(h){(function(){function g(p){try{if(!h.localStorage)return!1}catch(r){return!1}var x=h.localStorage[p];return null!=x&&"true"===(x+"").toLowerCase()}M.exports=function(p,x){if(g("noDeprecation"))return p;var c=!1;return function r(){if(!c){if(g("throwDeprecation"))throw new Error(x);g("traceDeprecation")?console.trace(x):console.warn(x),c=!0}return p.apply(this,arguments)}}}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],289:[function(v,M){(function(h){(function(){const p=v("binary-search"),x=v("events"),r=v("mp4-stream"),c=v("mp4-box-encoding"),f=v("range-slice-stream");class n{constructor(i,s){this._entries=i,this._countName=s||"count",this._index=0,this._offset=0,this.value=this._entries[0]}inc(){this._offset++,this._offset>=this._entries[this._index][this._countName]&&(this._index++,this._offset=0),this.value=this._entries[this._index]}}M.exports=class extends x{constructor(t){super(),this._tracks=[],this._file=t,this._decoder=null,this._findMoov(0)}_findMoov(t){this._decoder&&this._decoder.destroy();let i=0;this._decoder=r.decode();const s=this._file.createReadStream({start:t});s.pipe(this._decoder);const u=o=>{"moov"===o.type?(this._decoder.removeListener("box",u),this._decoder.decode(l=>{s.destroy();try{this._processMoov(l)}catch(d){d.message=`Cannot parse mp4 file: ${d.message}`,this.emit("error",d)}})):o.length<4096?(i+=o.length,this._decoder.ignore()):(this._decoder.removeListener("box",u),i+=o.length,s.destroy(),this._decoder.destroy(),this._findMoov(t+i))};this._decoder.on("box",u)}_processMoov(t){const i=t.traks;this._tracks=[],this._hasVideo=!1,this._hasAudio=!1;for(let l=0;l<i.length;l++){const d=i[l],w=d.mdia.minf.stbl,b=w.stsd.entries[0],I=d.mdia.hdlr.handlerType;let S,R;if("vide"===I&&"avc1"===b.type){if(this._hasVideo)continue;this._hasVideo=!0,S="avc1",b.avcC&&(S+=`.${b.avcC.mimeCodec}`),R=`video/mp4; codecs="${S}"`}else{if("soun"!==I||"mp4a"!==b.type)continue;if(this._hasAudio)continue;this._hasAudio=!0,S="mp4a",b.esds&&b.esds.mimeCodec&&(S+=`.${b.esds.mimeCodec}`),R=`audio/mp4; codecs="${S}"`}const F=[];let q=0,K=0,he=0,Ae=0,xe=0,A=0;const N=new n(w.stts.entries);let U=null;w.ctts&&(U=new n(w.ctts.entries));for(let L=0;;){var s=w.stsc.entries[xe];const O=w.stsz.entries[q],oe=N.value.duration;let ue=!0;if(w.stss&&(ue=w.stss.entries[L]===q+1),F.push({size:O,duration:oe,dts:A,presentationOffset:U?U.value.compositionOffset:0,sync:ue,offset:Ae+(w.stco||w.co64).entries[he]}),q++,q>=w.stsz.entries.length)break;if(K++,Ae+=O,K>=s.samplesPerChunk){K=0,Ae=0,he++;const Ze=w.stsc.entries[xe+1];Ze&&he+1>=Ze.firstChunk&&xe++}A+=oe,N.inc(),U&&U.inc(),ue&&L++}d.mdia.mdhd.duration=0,d.tkhd.duration=0,this._tracks.push({fragmentSequence:1,trackId:d.tkhd.trackId,timeScale:d.mdia.mdhd.timeScale,samples:F,currSample:null,currTime:null,moov:{type:"moov",mvhd:t.mvhd,traks:[{tkhd:d.tkhd,mdia:{mdhd:d.mdia.mdhd,hdlr:d.mdia.hdlr,elng:d.mdia.elng,minf:{vmhd:d.mdia.minf.vmhd,smhd:d.mdia.minf.smhd,dinf:d.mdia.minf.dinf,stbl:{stsd:w.stsd,stts:{version:0,flags:0,entries:[]},ctts:{version:0,flags:0,entries:[]},stsc:{version:0,flags:0,entries:[]},stsz:{version:0,flags:0,entries:[]},stco:{version:0,flags:0,entries:[]},stss:{version:0,flags:0,entries:[]}}}}}],mvex:{mehd:{fragmentDuration:t.mvhd.duration},trexs:[{trackId:d.tkhd.trackId,defaultSampleDescriptionIndex:s.sampleDescriptionId,defaultSampleDuration:0,defaultSampleSize:0,defaultSampleFlags:0}]}},mime:R})}if(0===this._tracks.length)return void this.emit("error",new Error("no playable tracks"));t.mvhd.duration=0,this._ftyp={type:"ftyp",brand:"iso5",brandVersion:0,compatibleBrands:["iso5"]};const u=c.encode(this._ftyp),o=this._tracks.map(l=>{const d=c.encode(l.moov);return{mime:l.mime,init:h.concat([u,d])}});this.emit("ready",o)}seek(t){if(!this._tracks)throw new Error("Not ready yet; wait for 'ready' event");this._fileStream&&(this._fileStream.destroy(),this._fileStream=null);let i=-1;if(this._tracks.map((s,u)=>{s.outStream&&s.outStream.destroy(),s.inStream&&(s.inStream.destroy(),s.inStream=null);const o=s.outStream=r.encode(),l=this._generateFragment(u,t);if(!l)return o.finalize();(-1===i||l.ranges[0].start<i)&&(i=l.ranges[0].start);const d=w=>{o.destroyed||o.box(w.moof,b=>{if(b)return this.emit("error",b);o.destroyed||s.inStream.slice(w.ranges).pipe(o.mediaData(w.length,S=>{if(S)return this.emit("error",S);if(!o.destroyed){const R=this._generateFragment(u);return R?void d(R):o.finalize()}}))})};d(l)}),0<=i){const s=this._fileStream=this._file.createReadStream({start:i});this._tracks.forEach(u=>{u.inStream=new f(i,{highWaterMark:1e7}),s.pipe(u.inStream)})}return this._tracks.map(s=>s.outStream)}_findSampleBefore(t,i){const s=this._tracks[t],u=mt(s.timeScale*i);let o=p(s.samples,u,(l,d)=>l.dts+l.presentationOffset-d);for(-1===o?o=0:0>o&&(o=-o-2);!s.samples[o].sync;)o--;return o}_generateFragment(t,i){const s=this._tracks[t];let u;if(u=void 0===i?s.currSample:this._findSampleBefore(t,i),u>=s.samples.length)return null;const o=s.samples[u].dts;let l=0;const d=[];for(var w=u;w<s.samples.length;w++){const b=s.samples[w];if(b.sync&&b.dts-o>=1*s.timeScale)break;l+=b.size;const I=d.length-1;0>I||d[I].end!==b.offset?d.push({start:b.offset,end:b.offset+b.size}):d[I].end+=b.size}return s.currSample=w,{moof:this._generateMoof(t,u,w),ranges:d,length:l}}_generateMoof(t,i,s){const u=this._tracks[t],o=[];let l=0;for(let w=i;w<s;w++){const b=u.samples[w];0>b.presentationOffset&&(l=1),o.push({sampleDuration:b.duration,sampleSize:b.size,sampleFlags:b.sync?33554432:16842752,sampleCompositionTimeOffset:b.presentationOffset})}const d={type:"moof",mfhd:{sequenceNumber:u.fragmentSequence++},trafs:[{tfhd:{flags:131072,trackId:u.trackId},tfdt:{baseMediaDecodeTime:u.samples[i].dts},trun:{flags:3841,dataOffset:8,entries:o,version:l}}]};return d.trafs[0].trun.dataOffset+=c.encodingLength(d),d}}}).call(this)}).call(this,v("buffer").Buffer)},{"binary-search":30,buffer:69,events:70,"mp4-box-encoding":184,"mp4-stream":187,"range-slice-stream":224}],290:[function(v,M){function h(r,c,f={}){return this instanceof h?(this.detailedError=null,this._elem=c,this._elemWrapper=new g(c),this._waitingFired=!1,this._trackMeta=null,this._file=r,this._tracks=null,"none"!==this._elem.preload&&this._createMuxer(),this._onError=()=>{this.detailedError=this._elemWrapper.detailedError,this.destroy()},this._onWaiting=()=>{this._waitingFired=!0,this._muxer?this._tracks&&this._pump():this._createMuxer()},c.autoplay&&(c.preload="auto"),c.addEventListener("waiting",this._onWaiting),void c.addEventListener("error",this._onError)):(console.warn("Don't invoke VideoStream without the 'new' keyword."),new h(r,c,f))}const g=v("mediasource"),p=v("pump"),x=v("./mp4-remuxer");h.prototype={_createMuxer(){this._muxer=new x(this._file),this._muxer.on("ready",r=>{this._tracks=r.map(c=>{const f=this._elemWrapper.createWriteStream(c.mime);f.on("error",t=>{this._elemWrapper.error(t)});const n={muxed:null,mediaSource:f,initFlushed:!1,onInitFlushed:null};return f.write(c.init,t=>{n.initFlushed=!0,n.onInitFlushed&&n.onInitFlushed(t)}),n}),(this._waitingFired||"auto"===this._elem.preload)&&this._pump()}),this._muxer.on("error",r=>{this._elemWrapper.error(r)})},_pump(){const r=this._muxer.seek(this._elem.currentTime,!this._tracks);this._tracks.forEach((c,f)=>{const n=()=>{c.muxed&&(c.muxed.destroy(),c.mediaSource=this._elemWrapper.createWriteStream(c.mediaSource),c.mediaSource.on("error",t=>{this._elemWrapper.error(t)})),c.muxed=r[f],p(c.muxed,c.mediaSource)};c.initFlushed?n():c.onInitFlushed=t=>t?void this._elemWrapper.error(t):void n()})},destroy(){this.destroyed||(this.destroyed=!0,this._elem.removeEventListener("waiting",this._onWaiting),this._elem.removeEventListener("error",this._onError),this._tracks&&this._tracks.forEach(r=>{r.muxed&&r.muxed.destroy()}),this._elem.src="")}},M.exports=h},{"./mp4-remuxer":289,mediasource:172,pump:213}],291:[function(v,M){M.exports=function h(g,p){function x(){for(var r=Array(arguments.length),c=0;c<r.length;c++)r[c]=arguments[c];var f=g.apply(this,r),n=r[r.length-1];return"function"==typeof f&&f!==n&&Object.keys(n).forEach(function(t){f[t]=n[t]}),f}if(g&&p)return h(g)(p);if("function"!=typeof g)throw new TypeError("need wrapper function");return Object.keys(g).forEach(function(r){x[r]=g[r]}),x}},{}],292:[function(v,M){M.exports=function(){for(var x,g={},p=0;p<arguments.length;p++)for(var r in x=arguments[p])h.call(x,r)&&(g[r]=x[r]);return g};var h=Object.prototype.hasOwnProperty},{}],293:[function(v,M){M.exports={version:"1.5.8"}},{}],294:[function(v,M){(function(h){(function(){const x=v("events"),r=v("path"),c=v("simple-concat"),f=v("create-torrent"),n=v("debug"),t=v("bittorrent-dht/client"),i=v("load-ip-set"),s=v("run-parallel"),u=v("parse-torrent"),o=v("simple-peer"),l=v("queue-microtask"),d=v("randombytes"),w=v("simple-sha1"),b=v("speedometer"),{ThrottleGroup:I}=v("speed-limiter"),S=v("./lib/conn-pool.js"),R=v("./lib/torrent.js"),{version:F}=v("./package.json"),q=n("webtorrent"),K=F.replace(/\d*./g,Ae=>("0"+Ae%100).slice(-2)).slice(0,4);class he extends x{constructor(xe={}){super(),this.peerId="string"==typeof xe.peerId?xe.peerId:h.isBuffer(xe.peerId)?xe.peerId.toString("hex"):h.from(`-WW${K}-`+d(9).toString("base64")).toString("hex"),this.peerIdBuffer=h.from(this.peerId,"hex"),this.nodeId="string"==typeof xe.nodeId?xe.nodeId:h.isBuffer(xe.nodeId)?xe.nodeId.toString("hex"):d(20).toString("hex"),this.nodeIdBuffer=h.from(this.nodeId,"hex"),this._debugId=this.peerId.toString("hex").substring(0,7),this.destroyed=!1,this.listening=!1,this.torrentPort=xe.torrentPort||0,this.dhtPort=xe.dhtPort||0,this.tracker=void 0===xe.tracker?{}:xe.tracker,this.lsd=!1!==xe.lsd,this.torrents=[],this.maxConns=+xe.maxConns||55,this.utp=he.UTP_SUPPORT&&!1!==xe.utp,this._downloadLimit=fe("number"==typeof xe.downloadLimit?xe.downloadLimit:-1,-1),this._uploadLimit=fe("number"==typeof xe.uploadLimit?xe.uploadLimit:-1,-1),this.serviceWorker=null,this.workerKeepAliveInterval=null,this.workerPortCount=0,!0===xe.secure&&v("./lib/peer").enableSecure(),this._debug("new webtorrent (peerId %s, nodeId %s, port %s)",this.peerId,this.nodeId,this.torrentPort),this.throttleGroups={down:new I({rate:fe(this._downloadLimit,0),enabled:0<=this._downloadLimit}),up:new I({rate:fe(this._uploadLimit,0),enabled:0<=this._uploadLimit})},this.tracker&&("object"!=typeof this.tracker&&(this.tracker={}),globalThis.WRTC&&!this.tracker.wrtc&&(this.tracker.wrtc=globalThis.WRTC)),"function"==typeof S?this._connPool=new S(this):l(()=>{this._onListening()}),this._downloadSpeed=b(),this._uploadSpeed=b(),!1!==xe.dht&&"function"==typeof t?(this.dht=new t(Object.assign({},{nodeId:this.nodeId},xe.dht)),this.dht.once("error",N=>{this._destroy(N)}),this.dht.once("listening",()=>{const N=this.dht.address();N&&(this.dhtPort=N.port)}),this.dht.setMaxListeners(0),this.dht.listen(this.dhtPort)):this.dht=!1,this.enableWebSeeds=!1!==xe.webSeeds;const A=()=>{this.destroyed||(this.ready=!0,this.emit("ready"))};"function"==typeof i&&null!=xe.blocklist?i(xe.blocklist,{headers:{"user-agent":`WebTorrent/${F} (https://webtorrent.io)`}},(N,U)=>N?console.error(`Failed to load blocklist: ${N.message}`):(this.blocked=U,void A())):l(A)}loadWorker(xe,A=(()=>{})){if(!(xe instanceof ServiceWorker))throw new Error("Invalid worker registration");if("activated"!==xe.state)throw new Error("Worker isn't activated");this.serviceWorker=xe,navigator.serviceWorker.addEventListener("message",N=>{const{data:U}=N;if(!U.type||"webtorrent"===!U.type||!U.url)return null;let[y,...C]=U.url.slice(U.url.indexOf(U.scope+"webtorrent/")+11+U.scope.length).split("/");if(C=decodeURI(C.join("/")),!y||!C)return null;const[L]=N.ports,O=this.get(y)&&this.get(y).files.find(Ve=>Ve.path===C);if(!O)return null;const[oe,$,ue]=O._serve(U),qe=$&&$[Symbol.asyncIterator](),Ze=()=>{L.onmessage=null,$&&$.destroy(),ue&&ue.destroy(),this.workerPortCount--,this.workerPortCount||(clearInterval(this.workerKeepAliveInterval),this.workerKeepAliveInterval=null)};L.onmessage=async Ve=>{if(Ve.data){let tt;try{tt=(await qe.next()).value}catch(at){}L.postMessage(tt),tt||Ze(),this.workerKeepAliveInterval||(this.workerKeepAliveInterval=setInterval(()=>fetch(`${this.serviceWorker.scriptURL.substr(0,this.serviceWorker.scriptURL.lastIndexOf("/")+1).slice(window.location.origin.length)}webtorrent/keepalive/`),2e4))}else Ze()},this.workerPortCount++,L.postMessage(oe)}),A(this.serviceWorker)}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){const xe=this.torrents.filter(U=>1!==U.progress);return xe.reduce((U,y)=>U+y.downloaded,0)/(xe.reduce((U,y)=>U+(y.length||0),0)||1)}get ratio(){return this.torrents.reduce((N,U)=>N+U.uploaded,0)/(this.torrents.reduce((N,U)=>N+U.received,0)||1)}get(xe){if(xe instanceof R){if(this.torrents.includes(xe))return xe}else{let A;try{A=u(xe)}catch(N){}if(!A)return null;if(!A.infoHash)throw new Error("Invalid torrent identifier");for(const N of this.torrents)if(N.infoHash===A.infoHash)return N}return null}add(xe,A={},N=(()=>{})){if(this.destroyed)throw new Error("client is destroyed");"function"==typeof A&&([A,N]=[{},A]);const y=()=>{if(!this.destroyed)for(const O of this.torrents)if(O.infoHash===L.infoHash&&O!==L)return void L._destroy(new Error(`Cannot add duplicate torrent ${L.infoHash}`))},C=()=>{this.destroyed||(N(L),this.emit("torrent",L))};this._debug("add"),A=A?Object.assign({},A):{};const L=new R(xe,this,A);return this.torrents.push(L),L.once("_infoHash",y),L.once("ready",C),L.once("close",function U(){L.removeListener("_infoHash",y),L.removeListener("ready",C),L.removeListener("close",U)}),L}seed(xe,A,N){if(this.destroyed)throw new Error("client is destroyed");"function"==typeof A&&([A,N]=[{},A]),this._debug("seed"),(A=A?Object.assign({},A):{}).skipVerify=!0;const U="string"==typeof xe;U&&(A.path=r.dirname(xe)),A.createdBy||(A.createdBy=`WebTorrent/${K}`);const y=O=>{this._debug("on seed"),"function"==typeof N&&N(O),O.emit("seed"),this.emit("seed",O)},C=this.add(null,A,O=>{const oe=[$=>U||A.preloadedStore?$():void O.load(L,$)];this.dht&&oe.push($=>{O.once("dhtAnnounce",$)}),s(oe,$=>this.destroyed?void 0:$?O._destroy($):void y(O))});let L;return function p(Ae){return"undefined"!=typeof FileList&&Ae instanceof FileList}(xe)?xe=Array.from(xe):!Array.isArray(xe)&&(xe=[xe]),s(xe.map(O=>oe=>{!A.preloadedStore&&function g(Ae){return"object"==typeof Ae&&null!=Ae&&"function"==typeof Ae.pipe}(O)?c(O,($,ue)=>$?oe($):(ue.name=O.name,void oe(null,ue))):oe(null,O)}),(O,oe)=>this.destroyed?void 0:O?C._destroy(O):void f.parseInput(oe,A,($,ue)=>this.destroyed?void 0:$?C._destroy($):(L=ue.map(qe=>qe.getStream),void f(oe,A,(qe,Ze)=>{if(!this.destroyed){if(qe)return C._destroy(qe);const Ve=this.get(Ze);Ve?C._destroy(new Error(`Cannot add duplicate torrent ${Ve.infoHash}`)):C._onTorrentId(Ze)}})))),C}remove(xe,A,N){if("function"==typeof A)return this.remove(xe,null,A);if(this._debug("remove"),!this.get(xe))throw new Error(`No torrent with id ${xe}`);this._remove(xe,A,N)}_remove(xe,A,N){if("function"==typeof A)return this._remove(xe,null,A);const U=this.get(xe);U&&(this.torrents.splice(this.torrents.indexOf(U),1),U.destroy(A,N),this.dht&&this.dht._tables.remove(U.infoHash))}address(){return this.listening?this._connPool?this._connPool.tcpServer.address():{address:"0.0.0.0",family:"IPv4",port:0}:null}throttleDownload(xe){return xe=+xe,!(isNaN(xe)||!isFinite(xe)||-1>xe)&&(this._downloadLimit=xe,0>this._downloadLimit?this.throttleGroups.down.setEnabled(!1):(this.throttleGroups.down.setEnabled(!0),void this.throttleGroups.down.setRate(this._downloadLimit)))}throttleUpload(xe){return xe=+xe,!(isNaN(xe)||!isFinite(xe)||-1>xe)&&(this._uploadLimit=xe,0>this._uploadLimit?this.throttleGroups.up.setEnabled(!1):(this.throttleGroups.up.setEnabled(!0),void this.throttleGroups.up.setRate(this._uploadLimit)))}destroy(xe){if(this.destroyed)throw new Error("client already destroyed");this._destroy(null,xe)}_destroy(xe,A){this._debug("client destroy"),this.destroyed=!0;const N=this.torrents.map(U=>y=>{U.destroy(y)});this._connPool&&N.push(U=>{this._connPool.destroy(U)}),this.dht&&N.push(U=>{this.dht.destroy(U)}),s(N,A),xe&&this.emit("error",xe),this.torrents=[],this._connPool=null,this.dht=null,this.throttleGroups.down.destroy(),this.throttleGroups.up.destroy()}_onListening(){if(this._debug("listening"),this.listening=!0,this._connPool){const xe=this._connPool.tcpServer.address();xe&&(this.torrentPort=xe.port)}this.emit("listening")}_debug(){const xe=[].slice.call(arguments);xe[0]=`[${this._debugId}] ${xe[0]}`,q(...xe)}_getByHash(xe){for(const A of this.torrents)if(A.infoHashHash||(A.infoHashHash=w.sync(h.from("72657132"+A.infoHash,"hex"))),xe===A.infoHashHash)return A;return null}}he.WEBRTC_SUPPORT=o.WEBRTC_SUPPORT,he.UTP_SUPPORT=S.UTP_SUPPORT,he.VERSION=F,M.exports=he}).call(this)}).call(this,v("buffer").Buffer)},{"./lib/conn-pool.js":41,"./lib/peer":3,"./lib/torrent.js":5,"./package.json":293,"bittorrent-dht/client":41,buffer:69,"create-torrent":103,debug:105,events:70,"load-ip-set":41,"parse-torrent":197,path:71,"queue-microtask":218,randombytes:221,"run-parallel":245,"simple-concat":257,"simple-peer":259,"simple-sha1":260,"speed-limiter":263,speedometer:267}]},{},[294])(294)}),function(Nt){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Nt():"function"==typeof define&&define.amd?define([],Nt):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Kuroshiro=Nt()}(function(){return function wt(mt,bt,Z){function Fe(ne,Q){if(!bt[ne]){if(!mt[ne]){var fe="function"==typeof require&&require;if(!Q&&fe)return fe(ne,!0);if(Oe)return Oe(ne,!0);var ge=new Error("Cannot find module '"+ne+"'");throw ge.code="MODULE_NOT_FOUND",ge}var re=bt[ne]={exports:{}};mt[ne][0].call(re.exports,function(ve){return Fe(mt[ne][1][ve]||ve)},re,re.exports,wt,mt,bt,Z)}return bt[ne].exports}for(var Oe="function"==typeof require&&require,_=0;_<Z.length;_++)Fe(Z[_]);return Fe}({1:[function(wt,mt,bt){mt.exports=wt("regenerator-runtime")},{"regenerator-runtime":2}],2:[function(wt,mt,bt){var Z=function(){return this}()||Function("return this")(),Fe=Z.regeneratorRuntime&&Object.getOwnPropertyNames(Z).indexOf("regeneratorRuntime")>=0,Oe=Fe&&Z.regeneratorRuntime;if(Z.regeneratorRuntime=void 0,mt.exports=wt("./runtime"),Fe)Z.regeneratorRuntime=Oe;else try{delete Z.regeneratorRuntime}catch(_){Z.regeneratorRuntime=void 0}},{"./runtime":3}],3:[function(wt,mt,bt){!function(Z){"use strict";var _,Fe=Object.prototype,Oe=Fe.hasOwnProperty,ne="function"==typeof Symbol?Symbol:{},Q=ne.iterator||"@@iterator",fe=ne.asyncIterator||"@@asyncIterator",ge=ne.toStringTag||"@@toStringTag",re="object"==typeof mt,ve=Z.regeneratorRuntime;if(ve)re&&(mt.exports=ve);else{(ve=Z.regeneratorRuntime=re?mt.exports:{}).wrap=v;var h="suspendedStart",g="suspendedYield",p="executing",x="completed",r={},t={};t[Q]=function(){return this};var i=Object.getPrototypeOf,s=i&&i(i(R([])));s&&s!==Fe&&Oe.call(s,Q)&&(t=s);var u=n.prototype=c.prototype=Object.create(t);f.prototype=u.constructor=n,n.constructor=f,n[ge]=f.displayName="GeneratorFunction",ve.isGeneratorFunction=function(q){var K="function"==typeof q&&q.constructor;return!!K&&(K===f||"GeneratorFunction"===(K.displayName||K.name))},ve.mark=function(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,n):(q.__proto__=n,ge in q||(q[ge]="GeneratorFunction")),q.prototype=Object.create(u),q},ve.awrap=function(q){return{__await:q}},o(l.prototype),l.prototype[fe]=function(){return this},ve.AsyncIterator=l,ve.async=function(q,K,he,Ae){var xe=new l(v(q,K,he,Ae));return ve.isGeneratorFunction(K)?xe:xe.next().then(function(A){return A.done?A.value:xe.next()})},o(u),u[ge]="Generator",u[Q]=function(){return this},u.toString=function(){return"[object Generator]"},ve.keys=function(q){var K=[];for(var he in q)K.push(he);return K.reverse(),function Ae(){for(;K.length;){var xe=K.pop();if(xe in q)return Ae.value=xe,Ae.done=!1,Ae}return Ae.done=!0,Ae}},ve.values=R,S.prototype={constructor:S,reset:function(q){if(this.prev=0,this.next=0,this.sent=this._sent=_,this.done=!1,this.delegate=null,this.method="next",this.arg=_,this.tryEntries.forEach(I),!q)for(var K in this)"t"===K.charAt(0)&&Oe.call(this,K)&&!isNaN(+K.slice(1))&&(this[K]=_)},stop:function(){this.done=!0;var K=this.tryEntries[0].completion;if("throw"===K.type)throw K.arg;return this.rval},dispatchException:function(q){if(this.done)throw q;var K=this;function he(y,C){return A.type="throw",A.arg=q,K.next=y,C&&(K.method="next",K.arg=_),!!C}for(var Ae=this.tryEntries.length-1;Ae>=0;--Ae){var xe=this.tryEntries[Ae],A=xe.completion;if("root"===xe.tryLoc)return he("end");if(xe.tryLoc<=this.prev){var N=Oe.call(xe,"catchLoc"),U=Oe.call(xe,"finallyLoc");if(N&&U){if(this.prev<xe.catchLoc)return he(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return he(xe.finallyLoc)}else if(N){if(this.prev<xe.catchLoc)return he(xe.catchLoc,!0)}else{if(!U)throw new Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return he(xe.finallyLoc)}}}},abrupt:function(q,K){for(var he=this.tryEntries.length-1;he>=0;--he){var Ae=this.tryEntries[he];if(Ae.tryLoc<=this.prev&&Oe.call(Ae,"finallyLoc")&&this.prev<Ae.finallyLoc){var xe=Ae;break}}xe&&("break"===q||"continue"===q)&&xe.tryLoc<=K&&K<=xe.finallyLoc&&(xe=null);var A=xe?xe.completion:{};return A.type=q,A.arg=K,xe?(this.method="next",this.next=xe.finallyLoc,r):this.complete(A)},complete:function(q,K){if("throw"===q.type)throw q.arg;return"break"===q.type||"continue"===q.type?this.next=q.arg:"return"===q.type?(this.rval=this.arg=q.arg,this.method="return",this.next="end"):"normal"===q.type&&K&&(this.next=K),r},finish:function(q){for(var K=this.tryEntries.length-1;K>=0;--K){var he=this.tryEntries[K];if(he.finallyLoc===q)return this.complete(he.completion,he.afterLoc),I(he),r}},catch:function(q){for(var K=this.tryEntries.length-1;K>=0;--K){var he=this.tryEntries[K];if(he.tryLoc===q){var Ae=he.completion;if("throw"===Ae.type){var xe=Ae.arg;I(he)}return xe}}throw new Error("illegal catch attempt")},delegateYield:function(q,K,he){return this.delegate={iterator:R(q),resultName:K,nextLoc:he},"next"===this.method&&(this.arg=_),r}}}function v(q,K,he,Ae){var A=Object.create((K&&K.prototype instanceof c?K:c).prototype),N=new S(Ae||[]);return A._invoke=function d(q,K,he){var Ae=h;return function(A,N){if(Ae===p)throw new Error("Generator is already running");if(Ae===x){if("throw"===A)throw N;return F()}for(he.method=A,he.arg=N;;){var U=he.delegate;if(U){var y=w(U,he);if(y){if(y===r)continue;return y}}if("next"===he.method)he.sent=he._sent=he.arg;else if("throw"===he.method){if(Ae===h)throw Ae=x,he.arg;he.dispatchException(he.arg)}else"return"===he.method&&he.abrupt("return",he.arg);Ae=p;var C=M(q,K,he);if("normal"===C.type){if(Ae=he.done?x:g,C.arg===r)continue;return{value:C.arg,done:he.done}}"throw"===C.type&&(Ae=x,he.method="throw",he.arg=C.arg)}}}(q,he,N),A}function M(q,K,he){try{return{type:"normal",arg:q.call(K,he)}}catch(Ae){return{type:"throw",arg:Ae}}}function c(){}function f(){}function n(){}function o(q){["next","throw","return"].forEach(function(K){q[K]=function(he){return this._invoke(K,he)}})}function l(q){function K(xe,A,N,U){var y=M(q[xe],q,A);if("throw"!==y.type){var C=y.arg,L=C.value;return L&&"object"==typeof L&&Oe.call(L,"__await")?Promise.resolve(L.__await).then(function(O){K("next",O,N,U)},function(O){K("throw",O,N,U)}):Promise.resolve(L).then(function(O){C.value=O,N(C)},U)}U(y.arg)}var he;this._invoke=function Ae(xe,A){function N(){return new Promise(function(U,y){K(xe,A,U,y)})}return he=he?he.then(N,N):N()}}function w(q,K){var he=q.iterator[K.method];if(he===_){if(K.delegate=null,"throw"===K.method){if(q.iterator.return&&(K.method="return",K.arg=_,w(q,K),"throw"===K.method))return r;K.method="throw",K.arg=new TypeError("The iterator does not provide a 'throw' method")}return r}var Ae=M(he,q.iterator,K.arg);if("throw"===Ae.type)return K.method="throw",K.arg=Ae.arg,K.delegate=null,r;var xe=Ae.arg;return xe?xe.done?(K[q.resultName]=xe.value,K.next=q.nextLoc,"return"!==K.method&&(K.method="next",K.arg=_),K.delegate=null,r):xe:(K.method="throw",K.arg=new TypeError("iterator result is not an object"),K.delegate=null,r)}function b(q){var K={tryLoc:q[0]};1 in q&&(K.catchLoc=q[1]),2 in q&&(K.finallyLoc=q[2],K.afterLoc=q[3]),this.tryEntries.push(K)}function I(q){var K=q.completion||{};K.type="normal",delete K.arg,q.completion=K}function S(q){this.tryEntries=[{tryLoc:"root"}],q.forEach(b,this),this.reset(!0)}function R(q){if(q){var K=q[Q];if(K)return K.call(q);if("function"==typeof q.next)return q;if(!isNaN(q.length)){var he=-1,Ae=function xe(){for(;++he<q.length;)if(Oe.call(q,he))return xe.value=q[he],xe.done=!1,xe;return xe.value=_,xe.done=!0,xe};return Ae.next=Ae}}return{next:F}}function F(){return{value:_,done:!0}}}(function(){return this}()||Function("return this")())},{}],4:[function(wt,mt,bt){"use strict";var Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M};Object.defineProperty(bt,"__esModule",{value:!0});var Oe=function fe(M){return M&&M.__esModule?M:{default:M}}(wt("babel-runtime/regenerator")),_="function"==typeof Symbol&&"symbol"===Z(Symbol.iterator)?function(M){return void 0===M?"undefined":Z(M)}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":void 0===M?"undefined":Z(M)},ne=function(){function M(h,g){for(var p=0;p<g.length;p++){var x=g[p];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,g,p){return g&&M(h.prototype,g),p&&M(h,p),h}}(),Q=wt("./util");function ge(M){return function(){var h=M.apply(this,arguments);return new Promise(function(g,p){return function x(r,c){try{var f=h[r](c),n=f.value}catch(t){return void p(t)}if(!f.done)return Promise.resolve(n).then(function(t){x("next",t)},function(t){x("throw",t)});g(n)}("next")})}}var ve=function(){function M(){(function re(M,h){if(!(M instanceof h))throw new TypeError("Cannot call a class as a function")})(this,M),this._analyzer=null}return ne(M,[{key:"init",value:(h=ge(Oe.default.mark(function p(x){return Oe.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(x&&"object"===(void 0===x?"undefined":_(x))&&"function"==typeof x.init&&"function"==typeof x.parse){c.next=4;break}throw new Error("Invalid initialization parameter.");case 4:if(null!=this._analyzer){c.next=16;break}return c.prev=5,c.next=8,x.init();case 8:this._analyzer=x,c.next=14;break;case 11:throw c.prev=11,c.t0=c.catch(5),c.t0;case 14:c.next=17;break;case 16:throw new Error("Kuroshiro has already been initialized.");case 17:case"end":return c.stop()}},p,this,[[5,11]])})),function g(p){return h.apply(this,arguments)})},{key:"convert",value:function(){var h=ge(Oe.default.mark(function p(x,r){var n,t,i,s,u,o,l,d,w,b,I,S,R,F,q,K,he,Ae,xe,A,N,U,y,C,L,O,oe,$,ue,qe;return Oe.default.wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if((r=r||{}).to=r.to||"hiragana",r.mode=r.mode||"normal",r.romajiSystem=r.romajiSystem||Q.ROMANIZATION_SYSTEM.HEPBURN,r.delimiter_start=r.delimiter_start||"(",r.delimiter_end=r.delimiter_end||")",x=x||"",-1!==["hiragana","katakana","romaji"].indexOf(r.to)){Ve.next=9;break}throw new Error("Invalid Target Syllabary.");case 9:if(-1!==["normal","spaced","okurigana","furigana"].indexOf(r.mode)){Ve.next=11;break}throw new Error("Invalid Conversion Mode.");case 11:if(-1!==Object.keys(Q.ROMANIZATION_SYSTEM).map(function(tt){return Q.ROMANIZATION_SYSTEM[tt]}).indexOf(r.romajiSystem)){Ve.next=14;break}throw new Error("Invalid Romanization System.");case 14:return Ve.next=16,this._analyzer.parse(x);case 16:if(n=(0,Q.patchTokens)(Ve.sent),"normal"!==r.mode&&"spaced"!==r.mode){Ve.next=36;break}Ve.t0=r.to,Ve.next="katakana"===Ve.t0?22:"romaji"===Ve.t0?25:"hiragana"===Ve.t0?29:33;break;case 22:if("normal"!==r.mode){Ve.next=24;break}return Ve.abrupt("return",n.map(function(tt){return tt.reading}).join(""));case 24:return Ve.abrupt("return",n.map(function(tt){return tt.reading}).join(" "));case 25:if(t=function(at){var zt;return zt=(0,Q.hasJapanese)(at.surface_form)?at.pronunciation||at.reading:at.surface_form,(0,Q.toRawRomaji)(zt,r.romajiSystem)},"normal"!==r.mode){Ve.next=28;break}return Ve.abrupt("return",n.map(t).join(""));case 28:return Ve.abrupt("return",n.map(t).join(" "));case 29:for(i=0;i<n.length;i++)if((0,Q.hasKanji)(n[i].surface_form))if((0,Q.hasKatakana)(n[i].surface_form)){for(n[i].reading=(0,Q.toRawHiragana)(n[i].reading),s="",u="",o=0;o<n[i].surface_form.length;o++)(0,Q.isKanji)(n[i].surface_form[o])?u+="(.*)":u+=(0,Q.isKatakana)(n[i].surface_form[o])?(0,Q.toRawHiragana)(n[i].surface_form[o]):n[i].surface_form[o];if(l=new RegExp(u),d=l.exec(n[i].reading)){for(w=0,b=0;b<n[i].surface_form.length;b++)(0,Q.isKanji)(n[i].surface_form[b])?(s+=d[w+1],w++):s+=n[i].surface_form[b];n[i].reading=s}}else n[i].reading=(0,Q.toRawHiragana)(n[i].reading);else n[i].reading=n[i].surface_form;if("normal"!==r.mode){Ve.next=32;break}return Ve.abrupt("return",n.map(function(tt){return tt.reading}).join(""));case 32:return Ve.abrupt("return",n.map(function(tt){return tt.reading}).join(" "));case 33:throw new Error("Unknown option.to param");case 34:Ve.next=73;break;case 36:if("okurigana"!==r.mode&&"furigana"!==r.mode){Ve.next=73;break}I=[],S=0;case 39:if(!(S<n.length)){Ve.next=62;break}R=(0,Q.getStrType)(n[S].surface_form),Ve.t1=R,Ve.next=0===Ve.t1?44:1===Ve.t1?46:2===Ve.t1?54:3===Ve.t1?56:58;break;case 44:return I.push([n[S].surface_form,1,(0,Q.toRawHiragana)(n[S].reading),n[S].pronunciation||n[S].reading]),Ve.abrupt("break",59);case 46:for(F="",q=!1,K=[],he=0;he<n[S].surface_form.length;he++)(0,Q.isKanji)(n[S].surface_form[he])?q?K[K.length-1]+=n[S].surface_form[he]:(q=!0,F+="(.*)",K.push(n[S].surface_form[he])):(q=!1,K.push(n[S].surface_form[he]),F+=(0,Q.isKatakana)(n[S].surface_form[he])?(0,Q.toRawHiragana)(n[S].surface_form[he]):n[S].surface_form[he]);if(Ae=new RegExp("^"+F+"$"),xe=Ae.exec((0,Q.toRawHiragana)(n[S].reading)))for(A=1,N=0;N<K.length;N++)(0,Q.isKanji)(K[N][0])?(I.push([K[N],1,xe[A],(0,Q.toRawKatakana)(xe[A])]),A+=1):I.push([K[N],2,(0,Q.toRawHiragana)(K[N]),(0,Q.toRawKatakana)(K[N])]);else I.push([n[S].surface_form,1,(0,Q.toRawHiragana)(n[S].reading),n[S].pronunciation||n[S].reading]);return Ve.abrupt("break",59);case 54:for(U=0;U<n[S].surface_form.length;U++)I.push([n[S].surface_form[U],2,(0,Q.toRawHiragana)(n[S].reading[U]),n[S].pronunciation&&n[S].pronunciation[U]||n[S].reading[U]]);return Ve.abrupt("break",59);case 56:for(y=0;y<n[S].surface_form.length;y++)I.push([n[S].surface_form[y],3,n[S].surface_form[y],n[S].surface_form[y]]);return Ve.abrupt("break",59);case 58:throw new Error("Unknown strType");case 59:S++,Ve.next=39;break;case 62:C="",Ve.t2=r.to,Ve.next="katakana"===Ve.t2?66:"romaji"===Ve.t2?68:"hiragana"===Ve.t2?70:72;break;case 66:if("okurigana"===r.mode)for(L=0;L<I.length;L++)C+=1!==I[L][1]?I[L][0]:I[L][0]+r.delimiter_start+(0,Q.toRawKatakana)(I[L][2])+r.delimiter_end;else for(O=0;O<I.length;O++)C+=1!==I[O][1]?I[O][0]:"<ruby>"+I[O][0]+"<rp>"+r.delimiter_start+"</rp><rt>"+(0,Q.toRawKatakana)(I[O][2])+"</rt><rp>"+r.delimiter_end+"</rp></ruby>";return Ve.abrupt("return",C);case 68:if("okurigana"===r.mode)for(oe=0;oe<I.length;oe++)C+=1!==I[oe][1]?I[oe][0]:I[oe][0]+r.delimiter_start+(0,Q.toRawRomaji)(I[oe][3],r.romajiSystem)+r.delimiter_end;else{for(C+="<ruby>",$=0;$<I.length;$++)C+=I[$][0]+"<rp>"+r.delimiter_start+"</rp><rt>"+(0,Q.toRawRomaji)(I[$][3],r.romajiSystem)+"</rt><rp>"+r.delimiter_end+"</rp>";C+="</ruby>"}return Ve.abrupt("return",C);case 70:if("okurigana"===r.mode)for(ue=0;ue<I.length;ue++)C+=1!==I[ue][1]?I[ue][0]:I[ue][0]+r.delimiter_start+I[ue][2]+r.delimiter_end;else for(qe=0;qe<I.length;qe++)C+=1!==I[qe][1]?I[qe][0]:"<ruby>"+I[qe][0]+"<rp>"+r.delimiter_start+"</rp><rt>"+I[qe][2]+"</rt><rp>"+r.delimiter_end+"</rp></ruby>";return Ve.abrupt("return",C);case 72:throw new Error("Invalid Target Syllabary.");case 73:case"end":return Ve.stop()}},p,this)}));return function g(p,x){return h.apply(this,arguments)}}()}]),M;var h}();ve.Util={isHiragana:Q.isHiragana,isKatakana:Q.isKatakana,isKana:Q.isKana,isKanji:Q.isKanji,isJapanese:Q.isJapanese,hasHiragana:Q.hasHiragana,hasKatakana:Q.hasKatakana,hasKana:Q.hasKana,hasKanji:Q.hasKanji,hasJapanese:Q.hasJapanese,kanaToHiragna:Q.kanaToHiragna,kanaToKatakana:Q.kanaToKatakana,kanaToRomaji:Q.kanaToRomaji},bt.default=ve,mt.exports=bt.default},{"./util":6,"babel-runtime/regenerator":1}],5:[function(wt,mt,bt){"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var Fe=function Oe(_){return _&&_.__esModule?_:{default:_}}(wt("./core"));bt.default=Fe.default,mt.exports=bt.default},{"./core":4}],6:[function(wt,mt,bt){"use strict";function Z(s){if(Array.isArray(s)){for(var u=0,o=Array(s.length);u<s.length;u++)o[u]=s[u];return o}return Array.from(s)}Object.defineProperty(bt,"__esModule",{value:!0});var Fe="\u3041".charCodeAt(0)-"\u30a1".charCodeAt(0),Oe="\u30a1".charCodeAt(0)-"\u3041".charCodeAt(0),_={NIPPON:"nippon",PASSPORT:"passport",HEPBURN:"hepburn"},ne=function(u){return(u=u[0])>="\u3040"&&u<="\u309f"},Q=function(u){return(u=u[0])>="\u30a0"&&u<="\u30ff"},fe=function(u){return ne(u)||Q(u)},ge=function(u){return(u=u[0])>="\u4e00"&&u<="\u9fcf"||u>="\uf900"&&u<="\ufaff"||u>="\u3400"&&u<="\u4dbf"},re=function(u){return fe(u)||ge(u)},ve=function(u){for(var o=0;o<u.length;o++)if(ne(u[o]))return!0;return!1},g=function(u){for(var o=0;o<u.length;o++)if(re(u[o]))return!0;return!1},p=function(u){return[].concat(Z(u)).map(function(o){return o>"\u30a0"&&o<"\u30f7"?String.fromCharCode(o.charCodeAt(0)+Fe):o}).join("")},x=function(u){return[].concat(Z(u)).map(function(o){return o>"\u3040"&&o<"\u3097"?String.fromCharCode(o.charCodeAt(0)+Oe):o}).join("")},r=function(u,o){var l={nippon:{"\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff10":"0","\uff01":"!","\u201c":'"',"\u201d":'"',"\uff03":"#","\uff04":"$","\uff05":"%","\uff06":"&","\u2019":"'","\uff08":"(","\uff09":")","\uff1d":"=","\uff5e":"~","\uff5c":"|","\uff20":"@","\u2018":"`","\uff0b":"+","\uff0a":"*","\uff1b":";","\uff1a":":","\uff1c":"<","\uff1e":">","\u3001":",","\u3002":".","\uff0f":"/","\uff1f":"?","\uff3f":"_","\u30fb":"\uff65","\u300c":'"',"\u300d":'"',"\uff5b":"{","\uff5d":"}","\uffe5":"\\","\uff3e":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304a:"o",\u30a2:"a",\u30a4:"i",\u30a6:"u",\u30a8:"e",\u30aa:"o",\u304b:"ka",\u304d:"ki",\u304f:"ku",\u3051:"ke",\u3053:"ko",\u30ab:"ka",\u30ad:"ki",\u30af:"ku",\u30b1:"ke",\u30b3:"ko",\u3055:"sa",\u3057:"si",\u3059:"su",\u305b:"se",\u305d:"so",\u30b5:"sa",\u30b7:"si",\u30b9:"su",\u30bb:"se",\u30bd:"so",\u305f:"ta",\u3061:"ti",\u3064:"tu",\u3066:"te",\u3068:"to",\u30bf:"ta",\u30c1:"ti",\u30c4:"tu",\u30c6:"te",\u30c8:"to",\u306a:"na",\u306b:"ni",\u306c:"nu",\u306d:"ne",\u306e:"no",\u30ca:"na",\u30cb:"ni",\u30cc:"nu",\u30cd:"ne",\u30ce:"no",\u306f:"ha",\u3072:"hi",\u3075:"hu",\u3078:"he",\u307b:"ho",\u30cf:"ha",\u30d2:"hi",\u30d5:"hu",\u30d8:"he",\u30db:"ho",\u307e:"ma",\u307f:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30de:"ma",\u30df:"mi",\u30e0:"mu",\u30e1:"me",\u30e2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30e4:"ya",\u30e6:"yu",\u30e8:"yo",\u3089:"ra",\u308a:"ri",\u308b:"ru",\u308c:"re",\u308d:"ro",\u30e9:"ra",\u30ea:"ri",\u30eb:"ru",\u30ec:"re",\u30ed:"ro",\u308f:"wa",\u3090:"wi",\u3091:"we",\u3092:"wo",\u30ef:"wa",\u30f0:"wi",\u30f1:"we",\u30f2:"wo",\u304c:"ga",\u304e:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30ac:"ga",\u30ae:"gi",\u30b0:"gu",\u30b2:"ge",\u30b4:"go",\u3056:"za",\u3058:"zi",\u305a:"zu",\u305c:"ze",\u305e:"zo",\u30b6:"za",\u30b8:"zi",\u30ba:"zu",\u30bc:"ze",\u30be:"zo",\u3060:"da",\u3062:"di",\u3065:"du",\u3067:"de",\u3069:"do",\u30c0:"da",\u30c2:"di",\u30c5:"du",\u30c7:"de",\u30c9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307c:"bo",\u30d0:"ba",\u30d3:"bi",\u30d6:"bu",\u30d9:"be",\u30dc:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307a:"pe",\u307d:"po",\u30d1:"pa",\u30d4:"pi",\u30d7:"pu",\u30da:"pe",\u30dd:"po",\u304d\u3083:"kya",\u304d\u3085:"kyu",\u304d\u3087:"kyo",\u3057\u3083:"sya",\u3057\u3085:"syu",\u3057\u3087:"syo",\u3061\u3083:"tya",\u3061\u3085:"tyu",\u3061\u3087:"tyo",\u306b\u3083:"nya",\u306b\u3085:"nyu",\u306b\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307f\u3083:"mya",\u307f\u3085:"myu",\u307f\u3087:"myo",\u308a\u3083:"rya",\u308a\u3085:"ryu",\u308a\u3087:"ryo",\u30ad\u30e3:"kya",\u30ad\u30e5:"kyu",\u30ad\u30e7:"kyo",\u30b7\u30e3:"sya",\u30b7\u30e5:"syu",\u30b7\u30e7:"syo",\u30c1\u30e3:"tya",\u30c1\u30e5:"tyu",\u30c1\u30e7:"tyo",\u30cb\u30e3:"nya",\u30cb\u30e5:"nyu",\u30cb\u30e7:"nyo",\u30d2\u30e3:"hya",\u30d2\u30e5:"hyu",\u30d2\u30e7:"hyo",\u30df\u30e3:"mya",\u30df\u30e5:"myu",\u30df\u30e7:"myo",\u30ea\u30e3:"rya",\u30ea\u30e5:"ryu",\u30ea\u30e7:"ryo",\u304e\u3083:"gya",\u304e\u3085:"gyu",\u304e\u3087:"gyo",\u3058\u3083:"zya",\u3058\u3085:"zyu",\u3058\u3087:"zyo",\u3062\u3083:"dya",\u3062\u3085:"dyu",\u3062\u3087:"dyo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u304f\u308e:"kwa",\u3050\u308e:"gwa",\u30ae\u30e3:"gya",\u30ae\u30e5:"gyu",\u30ae\u30e7:"gyo",\u30b8\u30e3:"zya",\u30b8\u30e5:"zyu",\u30b8\u30e7:"zyo",\u30c2\u30e3:"dya",\u30c2\u30e5:"dyu",\u30c2\u30e7:"dyo",\u30d3\u30e3:"bya",\u30d3\u30e5:"byu",\u30d3\u30e7:"byo",\u30d4\u30e3:"pya",\u30d4\u30e5:"pyu",\u30d4\u30e7:"pyo",\u30af\u30ee:"kwa",\u30b0\u30ee:"gwa",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308e:"wa",\u30a1:"a",\u30a3:"i",\u30a5:"u",\u30a7:"e",\u30a9:"o",\u30e3:"ya",\u30e5:"yu",\u30e7:"yo",\u30ee:"wa",\u30f5:"ka",\u30f6:"ke",\u3093:"n",\u30f3:"n","\u3000":" ",\u3044\u3047:"ye",\u304d\u3047:"kye",\u304f\u3043:"kwi",\u304f\u3047:"kwe",\u304f\u3049:"kwo",\u3050\u3043:"gwi",\u3050\u3047:"gwe",\u3050\u3049:"gwo",\u30a4\u30a7:"ye",\u30ad\u30a7:"kya",\u30af\u30a3:"kwi",\u30af\u30a7:"kwe",\u30af\u30a9:"kwo",\u30b0\u30a3:"gwi",\u30b0\u30a7:"gwe",\u30b0\u30a9:"gwo",\u3057\u3047:"sye",\u3058\u3047:"zye",\u3059\u3043:"swi",\u305a\u3043:"zwi",\u3061\u3047:"tye",\u3064\u3041:"twa",\u3064\u3043:"twi",\u3064\u3047:"twe",\u3064\u3049:"two",\u306b\u3047:"nye",\u3072\u3047:"hye",\u3075\u3041:"hwa",\u3075\u3043:"hwi",\u3075\u3047:"hwe",\u3075\u3049:"hwo",\u3075\u3085:"hwyu",\u3075\u3087:"hwyo",\u30b7\u30a7:"sye",\u30b8\u30a7:"zye",\u30b9\u30a3:"swi",\u30ba\u30a3:"zwi",\u30c1\u30a7:"tye",\u30c4\u30a1:"twa",\u30c4\u30a3:"twi",\u30c4\u30a7:"twe",\u30c4\u30a9:"two",\u30cb\u30a7:"nye",\u30d2\u30a7:"hye",\u30d5\u30a1:"hwa",\u30d5\u30a3:"hwi",\u30d5\u30a7:"hwe",\u30d5\u30a9:"hwo",\u30d5\u30e5:"hwyu",\u30d5\u30e7:"hwyo"},passport:{"\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff10":"0","\uff01":"!","\u201c":'"',"\u201d":'"',"\uff03":"#","\uff04":"$","\uff05":"%","\uff06":"&","\u2019":"'","\uff08":"(","\uff09":")","\uff1d":"=","\uff5e":"~","\uff5c":"|","\uff20":"@","\u2018":"`","\uff0b":"+","\uff0a":"*","\uff1b":";","\uff1a":":","\uff1c":"<","\uff1e":">","\u3001":",","\u3002":".","\uff0f":"/","\uff1f":"?","\uff3f":"_","\u30fb":"\uff65","\u300c":'"',"\u300d":'"',"\uff5b":"{","\uff5d":"}","\uffe5":"\\","\uff3e":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304a:"o",\u30a2:"a",\u30a4:"i",\u30a6:"u",\u30a8:"e",\u30aa:"o",\u304b:"ka",\u304d:"ki",\u304f:"ku",\u3051:"ke",\u3053:"ko",\u30ab:"ka",\u30ad:"ki",\u30af:"ku",\u30b1:"ke",\u30b3:"ko",\u3055:"sa",\u3057:"shi",\u3059:"su",\u305b:"se",\u305d:"so",\u30b5:"sa",\u30b7:"shi",\u30b9:"su",\u30bb:"se",\u30bd:"so",\u305f:"ta",\u3061:"chi",\u3064:"tsu",\u3066:"te",\u3068:"to",\u30bf:"ta",\u30c1:"chi",\u30c4:"tsu",\u30c6:"te",\u30c8:"to",\u306a:"na",\u306b:"ni",\u306c:"nu",\u306d:"ne",\u306e:"no",\u30ca:"na",\u30cb:"ni",\u30cc:"nu",\u30cd:"ne",\u30ce:"no",\u306f:"ha",\u3072:"hi",\u3075:"fu",\u3078:"he",\u307b:"ho",\u30cf:"ha",\u30d2:"hi",\u30d5:"fu",\u30d8:"he",\u30db:"ho",\u307e:"ma",\u307f:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30de:"ma",\u30df:"mi",\u30e0:"mu",\u30e1:"me",\u30e2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30e4:"ya",\u30e6:"yu",\u30e8:"yo",\u3089:"ra",\u308a:"ri",\u308b:"ru",\u308c:"re",\u308d:"ro",\u30e9:"ra",\u30ea:"ri",\u30eb:"ru",\u30ec:"re",\u30ed:"ro",\u308f:"wa",\u3090:"i",\u3091:"e",\u3092:"o",\u30ef:"wa",\u30f0:"i",\u30f1:"e",\u30f2:"o",\u304c:"ga",\u304e:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30ac:"ga",\u30ae:"gi",\u30b0:"gu",\u30b2:"ge",\u30b4:"go",\u3056:"za",\u3058:"ji",\u305a:"zu",\u305c:"ze",\u305e:"zo",\u30b6:"za",\u30b8:"ji",\u30ba:"zu",\u30bc:"ze",\u30be:"zo",\u3060:"da",\u3062:"ji",\u3065:"zu",\u3067:"de",\u3069:"do",\u30c0:"da",\u30c2:"ji",\u30c5:"zu",\u30c7:"de",\u30c9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307c:"bo",\u30d0:"ba",\u30d3:"bi",\u30d6:"bu",\u30d9:"be",\u30dc:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307a:"pe",\u307d:"po",\u30d1:"pa",\u30d4:"pi",\u30d7:"pu",\u30da:"pe",\u30dd:"po",\u304d\u3083:"kya",\u304d\u3085:"kyu",\u304d\u3087:"kyo",\u3057\u3083:"sha",\u3057\u3085:"shu",\u3057\u3087:"sho",\u3061\u3083:"cha",\u3061\u3085:"chu",\u3061\u3087:"cho",\u306b\u3083:"nya",\u306b\u3085:"nyu",\u306b\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307f\u3083:"mya",\u307f\u3085:"myu",\u307f\u3087:"myo",\u308a\u3083:"rya",\u308a\u3085:"ryu",\u308a\u3087:"ryo",\u30ad\u30e3:"kya",\u30ad\u30e5:"kyu",\u30ad\u30e7:"kyo",\u30b7\u30e3:"sha",\u30b7\u30e5:"shu",\u30b7\u30e7:"sho",\u30c1\u30e3:"cha",\u30c1\u30e5:"chu",\u30c1\u30e7:"cho",\u30cb\u30e3:"nya",\u30cb\u30e5:"nyu",\u30cb\u30e7:"nyo",\u30d2\u30e3:"hya",\u30d2\u30e5:"hyu",\u30d2\u30e7:"hyo",\u30df\u30e3:"mya",\u30df\u30e5:"myu",\u30df\u30e7:"myo",\u30ea\u30e3:"rya",\u30ea\u30e5:"ryu",\u30ea\u30e7:"ryo",\u304e\u3083:"gya",\u304e\u3085:"gyu",\u304e\u3087:"gyo",\u3058\u3083:"ja",\u3058\u3085:"ju",\u3058\u3087:"jo",\u3062\u3083:"ja",\u3062\u3085:"ju",\u3062\u3087:"jo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u30ae\u30e3:"gya",\u30ae\u30e5:"gyu",\u30ae\u30e7:"gyo",\u30b8\u30e3:"ja",\u30b8\u30e5:"ju",\u30b8\u30e7:"jo",\u30c2\u30e3:"ja",\u30c2\u30e5:"ju",\u30c2\u30e7:"jo",\u30d3\u30e3:"bya",\u30d3\u30e5:"byu",\u30d3\u30e7:"byo",\u30d4\u30e3:"pya",\u30d4\u30e5:"pyu",\u30d4\u30e7:"pyo",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308e:"wa",\u30a1:"a",\u30a3:"i",\u30a5:"u",\u30a7:"e",\u30a9:"o",\u30e3:"ya",\u30e5:"yu",\u30e7:"yo",\u30ee:"wa",\u30f5:"ka",\u30f6:"ke",\u3093:"n",\u30f3:"n","\u3000":" ",\u30f4:"b"},hepburn:{"\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\uff10":"0","\uff01":"!","\u201c":'"',"\u201d":'"',"\uff03":"#","\uff04":"$","\uff05":"%","\uff06":"&","\u2019":"'","\uff08":"(","\uff09":")","\uff1d":"=","\uff5e":"~","\uff5c":"|","\uff20":"@","\u2018":"`","\uff0b":"+","\uff0a":"*","\uff1b":";","\uff1a":":","\uff1c":"<","\uff1e":">","\u3001":",","\u3002":".","\uff0f":"/","\uff1f":"?","\uff3f":"_","\u30fb":"\uff65","\u300c":'"',"\u300d":'"',"\uff5b":"{","\uff5d":"}","\uffe5":"\\","\uff3e":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304a:"o",\u30a2:"a",\u30a4:"i",\u30a6:"u",\u30a8:"e",\u30aa:"o",\u304b:"ka",\u304d:"ki",\u304f:"ku",\u3051:"ke",\u3053:"ko",\u30ab:"ka",\u30ad:"ki",\u30af:"ku",\u30b1:"ke",\u30b3:"ko",\u3055:"sa",\u3057:"shi",\u3059:"su",\u305b:"se",\u305d:"so",\u30b5:"sa",\u30b7:"shi",\u30b9:"su",\u30bb:"se",\u30bd:"so",\u305f:"ta",\u3061:"chi",\u3064:"tsu",\u3066:"te",\u3068:"to",\u30bf:"ta",\u30c1:"chi",\u30c4:"tsu",\u30c6:"te",\u30c8:"to",\u306a:"na",\u306b:"ni",\u306c:"nu",\u306d:"ne",\u306e:"no",\u30ca:"na",\u30cb:"ni",\u30cc:"nu",\u30cd:"ne",\u30ce:"no",\u306f:"ha",\u3072:"hi",\u3075:"fu",\u3078:"he",\u307b:"ho",\u30cf:"ha",\u30d2:"hi",\u30d5:"fu",\u30d8:"he",\u30db:"ho",\u307e:"ma",\u307f:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30de:"ma",\u30df:"mi",\u30e0:"mu",\u30e1:"me",\u30e2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30e4:"ya",\u30e6:"yu",\u30e8:"yo",\u3089:"ra",\u308a:"ri",\u308b:"ru",\u308c:"re",\u308d:"ro",\u30e9:"ra",\u30ea:"ri",\u30eb:"ru",\u30ec:"re",\u30ed:"ro",\u308f:"wa",\u3090:"i",\u3091:"e",\u3092:"o",\u30ef:"wa",\u30f0:"i",\u30f1:"e",\u30f2:"o",\u304c:"ga",\u304e:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30ac:"ga",\u30ae:"gi",\u30b0:"gu",\u30b2:"ge",\u30b4:"go",\u3056:"za",\u3058:"ji",\u305a:"zu",\u305c:"ze",\u305e:"zo",\u30b6:"za",\u30b8:"ji",\u30ba:"zu",\u30bc:"ze",\u30be:"zo",\u3060:"da",\u3062:"ji",\u3065:"zu",\u3067:"de",\u3069:"do",\u30c0:"da",\u30c2:"ji",\u30c5:"zu",\u30c7:"de",\u30c9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307c:"bo",\u30d0:"ba",\u30d3:"bi",\u30d6:"bu",\u30d9:"be",\u30dc:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307a:"pe",\u307d:"po",\u30d1:"pa",\u30d4:"pi",\u30d7:"pu",\u30da:"pe",\u30dd:"po",\u304d\u3083:"kya",\u304d\u3085:"kyu",\u304d\u3087:"kyo",\u3057\u3083:"sha",\u3057\u3085:"shu",\u3057\u3087:"sho",\u3061\u3083:"cha",\u3061\u3085:"chu",\u3061\u3087:"cho",\u306b\u3083:"nya",\u306b\u3085:"nyu",\u306b\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307f\u3083:"mya",\u307f\u3085:"myu",\u307f\u3087:"myo",\u308a\u3083:"rya",\u308a\u3085:"ryu",\u308a\u3087:"ryo",\u30ad\u30e3:"kya",\u30ad\u30e5:"kyu",\u30ad\u30e7:"kyo",\u30b7\u30e3:"sha",\u30b7\u30e5:"shu",\u30b7\u30e7:"sho",\u30c1\u30e3:"cha",\u30c1\u30e5:"chu",\u30c1\u30e7:"cho",\u30cb\u30e3:"nya",\u30cb\u30e5:"nyu",\u30cb\u30e7:"nyo",\u30d2\u30e3:"hya",\u30d2\u30e5:"hyu",\u30d2\u30e7:"hyo",\u30df\u30e3:"mya",\u30df\u30e5:"myu",\u30df\u30e7:"myo",\u30ea\u30e3:"rya",\u30ea\u30e5:"ryu",\u30ea\u30e7:"ryo",\u304e\u3083:"gya",\u304e\u3085:"gyu",\u304e\u3087:"gyo",\u3058\u3083:"ja",\u3058\u3085:"ju",\u3058\u3087:"jo",\u3062\u3083:"ja",\u3062\u3085:"ju",\u3062\u3087:"jo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u30ae\u30e3:"gya",\u30ae\u30e5:"gyu",\u30ae\u30e7:"gyo",\u30b8\u30e3:"ja",\u30b8\u30e5:"ju",\u30b8\u30e7:"jo",\u30c2\u30e3:"ja",\u30c2\u30e5:"ju",\u30c2\u30e7:"jo",\u30d3\u30e3:"bya",\u30d3\u30e5:"byu",\u30d3\u30e7:"byo",\u30d4\u30e3:"pya",\u30d4\u30e5:"pyu",\u30d4\u30e7:"pyo",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308e:"wa",\u30a1:"a",\u30a3:"i",\u30a5:"u",\u30a7:"e",\u30a9:"o",\u30e3:"ya",\u30e5:"yu",\u30e7:"yo",\u30ee:"wa",\u30f5:"ka",\u30f6:"ke",\u3093:"n",\u30f3:"n","\u3000":" ",\u3044\u3047:"ye",\u3046\u3043:"wi",\u3046\u3047:"we",\u3046\u3049:"wo",\u304d\u3047:"kye",\u304f\u3041:"kwa",\u304f\u3043:"kwi",\u304f\u3047:"kwe",\u304f\u3049:"kwo",\u3050\u3041:"gwa",\u3050\u3043:"gwi",\u3050\u3047:"gwe",\u3050\u3049:"gwo",\u30a4\u30a7:"ye",\u30a6\u30a3:"wi",\u30a6\u30a7:"we",\u30a6\u30a9:"wo",\u30f4:"vu",\u30f4\u30a1:"va",\u30f4\u30a3:"vi",\u30f4\u30a7:"ve",\u30f4\u30a9:"vo",\u30f4\u30e5:"vyu",\u30f4\u30e7:"vyo",\u30ad\u30a7:"kya",\u30af\u30a1:"kwa",\u30af\u30a3:"kwi",\u30af\u30a7:"kwe",\u30af\u30a9:"kwo",\u30b0\u30a1:"gwa",\u30b0\u30a3:"gwi",\u30b0\u30a7:"gwe",\u30b0\u30a9:"gwo",\u3057\u3047:"she",\u3058\u3047:"je",\u3061\u3047:"che",\u3064\u3041:"tsa",\u3064\u3043:"tsi",\u3064\u3047:"tse",\u3064\u3049:"tso",\u3066\u3043:"ti",\u3066\u3085:"tyu",\u3067\u3043:"di",\u3067\u3085:"dyu",\u3068\u3045:"tu",\u3069\u3045:"du",\u306b\u3047:"nye",\u3072\u3047:"hye",\u3075\u3041:"fa",\u3075\u3043:"fi",\u3075\u3047:"fe",\u3075\u3049:"fo",\u3075\u3085:"fyu",\u3075\u3087:"fyo",\u30b7\u30a7:"she",\u30b8\u30a7:"je",\u30c1\u30a7:"che",\u30c4\u30a1:"tsa",\u30c4\u30a3:"tsi",\u30c4\u30a7:"tse",\u30c4\u30a9:"tso",\u30c6\u30a3:"ti",\u30c6\u30e5:"tyu",\u30c7\u30a3:"di",\u30c7\u30e5:"dyu",\u30c8\u30a5:"tu",\u30c9\u30a5:"du",\u30cb\u30a7:"nye",\u30d2\u30a7:"hye",\u30d5\u30a1:"fa",\u30d5\u30a3:"fi",\u30d5\u30a7:"fe",\u30d5\u30a9:"fo",\u30d5\u30e5:"fyu",\u30d5\u30e7:"fyo"}},b=0,I=void 0,S=void 0,R="";if((o=o||_.HEPBURN)===_.PASSPORT&&(u=u.replace(/\u30fc/gm,"")),o===_.NIPPON||o===_.HEPBURN){for(var F=new RegExp(/(\u3093|\u30f3)(?=\u3042|\u3044|\u3046|\u3048|\u304a|\u30a2|\u30a4|\u30a6|\u30a8|\u30aa|\u3041|\u3043|\u3045|\u3047|\u3049|\u30a1|\u30a3|\u30a5|\u30a7|\u30a9|\u3084|\u3086|\u3088|\u30e4|\u30e6|\u30e8|\u3083|\u3085|\u3087|\u30e3|\u30e5|\u30e7)/g),q=void 0,K=[];null!==(q=F.exec(u));)K.push(q.index+1);if(0!==K.length){for(var he="",Ae=0;Ae<K.length;Ae++)he+=0===Ae?u.slice(0,K[Ae])+"'":u.slice(K[Ae-1],K[Ae])+"'";he+=u.slice(K[K.length-1]),u=he}}for(var xe=u.length;b<=xe;)(S=l[o][u.substring(b,b+2)])?(R+=S,b+=2):(R+=(S=l[o][I=u.substring(b,b+1)])?S:I,b+=1);return R=R.replace(/(\u3063|\u30c3)([bcdfghijklmnopqrstuvwyz])/gm,"$2$2"),(o===_.PASSPORT||o===_.HEPBURN)&&(R=R.replace(/cc/gm,"tc")),R=R.replace(/\u3063|\u30c3/gm,"tsu"),(o===_.PASSPORT||o===_.HEPBURN)&&(R=(R=(R=R.replace(/nm/gm,"mm")).replace(/nb/gm,"mb")).replace(/np/gm,"mp")),o===_.NIPPON&&(R=(R=(R=(R=(R=R.replace(/a\u30fc/gm,"\xe2")).replace(/i\u30fc/gm,"\xee")).replace(/u\u30fc/gm,"\xfb")).replace(/e\u30fc/gm,"\xea")).replace(/o\u30fc/gm,"\xf4")),o===_.HEPBURN&&(R=(R=(R=(R=(R=R.replace(/a\u30fc/gm,"\u0101")).replace(/i\u30fc/gm,"\u012b")).replace(/u\u30fc/gm,"\u016b")).replace(/e\u30fc/gm,"\u0113")).replace(/o\u30fc/gm,"\u014d")),R};bt.ROMANIZATION_SYSTEM=_,bt.getStrType=function(u){for(var o=!1,l=!1,d=0;d<u.length;d++)ge(u[d])?o=!0:(ne(u[d])||Q(u[d]))&&(l=!0);return o&&l?1:o?0:l?2:3},bt.patchTokens=function(u){for(var o=0;o<u.length;o++)g(u[o].surface_form)?u[o].reading?ve(u[o].reading)&&(u[o].reading=x(u[o].reading)):u[o].reading=u[o].surface_form.split("").every(fe)?x(u[o].surface_form):u[o].surface_form:u[o].reading=u[o].surface_form;for(var l=0;l<u.length;l++)u[l].pos&&"\u52a9\u52d5\u8a5e"===u[l].pos&&("\u3046"===u[l].surface_form||"\u30a6"===u[l].surface_form)&&l-1>=0&&u[l-1].pos&&"\u52d5\u8a5e"===u[l-1].pos&&(u[l-1].surface_form+="\u3046",u[l-1].pronunciation?u[l-1].pronunciation+="\u30fc":u[l-1].pronunciation=u[l-1].reading+"\u30fc",u[l-1].reading+="\u30a6",u.splice(l,1),l--);for(var d=0;d<u.length;d++)u[d].pos&&("\u52d5\u8a5e"===u[d].pos||"\u5f62\u5bb9\u8a5e"===u[d].pos)&&u[d].surface_form.length>1&&("\u3063"===u[d].surface_form[u[d].surface_form.length-1]||"\u30c3"===u[d].surface_form[u[d].surface_form.length-1])&&d+1<u.length&&u[d+1].pos&&("\u52d5\u8a5e"===u[d+1].pos||"\u52a9\u52d5\u8a5e"===u[d+1].pos)&&(u[d].surface_form+=u[d+1].surface_form,u[d].pronunciation?u[d].pronunciation+=u[d+1].pronunciation:u[d].pronunciation=""+u[d].reading+u[d+1].reading,u[d].reading+=u[d+1].reading,u.splice(d+1,1),d--);return u},bt.isHiragana=ne,bt.isKatakana=Q,bt.isKana=fe,bt.isKanji=ge,bt.isJapanese=re,bt.hasHiragana=ve,bt.hasKatakana=function(u){for(var o=0;o<u.length;o++)if(Q(u[o]))return!0;return!1},bt.hasKana=function(u){for(var o=0;o<u.length;o++)if(fe(u[o]))return!0;return!1},bt.hasKanji=function(u){for(var o=0;o<u.length;o++)if(ge(u[o]))return!0;return!1},bt.hasJapanese=g,bt.toRawHiragana=p,bt.toRawKatakana=x,bt.toRawRomaji=r,bt.kanaToHiragna=function(u){return p(u)},bt.kanaToKatakana=function(u){return x(u)},bt.kanaToRomaji=function(u,o){return r(u,o)}},{}]},{},[5])(5)}),function(Nt){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Nt():"function"==typeof define&&define.amd?define([],Nt):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).KuromojiAnalyzer=Nt()}(function(){return function wt(mt,bt,Z){function Fe(ne,Q){if(!bt[ne]){if(!mt[ne]){var fe="function"==typeof require&&require;if(!Q&&fe)return fe(ne,!0);if(Oe)return Oe(ne,!0);var ge=new Error("Cannot find module '"+ne+"'");throw ge.code="MODULE_NOT_FOUND",ge}var re=bt[ne]={exports:{}};mt[ne][0].call(re.exports,function(ve){return Fe(mt[ne][1][ve]||ve)},re,re.exports,wt,mt,bt,Z)}return bt[ne].exports}for(var Oe="function"==typeof require&&require,_=0;_<Z.length;_++)Fe(Z[_]);return Fe}({1:[function(wt,mt,bt){(function(Z,Fe,Oe){var ne;ne=function(_){"use strict";function ne(we,Pe){Pe|=0;for(var Xe=Math.max(we.length-Pe,0),it=Array(Xe),At=0;At<Xe;At++)it[At]=we[Pe+At];return it}var Q=function(we){var Pe=ne(arguments,1);return function(){var Xe=ne(arguments);return we.apply(null,Pe.concat(Xe))}},fe=function(we){return function(){var Pe=ne(arguments),Xe=Pe.pop();we.call(this,Pe,Xe)}};function ge(we){var Pe=typeof we;return null!=we&&("object"==Pe||"function"==Pe)}var re="function"==typeof Oe&&Oe,ve="object"==typeof Z&&"function"==typeof Z.nextTick;function v(we){setTimeout(we,0)}function M(we){return function(Pe){var Xe=ne(arguments,1);we(function(){Pe.apply(null,Xe)})}}var g=M(re?Oe:ve?Z.nextTick:v);function p(we){return fe(function(Pe,Xe){var it;try{it=we.apply(this,Pe)}catch(At){return Xe(At)}ge(it)&&"function"==typeof it.then?it.then(function(At){x(Xe,null,At)},function(At){x(Xe,At.message?At:new Error(At))}):Xe(null,it)})}function x(we,Pe,Xe){try{we(Pe,Xe)}catch(it){g(r,it)}}function r(we){throw we}var c="function"==typeof Symbol;function f(we){return c&&"AsyncFunction"===we[Symbol.toStringTag]}function n(we){return f(we)?p(we):we}function t(we){return function(Pe){var Xe=ne(arguments,1),it=fe(function(At,Ct){var tn=this;return we(Pe,function(un,In){n(un).apply(tn,At.concat(In))},Ct)});return Xe.length?it.apply(this,Xe):it}}var i="object"==typeof Fe&&Fe&&Fe.Object===Object&&Fe,s="object"==typeof self&&self&&self.Object===Object&&self,u=i||s||Function("return this")(),o=u.Symbol,l=Object.prototype,d=l.hasOwnProperty,w=l.toString,b=o?o.toStringTag:void 0,R=Object.prototype.toString,he=o?o.toStringTag:void 0;function Ae(we){return null==we?void 0===we?"[object Undefined]":"[object Null]":he&&he in Object(we)?function I(we){var Pe=d.call(we,b),Xe=we[b];try{we[b]=void 0;var it=!0}catch(Ct){}var At=w.call(we);return it&&(Pe?we[b]=Xe:delete we[b]),At}(we):function F(we){return R.call(we)}(we)}function L(we){return"number"==typeof we&&we>-1&&we%1==0&&we<=9007199254740991}function O(we){return null!=we&&L(we.length)&&!function y(we){if(!ge(we))return!1;var Pe=Ae(we);return"[object Function]"==Pe||"[object GeneratorFunction]"==Pe||"[object AsyncFunction]"==Pe||"[object Proxy]"==Pe}(we)}var oe={};function $(){}function ue(we){return function(){if(null!==we){var Pe=we;we=null,Pe.apply(this,arguments)}}}var qe="function"==typeof Symbol&&Symbol.iterator;function tt(we){return null!=we&&"object"==typeof we}function zt(we){return tt(we)&&"[object Arguments]"==Ae(we)}var Wt=Object.prototype,Jt=Wt.hasOwnProperty,Ye=Wt.propertyIsEnumerable,st=zt(function(){return arguments}())?zt:function(we){return tt(we)&&Jt.call(we,"callee")&&!Ye.call(we,"callee")},ft=Array.isArray,de="object"==typeof _&&_&&!_.nodeType&&_,X=de&&"object"==typeof mt&&mt&&!mt.nodeType&&mt,Je=X&&X.exports===de?u.Buffer:void 0,Ee=(Je?Je.isBuffer:void 0)||function Y(){return!1},nt=/^(?:0|[1-9]\d*)$/;function ct(we,Pe){var Xe=typeof we;return!!(Pe=null==Pe?9007199254740991:Pe)&&("number"==Xe||"symbol"!=Xe&&nt.test(we))&&we>-1&&we%1==0&&we<Pe}var $t={};$t["[object Float32Array]"]=$t["[object Float64Array]"]=$t["[object Int8Array]"]=$t["[object Int16Array]"]=$t["[object Int32Array]"]=$t["[object Uint8Array]"]=$t["[object Uint8ClampedArray]"]=$t["[object Uint16Array]"]=$t["[object Uint32Array]"]=!0,$t["[object Arguments]"]=$t["[object Array]"]=$t["[object ArrayBuffer]"]=$t["[object Boolean]"]=$t["[object DataView]"]=$t["[object Date]"]=$t["[object Error]"]=$t["[object Function]"]=$t["[object Map]"]=$t["[object Number]"]=$t["[object Object]"]=$t["[object RegExp]"]=$t["[object Set]"]=$t["[object String]"]=$t["[object WeakMap]"]=!1;var sr="object"==typeof _&&_&&!_.nodeType&&_,_n=sr&&"object"==typeof mt&&mt&&!mt.nodeType&&mt,wr=_n&&_n.exports===sr&&i.process,jn=function(){try{return _n&&_n.require&&_n.require("util").types||wr&&wr.binding&&wr.binding("util")}catch(Pe){}}(),Kn=jn&&jn.isTypedArray,er=Kn?function Zt(we){return function(Pe){return we(Pe)}}(Kn):function Ne(we){return tt(we)&&L(we.length)&&!!$t[Ae(we)]},Yn=Object.prototype.hasOwnProperty;var G=Object.prototype,W=function pe(we,Pe){return function(Xe){return we(Pe(Xe))}}(Object.keys,Object),Bt=Object.prototype.hasOwnProperty;function dn(we){return O(we)?function et(we,Pe){var Xe=ft(we),it=!Xe&&st(we),At=!Xe&&!it&&Ee(we),Ct=!Xe&&!it&&!At&&er(we),tn=Xe||it||At||Ct,un=tn?function Ve(we,Pe){for(var Xe=-1,it=Array(we);++Xe<we;)it[Xe]=Pe(Xe);return it}(we.length,String):[],In=un.length;for(var $n in we)(Pe||Yn.call(we,$n))&&(!tn||!("length"==$n||At&&("offset"==$n||"parent"==$n)||Ct&&("buffer"==$n||"byteLength"==$n||"byteOffset"==$n)||ct($n,In)))&&un.push($n);return un}(we):function Pt(we){if(!function ee(we){var Pe=we&&we.constructor;return we===("function"==typeof Pe&&Pe.prototype||G)}(we))return W(we);var Pe=[];for(var Xe in Object(we))Bt.call(we,Xe)&&"constructor"!=Xe&&Pe.push(Xe);return Pe}(we)}function Qn(we){return function(){if(null===we)throw new Error("Callback was already called.");var Pe=we;we=null,Pe.apply(this,arguments)}}function ur(we){return function(Pe,Xe,it){if(it=ue(it||$),we<=0||!Pe)return it(null);var At=function Tn(we){if(O(we))return function Mn(we){var Pe=-1,Xe=we.length;return function(){return++Pe<Xe?{value:we[Pe],key:Pe}:null}}(we);var Pe=function(we){return qe&&we[qe]&&we[qe]()}(we);return Pe?function fn(we){var Pe=-1;return function(){var it=we.next();return it.done?null:(Pe++,{value:it.value,key:Pe})}}(Pe):function ln(we){var Pe=dn(we),Xe=-1,it=Pe.length;return function(){var Ct=Pe[++Xe];return Xe<it?{value:we[Ct],key:Ct}:null}}(we)}(Pe),Ct=!1,tn=0,un=!1;function In(Rn,lr){if(tn-=1,Rn)Ct=!0,it(Rn);else{if(lr===oe||Ct&&tn<=0)return Ct=!0,it(null);un||$n()}}function $n(){for(un=!0;tn<we&&!Ct;){var Rn=At();if(null===Rn)return Ct=!0,void(tn<=0&&it(null));tn+=1,Xe(Rn.value,Rn.key,Qn(In))}un=!1}$n()}}function yr(we,Pe,Xe,it){ur(Pe)(we,n(Xe),it)}function _r(we,Pe){return function(Xe,it,At){return we(Xe,Pe,it,At)}}function qr(we,Pe,Xe){Xe=ue(Xe||$);var it=0,At=0,Ct=we.length;function tn(un,In){un?Xe(un):(++At===Ct||In===oe)&&Xe(null)}for(0===Ct&&Xe(null);it<Ct;it++)Pe(we[it],it,Qn(tn))}var Or=_r(yr,1/0),kr=function(we,Pe,Xe){(O(we)?qr:Or)(we,n(Pe),Xe)};function br(we){return function(Pe,Xe,it){return we(kr,Pe,n(Xe),it)}}function ri(we,Pe,Xe,it){it=it||$,Pe=Pe||[];var At=[],Ct=0,tn=n(Xe);we(Pe,function(un,In,$n){var Rn=Ct++;tn(un,function(lr,Xr){At[Rn]=Xr,$n(lr)})},function(un){it(un,At)})}var ti=br(ri),Dr=t(ti);function Jn(we){return function(Pe,Xe,it,At){return we(ur(Xe),Pe,n(it),At)}}var Er=Jn(ri),wi=_r(Er,1),si=t(wi);function lo(we,Pe){for(var Xe=-1,it=null==we?0:we.length;++Xe<it&&!1!==Pe(we[Xe],Xe,we););return we}var Hi=function Bi(we){return function(Pe,Xe,it){for(var At=-1,Ct=Object(Pe),tn=it(Pe),un=tn.length;un--;){var In=tn[we?un:++At];if(!1===Xe(Ct[In],In,Ct))break}return Pe}}();function Ci(we,Pe){return we&&Hi(we,Pe,dn)}function ii(we){return we!=we}function B(we,Pe,Xe){return Pe==Pe?function wo(we,Pe,Xe){for(var it=Xe-1,At=we.length;++it<At;)if(we[it]===Pe)return it;return-1}(we,Pe,Xe):function Wi(we,Pe,Xe,it){for(var At=we.length,Ct=Xe+(it?1:-1);it?Ct--:++Ct<At;)if(Pe(we[Ct],Ct,we))return Ct;return-1}(we,ii,Xe)}var V=function(we,Pe,Xe){"function"==typeof Pe&&(Xe=Pe,Pe=null),Xe=ue(Xe||$);var At=dn(we).length;if(!At)return Xe(null);Pe||(Pe=At);var Ct={},tn=0,un=!1,In=Object.create(null),$n=[],Rn=[],lr={};function Xr(Kr,ni){$n.push(function(){!function ki(Kr,ni){if(!un){var ui=Qn(function(Uo,ss){if(tn--,arguments.length>2&&(ss=ne(arguments,1)),Uo){var Qo={};Ci(Ct,function(as,Ns){Qo[Ns]=as}),Qo[Kr]=ss,un=!0,In=Object.create(null),Xe(Uo,Qo)}else Ct[Kr]=ss,Si(Kr)});tn++;var qi=n(ni[ni.length-1]);ni.length>1?qi(Ct,ui):qi(ui)}}(Kr,ni)})}function ci(){if(0===$n.length&&0===tn)return Xe(null,Ct);for(;$n.length&&tn<Pe;)$n.shift()()}function Si(Kr){lo(In[Kr]||[],function(ui){ui()}),ci()}function co(Kr){var ni=[];return Ci(we,function(ui,qi){ft(ui)&&B(ui,Kr,0)>=0&&ni.push(qi)}),ni}Ci(we,function(Kr,ni){if(!ft(Kr))return Xr(ni,[Kr]),void Rn.push(ni);var ui=Kr.slice(0,Kr.length-1),qi=ui.length;if(0===qi)return Xr(ni,Kr),void Rn.push(ni);lr[ni]=qi,lo(ui,function(Uo){if(!we[Uo])throw new Error("async.auto task `"+ni+"` has a non-existent dependency `"+Uo+"` in "+ui.join(", "));!function Ui(Kr,ni){var ui=In[Kr];ui||(ui=In[Kr]=[]),ui.push(ni)}(Uo,function(){0==--qi&&Xr(ni,Kr)})})}),function yo(){for(var ni=0;Rn.length;)ni++,lo(co(Rn.pop()),function(ui){0==--lr[ui]&&Rn.push(ui)});if(ni!==At)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),ci()};function te(we,Pe){for(var Xe=-1,it=null==we?0:we.length,At=Array(it);++Xe<it;)At[Xe]=Pe(we[Xe],Xe,we);return At}var Ce=o?o.prototype:void 0,ze=Ce?Ce.toString:void 0;function We(we){if("string"==typeof we)return we;if(ft(we))return te(we,We)+"";if(function ye(we){return"symbol"==typeof we||tt(we)&&"[object Symbol]"==Ae(we)}(we))return ze?ze.call(we):"";var Pe=we+"";return"0"==Pe&&1/we==-1/0?"-0":Pe}var Pn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),zr="\\ud800-\\udfff",yt="["+zr+"]",Ot="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",en="\\ud83c[\\udffb-\\udfff]",je="[^"+zr+"]",Te="(?:\\ud83c[\\udde6-\\uddff]){2}",pt="[\\ud800-\\udbff][\\udc00-\\udfff]",qt="(?:"+Ot+"|"+en+")?",vn="[\\ufe0e\\ufe0f]?",yn=vn+qt+"(?:\\u200d(?:"+[je,Te,pt].join("|")+")"+vn+qt+")*",pn="(?:"+[je+Ot+"?",Ot,Te,pt,yt].join("|")+")",Ln=RegExp(en+"(?="+en+")|"+pn+yn,"g");function Tr(we){return function Pr(we){return Pn.test(we)}(we)?function Un(we){return we.match(Ln)||[]}(we):function Rt(we){return we.split("")}(we)}var Ur=/^\s+|\s+$/g;function Sr(we,Pe,Xe){if((we=function ar(we){return null==we?"":We(we)}(we))&&(Xe||void 0===Pe))return we.replace(Ur,"");if(!we||!(Pe=We(Pe)))return we;var it=Tr(we),At=Tr(Pe),Ct=function ht(we,Pe){for(var Xe=-1,it=we.length;++Xe<it&&B(Pe,we[Xe],0)>-1;);return Xe}(it,At),tn=function rt(we,Pe){for(var Xe=we.length;Xe--&&B(Pe,we[Xe],0)>-1;);return Xe}(it,At)+1;return function Mt(we,Pe,Xe){var it=we.length;return Xe=void 0===Xe?it:Xe,!Pe&&Xe>=it?we:function dt(we,Pe,Xe){var it=-1,At=we.length;Pe<0&&(Pe=-Pe>At?0:At+Pe),(Xe=Xe>At?At:Xe)<0&&(Xe+=At),At=Pe>Xe?0:Xe-Pe>>>0,Pe>>>=0;for(var Ct=Array(At);++it<At;)Ct[it]=we[it+Pe];return Ct}(we,Pe,Xe)}(it,Ct,tn).join("")}var Fr=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Mr=/,/,Gr=/(=.+)?(\s*)$/,Ar=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function Ni(we,Pe){var Xe={};Ci(we,function(it,At){var Ct,tn=f(it),un=!tn&&1===it.length||tn&&0===it.length;if(ft(it))Ct=it.slice(0,-1),it=it[it.length-1],Xe[At]=Ct.concat(Ct.length>0?In:it);else if(un)Xe[At]=it;else{if(Ct=function oi(we){return(we=(we=(we=we.toString().replace(Ar,"")).match(Fr)[2].replace(" ",""))?we.split(Mr):[]).map(function(Pe){return Sr(Pe.replace(Gr,""))})}(it),0===it.length&&!tn&&0===Ct.length)throw new Error("autoInject task functions require explicit parameters.");tn||Ct.pop(),Xe[At]=Ct.concat(In)}function In($n,Rn){var lr=te(Ct,function(Xr){return $n[Xr]});lr.push(Rn),n(it).apply(null,lr)}}),V(Xe,Pe)}function Qr(){this.head=this.tail=null,this.length=0}function yi(we,Pe){we.length=1,we.head=we.tail=Pe}function ei(we,Pe,Xe){if(null==Pe)Pe=1;else if(0===Pe)throw new Error("Concurrency must not be zero");var it=n(we),At=0,Ct=[],tn=!1;function un(lr,Xr,ci){if(null!=ci&&"function"!=typeof ci)throw new Error("task callback must be a function");if(Rn.started=!0,ft(lr)||(lr=[lr]),0===lr.length&&Rn.idle())return g(function(){Rn.drain()});for(var Ui=0,Si=lr.length;Ui<Si;Ui++){var ki={data:lr[Ui],callback:ci||$};Xr?Rn._tasks.unshift(ki):Rn._tasks.push(ki)}tn||(tn=!0,g(function(){tn=!1,Rn.process()}))}function In(lr){return function(Xr){At-=1;for(var ci=0,Ui=lr.length;ci<Ui;ci++){var Si=lr[ci],ki=B(Ct,Si,0);0===ki?Ct.shift():ki>0&&Ct.splice(ki,1),Si.callback.apply(Si,arguments),null!=Xr&&Rn.error(Xr,Si.data)}At<=Rn.concurrency-Rn.buffer&&Rn.unsaturated(),Rn.idle()&&Rn.drain(),Rn.process()}}var $n=!1,Rn={_tasks:new Qr,concurrency:Pe,payload:Xe,saturated:$,unsaturated:$,buffer:Pe/4,empty:$,drain:$,error:$,started:!1,paused:!1,push:function(lr,Xr){un(lr,!1,Xr)},kill:function(){Rn.drain=$,Rn._tasks.empty()},unshift:function(lr,Xr){un(lr,!0,Xr)},remove:function(lr){Rn._tasks.remove(lr)},process:function(){if(!$n){for($n=!0;!Rn.paused&&At<Rn.concurrency&&Rn._tasks.length;){var lr=[],Xr=[],ci=Rn._tasks.length;Rn.payload&&(ci=Math.min(ci,Rn.payload));for(var Ui=0;Ui<ci;Ui++){var Si=Rn._tasks.shift();lr.push(Si),Ct.push(Si),Xr.push(Si.data)}At+=1,0===Rn._tasks.length&&Rn.empty(),At===Rn.concurrency&&Rn.saturated();var ki=Qn(In(lr));it(Xr,ki)}$n=!1}},length:function(){return Rn._tasks.length},running:function(){return At},workersList:function(){return Ct},idle:function(){return Rn._tasks.length+At===0},pause:function(){Rn.paused=!0},resume:function(){!1!==Rn.paused&&(Rn.paused=!1,g(Rn.process))}};return Rn}function no(we,Pe){return ei(we,1,Pe)}Qr.prototype.removeLink=function(we){return we.prev?we.prev.next=we.next:this.head=we.next,we.next?we.next.prev=we.prev:this.tail=we.prev,we.prev=we.next=null,this.length-=1,we},Qr.prototype.empty=function(){for(;this.head;)this.shift();return this},Qr.prototype.insertAfter=function(we,Pe){Pe.prev=we,Pe.next=we.next,we.next?we.next.prev=Pe:this.tail=Pe,we.next=Pe,this.length+=1},Qr.prototype.insertBefore=function(we,Pe){Pe.prev=we.prev,Pe.next=we,we.prev?we.prev.next=Pe:this.head=Pe,we.prev=Pe,this.length+=1},Qr.prototype.unshift=function(we){this.head?this.insertBefore(this.head,we):yi(this,we)},Qr.prototype.push=function(we){this.tail?this.insertAfter(this.tail,we):yi(this,we)},Qr.prototype.shift=function(){return this.head&&this.removeLink(this.head)},Qr.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},Qr.prototype.toArray=function(){for(var we=Array(this.length),Pe=this.head,Xe=0;Xe<this.length;Xe++)we[Xe]=Pe.data,Pe=Pe.next;return we},Qr.prototype.remove=function(we){for(var Pe=this.head;Pe;){var Xe=Pe.next;we(Pe)&&this.removeLink(Pe),Pe=Xe}return this};var Ti=_r(yr,1);function hi(we,Pe,Xe,it){it=ue(it||$);var At=n(Xe);Ti(we,function(Ct,tn,un){At(Pe,Ct,function(In,$n){Pe=$n,un(In)})},function(Ct){it(Ct,Pe)})}function gi(){var we=te(arguments,n);return function(){var Pe=ne(arguments),Xe=this,it=Pe[Pe.length-1];"function"==typeof it?Pe.pop():it=$,hi(we,Pe,function(At,Ct,tn){Ct.apply(Xe,At.concat(function(un){var In=ne(arguments,1);tn(un,In)}))},function(At,Ct){it.apply(Xe,[At].concat(Ct))})}}var Zi=function(){return gi.apply(null,ne(arguments).reverse())},Ji=Array.prototype.concat,Oi=function(we,Pe,Xe,it){it=it||$;var At=n(Xe);Er(we,Pe,function(Ct,tn){At(Ct,function(un){return un?tn(un):tn(null,ne(arguments,1))})},function(Ct,tn){for(var un=[],In=0;In<tn.length;In++)tn[In]&&(un=Ji.apply(un,tn[In]));return it(Ct,un)})},Ii=_r(Oi,1/0),Pi=_r(Oi,1),_i=function(){var we=ne(arguments),Pe=[null].concat(we);return function(){var Xe=arguments[arguments.length-1];return Xe.apply(this,Pe)}};function Ei(we){return we}function Ri(we,Pe){return function(Xe,it,At,Ct){Ct=Ct||$;var un,tn=!1;Xe(it,function(In,$n,Rn){At(In,function(lr,Xr){lr?Rn(lr):we(Xr)&&!un?(tn=!0,un=Pe(!0,In),Rn(null,oe)):Rn()})},function(In){In?Ct(In):Ct(null,tn?un:Pe(!1))})}}function Vi(we,Pe){return Pe}var Qi=br(Ri(Ei,Vi)),Yi=Jn(Ri(Ei,Vi)),xi=_r(Yi,1);function mi(we){return function(Pe){var Xe=ne(arguments,1);Xe.push(function(it){var At=ne(arguments,1);"object"==typeof console&&(it?console.error&&console.error(it):console[we]&&lo(At,function(Ct){console[we](Ct)}))}),n(Pe).apply(null,Xe)}}var ro=mi("dir");function io(we,Pe,Xe){Xe=Qn(Xe||$);var it=n(we),At=n(Pe);function Ct(un){if(un)return Xe(un);var In=ne(arguments,1);In.push(tn),At.apply(this,In)}function tn(un,In){return un?Xe(un):In?void it(Ct):Xe(null)}tn(null,!0)}function Lo(we,Pe,Xe){Xe=Qn(Xe||$);var it=n(we),At=function(Ct){if(Ct)return Xe(Ct);var tn=ne(arguments,1);if(Pe.apply(this,tn))return it(At);Xe.apply(null,[null].concat(tn))};it(At)}function jo(we,Pe,Xe){Lo(we,function(){return!Pe.apply(this,arguments)},Xe)}function Ko(we,Pe,Xe){Xe=Qn(Xe||$);var it=n(Pe),At=n(we);function Ct(un){if(un)return Xe(un);At(tn)}function tn(un,In){return un?Xe(un):In?void it(Ct):Xe(null)}At(tn)}function Eo(we){return function(Pe,Xe,it){return we(Pe,it)}}function eo(we,Pe,Xe){kr(we,Eo(n(Pe)),Xe)}function Di(we,Pe,Xe,it){ur(Pe)(we,Eo(n(Xe)),it)}var xo=_r(Di,1);function So(we){return f(we)?we:fe(function(Pe,Xe){var it=!0;Pe.push(function(){var At=arguments;it?g(function(){Xe.apply(null,At)}):Xe.apply(null,At)}),we.apply(this,Pe),it=!1})}function Bo(we){return!we}var po=br(Ri(Bo,Bo)),go=Jn(Ri(Bo,Bo)),No=_r(go,1);function qo(we){return function(Pe){return null==Pe?void 0:Pe[we]}}function ko(we,Pe,Xe,it){var At=new Array(Pe.length);we(Pe,function(Ct,tn,un){Xe(Ct,function(In,$n){At[tn]=!!$n,un(In)})},function(Ct){if(Ct)return it(Ct);for(var tn=[],un=0;un<Pe.length;un++)At[un]&&tn.push(Pe[un]);it(null,tn)})}function Go(we,Pe,Xe,it){var At=[];we(Pe,function(Ct,tn,un){Xe(Ct,function(In,$n){In?un(In):($n&&At.push({index:tn,value:Ct}),un())})},function(Ct){Ct?it(Ct):it(null,te(At.sort(function(tn,un){return tn.index-un.index}),qo("value")))})}function Ho(we,Pe,Xe,it){(O(Pe)?ko:Go)(we,Pe,n(Xe),it||$)}var oo=br(Ho),to=Jn(Ho),Ao=_r(to,1);function Co(we,Pe){var Xe=Qn(Pe||$),it=n(So(we));!function At(Ct){if(Ct)return Xe(Ct);it(At)}()}var To=function(we,Pe,Xe,it){it=it||$;var At=n(Xe);Er(we,Pe,function(Ct,tn){At(Ct,function(un,In){return un?tn(un):tn(null,{key:In,val:Ct})})},function(Ct,tn){for(var un={},In=Object.prototype.hasOwnProperty,$n=0;$n<tn.length;$n++)if(tn[$n]){var Rn=tn[$n].key,lr=tn[$n].val;In.call(un,Rn)?un[Rn].push(lr):un[Rn]=[lr]}return it(Ct,un)})},Oo=_r(To,1/0),mo=_r(To,1),Po=mi("log");function vo(we,Pe,Xe,it){it=ue(it||$);var At={},Ct=n(Xe);yr(we,Pe,function(tn,un,In){Ct(tn,un,function($n,Rn){if($n)return In($n);At[un]=Rn,In()})},function(tn){it(tn,At)})}var Mi=_r(vo,1/0),Do=_r(vo,1);function zo(we,Pe){return Pe in we}function Io(we,Pe){var Xe=Object.create(null),it=Object.create(null);Pe=Pe||Ei;var At=n(we),Ct=fe(function(un,In){var $n=Pe.apply(null,un);zo(Xe,$n)?g(function(){In.apply(null,Xe[$n])}):zo(it,$n)?it[$n].push(In):(it[$n]=[In],At.apply(null,un.concat(function(){var Rn=ne(arguments);Xe[$n]=Rn;var lr=it[$n];delete it[$n];for(var Xr=0,ci=lr.length;Xr<ci;Xr++)lr[Xr].apply(null,Rn)})))});return Ct.memo=Xe,Ct.unmemoized=we,Ct}var Se=M(ve?Z.nextTick:re?Oe:v);function D(we,Pe,Xe){Xe=Xe||$;var it=O(Pe)?[]:{};we(Pe,function(At,Ct,tn){n(At)(function(un,In){arguments.length>2&&(In=ne(arguments,1)),it[Ct]=In,tn(un)})},function(At){Xe(At,it)})}function ie(we,Pe){D(kr,we,Pe)}function Be(we,Pe,Xe){D(ur(Pe),we,Xe)}var Qe=function(we,Pe){var Xe=n(we);return ei(function(it,At){Xe(it[0],At)},Pe,1)},ot=function(we,Pe){var Xe=Qe(we,Pe);return Xe.push=function(it,At,Ct){if(null==Ct&&(Ct=$),"function"!=typeof Ct)throw new Error("task callback must be a function");if(Xe.started=!0,ft(it)||(it=[it]),0===it.length)return g(function(){Xe.drain()});At=At||0;for(var tn=Xe._tasks.head;tn&&At>=tn.priority;)tn=tn.next;for(var un=0,In=it.length;un<In;un++){var $n={data:it[un],priority:At,callback:Ct};tn?Xe._tasks.insertBefore(tn,$n):Xe._tasks.push($n)}g(Xe.process)},delete Xe.unshift,Xe};function kt(we,Pe){if(Pe=ue(Pe||$),!ft(we))return Pe(new TypeError("First argument to race must be an array of functions"));if(!we.length)return Pe();for(var Xe=0,it=we.length;Xe<it;Xe++)n(we[Xe])(Pe)}function cn(we,Pe,Xe,it){hi(ne(we).reverse(),Pe,Xe,it)}function xn(we){var Pe=n(we);return fe(function(it,At){return it.push(function(tn,un){var In;tn?At(null,{error:tn}):(In=arguments.length<=2?un:ne(arguments,1),At(null,{value:In}))}),Pe.apply(this,it)})}function Dn(we){var Pe;return ft(we)?Pe=te(we,xn):(Pe={},Ci(we,function(Xe,it){Pe[it]=xn.call(this,Xe)})),Pe}function Wn(we,Pe,Xe,it){Ho(we,Pe,function(At,Ct){Xe(At,function(tn,un){Ct(tn,!un)})},it)}var kn=br(Wn),Cr=Jn(Wn),cr=_r(Cr,1);function hr(we){return function(){return we}}function or(we,Pe,Xe){var it=5,At=0,Ct={times:it,intervalFunc:hr(At)};function tn(Rn,lr){if("object"==typeof lr)Rn.times=+lr.times||it,Rn.intervalFunc="function"==typeof lr.interval?lr.interval:hr(+lr.interval||At),Rn.errorFilter=lr.errorFilter;else{if("number"!=typeof lr&&"string"!=typeof lr)throw new Error("Invalid arguments for async.retry");Rn.times=+lr||it}}if(arguments.length<3&&"function"==typeof we?(Xe=Pe||$,Pe=we):(tn(Ct,we),Xe=Xe||$),"function"!=typeof Pe)throw new Error("Invalid arguments for async.retry");var un=n(Pe),In=1;function $n(){un(function(Rn){Rn&&In++<Ct.times&&("function"!=typeof Ct.errorFilter||Ct.errorFilter(Rn))?setTimeout($n,Ct.intervalFunc(In)):Xe.apply(null,arguments)})}$n()}var pr=function(we,Pe){Pe||(Pe=we,we=null);var Xe=n(Pe);return fe(function(it,At){function Ct(tn){Xe.apply(null,it.concat(tn))}we?or(we,Ct,At):or(Ct,At)})};function Vr(we,Pe){D(Ti,we,Pe)}var Ir=br(Ri(Boolean,Ei)),xr=Jn(Ri(Boolean,Ei)),Lr=_r(xr,1);function Br(we,Pe,Xe){var it=n(Pe);function At(Ct,tn){var un=Ct.criteria,In=tn.criteria;return un<In?-1:un>In?1:0}ti(we,function(Ct,tn){it(Ct,function(un,In){if(un)return tn(un);tn(null,{value:Ct,criteria:In})})},function(Ct,tn){if(Ct)return Xe(Ct);Xe(null,te(tn.sort(At),qo("value")))})}function Nr(we,Pe,Xe){var it=n(we);return fe(function(At,Ct){var un,tn=!1;At.push(function(){tn||(Ct.apply(null,arguments),clearTimeout(un))}),un=setTimeout(function In(){var Rn=new Error('Callback function "'+(we.name||"anonymous")+'" timed out.');Rn.code="ETIMEDOUT",Xe&&(Rn.info=Xe),tn=!0,Ct(Rn)},Pe),it.apply(null,At)})}var Hr=Math.ceil,jr=Math.max;function ai(we,Pe,Xe,it){var At=n(Xe);Er(function $r(we,Pe,Xe,it){for(var At=-1,Ct=jr(Hr((Pe-we)/(Xe||1)),0),tn=Array(Ct);Ct--;)tn[it?Ct:++At]=we,we+=Xe;return tn}(0,we,1),Pe,At,it)}var li=_r(ai,1/0),bi=_r(ai,1);function Jr(we,Pe,Xe,it){arguments.length<=3&&(it=Xe,Xe=Pe,Pe=ft(we)?[]:{}),it=ue(it||$);var At=n(Xe);kr(we,function(Ct,tn,un){At(Pe,Ct,tn,un)},function(Ct){it(Ct,Pe)})}function so(we,Pe){var it,Xe=null;Pe=Pe||$,xo(we,function(At,Ct){n(At)(function(tn,un){it=arguments.length>2?ne(arguments,1):un,Xe=tn,Ct(!tn)})},function(){Pe(Xe,it)})}function zi(we){return function(){return(we.unmemoized||we).apply(null,arguments)}}function vi(we,Pe,Xe){Xe=Qn(Xe||$);var it=n(Pe);if(!we())return Xe(null);var At=function(Ct){if(Ct)return Xe(Ct);if(we())return it(At);var tn=ne(arguments,1);Xe.apply(null,[null].concat(tn))};it(At)}function di(we,Pe,Xe){vi(function(){return!we.apply(this,arguments)},Pe,Xe)}var Yr=function(we,Pe){if(Pe=ue(Pe||$),!ft(we))return Pe(new Error("First argument to waterfall must be an array of functions"));if(!we.length)return Pe();var Xe=0;function it(Ct){var tn=n(we[Xe++]);Ct.push(Qn(At)),tn.apply(null,Ct)}function At(Ct){if(Ct||Xe===we.length)return Pe.apply(null,arguments);it(ne(arguments,1))}it([])};_.default={apply:Q,applyEach:Dr,applyEachSeries:si,asyncify:p,auto:V,autoInject:Ni,cargo:no,compose:Zi,concat:Ii,concatLimit:Oi,concatSeries:Pi,constant:_i,detect:Qi,detectLimit:Yi,detectSeries:xi,dir:ro,doDuring:io,doUntil:jo,doWhilst:Lo,during:Ko,each:eo,eachLimit:Di,eachOf:kr,eachOfLimit:yr,eachOfSeries:Ti,eachSeries:xo,ensureAsync:So,every:po,everyLimit:go,everySeries:No,filter:oo,filterLimit:to,filterSeries:Ao,forever:Co,groupBy:Oo,groupByLimit:To,groupBySeries:mo,log:Po,map:ti,mapLimit:Er,mapSeries:wi,mapValues:Mi,mapValuesLimit:vo,mapValuesSeries:Do,memoize:Io,nextTick:Se,parallel:ie,parallelLimit:Be,priorityQueue:ot,queue:Qe,race:kt,reduce:hi,reduceRight:cn,reflect:xn,reflectAll:Dn,reject:kn,rejectLimit:Cr,rejectSeries:cr,retry:or,retryable:pr,seq:gi,series:Vr,setImmediate:g,some:Ir,someLimit:xr,someSeries:Lr,sortBy:Br,timeout:Nr,times:li,timesLimit:ai,timesSeries:bi,transform:Jr,tryEach:so,unmemoize:zi,until:di,waterfall:Yr,whilst:vi,all:po,allLimit:go,allSeries:No,any:Ir,anyLimit:xr,anySeries:Lr,find:Qi,findLimit:Yi,findSeries:xi,forEach:eo,forEachSeries:xo,forEachLimit:Di,forEachOf:kr,forEachOfSeries:Ti,forEachOfLimit:yr,inject:hi,foldl:hi,foldr:cn,select:oo,selectLimit:to,selectSeries:Ao,wrapSync:p},_.apply=Q,_.applyEach=Dr,_.applyEachSeries=si,_.asyncify=p,_.auto=V,_.autoInject=Ni,_.cargo=no,_.compose=Zi,_.concat=Ii,_.concatLimit=Oi,_.concatSeries=Pi,_.constant=_i,_.detect=Qi,_.detectLimit=Yi,_.detectSeries=xi,_.dir=ro,_.doDuring=io,_.doUntil=jo,_.doWhilst=Lo,_.during=Ko,_.each=eo,_.eachLimit=Di,_.eachOf=kr,_.eachOfLimit=yr,_.eachOfSeries=Ti,_.eachSeries=xo,_.ensureAsync=So,_.every=po,_.everyLimit=go,_.everySeries=No,_.filter=oo,_.filterLimit=to,_.filterSeries=Ao,_.forever=Co,_.groupBy=Oo,_.groupByLimit=To,_.groupBySeries=mo,_.log=Po,_.map=ti,_.mapLimit=Er,_.mapSeries=wi,_.mapValues=Mi,_.mapValuesLimit=vo,_.mapValuesSeries=Do,_.memoize=Io,_.nextTick=Se,_.parallel=ie,_.parallelLimit=Be,_.priorityQueue=ot,_.queue=Qe,_.race=kt,_.reduce=hi,_.reduceRight=cn,_.reflect=xn,_.reflectAll=Dn,_.reject=kn,_.rejectLimit=Cr,_.rejectSeries=cr,_.retry=or,_.retryable=pr,_.seq=gi,_.series=Vr,_.setImmediate=g,_.some=Ir,_.someLimit=xr,_.someSeries=Lr,_.sortBy=Br,_.timeout=Nr,_.times=li,_.timesLimit=ai,_.timesSeries=bi,_.transform=Jr,_.tryEach=so,_.unmemoize=zi,_.until=di,_.waterfall=Yr,_.whilst=vi,_.all=po,_.allLimit=go,_.allSeries=No,_.any=Ir,_.anyLimit=xr,_.anySeries=Lr,_.find=Qi,_.findLimit=Yi,_.findSeries=xi,_.forEach=eo,_.forEachSeries=xo,_.forEachLimit=Di,_.forEachOf=kr,_.forEachOfSeries=Ti,_.forEachOfLimit=yr,_.inject=hi,_.foldl=hi,_.foldr=cn,_.select=oo,_.selectLimit=to,_.selectSeries=Ao,_.wrapSync=p,Object.defineProperty(_,"__esModule",{value:!0})},ne("object"==typeof bt&&void 0!==mt?bt:this.async=this.async||{})}).call(this,wt("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},wt("timers").setImmediate)},{_process:26,timers:27}],2:[function(wt,mt,bt){!function(){"use strict";var _=-1,ve=function(c){null==c&&(c=1024);var f=function(o,l,d){for(var w=l;w<d;w++)o[w]=1-w;if(0<u.array[u.array.length-1]){for(var b=u.array.length-2;0<u.array[b];)b--;o[l]=-b}},n=function(o,l,d){for(var w=l;w<d;w++)o[w]=-w-1},t=function(o){var l=2*o,d=h(s.signed,s.bytes,l);f(d,s.array.length,l),d.set(s.array),s.array=null,s.array=d;var w=h(u.signed,u.bytes,l);n(w,u.array.length,l),w.set(u.array),u.array=null,u.array=w},i=1,s={signed:!0,bytes:4,array:h(!0,4,c)},u={signed:!0,bytes:4,array:h(!0,4,c)};return s.array[0]=1,u.array[0]=0,f(s.array,1,s.array.length),n(u.array,1,u.array.length),{getBaseBuffer:function(){return s.array},getCheckBuffer:function(){return u.array},loadBaseBuffer:function(o){return s.array=o,this},loadCheckBuffer:function(o){return u.array=o,this},size:function(){return Math.max(s.array.length,u.array.length)},getBase:function(o){return s.array.length-1<o?1-o:s.array[o]},getCheck:function(o){return u.array.length-1<o?-o-1:u.array[o]},setBase:function(o,l){s.array.length-1<o&&t(o),s.array[o]=l},setCheck:function(o,l){u.array.length-1<o&&t(o),u.array[o]=l},setFirstUnusedNode:function(o){i=o},getFirstUnusedNode:function(){return i},shrink:function(){for(var o=this.size()-1;!(0<=u.array[o]);)o--;s.array=s.array.subarray(0,o+2),u.array=u.array.subarray(0,o+2)},calc:function(){for(var o=0,l=u.array.length,d=0;d<l;d++)u.array[d]<0&&o++;return{all:l,unused:o,efficiency:(l-o)/l}},dump:function(){var d,o="",l="";for(d=0;d<s.array.length;d++)o=o+" "+this.getBase(d);for(d=0;d<u.array.length;d++)l=l+" "+this.getCheck(d);return console.log("base:"+o),console.log("chck:"+l),"base:"+o+" chck:"+l}}};function v(c){this.bc=ve(c),this.keys=[]}function M(c){this.bc=c,this.bc.shrink()}v.prototype.append=function(c,f){return this.keys.push({k:c,v:f}),this},v.prototype.build=function(c,f){if(null==c&&(c=this.keys),null==c)return new M(this.bc);null==f&&(f=!1);var n=c.map(function(t){return{k:p(t.k+"\0"),v:t.v}});return this.keys=f?n:n.sort(function(t,i){for(var s=t.k,u=i.k,o=Math.min(s.length,u.length),l=0;l<o;l++)if(s[l]!==u[l])return s[l]-u[l];return s.length-u.length}),n=null,this._build(0,0,0,this.keys.length),new M(this.bc)},v.prototype._build=function(c,f,n,t){var i=this.getChildrenInfo(f,n,t),s=this.findAllocatableBase(i);this.setBC(c,i,s);for(var u=0;u<i.length;u+=3){var o=i[u];0!==o&&this._build(s+o,f+1,i[u+1],i[u+2])}},v.prototype.getChildrenInfo=function(c,f,n){var t=this.keys[f].k[c],i=0,s=new Int32Array(3*n);s[i++]=t,s[i++]=f;for(var u=f,o=f;u<f+n;u++){var l=this.keys[u].k[c];t!==l&&(s[i++]=u-o,s[i++]=l,s[i++]=u,t=l,o=u)}return s[i++]=u-o,s.subarray(0,i)},v.prototype.setBC=function(c,f,n){var i,t=this.bc;for(t.setBase(c,n),i=0;i<f.length;i+=3){var s=f[i],u=n+s,o=-t.getBase(u),l=-t.getCheck(u);if(u!==t.getFirstUnusedNode()?t.setCheck(o,-l):t.setFirstUnusedNode(l),t.setBase(l,-o),t.setCheck(u,c),0===s){var b=this.keys[f[i+1]].v;null==b&&(b=0),t.setBase(u,-b-1)}}},v.prototype.findAllocatableBase=function(c){for(var n,f=this.bc,t=f.getFirstUnusedNode();;)if((n=t-c[0])<0)t=-f.getCheck(t);else{for(var i=!0,s=0;s<c.length;s+=3)if(!this.isUnusedNode(n+c[s])){t=-f.getCheck(t),i=!1;break}if(i)return n}},v.prototype.isUnusedNode=function(c){var n=this.bc.getCheck(c);return 0!==c&&n<0},M.prototype.contain=function(c){for(var f=this.bc,n=p(c+="\0"),t=0,i=_,s=0;s<n.length;s++){if((i=this.traverse(t,n[s]))===_)return!1;if(f.getBase(i)<=0)return!0;t=i}return!1},M.prototype.lookup=function(c){for(var f=p(c+="\0"),n=0,t=_,i=0;i<f.length;i++){if((t=this.traverse(n,f[i]))===_)return _;n=t}var u=this.bc.getBase(t);return u<=0?-u-1:_},M.prototype.commonPrefixSearch=function(c){for(var f=p(c),n=0,t=_,i=[],s=0;s<f.length&&(t=this.traverse(n,f[s]))!==_;s++){n=t;var o=this.traverse(t,0);if(o!==_){var l=this.bc.getBase(o),d={};l<=0&&(d.v=-l-1),d.k=x(g(f,0,s+1)),i.push(d)}}return i},M.prototype.traverse=function(c,f){var n=this.bc.getBase(c)+f;return this.bc.getCheck(n)===c?n:_},M.prototype.size=function(){return this.bc.size()},M.prototype.calc=function(){return this.bc.calc()},M.prototype.dump=function(){return this.bc.dump()};var h=function(c,f,n){if(c)switch(f){case 1:return new Int8Array(n);case 2:return new Int16Array(n);case 4:return new Int32Array(n);default:throw new RangeError("Invalid newArray parameter element_bytes:"+f)}else switch(f){case 1:return new Uint8Array(n);case 2:return new Uint16Array(n);case 4:return new Uint32Array(n);default:throw new RangeError("Invalid newArray parameter element_bytes:"+f)}},g=function(c,f,n){var t=new ArrayBuffer(n),i=new Uint8Array(t,0,n),s=c.subarray(f,n);return i.set(s),i},p=function(c){for(var f=new Uint8Array(new ArrayBuffer(4*c.length)),n=0,t=0;n<c.length;){var i,s=c.charCodeAt(n++);if(s>=55296&&s<=56319){var u=s,o=c.charCodeAt(n++);if(!(o>=56320&&o<=57343))return null;i=1024*(u-55296)+65536+(o-56320)}else i=s;i<128?f[t++]=i:i<2048?(f[t++]=i>>>6|192,f[t++]=63&i|128):i<65536?(f[t++]=i>>>12|224,f[t++]=i>>6&63|128,f[t++]=63&i|128):i<1<<21&&(f[t++]=i>>>18|240,f[t++]=i>>12&63|128,f[t++]=i>>6&63|128,f[t++]=63&i|128)}return f.subarray(0,t)},x=function(c){for(var n,t,f="",d=0;d<c.length;)(n=(t=c[d++])<128?t:t>>5==6?(31&t)<<6|63&c[d++]:t>>4==14?(15&t)<<12|(63&c[d++])<<6|63&c[d++]:(7&t)<<18|(63&c[d++])<<12|(63&c[d++])<<6|63&c[d++])<65536?f+=String.fromCharCode(n):(n-=65536,f+=String.fromCharCode(55296|n>>10,56320|1023&n));return f},r={builder:function(c){return new v(c)},load:function(c,f){var n=ve(0);return n.loadBaseBuffer(c),n.loadCheckBuffer(f),new M(n)}};void 0===mt?window.doublearray=r:mt.exports=r}()},{}],3:[function(wt,mt,bt){"use strict";var Z=wt("./viterbi/ViterbiBuilder"),Fe=wt("./viterbi/ViterbiSearcher"),Oe=wt("./util/IpadicFormatter"),_=/\u3001|\u3002/;function ne(Q){this.token_info_dictionary=Q.token_info_dictionary,this.unknown_dictionary=Q.unknown_dictionary,this.viterbi_builder=new Z(Q),this.viterbi_searcher=new Fe(Q.connection_costs),this.formatter=new Oe}ne.splitByPunctuation=function(Q){for(var fe=[],ge=Q;""!==ge;){var re=ge.search(_);if(re<0){fe.push(ge);break}fe.push(ge.substring(0,re+1)),ge=ge.substring(re+1)}return fe},ne.prototype.tokenize=function(Q){for(var fe=ne.splitByPunctuation(Q),ge=[],re=0;re<fe.length;re++)this.tokenizeForSentence(fe[re],ge);return ge},ne.prototype.tokenizeForSentence=function(Q,fe){null==fe&&(fe=[]);var ge=this.getLattice(Q),re=this.viterbi_searcher.search(ge),ve=0;fe.length>0&&(ve=fe[fe.length-1].word_position);for(var v=0;v<re.length;v++){var h,g,p,M=re[v];"KNOWN"===M.type?(g=null==(p=this.token_info_dictionary.getFeatures(M.name))?[]:p.split(","),h=this.formatter.formatEntry(M.name,ve+M.start_pos,M.type,g)):"UNKNOWN"===M.type?(g=null==(p=this.unknown_dictionary.getFeatures(M.name))?[]:p.split(","),h=this.formatter.formatUnknownEntry(M.name,ve+M.start_pos,M.type,g,M.surface_form)):h=this.formatter.formatEntry(M.name,ve+M.start_pos,M.type,[]),fe.push(h)}return fe},ne.prototype.getLattice=function(Q){return this.viterbi_builder.build(Q)},mt.exports=ne},{"./util/IpadicFormatter":19,"./viterbi/ViterbiBuilder":21,"./viterbi/ViterbiSearcher":24}],4:[function(wt,mt,bt){"use strict";var Z=wt("./Tokenizer"),Fe=wt("./loader/NodeDictionaryLoader");function Oe(_){this.dic_path=null==_.dicPath?"dict/":_.dicPath}Oe.prototype.build=function(_){new Fe(this.dic_path).load(function(Q,fe){_(Q,new Z(fe))})},mt.exports=Oe},{"./Tokenizer":3,"./loader/NodeDictionaryLoader":16}],5:[function(wt,mt,bt){"use strict";mt.exports=function Z(Fe,Oe,_,ne,Q){this.class_id=Fe,this.class_name=Oe,this.is_always_invoke=_,this.is_grouping=ne,this.max_length=Q}},{}],6:[function(wt,mt,bt){"use strict";var Z=wt("./InvokeDefinitionMap"),Fe=wt("./CharacterClass"),Oe=wt("../util/SurrogateAwareString"),_="DEFAULT";function ne(){this.character_category_map=new Uint8Array(65536),this.compatible_category_map=new Uint32Array(65536),this.invoke_definition_map=null}ne.load=function(Q,fe,ge){var re=new ne;return re.character_category_map=Q,re.compatible_category_map=fe,re.invoke_definition_map=Z.load(ge),re},ne.parseCharCategory=function(Q,fe){var ge=fe[1],re=parseInt(fe[2]),ve=parseInt(fe[3]),v=parseInt(fe[4]);return!isFinite(re)||0!==re&&1!==re?(console.log("char.def parse error. INVOKE is 0 or 1 in:"+re),null):!isFinite(ve)||0!==ve&&1!==ve?(console.log("char.def parse error. GROUP is 0 or 1 in:"+ve),null):!isFinite(v)||v<0?(console.log("char.def parse error. LENGTH is 1 to n:"+v),null):new Fe(Q,ge,1===re,1===ve,v)},ne.parseCategoryMapping=function(Q){var fe=parseInt(Q[1]),ge=Q[2],re=3<Q.length?Q.slice(3):[];return(!isFinite(fe)||fe<0||fe>65535)&&console.log("char.def parse error. CODE is invalid:"+fe),{start:fe,default:ge,compatible:re}},ne.parseRangeCategoryMapping=function(Q){var fe=parseInt(Q[1]),ge=parseInt(Q[2]),re=Q[3],ve=4<Q.length?Q.slice(4):[];return(!isFinite(fe)||fe<0||fe>65535)&&console.log("char.def parse error. CODE is invalid:"+fe),(!isFinite(ge)||ge<0||ge>65535)&&console.log("char.def parse error. CODE is invalid:"+ge),{start:fe,end:ge,default:re,compatible:ve}},ne.prototype.initCategoryMappings=function(Q){var fe;if(null!=Q)for(var ge=0;ge<Q.length;ge++){var re=Q[ge],ve=re.end||re.start;for(fe=re.start;fe<=ve;fe++){this.character_category_map[fe]=this.invoke_definition_map.lookup(re.default);for(var v=0;v<re.compatible.length;v++){var M=this.compatible_category_map[fe],h=re.compatible[v];if(null!=h){var g=this.invoke_definition_map.lookup(h);null!=g&&(this.compatible_category_map[fe]=M|=1<<g)}}}}var x=this.invoke_definition_map.lookup(_);if(null!=x)for(fe=0;fe<this.character_category_map.length;fe++)0===this.character_category_map[fe]&&(this.character_category_map[fe]=1<<x)},ne.prototype.lookupCompatibleCategory=function(Q){var re,fe=[],ge=Q.charCodeAt(0);if(ge<this.compatible_category_map.length&&(re=this.compatible_category_map[ge]),null==re||0===re)return fe;for(var ve=0;ve<32;ve++)if(re<<31-ve>>>31==1){var v=this.invoke_definition_map.getCharacterClass(ve);if(null==v)continue;fe.push(v)}return fe},ne.prototype.lookup=function(Q){var fe,ge=Q.charCodeAt(0);return Oe.isSurrogatePair(Q)?fe=this.invoke_definition_map.lookup(_):ge<this.character_category_map.length&&(fe=this.character_category_map[ge]),null==fe&&(fe=this.invoke_definition_map.lookup(_)),this.invoke_definition_map.getCharacterClass(fe)},mt.exports=ne},{"../util/SurrogateAwareString":20,"./CharacterClass":5,"./InvokeDefinitionMap":9}],7:[function(wt,mt,bt){"use strict";function Z(Fe,Oe){this.forward_dimension=Fe,this.backward_dimension=Oe,this.buffer=new Int16Array(Fe*Oe+2),this.buffer[0]=Fe,this.buffer[1]=Oe}Z.prototype.put=function(Fe,Oe,_){var ne=Fe*this.backward_dimension+Oe+2;if(this.buffer.length<ne+1)throw"ConnectionCosts buffer overflow";this.buffer[ne]=_},Z.prototype.get=function(Fe,Oe){var _=Fe*this.backward_dimension+Oe+2;if(this.buffer.length<_+1)throw"ConnectionCosts buffer overflow";return this.buffer[_]},Z.prototype.loadConnectionCosts=function(Fe){this.forward_dimension=Fe[0],this.backward_dimension=Fe[1],this.buffer=Fe},mt.exports=Z},{}],8:[function(wt,mt,bt){"use strict";var Z=wt("doublearray"),Fe=wt("./TokenInfoDictionary"),Oe=wt("./ConnectionCosts"),_=wt("./UnknownDictionary");function ne(Q,fe,ge,re){this.trie=null!=Q?Q:Z.builder(0).build([{k:"",v:1}]),this.token_info_dictionary=null!=fe?fe:new Fe,this.connection_costs=null!=ge?ge:new Oe(0,0),this.unknown_dictionary=null!=re?re:new _}ne.prototype.loadTrie=function(Q,fe){return this.trie=Z.load(Q,fe),this},ne.prototype.loadTokenInfoDictionaries=function(Q,fe,ge){return this.token_info_dictionary.loadDictionary(Q),this.token_info_dictionary.loadPosVector(fe),this.token_info_dictionary.loadTargetMap(ge),this},ne.prototype.loadConnectionCosts=function(Q){return this.connection_costs.loadConnectionCosts(Q),this},ne.prototype.loadUnknownDictionaries=function(Q,fe,ge,re,ve,v){return this.unknown_dictionary.loadUnknownDictionaries(Q,fe,ge,re,ve,v),this},mt.exports=ne},{"./ConnectionCosts":7,"./TokenInfoDictionary":10,"./UnknownDictionary":11,doublearray:2}],9:[function(wt,mt,bt){"use strict";var Z=wt("../util/ByteBuffer"),Fe=wt("./CharacterClass");function Oe(){this.map=[],this.lookup_table={}}Oe.load=function(_){for(var ne=new Oe,Q=[],fe=new Z(_);fe.position+1<fe.size();){var ge=Q.length,re=fe.get(),ve=fe.get(),v=fe.getInt(),M=fe.getString();Q.push(new Fe(ge,M,re,ve,v))}return ne.init(Q),ne},Oe.prototype.init=function(_){if(null!=_)for(var ne=0;ne<_.length;ne++){var Q=_[ne];this.map[ne]=Q,this.lookup_table[Q.class_name]=ne}},Oe.prototype.getCharacterClass=function(_){return this.map[_]},Oe.prototype.lookup=function(_){var ne=this.lookup_table[_];return null==ne?null:ne},Oe.prototype.toBuffer=function(){for(var _=new Z,ne=0;ne<this.map.length;ne++){var Q=this.map[ne];_.put(Q.is_always_invoke),_.put(Q.is_grouping),_.putInt(Q.max_length),_.putString(Q.class_name)}return _.shrink(),_.buffer},mt.exports=Oe},{"../util/ByteBuffer":18,"./CharacterClass":5}],10:[function(wt,mt,bt){"use strict";var Z=wt("../util/ByteBuffer");function Fe(){this.dictionary=new Z(10485760),this.target_map={},this.pos_buffer=new Z(10485760)}Fe.prototype.buildDictionary=function(Oe){for(var _={},ne=0;ne<Oe.length;ne++){var Q=Oe[ne];if(!(Q.length<4)){var fe=Q[0],ge=Q[1],re=Q[2],ve=Q[3],v=Q.slice(4).join(",");(!isFinite(ge)||!isFinite(re)||!isFinite(ve))&&console.log(Q),_[this.put(ge,re,ve,fe,v)]=fe}}return this.dictionary.shrink(),this.pos_buffer.shrink(),_},Fe.prototype.put=function(Oe,_,ne,Q,fe){var ge=this.dictionary.position,re=this.pos_buffer.position;return this.dictionary.putShort(Oe),this.dictionary.putShort(_),this.dictionary.putShort(ne),this.dictionary.putInt(re),this.pos_buffer.putString(Q+","+fe),ge},Fe.prototype.addMapping=function(Oe,_){var ne=this.target_map[Oe];null==ne&&(ne=[]),ne.push(_),this.target_map[Oe]=ne},Fe.prototype.targetMapToBuffer=function(){var Oe=new Z,_=Object.keys(this.target_map).length;for(var ne in Oe.putInt(_),this.target_map){var Q=this.target_map[ne],fe=Q.length;Oe.putInt(parseInt(ne)),Oe.putInt(fe);for(var ge=0;ge<Q.length;ge++)Oe.putInt(Q[ge])}return Oe.shrink()},Fe.prototype.loadDictionary=function(Oe){return this.dictionary=new Z(Oe),this},Fe.prototype.loadPosVector=function(Oe){return this.pos_buffer=new Z(Oe),this},Fe.prototype.loadTargetMap=function(Oe){var _=new Z(Oe);for(_.position=0,this.target_map={},_.readInt();!(_.buffer.length<_.position+1);)for(var ne=_.readInt(),Q=_.readInt(),fe=0;fe<Q;fe++){var ge=_.readInt();this.addMapping(ne,ge)}return this},Fe.prototype.getFeatures=function(Oe){var _=parseInt(Oe);if(isNaN(_))return"";var ne=this.dictionary.getInt(_+6);return this.pos_buffer.getString(ne)},mt.exports=Fe},{"../util/ByteBuffer":18}],11:[function(wt,mt,bt){"use strict";var Z=wt("./TokenInfoDictionary"),Fe=wt("./CharacterDefinition"),Oe=wt("../util/ByteBuffer");function _(){this.dictionary=new Oe(10485760),this.target_map={},this.pos_buffer=new Oe(10485760),this.character_definition=null}(_.prototype=Object.create(Z.prototype)).characterDefinition=function(ne){return this.character_definition=ne,this},_.prototype.lookup=function(ne){return this.character_definition.lookup(ne)},_.prototype.lookupCompatibleCategory=function(ne){return this.character_definition.lookupCompatibleCategory(ne)},_.prototype.loadUnknownDictionaries=function(ne,Q,fe,ge,re,ve){this.loadDictionary(ne),this.loadPosVector(Q),this.loadTargetMap(fe),this.character_definition=Fe.load(ge,re,ve)},mt.exports=_},{"../util/ByteBuffer":18,"./CharacterDefinition":6,"./TokenInfoDictionary":10}],12:[function(wt,mt,bt){"use strict";var Z=wt("../CharacterDefinition"),Fe=wt("../InvokeDefinitionMap"),Oe=/^(\w+)\s+(\d)\s+(\d)\s+(\d)/,_=/^(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/,ne=/^(0x[0-9A-F]{4})\.\.(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/;function Q(){this.char_def=new Z,this.char_def.invoke_definition_map=new Fe,this.character_category_definition=[],this.category_mapping=[]}Q.prototype.putLine=function(fe){var ge=Oe.exec(fe);if(null==ge){var v=_.exec(fe);if(null!=v){var M=Z.parseCategoryMapping(v);this.category_mapping.push(M)}var h=ne.exec(fe);if(null!=h){var g=Z.parseRangeCategoryMapping(h);this.category_mapping.push(g)}}else{var ve=Z.parseCharCategory(this.character_category_definition.length,ge);if(null==ve)return;this.character_category_definition.push(ve)}},Q.prototype.build=function(){return this.char_def.invoke_definition_map.init(this.character_category_definition),this.char_def.initCategoryMappings(this.category_mapping),this.char_def},mt.exports=Q},{"../CharacterDefinition":6,"../InvokeDefinitionMap":9}],13:[function(wt,mt,bt){"use strict";var Z=wt("../ConnectionCosts");function Fe(){this.lines=0,this.connection_cost=null}Fe.prototype.putLine=function(Oe){if(0===this.lines){var _=Oe.split(" "),ne=_[0],Q=_[1];if(ne<0||Q<0)throw"Parse error of matrix.def";return this.connection_cost=new Z(ne,Q),this.lines++,this}var fe=Oe.split(" ");if(3!==fe.length)return this;var ge=parseInt(fe[0]),re=parseInt(fe[1]),ve=parseInt(fe[2]);if(ge<0||re<0||!isFinite(ge)||!isFinite(re)||this.connection_cost.forward_dimension<=ge||this.connection_cost.backward_dimension<=re)throw"Parse error of matrix.def";return this.connection_cost.put(ge,re,ve),this.lines++,this},Fe.prototype.build=function(){return this.connection_cost},mt.exports=Fe},{"../ConnectionCosts":7}],14:[function(wt,mt,bt){"use strict";var Z=wt("doublearray"),Fe=wt("../DynamicDictionaries"),Oe=wt("../TokenInfoDictionary"),_=wt("./ConnectionCostsBuilder"),ne=wt("./CharacterDefinitionBuilder"),Q=wt("../UnknownDictionary");function fe(){this.tid_entries=[],this.unk_entries=[],this.cc_builder=new _,this.cd_builder=new ne}fe.prototype.addTokenInfoDictionary=function(ge){var re=ge.split(",");return this.tid_entries.push(re),this},fe.prototype.putCostMatrixLine=function(ge){return this.cc_builder.putLine(ge),this},fe.prototype.putCharDefLine=function(ge){return this.cd_builder.putLine(ge),this},fe.prototype.putUnkDefLine=function(ge){return this.unk_entries.push(ge.split(",")),this},fe.prototype.build=function(){var ge=this.buildTokenInfoDictionary(),re=this.buildUnknownDictionary();return new Fe(ge.trie,ge.token_info_dictionary,this.cc_builder.build(),re)},fe.prototype.buildTokenInfoDictionary=function(){var ge=new Oe,re=ge.buildDictionary(this.tid_entries),ve=this.buildDoubleArray();for(var v in re){var h=ve.lookup(re[v]);ge.addMapping(h,v)}return{trie:ve,token_info_dictionary:ge}},fe.prototype.buildUnknownDictionary=function(){var ge=new Q,re=ge.buildDictionary(this.unk_entries),ve=this.cd_builder.build();for(var v in ge.characterDefinition(ve),re){var h=ve.invoke_definition_map.lookup(re[v]);ge.addMapping(h,v)}return ge},fe.prototype.buildDoubleArray=function(){var ge=0,re=this.tid_entries.map(function(v){return{k:v[0],v:ge++}});return Z.builder(1048576).build(re)},mt.exports=fe},{"../DynamicDictionaries":8,"../TokenInfoDictionary":10,"../UnknownDictionary":11,"./CharacterDefinitionBuilder":12,"./ConnectionCostsBuilder":13,doublearray:2}],15:[function(wt,mt,bt){"use strict";var Z=wt("./TokenizerBuilder"),Fe=wt("./dict/builder/DictionaryBuilder");mt.exports={builder:function(_){return new Z(_)},dictionaryBuilder:function(){return new Fe}}},{"./TokenizerBuilder":4,"./dict/builder/DictionaryBuilder":14}],16:[function(wt,mt,bt){"use strict";var Z=wt("zlibjs/bin/gunzip.min.js"),Fe=wt("./DictionaryLoader");function Oe(_){Fe.apply(this,[_])}(Oe.prototype=Object.create(Fe.prototype)).loadArrayBuffer=function(_,ne){var Q=new XMLHttpRequest;Q.open("GET",_,!0),Q.responseType="arraybuffer",Q.onload=function(){if(this.status>0&&200!==this.status)ne(Q.statusText,null);else{var re=new Z.Zlib.Gunzip(new Uint8Array(this.response)).decompress();ne(null,re.buffer)}},Q.onerror=function(fe){ne(fe,null)},Q.send()},mt.exports=Oe},{"./DictionaryLoader":17,"zlibjs/bin/gunzip.min.js":28}],17:[function(wt,mt,bt){"use strict";var Z=wt("path"),Fe=wt("async"),Oe=wt("../dict/DynamicDictionaries");function _(ne){this.dic=new Oe,this.dic_path=ne}_.prototype.loadArrayBuffer=function(ne,Q){throw new Error("DictionaryLoader#loadArrayBuffer should be overwrite")},_.prototype.load=function(ne){var Q=this.dic,fe=this.dic_path,ge=this.loadArrayBuffer;Fe.parallel([function(re){Fe.map(["base.dat.gz","check.dat.gz"],function(ve,v){ge(Z.join(fe,ve),function(M,h){if(M)return v(M);v(null,h)})},function(ve,v){if(ve)return re(ve);var M=new Int32Array(v[0]),h=new Int32Array(v[1]);Q.loadTrie(M,h),re(null)})},function(re){Fe.map(["tid.dat.gz","tid_pos.dat.gz","tid_map.dat.gz"],function(ve,v){ge(Z.join(fe,ve),function(M,h){if(M)return v(M);v(null,h)})},function(ve,v){if(ve)return re(ve);var M=new Uint8Array(v[0]),h=new Uint8Array(v[1]),g=new Uint8Array(v[2]);Q.loadTokenInfoDictionaries(M,h,g),re(null)})},function(re){ge(Z.join(fe,"cc.dat.gz"),function(ve,v){if(ve)return re(ve);var M=new Int16Array(v);Q.loadConnectionCosts(M),re(null)})},function(re){Fe.map(["unk.dat.gz","unk_pos.dat.gz","unk_map.dat.gz","unk_char.dat.gz","unk_compat.dat.gz","unk_invoke.dat.gz"],function(ve,v){ge(Z.join(fe,ve),function(M,h){if(M)return v(M);v(null,h)})},function(ve,v){if(ve)return re(ve);var M=new Uint8Array(v[0]),h=new Uint8Array(v[1]),g=new Uint8Array(v[2]),p=new Uint8Array(v[3]),x=new Uint32Array(v[4]),r=new Uint8Array(v[5]);Q.loadUnknownDictionaries(M,h,g,p,x,r),re(null)})}],function(re){ne(re,Q)})},mt.exports=_},{"../dict/DynamicDictionaries":8,async:1,path:25}],18:[function(wt,mt,bt){"use strict";function Oe(_){var ne;if(null==_)ne=1048576;else{if("number"!=typeof _){if(_ instanceof Uint8Array)return this.buffer=_,void(this.position=0);throw typeof _+" is invalid parameter type for ByteBuffer constructor"}ne=_}this.buffer=new Uint8Array(ne),this.position=0}Oe.prototype.size=function(){return this.buffer.length},Oe.prototype.reallocate=function(){var _=new Uint8Array(2*this.buffer.length);_.set(this.buffer),this.buffer=_},Oe.prototype.shrink=function(){return this.buffer=this.buffer.subarray(0,this.position),this.buffer},Oe.prototype.put=function(_){this.buffer.length<this.position+1&&this.reallocate(),this.buffer[this.position++]=_},Oe.prototype.get=function(_){return null==_&&(_=this.position,this.position+=1),this.buffer.length<_+1?0:this.buffer[_]},Oe.prototype.putShort=function(_){if(65535<_)throw _+" is over short value";var Q=(65280&_)>>8;this.put(255&_),this.put(Q)},Oe.prototype.getShort=function(_){if(null==_&&(_=this.position,this.position+=2),this.buffer.length<_+2)return 0;var fe=(this.buffer[_+1]<<8)+this.buffer[_];return 32768&fe&&(fe=-(fe-1^65535)),fe},Oe.prototype.putInt=function(_){if(4294967295<_)throw _+" is over integer value";var Q=(65280&_)>>8,fe=(16711680&_)>>16,ge=(4278190080&_)>>24;this.put(255&_),this.put(Q),this.put(fe),this.put(ge)},Oe.prototype.getInt=function(_){return null==_&&(_=this.position,this.position+=4),this.buffer.length<_+4?0:(this.buffer[_+3]<<24)+(this.buffer[_+2]<<16)+(this.buffer[_+1]<<8)+this.buffer[_]},Oe.prototype.readInt=function(){var _=this.position;return this.position+=4,this.getInt(_)},Oe.prototype.putString=function(_){for(var ne=function(_){for(var ne=new Uint8Array(4*_.length),Q=0,fe=0;Q<_.length;){var ge,re=_.charCodeAt(Q++);if(re>=55296&&re<=56319){var ve=re,v=_.charCodeAt(Q++);if(!(v>=56320&&v<=57343))return null;ge=1024*(ve-55296)+65536+(v-56320)}else ge=re;ge<128?ne[fe++]=ge:ge<2048?(ne[fe++]=ge>>>6|192,ne[fe++]=63&ge|128):ge<65536?(ne[fe++]=ge>>>12|224,ne[fe++]=ge>>6&63|128,ne[fe++]=63&ge|128):ge<2097152&&(ne[fe++]=ge>>>18|240,ne[fe++]=ge>>12&63|128,ne[fe++]=ge>>6&63|128,ne[fe++]=63&ge|128)}return ne.subarray(0,fe)}(_),Q=0;Q<ne.length;Q++)this.put(ne[Q]);this.put(0)},Oe.prototype.getString=function(_){var Q,ne=[];for(null==_&&(_=this.position);!(this.buffer.length<_+1||(Q=this.get(_++),0===Q));)ne.push(Q);return this.position=_,function(_){for(var Q,fe,ne="",h=0;h<_.length;)(Q=(fe=_[h++])<128?fe:fe>>5==6?(31&fe)<<6|63&_[h++]:fe>>4==14?(15&fe)<<12|(63&_[h++])<<6|63&_[h++]:(7&fe)<<18|(63&_[h++])<<12|(63&_[h++])<<6|63&_[h++])<65536?ne+=String.fromCharCode(Q):(Q-=65536,ne+=String.fromCharCode(55296|Q>>10,56320|1023&Q));return ne}(ne)},mt.exports=Oe},{}],19:[function(wt,mt,bt){"use strict";function Z(){}Z.prototype.formatEntry=function(Fe,Oe,_,ne){var Q={};return Q.word_id=Fe,Q.word_type=_,Q.word_position=Oe,Q.surface_form=ne[0],Q.pos=ne[1],Q.pos_detail_1=ne[2],Q.pos_detail_2=ne[3],Q.pos_detail_3=ne[4],Q.conjugated_type=ne[5],Q.conjugated_form=ne[6],Q.basic_form=ne[7],Q.reading=ne[8],Q.pronunciation=ne[9],Q},Z.prototype.formatUnknownEntry=function(Fe,Oe,_,ne,Q){var fe={};return fe.word_id=Fe,fe.word_type=_,fe.word_position=Oe,fe.surface_form=Q,fe.pos=ne[1],fe.pos_detail_1=ne[2],fe.pos_detail_2=ne[3],fe.pos_detail_3=ne[4],fe.conjugated_type=ne[5],fe.conjugated_form=ne[6],fe.basic_form=ne[7],fe},mt.exports=Z},{}],20:[function(wt,mt,bt){"use strict";function Z(Fe){this.str=Fe,this.index_mapping=[];for(var Oe=0;Oe<Fe.length;Oe++){var _=Fe.charAt(Oe);this.index_mapping.push(Oe),Z.isSurrogatePair(_)&&Oe++}this.length=this.index_mapping.length}Z.prototype.slice=function(Fe){return this.index_mapping.length<=Fe?"":this.str.slice(this.index_mapping[Fe])},Z.prototype.charAt=function(Fe){if(this.str.length<=Fe)return"";var Oe=this.index_mapping[Fe],_=this.index_mapping[Fe+1];return null==_?this.str.slice(Oe):this.str.slice(Oe,_)},Z.prototype.charCodeAt=function(Fe){if(this.index_mapping.length<=Fe)return NaN;var ne,Oe=this.index_mapping[Fe],_=this.str.charCodeAt(Oe);return _>=55296&&_<=56319&&Oe<this.str.length&&(ne=this.str.charCodeAt(Oe+1))>=56320&&ne<=57343?1024*(_-55296)+ne-56320+65536:_},Z.prototype.toString=function(){return this.str},Z.isSurrogatePair=function(Fe){var Oe=Fe.charCodeAt(0);return Oe>=55296&&Oe<=56319},mt.exports=Z},{}],21:[function(wt,mt,bt){"use strict";var Z=wt("./ViterbiNode"),Fe=wt("./ViterbiLattice"),Oe=wt("../util/SurrogateAwareString");function _(ne){this.trie=ne.trie,this.token_info_dictionary=ne.token_info_dictionary,this.unknown_dictionary=ne.unknown_dictionary}_.prototype.build=function(ne){for(var ge,ve,v,M,Q=new Fe,fe=new Oe(ne),h=0;h<fe.length;h++){for(var g=fe.slice(h),p=this.trie.commonPrefixSearch(g),x=0;x<p.length;x++){ge=p[x].k;for(var r=this.token_info_dictionary.target_map[p[x].v],c=0;c<r.length;c++){var f=parseInt(r[c]);ve=this.token_info_dictionary.dictionary.getShort(f),v=this.token_info_dictionary.dictionary.getShort(f+2),M=this.token_info_dictionary.dictionary.getShort(f+4),Q.append(new Z(f,M,h+1,ge.length,"KNOWN",ve,v,ge))}}var n=new Oe(g),t=new Oe(n.charAt(0)),i=this.unknown_dictionary.lookup(t.toString());if(null==p||0===p.length||1===i.is_always_invoke){if(ge=t,1===i.is_grouping&&1<n.length)for(var s=1;s<n.length;s++){var u=n.charAt(s),o=this.unknown_dictionary.lookup(u);if(i.class_name!==o.class_name)break;ge+=u}for(var l=this.unknown_dictionary.target_map[i.class_id],d=0;d<l.length;d++){var w=parseInt(l[d]);ve=this.unknown_dictionary.dictionary.getShort(w),v=this.unknown_dictionary.dictionary.getShort(w+2),M=this.unknown_dictionary.dictionary.getShort(w+4),Q.append(new Z(w,M,h+1,ge.length,"UNKNOWN",ve,v,ge.toString()))}}}return Q.appendEos(),Q},mt.exports=_},{"../util/SurrogateAwareString":20,"./ViterbiLattice":22,"./ViterbiNode":23}],22:[function(wt,mt,bt){"use strict";var Z=wt("./ViterbiNode");function Fe(){this.nodes_end_at=[],this.nodes_end_at[0]=[new Z(-1,0,0,0,"BOS",0,0,"")],this.eos_pos=1}Fe.prototype.append=function(Oe){var _=Oe.start_pos+Oe.length-1;this.eos_pos<_&&(this.eos_pos=_);var ne=this.nodes_end_at[_];null==ne&&(ne=[]),ne.push(Oe),this.nodes_end_at[_]=ne},Fe.prototype.appendEos=function(){var Oe=this.nodes_end_at.length;this.eos_pos++,this.nodes_end_at[Oe]=[new Z(-1,0,this.eos_pos,0,"EOS",0,0,"")]},mt.exports=Fe},{"./ViterbiNode":23}],23:[function(wt,mt,bt){"use strict";mt.exports=function Z(Fe,Oe,_,ne,Q,fe,ge,re){this.name=Fe,this.cost=Oe,this.start_pos=_,this.length=ne,this.left_id=fe,this.right_id=ge,this.prev=null,this.surface_form=re,this.shortest_cost="BOS"===Q?0:Number.MAX_VALUE,this.type=Q}},{}],24:[function(wt,mt,bt){"use strict";function Z(Fe){this.connection_costs=Fe}Z.prototype.search=function(Fe){return Fe=this.forward(Fe),this.backward(Fe)},Z.prototype.forward=function(Fe){var Oe,_,ne;for(Oe=1;Oe<=Fe.eos_pos;Oe++){var Q=Fe.nodes_end_at[Oe];if(null!=Q)for(_=0;_<Q.length;_++){var re,fe=Q[_],ge=Number.MAX_VALUE,ve=Fe.nodes_end_at[fe.start_pos-1];if(null!=ve){for(ne=0;ne<ve.length;ne++){var M,v=ve[ne];null==fe.left_id||null==v.right_id?(console.log("Left or right is null"),M=0):M=this.connection_costs.get(v.right_id,fe.left_id);var h=v.shortest_cost+M+fe.cost;h<ge&&(re=v,ge=h)}fe.prev=re,fe.shortest_cost=ge}}}return Fe},Z.prototype.backward=function(Fe){var Oe=[],ne=Fe.nodes_end_at[Fe.nodes_end_at.length-1][0].prev;if(null==ne)return[];for(;"BOS"!==ne.type;){if(Oe.push(ne),null==ne.prev)return[];ne=ne.prev}return Oe.reverse()},mt.exports=Z},{}],25:[function(wt,mt,bt){(function(Z){function Fe(Q,fe){for(var ge=0,re=Q.length-1;re>=0;re--){var ve=Q[re];"."===ve?Q.splice(re,1):".."===ve?(Q.splice(re,1),ge++):ge&&(Q.splice(re,1),ge--)}if(fe)for(;ge--;ge)Q.unshift("..");return Q}function _(Q,fe){if(Q.filter)return Q.filter(fe);for(var ge=[],re=0;re<Q.length;re++)fe(Q[re],re,Q)&&ge.push(Q[re]);return ge}bt.resolve=function(){for(var Q="",fe=!1,ge=arguments.length-1;ge>=-1&&!fe;ge--){var re=ge>=0?arguments[ge]:Z.cwd();if("string"!=typeof re)throw new TypeError("Arguments to path.resolve must be strings");re&&(Q=re+"/"+Q,fe="/"===re.charAt(0))}return(fe?"/":"")+(Q=Fe(_(Q.split("/"),function(ve){return!!ve}),!fe).join("/"))||"."},bt.normalize=function(Q){var fe=bt.isAbsolute(Q),ge="/"===ne(Q,-1);return!(Q=Fe(_(Q.split("/"),function(re){return!!re}),!fe).join("/"))&&!fe&&(Q="."),Q&&ge&&(Q+="/"),(fe?"/":"")+Q},bt.isAbsolute=function(Q){return"/"===Q.charAt(0)},bt.join=function(){var Q=Array.prototype.slice.call(arguments,0);return bt.normalize(_(Q,function(fe,ge){if("string"!=typeof fe)throw new TypeError("Arguments to path.join must be strings");return fe}).join("/"))},bt.relative=function(Q,fe){function ge(p){for(var x=0;x<p.length&&""===p[x];x++);for(var r=p.length-1;r>=0&&""===p[r];r--);return x>r?[]:p.slice(x,r-x+1)}Q=bt.resolve(Q).substr(1),fe=bt.resolve(fe).substr(1);for(var re=ge(Q.split("/")),ve=ge(fe.split("/")),v=Math.min(re.length,ve.length),M=v,h=0;h<v;h++)if(re[h]!==ve[h]){M=h;break}var g=[];for(h=M;h<re.length;h++)g.push("..");return(g=g.concat(ve.slice(M))).join("/")},bt.sep="/",bt.delimiter=":",bt.dirname=function(Q){if("string"!=typeof Q&&(Q+=""),0===Q.length)return".";for(var fe=Q.charCodeAt(0),ge=47===fe,re=-1,ve=!0,v=Q.length-1;v>=1;--v)if(47===(fe=Q.charCodeAt(v))){if(!ve){re=v;break}}else ve=!1;return-1===re?ge?"/":".":ge&&1===re?"/":Q.slice(0,re)},bt.basename=function(Q,fe){var ge=function Oe(Q){"string"!=typeof Q&&(Q+="");var ve,fe=0,ge=-1,re=!0;for(ve=Q.length-1;ve>=0;--ve)if(47===Q.charCodeAt(ve)){if(!re){fe=ve+1;break}}else-1===ge&&(re=!1,ge=ve+1);return-1===ge?"":Q.slice(fe,ge)}(Q);return fe&&ge.substr(-1*fe.length)===fe&&(ge=ge.substr(0,ge.length-fe.length)),ge},bt.extname=function(Q){"string"!=typeof Q&&(Q+="");for(var fe=-1,ge=0,re=-1,ve=!0,v=0,M=Q.length-1;M>=0;--M){var h=Q.charCodeAt(M);if(47!==h)-1===re&&(ve=!1,re=M+1),46===h?-1===fe?fe=M:1!==v&&(v=1):-1!==fe&&(v=-1);else if(!ve){ge=M+1;break}}return-1===fe||-1===re||0===v||1===v&&fe===re-1&&fe===ge+1?"":Q.slice(fe,re)};var ne="b"==="ab".substr(-1)?function(Q,fe,ge){return Q.substr(fe,ge)}:function(Q,fe,ge){return fe<0&&(fe=Q.length+fe),Q.substr(fe,ge)}}).call(this,wt("_process"))},{_process:26}],26:[function(wt,mt,bt){var Fe,Oe,Z=mt.exports={};function _(){throw new Error("setTimeout has not been defined")}function ne(){throw new Error("clearTimeout has not been defined")}function Q(x){if(Fe===setTimeout)return setTimeout(x,0);if((Fe===_||!Fe)&&setTimeout)return Fe=setTimeout,setTimeout(x,0);try{return Fe(x,0)}catch(r){try{return Fe.call(null,x,0)}catch(c){return Fe.call(this,x,0)}}}!function(){try{Fe="function"==typeof setTimeout?setTimeout:_}catch(x){Fe=_}try{Oe="function"==typeof clearTimeout?clearTimeout:ne}catch(x){Oe=ne}}();var ve,ge=[],re=!1,v=-1;function M(){!re||!ve||(re=!1,ve.length?ge=ve.concat(ge):v=-1,ge.length&&h())}function h(){if(!re){var x=Q(M);re=!0;for(var r=ge.length;r;){for(ve=ge,ge=[];++v<r;)ve&&ve[v].run();v=-1,r=ge.length}ve=null,re=!1,function fe(x){if(Oe===clearTimeout)return clearTimeout(x);if((Oe===ne||!Oe)&&clearTimeout)return Oe=clearTimeout,clearTimeout(x);try{Oe(x)}catch(r){try{return Oe.call(null,x)}catch(c){return Oe.call(this,x)}}}(x)}}function g(x,r){this.fun=x,this.array=r}function p(){}Z.nextTick=function(x){var r=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)r[c-1]=arguments[c];ge.push(new g(x,r)),1===ge.length&&!re&&Q(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},Z.title="browser",Z.browser=!0,Z.env={},Z.argv=[],Z.version="",Z.versions={},Z.on=p,Z.addListener=p,Z.once=p,Z.off=p,Z.removeListener=p,Z.removeAllListeners=p,Z.emit=p,Z.prependListener=p,Z.prependOnceListener=p,Z.listeners=function(x){return[]},Z.binding=function(x){throw new Error("process.binding is not supported")},Z.cwd=function(){return"/"},Z.chdir=function(x){throw new Error("process.chdir is not supported")},Z.umask=function(){return 0}},{}],27:[function(wt,mt,bt){(function(Z,Fe){var Oe=wt("process/browser.js").nextTick,_=Function.prototype.apply,ne=Array.prototype.slice,Q={},fe=0;function ge(re,ve){this._id=re,this._clearFn=ve}bt.setTimeout=function(){return new ge(_.call(setTimeout,window,arguments),clearTimeout)},bt.setInterval=function(){return new ge(_.call(setInterval,window,arguments),clearInterval)},bt.clearTimeout=bt.clearInterval=function(re){re.close()},ge.prototype.unref=ge.prototype.ref=function(){},ge.prototype.close=function(){this._clearFn.call(window,this._id)},bt.enroll=function(re,ve){clearTimeout(re._idleTimeoutId),re._idleTimeout=ve},bt.unenroll=function(re){clearTimeout(re._idleTimeoutId),re._idleTimeout=-1},bt._unrefActive=bt.active=function(re){clearTimeout(re._idleTimeoutId);var ve=re._idleTimeout;ve>=0&&(re._idleTimeoutId=setTimeout(function(){re._onTimeout&&re._onTimeout()},ve))},bt.setImmediate="function"==typeof Z?Z:function(re){var ve=fe++,v=!(arguments.length<2)&&ne.call(arguments,1);return Q[ve]=!0,Oe(function(){Q[ve]&&(v?re.apply(null,v):re.call(null),bt.clearImmediate(ve))}),ve},bt.clearImmediate="function"==typeof Fe?Fe:function(re){delete Q[re]}}).call(this,wt("timers").setImmediate,wt("timers").clearImmediate)},{"process/browser.js":26,timers:27}],28:[function(wt,mt,bt){(function(){"use strict";function Z(U){throw U}var Fe=void 0,Oe=this;function _(U,y){var O,C=U.split("."),L=Oe;!(C[0]in L)&&L.execScript&&L.execScript("var "+C[0]);for(;C.length&&(O=C.shift());)C.length||y===Fe?L=L[O]?L[O]:L[O]={}:L[O]=y}var Q,ne="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;for(new(ne?Uint8Array:Array)(256),Q=0;256>Q;++Q)for(var ge=(ge=Q)>>>1;ge;ge>>>=1);function re(U,y,C){var L,O="number"==typeof y?y:y=0,oe="number"==typeof C?C:U.length;for(L=-1,O=7&oe;O--;++y)L=L>>>8^v[255&(L^U[y])];for(O=oe>>3;O--;y+=8)L=(L=(L=(L=(L=(L=(L=(L=L>>>8^v[255&(L^U[y])])>>>8^v[255&(L^U[y+1])])>>>8^v[255&(L^U[y+2])])>>>8^v[255&(L^U[y+3])])>>>8^v[255&(L^U[y+4])])>>>8^v[255&(L^U[y+5])])>>>8^v[255&(L^U[y+6])])>>>8^v[255&(L^U[y+7])];return(4294967295^L)>>>0}var ve=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],v=ne?new Uint32Array(ve):ve;function M(){}function h(U){var O,oe,$,ue,qe,Ze,Ve,tt,at,zt,y=U.length,C=0,L=Number.POSITIVE_INFINITY;for(tt=0;tt<y;++tt)U[tt]>C&&(C=U[tt]),U[tt]<L&&(L=U[tt]);for(O=1<<C,oe=new(ne?Uint32Array:Array)(O),$=1,ue=0,qe=2;$<=C;){for(tt=0;tt<y;++tt)if(U[tt]===$){for(Ze=0,Ve=ue,at=0;at<$;++at)Ze=Ze<<1|1&Ve,Ve>>=1;for(zt=$<<16|tt,at=Ze;at<O;at+=qe)oe[at]=zt;++ue}++$,ue<<=1,qe<<=1}return[oe,C,L]}M.prototype.getName=function(){return this.name},M.prototype.getData=function(){return this.data},M.prototype.G=function(){return this.H};var p,g=[];for(p=0;288>p;p++)switch(!0){case 143>=p:g.push([p+48,8]);break;case 255>=p:g.push([p-144+400,9]);break;case 279>=p:g.push([p-256+0,7]);break;case 287>=p:g.push([p-280+192,8]);break;default:Z("invalid literal: "+p)}var x=function(){function U(O){switch(!0){case 3===O:return[257,O-3,0];case 4===O:return[258,O-4,0];case 5===O:return[259,O-5,0];case 6===O:return[260,O-6,0];case 7===O:return[261,O-7,0];case 8===O:return[262,O-8,0];case 9===O:return[263,O-9,0];case 10===O:return[264,O-10,0];case 12>=O:return[265,O-11,1];case 14>=O:return[266,O-13,1];case 16>=O:return[267,O-15,1];case 18>=O:return[268,O-17,1];case 22>=O:return[269,O-19,2];case 26>=O:return[270,O-23,2];case 30>=O:return[271,O-27,2];case 34>=O:return[272,O-31,2];case 42>=O:return[273,O-35,3];case 50>=O:return[274,O-43,3];case 58>=O:return[275,O-51,3];case 66>=O:return[276,O-59,3];case 82>=O:return[277,O-67,4];case 98>=O:return[278,O-83,4];case 114>=O:return[279,O-99,4];case 130>=O:return[280,O-115,4];case 162>=O:return[281,O-131,5];case 194>=O:return[282,O-163,5];case 226>=O:return[283,O-195,5];case 257>=O:return[284,O-227,5];case 258===O:return[285,O-258,0];default:Z("invalid length: "+O)}}var C,L,y=[];for(C=3;258>=C;C++)L=U(C),y[C]=L[2]<<24|L[1]<<16|L[0];return y}();function r(U,y){switch(this.i=[],this.j=32768,this.d=this.f=this.c=this.n=0,this.input=ne?new Uint8Array(U):U,this.o=!1,this.k=f,this.w=!1,(y||!(y={}))&&(y.index&&(this.c=y.index),y.bufferSize&&(this.j=y.bufferSize),y.bufferType&&(this.k=y.bufferType),y.resize&&(this.w=y.resize)),this.k){case c:this.a=32768,this.b=new(ne?Uint8Array:Array)(32768+this.j+258);break;case f:this.a=0,this.b=new(ne?Uint8Array:Array)(this.j),this.e=this.D,this.q=this.A,this.l=this.C;break;default:Z(Error("invalid inflate mode"))}}ne&&new Uint32Array(x);var c=0,f=1;r.prototype.g=function(){for(;!this.o;){var U=xe(this,3);switch(1&U&&(this.o=!0),U>>>=1){case 0:var y=this.input,C=this.c,L=this.b,O=this.a,oe=y.length,$=Fe,qe=L.length,Ze=Fe;switch(this.d=this.f=0,C+1>=oe&&Z(Error("invalid uncompressed block header: LEN")),$=y[C++]|y[C++]<<8,C+1>=oe&&Z(Error("invalid uncompressed block header: NLEN")),$===~(y[C++]|y[C++]<<8)&&Z(Error("invalid uncompressed block header: length verify")),C+$>y.length&&Z(Error("input buffer is broken")),this.k){case c:for(;O+$>L.length;){if($-=Ze=qe-O,ne)L.set(y.subarray(C,C+Ze),O),O+=Ze,C+=Ze;else for(;Ze--;)L[O++]=y[C++];this.a=O,L=this.e(),O=this.a}break;case f:for(;O+$>L.length;)L=this.e({t:2});break;default:Z(Error("invalid inflate mode"))}if(ne)L.set(y.subarray(C,C+$),O),O+=$,C+=$;else for(;$--;)L[O++]=y[C++];this.c=C,this.a=O,this.b=L;break;case 1:this.l(F,Ae);break;case 2:var Wt,Jt,Ye,X,Ve=xe(this,5)+257,tt=xe(this,5)+1,at=xe(this,4)+4,zt=new(ne?Uint8Array:Array)(t.length),st=Fe,ft=Fe,Y=Fe,de=Fe,ae=Fe;for(ae=0;ae<at;++ae)zt[t[ae]]=xe(this,3);if(!ne)for(ae=at,at=zt.length;ae<at;++ae)zt[t[ae]]=0;for(Wt=h(zt),st=new(ne?Uint8Array:Array)(Ve+tt),ae=0,X=Ve+tt;ae<X;)switch(ft=A(this,Wt),ft){case 16:for(de=3+xe(this,2);de--;)st[ae++]=Y;break;case 17:for(de=3+xe(this,3);de--;)st[ae++]=0;Y=0;break;case 18:for(de=11+xe(this,7);de--;)st[ae++]=0;Y=0;break;default:Y=st[ae++]=ft}Jt=h(ne?st.subarray(0,Ve):st.slice(0,Ve)),Ye=h(ne?st.subarray(Ve):st.slice(Ve)),this.l(Jt,Ye);break;default:Z(Error("unknown BTYPE: "+U))}}return this.q()};var S,R,n=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],t=ne?new Uint16Array(n):n,i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],s=ne?new Uint16Array(i):i,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],o=ne?new Uint8Array(u):u,l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],d=ne?new Uint16Array(l):l,w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b=ne?new Uint8Array(w):w,I=new(ne?Uint8Array:Array)(288);for(S=0,R=I.length;S<R;++S)I[S]=143>=S?8:255>=S?9:279>=S?7:8;var K,he,F=h(I),q=new(ne?Uint8Array:Array)(30);for(K=0,he=q.length;K<he;++K)q[K]=5;var Ae=h(q);function xe(U,y){for(var ue,C=U.f,L=U.d,O=U.input,oe=U.c,$=O.length;L<y;)oe>=$&&Z(Error("input buffer is broken")),C|=O[oe++]<<L,L+=8;return ue=C&(1<<y)-1,U.f=C>>>y,U.d=L-y,U.c=oe,ue}function A(U,y){for(var Ze,Ve,C=U.f,L=U.d,O=U.input,oe=U.c,$=O.length,ue=y[0],qe=y[1];L<qe&&!(oe>=$);)C|=O[oe++]<<L,L+=8;return(Ve=(Ze=ue[C&(1<<qe)-1])>>>16)>L&&Z(Error("invalid code length: "+Ve)),U.f=C>>Ve,U.d=L-Ve,U.c=oe,65535&Ze}function N(U){this.input=U,this.c=0,this.m=[],this.s=!1}r.prototype.l=function(U,y){var C=this.b,L=this.a;this.r=U;for(var oe,$,ue,qe,O=C.length-258;256!==(oe=A(this,U));)if(256>oe)L>=O&&(this.a=L,C=this.e(),L=this.a),C[L++]=oe;else for(qe=s[$=oe-257],0<o[$]&&(qe+=xe(this,o[$])),oe=A(this,y),ue=d[oe],0<b[oe]&&(ue+=xe(this,b[oe])),L>=O&&(this.a=L,C=this.e(),L=this.a);qe--;)C[L]=C[L++-ue];for(;8<=this.d;)this.d-=8,this.c--;this.a=L},r.prototype.C=function(U,y){var C=this.b,L=this.a;this.r=U;for(var oe,$,ue,qe,O=C.length;256!==(oe=A(this,U));)if(256>oe)L>=O&&(O=(C=this.e()).length),C[L++]=oe;else for(qe=s[$=oe-257],0<o[$]&&(qe+=xe(this,o[$])),oe=A(this,y),ue=d[oe],0<b[oe]&&(ue+=xe(this,b[oe])),L+qe>O&&(O=(C=this.e()).length);qe--;)C[L]=C[L++-ue];for(;8<=this.d;)this.d-=8,this.c--;this.a=L},r.prototype.e=function(){var C,L,U=new(ne?Uint8Array:Array)(this.a-32768),y=this.a-32768,O=this.b;if(ne)U.set(O.subarray(32768,U.length));else for(C=0,L=U.length;C<L;++C)U[C]=O[C+32768];if(this.i.push(U),this.n+=U.length,ne)O.set(O.subarray(y,y+32768));else for(C=0;32768>C;++C)O[C]=O[y+C];return this.a=32768,O},r.prototype.D=function(U){var y,O,oe,C=this.input.length/this.c+1|0,ue=this.b;return U&&("number"==typeof U.t&&(C=U.t),"number"==typeof U.z&&(C+=U.z)),O=2>C?(oe=(this.input.length-this.c)/this.r[2]/2*258|0)<ue.length?ue.length+oe:ue.length<<1:ue.length*C,ne?(y=new Uint8Array(O)).set(ue):y=ue,this.b=y},r.prototype.q=function(){var L,oe,$,ue,qe,U=0,y=this.b,C=this.i,O=new(ne?Uint8Array:Array)(this.n+(this.a-32768));if(0===C.length)return ne?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(oe=0,$=C.length;oe<$;++oe)for(ue=0,qe=(L=C[oe]).length;ue<qe;++ue)O[U++]=L[ue];for(oe=32768,$=this.a;oe<$;++oe)O[U++]=y[oe];return this.i=[],this.buffer=O},r.prototype.A=function(){var U,y=this.a;return ne?this.w?(U=new Uint8Array(y)).set(this.b.subarray(0,y)):U=this.b.subarray(0,y):(this.b.length>y&&(this.b.length=y),U=this.b),this.buffer=U},N.prototype.F=function(){return this.s||this.g(),this.m.slice()},N.prototype.g=function(){for(var U=this.input.length;this.c<U;){var O,Ze,y=new M,C=Fe,L=Fe,oe=Fe,$=Fe,ue=Fe,qe=Fe,Ve=Fe,tt=this.input,at=this.c;if(8===(y.u=tt[at++],y.v=tt[at++],(31!==y.u||139!==y.v)&&Z(Error("invalid file signature:"+y.u+","+y.v)),y.p=tt[at++],y.p)||Z(Error("unknown compression method: "+y.p)),y.h=tt[at++],Ze=tt[at++]|tt[at++]<<8|tt[at++]<<16|tt[at++]<<24,y.H=new Date(1e3*Ze),y.N=tt[at++],y.M=tt[at++],0<(4&y.h)&&(y.I=tt[at++]|tt[at++]<<8,at+=y.I),0<(8&y.h)){for(qe=[],ue=0;0<($=tt[at++]);)qe[ue++]=String.fromCharCode($);y.name=qe.join("")}if(0<(16&y.h)){for(qe=[],ue=0;0<($=tt[at++]);)qe[ue++]=String.fromCharCode($);y.J=qe.join("")}0<(2&y.h)&&(y.B=65535&re(tt,0,at),y.B!==(tt[at++]|tt[at++]<<8)&&Z(Error("invalid header crc16"))),tt.length-at-4-4<512*(C=tt[tt.length-4]|tt[tt.length-3]<<8|tt[tt.length-2]<<16|tt[tt.length-1]<<24)&&(oe=C),L=new r(tt,{index:at,bufferSize:oe}),y.data=O=L.g(),at=L.c,y.K=Ve=(tt[at++]|tt[at++]<<8|tt[at++]<<16|tt[at++]<<24)>>>0,re(O,Fe,Fe)!==Ve&&Z(Error("invalid CRC-32 checksum: 0x"+re(O,Fe,Fe).toString(16)+" / 0x"+Ve.toString(16))),y.L=C=(tt[at++]|tt[at++]<<8|tt[at++]<<16|tt[at++]<<24)>>>0,(4294967295&O.length)!==C&&Z(Error("invalid input size: "+(4294967295&O.length)+" / "+C)),this.m.push(y),this.c=at}this.s=!0;var Wt,Jt,ft,zt=this.m,Ye=0,st=0;for(Wt=0,Jt=zt.length;Wt<Jt;++Wt)st+=zt[Wt].data.length;if(ne)for(ft=new Uint8Array(st),Wt=0;Wt<Jt;++Wt)ft.set(zt[Wt].data,Ye),Ye+=zt[Wt].data.length;else{for(ft=[],Wt=0;Wt<Jt;++Wt)ft[Wt]=zt[Wt].data;ft=Array.prototype.concat.apply([],ft)}return ft},_("Zlib.Gunzip",N),_("Zlib.Gunzip.prototype.decompress",N.prototype.g),_("Zlib.Gunzip.prototype.getMembers",N.prototype.F),_("Zlib.GunzipMember",M),_("Zlib.GunzipMember.prototype.getName",M.prototype.getName),_("Zlib.GunzipMember.prototype.getData",M.prototype.getData),_("Zlib.GunzipMember.prototype.getMtime",M.prototype.G)}).call(this)},{}],29:[function(wt,mt,bt){"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var Z=function(){function re(ve,v){for(var M=0;M<v.length;M++){var h=v[M];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(ve,h.key,h)}}return function(ve,v,M){return v&&re(ve.prototype,v),M&&re(ve,M),ve}}(),Oe=function _(re){return re&&re.__esModule?re:{default:re}}(wt("kuromoji"));function ne(re,ve){if(!(re instanceof ve))throw new TypeError("Cannot call a class as a function")}var Q=!1;"undefined"==typeof window&&void 0!==mt&&mt.exports&&(Q=!0);var ge=function(){function re(){var ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=ve.dictPath;ne(this,re),this._analyzer=null,this._dictPath=v||(Q?wt.resolve("kuromoji").replace(/src(?!.*src).*/,"dict/"):"node_modules/kuromoji/dict/")}return Z(re,[{key:"init",value:function(){var v=this;return new Promise(function(M,h){var g=v;null==v._analyzer?Oe.default.builder({dicPath:v._dictPath}).build(function(p,x){if(p)return h(p);g._analyzer=x,M()}):h(new Error("This analyzer has already been initialized."))})}},{key:"parse",value:function(){var v=this,M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(h,g){if(""===M.trim())return h([]);for(var p=v._analyzer.tokenize(M),x=0;x<p.length;x++)p[x].verbose={},p[x].verbose.word_id=p[x].word_id,p[x].verbose.word_type=p[x].word_type,p[x].verbose.word_position=p[x].word_position,delete p[x].word_id,delete p[x].word_type,delete p[x].word_position;h(p)})}}]),re}();bt.default=ge,mt.exports=bt.default},{kuromoji:15}]},{},[29])(29)}),function(Nt){"object"==typeof exports&&"undefined"!=typeof module?module.exports=Nt():"function"==typeof define&&define.amd?define([],Nt):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).P2PGraph=Nt()}(function(){return function wt(mt,bt,Z){function Fe(ne,Q){if(!bt[ne]){if(!mt[ne]){var fe="function"==typeof require&&require;if(!Q&&fe)return fe(ne,!0);if(Oe)return Oe(ne,!0);var ge=new Error("Cannot find module '"+ne+"'");throw ge.code="MODULE_NOT_FOUND",ge}var re=bt[ne]={exports:{}};mt[ne][0].call(re.exports,function(ve){return Fe(mt[ne][1][ve]||ve)},re,re.exports,wt,mt,bt,Z)}return bt[ne].exports}for(var Oe="function"==typeof require&&require,_=0;_<Z.length;_++)Fe(Z[_]);return Fe}({1:[function(wt,mt,bt){!function(){var Z={version:"3.5.17"},Fe=[].slice,Oe=function(e){return Fe.call(e)},_=this.document;function ne(e){return e&&(e.ownerDocument||e.document||e).documentElement}function Q(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(_)try{Oe(_.documentElement.childNodes)}catch(e){Oe=function(a){for(var m=a.length,E=new Array(m);m--;)E[m]=a[m];return E}}if(Date.now||(Date.now=function(){return+new Date}),_)try{_.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var fe=this.Element.prototype,ge=fe.setAttribute,re=fe.setAttributeNS,ve=this.CSSStyleDeclaration.prototype,v=ve.setProperty;fe.setAttribute=function(a,m){ge.call(this,a,m+"")},fe.setAttributeNS=function(a,m,E){re.call(this,a,m,E+"")},ve.setProperty=function(a,m,E){v.call(this,a,m+"",E)}}function M(e,a){return e<a?-1:e>a?1:e>=a?0:NaN}function h(e){return null===e?NaN:+e}function g(e){return!isNaN(e)}function p(e){return{left:function(a,m,E,k){for(arguments.length<3&&(E=0),arguments.length<4&&(k=a.length);E<k;){var T=E+k>>>1;e(a[T],m)<0?E=T+1:k=T}return E},right:function(a,m,E,k){for(arguments.length<3&&(E=0),arguments.length<4&&(k=a.length);E<k;){var T=E+k>>>1;e(a[T],m)>0?k=T:E=T+1}return E}}}Z.ascending=M,Z.descending=function(e,a){return a<e?-1:a>e?1:a>=e?0:NaN},Z.min=function(e,a){var k,T,m=-1,E=e.length;if(1===arguments.length){for(;++m<E;)if(null!=(T=e[m])&&T>=T){k=T;break}for(;++m<E;)null!=(T=e[m])&&k>T&&(k=T)}else{for(;++m<E;)if(null!=(T=a.call(e,e[m],m))&&T>=T){k=T;break}for(;++m<E;)null!=(T=a.call(e,e[m],m))&&k>T&&(k=T)}return k},Z.max=function(e,a){var k,T,m=-1,E=e.length;if(1===arguments.length){for(;++m<E;)if(null!=(T=e[m])&&T>=T){k=T;break}for(;++m<E;)null!=(T=e[m])&&T>k&&(k=T)}else{for(;++m<E;)if(null!=(T=a.call(e,e[m],m))&&T>=T){k=T;break}for(;++m<E;)null!=(T=a.call(e,e[m],m))&&T>k&&(k=T)}return k},Z.extent=function(e,a){var k,T,j,m=-1,E=e.length;if(1===arguments.length){for(;++m<E;)if(null!=(T=e[m])&&T>=T){k=j=T;break}for(;++m<E;)null!=(T=e[m])&&(k>T&&(k=T),j<T&&(j=T))}else{for(;++m<E;)if(null!=(T=a.call(e,e[m],m))&&T>=T){k=j=T;break}for(;++m<E;)null!=(T=a.call(e,e[m],m))&&(k>T&&(k=T),j<T&&(j=T))}return[k,j]},Z.sum=function(e,a){var k,m=0,E=e.length,T=-1;if(1===arguments.length)for(;++T<E;)g(k=+e[T])&&(m+=k);else for(;++T<E;)g(k=+a.call(e,e[T],T))&&(m+=k);return m},Z.mean=function(e,a){var k,m=0,E=e.length,T=-1,j=E;if(1===arguments.length)for(;++T<E;)g(k=h(e[T]))?m+=k:--j;else for(;++T<E;)g(k=h(a.call(e,e[T],T)))?m+=k:--j;if(j)return m/j},Z.quantile=function(e,a){var m=(e.length-1)*a+1,E=Math.floor(m),k=+e[E-1],T=m-E;return T?k+T*(e[E]-k):k},Z.median=function(e,a){var k,m=[],E=e.length,T=-1;if(1===arguments.length)for(;++T<E;)g(k=h(e[T]))&&m.push(k);else for(;++T<E;)g(k=h(a.call(e,e[T],T)))&&m.push(k);if(m.length)return Z.quantile(m.sort(M),.5)},Z.variance=function(e,a){var k,T,m=e.length,E=0,j=0,P=-1,H=0;if(1===arguments.length)for(;++P<m;)g(k=h(e[P]))&&(j+=(T=k-E)*(k-(E+=T/++H)));else for(;++P<m;)g(k=h(a.call(e,e[P],P)))&&(j+=(T=k-E)*(k-(E+=T/++H)));if(H>1)return j/(H-1)},Z.deviation=function(){var e=Z.variance.apply(this,arguments);return e&&Math.sqrt(e)};var x=p(M);function r(e){return e.length}Z.bisectLeft=x.left,Z.bisect=Z.bisectRight=x.right,Z.bisector=function(e){return p(1===e.length?function(a,m){return M(e(a),m)}:e)},Z.shuffle=function(e,a,m){(E=arguments.length)<3&&(m=e.length,E<2&&(a=0));for(var k,T,E=m-a;E;)T=Math.random()*E--|0,k=e[E+a],e[E+a]=e[T+a],e[T+a]=k;return e},Z.permute=function(e,a){for(var m=a.length,E=new Array(m);m--;)E[m]=e[a[m]];return E},Z.pairs=function(e){for(var a=0,m=e.length-1,k=e[0],T=new Array(m<0?0:m);a<m;)T[a]=[k,k=e[++a]];return T},Z.transpose=function(e){if(!(T=e.length))return[];for(var a=-1,m=Z.min(e,r),E=new Array(m);++a<m;)for(var T,k=-1,j=E[a]=new Array(T);++k<T;)j[k]=e[k][a];return E},Z.zip=function(){return Z.transpose(arguments)},Z.keys=function(e){var a=[];for(var m in e)a.push(m);return a},Z.values=function(e){var a=[];for(var m in e)a.push(e[m]);return a},Z.entries=function(e){var a=[];for(var m in e)a.push({key:m,value:e[m]});return a},Z.merge=function(e){for(var m,T,j,a=e.length,E=-1,k=0;++E<a;)k+=e[E].length;for(T=new Array(k);--a>=0;)for(m=(j=e[a]).length;--m>=0;)T[--k]=j[m];return T};var c=Math.abs;function f(e){for(var a=1;e*a%1;)a*=10;return a}function n(e,a){for(var m in a)Object.defineProperty(e.prototype,m,{value:a[m],enumerable:!1})}function t(){this._=Object.create(null)}function u(e){return"__proto__"==(e+="")||"\0"===e[0]?"\0"+e:e}function o(e){return"\0"===(e+="")[0]?e.slice(1):e}function l(e){return u(e)in this._}function d(e){return(e=u(e))in this._&&delete this._[e]}function w(){var e=[];for(var a in this._)e.push(o(a));return e}function b(){var e=0;for(var a in this._)++e;return e}function I(){for(var e in this._)return!1;return!0}function S(){this._=Object.create(null)}function R(e){return e}function F(e,a,m){return function(){var E=m.apply(a,arguments);return E===a?e:E}}function q(e,a){if(a in e)return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var m=0,E=K.length;m<E;++m){var k=K[m]+a;if(k in e)return k}}Z.range=function(e,a,m){if(arguments.length<3&&(m=1,arguments.length<2&&(a=e,e=0)),(a-e)/m==1/0)throw new Error("infinite range");var j,E=[],k=f(c(m)),T=-1;if(e*=k,a*=k,(m*=k)<0)for(;(j=e+m*++T)>a;)E.push(j/k);else for(;(j=e+m*++T)<a;)E.push(j/k);return E},Z.map=function(e,a){var m=new t;if(e instanceof t)e.forEach(function(P,H){m.set(P,H)});else if(Array.isArray(e)){var T,E=-1,k=e.length;if(1===arguments.length)for(;++E<k;)m.set(E,e[E]);else for(;++E<k;)m.set(a.call(e,T=e[E],E),T)}else for(var j in e)m.set(j,e[j]);return m},n(t,{has:l,get:function(e){return this._[u(e)]},set:function(e,a){return this._[u(e)]=a},remove:d,keys:w,values:function(){var e=[];for(var a in this._)e.push(this._[a]);return e},entries:function(){var e=[];for(var a in this._)e.push({key:o(a),value:this._[a]});return e},size:b,empty:I,forEach:function(e){for(var a in this._)e.call(this,o(a),this._[a])}}),Z.nest=function(){var E,k,e={},a=[],m=[];function T(P,H,J){if(J>=a.length)return k?k.call(e,H):E?H.sort(E):H;for(var Me,Ge,ke,Le,se=-1,me=H.length,_e=a[J++],Re=new t;++se<me;)(Le=Re.get(Me=_e(Ge=H[se])))?Le.push(Ge):Re.set(Me,[Ge]);return P?(Ge=P(),ke=function(Ke,De){Ge.set(Ke,T(P,De,J))}):(Ge={},ke=function(Ke,De){Ge[Ke]=T(P,De,J)}),Re.forEach(ke),Ge}function j(P,H){if(H>=a.length)return P;var J=[],se=m[H++];return P.forEach(function(me,_e){J.push({key:me,values:j(_e,H)})}),se?J.sort(function(me,_e){return se(me.key,_e.key)}):J}return e.map=function(P,H){return T(H,P,0)},e.entries=function(P){return j(T(Z.map,P,0),0)},e.key=function(P){return a.push(P),e},e.sortKeys=function(P){return m[a.length-1]=P,e},e.sortValues=function(P){return E=P,e},e.rollup=function(P){return k=P,e},e},Z.set=function(e){var a=new S;if(e)for(var m=0,E=e.length;m<E;++m)a.add(e[m]);return a},n(S,{has:l,add:function(e){return this._[u(e+="")]=!0,e},remove:d,values:w,size:b,empty:I,forEach:function(e){for(var a in this._)e.call(this,o(a))}}),Z.behavior={},Z.rebind=function(e,a){for(var k,m=1,E=arguments.length;++m<E;)e[k=arguments[m]]=F(e,a,a[k]);return e};var K=["webkit","ms","moz","Moz","o","O"];function he(){}function Ae(){}function xe(e){var a=[],m=new t;function E(){for(var P,k=a,T=-1,j=k.length;++T<j;)(P=k[T].on)&&P.apply(this,arguments);return e}return E.on=function(k,T){var P,j=m.get(k);return arguments.length<2?j&&j.on:(j&&(j.on=null,a=a.slice(0,P=a.indexOf(j)).concat(a.slice(P+1)),m.remove(k)),T&&a.push(m.set(k,{on:T})),e)},E}function A(){Z.event.preventDefault()}function N(){for(var a,e=Z.event;a=e.sourceEvent;)e=a;return e}function U(e){for(var a=new Ae,m=0,E=arguments.length;++m<E;)a[arguments[m]]=xe(a);return a.of=function(k,T){return function(j){try{var P=j.sourceEvent=Z.event;j.target=e,Z.event=j,a[j.type].apply(k,T)}finally{Z.event=P}}},a}Z.dispatch=function(){for(var e=new Ae,a=-1,m=arguments.length;++a<m;)e[arguments[a]]=xe(e);return e},Ae.prototype.on=function(e,a){var m=e.indexOf("."),E="";if(m>=0&&(E=e.slice(m+1),e=e.slice(0,m)),e)return arguments.length<2?this[e].on(E):this[e].on(E,a);if(2===arguments.length){if(null==a)for(e in this)this.hasOwnProperty(e)&&this[e].on(E,null);return this}},Z.event=null,Z.requote=function(e){return e.replace(y,"\\$&")};var y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,C={}.__proto__?function(e,a){e.__proto__=a}:function(e,a){for(var m in a)e[m]=a[m]};function L(e){return C(e,ue),e}var O=function(e,a){return a.querySelector(e)},oe=function(e,a){return a.querySelectorAll(e)},$=function(e,a){var m=e.matches||e[q(e,"matchesSelector")];return($=function(E,k){return m.call(E,k)})(e,a)};"function"==typeof Sizzle&&(O=function(e,a){return Sizzle(e,a)[0]||null},oe=Sizzle,$=Sizzle.matchesSelector),Z.selection=function(){return Z.select(_.documentElement)};var ue=Z.selection.prototype=[];function qe(e){return"function"==typeof e?e:function(){return O(e,this)}}function Ze(e){return"function"==typeof e?e:function(){return oe(e,this)}}ue.select=function(e){var m,E,k,T,a=[];e=qe(e);for(var j=-1,P=this.length;++j<P;){a.push(m=[]),m.parentNode=(k=this[j]).parentNode;for(var H=-1,J=k.length;++H<J;)(T=k[H])?(m.push(E=e.call(T,T.__data__,H,j)),E&&"__data__"in T&&(E.__data__=T.__data__)):m.push(null)}return L(a)},ue.selectAll=function(e){var m,E,a=[];e=Ze(e);for(var k=-1,T=this.length;++k<T;)for(var j=this[k],P=-1,H=j.length;++P<H;)(E=j[P])&&(a.push(m=Oe(e.call(E,E.__data__,P,k))),m.parentNode=E);return L(a)};var Ve="http://www.w3.org/1999/xhtml",tt={svg:"http://www.w3.org/2000/svg",xhtml:Ve,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function at(e,a){return e=Z.ns.qualify(e),null==a?e.local?function E(){this.removeAttributeNS(e.space,e.local)}:function m(){this.removeAttribute(e)}:"function"==typeof a?e.local?function P(){var H=a.apply(this,arguments);null==H?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,H)}:function j(){var H=a.apply(this,arguments);null==H?this.removeAttribute(e):this.setAttribute(e,H)}:e.local?function T(){this.setAttributeNS(e.space,e.local,a)}:function k(){this.setAttribute(e,a)}}function zt(e){return e.trim().replace(/\s+/g," ")}function Wt(e){return new RegExp("(?:^|\\s+)"+Z.requote(e)+"(?:\\s+|$)","g")}function Jt(e){return(e+"").trim().split(/^|\s+/)}function Ye(e,a){var m=(e=Jt(e).map(st)).length;return"function"==typeof a?function k(){for(var T=-1,j=a.apply(this,arguments);++T<m;)e[T](this,j)}:function E(){for(var T=-1;++T<m;)e[T](this,a)}}function st(e){var a=Wt(e);return function(m,E){if(k=m.classList)return E?k.add(e):k.remove(e);var k=m.getAttribute("class")||"";E?(a.lastIndex=0,a.test(k)||m.setAttribute("class",zt(k+" "+e))):m.setAttribute("class",zt(k.replace(a," ")))}}function ft(e,a,m){return null==a?function E(){this.style.removeProperty(e)}:"function"==typeof a?function T(){var j=a.apply(this,arguments);null==j?this.style.removeProperty(e):this.style.setProperty(e,j,m)}:function k(){this.style.setProperty(e,a,m)}}function Y(e,a){return null==a?function m(){delete this[e]}:"function"==typeof a?function k(){var T=a.apply(this,arguments);null==T?delete this[e]:this[e]=T}:function E(){this[e]=a}}function de(e){return"function"==typeof e?e:(e=Z.ns.qualify(e)).local?function m(){return this.ownerDocument.createElementNS(e.space,e.local)}:function a(){var E=this.ownerDocument,k=this.namespaceURI;return k===Ve&&E.documentElement.namespaceURI===Ve?E.createElement(e):E.createElementNS(k,e)}}function X(){var e=this.parentNode;e&&e.removeChild(this)}function ae(e){return{__data__:e}}function Je(e){return function(){return $(this,e)}}function ce(e){return arguments.length||(e=M),function(a,m){return a&&m?e(a.__data__,m.__data__):!a-!m}}function Ee(e,a){for(var m=0,E=e.length;m<E;m++)for(var P,k=e[m],T=0,j=k.length;T<j;T++)(P=k[T])&&a(P,T,m);return e}function $e(e){return C(e,nt),e}Z.ns={prefix:tt,qualify:function(e){var a=e.indexOf(":"),m=e;return a>=0&&"xmlns"!==(m=e.slice(0,a))&&(e=e.slice(a+1)),tt.hasOwnProperty(m)?{space:tt[m],local:e}:e}},ue.attr=function(e,a){if(arguments.length<2){if("string"==typeof e){var m=this.node();return(e=Z.ns.qualify(e)).local?m.getAttributeNS(e.space,e.local):m.getAttribute(e)}for(a in e)this.each(at(a,e[a]));return this}return this.each(at(e,a))},ue.classed=function(e,a){if(arguments.length<2){if("string"==typeof e){var m=this.node(),E=(e=Jt(e)).length,k=-1;if(a=m.classList){for(;++k<E;)if(!a.contains(e[k]))return!1}else for(a=m.getAttribute("class");++k<E;)if(!Wt(e[k]).test(a))return!1;return!0}for(a in e)this.each(Ye(a,e[a]));return this}return this.each(Ye(e,a))},ue.style=function(e,a,m){var E=arguments.length;if(E<3){if("string"!=typeof e){for(m in E<2&&(a=""),e)this.each(ft(m,e[m],a));return this}if(E<2){var k=this.node();return Q(k).getComputedStyle(k,null).getPropertyValue(e)}m=""}return this.each(ft(e,a,m))},ue.property=function(e,a){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(a in e)this.each(Y(a,e[a]));return this}return this.each(Y(e,a))},ue.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var a=e.apply(this,arguments);this.textContent=null==a?"":a}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},ue.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var a=e.apply(this,arguments);this.innerHTML=null==a?"":a}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},ue.append=function(e){return e=de(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},ue.insert=function(e,a){return e=de(e),a=qe(a),this.select(function(){return this.insertBefore(e.apply(this,arguments),a.apply(this,arguments)||null)})},ue.remove=function(){return this.each(X)},ue.data=function(e,a){var k,T,m=-1,E=this.length;if(!arguments.length){for(e=new Array(E=(k=this[0]).length);++m<E;)(T=k[m])&&(e[m]=T.__data__);return e}function j(se,me){var _e,De,He,Me=se.length,Ge=me.length,ke=Math.min(Me,Ge),Re=new Array(Ge),Le=new Array(Ge),Ke=new Array(Me);if(a){var gt,Et=new t,lt=new Array(Me);for(_e=-1;++_e<Me;)(De=se[_e])&&(Et.has(gt=a.call(De,De.__data__,_e))?Ke[_e]=De:Et.set(gt,De),lt[_e]=gt);for(_e=-1;++_e<Ge;)(De=Et.get(gt=a.call(me,He=me[_e],_e)))?!0!==De&&(Re[_e]=De,De.__data__=He):Le[_e]=ae(He),Et.set(gt,!0);for(_e=-1;++_e<Me;)_e in lt&&!0!==Et.get(lt[_e])&&(Ke[_e]=se[_e])}else{for(_e=-1;++_e<ke;)He=me[_e],(De=se[_e])?(De.__data__=He,Re[_e]=De):Le[_e]=ae(He);for(;_e<Ge;++_e)Le[_e]=ae(me[_e]);for(;_e<Me;++_e)Ke[_e]=se[_e]}Le.update=Re,Le.parentNode=Re.parentNode=Ke.parentNode=se.parentNode,P.push(Le),H.push(Re),J.push(Ke)}var P=$e([]),H=L([]),J=L([]);if("function"==typeof e)for(;++m<E;)j(k=this[m],e.call(k,k.parentNode.__data__,m));else for(;++m<E;)j(k=this[m],e);return H.enter=function(){return P},H.exit=function(){return J},H},ue.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},ue.filter=function(e){var m,E,k,a=[];"function"!=typeof e&&(e=Je(e));for(var T=0,j=this.length;T<j;T++){a.push(m=[]),m.parentNode=(E=this[T]).parentNode;for(var P=0,H=E.length;P<H;P++)(k=E[P])&&e.call(k,k.__data__,P,T)&&m.push(k)}return L(a)},ue.order=function(){for(var e=-1,a=this.length;++e<a;)for(var T,m=this[e],E=m.length-1,k=m[E];--E>=0;)(T=m[E])&&(k&&k!==T.nextSibling&&k.parentNode.insertBefore(T,k),k=T);return this},ue.sort=function(e){e=ce.apply(this,arguments);for(var a=-1,m=this.length;++a<m;)this[a].sort(e);return this.order()},ue.each=function(e){return Ee(this,function(a,m,E){e.call(a,a.__data__,m,E)})},ue.call=function(e){var a=Oe(arguments);return e.apply(a[0]=this,a),this},ue.empty=function(){return!this.node()},ue.node=function(){for(var e=0,a=this.length;e<a;e++)for(var m=this[e],E=0,k=m.length;E<k;E++){var T=m[E];if(T)return T}return null},ue.size=function(){var e=0;return Ee(this,function(){++e}),e};var nt=[];function ct(e){var a,m;return function(E,k,T){var H,j=e[T].update,P=j.length;for(T!=m&&(m=T,a=0),k>=a&&(a=k+1);!(H=j[a])&&++a<P;);return H}}function Ut(e,a,m){var E="__on"+e,k=e.indexOf("."),T=Dt;k>0&&(e=e.slice(0,k));var j=Ht.get(e);function P(){var se=this[E];se&&(this.removeEventListener(e,se,se.$),delete this[E])}return j&&(e=j,T=Xt),k?a?function H(){var se=T(a,Oe(arguments));P.call(this),this.addEventListener(e,this[E]=se,se.$=m),se._=a}:P:a?he:function J(){var me,se=new RegExp("^__on([^.]+)"+Z.requote(e)+"$");for(var _e in this)if(me=_e.match(se)){var Me=this[_e];this.removeEventListener(me[1],Me,Me.$),delete this[_e]}}}Z.selection.enter=$e,Z.selection.enter.prototype=nt,nt.append=ue.append,nt.empty=ue.empty,nt.node=ue.node,nt.call=ue.call,nt.size=ue.size,nt.select=function(e){for(var m,E,k,T,j,a=[],P=-1,H=this.length;++P<H;){k=(T=this[P]).update,a.push(m=[]),m.parentNode=T.parentNode;for(var J=-1,se=T.length;++J<se;)(j=T[J])?(m.push(k[J]=E=e.call(T.parentNode,j.__data__,J,P)),E.__data__=j.__data__):m.push(null)}return L(a)},nt.insert=function(e,a){return arguments.length<2&&(a=ct(this)),ue.insert.call(this,e,a)},Z.select=function(e){var a;return"string"==typeof e?(a=[O(e,_)]).parentNode=_.documentElement:(a=[e]).parentNode=ne(e),L([a])},Z.selectAll=function(e){var a;return"string"==typeof e?(a=Oe(oe(e,_))).parentNode=_.documentElement:(a=Oe(e)).parentNode=null,L([a])},ue.on=function(e,a,m){var E=arguments.length;if(E<3){if("string"!=typeof e){for(m in E<2&&(a=!1),e)this.each(Ut(m,e[m],a));return this}if(E<2)return(E=this.node()["__on"+e])&&E._;m=!1}return this.each(Ut(e,a,m))};var Ht=Z.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Dt(e,a){return function(m){var E=Z.event;Z.event=m,a[0]=this.__data__;try{e.apply(this,a)}finally{Z.event=E}}}function Xt(e,a){var m=Dt(e,a);return function(E){var k=this,T=E.relatedTarget;(!T||T!==k&&!(8&T.compareDocumentPosition(k)))&&m.call(k,E)}}_&&Ht.forEach(function(e){"on"+e in _&&Ht.remove(e)});var Gt,bn=0;function Nn(e){var a=".dragsuppress-"+ ++bn,m="click"+a,E=Z.select(Q(e)).on("touchmove"+a,A).on("dragstart"+a,A).on("selectstart"+a,A);if(null==Gt&&(Gt=!("onselectstart"in e)&&q(e.style,"userSelect")),Gt){var k=ne(e).style,T=k[Gt];k[Gt]="none"}return function(j){if(E.on(a,null),Gt&&(k[Gt]=T),j){var P=function(){E.on(m,null)};E.on(m,function(){A(),P()},!0),setTimeout(P,0)}}}Z.mouse=function(e){return Cn(e,N())};var En=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Cn(e,a){a.changedTouches&&(a=a.changedTouches[0]);var m=e.ownerSVGElement||e;if(m.createSVGPoint){var E=m.createSVGPoint();if(En<0){var k=Q(e);if(k.scrollX||k.scrollY){var T=(m=Z.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();En=!(T.f||T.e),m.remove()}}return En?(E.x=a.pageX,E.y=a.pageY):(E.x=a.clientX,E.y=a.clientY),[(E=E.matrixTransform(e.getScreenCTM().inverse())).x,E.y]}var j=e.getBoundingClientRect();return[a.clientX-j.left-e.clientLeft,a.clientY-j.top-e.clientTop]}function Bn(){return Z.event.changedTouches[0].identifier}Z.touch=function(e,a,m){if(arguments.length<3&&(m=a,a=N().changedTouches),a)for(var T,E=0,k=a.length;E<k;++E)if((T=a[E]).identifier===m)return Cn(e,T)},Z.behavior.drag=function(){var e=U(k,"drag","dragstart","dragend"),a=null,m=T(he,Z.mouse,Q,"mousemove","mouseup"),E=T(Bn,Z.touch,R,"touchmove","touchend");function k(){this.on("mousedown.drag",m).on("touchstart.drag",E)}function T(j,P,H,J,se){return function(){var Ke,me=this,_e=Z.event.target.correspondingElement||Z.event.target,Me=me.parentNode,Ge=e.of(me,arguments),ke=0,Re=j(),Le=".drag"+(null==Re?"":"-"+Re),De=Z.select(H(_e)).on(J+Le,lt).on(se+Le,gt),He=Nn(_e),Et=P(Me,Re);function lt(){var jt,Yt,ut=P(Me,Re);!ut||(ke|=(jt=ut[0]-Et[0])|(Yt=ut[1]-Et[1]),Et=ut,Ge({type:"drag",x:ut[0]+Ke[0],y:ut[1]+Ke[1],dx:jt,dy:Yt}))}function gt(){!P(Me,Re)||(De.on(J+Le,null).on(se+Le,null),He(ke),Ge({type:"dragend"}))}Ke=a?[(Ke=a.apply(me,arguments)).x-Et[0],Ke.y-Et[1]]:[0,0],Ge({type:"dragstart"})}}return k.origin=function(j){return arguments.length?(a=j,k):a},Z.rebind(k,e,"on")},Z.touches=function(e,a){return arguments.length<2&&(a=N().touches),a?Oe(a).map(function(m){var E=Cn(e,m);return E.identifier=m.identifier,E}):[]};var _t=1e-6,Xn=1e-12,zn=Math.PI,Fn=2*zn,Zn=Fn-_t,vr=zn/2,nn=zn/180,mn=180/zn;function Hn(e){return e>0?1:e<0?-1:0}function An(e,a,m){return(a[0]-e[0])*(m[1]-e[1])-(a[1]-e[1])*(m[0]-e[0])}function tr(e){return e>1?0:e<-1?zn:Math.acos(e)}function Rr(e){return e>1?vr:e<-1?-vr:Math.asin(e)}function nr(e){return((e=Math.exp(e))+1/e)/2}function Ne(e){return(e=Math.sin(e/2))*e}var Zt=Math.SQRT2;Z.interpolateZoom=function(e,a){var me,_e,m=e[0],E=e[1],k=e[2],P=a[2],H=a[0]-m,J=a[1]-E,se=H*H+J*J;if(se<Xn)_e=Math.log(P/k)/Zt,me=function(Ke){return[m+Ke*H,E+Ke*J,k*Math.exp(Zt*Ke*_e)]};else{var Me=Math.sqrt(se),Ge=(P*P-k*k+4*se)/(2*k*2*Me),ke=(P*P-k*k-4*se)/(2*P*2*Me),Re=Math.log(Math.sqrt(Ge*Ge+1)-Ge),Le=Math.log(Math.sqrt(ke*ke+1)-ke);_e=(Le-Re)/Zt,me=function(Ke){var De=Ke*_e,He=nr(Re),Et=k/(2*Me)*(He*function $t(e){return((e=Math.exp(2*e))-1)/(e+1)}(Zt*De+Re)-function ir(e){return((e=Math.exp(e))-1/e)/2}(Re));return[m+Et*H,E+Et*J,k*He/nr(Zt*De+Re)]}}return me.duration=1e3*_e,me},Z.behavior.zoom=function(){var a,m,E,me,Me,ke,Re,Le,Ke,e={x:0,y:0,k:1},k=[960,500],T=Vn,j=250,P=0,H="mousedown.zoom",J="mousemove.zoom",se="mouseup.zoom",_e="touchstart.zoom",Ge=U(De,"zoomstart","zoom","zoomend");function De(Tt){Tt.on(H,wn).on(jn+".zoom",Vt).on("dblclick.zoom",sn).on(_e,St)}function He(Tt){return[(Tt[0]-e.x)/e.k,(Tt[1]-e.y)/e.k]}function lt(Tt){e.k=Math.max(T[0],Math.min(T[1],Tt))}function gt(Tt,rn){rn=function Et(Tt){return[Tt[0]*e.k+e.x,Tt[1]*e.k+e.y]}(rn),e.x+=Tt[0]-rn[0],e.y+=Tt[1]-rn[1]}function ut(Tt,rn,On,rr){Tt.__chart__={x:e.x,y:e.y,k:e.k},lt(Math.pow(2,rr)),gt(m=rn,On),Tt=Z.select(Tt),j>0&&(Tt=Tt.transition().duration(j)),Tt.call(De.event)}function jt(){Re&&Re.domain(ke.range().map(function(Tt){return(Tt-e.x)/e.k}).map(ke.invert)),Ke&&Ke.domain(Le.range().map(function(Tt){return(Tt-e.y)/e.k}).map(Le.invert))}function Yt(Tt){P++||Tt({type:"zoomstart"})}function Sn(Tt){jt(),Tt({type:"zoom",scale:e.k,translate:[e.x,e.y]})}function gn(Tt){--P||(Tt({type:"zoomend"}),m=null)}function wn(){var Tt=this,rn=Ge.of(Tt,arguments),On=0,rr=Z.select(Q(Tt)).on(J,Zr).on(se,Fi),mr=He(Z.mouse(Tt)),Wr=Nn(Tt);function Zr(){On=1,gt(Z.mouse(Tt),mr),Sn(rn)}function Fi(){rr.on(J,null).on(se,null),Wr(On),gn(rn)}Is.call(Tt),Yt(rn)}function St(){var mr,Tt=this,rn=Ge.of(Tt,arguments),On={},rr=0,Wr=".zoom-"+Z.event.changedTouches[0].identifier,Zr="touchmove"+Wr,Fi="touchend"+Wr,Gi=[],ji=Z.select(Tt),$i=Nn(Tt);function Li(){var bo=Z.touches(Tt);return mr=e.k,bo.forEach(function(Ai){Ai.identifier in On&&(On[Ai.identifier]=He(Ai))}),bo}function Xi(){var bo=Z.event.target;Z.select(bo).on(Zr,Zo).on(Fi,fu),Gi.push(bo);for(var Ai=Z.event.changedTouches,uo=0,Mo=Ai.length;uo<Mo;++uo)On[Ai[uo].identifier]=null;var fo=Li(),os=Date.now();if(1===fo.length)os-Me<500&&(ut(Tt,Jo=fo[0],On[Jo.identifier],Math.floor(Math.log(e.k)/Math.LN2)+1),A()),Me=os;else if(fo.length>1){var Jo,Vo=fo[1],Bs=(Jo=fo[0])[0]-Vo[0],dc=Jo[1]-Vo[1];rr=Bs*Bs+dc*dc}}function Zo(){var Ai,uo,Mo,fo,bo=Z.touches(Tt);Is.call(Tt);for(var os=0,Jo=bo.length;os<Jo;++os,fo=null)if(fo=On[(Mo=bo[os]).identifier]){if(uo)break;Ai=Mo,uo=fo}if(fo){var Vo=(Vo=Mo[0]-Ai[0])*Vo+(Vo=Mo[1]-Ai[1])*Vo,Bs=rr&&Math.sqrt(Vo/rr);Ai=[(Ai[0]+Mo[0])/2,(Ai[1]+Mo[1])/2],uo=[(uo[0]+fo[0])/2,(uo[1]+fo[1])/2],lt(Bs*mr)}Me=null,gt(Ai,uo),Sn(rn)}function fu(){if(Z.event.touches.length){for(var bo=Z.event.changedTouches,Ai=0,uo=bo.length;Ai<uo;++Ai)delete On[bo[Ai].identifier];for(var Mo in On)return void Li()}Z.selectAll(Gi).on(Wr,null),ji.on(H,wn).on(_e,St),$i(),gn(rn)}Xi(),Yt(rn),ji.on(H,null).on(_e,Xi)}function Vt(){var Tt=Ge.of(this,arguments);me?clearTimeout(me):(Is.call(this),a=He(m=E||Z.mouse(this)),Yt(Tt)),me=setTimeout(function(){me=null,gn(Tt)},50),A(),lt(Math.pow(2,.002*wr())*e.k),gt(m,a),Sn(Tt)}function sn(){var Tt=Z.mouse(this),rn=Math.log(e.k)/Math.LN2;ut(this,Tt,He(Tt),Z.event.shiftKey?Math.ceil(rn)-1:Math.floor(rn)+1)}return jn||(jn="onwheel"in _?(wr=function(){return-Z.event.deltaY*(Z.event.deltaMode?120:1)},"wheel"):"onmousewheel"in _?(wr=function(){return Z.event.wheelDelta},"mousewheel"):(wr=function(){return-Z.event.detail},"MozMousePixelScroll")),De.event=function(Tt){Tt.each(function(){var rn=Ge.of(this,arguments),On=e;$o?Z.select(this).transition().each("start.zoom",function(){e=this.__chart__||{x:0,y:0,k:1},Yt(rn)}).tween("zoom:zoom",function(){var rr=k[0],Wr=m?m[0]:rr/2,Zr=m?m[1]:k[1]/2,Fi=Z.interpolateZoom([(Wr-e.x)/e.k,(Zr-e.y)/e.k,rr/e.k],[(Wr-On.x)/On.k,(Zr-On.y)/On.k,rr/On.k]);return function(Gi){var ji=Fi(Gi),$i=rr/ji[2];this.__chart__=e={x:Wr-ji[0]*$i,y:Zr-ji[1]*$i,k:$i},Sn(rn)}}).each("interrupt.zoom",function(){gn(rn)}).each("end.zoom",function(){gn(rn)}):(this.__chart__=e,Yt(rn),Sn(rn),gn(rn))})},De.translate=function(Tt){return arguments.length?(e={x:+Tt[0],y:+Tt[1],k:e.k},jt(),De):[e.x,e.y]},De.scale=function(Tt){return arguments.length?(e={x:e.x,y:e.y,k:null},lt(+Tt),jt(),De):e.k},De.scaleExtent=function(Tt){return arguments.length?(T=null==Tt?Vn:[+Tt[0],+Tt[1]],De):T},De.center=function(Tt){return arguments.length?(E=Tt&&[+Tt[0],+Tt[1]],De):E},De.size=function(Tt){return arguments.length?(k=Tt&&[+Tt[0],+Tt[1]],De):k},De.duration=function(Tt){return arguments.length?(j=+Tt,De):j},De.x=function(Tt){return arguments.length?(Re=Tt,ke=Tt.copy(),e={x:0,y:0,k:1},De):Re},De.y=function(Tt){return arguments.length?(Ke=Tt,Le=Tt.copy(),e={x:0,y:0,k:1},De):Ke},Z.rebind(De,Ge,"on")};var wr,jn,Vn=[0,1/0];function Kn(){}function er(e,a,m){return this instanceof er?(this.h=+e,this.s=+a,void(this.l=+m)):arguments.length<2?e instanceof er?new er(e.h,e.s,e.l):kr(""+e,br,er):new er(e,a,m)}Z.color=Kn,Kn.prototype.toString=function(){return this.rgb()+""},Z.hsl=er;var Gn=er.prototype=new Kn;function Yn(e,a,m){var E,k;function j(P){return Math.round(255*function T(P){return P>360?P-=360:P<0&&(P+=360),P<60?E+(k-E)*P/60:P<180?k:P<240?E+(k-E)*(240-P)/60:E}(P))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,a=isNaN(a)||a<0?0:a>1?1:a,E=2*(m=m<0?0:m>1?1:m)-(k=m<=.5?m*(1+a):m+a-m*a),new ur(j(e+120),j(e),j(e-120))}function et(e,a,m){return this instanceof et?(this.h=+e,this.c=+a,void(this.l=+m)):arguments.length<2?e instanceof et?new et(e.h,e.c,e.l):fn(e instanceof pe?e.l:(e=ri((e=Z.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new et(e,a,m)}Gn.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new er(this.h,this.s,this.l/e)},Gn.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new er(this.h,this.s,e*this.l)},Gn.rgb=function(){return Yn(this.h,this.s,this.l)},Z.hcl=et;var G=et.prototype=new Kn;function ee(e,a,m){return isNaN(e)&&(e=0),isNaN(a)&&(a=0),new pe(m,Math.cos(e*=nn)*a,Math.sin(e)*a)}function pe(e,a,m){return this instanceof pe?(this.l=+e,this.a=+a,void(this.b=+m)):arguments.length<2?e instanceof pe?new pe(e.l,e.a,e.b):e instanceof et?ee(e.h,e.c,e.l):ri((e=ur(e)).r,e.g,e.b):new pe(e,a,m)}G.brighter=function(e){return new et(this.h,this.c,Math.min(100,this.l+W*(arguments.length?e:1)))},G.darker=function(e){return new et(this.h,this.c,Math.max(0,this.l-W*(arguments.length?e:1)))},G.rgb=function(){return ee(this.h,this.c,this.l).rgb()},Z.lab=pe;var W=18,dn=pe.prototype=new Kn;function Mn(e,a,m){var E=(e+16)/116,k=E+a/500,T=E-m/200;return new ur(Qn(3.2404542*(k=.95047*ln(k))-1.5371385*(E=1*ln(E))-.4985314*(T=1.08883*ln(T))),Qn(-.969266*k+1.8760108*E+.041556*T),Qn(.0556434*k-.2040259*E+1.0572252*T))}function fn(e,a,m){return e>0?new et(Math.atan2(m,a)*mn,Math.sqrt(a*a+m*m),e):new et(NaN,NaN,e)}function ln(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function Tn(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function Qn(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ur(e,a,m){return this instanceof ur?(this.r=~~e,this.g=~~a,void(this.b=~~m)):arguments.length<2?e instanceof ur?new ur(e.r,e.g,e.b):kr(""+e,ur,Yn):new ur(e,a,m)}function yr(e){return new ur(e>>16,e>>8&255,255&e)}function _r(e){return yr(e)+""}dn.brighter=function(e){return new pe(Math.min(100,this.l+W*(arguments.length?e:1)),this.a,this.b)},dn.darker=function(e){return new pe(Math.max(0,this.l-W*(arguments.length?e:1)),this.a,this.b)},dn.rgb=function(){return Mn(this.l,this.a,this.b)},Z.rgb=ur;var qr=ur.prototype=new Kn;function Or(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function kr(e,a,m){var j,P,H,E=0,k=0,T=0;if(j=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(P=j[2].split(","),j[1]){case"hsl":return m(parseFloat(P[0]),parseFloat(P[1])/100,parseFloat(P[2])/100);case"rgb":return a(Dr(P[0]),Dr(P[1]),Dr(P[2]))}return(H=Jn.get(e))?a(H.r,H.g,H.b):(null!=e&&"#"===e.charAt(0)&&!isNaN(H=parseInt(e.slice(1),16))&&(4===e.length?(E=(3840&H)>>4,E|=E>>4,k=240&H,k|=k>>4,T=15&H,T|=T<<4):7===e.length&&(E=(16711680&H)>>16,k=(65280&H)>>8,T=255&H)),a(E,k,T))}function br(e,a,m){var j,P,E=Math.min(e/=255,a/=255,m/=255),k=Math.max(e,a,m),T=k-E,H=(k+E)/2;return T?(P=H<.5?T/(k+E):T/(2-k-E),j=e==k?(a-m)/T+(a<m?6:0):a==k?(m-e)/T+2:(e-a)/T+4,j*=60):(j=NaN,P=H>0&&H<1?0:j),new er(j,P,H)}function ri(e,a,m){var E=Tn((.4124564*(e=ti(e))+.3575761*(a=ti(a))+.1804375*(m=ti(m)))/.95047),k=Tn((.2126729*e+.7151522*a+.072175*m)/1);return pe(116*k-16,500*(E-k),200*(k-Tn((.0193339*e+.119192*a+.9503041*m)/1.08883)))}function ti(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Dr(e){var a=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*a):a}qr.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var a=this.r,m=this.g,E=this.b,k=30;return a||m||E?(a&&a<k&&(a=k),m&&m<k&&(m=k),E&&E<k&&(E=k),new ur(Math.min(255,a/e),Math.min(255,m/e),Math.min(255,E/e))):new ur(k,k,k)},qr.darker=function(e){return new ur((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},qr.hsl=function(){return br(this.r,this.g,this.b)},qr.toString=function(){return"#"+Or(this.r)+Or(this.g)+Or(this.b)};var Jn=Z.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Er(e){return"function"==typeof e?e:function(){return e}}function wi(e){return function(a,m,E){return 2===arguments.length&&"function"==typeof m&&(E=m,m=null),si(a,m,e,E)}}function si(e,a,m,E){var k={},T=Z.dispatch("beforesend","progress","load","error"),j={},P=new XMLHttpRequest,H=null;function J(){var me,se=P.status;if(!se&&function Bi(e){var a=e.responseType;return a&&"text"!==a?e.response:e.responseText}(P)||se>=200&&se<300||304===se){try{me=m.call(k,P)}catch(_e){return void T.error.call(k,_e)}T.load.call(k,me)}else T.error.call(k,P)}return this.XDomainRequest&&!("withCredentials"in P)&&/^(http(s)?:)?\/\//.test(e)&&(P=new XDomainRequest),"onload"in P?P.onload=P.onerror=J:P.onreadystatechange=function(){P.readyState>3&&J()},P.onprogress=function(se){var me=Z.event;Z.event=se;try{T.progress.call(k,P)}finally{Z.event=me}},k.header=function(se,me){return se=(se+"").toLowerCase(),arguments.length<2?j[se]:(null==me?delete j[se]:j[se]=me+"",k)},k.mimeType=function(se){return arguments.length?(a=null==se?null:se+"",k):a},k.responseType=function(se){return arguments.length?(H=se,k):H},k.response=function(se){return m=se,k},["get","post"].forEach(function(se){k[se]=function(){return k.send.apply(k,[se].concat(Oe(arguments)))}}),k.send=function(se,me,_e){if(2===arguments.length&&"function"==typeof me&&(_e=me,me=null),P.open(se,e,!0),null!=a&&!("accept"in j)&&(j.accept=a+",*/*"),P.setRequestHeader)for(var Me in j)P.setRequestHeader(Me,j[Me]);return null!=a&&P.overrideMimeType&&P.overrideMimeType(a),null!=H&&(P.responseType=H),null!=_e&&k.on("error",_e).on("load",function(Ge){_e(null,Ge)}),T.beforesend.call(k,P),P.send(null==me?null:me),k},k.abort=function(){return P.abort(),k},Z.rebind(k,T,"on"),null==E?k:k.get(function lo(e){return 1===e.length?function(a,m){e(null==a?m:null)}:e}(E))}Jn.forEach(function(e,a){Jn.set(e,yr(a))}),Z.functor=Er,Z.xhr=wi(R),Z.dsv=function(e,a){var m=new RegExp('["'+e+"\n]"),E=e.charCodeAt(0);function k(J,se,me){arguments.length<3&&(me=se,se=null);var _e=si(J,a,null==se?T:j(se),me);return _e.row=function(Me){return arguments.length?_e.response(null==(se=Me)?T:j(Me)):se},_e}function T(J){return k.parse(J.responseText)}function j(J){return function(se){return k.parse(se.responseText,J)}}function P(J){return J.map(H).join(e)}function H(J){return m.test(J)?'"'+J.replace(/\"/g,'""')+'"':J}return k.parse=function(J,se){var me;return k.parseRows(J,function(_e,Me){if(me)return me(_e,Me-1);var Ge=new Function("d","return {"+_e.map(function(ke,Re){return JSON.stringify(ke)+": d["+Re+"]"}).join(",")+"}");me=se?function(ke,Re){return se(Ge(ke),Re)}:Ge})},k.parseRows=function(J,se){var Le,Ke,me={},_e={},Me=[],Ge=J.length,ke=0,Re=0;function De(){if(ke>=Ge)return _e;if(Ke)return Ke=!1,me;var Et=ke;if(34===J.charCodeAt(Et)){for(var lt=Et;lt++<Ge;)if(34===J.charCodeAt(lt)){if(34!==J.charCodeAt(lt+1))break;++lt}return ke=lt+2,13===(gt=J.charCodeAt(lt+1))?(Ke=!0,10===J.charCodeAt(lt+2)&&++ke):10===gt&&(Ke=!0),J.slice(Et+1,lt).replace(/""/g,'"')}for(;ke<Ge;){var gt,ut=1;if(10===(gt=J.charCodeAt(ke++)))Ke=!0;else if(13===gt)Ke=!0,10===J.charCodeAt(ke)&&(++ke,++ut);else if(gt!==E)continue;return J.slice(Et,ke-ut)}return J.slice(Et)}for(;(Le=De())!==_e;){for(var He=[];Le!==me&&Le!==_e;)He.push(Le),Le=De();se&&null==(He=se(He,Re++))||Me.push(He)}return Me},k.format=function(J){if(Array.isArray(J[0]))return k.formatRows(J);var se=new S,me=[];return J.forEach(function(_e){for(var Me in _e)se.has(Me)||me.push(se.add(Me))}),[me.map(H).join(e)].concat(J.map(function(_e){return me.map(function(Me){return H(_e[Me])}).join(e)})).join("\n")},k.formatRows=function(J){return J.map(P).join("\n")},k},Z.csv=Z.dsv(",","text/csv"),Z.tsv=Z.dsv("\t","text/tab-separated-values");var Hi,Ci,Wi,ii,wo=this[q(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function B(e,a,m){var E=arguments.length;E<2&&(a=0),E<3&&(m=Date.now());var k=m+a,T={c:e,t:k,n:null};return Ci?Ci.n=T:Hi=T,Ci=T,Wi||(ii=clearTimeout(ii),Wi=1,wo(V)),T}function V(){var e=te(),a=le()-e;a>24?(isFinite(a)&&(clearTimeout(ii),ii=setTimeout(V,a)),Wi=0):(Wi=1,wo(V))}function te(){for(var e=Date.now(),a=Hi;a;)e>=a.t&&a.c(e-a.t)&&(a.c=null),a=a.n;return e}function le(){for(var e,a=Hi,m=1/0;a;)a.c?(a.t<m&&(m=a.t),a=(e=a).n):a=e?e.n=a.n:Hi=a.n;return Ci=e,m}function ye(e,a){return a-(e?Math.ceil(Math.log(e)/Math.LN10):1)}Z.timer=function(){B.apply(this,arguments)},Z.timer.flush=function(){te(),le()},Z.round=function(e,a){return a?Math.round(e*(a=Math.pow(10,a)))/a:Math.round(e)};var Ie=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(function Ce(e,a){var m=Math.pow(10,3*c(8-a));return{scale:a>8?function(E){return E/m}:function(E){return E*m},symbol:e}});function ze(e){var a=e.decimal,m=e.thousands,E=e.grouping,k=e.currency,T=E&&m?function(j,P){for(var H=j.length,J=[],se=0,me=E[0],_e=0;H>0&&me>0&&(_e+me+1>P&&(me=Math.max(1,P-_e)),J.push(j.substring(H-=me,H+me)),!((_e+=me+1)>P));)me=E[se=(se+1)%E.length];return J.reverse().join(m)}:R;return function(j){var P=We.exec(j),H=P[1]||" ",J=P[2]||">",se=P[3]||"-",me=P[4]||"",_e=P[5],Me=+P[6],Ge=P[7],ke=P[8],Re=P[9],Le=1,Ke="",De="",He=!1,Et=!0;switch(ke&&(ke=+ke.substring(1)),(_e||"0"===H&&"="===J)&&(_e=H="0",J="="),Re){case"n":Ge=!0,Re="g";break;case"%":Le=100,De="%",Re="f";break;case"p":Le=100,De="%",Re="r";break;case"b":case"o":case"x":case"X":"#"===me&&(Ke="0"+Re.toLowerCase());case"c":Et=!1;case"d":He=!0,ke=0;break;case"s":Le=-1,Re="r"}"$"===me&&(Ke=k[0],De=k[1]),"r"==Re&&!ke&&(Re="g"),null!=ke&&("g"==Re?ke=Math.max(1,Math.min(21,ke)):("e"==Re||"f"==Re)&&(ke=Math.max(0,Math.min(20,ke)))),Re=dt.get(Re)||Mt;var lt=_e&&Ge;return function(gt){var ut=De;if(He&&gt%1)return"";var jt=gt<0||0===gt&&1/gt<0?(gt=-gt,"-"):"-"===se?"":se;if(Le<0){var Yt=Z.formatPrefix(gt,ke);gt=Yt.scale(gt),ut=Yt.symbol+De}else gt*=Le;var gn,wn,Sn=(gt=Re(gt,ke)).lastIndexOf(".");if(Sn<0){var St=Et?gt.lastIndexOf("e"):-1;St<0?(gn=gt,wn=""):(gn=gt.substring(0,St),wn=gt.substring(St))}else gn=gt.substring(0,Sn),wn=a+gt.substring(Sn+1);!_e&&Ge&&(gn=T(gn,1/0));var Vt=Ke.length+gn.length+wn.length+(lt?0:jt.length),sn=Vt<Me?new Array(Vt=Me-Vt+1).join(H):"";return lt&&(gn=T(sn+gn,sn.length?Me-wn.length:1/0)),jt+=Ke,gt=gn+wn,("<"===J?jt+gt+sn:">"===J?sn+jt+gt:"^"===J?sn.substring(0,Vt>>=1)+jt+gt+sn.substring(Vt):jt+(lt?gt:sn+gt))+ut}}}Z.formatPrefix=function(e,a){var m=0;return(e=+e)&&(e<0&&(e*=-1),a&&(e=Z.round(e,ye(e,a))),m=1+Math.floor(1e-12+Math.log(e)/Math.LN10),m=Math.max(-24,Math.min(24,3*Math.floor((m-1)/3)))),Ie[8+m/3]};var We=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,dt=Z.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,a){return e.toPrecision(a)},e:function(e,a){return e.toExponential(a)},f:function(e,a){return e.toFixed(a)},r:function(e,a){return(e=Z.round(e,ye(e,a))).toFixed(Math.max(0,Math.min(20,ye(e*(1+1e-15),a))))}});function Mt(e){return e+""}var rt=Z.time={},ht=Date;function Rt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Rt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ft.setUTCDate.apply(this._,arguments)},setDay:function(){Ft.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ft.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ft.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ft.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ft.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ft.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ft.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ft.setTime.apply(this._,arguments)}};var Ft=Date.prototype;function xt(e,a,m){function E(J){var se=e(J),me=T(se,1);return J-se<me-J?se:me}function k(J){return a(J=e(new ht(J-1)),1),J}function T(J,se){return a(J=new ht(+J),se),J}function j(J,se,me){var _e=k(J),Me=[];if(me>1)for(;_e<se;)m(_e)%me||Me.push(new Date(+_e)),a(_e,1);else for(;_e<se;)Me.push(new Date(+_e)),a(_e,1);return Me}e.floor=e,e.round=E,e.ceil=k,e.offset=T,e.range=j;var H=e.utc=Lt(e);return H.floor=H,H.round=Lt(E),H.ceil=Lt(k),H.offset=Lt(T),H.range=function P(J,se,me){try{ht=Rt;var _e=new Rt;return _e._=J,j(_e,se,me)}finally{ht=Date}},e}function Lt(e){return function(a,m){try{ht=Rt;var E=new Rt;return E._=a,e(E,m)._}finally{ht=Date}}}function It(e){var a=e.dateTime,m=e.date,E=e.time,k=e.periods,T=e.days,j=e.shortDays,P=e.months,H=e.shortMonths;function J(St){var Vt=St.length;function sn(Tt){for(var mr,Wr,Zr,rn=[],On=-1,rr=0;++On<Vt;)37===St.charCodeAt(On)&&(rn.push(St.slice(rr,On)),null!=(Wr=on[mr=St.charAt(++On)])&&(mr=St.charAt(++On)),(Zr=He[mr])&&(mr=Zr(Tt,null==Wr?"e"===mr?" ":"0":Wr)),rn.push(mr),rr=On+1);return rn.push(St.slice(rr,On)),rn.join("")}return sn.parse=function(Tt){var rn={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(se(rn,St,Tt,0)!=Tt.length)return null;"p"in rn&&(rn.H=rn.H%12+12*rn.p);var rr=null!=rn.Z&&ht!==Rt,mr=new(rr?Rt:ht);return"j"in rn?mr.setFullYear(rn.y,0,rn.j):"W"in rn||"U"in rn?("w"in rn||(rn.w="W"in rn?1:0),mr.setFullYear(rn.y,0,1),mr.setFullYear(rn.y,0,"W"in rn?(rn.w+6)%7+7*rn.W-(mr.getDay()+5)%7:rn.w+7*rn.U-(mr.getDay()+6)%7)):mr.setFullYear(rn.y,rn.m,rn.d),mr.setHours(rn.H+(rn.Z/100|0),rn.M+rn.Z%100,rn.S,rn.L),rr?mr._:mr},sn.toString=function(){return St},sn}function se(St,Vt,sn,Tt){for(var rn,On,rr,mr=0,Wr=Vt.length,Zr=sn.length;mr<Wr;){if(Tt>=Zr)return-1;if(37===(rn=Vt.charCodeAt(mr++))){if(rr=Vt.charAt(mr++),!(On=Et[rr in on?Vt.charAt(mr++):rr])||(Tt=On(St,sn,Tt))<0)return-1}else if(rn!=sn.charCodeAt(Tt++))return-1}return Tt}J.utc=function(St){var Vt=J(St);function sn(Tt){try{var rn=new(ht=Rt);return rn._=Tt,Vt(rn)}finally{ht=Date}}return sn.parse=function(Tt){try{ht=Rt;var rn=Vt.parse(Tt);return rn&&rn._}finally{ht=Date}},sn.toString=Vt.toString,sn},J.multi=J.utc.multi=yn;var me=Z.map(),_e=Pr(T),Me=zr(T),Ge=Pr(j),ke=zr(j),Re=Pr(P),Le=zr(P),Ke=Pr(H),De=zr(H);k.forEach(function(St,Vt){me.set(St.toLowerCase(),Vt)});var He={a:function(St){return j[St.getDay()]},A:function(St){return T[St.getDay()]},b:function(St){return H[St.getMonth()]},B:function(St){return P[St.getMonth()]},c:J(a),d:function(St,Vt){return Pn(St.getDate(),Vt,2)},e:function(St,Vt){return Pn(St.getDate(),Vt,2)},H:function(St,Vt){return Pn(St.getHours(),Vt,2)},I:function(St,Vt){return Pn(St.getHours()%12||12,Vt,2)},j:function(St,Vt){return Pn(1+rt.dayOfYear(St),Vt,3)},L:function(St,Vt){return Pn(St.getMilliseconds(),Vt,3)},m:function(St,Vt){return Pn(St.getMonth()+1,Vt,2)},M:function(St,Vt){return Pn(St.getMinutes(),Vt,2)},p:function(St){return k[+(St.getHours()>=12)]},S:function(St,Vt){return Pn(St.getSeconds(),Vt,2)},U:function(St,Vt){return Pn(rt.sundayOfYear(St),Vt,2)},w:function(St){return St.getDay()},W:function(St,Vt){return Pn(rt.mondayOfYear(St),Vt,2)},x:J(m),X:J(E),y:function(St,Vt){return Pn(St.getFullYear()%100,Vt,2)},Y:function(St,Vt){return Pn(St.getFullYear()%1e4,Vt,4)},Z:vn,"%":function(){return"%"}},Et={a:function lt(St,Vt,sn){Ge.lastIndex=0;var Tt=Ge.exec(Vt.slice(sn));return Tt?(St.w=ke.get(Tt[0].toLowerCase()),sn+Tt[0].length):-1},A:function gt(St,Vt,sn){_e.lastIndex=0;var Tt=_e.exec(Vt.slice(sn));return Tt?(St.w=Me.get(Tt[0].toLowerCase()),sn+Tt[0].length):-1},b:function ut(St,Vt,sn){Ke.lastIndex=0;var Tt=Ke.exec(Vt.slice(sn));return Tt?(St.m=De.get(Tt[0].toLowerCase()),sn+Tt[0].length):-1},B:function jt(St,Vt,sn){Re.lastIndex=0;var Tt=Re.exec(Vt.slice(sn));return Tt?(St.m=Le.get(Tt[0].toLowerCase()),sn+Tt[0].length):-1},c:function Yt(St,Vt,sn){return se(St,He.c.toString(),Vt,sn)},d:qn,e:qn,H:Te,I:Te,j:je,L:qt,m:en,M:pt,p:function wn(St,Vt,sn){var Tt=me.get(Vt.slice(sn,sn+=2).toLowerCase());return null==Tt?-1:(St.p=Tt,sn)},S:vt,U:fr,w:dr,W:gr,x:function Sn(St,Vt,sn){return se(St,He.x.toString(),Vt,sn)},X:function gn(St,Vt,sn){return se(St,He.X.toString(),Vt,sn)},y:Ue,Y:fi,Z:yt,"%":an};return J}rt.year=xt(function(e){return(e=rt.day(e)).setMonth(0,1),e},function(e,a){e.setFullYear(e.getFullYear()+a)},function(e){return e.getFullYear()}),rt.years=rt.year.range,rt.years.utc=rt.year.utc.range,rt.day=xt(function(e){var a=new ht(2e3,0);return a.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),a},function(e,a){e.setDate(e.getDate()+a)},function(e){return e.getDate()-1}),rt.days=rt.day.range,rt.days.utc=rt.day.utc.range,rt.dayOfYear=function(e){var a=rt.year(e);return Math.floor((e-a-6e4*(e.getTimezoneOffset()-a.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,a){a=7-a;var m=rt[e]=xt(function(E){return(E=rt.day(E)).setDate(E.getDate()-(E.getDay()+a)%7),E},function(E,k){E.setDate(E.getDate()+7*Math.floor(k))},function(E){var k=rt.year(E).getDay();return Math.floor((rt.dayOfYear(E)+(k+a)%7)/7)-(k!==a)});rt[e+"s"]=m.range,rt[e+"s"].utc=m.utc.range,rt[e+"OfYear"]=function(E){var k=rt.year(E).getDay();return Math.floor((rt.dayOfYear(E)+(k+a)%7)/7)}}),rt.week=rt.sunday,rt.weeks=rt.sunday.range,rt.weeks.utc=rt.sunday.utc.range,rt.weekOfYear=rt.sundayOfYear;var on={"-":"",_:" ",0:"0"},Kt=/^\s*\d+/,Qt=/^%/;function Pn(e,a,m){var E=e<0?"-":"",k=(E?-e:e)+"",T=k.length;return E+(T<m?new Array(m-T+1).join(a)+k:k)}function Pr(e){return new RegExp("^(?:"+e.map(Z.requote).join("|")+")","i")}function zr(e){for(var a=new t,m=-1,E=e.length;++m<E;)a.set(e[m].toLowerCase(),m);return a}function dr(e,a,m){Kt.lastIndex=0;var E=Kt.exec(a.slice(m,m+1));return E?(e.w=+E[0],m+E[0].length):-1}function fr(e,a,m){Kt.lastIndex=0;var E=Kt.exec(a.slice(m));return E?(e.U=+E[0],m+E[0].length):-1}function gr(e,a,m){Kt.lastIndex=0;var E=Kt.exec(a.slice(m));return E?(e.W=+E[0],m+E[0].length):-1}function fi(e,a,m){Kt.lastIndex=0;var E=Kt.exec(a.slice(m,m+4));return E?(e.y=+E[0],m+E[0].length):-1}function Ue(e,a,m){Kt.lastIndex=0;var E=Kt.exec(a.slice(m,m+2));return E?(e.y=function Ot(e){return e+(e>68?1900:2e3)}(+E[0]),m+E[0].length):-1}function yt(e,a,m){return/^[+-]\d{4}$/.test(a=a.slice(m,m+5))?(e.Z=-a,m+5):-1}function en(e,a,m){Kt.lastIndex=0;var E=Kt.exec(a.slice(m,m+2));return E?(e.m=E[0]-1,m+E[0].length):-1}function qn(e,a,m){Kt.lastIndex=0;var E=Kt.exec(a.slice(m,m+2));return E?(e.d=+E[0],m+E[0].length):-1}function je(e,a,m){Kt.lastIndex=0;var E=Kt.exec(a.slice(m,m+3));return E?(e.j=+E[0],m+E[0].length):-1}function Te(e,a,m){Kt.lastIndex=0;var E=Kt.exec(a.slice(m,m+2));return E?(e.H=+E[0],m+E[0].length):-1}function pt(e,a,m){Kt.lastIndex=0;var E=Kt.exec(a.slice(m,m+2));return E?(e.M=+E[0],m+E[0].length):-1}function vt(e,a,m){Kt.lastIndex=0;var E=Kt.exec(a.slice(m,m+2));return E?(e.S=+E[0],m+E[0].length):-1}function qt(e,a,m){Kt.lastIndex=0;var E=Kt.exec(a.slice(m,m+3));return E?(e.L=+E[0],m+E[0].length):-1}function vn(e){var a=e.getTimezoneOffset(),m=a>0?"-":"+",E=c(a)/60|0,k=c(a)%60;return m+Pn(E,"0",2)+Pn(k,"0",2)}function an(e,a,m){Qt.lastIndex=0;var E=Qt.exec(a.slice(m,m+1));return E?m+E[0].length:-1}function yn(e){for(var a=e.length,m=-1;++m<a;)e[m][0]=this(e[m][0]);return function(E){for(var k=0,T=e[k];!T[1](E);)T=e[++k];return T[0](E)}}Z.locale=function(e){return{numberFormat:ze(e),timeFormat:It(e)}};var pn=Z.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ln(){}Z.format=pn.numberFormat,Z.geo={},Ln.prototype={s:0,t:0,add:function(e){Tr(e,this.t,Un),Tr(Un.s,this.s,this),this.s?this.t+=Un.t:this.s=Un.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Un=new Ln;function Tr(e,a,m){var E=m.s=e+a,k=E-e;m.t=e-(E-k)+(a-k)}function ar(e,a){e&&Sr.hasOwnProperty(e.type)&&Sr[e.type](e,a)}Z.geo.stream=function(e,a){e&&Ur.hasOwnProperty(e.type)?Ur[e.type](e,a):ar(e,a)};var Ur={Feature:function(e,a){ar(e.geometry,a)},FeatureCollection:function(e,a){for(var m=e.features,E=-1,k=m.length;++E<k;)ar(m[E].geometry,a)}},Sr={Sphere:function(e,a){a.sphere()},Point:function(e,a){a.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,a){for(var m=e.coordinates,E=-1,k=m.length;++E<k;)a.point((e=m[E])[0],e[1],e[2])},LineString:function(e,a){Fr(e.coordinates,a,0)},MultiLineString:function(e,a){for(var m=e.coordinates,E=-1,k=m.length;++E<k;)Fr(m[E],a,0)},Polygon:function(e,a){Mr(e.coordinates,a)},MultiPolygon:function(e,a){for(var m=e.coordinates,E=-1,k=m.length;++E<k;)Mr(m[E],a)},GeometryCollection:function(e,a){for(var m=e.geometries,E=-1,k=m.length;++E<k;)ar(m[E],a)}};function Fr(e,a,m){var T,E=-1,k=e.length-m;for(a.lineStart();++E<k;)a.point((T=e[E])[0],T[1],T[2]);a.lineEnd()}function Mr(e,a){var m=-1,E=e.length;for(a.polygonStart();++m<E;)Fr(e[m],a,1);a.polygonEnd()}Z.geo.area=function(e){return Gr=0,Z.geo.stream(e,oi),Gr};var Gr,Ar=new Ln,oi={sphere:function(){Gr+=4*zn},point:he,lineStart:he,lineEnd:he,polygonStart:function(){Ar.reset(),oi.lineStart=Ni},polygonEnd:function(){var e=2*Ar;Gr+=e<0?4*zn+e:e,oi.lineStart=oi.lineEnd=oi.point=he}};function Ni(){var e,a,m,E,k;function T(j,P){P=P*nn/2+zn/4;var H=(j*=nn)-m,J=H>=0?1:-1,se=J*H,me=Math.cos(P),_e=Math.sin(P),Me=k*_e,Ge=E*me+Me*Math.cos(se),ke=Me*J*Math.sin(se);Ar.add(Math.atan2(ke,Ge)),m=j,E=me,k=_e}oi.point=function(j,P){oi.point=T,m=(e=j)*nn,E=Math.cos(P=(a=P)*nn/2+zn/4),k=Math.sin(P)},oi.lineEnd=function(){T(e,a)}}function Qr(e){var a=e[0],m=e[1],E=Math.cos(m);return[E*Math.cos(a),E*Math.sin(a),Math.sin(m)]}function yi(e,a){return e[0]*a[0]+e[1]*a[1]+e[2]*a[2]}function ei(e,a){return[e[1]*a[2]-e[2]*a[1],e[2]*a[0]-e[0]*a[2],e[0]*a[1]-e[1]*a[0]]}function no(e,a){e[0]+=a[0],e[1]+=a[1],e[2]+=a[2]}function Ti(e,a){return[e[0]*a,e[1]*a,e[2]*a]}function hi(e){var a=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=a,e[1]/=a,e[2]/=a}function gi(e){return[Math.atan2(e[1],e[0]),Rr(e[2])]}function Zi(e,a){return c(e[0]-a[0])<_t&&c(e[1]-a[1])<_t}Z.geo.bounds=function(){var e,a,m,E,k,T,j,P,H,J,se,me={point:_e,lineStart:Ge,lineEnd:ke,polygonStart:function(){me.point=Re,me.lineStart=Le,me.lineEnd=Ke,H=0,oi.polygonStart()},polygonEnd:function(){oi.polygonEnd(),me.point=_e,me.lineStart=Ge,me.lineEnd=ke,Ar<0?(e=-(m=180),a=-(E=90)):H>_t?E=90:H<-_t&&(a=-90),se[0]=e,se[1]=m}};function _e(lt,gt){J.push(se=[e=lt,m=lt]),gt<a&&(a=gt),gt>E&&(E=gt)}function Me(lt,gt){var ut=Qr([lt*nn,gt*nn]);if(P){var jt=ei(P,ut),Sn=ei([jt[1],-jt[0],0],jt);hi(Sn),Sn=gi(Sn);var gn=lt-k,wn=gn>0?1:-1,St=Sn[0]*mn*wn,Vt=c(gn)>180;if(Vt^(wn*k<St&&St<wn*lt))(sn=Sn[1]*mn)>E&&(E=sn);else if(Vt^(wn*k<(St=(St+360)%360-180)&&St<wn*lt)){var sn;(sn=-Sn[1]*mn)<a&&(a=sn)}else gt<a&&(a=gt),gt>E&&(E=gt);Vt?lt<k?De(e,lt)>De(e,m)&&(m=lt):De(lt,m)>De(e,m)&&(e=lt):m>=e?(lt<e&&(e=lt),lt>m&&(m=lt)):lt>k?De(e,lt)>De(e,m)&&(m=lt):De(lt,m)>De(e,m)&&(e=lt)}else _e(lt,gt);P=ut,k=lt}function Ge(){me.point=Me}function ke(){se[0]=e,se[1]=m,me.point=_e,P=null}function Re(lt,gt){if(P){var ut=lt-k;H+=c(ut)>180?ut+(ut>0?360:-360):ut}else T=lt,j=gt;oi.point(lt,gt),Me(lt,gt)}function Le(){oi.lineStart()}function Ke(){Re(T,j),oi.lineEnd(),c(H)>_t&&(e=-(m=180)),se[0]=e,se[1]=m,P=null}function De(lt,gt){return(gt-=lt)<0?gt+360:gt}function He(lt,gt){return lt[0]-gt[0]}function Et(lt,gt){return gt[0]<=gt[1]?gt[0]<=lt&&lt<=gt[1]:lt<gt[0]||gt[1]<lt}return function(lt){if(E=m=-(e=a=1/0),J=[],Z.geo.stream(lt,me),gt=J.length){J.sort(He);for(var ut=1,Sn=[jt=J[0]];ut<gt;++ut)Et((Yt=J[ut])[0],jt)||Et(Yt[1],jt)?(De(jt[0],Yt[1])>De(jt[0],jt[1])&&(jt[1]=Yt[1]),De(Yt[0],jt[1])>De(jt[0],jt[1])&&(jt[0]=Yt[0])):Sn.push(jt=Yt);for(var wn,gt,Yt,gn=-1/0,jt=(ut=0,Sn[gt=Sn.length-1]);ut<=gt;jt=Yt,++ut)(wn=De(jt[1],(Yt=Sn[ut])[0]))>gn&&(gn=wn,e=Yt[0],m=jt[1])}return J=se=null,e===1/0||a===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,a],[m,E]]}}(),Z.geo.centroid=function(e){Ji=Oi=Ii=Pi=_i=Ei=Ri=Vi=Qi=Yi=xi=0,Z.geo.stream(e,mi);var a=Qi,m=Yi,E=xi,k=a*a+m*m+E*E;return k<Xn&&(a=Ei,m=Ri,E=Vi,Oi<_t&&(a=Ii,m=Pi,E=_i),(k=a*a+m*m+E*E)<Xn)?[NaN,NaN]:[Math.atan2(m,a)*mn,Rr(E/Math.sqrt(k))*mn]};var Ji,Oi,Ii,Pi,_i,Ei,Ri,Vi,Qi,Yi,xi,mi={sphere:he,point:ro,lineStart:Lo,lineEnd:jo,polygonStart:function(){mi.lineStart=Ko},polygonEnd:function(){mi.lineStart=Lo}};function ro(e,a){e*=nn;var m=Math.cos(a*=nn);io(m*Math.cos(e),m*Math.sin(e),Math.sin(a))}function io(e,a,m){++Ji,Ii+=(e-Ii)/Ji,Pi+=(a-Pi)/Ji,_i+=(m-_i)/Ji}function Lo(){var e,a,m;function E(k,T){k*=nn;var j=Math.cos(T*=nn),P=j*Math.cos(k),H=j*Math.sin(k),J=Math.sin(T),se=Math.atan2(Math.sqrt((se=a*J-m*H)*se+(se=m*P-e*J)*se+(se=e*H-a*P)*se),e*P+a*H+m*J);Oi+=se,Ei+=se*(e+(e=P)),Ri+=se*(a+(a=H)),Vi+=se*(m+(m=J)),io(e,a,m)}mi.point=function(k,T){k*=nn;var j=Math.cos(T*=nn);e=j*Math.cos(k),a=j*Math.sin(k),m=Math.sin(T),mi.point=E,io(e,a,m)}}function jo(){mi.point=ro}function Ko(){var e,a,m,E,k;function T(j,P){j*=nn;var H=Math.cos(P*=nn),J=H*Math.cos(j),se=H*Math.sin(j),me=Math.sin(P),_e=E*me-k*se,Me=k*J-m*me,Ge=m*se-E*J,ke=Math.sqrt(_e*_e+Me*Me+Ge*Ge),Re=m*J+E*se+k*me,Le=ke&&-tr(Re)/ke,Ke=Math.atan2(ke,Re);Qi+=Le*_e,Yi+=Le*Me,xi+=Le*Ge,Oi+=Ke,Ei+=Ke*(m+(m=J)),Ri+=Ke*(E+(E=se)),Vi+=Ke*(k+(k=me)),io(m,E,k)}mi.point=function(j,P){e=j,a=P,mi.point=T,j*=nn;var H=Math.cos(P*=nn);m=H*Math.cos(j),E=H*Math.sin(j),k=Math.sin(P),io(m,E,k)},mi.lineEnd=function(){T(e,a),mi.lineEnd=jo,mi.point=ro}}function Eo(e,a){function m(E,k){return E=e(E,k),a(E[0],E[1])}return e.invert&&a.invert&&(m.invert=function(E,k){return(E=a.invert(E,k))&&e.invert(E[0],E[1])}),m}function eo(){return!0}function Di(e,a,m,E,k){var T=[],j=[];if(e.forEach(function(ke){if(!((Re=ke.length-1)<=0)){var Re,Le=ke[0],Ke=ke[Re];if(Zi(Le,Ke)){k.lineStart();for(var De=0;De<Re;++De)k.point((Le=ke[De])[0],Le[1]);return void k.lineEnd()}var He=new So(Le,ke,null,!0),Et=new So(Le,null,He,!1);He.o=Et,T.push(He),j.push(Et),He=new So(Ke,ke,null,!1),Et=new So(Ke,null,He,!0),He.o=Et,T.push(He),j.push(Et)}}),j.sort(a),xo(T),xo(j),T.length){for(var P=0,H=m,J=j.length;P<J;++P)j[P].e=H=!H;for(var me,_e,se=T[0];;){for(var Me=se,Ge=!0;Me.v;)if((Me=Me.n)===se)return;me=Me.z,k.lineStart();do{if(Me.v=Me.o.v=!0,Me.e){if(Ge)for(P=0,J=me.length;P<J;++P)k.point((_e=me[P])[0],_e[1]);else E(Me.x,Me.n.x,1,k);Me=Me.n}else{if(Ge)for(P=(me=Me.p.z).length-1;P>=0;--P)k.point((_e=me[P])[0],_e[1]);else E(Me.x,Me.p.x,-1,k);Me=Me.p}me=(Me=Me.o).z,Ge=!Ge}while(!Me.v);k.lineEnd()}}}function xo(e){if(a=e.length){for(var a,k,m=0,E=e[0];++m<a;)E.n=k=e[m],k.p=E,E=k;E.n=k=e[0],k.p=E}}function So(e,a,m,E){this.x=e,this.z=a,this.o=m,this.e=E,this.v=!1,this.n=this.p=null}function Bo(e,a,m,E){return function(k,T){var j=a(T),P=k.invert(E[0],E[1]),H={point:J,lineStart:me,lineEnd:_e,polygonStart:function(){H.point=De,H.lineStart=He,H.lineEnd=Et,Me=[],Le=[]},polygonEnd:function(){H.point=J,H.lineStart=me,H.lineEnd=_e,Me=Z.merge(Me);var lt=function oo(e,a){var m=e[0],E=e[1],k=[Math.sin(m),-Math.cos(m),0],T=0,j=0;Ar.reset();for(var P=0,H=a.length;P<H;++P){var J=a[P],se=J.length;if(se)for(var me=J[0],_e=me[0],Me=me[1]/2+zn/4,Ge=Math.sin(Me),ke=Math.cos(Me),Re=1;;){Re===se&&(Re=0);var Le=(e=J[Re])[0],Ke=e[1]/2+zn/4,De=Math.sin(Ke),He=Math.cos(Ke),Et=Le-_e,lt=Et>=0?1:-1,gt=lt*Et,ut=gt>zn,jt=Ge*De;if(Ar.add(Math.atan2(jt*lt*Math.sin(gt),ke*He+jt*Math.cos(gt))),T+=ut?Et+lt*Fn:Et,ut^_e>=m^Le>=m){var Yt=ei(Qr(me),Qr(e));hi(Yt);var Sn=ei(k,Yt);hi(Sn);var gn=(ut^Et>=0?-1:1)*Rr(Sn[2]);(E>gn||E===gn&&(Yt[0]||Yt[1]))&&(j+=ut^Et>=0?1:-1)}if(!Re++)break;_e=Le,Ge=De,ke=He,me=e}}return(T<-_t||T<_t&&Ar<-_t)^1&j}(P,Le);Me.length?(Re||(T.polygonStart(),Re=!0),Di(Me,No,lt,m,T)):lt&&(Re||(T.polygonStart(),Re=!0),T.lineStart(),m(null,null,1,T),T.lineEnd()),Re&&(T.polygonEnd(),Re=!1),Me=Le=null},sphere:function(){T.polygonStart(),T.lineStart(),m(null,null,1,T),T.lineEnd(),T.polygonEnd()}};function J(lt,gt){var ut=k(lt,gt);e(lt=ut[0],gt=ut[1])&&T.point(lt,gt)}function se(lt,gt){var ut=k(lt,gt);j.point(ut[0],ut[1])}function me(){H.point=se,j.lineStart()}function _e(){H.point=J,j.lineEnd()}var Me,Le,Ke,Ge=go(),ke=a(Ge),Re=!1;function De(lt,gt){Ke.push([lt,gt]);var ut=k(lt,gt);ke.point(ut[0],ut[1])}function He(){ke.lineStart(),Ke=[]}function Et(){De(Ke[0][0],Ke[0][1]),ke.lineEnd();var ut,lt=ke.clean(),gt=Ge.buffer(),jt=gt.length;if(Ke.pop(),Le.push(Ke),Ke=null,jt){if(1&lt){var Sn,Yt=-1;if((jt=(ut=gt[0]).length-1)>0){for(Re||(T.polygonStart(),Re=!0),T.lineStart();++Yt<jt;)T.point((Sn=ut[Yt])[0],Sn[1]);T.lineEnd()}return}jt>1&&2&lt&&gt.push(gt.pop().concat(gt.shift())),Me.push(gt.filter(po))}}return H}}function po(e){return e.length>1}function go(){var a,e=[];return{lineStart:function(){e.push(a=[])},point:function(m,E){a.push([m,E])},lineEnd:he,buffer:function(){var m=e;return e=[],a=null,m},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function No(e,a){return((e=e.x)[0]<0?e[1]-vr-_t:vr-e[1])-((a=a.x)[0]<0?a[1]-vr-_t:vr-a[1])}var qo=Bo(eo,function ko(e){var k,a=NaN,m=NaN,E=NaN;return{lineStart:function(){e.lineStart(),k=1},point:function(T,j){var P=T>0?zn:-zn,H=c(T-a);c(H-zn)<_t?(e.point(a,m=(m+j)/2>0?vr:-vr),e.point(E,m),e.lineEnd(),e.lineStart(),e.point(P,m),e.point(T,m),k=0):E!==P&&H>=zn&&(c(a-E)<_t&&(a-=E*_t),c(T-P)<_t&&(T-=P*_t),m=function Go(e,a,m,E){var k,T,j=Math.sin(e-m);return c(j)>_t?Math.atan((Math.sin(a)*(T=Math.cos(E))*Math.sin(m)-Math.sin(E)*(k=Math.cos(a))*Math.sin(e))/(k*T*j)):(a+E)/2}(a,m,T,j),e.point(E,m),e.lineEnd(),e.lineStart(),e.point(P,m),k=0),e.point(a=T,m=j),E=P},lineEnd:function(){e.lineEnd(),a=m=NaN},clean:function(){return 2-k}}},function Ho(e,a,m,E){var k;if(null==e)E.point(-zn,k=m*vr),E.point(0,k),E.point(zn,k),E.point(zn,0),E.point(zn,-k),E.point(0,-k),E.point(-zn,-k),E.point(-zn,0),E.point(-zn,k);else if(c(e[0]-a[0])>_t){var T=e[0]<a[0]?zn:-zn;E.point(-T,k=m*T/2),E.point(0,k),E.point(T,k)}else E.point(a[0],a[1])},[-zn,-zn/2]);function to(e){var a=Math.cos(e),m=a>0,E=c(a)>_t;return Bo(T,function j(J){var se,me,_e,Me,Ge;return{lineStart:function(){Me=_e=!1,Ge=1},point:function(ke,Re){var Ke,Le=[ke,Re],De=T(ke,Re),He=m?De?0:H(ke,Re):De?H(ke+(ke<0?zn:-zn),Re):0;if(!se&&(Me=_e=De)&&J.lineStart(),De!==_e&&(Ke=P(se,Le),(Zi(se,Ke)||Zi(Le,Ke))&&(Le[0]+=_t,Le[1]+=_t,De=T(Le[0],Le[1]))),De!==_e)Ge=0,De?(J.lineStart(),Ke=P(Le,se),J.point(Ke[0],Ke[1])):(Ke=P(se,Le),J.point(Ke[0],Ke[1]),J.lineEnd()),se=Ke;else if(E&&se&&m^De){var Et;!(He&me)&&(Et=P(Le,se,!0))&&(Ge=0,m?(J.lineStart(),J.point(Et[0][0],Et[0][1]),J.point(Et[1][0],Et[1][1]),J.lineEnd()):(J.point(Et[1][0],Et[1][1]),J.lineEnd(),J.lineStart(),J.point(Et[0][0],Et[0][1])))}De&&(!se||!Zi(se,Le))&&J.point(Le[0],Le[1]),se=Le,_e=De,me=He},lineEnd:function(){_e&&J.lineEnd(),se=null},clean:function(){return Ge|(Me&&_e)<<1}}},jr(e,6*nn),m?[0,-e]:[-zn,e-zn]);function T(J,se){return Math.cos(J)*Math.cos(se)>a}function P(J,se,me){var Ge=[1,0,0],ke=ei(Qr(J),Qr(se)),Re=yi(ke,ke),Le=ke[0],Ke=Re-Le*Le;if(!Ke)return!me&&J;var De=a*Re/Ke,He=-a*Le/Ke,Et=ei(Ge,ke),lt=Ti(Ge,De);no(lt,Ti(ke,He));var ut=Et,jt=yi(lt,ut),Yt=yi(ut,ut),Sn=jt*jt-Yt*(yi(lt,lt)-1);if(!(Sn<0)){var gn=Math.sqrt(Sn),wn=Ti(ut,(-jt-gn)/Yt);if(no(wn,lt),wn=gi(wn),!me)return wn;var rn,St=J[0],Vt=se[0],sn=J[1],Tt=se[1];Vt<St&&(rn=St,St=Vt,Vt=rn);var On=Vt-St,rr=c(On-zn)<_t;if(!rr&&Tt<sn&&(rn=sn,sn=Tt,Tt=rn),rr||On<_t?rr?sn+Tt>0^wn[1]<(c(wn[0]-St)<_t?sn:Tt):sn<=wn[1]&&wn[1]<=Tt:On>zn^(St<=wn[0]&&wn[0]<=Vt)){var Wr=Ti(ut,(-jt+gn)/Yt);return no(Wr,lt),[wn,gi(Wr)]}}}function H(J,se){var me=m?e:zn-e,_e=0;return J<-me?_e|=1:J>me&&(_e|=2),se<-me?_e|=4:se>me&&(_e|=8),_e}}function Ao(e,a,m,E){return function(k){var ke,T=k.a,j=k.b,P=T.x,H=T.y,me=0,_e=1,Me=j.x-P,Ge=j.y-H;if(ke=e-P,Me||!(ke>0)){if(ke/=Me,Me<0){if(ke<me)return;ke<_e&&(_e=ke)}else if(Me>0){if(ke>_e)return;ke>me&&(me=ke)}if(ke=m-P,Me||!(ke<0)){if(ke/=Me,Me<0){if(ke>_e)return;ke>me&&(me=ke)}else if(Me>0){if(ke<me)return;ke<_e&&(_e=ke)}if(ke=a-H,Ge||!(ke>0)){if(ke/=Ge,Ge<0){if(ke<me)return;ke<_e&&(_e=ke)}else if(Ge>0){if(ke>_e)return;ke>me&&(me=ke)}if(ke=E-H,Ge||!(ke<0)){if(ke/=Ge,Ge<0){if(ke>_e)return;ke>me&&(me=ke)}else if(Ge>0){if(ke<me)return;ke<_e&&(_e=ke)}return me>0&&(k.a={x:P+me*Me,y:H+me*Ge}),_e<1&&(k.b={x:P+_e*Me,y:H+_e*Ge}),k}}}}}}var Co=1e9;function To(e,a,m,E){return function(P){var me,_e,Me,De,He,Et,lt,gt,ut,jt,Yt,H=P,J=go(),se=Ao(e,a,m,E),Ge={point:Ke,lineStart:function Sn(){Ge.point=wn,_e&&_e.push(Me=[]),jt=!0,ut=!1,lt=gt=NaN},lineEnd:function gn(){me&&(wn(De,He),Et&&ut&&J.rejoin(),me.push(J.buffer())),Ge.point=Ke,ut&&P.lineEnd()},polygonStart:function(){P=J,me=[],_e=[],Yt=!0},polygonEnd:function(){P=H,me=Z.merge(me);var St=function ke(St){for(var Vt=0,sn=_e.length,Tt=St[1],rn=0;rn<sn;++rn)for(var Zr,On=1,rr=_e[rn],mr=rr.length,Wr=rr[0];On<mr;++On)Zr=rr[On],Wr[1]<=Tt?Zr[1]>Tt&&An(Wr,Zr,St)>0&&++Vt:Zr[1]<=Tt&&An(Wr,Zr,St)<0&&--Vt,Wr=Zr;return 0!==Vt}([e,E]),Vt=Yt&&St,sn=me.length;(Vt||sn)&&(P.polygonStart(),Vt&&(P.lineStart(),Re(null,null,1,P),P.lineEnd()),sn&&Di(me,T,St,Re,P),P.polygonEnd()),me=_e=Me=null}};function Re(St,Vt,sn,Tt){var rn=0,On=0;if(null==St||(rn=k(St,sn))!==(On=k(Vt,sn))||j(St,Vt)<0^sn>0)do{Tt.point(0===rn||3===rn?e:m,rn>1?E:a)}while((rn=(rn+sn+4)%4)!==On);else Tt.point(Vt[0],Vt[1])}function Le(St,Vt){return e<=St&&St<=m&&a<=Vt&&Vt<=E}function Ke(St,Vt){Le(St,Vt)&&P.point(St,Vt)}function wn(St,Vt){var sn=Le(St=Math.max(-Co,Math.min(Co,St)),Vt=Math.max(-Co,Math.min(Co,Vt)));if(_e&&Me.push([St,Vt]),jt)De=St,He=Vt,Et=sn,jt=!1,sn&&(P.lineStart(),P.point(St,Vt));else if(sn&&ut)P.point(St,Vt);else{var Tt={a:{x:lt,y:gt},b:{x:St,y:Vt}};se(Tt)?(ut||(P.lineStart(),P.point(Tt.a.x,Tt.a.y)),P.point(Tt.b.x,Tt.b.y),sn||P.lineEnd(),Yt=!1):sn&&(P.lineStart(),P.point(St,Vt),Yt=!1)}lt=St,gt=Vt,ut=sn}return Ge};function k(P,H){return c(P[0]-e)<_t?H>0?0:3:c(P[0]-m)<_t?H>0?2:1:c(P[1]-a)<_t?H>0?1:0:H>0?3:2}function T(P,H){return j(P.x,H.x)}function j(P,H){var J=k(P,1),se=k(H,1);return J!==se?J-se:0===J?H[1]-P[1]:1===J?P[0]-H[0]:2===J?P[1]-H[1]:H[0]-P[0]}}function Oo(e){var a=0,m=zn/3,E=pr(e),k=E(a,m);return k.parallels=function(T){return arguments.length?E(a=T[0]*zn/180,m=T[1]*zn/180):[a/zn*180,m/zn*180]},k}function mo(e,a){var m=Math.sin(e),E=(m+Math.sin(a))/2,k=1+m*(2*E-m),T=Math.sqrt(k)/E;function j(P,H){var J=Math.sqrt(k-2*E*Math.sin(H))/E;return[J*Math.sin(P*=E),T-J*Math.cos(P)]}return j.invert=function(P,H){var J=T-H;return[Math.atan2(P,J)/E,Rr((k-(P*P+J*J)*E*E)/(2*E))]},j}Z.geo.clipExtent=function(){var e,a,m,E,k,T,j={stream:function(P){return k&&(k.valid=!1),(k=T(P)).valid=!0,k},extent:function(P){return arguments.length?(T=To(e=+P[0][0],a=+P[0][1],m=+P[1][0],E=+P[1][1]),k&&(k.valid=!1,k=null),j):[[e,a],[m,E]]}};return j.extent([[0,0],[960,500]])},(Z.geo.conicEqualArea=function(){return Oo(mo)}).raw=mo,Z.geo.albers=function(){return Z.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Z.geo.albersUsa=function(){var E,T,j,P,e=Z.geo.albers(),a=Z.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),m=Z.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),k={point:function(J,se){E=[J,se]}};function H(J){var se=J[0],me=J[1];return E=null,T(se,me),E||(j(se,me),E)||P(se,me),E}return H.invert=function(J){var se=e.scale(),me=e.translate(),_e=(J[0]-me[0])/se,Me=(J[1]-me[1])/se;return(Me>=.12&&Me<.234&&_e>=-.425&&_e<-.214?a:Me>=.166&&Me<.234&&_e>=-.214&&_e<-.115?m:e).invert(J)},H.stream=function(J){var se=e.stream(J),me=a.stream(J),_e=m.stream(J);return{point:function(Me,Ge){se.point(Me,Ge),me.point(Me,Ge),_e.point(Me,Ge)},sphere:function(){se.sphere(),me.sphere(),_e.sphere()},lineStart:function(){se.lineStart(),me.lineStart(),_e.lineStart()},lineEnd:function(){se.lineEnd(),me.lineEnd(),_e.lineEnd()},polygonStart:function(){se.polygonStart(),me.polygonStart(),_e.polygonStart()},polygonEnd:function(){se.polygonEnd(),me.polygonEnd(),_e.polygonEnd()}}},H.precision=function(J){return arguments.length?(e.precision(J),a.precision(J),m.precision(J),H):e.precision()},H.scale=function(J){return arguments.length?(e.scale(J),a.scale(.35*J),m.scale(J),H.translate(e.translate())):e.scale()},H.translate=function(J){if(!arguments.length)return e.translate();var se=e.scale(),me=+J[0],_e=+J[1];return T=e.translate(J).clipExtent([[me-.455*se,_e-.238*se],[me+.455*se,_e+.238*se]]).stream(k).point,j=a.translate([me-.307*se,_e+.201*se]).clipExtent([[me-.425*se+_t,_e+.12*se+_t],[me-.214*se-_t,_e+.234*se-_t]]).stream(k).point,P=m.translate([me-.205*se,_e+.212*se]).clipExtent([[me-.214*se+_t,_e+.166*se+_t],[me-.115*se-_t,_e+.234*se-_t]]).stream(k).point,H},H.scale(1070)};var Po,vo,Mi={point:he,lineStart:he,lineEnd:he,polygonStart:function(){vo=0,Mi.lineStart=Do},polygonEnd:function(){Mi.lineStart=Mi.lineEnd=Mi.point=he,Po+=c(vo/2)}};function Do(){var e,a,m,E;function k(T,j){vo+=E*T-m*j,m=T,E=j}Mi.point=function(T,j){Mi.point=k,e=m=T,a=E=j},Mi.lineEnd=function(){k(e,a)}}var zo,Io,Ki,Se,D={point:function ie(e,a){e<zo&&(zo=e),e>Ki&&(Ki=e),a<Io&&(Io=a),a>Se&&(Se=a)},lineStart:he,lineEnd:he,polygonStart:he,polygonEnd:he};function Be(){var e=Qe(4.5),a=[],m={point:E,lineStart:function(){m.point=k},lineEnd:j,polygonStart:function(){m.lineEnd=P},polygonEnd:function(){m.lineEnd=j,m.point=E},pointRadius:function(H){return e=Qe(H),m},result:function(){if(a.length){var H=a.join("");return a=[],H}}};function E(H,J){a.push("M",H,",",J,e)}function k(H,J){a.push("M",H,",",J),m.point=T}function T(H,J){a.push("L",H,",",J)}function j(){m.point=E}function P(){a.push("Z")}return m}function Qe(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var ot={point:kt,lineStart:cn,lineEnd:xn,polygonStart:function(){ot.lineStart=Dn},polygonEnd:function(){ot.point=kt,ot.lineStart=cn,ot.lineEnd=xn}};function kt(e,a){Ii+=e,Pi+=a,++_i}function cn(){var e,a;function m(E,k){var T=E-e,j=k-a,P=Math.sqrt(T*T+j*j);Ei+=P*(e+E)/2,Ri+=P*(a+k)/2,Vi+=P,kt(e=E,a=k)}ot.point=function(E,k){ot.point=m,kt(e=E,a=k)}}function xn(){ot.point=kt}function Dn(){var e,a,m,E;function k(T,j){var P=T-m,H=j-E,J=Math.sqrt(P*P+H*H);Ei+=J*(m+T)/2,Ri+=J*(E+j)/2,Vi+=J,Qi+=(J=E*T-m*j)*(m+T),Yi+=J*(E+j),xi+=3*J,kt(m=T,E=j)}ot.point=function(T,j){ot.point=k,kt(e=m=T,a=E=j)},ot.lineEnd=function(){k(e,a)}}function Wn(e){var a=4.5,m={point:E,lineStart:function(){m.point=k},lineEnd:j,polygonStart:function(){m.lineEnd=P},polygonEnd:function(){m.lineEnd=j,m.point=E},pointRadius:function(H){return a=H,m},result:he};function E(H,J){e.moveTo(H+a,J),e.arc(H,J,a,0,Fn)}function k(H,J){e.moveTo(H,J),m.point=T}function T(H,J){e.lineTo(H,J)}function j(){m.point=E}function P(){e.closePath()}return m}function kn(e){var a=.5,m=Math.cos(30*nn),E=16;function k(H){return(E?j:T)(H)}function T(H){return hr(H,function(J,se){J=e(J,se),H.point(J[0],J[1])})}function j(H){var J,me,_e,Me,Ge,ke,Re,Le,Ke,De,He,Et,lt={point:gt,lineStart:ut,lineEnd:Yt,polygonStart:function(){H.polygonStart(),lt.lineStart=Sn},polygonEnd:function(){H.polygonEnd(),lt.lineStart=ut}};function gt(St,Vt){St=e(St,Vt),H.point(St[0],St[1])}function ut(){Le=NaN,lt.point=jt,H.lineStart()}function jt(St,Vt){var sn=Qr([St,Vt]),Tt=e(St,Vt);P(Le,Ke,Re,De,He,Et,Le=Tt[0],Ke=Tt[1],Re=St,De=sn[0],He=sn[1],Et=sn[2],E,H),H.point(Le,Ke)}function Yt(){lt.point=gt,H.lineEnd()}function Sn(){ut(),lt.point=gn,lt.lineEnd=wn}function gn(St,Vt){jt(J=St,Vt),me=Le,_e=Ke,Me=De,Ge=He,ke=Et,lt.point=jt}function wn(){P(Le,Ke,Re,De,He,Et,me,_e,J,Me,Ge,ke,E,H),lt.lineEnd=Yt,Yt()}return lt}function P(H,J,se,me,_e,Me,Ge,ke,Re,Le,Ke,De,He,Et){var lt=Ge-H,gt=ke-J,ut=lt*lt+gt*gt;if(ut>4*a&&He--){var jt=me+Le,Yt=_e+Ke,Sn=Me+De,gn=Math.sqrt(jt*jt+Yt*Yt+Sn*Sn),wn=Math.asin(Sn/=gn),St=c(c(Sn)-1)<_t||c(se-Re)<_t?(se+Re)/2:Math.atan2(Yt,jt),Vt=e(St,wn),sn=Vt[0],Tt=Vt[1],rn=sn-H,On=Tt-J,rr=gt*rn-lt*On;(rr*rr/ut>a||c((lt*rn+gt*On)/ut-.5)>.3||me*Le+_e*Ke+Me*De<m)&&(P(H,J,se,me,_e,Me,sn,Tt,St,jt/=gn,Yt/=gn,Sn,He,Et),Et.point(sn,Tt),P(sn,Tt,St,jt,Yt,Sn,Ge,ke,Re,Le,Ke,De,He,Et))}}return k.precision=function(H){return arguments.length?(E=(a=H*H)>0&&16,k):Math.sqrt(a)},k}function Cr(e){var a=kn(function(m,E){return e([m*mn,E*mn])});return function(m){return Vr(a(m))}}function cr(e){this.stream=e}function hr(e,a){return{point:a,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function or(e){return pr(function(){return e})()}function pr(e){var a,m,E,Me,Ge,De,k=kn(function(ut,jt){return[(ut=a(ut,jt))[0]*T+Me,Ge-ut[1]*T]}),T=150,j=480,P=250,H=0,J=0,se=0,me=0,_e=0,ke=qo,Re=R,Le=null,Ke=null;function He(ut){return[(ut=E(ut[0]*nn,ut[1]*nn))[0]*T+Me,Ge-ut[1]*T]}function Et(ut){return(ut=E.invert((ut[0]-Me)/T,(Ge-ut[1])/T))&&[ut[0]*mn,ut[1]*mn]}function lt(){E=Eo(m=Lr(se,me,_e),a);var ut=a(H,J);return Me=j-ut[0]*T,Ge=P+ut[1]*T,gt()}function gt(){return De&&(De.valid=!1,De=null),He}return He.stream=function(ut){return De&&(De.valid=!1),(De=Vr(ke(m,k(Re(ut))))).valid=!0,De},He.clipAngle=function(ut){return arguments.length?(ke=null==ut?(Le=ut,qo):to((Le=+ut)*nn),gt()):Le},He.clipExtent=function(ut){return arguments.length?(Ke=ut,Re=ut?To(ut[0][0],ut[0][1],ut[1][0],ut[1][1]):R,gt()):Ke},He.scale=function(ut){return arguments.length?(T=+ut,lt()):T},He.translate=function(ut){return arguments.length?(j=+ut[0],P=+ut[1],lt()):[j,P]},He.center=function(ut){return arguments.length?(H=ut[0]%360*nn,J=ut[1]%360*nn,lt()):[H*mn,J*mn]},He.rotate=function(ut){return arguments.length?(se=ut[0]%360*nn,me=ut[1]%360*nn,_e=ut.length>2?ut[2]%360*nn:0,lt()):[se*mn,me*mn,_e*mn]},Z.rebind(He,k,"precision"),function(){return a=e.apply(this,arguments),He.invert=a.invert&&Et,lt()}}function Vr(e){return hr(e,function(a,m){e.point(a*nn,m*nn)})}function Ir(e,a){return[e,a]}function xr(e,a){return[e>zn?e-Fn:e<-zn?e+Fn:e,a]}function Lr(e,a,m){return e?a||m?Eo(Nr(e),Hr(a,m)):Nr(e):a||m?Hr(a,m):xr}function Br(e){return function(a,m){return[(a+=e)>zn?a-Fn:a<-zn?a+Fn:a,m]}}function Nr(e){var a=Br(e);return a.invert=Br(-e),a}function Hr(e,a){var m=Math.cos(e),E=Math.sin(e),k=Math.cos(a),T=Math.sin(a);function j(P,H){var J=Math.cos(H),se=Math.cos(P)*J,me=Math.sin(P)*J,_e=Math.sin(H),Me=_e*m+se*E;return[Math.atan2(me*k-Me*T,se*m-_e*E),Rr(Me*k+me*T)]}return j.invert=function(P,H){var J=Math.cos(H),se=Math.cos(P)*J,me=Math.sin(P)*J,_e=Math.sin(H),Me=_e*k-me*T;return[Math.atan2(me*k+_e*T,se*m+Me*E),Rr(Me*m-se*E)]},j}function jr(e,a){var m=Math.cos(e),E=Math.sin(e);return function(k,T,j,P){var H=j*a;null!=k?(k=$r(m,k),T=$r(m,T),(j>0?k<T:k>T)&&(k+=j*Fn)):(k=e+j*Fn,T=e-.5*H);for(var J,se=k;j>0?se>T:se<T;se-=H)P.point((J=gi([m,-E*Math.cos(se),-E*Math.sin(se)]))[0],J[1])}}function $r(e,a){var m=Qr(a);m[0]-=e,hi(m);var E=tr(-m[1]);return((-m[2]<0?-E:E)+2*Math.PI-_t)%(2*Math.PI)}function ai(e,a,m){var E=Z.range(e,a-_t,m).concat(a);return function(k){return E.map(function(T){return[k,T]})}}function li(e,a,m){var E=Z.range(e,a-_t,m).concat(a);return function(k){return E.map(function(T){return[T,k]})}}function bi(e){return e.source}function Jr(e){return e.target}Z.geo.path=function(){var a,m,E,k,T,e=4.5;function j(H){return H&&("function"==typeof e&&k.pointRadius(+e.apply(this,arguments)),(!T||!T.valid)&&(T=E(k)),Z.geo.stream(H,T)),k.result()}function P(){return T=null,j}return j.area=function(H){return Po=0,Z.geo.stream(H,E(Mi)),Po},j.centroid=function(H){return Ii=Pi=_i=Ei=Ri=Vi=Qi=Yi=xi=0,Z.geo.stream(H,E(ot)),xi?[Qi/xi,Yi/xi]:Vi?[Ei/Vi,Ri/Vi]:_i?[Ii/_i,Pi/_i]:[NaN,NaN]},j.bounds=function(H){return Ki=Se=-(zo=Io=1/0),Z.geo.stream(H,E(D)),[[zo,Io],[Ki,Se]]},j.projection=function(H){return arguments.length?(E=(a=H)?H.stream||Cr(H):R,P()):a},j.context=function(H){return arguments.length?(k=null==(m=H)?new Be:new Wn(H),"function"!=typeof e&&k.pointRadius(e),P()):m},j.pointRadius=function(H){return arguments.length?(e="function"==typeof H?H:(k.pointRadius(+H),+H),j):e},j.projection(Z.geo.albersUsa()).context(null)},Z.geo.transform=function(e){return{stream:function(a){var m=new cr(a);for(var E in e)m[E]=e[E];return m}}},cr.prototype={point:function(e,a){this.stream.point(e,a)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Z.geo.projection=or,Z.geo.projectionMutator=pr,(Z.geo.equirectangular=function(){return or(Ir)}).raw=Ir.invert=Ir,Z.geo.rotation=function(e){function a(m){return(m=e(m[0]*nn,m[1]*nn))[0]*=mn,m[1]*=mn,m}return e=Lr(e[0]%360*nn,e[1]*nn,e.length>2?e[2]*nn:0),a.invert=function(m){return(m=e.invert(m[0]*nn,m[1]*nn))[0]*=mn,m[1]*=mn,m},a},xr.invert=Ir,Z.geo.circle=function(){var a,E,e=[0,0],m=6;function k(){var T="function"==typeof e?e.apply(this,arguments):e,j=Lr(-T[0]*nn,-T[1]*nn,0).invert,P=[];return E(null,null,1,{point:function(H,J){P.push(H=j(H,J)),H[0]*=mn,H[1]*=mn}}),{type:"Polygon",coordinates:[P]}}return k.origin=function(T){return arguments.length?(e=T,k):e},k.angle=function(T){return arguments.length?(E=jr((a=+T)*nn,m*nn),k):a},k.precision=function(T){return arguments.length?(E=jr(a*nn,(m=+T)*nn),k):m},k.angle(90)},Z.geo.distance=function(e,a){var me,m=(a[0]-e[0])*nn,E=e[1]*nn,k=a[1]*nn,T=Math.sin(m),j=Math.cos(m),P=Math.sin(E),H=Math.cos(E),J=Math.sin(k),se=Math.cos(k);return Math.atan2(Math.sqrt((me=se*T)*me+(me=H*J-P*se*j)*me),P*J+H*se*j)},Z.geo.graticule=function(){var e,a,m,E,k,T,j,P,_e,Me,Ge,ke,H=10,J=H,se=90,me=360,Re=2.5;function Le(){return{type:"MultiLineString",coordinates:Ke()}}function Ke(){return Z.range(Math.ceil(E/se)*se,m,se).map(Ge).concat(Z.range(Math.ceil(P/me)*me,j,me).map(ke)).concat(Z.range(Math.ceil(a/H)*H,e,H).filter(function(De){return c(De%se)>_t}).map(_e)).concat(Z.range(Math.ceil(T/J)*J,k,J).filter(function(De){return c(De%me)>_t}).map(Me))}return Le.lines=function(){return Ke().map(function(De){return{type:"LineString",coordinates:De}})},Le.outline=function(){return{type:"Polygon",coordinates:[Ge(E).concat(ke(j).slice(1),Ge(m).reverse().slice(1),ke(P).reverse().slice(1))]}},Le.extent=function(De){return arguments.length?Le.majorExtent(De).minorExtent(De):Le.minorExtent()},Le.majorExtent=function(De){return arguments.length?(P=+De[0][1],j=+De[1][1],(E=+De[0][0])>(m=+De[1][0])&&(De=E,E=m,m=De),P>j&&(De=P,P=j,j=De),Le.precision(Re)):[[E,P],[m,j]]},Le.minorExtent=function(De){return arguments.length?(T=+De[0][1],k=+De[1][1],(a=+De[0][0])>(e=+De[1][0])&&(De=a,a=e,e=De),T>k&&(De=T,T=k,k=De),Le.precision(Re)):[[a,T],[e,k]]},Le.step=function(De){return arguments.length?Le.majorStep(De).minorStep(De):Le.minorStep()},Le.majorStep=function(De){return arguments.length?(se=+De[0],me=+De[1],Le):[se,me]},Le.minorStep=function(De){return arguments.length?(H=+De[0],J=+De[1],Le):[H,J]},Le.precision=function(De){return arguments.length?(Re=+De,_e=ai(T,k,90),Me=li(a,e,Re),Ge=ai(P,j,90),ke=li(E,m,Re),Le):Re},Le.majorExtent([[-180,-90+_t],[180,90-_t]]).minorExtent([[-180,-80-_t],[180,80+_t]])},Z.geo.greatArc=function(){var a,E,e=bi,m=Jr;function k(){return{type:"LineString",coordinates:[a||e.apply(this,arguments),E||m.apply(this,arguments)]}}return k.distance=function(){return Z.geo.distance(a||e.apply(this,arguments),E||m.apply(this,arguments))},k.source=function(T){return arguments.length?(e=T,a="function"==typeof T?null:T,k):e},k.target=function(T){return arguments.length?(m=T,E="function"==typeof T?null:T,k):m},k.precision=function(){return arguments.length?k:0},k},Z.geo.interpolate=function(e,a){return function so(e,a,m,E){var k=Math.cos(a),T=Math.sin(a),j=Math.cos(E),P=Math.sin(E),H=k*Math.cos(e),J=k*Math.sin(e),se=j*Math.cos(m),me=j*Math.sin(m),_e=2*Math.asin(Math.sqrt(Ne(E-a)+k*j*Ne(m-e))),Me=1/Math.sin(_e),Ge=_e?function(ke){var Re=Math.sin(ke*=_e)*Me,Le=Math.sin(_e-ke)*Me,Ke=Le*H+Re*se,De=Le*J+Re*me,He=Le*T+Re*P;return[Math.atan2(De,Ke)*mn,Math.atan2(He,Math.sqrt(Ke*Ke+De*De))*mn]}:function(){return[e*mn,a*mn]};return Ge.distance=_e,Ge}(e[0]*nn,e[1]*nn,a[0]*nn,a[1]*nn)},Z.geo.length=function(e){return zi=0,Z.geo.stream(e,vi),zi};var zi,vi={sphere:he,point:he,lineStart:function di(){var e,a,m;function E(k,T){var j=Math.sin(T*=nn),P=Math.cos(T),H=c((k*=nn)-e),J=Math.cos(H);zi+=Math.atan2(Math.sqrt((H=P*Math.sin(H))*H+(H=m*j-a*P*J)*H),a*j+m*P*J),e=k,a=j,m=P}vi.point=function(k,T){e=k*nn,a=Math.sin(T*=nn),m=Math.cos(T),vi.point=E},vi.lineEnd=function(){vi.point=vi.lineEnd=he}},lineEnd:he,polygonStart:he,polygonEnd:he};function Yr(e,a){function m(E,k){var T=Math.cos(E),j=Math.cos(k),P=e(T*j);return[P*j*Math.sin(E),P*Math.sin(k)]}return m.invert=function(E,k){var T=Math.sqrt(E*E+k*k),j=a(T),P=Math.sin(j),H=Math.cos(j);return[Math.atan2(E*P,T*H),Math.asin(T&&k*P/T)]},m}var ao=Yr(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(Z.geo.azimuthalEqualArea=function(){return or(ao)}).raw=ao;var we=Yr(function(e){var a=Math.acos(e);return a&&a/Math.sin(a)},R);function Pe(e,a){var m=Math.cos(e),E=function(P){return Math.tan(zn/4+P/2)},k=e===a?Math.sin(e):Math.log(m/Math.cos(a))/Math.log(E(a)/E(e)),T=m*Math.pow(E(e),k)/k;if(!k)return At;function j(P,H){T>0?H<-vr+_t&&(H=-vr+_t):H>vr-_t&&(H=vr-_t);var J=T/Math.pow(E(H),k);return[J*Math.sin(k*P),T-J*Math.cos(k*P)]}return j.invert=function(P,H){var J=T-H,se=Hn(k)*Math.sqrt(P*P+J*J);return[Math.atan2(P,J)/k,2*Math.atan(Math.pow(T/se,1/k))-vr]},j}function Xe(e,a){var m=Math.cos(e),E=e===a?Math.sin(e):(m-Math.cos(a))/(a-e),k=m/E+e;if(c(E)<_t)return Ir;function T(j,P){var H=k-P;return[H*Math.sin(E*j),k-H*Math.cos(E*j)]}return T.invert=function(j,P){var H=k-P;return[Math.atan2(j,H)/E,k-Hn(E)*Math.sqrt(j*j+H*H)]},T}(Z.geo.azimuthalEquidistant=function(){return or(we)}).raw=we,(Z.geo.conicConformal=function(){return Oo(Pe)}).raw=Pe,(Z.geo.conicEquidistant=function(){return Oo(Xe)}).raw=Xe;var it=Yr(function(e){return 1/e},Math.atan);function At(e,a){return[e,Math.log(Math.tan(zn/4+a/2))]}function Ct(e){var T,a=or(e),m=a.scale,E=a.translate,k=a.clipExtent;return a.scale=function(){var j=m.apply(a,arguments);return j===a?T?a.clipExtent(null):a:j},a.translate=function(){var j=E.apply(a,arguments);return j===a?T?a.clipExtent(null):a:j},a.clipExtent=function(j){var P=k.apply(a,arguments);if(P===a){if(T=null==j){var H=zn*m(),J=E();k([[J[0]-H,J[1]-H],[J[0]+H,J[1]+H]])}}else T&&(P=null);return P},a.clipExtent(null)}(Z.geo.gnomonic=function(){return or(it)}).raw=it,At.invert=function(e,a){return[e,2*Math.atan(Math.exp(a))-vr]},(Z.geo.mercator=function(){return Ct(At)}).raw=At;var tn=Yr(function(){return 1},Math.asin);(Z.geo.orthographic=function(){return or(tn)}).raw=tn;var un=Yr(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});function In(e,a){return[Math.log(Math.tan(zn/4+a/2)),-e]}function $n(e){return e[0]}function Rn(e){return e[1]}function lr(e){for(var a=e.length,m=[0,1],E=2,k=2;k<a;k++){for(;E>1&&An(e[m[E-2]],e[m[E-1]],e[k])<=0;)--E;m[E++]=k}return m.slice(0,E)}function Xr(e,a){return e[0]-a[0]||e[1]-a[1]}(Z.geo.stereographic=function(){return or(un)}).raw=un,In.invert=function(e,a){return[-a,2*Math.atan(Math.exp(e))-vr]},(Z.geo.transverseMercator=function(){var e=Ct(In),a=e.center,m=e.rotate;return e.center=function(E){return E?a([-E[1],E[0]]):[(E=a())[1],-E[0]]},e.rotate=function(E){return E?m([E[0],E[1],E.length>2?E[2]+90:90]):[(E=m())[0],E[1],E[2]-90]},m([0,0,90])}).raw=In,Z.geom={},Z.geom.hull=function(e){var a=$n,m=Rn;if(arguments.length)return E(e);function E(k){if(k.length<3)return[];var P,T=Er(a),j=Er(m),H=k.length,J=[],se=[];for(P=0;P<H;P++)J.push([+T.call(this,k[P],P),+j.call(this,k[P],P),P]);for(J.sort(Xr),P=0;P<H;P++)se.push([J[P][0],-J[P][1]]);var me=lr(J),_e=lr(se),Me=_e[0]===me[0],Ge=_e[_e.length-1]===me[me.length-1],ke=[];for(P=me.length-1;P>=0;--P)ke.push(k[J[me[P]][2]]);for(P=+Me;P<_e.length-Ge;++P)ke.push(k[J[_e[P]][2]]);return ke}return E.x=function(k){return arguments.length?(a=k,E):a},E.y=function(k){return arguments.length?(m=k,E):m},E},Z.geom.polygon=function(e){return C(e,ci),e};var ci=Z.geom.polygon.prototype=[];function Ui(e,a,m){return(m[0]-a[0])*(e[1]-a[1])<(m[1]-a[1])*(e[0]-a[0])}function Si(e,a,m,E){var k=e[0],T=m[0],j=a[0]-k,P=E[0]-T,H=e[1],J=m[1],se=a[1]-H,me=E[1]-J,_e=(P*(H-J)-me*(k-T))/(me*j-P*se);return[k+_e*j,H+_e*se]}function ki(e){var a=e[0],m=e[e.length-1];return!(a[0]-m[0]||a[1]-m[1])}ci.area=function(){for(var m,e=-1,a=this.length,E=this[a-1],k=0;++e<a;)k+=(m=E)[1]*(E=this[e])[0]-m[0]*E[1];return.5*k},ci.centroid=function(e){var T,P,a=-1,m=this.length,E=0,k=0,j=this[m-1];for(arguments.length||(e=-1/(6*this.area()));++a<m;)E+=((T=j)[0]+(j=this[a])[0])*(P=T[0]*j[1]-j[0]*T[1]),k+=(T[1]+j[1])*P;return[E*e,k*e]},ci.clip=function(e){for(var a,T,j,H,J,se,m=ki(e),E=-1,k=this.length-ki(this),P=this[k-1];++E<k;){for(a=e.slice(),e.length=0,H=this[E],J=a[(j=a.length-m)-1],T=-1;++T<j;)Ui(se=a[T],P,H)?(Ui(J,P,H)||e.push(Si(J,se,P,H)),e.push(se)):Ui(J,P,H)&&e.push(Si(J,se,P,H)),J=se;m&&e.push(e[0]),P=H}return e};var yo,co,Kr,ui,qi,ni=[],Uo=[];function ss(){vs(this),this.edge=this.site=this.circle=null}function Qo(e){var a=ni.pop()||new ss;return a.site=e,a}function as(e){ts(e),Kr.remove(e),ni.push(e),vs(e)}function Ns(e){var a=e.circle,m=a.x,E=a.cy,k={x:m,y:E},T=e.P,j=e.N,P=[e];as(e);for(var H=T;H.circle&&c(m-H.circle.x)<_t&&c(E-H.circle.cy)<_t;)T=H.P,P.unshift(H),as(H),H=T;P.unshift(H),ts(H);for(var J=j;J.circle&&c(m-J.circle.x)<_t&&c(E-J.circle.cy)<_t;)j=J.N,P.push(J),as(J),J=j;P.push(J),ts(J);var me,se=P.length;for(me=1;me<se;++me)gs((J=P[me]).edge,(H=P[me-1]).site,J.site,k);(J=P[se-1]).edge=cs((H=P[0]).site,J.site,null,k),es(H),es(J)}function pc(e){for(var E,k,T,j,a=e.x,m=e.y,P=Kr._;P;)if((T=ca(P,m)-a)>_t)P=P.L;else{if(!((j=a-gc(P,m))>_t)){T>-_t?(E=P.P,k=P):j>-_t?(E=P,k=P.N):E=k=P;break}if(!P.R){E=P;break}P=P.R}var H=Qo(e);if(Kr.insert(E,H),E||k){if(E===k)return ts(E),k=Qo(E.site),Kr.insert(H,k),H.edge=k.edge=cs(E.site,H.site),es(E),void es(k);if(!k)return void(H.edge=cs(E.site,H.site));ts(E),ts(k);var J=E.site,se=J.x,me=J.y,_e=e.x-se,Me=e.y-me,Ge=k.site,ke=Ge.x-se,Re=Ge.y-me,Le=2*(_e*Re-Me*ke),Ke=_e*_e+Me*Me,De=ke*ke+Re*Re,He={x:(Re*Ke-Me*De)/Le+se,y:(_e*De-ke*Ke)/Le+me};gs(k.edge,J,Ge,He),H.edge=cs(J,e,null,He),k.edge=cs(e,Ge,null,He),es(E),es(k)}}function ca(e,a){var m=e.site,E=m.x,k=m.y,T=k-a;if(!T)return E;var j=e.P;if(!j)return-1/0;var P=(m=j.site).x,H=m.y,J=H-a;if(!J)return P;var se=P-E,me=1/T-1/J,_e=se/J;return me?(-_e+Math.sqrt(_e*_e-2*me*(se*se/(-2*J)-H+J/2+k-T/2)))/me+E:(E+P)/2}function gc(e,a){var m=e.N;if(m)return ca(m,a);var E=e.site;return E.y===a?E.x:1/0}function ha(e){this.site=e,this.edges=[]}function ua(e,a){return a.angle-e.angle}function vc(){vs(this),this.x=this.y=this.arc=this.site=this.cy=null}function es(e){var a=e.P,m=e.N;if(a&&m){var E=a.site,k=e.site,T=m.site;if(E!==T){var j=k.x,P=k.y,H=E.x-j,J=E.y-P,se=T.x-j,me=2*(H*(Re=T.y-P)-J*se);if(!(me>=-Xn)){var _e=H*H+J*J,Me=se*se+Re*Re,Ge=(Re*_e-J*Me)/me,ke=(H*Me-se*_e)/me,Re=ke+P,Le=Uo.pop()||new vc;Le.arc=e,Le.site=k,Le.x=Ge+j,Le.y=Re+Math.sqrt(Ge*Ge+ke*ke),Le.cy=Re,e.circle=Le;for(var Ke=null,De=qi._;De;)if(Le.y<De.y||Le.y===De.y&&Le.x<=De.x){if(!De.L){Ke=De.P;break}De=De.L}else{if(!De.R){Ke=De;break}De=De.R}qi.insert(Ke,Le),Ke||(ui=Le)}}}}function ts(e){var a=e.circle;a&&(a.P||(ui=a.N),qi.remove(a),Uo.push(a),vs(a),e.circle=null)}function _c(e,a){var m=e.b;if(m)return!0;var Re,Le,E=e.a,k=a[0][0],T=a[1][0],j=a[0][1],P=a[1][1],H=e.l,J=e.r,se=H.x,me=H.y,_e=J.x,Me=J.y,Ge=(se+_e)/2;if(Me===me){if(Ge<k||Ge>=T)return;if(se>_e){if(E){if(E.y>=P)return}else E={x:Ge,y:j};m={x:Ge,y:P}}else{if(E){if(E.y<j)return}else E={x:Ge,y:P};m={x:Ge,y:j}}}else if(Le=(me+Me)/2-(Re=(se-_e)/(Me-me))*Ge,Re<-1||Re>1)if(se>_e){if(E){if(E.y>=P)return}else E={x:(j-Le)/Re,y:j};m={x:(P-Le)/Re,y:P}}else{if(E){if(E.y<j)return}else E={x:(P-Le)/Re,y:P};m={x:(j-Le)/Re,y:j}}else if(me<Me){if(E){if(E.x>=T)return}else E={x:k,y:Re*k+Le};m={x:T,y:Re*T+Le}}else{if(E){if(E.x<k)return}else E={x:T,y:Re*T+Le};m={x:k,y:Re*k+Le}}return e.a=E,e.b=m,!0}function fa(e,a){this.l=e,this.r=a,this.a=this.b=null}function cs(e,a,m,E){var k=new fa(e,a);return yo.push(k),m&&gs(k,e,a,m),E&&gs(k,a,e,E),co[e.i].edges.push(new ms(k,e,a)),co[a.i].edges.push(new ms(k,a,e)),k}function bc(e,a,m){var E=new fa(e,null);return E.a=a,E.b=m,yo.push(E),E}function gs(e,a,m,E){e.a||e.b?e.l===m?e.b=E:e.a=E:(e.a=E,e.l=a,e.r=m)}function ms(e,a,m){var E=e.a,k=e.b;this.edge=e,this.site=a,this.angle=m?Math.atan2(m.y-a.y,m.x-a.x):e.l===a?Math.atan2(k.x-E.x,E.y-k.y):Math.atan2(E.x-k.x,k.y-E.y)}function Os(){this._=null}function vs(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function hs(e,a){var m=a,E=a.R,k=m.U;k?k.L===m?k.L=E:k.R=E:e._=E,E.U=k,m.U=E,m.R=E.L,m.R&&(m.R.U=m),E.L=m}function us(e,a){var m=a,E=a.L,k=m.U;k?k.L===m?k.L=E:k.R=E:e._=E,E.U=k,m.U=E,m.L=E.R,m.L&&(m.L.U=m),E.R=m}function la(e){for(;e.L;)e=e.L;return e}function Ps(e,a){var E,k,T,m=e.sort(wc).pop();for(yo=[],co=new Array(e.length),Kr=new Os,qi=new Os;;)if(T=ui,m&&(!T||m.y<T.y||m.y===T.y&&m.x<T.x))(m.x!==E||m.y!==k)&&(co[m.i]=new ha(m),pc(m),E=m.x,k=m.y),m=e.pop();else{if(!T)break;Ns(T.arc)}a&&(function yc(e){for(var k,a=yo,m=Ao(e[0][0],e[0][1],e[1][0],e[1][1]),E=a.length;E--;)(!_c(k=a[E],e)||!m(k)||c(k.a.x-k.b.x)<_t&&c(k.a.y-k.b.y)<_t)&&(k.a=k.b=null,a.splice(E,1))}(a),function mc(e){for(var T,j,P,H,me,_e,Me,Ge,ke,Re,a=e[0][0],m=e[1][0],E=e[0][1],k=e[1][1],J=co,se=J.length;se--;)if((me=J[se])&&me.prepare())for(Ge=(Me=me.edges).length,_e=0;_e<Ge;)P=(Re=Me[_e].end()).x,H=Re.y,j=(ke=Me[++_e%Ge].start()).y,(c(P-(T=ke.x))>_t||c(H-j)>_t)&&(Me.splice(_e,0,new ms(bc(me.site,Re,c(P-a)<_t&&k-H>_t?{x:a,y:c(T-a)<_t?j:k}:c(H-k)<_t&&m-P>_t?{x:c(j-k)<_t?T:m,y:k}:c(P-m)<_t&&H-E>_t?{x:m,y:c(T-m)<_t?j:E}:c(H-E)<_t&&P-a>_t?{x:c(j-E)<_t?T:a,y:E}:null),me.site,null)),++Ge)}(a));var j={cells:co,edges:yo};return Kr=qi=yo=co=null,j}function wc(e,a){return a.y-e.y||a.x-e.x}ha.prototype.prepare=function(){for(var m,e=this.edges,a=e.length;a--;)(!(m=e[a].edge).b||!m.a)&&e.splice(a,1);return e.sort(ua),e.length},ms.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Os.prototype={insert:function(e,a){var m,E,k;if(e){if(a.P=e,a.N=e.N,e.N&&(e.N.P=a),e.N=a,e.R){for(e=e.R;e.L;)e=e.L;e.L=a}else e.R=a;m=e}else this._?(e=la(this._),a.P=null,a.N=e,e.P=e.L=a,m=e):(a.P=a.N=null,this._=a,m=null);for(a.L=a.R=null,a.U=m,a.C=!0,e=a;m&&m.C;)m===(E=m.U).L?(k=E.R)&&k.C?(m.C=k.C=!1,E.C=!0,e=E):(e===m.R&&(hs(this,m),m=(e=m).U),m.C=!1,E.C=!0,us(this,E)):(k=E.L)&&k.C?(m.C=k.C=!1,E.C=!0,e=E):(e===m.L&&(us(this,m),m=(e=m).U),m.C=!1,E.C=!0,hs(this,E)),m=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var m,T,j,a=e.U,E=e.L,k=e.R;if(T=E?k?la(k):E:k,a?a.L===e?a.L=T:a.R=T:this._=T,E&&k?(j=T.C,T.C=e.C,T.L=E,E.U=T,T!==k?(a=T.U,T.U=e.U,a.L=e=T.R,T.R=k,k.U=T):(T.U=a,a=T,e=T.R)):(j=e.C,e=T),e&&(e.U=a),!j){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===a.L){if((m=a.R).C&&(m.C=!1,a.C=!0,hs(this,a),m=a.R),m.L&&m.L.C||m.R&&m.R.C){(!m.R||!m.R.C)&&(m.L.C=!1,m.C=!0,us(this,m),m=a.R),m.C=a.C,a.C=m.R.C=!1,hs(this,a),e=this._;break}}else if((m=a.L).C&&(m.C=!1,a.C=!0,us(this,a),m=a.L),m.L&&m.L.C||m.R&&m.R.C){(!m.L||!m.L.C)&&(m.R.C=!1,m.C=!0,hs(this,m),m=a.L),m.C=a.C,a.C=m.L.C=!1,us(this,a),e=this._;break}m.C=!0,e=a,a=a.U}while(!e.C);e&&(e.C=!1)}}},Z.geom.voronoi=function(e){var a=$n,m=Rn,E=a,k=m,T=ys;if(e)return j(e);function j(H){var J=new Array(H.length),se=T[0][0],me=T[0][1],_e=T[1][0],Me=T[1][1];return Ps(P(H),T).cells.forEach(function(Ge,ke){var Re=Ge.edges,Le=Ge.site;(J[ke]=Re.length?Re.map(function(De){var He=De.start();return[He.x,He.y]}):Le.x>=se&&Le.x<=_e&&Le.y>=me&&Le.y<=Me?[[se,Me],[_e,Me],[_e,me],[se,me]]:[]).point=H[ke]}),J}function P(H){return H.map(function(J,se){return{x:Math.round(E(J,se)/_t)*_t,y:Math.round(k(J,se)/_t)*_t,i:se}})}return j.links=function(H){return Ps(P(H)).edges.filter(function(J){return J.l&&J.r}).map(function(J){return{source:H[J.l.i],target:H[J.r.i]}})},j.triangles=function(H){var J=[];return Ps(P(H)).cells.forEach(function(se,me){for(var Le,_e=se.site,Me=se.edges.sort(ua),Ge=-1,ke=Me.length,Ke=Me[ke-1].edge,De=Ke.l===_e?Ke.r:Ke.l;++Ge<ke;)Le=De,De=(Ke=Me[Ge].edge).l===_e?Ke.r:Ke.l,me<Le.i&&me<De.i&&Ec(_e,Le,De)<0&&J.push([H[me],H[Le.i],H[De.i]])}),J},j.x=function(H){return arguments.length?(E=Er(a=H),j):a},j.y=function(H){return arguments.length?(k=Er(m=H),j):m},j.clipExtent=function(H){return arguments.length?(T=null==H?ys:H,j):T===ys?null:T},j.size=function(H){return arguments.length?j.clipExtent(H&&[[0,0],H]):T===ys?null:T&&T[1]},j};var ys=[[-1e6,-1e6],[1e6,1e6]];function Ec(e,a,m){return(e.x-m.x)*(a.y-e.y)-(e.x-a.x)*(m.y-e.y)}function xc(e){return e.x}function Sc(e){return e.y}function fs(e,a,m,E,k,T){if(!e(a,m,E,k,T)){var j=.5*(m+k),P=.5*(E+T),H=a.nodes;H[0]&&fs(e,H[0],m,E,j,P),H[1]&&fs(e,H[1],j,E,k,P),H[2]&&fs(e,H[2],m,P,j,T),H[3]&&fs(e,H[3],j,P,k,T)}}function kc(e,a,m,E,k,T,j){var H,P=1/0;return function J(se,me,_e,Me,Ge){if(!(me>T||_e>j||Me<E||Ge<k)){if(ke=se.point){var ke,Re=a-se.x,Le=m-se.y,Ke=Re*Re+Le*Le;if(Ke<P){var De=Math.sqrt(P=Ke);E=a-De,k=m-De,T=a+De,j=m+De,H=ke}}for(var He=se.nodes,Et=.5*(me+Me),lt=.5*(_e+Ge),jt=(m>=lt)<<1|a>=Et,Yt=jt+4;jt<Yt;++jt)if(se=He[3&jt])switch(3&jt){case 0:J(se,me,_e,Et,lt);break;case 1:J(se,Et,_e,Me,lt);break;case 2:J(se,me,lt,Et,Ge);break;case 3:J(se,Et,lt,Me,Ge)}}}(e,E,k,T,j),H}function Ds(e,a){e=Z.rgb(e),a=Z.rgb(a);var m=e.r,E=e.g,k=e.b,T=a.r-m,j=a.g-E,P=a.b-k;return function(H){return"#"+Or(Math.round(m+T*H))+Or(Math.round(E+j*H))+Or(Math.round(k+P*H))}}function pa(e,a){var k,m={},E={};for(k in e)k in a?m[k]=Yo(e[k],a[k]):E[k]=e[k];for(k in a)k in e||(E[k]=a[k]);return function(T){for(k in m)E[k]=m[k](T);return E}}function Fo(e,a){return e=+e,a=+a,function(m){return e*(1-m)+a*m}}function ga(e,a){var E,k,T,m=zs.lastIndex=Us.lastIndex=0,j=-1,P=[],H=[];for(e+="",a+="";(E=zs.exec(e))&&(k=Us.exec(a));)(T=k.index)>m&&(T=a.slice(m,T),P[j]?P[j]+=T:P[++j]=T),(E=E[0])===(k=k[0])?P[j]?P[j]+=k:P[++j]=k:(P[++j]=null,H.push({i:j,x:Fo(E,k)})),m=Us.lastIndex;return m<a.length&&(T=a.slice(m),P[j]?P[j]+=T:P[++j]=T),P.length<2?H[0]?(a=H[0].x,function(J){return a(J)+""}):function(){return a}:(a=H.length,function(J){for(var me,se=0;se<a;++se)P[(me=H[se]).i]=me.x(J);return P.join("")})}Z.geom.delaunay=function(e){return Z.geom.voronoi().triangles(e)},Z.geom.quadtree=function(e,a,m,E,k){var P,T=$n,j=Rn;if(P=arguments.length)return T=xc,j=Sc,3===P&&(k=m,E=a,m=a=0),H(e);function H(J){var se,Me,Ge,ke,Re,Le,Ke,De,He,me=Er(T),_e=Er(j);if(null!=a)Le=a,Ke=m,De=E,He=k;else if(De=He=-(Le=Ke=1/0),Me=[],Ge=[],Re=J.length,P)for(ke=0;ke<Re;++ke)(se=J[ke]).x<Le&&(Le=se.x),se.y<Ke&&(Ke=se.y),se.x>De&&(De=se.x),se.y>He&&(He=se.y),Me.push(se.x),Ge.push(se.y);else for(ke=0;ke<Re;++ke){var Et=+me(se=J[ke],ke),lt=+_e(se,ke);Et<Le&&(Le=Et),lt<Ke&&(Ke=lt),Et>De&&(De=Et),lt>He&&(He=lt),Me.push(Et),Ge.push(lt)}var gt=De-Le,ut=He-Ke;function jt(gn,wn,St,Vt,sn,Tt,rn,On){if(!isNaN(St)&&!isNaN(Vt))if(gn.leaf){var rr=gn.x,mr=gn.y;if(null!=rr)if(c(rr-St)+c(mr-Vt)<.01)Yt(gn,wn,St,Vt,sn,Tt,rn,On);else{var Wr=gn.point;gn.x=gn.y=gn.point=null,Yt(gn,Wr,rr,mr,sn,Tt,rn,On),Yt(gn,wn,St,Vt,sn,Tt,rn,On)}else gn.x=St,gn.y=Vt,gn.point=wn}else Yt(gn,wn,St,Vt,sn,Tt,rn,On)}function Yt(gn,wn,St,Vt,sn,Tt,rn,On){var rr=.5*(sn+rn),mr=.5*(Tt+On),Wr=St>=rr,Zr=Vt>=mr,Fi=Zr<<1|Wr;gn.leaf=!1,Wr?sn=rr:rn=rr,Zr?Tt=mr:On=mr,jt(gn=gn.nodes[Fi]||(gn.nodes[Fi]={leaf:!0,nodes:[],point:null,x:null,y:null}),wn,St,Vt,sn,Tt,rn,On)}gt>ut?He=Ke+gt:De=Le+ut;var Sn={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(gn){jt(Sn,gn,+me(gn,++ke),+_e(gn,ke),Le,Ke,De,He)},visit:function(gn){fs(gn,Sn,Le,Ke,De,He)},find:function(gn){return kc(Sn,gn[0],gn[1],Le,Ke,De,He)}};if(ke=-1,null==a){for(;++ke<Re;)jt(Sn,J[ke],Me[ke],Ge[ke],Le,Ke,De,He);--ke}else J.forEach(Sn.add);return Me=Ge=J=se=null,Sn}return H.x=function(J){return arguments.length?(T=J,H):T},H.y=function(J){return arguments.length?(j=J,H):j},H.extent=function(J){return arguments.length?(null==J?a=m=E=k=null:(a=+J[0][0],m=+J[0][1],E=+J[1][0],k=+J[1][1]),H):null==a?null:[[a,m],[E,k]]},H.size=function(J){return arguments.length?(null==J?a=m=E=k=null:(a=m=0,E=+J[0],k=+J[1]),H):null==a?null:[E-a,k-m]},H},Z.interpolateRgb=Ds,Z.interpolateObject=pa,Z.interpolateNumber=Fo,Z.interpolateString=ga;var zs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Us=new RegExp(zs.source,"g");function Yo(e,a){for(var E,m=Z.interpolators.length;--m>=0&&!(E=Z.interpolators[m](e,a)););return E}function _s(e,a){var P,m=[],E=[],k=e.length,T=a.length,j=Math.min(e.length,a.length);for(P=0;P<j;++P)m.push(Yo(e[P],a[P]));for(;P<k;++P)E[P]=e[P];for(;P<T;++P)E[P]=a[P];return function(H){for(P=0;P<j;++P)E[P]=m[P](H);return E}}Z.interpolate=Yo,Z.interpolators=[function(e,a){var m=typeof a;return("string"===m?Jn.has(a.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(a)?Ds:ga:a instanceof Kn?Ds:Array.isArray(a)?_s:"object"===m&&isNaN(a)?pa:Fo)(e,a)}],Z.interpolateArray=_s;var ma=function(){return R},Ac=Z.map({linear:ma,poly:function Lc(e){return function(a){return Math.pow(a,e)}},quad:function(){return Ic},cubic:function(){return Rc},sin:function(){return Bc},exp:function(){return Nc},circle:function(){return Oc},elastic:function Pc(e,a){var m;return arguments.length<2&&(a=.45),arguments.length?m=a/Fn*Math.asin(1/e):(e=1,m=a/4),function(E){return 1+e*Math.pow(2,-10*E)*Math.sin((E-m)*Fn/a)}},back:function Dc(e){return e||(e=1.70158),function(a){return a*a*((e+1)*a-e)}},bounce:function(){return zc}}),Cc=Z.map({in:R,out:va,"in-out":ya,"out-in":function(e){return ya(va(e))}});function Tc(e){return function(a){return a<=0?0:a>=1?1:e(a)}}function va(e){return function(a){return 1-e(1-a)}}function ya(e){return function(a){return.5*(a<.5?e(2*a):2-e(2-2*a))}}function Ic(e){return e*e}function Rc(e){return e*e*e}function Mc(e){if(e<=0)return 0;if(e>=1)return 1;var a=e*e,m=a*e;return 4*(e<.5?m:3*(e-a)+m-.75)}function Bc(e){return 1-Math.cos(e*vr)}function Nc(e){return Math.pow(2,10*(e-1))}function Oc(e){return 1-Math.sqrt(1-e*e)}function zc(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function _a(e,a){return a-=e,function(m){return Math.round(e+a*m)}}function ba(e){var a=[e.a,e.b],m=[e.c,e.d],E=Ea(a),k=wa(a,m),T=Ea(function Hc(e,a,m){return e[0]+=m*a[0],e[1]+=m*a[1],e}(m,a,-k))||0;a[0]*m[1]<m[0]*a[1]&&(a[0]*=-1,a[1]*=-1,E*=-1,k*=-1),this.rotate=(E?Math.atan2(a[1],a[0]):Math.atan2(-m[0],m[1]))*mn,this.translate=[e.e,e.f],this.scale=[E,T],this.skew=T?Math.atan2(k,T)*mn:0}function wa(e,a){return e[0]*a[0]+e[1]*a[1]}function Ea(e){var a=Math.sqrt(wa(e,e));return a&&(e[0]/=a,e[1]/=a),a}Z.ease=function(e){var a=e.indexOf("-"),m=a>=0?e.slice(0,a):e,E=a>=0?e.slice(a+1):"in";return m=Ac.get(m)||ma,Tc((E=Cc.get(E)||R)(m.apply(null,Fe.call(arguments,1))))},Z.interpolateHcl=function Uc(e,a){e=Z.hcl(e),a=Z.hcl(a);var m=e.h,E=e.c,k=e.l,T=a.h-m,j=a.c-E,P=a.l-k;return isNaN(j)&&(j=0,E=isNaN(E)?a.c:E),isNaN(T)?(T=0,m=isNaN(m)?a.h:m):T>180?T-=360:T<-180&&(T+=360),function(H){return ee(m+T*H,E+j*H,k+P*H)+""}},Z.interpolateHsl=function Fc(e,a){e=Z.hsl(e),a=Z.hsl(a);var m=e.h,E=e.s,k=e.l,T=a.h-m,j=a.s-E,P=a.l-k;return isNaN(j)&&(j=0,E=isNaN(E)?a.s:E),isNaN(T)?(T=0,m=isNaN(m)?a.h:m):T>180?T-=360:T<-180&&(T+=360),function(H){return Yn(m+T*H,E+j*H,k+P*H)+""}},Z.interpolateLab=function jc(e,a){e=Z.lab(e),a=Z.lab(a);var m=e.l,E=e.a,k=e.b,T=a.l-m,j=a.a-E,P=a.b-k;return function(H){return Mn(m+T*H,E+j*H,k+P*H)+""}},Z.interpolateRound=_a,Z.transform=function(e){var a=_.createElementNS(Z.ns.prefix.svg,"g");return(Z.transform=function(m){if(null!=m){a.setAttribute("transform",m);var E=a.transform.baseVal.consolidate()}return new ba(E?E.matrix:Wc)})(e)},ba.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Wc={a:1,b:0,c:0,d:1,e:0,f:0};function ns(e){return e.length?e.pop()+",":""}function xa(e,a){var m=[],E=[];return e=Z.transform(e),a=Z.transform(a),function Vc(e,a,m,E){if(e[0]!==a[0]||e[1]!==a[1]){var k=m.push("translate(",null,",",null,")");E.push({i:k-4,x:Fo(e[0],a[0])},{i:k-2,x:Fo(e[1],a[1])})}else(a[0]||a[1])&&m.push("translate("+a+")")}(e.translate,a.translate,m,E),function Kc(e,a,m,E){e!==a?(e-a>180?a+=360:a-e>180&&(e+=360),E.push({i:m.push(ns(m)+"rotate(",null,")")-2,x:Fo(e,a)})):a&&m.push(ns(m)+"rotate("+a+")")}(e.rotate,a.rotate,m,E),function qc(e,a,m,E){e!==a?E.push({i:m.push(ns(m)+"skewX(",null,")")-2,x:Fo(e,a)}):a&&m.push(ns(m)+"skewX("+a+")")}(e.skew,a.skew,m,E),function Gc(e,a,m,E){if(e[0]!==a[0]||e[1]!==a[1]){var k=m.push(ns(m)+"scale(",null,",",null,")");E.push({i:k-4,x:Fo(e[0],a[0])},{i:k-2,x:Fo(e[1],a[1])})}else(1!==a[0]||1!==a[1])&&m.push(ns(m)+"scale("+a+")")}(e.scale,a.scale,m,E),e=a=null,function(k){for(var P,T=-1,j=E.length;++T<j;)m[(P=E[T]).i]=P.x(k);return m.join("")}}function Yc(e,a){return a=(a-=e=+e)||1/a,function(m){return(m-e)/a}}function $c(e,a){return a=(a-=e=+e)||1/a,function(m){return Math.max(0,Math.min(1,(m-e)/a))}}function Xc(e){for(var a=e.source,m=e.target,E=function Zc(e,a){if(e===a)return e;for(var m=Sa(e),E=Sa(a),k=m.pop(),T=E.pop(),j=null;k===T;)j=k,k=m.pop(),T=E.pop();return j}(a,m),k=[a];a!==E;)k.push(a=a.parent);for(var T=k.length;m!==E;)k.splice(T,0,m),m=m.parent;return k}function Sa(e){for(var a=[],m=e.parent;null!=m;)a.push(e),e=m,m=m.parent;return a.push(e),a}function Jc(e){e.fixed|=2}function Qc(e){e.fixed&=-7}function eh(e){e.fixed|=4,e.px=e.x,e.py=e.y}function th(e){e.fixed&=-5}function ka(e,a,m){var E=0,k=0;if(e.charge=0,!e.leaf)for(var H,T=e.nodes,j=T.length,P=-1;++P<j;)null!=(H=T[P])&&(ka(H,a,m),e.charge+=H.charge,E+=H.charge*H.cx,k+=H.charge*H.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var J=a*m[e.point.index];e.charge+=e.pointCharge=J,E+=J*e.point.x,k+=J*e.point.y}e.cx=E/e.charge,e.cy=k/e.charge}Z.interpolateTransform=xa,Z.layout={},Z.layout.bundle=function(){return function(e){for(var a=[],m=-1,E=e.length;++m<E;)a.push(Xc(e[m]));return a}},Z.layout.chord=function(){var a,m,E,k,j,P,H,e={},T=0;function J(){var ke,Re,Le,Ke,De,me={},_e=[],Me=Z.range(k),Ge=[];for(a=[],m=[],ke=0,Ke=-1;++Ke<k;){for(Re=0,De=-1;++De<k;)Re+=E[Ke][De];_e.push(Re),Ge.push(Z.range(k)),ke+=Re}for(j&&Me.sort(function(Sn,gn){return j(_e[Sn],_e[gn])}),P&&Ge.forEach(function(Sn,gn){Sn.sort(function(wn,St){return P(E[gn][wn],E[gn][St])})}),ke=(Fn-T*k)/ke,Re=0,Ke=-1;++Ke<k;){for(Le=Re,De=-1;++De<k;){var He=Me[Ke],Et=Ge[He][De],lt=E[He][Et],gt=Re,ut=Re+=lt*ke;me[He+"-"+Et]={index:He,subindex:Et,startAngle:gt,endAngle:ut,value:lt}}m[He]={index:He,startAngle:Le,endAngle:Re,value:_e[He]},Re+=T}for(Ke=-1;++Ke<k;)for(De=Ke-1;++De<k;){var jt=me[Ke+"-"+De],Yt=me[De+"-"+Ke];(jt.value||Yt.value)&&a.push(jt.value<Yt.value?{source:Yt,target:jt}:{source:jt,target:Yt})}H&&se()}function se(){a.sort(function(me,_e){return H((me.source.value+me.target.value)/2,(_e.source.value+_e.target.value)/2)})}return e.matrix=function(me){return arguments.length?(k=(E=me)&&E.length,a=m=null,e):E},e.padding=function(me){return arguments.length?(T=me,a=m=null,e):T},e.sortGroups=function(me){return arguments.length?(j=me,a=m=null,e):j},e.sortSubgroups=function(me){return arguments.length?(P=me,a=null,e):P},e.sortChords=function(me){return arguments.length?(H=me,a&&se(),e):H},e.chords=function(){return a||J(),a},e.groups=function(){return m||J(),m},e},Z.layout.force=function(){var m,k,T,ke,Re,Le,e={},a=Z.dispatch("start","tick","end"),E=[1,1],j=.9,P=nh,H=rh,J=-30,se=ih,me=.1,_e=.64,Me=[],Ge=[];function Ke(He){return function(Et,lt,gt,ut){if(Et.point!==He){var wn,jt=Et.cx-He.x,Yt=Et.cy-He.y,Sn=ut-lt,gn=jt*jt+Yt*Yt;if(Sn*Sn/_e<gn)return gn<se&&(He.px-=jt*(wn=Et.charge/gn),He.py-=Yt*wn),!0;Et.point&&gn&&gn<se&&(He.px-=jt*(wn=Et.pointCharge/gn),He.py-=Yt*wn)}return!Et.charge}}function De(He){He.px=Z.event.x,He.py=Z.event.y,e.resume()}return e.tick=function(){if((T*=.99)<.005)return m=null,a.end({type:"end",alpha:T=0}),!0;var lt,gt,ut,jt,Yt,Sn,gn,wn,St,He=Me.length,Et=Ge.length;for(gt=0;gt<Et;++gt)(Sn=(wn=(Yt=(ut=Ge[gt]).target).x-(jt=ut.source).x)*wn+(St=Yt.y-jt.y)*St)&&(St*=Sn=T*Re[gt]*((Sn=Math.sqrt(Sn))-ke[gt])/Sn,Yt.x-=(wn*=Sn)*(gn=jt.weight+Yt.weight?jt.weight/(jt.weight+Yt.weight):.5),Yt.y-=St*gn,jt.x+=wn*(gn=1-gn),jt.y+=St*gn);if((gn=T*me)&&(wn=E[0]/2,St=E[1]/2,gt=-1,gn))for(;++gt<He;)(ut=Me[gt]).x+=(wn-ut.x)*gn,ut.y+=(St-ut.y)*gn;if(J)for(ka(lt=Z.geom.quadtree(Me),T,Le),gt=-1;++gt<He;)(ut=Me[gt]).fixed||lt.visit(Ke(ut));for(gt=-1;++gt<He;)(ut=Me[gt]).fixed?(ut.x=ut.px,ut.y=ut.py):(ut.x-=(ut.px-(ut.px=ut.x))*j,ut.y-=(ut.py-(ut.py=ut.y))*j);a.tick({type:"tick",alpha:T})},e.nodes=function(He){return arguments.length?(Me=He,e):Me},e.links=function(He){return arguments.length?(Ge=He,e):Ge},e.size=function(He){return arguments.length?(E=He,e):E},e.linkDistance=function(He){return arguments.length?(P="function"==typeof He?He:+He,e):P},e.distance=e.linkDistance,e.linkStrength=function(He){return arguments.length?(H="function"==typeof He?He:+He,e):H},e.friction=function(He){return arguments.length?(j=+He,e):j},e.charge=function(He){return arguments.length?(J="function"==typeof He?He:+He,e):J},e.chargeDistance=function(He){return arguments.length?(se=He*He,e):Math.sqrt(se)},e.gravity=function(He){return arguments.length?(me=+He,e):me},e.theta=function(He){return arguments.length?(_e=He*He,e):Math.sqrt(_e)},e.alpha=function(He){return arguments.length?(He=+He,T?He>0?T=He:(m.c=null,m.t=NaN,m=null,a.end({type:"end",alpha:T=0})):He>0&&(a.start({type:"start",alpha:T=He}),m=B(e.tick)),e):T},e.start=function(){var He,jt,Yt,Et=Me.length,lt=Ge.length,gt=E[0],ut=E[1];for(He=0;He<Et;++He)(Yt=Me[He]).index=He,Yt.weight=0;for(He=0;He<lt;++He)"number"==typeof(Yt=Ge[He]).source&&(Yt.source=Me[Yt.source]),"number"==typeof Yt.target&&(Yt.target=Me[Yt.target]),++Yt.source.weight,++Yt.target.weight;for(He=0;He<Et;++He)Yt=Me[He],isNaN(Yt.x)&&(Yt.x=Sn("x",gt)),isNaN(Yt.y)&&(Yt.y=Sn("y",ut)),isNaN(Yt.px)&&(Yt.px=Yt.x),isNaN(Yt.py)&&(Yt.py=Yt.y);if(ke=[],"function"==typeof P)for(He=0;He<lt;++He)ke[He]=+P.call(this,Ge[He],He);else for(He=0;He<lt;++He)ke[He]=P;if(Re=[],"function"==typeof H)for(He=0;He<lt;++He)Re[He]=+H.call(this,Ge[He],He);else for(He=0;He<lt;++He)Re[He]=H;if(Le=[],"function"==typeof J)for(He=0;He<Et;++He)Le[He]=+J.call(this,Me[He],He);else for(He=0;He<Et;++He)Le[He]=J;function Sn(gn,wn){if(!jt){for(jt=new Array(Et),sn=0;sn<Et;++sn)jt[sn]=[];for(sn=0;sn<lt;++sn){var St=Ge[sn];jt[St.source.index].push(St.target),jt[St.target.index].push(St.source)}}for(var rn,Vt=jt[He],sn=-1,Tt=Vt.length;++sn<Tt;)if(!isNaN(rn=Vt[sn][gn]))return rn;return Math.random()*wn}return e.resume()},e.resume=function(){return e.alpha(.1)},e.stop=function(){return e.alpha(0)},e.drag=function(){if(k||(k=Z.behavior.drag().origin(R).on("dragstart.force",Jc).on("drag.force",De).on("dragend.force",Qc)),!arguments.length)return k;this.on("mouseover.force",eh).on("mouseout.force",th).call(k)},Z.rebind(e,a,"on")};var nh=20,rh=1,ih=1/0;function ls(e,a){return Z.rebind(e,a,"sort","children","value"),e.nodes=e,e.links=ch,e}function ds(e,a){for(var m=[e];null!=(e=m.pop());)if(a(e),(k=e.children)&&(E=k.length))for(var E,k;--E>=0;)m.push(k[E])}function Ro(e,a){for(var m=[e],E=[];null!=(e=m.pop());)if(E.push(e),(j=e.children)&&(T=j.length))for(var T,j,k=-1;++k<T;)m.push(j[k]);for(;null!=(e=E.pop());)a(e)}function oh(e){return e.children}function sh(e){return e.value}function ah(e,a){return a.value-e.value}function ch(e){return Z.merge(e.map(function(a){return(a.children||[]).map(function(m){return{source:a,target:m}})}))}Z.layout.hierarchy=function(){var e=ah,a=oh,m=sh;function E(k){var P,T=[k],j=[];for(k.depth=0;null!=(P=T.pop());)if(j.push(P),(J=a.call(E,P,P.depth))&&(H=J.length)){for(var H,J,se;--H>=0;)T.push(se=J[H]),se.parent=P,se.depth=P.depth+1;m&&(P.value=0),P.children=J}else m&&(P.value=+m.call(E,P,P.depth)||0),delete P.children;return Ro(k,function(me){var _e,Me;e&&(_e=me.children)&&_e.sort(e),m&&(Me=me.parent)&&(Me.value+=me.value)}),j}return E.sort=function(k){return arguments.length?(e=k,E):e},E.children=function(k){return arguments.length?(a=k,E):a},E.value=function(k){return arguments.length?(m=k,E):m},E.revalue=function(k){return m&&(ds(k,function(T){T.children&&(T.value=0)}),Ro(k,function(T){var j;T.children||(T.value=+m.call(E,T,T.depth)||0),(j=T.parent)&&(j.value+=T.value)})),k},E},Z.layout.partition=function(){var e=Z.layout.hierarchy(),a=[1,1];function m(T,j,P,H){var J=T.children;if(T.x=j,T.y=T.depth*H,T.dx=P,T.dy=H,J&&(me=J.length)){var me,_e,Me,se=-1;for(P=T.value?P/T.value:0;++se<me;)m(_e=J[se],j,Me=_e.value*P,H),j+=Me}}function E(T){var j=T.children,P=0;if(j&&(J=j.length))for(var J,H=-1;++H<J;)P=Math.max(P,E(j[H]));return 1+P}function k(T,j){var P=e.call(this,T,j);return m(P[0],0,a[0],a[1]/E(P[0])),P}return k.size=function(T){return arguments.length?(a=T,k):a},ls(k,e)},Z.layout.pie=function(){var e=Number,a=Aa,m=0,E=Fn,k=0;function T(j){var Le,P=j.length,H=j.map(function(Ke,De){return+e.call(T,Ke,De)}),J=+("function"==typeof m?m.apply(this,arguments):m),se=("function"==typeof E?E.apply(this,arguments):E)-J,me=Math.min(Math.abs(se)/P,+("function"==typeof k?k.apply(this,arguments):k)),_e=me*(se<0?-1:1),Me=Z.sum(H),Ge=Me?(se-P*_e)/Me:0,ke=Z.range(P),Re=[];return null!=a&&ke.sort(a===Aa?function(Ke,De){return H[De]-H[Ke]}:function(Ke,De){return a(j[Ke],j[De])}),ke.forEach(function(Ke){Re[Ke]={data:j[Ke],value:Le=H[Ke],startAngle:J,endAngle:J+=Le*Ge+_e,padAngle:me}}),Re}return T.value=function(j){return arguments.length?(e=j,T):e},T.sort=function(j){return arguments.length?(a=j,T):a},T.startAngle=function(j){return arguments.length?(m=j,T):m},T.endAngle=function(j){return arguments.length?(E=j,T):E},T.padAngle=function(j){return arguments.length?(k=j,T):k},T};var Aa={};function hh(e){return e.x}function uh(e){return e.y}function fh(e,a,m){e.y0=a,e.y=m}Z.layout.stack=function(){var e=R,a=Fs,m=js,E=fh,k=hh,T=uh;function j(P,H){if(!(Ge=P.length))return P;var J=P.map(function(Ke,De){return e.call(j,Ke,De)}),se=J.map(function(Ke){return Ke.map(function(De,He){return[k.call(j,De,He),T.call(j,De,He)]})}),me=a.call(j,se,H);J=Z.permute(J,me),se=Z.permute(se,me);var Ge,ke,Re,Le,_e=m.call(j,se,H),Me=J[0].length;for(Re=0;Re<Me;++Re)for(E.call(j,J[0][Re],Le=_e[Re],se[0][Re][1]),ke=1;ke<Ge;++ke)E.call(j,J[ke][Re],Le+=se[ke-1][Re][1],se[ke][Re][1]);return P}return j.values=function(P){return arguments.length?(e=P,j):e},j.order=function(P){return arguments.length?(a="function"==typeof P?P:lh.get(P)||Fs,j):a},j.offset=function(P){return arguments.length?(m="function"==typeof P?P:dh.get(P)||js,j):m},j.x=function(P){return arguments.length?(k=P,j):k},j.y=function(P){return arguments.length?(T=P,j):T},j.out=function(P){return arguments.length?(E=P,j):E},j};var lh=Z.map({"inside-out":function(e){var m,E,a=e.length,k=e.map(ph),T=e.map(gh),j=Z.range(a).sort(function(me,_e){return k[me]-k[_e]}),P=0,H=0,J=[],se=[];for(m=0;m<a;++m)E=j[m],P<H?(P+=T[E],J.push(E)):(H+=T[E],se.push(E));return se.reverse().concat(J)},reverse:function(e){return Z.range(e.length).reverse()},default:Fs}),dh=Z.map({silhouette:function(e){var T,j,P,a=e.length,m=e[0].length,E=[],k=0,H=[];for(j=0;j<m;++j){for(T=0,P=0;T<a;T++)P+=e[T][j][1];P>k&&(k=P),E.push(P)}for(j=0;j<m;++j)H[j]=(k-E[j])/2;return H},wiggle:function(e){var k,T,j,P,H,J,se,me,_e,a=e.length,m=e[0],E=m.length,Me=[];for(Me[0]=me=_e=0,T=1;T<E;++T){for(k=0,P=0;k<a;++k)P+=e[k][T][1];for(k=0,H=0,se=m[T][0]-m[T-1][0];k<a;++k){for(j=0,J=(e[k][T][1]-e[k][T-1][1])/(2*se);j<k;++j)J+=(e[j][T][1]-e[j][T-1][1])/se;H+=J*e[k][T][1]}Me[T]=me-=P?H/P*se:0,me<_e&&(_e=me)}for(T=0;T<E;++T)Me[T]-=_e;return Me},expand:function(e){var k,T,j,a=e.length,m=e[0].length,E=1/a,P=[];for(T=0;T<m;++T){for(k=0,j=0;k<a;k++)j+=e[k][T][1];if(j)for(k=0;k<a;k++)e[k][T][1]/=j;else for(k=0;k<a;k++)e[k][T][1]=E}for(T=0;T<m;++T)P[T]=0;return P},zero:js});function Fs(e){return Z.range(e.length)}function js(e){for(var a=-1,m=e[0].length,E=[];++a<m;)E[a]=0;return E}function ph(e){for(var k,a=1,m=0,E=e[0][1],T=e.length;a<T;++a)(k=e[a][1])>E&&(m=a,E=k);return m}function gh(e){return e.reduce(mh,0)}function mh(e,a){return e+a[1]}function vh(e,a){return Ca(e,Math.ceil(Math.log(a.length)/Math.LN2+1))}function Ca(e,a){for(var m=-1,E=+e[0],k=(e[1]-E)/a,T=[];++m<=a;)T[m]=k*m+E;return T}function yh(e){return[Z.min(e),Z.max(e)]}function _h(e,a){return e.value-a.value}function Hs(e,a){var m=e._pack_next;e._pack_next=a,a._pack_prev=e,a._pack_next=m,m._pack_prev=a}function Ta(e,a){e._pack_next=a,a._pack_prev=e}function Ia(e,a){var m=a.x-e.x,E=a.y-e.y,k=e.r+a.r;return.999*k*k>m*m+E*E}function Ra(e){if((a=e.children)&&(_e=a.length)){var a,j,P,H,J,se,me,_e,m=1/0,E=-1/0,k=1/0,T=-1/0;if(a.forEach(bh),(j=a[0]).x=-j.r,j.y=0,Me(j),_e>1&&((P=a[1]).x=P.r,P.y=0,Me(P),_e>2))for(La(j,P,H=a[2]),Me(H),Hs(j,H),j._pack_prev=H,Hs(H,P),P=j._pack_next,J=3;J<_e;J++){La(j,P,H=a[J]);var Ge=0,ke=1,Re=1;for(se=P._pack_next;se!==P;se=se._pack_next,ke++)if(Ia(se,H)){Ge=1;break}if(1==Ge)for(me=j._pack_prev;me!==se._pack_prev&&!Ia(me,H);me=me._pack_prev,Re++);Ge?(ke<Re||ke==Re&&P.r<j.r?Ta(j,P=se):Ta(j=me,P),J--):(Hs(j,H),P=H,Me(H))}var Le=(m+E)/2,Ke=(k+T)/2,De=0;for(J=0;J<_e;J++)(H=a[J]).x-=Le,H.y-=Ke,De=Math.max(De,H.r+Math.sqrt(H.x*H.x+H.y*H.y));e.r=De,a.forEach(wh)}function Me(He){m=Math.min(He.x-He.r,m),E=Math.max(He.x+He.r,E),k=Math.min(He.y-He.r,k),T=Math.max(He.y+He.r,T)}}function bh(e){e._pack_next=e._pack_prev=e}function wh(e){delete e._pack_next,delete e._pack_prev}function Ma(e,a,m,E){var k=e.children;if(e.x=a+=E*e.x,e.y=m+=E*e.y,e.r*=E,k)for(var T=-1,j=k.length;++T<j;)Ma(k[T],a,m,E)}function La(e,a,m){var E=e.r+m.r,k=a.x-e.x,T=a.y-e.y;if(E&&(k||T)){var j=a.r+m.r,P=k*k+T*T,H=.5+((E*=E)-(j*=j))/(2*P),J=Math.sqrt(Math.max(0,2*j*(E+P)-(E-=P)*E-j*j))/(2*P);m.x=e.x+H*k+J*T,m.y=e.y+H*T-J*k}else m.x=e.x+E,m.y=e.y}function Ba(e,a){return e.parent==a.parent?1:2}function Ws(e){var a=e.children;return a.length?a[0]:e.t}function Vs(e){var m,a=e.children;return(m=a.length)?a[m-1]:e.t}function Eh(e,a,m){var E=m/(a.i-e.i);a.c-=E,a.s+=m,e.c+=E,a.z+=m,a.m+=m}function Sh(e,a,m){return e.a.parent===a.parent?e.a:m}function Na(e){var a=e.children;return a&&a.length?Na(a[0]):e}function Oa(e){var m,a=e.children;return a&&(m=a.length)?Oa(a[m-1]):e}function Ks(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Pa(e,a){var m=e.x+a[3],E=e.y+a[0],k=e.dx-a[1]-a[3],T=e.dy-a[0]-a[2];return k<0&&(m+=k/2,k=0),T<0&&(E+=T/2,T=0),{x:m,y:E,dx:k,dy:T}}function rs(e){var a=e[0],m=e[e.length-1];return a<m?[a,m]:[m,a]}function bs(e){return e.rangeExtent?e.rangeExtent():rs(e.range())}function Ch(e,a,m,E){var k=m(e[0],e[1]),T=E(a[0],a[1]);return function(j){return T(k(j))}}function ws(e,a){var j,m=0,E=e.length-1,k=e[m],T=e[E];return T<k&&(j=m,m=E,E=j,j=k,k=T,T=j),e[m]=a.floor(k),e[E]=a.ceil(T),e}function Da(e){return e?{floor:function(a){return Math.floor(a/e)*e},ceil:function(a){return Math.ceil(a/e)*e}}:Th}Z.layout.histogram=function(){var e=!0,a=Number,m=yh,E=vh;function k(T,_e){for(var me,Re,P=[],H=T.map(a,this),J=m.call(this,H,_e),se=E.call(this,J,H,_e),Me=(_e=-1,H.length),Ge=se.length-1,ke=e?1:1/Me;++_e<Ge;)(me=P[_e]=[]).dx=se[_e+1]-(me.x=se[_e]),me.y=0;if(Ge>0)for(_e=-1;++_e<Me;)(Re=H[_e])>=J[0]&&Re<=J[1]&&((me=P[Z.bisect(se,Re,1,Ge)-1]).y+=ke,me.push(T[_e]));return P}return k.value=function(T){return arguments.length?(a=T,k):a},k.range=function(T){return arguments.length?(m=Er(T),k):m},k.bins=function(T){return arguments.length?(E="number"==typeof T?function(j){return Ca(j,T)}:Er(T),k):E},k.frequency=function(T){return arguments.length?(e=!!T,k):e},k},Z.layout.pack=function(){var E,e=Z.layout.hierarchy().sort(_h),a=0,m=[1,1];function k(T,j){var P=e.call(this,T,j),H=P[0],J=m[0],se=m[1],me=null==E?Math.sqrt:"function"==typeof E?E:function(){return E};if(H.x=H.y=0,Ro(H,function(Me){Me.r=+me(Me.value)}),Ro(H,Ra),a){var _e=a*(E?1:Math.max(2*H.r/J,2*H.r/se))/2;Ro(H,function(Me){Me.r+=_e}),Ro(H,Ra),Ro(H,function(Me){Me.r-=_e})}return Ma(H,J/2,se/2,E?1:1/Math.max(2*H.r/J,2*H.r/se)),P}return k.size=function(T){return arguments.length?(m=T,k):m},k.radius=function(T){return arguments.length?(E=null==T||"function"==typeof T?T:+T,k):E},k.padding=function(T){return arguments.length?(a=+T,k):a},ls(k,e)},Z.layout.tree=function(){var e=Z.layout.hierarchy().sort(null).value(null),a=Ba,m=[1,1],E=null;function k(se,me){var _e=e.call(this,se,me),Me=_e[0],Ge=function T(se){for(var Me,me={A:null,children:[se]},_e=[me];null!=(Me=_e.pop());)for(var ke,Ge=Me.children,Re=0,Le=Ge.length;Re<Le;++Re)_e.push((Ge[Re]=ke={_:Ge[Re],parent:Me,children:(ke=Ge[Re].children)&&ke.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Re}).a=ke);return me.children[0]}(Me);if(Ro(Ge,j),Ge.parent.m=-Ge.z,ds(Ge,P),E)ds(Me,J);else{var ke=Me,Re=Me,Le=Me;ds(Me,function(Et){Et.x<ke.x&&(ke=Et),Et.x>Re.x&&(Re=Et),Et.depth>Le.depth&&(Le=Et)});var Ke=a(ke,Re)/2-ke.x,De=m[0]/(Re.x+a(Re,ke)/2+Ke),He=m[1]/(Le.depth||1);ds(Me,function(Et){Et.x=(Et.x+Ke)*De,Et.y=Et.depth*He})}return _e}function j(se){var me=se.children,_e=se.parent.children,Me=se.i?_e[se.i-1]:null;if(me.length){!function xh(e){for(var T,a=0,m=0,E=e.children,k=E.length;--k>=0;)(T=E[k]).z+=a,T.m+=a,a+=T.s+(m+=T.c)}(se);var Ge=(me[0].z+me[me.length-1].z)/2;Me?(se.z=Me.z+a(se._,Me._),se.m=se.z-Ge):se.z=Ge}else Me&&(se.z=Me.z+a(se._,Me._));se.parent.A=function H(se,me,_e){if(me){for(var Et,Me=se,Ge=se,ke=me,Re=Me.parent.children[0],Le=Me.m,Ke=Ge.m,De=ke.m,He=Re.m;ke=Vs(ke),Me=Ws(Me),ke&&Me;)Re=Ws(Re),(Ge=Vs(Ge)).a=se,(Et=ke.z+De-Me.z-Le+a(ke._,Me._))>0&&(Eh(Sh(ke,se,_e),se,Et),Le+=Et,Ke+=Et),De+=ke.m,Le+=Me.m,He+=Re.m,Ke+=Ge.m;ke&&!Vs(Ge)&&(Ge.t=ke,Ge.m+=De-Ke),Me&&!Ws(Re)&&(Re.t=Me,Re.m+=Le-He,_e=se)}return _e}(se,Me,se.parent.A||_e[0])}function P(se){se._.x=se.z+se.parent.m,se.m+=se.parent.m}function J(se){se.x*=m[0],se.y=se.depth*m[1]}return k.separation=function(se){return arguments.length?(a=se,k):a},k.size=function(se){return arguments.length?(E=null==(m=se)?J:null,k):E?null:m},k.nodeSize=function(se){return arguments.length?(E=null==(m=se)?null:J,k):E?m:null},ls(k,e)},Z.layout.cluster=function(){var e=Z.layout.hierarchy().sort(null).value(null),a=Ba,m=[1,1],E=!1;function k(T,j){var J,P=e.call(this,T,j),H=P[0],se=0;Ro(H,function(ke){var Re=ke.children;Re&&Re.length?(ke.x=function Ah(e){return e.reduce(function(a,m){return a+m.x},0)/e.length}(Re),ke.y=function kh(e){return 1+Z.max(e,function(a){return a.y})}(Re)):(ke.x=J?se+=a(ke,J):0,ke.y=0,J=ke)});var me=Na(H),_e=Oa(H),Me=me.x-a(me,_e)/2,Ge=_e.x+a(_e,me)/2;return Ro(H,E?function(ke){ke.x=(ke.x-H.x)*m[0],ke.y=(H.y-ke.y)*m[1]}:function(ke){ke.x=(ke.x-Me)/(Ge-Me)*m[0],ke.y=(1-(H.y?ke.y/H.y:1))*m[1]}),P}return k.separation=function(T){return arguments.length?(a=T,k):a},k.size=function(T){return arguments.length?(E=null==(m=T),k):E?null:m},k.nodeSize=function(T){return arguments.length?(E=null!=(m=T),k):E?m:null},ls(k,e)},Z.layout.treemap=function(){var j,e=Z.layout.hierarchy(),a=Math.round,m=[1,1],E=null,k=Ks,T=!1,P="squarify",H=.5*(1+Math.sqrt(5));function J(ke,Re){for(var De,He,Le=-1,Ke=ke.length;++Le<Ke;)He=(De=ke[Le]).value*(Re<0?0:Re),De.area=isNaN(He)||He<=0?0:He}function se(ke){var Re=ke.children;if(Re&&Re.length){var He,lt,ut,Le=k(ke),Ke=[],De=Re.slice(),Et=1/0,gt="slice"===P?Le.dx:"dice"===P?Le.dy:"slice-dice"===P?1&ke.depth?Le.dy:Le.dx:Math.min(Le.dx,Le.dy);for(J(De,Le.dx*Le.dy/ke.value),Ke.area=0;(ut=De.length)>0;)Ke.push(He=De[ut-1]),Ke.area+=He.area,"squarify"!==P||(lt=_e(Ke,gt))<=Et?(De.pop(),Et=lt):(Ke.area-=Ke.pop().area,Me(Ke,gt,Le,!1),gt=Math.min(Le.dx,Le.dy),Ke.length=Ke.area=0,Et=1/0);Ke.length&&(Me(Ke,gt,Le,!0),Ke.length=Ke.area=0),Re.forEach(se)}}function me(ke){var Re=ke.children;if(Re&&Re.length){var De,Le=k(ke),Ke=Re.slice(),He=[];for(J(Ke,Le.dx*Le.dy/ke.value),He.area=0;De=Ke.pop();)He.push(De),He.area+=De.area,null!=De.z&&(Me(He,De.z?Le.dx:Le.dy,Le,!Ke.length),He.length=He.area=0);Re.forEach(me)}}function _e(ke,Re){for(var Ke,Le=ke.area,De=0,He=1/0,Et=-1,lt=ke.length;++Et<lt;)!(Ke=ke[Et].area)||(Ke<He&&(He=Ke),Ke>De&&(De=Ke));return Re*=Re,(Le*=Le)?Math.max(Re*De*H/Le,Le/(Re*He*H)):1/0}function Me(ke,Re,Le,Ke){var ut,De=-1,He=ke.length,Et=Le.x,lt=Le.y,gt=Re?a(ke.area/Re):0;if(Re==Le.dx){for((Ke||gt>Le.dy)&&(gt=Le.dy);++De<He;)(ut=ke[De]).x=Et,ut.y=lt,ut.dy=gt,Et+=ut.dx=Math.min(Le.x+Le.dx-Et,gt?a(ut.area/gt):0);ut.z=!0,ut.dx+=Le.x+Le.dx-Et,Le.y+=gt,Le.dy-=gt}else{for((Ke||gt>Le.dx)&&(gt=Le.dx);++De<He;)(ut=ke[De]).x=Et,ut.y=lt,ut.dx=gt,lt+=ut.dy=Math.min(Le.y+Le.dy-lt,gt?a(ut.area/gt):0);ut.z=!1,ut.dy+=Le.y+Le.dy-lt,Le.x+=gt,Le.dx-=gt}}function Ge(ke){var Re=j||e(ke),Le=Re[0];return Le.x=Le.y=0,Le.value?(Le.dx=m[0],Le.dy=m[1]):Le.dx=Le.dy=0,j&&e.revalue(Le),J([Le],Le.dx*Le.dy/Le.value),(j?me:se)(Le),T&&(j=Re),Re}return Ge.size=function(ke){return arguments.length?(m=ke,Ge):m},Ge.padding=function(ke){if(!arguments.length)return E;function Re(De){var He=ke.call(Ge,De,De.depth);return null==He?Ks(De):Pa(De,"number"==typeof He?[He,He,He,He]:He)}function Le(De){return Pa(De,ke)}var Ke;return k=null==(E=ke)?Ks:"function"==(Ke=typeof ke)?Re:("number"===Ke&&(ke=[ke,ke,ke,ke]),Le),Ge},Ge.round=function(ke){return arguments.length?(a=ke?Math.round:Number,Ge):a!=Number},Ge.sticky=function(ke){return arguments.length?(T=ke,j=null,Ge):T},Ge.ratio=function(ke){return arguments.length?(H=ke,Ge):H},Ge.mode=function(ke){return arguments.length?(P=ke+"",Ge):P},ls(Ge,e)},Z.random={normal:function(e,a){var m=arguments.length;return m<2&&(a=1),m<1&&(e=0),function(){var E,k,T;do{T=(E=2*Math.random()-1)*E+(k=2*Math.random()-1)*k}while(!T||T>1);return e+a*E*Math.sqrt(-2*Math.log(T)/T)}},logNormal:function(){var e=Z.random.normal.apply(Z,arguments);return function(){return Math.exp(e())}},bates:function(e){var a=Z.random.irwinHall(e);return function(){return a()/e}},irwinHall:function(e){return function(){for(var a=0,m=0;m<e;m++)a+=Math.random();return a}}},Z.scale={};var Th={floor:R,ceil:R};function Ih(e,a,m,E){var k=[],T=[],j=0,P=Math.min(e.length,a.length)-1;for(e[P]<e[0]&&(e=e.slice().reverse(),a=a.slice().reverse());++j<=P;)k.push(m(e[j-1],e[j])),T.push(E(a[j-1],a[j]));return function(H){var J=Z.bisect(e,H,1,P)-1;return T[J](k[J](H))}}function za(e,a,m,E){var k,T;function j(){var H=Math.min(e.length,a.length)>2?Ih:Ch,J=E?$c:Yc;return k=H(e,a,J,m),T=H(a,e,J,Yo),P}function P(H){return k(H)}return P.invert=function(H){return T(H)},P.domain=function(H){return arguments.length?(e=H.map(Number),j()):e},P.range=function(H){return arguments.length?(a=H,j()):a},P.rangeRound=function(H){return P.range(H).interpolate(_a)},P.clamp=function(H){return arguments.length?(E=H,j()):E},P.interpolate=function(H){return arguments.length?(m=H,j()):m},P.ticks=function(H){return Gs(e,H)},P.tickFormat=function(H,J){return Ys(e,H,J)},P.nice=function(H){return Ua(e,H),j()},P.copy=function(){return za(e,a,m,E)},j()}function qs(e,a){return Z.rebind(e,a,"range","rangeRound","interpolate","clamp")}function Ua(e,a){return ws(e,Da(is(e,a)[2])),ws(e,Da(is(e,a)[2])),e}function is(e,a){null==a&&(a=10);var m=rs(e),E=m[1]-m[0],k=Math.pow(10,Math.floor(Math.log(E/a)/Math.LN10)),T=a/E*k;return T<=.15?k*=10:T<=.35?k*=5:T<=.75&&(k*=2),m[0]=Math.ceil(m[0]/k)*k,m[1]=Math.floor(m[1]/k)*k+.5*k,m[2]=k,m}function Gs(e,a){return Z.range.apply(Z,is(e,a))}function Ys(e,a,m){var E=is(e,a);if(m){var k=We.exec(m);if(k.shift(),"s"===k[8]){var T=Z.formatPrefix(Math.max(c(E[0]),c(E[1])));return k[7]||(k[7]="."+Es(T.scale(E[2]))),k[8]="f",m=Z.format(k.join("")),function(j){return m(T.scale(j))+T.symbol}}k[7]||(k[7]="."+function Mh(e,a){var m=Es(a[2]);return e in Rh?Math.abs(m-Es(Math.max(c(a[0]),c(a[1]))))+ +("e"!==e):m-2*("%"===e)}(k[8],E)),m=k.join("")}else m=",."+Es(E[2])+"f";return Z.format(m)}Z.scale.linear=function(){return za([0,1],[0,1],Yo,!1)};var Rh={s:1,g:1,p:1,r:1,e:1};function Es(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Fa(e,a,m,E){function k(P){return(m?Math.log(P<0?0:P):-Math.log(P>0?0:-P))/Math.log(a)}function T(P){return m?Math.pow(a,P):-Math.pow(a,-P)}function j(P){return e(k(P))}return j.invert=function(P){return T(e.invert(P))},j.domain=function(P){return arguments.length?(m=P[0]>=0,e.domain((E=P.map(Number)).map(k)),j):E},j.base=function(P){return arguments.length?(a=+P,e.domain(E.map(k)),j):a},j.nice=function(){var P=ws(E.map(k),m?Math:Lh);return e.domain(P),E=P.map(T),j},j.ticks=function(){var P=rs(E),H=[],J=P[0],se=P[1],me=Math.floor(k(J)),_e=Math.ceil(k(se)),Me=a%1?2:a;if(isFinite(_e-me)){if(m){for(;me<_e;me++)for(var Ge=1;Ge<Me;Ge++)H.push(T(me)*Ge);H.push(T(me))}else for(H.push(T(me));me++<_e;)for(Ge=Me-1;Ge>0;Ge--)H.push(T(me)*Ge);for(me=0;H[me]<J;me++);for(_e=H.length;H[_e-1]>se;_e--);H=H.slice(me,_e)}return H},j.tickFormat=function(P,H){if(!arguments.length)return ja;arguments.length<2?H=ja:"function"!=typeof H&&(H=Z.format(H));var J=Math.max(1,a*P/j.ticks().length);return function(se){var me=se/T(Math.round(k(se)));return me*a<a-.5&&(me*=a),me<=J?H(se):""}},j.copy=function(){return Fa(e.copy(),a,m,E)},qs(j,e)}Z.scale.log=function(){return Fa(Z.scale.linear().domain([0,1]),10,!0,[1,10])};var ja=Z.format(".0e"),Lh={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Ha(e,a,m){var E=xs(a),k=xs(1/a);function T(j){return e(E(j))}return T.invert=function(j){return k(e.invert(j))},T.domain=function(j){return arguments.length?(e.domain((m=j.map(Number)).map(E)),T):m},T.ticks=function(j){return Gs(m,j)},T.tickFormat=function(j,P){return Ys(m,j,P)},T.nice=function(j){return T.domain(Ua(m,j))},T.exponent=function(j){return arguments.length?(E=xs(a=j),k=xs(1/a),e.domain(m.map(E)),T):a},T.copy=function(){return Ha(e.copy(),a,m)},qs(T,e)}function xs(e){return function(a){return a<0?-Math.pow(-a,e):Math.pow(a,e)}}function Wa(e,a){var m,E,k;function T(P){return E[((m.get(P)||("range"===a.t?m.set(P,e.push(P)):NaN))-1)%E.length]}function j(P,H){return Z.range(e.length).map(function(J){return P+H*J})}return T.domain=function(P){if(!arguments.length)return e;e=[],m=new t;for(var se,H=-1,J=P.length;++H<J;)m.has(se=P[H])||m.set(se,e.push(se));return T[a.t].apply(T,a.a)},T.range=function(P){return arguments.length?(E=P,k=0,a={t:"range",a:arguments},T):E},T.rangePoints=function(P,H){arguments.length<2&&(H=0);var J=P[0],se=P[1],me=e.length<2?(J=(J+se)/2,0):(se-J)/(e.length-1+H);return E=j(J+me*H/2,me),k=0,a={t:"rangePoints",a:arguments},T},T.rangeRoundPoints=function(P,H){arguments.length<2&&(H=0);var J=P[0],se=P[1],me=e.length<2?(J=se=Math.round((J+se)/2),0):(se-J)/(e.length-1+H)|0;return E=j(J+Math.round(me*H/2+(se-J-(e.length-1+H)*me)/2),me),k=0,a={t:"rangeRoundPoints",a:arguments},T},T.rangeBands=function(P,H,J){arguments.length<2&&(H=0),arguments.length<3&&(J=H);var se=P[1]<P[0],me=P[se-0],_e=P[1-se],Me=(_e-me)/(e.length-H+2*J);return E=j(me+Me*J,Me),se&&E.reverse(),k=Me*(1-H),a={t:"rangeBands",a:arguments},T},T.rangeRoundBands=function(P,H,J){arguments.length<2&&(H=0),arguments.length<3&&(J=H);var se=P[1]<P[0],me=P[se-0],_e=P[1-se],Me=Math.floor((_e-me)/(e.length-H+2*J));return E=j(me+Math.round((_e-me-(e.length-H)*Me)/2),Me),se&&E.reverse(),k=Math.round(Me*(1-H)),a={t:"rangeRoundBands",a:arguments},T},T.rangeBand=function(){return k},T.rangeExtent=function(){return rs(a.a[0])},T.copy=function(){return Wa(e,a)},T.domain(e)}Z.scale.pow=function(){return Ha(Z.scale.linear(),1,[0,1])},Z.scale.sqrt=function(){return Z.scale.pow().exponent(.5)},Z.scale.ordinal=function(){return Wa([],{t:"range",a:[[]]})},Z.scale.category10=function(){return Z.scale.ordinal().range(Bh)},Z.scale.category20=function(){return Z.scale.ordinal().range(Nh)},Z.scale.category20b=function(){return Z.scale.ordinal().range(Oh)},Z.scale.category20c=function(){return Z.scale.ordinal().range(Ph)};var Bh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_r),Nh=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_r),Oh=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_r),Ph=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_r);function Va(e,a){var m;function E(){var T=0,j=a.length;for(m=[];++T<j;)m[T-1]=Z.quantile(e,T/j);return k}function k(T){if(!isNaN(T=+T))return a[Z.bisect(m,T)]}return k.domain=function(T){return arguments.length?(e=T.map(h).filter(g).sort(M),E()):e},k.range=function(T){return arguments.length?(a=T,E()):a},k.quantiles=function(){return m},k.invertExtent=function(T){return(T=a.indexOf(T))<0?[NaN,NaN]:[T>0?m[T-1]:e[0],T<m.length?m[T]:e[e.length-1]]},k.copy=function(){return Va(e,a)},E()}function Ka(e,a,m){var E,k;function T(P){return m[Math.max(0,Math.min(k,Math.floor(E*(P-e))))]}function j(){return E=m.length/(a-e),k=m.length-1,T}return T.domain=function(P){return arguments.length?(e=+P[0],a=+P[P.length-1],j()):[e,a]},T.range=function(P){return arguments.length?(m=P,j()):m},T.invertExtent=function(P){return[P=(P=m.indexOf(P))<0?NaN:P/E+e,P+1/E]},T.copy=function(){return Ka(e,a,m)},j()}function qa(e,a){function m(E){if(E<=E)return a[Z.bisect(e,E)]}return m.domain=function(E){return arguments.length?(e=E,m):e},m.range=function(E){return arguments.length?(a=E,m):a},m.invertExtent=function(E){return E=a.indexOf(E),[e[E-1],e[E]]},m.copy=function(){return qa(e,a)},m}function Ga(e){function a(m){return+m}return a.invert=a,a.domain=a.range=function(m){return arguments.length?(e=m.map(a),a):e},a.ticks=function(m){return Gs(e,m)},a.tickFormat=function(m,E){return Ys(e,m,E)},a.copy=function(){return Ga(e)},a}function Dh(){return 0}Z.scale.quantile=function(){return Va([],[])},Z.scale.quantize=function(){return Ka(0,1,[0,1])},Z.scale.threshold=function(){return qa([.5],[0,1])},Z.scale.identity=function(){return Ga([0,1])},Z.svg={},Z.svg.arc=function(){var e=zh,a=Uh,m=Dh,E=Ss,k=Ya,T=$a,j=Fh;function P(){var J=Math.max(0,+e.apply(this,arguments)),se=Math.max(0,+a.apply(this,arguments)),me=k.apply(this,arguments)-vr,_e=T.apply(this,arguments)-vr,Me=Math.abs(_e-me),Ge=me>_e?0:1;if(se<J&&(ke=se,se=J,J=ke),Me>=Zn)return H(se,Ge)+(J?H(J,1-Ge):"")+"Z";var ke,Re,Le,Ke,Et,lt,gt,ut,jt,Yt,Sn,gn,De=0,He=0,wn=[];if((Ke=(+j.apply(this,arguments)||0)/2)&&(Le=E===Ss?Math.sqrt(J*J+se*se):+E.apply(this,arguments),Ge||(He*=-1),se&&(He=Rr(Le/se*Math.sin(Ke))),J&&(De=Rr(Le/J*Math.sin(Ke)))),se){Et=se*Math.cos(me+He),lt=se*Math.sin(me+He),gt=se*Math.cos(_e-He),ut=se*Math.sin(_e-He);var St=Math.abs(_e-me-2*He)<=zn?0:1;if(He&&ks(Et,lt,gt,ut)===Ge^St){var Vt=(me+_e)/2;Et=se*Math.cos(Vt),lt=se*Math.sin(Vt),gt=ut=null}}else Et=lt=0;if(J){jt=J*Math.cos(_e-De),Yt=J*Math.sin(_e-De),Sn=J*Math.cos(me+De),gn=J*Math.sin(me+De);var sn=Math.abs(me-_e+2*De)<=zn?0:1;if(De&&ks(jt,Yt,Sn,gn)===1-Ge^sn){var Tt=(me+_e)/2;jt=J*Math.cos(Tt),Yt=J*Math.sin(Tt),Sn=gn=null}}else jt=Yt=0;if(Me>_t&&(ke=Math.min(Math.abs(se-J)/2,+m.apply(this,arguments)))>.001){Re=J<se^Ge?0:1;var rn=ke,On=ke;if(Me<zn){var rr=null==Sn?[jt,Yt]:null==gt?[Et,lt]:Si([Et,lt],[Sn,gn],[gt,ut],[jt,Yt]),mr=Et-rr[0],Wr=lt-rr[1],Zr=gt-rr[0],Fi=ut-rr[1],Gi=1/Math.sin(Math.acos((mr*Zr+Wr*Fi)/(Math.sqrt(mr*mr+Wr*Wr)*Math.sqrt(Zr*Zr+Fi*Fi)))/2),ji=Math.sqrt(rr[0]*rr[0]+rr[1]*rr[1]);On=Math.min(ke,(J-ji)/(Gi-1)),rn=Math.min(ke,(se-ji)/(Gi+1))}if(null!=gt){var $i=As(null==Sn?[jt,Yt]:[Sn,gn],[Et,lt],se,rn,Ge),Li=As([gt,ut],[jt,Yt],se,rn,Ge);ke===rn?wn.push("M",$i[0],"A",rn,",",rn," 0 0,",Re," ",$i[1],"A",se,",",se," 0 ",1-Ge^ks($i[1][0],$i[1][1],Li[1][0],Li[1][1]),",",Ge," ",Li[1],"A",rn,",",rn," 0 0,",Re," ",Li[0]):wn.push("M",$i[0],"A",rn,",",rn," 0 1,",Re," ",Li[0])}else wn.push("M",Et,",",lt);if(null!=Sn){var Xi=As([Et,lt],[Sn,gn],J,-On,Ge),Zo=As([jt,Yt],null==gt?[Et,lt]:[gt,ut],J,-On,Ge);ke===On?wn.push("L",Zo[0],"A",On,",",On," 0 0,",Re," ",Zo[1],"A",J,",",J," 0 ",Ge^ks(Zo[1][0],Zo[1][1],Xi[1][0],Xi[1][1]),",",1-Ge," ",Xi[1],"A",On,",",On," 0 0,",Re," ",Xi[0]):wn.push("L",Zo[0],"A",On,",",On," 0 0,",Re," ",Xi[0])}else wn.push("L",jt,",",Yt)}else wn.push("M",Et,",",lt),null!=gt&&wn.push("A",se,",",se," 0 ",St,",",Ge," ",gt,",",ut),wn.push("L",jt,",",Yt),null!=Sn&&wn.push("A",J,",",J," 0 ",sn,",",1-Ge," ",Sn,",",gn);return wn.push("Z"),wn.join("")}function H(J,se){return"M0,"+J+"A"+J+","+J+" 0 1,"+se+" 0,"+-J+"A"+J+","+J+" 0 1,"+se+" 0,"+J}return P.innerRadius=function(J){return arguments.length?(e=Er(J),P):e},P.outerRadius=function(J){return arguments.length?(a=Er(J),P):a},P.cornerRadius=function(J){return arguments.length?(m=Er(J),P):m},P.padRadius=function(J){return arguments.length?(E=J==Ss?Ss:Er(J),P):E},P.startAngle=function(J){return arguments.length?(k=Er(J),P):k},P.endAngle=function(J){return arguments.length?(T=Er(J),P):T},P.padAngle=function(J){return arguments.length?(j=Er(J),P):j},P.centroid=function(){var J=(+e.apply(this,arguments)+ +a.apply(this,arguments))/2,se=(+k.apply(this,arguments)+ +T.apply(this,arguments))/2-vr;return[Math.cos(se)*J,Math.sin(se)*J]},P};var Ss="auto";function zh(e){return e.innerRadius}function Uh(e){return e.outerRadius}function Ya(e){return e.startAngle}function $a(e){return e.endAngle}function Fh(e){return e&&e.padAngle}function ks(e,a,m,E){return(e-m)*a-(a-E)*e>0?0:1}function As(e,a,m,E,k){var T=e[0]-a[0],j=e[1]-a[1],P=(k?E:-E)/Math.sqrt(T*T+j*j),H=P*j,J=-P*T,se=e[0]+H,me=e[1]+J,_e=a[0]+H,Me=a[1]+J,Ge=(se+_e)/2,ke=(me+Me)/2,Re=_e-se,Le=Me-me,Ke=Re*Re+Le*Le,De=m-E,He=se*Me-_e*me,Et=(Le<0?-1:1)*Math.sqrt(Math.max(0,De*De*Ke-He*He)),lt=(He*Le-Re*Et)/Ke,gt=(-He*Re-Le*Et)/Ke,ut=(He*Le+Re*Et)/Ke,jt=(-He*Re+Le*Et)/Ke,Yt=lt-Ge,Sn=gt-ke,gn=ut-Ge,wn=jt-ke;return Yt*Yt+Sn*Sn>gn*gn+wn*wn&&(lt=ut,gt=jt),[[lt-H,gt-J],[lt*m/De,gt*m/De]]}function Xa(e){var a=$n,m=Rn,E=eo,k=_o,T=k.key,j=.7;function P(H){var Me,J=[],se=[],me=-1,_e=H.length,Ge=Er(a),ke=Er(m);function Re(){J.push("M",k(e(se),j))}for(;++me<_e;)E.call(this,Me=H[me],me)?se.push([+Ge.call(this,Me,me),+ke.call(this,Me,me)]):se.length&&(Re(),se=[]);return se.length&&Re(),J.length?J.join(""):null}return P.x=function(H){return arguments.length?(a=H,P):a},P.y=function(H){return arguments.length?(m=H,P):m},P.defined=function(H){return arguments.length?(E=H,P):E},P.interpolate=function(H){return arguments.length?(T="function"==typeof H?k=H:(k=$s.get(H)||_o).key,P):T},P.tension=function(H){return arguments.length?(j=H,P):j},P}Z.svg.line=function(){return Xa(R)};var $s=Z.map({linear:_o,"linear-closed":Za,step:function jh(e){for(var a=0,m=e.length,E=e[0],k=[E[0],",",E[1]];++a<m;)k.push("H",(E[0]+(E=e[a])[0])/2,"V",E[1]);return m>1&&k.push("H",E[0]),k.join("")},"step-before":Xs,"step-after":Zs,basis:Ja,"basis-open":function Kh(e){if(e.length<4)return _o(e);for(var k,a=[],m=-1,E=e.length,T=[0],j=[0];++m<3;)T.push((k=e[m])[0]),j.push(k[1]);for(a.push(ho(Wo,T)+","+ho(Wo,j)),--m;++m<E;)k=e[m],T.shift(),T.push(k[0]),j.shift(),j.push(k[1]),Qs(a,T,j);return a.join("")},"basis-closed":function qh(e){for(var a,T,m=-1,E=e.length,k=E+4,j=[],P=[];++m<4;)j.push((T=e[m%E])[0]),P.push(T[1]);for(a=[ho(Wo,j),",",ho(Wo,P)],--m;++m<k;)T=e[m%E],j.shift(),j.push(T[0]),P.shift(),P.push(T[1]),Qs(a,j,P);return a.join("")},bundle:function Gh(e,a){var m=e.length-1;if(m)for(var H,J,E=e[0][0],k=e[0][1],T=e[m][0]-E,j=e[m][1]-k,P=-1;++P<=m;)(H=e[P])[0]=a*H[0]+(1-a)*(E+(J=P/m)*T),H[1]=a*H[1]+(1-a)*(k+J*j);return Ja(e)},cardinal:function Vh(e,a){return e.length<3?_o(e):e[0]+Cs(e,Js(e,a))},"cardinal-open":function Hh(e,a){return e.length<4?_o(e):e[1]+Cs(e.slice(1,-1),Js(e,a))},"cardinal-closed":function Wh(e,a){return e.length<3?Za(e):e[0]+Cs((e.push(e[0]),e),Js([e[e.length-2]].concat(e,[e[1]]),a))},monotone:function Xh(e){return e.length<3?_o(e):e[0]+Cs(e,function $h(e){for(var m,E,k,T,a=[],j=function Yh(e){for(var a=0,m=e.length-1,E=[],k=e[0],T=e[1],j=E[0]=ea(k,T);++a<m;)E[a]=(j+(j=ea(k=T,T=e[a+1])))/2;return E[a]=j,E}(e),P=-1,H=e.length-1;++P<H;)m=ea(e[P],e[P+1]),c(m)<_t?j[P]=j[P+1]=0:(T=(E=j[P]/m)*E+(k=j[P+1]/m)*k)>9&&(T=3*m/Math.sqrt(T),j[P]=T*E,j[P+1]=T*k);for(P=-1;++P<=H;)T=(e[Math.min(H,P+1)][0]-e[Math.max(0,P-1)][0])/(6*(1+j[P]*j[P])),a.push([T||0,j[P]*T||0]);return a}(e))}});function _o(e){return e.length>1?e.join("L"):e+"Z"}function Za(e){return e.join("L")+"Z"}function Xs(e){for(var a=0,m=e.length,E=e[0],k=[E[0],",",E[1]];++a<m;)k.push("V",(E=e[a])[1],"H",E[0]);return k.join("")}function Zs(e){for(var a=0,m=e.length,E=e[0],k=[E[0],",",E[1]];++a<m;)k.push("H",(E=e[a])[0],"V",E[1]);return k.join("")}function Cs(e,a){if(a.length<1||e.length!=a.length&&e.length!=a.length+2)return _o(e);var m=e.length!=a.length,E="",k=e[0],T=e[1],j=a[0],P=j,H=1;if(m&&(E+="Q"+(T[0]-2*j[0]/3)+","+(T[1]-2*j[1]/3)+","+T[0]+","+T[1],k=e[1],H=2),a.length>1){T=e[H],H++,E+="C"+(k[0]+j[0])+","+(k[1]+j[1])+","+(T[0]-(P=a[1])[0])+","+(T[1]-P[1])+","+T[0]+","+T[1];for(var J=2;J<a.length;J++,H++)E+="S"+((T=e[H])[0]-(P=a[J])[0])+","+(T[1]-P[1])+","+T[0]+","+T[1]}if(m){var se=e[H];E+="Q"+(T[0]+2*P[0]/3)+","+(T[1]+2*P[1]/3)+","+se[0]+","+se[1]}return E}function Js(e,a){for(var k,m=[],E=(1-a)/2,T=e[0],j=e[1],P=1,H=e.length;++P<H;)k=T,T=j,m.push([E*((j=e[P])[0]-k[0]),E*(j[1]-k[1])]);return m}function Ja(e){if(e.length<3)return _o(e);var a=1,m=e.length,E=e[0],k=E[0],T=E[1],j=[k,k,k,(E=e[1])[0]],P=[T,T,T,E[1]],H=[k,",",T,"L",ho(Wo,j),",",ho(Wo,P)];for(e.push(e[m-1]);++a<=m;)E=e[a],j.shift(),j.push(E[0]),P.shift(),P.push(E[1]),Qs(H,j,P);return e.pop(),H.push("L",E),H.join("")}function ho(e,a){return e[0]*a[0]+e[1]*a[1]+e[2]*a[2]+e[3]*a[3]}$s.forEach(function(e,a){a.key=e,a.closed=/-closed$/.test(e)});var Qa=[0,2/3,1/3,0],ec=[0,1/3,2/3,0],Wo=[0,1/6,2/3,1/6];function Qs(e,a,m){e.push("C",ho(Qa,a),",",ho(Qa,m),",",ho(ec,a),",",ho(ec,m),",",ho(Wo,a),",",ho(Wo,m))}function ea(e,a){return(a[1]-e[1])/(a[0]-e[0])}function tc(e){for(var a,k,T,m=-1,E=e.length;++m<E;)T=(a=e[m])[1]-vr,a[0]=(k=a[0])*Math.cos(T),a[1]=k*Math.sin(T);return e}function nc(e){var a=$n,m=$n,E=0,k=Rn,T=eo,j=_o,P=j.key,H=j,J="L",se=.7;function me(_e){var Ke,gt,ut,Me=[],Ge=[],ke=[],Re=-1,Le=_e.length,De=Er(a),He=Er(E),Et=a===m?function(){return gt}:Er(m),lt=E===k?function(){return ut}:Er(k);function jt(){Me.push("M",j(e(ke),se),J,H(e(Ge.reverse()),se),"Z")}for(;++Re<Le;)T.call(this,Ke=_e[Re],Re)?(Ge.push([gt=+De.call(this,Ke,Re),ut=+He.call(this,Ke,Re)]),ke.push([+Et.call(this,Ke,Re),+lt.call(this,Ke,Re)])):Ge.length&&(jt(),Ge=[],ke=[]);return Ge.length&&jt(),Me.length?Me.join(""):null}return me.x=function(_e){return arguments.length?(a=m=_e,me):m},me.x0=function(_e){return arguments.length?(a=_e,me):a},me.x1=function(_e){return arguments.length?(m=_e,me):m},me.y=function(_e){return arguments.length?(E=k=_e,me):k},me.y0=function(_e){return arguments.length?(E=_e,me):E},me.y1=function(_e){return arguments.length?(k=_e,me):k},me.defined=function(_e){return arguments.length?(T=_e,me):T},me.interpolate=function(_e){return arguments.length?(P="function"==typeof _e?j=_e:(j=$s.get(_e)||_o).key,H=j.reverse||j,J=j.closed?"M":"L",me):P},me.tension=function(_e){return arguments.length?(se=_e,me):se},me}function Zh(e){return e.radius}function rc(e){return[e.x,e.y]}function Jh(e){return function(){var a=e.apply(this,arguments),m=a[0],E=a[1]-vr;return[m*Math.cos(E),m*Math.sin(E)]}}function Qh(){return 64}function eu(){return"circle"}function ic(e){var a=Math.sqrt(e/zn);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}Z.svg.line.radial=function(){var e=Xa(tc);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Xs.reverse=Zs,Zs.reverse=Xs,Z.svg.area=function(){return nc(R)},Z.svg.area.radial=function(){var e=nc(tc);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},Z.svg.chord=function(){var e=bi,a=Jr,m=Zh,E=Ya,k=$a;function T(se,me){var _e=j(this,e,se,me),Me=j(this,a,se,me);return"M"+_e.p0+H(_e.r,_e.p1,_e.a1-_e.a0)+(function P(se,me){return se.a0==me.a0&&se.a1==me.a1}(_e,Me)?J(0,0,0,_e.p0):J(0,0,0,Me.p0)+H(Me.r,Me.p1,Me.a1-Me.a0)+J(0,0,0,_e.p0))+"Z"}function j(se,me,_e,Me){var Ge=me.call(se,_e,Me),ke=m.call(se,Ge,Me),Re=E.call(se,Ge,Me)-vr,Le=k.call(se,Ge,Me)-vr;return{r:ke,a0:Re,a1:Le,p0:[ke*Math.cos(Re),ke*Math.sin(Re)],p1:[ke*Math.cos(Le),ke*Math.sin(Le)]}}function H(se,me,_e){return"A"+se+","+se+" 0 "+ +(_e>zn)+",1 "+me}function J(se,me,_e,Me){return"Q 0,0 "+Me}return T.radius=function(se){return arguments.length?(m=Er(se),T):m},T.source=function(se){return arguments.length?(e=Er(se),T):e},T.target=function(se){return arguments.length?(a=Er(se),T):a},T.startAngle=function(se){return arguments.length?(E=Er(se),T):E},T.endAngle=function(se){return arguments.length?(k=Er(se),T):k},T},Z.svg.diagonal=function(){var e=bi,a=Jr,m=rc;function E(k,T){var j=e.call(this,k,T),P=a.call(this,k,T),H=(j.y+P.y)/2,J=[j,{x:j.x,y:H},{x:P.x,y:H},P];return"M"+(J=J.map(m))[0]+"C"+J[1]+" "+J[2]+" "+J[3]}return E.source=function(k){return arguments.length?(e=Er(k),E):e},E.target=function(k){return arguments.length?(a=Er(k),E):a},E.projection=function(k){return arguments.length?(m=k,E):m},E},Z.svg.diagonal.radial=function(){var e=Z.svg.diagonal(),a=rc,m=e.projection;return e.projection=function(E){return arguments.length?m(Jh(a=E)):a},e},Z.svg.symbol=function(){var e=eu,a=Qh;function m(E,k){return(oc.get(e.call(this,E,k))||ic)(a.call(this,E,k))}return m.type=function(E){return arguments.length?(e=Er(E),m):e},m.size=function(E){return arguments.length?(a=Er(E),m):a},m};var oc=Z.map({circle:ic,cross:function(e){var a=Math.sqrt(e/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(e){var a=Math.sqrt(e/(2*sc)),m=a*sc;return"M0,"+-a+"L"+m+",0 0,"+a+" "+-m+",0Z"},square:function(e){var a=Math.sqrt(e)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(e){var a=Math.sqrt(e/Ts),m=a*Ts/2;return"M0,"+m+"L"+a+","+-m+" "+-a+","+-m+"Z"},"triangle-up":function(e){var a=Math.sqrt(e/Ts),m=a*Ts/2;return"M0,"+-m+"L"+a+","+m+" "+-a+","+m+"Z"}});Z.svg.symbolTypes=oc.keys();var Ts=Math.sqrt(3),sc=Math.tan(30*nn);ue.transition=function(e){for(var k,T,a=$o||++cc,m=na(e),E=[],j=Rs||{time:Date.now(),ease:Mc,delay:0,duration:250},P=-1,H=this.length;++P<H;){E.push(k=[]);for(var J=this[P],se=-1,me=J.length;++se<me;)(T=J[se])&&Ms(T,se,m,a,j),k.push(T)}return ps(E,m,a)},ue.interrupt=function(e){return this.each(null==e?Is:ac(na(e)))};var Is=ac(na());function ac(e){return function(){var a,m,E;(a=this[e])&&(E=a[m=a.active])&&(E.timer.c=null,E.timer.t=NaN,--a.count?delete a[m]:delete this[e],a.active+=.5,E.event&&E.event.interrupt.call(this,this.__data__,E.index))}}function ps(e,a,m){return C(e,pi),e.namespace=a,e.id=m,e}var $o,Rs,pi=[],cc=0;function ta(e,a,m,E){var k=e.id,T=e.namespace;return Ee(e,"function"==typeof m?function(j,P,H){j[T][k].tween.set(a,E(m.call(j,j.__data__,P,H)))}:(m=E(m),function(j){j[T][k].tween.set(a,m)}))}function tu(e){return null==e&&(e=""),function(){this.textContent=e}}function na(e){return null==e?"__transition__":"__transition_"+e+"__"}function Ms(e,a,m,E,k){var P,H,J,se,me,T=e[m]||(e[m]={active:0,count:0}),j=T[E];function Me(ke){var Re=T.active,Le=T[Re];for(var Ke in Le&&(Le.timer.c=null,Le.timer.t=NaN,--T.count,delete T[Re],Le.event&&Le.event.interrupt.call(e,e.__data__,Le.index)),T)if(+Ke<E){var De=T[Ke];De.timer.c=null,De.timer.t=NaN,--T.count,delete T[Ke]}H.c=Ge,B(function(){return H.c&&Ge(ke||1)&&(H.c=null,H.t=NaN),1},0,P),T.active=E,j.event&&j.event.start.call(e,e.__data__,a),me=[],j.tween.forEach(function(He,Et){(Et=Et.call(e,e.__data__,a))&&me.push(Et)}),se=j.ease,J=j.duration}function Ge(ke){for(var Re=ke/J,Le=se(Re),Ke=me.length;Ke>0;)me[--Ke].call(e,Le);if(Re>=1)return j.event&&j.event.end.call(e,e.__data__,a),--T.count?delete T[E]:delete e[m],1}j||(H=B(function _e(ke){var Re=j.delay;if(H.t=Re+P,Re<=ke)return Me(ke-Re);H.c=Me},0,P=k.time),j=T[E]={tween:new t,time:P,timer:H,delay:k.delay,duration:k.duration,ease:k.ease,index:a},k=null,++T.count)}pi.call=ue.call,pi.empty=ue.empty,pi.node=ue.node,pi.size=ue.size,Z.transition=function(e,a){return e&&e.transition?$o?e.transition(a):e:Z.selection().transition(e)},Z.transition.prototype=pi,pi.select=function(e){var k,T,j,a=this.id,m=this.namespace,E=[];e=qe(e);for(var P=-1,H=this.length;++P<H;){E.push(k=[]);for(var J=this[P],se=-1,me=J.length;++se<me;)(j=J[se])&&(T=e.call(j,j.__data__,se,P))?("__data__"in j&&(T.__data__=j.__data__),Ms(T,se,m,a,j[m][a]),k.push(T)):k.push(null)}return ps(E,m,a)},pi.selectAll=function(e){var k,T,j,P,H,a=this.id,m=this.namespace,E=[];e=Ze(e);for(var J=-1,se=this.length;++J<se;)for(var me=this[J],_e=-1,Me=me.length;++_e<Me;)if(j=me[_e]){H=j[m][a],T=e.call(j,j.__data__,_e,J),E.push(k=[]);for(var Ge=-1,ke=T.length;++Ge<ke;)(P=T[Ge])&&Ms(P,Ge,m,a,H),k.push(P)}return ps(E,m,a)},pi.filter=function(e){var m,k,a=[];"function"!=typeof e&&(e=Je(e));for(var T=0,j=this.length;T<j;T++){a.push(m=[]);for(var E,P=0,H=(E=this[T]).length;P<H;P++)(k=E[P])&&e.call(k,k.__data__,P,T)&&m.push(k)}return ps(a,this.namespace,this.id)},pi.tween=function(e,a){var m=this.id,E=this.namespace;return arguments.length<2?this.node()[E][m].tween.get(e):Ee(this,null==a?function(k){k[E][m].tween.remove(e)}:function(k){k[E][m].tween.set(e,a)})},pi.attr=function(e,a){if(arguments.length<2){for(a in e)this.attr(a,e[a]);return this}var m="transform"==e?xa:Yo,E=Z.ns.qualify(e);function k(){this.removeAttribute(E)}function T(){this.removeAttributeNS(E.space,E.local)}function j(H){return null==H?k:(H+="",function(){var se,J=this.getAttribute(E);return J!==H&&(se=m(J,H),function(me){this.setAttribute(E,se(me))})})}function P(H){return null==H?T:(H+="",function(){var se,J=this.getAttributeNS(E.space,E.local);return J!==H&&(se=m(J,H),function(me){this.setAttributeNS(E.space,E.local,se(me))})})}return ta(this,"attr."+e,a,E.local?P:j)},pi.attrTween=function(e,a){var m=Z.ns.qualify(e);return this.tween("attr."+e,m.local?function k(T,j){var P=a.call(this,T,j,this.getAttributeNS(m.space,m.local));return P&&function(H){this.setAttributeNS(m.space,m.local,P(H))}}:function E(T,j){var P=a.call(this,T,j,this.getAttribute(m));return P&&function(H){this.setAttribute(m,P(H))}})},pi.style=function(e,a,m){var E=arguments.length;if(E<3){if("string"!=typeof e){for(m in E<2&&(a=""),e)this.style(m,e[m],a);return this}m=""}function k(){this.style.removeProperty(e)}function T(j){return null==j?k:(j+="",function(){var H,P=Q(this).getComputedStyle(this,null).getPropertyValue(e);return P!==j&&(H=Yo(P,j),function(J){this.style.setProperty(e,H(J),m)})})}return ta(this,"style."+e,a,T)},pi.styleTween=function(e,a,m){function E(k,T){var j=a.call(this,k,T,Q(this).getComputedStyle(this,null).getPropertyValue(e));return j&&function(P){this.style.setProperty(e,j(P),m)}}return arguments.length<3&&(m=""),this.tween("style."+e,E)},pi.text=function(e){return ta(this,"text",e,tu)},pi.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var a;this[e].count<2&&(a=this.parentNode)&&a.removeChild(this)})},pi.ease=function(e){var a=this.id,m=this.namespace;return arguments.length<1?this.node()[m][a].ease:("function"!=typeof e&&(e=Z.ease.apply(Z,arguments)),Ee(this,function(E){E[m][a].ease=e}))},pi.delay=function(e){var a=this.id,m=this.namespace;return arguments.length<1?this.node()[m][a].delay:Ee(this,"function"==typeof e?function(E,k,T){E[m][a].delay=+e.call(E,E.__data__,k,T)}:(e=+e,function(E){E[m][a].delay=e}))},pi.duration=function(e){var a=this.id,m=this.namespace;return arguments.length<1?this.node()[m][a].duration:Ee(this,"function"==typeof e?function(E,k,T){E[m][a].duration=Math.max(1,e.call(E,E.__data__,k,T))}:(e=Math.max(1,e),function(E){E[m][a].duration=e}))},pi.each=function(e,a){var m=this.id,E=this.namespace;if(arguments.length<2){var k=Rs,T=$o;try{$o=m,Ee(this,function(j,P,H){Rs=j[E][m],e.call(j,j.__data__,P,H)})}finally{Rs=k,$o=T}}else Ee(this,function(j){var P=j[E][m];(P.event||(P.event=Z.dispatch("start","end","interrupt"))).on(e,a)});return this},pi.transition=function(){for(var k,j,P,e=this.id,a=++cc,m=this.namespace,E=[],H=0,J=this.length;H<J;H++){E.push(k=[]);for(var T,se=0,me=(T=this[H]).length;se<me;se++)(j=T[se])&&Ms(j,se,m,a,{time:(P=j[m][e]).time,ease:P.ease,delay:P.delay+P.duration,duration:P.duration}),k.push(j)}return ps(E,m,a)},Z.svg.axis=function(){var P,e=Z.scale.linear(),a=hc,m=6,E=6,k=3,T=[10],j=null;function H(J){J.each(function(){var He,se=Z.select(this),me=this.__chart__||e,_e=this.__chart__=e.copy(),Me=null==j?_e.ticks?_e.ticks.apply(_e,T):_e.domain():j,Ge=null==P?_e.tickFormat?_e.tickFormat.apply(_e,T):R:P,ke=se.selectAll(".tick").data(Me,_e),Re=ke.enter().insert("g",".domain").attr("class","tick").style("opacity",_t),Le=Z.transition(ke.exit()).style("opacity",_t).remove(),Ke=Z.transition(ke.order()).style("opacity",1),De=Math.max(m,0)+k,Et=bs(_e),lt=se.selectAll(".domain").data([0]),gt=(lt.enter().append("path").attr("class","domain"),Z.transition(lt));Re.append("line"),Re.append("text");var St,Vt,sn,Tt,ut=Re.select("line"),jt=Ke.select("line"),Yt=ke.select("text").text(Ge),Sn=Re.select("text"),gn=Ke.select("text"),wn="top"===a||"left"===a?-1:1;if("bottom"===a||"top"===a?(He=ru,St="x",sn="y",Vt="x2",Tt="y2",Yt.attr("dy",wn<0?"0em":".71em").style("text-anchor","middle"),gt.attr("d","M"+Et[0]+","+wn*E+"V0H"+Et[1]+"V"+wn*E)):(He=iu,St="y",sn="x",Vt="y2",Tt="x2",Yt.attr("dy",".32em").style("text-anchor",wn<0?"end":"start"),gt.attr("d","M"+wn*E+","+Et[0]+"H0V"+Et[1]+"H"+wn*E)),ut.attr(Tt,wn*m),Sn.attr(sn,wn*De),jt.attr(Vt,0).attr(Tt,wn*m),gn.attr(St,0).attr(sn,wn*De),_e.rangeBand){var rn=_e,On=rn.rangeBand()/2;me=_e=function(rr){return rn(rr)+On}}else me.rangeBand?me=_e:Le.call(He,_e,me);Re.call(He,me,_e),Ke.call(He,_e,_e)})}return H.scale=function(J){return arguments.length?(e=J,H):e},H.orient=function(J){return arguments.length?(a=J in nu?J+"":hc,H):a},H.ticks=function(){return arguments.length?(T=Oe(arguments),H):T},H.tickValues=function(J){return arguments.length?(j=J,H):j},H.tickFormat=function(J){return arguments.length?(P=J,H):P},H.tickSize=function(J){var se=arguments.length;return se?(m=+J,E=+arguments[se-1],H):m},H.innerTickSize=function(J){return arguments.length?(m=+J,H):m},H.outerTickSize=function(J){return arguments.length?(E=+J,H):E},H.tickPadding=function(J){return arguments.length?(k=+J,H):k},H.tickSubdivide=function(){return arguments.length&&H},H};var hc="bottom",nu={top:1,right:1,bottom:1,left:1};function ru(e,a,m){e.attr("transform",function(E){var k=a(E);return"translate("+(isFinite(k)?k:m(E))+",0)"})}function iu(e,a,m){e.attr("transform",function(E){var k=a(E);return"translate(0,"+(isFinite(k)?k:m(E))+")"})}Z.svg.brush=function(){var T,j,e=U(se,"brushstart","brush","brushend"),a=null,m=null,E=[0,0],k=[0,0],P=!0,H=!0,J=ra[0];function se(ke){ke.each(function(){var Re=Z.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ge).on("touchstart.brush",Ge),Le=Re.selectAll(".background").data([0]);Le.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Re.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Ke=Re.selectAll(".resize").data(J,R);Ke.exit().remove(),Ke.enter().append("g").attr("class",function(lt){return"resize "+lt}).style("cursor",function(lt){return ou[lt]}).append("rect").attr("x",function(lt){return/[ew]$/.test(lt)?-3:null}).attr("y",function(lt){return/^[ns]/.test(lt)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Ke.style("display",se.empty()?"none":null);var Et,De=Z.transition(Re),He=Z.transition(Le);a&&(Et=bs(a),He.attr("x",Et[0]).attr("width",Et[1]-Et[0]),_e(De)),m&&(Et=bs(m),He.attr("y",Et[0]).attr("height",Et[1]-Et[0]),Me(De)),me(De)})}function me(ke){ke.selectAll(".resize").attr("transform",function(Re){return"translate("+E[+/e$/.test(Re)]+","+k[+/^s/.test(Re)]+")"})}function _e(ke){ke.select(".extent").attr("x",E[0]),ke.selectAll(".extent,.n>rect,.s>rect").attr("width",E[1]-E[0])}function Me(ke){ke.select(".extent").attr("y",k[0]),ke.selectAll(".extent,.e>rect,.w>rect").attr("height",k[1]-k[0])}function Ge(){var ut,Yt,ke=this,Re=Z.select(Z.event.target),Le=e.of(ke,arguments),Ke=Z.select(ke),De=Re.datum(),He=!/^(n|s)$/.test(De)&&a,Et=!/^(e|w)$/.test(De)&&m,lt=Re.classed("extent"),gt=Nn(ke),jt=Z.mouse(ke),Sn=Z.select(Q(ke)).on("keydown.brush",St).on("keyup.brush",Vt);if(Z.event.changedTouches?Sn.on("touchmove.brush",sn).on("touchend.brush",rn):Sn.on("mousemove.brush",sn).on("mouseup.brush",rn),Ke.interrupt().selectAll("*").interrupt(),lt)jt[0]=E[0]-jt[0],jt[1]=k[0]-jt[1];else if(De){var gn=+/w$/.test(De),wn=+/^n/.test(De);Yt=[E[1-gn]-jt[0],k[1-wn]-jt[1]],jt[0]=E[gn],jt[1]=k[wn]}else Z.event.altKey&&(ut=jt.slice());function St(){32==Z.event.keyCode&&(lt||(ut=null,jt[0]-=E[1],jt[1]-=k[1],lt=2),A())}function Vt(){32==Z.event.keyCode&&2==lt&&(jt[0]+=E[1],jt[1]+=k[1],lt=0,A())}function sn(){var On=Z.mouse(ke),rr=!1;Yt&&(On[0]+=Yt[0],On[1]+=Yt[1]),lt||(Z.event.altKey?(ut||(ut=[(E[0]+E[1])/2,(k[0]+k[1])/2]),jt[0]=E[+(On[0]<ut[0])],jt[1]=k[+(On[1]<ut[1])]):ut=null),He&&Tt(On,a,0)&&(_e(Ke),rr=!0),Et&&Tt(On,m,1)&&(Me(Ke),rr=!0),rr&&(me(Ke),Le({type:"brush",mode:lt?"move":"resize"}))}function Tt(On,rr,mr){var Li,Xi,Wr=bs(rr),Zr=Wr[0],Fi=Wr[1],Gi=jt[mr],ji=mr?k:E,$i=ji[1]-ji[0];if(lt&&(Zr-=Gi,Fi-=$i+Gi),Li=(mr?H:P)?Math.max(Zr,Math.min(Fi,On[mr])):On[mr],lt?Xi=(Li+=Gi)+$i:(ut&&(Gi=Math.max(Zr,Math.min(Fi,2*ut[mr]-Li))),Gi<Li?(Xi=Li,Li=Gi):Xi=Gi),ji[0]!=Li||ji[1]!=Xi)return mr?j=null:T=null,ji[0]=Li,ji[1]=Xi,!0}function rn(){sn(),Ke.style("pointer-events","all").selectAll(".resize").style("display",se.empty()?"none":null),Z.select("body").style("cursor",null),Sn.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),gt(),Le({type:"brushend"})}Ke.style("pointer-events","none").selectAll(".resize").style("display",null),Z.select("body").style("cursor",Re.style("cursor")),Le({type:"brushstart"}),sn()}return se.event=function(ke){ke.each(function(){var Re=e.of(this,arguments),Le={x:E,y:k,i:T,j},Ke=this.__chart__||Le;this.__chart__=Le,$o?Z.select(this).transition().each("start.brush",function(){T=Ke.i,j=Ke.j,E=Ke.x,k=Ke.y,Re({type:"brushstart"})}).tween("brush:brush",function(){var De=_s(E,Le.x),He=_s(k,Le.y);return T=j=null,function(Et){E=Le.x=De(Et),k=Le.y=He(Et),Re({type:"brush",mode:"resize"})}}).each("end.brush",function(){T=Le.i,j=Le.j,Re({type:"brush",mode:"resize"}),Re({type:"brushend"})}):(Re({type:"brushstart"}),Re({type:"brush",mode:"resize"}),Re({type:"brushend"}))})},se.x=function(ke){return arguments.length?(J=ra[!(a=ke)<<1|!m],se):a},se.y=function(ke){return arguments.length?(J=ra[!a<<1|!(m=ke)],se):m},se.clamp=function(ke){return arguments.length?(a&&m?(P=!!ke[0],H=!!ke[1]):a?P=!!ke:m&&(H=!!ke),se):a&&m?[P,H]:a?P:m?H:null},se.extent=function(ke){var Re,Le,Ke,De,He;return arguments.length?(a&&(Re=ke[0],Le=ke[1],m&&(Re=Re[0],Le=Le[0]),T=[Re,Le],a.invert&&(Re=a(Re),Le=a(Le)),Le<Re&&(He=Re,Re=Le,Le=He),(Re!=E[0]||Le!=E[1])&&(E=[Re,Le])),m&&(Ke=ke[0],De=ke[1],a&&(Ke=Ke[1],De=De[1]),j=[Ke,De],m.invert&&(Ke=m(Ke),De=m(De)),De<Ke&&(He=Ke,Ke=De,De=He),(Ke!=k[0]||De!=k[1])&&(k=[Ke,De])),se):(a&&(T?(Re=T[0],Le=T[1]):(Re=E[0],Le=E[1],a.invert&&(Re=a.invert(Re),Le=a.invert(Le)),Le<Re&&(He=Re,Re=Le,Le=He))),m&&(j?(Ke=j[0],De=j[1]):(Ke=k[0],De=k[1],m.invert&&(Ke=m.invert(Ke),De=m.invert(De)),De<Ke&&(He=Ke,Ke=De,De=He))),a&&m?[[Re,Ke],[Le,De]]:a?[Re,Le]:m&&[Ke,De])},se.clear=function(){return se.empty()||(E=[0,0],k=[0,0],T=j=null),se},se.empty=function(){return!!a&&E[0]==E[1]||!!m&&k[0]==k[1]},Z.rebind(se,e,"on")};var ou={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ra=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],ia=rt.format=pn.timeFormat,uc=ia.utc,fc=uc("%Y-%m-%dT%H:%M:%S.%LZ");function oa(e){return e.toISOString()}function sa(e,a,m){function E(T){return e(T)}function k(T,j){var H=(T[1]-T[0])/j,J=Z.bisect(Ls,H);return J==Ls.length?[a.year,is(T.map(function(se){return se/31536e6}),j)[2]]:J?a[H/Ls[J-1]<Ls[J]/H?J-1:J]:[au,is(T,j)[2]]}return E.invert=function(T){return Xo(e.invert(T))},E.domain=function(T){return arguments.length?(e.domain(T),E):e.domain().map(Xo)},E.nice=function(T,j){var P=E.domain(),H=rs(P),J=null==T?k(H,10):"number"==typeof T&&k(H,T);function se(me){return!isNaN(me)&&!T.range(me,Xo(+me+1),j).length}return J&&(T=J[0],j=J[1]),E.domain(ws(P,j>1?{floor:function(me){for(;se(me=T.floor(me));)me=Xo(me-1);return me},ceil:function(me){for(;se(me=T.ceil(me));)me=Xo(+me+1);return me}}:T))},E.ticks=function(T,j){var P=rs(E.domain()),H=null==T?k(P,10):"number"==typeof T?k(P,T):!T.range&&[{range:T},j];return H&&(T=H[0],j=H[1]),T.range(P[0],Xo(+P[1]+1),j<1?1:j)},E.tickFormat=function(){return m},E.copy=function(){return sa(e.copy(),a,m)},qs(E,e)}function Xo(e){return new Date(e)}ia.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?oa:fc,oa.parse=function(e){var a=new Date(e);return isNaN(a)?null:a},oa.toString=fc.toString,rt.second=xt(function(e){return new ht(1e3*Math.floor(e/1e3))},function(e,a){e.setTime(e.getTime()+1e3*Math.floor(a))},function(e){return e.getSeconds()}),rt.seconds=rt.second.range,rt.seconds.utc=rt.second.utc.range,rt.minute=xt(function(e){return new ht(6e4*Math.floor(e/6e4))},function(e,a){e.setTime(e.getTime()+6e4*Math.floor(a))},function(e){return e.getMinutes()}),rt.minutes=rt.minute.range,rt.minutes.utc=rt.minute.utc.range,rt.hour=xt(function(e){var a=e.getTimezoneOffset()/60;return new ht(36e5*(Math.floor(e/36e5-a)+a))},function(e,a){e.setTime(e.getTime()+36e5*Math.floor(a))},function(e){return e.getHours()}),rt.hours=rt.hour.range,rt.hours.utc=rt.hour.utc.range,rt.month=xt(function(e){return(e=rt.day(e)).setDate(1),e},function(e,a){e.setMonth(e.getMonth()+a)},function(e){return e.getMonth()}),rt.months=rt.month.range,rt.months.utc=rt.month.utc.range;var Ls=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],aa=[[rt.second,1],[rt.second,5],[rt.second,15],[rt.second,30],[rt.minute,1],[rt.minute,5],[rt.minute,15],[rt.minute,30],[rt.hour,1],[rt.hour,3],[rt.hour,6],[rt.hour,12],[rt.day,1],[rt.day,2],[rt.week,1],[rt.month,1],[rt.month,3],[rt.year,1]],su=ia.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",eo]]),au={range:function(e,a,m){return Z.range(Math.ceil(e/m)*m,+a,m).map(Xo)},floor:R,ceil:R};aa.year=rt.year,rt.scale=function(){return sa(Z.scale.linear(),aa,su)};var lc=aa.map(function(e){return[e[0].utc,e[1]]}),cu=uc.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",eo]]);function hu(e){return JSON.parse(e.responseText)}function uu(e){var a=_.createRange();return a.selectNode(_.body),a.createContextualFragment(e.responseText)}lc.year=rt.year.utc,rt.scale.utc=function(){return sa(Z.scale.linear(),lc,cu)},Z.text=wi(function(e){return e.responseText}),Z.json=function(e,a){return si(e,"application/json",hu,a)},Z.html=function(e,a){return si(e,"text/html",uu,a)},Z.xml=wi(function(e){return e.responseXML}),"object"==typeof mt&&mt.exports?mt.exports=Z:this.d3=Z}()},{}],2:[function(wt,mt,bt){(function(Z){bt.log=function _(...re){return"object"==typeof console&&console.log&&console.log(...re)},bt.formatArgs=function Oe(re){if(re[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+re[0]+(this.useColors?"%c ":" ")+"+"+mt.exports.humanize(this.diff),!this.useColors)return;const ve="color: "+this.color;re.splice(1,0,ve,"color: inherit");let v=0,M=0;re[0].replace(/%[a-zA-Z%]/g,h=>{"%%"!==h&&(v++,"%c"===h&&(M=v))}),re.splice(M,0,ve)},bt.save=function ne(re){try{re?bt.storage.setItem("debug",re):bt.storage.removeItem("debug")}catch(ve){}},bt.load=function Q(){let re;try{re=bt.storage.getItem("debug")}catch(ve){}return!re&&void 0!==Z&&"env"in Z&&(re=Z.env.DEBUG),re},bt.useColors=function Fe(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},bt.storage=function fe(){try{return localStorage}catch(re){}}(),bt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],mt.exports=wt("./common")(bt);const{formatters:ge}=mt.exports;ge.j=function(re){try{return JSON.stringify(re)}catch(ve){return"[UnexpectedJSONParseError]: "+ve.message}}}).call(this,wt("_process"))},{"./common":3,_process:7}],3:[function(wt,mt,bt){mt.exports=function Z(Fe){function Oe(M){let h=0;for(let g=0;g<M.length;g++)h=(h<<5)-h+M.charCodeAt(g),h|=0;return _.colors[Math.abs(h)%_.colors.length]}function _(M){let h;function g(...p){if(!g.enabled)return;const x=g,r=Number(new Date);x.diff=r-(h||r),x.prev=h,x.curr=r,h=r,p[0]=_.coerce(p[0]),"string"!=typeof p[0]&&p.unshift("%O");let f=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(t,i)=>{if("%%"===t)return t;f++;const s=_.formatters[i];return"function"==typeof s&&(t=s.call(x,p[f]),p.splice(f,1),f--),t}),_.formatArgs.call(x,p),(x.log||_.log).apply(x,p)}return g.namespace=M,g.enabled=_.enabled(M),g.useColors=_.useColors(),g.color=Oe(M),g.destroy=ne,g.extend=Q,"function"==typeof _.init&&_.init(g),_.instances.push(g),g}function ne(){const M=_.instances.indexOf(this);return-1!==M&&(_.instances.splice(M,1),!0)}function Q(M,h){const g=_(this.namespace+(void 0===h?":":h)+M);return g.log=this.log,g}function ve(M){return M.toString().substring(2,M.toString().length-2).replace(/\.\*\?$/,"*")}return _.debug=_,_.default=_,_.coerce=function v(M){return M instanceof Error?M.stack||M.message:M},_.disable=function ge(){const M=[..._.names.map(ve),..._.skips.map(ve).map(h=>"-"+h)].join(",");return _.enable(""),M},_.enable=function fe(M){let h;_.save(M),_.names=[],_.skips=[];const g=("string"==typeof M?M:"").split(/[\s,]+/),p=g.length;for(h=0;h<p;h++)!g[h]||("-"===(M=g[h].replace(/\*/g,".*?"))[0]?_.skips.push(new RegExp("^"+M.substr(1)+"$")):_.names.push(new RegExp("^"+M+"$")));for(h=0;h<_.instances.length;h++){const x=_.instances[h];x.enabled=_.enabled(x.namespace)}},_.enabled=function re(M){if("*"===M[M.length-1])return!0;let h,g;for(h=0,g=_.skips.length;h<g;h++)if(_.skips[h].test(M))return!1;for(h=0,g=_.names.length;h<g;h++)if(_.names[h].test(M))return!0;return!1},_.humanize=wt("ms"),Object.keys(Fe).forEach(M=>{_[M]=Fe[M]}),_.instances=[],_.names=[],_.skips=[],_.formatters={},_.selectColor=Oe,_.enable(_.load()),_}},{ms:6}],4:[function(wt,mt,bt){var Z=Object.create||function i(o){var l=function(){};return l.prototype=o,new l},Fe=Object.keys||function s(o){var l=[];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&l.push(d);return d},Oe=Function.prototype.bind||function u(o){var l=this;return function(){return l.apply(o,arguments)}};function _(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=Z(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}mt.exports=_,_.EventEmitter=_,_.prototype._events=void 0,_.prototype._maxListeners=void 0;var Q,ne=10;try{var fe={};Object.defineProperty&&Object.defineProperty(fe,"x",{value:0}),Q=0===fe.x}catch(o){Q=!1}function ge(o){return void 0===o._maxListeners?_.defaultMaxListeners:o._maxListeners}function re(o,l,d){if(l)o.call(d);else for(var w=o.length,b=n(o,w),I=0;I<w;++I)b[I].call(d)}function ve(o,l,d,w){if(l)o.call(d,w);else for(var b=o.length,I=n(o,b),S=0;S<b;++S)I[S].call(d,w)}function v(o,l,d,w,b){if(l)o.call(d,w,b);else for(var I=o.length,S=n(o,I),R=0;R<I;++R)S[R].call(d,w,b)}function M(o,l,d,w,b,I){if(l)o.call(d,w,b,I);else for(var S=o.length,R=n(o,S),F=0;F<S;++F)R[F].call(d,w,b,I)}function h(o,l,d,w){if(l)o.apply(d,w);else for(var b=o.length,I=n(o,b),S=0;S<b;++S)I[S].apply(d,w)}function g(o,l,d,w){var b,I,S;if("function"!=typeof d)throw new TypeError('"listener" argument must be a function');if((I=o._events)?(I.newListener&&(o.emit("newListener",l,d.listener?d.listener:d),I=o._events),S=I[l]):(I=o._events=Z(null),o._eventsCount=0),S){if("function"==typeof S?S=I[l]=w?[d,S]:[S,d]:w?S.unshift(d):S.push(d),!S.warned&&(b=ge(o))&&b>0&&S.length>b){S.warned=!0;var R=new Error("Possible EventEmitter memory leak detected. "+S.length+' "'+String(l)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');R.name="MaxListenersExceededWarning",R.emitter=o,R.type=l,R.count=S.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",R.name,R.message)}}else S=I[l]=d,++o._eventsCount;return o}function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var o=new Array(arguments.length),l=0;l<o.length;++l)o[l]=arguments[l];this.listener.apply(this.target,o)}}function x(o,l,d){var w={fired:!1,wrapFn:void 0,target:o,type:l,listener:d},b=Oe.call(p,w);return b.listener=d,w.wrapFn=b,b}function r(o,l,d){var w=o._events;if(!w)return[];var b=w[l];return b?"function"==typeof b?d?[b.listener||b]:[b]:d?function t(o){for(var l=new Array(o.length),d=0;d<l.length;++d)l[d]=o[d].listener||o[d];return l}(b):n(b,b.length):[]}function c(o){var l=this._events;if(l){var d=l[o];if("function"==typeof d)return 1;if(d)return d.length}return 0}function n(o,l){for(var d=new Array(l),w=0;w<l;++w)d[w]=o[w];return d}Q?Object.defineProperty(_,"defaultMaxListeners",{enumerable:!0,get:function(){return ne},set:function(o){if("number"!=typeof o||o<0||o!=o)throw new TypeError('"defaultMaxListeners" must be a positive number');ne=o}}):_.defaultMaxListeners=ne,_.prototype.setMaxListeners=function(l){if("number"!=typeof l||l<0||isNaN(l))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=l,this},_.prototype.getMaxListeners=function(){return ge(this)},_.prototype.emit=function(l){var d,w,b,I,S,R,F="error"===l;if(R=this._events)F=F&&null==R.error;else if(!F)return!1;if(F){if(arguments.length>1&&(d=arguments[1]),d instanceof Error)throw d;var q=new Error('Unhandled "error" event. ('+d+")");throw q.context=d,q}if(!(w=R[l]))return!1;var K="function"==typeof w;switch(b=arguments.length){case 1:re(w,K,this);break;case 2:ve(w,K,this,arguments[1]);break;case 3:v(w,K,this,arguments[1],arguments[2]);break;case 4:M(w,K,this,arguments[1],arguments[2],arguments[3]);break;default:for(I=new Array(b-1),S=1;S<b;S++)I[S-1]=arguments[S];h(w,K,this,I)}return!0},_.prototype.on=_.prototype.addListener=function(l,d){return g(this,l,d,!1)},_.prototype.prependListener=function(l,d){return g(this,l,d,!0)},_.prototype.once=function(l,d){if("function"!=typeof d)throw new TypeError('"listener" argument must be a function');return this.on(l,x(this,l,d)),this},_.prototype.prependOnceListener=function(l,d){if("function"!=typeof d)throw new TypeError('"listener" argument must be a function');return this.prependListener(l,x(this,l,d)),this},_.prototype.removeListener=function(l,d){var w,b,I,S,R;if("function"!=typeof d)throw new TypeError('"listener" argument must be a function');if(!(b=this._events))return this;if(!(w=b[l]))return this;if(w===d||w.listener===d)0==--this._eventsCount?this._events=Z(null):(delete b[l],b.removeListener&&this.emit("removeListener",l,w.listener||d));else if("function"!=typeof w){for(I=-1,S=w.length-1;S>=0;S--)if(w[S]===d||w[S].listener===d){R=w[S].listener,I=S;break}if(I<0)return this;0===I?w.shift():function f(o,l){for(var d=l,w=d+1,b=o.length;w<b;d+=1,w+=1)o[d]=o[w];o.pop()}(w,I),1===w.length&&(b[l]=w[0]),b.removeListener&&this.emit("removeListener",l,R||d)}return this},_.prototype.removeAllListeners=function(l){var d,w,b;if(!(w=this._events))return this;if(!w.removeListener)return 0===arguments.length?(this._events=Z(null),this._eventsCount=0):w[l]&&(0==--this._eventsCount?this._events=Z(null):delete w[l]),this;if(0===arguments.length){var S,I=Fe(w);for(b=0;b<I.length;++b)"removeListener"!==(S=I[b])&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Z(null),this._eventsCount=0,this}if("function"==typeof(d=w[l]))this.removeListener(l,d);else if(d)for(b=d.length-1;b>=0;b--)this.removeListener(l,d[b]);return this},_.prototype.listeners=function(l){return r(this,l,!0)},_.prototype.rawListeners=function(l){return r(this,l,!1)},_.listenerCount=function(o,l){return"function"==typeof o.listenerCount?o.listenerCount(l):c.call(o,l)},_.prototype.listenerCount=c,_.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],5:[function(wt,mt,bt){mt.exports="function"==typeof Object.create?function(Fe,Oe){Oe&&(Fe.super_=Oe,Fe.prototype=Object.create(Oe.prototype,{constructor:{value:Fe,enumerable:!1,writable:!0,configurable:!0}}))}:function(Fe,Oe){if(Oe){Fe.super_=Oe;var _=function(){};_.prototype=Oe.prototype,Fe.prototype=new _,Fe.prototype.constructor=Fe}}},{}],6:[function(wt,mt,bt){var Z=1e3,Fe=60*Z,Oe=60*Fe,_=24*Oe;function ve(v,M,h,g){var p=M>=1.5*h;return Math.round(v/h)+" "+g+(p?"s":"")}mt.exports=function(v,M){M=M||{};var h=typeof v;if("string"===h&&v.length>0)return function fe(v){if(!((v=String(v)).length>100)){var M=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(M){var h=parseFloat(M[1]);switch((M[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*h;case"weeks":case"week":case"w":return 6048e5*h;case"days":case"day":case"d":return h*_;case"hours":case"hour":case"hrs":case"hr":case"h":return h*Oe;case"minutes":case"minute":case"mins":case"min":case"m":return h*Fe;case"seconds":case"second":case"secs":case"sec":case"s":return h*Z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}(v);if("number"===h&&isFinite(v))return M.long?function re(v){var M=Math.abs(v);return M>=_?ve(v,M,_,"day"):M>=Oe?ve(v,M,Oe,"hour"):M>=Fe?ve(v,M,Fe,"minute"):M>=Z?ve(v,M,Z,"second"):v+" ms"}(v):function ge(v){var M=Math.abs(v);return M>=_?Math.round(v/_)+"d":M>=Oe?Math.round(v/Oe)+"h":M>=Fe?Math.round(v/Fe)+"m":M>=Z?Math.round(v/Z)+"s":v+"ms"}(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))}},{}],7:[function(wt,mt,bt){var Fe,Oe,Z=mt.exports={};function _(){throw new Error("setTimeout has not been defined")}function ne(){throw new Error("clearTimeout has not been defined")}function Q(x){if(Fe===setTimeout)return setTimeout(x,0);if((Fe===_||!Fe)&&setTimeout)return Fe=setTimeout,setTimeout(x,0);try{return Fe(x,0)}catch(r){try{return Fe.call(null,x,0)}catch(c){return Fe.call(this,x,0)}}}!function(){try{Fe="function"==typeof setTimeout?setTimeout:_}catch(x){Fe=_}try{Oe="function"==typeof clearTimeout?clearTimeout:ne}catch(x){Oe=ne}}();var ve,ge=[],re=!1,v=-1;function M(){!re||!ve||(re=!1,ve.length?ge=ve.concat(ge):v=-1,ge.length&&h())}function h(){if(!re){var x=Q(M);re=!0;for(var r=ge.length;r;){for(ve=ge,ge=[];++v<r;)ve&&ve[v].run();v=-1,r=ge.length}ve=null,re=!1,function fe(x){if(Oe===clearTimeout)return clearTimeout(x);if((Oe===ne||!Oe)&&clearTimeout)return Oe=clearTimeout,clearTimeout(x);try{Oe(x)}catch(r){try{return Oe.call(null,x)}catch(c){return Oe.call(this,x)}}}(x)}}function g(x,r){this.fun=x,this.array=r}function p(){}Z.nextTick=function(x){var r=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)r[c-1]=arguments[c];ge.push(new g(x,r)),1===ge.length&&!re&&Q(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},Z.title="browser",Z.browser=!0,Z.env={},Z.argv=[],Z.version="",Z.versions={},Z.on=p,Z.addListener=p,Z.once=p,Z.off=p,Z.removeListener=p,Z.removeAllListeners=p,Z.emit=p,Z.prependListener=p,Z.prependOnceListener=p,Z.listeners=function(x){return[]},Z.binding=function(x){throw new Error("process.binding is not supported")},Z.cwd=function(){return"/"},Z.chdir=function(x){throw new Error("process.chdir is not supported")},Z.umask=function(){return 0}},{}],8:[function(wt,mt,bt){mt.exports=function Z(Fe,Oe){var _,ne,Q,fe,ge=0;return function(){_=this,ne=arguments;var v=new Date-ge;return fe||(v>=Oe?re():fe=setTimeout(re,Oe-v)),Q};function re(){fe=0,ge=+new Date,Q=Fe.apply(_,ne),_=null,ne=null}}},{}],9:[function(wt,mt,bt){mt.exports=ge;var Z=wt("d3"),Fe=wt("debug")("p2p-graph"),Oe=wt("events"),_=wt("inherits"),ne=wt("throttleit"),Q_links_width=.7,Q_links_maxWidth=5,Q_links_maxBytes=2097152,fe_links_color="#C8C8C8",fe_nodes_method=function(re,ve){return Z.hsl(re.me?210:re.seeder?120:55,.7,.725)},fe_nodes_hover="#A9A9A9",fe_nodes_dep="#252929";function ge(re){var ve=this;if(!(ve instanceof ge))return new ge(re);Oe.call(ve),"string"==typeof re&&(re=document.querySelector(re)),ve._root=re,ve._model={nodes:[],links:[],focused:null},ve._model.links.forEach(function(v){var M=ve._model.nodes[v.source],h=ve._model.nodes[v.target];M.children=M.children||[],M.children.push(v.target),h.parents=h.parents||[],h.parents.push(v.source)}),ve._svg=Z.select(ve._root).append("svg"),ve._resize(),ve._force=Z.layout.force().size([ve._width,ve._height]).nodes(ve._model.nodes).links(ve._model.links).on("tick",function(){ve._link.attr("x1",function(v){return v.source.x}).attr("y1",function(v){return v.source.y}).attr("x2",function(v){return v.target.x}).attr("y2",function(v){return v.target.y}),ve._node.attr("cx",function(v){return v.x}).attr("cy",function(v){return v.y}),ve._node.attr("transform",function(v){return"translate("+v.x+","+v.y+")"})}),ve._node=ve._svg.selectAll(".node"),ve._link=ve._svg.selectAll(".link"),ve._update(),ve._resizeThrottled=ne(function(){ve._resize()},500),window.addEventListener("resize",ve._resizeThrottled)}_(ge,Oe),ge.prototype.list=function(){return Fe("list"),this._model.nodes},ge.prototype.add=function(re){if(Fe("add %s %o",re.id,re),this._getNode(re.id))throw new Error("add: cannot add duplicate node");this._model.nodes.push(re),this._update()},ge.prototype.remove=function(re){var ve=this;Fe("remove %s",re);var v=ve._getNodeIndex(re);if(-1===v)throw new Error("remove: node does not exist");ve._model.focused&&ve._model.focused.id===re&&(ve._model.focused=null,ve.emit("select",!1)),ve._model.nodes.splice(v,1),ve._update()},ge.prototype.connect=function(re,ve){var v=this;Fe("connect %s %s",re,ve);var M=v._getNode(re);if(!M)throw new Error("connect: invalid source id");var h=v._getNode(ve);if(!h)throw new Error("connect: invalid target id");if(v.getLink(M.index,h.index))throw new Error("connect: cannot make duplicate connection");v._model.links.push({source:M.index,target:h.index}),v._update()},ge.prototype.disconnect=function(re,ve){var v=this;Fe("disconnect %s %s",re,ve);var M=v._getNode(re);if(!M)throw new Error("disconnect: invalid source id");var h=v._getNode(ve);if(!h)throw new Error("disconnect: invalid target id");var g=v.getLinkIndex(M.index,h.index);if(-1===g)throw new Error("disconnect: connection does not exist");v._model.links.splice(g,1),v._update()},ge.prototype.hasPeer=function(){var re=this,ve=Array.prototype.slice.call(arguments,0);return Fe("Checking for peers:",ve),ve.every(function(v){return re._getNode(v)})},ge.prototype.hasLink=function(re,ve){var v=this,M=v._getNode(re);if(!M)throw new Error("hasLink: invalid source id");var h=v._getNode(ve);if(!h)throw new Error("hasLink: invalid target id");return!!v.getLink(M.index,h.index)},ge.prototype.areConnected=function(re,ve){var v=this,M=v._getNode(re);if(!M)throw new Error("areConnected: invalid source id");var h=v._getNode(ve);if(!h)throw new Error("areConnected: invalid target id");return v.getLink(M.index,h.index)||v.getLink(h.index,M.index)},ge.prototype.unchoke=function(re,ve){Fe("unchoke %s %s",re,ve)},ge.prototype.choke=function(re,ve){Fe("choke %s %s",re,ve)},ge.prototype.seed=function(re,ve){var v=this;if(Fe(re,"isSeeding:",ve),"boolean"!=typeof ve)throw new Error("seed: 2nd param must be a boolean");var M=v._getNodeIndex(re);if(-1===M)throw new Error("seed: node does not exist");v._model.nodes[M].seeder=ve,v._update()},ge.prototype.rate=function(re,ve,v){var M=this;if(Fe("rate update:",re+"<->"+ve,"at",v),"number"!=typeof v||v<0)throw new Error("rate: 3th param must be a positive number");var h=M._getNode(re);if(!h)throw new Error("rate: invalid source id");var g=M._getNode(ve);if(!g)throw new Error("rate: invalid target id");var p=M.getLinkIndex(h.index,g.index);if(-1===p)throw new Error("rate: connection does not exist");M._model.links[p].rate=function x(r){return Math.min(r,Q_links_maxBytes)*Q_links_maxWidth/Q_links_maxBytes}(v),Fe("rate:",M._model.links[p].rate),M._update()},ge.prototype.getLink=function(re,ve){for(var v=this,M=0,h=v._model.links.length;M<h;M+=1){var g=v._model.links[M];if(g.source===v._model.nodes[re]&&g.target===v._model.nodes[ve])return g}return null},ge.prototype.destroy=function(){Fe("destroy"),this._root.remove(),window.removeEventListener("resize",this._resizeThrottled),this._root=null,this._resizeThrottled=null},ge.prototype._update=function(){var re=this;re._link=re._link.data(re._model.links),re._node=re._node.data(re._model.nodes,function(v){return v.id}),re._link.enter().insert("line",".node").attr("class","link").style("stroke",fe_links_color).style("opacity",.5),re._link.exit().remove(),re._link.style("stroke-width",function(v){return v.rate?v.rate<Q_links_width?Q_links_width:v.rate:Q_links_width});var ve=re._node.enter().append("g").attr("class","node");ve.call(re._force.drag),ve.append("circle").on("mouseover",function(v){Z.select(this).style("fill",fe_nodes_hover),Z.selectAll(re._childNodes(v)).style("fill",fe_nodes_hover).style("stroke",fe_nodes_method).style("stroke-width",2),Z.selectAll(re._parentNodes(v)).style("fill",fe_nodes_dep).style("stroke",fe_nodes_method).style("stroke-width",2)}).on("mouseout",function(v){Z.select(this).style("fill",fe_nodes_method),Z.selectAll(re._childNodes(v)).style("fill",fe_nodes_method).style("stroke",null),Z.selectAll(re._parentNodes(v)).style("fill",fe_nodes_method).style("stroke",null)}).on("click",function(v){if(re._model.focused===v)return re._force.charge(-200*re._scale()).linkDistance(100*re._scale()).linkStrength(1).start(),re._node.style("opacity",1),re._link.style("opacity",.3),re._model.focused=null,void re.emit("select",!1);re._model.focused=v,re.emit("select",v.id),re._node.style("opacity",function(M){return M.active=re._connected(v,M),M.active?1:.2}),re._force.charge(function(M){return(M.active?-100:-5)*re._scale()}).linkDistance(function(M){return(M.source.active&&M.target.active?100:60)*re._scale()}).linkStrength(function(M){return(M.source===v||M.target===v?1:0)*re._scale()}).start(),re._link.style("opacity",function(M,h){return M.source.active&&M.target.active?1:.02})}),re._node.select("circle").attr("r",function(v){return re._scale()*(v.me?15:10)}).style("fill",fe_nodes_method),ve.append("text").attr("class","text").text(function(v){return v.name}),re._node.select("text").attr("font-size",function(v){return v.me?16*re._scale():12*re._scale()}).attr("dx",0).attr("dy",function(v){return v.me?-22*re._scale():-15*re._scale()}),re._node.exit().remove(),re._force.linkDistance(100*re._scale()).charge(-200*re._scale()).start()},ge.prototype._childNodes=function(re){var ve=this;return re.children?re.children.map(function(v){return ve._node[0][v]}).filter(function(v){return v}):[]},ge.prototype._parentNodes=function(re){var ve=this;return re.parents?re.parents.map(function(v){return ve._node[0][v]}).filter(function(v){return v}):[]},ge.prototype._connected=function(re,ve){return ve.id===re.id||re.children&&-1!==re.children.indexOf(ve.id)||ve.children&&-1!==ve.children.indexOf(re.id)||ve.parents&&-1!==ve.parents.indexOf(re.id)||re.parents&&-1!==re.parents.indexOf(ve.id)},ge.prototype._getNode=function(re){for(var v=0,M=this._model.nodes.length;v<M;v+=1){var h=this._model.nodes[v];if(h.id===re)return h}return null},ge.prototype._scale=function(){var ve=this._model.nodes.length;return ve<10?1:Math.max(.2,1-(ve-10)/100)},ge.prototype._resize=function(re){var ve=this;ve._width=ve._root.offsetWidth,ve._height=window.innerWidth>=900?400:250,ve._svg.attr("width",ve._width).attr("height",ve._height),ve._force&&ve._force.size([ve._width,ve._height]).resume()},ge.prototype._getNodeIndex=function(re){for(var v=0,M=this._model.nodes.length;v<M;v+=1)if(this._model.nodes[v].id===re)return v;return-1},ge.prototype.getLinkIndex=function(re,ve){for(var v=this,M=0,h=v._model.links.length;M<h;M+=1){var g=v._model.links[M];if(g.source===v._model.nodes[re]&&g.target===v._model.nodes[ve])return M}return-1}},{d3:1,debug:2,events:4,inherits:5,throttleit:8}]},{},[9])(9)}),function(Nt,hn){"object"==typeof exports&&"undefined"!=typeof module?module.exports=hn():"function"==typeof define&&define.amd?define(hn):(Nt="undefined"!=typeof globalThis?globalThis:Nt||self).Viewer=hn()}(this,function(){"use strict";function Nt(G,ee){var pe=Object.keys(G);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(G);ee&&(W=W.filter(function(be){return Object.getOwnPropertyDescriptor(G,be).enumerable})),pe.push.apply(pe,W)}return pe}function hn(G){for(var ee=1;ee<arguments.length;ee++){var pe=null!=arguments[ee]?arguments[ee]:{};ee%2?Nt(Object(pe),!0).forEach(function(W){Z(G,W,pe[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(pe)):Nt(Object(pe)).forEach(function(W){Object.defineProperty(G,W,Object.getOwnPropertyDescriptor(pe,W))})}return G}function z(G){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ee){return typeof ee}:function(ee){return ee&&"function"==typeof Symbol&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee})(G)}function wt(G,ee){if(!(G instanceof ee))throw new TypeError("Cannot call a class as a function")}function mt(G,ee){for(var pe=0;pe<ee.length;pe++){var W=ee[pe];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(G,W.key,W)}}function Z(G,ee,pe){return ee in G?Object.defineProperty(G,ee,{value:pe,enumerable:!0,configurable:!0,writable:!0}):G[ee]=pe,G}var Fe={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},_="undefined"!=typeof window&&void 0!==window.document,ne=_?window:{},Q=!(!_||!ne.document.documentElement)&&"ontouchstart"in ne.document.documentElement,fe=!!_&&"PointerEvent"in ne,ge="viewer",re="move",v="zoom",M="".concat(ge,"-active"),h="".concat(ge,"-close"),g="".concat(ge,"-fade"),p="".concat(ge,"-fixed"),x="".concat(ge,"-fullscreen"),r="".concat(ge,"-fullscreen-exit"),c="".concat(ge,"-hide"),f="".concat(ge,"-hide-md-down"),n="".concat(ge,"-hide-sm-down"),t="".concat(ge,"-hide-xs-down"),i="".concat(ge,"-in"),s="".concat(ge,"-invisible"),u="".concat(ge,"-loading"),o="".concat(ge,"-move"),l="".concat(ge,"-open"),d="".concat(ge,"-show"),w="".concat(ge,"-transition"),b="click",I="dblclick",S="dragstart",R="focusin",F="keydown",q="load",K="error",A=fe?"pointerdown":Q?"touchstart":"mousedown",N=fe?"pointermove":Q?"touchmove":"mousemove",U=fe?"pointerup pointercancel":Q?"touchend touchcancel":"mouseup",y="resize",C="transitionend",L="wheel",O="ready",oe="show",$="shown",ue="hide",Ze="view",Ve="viewed",tt="move",at="moved",Wt="rotated",Jt="scale",Ye="scaled",st="zoom",ft="zoomed",Y="play",X="".concat(ge,"Action"),ae=/\s\s*/,Je=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function ce(G){return"string"==typeof G}var Ee=Number.isNaN||ne.isNaN;function $e(G){return"number"==typeof G&&!Ee(G)}function nt(G){return void 0===G}function ct(G){return"object"===z(G)&&null!==G}var Ut=Object.prototype.hasOwnProperty;function Ht(G){if(!ct(G))return!1;try{var ee=G.constructor,pe=ee.prototype;return ee&&pe&&Ut.call(pe,"isPrototypeOf")}catch(W){return!1}}function Dt(G){return"function"==typeof G}function Xt(G,ee){if(G&&Dt(ee))if(Array.isArray(G)||$e(G.length)){var W,pe=G.length;for(W=0;W<pe&&!1!==ee.call(G,G[W],W,G);W+=1);}else ct(G)&&Object.keys(G).forEach(function(be){ee.call(G,G[be],be,G)});return G}var Gt=Object.assign||function(ee){for(var pe=arguments.length,W=new Array(pe>1?pe-1:0),be=1;be<pe;be++)W[be-1]=arguments[be];return ct(ee)&&W.length>0&&W.forEach(function(Bt){ct(Bt)&&Object.keys(Bt).forEach(function(Pt){ee[Pt]=Bt[Pt]})}),ee},bn=/^(?:width|height|left|top|marginLeft|marginTop)$/;function Nn(G,ee){var pe=G.style;Xt(ee,function(W,be){bn.test(be)&&$e(W)&&(W+="px"),pe[be]=W})}function En(G){return ce(G)?G.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):G}function Cn(G,ee){return!(!G||!ee)&&(G.classList?G.classList.contains(ee):G.className.indexOf(ee)>-1)}function Bn(G,ee){if(G&&ee){if($e(G.length))return void Xt(G,function(W){Bn(W,ee)});if(G.classList)return void G.classList.add(ee);var pe=G.className.trim();pe?pe.indexOf(ee)<0&&(G.className="".concat(pe," ").concat(ee)):G.className=ee}}function _t(G,ee){if(G&&ee){if($e(G.length))return void Xt(G,function(pe){_t(pe,ee)});if(G.classList)return void G.classList.remove(ee);G.className.indexOf(ee)>=0&&(G.className=G.className.replace(ee,""))}}function Xn(G,ee,pe){if(ee){if($e(G.length))return void Xt(G,function(W){Xn(W,ee,pe)});pe?Bn(G,ee):_t(G,ee)}}var zn=/([a-z\d])([A-Z])/g;function Fn(G){return G.replace(zn,"$1-$2").toLowerCase()}function Zn(G,ee){return ct(G[ee])?G[ee]:G.dataset?G.dataset[ee]:G.getAttribute("data-".concat(Fn(ee)))}function vr(G,ee,pe){ct(pe)?G[ee]=pe:G.dataset?G.dataset[ee]=pe:G.setAttribute("data-".concat(Fn(ee)),pe)}var nn=function(){var G=!1;if(_){var ee=!1,pe=function(){},W=Object.defineProperty({},"once",{get:function(){return G=!0,ee},set:function(Bt){ee=Bt}});ne.addEventListener("test",pe,W),ne.removeEventListener("test",pe,W)}return G}();function mn(G,ee,pe){var W=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},be=pe;ee.trim().split(ae).forEach(function(Bt){if(!nn){var Pt=G.listeners;Pt&&Pt[Bt]&&Pt[Bt][pe]&&(be=Pt[Bt][pe],delete Pt[Bt][pe],0===Object.keys(Pt[Bt]).length&&delete Pt[Bt],0===Object.keys(Pt).length&&delete G.listeners)}G.removeEventListener(Bt,be,W)})}function Hn(G,ee,pe){var W=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},be=pe;ee.trim().split(ae).forEach(function(Bt){if(W.once&&!nn){var Pt=G.listeners,dn=void 0===Pt?{}:Pt;be=function(){delete dn[Bt][pe],G.removeEventListener(Bt,be,W);for(var fn=arguments.length,ln=new Array(fn),Tn=0;Tn<fn;Tn++)ln[Tn]=arguments[Tn];pe.apply(G,ln)},dn[Bt]||(dn[Bt]={}),dn[Bt][pe]&&G.removeEventListener(Bt,dn[Bt][pe],W),dn[Bt][pe]=be,G.listeners=dn}G.addEventListener(Bt,be,W)})}function An(G,ee,pe,W){var be;return Dt(Event)&&Dt(CustomEvent)?be=new CustomEvent(ee,hn({bubbles:!0,cancelable:!0,detail:pe},W)):(be=document.createEvent("CustomEvent")).initCustomEvent(ee,!0,!0,pe),G.dispatchEvent(be)}function tr(G){var ee=G.getBoundingClientRect();return{left:ee.left+(window.pageXOffset-document.documentElement.clientLeft),top:ee.top+(window.pageYOffset-document.documentElement.clientTop)}}function Rr(G){var ee=G.rotate,pe=G.scaleX,W=G.scaleY,be=G.translateX,Bt=G.translateY,Pt=[];$e(be)&&0!==be&&Pt.push("translateX(".concat(be,"px)")),$e(Bt)&&0!==Bt&&Pt.push("translateY(".concat(Bt,"px)")),$e(ee)&&0!==ee&&Pt.push("rotate(".concat(ee,"deg)")),$e(pe)&&1!==pe&&Pt.push("scaleX(".concat(pe,")")),$e(W)&&1!==W&&Pt.push("scaleY(".concat(W,")"));var dn=Pt.length?Pt.join(" "):"none";return{WebkitTransform:dn,msTransform:dn,transform:dn}}var nr=ne.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(ne.navigator.userAgent);function $t(G,ee,pe){var W=document.createElement("img");if(G.naturalWidth&&!nr)return pe(G.naturalWidth,G.naturalHeight),W;var be=document.body||document.documentElement;return W.onload=function(){pe(W.width,W.height),nr||be.removeChild(W)},Xt(ee.inheritedAttributes,function(Bt){var Pt=G.getAttribute(Bt);null!==Pt&&W.setAttribute(Bt,Pt)}),W.src=G.src,nr||(W.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",be.appendChild(W)),W}function Ne(G){switch(G){case 2:return t;case 3:return n;case 4:return f;default:return""}}function sr(G,ee){var pe=G.pageX,W=G.pageY,be={endX:pe,endY:W};return ee?be:hn({timeStamp:Date.now(),startX:pe,startY:W},be)}function _n(G){var ee=0,pe=0,W=0;return Xt(G,function(be){ee+=be.startX,pe+=be.startY,W+=1}),{pageX:ee/=W,pageY:pe/=W}}var G,Vn={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var ee=this.element.ownerDocument,pe=ee.body||ee.documentElement;this.body=pe,this.scrollbarWidth=window.innerWidth-ee.documentElement.clientWidth,this.initialBodyPaddingRight=pe.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(pe).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var W,ee=this.options,pe=this.parent;ee.inline&&(W={width:Math.max(pe.offsetWidth,ee.minWidth),height:Math.max(pe.offsetHeight,ee.minHeight)},this.parentData=W),(this.fulled||!W)&&(W=this.containerData),this.viewerData=Gt({},W)},renderViewer:function(){this.options.inline&&!this.fulled&&Nn(this.viewer,this.viewerData)},initList:function(){var ee=this,pe=this.element,W=this.options,be=this.list,Bt=[];be.innerHTML="",Xt(this.images,function(Pt,dn){var Mn=Pt.src,fn=Pt.alt||function ir(G){return ce(G)?decodeURIComponent(G.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}(Mn),ln=ee.getImageURL(Pt);if(Mn||ln){var Tn=document.createElement("li"),Qn=document.createElement("img");Xt(W.inheritedAttributes,function(ur){var yr=Pt.getAttribute(ur);null!==yr&&Qn.setAttribute(ur,yr)}),Qn.src=Mn||ln,Qn.alt=fn,Qn.setAttribute("data-original-url",ln||Mn),Tn.setAttribute("data-index",dn),Tn.setAttribute("data-viewer-action","view"),Tn.setAttribute("role","button"),W.keyboard&&Tn.setAttribute("tabindex",0),Tn.appendChild(Qn),be.appendChild(Tn),Bt.push(Tn)}}),this.items=Bt,Xt(Bt,function(Pt){var Mn,fn,dn=Pt.firstElementChild;vr(dn,"filled",!0),W.loading&&Bn(Pt,u),Hn(dn,q,Mn=function(Tn){mn(dn,K,fn),W.loading&&_t(Pt,u),ee.loadImage(Tn)},{once:!0}),Hn(dn,K,fn=function(){mn(dn,q,Mn),W.loading&&_t(Pt,u)},{once:!0})}),W.transition&&Hn(pe,Ve,function(){Bn(be,w)},{once:!0})},renderList:function(){var ee=this.index,pe=this.items[ee];if(pe){var be=parseInt(window.getComputedStyle(pe.nextElementSibling||pe).marginLeft,10),Bt=pe.offsetWidth,Pt=Bt+be;Nn(this.list,Gt({width:Pt*this.length-be},Rr({translateX:(this.viewerData.width-Bt)/2-Pt*ee})))}},resetList:function(){var ee=this.list;ee.innerHTML="",_t(ee,w),Nn(ee,Rr({translateX:0}))},initImage:function(ee){var ln,pe=this,W=this.options,be=this.image,Bt=this.viewerData,Pt=this.footer.offsetHeight,dn=Bt.width,Mn=Math.max(Bt.height-Pt,Pt),fn=this.imageData||{};this.imageInitializing={abort:function(){ln.onload=null}},ln=$t(be,W,function(Tn,Qn){var ur=Tn/Qn,yr=dn,_r=Mn;pe.imageInitializing=!1,Mn*ur>dn?_r=dn/ur:yr=Mn*ur,yr=Math.min(.9*yr,Tn),_r=Math.min(.9*_r,Qn);var qr=(dn-yr)/2,Or=(Mn-_r)/2,kr={left:qr,top:Or,x:qr,y:Or,width:yr,height:_r,oldRatio:1,ratio:yr/Tn,aspectRatio:ur,naturalWidth:Tn,naturalHeight:Qn},br=Gt({},kr);W.rotatable&&(kr.rotate=fn.rotate||0,br.rotate=0),W.scalable&&(kr.scaleX=fn.scaleX||1,kr.scaleY=fn.scaleY||1,br.scaleX=1,br.scaleY=1),pe.imageData=kr,pe.initialImageData=br,ee&&ee()})},renderImage:function(ee){var pe=this,W=this.image,be=this.imageData;if(Nn(W,Gt({width:be.width,height:be.height,marginLeft:be.x,marginTop:be.y},Rr(be))),ee)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&Cn(W,w)){var Bt=function(){pe.imageRendering=!1,ee()};this.imageRendering={abort:function(){mn(W,C,Bt)}},Hn(W,C,Bt,{once:!0})}else ee()},resetImage:function(){if(this.viewing||this.viewed){var ee=this.image;this.viewing&&this.viewing.abort(),ee.parentNode.removeChild(ee),this.image=null}}},wr={bind:function(){var ee=this.options,pe=this.viewer,W=this.canvas,be=this.element.ownerDocument;Hn(pe,b,this.onClick=this.click.bind(this)),Hn(pe,S,this.onDragStart=this.dragstart.bind(this)),Hn(W,A,this.onPointerDown=this.pointerdown.bind(this)),Hn(be,N,this.onPointerMove=this.pointermove.bind(this)),Hn(be,U,this.onPointerUp=this.pointerup.bind(this)),Hn(be,F,this.onKeyDown=this.keydown.bind(this)),Hn(window,y,this.onResize=this.resize.bind(this)),ee.zoomable&&ee.zoomOnWheel&&Hn(pe,L,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),ee.toggleOnDblclick&&Hn(W,I,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var ee=this.options,pe=this.viewer,W=this.canvas,be=this.element.ownerDocument;mn(pe,b,this.onClick),mn(pe,S,this.onDragStart),mn(W,A,this.onPointerDown),mn(be,N,this.onPointerMove),mn(be,U,this.onPointerUp),mn(be,F,this.onKeyDown),mn(window,y,this.onResize),ee.zoomable&&ee.zoomOnWheel&&mn(pe,L,this.onWheel,{passive:!1,capture:!0}),ee.toggleOnDblclick&&mn(W,I,this.onDblclick)}},jn={click:function(ee){var pe=this.options,W=this.imageData,be=ee.target,Bt=Zn(be,X);switch(!Bt&&"img"===be.localName&&"li"===be.parentElement.localName&&(Bt=Zn(be=be.parentElement,X)),Q&&ee.isTrusted&&be===this.canvas&&clearTimeout(this.clickCanvasTimeout),Bt){case"mix":this.played?this.stop():pe.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.hide();break;case"view":this.view(Zn(be,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(pe.loop);break;case"play":this.play(pe.fullscreen);break;case"next":this.next(pe.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-W.scaleX||-1);break;case"flip-vertical":this.scaleY(-W.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(ee){ee.preventDefault(),this.viewed&&ee.target===this.image&&(Q&&ee.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(ee.isTrusted?ee:ee.detail&&ee.detail.originalEvent))},load:function(){var ee=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var pe=this.element,W=this.options,be=this.image,Bt=this.index,Pt=this.viewerData;_t(be,s),W.loading&&_t(this.canvas,u),be.style.cssText="height:0;"+"margin-left:".concat(Pt.width/2,"px;")+"margin-top:".concat(Pt.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){Xn(be,o,W.movable),Xn(be,w,W.transition),ee.renderImage(function(){ee.viewed=!0,ee.viewing=!1,Dt(W.viewed)&&Hn(pe,Ve,W.viewed,{once:!0}),An(pe,Ve,{originalImage:ee.images[Bt],index:Bt,image:be},{cancelable:!1})})})},loadImage:function(ee){var pe=ee.target,W=pe.parentNode,be=W.offsetWidth||30,Bt=W.offsetHeight||50,Pt=!!Zn(pe,"filled");$t(pe,this.options,function(dn,Mn){var fn=dn/Mn,ln=be,Tn=Bt;Bt*fn>be?Pt?ln=Bt*fn:Tn=be/fn:Pt?Tn=be/fn:ln=Bt*fn,Nn(pe,Gt({width:ln,height:Tn},Rr({translateX:(be-ln)/2,translateY:(Bt-Tn)/2})))})},keydown:function(ee){var pe=this.options;if(pe.keyboard){var W=ee.keyCode||ee.which||ee.charCode;if(13===W&&this.viewer.contains(ee.target)&&this.click(ee),this.fulled)switch(W){case 27:this.played?this.stop():pe.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.prev(pe.loop);break;case 38:ee.preventDefault(),this.zoom(pe.zoomRatio,!0);break;case 39:this.next(pe.loop);break;case 40:ee.preventDefault(),this.zoom(-pe.zoomRatio,!0);break;case 48:case 49:ee.ctrlKey&&(ee.preventDefault(),this.toggle())}}},dragstart:function(ee){"img"===ee.target.localName&&ee.preventDefault()},pointerdown:function(ee){var pe=this.options,W=this.pointers,be=ee.buttons,Bt=ee.button;if(!(!this.viewed||this.showing||this.viewing||this.hiding||("mousedown"===ee.type||"pointerdown"===ee.type&&"mouse"===ee.pointerType)&&($e(be)&&1!==be||$e(Bt)&&0!==Bt||ee.ctrlKey))){ee.preventDefault(),ee.changedTouches?Xt(ee.changedTouches,function(dn){W[dn.identifier]=sr(dn)}):W[ee.pointerId||0]=sr(ee);var Pt=!!pe.movable&&re;pe.zoomOnTouch&&pe.zoomable&&Object.keys(W).length>1?Pt=v:pe.slideOnTouch&&("touch"===ee.pointerType||"touchstart"===ee.type)&&this.isSwitchable()&&(Pt="switch"),pe.transition&&(Pt===re||Pt===v)&&_t(this.image,w),this.action=Pt}},pointermove:function(ee){var pe=this.pointers;!this.viewed||!this.action||(ee.preventDefault(),ee.changedTouches?Xt(ee.changedTouches,function(be){Gt(pe[be.identifier]||{},sr(be,!0))}):Gt(pe[ee.pointerId||0]||{},sr(ee,!0)),this.change(ee))},pointerup:function(ee){var Pt,pe=this,W=this.options,be=this.action,Bt=this.pointers;ee.changedTouches?Xt(ee.changedTouches,function(dn){Pt=Bt[dn.identifier],delete Bt[dn.identifier]}):(Pt=Bt[ee.pointerId||0],delete Bt[ee.pointerId||0]),be&&(ee.preventDefault(),W.transition&&(be===re||be===v)&&Bn(this.image,w),this.action=!1,Q&&be!==v&&Pt&&Date.now()-Pt.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),W.toggleOnDblclick&&this.viewed&&ee.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){An(pe.image,I,{originalEvent:ee})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){pe.imageClicked=!1},500)):(this.imageClicked=!1,W.backdrop&&"static"!==W.backdrop&&ee.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){An(pe.canvas,b,{originalEvent:ee})},50)))))},resize:function(){var ee=this;if(this.isShown&&!this.hiding&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){ee.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement))return void this.stop();Xt(this.player.getElementsByTagName("img"),function(pe){Hn(pe,q,ee.loadImage.bind(ee),{once:!0}),An(pe,q)})}},wheel:function(ee){var pe=this;if(this.viewed&&(ee.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){pe.wheeling=!1},50);var W=Number(this.options.zoomRatio)||.1,be=1;ee.deltaY?be=ee.deltaY>0?1:-1:ee.wheelDelta?be=-ee.wheelDelta/120:ee.detail&&(be=ee.detail>0?1:-1),this.zoom(-be*W,!0,ee)}}},Kn={show:function(){var ee=arguments.length>0&&void 0!==arguments[0]&&arguments[0],pe=this.element,W=this.options;if(W.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(ee),this;if(Dt(W.show)&&Hn(pe,oe,W.show,{once:!0}),!1===An(pe,oe)||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var be=this.viewer;if(_t(be,c),be.setAttribute("role","dialog"),be.setAttribute("aria-labelledby",this.title.id),be.setAttribute("aria-modal",!0),be.removeAttribute("aria-hidden"),W.transition&&!ee){var Bt=this.shown.bind(this);this.transitioning={abort:function(){mn(be,C,Bt),_t(be,i)}},Bn(be,w),be.initialOffsetWidth=be.offsetWidth,Hn(be,C,Bt,{once:!0}),Bn(be,i)}else Bn(be,i),this.shown();return this},hide:function(){var ee=this,pe=arguments.length>0&&void 0!==arguments[0]&&arguments[0],W=this.element,be=this.options;if(be.inline||this.hiding||!this.isShown&&!this.showing)return this;if(Dt(be.hide)&&Hn(W,ue,be.hide,{once:!0}),!1===An(W,ue))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var Bt=this.viewer,Pt=this.image,dn=function(){_t(Bt,i),ee.hidden()};if(be.transition&&!pe){var Mn=function ln(Tn){Tn&&Tn.target===Bt&&(mn(Bt,C,ln),ee.hidden())},fn=function(){Cn(Bt,w)?(Hn(Bt,C,Mn),_t(Bt,i)):dn()};this.transitioning={abort:function(){ee.viewed&&Cn(Pt,w)?mn(Pt,C,fn):Cn(Bt,w)&&mn(Bt,C,Mn)}},this.viewed&&Cn(Pt,w)?(Hn(Pt,C,fn,{once:!0}),this.zoomTo(0,!1,null,!0)):fn()}else dn();return this},view:function(){var ee=this,pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex;if(pe=Number(pe)||0,this.hiding||this.played||pe<0||pe>=this.length||this.viewed&&pe===this.index)return this;if(!this.isShown)return this.index=pe,this.show();this.viewing&&this.viewing.abort();var W=this.element,be=this.options,Bt=this.title,Pt=this.canvas,dn=this.items[pe],Mn=dn.querySelector("img"),fn=Zn(Mn,"originalUrl"),ln=Mn.getAttribute("alt"),Tn=document.createElement("img");if(Xt(be.inheritedAttributes,function(qr){var Or=Mn.getAttribute(qr);null!==Or&&Tn.setAttribute(qr,Or)}),Tn.src=fn,Tn.alt=ln,Dt(be.view)&&Hn(W,Ze,be.view,{once:!0}),!1===An(W,Ze,{originalImage:this.images[pe],index:pe,image:Tn})||!this.isShown||this.hiding||this.played)return this;var Qn=this.items[this.index];Qn&&(_t(Qn,M),Qn.removeAttribute("aria-selected")),Bn(dn,M),dn.setAttribute("aria-selected",!0),be.focus&&dn.focus(),this.image=Tn,this.viewed=!1,this.index=pe,this.imageData={},Bn(Tn,s),be.loading&&Bn(Pt,u),Pt.innerHTML="",Pt.appendChild(Tn),this.renderList(),Bt.innerHTML="";var yr,_r,ur=function(){var Or=ee.imageData,kr=Array.isArray(be.title)?be.title[1]:be.title;Bt.innerHTML=En(Dt(kr)?kr.call(ee,Tn,Or):"".concat(ln," (").concat(Or.naturalWidth," \xd7 ").concat(Or.naturalHeight,")"))};return Hn(W,Ve,ur,{once:!0}),this.viewing={abort:function(){mn(W,Ve,ur),Tn.complete?ee.imageRendering?ee.imageRendering.abort():ee.imageInitializing&&ee.imageInitializing.abort():(Tn.src="",mn(Tn,q,yr),ee.timeout&&clearTimeout(ee.timeout))}},Tn.complete?this.load():(Hn(Tn,q,yr=function(){mn(Tn,K,_r),ee.load()},{once:!0}),Hn(Tn,K,_r=function(){mn(Tn,q,yr),ee.timeout&&(clearTimeout(ee.timeout),ee.timeout=!1),_t(Tn,s),be.loading&&_t(ee.canvas,u)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){_t(Tn,s),ee.timeout=!1},1e3)),this},prev:function(){var ee=arguments.length>0&&void 0!==arguments[0]&&arguments[0],pe=this.index-1;return pe<0&&(pe=ee?this.length-1:0),this.view(pe),this},next:function(){var ee=arguments.length>0&&void 0!==arguments[0]&&arguments[0],pe=this.length-1,W=this.index+1;return W>pe&&(W=ee?0:pe),this.view(W),this},move:function(ee){var pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee,W=this.imageData;return this.moveTo(nt(ee)?ee:W.x+Number(ee),nt(pe)?pe:W.y+Number(pe)),this},moveTo:function(ee){var pe=this,W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee,be=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,Bt=this.element,Pt=this.options,dn=this.imageData;if(ee=Number(ee),W=Number(W),this.viewed&&!this.played&&Pt.movable){var Mn=dn.x,fn=dn.y,ln=!1;if($e(ee)?ln=!0:ee=Mn,$e(W)?ln=!0:W=fn,ln){if(Dt(Pt.move)&&Hn(Bt,tt,Pt.move,{once:!0}),!1===An(Bt,tt,{x:ee,y:W,oldX:Mn,oldY:fn,originalEvent:be}))return this;dn.x=ee,dn.y=W,dn.left=ee,dn.top=W,this.moving=!0,this.renderImage(function(){pe.moving=!1,Dt(Pt.moved)&&Hn(Bt,at,Pt.moved,{once:!0}),An(Bt,at,{x:ee,y:W,oldX:Mn,oldY:fn,originalEvent:be},{cancelable:!1})})}}return this},rotate:function(ee){return this.rotateTo((this.imageData.rotate||0)+Number(ee)),this},rotateTo:function(ee){var pe=this,W=this.element,be=this.options,Bt=this.imageData;if($e(ee=Number(ee))&&this.viewed&&!this.played&&be.rotatable){var Pt=Bt.rotate;if(Dt(be.rotate)&&Hn(W,"rotate",be.rotate,{once:!0}),!1===An(W,"rotate",{degree:ee,oldDegree:Pt}))return this;Bt.rotate=ee,this.rotating=!0,this.renderImage(function(){pe.rotating=!1,Dt(be.rotated)&&Hn(W,Wt,be.rotated,{once:!0}),An(W,Wt,{degree:ee,oldDegree:Pt},{cancelable:!1})})}return this},scaleX:function(ee){return this.scale(ee,this.imageData.scaleY),this},scaleY:function(ee){return this.scale(this.imageData.scaleX,ee),this},scale:function(ee){var pe=this,W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee,be=this.element,Bt=this.options,Pt=this.imageData;if(ee=Number(ee),W=Number(W),this.viewed&&!this.played&&Bt.scalable){var dn=Pt.scaleX,Mn=Pt.scaleY,fn=!1;if($e(ee)?fn=!0:ee=dn,$e(W)?fn=!0:W=Mn,fn){if(Dt(Bt.scale)&&Hn(be,Jt,Bt.scale,{once:!0}),!1===An(be,Jt,{scaleX:ee,scaleY:W,oldScaleX:dn,oldScaleY:Mn}))return this;Pt.scaleX=ee,Pt.scaleY=W,this.scaling=!0,this.renderImage(function(){pe.scaling=!1,Dt(Bt.scaled)&&Hn(be,Ye,Bt.scaled,{once:!0}),An(be,Ye,{scaleX:ee,scaleY:W,oldScaleX:dn,oldScaleY:Mn},{cancelable:!1})})}}return this},zoom:function(ee){var pe=arguments.length>1&&void 0!==arguments[1]&&arguments[1],W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,be=this.imageData;return ee=Number(ee),this.zoomTo(be.width*(ee=ee<0?1/(1-ee):1+ee)/be.naturalWidth,pe,W),this},zoomTo:function(ee){var pe=this,W=arguments.length>1&&void 0!==arguments[1]&&arguments[1],be=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,Bt=arguments.length>3&&void 0!==arguments[3]&&arguments[3],Pt=this.element,dn=this.options,Mn=this.pointers,fn=this.imageData,ln=fn.x,Tn=fn.y,Qn=fn.width,ur=fn.height,yr=fn.naturalWidth,_r=fn.naturalHeight;if($e(ee=Math.max(0,ee))&&this.viewed&&!this.played&&(Bt||dn.zoomable)){if(!Bt){var qr=Math.max(.01,dn.minZoomRatio),Or=Math.min(100,dn.maxZoomRatio);ee=Math.min(Math.max(ee,qr),Or)}if(be)switch(be.type){case"wheel":dn.zoomRatio>=.055&&ee>.95&&ee<1.05&&(ee=1);break;case"pointermove":case"touchmove":case"mousemove":ee>.99&&ee<1.01&&(ee=1)}var kr=yr*ee,br=_r*ee,ri=kr-Qn,ti=br-ur,Dr=fn.ratio;if(Dt(dn.zoom)&&Hn(Pt,st,dn.zoom,{once:!0}),!1===An(Pt,st,{ratio:ee,oldRatio:Dr,originalEvent:be}))return this;if(this.zooming=!0,be){var Jn=tr(this.viewer),Er=Mn&&Object.keys(Mn).length>0?_n(Mn):{pageX:be.pageX,pageY:be.pageY};fn.x-=ri*((Er.pageX-Jn.left-ln)/Qn),fn.y-=ti*((Er.pageY-Jn.top-Tn)/ur)}else fn.x-=ri/2,fn.y-=ti/2;fn.left=fn.x,fn.top=fn.y,fn.width=kr,fn.height=br,fn.oldRatio=Dr,fn.ratio=ee,this.renderImage(function(){pe.zooming=!1,Dt(dn.zoomed)&&Hn(Pt,ft,dn.zoomed,{once:!0}),An(Pt,ft,{ratio:ee,oldRatio:Dr,originalEvent:be},{cancelable:!1})}),W&&this.tooltip()}return this},play:function(){var ee=this,pe=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var W=this.element,be=this.options;if(Dt(be.play)&&Hn(W,Y,be.play,{once:!0}),!1===An(W,Y))return this;var Bt=this.player,Pt=this.loadImage.bind(this),dn=[],Mn=0,fn=0;if(this.played=!0,this.onLoadWhenPlay=Pt,pe&&this.requestFullscreen(pe),Bn(Bt,d),Xt(this.items,function(Tn,Qn){var ur=Tn.querySelector("img"),yr=document.createElement("img");yr.src=Zn(ur,"originalUrl"),yr.alt=ur.getAttribute("alt"),yr.referrerPolicy=ur.referrerPolicy,Mn+=1,Bn(yr,g),Xn(yr,w,be.transition),Cn(Tn,M)&&(Bn(yr,i),fn=Qn),dn.push(yr),Hn(yr,q,Pt,{once:!0}),Bt.appendChild(yr)}),$e(be.interval)&&be.interval>0){var ln=function Tn(){ee.playing=setTimeout(function(){_t(dn[fn],i),Bn(dn[fn=(fn+=1)<Mn?fn:0],i),Tn()},be.interval)};Mn>1&&ln()}return this},stop:function(){var ee=this;if(!this.played)return this;var pe=this.element,W=this.options;if(Dt(W.stop)&&Hn(pe,"stop",W.stop,{once:!0}),!1===An(pe,"stop"))return this;var be=this.player;return this.played=!1,clearTimeout(this.playing),Xt(be.getElementsByTagName("img"),function(Bt){mn(Bt,q,ee.onLoadWhenPlay)}),_t(be,d),be.innerHTML="",this.exitFullscreen(),this},full:function(){var ee=this,pe=this.options,W=this.viewer,be=this.image,Bt=this.list;return!this.isShown||this.played||this.fulled||!pe.inline||(this.fulled=!0,this.open(),Bn(this.button,r),pe.transition&&(_t(Bt,w),this.viewed&&_t(be,w)),Bn(W,p),W.setAttribute("role","dialog"),W.setAttribute("aria-labelledby",this.title.id),W.setAttribute("aria-modal",!0),W.removeAttribute("style"),Nn(W,{zIndex:pe.zIndex}),pe.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=Gt({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){ee.renderImage(function(){pe.transition&&setTimeout(function(){Bn(be,w),Bn(Bt,w)},0)})})),this},exit:function(){var ee=this,pe=this.options,W=this.viewer,be=this.image,Bt=this.list;return this.isShown&&!this.played&&this.fulled&&pe.inline?(this.fulled=!1,this.close(),_t(this.button,r),pe.transition&&(_t(Bt,w),this.viewed&&_t(be,w)),pe.focus&&this.clearEnforceFocus(),W.removeAttribute("role"),W.removeAttribute("aria-labelledby"),W.removeAttribute("aria-modal"),_t(W,p),Nn(W,{zIndex:pe.zIndexInline}),this.viewerData=Gt({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){ee.renderImage(function(){pe.transition&&setTimeout(function(){Bn(be,w),Bn(Bt,w)},0)})}),this):this},tooltip:function(){var ee=this,pe=this.options,W=this.tooltipBox;return this.viewed&&!this.played&&pe.tooltip?(W.textContent="".concat(Math.round(100*this.imageData.ratio),"%"),this.tooltipping?clearTimeout(this.tooltipping):pe.transition?(this.fading&&An(W,C),Bn(W,d),Bn(W,g),Bn(W,w),W.removeAttribute("aria-hidden"),W.initialOffsetWidth=W.offsetWidth,Bn(W,i)):(Bn(W,d),W.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){pe.transition?(Hn(W,C,function(){_t(W,d),_t(W,g),_t(W,w),W.setAttribute("aria-hidden",!0),ee.fading=!1},{once:!0}),_t(W,i),ee.fading=!0):(_t(W,d),W.setAttribute("aria-hidden",!0)),ee.tooltipping=!1},1e3),this):this},toggle:function(){var ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.zoomTo(1===this.imageData.ratio?this.imageData.oldRatio:1,!0,ee),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Gt({},this.initialImageData),this.renderImage()),this},update:function(){var ee=this,pe=this.element,W=this.options,be=this.isImg;if(be&&!pe.parentNode)return this.destroy();var Bt=[];if(Xt(be?[pe]:pe.querySelectorAll("img"),function(fn){Dt(W.filter)?W.filter.call(ee,fn)&&Bt.push(fn):ee.getImageURL(fn)&&Bt.push(fn)}),!Bt.length)return this;if(this.images=Bt,this.length=Bt.length,this.ready){var Pt=[];if(Xt(this.items,function(fn,ln){var Tn=fn.querySelector("img"),Qn=Bt[ln];Qn&&Tn?(Qn.src!==Tn.src||Qn.alt!==Tn.alt)&&Pt.push(ln):Pt.push(ln)}),Nn(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var dn=Pt.indexOf(this.index);if(dn>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-dn,this.length-1),0));else{var Mn=this.items[this.index];Bn(Mn,M),Mn.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var ee=this.element,pe=this.options;return ee[ge]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),pe.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):pe.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),pe.inline||mn(ee,b,this.onStart),ee[ge]=void 0,this):this}},er={getImageURL:function(ee){var pe=this.options.url;return ce(pe)?ee.getAttribute(pe):Dt(pe)?pe.call(this,ee):""},enforceFocus:function(){var ee=this;this.clearEnforceFocus(),Hn(document,R,this.onFocusin=function(pe){var W=ee.viewer,be=pe.target;if(be!==document&&be!==W&&!W.contains(be)){for(;be;){if(null!==be.getAttribute("tabindex")||"true"===be.getAttribute("aria-modal"))return;be=be.parentElement}W.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(mn(document,R,this.onFocusin),this.onFocusin=null)},open:function(){var ee=this.body;Bn(ee,l),ee.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px")},close:function(){var ee=this.body;_t(ee,l),ee.style.paddingRight=this.initialBodyPaddingRight},shown:function(){var ee=this.element,pe=this.options,W=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,pe.focus&&(W.focus(),this.enforceFocus()),Dt(pe.shown)&&Hn(ee,$,pe.shown,{once:!0}),!1!==An(ee,$)&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var ee=this.element,pe=this.options,W=this.viewer;pe.fucus&&this.clearEnforceFocus(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),Bn(W,c),W.removeAttribute("role"),W.removeAttribute("aria-labelledby"),W.removeAttribute("aria-modal"),W.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(Dt(pe.hidden)&&Hn(ee,"hidden",pe.hidden,{once:!0}),An(ee,"hidden",null,{cancelable:!1}))},requestFullscreen:function(ee){var pe=this.element.ownerDocument;if(this.fulled&&!(pe.fullscreenElement||pe.webkitFullscreenElement||pe.mozFullScreenElement||pe.msFullscreenElement)){var W=pe.documentElement;W.requestFullscreen?Ht(ee)?W.requestFullscreen(ee):W.requestFullscreen():W.webkitRequestFullscreen?W.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):W.mozRequestFullScreen?W.mozRequestFullScreen():W.msRequestFullscreen&&W.msRequestFullscreen()}},exitFullscreen:function(){var ee=this.element.ownerDocument;this.fulled&&(ee.fullscreenElement||ee.webkitFullscreenElement||ee.mozFullScreenElement||ee.msFullscreenElement)&&(ee.exitFullscreen?ee.exitFullscreen():ee.webkitExitFullscreen?ee.webkitExitFullscreen():ee.mozCancelFullScreen?ee.mozCancelFullScreen():ee.msExitFullscreen&&ee.msExitFullscreen())},change:function(ee){var pe=this.options,W=this.pointers,be=W[Object.keys(W)[0]];if(be){var Bt=be.endX-be.startX,Pt=be.endY-be.startY;switch(this.action){case re:this.move(Bt,Pt,ee);break;case v:this.zoom(function Zt(G){var ee=hn({},G),pe=[];return Xt(G,function(W,be){delete ee[be],Xt(ee,function(Bt){var Pt=Math.abs(W.startX-Bt.startX),dn=Math.abs(W.startY-Bt.startY),Mn=Math.abs(W.endX-Bt.endX),fn=Math.abs(W.endY-Bt.endY),ln=Math.sqrt(Pt*Pt+dn*dn),Tn=Math.sqrt(Mn*Mn+fn*fn);pe.push((Tn-ln)/ln)})}),pe.sort(function(W,be){return Math.abs(W)<Math.abs(be)}),pe[0]}(W),!1,ee);break;case"switch":this.action="switched";var dn=Math.abs(Bt);dn>1&&dn>Math.abs(Pt)&&(this.pointers={},Bt>1?this.prev(pe.loop):Bt<-1&&this.next(pe.loop))}Xt(W,function(Mn){Mn.startX=Mn.endX,Mn.startY=Mn.endY})}},isSwitchable:function(){var ee=this.imageData,pe=this.viewerData;return this.length>1&&ee.x>=0&&ee.y>=0&&ee.width<=pe.width&&ee.height<=pe.height}},Gn=ne.Viewer,Yn=(G=-1,function(){return G+=1}),et=function(){function G(ee){var pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(wt(this,G),!ee||1!==ee.nodeType)throw new Error("The first argument is required and must be an element.");this.element=ee,this.options=Gt({},Fe,Ht(pe)&&pe),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.id=Yn(),this.init()}return function bt(G,ee,pe){ee&&mt(G.prototype,ee),pe&&mt(G,pe),Object.defineProperty(G,"prototype",{writable:!1})}(G,[{key:"init",value:function(){var pe=this,W=this.element,be=this.options;if(!W[ge]){W[ge]=this,be.focus&&!be.keyboard&&(be.focus=!1);var Bt="img"===W.localName,Pt=[];if(Xt(Bt?[W]:W.querySelectorAll("img"),function(fn){Dt(be.filter)?be.filter.call(pe,fn)&&Pt.push(fn):pe.getImageURL(fn)&&Pt.push(fn)}),this.isImg=Bt,this.length=Pt.length,this.images=Pt,this.initBody(),nt(document.createElement(ge).style.transition)&&(be.transition=!1),be.inline){var dn=0,Mn=function(){var ln;(dn+=1)===pe.length&&(pe.initializing=!1,pe.delaying={abort:function(){clearTimeout(ln)}},ln=setTimeout(function(){pe.delaying=!1,pe.build()},0))};this.initializing={abort:function(){Xt(Pt,function(ln){ln.complete||(mn(ln,q,Mn),mn(ln,K,Mn))})}},Xt(Pt,function(fn){var ln,Tn;fn.complete?Mn():(Hn(fn,q,ln=function(){mn(fn,K,Tn),Mn()},{once:!0}),Hn(fn,K,Tn=function(){mn(fn,q,ln),Mn()},{once:!0}))})}else Hn(W,b,this.onStart=function(fn){var ln=fn.target;"img"===ln.localName&&(!Dt(be.filter)||be.filter.call(pe,ln))&&pe.view(pe.images.indexOf(ln))})}}},{key:"build",value:function(){if(!this.ready){var pe=this.element,W=this.options,be=pe.parentNode,Bt=document.createElement("div");Bt.innerHTML='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>';var Pt=Bt.querySelector(".".concat(ge,"-container")),dn=Pt.querySelector(".".concat(ge,"-title")),Mn=Pt.querySelector(".".concat(ge,"-toolbar")),fn=Pt.querySelector(".".concat(ge,"-navbar")),ln=Pt.querySelector(".".concat(ge,"-button")),Tn=Pt.querySelector(".".concat(ge,"-canvas"));if(this.parent=be,this.viewer=Pt,this.title=dn,this.toolbar=Mn,this.navbar=fn,this.button=ln,this.canvas=Tn,this.footer=Pt.querySelector(".".concat(ge,"-footer")),this.tooltipBox=Pt.querySelector(".".concat(ge,"-tooltip")),this.player=Pt.querySelector(".".concat(ge,"-player")),this.list=Pt.querySelector(".".concat(ge,"-list")),Pt.id="".concat(ge).concat(this.id),dn.id="".concat(ge,"Title").concat(this.id),Bn(dn,W.title?Ne(Array.isArray(W.title)?W.title[0]:W.title):c),Bn(fn,W.navbar?Ne(W.navbar):c),Xn(ln,c,!W.button),W.keyboard&&ln.setAttribute("tabindex",0),W.backdrop&&(Bn(Pt,"".concat(ge,"-backdrop")),!W.inline&&"static"!==W.backdrop&&vr(Tn,X,"hide")),ce(W.className)&&W.className&&W.className.split(ae).forEach(function(br){Bn(Pt,br)}),W.toolbar){var Qn=document.createElement("ul"),ur=Ht(W.toolbar),yr=Je.slice(0,3),_r=Je.slice(7,9),qr=Je.slice(9);ur||Bn(Mn,Ne(W.toolbar)),Xt(ur?W.toolbar:Je,function(br,ri){var ti=ur&&Ht(br),Dr=ur?Fn(ri):br,Jn=ti&&!nt(br.show)?br.show:br;if(Jn&&(W.zoomable||-1===yr.indexOf(Dr))&&(W.rotatable||-1===_r.indexOf(Dr))&&(W.scalable||-1===qr.indexOf(Dr))){var Er=ti&&!nt(br.size)?br.size:br,wi=ti&&!nt(br.click)?br.click:br,si=document.createElement("li");W.keyboard&&si.setAttribute("tabindex",0),si.setAttribute("role","button"),Bn(si,"".concat(ge,"-").concat(Dr)),Dt(wi)||vr(si,X,Dr),$e(Jn)&&Bn(si,Ne(Jn)),-1!==["small","large"].indexOf(Er)?Bn(si,"".concat(ge,"-").concat(Er)):"play"===Dr&&Bn(si,"".concat(ge,"-large")),Dt(wi)&&Hn(si,b,wi),Qn.appendChild(si)}}),Mn.appendChild(Qn)}else Bn(Mn,c);if(!W.rotatable){var Or=Mn.querySelectorAll('li[class*="rotate"]');Bn(Or,s),Xt(Or,function(br){Mn.appendChild(br)})}if(W.inline)Bn(ln,x),Nn(Pt,{zIndex:W.zIndexInline}),"static"===window.getComputedStyle(be).position&&Nn(be,{position:"relative"}),be.insertBefore(Pt,pe.nextSibling);else{Bn(ln,h),Bn(Pt,p),Bn(Pt,g),Bn(Pt,c),Nn(Pt,{zIndex:W.zIndex});var kr=W.container;ce(kr)&&(kr=pe.ownerDocument.querySelector(kr)),kr||(kr=this.body),kr.appendChild(Pt)}if(W.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,Dt(W.ready)&&Hn(pe,O,W.ready,{once:!0}),!1===An(pe,O))return void(this.ready=!1);this.ready&&W.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=Gn,G}},{key:"setDefaults",value:function(pe){Gt(Fe,Ht(pe)&&pe)}}]),G}();return Gt(et.prototype,Vn,wr,jn,Kn,er),et});