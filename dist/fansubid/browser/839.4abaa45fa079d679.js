"use strict";(self.webpackChunkfansubid=self.webpackChunkfansubid||[]).push([[839],{3839:(B,f,i)=>{i.r(f),i.d(f,{RegisterModule:()=>O});var m=i(9808),u=i(8406),r=i(3075),d=i(3290),p=i(210),b=i(5861),v=i(5934),c=i(6271),e=i(5e3),_=i(8696),Z=i(3e3),T=i(4137),x=i(7845),U=i(8379),h=i(7423),A=i(5245);function R(s,o){1&s&&(e.TgZ(0,"strong"),e._uU(1," Username Tidak Boleh Kosong "),e._UZ(2,"br"),e.qZA())}function I(s,o){1&s&&(e.TgZ(0,"strong"),e._uU(1," Username Minimal 8 Huruf "),e._UZ(2,"br"),e.qZA())}function C(s,o){1&s&&(e.TgZ(0,"strong"),e._uU(1," Username Hanya Boleh Huruf Kecil Dan Angka "),e._UZ(2,"br"),e.qZA())}function y(s,o){if(1&s&&(e.TgZ(0,"strong"),e._uU(1),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.Oqu(t.usernameUsed)}}function E(s,o){1&s&&(e.TgZ(0,"strong"),e._uU(1," Nama Tidak Boleh Kosong "),e._UZ(2,"br"),e.qZA())}function q(s,o){1&s&&(e.TgZ(0,"strong"),e._uU(1," Nama Tidak Valid "),e._UZ(2,"br"),e.qZA())}function N(s,o){1&s&&(e.TgZ(0,"strong"),e._uU(1," Email Tidak Boleh Kosong "),e._UZ(2,"br"),e.qZA())}function k(s,o){1&s&&(e.TgZ(0,"strong"),e._uU(1," Email Tidak Valid "),e._UZ(2,"br"),e.qZA())}function S(s,o){if(1&s&&(e.TgZ(0,"strong"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.emailUsed," ")}}function w(s,o){1&s&&(e.TgZ(0,"strong"),e._uU(1," Password Tidak Boleh Kosong "),e._UZ(2,"br"),e.qZA())}function Y(s,o){1&s&&(e.TgZ(0,"strong"),e._uU(1," Password Minimal 8 Huruf "),e._UZ(2,"br"),e.qZA())}function D(s,o){1&s&&(e.TgZ(0,"strong"),e._uU(1," Password Hanya Boleh Huruf Standar Papan Ketik "),e._UZ(2,"br"),e.qZA())}const J=function(s){return{"background-position":"center","background-size":"cover","background-image":s}};function M(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"form",8),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onClickedSubmit()}),e.TgZ(8,"div",9),e._UZ(9,"img",10),e.TgZ(10,"h1",11),e._uU(11,'Hai, Selamat Datang! >_<"'),e.qZA(),e.TgZ(12,"p",12),e._uU(13),e.qZA()(),e.TgZ(14,"div",13)(15,"label",14),e._uU(16,"Nama Pengguna"),e.qZA(),e.TgZ(17,"div",15),e._UZ(18,"input",16),e.TgZ(19,"span",17),e.YNc(20,R,3,0,"strong",18),e.YNc(21,I,3,0,"strong",18),e.YNc(22,C,3,0,"strong",18),e.qZA(),e.TgZ(23,"small",19),e.YNc(24,y,2,1,"strong",18),e.qZA()()(),e.TgZ(25,"div",13)(26,"label",20),e._uU(27,"Nama Lengkap"),e.qZA(),e.TgZ(28,"div",15),e._UZ(29,"input",21),e.TgZ(30,"span",17),e.YNc(31,E,3,0,"strong",18),e.YNc(32,q,3,0,"strong",18),e.qZA()()(),e.TgZ(33,"div",13)(34,"label",22),e._uU(35,"Alamat Surel"),e.qZA(),e.TgZ(36,"div",15),e._UZ(37,"input",23),e.TgZ(38,"span",17),e.YNc(39,N,3,0,"strong",18),e.YNc(40,k,3,0,"strong",18),e.qZA(),e.TgZ(41,"small",19),e.YNc(42,S,3,1,"strong",18),e.qZA()()(),e.TgZ(43,"div",13)(44,"label",24),e._uU(45,"Kata Sandi"),e.qZA(),e.TgZ(46,"div",15),e._UZ(47,"input",25),e.TgZ(48,"span",17),e.YNc(49,w,3,0,"strong",18),e.YNc(50,Y,3,0,"strong",18),e.YNc(51,D,3,0,"strong",18),e.qZA()()(),e.TgZ(52,"div",13)(53,"div",26)(54,"div",27)(55,"input",28),e.NdJ("change",function(){return e.CHM(t),e.oxw().openAturanTatib()}),e.qZA(),e.TgZ(56,"label",29),e._uU(57," Saya Telah Membaca & Setuju Dengan "),e.TgZ(58,"u",30),e._uU(59," Aturan & Tata Tertib "),e.qZA(),e._uU(60," Yang Ada "),e.qZA()()()(),e.TgZ(61,"div",13)(62,"div",26)(63,"re-captcha",31,32),e.NdJ("resolved",function(a){e.CHM(t);const l=e.MAs(64);return e.oxw().captcha(a,l)}),e.qZA()()(),e.TgZ(65,"div",33)(66,"div",34)(67,"div",35)(68,"div",36)(69,"button",37),e._uU(70," Daftar "),e.TgZ(71,"mat-icon",38),e._uU(72,"emoji_people"),e.qZA()()(),e.TgZ(73,"div",36)(74,"a",39),e._uU(75," Masuk~ "),e.qZA()()()()()()()()(),e._UZ(76,"div",40),e.qZA()()()()}if(2&s){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.fg),e.xp6(2),e.MGl("src","",t.ENV.baseUrl,"/assets/img/favicon.png",e.LSH),e.xp6(4),e.Oqu(t.registerInfo),e.xp6(5),e.Gre("text-bifeldy form-control ",!t.fg.get("username").valid&&t.fg.get("username").touched?"is-invalid":"",""),e.xp6(2),e.Q6J("ngIf",t.fg.get("username").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.fg.get("username").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",t.fg.get("username").hasError("pattern")),e.xp6(2),e.Q6J("ngIf",t.usernameUsed),e.xp6(5),e.Gre("text-bifeldy form-control ",!t.fg.get("name").valid&&t.fg.get("name").touched?"is-invalid":"",""),e.xp6(2),e.Q6J("ngIf",t.fg.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.fg.get("name").hasError("pattern")),e.xp6(5),e.Gre("text-bifeldy form-control ",!t.fg.get("email").valid&&t.fg.get("email").touched?"is-invalid":"",""),e.xp6(2),e.Q6J("ngIf",t.fg.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.fg.get("email").hasError("email")||t.fg.get("email").hasError("pattern")),e.xp6(2),e.Q6J("ngIf",t.emailUsed),e.xp6(5),e.Gre("text-bifeldy form-control ",!t.fg.get("password").valid&&t.fg.get("password").touched?"is-invalid":"",""),e.xp6(2),e.Q6J("ngIf",t.fg.get("password").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.fg.get("password").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",t.fg.get("password").hasError("pattern")),e.xp6(18),e.Q6J("disabled",t.submitted||t.fg.invalid||!1===t.fg.get("agree").value),e.xp6(5),e.Q6J("disabled",t.submitted),e.xp6(2),e.Q6J("ngStyle",e.VKq(30,J,"url("+t.registerImg+")"))}}const Q=[{path:"",pathMatch:"full",component:(()=>{class s{constructor(t,n,a,l,g,H,K,G){this.fb=t,this.gs=n,this.router=a,this.bs=l,this.route=g,this.as=H,this.ds=K,this.cs=G,this.usernameUsed=null,this.emailUsed=null,this.captchaRef=null,this.submitted=!1,this.returnUrl="/",this.registerImg="/assets/img/login-register.png",this.registerInfo="Ayo bergabung dan masuk dalam komunitas~",this.subsUser=null,this.subsRegister=null,this.subsVerify=null,this.subsDialog=null,this.subsResendActivation=null,this.gs.bannerImg=null,this.gs.sizeContain=!1,this.gs.bgRepeat=!1}ngOnDestroy(){var t,n,a,l,g;null===(t=this.subsRegister)||void 0===t||t.unsubscribe(),null===(n=this.subsVerify)||void 0===n||n.unsubscribe(),null===(a=this.subsUser)||void 0===a||a.unsubscribe(),null===(l=this.subsDialog)||void 0===l||l.unsubscribe(),null===(g=this.subsResendActivation)||void 0===g||g.unsubscribe()}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/home",this.gs.isBrowser&&(this.subsUser=this.as.currentUser.subscribe({next:t=>{t?this.router.navigateByUrl(this.returnUrl):this.initForm()}}))}get ENV(){return v.N}get registerFormVal(){return this.fg.controls}initForm(){this.fg=this.fb.group({username:[null,[r.kI.required,r.kI.minLength(8),r.kI.pattern("^[a-z0-9]+$")]],name:[null,[r.kI.required,r.kI.pattern("^[a-zA-Z. ]+$")]],email:[null,[r.kI.required,r.kI.email,r.kI.pattern(c.t.regexEmail)]],password:[null,[r.kI.required,r.kI.minLength(8),r.kI.pattern(c.t.regexEnglishKeyboardKeys)]],agree:[null,[r.kI.required]],"g-recaptcha-response":[null,[r.kI.required,r.kI.pattern(c.t.regexEnglishKeyboardKeys)]]})}onClickedSubmit(){if(this.bs.busy(),this.submitted=!0,this.registerInfo="Harap Menunggu ...",this.usernameUsed=null,this.emailUsed=null,this.gs.log("[REGISTER_FORM_REQUEST]",this.fg.value),this.fg.invalid)return this.registerInfo="Periksa Dan Isi Kembali Data Anda!",this.submitted=!1,void this.bs.idle();this.fg.valid&&(this.submitted=!0,this.subsRegister=this.as.register({username:this.fg.value.username,name:this.fg.value.name,email:this.fg.value.email,password:this.cs.hashPassword(this.fg.value.password),agree:this.fg.value.agree,"g-recaptcha-response":this.fg.value["g-recaptcha-response"]}).subscribe({next:t=>{this.gs.log("[REGISTER_FORM_SUCCESS]",t),this.bs.idle(),this.submitted=!1,this.captchaRef.reset(),this.registerInfo=t.info,this.activationDialog(t)},error:t=>{this.gs.log("[REGISTER_FORM_ERROR]",t,"error"),this.bs.idle(),this.submitted=!1,this.captchaRef.reset(),this.registerInfo=t.result.message||t.info,this.usernameUsed=t.result.username,this.emailUsed=t.result.email}}))}activationDialog(t){this.subsDialog=this.ds.openInfoDialog({data:{title:t.result.title,htmlMessage:t.result.message,confirmText:"Kirim Ulang Email"},disableClose:!0}).afterClosed().subscribe({next:n=>{this.gs.log("[INFO_DIALOG_CLOSED]",n),!0===n&&(this.bs.busy(),this.subsResendActivation=this.as.resendActivation(t.result.id).subscribe({next:a=>{this.gs.log("[RESEND_ACTIVATION_SUCCESS]",a),this.bs.idle(),this.activationDialog(a)},error:a=>{this.gs.log("[RESEND_ACTIVATION_ERROR]",a,"error"),this.bs.idle()}})),this.subsDialog.unsubscribe()}})}captcha(t,n){this.gs.log(`[GOOGLE_CAPTCHA] ${t}`),this.captchaRef=n,t&&this.fg.controls["g-recaptcha-response"].patchValue(t)}openAturanTatib(){var t=this;return(0,b.Z)(function*(){t.fg.value.agree&&(t.subsDialog=(yield t.ds.openAturanTatibDialog(!0)).afterClosed().subscribe({next:n=>{t.gs.log("[ATURAN_TATA_TERTIB_DIALOG_CLOSED]",n),t.fg.controls.agree.patchValue(n),t.subsDialog.unsubscribe()}}))})()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(r.qu),e.Y36(_.U),e.Y36(u.F0),e.Y36(Z.z),e.Y36(u.gz),e.Y36(T.e),e.Y36(x.x),e.Y36(U.$))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-register"]],decls:1,vars:1,consts:[["class","container-fluid align-items-center w-100 h-100","style","background-size: cover; background-repeat: repeat; background-position: center; transform: rotateY(180deg);",4,"ngIf"],[1,"container-fluid","align-items-center","w-100","h-100",2,"background-size","cover","background-repeat","repeat","background-position","center","transform","rotateY(180deg)"],[1,"row","align-items-center","h-100","m-0",2,"transform","rotateY(180deg)"],[1,"col-12","col-md-10","m-auto","py-3"],[1,"row","rgb-border","rounded","bg-bifeldy"],[1,"col-lg-7","col-md-9","me-auto","p-0"],[1,"card","bg-transparent","border-0"],[1,"card-body"],[1,"m-2",3,"formGroup","ngSubmit"],[1,"text-center","mb-4"],[1,"mb-4",2,"transform","rotateY(180deg)",3,"src"],[1,"h3","mb-3","font-weight-normal"],[1,"text-warning"],[1,"form-group","row","py-2"],["for","username",1,"col-md-4","col-form-label","text-md-end"],[1,"col-md-8"],["type","text","id","username","placeholder","Username Minimal 8 Huruf","required","","autofocus","","formControlName","username","autocomplete","username"],["role","alert",1,"invalid-feedback"],[4,"ngIf"],[2,"font-size","80%","color","#dc3545"],["for","name",1,"col-md-4","col-form-label","text-md-end"],["type","text","id","name","placeholder","Nama Lengkap","required","","autofocus","","formControlName","name","autocomplete","name"],["for","email",1,"col-md-4","col-form-label","text-md-end"],["type","email","id","email","placeholder","Alamat E-Mail","required","","autofocus","","formControlName","email","autocomplete","email"],["for","password",1,"col-md-4","col-form-label","text-md-end"],["type","password","id","password","placeholder","Password Minimal 8 Huruf","required","","formControlName","password","autocomplete","current-password, new-password"],[1,"col","offset-md-4"],[1,"form-check"],["id","agree","type","checkbox","formControlName","agree",1,"form-check-input",3,"change"],["for","agree",1,"form-check-label"],[1,"text-warning",2,"cursor","pointer"],["formControlName","g-recaptcha-response","siteKey","6Ld4Bt4UAAAAAKJQ_jfqtWdsq9BuARLHag2DBvqK",3,"resolved"],["captchaRef",""],[1,"form-group","row","mb-0","py-2"],[1,"col-md-8","offset-md-4"],[1,"row"],[1,"col-lg-6","col-12"],["mat-flat-button","","color","primary","type","submit",1,"w-100",3,"disabled"],[1,"ms-1"],["mat-stroked-button","","color","accent","type","button","routerLink","/login",1,"w-100",3,"disabled"],[1,"col-lg-5","col-md-3","ms-auto","p-0",2,"transform","rotateY(180deg)",3,"ngStyle"]],template:function(t,n){1&t&&e.YNc(0,M,77,32,"div",0),2&t&&e.Q6J("ngIf",n.fg)},directives:[m.O5,r._Y,r.JL,r.sg,r.Fj,r.Q7,r.JJ,r.u,r.Wl,d.wT,d.Vd,h.lW,A.Hw,h.zs,u.yS,m.PC],styles:[""]}),s})()}];let O=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[m.ez,u.Bz.forChild(Q),p.m,r.u5,r.UX,d.a,d.lQ]]}),s})()}}]);