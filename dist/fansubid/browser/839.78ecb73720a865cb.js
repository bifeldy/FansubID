"use strict";(self.webpackChunkfansubid=self.webpackChunkfansubid||[]).push([[839],{3839:(V,f,a)=>{a.r(f),a.d(f,{RegisterModule:()=>O});var m=a(6895),g=a(1390),s=a(4006),l=a(4700),_=a(210),p=a(5861),b=a(5934),u=a(6271),e=a(4650),v=a(257),T=a(3e3),Z=a(4137),x=a(7845),A=a(8379),h=a(4859),U=a(7392);function I(r,n){1&r&&(e.TgZ(0,"strong"),e._uU(1," Username Tidak Boleh Kosong "),e._UZ(2,"br"),e.qZA())}function C(r,n){1&r&&(e.TgZ(0,"strong"),e._uU(1," Username Minimal 6 Huruf "),e._UZ(2,"br"),e.qZA())}function R(r,n){1&r&&(e.TgZ(0,"strong"),e._uU(1," Username Hanya Boleh Huruf Kecil Dan Angka "),e._UZ(2,"br"),e.qZA())}function y(r,n){if(1&r&&(e.TgZ(0,"strong"),e._uU(1),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Oqu(t.usernameUsed)}}function E(r,n){1&r&&(e.TgZ(0,"strong"),e._uU(1," Nama Tidak Boleh Kosong "),e._UZ(2,"br"),e.qZA())}function k(r,n){1&r&&(e.TgZ(0,"strong"),e._uU(1," Nama Tidak Valid "),e._UZ(2,"br"),e.qZA())}function N(r,n){1&r&&(e.TgZ(0,"strong"),e._uU(1," Email Tidak Boleh Kosong "),e._UZ(2,"br"),e.qZA())}function S(r,n){1&r&&(e.TgZ(0,"strong"),e._uU(1," Email Tidak Valid "),e._UZ(2,"br"),e.qZA())}function q(r,n){if(1&r&&(e.TgZ(0,"strong"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.emailUsed," ")}}function Y(r,n){1&r&&(e.TgZ(0,"strong"),e._uU(1," Password Tidak Boleh Kosong "),e._UZ(2,"br"),e.qZA())}function D(r,n){1&r&&(e.TgZ(0,"strong"),e._uU(1," Password Minimal 6 Huruf "),e._UZ(2,"br"),e.qZA())}function M(r,n){1&r&&(e.TgZ(0,"strong"),e._uU(1," Password Hanya Boleh Huruf Standar Papan Ketik "),e._UZ(2,"br"),e.qZA())}function w(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"form",10),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onClickedSubmit())}),e.TgZ(1,"div",11),e._UZ(2,"img",12),e.TgZ(3,"h1",13),e._uU(4,'Hai, Selamat Datang! >_<"'),e.qZA(),e.TgZ(5,"p",14),e._uU(6),e.qZA()(),e.TgZ(7,"div",15)(8,"label",16),e._uU(9,"Nama Pengguna"),e.qZA(),e.TgZ(10,"div",17)(11,"div",18),e._UZ(12,"input",19),e.TgZ(13,"div",20)(14,"span",21),e._uU(15),e.qZA()(),e.TgZ(16,"span",22),e.YNc(17,I,3,0,"strong",23),e.YNc(18,C,3,0,"strong",23),e.YNc(19,R,3,0,"strong",23),e.qZA(),e.TgZ(20,"small",24),e.YNc(21,y,2,1,"strong",23),e.qZA()()()(),e.TgZ(22,"div",15)(23,"label",25),e._uU(24,"Nama Lengkap"),e.qZA(),e.TgZ(25,"div",17),e._UZ(26,"input",26),e.TgZ(27,"span",22),e.YNc(28,E,3,0,"strong",23),e.YNc(29,k,3,0,"strong",23),e.qZA()()(),e.TgZ(30,"div",15)(31,"label",27),e._uU(32,"Alamat Surel"),e.qZA(),e.TgZ(33,"div",17),e._UZ(34,"input",28),e.TgZ(35,"span",22),e.YNc(36,N,3,0,"strong",23),e.YNc(37,S,3,0,"strong",23),e.qZA(),e.TgZ(38,"small",24),e.YNc(39,q,3,1,"strong",23),e.qZA()()(),e.TgZ(40,"div",15)(41,"label",29),e._uU(42,"Kata Sandi"),e.qZA(),e.TgZ(43,"div",17),e._UZ(44,"input",30),e.TgZ(45,"span",22),e.YNc(46,Y,3,0,"strong",23),e.YNc(47,D,3,0,"strong",23),e.YNc(48,M,3,0,"strong",23),e.qZA()()(),e.TgZ(49,"div",15)(50,"div",31)(51,"div",32)(52,"input",33),e.NdJ("change",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.openAturanTatib())}),e.qZA(),e.TgZ(53,"label",34),e._uU(54," Saya Telah Membaca & Setuju Dengan "),e.TgZ(55,"u",35),e._uU(56," Aturan & Tata Tertib "),e.qZA(),e._uU(57," Yang Ada "),e.qZA()()()(),e.TgZ(58,"div",15)(59,"div",31)(60,"div",32)(61,"input",36),e.NdJ("change",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.openPrivacyPolicy())}),e.qZA(),e.TgZ(62,"label",37),e._uU(63," Saya Telah Membaca & Setuju Dengan "),e.TgZ(64,"u",35),e._uU(65," Kebijakan Privasi "),e.qZA(),e._uU(66," Yang Ada "),e.qZA()()()(),e.TgZ(67,"div",15)(68,"div",31)(69,"re-captcha",38,39),e.NdJ("resolved",function(i){e.CHM(t);const d=e.MAs(70),c=e.oxw(2);return e.KtG(c.captcha(i,d))}),e.qZA()()(),e.TgZ(71,"div",40)(72,"div",41)(73,"div",42)(74,"div",43)(75,"button",44),e._uU(76," Daftar "),e._UZ(77,"mat-icon",45),e.qZA()(),e.TgZ(78,"div",43)(79,"a",46),e._uU(80," Masuk ~ "),e.qZA()()()()()()}if(2&r){const t=e.oxw(2);e.Q6J("formGroup",t.fg),e.xp6(2),e.MGl("src","",t.ENV.baseUrl,"/assets/img/logo/register.png",e.LSH),e.xp6(4),e.Oqu(t.registerInfo),e.xp6(6),e.Gre("text-bifeldy form-control ",!t.fg.get("username").valid&&t.fg.get("username").touched?"is-invalid":"",""),e.xp6(3),e.hij(" @ ",t.ENV.domain," "),e.xp6(2),e.Q6J("ngIf",t.fg.get("username").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.fg.get("username").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",t.fg.get("username").hasError("pattern")),e.xp6(2),e.Q6J("ngIf",t.usernameUsed),e.xp6(5),e.Gre("text-bifeldy form-control ",!t.fg.get("name").valid&&t.fg.get("name").touched?"is-invalid":"",""),e.xp6(2),e.Q6J("ngIf",t.fg.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.fg.get("name").hasError("pattern")),e.xp6(5),e.Gre("text-bifeldy form-control ",!t.fg.get("email").valid&&t.fg.get("email").touched?"is-invalid":"",""),e.xp6(2),e.Q6J("ngIf",t.fg.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.fg.get("email").hasError("email")||t.fg.get("email").hasError("pattern")),e.xp6(2),e.Q6J("ngIf",t.emailUsed),e.xp6(5),e.Gre("text-bifeldy form-control ",!t.fg.get("password").valid&&t.fg.get("password").touched?"is-invalid":"",""),e.xp6(2),e.Q6J("ngIf",t.fg.get("password").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.fg.get("password").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",t.fg.get("password").hasError("pattern")),e.xp6(21),e.Q6J("siteKey",t.G_CAPTCHA_SITE_KEY),e.xp6(6),e.Q6J("disabled",t.submitted||t.fg.invalid||!1===t.fg.get("agree_tatib").value||!1===t.fg.get("agree_pp").value),e.xp6(4),e.Q6J("disabled",t.submitted)}}const K=function(r){return{"background-position":"center","background-size":"cover","background-image":r}};function J(r,n){if(1&r&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7),e.YNc(7,w,81,31,"form",8),e.qZA()()(),e._UZ(8,"div",9),e.qZA()()()()),2&r){const t=e.oxw();e.xp6(7),e.Q6J("ngIf",t.fg),e.xp6(1),e.Q6J("ngStyle",e.VKq(2,K,"url("+t.registerImg+")"))}}const G=[{path:"",pathMatch:"full",component:(()=>{class r{constructor(t,o,i,d,c,P,Q,H){this.fb=t,this.gs=o,this.router=i,this.bs=d,this.activatedRoute=c,this.as=P,this.ds=Q,this.cs=H,this.usernameUsed=null,this.emailUsed=null,this.captchaRef=null,this.submitted=!1,this.returnUrl="/",this.registerImg="/assets/img/login-register.png",this.registerInfo="Ayo bergabung dan masuk dalam komunitas~",this.subsUser=null,this.subsRegister=null,this.subsVerify=null,this.subsDialog=null,this.subsResendActivation=null,this.gs.bannerImg=null,this.gs.sizeContain=!1,this.gs.bgRepeat=!1}ngOnDestroy(){this.subsRegister?.unsubscribe(),this.subsVerify?.unsubscribe(),this.subsUser?.unsubscribe(),this.subsDialog?.unsubscribe(),this.subsResendActivation?.unsubscribe()}ngOnInit(){this.returnUrl=this.activatedRoute.snapshot.queryParamMap.get("returnUrl")||"/",this.gs.isBrowser&&(this.subsUser=this.as.currentUser.subscribe({next:t=>{t?this.router.navigateByUrl(this.returnUrl):this.initForm()}}))}get G_CAPTCHA_SITE_KEY(){return u.t.gCaptchaSiteKey}get ENV(){return b.N}get registerFormVal(){return this.fg.controls}initForm(){this.fg=this.fb.group({username:[null,[s.kI.required,s.kI.minLength(6),s.kI.pattern(/^[a-z0-9]+$/)]],name:[null,[s.kI.required,s.kI.pattern(/^[a-zA-Z. ]+$/)]],email:[null,[s.kI.required,s.kI.email,s.kI.pattern(u.t.regexEmail)]],password:[null,[s.kI.required,s.kI.minLength(6),s.kI.pattern(u.t.regexEnglishKeyboardKeys)]],agree_tatib:[null,[s.kI.required]],agree_pp:[null,[s.kI.required]],"g-recaptcha-response":[null,[s.kI.required,s.kI.pattern(u.t.regexEnglishKeyboardKeys)]]})}onClickedSubmit(){if(this.bs.busy(),this.submitted=!0,this.registerInfo="Harap Menunggu ...",this.usernameUsed=null,this.emailUsed=null,this.gs.log("[REGISTER_FORM_REQUEST]",this.fg.value),this.fg.invalid)return this.registerInfo="Periksa Dan Isi Kembali Data!",this.submitted=!1,void this.bs.idle();this.fg.valid&&(this.submitted=!0,this.subsRegister=this.as.register({username:this.fg.value.username,name:this.fg.value.name,email:this.fg.value.email,password:this.cs.hashPassword(this.fg.value.password),agree_tatib:this.fg.value.agree_tatib,agree_pp:this.fg.value.agree_pp,"g-recaptcha-response":this.fg.value["g-recaptcha-response"]}).subscribe({next:t=>{this.gs.log("[REGISTER_FORM_SUCCESS]",t),this.bs.idle(),this.submitted=!1,this.captchaRef.reset(),this.registerInfo=t.info,this.activationDialog(t)},error:t=>{this.gs.log("[REGISTER_FORM_ERROR]",t,"error"),this.bs.idle(),this.submitted=!1,this.captchaRef.reset(),this.registerInfo=t.result?.message||t.info,this.usernameUsed=t.result.username,this.emailUsed=t.result.email}}))}activationDialog(t){this.subsDialog=this.ds.openInfoDialog({data:{title:t.result.title,htmlMessage:t.result.message,confirmText:"Kirim Ulang Email",infoText:t.result.id}}).afterClosed().subscribe({next:o=>{this.gs.log("[INFO_DIALOG_CLOSED]",o),!0===o&&(this.bs.busy(),this.subsResendActivation=this.as.resendActivation(t.result.id).subscribe({next:i=>{this.gs.log("[RESEND_ACTIVATION_SUCCESS]",i),this.bs.idle(),this.registerInfo=t.info,this.activationDialog(i)},error:i=>{this.gs.log("[RESEND_ACTIVATION_ERROR]",i,"error"),this.bs.idle(),this.registerInfo=i.result?.message||i.info}})),this.subsDialog.unsubscribe()}})}captcha(t,o){this.gs.log(`[GOOGLE_CAPTCHA] ${t}`),t?(this.captchaRef=o,this.fg.controls["g-recaptcha-response"].patchValue(t)):this.fg.value["g-recaptcha-response"]&&this.fg.controls["g-recaptcha-response"].patchValue(null)}openAturanTatib(){var t=this;return(0,p.Z)(function*(){if(t.fg.value.agree_tatib){const o={id:"ATURAN-TATA-TERTIB",data:{title:"Aturan Dan Tata Tertib Komunitas",htmlMessage:"Gagal Memuat Aturan Dan Tata Tertib Komunitas",confirmText:"Ok, Saya Mengerti!",cancelText:null},disableClose:!1,maxWidth:t.ds.maxWidth};t.subsDialog=(yield t.ds.fetchInformationRegisterMode(o,!0)).afterClosed().subscribe({next:i=>{t.gs.log("[ATURAN_TATA_TERTIB_DIALOG_CLOSED]",i),t.fg.controls.agree_tatib.patchValue(i),t.subsDialog.unsubscribe()}})}})()}openPrivacyPolicy(){var t=this;return(0,p.Z)(function*(){if(t.fg.value.agree_pp){const o={id:"PRIVACY-POLICY",data:{title:"Kebijakan Privasi",htmlMessage:"Gagal Memuat Aturan Dan Tata Tertib Komunitas",confirmText:"Ok, Saya Mengerti!",cancelText:null},disableClose:!1,maxWidth:t.ds.maxWidth};t.subsDialog=(yield t.ds.fetchInformationRegisterMode(o,!0)).afterClosed().subscribe({next:i=>{t.gs.log("[PRIVACY_POLICY_DIALOG_CLOSED]",i),t.fg.controls.agree_pp.patchValue(i),t.subsDialog.unsubscribe()}})}})()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(s.QS),e.Y36(v.U),e.Y36(g.F0),e.Y36(T.z),e.Y36(g.gz),e.Y36(Z.e),e.Y36(x.x),e.Y36(A.$))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],decls:1,vars:1,consts:[["class","container-fluid align-items-center w-100 h-100","style","background-size: cover; background-repeat: repeat; background-position: center; transform: rotateY(180deg);",4,"ngIf"],[1,"container-fluid","align-items-center","w-100","h-100",2,"background-size","cover","background-repeat","repeat","background-position","center","transform","rotateY(180deg)"],[1,"row","align-items-center","h-100","m-0",2,"transform","rotateY(180deg)"],[1,"col-12","col-md-10","m-auto","py-3"],[1,"row","rgb-border","rounded","bg-bifeldy"],[1,"col-lg-7","col-md-9","me-auto","p-0"],[1,"card","bg-transparent","border-0"],[1,"card-body"],["class","m-2",3,"formGroup","ngSubmit",4,"ngIf"],[1,"col-lg-5","col-md-3","ms-auto","p-0",2,"transform","rotateY(180deg)",3,"ngStyle"],[1,"m-2",3,"formGroup","ngSubmit"],[1,"text-center","mb-4"],[1,"mb-4",2,"max-width","128px",3,"src"],[1,"h3","mb-3","font-weight-normal"],[1,"text-warning"],[1,"form-group","row","py-2"],["for","username",1,"col-md-4","col-form-label","text-md-end"],[1,"col-md-8"],[1,"input-group"],["type","text","id","username","placeholder","Username Minimal 6 Huruf","required","","formControlName","username","autocomplete","username",2,"border-top-right-radius","0","border-bottom-right-radius","0"],[1,"input-group-append"],[1,"input-group-text",2,"border-top-left-radius","0","border-bottom-left-radius","0"],["role","alert",1,"invalid-feedback"],[4,"ngIf"],[2,"font-size","80%","color","#dc3545"],["for","name",1,"col-md-4","col-form-label","text-md-end"],["type","text","id","name","placeholder","Nama Lengkap","required","","formControlName","name","autocomplete","name"],["for","email",1,"col-md-4","col-form-label","text-md-end"],["type","email","id","email","placeholder","Alamat E-Mail","required","","formControlName","email","autocomplete","email"],["for","password",1,"col-md-4","col-form-label","text-md-end"],["type","password","id","password","placeholder","Password Minimal 6 Huruf","required","","formControlName","password","autocomplete","current-password, new-password"],[1,"col","offset-md-4"],[1,"form-check"],["id","agree_tatib","type","checkbox","formControlName","agree_tatib",1,"form-check-input",3,"change"],["for","agree_tatib",1,"form-check-label",2,"padding-top","0.125rem !important"],[1,"text-warning",2,"cursor","pointer"],["id","agree_pp","type","checkbox","formControlName","agree_pp",1,"form-check-input",3,"change"],["for","agree_pp",1,"form-check-label",2,"padding-top","0.125rem !important"],["formControlName","g-recaptcha-response",3,"siteKey","resolved"],["captchaRef",""],[1,"form-group","row","mb-0","py-2"],[1,"col-md-8","offset-md-4"],[1,"row","gy-3"],[1,"col-lg-6","col-12"],["type","submit","mat-flat-button","","color","primary",1,"w-100",3,"disabled"],["fontIcon","emoji_people",1,"ms-1"],["mat-stroked-button","","color","accent","routerLink","/login",1,"w-100",3,"disabled"]],template:function(t,o){1&t&&e.YNc(0,J,9,4,"div",0),2&t&&e.Q6J("ngIf",o.fg)},dependencies:[m.O5,m.PC,g.yS,h.lW,h.zs,U.Hw,s._Y,s.Fj,s.Wl,s.JJ,s.JL,s.Q7,s.sg,s.u,l.wT,l.Vd]}),r})()}];let O=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[m.ez,g.Bz.forChild(G),_.m,s.u5,s.UX,l.a,l.lQ]}),r})()}}]);